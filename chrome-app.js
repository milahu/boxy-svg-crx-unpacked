var runtime = (function (exports) {
  "use strict";

  var Op = Object.prototype;
  var hasOwn = Op.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var $Symbol = typeof Symbol === "function" ? Symbol : {};
  var iteratorSymbol = $Symbol.iterator || "@@iterator";
  var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";
  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";

  function define(obj, key, value) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
    return obj[key];
  }
  try {
    // IE 8 has a broken Object.defineProperty that only works on DOM objects.
    define({}, "");
  } catch (err) {
    define = function(obj, key, value) {
      return obj[key] = value;
    };
  }

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.
    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
    var generator = Object.create(protoGenerator.prototype);
    var context = new Context(tryLocsList || []);

    // The ._invoke method unifies the implementations of the .next,
    // .throw, and .return methods.
    generator._invoke = makeInvokeMethod(innerFn, self, context);

    return generator;
  }
  exports.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  // This is a polyfill for %IteratorPrototype% for environments that
  // don't natively support it.
  var IteratorPrototype = {};
  IteratorPrototype[iteratorSymbol] = function () {
    return this;
  };

  var getProto = Object.getPrototypeOf;
  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));
  if (NativeIteratorPrototype &&
      NativeIteratorPrototype !== Op &&
      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
    // This environment has a native %IteratorPrototype%; use it instead
    // of the polyfill.
    IteratorPrototype = NativeIteratorPrototype;
  }

  var Gp = GeneratorFunctionPrototype.prototype =
    Generator.prototype = Object.create(IteratorPrototype);
  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
  GeneratorFunctionPrototype.constructor = GeneratorFunction;
  GeneratorFunction.displayName = define(
    GeneratorFunctionPrototype,
    toStringTagSymbol,
    "GeneratorFunction"
  );

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function(method) {
      define(prototype, method, function(arg) {
        return this._invoke(method, arg);
      });
    });
  }

  exports.isGeneratorFunction = function(genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor
      ? ctor === GeneratorFunction ||
        // For the native GeneratorFunction constructor, the best we can
        // do is to check its .name property.
        (ctor.displayName || ctor.name) === "GeneratorFunction"
      : false;
  };

  exports.mark = function(genFun) {
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
    } else {
      genFun.__proto__ = GeneratorFunctionPrototype;
      define(genFun, toStringTagSymbol, "GeneratorFunction");
    }
    genFun.prototype = Object.create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `hasOwn.call(value, "__await")` to determine if the yielded value is
  // meant to be awaited.
  exports.awrap = function(arg) {
    return { __await: arg };
  };

  function AsyncIterator(generator, PromiseImpl) {
    function invoke(method, arg, resolve, reject) {
      var record = tryCatch(generator[method], generator, arg);
      if (record.type === "throw") {
        reject(record.arg);
      } else {
        var result = record.arg;
        var value = result.value;
        if (value &&
            typeof value === "object" &&
            hasOwn.call(value, "__await")) {
          return PromiseImpl.resolve(value.__await).then(function(value) {
            invoke("next", value, resolve, reject);
          }, function(err) {
            invoke("throw", err, resolve, reject);
          });
        }

        return PromiseImpl.resolve(value).then(function(unwrapped) {
          // When a yielded Promise is resolved, its final value becomes
          // the .value of the Promise<{value,done}> result for the
          // current iteration.
          result.value = unwrapped;
          resolve(result);
        }, function(error) {
          // If a rejected Promise was yielded, throw the rejection back
          // into the async generator function so it can be handled there.
          return invoke("throw", error, resolve, reject);
        });
      }
    }

    var previousPromise;

    function enqueue(method, arg) {
      function callInvokeWithMethodAndArg() {
        return new PromiseImpl(function(resolve, reject) {
          invoke(method, arg, resolve, reject);
        });
      }

      return previousPromise =
        // If enqueue has been called before, then we want to wait until
        // all previous Promises have been resolved before calling invoke,
        // so that results are always delivered in the correct order. If
        // enqueue has not been called before, then it is important to
        // call invoke immediately, without waiting on a callback to fire,
        // so that the async generator function has the opportunity to do
        // any necessary setup in a predictable way. This predictability
        // is why the Promise constructor synchronously invokes its
        // executor callback, and why async functions synchronously
        // execute code before the first await. Since we implement simple
        // async functions in terms of async generators, it is especially
        // important to get this right, even though it requires care.
        previousPromise ? previousPromise.then(
          callInvokeWithMethodAndArg,
          // Avoid propagating failures to Promises returned by later
          // invocations of the iterator.
          callInvokeWithMethodAndArg
        ) : callInvokeWithMethodAndArg();
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);
  AsyncIterator.prototype[asyncIteratorSymbol] = function () {
    return this;
  };
  exports.AsyncIterator = AsyncIterator;

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
    if (PromiseImpl === void 0) PromiseImpl = Promise;

    var iter = new AsyncIterator(
      wrap(innerFn, outerFn, self, tryLocsList),
      PromiseImpl
    );

    return exports.isGeneratorFunction(outerFn)
      ? iter // If outerFn is a generator, return the full iterator.
      : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      context.method = method;
      context.arg = arg;

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          var delegateResult = maybeInvokeDelegate(delegate, context);
          if (delegateResult) {
            if (delegateResult === ContinueSentinel) continue;
            return delegateResult;
          }
        }

        if (context.method === "next") {
          // Setting context._sent for legacy support of Babel's
          // function.sent implementation.
          context.sent = context._sent = context.arg;

        } else if (context.method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw context.arg;
          }

          context.dispatchException(context.arg);

        } else if (context.method === "return") {
          context.abrupt("return", context.arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done
            ? GenStateCompleted
            : GenStateSuspendedYield;

          if (record.arg === ContinueSentinel) {
            continue;
          }

          return {
            value: record.arg,
            done: context.done
          };

        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(context.arg) call above.
          context.method = "throw";
          context.arg = record.arg;
        }
      }
    };
  }

  // Call delegate.iterator[context.method](context.arg) and handle the
  // result, either by returning a { value, done } result from the
  // delegate iterator, or by modifying context.method and context.arg,
  // setting context.delegate to null, and returning the ContinueSentinel.
  function maybeInvokeDelegate(delegate, context) {
    var method = delegate.iterator[context.method];
    if (method === undefined) {
      // A .throw or .return when the delegate iterator has no .throw
      // method always terminates the yield* loop.
      context.delegate = null;

      if (context.method === "throw") {
        // Note: ["return"] must be used for ES3 parsing compatibility.
        if (delegate.iterator["return"]) {
          // If the delegate iterator has a return method, give it a
          // chance to clean up.
          context.method = "return";
          context.arg = undefined;
          maybeInvokeDelegate(delegate, context);

          if (context.method === "throw") {
            // If maybeInvokeDelegate(context) changed context.method from
            // "return" to "throw", let that override the TypeError below.
            return ContinueSentinel;
          }
        }

        context.method = "throw";
        context.arg = new TypeError(
          "The iterator does not provide a 'throw' method");
      }

      return ContinueSentinel;
    }

    var record = tryCatch(method, delegate.iterator, context.arg);

    if (record.type === "throw") {
      context.method = "throw";
      context.arg = record.arg;
      context.delegate = null;
      return ContinueSentinel;
    }

    var info = record.arg;

    if (! info) {
      context.method = "throw";
      context.arg = new TypeError("iterator result is not an object");
      context.delegate = null;
      return ContinueSentinel;
    }

    if (info.done) {
      // Assign the result of the finished delegate to the temporary
      // variable specified by delegate.resultName (see delegateYield).
      context[delegate.resultName] = info.value;

      // Resume execution at the desired location (see delegateYield).
      context.next = delegate.nextLoc;

      // If context.method was "throw" but the delegate handled the
      // exception, let the outer generator proceed normally. If
      // context.method was "next", forget context.arg since it has been
      // "consumed" by the delegate iterator. If context.method was
      // "return", allow the original .return call to continue in the
      // outer generator.
      if (context.method !== "return") {
        context.method = "next";
        context.arg = undefined;
      }

    } else {
      // Re-yield the result returned by the delegate method.
      return info;
    }

    // The delegate iterator is finished, so forget it and continue with
    // the outer generator.
    context.delegate = null;
    return ContinueSentinel;
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  define(Gp, toStringTagSymbol, "Generator");

  // A Generator should always return itself as the iterator object when the
  // @@iterator function is called on it. Some browsers' implementations of the
  // iterator prototype chain incorrectly implement this, causing the Generator
  // object to not be returned from this call. This ensures that doesn't happen.
  // See https://github.com/facebook/regenerator/issues/274 for more details.
  Gp[iteratorSymbol] = function() {
    return this;
  };

  Gp.toString = function() {
    return "[object Generator]";
  };

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  exports.keys = function(object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1, next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  exports.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      // Resetting context._sent for legacy support of Babel's
      // function.sent implementation.
      this.sent = this._sent = undefined;
      this.done = false;
      this.delegate = null;

      this.method = "next";
      this.arg = undefined;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" &&
              hasOwn.call(this, name) &&
              !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;

        if (caught) {
          // If the dispatched exception was caught by a catch block,
          // then let that catch block handle the exception normally.
          context.method = "next";
          context.arg = undefined;
        }

        return !! caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }

          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev &&
            hasOwn.call(entry, "finallyLoc") &&
            this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry &&
          (type === "break" ||
           type === "continue") &&
          finallyEntry.tryLoc <= arg &&
          arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.method = "next";
        this.next = finallyEntry.finallyLoc;
        return ContinueSentinel;
      }

      return this.complete(record);
    },

    complete: function(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" ||
          record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = this.arg = record.arg;
        this.method = "return";
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }

      return ContinueSentinel;
    },

    finish: function(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      if (this.method === "next") {
        // Deliberately forget the last sent value so that we don't
        // accidentally pass it on to the delegate.
        this.arg = undefined;
      }

      return ContinueSentinel;
    }
  };

  // Regardless of whether this script is executing as a CommonJS module
  // or not, return the runtime object so that we can declare the variable
  // regeneratorRuntime in the outer scope, which allows this module to be
  // injected easily by `bin/regenerator --include-runtime script.js`.
  return exports;

}(
  // If this script is executing as a CommonJS module, use module.exports
  // as the regeneratorRuntime namespace. Otherwise create a new empty
  // object. Either way, the resulting object will be used to initialize
  // the regeneratorRuntime variable at the top of this file.
  typeof module === "object" ? module.exports : {}
));

try {
  regeneratorRuntime = runtime;
} catch (accidentalStrictMode) {
  // This module should not be running in strict mode, so the above
  // assignment should always work unless something is misconfigured. Just
  // in case runtime.js accidentally runs in strict mode, we can escape
  // strict mode using a global Function call. This could conceivably fail
  // if a Content Security Policy forbids using Function, but in that case
  // the proper solution is to fix the accidental strict mode problem. If
  // you've misconfigured your bundler to force strict mode and applied a
  // CSP to forbid Function, and you're not willing to fix either of those
  // problems, please detail your unique predicament in a GitHub issue.
  Function("r", "regeneratorRuntime = r")(runtime);
}

"use strict";function _templateObject568(){var data=_taggedTemplateLiteral([":host{width:100%;height:100%;box-sizing:border-box;display:flex;flex-flow:column}#header{border-bottom-width:1px;border-bottom-style:solid;-webkit-app-region:drag}#menubar{border:none;width:auto}#menubar[data-expaneded]{z-index:9999}#menubar[data-expaneded] *{z-index:99999}#menubar x-menuitem{-webkit-app-region:no-drag!important}#menubar x-shortcut[hidden]{display:none}#titlebar-buttons{margin-left:auto;-webkit-app-region:no-drag!important}#tabs{width:auto;height:30px;padding-top:5px;outline:0}#tabs[disabled]{opacity:.5;pointer-events:none}#tabs x-doctab:focus{box-shadow:none}#main{flex:1;width:100%;position:relative}#main>*{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}#main>:not(:defined),#main>[hidden]{contain:strict;visibility:visible;opacity:0;z-index:-100;touch-action:none}#sign-in-dialog::backdrop{pointer-events:none}#trial-dialog::backdrop{pointer-events:none}"]);_templateObject568=function _templateObject568(){return data;};return data;}function _templateObject567(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><x-box><x-menubar id=\"menubar\"></x-menubar><x-buttons id=\"titlebar-buttons\" tracking=\"-1\"><x-button id=\"minimize-button\" skin=\"titlebar\"><x-icon name=\"minimize-window\"></x-icon></x-button><x-button id=\"maximize-button\" skin=\"titlebar\"><x-icon name=\"maximize-window\"></x-icon></x-button><x-button id=\"close-button\" skin=\"titlebar\"><x-icon name=\"close-window\"></x-icon></x-button></x-buttons></x-box><x-doctabs id=\"tabs\"></x-doctabs></header><div id=\"main\"></div><div id=\"dialogs\"><dialog id=\"install-dialog\"><bx-chromeinstallform></bx-chromeinstallform></dialog><dialog id=\"sign-in-dialog\"><bx-chromesigninform></bx-chromesigninform></dialog><dialog id=\"trial-dialog\"><bx-chrometrialform></bx-chrometrialform></dialog></div><x-notification id=\"notification\" timeout=\"800\"></x-notification><x-contextmenu id=\"context-menu\" disabled=\"disabled\"></x-contextmenu></template>"]);_templateObject567=function _templateObject567(){return data;};return data;}function _templateObject566(){var data=_taggedTemplateLiteral([":host{width:480px}"]);_templateObject566=function _templateObject566(){return data;};return data;}function _templateObject565(){var data=_taggedTemplateLiteral(["<template><h2 id=\"message\"></h2><div id=\"detail\"></div></template>"]);_templateObject565=function _templateObject565(){return data;};return data;}function _templateObject564(){var data=_taggedTemplateLiteral([":host{width:370px}"]);_templateObject564=function _templateObject564(){return data;};return data;}function _templateObject563(){var data=_taggedTemplateLiteral(["<template><x-button id=\"close-button\" toggled><x-label>Close</x-label></x-button></template>"]);_templateObject563=function _templateObject563(){return data;};return data;}function _templateObject562(){var data=_taggedTemplateLiteral(["<template><h2>Trial period ended</h2><p>To purchase the app please visit <a href=\"https://boxy-svg.com\" target=\"_blank\">the project website</a>.</p></template>"]);_templateObject562=function _templateObject562(){return data;};return data;}function _templateObject561(){var data=_taggedTemplateLiteral([":host{width:400px}#progressbar{margin:14px 0 10px 0}"]);_templateObject561=function _templateObject561(){return data;};return data;}function _templateObject560(){var data=_taggedTemplateLiteral(["<template><h3>Validating license</h3><x-progressbar id=\"progressbar\"></x-progressbar><p>Please sign in to Chrome to continue.</p></template>"]);_templateObject560=function _templateObject560(){return data;};return data;}function _templateObject559(){var data=_taggedTemplateLiteral([":host{width:440px}#ok-button{width:100%;height:39px}#ok-button:hover{filter:brightness(.9)}"]);_templateObject559=function _templateObject559(){return data;};return data;}function _templateObject558(){var data=_taggedTemplateLiteral(["<template><x-button id=\"ok-button\" toggled><x-label>OK</x-label></x-button></template>"]);_templateObject558=function _templateObject558(){return data;};return data;}function _templateObject557(){var data=_taggedTemplateLiteral(["<template><h2>Warning</h2><p>Chrome Web Store version of Boxy SVG is optimized for <strong>Chrome OS</strong> and it will stop working on other operating systems in June 2021.</p><p>To continue using the app on <strong>Windows</strong>, <strong>macOS</strong> or <strong>Linux</strong>, please follow the download links provided on <a href=\"https://boxy-svg.com\" target=\"_blank\">the project website</a>.</p></template>"]);_templateObject557=function _templateObject557(){return data;};return data;}function _templateObject556(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;position:relative;width:100%}:host(:focus){outline:0}:host([hidden]){display:none}#form-view{display:flex;flex-flow:column;width:100%;height:100%}:host([throbber]) #form-view{display:block;visibility:hidden}#header{border-bottom:1px solid transparent}#header:empty{display:none}#main{flex:1;box-sizing:border-box;width:100%;padding:20px;position:relative;overflow:auto}h2{margin:0 0 12px 0}h3:first-child{margin-top:0}p{font-size:13px}#footer{display:flex;z-index:0;min-height:fit-content;justify-content:flex-end;padding:10px 20px;border-top:1px solid transparent}#footer:empty{display:none}#footer x-button+x-button{margin-left:8px}#footer x-button:first-child{margin-left:auto}#throbber-view{display:none;flex-flow:column;position:absolute;top:0;left:0;width:100%;height:100%;padding:0 20px;align-items:center;justify-content:center;box-sizing:border-box}:host([throbber]) #throbber-view{display:flex}"]);_templateObject556=function _templateObject556(){return data;};return data;}function _templateObject555(){var data=_taggedTemplateLiteral(["<template><div id=\"form-view\"><header id=\"header\" part=\"header\"></header><main id=\"main\" part=\"main\"></main><footer id=\"footer\" part=\"footer\"></footer></div><div id=\"throbber-view\"><x-throbber id=\"throbber\"></x-throbber></div></template>"]);_templateObject555=function _templateObject555(){return data;};return data;}function _templateObject554(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;contain:strict}:host(:focus){outline:0}*{margin:0;padding:0;box-sizing:border-box}#container{width:100%;height:100%;display:flex;flex-flow:column;align-items:center;justify-content:center;position:relative;position:relative;overflow:hidden;text-align:center;font-size:10px;user-select:none}#container a{color:var(--text-color);text-decoration:none}#container a:hover{cursor:pointer;text-decoration:underline}#logo{margin:14px 0 2px}#app-name{font-size:16px;font-weight:700;margin-bottom:2px;cursor:text;width:100%;user-select:text}#version{font-size:12px;margin:0 0 12px 0;cursor:text;width:100%;user-select:text}#main{width:300px;height:135px;overflow:auto;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;font-size:12px;padding-left:7px;padding-bottom:8px;flex:1;cursor:text;user-select:text}:host-context(bx-chromeapp) #main{border-left-width:1px;border-left-style:solid;border-right-width:1px;border-right-style:solid}#main h3{font-weight:700;margin:20px 0 6px 0;font-size:12px;text-transform:uppercase;opacity:.8}#main h3:first-child{margin-top:15px}#main li,#main ul{margin:0;padding:0}#main dt,#main dt a{font-weight:600}#main dd{margin-bottom:9px}#main #frameworks li:not(:last-child),#main #libraries li:not(:last-child){margin-bottom:3px}#copyright{width:100%;margin:10px 0 11px 0;font-size:11px;cursor:text;user-select:text}"]);_templateObject554=function _templateObject554(){return data;};return data;}function _templateObject553(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><header part=\"header\"><img id=\"logo\" src=\"/images/logos/logo-full.svg\" width=\"80px\" height=\"80px\"><h1 id=\"app-name\">Boxy SVG</h1><h2 id=\"version\">Version 0.0.0</h2></header><main id=\"main\" part=\"main\"></main><footer part=\"footer\"><h2 id=\"copyright\">\xA9 2012-"," <a href=\"http://foksa.name/\">Jaros\u0142aw Foksa</a></h2></footer></div></template>"]);_templateObject553=function _templateObject553(){return data;};return data;}function _templateObject552(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%}:host(:focus){outline:0}#container{width:100%;height:100%}#titlebar{position:absolute;top:0;left:0;width:100%;height:28px;display:none}:host-context(bx-macapp) #titlebar{display:block;-webkit-app-region:drag}#sidebar{display:flex;flex-flow:column;height:100%;border-right:1px solid transparent;padding-top:10px;box-sizing:border-box}:host-context(bx-macapp) #sidebar{padding-top:28px}#sidebar-separator-2{margin:auto 0 0 0}#sidebar-buttons x-button x-icon{margin:0}#sidebar-buttons x-button x-label{margin-left:12px}@media all and (max-width:770px){#sidebar-buttons x-button x-label{display:none}}#sidebar #logout-button{margin:10px;width:calc(100% - 20px)}@media all and (max-width:770px){#sidebar #logout-button x-icon{margin:0}#sidebar #logout-button x-label{display:none}}#main{width:100%;height:100%;padding:30px 30px;box-sizing:border-box;overflow:auto}"]);_templateObject552=function _templateObject552(){return data;};return data;}function _templateObject551(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\"><sidebar id=\"sidebar\" part=\"sidebar\"><x-buttons id=\"sidebar-buttons\" tracking=\"1\" vertical><x-button skin=\"nav\" value=\"general\" toggled><x-icon name=\"prefs-general\"></x-icon><x-label>General</x-label></x-button><x-button skin=\"nav\" value=\"ui\"><x-icon name=\"prefs-ui\"></x-icon><x-label>UI</x-label></x-button><x-button skin=\"nav\" value=\"markup\"><x-icon name=\"prefs-markup\"></x-icon><x-label>Markup</x-label></x-button><x-button skin=\"nav\" value=\"garbage-collector\"><x-icon name=\"prefs-garbage-collector\"></x-icon><x-label>Garbage Collector</x-label></x-button><x-button skin=\"nav\" value=\"keyboard\"><x-icon name=\"prefs-keyboard\"></x-icon><x-label>Keyboard</x-label></x-button><hr id=\"sidebar-separator-1\"><x-button skin=\"nav\" value=\"profile\" id=\"profile-button\"><x-icon name=\"prefs-profile\"></x-icon><x-label>Public profile</x-label></x-button><x-button skin=\"nav\" value=\"auth\" id=\"auth-button\"><x-icon name=\"prefs-auth\"></x-icon><x-label>Authentication</x-label></x-button><x-button skin=\"nav\" value=\"subscription\" id=\"subscription-button\"><x-icon name=\"prefs-subscription\"></x-icon><x-label>Subscription</x-label></x-button><x-button skin=\"nav\" value=\"delete-account\" id=\"delete-account-button\"><x-icon name=\"prefs-delete-account\"></x-icon><x-label>Delete account</x-label></x-button></x-buttons><hr id=\"sidebar-separator-2\"><x-button id=\"logout-button\" title=\"Log out\" condensed><x-icon name=\"logout\"></x-icon><x-label>Log out</x-label></x-button></sidebar><main id=\"main\"><bx-generalsettings id=\"general-settings\" data-name=\"general\"></bx-generalsettings><bx-uisettings id=\"ui-settings\" data-name=\"ui\"></bx-uisettings><bx-markupsettings id=\"markup-settings\" data-name=\"markup\"></bx-markupsettings><bx-garbagecollectorsettings id=\"garbage-collector-settings\" data-name=\"garbage-collector\"></bx-garbagecollectorsettings><bx-keyboardsettings id=\"keyboard-settings\" data-name=\"keyboard\"></bx-keyboardsettings><bx-profilesettings id=\"profile-settings\" data-name=\"profile\"></bx-profilesettings><bx-authsettings id=\"auth-settings\" data-name=\"auth\"></bx-authsettings><bx-subscriptionsettings id=\"subscription-settings\" data-name=\"subscription\"></bx-subscriptionsettings><bx-deleteaccountsettings id=\"delete-account-settings\" data-name=\"delete-account\"></bx-deleteaccountsettings></main></x-box><div id=\"titlebar\"></div></template>"]);_templateObject551=function _templateObject551(){return data;};return data;}function _templateObject550(){var data=_taggedTemplateLiteral(["#default-view{width:100%;height:100%}#password-input{flex:1;max-width:none;margin-right:8px}#progress-view{display:flex;flex-flow:column;align-items:center;justify-content:center;margin-top:30px}#progress-view[hidden]{display:none}#progress-label{margin-top:14px}"]);_templateObject550=function _templateObject550(){return data;};return data;}function _templateObject549(){var data=_taggedTemplateLiteral(["<template><h2>Delete account</h2><div id=\"default-view\"><section id=\"delete-account-section\"><h3>Warning</h3><p>Once you delete your account, <strong>there is no going back</strong>. All your files will be removed from boxy-svg.com servers. Your paid subscription will be canceled if you have one.</p><x-box><x-input id=\"password-input\" type=\"password\"><x-label id=\"password-placeholder\">Enter your password</x-label></x-input><x-button id=\"delete-account-button\" disabled=\"disabled\"><x-label>Delete account</x-label></x-button></x-box></section></div><div id=\"progress-view\" hidden><x-progressbar id=\"progress-bar\"></x-progressbar><x-label id=\"progress-label\">Connecting to server...</x-label></div></template>"]);_templateObject549=function _templateObject549(){return data;};return data;}function _templateObject548(){var data=_taggedTemplateLiteral(["#info-section>p{line-height:1.4;margin:3px}#plan-section{margin:18px 0 26px 0}#plan-select-block{margin-top:10px}#subscription-buttons{margin-top:10px}#subscription-buttons>x-button{flex:1;min-width:fit-content;margin-left:10px}#subscription-buttons>x-button:first-child{margin-left:0}#progress-bar{margin-top:30px}"]);_templateObject548=function _templateObject548(){return data;};return data;}function _templateObject547(){var data=_taggedTemplateLiteral(["<template><h2>Subscription</h2><main id=\"main\"><section id=\"info-section\"><p><strong>Current plan:</strong> <span id=\"subscription-plan-span\">Fetching\u2026</span></p><p><strong>Status:</strong> <span id=\"subscription-status-span\">Fetching\u2026</span></p></section><section id=\"plan-section\"><bx-planselectblock id=\"plan-select-block\"></bx-planselectblock></section><section id=\"buttons-section\"><x-box id=\"subscription-buttons\"><x-button id=\"billing-button\" condensed disabled=\"disabled\"><x-icon name=\"credit-card\"></x-icon><x-label>Update billing\u2026</x-label></x-button><x-button id=\"cancel-button\" condensed disabled=\"disabled\"><x-icon name=\"cancel\"></x-icon><x-label>Cancel subscription\u2026</x-label></x-button><x-button id=\"subscribe-button\" condensed toggled disabled=\"disabled\"><x-icon name=\"credit-card\"></x-icon><x-label id=\"subscribe-button-label\">Subscribe</x-label></x-button></x-box></section></main><x-progressbar id=\"progress-bar\" hidden></x-progressbar></template>"]);_templateObject547=function _templateObject547(){return data;};return data;}function _templateObject546(){var data=_taggedTemplateLiteral([":host{display:block}:host([disabled]){opacity:.5;pointer-events:none;user-select:none}table{width:100%;border-collapse:collapse;font-size:13px;overflow:visible}table tr{height:35px;border-radius:inherit}table[data-size=large] tr{height:38px}table td{padding:0 10px;box-sizing:border-box}table p:first-child{margin-top:0}table p:last-child{margin-bottom:0}thead{border-radius:inherit}thead td:nth-child(2){padding:0}thead td:nth-child(3){padding:0;border-top-right-radius:inherit}thead td x-radio{margin:0 auto}thead td x-radio x-label{font-weight:700;font-size:15px}tbody x-icon[part=no-icon],tbody x-icon[part=yes-icon]{margin:0 auto}tbody #cloud-button{width:100%;height:100%}tbody #cloud-button[disabled]{opacity:1}tbody #cloud-button::part(arrow){display:none}tbody #cloud-button x-icon{width:17px;height:17px}tbody #cloud-button[computedsize=large] x-icon{width:21px;height:21px}tbody #cloud-button x-popover{width:300px;user-select:none}tbody #cloud-button x-popover p{margin:0}tfoot td:nth-child(2){padding:0}tfoot .help-button{margin-left:auto}tfoot .help-button::part(arrow){display:none}tfoot x-popover p:not(:first-child){margin-top:8px}tfoot x-popover ul{margin:8px 0 0 5px;padding:0;list-style:none}tfoot x-popover li{position:relative;margin:0;padding-left:13px}tfoot x-popover li:before{position:absolute;left:0;content:\"\u2022\";font-weight:700}#quantity-td{position:relative}#quantity-help-button x-popover{width:345px}#quantity-input{position:absolute;top:0;left:0;width:100%;height:100%;max-width:none;padding-left:4px;background:0 0;border:none}#quantity-input[disabled]{background:0 0;opacity:1}#quantity-input[disabled] x-stepper{visibility:hidden}#discount-td{padding:0 10px}#discount-help-button x-popover{width:280px}#billing-td{position:relative}#billing-select{position:absolute;top:0;left:0;width:100%;height:100%;background:0 0;border:none;text-align:start}#billing-select[disabled]{opacity:1}#billing-select[disabled]::before{display:none}#billing-select[disabled]::part(arrow){display:none}#price-td{font-weight:700;padding:0 10px}#price-help-button x-popover{width:305px}"]);_templateObject546=function _templateObject546(){return data;};return data;}function _templateObject545(){var data=_taggedTemplateLiteral(["<template><table id=\"table\"><thead id=\"table-head\"><tr><td>Plan</td><td><x-radios><x-radio id=\"standard-plan-radio\" size=\"small\"><x-label>Standard</x-label></x-radio></x-radios></td><td><x-radios><x-radio id=\"premium-plan-radio\" size=\"small\"><x-label>Premium</x-label></x-radio></x-radios></td></tr></thead><tbody id=\"table-body\"><tr><td>Use online as a web app</td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr><tr><td>Install and use offline as a desktop app</td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr><tr><td>Save SVG files to your disk</td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr><tr><td>Save and host SVG files in the cloud</td><td><x-icon name=\"feature-unsupported\" part=\"no-icon\"></x-icon></td><td><x-button skin=\"flat\" id=\"cloud-button\"><x-icon part=\"yes-icon\" name=\"feature-supported-asterisk\"></x-icon><x-popover modal><main><p>You can keep up to 10 GB of data in the cloud for free. Unlimited storage space can be purchased separately.</p></main></x-popover></x-button></td></tr><tr><td>Export SVG files to PDF</td><td><x-icon name=\"feature-unsupported\" part=\"no-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr><tr><td>Sync app preferences between devices</td><td><x-icon name=\"feature-unsupported\" part=\"no-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr></tbody><tfoot id=\"table-foot\"><tr><td><x-box><span>Users</span><x-button id=\"quantity-help-button\" class=\"help-button\" skin=\"circular\" size=\"small\"><x-icon name=\"help\"></x-icon><x-popover modal><main><p>Number of users belonging to your organization that should be able to use the app simultaneously.</p><p>You can freely assign and unassign licenses to users at any time by entering their email addresses in <a id=\"auth-anchor\" href=\"?dialog=preferences\u2192auth\">\"Preferences \u2192 Authentication\"</a>.</p></main></x-popover></x-button></x-box></td><td id=\"quantity-td\" colspan=\"2\"><x-numberinput id=\"quantity-input\" value=\"1\" min=\"1\" condensed disabled=\"disabled\"><x-stepper></x-stepper></x-numberinput></td></tr><tr><td><x-box><span>Volume discount</span><x-button id=\"discount-help-button\" class=\"help-button\" skin=\"circular\" size=\"small\"><x-icon name=\"help\"></x-icon><x-popover modal><main><p>A discount is granted when you purchase a subscription for many users:</p><ul><li>10% discount - for 10 or more users</li><li>20% discount - for 30 or more users</li><li>30% discount - for 100 or more users</li></ul></main></x-popover></x-button></x-box></td><td id=\"discount-td\" colspan=\"2\"><span id=\"discount-span\">None</span></td></tr><tr><td>Billing</td><td id=\"billing-td\" colspan=\"2\"><x-select id=\"billing-select\" disabled=\"disabled\"><x-menu><x-menuitem value=\"monthly\"><x-label>Monthly</x-label></x-menuitem><x-menuitem value=\"yearly\" toggled><x-label>Yearly</x-label></x-menuitem></x-menu></x-select></td></tr><tr><td><x-box><span>Price</span><x-button id=\"price-help-button\" class=\"help-button\" skin=\"circular\" size=\"small\"><x-icon name=\"help\"></x-icon><x-popover modal><main><p>Depending on your current tax residence, an additional VAT or sales tax might be applied.</p><p>When changing an existing subscription plan, the total amount due will be prorated.</p></main></x-popover></x-button></x-box></td><td id=\"price-td\" colspan=\"2\"><span id=\"price-span\">9.99</span> USD</td></tr></tfoot></table></template>"]);_templateObject545=function _templateObject545(){return data;};return data;}function _templateObject544(){var data=_taggedTemplateLiteral(["#email-section>x-box{margin-top:4px}#email-input{flex:1;max-width:none}#email-change-button,#email-verify-button{margin-left:6px}#email-throbber{width:24px;height:24px;margin-left:6px}#password-section>x-box{margin-top:4px}#password-input{flex:1;max-width:none;margin-right:6px}#password-change-button{width:143px}#password-throbber{width:24px;height:24px;margin-left:6px}#users-change-box{margin-top:8px;width:100%}#users-change-button{flex:1}#users-change-throbber{margin-left:8px}"]);_templateObject544=function _templateObject544(){return data;};return data;}function _templateObject543(){var data=_taggedTemplateLiteral(["<template><h2>Authentication</h2><section id=\"email-section\"><h3>E-mail</h3><p>E-mail address used for password recovery and communication with Boxy SVG team.</p><x-box><x-input id=\"email-input\" type=\"email\"></x-input><x-button id=\"email-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button><x-button id=\"email-verify-button\"><x-label>Verify</x-label></x-button><x-throbber id=\"email-throbber\" hidden></x-throbber></x-box></section><hr><section id=\"password-section\"><h3>Password</h3><p>The password used to sign into Boxy SVG.</p><x-box><x-input id=\"password-input\" type=\"password\"><x-label id=\"password-placeholder\">\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022</x-label></x-input><x-button id=\"password-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button><x-throbber id=\"password-throbber\" hidden></x-throbber></x-box></section><hr><section id=\"users-section\" hidden><h3>Users</h3><p>Enter email addresses of the users belonging to your organization. To increase the allowed number of users please adjust your <a id=\"subscription-anchor\" href=\"?dialog=preferences\u2192subscription\">subscription plan</a>.</p><bx-userseditor id=\"users-editor\"></bx-userseditor><x-box id=\"users-change-box\"><x-button id=\"users-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button><x-throbber id=\"users-change-throbber\" hidden></x-throbber></x-box></section></template>"]);_templateObject543=function _templateObject543(){return data;};return data;}function _templateObject542(){var data=_taggedTemplateLiteral([":host{display:flex;box-sizing:border-box;max-height:182px;overflow:hidden;border-width:1px;border-style:solid}:host([disabled]){opacity:.5;pointer-events:none}:host(:focus){outline:0}#main{width:100%;overflow-y:auto}#table{width:100%;display:block;table-layout:auto;overflow:auto;border-collapse:collapse;user-select:none;border:none;box-shadow:none}#table tr{height:30px;box-sizing:border-box}#table[data-size=small] tr{height:24px}#table[data-size=large] tr{height:34px}#table td{border-width:1px;border-style:solid}#table td:first-child{border-left:none}#table td:last-child{border-right:none}#table tr:first-child td{border-top:none}#table tr:last-child td{border-bottom:none}#table td.index-cell{width:auto;padding:0 6px;box-sizing:border-box;text-align:end;font-size:12px}#table td.value-cell{width:100%;padding:0 6px}#table td.value-cell .label{width:100%;padding:0 2px;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:12px}#table tr[data-disabled] td.value-cell .label{opacity:.6}#table td.value-cell .input{width:100%;max-width:none;height:100%;border:none;font-size:12px;padding:2px 0;color:var(--text-color)}#table td.value-cell .input::part(input){padding:0 2px}#table td.value-cell .input:focus{outline:0}"]);_templateObject542=function _templateObject542(){return data;};return data;}function _templateObject541(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><table id=\"table\"><tbody id=\"tbody\"></tbody></table></main></template>"]);_templateObject541=function _templateObject541(){return data;};return data;}function _templateObject540(){var data=_taggedTemplateLiteral(["#avatar{width:120px;height:120px}#avatar-edit-button{width:120px;margin-top:8px}#name-section{position:relative}#name-section>x-box{margin-top:4px}#name-input{flex:1;max-width:none;margin-right:6px;position:relative}#name-throbber{position:absolute;top:2px;right:0}#website-section{position:relative}#website-section>x-box{margin-top:4px}#website-input{flex:1;max-width:none;margin-right:6px;position:relative}#website-throbber{position:absolute;top:2px;right:0}#bio-section{position:relative}#bio-section>x-box{margin-top:4px}#bio-editor{flex:1;max-width:none;height:46px;min-height:0}#bio-change-button{height:46px;margin-left:6px}#bio-throbber{position:absolute;top:2px;right:0}"]);_templateObject540=function _templateObject540(){return data;};return data;}function _templateObject539(){var data=_taggedTemplateLiteral(["<template><h2>Public profile</h2><section id=\"avatar-section\"><h3>Avatar</h3><p>Image to be shown next to your posts.</p><bx-avatar id=\"avatar\" part=\"avatar\" transparent></bx-avatar><x-button id=\"avatar-edit-button\" toggled><x-label>Edit</x-label></x-button></section><hr><section id=\"name-section\"><h3 id=\"name-heading\">Name</h3><p>Your real name or a nick name.</p><x-throbber id=\"name-throbber\" hidden></x-throbber><x-box><x-input id=\"name-input\"></x-input><x-button id=\"name-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button></x-box></section><hr><section id=\"website-section\"><h3 id=\"website-heading\">Website</h3><p>URL to your personal or company website.</p><x-throbber id=\"website-throbber\" hidden></x-throbber><x-box><x-input id=\"website-input\" type=\"url\"></x-input><x-button id=\"website-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button></x-box></section><hr><section id=\"bio-section\"><h3 id=\"bio-heading\">Bio</h3><p>Write one or two sentences about yourself.</p><x-throbber id=\"bio-throbber\" hidden></x-throbber><x-box><x-texteditor id=\"bio-editor\" maxlength=\"300\"></x-texteditor><x-button id=\"bio-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button></x-box></section></template>"]);_templateObject539=function _templateObject539(){return data;};return data;}function _templateObject538(){var data=_taggedTemplateLiteral([":host{display:block;width:28px;height:28px;box-sizing:border-box;border-width:1px;border-style:solid;user-select:none}:host([transparent]){background:var(--checkboard-background)}:host([hidden]){display:none}img{width:100%;height:100%;-webkit-user-drag:none}"]);_templateObject538=function _templateObject538(){return data;};return data;}function _templateObject537(){var data=_taggedTemplateLiteral(["<template><img id=\"img\"></template>"]);_templateObject537=function _templateObject537(){return data;};return data;}function _templateObject536(){var data=_taggedTemplateLiteral([":host{width:100%;height:100%;outline:0}#main{display:flex;flex-flow:column;height:100%}#tabs{width:100%}#tabs>x-tab{flex:1}#views{display:flex;flex-flow:column;flex:1;height:100%;min-height:0;margin-top:16px}#views .view{width:100%;height:100%}"]);_templateObject536=function _templateObject536(){return data;};return data;}function _templateObject535(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><h2>Keyboard</h2><x-tabs id=\"tabs\" centered><x-tab value=\"shortcuts\" selected=\"selected\"><x-label>Shortcuts</x-label></x-tab><x-tab value=\"modifiers\"><x-label>Modifier keys</x-label></x-tab></x-tabs><div id=\"views\"><div id=\"shortcuts-view\" class=\"view\"><bx-shortcutseditor id=\"shortcuts-editor\"></bx-shortcutseditor></div><div id=\"modifiers-view\" class=\"view\" hidden><section id=\"space-modifier-section\"><h3>Space key</h3><x-radios id=\"space-modifier-radios\"><x-radio value=\"togglePreviousTool\" toggled><x-label>Toggle previous tool</x-label></x-radio><x-radio value=\"pan\"><x-label>Pan the canvas</x-label></x-radio></x-radios></section></div></div></main></template>"]);_templateObject535=function _templateObject535(){return data;};return data;}function _templateObject534(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;border-width:1px;border-style:solid;outline:0;flex-flow:column;flex:1;height:100%}#header{display:flex;align-items:center;min-height:30px;border-bottom-width:1px;border-bottom-style:solid;font-size:14px;font-weight:500}#header div:first-child{min-width:50%;margin-left:10px}#header div:last-child{margin-left:5px}#items{overflow:auto;height:100%;outline:0}.item{display:flex;width:100%;height:30px;align-items:center;font-size:13px;user-select:none;box-sizing:border-box;border:2px solid transparent;color:var(--text-color)}#items[data-size=small] .item{height:24px}#items[data-size=large] .item{height:34px}.item[data-conflicting]{color:var(--error-color)}.item[data-selected]{background:var(--accent-color);color:#fff}.item[data-selected][data-conflicting]{background:var(--error-color)}.item[data-user-shortcut]{font-weight:900}.item[hidden]{display:none}.item .command-label{min-width:50%;padding:8px 10px;white-space:pre;overflow:hidden;text-overflow:ellipsis}.item .shortcut-label{width:100%}.item[data-editable] .shortcut-label{padding:2px 8px;background:#fff;color:var(--dark-accent-color);font-size:12px;line-height:1;font-size:11px;font-weight:500;text-transform:uppercase}.item[data-editable][data-conflicting] .shortcut-label{color:var(--error-color)}.item .reset-button{margin:0 4px;padding:3px 7px;min-width:fit-content}.item .reset-button[hidden]{display:block;visibility:hidden}.item[data-editable] .reset-button{visibility:hidden}#footer{width:100%;padding:7px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #filter-input{width:100%;max-width:none}#footer #filter-buttons{margin-left:10px}"]);_templateObject534=function _templateObject534(){return data;};return data;}function _templateObject533(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><div>Command</div><div>Shortcut</div></header><main id=\"items\" tabindex=\"0\"></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"filter-input\" placeholder=\"Filter symbols\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-buttons id=\"filter-buttons\" tracking=\"1\"><x-button skin=\"recessed\" value=\"all\" toggled><x-label>All</x-label></x-button><x-button skin=\"recessed\" value=\"custom\"><x-label>Custom</x-label></x-button><x-button skin=\"recessed\" value=\"conflicting\"><x-label>Conflicting <span id=\"conflicting-items-counter\"></span></x-label></x-button></x-buttons></x-box></footer></template>"]);_templateObject533=function _templateObject533(){return data;};return data;}function _templateObject532(){var data=_taggedTemplateLiteral(["#defs-section x-box>x-icon{width:26px;height:26px;overflow:visible}#defs-section x-box>x-icon[computedsize=small]{width:22px;height:22px}#defs-section x-box>x-icon[computedsize=large]{width:30px;height:30px}#defs-section x-box>x-label{width:80px;margin-left:8px}#defs-section x-box+x-box{margin-top:10px}#defs-section x-buttons{flex:1}#defs-section x-buttons>x-button{flex:1}"]);_templateObject532=function _templateObject532(){return data;};return data;}function _templateObject531(){var data=_taggedTemplateLiteral(["<template><h2>Garbage Collector</h2><section id=\"defs-section\"><h3 id=\"intro\">Auto-remove unused defs</h3><x-box><x-icon name=\"defs-colors\"></x-icon><x-label>Colors</x-label><x-buttons id=\"colors-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-gradients\"></x-icon><x-label>Gradients</x-label><x-buttons id=\"gradients-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-patterns\"></x-icon><x-label>Patterns</x-label><x-buttons id=\"patterns-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-markers\"></x-icon><x-label>Markers</x-label><x-buttons id=\"markers-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-symbols\"></x-icon><x-label>Symbols</x-label><x-buttons id=\"symbols-buttons\" tracking=\"1\"><x-button value=\"unpinned\"><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\" toggled><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-filters\"></x-icon><x-label>Filters</x-label><x-buttons id=\"filters-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-fonts\"></x-icon><x-label>Fonts</x-label><x-buttons id=\"fonts-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject531=function _templateObject531(){return data;};return data;}function _templateObject530(){var data=_taggedTemplateLiteral(["<template><h2>Markup</h2><section id=\"geometry-precision-section\"><h3>Geometry precision</h3><p>Precision, in number of decimal places, to be used by attributes defining shape geometry such as <code>x</code>, <code>y</code>, <code>width</code>, <code>height</code>, <code>r</code> or <code>d</code>.</p><x-slider id=\"geometry-precision-slider\" value=\"3\" min=\"0\" max=\"6\" step=\"1\"><x-label value=\"0\">0</x-label><x-label value=\"1\">1</x-label><x-label value=\"2\">2</x-label><x-label value=\"3\">3</x-label><x-label value=\"4\">4</x-label><x-label value=\"5\">5</x-label><x-label value=\"6\">6</x-label></x-slider></section><hr><section id=\"transform-precision-section\"><h3>Transform precision</h3><p>Precision, in number of decimal places, to be used by <code>transform</code> attribute.</p><x-slider id=\"transform-precision-slider\" value=\"6\" min=\"5\" max=\"12\" step=\"1\"><x-label value=\"5\">5</x-label><x-label value=\"6\">6</x-label><x-label value=\"7\">7</x-label><x-label value=\"8\">8</x-label><x-label value=\"9\">9</x-label><x-label value=\"10\">10</x-label><x-label value=\"11\">11</x-label><x-label value=\"12\">12</x-label></x-slider></section><hr><section id=\"indentation-section\"><h3>Indentation</h3><p>Number of spaces used to indent SVG code.</p><x-slider id=\"indentation-slider\" value=\"2\" min=\"0\" max=\"8\" step=\"1\"><x-label value=\"0\">0</x-label><x-label value=\"1\">1</x-label><x-label value=\"2\">2</x-label><x-label value=\"3\">3</x-label><x-label value=\"4\">4</x-label><x-label value=\"5\">5</x-label><x-label value=\"6\">6</x-label><x-label value=\"7\">7</x-label><x-label value=\"8\">8</x-label></x-slider></section></template>"]);_templateObject530=function _templateObject530(){return data;};return data;}function _templateObject529(){var data=_taggedTemplateLiteral(["#theme-select{width:100%}#colors-section section{margin-top:10px}#accent-color-box{margin-top:4px}#accent-color-preset-select{flex:1}#accent-color-select{margin-left:6px}#color-scheme-select{width:100%}#widgets-size-select{width:100%}"]);_templateObject529=function _templateObject529(){return data;};return data;}function _templateObject528(){var data=_taggedTemplateLiteral(["<template><h2>UI</h2><section id=\"theme-section\"><h3>Theme</h3><x-select id=\"theme-select\"><x-menu><x-menuitem value=\"auto\" toggled><x-label id=\"auto-theme-label\"></x-label></x-menuitem><hr><x-menuitem value=\"cupertino\" id=\"cupertino-theme-select-item\"><x-label>Cupertino</x-label></x-menuitem><x-menuitem value=\"fluent\"><x-label>Fluent</x-label></x-menuitem><x-menuitem value=\"vanilla\"><x-label>Vanilla</x-label></x-menuitem></x-menu></x-select></section><hr><section id=\"colors-section\"><h3>Colors</h3><section id=\"color-scheme-subsection\"><h4>Color scheme</h4><x-select id=\"color-scheme-select\"><x-menu id=\"color-scheme-menu\"><x-menuitem value=\"auto\"><x-label id=\"auto-color-scheme-label\"></x-label></x-menuitem><hr><x-menuitem value=\"light\"><x-label>Light</x-label></x-menuitem><x-menuitem value=\"dark\"><x-label>Dark</x-label></x-menuitem></x-menu></x-select></section><section id=\"accent-color-subsection\"><h4>Accent color</h4><x-box id=\"accent-color-box\"><x-select id=\"accent-color-preset-select\"><x-menu id=\"accent-color-preset-menu\"><x-menuitem value=\"auto\" toggled><x-swatch id=\"auto-accent-color-preset-swatch\"></x-swatch><x-label id=\"auto-accent-color-preset-label\"></x-label></x-menuitem><hr><x-menuitem value=\"blue\"><x-swatch></x-swatch><x-label>Blue</x-label></x-menuitem><x-menuitem value=\"purple\"><x-swatch></x-swatch><x-label>Purple</x-label></x-menuitem><x-menuitem value=\"pink\"><x-swatch></x-swatch><x-label>Pink</x-label></x-menuitem><x-menuitem value=\"red\"><x-swatch></x-swatch><x-label>Red</x-label></x-menuitem><x-menuitem value=\"orange\"><x-swatch></x-swatch><x-label>Orange</x-label></x-menuitem><x-menuitem value=\"yellow\"><x-swatch></x-swatch><x-label>Yellow</x-label></x-menuitem><x-menuitem value=\"green\"><x-swatch></x-swatch><x-label>Green</x-label></x-menuitem><x-menuitem value=\"graphite\"><x-swatch></x-swatch><x-label>Graphite</x-label></x-menuitem><hr><x-menuitem value=\"custom\"><x-icon name=\"color-wheel\"></x-icon><x-label>Other</x-label></x-menuitem></x-menu></x-select><x-colorselect id=\"accent-color-select\"><x-popover modal><x-wheelcolorpicker></x-wheelcolorpicker></x-popover></x-colorselect></x-box></section></section><hr><section id=\"size-section\"><h3>Size</h3><section id=\"widgets-size-subsection\"><h4>Widgets size</h4><x-select id=\"widgets-size-select\"><x-menu><x-menuitem value=\"auto\" toggled><x-label id=\"auto-widgets-size-label\"></x-label></x-menuitem><hr><x-menuitem value=\"medium\" toggled><x-label>Medium</x-label></x-menuitem><x-menuitem value=\"large\"><x-label>Large</x-label></x-menuitem></x-menu></x-select></section></section><hr><section id=\"menubar-section\"><h3>Menubar</h3><x-checkbox id=\"show-install-button-checkbox\"><x-label>Show \"Install\" button</x-label></x-checkbox><x-checkbox id=\"show-cloud-button-checkbox\"><x-label>Show \"Cloud\" button</x-label></x-checkbox><x-checkbox id=\"show-profile-button-checkbox\"><x-label>Show \"Public profile\" button</x-label></x-checkbox></section><hr><section id=\"docks-section\"><h3>Docks</h3><x-checkbox id=\"show-dock-tooltips-checkbox\"><x-label>Show tooltips</x-label></x-checkbox></section><hr><section id=\"canvas-section\"><h3>Canvas</h3><x-checkbox id=\"limit-scrollable-area-checkbox\"><x-label>Limit scrollable area</x-label></x-checkbox><x-checkbox id=\"show-view-outline-above-objects-checkbox\"><x-label>Show view outline above objects</x-label></x-checkbox></section></template>"]);_templateObject528=function _templateObject528(){return data;};return data;}function _templateObject527(){var data=_taggedTemplateLiteral(["#hardware-acceleration-checkbox{margin-top:10px}#recent-files-select{width:100%}"]);_templateObject527=function _templateObject527(){return data;};return data;}function _templateObject526(){var data=_taggedTemplateLiteral(["<template><h2>General</h2><section id=\"hardware-acceleration-section\"><h3>Hardware acceleration</h3><p>You should disable hardware acceleration if you are running the app inside a virtual machine or on older hardware and you observe graphical glitches such as flickering or disappearing widgets. <strong>Requires app restart.</strong></p><x-checkbox id=\"hardware-acceleration-checkbox\" toggled><x-label>Hardware acceleration</x-label></x-checkbox></section><hr id=\"hr-1\" hidden><section id=\"recent-files-section\" hidden><h3>Recent files</h3><p>Limit the number of files shown by \"File -> Open Recent\" menu.</p><x-select id=\"recent-files-select\"><x-menu id=\"recent-files-menu\"><x-menuitem value=\"5\"><x-label>5</x-label></x-menuitem><x-menuitem value=\"10\"><x-label>10</x-label></x-menuitem><x-menuitem value=\"15\"><x-label>15</x-label></x-menuitem><x-menuitem value=\"20\"><x-label>20</x-label></x-menuitem><x-menuitem value=\"20\"><x-label>30</x-label></x-menuitem><x-menuitem value=\"20\"><x-label>50</x-label></x-menuitem></x-menu></x-select></section></template>"]);_templateObject526=function _templateObject526(){return data;};return data;}function _templateObject525(){var data=_taggedTemplateLiteral([":host{display:none;width:100%}:host([enabled]){display:block}h2:first-child{margin-top:0}p{font-size:13px;line-height:1.4;margin:5px 0 8px 0}section+hr{margin:20px 0}section[hidden]+hr{display:none}"]);_templateObject525=function _templateObject525(){return data;};return data;}function _templateObject524(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%}:host(:focus){outline:0}#main{display:flex;width:100%;height:100%}#board{flex:1}#breadcrumb{position:absolute;top:5px;left:44px}#breadcrumb[computedsize=large]{left:50px}"]);_templateObject524=function _templateObject524(){return data;};return data;}function _templateObject523(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><bx-toolsdock id=\"tools-dock\"></bx-toolsdock><bx-board id=\"board\"></bx-board><bx-offscreenboard id=\"offscreen-board\"></bx-offscreenboard><bx-primarypanelsdock id=\"primary-panels-dock\"><bx-fillpanel id=\"fill-panel\" name=\"Fill\"></bx-fillpanel><bx-strokepanel id=\"stroke-panel\" name=\"Stroke\"></bx-strokepanel><bx-compositingpanel id=\"compositing-panel\" name=\"Compositing\"></bx-compositingpanel><bx-typographypanel id=\"typography-panel\" name=\"Typography\"></bx-typographypanel><bx-geometrypanel id=\"geometry-panel\" name=\"Geometry\"></bx-geometrypanel><bx-metapanel id=\"meta-panel\" name=\"Meta\"></bx-metapanel><bx-shapepanel id=\"shape-panel\" name=\"Shape\"></bx-shapepanel><bx-arrangementpanel id=\"arrangement-panel\" name=\"Arrangement\"></bx-arrangementpanel><bx-objectspanel id=\"objects-panel\" name=\"Objects\"></bx-objectspanel><bx-defspanel id=\"defs-panel\" name=\"Defs\"></bx-defspanel><bx-librarypanel id=\"library-panel\" name=\"Library\"></bx-librarypanel><bx-generatorspanel id=\"generators-panel\" name=\"Generators\"></bx-generatorspanel><bx-exportpanel id=\"export-panel\" name=\"Export\"></bx-exportpanel><bx-historypanel id=\"history-panel\" name=\"History\"></bx-historypanel></bx-primarypanelsdock><bx-secondarypanelsdock id=\"secondary-panels-dock\"><bx-elementspanel id=\"elements-panel\" name=\"Elements\"></bx-elementspanel><bx-codepanel id=\"code-panel\" name=\"Code\" hidden></bx-codepanel><bx-animationpanel id=\"animation-panel\" name=\"Animation\" hidden></bx-animationpanel></bx-secondarypanelsdock><bx-editorbreadcrumb id=\"breadcrumb\"></bx-editorbreadcrumb></main><bx-colorgrabber id=\"color-grabber\"></bx-colorgrabber><bx-objectgrabber id=\"object-grabber\"></bx-objectgrabber></template>"]);_templateObject523=function _templateObject523(){return data;};return data;}function _templateObject522(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%}:host([enabled]){display:block}#main{width:100%;height:100%;padding:20px}"]);_templateObject522=function _templateObject522(){return data;};return data;}function _templateObject521(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><x-label>This feature is coming soon</x-label></main></template>"]);_templateObject521=function _templateObject521(){return data;};return data;}function _templateObject520(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%}:host([enabled]){display:block}#main{width:100%;height:100%;padding:20px}"]);_templateObject520=function _templateObject520(){return data;};return data;}function _templateObject519(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><x-label>This feature is coming soon</x-label></main></template>"]);_templateObject519=function _templateObject519(){return data;};return data;}function _templateObject518(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%}:host([enabled]){display:block}#container{display:flex;width:100%;height:100%}#main{flex:1}"]);_templateObject518=function _templateObject518(){return data;};return data;}function _templateObject517(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><main id=\"main\"><bx-dominspector id=\"dom-inspector\"></bx-dominspector></main><aside id=\"sidebar\"><bx-csscascadeinspector id=\"css-cascade-inspector\"></bx-csscascadeinspector></aside></div></template>"]);_templateObject517=function _templateObject517(){return data;};return data;}function _templateObject516(){var data=_taggedTemplateLiteral([":host{position:relative;display:block;width:240px;height:100%;outline:0;border-left-width:1px;border-left-style:solid;contain:size layout style;--property-name-color:rgb(200, 0, 0);--property-value-color:currentColor}#main{position:relative;display:flex;flex-flow:column;width:100%;height:100%;overflow:auto;will-change:scroll-position;touch-action:none}#cascade-view{flex:1;padding:8px}#cascade-items{font-size:12px;line-height:16px;font-family:\"Roboto Mono\",Menlo,monospace;word-wrap:break-word;user-select:text}.cascade-item .heading{display:block;margin:8px 0 2px 0;padding:1px 4px;user-select:none;font-family:BlinkMacSystemFont,Roboto,\"Helvetica Neue\",\"Lucida Grande\",Arial,sans-serif;font-size:11px;font-weight:500}.cascade-item .heading:empty{display:none}.cascade-item .heading code{font-size:inherit;padding:0 4px;display:inline-block}.cascade-item .selector[disabled]{opacity:.65}.cascade-item .property-item{display:flex;align-items:center}.cascade-item .checkbox{margin:0 5px 0 1px;width:13px;height:13px;visibility:hidden}.cascade-item .property-item .name{color:var(--property-name-color);cursor:text;line-height:12px}.cascade-item .property-item .value{color:var(--property-value-color);cursor:text}#autocompletion-list{position:fixed;border-width:1px;border-style:solid;white-space:pre;overflow:auto;z-index:999999}#autocompletion-list .item{padding:2px 4px}#autocompletion-list .item:hover{background:var(--selection-background-color)}#autocompletion-list .item[data-selected]{background:var(--accent-color);color:#fff}span[contenteditable]{display:inline-block;text-overflow:clip;user-select:text;-webkit-user-modify:read-write-plaintext-only}span[contenteditable]:empty:not([ghost]){padding:0 1px 0 2px}span[contenteditable]::after{content:attr(ghost);opacity:.5}#resize-grippie{position:absolute;top:0;left:0;width:5px;height:100%;z-index:9;background:0 0;cursor:col-resize}"]);_templateObject516=function _templateObject516(){return data;};return data;}function _templateObject515(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"cascade-view\"><div id=\"cascade-items\"></div></div><div id=\"computed-view\"></div></main><div id=\"resize-grippie\"></div></template>"]);_templateObject515=function _templateObject515(){return data;};return data;}function _templateObject514(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;outline:0;contain:size layout style;--bracket-color:#881280;--tag-color:#881280;--attribute-color:#a894a6;--attribute-name-color:#994500;--attribute-value-color:#1919a7;--highlight-color:#bb38b2}#main{position:relative;width:100%;height:100%;overflow:auto;will-change:scroll-position;touch-action:none}#tree{padding:1px 0;font-size:12px;line-height:16px;font-family:\"Roboto Mono\",Menlo,monospace;word-wrap:break-word}.item{position:relative;margin-left:22px;z-index:2;color:var(--text-color)}.item[data-selected]{color:#fff}.item[data-dragover]{z-index:3}.item[hidden]{display:none}span[contenteditable]{text-overflow:clip;min-width:.5ex;-webkit-user-select:text;-webkit-user-modify:read-write-plaintext-only}.item[data-type=text]{word-break:break-all}.item[data-type=text][data-selected]>.content::before{content:\"\";background:var(--accent-color);outline:1px solid var(--accent-color);position:absolute;top:0;left:0;margin-left:-600px;width:calc(100% + 600px);height:100%;z-index:-1}.item[data-type=text][data-dragover=afterend]::after,.item[data-type=text][data-dragover=beforebegin]::before{display:block;content:\"\";width:100%;outline:1px solid var(--light-accent-color);pointer-events:none}.item[data-type=element]>.icon{fill:currentColor;vertical-align:middle;padding:3px;position:absolute;top:2px;left:-19px;transform:rotate(0);z-index:2}.item[data-type=element][data-expanded]>.icon{transform:rotate(90deg)}.item[data-type=element]>.icon>path{pointer-events:none}.item[data-type=element]>.tag{position:relative;border-top:1px solid transparent;border-bottom:1px solid transparent}.item[data-type=element]>.tag>.closing-bracket,.item[data-type=element]>.tag>.opening-bracket{color:var(--bracket-color)}.item[data-type=element][data-selected]>.tag>.closing-bracket,.item[data-type=element][data-selected]>.tag>.opening-bracket{color:inherit;opacity:.5}.item[data-type=element]>.tag>.opening-bracket[disabled]{opacity:.45}.item[data-type=element]>.tag>.tag-name{color:var(--tag-color)}.item[data-type=element][data-selected]>.tag>.tag-name{color:inherit}.item[data-type=element]>.tag>.tag-name[disabled]{opacity:.45}.item[data-type=element]>.tag .attributes{line-height:1}.item[data-type=element]>.tag .attribute{transition:background .25s;margin-left:6px;color:var(--attribute-color)}.item[data-type=element][data-selected]>.tag .attribute{color:rgba(255,255,255,.7)}.item[data-type=element]>.tag .attribute[highlighted]{background:var(--highlight-color)}.item[data-type=element]>.tag .attribute[disabled]{font-weight:700;opacity:.45}.item[data-type=element]>.tag .attribute .name{color:var(--attribute-name-color)}.item[data-type=element][data-selected]>.tag .attribute .name{color:inherit}.item[data-type=element]>.tag .attribute .value{color:var(--attribute-value-color)}.item[data-type=element][data-selected]>.tag .attribute .value{color:#fff}.item[data-type=element]>.tag .attribute .ellipsis{padding-left:4px;text-decoration:underline;letter-spacing:-2px;cursor:pointer}.item[data-type=element][data-selected]>.tag .attribute .ellipsis{color:#fff}.item[data-type=element]>.tag .attribute .ellipsis:hover{text-decoration:none}.item[data-type=element]>.tag .attribute[highlighted] *{color:#fff}.item[data-type=element][data-selected]>.tag::before{content:\"\";background:var(--accent-color);outline:1px solid var(--accent-color);position:absolute;top:0;left:0;margin-left:-600px;width:calc(100% + 600px);height:100%;z-index:-1}.item[data-type=element][data-dragover=afterbegin]>.subtree::before,.item[data-type=element][data-dragover=beforeend]>.subtree::after{display:block;content:\"\";width:100%;outline:1px solid var(--accent-color);pointer-events:none;margin-left:22px}.item[data-type=element][data-dragover=afterend]::after,.item[data-type=element][data-dragover=beforebegin]::before{display:block;content:\"\";width:100%;outline:1px solid var(--accent-color);pointer-events:none}"]);_templateObject514=function _templateObject514(){return data;};return data;}function _templateObject513(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"tree\"></div></main></template>"]);_templateObject513=function _templateObject513(){return data;};return data;}function _templateObject512(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;flex-flow:column}#header{padding:16px 20px;border-bottom-width:1px;border-bottom-style:solid}#header h2{margin:0;line-height:1}#main{flex:1;width:100%;padding:4px 0;overflow:auto;box-sizing:border-box;outline:0}#items .item{padding:3px 20px;font-size:13px}#items .item[data-selected]{color:#fff;background:var(--accent-color)}#placeholder{padding:10px 20px 0;opacity:.6;box-sizing:border-box;font-size:12px}#footer{width:100%;padding:13px 20px 14px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer x-buttons{width:100%}#footer x-buttons x-button{flex:1}#footer #slider{margin-top:10px}"]);_templateObject512=function _templateObject512(){return data;};return data;}function _templateObject511(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">History</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No history items.</div></main><footer id=\"footer\" part=\"footer\"><x-buttons><x-button id=\"undo-button\" condensed disabled=\"disabled\"><x-icon name=\"undo\"></x-icon><x-label>Undo</x-label></x-button><x-button id=\"redo-button\" condensed disabled=\"disabled\"><x-icon name=\"redo\"></x-icon><x-label>Redo</x-label></x-button><x-button id=\"clear-button\" condensed disabled=\"disabled\"><x-icon name=\"clear\"></x-icon><x-label>Clear</x-label></x-button></x-buttons><x-slider id=\"slider\"></x-slider></footer></template>"]);_templateObject511=function _templateObject511(){return data;};return data;}function _templateObject510(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%}#header{padding:16px 20px;border-bottom-width:1px;border-bottom-style:solid}#header h2{margin:0;line-height:1}#header #format-select{width:100%;margin-top:12px}#main{flex:1;overflow:auto}#footer{padding:15px 20px 15px 20px;border-top-width:1px;border-top-style:solid}#footer #export-button{width:100%}#footer #progress-bar{position:absolute;bottom:0;left:0;width:100%;border-radius:0;box-shadow:none;background:0 0;height:4px}"]);_templateObject510=function _templateObject510(){return data;};return data;}function _templateObject509(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">Export</h2><x-select id=\"format-select\"><x-menu><x-menuitem value=\"png\" toggled><x-label>PNG</x-label></x-menuitem><x-menuitem value=\"jpeg\"><x-label>JPEG</x-label></x-menuitem><x-menuitem value=\"gif\"><x-label>GIF</x-label></x-menuitem><x-menuitem value=\"webp\"><x-label>WebP</x-label></x-menuitem><hr><x-menuitem value=\"svg\"><x-label>SVG</x-label></x-menuitem><x-menuitem value=\"svgz\"><x-label>SVGZ</x-label></x-menuitem><x-menuitem value=\"html\"><x-label>HTML</x-label></x-menuitem><x-menuitem value=\"pdf\" id=\"pdf-menu-item\"><x-label>PDF</x-label></x-menuitem></x-menu></x-select></header><main id=\"main\" part=\"main\"></main><footer id=\"footer\" part=\"footer\"><x-button id=\"export-button\" size=\"larger\" disabled=\"disabled\"><x-icon name=\"export-panel\"></x-icon><x-label id=\"export-label\">Export</x-label></x-button><x-progressbar id=\"progress-bar\" value=\"-1\"></x-progressbar></footer></template>"]);_templateObject509=function _templateObject509(){return data;};return data;}function _templateObject508(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:18px}#height-input,#width-input{width:100%}#height-box,#width-box{flex:1}#height-unit-select,#width-unit-select{margin-top:5px;width:100%}#lock-size-button{align-self:center;margin:20px 0 0 0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#background-subsection{margin-top:18px}#background-select x-popover{--align:right}#normalize-subsection{margin-top:18px}"]);_templateObject508=function _templateObject508(){return data;};return data;}function _templateObject507(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4 id=\"area-heading\">Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"0.001\" condensed><x-stepper></x-stepper></x-numberinput><x-select id=\"width-unit-select\"><x-menu><x-menuitem value=\"cm\" toggled><x-label>cm</x-label></x-menuitem><x-menuitem value=\"in\"><x-label>in</x-label></x-menuitem></x-menu></x-select></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"0.001\" condensed><x-stepper></x-stepper></x-numberinput><x-select id=\"height-unit-select\"><x-menu><x-menuitem value=\"cm\" toggled><x-label>cm</x-label></x-menuitem><x-menuitem value=\"in\"><x-label>in</x-label></x-menuitem></x-menu></x-select></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section><section id=\"normalize-subsection\"><h4 id=\"normalize-heading\">Normalize</h4><x-checkbox id=\"convert-texts-checkbox\"><x-label>Convert texts to paths</x-label></x-checkbox></section></template>"]);_templateObject507=function _templateObject507(){return data;};return data;}function _templateObject506(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#normalize-subsection{margin-top:18px}#normalize-subsection>x-checkbox{margin-top:6px}"]);_templateObject506=function _templateObject506(){return data;};return data;}function _templateObject505(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"normalize-subsection\"><h4 id=\"normalize-heading\">Normalize</h4><x-checkbox id=\"convert-texts-to-paths-checkbox\"><x-label>Convert texts to paths</x-label></x-checkbox><x-checkbox id=\"remove-embedded-fonts-checkbox\"><x-label>Remove embedded fonts</x-label></x-checkbox></section></template>"]);_templateObject505=function _templateObject505(){return data;};return data;}function _templateObject504(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#viewport-subsection{margin-top:16px}#viewport-buttons{width:100%}#viewport-buttons x-button{flex:1}#normalize-subsection{margin-top:16px}#normalize-subsection>x-checkbox{margin-top:6px}"]);_templateObject504=function _templateObject504(){return data;};return data;}function _templateObject503(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"viewport-subsection\"><h4 id=\"viewport-heading\">Viewport</h4><x-buttons id=\"viewport-buttons\" tracking=\"1\"><x-button id=\"responsive-viewport-button\" value=\"responsive\" toggled><x-label>Responsive</x-label></x-button><x-button id=\"fixed-viewport-button\" value=\"fixed\"><x-label>Fixed</x-label></x-button></x-buttons></section><section id=\"normalize-subsection\"><h4 id=\"normalize-heading\">Normalize</h4><x-checkbox id=\"convert-texts-to-paths-checkbox\"><x-label>Convert texts to paths</x-label></x-checkbox><x-checkbox id=\"remove-embedded-fonts-checkbox\"><x-label>Remove embedded fonts</x-label></x-checkbox><x-checkbox id=\"remove-non-standard-namespaces-checkbox\"><x-label>Remove non-standard namespaces</x-label></x-checkbox></section></template>"]);_templateObject503=function _templateObject503(){return data;};return data;}function _templateObject502(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#viewport-subsection{margin-top:16px}#viewport-buttons{width:100%}#viewport-buttons x-button{flex:1}#normalize-subsection{margin-top:16px}"]);_templateObject502=function _templateObject502(){return data;};return data;}function _templateObject501(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"viewport-subsection\"><h4 id=\"viewport-heading\">Viewport</h4><x-buttons id=\"viewport-buttons\" tracking=\"1\"><x-button id=\"responsive-viewport-button\" value=\"responsive\" toggled><x-label>Responsive</x-label></x-button><x-button id=\"fixed-viewport-button\" value=\"fixed\"><x-label>Fixed</x-label></x-button></x-buttons></section><section id=\"normalize-subsection\"><h4 id=\"normalize-heading\">Normalize</h4><x-checkbox id=\"convert-texts-to-paths-checkbox\"><x-label>Convert texts to paths</x-label></x-checkbox><x-checkbox id=\"remove-embedded-fonts-checkbox\"><x-label>Remove embedded fonts</x-label></x-checkbox><x-checkbox id=\"remove-non-standard-namespaces-checkbox\"><x-label>Remove non-standard namespaces</x-label></x-checkbox></section></template>"]);_templateObject501=function _templateObject501(){return data;};return data;}function _templateObject500(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:16px}#height-box,#width-box{flex:1}#height-input,#width-input{width:100%}#lock-size-button{align-self:flex-end;margin:0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#margin-subsection{margin-top:16px}#margin-box{display:flex;margin-top:14px}#margin-heading{flex:1;margin:0}#margin-switch{margin:0}#margin-input{width:240px;margin:0 auto -10px auto}#compression-subsection{margin-top:16px}#compression-subsection x-box{width:100%}#compression-heading{margin-bottom:0}#compression-slider{flex:1}#compression-input{margin-left:10px;width:60px}#background-subsection{margin-top:16px}#background-select x-popover{--align:right}"]);_templateObject500=function _templateObject500(){return data;};return data;}function _templateObject499(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"margin-subsection\"><x-box id=\"margin-heading-box\"><h4 id=\"margin-heading\">Margin</h4><x-switch id=\"margin-switch\" size=\"smaller\"></x-switch></x-box><bx-edgeinput id=\"margin-input\" suffix=\" px\" hidden></bx-edgeinput></section><section id=\"compression-subsection\"><h4 id=\"compression-heading\">Compression</h4><x-box><x-slider id=\"compression-slider\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"compression-input\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></template>"]);_templateObject499=function _templateObject499(){return data;};return data;}function _templateObject498(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:16px}#height-box,#width-box{flex:1}#height-input,#width-input{width:100%}#lock-size-button{align-self:flex-end;margin:0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#margin-subsection{margin-top:16px}#margin-box{display:flex;margin-top:14px}#margin-heading{flex:1;margin:0}#margin-switch{margin:0}#margin-input{width:240px;margin:0 auto -10px auto}#dithering-subsection{margin-top:16px}#dithering-select{width:100%}#background-subsection{margin-top:16px}#background-select x-popover{--align:right}#background-subsection>x-checkbox{margin-top:7px}"]);_templateObject498=function _templateObject498(){return data;};return data;}function _templateObject497(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"margin-subsection\"><x-box id=\"margin-heading-box\"><h4 id=\"margin-heading\">Margin</h4><x-switch id=\"margin-switch\" size=\"smaller\"></x-switch></x-box><bx-edgeinput id=\"margin-input\" suffix=\" px\" hidden></bx-edgeinput></section><section id=\"dithering-subsection\"><h4 id=\"dithering-heading\">Dithering</h4><x-select id=\"dithering-select\"><x-menu><x-menuitem value=\"none\" toggled><x-label>None</x-label></x-menuitem><x-menuitem value=\"floyd-steinberg\"><x-label>Floyd\u2013Steinberg</x-label></x-menuitem><x-menuitem value=\"false-floyd-steinberg\"><x-label>False Floyd\u2013Steinberg</x-label></x-menuitem><x-menuitem value=\"stucki\"><x-label>Stucki</x-label></x-menuitem><x-menuitem value=\"atkinson\"><x-label>Atkinson</x-label></x-menuitem></x-menu></x-select></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\"></bx-colorpicker></x-popover></x-colorselect><x-checkbox id=\"transparent-checkbox\"><x-label>Treat this color as transparency</x-label></x-checkbox></section></template>"]);_templateObject497=function _templateObject497(){return data;};return data;}function _templateObject496(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:16px}#height-box,#width-box{flex:1}#height-input,#width-input{width:100%}#lock-size-button{align-self:flex-end;margin:0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#margin-subsection{margin-top:16px}#margin-box{display:flex;margin-top:14px}#margin-heading{flex:1;margin:0}#margin-switch{margin:0}#margin-input{width:240px;margin:0 auto -10px auto}#compression-subsection{margin-top:16px}#compression-subsection x-box{width:100%}#compression-heading{margin-bottom:0}#compression-slider{flex:1}#compression-input{margin-left:10px;width:60px}#background-subsection{margin-top:16px}#background-select x-popover{--align:right}"]);_templateObject496=function _templateObject496(){return data;};return data;}function _templateObject495(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"margin-subsection\"><x-box id=\"margin-heading-box\"><h4 id=\"margin-heading\">Margin</h4><x-switch id=\"margin-switch\" size=\"smaller\"></x-switch></x-box><bx-edgeinput id=\"margin-input\" suffix=\" px\" hidden></bx-edgeinput></section><section id=\"compression-subsection\"><h4 id=\"compression-heading\">Compression</h4><x-box><x-slider id=\"compression-slider\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"compression-input\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\"></bx-colorpicker></x-popover></x-colorselect></section></template>"]);_templateObject495=function _templateObject495(){return data;};return data;}function _templateObject494(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:16px}#height-box,#width-box{flex:1}#height-input,#width-input{width:100%}#lock-size-button{align-self:flex-end;margin:0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#margin-subsection{margin-top:16px}#margin-box{display:flex;margin-top:14px}#margin-heading{flex:1;margin:0}#margin-switch{margin:0}#margin-input{width:240px;margin:0 auto -10px auto}#dpi-subsection{margin-top:16px}#dpi-subsection x-box{width:100%}#dpi-heading{margin-bottom:0}#dpi-slider{flex:1}#dpi-input{width:60px;margin-left:10px}#colors-subsection{margin-top:10px}#colors-mode-buttons{width:100%}#colors-mode-buttons x-button{flex:1}#colors-box{margin-top:6px}#colors-box[hidden]{display:none}#colors-slider{flex:1}#colors-input{margin-left:10px;width:60px}#background-subsection{margin-top:16px}#background-select x-popover{--align:right}"]);_templateObject494=function _templateObject494(){return data;};return data;}function _templateObject493(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"margin-subsection\"><x-box id=\"margin-heading-box\"><h4 id=\"margin-heading\">Margin</h4><x-switch id=\"margin-switch\" size=\"smaller\"></x-switch></x-box><bx-edgeinput id=\"margin-input\" suffix=\" px\" hidden></bx-edgeinput></section><section id=\"dpi-subsection\"><h4 id=\"dpi-heading\">DPI</h4><x-box><x-slider id=\"dpi-slider\" value=\"96\" min=\"1\" max=\"400\" step=\"1\"></x-slider><x-numberinput id=\"dpi-input\" value=\"96\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"colors-subsection\"><h4 id=\"colors-heading\">Colors</h4><x-buttons id=\"colors-mode-buttons\" tracking=\"1\"><x-button id=\"rgb-button\" value=\"rgb\" toggled><x-label>RGB</x-label></x-button><x-button id=\"palette-button\" value=\"palette\"><x-label>Palette</x-label></x-button></x-buttons><x-box id=\"colors-box\" hidden><x-slider id=\"colors-slider\" value=\"256\" min=\"3\" max=\"256\" step=\"1\"></x-slider><x-numberinput id=\"colors-input\" value=\"256\" min=\"3\" max=\"256\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></template>"]);_templateObject493=function _templateObject493(){return data;};return data;}function _templateObject492(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}h3:first-child,h4:first-child{margin-top:0}#options-section{padding:16px 20px 16px 20px}#preview-section{padding:16px 20px}#preview{display:block;margin:0 auto;width:auto;height:auto;max-height:140px;max-width:100%;user-select:none;background:var(--checkboard-background);border-width:1px;border-style:solid}#preview[hidden]{display:none}#preview-label{margin-top:7px;text-align:center;font-weight:500;font-size:12px;opacity:.7}"]);_templateObject492=function _templateObject492(){return data;};return data;}function _templateObject491(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><x-button id=\"preview-button\"><x-label>Generate</x-label></x-button><image id=\"preview\" part=\"preview\" hidden></image><x-label id=\"preview-label\" hidden></x-label></section></template>"]);_templateObject491=function _templateObject491(){return data;};return data;}function _templateObject490(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%}#header{padding:16px 20px;border-bottom-width:1px;border-bottom-style:solid}#header h2{margin:0;line-height:1}#header #generator-select{width:100%;margin-top:12px}#main{flex:1;overflow:auto}"]);_templateObject490=function _templateObject490(){return data;};return data;}function _templateObject489(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">Generators</h2><x-select id=\"generator-select\"><x-menu><x-menuitem value=\"bx-barcodegenerator\"><x-label>Barcode</x-label></x-menuitem><x-menuitem value=\"bx-qrcodegenerator\"><x-label>QR code</x-label></x-menuitem><hr><x-menuitem value=\"bx-parliamentchartgenerator\"><x-label>Parliament chart</x-label></x-menuitem><x-menuitem value=\"bx-triangulatedsurfacegenerator\"><x-label>Triangulated surface</x-label></x-menuitem><x-menuitem value=\"bx-jigsawpuzzlegenerator\"><x-label>Jigsaw puzzle</x-label></x-menuitem><hr><x-menuitem value=\"bx-rasterizegenerator\"><x-label>Rasterize</x-label></x-menuitem><x-menuitem value=\"bx-vectorizegenerator\"><x-label>Vectorize</x-label></x-menuitem><hr><x-menuitem value=\"bx-pixelategenerator\"><x-label>Pixelate</x-label></x-menuitem><x-menuitem value=\"bx-triangulategenerator\"><x-label>Triangulate</x-label></x-menuitem><x-menuitem value=\"bx-primitivizegenerator\"><x-label>Primitivize</x-label></x-menuitem><hr><x-menuitem value=\"bx-resizeviewgenerator\"><x-label>Resize view to fit objects</x-label></x-menuitem></x-menu></x-select></header><main id=\"main\" part=\"main\"></main></template>"]);_templateObject489=function _templateObject489(){return data;};return data;}function _templateObject488(){var data=_taggedTemplateLiteral(["section section{display:flex;flex-flow:column}#shapes-type-buttons{width:100%}#shapes-type-buttons x-button{flex:1}#shapes-number-subsection{margin-top:8px}#shapes-number-subsection x-box{width:100%}#shapes-number-heading{margin-bottom:0}#shapes-number-slider{flex:1}#shapes-number-input{margin-left:10px;width:60px}#shapes-alpha-subsection x-box{width:100%}#shapes-alpha-heading{margin-bottom:0}#shapes-alpha-slider{flex:1}#shapes-alpha-input{margin-left:10px;width:60px}#auto-adjust-shapes-alpha-box{margin-top:2px}#auto-adjust-shapes-alpha-box x-label{font-size:12px}#working-size-subsection h5{margin-bottom:0}#working-size-slider{flex:1}#working-size-input{margin-left:10px;width:60px}#shapes-per-iteration-subsection h5{margin-bottom:0}#shapes-per-iteration-slider{flex:1}#shapes-per-iteration-input{margin-left:10px;width:60px}#max-mutations-subsection h5{margin-bottom:0}#max-mutations-slider{flex:1}#max-mutations-input{margin-left:10px;width:60px}#seed-subsection h5{margin-bottom:0}#seed-slider{flex:1}#seed-input{margin-left:10px;width:60px}#render-as-buttons{width:100%}#render-as-buttons x-button{flex:1}#overflow-subsection{margin-top:8px}#overflow-buttons{width:100%}#overflow-buttons x-button{flex:1}#preview{height:160px}"]);_templateObject488=function _templateObject488(){return data;};return data;}function _templateObject487(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label id=\"generate-label\">Primitivize</x-label></x-button><x-progressbar id=\"progress-bar\" value=\"-1\"></x-progressbar></template>"]);_templateObject487=function _templateObject487(){return data;};return data;}function _templateObject486(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"shapes-section\"><h4 id=\"shapes-heading\">Shapes</h4><section id=\"shapes-type-subsection\"><h5 id=\"shapes-type-heading\">Type</h5><x-buttons id=\"shapes-type-buttons\" tracking=\"3\"><x-button value=\"triangles\" condensed><x-label>Triangles</x-label></x-button><x-button value=\"rectangles\" condensed><x-label>Rectangles</x-label></x-button></x-buttons></section><section id=\"shapes-number-subsection\"><h5 id=\"shapes-number-heading\">Number</h5><x-box id=\"shapes-number-box\"><x-slider id=\"shapes-number-slider\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"shapes-number-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"shapes-alpha-subsection\"><h5 id=\"shapes-alpha-heading\">Alpha</h5><x-box id=\"shapes-alpha-box\"><x-slider id=\"shapes-alpha-slider\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"shapes-alpha-input\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"auto-adjust-shapes-alpha-box\"><x-checkbox id=\"auto-adjust-shapes-alpha-checkbox\"><x-label>Auto-adjust alpha</x-label></x-checkbox></x-box></section></section><hr><section id=\"algorithm-subsection\"><h4 id=\"algorithm-heading\">Algorithm</h4><section id=\"working-size-subsection\"><h5 id=\"working-size-heading\">Working size</h5><x-box id=\"working-size-box\"><x-slider id=\"working-size-slider\" min=\"10\" max=\"1000\" step=\"1\"></x-slider><x-numberinput id=\"working-size-input\" min=\"10\" max=\"1000\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"shapes-per-iteration-subsection\"><h5 id=\"shapes-per-iteration-heading\">Shapes per iteration</h5><x-box id=\"shapes-per-iteration-box\"><x-slider id=\"shapes-per-iteration-slider\" min=\"1\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"shapes-per-iteration-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"max-mutations-subsection\"><h5 id=\"max-mutations-heading\">Max mutations</h5><x-box id=\"max-mutations-box\"><x-slider id=\"max-mutations-slider\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"max-mutations-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-subsection\"><h5 id=\"seed-heading\">Seed</h5><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" min=\"0\" max=\"200\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"rendering-subsection\"><h4 id=\"rendering-heading\">SVG rendering</h4><section id=\"render-as-subsection\"><h5 id=\"render-as-heading\">Render as</h5><x-buttons id=\"render-as-buttons\" tracking=\"1\"><x-button value=\"paths\" condensed><x-label>Paths</x-label></x-button><x-button value=\"shapes\" condensed><x-label>Shapes</x-label></x-button></x-buttons></section><section id=\"overflow-subsection\"><h5 id=\"overflow-heading\">Overflow</h5><x-buttons id=\"overflow-buttons\" tracking=\"1\"><x-button value=\"cut\" condensed><x-label>Cut</x-label></x-button><x-button value=\"visible\" condensed><x-label>Visible</x-label></x-button></x-buttons></section></section></section><hr id=\"preview-section-hr\"><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\"></svg></section></template>"]);_templateObject486=function _templateObject486(){return data;};return data;}function _templateObject485(){var data=_taggedTemplateLiteral(["#cell-size-subsection{display:flex;flex-flow:column}#cell-size-subsection h4{margin-bottom:0}#cell-size-slider{flex:1}#cell-size-input{margin-left:10px;width:60px}#variance-subsection{margin-top:10px}#variance-subsection h4{margin:0}#variance-slider{flex:1}#variance-input{margin-left:10px;width:60px}#seed-subsection{margin-top:10px}#seed-subsection h4{margin:0}#seed-slider{flex:1}#seed-input{margin-left:10px;width:60px}#render-as-subsection{margin-top:10px}#render-as-buttons{width:100%}#render-as-buttons x-button{flex:1}#preview{height:160px}"]);_templateObject485=function _templateObject485(){return data;};return data;}function _templateObject484(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Triangulate</x-label></x-button></template>"]);_templateObject484=function _templateObject484(){return data;};return data;}function _templateObject483(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"cell-size-subsection\"><h4 id=\"cell-size-heading\">Cell size</h4><x-box id=\"cell-size-box\"><x-slider id=\"cell-size-slider\" min=\"2\" max=\"20\" step=\"1\"></x-slider><x-numberinput id=\"cell-size-input\" min=\"2\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"variance-subsection\"><h4 id=\"variance-heading\">Variance</h4><x-box id=\"variance-box\"><x-slider id=\"variance-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"variance-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-subsection\"><h4 id=\"seed-heading\">Seed</h4><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" min=\"0\" max=\"200\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"render-as-subsection\"><h4 id=\"render-as-heading\">Render as</h4><x-buttons id=\"render-as-buttons\" tracking=\"1\"><x-button value=\"paths\" condensed><x-label>Paths</x-label></x-button><x-button value=\"polygons\" condensed><x-label>Polygons</x-label></x-button></x-buttons></section></section><hr id=\"preview-section-hr\"><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject483=function _templateObject483(){return data;};return data;}function _templateObject482(){var data=_taggedTemplateLiteral(["#grid-subsection{margin-top:14px}#grid-subsection h4{margin-top:0}#columns-box{flex:1;margin-right:4px}#columns-input{width:100%}#rows-box{flex:1;margin-left:4px}#rows-input{width:100%}#pixel-size-subsection{margin-top:14px}#pixel-size-heading{margin:0}#pixel-size-slider{flex:1}#pixel-size-input{margin-left:10px;width:60px}#pixel-shape-subsection{margin-top:10px}#pixel-shape-buttons{width:100%}#pixel-shape-buttons x-button{flex:1}#render-as-subsection{margin-top:14px}#render-as-buttons{width:100%}#render-as-buttons x-button{flex:1}#preview{height:160px}"]);_templateObject482=function _templateObject482(){return data;};return data;}function _templateObject481(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Pixelate</x-label></x-button></template>"]);_templateObject481=function _templateObject481(){return data;};return data;}function _templateObject480(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"grid-subsection\"><x-box><x-box id=\"columns-box\" vertical><h4 id=\"columns-heading\">Columns</h4><x-numberinput id=\"columns-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"rows-box\" vertical><h4 id=\"rows-heading\">Rows</h4><x-numberinput id=\"rows-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"pixel-size-subsection\"><h4 id=\"pixel-size-heading\">Pixel size</h4><x-box id=\"pixel-size-box\"><x-slider id=\"pixel-size-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"pixel-size-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"pixel-shape-subsection\" vertical><h4 id=\"pixel-shape-heading\">Pixel shape</h4><x-buttons id=\"pixel-shape-buttons\" tracking=\"1\"><x-button value=\"rectangle\" condensed><x-label>Rectangle</x-label></x-button><x-button value=\"ellipse\" condensed><x-label>Ellipse</x-label></x-button></x-buttons></section><section id=\"render-as-subsection\"><h4 id=\"render-as-heading\">Render as</h4><x-buttons id=\"render-as-buttons\" tracking=\"1\"><x-button value=\"paths\" condensed><x-label>Paths</x-label></x-button><x-button value=\"shapes\" condensed><x-label>Shapes</x-label></x-button></x-buttons></section></section><hr id=\"preview-section-hr\"><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject480=function _templateObject480(){return data;};return data;}function _templateObject479(){var data=_taggedTemplateLiteral(["#preset-select{width:100%}#working-size-subsection{display:flex;flex-flow:column}#working-size-subsection h5{margin-bottom:0}#working-size-box{width:100%}#working-size-slider{flex:1}#working-size-input{margin-left:10px;width:60px}#blur-subsection{display:flex;margin-top:4px}#blur-radius-box{flex:1;margin-right:4px}#blur-radius-input{width:100%}#blur-delta-box{flex:1;margin-left:4px}#blur-delta-input{width:100%}#number-of-colors-box{flex:1}#number-of-colors-input{width:100%}#min-color-ratio-box{flex:1;margin:0 8px}#min-color-ratio-input{width:100%}#color-quant-cycles-box{flex:1}#color-quant-cycles-input{width:100%}#color-sampling-box{margin-top:8px}#color-sampling-buttons{width:100%}#color-sampling-buttons x-button{flex:1}#ltres-box{flex:1}#ltres-input{width:100%}#qtres-box{flex:1;margin:0 8px}#qtres-input{width:100%}#path-omit-box{flex:1}#path-omit-input{width:100%}#right-angle-enhance-checkbox{margin-top:6px}#right-angle-enhance-checkbox x-label{font-size:12px}#stroke-width-box x-box{width:100%}#stroke-width-heading{margin-bottom:0}#stroke-width-slider{flex:1}#stroke-width-input{margin-left:10px;width:60px}#line-filter-checkbox{margin-top:6px}#line-filter-checkbox x-label{font-size:12px}#ignore-white-checkbox{margin-top:6px}#ignore-white-checkbox x-label{font-size:12px}#preview{height:160px}#preview-label{text-align:center;font-weight:600;font-size:12px;opacity:.7}"]);_templateObject479=function _templateObject479(){return data;};return data;}function _templateObject478(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Vectorize</x-label></x-button></template>"]);_templateObject478=function _templateObject478(){return data;};return data;}function _templateObject477(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"preset-subsection\"><h4 id=\"preset-heading\">Preset</h4><x-select id=\"preset-select\"><x-menu><x-menuitem value=\"default\" toggled><x-label>Default</x-label></x-menuitem><hr><x-menuitem value=\"blackAndWhite\"><x-label>Black and white</x-label></x-menuitem><x-menuitem value=\"grayscale\"><x-label>Grayscale</x-label></x-menuitem><x-menuitem value=\"posterized\"><x-label>Posterized</x-label></x-menuitem><x-menuitem value=\"curvy\"><x-label>Curvy</x-label></x-menuitem><x-menuitem value=\"sharp\"><x-label>Sharp</x-label></x-menuitem><x-menuitem value=\"detailed\"><x-label>Detailed</x-label></x-menuitem><x-menuitem value=\"smoothed\"><x-label>Smoothed</x-label></x-menuitem></x-menu></x-select></section><hr><section id=\"preprocessing-subsection\"><h4 id=\"preprocessing-heading\">Preprocessing</h4><section id=\"working-size-subsection\"><h5 id=\"working-size-heading\">Working size</h5><x-box id=\"working-size-box\"><x-slider id=\"working-size-slider\" min=\"10\" max=\"1000\" step=\"1\"></x-slider><x-numberinput id=\"working-size-input\" min=\"10\" max=\"2000\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"blur-subsection\"><x-box id=\"blur-radius-box\" vertical><h5 id=\"blur-radius-heading\">Blur radius</h5><x-numberinput id=\"blur-radius-input\" min=\"0\" step=\"1\" title=\"Blur radius\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"blur-delta-box\" vertical><h5 id=\"blur-delta-heading\">Blur delta</h5><x-numberinput id=\"blur-delta-input\" min=\"0\" step=\"1\" condensed title=\"RGBA delta treshold for selective Gaussian blur preprocessing\"><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"color-subsection\"><h4 id=\"color-heading\">Color quantization</h4><x-box><x-box id=\"number-of-colors-box\" vertical><h5 id=\"number-of-colors-heading\">Colors</h5><x-numberinput id=\"number-of-colors-input\" min=\"1\" step=\"1\" title=\"Number of colors to use\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"min-color-ratio-box\" vertical><h5 id=\"min-color-ratio-heading\">Min ratio</h5><x-numberinput id=\"min-color-ratio-input\" min=\"0\" step=\"1\" condensed title=\"Color quantization will randomize a color if fewer pixels than TOTAL PIXELS * MIN RATIO has it\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"color-quant-cycles-box\" vertical><h5 id=\"color-quant-cycles-heading\">Cycles</h5><x-numberinput id=\"color-quant-cycles-input\" min=\"0\" step=\"1\" condensed title=\"Color quantization will be repeated this many times\"><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"color-sampling-box\" vertical><h5 id=\"color-sampling-heading\">Sampling</h5><x-buttons id=\"color-sampling-buttons\" tracking=\"1\"><x-button value=\"2\" condensed><x-label>Deterministic</x-label></x-button><x-button value=\"1\" condensed><x-label>Random</x-label></x-button><x-button value=\"0\" condensed><x-label>None</x-label></x-button></x-buttons></x-box></section><hr><section id=\"tracing-subsection\"><h4 id=\"tracing-heading\">Tracing</h4><x-box><x-box id=\"ltres-box\" vertical><h5 id=\"ltres-heading\">L treshold</h5><x-numberinput id=\"ltres-input\" min=\"0\" max=\"10\" step=\"1\" condensed title=\"Error treshold for straight lines\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"qtres-box\" vertical><h5 id=\"qtres-heading\">Q treshold</h5><x-numberinput id=\"qtres-input\" min=\"0\" max=\"10\" step=\"1\" condensed title=\"Error treshold for quadratic splines\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"path-omit-box\" vertical><h5 id=\"path-omit-heading\">Path omit</h5><x-numberinput id=\"path-omit-input\" min=\"0\" step=\"1\" condensed title=\"Edge node paths shorter than this will be discarded for noise reduction\"><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-checkbox id=\"right-angle-enhance-checkbox\"><x-label id=\"right-angle-enhance-label\">Enhance right angle corners</x-label></x-checkbox></section><hr><section id=\"rendering-subsection\"><h4 id=\"rendering-heading\">SVG rendering</h4><x-box id=\"stroke-width-box\" vertical><h5 id=\"stroke-width-heading\">Stroke width</h5><x-box><x-slider id=\"stroke-width-slider\" min=\"0\" max=\"20\" step=\"1\"></x-slider><x-numberinput id=\"stroke-width-input\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-checkbox id=\"line-filter-checkbox\"><x-label>Enable line filter for noise reduction</x-label></x-checkbox><x-checkbox id=\"ignore-white-checkbox\"><x-label>Ignore white</x-label></x-checkbox></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><x-button id=\"preview-button\"><x-label>Generate</x-label></x-button><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\" hidden></svg><x-label id=\"preview-label\" hidden></x-label></section></template>"]);_templateObject477=function _templateObject477(){return data;};return data;}function _templateObject476(){var data=_taggedTemplateLiteral(["#view-select{width:100%}#area-subsection{margin-top:14px}#area-buttons{width:100%}#area-buttons x-button{flex:1}#padding-subsection{margin-top:14px}#padding-heading{margin:0}#padding-input{width:240px;margin:0 auto}#origin-subsection{margin-top:14px}#origin-heading{margin:0;flex:1}#origin-switch{margin:0}#origin-box{display:flex;margin-top:14px}#origin-x-box{flex:1;margin-right:6px}#origin-y-box{flex:1;margin-left:6px}#origin-x-input,#origin-y-input{width:100%;margin-top:4px}#origin-x-label,#origin-y-label{font-size:12px}#preview{display:block;margin:0 auto;width:auto;height:auto;max-height:140px;max-width:100%;background-image:none}#preview-table{width:100%;margin-top:14px;font-size:12px}#preview-table td:first-child{text-align:end;font-weight:700}#preview-table td:last-child{width:50%}"]);_templateObject476=function _templateObject476(){return data;};return data;}function _templateObject475(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Resize</x-label></x-button></template>"]);_templateObject475=function _templateObject475(){return data;};return data;}function _templateObject474(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"view-subsection\"><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"area-subsection\"><h4 id=\"area-heading\">Objects</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button id=\"all-area-button\" value=\"all\" toggled><x-label>All</x-label></x-button><x-button id=\"selected-area-button\" value=\"selected\"><x-label>Selected</x-label></x-button></x-buttons></section><section id=\"padding-subsection\"><h4 id=\"padding-heading\">Padding</h4><bx-edgeinput id=\"padding-input\"></bx-edgeinput></section><section id=\"origin-subsection\"><x-box id=\"origin-heading-box\"><h4 id=\"origin-heading\">Origin</h4><x-switch id=\"origin-switch\" size=\"smaller\"></x-switch></x-box><x-box id=\"origin-box\"><x-box id=\"origin-x-box\" vertical><x-label id=\"origin-x-label\">X</x-label><x-numberinput id=\"origin-x-input\" value=\"0\" condensed><x-stepper></x-stepper><x-label>Auto</x-label></x-numberinput></x-box><x-box id=\"origin-y-box\" vertical><x-label id=\"origin-y-label\">Y</x-label><x-numberinput id=\"origin-y-input\" value=\"0\" condensed><x-stepper></x-stepper><x-label>Auto</x-label></x-numberinput></x-box></x-box></section></section><hr id=\"preview-section-hr\"><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><image id=\"preview\" part=\"preview\"></image><table id=\"preview-table\"><tr><td>X:</td><td id=\"preview-x-td\">0</td></tr><tr><td>Y:</td><td id=\"preview-y-td\">0</td></tr><tr><td>Width:</td><td id=\"preview-width-td\">100</td></tr><tr><td>Height:</td><td id=\"preview-height-td\">100</td></tr></table></section></template>"]);_templateObject474=function _templateObject474(){return data;};return data;}function _templateObject473(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box}:host([hidden]){display:none}#main{display:flex;flex-flow:column;align-items:center;justify-content:center;margin-top:2px}x-box{width:100%;margin:10px 0;justify-content:space-between}x-button{width:72px}x-numberinput{width:72px}"]);_templateObject473=function _templateObject473(){return data;};return data;}function _templateObject472(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><x-numberinput id=\"top-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput><x-box><x-numberinput id=\"left-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput><x-button id=\"uniform-button\" condensed togglable><x-label>Uniform</x-label></x-button><x-numberinput id=\"right-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-numberinput id=\"bottom-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></main></template>"]);_templateObject472=function _templateObject472(){return data;};return data;}function _templateObject471(){var data=_taggedTemplateLiteral(["#format-buttons{width:100%}#format-buttons x-button{flex:1}#ppu-subsection{margin-top:14px}#ppu-subsection x-box{width:100%}#ppu-heading{margin-bottom:0}#ppu-slider{flex:1}#ppu-input{margin-left:10px;width:60px}#colors-subsection{margin-top:10px}#colors-mode-buttons{width:100%}#colors-mode-buttons x-button{flex:1}#colors-box{margin-top:6px}#colors-box[hidden]{display:none}#colors-slider{flex:1}#colors-input{margin-left:10px;width:60px}#compression-subsection{margin-top:10px}#compression-subsection x-box{width:100%}#compression-heading{margin-bottom:0}#compression-slider{flex:1}#compression-input{margin-left:10px;width:60px}#background-subsection{margin-top:10px}#background-select x-popover{--align:right}#preview{display:block;margin:0 auto;width:auto;height:auto;max-height:140px;max-width:100%}#preview-label{margin-top:7px;text-align:center;font-weight:500;font-size:12px;opacity:.7}"]);_templateObject471=function _templateObject471(){return data;};return data;}function _templateObject470(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Rasterize</x-label></x-button></template>"]);_templateObject470=function _templateObject470(){return data;};return data;}function _templateObject469(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"format-subsection\"><h4 id=\"format-heading\">Format</h4><x-buttons id=\"format-buttons\" tracking=\"1\"><x-button id=\"png-format-button\" value=\"png\" toggled><x-label>PNG</x-label></x-button><x-button id=\"jpeg-format-button\" value=\"jpeg\"><x-label>JPEG</x-label></x-button></x-buttons></section><section id=\"ppu-subsection\"><h4 id=\"ppu-heading\">Pixels per unit</h4><x-box id=\"ppu-box\"><x-slider id=\"ppu-slider\" value=\"1\" min=\"0.1\" max=\"5\" step=\"0.1\"></x-slider><x-numberinput id=\"ppu-input\" value=\"1\" min=\"0.1\" max=\"5\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"colors-subsection\"><h4 id=\"colors-heading\">Colors</h4><x-buttons id=\"colors-mode-buttons\" tracking=\"1\"><x-button id=\"colors-rgb-button\" value=\"rgb\" toggled><x-label>RGB</x-label></x-button><x-button id=\"colors-palette-button\" value=\"palette\"><x-label>Palette</x-label></x-button></x-buttons><x-box id=\"colors-box\" hidden><x-slider id=\"colors-slider\" value=\"256\" min=\"3\" max=\"256\" step=\"1\"></x-slider><x-numberinput id=\"colors-input\" value=\"256\" min=\"3\" max=\"256\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"compression-subsection\"><h4 id=\"compression-heading\">Compression</h4><x-box><x-slider id=\"compression-slider\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"compression-input\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\"></bx-colorpicker></x-popover></x-colorselect></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><x-button id=\"preview-button\"><x-label>Generate</x-label></x-button><image id=\"preview\" part=\"preview\" hidden></image><x-label id=\"preview-label\" hidden></x-label></section></template>"]);_templateObject469=function _templateObject469(){return data;};return data;}function _templateObject468(){var data=_taggedTemplateLiteral(["#size-subsection{display:flex}#size-subsection x-numberinput{width:100%}#size-subsection #height-box,#size-subsection #width-box{flex:1}#size-subsection #height-heading,#size-subsection #width-heading{margin-top:0}#size-subsection #aspect-ratio-button{align-self:flex-end;margin:0}#size-subsection #aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px;color:#8c8c8c}#grid-subsection{margin-top:14px}#columns-box{flex:1;margin-right:4px}#columns-input{width:100%}#rows-box{flex:1;margin-left:4px}#rows-input{width:100%}#tab-size-subsection{margin-top:14px}#tab-size-subsection h4{margin:0}#tab-size-slider{flex:1}#tab-size-input{width:60px;margin-left:10px}#jitter-subsection{margin-top:10px}#jitter-subsection h4{margin:0}#jitter-slider{flex:1}#jitter-input{width:60px;margin-left:10px}#seed-subsection{margin-top:10px}#seed-subsection h4{margin:0}#seed-slider{flex:1}#seed-input{margin-left:10px;width:60px}#preview{height:160px}"]);_templateObject468=function _templateObject468(){return data;};return data;}function _templateObject467(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject467=function _templateObject467(){return data;};return data;}function _templateObject466(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"500\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"400\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"grid-subsection\"><x-box><x-box id=\"columns-box\" vertical><h4 id=\"columns-heading\">Columns</h4><x-numberinput id=\"columns-input\" value=\"1\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"rows-box\" vertical><h4 id=\"rows-heading\">Rows</h4><x-numberinput id=\"rows-input\" value=\"1\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"tab-size-subsection\"><h4 id=\"tab-size-heading\">Tab size</h4><x-box id=\"tab-size-box\"><x-slider id=\"tab-size-slider\" value=\"10\" min=\"10\" max=\"30\" step=\"1\"></x-slider><x-numberinput id=\"tab-size-input\" value=\"10\" min=\"10\" max=\"30\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"jitter-subsection\"><h4 id=\"jitter-heading\">Jitter</h4><x-box id=\"jitter-box\"><x-slider id=\"jitter-slider\" value=\"0\" min=\"0\" max=\"15\" step=\"1\"></x-slider><x-numberinput id=\"jitter-input\" value=\"0\" min=\"0\" max=\"15\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-subsection\"><h4 id=\"seed-heading\">Seed</h4><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" value=\"0\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" value=\"0\" min=\"0\" max=\"200\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject466=function _templateObject466(){return data;};return data;}function _templateObject465(){var data=_taggedTemplateLiteral(["#size-subsection{display:flex}#size-subsection x-numberinput{width:100%}#size-subsection #height-box,#size-subsection #width-box{flex:1}#size-subsection #height-heading,#size-subsection #width-heading{margin-top:0}#size-subsection #aspect-ratio-button{align-self:flex-end;margin:0}#size-subsection #aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px;color:#8c8c8c}#cell-size-subsection{margin-top:14px}#cell-size-subsection h4{margin:0}#cell-size-slider{flex:1}#cell-size-input{margin-left:10px;width:60px}#variance-subsection{margin-top:10px}#variance-subsection h4{margin:0}#variance-slider{flex:1}#variance-input{margin-left:10px;width:60px}#seed-subsection{margin-top:10px}#seed-subsection h4{margin:0}#seed-slider{flex:1}#seed-input{margin-left:10px;width:60px}#colors-subsection{margin-top:10px}#colors-subsection h4{margin:0}#colors-box{margin-top:7px}#colors-subsection x-colorselect{flex:1;margin:0 3px}#colors-subsection x-colorselect:first-child{margin-left:0}#colors-subsection x-colorselect:last-child{margin-right:0}#colors-subsection x-popover{--align:left}#random-colors-button{width:100%;margin-top:7px}#preview{height:160px;shape-rendering:crispEdges}"]);_templateObject465=function _templateObject465(){return data;};return data;}function _templateObject464(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject464=function _templateObject464(){return data;};return data;}function _templateObject463(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"600\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-on\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"400\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"cell-size-subsection\"><h4 id=\"cell-size-heading\">Cell size</h4><x-box id=\"cell-size-box\"><x-slider id=\"cell-size-slider\" value=\"10\" min=\"2\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"cell-size-input\" value=\"10\" min=\"2\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"variance-subsection\"><h4 id=\"variance-heading\">Variance</h4><x-box id=\"variance-box\"><x-slider id=\"variance-slider\" value=\"10\" min=\"2\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"variance-input\" value=\"10\" min=\"2\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-subsection\"><h4 id=\"seed-heading\">Seed</h4><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" value=\"100\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" value=\"100\" min=\"0\" max=\"200\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"colors-subsection\"><h4 id=\"colors-heading\">Colors</h4><x-box id=\"colors-box\"><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect></x-box><x-button id=\"random-colors-button\" condensed><x-label>Generate random colors</x-label></x-button></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject463=function _templateObject463(){return data;};return data;}function _templateObject462(){var data=_taggedTemplateLiteral(["#hall-radius-subsection h4{margin:0}#hall-radius-slider{flex:1}#hall-radius-input{width:60px;margin-left:10px}#seat-radius-subsection{margin-top:10px}#seat-radius-subsection h4{margin:0}#seat-radius-slider{flex:1}#seat-radius-input{width:60px;margin-left:10px}#parties-subsection{margin-top:10px}#parties-box .party-box{width:100%}#parties-box .party-box+.party-box{margin-top:8px}#parties-box x-popover{--align:left}#parties-box x-numberinput{flex:1;margin:0 8px}#parties-box x-icon{width:12px;height:12px}#add-party-button{width:100%;margin-top:8px}#add-party-button x-icon{width:11px;height:11px}#preview{height:160px}"]);_templateObject462=function _templateObject462(){return data;};return data;}function _templateObject461(){var data=_taggedTemplateLiteral(["<template><x-box class=\"party-box\"><x-colorselect value=\"#4b4ba7\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-numberinput value=\"10\" min=\"1\" suffix=\" seat(s)\" condensed><x-stepper></x-stepper></x-numberinput><x-button class=\"delete-button\" condensed><x-icon name=\"trash\"></x-icon></x-button></x-box></template>"]);_templateObject461=function _templateObject461(){return data;};return data;}function _templateObject460(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject460=function _templateObject460(){return data;};return data;}function _templateObject459(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"hall-radius-subsection\"><h4 id=\"hall-radius-heading\">Hall radius</h4><x-box id=\"hall-radius-box\"><x-slider id=\"hall-radius-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"hall-radius-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seat-radius-subsection\"><h4 id=\"seat-radius-heading\">Seat radius</h4><x-box id=\"seat-radius-box\"><x-slider id=\"seat-radius-slider\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"seat-radius-input\" min=\"1\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"parties-subsection\"><h4>Parties</h4><x-box id=\"parties-box\" vertical></x-box><x-button id=\"add-party-button\"><x-icon name=\"plus\"></x-icon><x-label>Add</x-label></x-button></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject459=function _templateObject459(){return data;};return data;}function _templateObject458(){var data=_taggedTemplateLiteral(["#mode-select{width:100%}#charset-subsection{margin-top:14px}#charset-select{width:100%}#error-correction-subsection{margin-top:14px}#error-correction-buttons{width:100%}#error-correction-buttons x-button{flex:1}#value-subsection{margin-top:14px}#value-input{max-width:none}"]);_templateObject458=function _templateObject458(){return data;};return data;}function _templateObject457(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject457=function _templateObject457(){return data;};return data;}function _templateObject456(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"mode-subsection\"><h4>Mode</h4><x-select id=\"mode-select\"><x-menu><x-menuitem value=\"Byte\"><x-label>Byte</x-label></x-menuitem><x-menuitem value=\"Alphanumeric\"><x-label>Alphanumeric</x-label></x-menuitem><x-menuitem value=\"Numeric\"><x-label>Numeric</x-label></x-menuitem><x-menuitem value=\"Kanji\"><x-label>Kanji</x-label></x-menuitem></x-menu></x-select></section><section id=\"charset-subsection\"><h4>Charset</h4><x-select id=\"charset-select\"><x-menu><x-menuitem value=\"default\"><x-label>ISO 8859-1</x-label></x-menuitem><x-menuitem value=\"UTF-8\"><x-label>UTF-8</x-label></x-menuitem><x-menuitem value=\"SJIS\"><x-label>SJIS</x-label></x-menuitem></x-menu></x-select></section><section id=\"error-correction-subsection\"><h4>Error correction</h4><x-buttons id=\"error-correction-buttons\" tracking=\"1\"><x-button value=\"L\"><x-label>7%</x-label></x-button><x-button value=\"M\"><x-label>15%</x-label></x-button><x-button value=\"Q\"><x-label>25%</x-label></x-button><x-button value=\"H\"><x-label>30%</x-label></x-button></x-buttons></section><section id=\"value-subsection\"><h4>Value</h4><x-input id=\"value-input\" validation=\"instant\"></x-input></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject456=function _templateObject456(){return data;};return data;}function _templateObject455(){var data=_taggedTemplateLiteral(["#format-select{width:100%}#value-subsection{margin-top:14px}#value-input{max-width:none}#display-value-box{margin-top:8px}#label-subsection{margin-top:14px}#label-header{display:flex;align-items:center}#label-heading{margin:0;flex:1}#label-position-box{margin-top:8px}#label-position-label{font-size:11px;font-weight:500;margin:0 0 4px 0}#label-position-buttons{width:100%}#label-position-buttons x-button{flex:1}"]);_templateObject455=function _templateObject455(){return data;};return data;}function _templateObject454(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject454=function _templateObject454(){return data;};return data;}function _templateObject453(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"format-subsection\"><h4>Format</h4><x-select id=\"format-select\"><x-menu><x-menuitem value=\"CODE128\" toggled><x-label>CODE 128</x-label></x-menuitem><x-menuitem value=\"CODE39\"><x-label>CODE 39</x-label></x-menuitem><hr><x-menuitem value=\"EAN2\"><x-label>EAN-2</x-label></x-menuitem><x-menuitem value=\"EAN5\"><x-label>EAN-5</x-label></x-menuitem><x-menuitem value=\"EAN8\"><x-label>EAN-8</x-label></x-menuitem><x-menuitem value=\"EAN13\"><x-label>EAN-13</x-label></x-menuitem><x-menuitem value=\"UPC\"><x-label>UPC</x-label></x-menuitem><hr><x-menuitem value=\"MSI\"><x-label>MSI</x-label></x-menuitem><x-menuitem value=\"MSI10\"><x-label>MSI10</x-label></x-menuitem><x-menuitem value=\"MSI11\"><x-label>MSI11</x-label></x-menuitem><x-menuitem value=\"MSI1010\"><x-label>MSI1010</x-label></x-menuitem><x-menuitem value=\"MSI1110\"><x-label>MSI1110</x-label></x-menuitem><hr><x-menuitem value=\"codabar\"><x-label>Codabar</x-label></x-menuitem><x-menuitem value=\"pharmacode\"><x-label>Pharmacode</x-label></x-menuitem><x-menuitem value=\"ITF14\"><x-label>ITF14</x-label></x-menuitem></x-menu></x-select></section><section id=\"value-subsection\"><h4>Value</h4><x-input id=\"value-input\" value=\"9999\" validation=\"instant\"></x-input></section><section id=\"label-subsection\"><header id=\"label-header\"><h4 id=\"label-heading\">Label</h4><x-switch id=\"label-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"label-position-box\" vertical><x-label id=\"label-position-label\">Position</x-label><x-buttons id=\"label-position-buttons\" tracking=\"1\"><x-button id=\"label-position-left-button\" value=\"left\" condensed><x-label>Left</x-label></x-button><x-button id=\"label-position-center-button\" value=\"center\" condensed toggled><x-label>Center</x-label></x-button><x-button id=\"label-position-right-button\" value=\"right\" condensed><x-label>Right</x-label></x-button><x-button id=\"label-position-inset-button\" value=\"inset\" condensed><x-label>Inset</x-label></x-button></x-buttons></x-box></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject453=function _templateObject453(){return data;};return data;}function _templateObject452(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%}:host(:focus){outline:0}:host([hidden]){display:none}h3:first-child{margin-top:0}section>hr{margin:14px 0}#main{flex:1;box-sizing:border-box;width:100%;overflow:auto}#options-section{padding:16px 20px}#preview-section{padding:16px 20px}#preview{width:100%;height:100px;user-select:none;border-width:1px;border-style:solid}#preview[hidden]{display:none}#footer{display:flex;z-index:0;min-height:fit-content;justify-content:flex-end;padding:15px 20px 15px 20px;border-top-width:1px;border-top-style:solid}#footer:empty{display:none}#footer x-button{width:100%}#footer x-progressbar{position:absolute;bottom:0;left:0;width:100%;border-radius:0;box-shadow:none;background:0 0;height:4px}"]);_templateObject452=function _templateObject452(){return data;};return data;}function _templateObject451(){var data=_taggedTemplateLiteral(["<template><main id=\"main\" part=\"main\"></main><footer id=\"footer\" part=\"footer\"></footer></template>"]);_templateObject451=function _templateObject451(){return data;};return data;}function _templateObject450(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;flex-flow:column}#header{padding:16px 20px}#header h2{margin:0;line-height:1}#buttons{margin-top:10px}#main{display:flex;width:100%;height:100%;min-height:100px;flex:1}#main>*{flex:1}"]);_templateObject450=function _templateObject450(){return data;};return data;}function _templateObject449(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">Library</h2><x-buttons id=\"buttons\" tracking=\"1\"><x-button skin=\"flat\" value=\"colors-library-browser\"><x-icon name=\"library-colors\"></x-icon></x-button><x-button skin=\"flat\" value=\"fonts-library-browser\"><x-icon name=\"library-fonts\"></x-icon></x-button><x-button skin=\"flat\" value=\"photos-library-browser\"><x-icon name=\"library-photos\"></x-icon></x-button><x-button skin=\"flat\" value=\"vectors-library-browser\"><x-icon name=\"library-vectors\"></x-icon></x-button></x-buttons></header><main id=\"main\"><bx-photoslibrarybrowser id=\"photos-library-browser\"></bx-photoslibrarybrowser><bx-vectorslibrarybrowser id=\"vectors-library-browser\"></bx-vectorslibrarybrowser><bx-colorslibrarybrowser id=\"colors-library-browser\"></bx-colorslibrarybrowser><bx-fontslibrarybrowser id=\"fonts-library-browser\"></bx-fontslibrarybrowser></main></template>"]);_templateObject449=function _templateObject449(){return data;};return data;}function _templateObject448(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{width:100%;height:100%}#header{display:flex;width:100%;min-height:29px;padding:0 20px;align-items:center;box-sizing:border-box;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}#header h2{flex:1;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#header #pixabay-anchor{font-size:11px}#main{flex:1;width:100%;height:100%;overflow:auto;position:relative}#items{width:100%;height:100%;padding:14px 20px;box-sizing:border-box;flex:1;overflow:auto;display:grid;grid-column-gap:14px;grid-row-gap:14px;grid-template-columns:repeat(auto-fill,minmax(110px,1fr));outline:0}#items .item{display:flex;align-items:center;justify-content:center;width:110px;height:90px;border-width:1px;border-style:solid;background:var(--checkboard-background);position:relative;touch-action:pan-y}#items .item:nth-child(2n){margin-right:0}#items .item[data-selected]{outline:2px solid var(--accent-color);border-color:var(--accent-color)}#items .item img{display:block;touch-action:none;pointer-events:none;user-drag:none;-webkit-user-drag:none}#throbber{position:absolute;top:50%;left:50%;margin:-15px 0 0 -15px}#throbber[hidden]{display:none}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#placeholder[hidden]{display:none}#item-popover{flex-flow:column;width:220px;min-height:80px;--align:left}#item-popover>main{box-sizing:border-box;padding:5px 13px}#item-popover>footer{padding:0 11px 10px;border-width:1px;border-style:solid}#item-popover #item-license{margin-top:2px}#item-popover #item-license-label,#item-popover #item-uploader-label{font-weight:700;font-size:13px}#item-popover #item-license-value,#item-popover #item-uploader-value{margin-top:3px;font-size:13px;line-height:1.15;word-wrap:break-word}#item-popover #item-pixabay-anchor{display:block;margin-top:8px;cursor:default;text-decoration:none}#item-popover #item-pixabay-button{width:100%}#item-popover #add-to-canvas-button{width:100%;margin-top:8px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#search-input{width:100%;max-width:none}#search-button{margin-left:-1px;padding:2px 10px}#settings-button{min-width:fit-content;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#settings-button>x-icon{width:13px;height:13px}#settings-popover{width:165px}#settings-popover h4{margin-top:0}#sort-buttons{width:100%}#orientation-section{margin-top:12px}#orientation-select{width:100%}#category-section{margin-top:12px}#category-select{width:100%}#editors-choice-checkbox{margin-top:8px}"]);_templateObject448=function _templateObject448(){return data;};return data;}function _templateObject447(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Vectors</h2><a id=\"pixabay-anchor\" href=\"https://pixabay.com\" target=\"_blank\">pixabay.com</a></header><main id=\"main\" part=\"main\"><div id=\"items\" tabindex=\"0\"></div><x-throbber id=\"throbber\" hidden></x-throbber><div id=\"placeholder\" hidden></div><x-popover id=\"item-popover\"><main><div id=\"item-uploader\"><span id=\"item-uploader-label\">Uploader: </span><span id=\"item-uploader-value\"></span></div><div id=\"item-license\"><span id=\"item-license-label\">License: </span><span id=\"item-license-value\"><a href=\"","\" target=\"_blank\">Pixabay License</a></span></div></main><footer part=\"footer\"><a id=\"item-pixabay-anchor\" target=\"_blank\"><x-button id=\"item-pixabay-button\"><x-label>View on Pixabay</x-label></x-button></a><x-button id=\"add-to-canvas-button\" toggled><x-label>Add to Canvas</x-label></x-button></footer></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Search</x-label></x-input><x-button id=\"settings-button\" condensed><x-icon name=\"prefs-general\"></x-icon><x-popover id=\"settings-popover\" modal><main><section id=\"sort-section\"><h4>Sort</h4><x-buttons id=\"sort-buttons\" tracking=\"1\"><x-button value=\"popular\" toggled><x-label>Popular</x-label></x-button><x-button value=\"latest\"><x-label>Latest</x-label></x-button></x-buttons></section><section id=\"orientation-section\"><h4>Orientation</h4><x-select id=\"orientation-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><x-menuitem value=\"horizontal\"><x-label>Horizontal</x-label></x-menuitem><x-menuitem value=\"vertical\"><x-label>Vertical</x-label></x-menuitem></x-menu></x-select></section><section id=\"category-section\"><h4>Category</h4><x-select id=\"category-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"animals\"><x-label>Animals</x-label></x-menuitem><x-menuitem value=\"backgrounds\"><x-label>Backgrounds</x-label></x-menuitem><x-menuitem value=\"buildings\"><x-label>Buildings</x-label></x-menuitem><x-menuitem value=\"business\"><x-label>Business</x-label></x-menuitem><x-menuitem value=\"computer\"><x-label>Computer</x-label></x-menuitem><x-menuitem value=\"education\"><x-label>Education</x-label></x-menuitem><x-menuitem value=\"fashion\"><x-label>Fashion</x-label></x-menuitem><x-menuitem value=\"feelings\"><x-label>Feelings</x-label></x-menuitem><x-menuitem value=\"food\"><x-label>Food</x-label></x-menuitem><x-menuitem value=\"health\"><x-label>Health</x-label></x-menuitem><x-menuitem value=\"industry\"><x-label>Industry</x-label></x-menuitem><x-menuitem value=\"music\"><x-label>Music</x-label></x-menuitem><x-menuitem value=\"nature\"><x-label>Nature</x-label></x-menuitem><x-menuitem value=\"people\"><x-label>People</x-label></x-menuitem><x-menuitem value=\"science\"><x-label>Science</x-label></x-menuitem><x-menuitem value=\"religion\"><x-label>Religion</x-label></x-menuitem><x-menuitem value=\"places\"><x-label>Places</x-label></x-menuitem><x-menuitem value=\"sports\"><x-label>Sports</x-label></x-menuitem><x-menuitem value=\"transportation\"><x-label>Transportation</x-label></x-menuitem><x-menuitem value=\"travel\"><x-label>Travel</x-label></x-menuitem></x-menu></x-select><x-checkbox id=\"editors-choice-checkbox\"><x-label>Editor's Choice</x-label></x-checkbox></section></main></x-popover></x-button></x-box></footer></x-box></template>"]);_templateObject447=function _templateObject447(){return data;};return data;}function _templateObject446(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{width:100%;height:100%}#header{display:flex;width:100%;min-height:29px;padding:0 20px;align-items:center;box-sizing:border-box;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}#header h2{flex:1;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#header #pixabay-anchor{font-size:11px}#main{flex:1;width:100%;height:100%;overflow:auto;position:relative}#items{width:100%;height:100%;padding:14px 20px;box-sizing:border-box;flex:1;overflow:auto;display:grid;grid-column-gap:14px;grid-row-gap:14px;grid-template-columns:repeat(auto-fill,minmax(110px,1fr));outline:0}#items .item{display:flex;align-items:center;justify-content:center;width:110px;height:90px;border-width:1px;border-style:solid;background:var(--checkboard-background);position:relative;touch-action:pan-y}#items .item:nth-child(2n){margin-right:0}#items .item[data-selected]{outline:2px solid var(--accent-color);border-color:var(--accent-color)}#items .item img{display:block;touch-action:none;pointer-events:none;user-drag:none;-webkit-user-drag:none}#throbber{position:absolute;top:50%;left:50%;margin:-15px 0 0 -15px}#throbber[hidden]{display:none}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#placeholder[hidden]{display:none}#item-popover{flex-flow:column;width:220px;min-height:80px;--align:left}#item-popover>main{box-sizing:border-box;padding:5px 13px}#item-popover>footer{padding:0 11px 10px;border-width:1px;border-style:solid}#item-popover #item-license{margin-top:2px}#item-popover #item-license-label,#item-popover #item-uploader-label{font-weight:700;font-size:13px}#item-popover #item-license-value,#item-popover #item-uploader-value{margin-top:3px;font-size:13px;line-height:1.15;word-wrap:break-word}#item-popover #item-pixabay-anchor{display:block;margin-top:8px;cursor:default;text-decoration:none}#item-popover #item-pixabay-button{width:100%}#item-popover #add-to-canvas-button{width:100%;margin-top:8px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#search-input{width:100%;max-width:none}#search-button{margin-left:-1px;padding:2px 10px}#settings-button{min-width:fit-content;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#settings-button>x-icon{width:13px;height:13px}#settings-popover{width:165px}#settings-popover h4{margin-top:0}#sort-buttons{width:100%}#quality-section{margin-top:12px}#quality-select{width:100%}#orientation-section{margin-top:12px}#orientation-select{width:100%}#category-section{margin-top:12px}#category-select{width:100%}#editors-choice-checkbox{margin-top:8px}"]);_templateObject446=function _templateObject446(){return data;};return data;}function _templateObject445(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Photos</h2><a id=\"pixabay-anchor\" href=\"https://pixabay.com\" target=\"_blank\">pixabay.com</a></header><main id=\"main\" part=\"main\"><div id=\"items\" tabindex=\"0\"></div><x-throbber id=\"throbber\" hidden></x-throbber><div id=\"placeholder\" hidden></div><x-popover id=\"item-popover\"><main><div id=\"item-uploader\"><span id=\"item-uploader-label\">Uploader: </span><span id=\"item-uploader-value\"></span></div><div id=\"item-license\"><span id=\"item-license-label\">License: </span><span id=\"item-license-value\"><a href=\"","\" target=\"_blank\">Pixabay License</a></span></div></main><footer part=\"footer\"><a id=\"item-pixabay-anchor\" target=\"_blank\"><x-button id=\"item-pixabay-button\"><x-label>View on Pixabay</x-label></x-button></a><x-button id=\"add-to-canvas-button\" toggled><x-label>Add to Canvas</x-label></x-button></footer></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Search</x-label></x-input><x-button id=\"settings-button\" condensed><x-icon name=\"prefs-general\"></x-icon><x-popover id=\"settings-popover\" modal><main><section id=\"sort-section\"><h4>Sort</h4><x-buttons id=\"sort-buttons\" tracking=\"1\"><x-button value=\"popular\" toggled><x-label>Popular</x-label></x-button><x-button value=\"latest\"><x-label>Latest</x-label></x-button></x-buttons></section><section id=\"quality-section\"><h4>Quality</h4><x-select id=\"quality-select\"><x-menu><x-menuitem value=\"180\"><x-label>180px</x-label></x-menuitem><x-menuitem value=\"340\"><x-label>340px</x-label></x-menuitem><x-menuitem value=\"640\" toggled><x-label>640px</x-label></x-menuitem><x-menuitem value=\"1280\"><x-label>1280px</x-label></x-menuitem><x-menuitem value=\"1920\"><x-label>1920px</x-label></x-menuitem></x-menu></x-select></section><section id=\"orientation-section\"><h4>Orientation</h4><x-select id=\"orientation-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><x-menuitem value=\"horizontal\"><x-label>Horizontal</x-label></x-menuitem><x-menuitem value=\"vertical\"><x-label>Vertical</x-label></x-menuitem></x-menu></x-select></section><section id=\"category-section\"><h4>Category</h4><x-select id=\"category-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"animals\"><x-label>Animals</x-label></x-menuitem><x-menuitem value=\"backgrounds\"><x-label>Backgrounds</x-label></x-menuitem><x-menuitem value=\"buildings\"><x-label>Buildings</x-label></x-menuitem><x-menuitem value=\"business\"><x-label>Business</x-label></x-menuitem><x-menuitem value=\"computer\"><x-label>Computer</x-label></x-menuitem><x-menuitem value=\"education\"><x-label>Education</x-label></x-menuitem><x-menuitem value=\"fashion\"><x-label>Fashion</x-label></x-menuitem><x-menuitem value=\"feelings\"><x-label>Feelings</x-label></x-menuitem><x-menuitem value=\"food\"><x-label>Food</x-label></x-menuitem><x-menuitem value=\"health\"><x-label>Health</x-label></x-menuitem><x-menuitem value=\"industry\"><x-label>Industry</x-label></x-menuitem><x-menuitem value=\"music\"><x-label>Music</x-label></x-menuitem><x-menuitem value=\"nature\"><x-label>Nature</x-label></x-menuitem><x-menuitem value=\"people\"><x-label>People</x-label></x-menuitem><x-menuitem value=\"science\"><x-label>Science</x-label></x-menuitem><x-menuitem value=\"religion\"><x-label>Religion</x-label></x-menuitem><x-menuitem value=\"places\"><x-label>Places</x-label></x-menuitem><x-menuitem value=\"sports\"><x-label>Sports</x-label></x-menuitem><x-menuitem value=\"transportation\"><x-label>Transportation</x-label></x-menuitem><x-menuitem value=\"travel\"><x-label>Travel</x-label></x-menuitem></x-menu></x-select><x-checkbox id=\"editors-choice-checkbox\"><x-label>Editor's Choice</x-label></x-checkbox></section></main></x-popover></x-button></x-box></footer></x-box></template>"]);_templateObject445=function _templateObject445(){return data;};return data;}function _templateObject444(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{width:100%;height:100%}#header{display:flex;width:100%;min-height:29px;padding:0 20px;align-items:center;box-sizing:border-box;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}#header h2{flex:1;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#header #google-fonts-anchor{font-size:11px}#main{flex:1;width:100%;height:100%;overflow:auto;position:relative}#items{width:100%;height:100%;flex:1;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;outline:0;contain:strict}#items>.item{position:relative;display:flex;align-items:center;box-sizing:border-box;padding:3px 20px;opacity:.75;overflow:hidden;background:0 0;touch-action:pan-y}#items>.item[data-selected]{background:var(--accent-color);opacity:1}#items>.item[hidden]{display:none}#items>.item img{touch-action:none;pointer-events:none;user-drag:none;-webkit-user-drag:none}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#placeholder[hidden]{display:none}#item-popover{flex-flow:column;width:240px;min-height:80px;--align:left}#item-popover[opened]{display:flex}#item-popover>main{box-sizing:border-box;padding:5px 13px}#item-popover>footer{padding:0 11px 10px;border-width:1px;border-style:solid}#item-popover #item-category,#item-popover #item-license,#item-popover #item-subsets,#item-popover #item-weights{margin-top:2px}#item-popover #item-category-label,#item-popover #item-family-label,#item-popover #item-license-label,#item-popover #item-subsets-label,#item-popover #item-weights-label{font-weight:700;font-size:13px}#item-popover #item-category-value,#item-popover #item-family-value,#item-popover #item-license-value,#item-popover #item-subsets-value,#item-popover #item-weights-value{margin-top:3px;font-size:13px;line-height:1.15;word-wrap:break-word}#item-popover #item-google-fonts-anchor{display:block;margin-top:8px;cursor:default;text-decoration:none}#item-popover #item-google-fonts-button{width:100%}#item-popover #add-to-defs-button{width:100%;margin-top:8px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#search-input{width:100%;max-width:none}#settings-button{min-width:fit-content;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#settings-button>x-icon{width:13px;height:13px}#settings-popover{width:200px}#settings-popover h4{margin-top:0}#sort-select{width:100%}#subset-section{margin-top:12px}#subset-select{width:100%}#category-section{margin-top:12px}#category-select{width:100%}"]);_templateObject444=function _templateObject444(){return data;};return data;}function _templateObject443(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Fonts</h2><a id=\"google-fonts-anchor\" href=\"https://fonts.google.com\" target=\"_blank\">fonts.google.com</a></header><main id=\"main\" part=\"main\"><div id=\"items\" tabindex=\"0\"></div><div id=\"placeholder\" hidden></div><x-popover id=\"item-popover\"><main><div id=\"item-family\"><span id=\"item-family-label\">Family: </span><span id=\"item-family-value\"></span></div><div id=\"item-weights\"><span id=\"item-weights-label\">Weights: </span><span id=\"item-weights-value\"></span></div><div id=\"item-subsets\"><span id=\"item-subsets-label\">Subsets: </span><span id=\"item-subsets-value\"></span></div><div id=\"item-category\"><span id=\"item-category-label\">Category: </span><span id=\"item-category-value\"></span></div><div id=\"item-license\"><span id=\"item-license-label\">License: </span><span id=\"item-license-value\"><a id=\"item-license-anchor\" target=\"_blank\"></a></span></div></main><footer part=\"footer\"><a id=\"item-google-fonts-anchor\" target=\"_blank\"><x-button id=\"item-google-fonts-button\"><x-label>View on Google Fonts</x-label></x-button></a><x-button id=\"add-to-defs-button\" toggled><x-label>Add to Defs</x-label></x-button></footer></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Search</x-label></x-input><x-button id=\"settings-button\" condensed><x-icon name=\"prefs-general\"></x-icon><x-popover id=\"settings-popover\" modal><main><section id=\"sort-section\"><h4>Sort</h4><x-select id=\"sort-select\"><x-menu id=\"sort-menu\"><x-menuitem value=\"alphabetical\" toggled><x-label>Alphabetical</x-label></x-menuitem><x-menuitem value=\"popularity\"><x-label>Popular</x-label></x-menuitem><x-menuitem value=\"trending\"><x-label>Trending</x-label></x-menuitem><x-menuitem value=\"date\"><x-label>Latest</x-label></x-menuitem><hr></x-menu></x-select></section><section id=\"category-section\"><h4>Category</h4><x-select id=\"category-select\"><x-menu id=\"category-menu\"><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><hr></x-menu></x-select></section><section id=\"subset-section\"><h4>Subset</h4><x-select id=\"subset-select\"><x-menu id=\"subset-menu\"><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><hr></x-menu></x-select></section></main></x-popover></x-button></x-box></footer></x-box></template>"]);_templateObject443=function _templateObject443(){return data;};return data;}function _templateObject442(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{width:100%;height:100%}#header{display:flex;width:100%;min-height:29px;padding:0 20px;align-items:center;box-sizing:border-box;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}#header h2{flex:1;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#header #colorhunt-anchor{font-size:11px}#main{flex:1;width:100%;height:100%;overflow:auto;position:relative}#items{width:100%;height:100%;padding:14px 20px;box-sizing:border-box;flex:1;overflow:auto;outline:0;contain:strict}#items .item{position:relative;display:flex;align-items:center;justify-content:center;width:100%;height:34px;margin-top:8px;border-width:1px;border-style:solid;touch-action:pan-y}#items .item:first-child{margin-top:0}#items .item[hidden]{display:none}#items .item[data-selected]{outline:2px solid var(--accent-color);border-color:var(--accent-color)}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#placeholder[hidden]{display:none}#item-popover{flex-flow:column;width:240px;min-height:80px;--align:left}#item-popover>main{box-sizing:border-box;padding:5px 13px}#item-popover>footer{padding:0 11px 10px;border-width:1px;border-style:solid}#item-popover #item-license{margin-top:2px}#item-popover #item-license-label,#item-popover #item-tags-label{font-weight:700;font-size:13px}#item-popover #item-license-value,#item-popover #item-tags-value{margin-top:3px;font-size:13px;line-height:1.15;word-wrap:break-word}#item-popover #item-colorhunt-anchor{display:block;margin-top:8px;cursor:default;text-decoration:none}#item-popover #item-colorhunt-button{width:100%}#item-popover #add-to-defs-button{width:100%;margin-top:8px}#item-popover #add-to-canvas-button{width:100%;margin-top:8px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#search-input{width:100%;max-width:none}"]);_templateObject442=function _templateObject442(){return data;};return data;}function _templateObject441(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Colors</h2><a id=\"colorhunt-anchor\" href=\"https://colorhunt.co\" target=\"_blank\">colorhunt.co</a></header><main id=\"main\" part=\"main\"><div id=\"items\" tabindex=\"0\"></div><div id=\"placeholder\" hidden></div><x-popover id=\"item-popover\"><main><div id=\"item-tags\"><span id=\"item-tags-label\">Tags:</span> <span id=\"item-tags-value\"></span></div><div id=\"item-license\"><span id=\"item-license-label\">License:</span> <span id=\"item-license-value\"><a href=\"","\" target=\"_blank\">Public Domain</a></span></div></main><footer part=\"footer\"><a id=\"item-colorhunt-anchor\" target=\"_blank\"><x-button id=\"item-colorhunt-button\"><x-label>View on Color Hunt</x-label></x-button></a><x-button id=\"add-to-defs-button\" toggled><x-label>Add to Defs</x-label></x-button><x-button id=\"add-to-canvas-button\" toggled><x-label>Add to Canvas</x-label></x-button></footer></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Search</x-label></x-input></x-box></footer></x-box></template>"]);_templateObject441=function _templateObject441(){return data;};return data;}function _templateObject440(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;flex-flow:column}#header{padding:16px 20px}#header h2{margin:0;line-height:1}#buttons{margin-top:10px}#buttons #markers-button{overflow:visible}#buttons #markers-button x-icon{overflow:visible}#main{display:flex;width:100%;height:100%;min-height:38px;flex:1}#main>*{flex:1}"]);_templateObject440=function _templateObject440(){return data;};return data;}function _templateObject439(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">Defs</h2><x-buttons id=\"buttons\" tracking=\"1\"><x-button id=\"colors-button\" skin=\"flat\" value=\"colors-browser\"><x-icon name=\"defs-colors\"></x-icon></x-button><x-button id=\"gradients-button\" skin=\"flat\" value=\"gradients-browser\"><x-icon name=\"defs-gradients\"></x-icon></x-button><x-button id=\"patterns-button\" skin=\"flat\" value=\"patterns-browser\"><x-icon name=\"defs-patterns\"></x-icon></x-button><x-button id=\"markers-button\" skin=\"flat\" value=\"markers-browser\"><x-icon name=\"defs-markers\"></x-icon></x-button><x-button id=\"symbols-button\" skin=\"flat\" value=\"symbols-browser\"><x-icon name=\"defs-symbols\"></x-icon></x-button><x-button id=\"filters-button\" skin=\"flat\" value=\"filters-browser\"><x-icon name=\"defs-filters\"></x-icon></x-button><x-button id=\"fonts-button\" skin=\"flat\" value=\"fonts-browser\"><x-icon name=\"defs-fonts\"></x-icon></x-button></x-buttons></header><main id=\"main\"><bx-colorsbrowser id=\"colors-browser\"></bx-colorsbrowser><bx-gradientsbrowser id=\"gradients-browser\"></bx-gradientsbrowser><bx-patternsbrowser id=\"patterns-browser\"></bx-patternsbrowser><bx-markersbrowser id=\"markers-browser\"></bx-markersbrowser><bx-symbolsbrowser id=\"symbols-browser\"></bx-symbolsbrowser><bx-filtersbrowser id=\"filters-browser\"></bx-filtersbrowser><bx-fontsbrowser id=\"fonts-browser\"></bx-fontsbrowser></main></template>"]);_templateObject439=function _templateObject439(){return data;};return data;}function _templateObject438(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.family-item{width:100%;position:relative;z-index:0}.family-item>.background{position:absolute;top:0;left:0;width:100%;height:38px;z-index:-1}.family-item[data-selected]>.background{background:var(--accent-color)}.family-item>.main{position:relative;z-index:1;display:flex;height:38px;align-items:center;box-sizing:border-box;padding-right:10px}.family-item>.main>.label{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:24px;font-weight:400}.family-item[data-selected]>.main>.label{color:#fff}.family-item[data-family-name-edited] .counter-button{display:none}.family-item .pin-button{margin-left:6px}.family-item .pin-button[toggled]{color:currentColor}.family-item[data-family-name-edited] .pin-button{display:none}.family-item .pin-button x-icon{width:16px;height:16px;opacity:.2}.family-item .pin-button[toggled] x-icon{opacity:.7}.font-items-outer{overflow:hidden}.font-items{transform-origin:0 0}.font-items[hidden]{display:none}.font-item{padding:0 28px 0 42px}.font-item[data-selected]{background:var(--accent-color);color:#fff}.family-item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;font-size:13px}.family-item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.family-item x-input x-label[hidden]{display:none}.family-item>.main>.arrow-button{width:27px;min-width:27px;height:20px;display:flex;align-items:center;justify-content:center}.family-item[data-selected]>.main>.arrow-button{color:#fff}.family-item>.main .arrow-icon{width:10px;height:10px;min-width:10px;transition:.2s transform ease-in-out;transform:rotate(-90deg)}.family-item[data-expanded]>.main .arrow-icon{transform:rotate(0)}.family-item path{fill:currentColor}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}"]);_templateObject438=function _templateObject438(){return data;};return data;}function _templateObject437(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Fonts</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No fonts found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"add-button\" title=\"New font\"><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-from-disk\" id=\"add-from-disk-menu-item\"><x-label>Add Fonts from Disk\u2026</x-label></x-menuitem><x-menuitem value=\"add-from-library\" id=\"add-from-library-menu-item\"><x-label>Add Fonts from Library\u2026</x-label></x-menuitem></x-menu><x-icon name=\"plus\"></x-icon></x-button></x-box></footer></x-box></template>"]);_templateObject437=function _templateObject437(){return data;};return data;}function _templateObject436(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:28px;height:28px;min-width:28px;overflow:hidden;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .thumbnail img{display:block;width:100%;height:100%;pointer-events:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#filter-inspector-popover{width:600px;height:400px;--align:left}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button>x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}#mirror-svg{width:0;height:0;display:block}"]);_templateObject436=function _templateObject436(){return data;};return data;}function _templateObject435(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Filters</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No filters found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div><x-popover id=\"filter-inspector-popover\"><bx-filterinspector id=\"filter-inspector\"></bx-filterinspector></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"New filter\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-filter\"><x-label>Add Filter</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box><svg id=\"mirror-svg\"></svg></template>"]);_templateObject435=function _templateObject435(){return data;};return data;}function _templateObject434(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;outline:0;contain:size layout style;--edge-color:#696869;--node-background-color:#d0d0d0;--node-foreground-color:#949494}#main{position:relative;box-sizing:border-box;overflow:hidden;flex:1}#graph-backdrop{fill:none;stroke:none}#graph-nodes .node{color:var(--node-foreground-color);transition:.2s transform linear}#graph-nodes .node[data-highlighted],#graph-nodes .node[data-selected]{color:var(--dark-accent-color)}#graph-nodes .node[data-disabled]{opacity:.5}#graph-nodes .node .background{fill:var(--node-background-color);stroke:currentColor;stroke-width:2px}#graph-nodes .node[data-highlighted] .background,#graph-nodes .node[data-selected] .background{fill:var(--accent-color)}#graph-nodes .node x-icon{width:100%;height:100%;color:currentColor}#graph-edges .edge-inline{fill:none;stroke:var(--edge-color);stroke-width:2px;stroke-linejoin:round;stroke-miterlimit:10;marker-end:url(#edge-marker);transition:.2s d linear}#graph-edges .edge[data-selected] .edge-inline{stroke:var(--accent-color);stroke-width:3px;marker-end:url(#selected-edge-marker)}#graph-edges .edge[data-disabled]{opacity:.3}#graph-edges .edge-outline{fill:none;stroke:transparent;stroke-width:12px;stroke-linejoin:round;stroke-miterlimit:10}#edge-marker{fill:var(--edge-color)}#selected-edge-marker{fill:var(--accent-color)}#graph-edges .label-text{font-size:11px;font-weight:700;display:none;color:#fff;background:var(--edge-color);font-family:inherit;text-align:center;vertical-align:middle;border-radius:12px;transition:.2s x linear,.2s y linear}#graph-edges .edge[data-selected] .label-text{background:var(--accent-color);display:initial}#graph-edges .edge[data-labeled] .label-text{display:initial}#graph-ghost-edge{fill:none;stroke:var(--accent-color);stroke-width:3px;stroke-linejoin:round;stroke-miterlimit:10;marker-end:url(#selected-edge-marker);pointer-events:none}#canvas-buttons{position:absolute;right:10px;bottom:10px}#zoom-button{border-radius:0;padding:0 10px}#zoom-button>x-icon{width:12px;height:12px}#add-primitive-button{border-radius:0;padding:0 10px}#add-primitive-button::part(arrow){display:none}#add-primitive-button>x-icon{width:12px;height:12px}#add-primitive-button>x-menu{--align:end}#sidebar{display:flex;flex-flow:column;width:220px;height:100%;min-width:220px;max-width:400px;box-sizing:border-box;border-left-width:1px;border-left-style:solid;position:relative}#sidebar-header{padding:10px;box-sizing:border-box;border-bottom-width:1px;border-bottom-style:solid}#sidebar-header>h2{margin:0;padding:0;font-size:21px}#sidebar-content{overflow:auto}#sidebar-content>p{padding:0 10px;font-size:13px}#sidebar-resize-grippie{position:absolute;top:0;left:-3px;width:6px;height:100%;z-index:9;background:0 0;cursor:col-resize}"]);_templateObject434=function _templateObject434(){return data;};return data;}function _templateObject433(){var data=_taggedTemplateLiteral(["<template><main id=\"main\" part=\"main\"><svg id=\"canvas\" width=\"1440px\" height=\"900px\" viewBox=\"0 0 1440 900\" preserveAspectRatio=\"none\"><defs><marker id=\"edge-marker\" viewBox=\"0 0 100 100\" orient=\"auto\" refX=\"100\" refY=\"50\" markerUnits=\"userSpaceOnUse\" markerWidth=\"12\" markerHeight=\"12\"><path d=\"M 100 50 L 0 0 L 0 100 L 100 50 Z\"></path></marker><marker id=\"selected-edge-marker\" viewBox=\"0 0 100 100\" orient=\"auto\" refX=\"100\" refY=\"50\" markerUnits=\"userSpaceOnUse\" markerWidth=\"12\" markerHeight=\"12\"><path d=\"M 100 50 L 0 0 L 0 100 L 100 50 Z\"></path></marker></defs><g id=\"graph-group\"><rect id=\"graph-backdrop\"></rect><g id=\"graph-edges\"></g><g id=\"graph-nodes\"></g></g></svg><x-buttons id=\"canvas-buttons\"><x-button id=\"zoom-button\" title=\"Zoom to fit all primitives\" condensed><x-icon name=\"zoom\"></x-icon></x-button><x-button id=\"add-primitive-button\" title=\"Add primitive\" condensed><x-icon name=\"plus\"></x-icon><x-menu id=\"add-primitive-menu\" title=\"\"><x-menuitem value=\"SourceGraphic\" id=\"source-graphic-menu-item\"><x-icon name=\"filter-source-graphic\"></x-icon><x-label>Source Graphic</x-label></x-menuitem><x-menuitem value=\"SourceAlpha\" id=\"source-alpha-menu-item\"><x-icon name=\"filter-source-alpha\"></x-icon><x-label>Source Alpha</x-label></x-menuitem><hr><x-menuitem value=\"feBlend\"><x-icon name=\"filter-blend\"></x-icon><x-label>Blend</x-label></x-menuitem><x-menuitem value=\"feComposite\"><x-icon name=\"filter-composite\"></x-icon><x-label>Composite</x-label></x-menuitem><x-menuitem value=\"feMerge\"><x-icon name=\"filter-merge\"></x-icon><x-label>Merge</x-label></x-menuitem><hr><x-menuitem value=\"feFlood\"><x-icon name=\"filter-flood\"></x-icon><x-label>Flood</x-label></x-menuitem><x-menuitem value=\"feImage\"><x-icon name=\"filter-image\"></x-icon><x-label>Image</x-label></x-menuitem><x-menuitem value=\"feTile\"><x-icon name=\"filter-tile\"></x-icon><x-label>Tile</x-label></x-menuitem><x-menuitem value=\"feTurbulence\"><x-icon name=\"filter-turbulence\"></x-icon><x-label>Turbulence</x-label></x-menuitem><hr><x-menuitem value=\"feColorMatrix\"><x-icon name=\"filter-color-matrix\"></x-icon><x-label>Color Matrix</x-label></x-menuitem><x-menuitem value=\"feComponentTransfer\"><x-icon name=\"filter-component-transfer\"></x-icon><x-label>Component Transfer</x-label></x-menuitem><hr><x-menuitem value=\"feConvolveMatrix\"><x-icon name=\"filter-convolve-matrix\"></x-icon><x-label>Convolve Matrix</x-label></x-menuitem><x-menuitem value=\"feDisplacementMap\"><x-icon name=\"filter-displacement-map\"></x-icon><x-label>Displacement Map</x-label></x-menuitem><x-menuitem value=\"feGaussianBlur\"><x-icon name=\"filter-gaussian-blur\"></x-icon><x-label>Gaussian Blur</x-label></x-menuitem><x-menuitem value=\"feMorphology\"><x-icon name=\"filter-morphology\"></x-icon><x-label>Morphology</x-label></x-menuitem><x-menuitem value=\"feDropShadow\"><x-icon name=\"filter-drop-shadow\"></x-icon><x-label>Drop Shadow</x-label></x-menuitem><x-menuitem value=\"feOffset\"><x-icon name=\"filter-offset\"></x-icon><x-label>Offset</x-label></x-menuitem><hr><x-menuitem value=\"feSpecularLighting\"><x-icon name=\"filter-lighting\"></x-icon><x-label>Specular Lighting</x-label></x-menuitem><x-menuitem value=\"feDiffuseLighting\"><x-icon name=\"filter-lighting\"></x-icon><x-label>Diffuse Lighting</x-label></x-menuitem></x-menu></x-button></x-buttons></main><aside id=\"sidebar\" part=\"sidebar\"><div id=\"sidebar-header\" part=\"sidebar-header\"><h2 id=\"sidebar-heading\"></h2></div><div id=\"sidebar-content\"></div><div id=\"sidebar-resize-grippie\"></div></aside></template>"]);_templateObject433=function _templateObject433(){return data;};return data;}function _templateObject432(){var data=_taggedTemplateLiteral(["#constant-section h4{margin-bottom:0}#constant-slider{flex:1}#constant-input{margin-left:6px;width:54px}"]);_templateObject432=function _templateObject432(){return data;};return data;}function _templateObject431(){var data=_taggedTemplateLiteral(["<template><section id=\"constant-section\"><h4>Diffuse constant</h4><x-box id=\"constant-box\"><x-slider id=\"constant-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"constant-input\" value=\"0\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject431=function _templateObject431(){return data;};return data;}function _templateObject430(){var data=_taggedTemplateLiteral(["#constant-section h4{margin-bottom:0}#constant-slider{flex:1}#constant-input{margin-left:6px;width:54px}#exponent-section h4{margin-bottom:0}#exponent-slider{flex:1}#exponent-input{margin-left:6px;width:54px}"]);_templateObject430=function _templateObject430(){return data;};return data;}function _templateObject429(){var data=_taggedTemplateLiteral(["<template><section id=\"constant-section\"><h4>Specular constant</h4><x-box id=\"constant-box\"><x-slider id=\"constant-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"0.1\"></x-slider><x-numberinput id=\"constant-input\" value=\"0\" min=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"exponent-section\"><h4>Specular exponent</h4><x-box id=\"exponent-box\"><x-slider id=\"exponent-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"exponent-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject429=function _templateObject429(){return data;};return data;}function _templateObject428(){var data=_taggedTemplateLiteral(["#surface-scale-section h4{margin-bottom:0}#surface-scale-slider{flex:1}#surface-scale-input{margin-left:6px;width:54px}#color-select x-popover{--align:right}#source-type-buttons{width:100%}#source-type-buttons x-button{flex:1}#source-position-subsection x-numberinput{width:100%}#source-position-x-box,#source-position-y-box,#source-position-z-box{flex:1}#source-position-y-box{margin:0 4px}#source-target-subsection x-numberinput{width:100%}#source-target-x-box,#source-target-y-box,#source-target-z-box{flex:1}#source-target-y-box{margin:0 4px}#source-cone-subsection h5{margin-bottom:0}#source-cone-slider{flex:1}#source-cone-input{margin-left:6px;width:54px}#source-exponent-subsection h5{margin-bottom:0}#source-exponent-slider{flex:1}#source-exponent-input{margin-left:6px;width:54px}#source-azimuth-subsection h5{margin-bottom:0}#source-azimuth-slider{flex:1}#source-azimuth-input{margin-left:6px;width:54px}#source-elevation-subsection h5{margin-bottom:0}#source-elevation-slider{flex:1}#source-elevation-input{margin-left:6px;width:54px}"]);_templateObject428=function _templateObject428(){return data;};return data;}function _templateObject427(){var data=_taggedTemplateLiteral(["<template><section id=\"surface-scale-section\"><h4>Surface scale</h4><x-box id=\"surface-scale-box\"><x-slider id=\"surface-scale-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"surface-scale-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4>Color</h4><x-colorselect id=\"color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section><hr><section id=\"source-section\"><h4>Light source</h4><section id=\"source-type-subsection\"><h5>Type</h5><x-buttons id=\"source-type-buttons\" tracking=\"1\"><x-button value=\"fePointLight\" toggled><x-label>Point</x-label></x-button><x-button value=\"feSpotLight\"><x-label>Spot</x-label></x-button><x-button value=\"feDistantLight\"><x-label>Distant</x-label></x-button></x-buttons></section><section id=\"source-position-subsection\"><x-box><x-box id=\"source-position-x-box\" vertical><h5>X</h5><x-numberinput id=\"source-position-x-input\" value=\"0\" data-name=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-position-y-box\" vertical><h5>Y</h5><x-numberinput id=\"source-position-y-input\" value=\"0\" data-name=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-position-z-box\" vertical><h5>Z</h5><x-numberinput id=\"source-position-z-input\" value=\"0\" data-name=\"z\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"source-target-subsection\"><x-box><x-box id=\"source-target-x-box\" vertical><h5>Target X</h5><x-numberinput id=\"source-target-x-input\" value=\"0\" data-name=\"pointsAtX\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-target-y-box\" vertical><h5>Target Y</h5><x-numberinput id=\"source-target-y-input\" value=\"0\" data-name=\"pointsAtY\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-target-z-box\" vertical><h5>Target Z</h5><x-numberinput id=\"source-target-z-input\" value=\"0\" data-name=\"pointsAtZ\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"source-cone-subsection\"><h5>Limiting cone angle</h5><x-box id=\"source-cone-box\"><x-slider id=\"source-cone-slider\" value=\"0\" min=\"0\" max=\"360\" step=\"1\"></x-slider><x-numberinput id=\"source-cone-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"source-exponent-subsection\"><h5>Specular exponent</h5><x-box id=\"source-exponent-box\"><x-slider id=\"source-exponent-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"source-exponent-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"source-azimuth-subsection\"><h5>Azimuth</h5><x-box id=\"source-azimuth-box\"><x-slider id=\"source-azimuth-slider\" value=\"0\" min=\"0\" max=\"360\" step=\"1\"></x-slider><x-numberinput id=\"source-azimuth-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"source-elevation-subsection\"><h5>Elevation</h5><x-box id=\"source-elevation-box\"><x-slider id=\"source-elevation-slider\" value=\"0\" min=\"0\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"source-elevation-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section></template>"]);_templateObject427=function _templateObject427(){return data;};return data;}function _templateObject426(){var data=_taggedTemplateLiteral(["#delta-section x-label{margin-bottom:3px;font-size:12px}#delta-section x-numberinput{width:100%}#delta-section #x-box,#delta-section #y-box{flex:1}#delta-section #x-box{margin-right:7px}#delta-section #y-box{margin-left:7px}"]);_templateObject426=function _templateObject426(){return data;};return data;}function _templateObject425(){var data=_taggedTemplateLiteral(["<template><section id=\"delta-section\"><h4>Delta</h4><x-box><x-box id=\"x-box\" vertical><x-label>X</x-label><x-numberinput id=\"x-input\" value=\"0\" data-name=\"dx\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"y-input\" value=\"0\" data-name=\"dy\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject425=function _templateObject425(){return data;};return data;}function _templateObject424(){var data=_taggedTemplateLiteral(["#deviation-section x-label{margin-bottom:3px;font-size:12px}#deviation-section x-numberinput{width:100%}#deviation-x-box,#deviation-y-box{flex:1}#deviation-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#deviation-lock-button[toggled]{opacity:.9}#deviation-lock-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#offset-section x-label{margin-bottom:3px;font-size:12px}#offset-section x-numberinput{width:100%}#offset-x-box,#offset-y-box{flex:1}#offset-x-box{margin-right:13px}#offset-y-box{margin-left:13px}#color-select x-popover{--align:right}#opacity-section h4{margin-bottom:0}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}"]);_templateObject424=function _templateObject424(){return data;};return data;}function _templateObject423(){var data=_taggedTemplateLiteral(["<template><section id=\"deviation-section\"><h4>Standard deviation</h4><x-box><x-box id=\"deviation-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"deviation-x-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"deviation-lock-button\" togglable skin=\"flat\"><x-icon id=\"deviation-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"deviation-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"deviation-y-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"offset-section\"><h4>Offset</h4><x-box><x-box id=\"offset-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"offset-x-input\" value=\"0\" data-name=\"dx\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"offset-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"offset-y-input\" value=\"0\" data-name=\"dy\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"color-section\"><h4>Color</h4><x-colorselect id=\"color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section><section id=\"opacity-section\"><h4>Opacity</h4><x-box id=\"opacity-box\"><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject423=function _templateObject423(){return data;};return data;}function _templateObject422(){var data=_taggedTemplateLiteral(["#operator-buttons{width:100%}#operator-buttons x-button{flex:1}#radius-section x-label{margin-bottom:3px;font-size:12px}#radius-section x-numberinput{width:100%}#radius-x-box,#radius-y-box{flex:1}#radius-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#radius-lock-button[toggled]{opacity:.9}#radius-lock-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject422=function _templateObject422(){return data;};return data;}function _templateObject421(){var data=_taggedTemplateLiteral(["<template><section id=\"operator-section\"><h4>Operator</h4><x-buttons id=\"operator-buttons\" tracking=\"1\"><x-button value=\"erode\" toggled><x-label>Erode</x-label></x-button><x-button value=\"dilate\"><x-label>Dilate</x-label></x-button></x-buttons></section><section id=\"radius-section\"><h4>Radius</h4><x-box><x-box id=\"radius-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"radius-x-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"radius-lock-button\" togglable skin=\"flat\"><x-icon id=\"radius-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"radius-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"radius-y-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject421=function _templateObject421(){return data;};return data;}function _templateObject420(){var data=_taggedTemplateLiteral(["#deviation-section x-label{margin-bottom:3px;font-size:12px}#deviation-section x-numberinput{width:100%}#deviation-x-box,#deviation-y-box{flex:1}#deviation-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#deviation-lock-button[toggled]{opacity:.9}#deviation-lock-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject420=function _templateObject420(){return data;};return data;}function _templateObject419(){var data=_taggedTemplateLiteral(["<template><section id=\"deviation-section\"><h4>Standard deviation</h4><x-box><x-box id=\"deviation-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"deviation-x-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"deviation-lock-button\" togglable skin=\"flat\"><x-icon id=\"deviation-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"deviation-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"deviation-y-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject419=function _templateObject419(){return data;};return data;}function _templateObject418(){var data=_taggedTemplateLiteral(["#scale-section h4{margin-bottom:0}#scale-slider{flex:1}#scale-input{margin-left:6px;width:54px}#x-channel-buttons{width:100%}#x-channel-buttons x-button{flex:1}#y-channel-buttons{width:100%}#y-channel-buttons x-button{flex:1}"]);_templateObject418=function _templateObject418(){return data;};return data;}function _templateObject417(){var data=_taggedTemplateLiteral(["<template><section id=\"scale-section\"><h4>Scale</h4><x-box id=\"scale-box\"><x-slider id=\"scale-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"scale-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"x-channel-section\"><h4>X channel</h4><x-buttons id=\"x-channel-buttons\" tracking=\"1\"><x-button value=\"R\"><x-label>R</x-label></x-button><x-button value=\"G\"><x-label>G</x-label></x-button><x-button value=\"B\"><x-label>B</x-label></x-button><x-button value=\"A\" toggled><x-label>A</x-label></x-button></x-buttons></section><section id=\"y-channel-section\"><h4>Y channel</h4><x-buttons id=\"y-channel-buttons\" tracking=\"1\"><x-button value=\"R\"><x-label>R</x-label></x-button><x-button value=\"G\"><x-label>G</x-label></x-button><x-button value=\"B\"><x-label>B</x-label></x-button><x-button value=\"A\" toggled><x-label>A</x-label></x-button></x-buttons></section></template>"]);_templateObject417=function _templateObject417(){return data;};return data;}function _templateObject416(){var data=_taggedTemplateLiteral(["#kernel-values-table{display:block;margin-top:8px;--order-x:3;--order-y:3}#kernel-values-table .row-box{margin-top:-1px}#kernel-values-table .row-box:first-child{margin-top:0}#kernel-values-table x-numberinput{margin-left:-1px;text-align:center;min-width:calc(100% / var(--order-x));flex:1}#kernel-values-table x-numberinput:first-child{margin-left:0}#kernel-values-table x-numberinput[data-target=true]{background:#f5f4ce}#kernel-buttons-box{margin-top:5px}#kernel-buttons-box x-icon{width:13px;height:13px;opacity:.8}#kernel-column-buttons{margin-left:auto}#target-section x-label{margin-bottom:3px;font-size:12px}#target-section x-numberinput{width:100%}#target-x-box,#target-y-box{flex:1}#target-x-box{margin-right:7px}#target-y-box{margin-left:7px}#divisor-section h4{margin-bottom:0}#divisor-switch{margin:0}#divisor-box{margin-top:6px}#divisor-slider{flex:1}#divisor-input{margin-left:6px;width:54px}#bias-section h4{margin-bottom:0}#bias-slider{flex:1}#bias-input{margin-left:6px;width:54px}#edge-mode-buttons{width:100%}#edge-mode-buttons x-button{flex:1}#preserve-section x-checkbox{margin:5px 0}"]);_templateObject416=function _templateObject416(){return data;};return data;}function _templateObject415(){var data=_taggedTemplateLiteral(["<template><section id=\"kernel-section\"><h4>Kernel</h4><div id=\"kernel-values-table\"></div><x-box id=\"kernel-buttons-box\"><x-buttons id=\"kernel-row-buttons\"><x-button id=\"kernel-remove-row-button\" value=\"row-remove\" skin=\"mini-bordered\"><x-icon name=\"chevron-up\"></x-icon></x-button><x-button id=\"kernel-add-row-button\" value=\"row-add\" skin=\"mini-bordered\"><x-icon name=\"chevron-down\"></x-icon></x-button></x-buttons><x-buttons id=\"kernel-column-buttons\"><x-button id=\"kernel-remove-column-button\" value=\"column-remove\" skin=\"mini-bordered\"><x-icon name=\"chevron-left\"></x-icon></x-button><x-button id=\"kernel-add-column-button\" value=\"column-add\" skin=\"mini-bordered\"><x-icon name=\"chevron-right\"></x-icon></x-button></x-buttons></x-box></section><section id=\"target-section\"><h4>Target</h4><x-box id=\"target-box\"><x-box id=\"target-x-box\" vertical><x-label id=\"target-x-label\">X</x-label><x-numberinput id=\"target-x-input\" data-name=\"targetX\" value=\"1\" min=\"0\" max=\"","\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"target-y-box\" vertical><x-label id=\"target-y-label\">Y</x-label><x-numberinput id=\"target-y-input\" data-name=\"targetY\" value=\"1\" min=\"0\" max=\"","\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"divisor-section\"><x-box><h4 id=\"divisor-heading\">Divisor</h4><x-switch id=\"divisor-switch\" size=\"smaller\" toggled></x-switch></x-box><x-box id=\"divisor-box\"><x-slider id=\"divisor-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"divisor-input\" value=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"bias-section\"><h4>Bias</h4><x-box id=\"bias-box\"><x-slider id=\"bias-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"bias-input\" value=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"edge-mode-section\"><h4>Edge mode</h4><x-buttons id=\"edge-mode-buttons\" tracking=\"1\"><x-button value=\"duplicate\" condensed toggled><x-label>Duplicate</x-label></x-button><x-button value=\"wrap\" condensed><x-label>Wrap</x-label></x-button><x-button value=\"none\" condensed><x-label>None</x-label></x-button></x-buttons></section><section id=\"preserve-section\"><h4>Preserve</h4><x-checkbox id=\"preserve-alpha-checkbox\" toggled><x-label>Alpha</x-label></x-checkbox></section></template>"]);_templateObject415=function _templateObject415(){return data;};return data;}function _templateObject414(){var data=_taggedTemplateLiteral(["#component-buttons{width:100%;margin-top:8px}#component-buttons x-button{flex:1}#type-select{width:100%}#linear-slope-section h4{margin-bottom:0}#linear-slope-slider{flex:1}#linear-slope-input{margin-left:6px;width:54px}#linear-intercept-section h4{margin-bottom:0}#linear-intercept-slider{flex:1}#linear-intercept-input{margin-left:6px;width:54px}#gamma-amplitude-section h4{margin-bottom:0}#gamma-amplitude-slider{flex:1}#gamma-amplitude-input{margin-left:6px;width:54px}#gamma-exponent-section h4{margin-bottom:0}#gamma-exponent-slider{flex:1}#gamma-exponent-input{margin-left:6px;width:54px}#gamma-offset-section h4{margin-bottom:0}#gamma-offset-slider{flex:1}#gamma-offset-input{margin-left:6px;width:54px}#table-values-box{margin-top:1px;flex-wrap:wrap}#table-values-section x-numberinput{margin-top:-1px;margin-left:-1px;width:auto;min-width:calc(20% + 1px);text-align:center}"]);_templateObject414=function _templateObject414(){return data;};return data;}function _templateObject413(){var data=_taggedTemplateLiteral(["<template><section id=\"component-section\"><h4>Component</h4><x-buttons id=\"component-buttons\" tracking=\"1\"><x-button value=\"feFuncR\" condensed toggled><x-label>Red</x-label></x-button><x-button value=\"feFuncG\" condensed><x-label>Green</x-label></x-button><x-button value=\"feFuncB\" condensed><x-label>Blue</x-label></x-button><x-button value=\"feFuncA\" condensed><x-label>Alpha</x-label></x-button></x-buttons></section><section id=\"type-section\"><h4>Type</h4><x-select id=\"type-select\"><x-menu><x-menuitem value=\"identity\" toggled><x-label>Identity</x-label></x-menuitem><x-menuitem value=\"linear\"><x-label>Linear</x-label></x-menuitem><x-menuitem value=\"gamma\"><x-label>Gamma</x-label></x-menuitem><x-menuitem value=\"table\"><x-label>Table</x-label></x-menuitem><x-menuitem value=\"discrete\"><x-label>Discrete table</x-label></x-menuitem></x-menu></x-select></section><section id=\"linear-slope-section\" hidden><h4>Slope</h4><x-box id=\"linear-slope-box\"><x-slider id=\"linear-slope-slider\" value=\"1\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"linear-slope-input\" value=\"1\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"linear-intercept-section\" hidden><h4>Intercept</h4><x-box id=\"linear-intercept-box\"><x-slider id=\"linear-intercept-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"linear-intercept-input\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"gamma-amplitude-section\" hidden><h4>Amplitude</h4><x-box id=\"gamma-amplitude-box\"><x-slider id=\"gamma-amplitude-slider\" value=\"1\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"gamma-amplitude-input\" value=\"1\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"gamma-exponent-section\" hidden><h4>Exponent</h4><x-box id=\"gamma-exponent-box\"><x-slider id=\"gamma-exponent-slider\" value=\"1\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"gamma-exponent-input\" value=\"1\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"gamma-offset-section\" hidden><h4>Offset</h4><x-box id=\"gamma-offset-box\"><x-slider id=\"gamma-offset-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"gamma-offset-input\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"table-values-section\" hidden><h4>Values</h4><x-box id=\"table-values-box\"><x-numberinput value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed></x-numberinput><x-numberinput value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed></x-numberinput><x-numberinput min=\"0\" max=\"1\" step=\"0.01\" condensed></x-numberinput></x-box></section></template>"]);_templateObject413=function _templateObject413(){return data;};return data;}function _templateObject412(){var data=_taggedTemplateLiteral(["#type-select{width:100%}#matrix-values-section .row-box{margin-top:-1px}#matrix-values-section .row-box:first-child{margin-top:0}#matrix-values-section x-numberinput{min-width:calc(100%/5);margin-left:-1px;text-align:center}#matrix-values-section x-numberinput:first-child{margin-left:0}#saturate-value-section h4{margin-bottom:0}#saturate-value-section x-box{width:100%}#saturate-value-section x-slider{flex:1}#saturate-value-section x-numberinput{width:60px;margin-left:10px}#hue-rotate-value-section h4{margin-bottom:0}#hue-rotate-value-section x-box{width:100%}#hue-rotate-value-section x-slider{flex:1}#hue-rotate-value-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject412=function _templateObject412(){return data;};return data;}function _templateObject411(){var data=_taggedTemplateLiteral(["<template><section id=\"type-section\"><h4>Type</h4><x-select id=\"type-select\"><x-menu><x-menuitem value=\"matrix\" toggled><x-label>Matrix</x-label></x-menuitem><x-menuitem value=\"saturate\"><x-label>Saturate</x-label></x-menuitem><x-menuitem value=\"hueRotate\"><x-label>Hue rotate</x-label></x-menuitem><x-menuitem value=\"luminanceToAlpha\"><x-label>Luminance to alpha</x-label></x-menuitem></x-menu></x-select></section><section id=\"matrix-values-section\"><h4>Values</h4><x-box class=\"row-box\"><x-numberinput id=\"matrix-0-input\" value=\"1\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-1-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-2-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-3-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-4-input\" value=\"0\" step=\"0.01\"></x-numberinput></x-box><x-box class=\"row-box\"><x-numberinput id=\"matrix-5-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-6-input\" value=\"1\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-7-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-8-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-9-input\" value=\"0\" step=\"0.01\"></x-numberinput></x-box><x-box class=\"row-box\"><x-numberinput id=\"matrix-10-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-11-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-12-input\" value=\"1\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-13-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-14-input\" value=\"0\" step=\"0.01\"></x-numberinput></x-box><x-box class=\"row-box\"><x-numberinput id=\"matrix-15-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-16-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-17-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-18-input\" value=\"1\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-19-input\" value=\"0\" step=\"0.01\"></x-numberinput></x-box><x-box class=\"row-box\"><x-numberinput id=\"matrix-20-input\" value=\"0\" step=\"0.01\" disabled=\"disabled\"></x-numberinput><x-numberinput id=\"matrix-21-input\" value=\"0\" step=\"0.01\" disabled=\"disabled\"></x-numberinput><x-numberinput id=\"matrix-22-input\" value=\"0\" step=\"0.01\" disabled=\"disabled\"></x-numberinput><x-numberinput id=\"matrix-23-input\" value=\"0\" step=\"0.01\" disabled=\"disabled\"></x-numberinput><x-numberinput id=\"matrix-24-input\" value=\"1\" step=\"0.01\" disabled=\"disabled\"></x-numberinput></x-box></section><section id=\"saturate-value-section\"><h4>Value</h4><x-box id=\"saturate-value-box\"><x-slider id=\"saturate-value-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"saturate-value-input\" value=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"hue-rotate-value-section\"><h4 id=\"hue-rotate-value-heading\">Value</h4><x-box id=\"hue-rotate-value-box\"><x-slider id=\"hue-rotate-value-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"hue-rotate-value-input\" value=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject411=function _templateObject411(){return data;};return data;}function _templateObject410(){var data=_taggedTemplateLiteral(["#type-buttons{width:100%}#type-buttons x-button{flex:1}#frequency-section #frequency-value-box x-label{margin-bottom:3px;font-size:12px}#frequency-section #frequency-value-box x-numberinput{width:100%}#frequency-x-box,#frequency-y-box{flex:1}#frequency-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#frequency-lock-button[toggled]{opacity:.9}#frequency-lock-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#frequency-stitch-checkbox{margin-top:8px}#frequency-stitch-checkbox x-label{font-size:12px}#octaves-section h4{margin-bottom:0}#octaves-slider{flex:1}#octaves-input{margin-left:6px;width:54px}#seed-section h4{margin-bottom:0}#seed-slider{flex:1}#seed-input{margin-left:6px;width:54px}"]);_templateObject410=function _templateObject410(){return data;};return data;}function _templateObject409(){var data=_taggedTemplateLiteral(["<template><section id=\"type-section\"><h4>Type</h4><x-buttons id=\"type-buttons\" tracking=\"1\"><x-button value=\"turbulence\" toggled><x-label>Turbulence</x-label></x-button><x-button value=\"fractalNoise\"><x-label>Noise</x-label></x-button></x-buttons></section><section id=\"frequency-section\"><h4>Base frequency</h4><x-box id=\"frequency-value-box\"><x-box id=\"frequency-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"frequency-x-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"frequency-lock-button\" togglable skin=\"flat\"><x-icon id=\"frequency-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"frequency-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"frequency-y-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-checkbox id=\"frequency-stitch-checkbox\"><x-label>Stitch tiles</x-label></x-checkbox></section><section id=\"octaves-section\"><h4>Number of octaves</h4><x-box id=\"octaves-box\"><x-slider id=\"octaves-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"1\"></x-slider><x-numberinput id=\"octaves-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-section\"><h4>Seed</h4><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject409=function _templateObject409(){return data;};return data;}function _templateObject408(){var data=_taggedTemplateLiteral(["#source-thumbnail{width:54px;height:54px;min-width:54px;margin-right:8px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#source-thumbnail-img{display:block;width:100%;height:100%;pointer-events:none;visibility:hidden}#source-thumbnail-img[src]{visibility:visible}#source-column-right{flex:1}#source-href-input{max-width:none}#source-import-button{margin-top:8px;width:100%}"]);_templateObject408=function _templateObject408(){return data;};return data;}function _templateObject407(){var data=_taggedTemplateLiteral(["<template><section id=\"source-section\"><h4>Source</h4><x-box><div id=\"source-thumbnail\" part=\"thumbnail\" class=\"left\"><img id=\"source-thumbnail-img\"></div><div id=\"source-column-right\"><x-input id=\"source-href-input\"><x-label>Href</x-label></x-input><x-button id=\"source-import-button\" toggled><x-label>Import from Disk</x-label></x-button></div></x-box></section></template>"]);_templateObject407=function _templateObject407(){return data;};return data;}function _templateObject406(){var data=_taggedTemplateLiteral(["#color-select x-popover{--align:right}#opacity-section h4{margin-bottom:0}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}"]);_templateObject406=function _templateObject406(){return data;};return data;}function _templateObject405(){var data=_taggedTemplateLiteral(["<template><section id=\"color-section\"><h4>Color</h4><x-colorselect id=\"color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section><section id=\"opacity-section\"><h4>Opacity</h4><x-box id=\"opacity-box\"><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject405=function _templateObject405(){return data;};return data;}function _templateObject404(){var data=_taggedTemplateLiteral(["#operator-select{width:100%}#parameters-section x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#parameters-section x-numberinput{width:100%}#parameters-section #k1-box,#parameters-section #k2-box,#parameters-section #k3-box,#parameters-section #k4-box{flex:1;min-width:0}#parameters-section #k2-box,#parameters-section #k3-box,#parameters-section #k4-box{margin-left:4px}"]);_templateObject404=function _templateObject404(){return data;};return data;}function _templateObject403(){var data=_taggedTemplateLiteral(["<template><section id=\"operator-section\"><h4>Operator</h4><x-select id=\"operator-select\"><x-menu><x-menuitem value=\"over\" toggled><x-label>Over</x-label></x-menuitem><x-menuitem value=\"in\"><x-label>In</x-label></x-menuitem><x-menuitem value=\"atop\"><x-label>Atop</x-label></x-menuitem><x-menuitem value=\"out\"><x-label>Out</x-label></x-menuitem><x-menuitem value=\"xor\"><x-label>Xor</x-label></x-menuitem><x-menuitem value=\"arithmetic\"><x-label>Arithmetic</x-label></x-menuitem></x-menu></x-select></section><section id=\"parameters-section\" hidden><h4 id=\"parameters-heading\">Parameters</h4><x-box id=\"parameters-box\"><x-box id=\"k1-box\" vertical><x-label id=\"k1-heading\">k1</x-label><x-numberinput id=\"k1-input\" value=\"0\" step=\"0.1\" data-parameter=\"k1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"k2-box\" vertical><x-label id=\"k2-heading\">k2</x-label><x-numberinput id=\"k2-input\" value=\"0\" step=\"0.1\" data-parameter=\"k2\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"k3-box\" vertical><x-label id=\"k3-heading\">k3</x-label><x-numberinput id=\"k3-input\" value=\"0\" step=\"0.1\" data-parameter=\"k3\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"k4-box\" vertical><x-label id=\"k4-heading\">k4</x-label><x-numberinput id=\"k4-input\" value=\"0\" step=\"0.1\" data-parameter=\"k4\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject403=function _templateObject403(){return data;};return data;}function _templateObject402(){var data=_taggedTemplateLiteral(["#blend-mode-select{width:100%}"]);_templateObject402=function _templateObject402(){return data;};return data;}function _templateObject401(){var data=_taggedTemplateLiteral(["<template><section id=\"blend-mode-section\"><h4>Blend Mode</h4><x-select id=\"blend-mode-select\"><x-menu><x-menuitem value=\"normal\"><x-label>Normal</x-label></x-menuitem><x-menuitem value=\"multiply\"><x-label>Multiply</x-label></x-menuitem><x-menuitem value=\"screen\"><x-label>Screen</x-label></x-menuitem><x-menuitem value=\"darken\" toggled><x-label>Darken</x-label></x-menuitem><x-menuitem value=\"lighten\"><x-label>Lighten</x-label></x-menuitem></x-menu></x-select></section></template>"]);_templateObject401=function _templateObject401(){return data;};return data;}function _templateObject400(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%}:host([hidden]){display:none}#main{padding:10px 0;box-sizing:border-box}#main h5{margin:0 0 4px 0;font-size:12px;font-weight:400}#main>section{padding:0 10px}#main>section+section{margin-top:14px}#main>section>section+section{margin-top:14px}#main>hr{margin:14px 0}#main>hr:first-child{display:none}#subregion-section{position:relative}#subregion-section>x-box{justify-content:space-between}#subregion-section>x-box:not(:first-child){margin-top:8px}#subregion-section>x-box>x-box{width:calc(50% - 13px)}#subregion-section x-box>x-box>x-numberinput{width:100%}#subregion-lock-button{position:absolute;left:50%;bottom:0;transform:translateX(-50%);color:currentColor;opacity:.5}#subregion-lock-button[toggled]{opacity:.9}#subregion-lock-button x-icon{width:18px;height:18px}"]);_templateObject400=function _templateObject400(){return data;};return data;}function _templateObject399(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><hr><section id=\"subregion-section\"><h4>Subregion</h4><x-box><x-box id=\"subregion-x-box\" vertical><h5>X</h5><x-numberinput id=\"subregion-x-input\" condensed><x-label>Auto</x-label><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"subregion-y-box\" vertical><h5>Y</h5><x-numberinput id=\"subregion-y-input\" condensed><x-label>Auto</x-label><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box><x-box id=\"subregion-width-box\" vertical><h5>Width</h5><x-numberinput id=\"subregion-width-input\" min=\"0\" condensed><x-label>Auto</x-label><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"subregion-lock-button\" togglable skin=\"flat\"><x-icon id=\"subregion-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"subregion-height-box\" vertical><h5>Height</h5><x-numberinput id=\"subregion-height-input\" min=\"0\" condensed><x-label>Auto</x-label><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></main></template>"]);_templateObject399=function _templateObject399(){return data;};return data;}function _templateObject398(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#main{padding:10px 0;box-sizing:border-box}#main>section{padding:0 10px}#slot-buttons{width:100%}#slot-buttons>x-button{flex:1}"]);_templateObject398=function _templateObject398(){return data;};return data;}function _templateObject397(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"slot-section\"><h4>Input slot</h4><x-buttons id=\"slot-buttons\" tracking=\"1\"><x-button value=\"1\" condensed toggled><x-label>1</x-label></x-button><x-button value=\"2\" condensed><x-label>2</x-label></x-button><x-button value=\"3\" condensed><x-label>3</x-label></x-button></x-buttons></section></main></template>"]);_templateObject397=function _templateObject397(){return data;};return data;}function _templateObject396(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#main{padding:10px 0;box-sizing:border-box}#main>section{padding:0 10px}#main>section+section{margin-top:14px}#main>hr{margin:14px 0}#filter-units-select{width:100%}#primitive-units-select{width:100%}#region-section{position:relative}#region-section>x-box{justify-content:space-between}#region-section>x-box:not(:first-child){margin-top:8px}#region-section>x-box>x-box{width:calc(50% - 13px)}#region-section>x-box>x-box>x-label{margin-bottom:3px;font-size:12px}#region-section x-box>x-box>x-numberinput{width:100%}#region-lock-button{position:absolute;left:50%;bottom:0;transform:translateX(-50%);color:currentColor;opacity:.5}#region-lock-button[toggled]{opacity:.9}#region-lock-button x-icon{width:18px;height:18px}"]);_templateObject396=function _templateObject396(){return data;};return data;}function _templateObject395(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"filter-units-section\"><h4>Filter units</h4><x-select id=\"filter-units-select\"><x-menu><x-menuitem value=\"objectBoundingBox\" toggled><x-label>Object bounding box</x-label></x-menuitem><x-menuitem value=\"userSpaceOnUse\"><x-label>User space on use</x-label></x-menuitem></x-menu></x-select></section><section id=\"primitive-units-section\"><h4>Primitive units</h4><x-select id=\"primitive-units-select\"><x-menu><x-menuitem value=\"objectBoundingBox\" toggled><x-label>Object bounding box</x-label></x-menuitem><x-menuitem value=\"userSpaceOnUse\"><x-label>User space on use</x-label></x-menuitem></x-menu></x-select></section><hr><section id=\"region-section\"><h4>Region</h4><x-box><x-box id=\"region-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"region-x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"region-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"region-y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box><x-box id=\"region-width-box\" vertical><x-label>Width</x-label><x-numberinput id=\"region-width-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"region-lock-button\" togglable skin=\"flat\"><x-icon id=\"region-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"region-height-box\" vertical><x-label>Height</x-label><x-numberinput id=\"region-height-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></main></template>"]);_templateObject395=function _templateObject395(){return data;};return data;}function _templateObject394(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:28px;height:28px;min-width:28px;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}#mirror-svg{width:0;height:0;display:block}"]);_templateObject394=function _templateObject394(){return data;};return data;}function _templateObject393(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Symbols</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No symbols found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"New symbol\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-symbol\"><x-label>Add Symbol</x-label></x-menuitem><x-menuitem value=\"add-symbol-from-objects\" id=\"add-symbol-from-objects-menu-item\"><x-label>Add Symbol from Selected Objects</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box><svg id=\"mirror-svg\"></svg></template>"]);_templateObject393=function _templateObject393(){return data;};return data;}function _templateObject392(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:28px;height:28px;min-width:28px;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}"]);_templateObject392=function _templateObject392(){return data;};return data;}function _templateObject391(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Markers</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No markers found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"New marker\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-marker\"><x-label>Add Marker</x-label></x-menuitem><x-menuitem value=\"add-marker-from-objects\" id=\"add-marker-from-objects-menu-item\"><x-label>Add Marker from Selected Objects</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box></template>"]);_templateObject391=function _templateObject391(){return data;};return data;}function _templateObject390(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:28px;height:28px;min-width:28px;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}#mirror-svg{width:0;height:0;display:block}"]);_templateObject390=function _templateObject390(){return data;};return data;}function _templateObject389(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Patterns</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No patterns found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"Add Pattern\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-pattern\"><x-label>Add Pattern</x-label></x-menuitem><x-menuitem value=\"add-pattern-from-objects\" id=\"add-pattern-from-objects-menu-item\"><x-label>Add Pattern from Selected Objects</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box><svg id=\"mirror-svg\"></svg></template>"]);_templateObject389=function _templateObject389(){return data;};return data;}function _templateObject388(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:55px;height:24px;min-width:28px;overflow:hidden;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#gradient-inspector-popover{width:250px;--align:left}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}"]);_templateObject388=function _templateObject388(){return data;};return data;}function _templateObject387(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Gradients</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No gradients found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div><x-popover id=\"gradient-inspector-popover\"><bx-gradientinspector id=\"gradient-inspector\"></bx-gradientinspector></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"Add gradient\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-gradient\"><x-label>Add Gradient</x-label></x-menuitem><x-menuitem value=\"add-gradient-from-fill\" id=\"add-gradient-from-fill-menu-item\"><x-label>Add Gradient from Selected Object Fill</x-label></x-menuitem><x-menuitem value=\"add-gradient-from-stroke\" id=\"add-gradient-from-stroke-menu-item\"><x-label>Add Gradient from Selected Object Stroke</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box></template>"]);_templateObject387=function _templateObject387(){return data;};return data;}function _templateObject386(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;padding:16px;outline:0;box-sizing:border-box}h4{margin:17px 0 9px 0}#main{width:100%;height:100%;display:flex;flex-flow:column}#gradient-section h4{margin-top:0}#gradient-slider{position:relative;width:100%;height:40px;border-width:1px;border-style:solid;touch-action:pan-y;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;background:var(--checkboard-background);--marker-width:18px}#left-gradient-slider-edge{width:calc(var(--marker-width)/ 2);height:100%;position:absolute;top:0;left:0;background:#000}#right-gradient-slider-edge{width:calc(var(--marker-width)/ 2);height:100%;position:absolute;top:0;right:0;background:#000}#gradient-slider #track{width:100%;height:100%;position:relative;display:flex;align-items:center}#gradient-slider #markers{position:absolute;top:-3px;left:0;width:100%;height:calc(100% + 6px)}#gradient-slider .marker{position:absolute;left:0;width:var(--marker-width);height:100%;box-sizing:border-box;background:rgba(0,0,0,.2);border:3px solid #fff;box-shadow:0 0 1px #000;transform:translateX(-50%)}#gradient-slider .marker[data-selected]{border:3px solid #93d2ff}#gradient-slider[data-dragging] .marker{transition:height .1s ease,top .1s ease}#stop-color-picker{width:100%}#stop-offset-section h4{margin-bottom:2px}#stop-offset-section x-box{width:100%}#stop-offset-slider{flex:1}#stop-offset-input{margin-left:6px;width:58px}#placeholder-section{flex:1;display:flex;align-items:center;justify-content:center;margin-top:16px}#placeholder-section[hidden]{display:none}#placeholder-section x-label{opacity:.6;box-sizing:border-box;font-size:13px}"]);_templateObject386=function _templateObject386(){return data;};return data;}function _templateObject385(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"gradient-section\"><h4>Gradient</h4><div id=\"gradient-slider\" part=\"gradient-slider\"><div id=\"left-gradient-slider-edge\"></div><div id=\"right-gradient-slider-edge\"></div><div id=\"track\"><div id=\"markers\"></div></div></div></section><section id=\"stop-color-section\"><h4>Stop color</h4><bx-colorpicker id=\"stop-color-picker\" type=\"rect\" format=\"hex\" alphaslider formatselect></bx-colorpicker></section><section id=\"stop-offset-section\"><h4>Stop offset</h4><x-box><x-slider id=\"stop-offset-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"stop-offset-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"placeholder-section\"><x-label>No gradient stops selected</x-label></section></main></template>"]);_templateObject385=function _templateObject385(){return data;};return data;}function _templateObject384(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:var(--error-color)}.item[hidden]{display:none}.item .thumbnail{width:55px;height:24px;min-width:28px;overflow:hidden;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#color-picker-popover{width:220px;--align:left}#color-picker-popover>main{box-sizing:border-box;padding:13px 16px 16px 16px}#color-picker-popover h4{margin-top:0}#color-picker-popover #color-picker{width:100%}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}"]);_templateObject384=function _templateObject384(){return data;};return data;}function _templateObject383(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Colors</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No colors found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div><x-popover id=\"color-picker-popover\"><main><h4>Color</h4><bx-colorpicker id=\"color-picker\" value=\"#ffffff\" alphaslider></bx-colorpicker></main></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"Add Color\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-color\"><x-label>Add Color</x-label></x-menuitem><x-menuitem value=\"add-color-from-fill\" id=\"add-color-from-fill-menu-item\"><x-label>Add Colors from Selected Objects Fill</x-label></x-menuitem><x-menuitem value=\"add-color-from-stroke\" id=\"add-color-from-stroke-menu-item\"><x-label>Add Colors from Selected Objects Stroke</x-label></x-menuitem><hr><x-menuitem value=\"add-color-from-library\" id=\"add-color-from-library\"><x-label>Add Colors from Library\u2026</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box></template>"]);_templateObject383=function _templateObject383(){return data;};return data;}function _templateObject382(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}#container{display:flex;flex-flow:column;width:100%;height:100%}#header{padding:16px 20px;border-bottom-width:1px;border-bottom-style:solid}#header h2{margin:0;line-height:1}#main{flex:1;overflow:auto}"]);_templateObject382=function _templateObject382(){return data;};return data;}function _templateObject381(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><header id=\"header\" part=\"header\"><h2>Objects</h2></header><main id=\"main\"><bx-objectsbrowser id=\"objects-browser\"></bx-objectsbrowser></main></div></template>"]);_templateObject381=function _templateObject381(){return data;};return data;}function _templateObject380(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}#container{display:flex;flex-flow:column;width:100%;height:100%}#main{flex:1;padding:4px 0;overflow:auto;box-sizing:border-box;outline:0;position:relative}#drop-marker{position:absolute;z-index:100;top:23px;width:100%;height:2px;display:flex;align-items:center;color:var(--accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-marker[hidden]{display:none}#drop-marker #drop-marker-circle{width:8px;height:8px;box-sizing:border-box;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}.item{position:relative}.item>.background{position:absolute;z-index:0;top:0;left:0;width:100%;height:20px}.item[data-selected]>.background{background:var(--accent-color)}.item[data-invalid]>.background{background:var(--error-color)}.item>.main{position:relative;z-index:1;padding:0 0 0 24px;display:flex;align-items:center}.item[data-selected]>.main{color:#fff}.item>.children-outer{overflow:hidden}.item>.children-outer .children{transform-origin:0 0}.item .action-buttons{margin-left:auto;display:flex}.item x-input{height:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px;color:var(--text-color)}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:1px;color:var(--error-color);z-index:100;pointer-events:none}.item use{fill:currentColor}.item>.main .label{margin-left:10px;font-size:13px;white-space:pre;overflow:hidden;text-overflow:ellipsis}.item>.main .label[data-custom]{font-weight:700}.item>.main .object-icon{width:15px;height:15px;min-width:15px}.item .arrow-button{width:27px;min-width:27px;height:20px;display:flex;align-items:center;justify-content:center;visibility:hidden;pointer-events:none}.item[data-expandable]>.main .arrow-button{visibility:visible;pointer-events:all}.item>.main .arrow-icon{width:10px;height:10px;min-width:10px;transition:.2s transform ease-in-out;transform:rotate(-90deg)}.item[data-expanded]>.main .arrow-icon{transform:rotate(0)}.item .lock-button{width:20px;height:20px;display:flex;align-items:center;justify-content:center;visibility:hidden;pointer-events:none;opacity:.3}.item>.main:hover .lock-button{visibility:visible;pointer-events:all}.item[data-locked]>.main .lock-button{visibility:visible;pointer-events:all;opacity:1}.item>.main .lock-icon{width:15px;height:15px;min-width:15px}.item .visibility-button{width:20px;height:20px;display:flex;align-items:center;justify-content:center;visibility:hidden;pointer-events:none;opacity:.3;padding-right:4px}.item>.main:hover .visibility-button{visibility:visible;pointer-events:all}.item[data-hidden]>.main .visibility-button{visibility:visible;pointer-events:all;opacity:1}.item>.main .visibility-icon{width:15px;height:15px;min-width:15px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #filter-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button>x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}#footer #add-menu h3{padding:5px 0 5px 8px;margin:0;font-size:11px;text-transform:uppercase}"]);_templateObject380=function _templateObject380(){return data;};return data;}function _templateObject379(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><main id=\"main\" part=\"main\" tabindex=\"0\"><div id=\"items\"></div><div id=\"drop-marker\" hidden><div id=\"drop-marker-circle\"></div></div><x-contextmenu id=\"context-menu\" disabled=\"disabled\"><x-menu><x-menuitem id=\"group-menu-item\" value=\"group\"><x-label>Group</x-label></x-menuitem><x-menuitem id=\"ungroup-menu-item\" value=\"ungroup\"><x-label>Ungroup</x-label></x-menuitem><x-menuitem id=\"enter-group-menu-item\" value=\"enterGroup\"><x-label>Enter group</x-label></x-menuitem></x-menu></x-contextmenu></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"filter-input\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" condensed togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" condensed><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\"><h3>Add object</h3><x-menuitem value=\"g\"><x-icon name=\"object-group\"></x-icon><x-label>Group</x-label></x-menuitem><x-menuitem value=\"a\"><x-icon name=\"object-link\"></x-icon><x-label>Link</x-label></x-menuitem><x-menuitem value=\"image\"><x-icon name=\"object-image\"></x-icon><x-label>Image</x-label></x-menuitem><x-menuitem value=\"path\"><x-icon name=\"object-path\"></x-icon><x-label>Path</x-label></x-menuitem><x-menuitem value=\"text\"><x-icon name=\"object-text\"></x-icon><x-label>Text</x-label></x-menuitem><x-menuitem value=\"rect\"><x-icon name=\"object-rect\"></x-icon><x-label>Rectangle</x-label></x-menuitem><x-menuitem value=\"circle\"><x-icon name=\"object-ellipse\"></x-icon><x-label>Circle</x-label></x-menuitem><x-menuitem value=\"ellipse\"><x-icon name=\"object-ellipse\"></x-icon><x-label>Ellipse</x-label></x-menuitem><x-menuitem value=\"ring\"><x-icon name=\"object-ring\"></x-icon><x-label>Ring</x-label></x-menuitem><x-menuitem value=\"pie\"><x-icon name=\"object-pie\"></x-icon><x-label>Pie</x-label></x-menuitem><x-menuitem value=\"crescent\"><x-icon name=\"object-crescent\"></x-icon><x-label>Crescent</x-label></x-menuitem><x-menuitem value=\"triangle\"><x-icon name=\"object-triangle\"></x-icon><x-label>Triangle</x-label></x-menuitem><x-menuitem value=\"n-gon\"><x-icon name=\"object-n-gon\"></x-icon><x-label>N-gon</x-label></x-menuitem><x-menuitem value=\"star\"><x-icon name=\"object-star\"></x-icon><x-label>Star</x-label></x-menuitem><x-menuitem value=\"cog\"><x-icon name=\"object-cog\"></x-icon><x-label>Cog</x-label></x-menuitem><x-menuitem value=\"cross\"><x-icon name=\"object-cross\"></x-icon><x-label>Cross</x-label></x-menuitem><x-menuitem value=\"line\"><x-icon name=\"object-line\"></x-icon><x-label>Line</x-label></x-menuitem><x-menuitem value=\"polyline\"><x-icon name=\"object-polyline\"></x-icon><x-label>Polyline</x-label></x-menuitem><x-menuitem value=\"polygon\"><x-icon name=\"object-polygon\"></x-icon><x-label>Polygon</x-label></x-menuitem></x-menu></x-button></x-box></footer></div></template>"]);_templateObject379=function _templateObject379(){return data;};return data;}function _templateObject378(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}#align-section{padding:10px 20px 18px 20px}#move-buttons{width:110px;align-items:center}#move-buttons>x-box{width:100%;justify-content:space-between}#move-buttons x-button{width:36px;height:36px;margin:0 0 5px 0;padding:0}#move-buttons x-icon{width:24px;height:24px}#move-buttons[data-side=outside] x-icon{transform:rotate(180deg)}#move-buttons #arrange-bottom-button{margin:0}#center-buttons,#stretch-buttons{margin-left:26px}#center-buttons x-button,#stretch-buttons x-button{width:36px;height:36px;margin:0 0 5px 0;padding:0}#center-buttons x-button:last-child,#stretch-buttons x-button:last-child{margin-bottom:0}#center-buttons x-icon,#stretch-buttons x-icon{width:24px;height:24px}#align-options-subsection{margin-top:14px}#align-options-subsection h4{margin-bottom:6px}#align-options-subsection x-select{flex:1}#align-options-subsection x-button{margin-left:8px;padding:2px 9px}#align-options-subsection x-button x-icon{width:15px;height:15px}#transform-section{padding:16px 20px 18px 20px}#transform-section x-button{height:30px;margin-right:11px;flex:1}#transform-section x-button:last-child{margin-right:0}#transform-section x-button x-icon{width:17px;height:17px}#transform-section #flip-buttons,#transform-section #transform-buttons{margin-top:11px}#order-section{padding:16px 20px 18px 20px}#order-section #order-buttons-2{margin-top:11px}#order-section x-button{height:30px;margin-right:11px;flex:1}#order-section x-button:last-child{margin-right:0}#order-section x-button x-icon{width:17px;height:17px}#group-section{padding:16px 20px 18px 20px}#group-section x-button{height:30px;margin-right:11px;flex:1}#group-section x-button:last-child{margin-right:0}#group-section x-button x-icon{width:17px;height:17px}#distribute-section{padding:16px 20px 18px 20px}#distance-buttons{flex:1}#distance-buttons x-button{width:100%}#distance-input{margin-left:6px;width:53px}#distribute-actions-subsection{margin-top:14px}#distribute-buttons-box{width:100%;justify-content:space-between}#distribute-buttons-box x-button{height:30px;flex:1;margin-right:11px}#distribute-buttons-box x-button:last-child{margin-right:0}#distribute-buttons-box x-button x-icon{width:22px;height:22px}"]);_templateObject378=function _templateObject378(){return data;};return data;}function _templateObject377(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Arrangement</h2><section id=\"align-section\"><h3 id=\"align-section-heading\">Align</h3><section id=\"align-actions-subsection\"><x-box id=\"align-buttons\"><x-box id=\"move-buttons\" vertical data-side=\"inside\"><x-button id=\"arrange-top-button\" value=\"move-top-inside\" condensed><x-icon name=\"align-top\"></x-icon></x-button><x-box><x-button id=\"arrange-left-button\" value=\"move-left-inside\" condensed><x-icon name=\"align-left\"></x-icon></x-button><x-button id=\"arrange-right-button\" value=\"move-right-inside\" condensed><x-icon name=\"align-right\"></x-icon></x-button></x-box><x-button id=\"arrange-bottom-button\" value=\"move-bottom-inside\" condensed><x-icon name=\"align-bottom\"></x-icon></x-button></x-box><x-box id=\"center-buttons\" vertical><x-button id=\"center-button\" value=\"center\" condensed><x-icon name=\"center\"></x-icon></x-button><x-button id=\"center-horizontally-button\" value=\"horizontal-center\" condensed><x-icon name=\"center-horizontally\"></x-icon></x-button><x-button id=\"center-vertically-button\" value=\"vertical-center\" condensed><x-icon name=\"center-vertically\"></x-icon></x-button></x-box><x-box id=\"stretch-buttons\" vertical><x-button id=\"stretch-button\" value=\"stretch\" condensed><x-icon name=\"stretch\"></x-icon></x-button><x-button id=\"stretch-horizontally-button\" value=\"horizontal-stretch\" condensed><x-icon name=\"stretch-horizontally\"></x-icon></x-button><x-button id=\"stretch-vertically-button\" value=\"vertical-stretch\" condensed><x-icon name=\"stretch-vertically\"></x-icon></x-button></x-box></x-box></section><section id=\"align-options-subsection\"><h4 id=\"align-options-heading\">Relative to</h4><x-box><x-select id=\"align-to-select\"><x-menu><x-menuitem value=\"default-view\" toggled><x-label>Default view</x-label></x-menuitem><x-menuitem value=\"nearest-view\" toggled><x-label>Nearest view</x-label></x-menuitem><x-menuitem value=\"first-selected\" toggled><x-label>First selected</x-label></x-menuitem><x-menuitem value=\"last-selected\" toggled><x-label>Last selected</x-label></x-menuitem><x-menuitem value=\"selection\" toggled><x-label>Selection</x-label></x-menuitem></x-menu></x-select><x-button id=\"align-as-group-button\" title=\"Treat selection as group\" condensed togglable><x-icon name=\"group\"></x-icon></x-button></x-box></section></section><hr><section id=\"transform-section\"><h3 id=\"transform-heading\">Transform</h3><x-box id=\"rotate-buttons\"><x-button id=\"rotate-counterclockwise-button\" value=\"rotateCounterclockwise\"><x-icon name=\"rotate-counterclockwise\"></x-icon><x-label>-90\xB0</x-label></x-button><x-button id=\"rotate-clockwise-button\" value=\"rotateClockwise\"><x-icon name=\"rotate-clockwise\"></x-icon><x-label>+90\xB0</x-label></x-button></x-box><x-box id=\"flip-buttons\"><x-button id=\"flip-horizontally-button\" value=\"flipX\"><x-icon name=\"flip-x\"></x-icon><x-label>Flip X</x-label></x-button><x-button id=\"flip-vertically-button\" value=\"flipY\"><x-icon name=\"flip-y\"></x-icon><x-label>Flip Y</x-label></x-button></x-box><x-box id=\"transform-buttons\"><x-button id=\"remove-transform-button\" value=\"removeTransform\"><x-icon name=\"trash\"></x-icon><x-label>Remove</x-label></x-button><x-button id=\"reduce-transform-button\" value=\"reduceTransform\"><x-icon name=\"reduce-transform\"></x-icon><x-label>Reduce</x-label></x-button></x-box></section><hr><section id=\"order-section\"><h3 id=\"order-section-heading\">Z-order</h3><x-box id=\"order-buttons-1\"><x-button id=\"raise-button\" value=\"raise\"><x-icon name=\"raise\"></x-icon><x-label>Raise</x-label></x-button><x-button id=\"lower-button\" value=\"lower\"><x-icon name=\"lower\"></x-icon><x-label>Lower</x-label></x-button></x-box><x-box id=\"order-buttons-2\"><x-button id=\"front-button\" value=\"raiseToFront\"><x-icon name=\"raise-to-front\"></x-icon><x-label>Front</x-label></x-button><x-button id=\"back-button\" value=\"lowerToBack\"><x-icon name=\"lower-to-back\"></x-icon><x-label>Back</x-label></x-button></x-box></section><hr><section id=\"group-section\"><h3 id=\"group-section-heading\">Group</h3><x-box id=\"group-buttons\"><x-button id=\"group-button\" value=\"group\"><x-icon name=\"group\"></x-icon><x-label>Group</x-label></x-button><x-button id=\"ungroup-button\" value=\"ungroup\"><x-icon name=\"ungroup\"></x-icon><x-label>Ungroup</x-label></x-button></x-box></section><hr><section id=\"distribute-section\"><h3 id=\"distribute-heading\">Distribute</h3><section id=\"distribute-distance-subsection\"><h4 id=\"distribute-distance-heading\">Distance</h4><x-box><x-buttons id=\"distance-buttons\" tracking=\"1\"><x-button id=\"auto-distance-button\" value=\"auto\" condensed><x-label>Auto</x-label></x-button><x-button id=\"manual-distance-button\" value=\"manual\" condensed><x-label>Manual</x-label></x-button></x-buttons><x-numberinput id=\"distance-input\" value=\"0\" min=\"0\" condensed disabled=\"disabled\"><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"distribute-actions-subsection\"><h4 id=\"distribute-actions-heading\">Actions</h4><x-box id=\"distribute-buttons-box\"><x-button id=\"distribute-horizontally-button\" value=\"horizontal\" title=\"Distribute horizontaly\" condensed><x-icon name=\"distribute-horizontally\"></x-icon></x-button><x-button id=\"distribute-vertically-button\" value=\"vertical\" title=\"Distribute vertically\" condensed><x-icon name=\"distribute-vertically\"></x-icon></x-button><x-button id=\"distribute-centers-horizontally-button\" value=\"centers-horizontal\" title=\"Distribute centers horizontally\" condensed><x-icon name=\"distribute-centers-horizontally\"></x-icon></x-button><x-button id=\"distribute-centers-vertically-button\" value=\"centers-vertical\" title=\"Distribute centers vertically\" condensed><x-icon name=\"distribute-centers-vertically\"></x-icon></x-button></x-box></section></section></template>"]);_templateObject377=function _templateObject377(){return data;};return data;}function _templateObject376(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}x-button{width:100%;height:30px}#general-section{padding:10px 20px 20px 20px}#general-section>x-box{margin-top:8px}#general-buttons{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:10px;grid-row-gap:10px}#reorient-button x-icon{width:20px;height:20px}#reverse-button x-icon{width:20px;height:20px}#convert-section{padding:10px 20px 20px 20px}#stroke-to-path-button{margin-top:10px}#boolops-section{padding:15px 20px 20px 20px}#boolop-buttons{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:10px;grid-row-gap:10px}#boolop-buttons x-button x-icon{width:20px;height:20px;margin-right:8px}#path-section{padding:15px 20px 20px 20px}#path-buttons{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:10px;grid-row-gap:10px}#path-buttons #close-path-button x-icon,#path-buttons #join-paths-button x-icon,#path-buttons #open-path-button x-icon,#path-buttons #split-path-button x-icon{width:30px;height:30px;margin-right:8px}#node-section{padding:15px 20px 20px 20px}#node-buttons{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:10px;grid-row-gap:10px}#node-section x-button x-icon{width:28px;height:28px;margin-right:8px}"]);_templateObject376=function _templateObject376(){return data;};return data;}function _templateObject375(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Shape</h2><section id=\"general-section\"><x-box id=\"general-buttons\"><x-button id=\"reorient-button\"><x-icon name=\"reorient\"></x-icon><x-label>Reorient</x-label></x-button><x-button id=\"reverse-button\"><x-icon name=\"reverse\"></x-icon><x-label>Reverse</x-label></x-button></x-box></section><hr><section id=\"convert-section\"><h3 id=\"convert-section-heading\">Convert</h3><x-button id=\"shape-to-path-button\"><x-icon name=\"shape-to-path\"></x-icon><x-label>Shape to Path</x-label></x-button><x-button id=\"stroke-to-path-button\"><x-icon name=\"stroke-to-path\"></x-icon><x-label>Stroke to Path</x-label></x-button></section><hr><section id=\"boolops-section\"><h3 id=\"boolops-section-heading\">Boolops</h3><x-box id=\"boolop-buttons\" vertical><x-button id=\"unite-button\"><x-icon name=\"boolop-unite\"></x-icon><x-label>Unite</x-label></x-button><x-button id=\"intersect-button\"><x-icon name=\"boolop-intersect\"></x-icon><x-label>Intersect</x-label></x-button><x-button id=\"subtract-button\"><x-icon name=\"boolop-subtract\"></x-icon><x-label>Subtract</x-label></x-button><x-button id=\"exclude-button\"><x-icon name=\"boolop-exclude\"></x-icon><x-label>Exclude</x-label></x-button></x-box></section><hr><section id=\"path-section\"><h3 id=\"path-section-heading\">Path</h3><x-box id=\"path-buttons\"><x-button id=\"join-paths-button\"><x-icon name=\"compound-path-join\"></x-icon><x-label>Join</x-label></x-button><x-button id=\"split-path-button\"><x-icon name=\"compound-path-split\"></x-icon><x-label>Split</x-label></x-button><x-button id=\"open-path-button\"><x-icon name=\"open-path\"></x-icon><x-label>Open</x-label></x-button><x-button id=\"close-path-button\"><x-icon name=\"close-path\"></x-icon><x-label>Close</x-label></x-button><x-button id=\"inset-path-button\"><x-icon name=\"inset-path\"></x-icon><x-label>Inset</x-label></x-button><x-button id=\"outset-path-button\"><x-icon name=\"outset-path\"></x-icon><x-label>Outset</x-label></x-button><x-button id=\"simplify-path-button\"><x-icon name=\"simplify-path\"></x-icon><x-label>Simplify</x-label></x-button><x-button id=\"complexify-path-button\" condensed><x-icon name=\"complexify-path\"></x-icon><x-label>Complexify</x-label></x-button></x-box></section><hr><section id=\"node-section\"><h3 id=\"node-section-heading\">Node</h3><x-box id=\"node-buttons\"><x-button id=\"join-nodes-button\"><x-icon name=\"join-nodes\"></x-icon><x-label>Join</x-label></x-button><x-button id=\"split-node-button\"><x-icon name=\"split-node\"></x-icon><x-label>Split</x-label></x-button><x-button id=\"delete-node-button\"><x-icon name=\"delete-node\"></x-icon><x-label>Delete</x-label></x-button><x-button id=\"break-node-button\"><x-icon name=\"break-node\"></x-icon><x-label>Break</x-label></x-button></x-box></section></template>"]);_templateObject375=function _templateObject375(){return data;};return data;}function _templateObject374(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}#accessibility-section{padding:10px 20px 20px 20px}#title-section{padding:10px 20px 20px 20px}#title-heading{margin-bottom:4px}#title-input{width:100%;max-width:none}#desc-box{margin-top:14px}#desc-heading{margin-bottom:4px}#desc-editor{width:100%;height:120px;max-width:none}#language-box{margin-top:14px}#language-heading{margin-bottom:4px}#language-select{width:100%}#role-box{margin-top:14px}#role-heading{margin-bottom:4px}#role-select{width:100%}#tab-index-box{margin-top:14px}#tab-index-heading{margin-bottom:0}#tab-index-box>x-box{width:100%}#tab-index-slider{flex:1;--track-tint-color:transparent}#tab-index-input{width:50px;margin-left:12px}#link-section{padding:15px 20px 20px 20px}#link-button{border-top-right-radius:0;border-bottom-right-radius:0;z-index:1}#link-button x-icon{width:14px;height:14px}#link-input{flex:1;margin-left:-1px;max-width:none}#link-input[error]{z-index:2}#link-target-checkbox{margin-top:8px}#scripting-section{padding:15px 20px 20px 20px}#id-box{margin-top:8px}#id-heading{margin-bottom:4px}#id-input{width:100%;max-width:none}#classes-box{margin-top:20px}#classes-heading{margin-bottom:4px}#classes-input{width:100%}"]);_templateObject374=function _templateObject374(){return data;};return data;}function _templateObject373(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Meta</h2><section id=\"accessibility-section\"><h3 id=\"accessibility-heading\">Accessibility</h3><x-box id=\"title-box\" vertical><h4 id=\"title-heading\">Title</h4><x-input id=\"title-input\" spellcheck></x-input></x-box><x-box id=\"desc-box\" vertical><h4 id=\"desc-heading\">Description</h4><x-texteditor id=\"desc-editor\" spellcheck></x-texteditor></x-box><x-box id=\"language-box\" vertical><h4 id=\"language-heading\">Language</h4><x-select id=\"language-select\"><x-menu id=\"language-menu\"><x-menuitem value=\"\" toggled><x-label>Default</x-label></x-menuitem><hr><x-menuitem value=\"af\"><x-label>Afrikaans</x-label></x-menuitem><x-menuitem value=\"sq\"><x-label>Albanian</x-label></x-menuitem><x-menuitem value=\"ar\"><x-label>Arabic</x-label></x-menuitem><x-menuitem value=\"hy\"><x-label>Armenian</x-label></x-menuitem><x-menuitem value=\"az\"><x-label>Azeri</x-label></x-menuitem><x-menuitem value=\"eu\"><x-label>Basque</x-label></x-menuitem><x-menuitem value=\"be\"><x-label>Belarusian</x-label></x-menuitem><x-menuitem value=\"bg\"><x-label>Bulgarian</x-label></x-menuitem><x-menuitem value=\"ca\"><x-label>Catalan</x-label></x-menuitem><x-menuitem value=\"zh\"><x-label>Chinese</x-label></x-menuitem><x-menuitem value=\"hr\"><x-label>Croatian</x-label></x-menuitem><x-menuitem value=\"cs\"><x-label>Czech</x-label></x-menuitem><x-menuitem value=\"da\"><x-label>Danish</x-label></x-menuitem><x-menuitem value=\"nl\"><x-label>Dutch</x-label></x-menuitem><x-menuitem value=\"en\"><x-label>English</x-label></x-menuitem><x-menuitem value=\"et\"><x-label>Estonian</x-label></x-menuitem><x-menuitem value=\"fa\"><x-label>Farsi</x-label></x-menuitem><x-menuitem value=\"fi\"><x-label>Finnish</x-label></x-menuitem><x-menuitem value=\"fr\"><x-label>French</x-label></x-menuitem><x-menuitem value=\"gl\"><x-label>Galician</x-label></x-menuitem><x-menuitem value=\"de\"><x-label>German</x-label></x-menuitem><x-menuitem value=\"ka\"><x-label>Georgian</x-label></x-menuitem><x-menuitem value=\"el\"><x-label>Greek</x-label></x-menuitem><x-menuitem value=\"he\"><x-label>Hebrew</x-label></x-menuitem><x-menuitem value=\"hi\"><x-label>Hindi</x-label></x-menuitem><x-menuitem value=\"hu\"><x-label>Hungarian</x-label></x-menuitem><x-menuitem value=\"is\"><x-label>Icelandic</x-label></x-menuitem><x-menuitem value=\"id\"><x-label>Indonesian</x-label></x-menuitem><x-menuitem value=\"it\"><x-label>Italian</x-label></x-menuitem><x-menuitem value=\"ja\"><x-label>Japanese</x-label></x-menuitem><x-menuitem value=\"kk\"><x-label>Kazakh</x-label></x-menuitem><x-menuitem value=\"ko\"><x-label>Korean</x-label></x-menuitem><x-menuitem value=\"lv\"><x-label>Latvian</x-label></x-menuitem><x-menuitem value=\"lt\"><x-label>Lithuanian</x-label></x-menuitem><x-menuitem value=\"mt\"><x-label>Maltese</x-label></x-menuitem><x-menuitem value=\"mn\"><x-label>Mongolian</x-label></x-menuitem><x-menuitem value=\"nb\"><x-label>Norwegian</x-label></x-menuitem><x-menuitem value=\"pl\"><x-label>Polish</x-label></x-menuitem><x-menuitem value=\"pt\"><x-label>Portuguese</x-label></x-menuitem><x-menuitem value=\"ro\"><x-label>Romanian</x-label></x-menuitem><x-menuitem value=\"ru\"><x-label>Russian</x-label></x-menuitem><x-menuitem value=\"sk\"><x-label>Slovak</x-label></x-menuitem><x-menuitem value=\"sl\"><x-label>Slovenian</x-label></x-menuitem><x-menuitem value=\"es\"><x-label>Spanish</x-label></x-menuitem><x-menuitem value=\"sv\"><x-label>Swedish</x-label></x-menuitem><x-menuitem value=\"th\"><x-label>Thai</x-label></x-menuitem><x-menuitem value=\"tr\"><x-label>Turkish</x-label></x-menuitem><x-menuitem value=\"uk\"><x-label>Ukrainian</x-label></x-menuitem><x-menuitem value=\"ur\"><x-label>Urdu</x-label></x-menuitem><x-menuitem value=\"uz\"><x-label>Uzbek</x-label></x-menuitem><x-menuitem value=\"vi\"><x-label>Vietnamese</x-label></x-menuitem><x-menuitem value=\"cy\"><x-label>Welsh</x-label></x-menuitem></x-menu></x-select></x-box><x-box id=\"role-box\" vertical><h4 id=\"role-heading\">Role</h4><x-select id=\"role-select\"><x-menu id=\"role-menu\"><x-menuitem value=\"\" toggled><x-label>Default</x-label></x-menuitem><hr><x-menuitem value=\"alert\"><x-label>Alert</x-label></x-menuitem><x-menuitem value=\"alertdialog\"><x-label>Alert Dialog</x-label></x-menuitem><x-menuitem value=\"application\"><x-label>Application</x-label></x-menuitem><x-menuitem value=\"article\"><x-label>Article</x-label></x-menuitem><x-menuitem value=\"banner\"><x-label>Banner</x-label></x-menuitem><x-menuitem value=\"button\"><x-label>Button</x-label></x-menuitem><x-menuitem value=\"cell\"><x-label>Cell</x-label></x-menuitem><x-menuitem value=\"checkbox\"><x-label>Checkbox</x-label></x-menuitem><x-menuitem value=\"columnheader\"><x-label>Column header</x-label></x-menuitem><x-menuitem value=\"combobox\"><x-label>Combobox</x-label></x-menuitem><x-menuitem value=\"command\"><x-label>Command</x-label></x-menuitem><x-menuitem value=\"complementary\"><x-label>Complementary</x-label></x-menuitem><x-menuitem value=\"composite\"><x-label>Composite</x-label></x-menuitem><x-menuitem value=\"contentinfo\"><x-label>Content info</x-label></x-menuitem><x-menuitem value=\"definition\"><x-label>Definition</x-label></x-menuitem><x-menuitem value=\"dialog\"><x-label>Dialog</x-label></x-menuitem><x-menuitem value=\"directory\"><x-label>Directory</x-label></x-menuitem><x-menuitem value=\"document\"><x-label>Document</x-label></x-menuitem><x-menuitem value=\"feed\"><x-label>Feed</x-label></x-menuitem><x-menuitem value=\"figure\"><x-label>Figure</x-label></x-menuitem><x-menuitem value=\"form\"><x-label>Form</x-label></x-menuitem><x-menuitem value=\"graphics-document\"><x-label>Graphics document</x-label></x-menuitem><x-menuitem value=\"graphics-object\"><x-label>Graphics object</x-label></x-menuitem><x-menuitem value=\"graphics-symbol\"><x-label>Graphics symbol</x-label></x-menuitem><x-menuitem value=\"grid\"><x-label>Grid</x-label></x-menuitem><x-menuitem value=\"gridcell\"><x-label>Gridcell</x-label></x-menuitem><x-menuitem value=\"group\"><x-label>Group</x-label></x-menuitem><x-menuitem value=\"heading\"><x-label>Heading</x-label></x-menuitem><x-menuitem value=\"img\"><x-label>Image</x-label></x-menuitem><x-menuitem value=\"input\"><x-label>Input</x-label></x-menuitem><x-menuitem value=\"landmark\"><x-label>Landmark</x-label></x-menuitem><x-menuitem value=\"link\"><x-label>Link</x-label></x-menuitem><x-menuitem value=\"list\"><x-label>List</x-label></x-menuitem><x-menuitem value=\"listbox\"><x-label>Listbox</x-label></x-menuitem><x-menuitem value=\"listitem\"><x-label>List item</x-label></x-menuitem><x-menuitem value=\"log\"><x-label>Log</x-label></x-menuitem><x-menuitem value=\"main\"><x-label>Main</x-label></x-menuitem><x-menuitem value=\"marquee\"><x-label>Marquee</x-label></x-menuitem><x-menuitem value=\"math\"><x-label>Math</x-label></x-menuitem><x-menuitem value=\"menu\"><x-label>Menu</x-label></x-menuitem><x-menuitem value=\"menubar\"><x-label>Menubar</x-label></x-menuitem><x-menuitem value=\"menuitem\"><x-label>Menu item</x-label></x-menuitem><x-menuitem value=\"menuitemcheckbox\"><x-label>Menu item (checkbox)</x-label></x-menuitem><x-menuitem value=\"menuitemradio\"><x-label>Menu item (radio)</x-label></x-menuitem><x-menuitem value=\"navigation\"><x-label>Navigation</x-label></x-menuitem><x-menuitem value=\"none\"><x-label>None</x-label></x-menuitem><x-menuitem value=\"note\"><x-label>Note</x-label></x-menuitem><x-menuitem value=\"option\"><x-label>Option</x-label></x-menuitem><x-menuitem value=\"presentation\"><x-label>Presentation</x-label></x-menuitem><x-menuitem value=\"progressbar\"><x-label>Progressbar</x-label></x-menuitem><x-menuitem value=\"radio\"><x-label>Radio</x-label></x-menuitem><x-menuitem value=\"radiogroup\"><x-label>Radio group</x-label></x-menuitem><x-menuitem value=\"range\"><x-label>Range</x-label></x-menuitem><x-menuitem value=\"region\"><x-label>Region</x-label></x-menuitem><x-menuitem value=\"roletype\"><x-label>Role type</x-label></x-menuitem><x-menuitem value=\"row\"><x-label>Row</x-label></x-menuitem><x-menuitem value=\"rowgroup\"><x-label>Row group</x-label></x-menuitem><x-menuitem value=\"rowheader\"><x-label>Row header</x-label></x-menuitem><x-menuitem value=\"scrollbar\"><x-label>Scrollbar</x-label></x-menuitem><x-menuitem value=\"search\"><x-label>Search</x-label></x-menuitem><x-menuitem value=\"searchbox\"><x-label>Searchbox</x-label></x-menuitem><x-menuitem value=\"section\"><x-label>Section</x-label></x-menuitem><x-menuitem value=\"sectionhead\"><x-label>Section head</x-label></x-menuitem><x-menuitem value=\"select\"><x-label>Select</x-label></x-menuitem><x-menuitem value=\"separator\"><x-label>Separator</x-label></x-menuitem><x-menuitem value=\"slider\"><x-label>Slider</x-label></x-menuitem><x-menuitem value=\"spinbutton\"><x-label>Spin button</x-label></x-menuitem><x-menuitem value=\"status\"><x-label>Status</x-label></x-menuitem><x-menuitem value=\"structure\"><x-label>Structure</x-label></x-menuitem><x-menuitem value=\"switch\"><x-label>Switch</x-label></x-menuitem><x-menuitem value=\"tab\"><x-label>Tab</x-label></x-menuitem><x-menuitem value=\"table\"><x-label>Table</x-label></x-menuitem><x-menuitem value=\"tablist\"><x-label>Tab list</x-label></x-menuitem><x-menuitem value=\"tabpanel\"><x-label>Tab panel</x-label></x-menuitem><x-menuitem value=\"term\"><x-label>Term</x-label></x-menuitem><x-menuitem value=\"textbox\"><x-label>Textbox</x-label></x-menuitem><x-menuitem value=\"timer\"><x-label>Timer</x-label></x-menuitem><x-menuitem value=\"toolbar\"><x-label>Toolbar</x-label></x-menuitem><x-menuitem value=\"tooltip\"><x-label>Tooltip</x-label></x-menuitem><x-menuitem value=\"tree\"><x-label>Tree</x-label></x-menuitem><x-menuitem value=\"treegrid\"><x-label>Tree grid</x-label></x-menuitem><x-menuitem value=\"treeitem\"><x-label>Tree item</x-label></x-menuitem><x-menuitem value=\"widget\"><x-label>Widget</x-label></x-menuitem><x-menuitem value=\"window\"><x-label>Window</x-label></x-menuitem></x-menu></x-select></x-box><x-box id=\"tab-index-box\" vertical><h4 id=\"tab-index-heading\">Tab index</h4><x-box><x-slider id=\"tab-index-slider\" value=\"-1\" min=\"-1\" max=\"20\"></x-slider><x-numberinput id=\"tab-index-input\" value=\"-1\" step=\"1\" precision=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><hr><section id=\"link-section\"><h3 id=\"link-section-heading\">Link</h3><x-box id=\"link-box\"><x-button id=\"link-button\" value=\"link\" togglable><x-icon name=\"link\"></x-icon><x-label>Link</x-label></x-button><x-input id=\"link-input\"><x-label>URL</x-label></x-input></x-box><x-checkbox id=\"link-target-checkbox\"><x-label>Open in a new tab</x-label></x-checkbox></section><hr><section id=\"scripting-section\"><h3 id=\"scripting-heading\">Scripting</h3><x-box id=\"id-box\" vertical><h4 id=\"id-heading\">ID</h4><x-input id=\"id-input\" validation=\"instant\"></x-input></x-box><x-box id=\"classes-box\" vertical><h4 id=\"classes-heading\">Classes</h4><x-tagsinput id=\"classes-input\" delimiter=\" \"></x-tagsinput></x-box></section></template>"]);_templateObject373=function _templateObject373(){return data;};return data;}function _templateObject372(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}#container{display:flex;flex-flow:column;width:100%;height:100%}h2{margin:16px 20px -8px 20px}[hidden]{display:none}#main{flex:1;overflow:auto;outline:0;position:relative}#footer{display:flex;align-items:center;width:100%;padding:10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer[hidden]{display:none}#space-buttons{width:100%;max-width:none}#space-buttons>x-button{flex:1}"]);_templateObject372=function _templateObject372(){return data;};return data;}function _templateObject371(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><main id=\"main\" part=\"main\"><h2 id=\"panel-heading\">Geometry</h2><div id=\"inspectors\"><bx-circlegeometryinspector></bx-circlegeometryinspector><hr><bx-ellipsegeometryinspector></bx-ellipsegeometryinspector><hr><bx-coggeometryinspector></bx-coggeometryinspector><hr><bx-crossgeometryinspector></bx-crossgeometryinspector><hr><bx-piegeometryinspector></bx-piegeometryinspector><hr><bx-ringgeometryinspector></bx-ringgeometryinspector><hr><bx-rectgeometryinspector></bx-rectgeometryinspector><hr><bx-crescentgeometryinspector></bx-crescentgeometryinspector><hr><bx-trianglegeometryinspector></bx-trianglegeometryinspector><hr><bx-ngongeometryinspector></bx-ngongeometryinspector><hr><bx-spiralgeometryinspector></bx-spiralgeometryinspector><hr><bx-stargeometryinspector></bx-stargeometryinspector><hr><bx-arrowgeometryinspector></bx-arrowgeometryinspector><hr><bx-nodegeometryinspector></bx-nodegeometryinspector><hr><bx-imagegeometryinspector></bx-imagegeometryinspector><hr><bx-linegeometryinspector></bx-linegeometryinspector><hr><bx-chargeometryinspector></bx-chargeometryinspector><hr><bx-objectgeometryinspector></bx-objectgeometryinspector><hr><bx-guidegeometryinspector></bx-guidegeometryinspector><hr><bx-gridgeometryinspector></bx-gridgeometryinspector><hr><bx-svggeometryinspector></bx-svggeometryinspector><hr><bx-symbolgeometryinspector></bx-symbolgeometryinspector><hr><bx-patterngeometryinspector></bx-patterngeometryinspector><hr><bx-markergeometryinspector></bx-markergeometryinspector><hr><bx-viewgeometryinspector></bx-viewgeometryinspector></div></main><footer id=\"footer\" part=\"footer\"><x-buttons id=\"space-buttons\" tracking=\"1\"><x-button value=\"canvas\" condensed toggled><x-label>Canvas space</x-label></x-button><x-button value=\"viewport\" condensed><x-label>Viewport space</x-label></x-button></x-buttons></footer></div></template>"]);_templateObject371=function _templateObject371(){return data;};return data;}function _templateObject370(){var data=_taggedTemplateLiteral(["#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}"]);_templateObject370=function _templateObject370(){return data;};return data;}function _templateObject369(){var data=_taggedTemplateLiteral(["<template><h3>View</h3><section id=\"viewbox-section\"><h4 id=\"viewbox-heading\">View box</h4><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" data-property=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" data-property=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject369=function _templateObject369(){return data;};return data;}function _templateObject368(){var data=_taggedTemplateLiteral(["#shift-section{margin-top:14px}#shift-section h4{margin-bottom:0}#shift-section x-box{width:100%}#shift-section x-slider{flex:1}#shift-section x-numberinput{width:54px;margin-left:10px}#corner-section{margin-top:14px}#corner-section h4{margin-bottom:0}#corner-section>x-box{width:100%}#corner-section x-slider{flex:1}#corner-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject368=function _templateObject368(){return data;};return data;}function _templateObject367(){var data=_taggedTemplateLiteral(["<template><h3>Triangle</h3><section id=\"shift-section\"><h4 id=\"shift-heading\">Shift</h4><x-box><x-slider id=\"shift-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"shift-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"corner-section\"><h4 id=\"corner-heading\">Corner</h4><x-box><x-slider id=\"corner-slider\" value=\"0\" min=\"0\" max=\"0.5\" step=\"0.01\"></x-slider><x-numberinput id=\"corner-input\" value=\"0\" min=\"0\" max=\"0.5\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject367=function _templateObject367(){return data;};return data;}function _templateObject366(){var data=_taggedTemplateLiteral(["#arch-section{margin-top:14px}#arch-section h4{margin-bottom:0}#arch-section x-box{width:100%}#arch-section x-slider{flex:1}#arch-section x-numberinput{width:80px;margin-left:10px}#hollow-section{margin-top:14px}#hollow-section h4{margin-bottom:0}#hollow-section>x-box{width:100%}#hollow-section x-slider{flex:1}#hollow-section x-numberinput{width:80px;margin-left:10px}"]);_templateObject366=function _templateObject366(){return data;};return data;}function _templateObject365(){var data=_taggedTemplateLiteral(["<template><h3>Crescent</h3><section id=\"arch-section\"><h4 id=\"arch-heading\">Arch</h4><x-box><x-slider id=\"arch-slider\" value=\"0\" min=\"1\" max=\"359\" step=\"1\"></x-slider><x-numberinput id=\"arch-input\" value=\"0\" min=\"1\" max=\"359\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"hollow-section\"><h4 id=\"hollow-heading\">Hollow</h4><x-box><x-slider id=\"hollow-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"hollow-input\" value=\"0\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject365=function _templateObject365(){return data;};return data;}function _templateObject364(){var data=_taggedTemplateLiteral(["#viewbox-header{display:flex;align-items:center}#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}"]);_templateObject364=function _templateObject364(){return data;};return data;}function _templateObject363(){var data=_taggedTemplateLiteral(["<template><h3>Symbol</h3><section id=\"viewbox-section\"><header id=\"viewbox-header\"><h4 id=\"viewbox-heading\">View box</h4><x-switch id=\"viewbox-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" data-property=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" data-property=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject363=function _templateObject363(){return data;};return data;}function _templateObject362(){var data=_taggedTemplateLiteral(["#viewport-header{display:flex;align-items:center}#viewport-size-box{width:100%}#viewport-box{margin-top:2px}#viewport-box x-numberinput{width:100%}#viewport-height-box,#viewport-width-box{flex:1;width:calc(50% - 14px)}#viewport-height-label,#viewport-units-label,#viewport-width-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewport-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewport-lock-button[toggled]{opacity:.9}#viewport-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#viewport-height-input,#viewport-width-input{width:100%;flex:1}#viewport-units-box{width:100%;margin-top:6px}#viewport-units-select{width:100%}#viewbox-section{margin-top:20px}#viewbox-header{display:flex;align-items:center}#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}"]);_templateObject362=function _templateObject362(){return data;};return data;}function _templateObject361(){var data=_taggedTemplateLiteral(["<template><h3>SVG</h3><section id=\"viewport-section\"><header id=\"viewport-header\"><h4 id=\"viewport-heading\">Viewport</h4></header><x-box id=\"viewport-box\" vertical><x-box id=\"viewport-size-box\"><x-box id=\"viewport-width-box\" vertical><x-label id=\"viewport-width-label\">Width</x-label><x-numberinput id=\"viewport-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewport-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewport-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewport-height-box\" vertical><x-label id=\"viewport-height-label\">Height</x-label><x-numberinput id=\"viewport-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewport-units-box\" vertical><x-label id=\"viewport-units-label\">Units</x-label><x-select id=\"viewport-units-select\"><x-menu><x-menuitem value=\"px\" toggled><x-label>Pixels (px)</x-label></x-menuitem><x-menuitem value=\"cm\"><x-label>Centimeters (cm)</x-label></x-menuitem><x-menuitem value=\"mm\"><x-label>Millimeters (mm)</x-label></x-menuitem><x-menuitem value=\"in\"><x-label>Inches (in)</x-label></x-menuitem><x-menuitem value=\"pt\"><x-label>Points (pt)</x-label></x-menuitem><x-menuitem value=\"pc\"><x-label>Picas (pc)</x-label></x-menuitem><x-menuitem value=\"q\"><x-label>Quarter-millimeters (Q)</x-label></x-menuitem></x-menu></x-select></x-box></x-box></section><section id=\"viewbox-section\"><header id=\"viewbox-header\"><h4 id=\"viewbox-heading\">View box</h4><x-switch id=\"viewbox-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" data-property=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" data-property=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject361=function _templateObject361(){return data;};return data;}function _templateObject360(){var data=_taggedTemplateLiteral(["#arms-section{margin-top:14px}#arms-section h4{margin-bottom:0}#arms-section x-box{width:100%}#arms-section x-slider{flex:1}#arms-section x-numberinput{width:54px;margin-left:10px}#depth-section{margin-top:14px}#depth-section h4{margin-bottom:0}#depth-section x-box{width:100%}#depth-section x-slider{flex:1}#depth-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject360=function _templateObject360(){return data;};return data;}function _templateObject359(){var data=_taggedTemplateLiteral(["<template><h3>Star</h3><section id=\"arms-section\"><h4 id=\"arms-heading\">Arms</h4><x-box><x-slider id=\"arms-slider\" value=\"5\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"arms-input\" value=\"5\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"depth-section\"><h4 id=\"depth-heading\">Depth</h4><x-box><x-slider id=\"depth-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"depth-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject359=function _templateObject359(){return data;};return data;}function _templateObject358(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#radius-section{display:flex;justify-content:space-between;margin-top:14px}#radius-section x-box{width:calc(50% - 13px)}#radius-section x-numberinput{width:100%}#angle-section{display:flex;justify-content:space-between;margin-top:14px}#angle-section x-box{width:calc(50% - 13px)}#angle-section x-numberinput{width:100%}"]);_templateObject358=function _templateObject358(){return data;};return data;}function _templateObject357(){var data=_taggedTemplateLiteral(["<template><h3>Spiral</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"radius-section\"><x-box id=\"r1-box\" vertical><h4 id=\"r1-heading\">Inner radius</h4><x-numberinput id=\"r1-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r2-box\" vertical><h4 id=\"r2-heading\">Outer radius</h4><x-numberinput id=\"r2-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"angle-section\"><x-box id=\"start-angle-box\" vertical><h4 id=\"start-angle-heading\">Start angle</h4><x-numberinput id=\"start-angle-input\" value=\"0\" min=\"0\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"end-angle-box\" vertical><h4 id=\"end-angle-heading\">End angle</h4><x-numberinput id=\"end-angle-input\" value=\"0\" min=\"0\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject357=function _templateObject357(){return data;};return data;}function _templateObject356(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#r1-section{display:flex;margin-top:14px}#r1-section x-numberinput{width:100%}#r1-section x-box{flex:1}#r1-section #r1-aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#r1-section #r1-aspect-ratio-button[toggled]{opacity:.9}#r1-section #r1-aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#r2-section{display:flex;margin-top:14px}#r2-section x-numberinput{width:100%}#r2-section x-box{flex:1}#r2-section #r2-aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#r2-section #r2-aspect-ratio-button[toggled]{opacity:.9}#r2-section #r2-aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject356=function _templateObject356(){return data;};return data;}function _templateObject355(){var data=_taggedTemplateLiteral(["<template><h3>Ring</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"r1-section\"><x-box id=\"r1x-box\" vertical><h4 id=\"r1x-heading\">Inner radius X</h4><x-numberinput id=\"r1x-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"r1-aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"r1-aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"r1y-box\" vertical><h4 id=\"r1y-heading\">Inner radius Y</h4><x-numberinput id=\"r1y-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"r2-section\"><x-box id=\"r2x-box\" vertical><h4 id=\"r2x-heading\">Outer radius X</h4><x-numberinput id=\"r2x-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"r2-aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"r2-aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"r2y-box\" vertical><h4 id=\"r2y-heading\">Outer radius Y</h4><x-numberinput id=\"r2y-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject355=function _templateObject355(){return data;};return data;}function _templateObject354(){var data=_taggedTemplateLiteral(["#corner-radius-section x-label{margin:0 0 5px 0;font-size:11px;font-weight:500}#corner-radius-section x-numberinput{width:100%}#corner-radius-section #r12-box{justify-content:space-between}#corner-radius-section #r43-box{margin-top:12px;justify-content:space-between}#corner-radius-section #r1-box,#corner-radius-section #r4-box{flex:1;margin-right:13px}#corner-radius-section #r2-box,#corner-radius-section #r3-box{flex:1;margin-left:13px}"]);_templateObject354=function _templateObject354(){return data;};return data;}function _templateObject353(){var data=_taggedTemplateLiteral(["<template><h3>Rectangle</h3><section id=\"corner-radius-section\"><h4 id=\"corner-radius-heading\">Corner radius</h4><x-box id=\"r12-box\"><x-box id=\"r1-box\" vertical><x-label id=\"r1-heading\">Top left</x-label><x-numberinput id=\"r1-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r2-box\" vertical><x-label id=\"r2-heading\">Top right</x-label><x-numberinput id=\"r2-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"r43-box\"><x-box id=\"r4-box\" vertical><x-label id=\"r4-heading\">Bottom left</x-label><x-numberinput id=\"r4-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r3-box\" vertical><x-label id=\"r3-heading\">Bottom right</x-label><x-numberinput id=\"r3-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject353=function _templateObject353(){return data;};return data;}function _templateObject352(){var data=_taggedTemplateLiteral(["#radius-section{display:flex;justify-content:space-between;margin-top:14px}#radius-section x-box{width:calc(50% - 13px)}#radius-section x-numberinput{width:100%}#start-angle-section{margin-top:14px}#start-angle-section h4{margin-bottom:0}#start-angle-section x-box{width:100%}#start-angle-section x-slider{flex:1}#start-angle-section x-numberinput{margin-left:10px;width:80px}#end-angle-section{margin-top:14px}#end-angle-section h4{margin-bottom:0}#end-angle-section x-box{width:100%}#end-angle-section x-slider{flex:1}#end-angle-section x-numberinput{margin-left:10px;width:80px}"]);_templateObject352=function _templateObject352(){return data;};return data;}function _templateObject351(){var data=_taggedTemplateLiteral(["<template><h3>Pie</h3><section id=\"radius-section\"><x-box id=\"r1-box\" vertical><h4 id=\"r1-heading\">Inner radius</h4><x-numberinput id=\"r1-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r2-box\" vertical><h4 id=\"r2-heading\">Outer radius</h4><x-numberinput id=\"r2-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"start-angle-section\"><h4 id=\"start-angle-heading\">Start angle</h4><x-box><x-slider id=\"start-angle-slider\" value=\"0\" min=\"0\" max=\"360\" step=\"1\"></x-slider><x-numberinput id=\"start-angle-input\" value=\"0\" min=\"0\" max=\"360\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"end-angle-section\"><h4 id=\"end-angle-heading\">End angle</h4><x-box><x-slider id=\"end-angle-slider\" value=\"0\" min=\"0\" max=\"360\" step=\"1\"></x-slider><x-numberinput id=\"end-angle-input\" value=\"0\" min=\"0\" max=\"360\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject351=function _templateObject351(){return data;};return data;}function _templateObject350(){var data=_taggedTemplateLiteral(["#viewbox-header{display:flex;align-items:center}#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}"]);_templateObject350=function _templateObject350(){return data;};return data;}function _templateObject349(){var data=_taggedTemplateLiteral(["<template><h3>Pattern</h3><section id=\"viewbox-section\"><header id=\"viewbox-header\"><h4 id=\"viewbox-heading\">View box</h4><x-switch id=\"viewbox-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" data-property=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" data-property=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject349=function _templateObject349(){return data;};return data;}function _templateObject348(){var data=_taggedTemplateLiteral(["#position-section{display:flex;margin-top:14px}#position-section x-numberinput{width:100%}#position-section #x-box{flex:1;margin-right:13px}#position-section #y-box{flex:1;margin-left:13px}#size-section{display:flex;margin-top:14px}#size-section x-numberinput{width:100%}#size-section #height-box,#size-section #width-box{flex:1}#aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#aspect-ratio-button[toggled]{opacity:.9}#aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#origin-section{display:flex;margin-top:14px}#origin-section x-numberinput{width:100%}#origin-section #origin-x-box{flex:1;margin-right:13px}#origin-section #origin-y-box{flex:1;margin-left:13px}#rotation-section{margin-top:14px}#rotation-section h4{margin-bottom:0}#rotation-slider{flex:1}#rotation-input{margin-left:10px;width:80px}#rotation-section>x-box{width:100%}"]);_templateObject348=function _templateObject348(){return data;};return data;}function _templateObject347(){var data=_taggedTemplateLiteral(["<template><h3>Object</h3><section id=\"position-section\"><x-box id=\"x-box\" vertical><h4 id=\"x-heading\">X</h4><x-numberinput id=\"x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><h4 id=\"y-heading\">Y</h4><x-numberinput id=\"y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"size-section\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"origin-section\"><x-box id=\"origin-x-box\" vertical><h4 id=\"origin-x-heading\">Origin X</h4><x-numberinput id=\"origin-x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"origin-y-box\" vertical><h4 id=\"origin-y-heading\">Origin Y</h4><x-numberinput id=\"origin-y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"rotation-section\"><h4 id=\"rotation-heading\">Rotation</h4><x-box><x-slider id=\"rotation-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"rotation-input\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject347=function _templateObject347(){return data;};return data;}function _templateObject346(){var data=_taggedTemplateLiteral(["section{margin-top:14px;display:flex}section[hidden]{display:none}#node-point-section x-numberinput{width:100%}#node-point-section #x-box{flex:1;margin-right:13px}#node-point-section #y-box{flex:1;margin-left:13px}#control-point-1-section x-numberinput{width:100%}#control-point-1-section #x1-box{flex:1;margin-right:13px}#control-point-1-section #y1-box{flex:1;margin-left:13px}#control-point-2-section x-numberinput{width:100%}#control-point-2-section #x2-box{flex:1;margin-right:13px}#control-point-2-section #y2-box{flex:1;margin-left:13px}"]);_templateObject346=function _templateObject346(){return data;};return data;}function _templateObject345(){var data=_taggedTemplateLiteral(["<template><h3>Node</h3><section id=\"node-point-section\"><x-box id=\"x-box\" vertical><h4 id=\"x-heading\">X</h4><x-numberinput id=\"x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><h4 id=\"y-heading\">Y</h4><x-numberinput id=\"y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"control-point-1-section\"><x-box id=\"x1-box\" vertical><h4 id=\"x1-heading\">X1</h4><x-numberinput id=\"x1-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y1-box\" vertical><h4 id=\"y1-heading\">Y1</h4><x-numberinput id=\"y1-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"control-point-2-section\"><x-box id=\"x2-box\" vertical><h4 id=\"x2-heading\">X2</h4><x-numberinput id=\"x2-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y2-box\" vertical><h4 id=\"y2-heading\">Y2</h4><x-numberinput id=\"y2-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject345=function _templateObject345(){return data;};return data;}function _templateObject344(){var data=_taggedTemplateLiteral(["#arms-section{margin-top:14px}#arms-section h4{margin-bottom:0}#arms-section x-box{width:100%}#arms-section #arms-slider{flex:1}#arms-section #arms-input{width:54px;margin-left:10px}#corner-section{margin-top:14px}#corner-section h4{margin-bottom:0}#corner-section x-box{width:100%}#corner-section #corner-slider{flex:1}#corner-section #corner-input{width:54px;margin-left:10px}"]);_templateObject344=function _templateObject344(){return data;};return data;}function _templateObject343(){var data=_taggedTemplateLiteral(["<template><h3>N-gon</h3><section id=\"arms-section\"><h4 id=\"arms-heading\">Arms</h4><x-box><x-slider id=\"arms-slider\" value=\"5\" min=\"5\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"arms-input\" value=\"5\" min=\"5\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"corner-section\"><h4 id=\"corner-heading\">Corner</h4><x-box><x-slider id=\"corner-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"corner-input\" value=\"0\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject343=function _templateObject343(){return data;};return data;}function _templateObject342(){var data=_taggedTemplateLiteral(["#viewport-header{display:flex;align-items:center}#viewport-size-box{width:100%}#viewport-box{margin-top:2px}#viewport-box x-numberinput{width:100%}#viewport-height-box,#viewport-width-box{flex:1;width:calc(50% - 14px)}#viewport-height-label,#viewport-units-label,#viewport-width-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewport-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewport-lock-button[toggled]{opacity:.9}#viewport-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#viewport-height-input,#viewport-width-input{width:100%;flex:1}#viewport-units-box{width:100%;margin-top:6px}#viewport-units-select{width:100%}#viewbox-section{margin-top:20px}#viewbox-header{display:flex;align-items:center}#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}#ref-section{margin-top:20px}#ref-section-heading{margin-bottom:7px}#ref-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#ref-box x-numberinput{width:100%}#ref-box #ref-x-box{flex:1;margin-right:13px}#ref-box #ref-y-box{flex:1;margin-left:13px}#orient-section{margin-top:20px}#orient-heading-box{margin-bottom:8px}#orient-heading{flex:1;margin:0}#orient-input{margin-left:12px;min-width:60px}"]);_templateObject342=function _templateObject342(){return data;};return data;}function _templateObject341(){var data=_taggedTemplateLiteral(["<template><h3>Marker</h3><section id=\"viewport-section\"><header id=\"viewport-header\"><h4 id=\"viewport-heading\">Viewport</h4></header><x-box id=\"viewport-box\" vertical><x-box id=\"viewport-size-box\"><x-box id=\"viewport-width-box\" vertical><x-label id=\"viewport-width-label\">Width</x-label><x-numberinput id=\"viewport-width-input\" value=\"0\" min=\"0\" step=\"1\" condensed data-property=\"width\"><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewport-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewport-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewport-height-box\" vertical><x-label id=\"viewport-height-label\">Height</x-label><x-numberinput id=\"viewport-height-input\" value=\"0\" min=\"0\" step=\"1\" condensed data-property=\"height\"><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewport-units-box\" vertical><x-label id=\"viewport-units-label\">Units</x-label><x-select id=\"viewport-units-select\"><x-menu><x-menuitem value=\"userSpaceOnUse\" toggled><x-label>User</x-label></x-menuitem><x-menuitem value=\"strokeWidth\"><x-label>Stroke width</x-label></x-menuitem></x-menu></x-select></x-box></x-box></section><section id=\"viewbox-section\"><header id=\"viewbox-header\"><h4 id=\"viewbox-heading\">View box</h4><x-switch id=\"viewbox-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" condensed data-property=\"x\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" condensed data-property=\"y\"><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" condensed data-property=\"width\"><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" condensed data-property=\"height\"><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section><section id=\"ref-section\"><h4 id=\"ref-section-heading\">Reference point</h4><x-box id=\"ref-box\"><x-box id=\"ref-x-box\" vertical><x-label id=\"ref-x-heading\">X</x-label><x-numberinput id=\"ref-x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"ref-y-box\" vertical><x-label id=\"ref-y-heading\">Y</x-label><x-numberinput id=\"ref-y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"orient-section\"><x-box id=\"orient-heading-box\"><h4 id=\"orient-heading\">Orient</h4><x-switch id=\"orient-switch\" size=\"smaller\" toggled></x-switch></x-box><x-box id=\"orient-box\"><x-slider id=\"orient-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"orient-input\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject341=function _templateObject341(){return data;};return data;}function _templateObject340(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;width:80px;height:80px;box-sizing:border-box;border-width:1px;border-style:solid}:host([disabled]){opacity:.5;pointer-events:none}:host(:focus){outline:0}#buttons{width:100%;height:100%}#buttons .button{position:absolute;width:22px;height:22px;min-height:22px;padding:0}.button[value=xMinYMin]{left:-1px;top:-1px}.button[value=xMidYMin]{top:-1px;left:50%;transform:translate(-50%,0)}.button[value=xMaxYMin]{top:-1px;right:-1px}.button[value=xMinYMid]{top:50%;left:-1px;transform:translate(0,-50%)}.button[value=xMidYMid]{top:50%;left:50%;transform:translate(-50%,-50%)}.button[value=xMaxYMid]{top:50%;right:-1px;transform:translate(0,-50%)}.button[value=xMinYMax]{left:-1px;bottom:-1px}.button[value=xMidYMax]{left:50%;bottom:-1px;transform:translate(-50%,0)}.button[value=xMaxYMax]{right:-1px;bottom:-1px}"]);_templateObject340=function _templateObject340(){return data;};return data;}function _templateObject339(){var data=_taggedTemplateLiteral(["<template><div id=\"buttons\"><x-button class=\"button\" part=\"button\" value=\"xMinYMin\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMidYMin\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMaxYMin\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMinYMid\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMidYMid\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMaxYMid\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMinYMax\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMidYMax\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMaxYMax\"></x-button></div></template>"]);_templateObject339=function _templateObject339(){return data;};return data;}function _templateObject338(){var data=_taggedTemplateLiteral(["#start-point-section{display:flex;margin-top:14px}#start-point-section x-numberinput{width:100%}#start-point-section #x1-box{flex:1;margin-right:13px}#start-point-section #y1-box{flex:1;margin-left:13px}#end-point-section{display:flex;margin-top:14px}#end-point-section x-numberinput{width:100%}#end-point-section #x2-box{flex:1;margin-right:13px}#end-point-section #y2-box{flex:1;margin-left:13px}#length-section{margin-top:14px}#length-section x-numberinput{width:100%}"]);_templateObject338=function _templateObject338(){return data;};return data;}function _templateObject337(){var data=_taggedTemplateLiteral(["<template><h3>Line</h3><section id=\"start-point-section\"><x-box id=\"x1-box\" vertical><h4 id=\"x1-heading\">Start X</h4><x-numberinput id=\"x1-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y1-box\" vertical><h4 id=\"y1-heading\">Start Y</h4><x-numberinput id=\"y1-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"end-point-section\"><x-box id=\"x2-box\" vertical><h4 id=\"x2-heading\">End X</h4><x-numberinput id=\"x2-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y2-box\" vertical><h4 id=\"y2-heading\">End Y</h4><x-numberinput id=\"y2-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"length-section\"><h4 id=\"length-heading\">Length</h4><x-numberinput id=\"length-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></section></template>"]);_templateObject337=function _templateObject337(){return data;};return data;}function _templateObject336(){var data=_taggedTemplateLiteral(["#natural-size-section x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#natural-size-section x-numberinput{width:100%}#natural-size-section #natural-size-box{justify-content:space-between}#natural-size-section #natural-width-box{flex:1;margin-right:13px}#natural-size-section #natural-height-box{flex:1;margin-left:13px}"]);_templateObject336=function _templateObject336(){return data;};return data;}function _templateObject335(){var data=_taggedTemplateLiteral(["<template><h3>Image</h3><section id=\"natural-size-section\"><h4 id=\"natural-size-heading\">Natural size</h4><x-box id=\"natural-size-box\"><x-box id=\"natural-width-box\" vertical><x-label id=\"natural-width-heading\">Width</x-label><x-numberinput id=\"natural-width-input\" value=\"0\" min=\"0\" condensed disabled=\"disabled\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"natural-height-box\" vertical><x-label id=\"natural-height-heading\">Height</x-label><x-numberinput id=\"natural-height-input\" value=\"0\" min=\"0\" condensed disabled=\"disabled\"><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject335=function _templateObject335(){return data;};return data;}function _templateObject334(){var data=_taggedTemplateLiteral(["#position-section{margin-top:14px;display:flex}#position-section x-numberinput{width:100%}#position-section #x-box{flex:1;margin-right:13px}#position-section #y-box{flex:1;margin-left:13px}#orientation-section{margin-top:14px}#orientation-buttons{width:100%}#orientation-buttons x-button{flex:1}"]);_templateObject334=function _templateObject334(){return data;};return data;}function _templateObject333(){var data=_taggedTemplateLiteral(["<template><h3>Guide</h3><section id=\"position-section\"><x-box id=\"x-box\" vertical><h4>X</h4><x-numberinput id=\"x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><h4>Y</h4><x-numberinput id=\"y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"orientation-section\"><h4>Orientation</h4><x-buttons id=\"orientation-buttons\" tracking=\"1\"><x-button value=\"horizontal\" toggled><x-label>Horizontal</x-label></x-button><x-button value=\"vertical\"><x-label>Vertical</x-label></x-button></x-buttons></section></template>"]);_templateObject333=function _templateObject333(){return data;};return data;}function _templateObject332(){var data=_taggedTemplateLiteral(["#position-section{margin-top:14px;display:flex}#position-section x-numberinput{width:100%}#position-section #x-box{flex:1;margin-right:13px}#position-section #y-box{flex:1;margin-left:13px}#size-section{display:flex;margin-top:14px}#size-section x-numberinput{width:100%}#size-section #height-box,#size-section #width-box{flex:1}#aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#aspect-ratio-button[toggled]{opacity:.9}#aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject332=function _templateObject332(){return data;};return data;}function _templateObject331(){var data=_taggedTemplateLiteral(["<template><h3>Grid</h3><section id=\"position-section\"><x-box id=\"x-box\" vertical><h4>X</h4><x-numberinput id=\"x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><h4>Y</h4><x-numberinput id=\"y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"size-section\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"1\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"1\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject331=function _templateObject331(){return data;};return data;}function _templateObject330(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#radius-section{display:flex;margin-top:14px}#radius-section x-numberinput{width:100%}#radius-section #rx-box,#radius-section #ry-box{flex:1}#radius-section #aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#radius-section #aspect-ratio-button[toggled]{opacity:.9}#radius-section #aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject330=function _templateObject330(){return data;};return data;}function _templateObject329(){var data=_taggedTemplateLiteral(["<template><h3>Ellipse</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"radius-section\"><x-box id=\"rx-box\" vertical><h4 id=\"rx-heading\">Radius X</h4><x-numberinput id=\"rx-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"ry-box\" vertical><h4 id=\"ry-heading\">Radius Y</h4><x-numberinput id=\"ry-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject329=function _templateObject329(){return data;};return data;}function _templateObject328(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#arm-thickness-section{display:flex;margin-top:14px}#arm-thickness-section x-numberinput{width:100%}#arm-thickness-section #horizontal-arm-thickness-box{flex:1;margin-right:13px}#arm-thickness-section #vertical-arm-thickness-box{flex:1;margin-left:13px}#shift-section{margin-top:14px}#shift-section h4{margin-bottom:0}#shift-section x-box{width:100%}#shift-section x-numberinput{flex:0;width:80px;min-width:80px;margin-left:10px}"]);_templateObject328=function _templateObject328(){return data;};return data;}function _templateObject327(){var data=_taggedTemplateLiteral(["<template><h3>Cross</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"arm-thickness-section\"><x-box id=\"horizontal-arm-thickness-box\" vertical><h4 id=\"horizontal-arm-thickness-heading\">Arm 1 thickness</h4><x-numberinput id=\"horizontal-arm-thickness-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"vertical-arm-thickness-box\" vertical><h4 id=\"vertical-arm-thickness-heading\">Arm 2 thickness</h4><x-numberinput id=\"vertical-arm-thickness-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"shift-section\"><h4 id=\"shift-heading\">Shift</h4><x-box><x-slider id=\"shift-slider\" value=\"0\" min=\"-50\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"shift-input\" value=\"0\" min=\"-50\" max=\"50\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject327=function _templateObject327(){return data;};return data;}function _templateObject326(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#radius-section{display:flex;justify-content:space-between;margin-top:14px}#radius-section x-box{width:calc(33.3333% - 3px)}#radius-section x-numberinput{width:100%}#splay-section{margin-top:14px}#splay-section h4{margin-bottom:0}#splay-section x-box{width:100%}#splay-section x-numberinput{flex:0;width:80px;min-width:80px;margin-left:10px}#teeth-section{margin-top:14px}#teeth-section h4{margin-bottom:0}#teeth-section x-box{width:100%}#teeth-section x-numberinput{flex:0;width:80px;min-width:80px;margin-left:10px}"]);_templateObject326=function _templateObject326(){return data;};return data;}function _templateObject325(){var data=_taggedTemplateLiteral(["<template><h3>Cog</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"radius-section\"><x-box id=\"r1-box\" vertical><h4 id=\"r1-heading\">Radius 1</h4><x-numberinput id=\"r1-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r2-box\" vertical><h4 id=\"r2-heading\">Radius 2</h4><x-numberinput id=\"r2-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r3-box\" vertical><h4 id=\"r3-heading\">Radius 3</h4><x-numberinput id=\"r3-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"splay-section\"><h4 id=\"splay-heading\">Splay</h4><x-box><x-slider id=\"splay-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"splay-input\" value=\"0\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"teeth-section\"><h4 id=\"teeth-heading\">Teeth</h4><x-box><x-slider id=\"teeth-slider\" value=\"5\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"teeth-input\" value=\"5\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject325=function _templateObject325(){return data;};return data;}function _templateObject324(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#radius-section{margin-top:14px}#radius-input{width:100%}"]);_templateObject324=function _templateObject324(){return data;};return data;}function _templateObject323(){var data=_taggedTemplateLiteral(["<template><h3>Circle</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"radius-section\"><h4 id=\"radius-heading\">Radius</h4><x-numberinput id=\"radius-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></section></template>"]);_templateObject323=function _templateObject323(){return data;};return data;}function _templateObject322(){var data=_taggedTemplateLiteral(["#position-section{margin-top:14px;display:flex}#position-section x-numberinput{width:100%}#position-section #dx-box{flex:1;margin-right:13px}#position-section #dy-box{flex:1;margin-left:13px}#rotation-section{margin-top:14px}#rotation-section h4{margin-bottom:0}#rotation-section x-box{width:100%}#rotation-section x-slider{flex:1}#rotation-section x-numberinput{margin-left:10px;width:80px}"]);_templateObject322=function _templateObject322(){return data;};return data;}function _templateObject321(){var data=_taggedTemplateLiteral(["<template><h3>Character</h3><section id=\"position-section\"><x-box id=\"dx-box\" vertical><h4 id=\"dx-heading\">Delta X</h4><x-numberinput id=\"dx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"dy-box\" vertical><h4 id=\"dy-heading\">Delta Y</h4><x-numberinput id=\"dy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"rotation-section\"><h4 id=\"rotation-heading\">Rotation</h4><x-box id=\"rotation-box\"><x-slider id=\"rotation-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"rotation-input\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject321=function _templateObject321(){return data;};return data;}function _templateObject320(){var data=_taggedTemplateLiteral(["#base-thickness-section{margin-top:6px}#base-thickness-section h4{margin-bottom:0}#base-thickness-section x-box{width:100%}#base-thickness-section x-slider{flex:1}#base-thickness-section x-numberinput{width:80px;margin-left:10px}#head-thickness-section{margin-top:14px}#head-thickness-section h4{margin-bottom:0}#head-thickness-section x-box{width:100%}#head-thickness-section x-slider{flex:1}#head-thickness-section x-numberinput{width:80px;margin-left:10px}#head-length-section{margin-top:14px}#head-length-section h4{margin-bottom:0}#head-length-section x-box{width:100%}#head-length-section x-slider{flex:1}#head-length-section x-numberinput{width:80px;margin-left:10px}#head-inset-section{margin-top:14px}#head-inset-section h4{margin-bottom:0}#head-inset-section x-box{width:100%}#head-inset-section x-slider{flex:1}#head-inset-section x-numberinput{width:80px;margin-left:10px}"]);_templateObject320=function _templateObject320(){return data;};return data;}function _templateObject319(){var data=_taggedTemplateLiteral(["<template><h3>Arrow</h3><section id=\"base-thickness-section\"><h4>Base thickness</h4><x-box><x-slider id=\"base-thickness-slider\"></x-slider><x-numberinput id=\"base-thickness-input\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-thickness-section\"><h4>Head thickness</h4><x-box><x-slider id=\"head-thickness-slider\"></x-slider><x-numberinput id=\"head-thickness-input\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-length-section\"><h4>Head length</h4><x-box><x-slider id=\"head-length-slider\"></x-slider><x-numberinput id=\"head-length-input\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-inset-section\"><h4>Head inset</h4><x-box><x-slider id=\"head-inset-slider\"></x-slider><x-numberinput id=\"head-inset-input\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject319=function _templateObject319(){return data;};return data;}function _templateObject318(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;padding:18px 20px;box-sizing:border-box}:host([hidden]){display:none}h3{margin:0 0 14px 0}h4{margin-top:0}x-numberinput{max-width:none}x-switch{margin:0}"]);_templateObject318=function _templateObject318(){return data;};return data;}function _templateObject317(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}section{padding:15px 20px}#font-section{padding:10px 20px 20px 20px}#font-family-subsection{margin-bottom:15px}#font-family-popover{padding:0;height:100%;width:240px}#font-family-button{width:100%}#font-family-label{flex:1;font-size:20px;line-height:20px;text-align:start}#font-face-subsection{margin-bottom:15px}#font-face-box{width:100%}#font-weight-select{width:100%;min-width:10px}#font-style-button{min-width:fit-content;height:26px;font-style:italic;margin:0 0 0 8px}#font-size-box{width:100%}#font-size-slider{flex:1}#font-size-input{margin-left:6px;width:54px}#text-section x-button x-icon{width:20px;height:20px}#text-anchor-box{margin-top:14px}#text-anchor-buttons{width:100%}#text-anchor-buttons x-button{flex:1}#text-anchor-buttons x-button x-label{font-size:12px}#text-decoration-buttons{width:100%}#text-decoration-buttons x-button{padding:0 7px;height:28px;flex:1}#text-decoration-buttons x-label{font-weight:600;font-size:12px;text-align:center}#underline-button x-label{text-decoration:underline}#overline-button x-label{text-decoration:overline;line-height:1.3}#line-through-button x-label{text-decoration:line-through}#text-transform-box{width:100%;margin-top:14px}#text-transform-buttons{width:100%}#text-transform-buttons x-button{padding:0 5px;height:28px;flex:1}#text-transform-buttons x-label{font-weight:600;font-size:12px;text-align:center}#text-on-path-button{width:100%;text-align:center;height:28px}#path-start-offset-box{margin-top:14px}#path-start-offset-heading{margin-bottom:0}#path-start-offset-inner-box{width:100%}#path-start-offset-slider{flex:1}#path-start-offset-input{margin-left:6px;width:54px}#letter-spacing-box{margin-bottom:6px}#letter-spacing-heading{margin-bottom:0}#letter-spacing-inner-box{width:100%}#letter-spacing-slider{flex:1}#letter-spacing-input{margin-left:6px;width:54px}#word-spacing-box{margin-bottom:6px}#word-spacing-heading{margin-bottom:0}#word-spacing-inner-box{width:100%}#word-spacing-slider{flex:1}#word-spacing-input{margin-left:6px;width:54px}#line-spacing-heading{margin-bottom:0}#line-spacing-inner-box{width:100%}#line-spacing-slider{flex:1}#line-spacing-input{margin-left:6px;width:54px}"]);_templateObject317=function _templateObject317(){return data;};return data;}function _templateObject316(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Typography</h2><section id=\"font-section\"><h3 id=\"font-section-heading\">Font</h3><x-box id=\"font-family-subsection\" vertical><h4 id=\"font-family-heading\">Family</h4><x-button id=\"font-family-button\" size=\"larger\"><x-label id=\"font-family-label\">Arial</x-label><x-popover id=\"font-family-popover\" modal><bx-fontfamilypicker id=\"font-family-picker\"></bx-fontfamilypicker></x-popover></x-button></x-box><x-box id=\"font-face-subsection\" vertical><h4 id=\"font-face-heading\">Face</h4><x-box id=\"font-face-box\"><x-select id=\"font-weight-select\"><x-menu id=\"font-weight-menu\"><x-menuitem value=\"100\"><x-label>100 - Thin</x-label></x-menuitem><x-menuitem value=\"200\"><x-label>200 - Extra-Light</x-label></x-menuitem><x-menuitem value=\"300\"><x-label>300 - Light</x-label></x-menuitem><x-menuitem value=\"400\" selected=\"true\"><x-label>400 - Normal</x-label></x-menuitem><x-menuitem value=\"500\"><x-label>500 - Medium</x-label></x-menuitem><x-menuitem value=\"600\"><x-label>600 - Semi-Bold</x-label></x-menuitem><x-menuitem value=\"700\"><x-label>700 - Bold</x-label></x-menuitem><x-menuitem value=\"800\"><x-label>800 - Extra-Bold</x-label></x-menuitem><x-menuitem value=\"900\"><x-label>900 - Ultra-Bold</x-label></x-menuitem></x-menu></x-select><x-button id=\"font-style-button\" condensed togglable><x-label>Italic</x-label></x-button></x-box></x-box><x-box id=\"font-size-subsection\" vertical><h4 id=\"font-size-heading\">Size</h4><x-box id=\"font-size-box\"><x-slider id=\"font-size-slider\" value=\"13\" min=\"1\" max=\"150\" step=\"1\"></x-slider><x-numberinput id=\"font-size-input\" value=\"13\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><hr><section id=\"text-section\"><h3 id=\"text-section-heading\">Text</h3><x-box id=\"text-decoration-box\" vertical><h4 id=\"text-decoration-heading\">Decoration</h4><x-buttons id=\"text-decoration-buttons\" tracking=\"2\"><x-button id=\"underline-button\" value=\"underline\"><x-label>Underline</x-label></x-button><x-button id=\"line-through-button\" value=\"line-through\"><x-label>Line-through</x-label></x-button><x-button id=\"overline-button\" value=\"overline\"><x-label>Overline</x-label></x-button></x-buttons></x-box><x-box id=\"text-transform-box\" vertical><h4 id=\"text-transform-heading\">Transform</h4><x-buttons id=\"text-transform-buttons\" tracking=\"0\"><x-button id=\"capitalize-button\" value=\"capitalize\"><x-label>Capitalize</x-label></x-button><x-button id=\"uppercase-button\" value=\"uppercase\"><x-label>UPPERCASE</x-label></x-button><x-button id=\"lowercase-button\" value=\"lowercase\"><x-label>lowercase</x-label></x-button></x-buttons></x-box><x-box id=\"text-anchor-box\" vertical><h4 id=\"text-anchor-heading\">Anchor</h4><x-buttons id=\"text-anchor-buttons\" tracking=\"1\"><x-button id=\"start-text-anchor-button\" value=\"start\" toggled><x-label>Start</x-label></x-button><x-button id=\"middle-text-anchor-button\" value=\"middle\"><x-label>Middle</x-label></x-button><x-button id=\"end-text-anchor-button\" value=\"end\"><x-label>End</x-label></x-button></x-buttons></x-box></section><hr><section id=\"path-section\"><h3 id=\"path-section-heading\">Path</h3><x-button id=\"text-on-path-button\" togglable><x-label>Text on path</x-label></x-button><x-box id=\"path-start-offset-box\" vertical><h4 id=\"path-start-offset-heading\">Start offset</h4><x-box id=\"path-start-offset-inner-box\"><x-slider id=\"path-start-offset-slider\" value=\"0\" min=\"-500\" max=\"500\" step=\"1\"></x-slider><x-numberinput id=\"path-start-offset-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><hr><section id=\"spacing-section\"><h3 id=\"spacing-section-heading\">Spacing</h3><x-box id=\"letter-spacing-box\" vertical><h4 id=\"letter-spacing-heading\">Letter</h4><x-box id=\"letter-spacing-inner-box\"><x-slider id=\"letter-spacing-slider\" value=\"0\" min=\"-20\" max=\"20\" step=\"0.1\"></x-slider><x-numberinput id=\"letter-spacing-input\" value=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"word-spacing-box\" vertical><h4 id=\"word-spacing-heading\">Word</h4><x-box id=\"word-spacing-inner-box\"><x-slider id=\"word-spacing-slider\" value=\"0\" min=\"-100\" max=\"100\" step=\"0.1\"></x-slider><x-numberinput id=\"word-spacing-input\" value=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"line-spacing-box\" vertical><h4 id=\"line-spacing-heading\">Line</h4><x-box id=\"line-spacing-inner-box\"><x-slider id=\"line-spacing-slider\" value=\"0\" min=\"-3\" max=\"3\" step=\"0.1\"></x-slider><x-numberinput id=\"line-spacing-input\" value=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject316=function _templateObject316(){return data;};return data;}function _templateObject315(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%;box-sizing:border-box}:host(:focus){outline:0}#main{display:flex;flex-flow:column;height:100%;width:100%}h4{margin:0;padding:5px;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;text-transform:uppercase;font-size:11px;line-height:1}#items{width:100%;flex:1;overflow:auto;contain:strict;box-sizing:border-box}#embedded-items-heading{border-top:none}#embedded-items .item{padding:3px 6px;height:28px;display:flex;align-items:center;box-sizing:border-box}#embedded-items .item[data-selected]{color:#fff;background:var(--accent-color)}#embedded-items .item[hidden]{display:none}#embedded-items .item .label{overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:20px}#embedded-items-placeholder{padding:5px 7px;font-size:12px;opacity:.6}#google-fonts-items .item{height:25px;overflow:hidden;display:block;box-sizing:border-box;padding:0 6px;opacity:.75;background:0 0;-webkit-user-drag:none}#google-fonts-items .item[hidden]{display:none}#google-fonts-items .item[data-selected]{background:var(--accent-color);opacity:1}#google-fonts-items-placeholder{padding:5px 7px;font-size:12px;opacity:.6}#footer{padding:5px;border-top-width:1px;border-top-style:solid}#filter-input{flex:1;max-width:none;border-top-right-radius:0;border-bottom-right-radius:0}#sort-select{width:104px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}#footer #manage-button{width:100%;margin-top:5px;flex:1}#footer #manage-button x-icon{width:14px;height:14px}"]);_templateObject315=function _templateObject315(){return data;};return data;}function _templateObject314(){var data=_taggedTemplateLiteral(["<template><main id=\"main\" part=\"main\"><div id=\"items\"><div id=\"embedded-items-container\"><h4 id=\"embedded-items-heading\" part=\"heading\">Embedded fonts</h4><div id=\"embedded-items\"></div><div id=\"embedded-items-placeholder\" hidden>No families found.</div></div><div id=\"google-fonts-items-contaner\"><h4 id=\"google-fonts-items-heading\" part=\"heading\">Google fonts</h4><div id=\"google-fonts-items\"></div><div id=\"google-fonts-items-placeholder\" hidden>No families found.</div></div></div></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"filter-input\" placeholder=\"Filter\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-select id=\"sort-select\"><x-menu><x-menuitem value=\"alphabetical\" toggled><x-label>Name</x-label></x-menuitem><x-menuitem value=\"popularity\"><x-label>Popularity</x-label></x-menuitem><x-menuitem value=\"date\"><x-label>Date</x-label></x-menuitem><x-menuitem value=\"trending\"><x-label>Trending</x-label></x-menuitem></x-menu></x-select></x-box><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button></footer></template>"]);_templateObject314=function _templateObject314(){return data;};return data;}function _templateObject313(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}section{padding:15px 20px}section[hidden]+hr{display:none}#filter-section{padding:10px 20px 15px}#filter-select{width:100%}#filter-settings-wrapper:not(:empty){margin-top:14px}#filter-convert-button{width:100%;margin-top:14px}#filter-edit-button{width:100%;margin-top:14px}#blend-mode-select{width:100%}#isolation-checkbox{margin-top:10px}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}#cover-buttons>x-button{flex:1}#cover-buttons>x-button:last-child{margin-left:8px}"]);_templateObject313=function _templateObject313(){return data;};return data;}function _templateObject312(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Compositing</h2><section id=\"filter-section\"><h3 id=\"filter-section-heading\">Filter</h3><bx-filterselect id=\"filter-select\"></bx-filterselect><div id=\"filter-settings-wrapper\"></div><x-button id=\"filter-convert-button\"><x-label>Convert to custom filter</x-label></x-button><x-button id=\"filter-edit-button\"><x-label>Edit custom filter\u2026</x-label></x-button></section><hr><section id=\"blend-mode-section\"><h3 id=\"blend-mode-section-heading\">Blend mode</h3><x-select id=\"blend-mode-select\"><x-menu><x-menuitem value=\"normal\" toggled><x-label>Normal</x-label></x-menuitem><hr><x-menuitem value=\"darken\"><x-label>Darken</x-label></x-menuitem><x-menuitem value=\"multiply\"><x-label>Multiply</x-label></x-menuitem><x-menuitem value=\"color-burn\"><x-label>Color Burn</x-label></x-menuitem><hr><x-menuitem value=\"lighten\"><x-label>Lighten</x-label></x-menuitem><x-menuitem value=\"screen\"><x-label>Screen</x-label></x-menuitem><x-menuitem value=\"color-dodge\"><x-label>Color Dodge</x-label></x-menuitem><hr><x-menuitem value=\"overlay\"><x-label>Overlay</x-label></x-menuitem><x-menuitem value=\"soft-light\"><x-label>Soft Light</x-label></x-menuitem><x-menuitem value=\"hard-light\"><x-label>Hard Light</x-label></x-menuitem><hr><x-menuitem value=\"difference\"><x-label>Difference</x-label></x-menuitem><x-menuitem value=\"exclusion\"><x-label>Exclusion</x-label></x-menuitem><hr><x-menuitem value=\"hue\"><x-label>Hue</x-label></x-menuitem><x-menuitem value=\"saturation\"><x-label>Saturation</x-label></x-menuitem></x-menu></x-select><x-checkbox id=\"isolation-checkbox\"><x-label id=\"isolation-label\">Isolate</x-label></x-checkbox></section><hr><section id=\"opacity-section\"><h3 id=\"opacity-section-heading\">Opacity</h3><x-box id=\"opacity-box\"><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><hr><section id=\"cover-section\"><h3 id=\"cover-section-heading\">Cover</h3><x-box id=\"cover-buttons\"><x-button id=\"clip-button\" togglable><x-icon name=\"object-clip\"></x-icon><x-label>Clip</x-label></x-button><x-button id=\"mask-button\" togglable><x-icon name=\"object-mask\"></x-icon><x-label>Mask</x-label></x-button></x-box></section></template>"]);_templateObject312=function _templateObject312(){return data;};return data;}function _templateObject311(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#colors-section{margin-top:14px;display:flex}#colors-section>x-box{flex:1}#colors-section>x-box:first-child{margin-right:7px}#colors-section>x-box:last-child{margin-left:7px}#colors-section x-colorselect{width:100%}#colors-section x-popover{--align:right}#gamma-section{margin-top:14px}#gamma-section h4{margin-bottom:0}#gamma-section x-box{width:100%}#gamma-section x-slider{flex:1}#gamma-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject311=function _templateObject311(){return data;};return data;}function _templateObject310(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"colors-section\"><x-box id=\"shadows-color-box\" vertical><h4 id=\"shadows-color-heading\">Shadows color</h4><x-colorselect id=\"shadows-color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"shadows-color-popover\" modal><bx-colorpicker id=\"shadows-color-picker\"></bx-colorpicker></x-popover></x-colorselect></x-box><x-box id=\"highlights-color-box\" vertical><h4 id=\"highlights-color-heading\">Highlights color</h4><x-colorselect id=\"highlights-color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"highlights-color-popover\" modal><bx-colorpicker id=\"highlights-color-picker\"></bx-colorpicker></x-popover></x-colorselect></x-box></section><section id=\"gamma-section\"><h4 id=\"gamma-heading\">Gamma correction</h4><x-box id=\"gamma-box\"><x-slider id=\"gamma-slider\" value=\"0\" min=\"0\" max=\"4\" step=\"0.1\"></x-slider><x-numberinput id=\"gamma-input\" value=\"0\" min=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject310=function _templateObject310(){return data;};return data;}function _templateObject309(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#channels-section{margin-top:14px}#channels-buttons{width:100%}#channels-buttons x-button{flex:1}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}#saturation-section{margin-top:14px}#saturation-section h4{margin-bottom:0}#saturation-section x-box{width:100%}#saturation-section x-slider{flex:1}#saturation-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject309=function _templateObject309(){return data;};return data;}function _templateObject308(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"channels-section\"><h4 id=\"channels-heading\">Channels</h4><x-buttons id=\"channels-buttons\" tracking=\"2\"><x-button value=\"r\" toggled><x-label>Red</x-label></x-button><x-button value=\"g\"><x-label>Green</x-label></x-button><x-button value=\"b\"><x-label>Blue</x-label></x-button></x-buttons></section><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"5\" min=\"1\" max=\"20\" step=\"1\"></x-slider><x-numberinput id=\"amount-input\" value=\"5\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"saturation-section\"><h4 id=\"saturation-heading\">Saturation</h4><x-box id=\"saturation-box\"><x-slider id=\"saturation-slider\" value=\"0.9\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"saturation-input\" value=\"0.9\" min=\"0\" max=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject308=function _templateObject308(){return data;};return data;}function _templateObject307(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject307=function _templateObject307(){return data;};return data;}function _templateObject306(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject306=function _templateObject306(){return data;};return data;}function _templateObject305(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject305=function _templateObject305(){return data;};return data;}function _templateObject304(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject304=function _templateObject304(){return data;};return data;}function _templateObject303(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject303=function _templateObject303(){return data;};return data;}function _templateObject302(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject302=function _templateObject302(){return data;};return data;}function _templateObject301(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#angle-section{margin-top:14px}#angle-section h4{margin-bottom:0}#angle-section x-box{width:100%}#angle-section x-slider{flex:1}#angle-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject301=function _templateObject301(){return data;};return data;}function _templateObject300(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"angle-section\"><h4 id=\"angle-heading\">Angle</h4><x-box id=\"angle-box\"><x-slider id=\"angle-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"angle-input\" value=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject300=function _templateObject300(){return data;};return data;}function _templateObject299(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:60px;margin-left:10px}"]);_templateObject299=function _templateObject299(){return data;};return data;}function _templateObject298(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject298=function _templateObject298(){return data;};return data;}function _templateObject297(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject297=function _templateObject297(){return data;};return data;}function _templateObject296(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject296=function _templateObject296(){return data;};return data;}function _templateObject295(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject295=function _templateObject295(){return data;};return data;}function _templateObject294(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject294=function _templateObject294(){return data;};return data;}function _templateObject293(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#balance-section{margin-top:14px}#balance-section h4{margin-bottom:0}#balance-section x-box{width:100%}#balance-section x-slider{flex:1}#balance-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject293=function _templateObject293(){return data;};return data;}function _templateObject292(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"balance-section\"><h4 id=\"balance-heading\">Balance</h4><x-box id=\"balance-box\"><x-slider id=\"balance-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"balance-input\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject292=function _templateObject292(){return data;};return data;}function _templateObject291(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#operator-section{margin-top:14px}#operator-buttons{width:100%}#operator-buttons x-button{flex:1}#radius-section{margin-top:14px}#radius-section h4{margin-bottom:0}#radius-section x-box{width:100%}#radius-section x-slider{flex:1}#radius-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject291=function _templateObject291(){return data;};return data;}function _templateObject290(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"operator-section\"><h4 id=\"operator-heading\">Operator</h4><x-buttons id=\"operator-buttons\" tracking=\"1\"><x-button value=\"dilate\"><x-label>Dilate</x-label></x-button><x-button value=\"erode\" toggled><x-label>Erode</x-label></x-button></x-buttons></section><section id=\"radius-section\"><h4 id=\"radius-heading\">Radius</h4><x-box id=\"radius-box\"><x-slider id=\"radius-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"1\"></x-slider><x-numberinput id=\"radius-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject290=function _templateObject290(){return data;};return data;}function _templateObject289(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#pixel-size-section{margin-top:14px}#pixel-size-section h4{margin-bottom:0}#pixel-size-section x-box{width:100%}#pixel-size-section x-slider{flex:1}#pixel-size-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject289=function _templateObject289(){return data;};return data;}function _templateObject288(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"pixel-size-section\"><h4 id=\"pixel-size-heading\">Pixel size</h4><x-box id=\"pixel-size-box\"><x-slider id=\"pixel-size-slider\" value=\"10\" min=\"1\" max=\"30\" step=\"1\"></x-slider><x-numberinput id=\"pixel-size-input\" value=\"10\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject288=function _templateObject288(){return data;};return data;}function _templateObject287(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}#frequency-section{margin-top:14px}#frequency-section h4{margin-bottom:0}#frequency-section x-box{width:100%}#frequency-section x-slider{flex:1}#frequency-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject287=function _templateObject287(){return data;};return data;}function _templateObject286(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"frequency-section\"><h4 id=\"frequency-heading\">Frequency</h4><x-box id=\"frequency-box\"><x-slider id=\"frequency-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"frequency-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject286=function _templateObject286(){return data;};return data;}function _templateObject285(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#orientation-section{margin-top:14px}#orientation-buttons{width:100%}#orientation-buttons x-button{flex:1}#distance-section{margin-top:14px}#distance-section h4{margin-bottom:0}#distance-section x-box{width:100%}#distance-section x-slider{flex:1}#distance-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject285=function _templateObject285(){return data;};return data;}function _templateObject284(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"orientation-section\"><h4 id=\"orientation-heading\">Orientation</h4><x-buttons id=\"orientation-buttons\" tracking=\"1\"><x-button value=\"horizontal\" toggled><x-label>Horizontal</x-label></x-button><x-button value=\"vertical\"><x-label>Vertical</x-label></x-button></x-buttons></section><section id=\"distance-section\"><h4 id=\"distance-heading\">Distance</h4><x-box id=\"distance-box\"><x-slider id=\"distance-slider\" value=\"10\" min=\"0\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"distance-input\" value=\"10\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject284=function _templateObject284(){return data;};return data;}function _templateObject283(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#radius-section{margin-top:14px}#radius-section h4{margin-bottom:0}#radius-section x-box{width:100%}#radius-section x-slider{flex:1}#radius-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject283=function _templateObject283(){return data;};return data;}function _templateObject282(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"radius-section\"><h4 id=\"radius-heading\">Radius</h4><x-box id=\"radius-box\"><x-slider id=\"radius-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"0.1\"></x-slider><x-numberinput id=\"radius-input\" value=\"0\" min=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject282=function _templateObject282(){return data;};return data;}function _templateObject281(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#width-section{margin-top:14px}#width-section h4{margin-bottom:0}#width-section x-box{width:100%}#width-section x-slider{flex:1}#width-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select x-popover{--align:right}"]);_templateObject281=function _templateObject281(){return data;};return data;}function _templateObject280(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"width-section\"><h4 id=\"width-heading\">Width</h4><x-box id=\"width-box\"><x-slider id=\"width-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"1\"></x-slider><x-numberinput id=\"width-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject280=function _templateObject280(){return data;};return data;}function _templateObject279(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#source-section{display:flex;margin-top:14px}#source-section x-box{width:100%}#source-section x-box:first-child{margin-right:8px}#source-section x-box:last-child{margin-left:8px}#source-section x-numberinput{width:100%}#target-section{display:flex;margin-top:14px}#target-section x-box{width:100%}#target-section x-box:first-child{margin-right:8px}#target-section x-box:last-child{margin-left:8px}#target-section x-numberinput{width:100%}#cone-angle-section{margin-top:14px}#cone-angle-section h4{margin-bottom:0}#cone-angle-section x-box{width:100%}#cone-angle-section x-slider{flex:1}#cone-angle-section x-numberinput{width:54px;margin-left:10px}#specular-exponent-section{margin-top:14px}#specular-exponent-section h4{margin-bottom:0}#specular-exponent-section x-box{width:100%}#specular-exponent-section x-slider{flex:1}#specular-exponent-section x-numberinput{width:54px;margin-left:10px}#specular-constant-section{margin-top:14px}#specular-constant-section h4{margin-bottom:0}#specular-constant-section x-box{width:100%}#specular-constant-section x-slider{flex:1}#specular-constant-section x-numberinput{width:54px;margin-left:10px}#diffuse-constant-section{margin-top:14px}#diffuse-constant-section h4{margin-bottom:0}#diffuse-constant-section x-box{width:100%}#diffuse-constant-section x-slider{flex:1}#diffuse-constant-section x-numberinput{width:54px;margin-left:10px}#ambient-constant-section{margin-top:14px}#ambient-constant-section h4{margin-bottom:0}#ambient-constant-section x-box{width:100%}#ambient-constant-section x-slider{flex:1}#ambient-constant-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select{width:100%}"]);_templateObject279=function _templateObject279(){return data;};return data;}function _templateObject278(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"source-section\"><x-box id=\"source-x-box\" vertical><h4 id=\"source-x-heading\">Source X</h4><x-numberinput id=\"source-x-input\" data-param=\"x\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-y-box\" vertical><h4 id=\"source-y-heading\">Source Y</h4><x-numberinput id=\"source-y-input\" data-param=\"y\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-z-box\" vertical><h4 id=\"source-z-heading\">Source Z</h4><x-numberinput id=\"source-z-input\" data-param=\"z\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"target-section\"><x-box id=\"target-x-box\" vertical><h4 id=\"target-x-heading\">Target X</h4><x-numberinput id=\"target-x-input\" data-param=\"x\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"target-y-box\" vertical><h4 id=\"target-y-heading\">Target Y</h4><x-numberinput id=\"target-y-input\" data-param=\"y\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"target-z-box\" vertical><h4 id=\"target-z-heading\">Target Z</h4><x-numberinput id=\"target-z-input\" data-param=\"z\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"cone-angle-section\"><h4 id=\"cone-angle-heading\">Cone angle</h4><x-box id=\"cone-angle-box\"><x-slider id=\"cone-angle-slider\" value=\"0\" min=\"1\" max=\"90\" step=\"1\"></x-slider><x-numberinput id=\"cone-angle-input\" value=\"0\" min=\"1\" max=\"90\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"specular-exponent-section\"><h4 id=\"specular-exponent-heading\">Surface shininess</h4><x-box id=\"specular-exponent-box\"><x-slider id=\"specular-exponent-slider\" value=\"1\" min=\"1\" max=\"128\" step=\"1\"></x-slider><x-numberinput id=\"specular-exponent-input\" value=\"1\" min=\"1\" max=\"128\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"specular-constant-section\"><h4 id=\"specular-constant-heading\">Specular light</h4><x-box id=\"specular-constant-box\"><x-slider id=\"specular-constant-slider\" value=\"1\" min=\"0.01\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"specular-constant-input\" value=\"1\" min=\"0.01\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"diffuse-constant-section\"><h4 id=\"diffuse-constant-heading\">Diffuse light</h4><x-box id=\"diffuse-constant-box\"><x-slider id=\"diffuse-constant-slider\" value=\"1\" min=\"0.01\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"diffuse-constant-input\" value=\"1\" min=\"0.01\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"ambient-constant-section\"><h4 id=\"ambient-constant-heading\">Ambient light</h4><x-box id=\"ambient-constant-box\"><x-slider id=\"ambient-constant-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"ambient-constant-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"#ffffff\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject278=function _templateObject278(){return data;};return data;}function _templateObject277(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#source-section{display:flex;margin-top:14px}#source-section x-box{width:100%}#source-section x-box:first-child{margin-right:8px}#source-section x-box:last-child{margin-left:8px}#source-section x-numberinput{width:100%}#specular-exponent-section{margin-top:14px}#specular-exponent-section h4{margin-bottom:0}#specular-exponent-section x-box{width:100%}#specular-exponent-section x-slider{flex:1}#specular-exponent-section x-numberinput{width:54px;margin-left:10px}#specular-constant-section{margin-top:14px}#specular-constant-section h4{margin-bottom:0}#specular-constant-section x-box{width:100%}#specular-constant-section x-slider{flex:1}#specular-constant-section x-numberinput{width:54px;margin-left:10px}#diffuse-constant-section{margin-top:14px}#diffuse-constant-section h4{margin-bottom:0}#diffuse-constant-section x-box{width:100%}#diffuse-constant-section x-slider{flex:1}#diffuse-constant-section x-numberinput{width:54px;margin-left:10px}#ambient-constant-section{margin-top:14px}#ambient-constant-section h4{margin-bottom:0}#ambient-constant-section x-box{width:100%}#ambient-constant-section x-slider{flex:1}#ambient-constant-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select{width:100%}"]);_templateObject277=function _templateObject277(){return data;};return data;}function _templateObject276(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"source-section\"><x-box id=\"source-x-box\" vertical><h4 id=\"source-x-heading\">Source X</h4><x-numberinput id=\"source-x-input\" data-param=\"x\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-y-box\" vertical><h4 id=\"source-y-heading\">Source Y</h4><x-numberinput id=\"source-y-input\" data-param=\"y\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-z-box\" vertical><h4 id=\"source-z-heading\">Source Z</h4><x-numberinput id=\"source-z-input\" data-param=\"z\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"specular-exponent-section\"><h4 id=\"specular-exponent-heading\">Surface shininess</h4><x-box id=\"specular-exponent-box\"><x-slider id=\"specular-exponent-slider\" value=\"1\" min=\"1\" max=\"128\" step=\"1\"></x-slider><x-numberinput id=\"specular-exponent-input\" value=\"1\" min=\"1\" max=\"128\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"specular-constant-section\"><h4 id=\"specular-constant-heading\">Specular light</h4><x-box id=\"specular-constant-box\"><x-slider id=\"specular-constant-slider\" value=\"1\" min=\"0.01\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"specular-constant-input\" value=\"1\" min=\"0.01\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"diffuse-constant-section\"><h4 id=\"diffuse-constant-heading\">Diffuse light</h4><x-box id=\"diffuse-constant-box\"><x-slider id=\"diffuse-constant-slider\" value=\"1\" min=\"0.01\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"diffuse-constant-input\" value=\"1\" min=\"0.01\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"ambient-constant-section\"><h4 id=\"ambient-constant-heading\">Ambient light</h4><x-box id=\"ambient-constant-box\"><x-slider id=\"ambient-constant-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"ambient-constant-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"#ffffff\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject276=function _templateObject276(){return data;};return data;}function _templateObject275(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#offset-section{display:flex;margin-top:14px}#offset-section x-box{width:100%}#offset-section x-box:first-child{margin-right:8px}#offset-section x-box:last-child{margin-left:8px}#offset-section x-numberinput{width:100%}#blur-radius-section{margin-top:14px}#blur-radius-section h4{margin-bottom:0}#blur-radius-section x-box{width:100%}#blur-radius-section x-slider{flex:1}#blur-radius-section x-numberinput{width:54px;margin-left:10px}#choke-section{margin-top:14px}#choke-section h4{margin-bottom:0}#choke-section x-box{width:100%}#choke-section x-slider{flex:1}#choke-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select x-popover{--align:right}"]);_templateObject275=function _templateObject275(){return data;};return data;}function _templateObject274(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"offset-section\"><x-box id=\"offset-x-box\" vertical><h4 id=\"offset-x-heading\">Offset X</h4><x-numberinput id=\"offset-x-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"offset-y-box\" vertical><h4 id=\"offset-y-heading\">Offset Y</h4><x-numberinput id=\"offset-y-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"blur-radius-section\"><h4 id=\"blur-radius-heading\">Blur radius</h4><x-box id=\"blur-radius-box\"><x-slider id=\"blur-radius-slider\" value=\"0\" min=\"0\" max=\"40\" step=\"1\"></x-slider><x-numberinput id=\"blur-radius-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"choke-section\"><h4 id=\"choke-heading\">Choke</h4><x-box id=\"choke-box\"><x-slider id=\"choke-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"choke-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject274=function _templateObject274(){return data;};return data;}function _templateObject273(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#offset-section{display:flex;margin-top:14px}#offset-section x-box{width:100%}#offset-section x-box:first-child{margin-right:8px}#offset-section x-box:last-child{margin-left:8px}#offset-section x-numberinput{width:100%}#blur-radius-section{margin-top:14px}#blur-radius-section h4{margin-bottom:0}#blur-radius-section x-box{width:100%}#blur-radius-section x-slider{flex:1}#blur-radius-section x-numberinput{width:54px;margin-left:10px}#spread-section{margin-top:14px}#spread-section h4{margin-bottom:0}#spread-section x-box{width:100%}#spread-section x-slider{flex:1}#spread-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select x-popover{--align:right}"]);_templateObject273=function _templateObject273(){return data;};return data;}function _templateObject272(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"offset-section\"><x-box id=\"offset-x-box\" vertical><h4 id=\"offset-x-heading\">Offset X</h4><x-numberinput id=\"offset-x-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"offset-y-box\" vertical><h4 id=\"offset-y-heading\">Offset Y</h4><x-numberinput id=\"offset-y-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"blur-radius-section\"><h4 id=\"blur-radius-heading\">Blur radius</h4><x-box id=\"blur-radius-box\"><x-slider id=\"blur-radius-slider\" value=\"0\" min=\"0\" max=\"20\" step=\"1\"></x-slider><x-numberinput id=\"blur-radius-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"spread-section\"><h4 id=\"spread-heading\">Spread</h4><x-box id=\"spread-box\"><x-slider id=\"spread-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"spread-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject272=function _templateObject272(){return data;};return data;}function _templateObject271(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host(:focus){outline:0}#expand-button{width:100%;padding:0 10px;justify-content:start}#expand-button>x-box{flex:1}#expand-button-thumbnail{width:27px;height:27px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#expand-button-thumbnail[hidden]{display:none}:host([mixed]) #expand-button-thumbnail{opacity:.7}#expand-button-thumbnail-img{display:block;width:100%;height:100%;pointer-events:none}#expand-button-label{text-align:start;margin-left:7px}:host([mixed]) #expand-button-label{opacity:.7}#popover{flex-flow:column;width:240px;min-height:79px}#popover[open]{display:flex}#popover>#main{display:flex;flex-flow:column;padding:0;box-sizing:border-box}#items{flex:1;width:100%;box-sizing:border-box;overflow:auto}#items .placeholder{padding:9px 10px;opacity:.6;box-sizing:border-box;font-size:12px}#items h4{margin:0;padding:5px;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;text-transform:uppercase;font-size:11px;line-height:1}#items .item{width:100%;height:38px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#items .item[data-selected]{background:var(--accent-color)}#items .item .thumbnail{width:28px;height:28px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#items .item .thumbnail img{display:block;width:100%;height:100%;pointer-events:none}#items .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#items .item[data-selected] .label{color:#fff}#footer{display:flex;justify-content:flex-end;min-height:fit-content;padding:4px;border-top-width:1px;border-top-style:solid}#footer #manage-button{flex:1}#footer #manage-button x-icon{width:14px;height:14px}#footer #developer-mode-button{margin-left:4px}#footer #developer-mode-button x-icon{width:11px;height:11px}#custom-filters-mirror,#preset-filters-mirror{width:0;height:0;display:block}"]);_templateObject271=function _templateObject271(){return data;};return data;}function _templateObject270(){var data=_taggedTemplateLiteral(["<template><x-button id=\"expand-button\" size=\"larger\" disabled=\"disabled\"><x-box><div id=\"expand-button-thumbnail\" part=\"thumbnail\"><img id=\"expand-button-thumbnail-img\" src=\"","\"></div><x-label id=\"expand-button-label\">None</x-label></x-box><x-popover id=\"popover\" modal><main id=\"main\"><div id=\"items\"><div id=\"none-item\" class=\"item\" data-value=\"none\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">None</div></div><div id=\"preset-items-container\"><h4 id=\"preset-items-heading\" part=\"heading\">Preset filters</h4><div id=\"preset-items\"><div class=\"item\" data-value=\"drop-shadow\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"inner-shadow\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"point-light\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"spot-light\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"outline\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><hr><div class=\"item\" data-value=\"gaussian-blur\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"motion-blur\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"warp\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"pixelete\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"morphology\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><hr><div class=\"item\" data-value=\"black-and-white\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"grayscale\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"sepia\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"saturate\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"hue-rotate\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"invert\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"brightness\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"contrast\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"posterize\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"duotone\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"x-ray\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div></div></div><div id=\"custom-items-container\"><h4 id=\"custom-items-heading\" part=\"heading\">Custom filters</h4><div id=\"custom-items\"></div><div id=\"custom-items-placeholder\" class=\"placeholder\" hidden>No filters found.</div></div></div></main><footer id=\"footer\" part=\"footer\"><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button><x-button id=\"developer-mode-button\" title=\"Show IDs\" condensed title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button></footer></x-popover></x-button><svg id=\"custom-filters-mirror\"></svg> <svg id=\"preset-filters-mirror\"></svg></template>"]);_templateObject270=function _templateObject270(){return data;};return data;}function _templateObject269(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}#paint-section{padding:0 20px 20px 20px}#opacity-section{padding:15px 20px 20px 20px}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}#width-section{padding:15px 20px 17px 20px}#width-slider{flex:1}#width-input{margin-left:6px;width:54px}#non-scaling-stroke-checkbox{margin-top:5px}#line-section{padding:15px 20px 17px 20px}#line-cap-join-subsection{display:flex}#line-join-box{margin-left:38px}#miter-limit-subsection{margin-top:24px}#miter-limit-box h4{margin-bottom:2px}#miter-limit-box{width:100%}#miter-limit-slider{flex:1}#miter-limit-input{margin-left:6px;width:54px}#dash-section{padding:15px 20px 20px 20px}#dash-array-select{width:100%;margin-bottom:10px}#dash-array-inputs{width:100%}#dash-array-inputs>x-box{width:40px;margin-left:-1px;flex:1}#dash-array-inputs>x-box:first-child{margin-left:0}#dash-array-inputs x-numberinput{width:100%;text-align:center;--inner-padding:0 3px}#dash-array-inputs x-label{align-self:center;margin-right:4px;font-weight:900;opacity:.9}#dash-array-inputs x-label[disabled]{opacity:.4}#dash-array-inputs x-label.gap{opacity:.2}#dash-array-inputs x-label.gap[disabled]{opacity:.1}#dash-offset-box{margin-top:16px}#dash-offset-box h4{margin-bottom:2px}#dash-offset-inner-box{width:100%}#dash-offset-slider{flex:1}#dash-offset-input{margin-left:6px;width:54px}#marker-section{padding:15px 20px 20px 20px}#markers-box{justify-content:space-between}#markers-box>x-box{width:calc(33% - 4px)}"]);_templateObject269=function _templateObject269(){return data;};return data;}function _templateObject268(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Stroke</h2><section id=\"paint-section\"><bx-paintinspector id=\"stroke-paint-inspector\" context=\"stroke\"></bx-paintinspector></section><hr><section id=\"opacity-section\"><h3 id=\"opacity-section-heading\">Opacity</h3><x-box><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><hr><section id=\"width-section\"><h3 id=\"width-section-heading\">Width</h3><x-box id=\"width-box\"><x-slider id=\"width-slider\" value=\"1\" min=\"0\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"width-input\" value=\"1\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-checkbox id=\"non-scaling-stroke-checkbox\"><x-label>Non-scaling stroke</x-label></x-checkbox></section><hr><section id=\"line-section\"><h3 id=\"line-section-heading\">Line</h3><section id=\"line-cap-join-subsection\"><x-box id=\"line-cap-box\" vertical><h4 id=\"line-cap-box-heading\">Cap</h4><x-buttons id=\"line-cap-buttons\" class=\"buttons\" tracking=\"1\"><x-button id=\"butt-line-cap-button\" value=\"butt\" title=\"Butt cap\" skin=\"flat\"><x-icon name=\"cap-butt\"></x-icon></x-button><x-button id=\"round-line-cap-button\" value=\"round\" title=\"Round cap\" skin=\"flat\"><x-icon name=\"cap-round\"></x-icon></x-button><x-button id=\"square-line-cap-button\" value=\"square\" title=\"Square cap\" skin=\"flat\"><x-icon name=\"cap-square\"></x-icon></x-button></x-buttons></x-box><x-box id=\"line-join-box\" vertical><h4 id=\"line-join-box-heading\">Join</h4><x-buttons id=\"line-join-buttons\" class=\"buttons\" tracking=\"1\"><x-button id=\"miter-line-join-button\" value=\"miter\" title=\"Miter join\" skin=\"flat\"><x-icon name=\"join-miter\"></x-icon></x-button><x-button id=\"round-line-join-button\" value=\"round\" title=\"Round join\" skin=\"flat\"><x-icon name=\"join-round\"></x-icon></x-button><x-button id=\"bevel-line-join-button\" value=\"bevel\" title=\"Bevel join\" skin=\"flat\"><x-icon name=\"join-bevel\"></x-icon></x-button></x-buttons></x-box></section><section id=\"miter-limit-subsection\"><h4 id=\"miter-limit-heading\">Miter limit</h4><x-box id=\"miter-limit-box\"><x-slider id=\"miter-limit-slider\" value=\"1\" min=\"1\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"miter-limit-input\" value=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"dash-section\"><h3 id=\"dash-section-heading\">Dash</h3><x-box id=\"dash-array-box\" vertical><h4 id=\"dash-array-box-heading\">Array</h4><x-select id=\"dash-array-select\"><x-menu>","</x-menu></x-select><x-box id=\"dash-array-inputs\"><x-box vertical><x-numberinput id=\"dash-1-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label>\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-2-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label class=\"gap\">\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-3-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label>\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-4-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label class=\"gap\">\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-5-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label>\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-6-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label class=\"gap\">\u2014</x-label></x-box></x-box></x-box><x-box id=\"dash-offset-box\" vertical><h4 id=\"dash-offset-heading\">Offset</h4><x-box id=\"dash-offset-inner-box\"><x-slider id=\"dash-offset-slider\" value=\"0\" min=\"-50\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"dash-offset-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><hr><section id=\"marker-section\"><h3 id=\"marker-section-heading\">Marker</h3><x-box id=\"markers-box\"><x-box vertical><h4 id=\"marker-start-heading\">Start</h4><bx-markerselect id=\"marker-start-select\" class=\"marker-select\" data-position=\"start\"></bx-markerselect></x-box><x-box vertical><h4 id=\"marker-mid-heading\">Mid</h4><bx-markerselect id=\"marker-mid-select\" class=\"marker-select\" data-position=\"mid\"></bx-markerselect></x-box><x-box vertical><h4 id=\"marker-end-heading\">End</h4><bx-markerselect id=\"marker-end-select\" class=\"marker-select\" data-position=\"end\"></bx-markerselect></x-box></x-box></section></template>"]);_templateObject268=function _templateObject268(){return data;};return data;}function _templateObject267(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;pointer-events:none;opacity:.5}:host([enabled]){pointer-events:initial;opacity:1}:host([hidden]){display:none}:host(:focus){outline:0}#button{width:100%;padding:2px 8px;justify-content:start}#button-thumbnail{width:20px;height:20px;min-width:20px;margin:0 auto;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#button-thumbnail[hidden]{visibility:hidden}:host([mixed]) #button-thumbnail{opacity:.7}#button-label{text-align:start}:host([mixed]) #button-label{opacity:.7}#popover{width:200px;flex-flow:column}#popover #items{width:100%;height:100%;box-sizing:border-box;overflow:auto}#popover .item{width:100%;height:44px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#popover .item[data-selected]{background:var(--accent-color)}#popover .item .thumbnail{width:28px;height:28px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#popover .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#popover .item[data-selected] .label{color:#fff}#footer{display:flex;padding:4px;border-top-width:1px;border-top-style:solid}#footer>x-button{flex:1}#footer>x-button+x-button{margin-left:3px}#placeholder{padding:10px;opacity:.6;box-sizing:border-box;font-size:12px}"]);_templateObject267=function _templateObject267(){return data;};return data;}function _templateObject266(){var data=_taggedTemplateLiteral(["<template><x-button id=\"button\"><svg id=\"button-thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\" hidden><use id=\"button-thumbnail-use\" width=\"100%\" height=\"100%\"></use></svg><x-popover id=\"popover\" modal><div id=\"items\"></div><div id=\"placeholder\" hidden>No markers defined.</div><div id=\"footer\" part=\"footer\"><x-button id=\"clear-button\" condensed><x-label>Clear</x-label></x-button><x-button id=\"manage-button\" condensed><x-label>Manage\u2026</x-label></x-button></div></x-popover></x-button></template>"]);_templateObject266=function _templateObject266(){return data;};return data;}function _templateObject265(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}#paint-section{padding:0 20px 20px 20px}#opacity-section{padding:14px 20px 20px 20px}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}#rule-section{padding:10px 20px 20px 20px}"]);_templateObject265=function _templateObject265(){return data;};return data;}function _templateObject264(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Fill</h2><section id=\"paint-section\"><bx-paintinspector id=\"fill-paint-inspector\" context=\"fill\"></bx-paintinspector></section><hr><section id=\"opacity-section\"><h3 id=\"opacity-section-heading\">Opacity</h3><x-box><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><hr><section id=\"rule-section\"><h3 id=\"rule-section-heading\">Rule</h3><x-buttons id=\"rule-buttons\" tracking=\"1\"><x-button id=\"non-zero-rule-button\" value=\"nonzero\" title=\"Non-zero\" skin=\"flat\" toggled><x-icon name=\"fill-rule-non-zero\"></x-icon></x-button><x-button id=\"even-odd-rule-button\" value=\"evenodd\" title=\"Even-odd\" skin=\"flat\"><x-icon name=\"fill-rule-even-odd\"></x-icon></x-button></x-buttons></section></template>"]);_templateObject264=function _templateObject264(){return data;};return data;}function _templateObject263(){var data=_taggedTemplateLiteral([":host{display:block}#color-select-section{margin-top:20px}#color-unlink-button{width:100%;margin-top:14px}#color-unlink-button x-icon{width:14px;height:14px}#gradient-select-section{margin-top:20px}#gradient-unlink-button{width:100%;margin-top:14px}#gradient-unlink-button x-icon{width:14px;height:14px}#pattern-select-section{margin-top:20px}#color-section{position:relative;margin-top:20px}#color-section-heading{flex:1}#color-section-heading[hidden]{display:block;visibility:hidden}#color-picker-type-buttons x-button{min-height:0;margin-left:6px;border-radius:0}#color-picker-type-buttons x-button x-icon{width:18px;height:18px}#color-picker-type-buttons x-button[computedsize=small] x-icon{width:16px;height:16px}#color-section #color-picker{width:100%;margin-top:4px}#color-section #color-picker-hint{margin:4px 0 0 0;font-size:12px;font-weight:500;line-height:1;opacity:.8}#color-section #color-picker-hint span{text-decoration:underline}#color-section #color-picker-hint span:hover{cursor:pointer}#stop-opacity-section{margin-top:20px}#stop-opacity-section-heading{margin-bottom:0}#stop-opacity-slider{flex:1}#stop-opacity-input{margin-left:6px;width:54px}#spread-method-section{margin-top:20px}#spread-method-buttons{width:100%}#spread-method-buttons x-button{flex:1}#paint-order-section{margin-top:20px}"]);_templateObject263=function _templateObject263(){return data;};return data;}function _templateObject262(){var data=_taggedTemplateLiteral(["<template><h3 id=\"section-heading\">Paint</h3><section id=\"paint-type-section\"><h4 id=\"paint-type-heading\">Type</h4><x-buttons id=\"paint-type-buttons\" tracking=\"1\"><x-button value=\"solid\" title=\"Solid Color\" skin=\"flat\"><x-icon name=\"paint-solid\"></x-icon></x-button><x-button value=\"linear-gradient\" title=\"Linear Gradient\" skin=\"flat\"><x-icon name=\"paint-linear-gradient\"></x-icon></x-button><x-button value=\"radial-gradient\" title=\"Radial Gradient\" skin=\"flat\"><x-icon name=\"paint-radial-gradient\"></x-icon></x-button><x-button value=\"pattern\" title=\"Pattern\" skin=\"flat\"><x-icon name=\"paint-pattern\"></x-icon></x-button><x-button value=\"none\" title=\"None\" skin=\"flat\"><x-icon name=\"paint-none\"></x-icon></x-button><x-button id=\"inherit-paint-button\" value=\"inherit\" title=\"Inherit\" skin=\"flat\" hidden><x-icon name=\"paint-inherit\"></x-icon></x-button></x-buttons></section><section id=\"color-select-section\" hidden><h4>Color</h4><bx-colorselect id=\"color-select\"></bx-colorselect><x-button id=\"color-unlink-button\"><x-label>Convert to ad hoc color</x-label></x-button></section><section id=\"gradient-select-section\" hidden><h4>Gradient</h4><bx-gradientselect id=\"gradient-select\"></bx-gradientselect><x-button id=\"gradient-unlink-button\"><x-label>Convert to ad hoc gradient</x-label></x-button></section><section id=\"pattern-select-section\" hidden><h4>Pattern</h4><bx-patternselect id=\"pattern-select\"></bx-patternselect></section><section id=\"color-section\" hidden><x-box><h4 id=\"color-section-heading\">Color</h4><x-buttons id=\"color-picker-type-buttons\" tracking=\"1\"><x-button value=\"rect\" skin=\"flat\" size=\"smaller\" toggled><x-icon name=\"color-picker-rect\"></x-icon></x-button><x-button value=\"wheel\" skin=\"flat\" size=\"smaller\"><x-icon name=\"color-picker-wheel\"></x-icon></x-button><x-button value=\"bars\" skin=\"flat\" size=\"smaller\"><x-icon name=\"color-picker-bars\"></x-icon></x-button></x-buttons></x-box><bx-colorpicker id=\"color-picker\" alphaslider formatselect></bx-colorpicker><p id=\"color-picker-hint\">Select stop to recolor with <span id=\"edit-tool-span\">Edit Tool</span>.</p></section><section id=\"stop-opacity-section\" hidden><h4 id=\"stop-opacity-section-heading\">Stop opacity</h4><x-box><x-slider id=\"stop-opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"stop-opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"spread-method-section\" hidden><h4>Spread</h4><x-buttons id=\"spread-method-buttons\" tracking=\"1\"><x-button id=\"pad-spread-method-button\" value=\"pad\"><x-label>Pad</x-label></x-button><x-button id=\"repeat-spread-method-button\" value=\"repeat\"><x-label>Repeat</x-label></x-button><x-button id=\"reflect-spread-method-button\" value=\"reflect\"><x-label>Reflect</x-label></x-button></x-buttons></section><section id=\"paint-order-section\" hidden><h4 id=\"paint-order-heading\">Order</h4><bx-paintorderswitch id=\"paint-order-switch\" context=\"fill\"></bx-paintorderswitch></section></template>"]);_templateObject262=function _templateObject262(){return data;};return data;}function _templateObject261(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box;width:100%;height:32px;padding:1px;border-width:1px;border-style:solid;touch-action:pan-y}:host(:focus){outline:0}:host([computedsize=large]){height:38px}#thumbs{width:100%;height:100%;position:relative}.thumb{width:33.333%;height:100%;padding:0 10px;position:absolute;display:flex;flex:1;justify-content:center;align-items:center;box-sizing:border-box;z-index:0;color:#fff;font-size:11px}#thumbs[data-animate] .thumb{transition:left .2s ease-in-out,background .2s ease-in-out}.thumb[data-socket=\"1\"]{left:0}.thumb[data-socket=\"2\"]{left:33.333%}.thumb[data-socket=\"3\"]{left:66.666%}.thumb[data-dragged]{z-index:1}.thumb[data-toggled]{font-weight:700}"]);_templateObject261=function _templateObject261(){return data;};return data;}function _templateObject260(){var data=_taggedTemplateLiteral(["<template><x-box id=\"thumbs\"><div id=\"fill-thumb\" class=\"thumb\" part=\"thumb\" data-value=\"fill\" data-socket=\"1\">Fill</div><div id=\"stroke-thumb\" class=\"thumb\" part=\"thumb\" data-value=\"stroke\" data-socket=\"2\">Stroke</div><div id=\"markers-thumb\" class=\"thumb\" part=\"thumb\" data-value=\"markers\" data-socket=\"3\">Markers</div></x-box></template>"]);_templateObject260=function _templateObject260(){return data;};return data;}function _templateObject259(){var data=_taggedTemplateLiteral([":host{display:block;width:250px;box-sizing:border-box}:host([hidden]){display:none}#main{width:100%;height:100%}#main>*{width:100%}#wheel-picker{--wheel-max-width:234px}#format-select{margin-left:4px;min-width:73px;display:none}:host([formatselect]) #format-select{display:block}x-box{margin-top:15px}#input{max-width:none;flex:1}#grab-button{margin:0 0 0 5px}#grab-button[computedsize=large]{min-width:38px}#grab-button x-icon{width:14px;height:14px}#grab-button[computedsize=large] x-icon{width:16px;height:16px}"]);_templateObject259=function _templateObject259(){return data;};return data;}function _templateObject258(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"pickers\"><x-rectcolorpicker id=\"rect-picker\"></x-rectcolorpicker><x-wheelcolorpicker id=\"wheel-picker\" hidden></x-wheelcolorpicker><x-barscolorpicker id=\"bars-picker\" hidden></x-barscolorpicker></div><x-box><x-input id=\"input\" type=\"color\"></x-input><x-select id=\"format-select\" condensed><x-menu><x-menuitem value=\"hex\" toggled><x-label>Hex</x-label></x-menuitem><x-menuitem value=\"rgb\"><x-label>RGB</x-label></x-menuitem><x-menuitem value=\"rgba\"><x-label>RGBA</x-label></x-menuitem><x-menuitem value=\"hsl\"><x-label>HSL</x-label></x-menuitem><x-menuitem value=\"hsla\"><x-label>HSLA</x-label></x-menuitem></x-menu></x-select><x-button id=\"grab-button\" condensed togglable><x-icon name=\"grab-color\"></x-icon></x-button></x-box></main></template>"]);_templateObject258=function _templateObject258(){return data;};return data;}function _templateObject257(){var data=_taggedTemplateLiteral([":host{display:block;margin:0 0 15px 0;width:100%}:host(:focus){outline:0}#button{width:100%;padding:0 10px;justify-content:start}#button>x-box{flex:1}#button-thumbnail{width:26px;height:26px;margin-right:7px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#button-thumbnail[hidden]{display:none}:host([mixed]) #button-thumbnail{opacity:.7}#button-label{text-align:start}:host([mixed]) #button-label{opacity:.7}#popover{width:240px;min-height:79px}#popover>main{display:flex;flex-flow:column;padding:0;position:relative}#popover #items{flex:1;width:100%;box-sizing:border-box;overflow:auto}#popover .item{width:100%;height:44px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#popover .item[data-selected]{background:var(--accent-color)}#popover .item .thumbnail{width:28px;height:28px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#popover .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#popover .item[data-selected] .label{color:#fff}#footer{display:flex;justify-content:flex-end;padding:4px;border-top-width:1px;border-top-style:solid}#footer #manage-button{flex:1;margin-right:4px;padding:2px 13px}#footer #manage-button x-icon{width:14px;height:14px}#footer #developer-mode-button{padding:2px 8px}#footer #developer-mode-button x-icon{width:11px;height:11px}#mirror{width:0;height:0;display:block}"]);_templateObject257=function _templateObject257(){return data;};return data;}function _templateObject256(){var data=_taggedTemplateLiteral(["<template><x-button id=\"button\" size=\"larger\"><x-box><svg id=\"button-thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 50 50\" hidden><rect width=\"50\" height=\"50\"></rect></svg><x-label id=\"button-label\"></x-label></x-box><x-popover id=\"popover\" modal><main><div id=\"items\"></div><div id=\"footer\" part=\"footer\"><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button><x-button id=\"developer-mode-button\" title=\"Show IDs\" title=\"Show IDs\" condensed togglable><x-icon name=\"hash\"></x-icon></x-button></div></main></x-popover></x-button><svg id=\"mirror\"></svg></template>"]);_templateObject256=function _templateObject256(){return data;};return data;}function _templateObject255(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host(:focus){outline:0}#button{width:100%;padding:0 10px;justify-content:start}#button>x-box{flex:1}#button-thumbnail{width:46px;height:22px;margin-right:7px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#button-thumbnail[hidden]{display:none}:host([mixed]) #button-thumbnail{opacity:.7}#button-thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}#button-label{text-align:start}:host([mixed]) #button-label{opacity:.7}#popover{width:240px;min-height:79px}#popover>main{display:flex;flex-flow:column;padding:0;position:relative}#placeholder{position:absolute;top:10px;padding:0 10px;opacity:.6;box-sizing:border-box;font-size:12px}#popover #items{flex:1;width:100%;box-sizing:border-box;overflow:auto}#popover .item{width:100%;height:38px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#popover .item[data-selected]{background:var(--accent-color)}#popover .item .thumbnail{width:55px;height:24px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#popover .item .thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}#popover .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#popover .item[data-selected] .label{color:#fff}#footer{display:flex;justify-content:flex-end;padding:4px;border-top-width:1px;border-top-style:solid}#footer #manage-button{flex:1;margin-right:4px;padding:2px 13px}#footer #manage-button x-icon{width:14px;height:14px}#footer #developer-mode-button{padding:2px 8px}#footer #developer-mode-button x-icon{width:11px;height:11px}"]);_templateObject255=function _templateObject255(){return data;};return data;}function _templateObject254(){var data=_taggedTemplateLiteral(["<template><x-button id=\"button\" size=\"larger\"><x-box><div id=\"button-thumbnail\" part=\"thumbnail\"><div id=\"button-thumbnail-inner\"></div></div><x-label id=\"button-label\"></x-label></x-box><x-popover id=\"popover\" modal><main><div id=\"placeholder\" hidden>No gradients found.</div><div id=\"items\"></div><div id=\"footer\" part=\"footer\"><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button><x-button id=\"developer-mode-button\" title=\"Show IDs\" title=\"Show IDs\" condensed togglable><x-icon name=\"hash\"></x-icon></x-button></div></main></x-popover></x-button></template>"]);_templateObject254=function _templateObject254(){return data;};return data;}function _templateObject253(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host(:focus){outline:0}#button{width:100%;padding:0 10px;justify-content:start}#button>x-box{flex:1}#button-thumbnail{width:46px;height:22px;margin-right:7px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#button-thumbnail[hidden]{display:none}:host([mixed]) #button-thumbnail{opacity:.7}#button-thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}#button-label{text-align:start}:host([mixed]) #button-label{opacity:.7}#popover{width:240px;min-height:79px}#popover>main{display:flex;flex-flow:column;padding:0;position:relative}#placeholder{position:absolute;top:10px;padding:0 10px;opacity:.6;box-sizing:border-box;font-size:12px}#popover #items{flex:1;width:100%;box-sizing:border-box;overflow:auto}#popover .item{width:100%;height:38px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#popover .item[data-selected]{background:var(--accent-color)}#popover .item .thumbnail{width:55px;height:24px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#popover .item .thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}#popover .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#popover .item[data-selected] .label{color:#fff}#footer{display:flex;justify-content:flex-end;padding:4px;border-top-width:1px;border-top-style:solid}#footer #manage-button{flex:1;margin-right:4px;padding:2px 13px}#footer #manage-button x-icon{width:14px;height:14px}#footer #developer-mode-button{padding:2px 8px}#footer #developer-mode-button x-icon{width:11px;height:11px}"]);_templateObject253=function _templateObject253(){return data;};return data;}function _templateObject252(){var data=_taggedTemplateLiteral(["<template><x-button id=\"button\" size=\"larger\"><x-box><div id=\"button-thumbnail\" part=\"thumbnail\"><div id=\"button-thumbnail-inner\"></div></div><x-label id=\"button-label\"></x-label></x-box><x-popover id=\"popover\" modal><main><div id=\"placeholder\" hidden>No colors found.</div><div id=\"items\"></div><div id=\"footer\" part=\"footer\"><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button><x-button id=\"developer-mode-button\" title=\"Show IDs\" title=\"Show IDs\" condensed togglable><x-icon name=\"hash\"></x-icon></x-button></div></main></x-popover></x-button></template>"]);_templateObject252=function _templateObject252(){return data;};return data;}function _templateObject251(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;position:absolute;width:calc(100% - 76px);height:250px;bottom:-1px;left:38px;transition:transform .2s cubic-bezier(.4,0,.2,1);transform:translateY(100%);will-change:transform}:host([value]){transform:translateY(0)}::slotted(:not([enabled])){display:none}#main{width:100%;height:100%;display:flex;justify-content:center}#buttons{position:absolute;top:-21px;height:20px;z-index:1}#buttons x-button{padding:0 12px;min-height:23px;border-bottom-left-radius:0;border-bottom-right-radius:0}#panels{width:100%;height:100%;box-sizing:border-box}#resize-grippie{display:none;position:absolute;width:100%;height:14px;background:0 0;top:-13px;left:0;cursor:row-resize;touch-action:none}:host([value]) #resize-grippie{display:block}"]);_templateObject251=function _templateObject251(){return data;};return data;}function _templateObject250(){var data=_taggedTemplateLiteral(["<template><div id=\"main\"><div id=\"resize-grippie\"></div><x-buttons id=\"buttons\" tracking=\"0\"></x-buttons><div id=\"panels\"><slot></slot></div></div></template>"]);_templateObject250=function _templateObject250(){return data;};return data;}function _templateObject249(){var data=_taggedTemplateLiteral([":host{position:relative;display:flex;box-sizing:border-box;z-index:1;will-change:transform}::slotted(:not([enabled])){display:none}#buttons{position:relative;width:fit-content;margin-top:-1px;display:flex;align-items:flex-start;justify-content:flex-start;box-sizing:border-box;background:inherit;overflow:auto}#buttons::before{content:\"\";position:absolute;bottom:0;left:0;width:1px;height:100%;background:var(--border-color);display:block}#buttons::-webkit-scrollbar{display:none}#main{position:absolute;top:0;height:100%;transform:translateX(9999px);transition:transform .2s cubic-bezier(.4,0,.2,1);background:inherit;border-left:1px solid var(--border-color);z-index:-1;will-change:transform}:host([value]) #main{transform:translateX(0)!important;z-index:2}:host([animating]) #main{contain:strict;z-index:-1}#panels{height:100%}#resize-grippie{display:none;position:absolute;width:10px;height:100%;background:0 0;top:0;left:-5px;cursor:col-resize;z-index:2;touch-action:pan-y}:host([value]) #resize-grippie{display:block}"]);_templateObject249=function _templateObject249(){return data;};return data;}function _templateObject248(){var data=_taggedTemplateLiteral(["<template><x-buttons id=\"buttons\" part=\"buttons\" tracking=\"0\" vertical></x-buttons><div id=\"main\"><div id=\"resize-grippie\"></div><div id=\"panels\"><slot></slot></div></div><bx-tooltip id=\"tooltip\" hidden></bx-tooltip></template>"]);_templateObject248=function _templateObject248(){return data;};return data;}function _templateObject247(){var data=_taggedTemplateLiteral([":host{display:flex;box-sizing:border-box}#buttons{position:relative;margin-top:-1px;display:flex;align-items:flex-start;justify-content:flex-start;box-sizing:border-box;background:inherit;overflow:auto}#buttons::before{content:\"\";position:absolute;bottom:0;right:0;width:1px;height:100%;background:var(--border-color);display:block}#buttons::-webkit-scrollbar{display:none}#buttons #cog-tool-button>x-icon{width:19px;height:19px}x-popover{--align:right}:host-context(bx-macapp) #transform-tool-popover{margin-top:-4px}"]);_templateObject247=function _templateObject247(){return data;};return data;}function _templateObject246(){var data=_taggedTemplateLiteral(["<template><x-buttons id=\"buttons\" part=\"buttons\" tracking=\"1\" vertical><x-button id=\"transform-tool-button\" skin=\"dock\" value=\"transform-tool\" data-tooltip=\"Transform\" toggled><x-icon name=\"transform-tool\"></x-icon></x-button><x-button id=\"edit-tool-button\" skin=\"dock\" value=\"edit-tool\" data-tooltip=\"Edit\"><x-icon name=\"edit-tool\"></x-icon></x-button><x-button id=\"pan-tool-button\" skin=\"dock\" value=\"pan-tool\" data-tooltip=\"Pan\"><x-icon name=\"pan-tool\"></x-icon></x-button><x-button id=\"quad-bezier-tool-button\" skin=\"dock\" value=\"quad-bezier-tool\" data-tooltip=\"Quad Bezier\"><x-icon name=\"quad-bezier-tool\"></x-icon></x-button><x-button id=\"cubic-bezier-tool-button\" skin=\"dock\" value=\"cubic-bezier-tool\" data-tooltip=\"Cubic Bezier\"><x-icon name=\"cubic-bezier-tool\"></x-icon></x-button><x-button id=\"arc-tool-button\" skin=\"dock\" value=\"arc-tool\" data-tooltip=\"Arc\"><x-icon name=\"arc-tool\"></x-icon></x-button><x-button id=\"freehand-tool-button\" skin=\"dock\" value=\"freehand-tool\" data-tooltip=\"Freehand\"><x-icon name=\"freehand-tool\"></x-icon></x-button><x-button id=\"blob-tool-button\" skin=\"dock\" value=\"blob-tool\" data-tooltip=\"Blob\"><x-icon name=\"blob-tool\"></x-icon></x-button><x-button id=\"text-tool-button\" skin=\"dock\" value=\"text-tool\" data-tooltip=\"Text\"><x-icon name=\"text-tool\"></x-icon></x-button><x-button id=\"text-path-tool-button\" skin=\"dock\" value=\"text-path-tool\" data-tooltip=\"Text path\"><x-icon name=\"text-path-tool\"></x-icon></x-button><x-button id=\"view-tool-button\" skin=\"dock\" value=\"view-tool\" data-tooltip=\"View\"><x-icon name=\"view-tool\"></x-icon></x-button><x-button id=\"rect-tool-button\" skin=\"dock\" value=\"rect-tool\" data-tooltip=\"Rectangle\"><x-icon name=\"rect-tool\"></x-icon></x-button><x-button id=\"circle-tool-button\" skin=\"dock\" value=\"circle-tool\" data-tooltip=\"Circle\"><x-icon name=\"circle-tool\"></x-icon></x-button><x-button id=\"ellipse-tool-button\" skin=\"dock\" value=\"ellipse-tool\" data-tooltip=\"Ellipse\"><x-icon name=\"ellipse-tool\"></x-icon></x-button><x-button id=\"ring-tool-button\" skin=\"dock\" value=\"ring-tool\" data-tooltip=\"Ring\"><x-icon name=\"ring-tool\"></x-icon></x-button><x-button id=\"pie-tool-button\" skin=\"dock\" value=\"pie-tool\" data-tooltip=\"Pie\"><x-icon name=\"pie-tool\"></x-icon></x-button><x-button id=\"crescent-tool-button\" skin=\"dock\" value=\"crescent-tool\" data-tooltip=\"Crescent\"><x-icon name=\"crescent-tool\"></x-icon></x-button><x-button id=\"triangle-tool-button\" skin=\"dock\" value=\"triangle-tool\" data-tooltip=\"Triangle\"><x-icon name=\"triangle-tool\"></x-icon></x-button><x-button id=\"n-gon-tool-button\" skin=\"dock\" value=\"n-gon-tool\" data-tooltip=\"N-gon\"><x-icon name=\"n-gon-tool\"></x-icon></x-button><x-button id=\"star-tool-button\" skin=\"dock\" value=\"star-tool\" data-tooltip=\"Star\"><x-icon name=\"star-tool\"></x-icon></x-button><x-button id=\"cog-tool-button\" skin=\"dock\" value=\"cog-tool\" data-tooltip=\"Cog\"><x-icon name=\"cog-tool\"></x-icon></x-button><x-button id=\"arrow-tool-button\" skin=\"dock\" value=\"arrow-tool\" data-tooltip=\"Arrow\"><x-icon name=\"arrow-tool\"></x-icon></x-button><x-button id=\"cross-tool-button\" skin=\"dock\" value=\"cross-tool\" data-tooltip=\"Cross\"><x-icon name=\"cross-tool\"></x-icon></x-button><x-button id=\"spiral-tool-button\" skin=\"dock\" value=\"spiral-tool\" data-tooltip=\"Spiral\"><x-icon name=\"spiral-tool\"></x-icon></x-button><x-button id=\"line-tool-button\" skin=\"dock\" value=\"line-tool\" data-tooltip=\"Line\"><x-icon name=\"line-tool\"></x-icon></x-button><x-button id=\"polyline-tool-button\" skin=\"dock\" value=\"polyline-tool\" data-tooltip=\"Polyline\"><x-icon name=\"polyline-tool\"></x-icon></x-button><x-button id=\"polygon-tool-button\" skin=\"dock\" value=\"polygon-tool\" data-tooltip=\"Polygon\"><x-icon name=\"polygon-tool\"></x-icon></x-button></x-buttons><div id=\"popovers\"><x-popover id=\"transform-tool-popover\"><bx-transformsettings></bx-transformsettings></x-popover><x-popover id=\"edit-tool-popover\"><bx-editsettings></bx-editsettings></x-popover><x-popover id=\"quad-bezier-tool-popover\"><bx-quadbeziersettings></bx-quadbeziersettings></x-popover><x-popover id=\"cubic-bezier-tool-popover\"><bx-cubicbeziersettings></bx-cubicbeziersettings></x-popover><x-popover id=\"arc-tool-popover\"><bx-arcsettings></bx-arcsettings></x-popover><x-popover id=\"freehand-tool-popover\"><bx-freehandsettings></bx-freehandsettings></x-popover><x-popover id=\"blob-tool-popover\"><bx-blobsettings></bx-blobsettings></x-popover><x-popover id=\"text-tool-popover\"><bx-textsettings></bx-textsettings></x-popover><x-popover id=\"text-path-tool-popover\"><bx-textpathsettings></bx-textpathsettings></x-popover><x-popover id=\"view-tool-popover\"><bx-viewsettings></bx-viewsettings></x-popover><x-popover id=\"rect-tool-popover\"><bx-rectsettings></bx-rectsettings></x-popover><x-popover id=\"circle-tool-popover\"><bx-circlesettings></bx-circlesettings></x-popover><x-popover id=\"ellipse-tool-popover\"><bx-ellipsesettings></bx-ellipsesettings></x-popover><x-popover id=\"ring-tool-popover\"><bx-ringsettings></bx-ringsettings></x-popover><x-popover id=\"pie-tool-popover\"><bx-piesettings></bx-piesettings></x-popover><x-popover id=\"crescent-tool-popover\"><bx-crescentsettings></bx-crescentsettings></x-popover><x-popover id=\"triangle-tool-popover\"><bx-trianglesettings></bx-trianglesettings></x-popover><x-popover id=\"n-gon-tool-popover\"><bx-ngonsettings></bx-ngonsettings></x-popover><x-popover id=\"star-tool-popover\"><bx-starsettings></bx-starsettings></x-popover><x-popover id=\"cog-tool-popover\"><bx-cogsettings></bx-cogsettings></x-popover><x-popover id=\"arrow-tool-popover\"><bx-arrowsettings></bx-arrowsettings></x-popover><x-popover id=\"cross-tool-popover\"><bx-crosssettings></bx-crosssettings></x-popover><x-popover id=\"spiral-tool-popover\"><bx-spiralsettings></bx-spiralsettings></x-popover><x-popover id=\"line-tool-popover\"><bx-linesettings></bx-linesettings></x-popover><x-popover id=\"polyline-tool-popover\"><bx-polylinesettings></bx-polylinesettings></x-popover><x-popover id=\"polygon-tool-popover\"><bx-polygonsettings></bx-polygonsettings></x-popover></div><bx-tooltip id=\"tooltip\" hidden></bx-tooltip></template>"]);_templateObject246=function _templateObject246(){return data;};return data;}function _templateObject245(){var data=_taggedTemplateLiteral(["<template><h2>Polygon</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject245=function _templateObject245(){return data;};return data;}function _templateObject244(){var data=_taggedTemplateLiteral(["<template><h2>Polyline</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject244=function _templateObject244(){return data;};return data;}function _templateObject243(){var data=_taggedTemplateLiteral(["<template><h2>Line</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject243=function _templateObject243(){return data;};return data;}function _templateObject242(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#r1-subsection{margin-top:6px}#r1-subsection h4{margin-bottom:0}#r1-subsection x-box{width:100%}#r1-subsection x-numberinput{width:100px;margin-left:10px}#angle-subsection{display:flex;justify-content:space-between;margin-top:14px}#angle-subsection x-box{width:calc(50% - 5px)}#angle-subsection x-numberinput{width:100%}"]);_templateObject242=function _templateObject242(){return data;};return data;}function _templateObject241(){var data=_taggedTemplateLiteral(["<template><h2>Spiral</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"start-angle-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"end-angle-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r1-subsection\"><h4>Inner radius</h4><x-box id=\"r1-box\"><x-slider id=\"r1-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r1-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"angle-subsection\"><x-box id=\"start-angle-box\" vertical><h4 id=\"start-angle-heading\">Start angle</h4><x-numberinput id=\"start-angle-input\" value=\"0\" min=\"0\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"end-angle-box\" vertical><h4 id=\"end-angle-heading\">End angle</h4><x-numberinput id=\"end-angle-input\" value=\"0\" min=\"0\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"outline-shape\"></bx-stylepicker></section></template>"]);_templateObject241=function _templateObject241(){return data;};return data;}function _templateObject240(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#thickness-subsection{margin-top:6px}#thickness-subsection h4{margin-bottom:0}#thickness-box{width:100%}#thickness-input{margin-left:10px;width:100px}#shift-subsection{margin-top:14px}#shift-subsection h4{margin-bottom:0}#shift-box{width:100%}#shift-input{margin-left:10px;width:100px}"]);_templateObject240=function _templateObject240(){return data;};return data;}function _templateObject239(){var data=_taggedTemplateLiteral(["<template><h2>Cross</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"shift-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"thickness-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"thickness-subsection\"><h4>Arm thickness</h4><x-box id=\"thickness-box\"><x-slider id=\"thickness-slider\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"thickness-input\" min=\"1\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"shift-subsection\"><h4>Shift</h4><x-box id=\"shift-box\"><x-slider id=\"shift-slider\" min=\"-100\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"shift-input\" min=\"-100\" max=\"100\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject239=function _templateObject239(){return data;};return data;}function _templateObject238(){var data=_taggedTemplateLiteral(["#base-thickness-subsection{margin-top:6px}#base-thickness-subsection h4{margin-bottom:0}#base-thickness-box{width:100%}#base-thickness-input{margin-left:10px;width:100px}#head-thickness-subsection{margin-top:14px}#head-thickness-subsection h4{margin-bottom:0}#head-thickness-box{width:100%}#head-thickness-input{margin-left:10px;width:100px}#head-length-subsection{margin-top:14px}#head-length-subsection h4{margin-bottom:0}#head-length-box{width:100%}#head-length-input{margin-left:10px;width:100px}#head-inset-subsection{margin-top:14px}#head-inset-subsection h4{margin-bottom:0}#head-inset-box{width:100%}#head-inset-input{margin-left:10px;width:100px}"]);_templateObject238=function _templateObject238(){return data;};return data;}function _templateObject237(){var data=_taggedTemplateLiteral(["<template><h2>Arrow</h2><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"base-thickness-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"head-size-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"head-inset-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"base-thickness-subsection\"><h4>Base thickness</h4><x-box id=\"base-thickness-box\"><x-slider id=\"base-thickness-slider\" min=\"1\" max=\"60\" step=\"1\"></x-slider><x-numberinput id=\"base-thickness-input\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-thickness-subsection\"><h4>Head thickness</h4><x-box id=\"head-thickness-box\"><x-slider id=\"head-thickness-slider\" min=\"1\" max=\"60\" step=\"1\"></x-slider><x-numberinput id=\"head-thickness-input\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-length-subsection\"><h4>Head length</h4><x-box id=\"head-length-box\"><x-slider id=\"head-length-slider\" min=\"1\" max=\"136\" step=\"1\"></x-slider><x-numberinput id=\"head-length-input\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-inset-subsection\"><h4>Head inset</h4><x-box id=\"head-inset-box\"><x-slider id=\"head-inset-slider\" min=\"0\" max=\"136\" step=\"1\"></x-slider><x-numberinput id=\"head-inset-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject237=function _templateObject237(){return data;};return data;}function _templateObject236(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#r1-subsection{margin-top:6px}#r2-subsection,#r3-subsection,#splay-subsection,#teeth-subsection{margin-top:14px}#r1-subsection h4,#r2-subsection h4,#r3-subsection h4,#splay-subsection h4,#teeth-subsection h4{margin-bottom:0}#r1-subsection x-box,#r2-subsection x-box,#r3-subsection x-box,#splay-subsection x-box,#teeth-subsection x-box{width:100%}#r1-subsection x-numberinput,#r2-subsection x-numberinput,#r3-subsection x-numberinput,#splay-subsection x-numberinput,#teeth-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject236=function _templateObject236(){return data;};return data;}function _templateObject235(){var data=_taggedTemplateLiteral(["<template><h2>Cog</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"splay-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"r1-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"r2-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"r3-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r1-subsection\"><h4>Radius 1</h4><x-box id=\"r1-box\"><x-slider id=\"r1-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r1-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"r2-subsection\"><h4>Radius 2</h4><x-box id=\"r2-box\"><x-slider id=\"r2-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r2-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"r3-subsection\"><h4>Radius 3</h4><x-box id=\"r3-box\"><x-slider id=\"r3-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r3-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"splay-subsection\"><h4>Splay</h4><x-box id=\"splay-box\"><x-slider id=\"splay-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"splay-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"teeth-subsection\"><h4>Teeth</h4><x-box id=\"teeth-box\"><x-slider id=\"teeth-slider\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"teeth-input\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject235=function _templateObject235(){return data;};return data;}function _templateObject234(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#depth-subsection{margin-top:6px}#arms-subsection{margin-top:14px}#arms-subsection h4,#depth-subsection h4{margin-bottom:0}#arms-subsection x-box,#depth-subsection x-box{width:100%}#arms-subsection x-numberinput,#depth-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject234=function _templateObject234(){return data;};return data;}function _templateObject233(){var data=_taggedTemplateLiteral(["<template><h2>Star</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"depth-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"depth-subsection\"><h4>Depth</h4><x-box id=\"depth-box\"><x-slider id=\"depth-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"depth-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"arms-subsection\"><h4>Arms</h4><x-box id=\"arms-box\"><x-slider id=\"arms-slider\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"arms-input\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject233=function _templateObject233(){return data;};return data;}function _templateObject232(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#arms-subsection{margin-top:6px}#corner-subsection{margin-top:14px}#arms-subsection h4,#corner-subsection h4{margin-bottom:0}#arms-subsection x-box,#corner-subsection x-box{width:100%}#arms-subsection x-numberinput,#corner-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject232=function _templateObject232(){return data;};return data;}function _templateObject231(){var data=_taggedTemplateLiteral(["<template><h2>N-gon</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"corner-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"arms-subsection\"><h4>Arms</h4><x-box id=\"arms-box\"><x-slider id=\"arms-slider\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"arms-input\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"corner-subsection\"><h4>Corner</h4><x-box id=\"corner-box\"><x-slider id=\"corner-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"corner-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject231=function _templateObject231(){return data;};return data;}function _templateObject230(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#shift-subsection{margin-top:6px}#corner-subsection{margin-top:14px}#corner-subsection h4,#shift-subsection h4{margin-bottom:0}#corner-subsection x-box,#shift-subsection x-box{width:100%}#corner-subsection x-numberinput,#shift-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject230=function _templateObject230(){return data;};return data;}function _templateObject229(){var data=_taggedTemplateLiteral(["<template><h2>Triangle</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"corner-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"shift-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"shift-subsection\"><h4>Shift</h4><x-box id=\"shift-box\"><x-slider id=\"shift-slider\" min=\"-50\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"shift-input\" min=\"-50\" max=\"50\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"corner-subsection\"><h4>Corner</h4><x-box id=\"corner-box\"><x-slider id=\"corner-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"corner-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject229=function _templateObject229(){return data;};return data;}function _templateObject228(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#arch-subsection{margin-top:6px}#hollow-subsection{margin-top:14px}#arch-subsection h4,#hollow-subsection h4{margin-bottom:0}#arch-subsection x-box,#hollow-subsection x-box{width:100%}#arch-subsection x-numberinput,#hollow-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject228=function _templateObject228(){return data;};return data;}function _templateObject227(){var data=_taggedTemplateLiteral(["<template><h2>Crescent</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"arch-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"hollow-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"arch-subsection\"><h4>Arch</h4><x-box id=\"arch-box\"><x-slider id=\"arch-slider\" min=\"1\" max=\"359\" step=\"1\"></x-slider><x-numberinput id=\"arch-input\" min=\"1\" max=\"359\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"hollow-subsection\"><h4>Hollow</h4><x-box id=\"hollow-box\"><x-slider id=\"hollow-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"hollow-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject227=function _templateObject227(){return data;};return data;}function _templateObject226(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#r1-subsection{margin-top:6px}#r1-subsection h4{margin-bottom:0}#r1-subsection x-box{width:100%}#r1-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject226=function _templateObject226(){return data;};return data;}function _templateObject225(){var data=_taggedTemplateLiteral(["<template><h2>Pie</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"r1-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r1-subsection\"><h4>Inner radius</h4><x-box id=\"r1-box\"><x-slider id=\"r1-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r1-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject225=function _templateObject225(){return data;};return data;}function _templateObject224(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#r1-subsection{margin-top:6px}#r1-subsection h4{margin-bottom:0}#r1-subsection x-box{width:100%}#r1-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject224=function _templateObject224(){return data;};return data;}function _templateObject223(){var data=_taggedTemplateLiteral(["<template><h2>Ring</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"r1-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r1-subsection\"><h4>Inner radius</h4><x-box id=\"r1-box\"><x-slider id=\"r1-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r1-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject223=function _templateObject223(){return data;};return data;}function _templateObject222(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{min-width:fit-content;height:25px;flex:1}"]);_templateObject222=function _templateObject222(){return data;};return data;}function _templateObject221(){var data=_taggedTemplateLiteral(["<template><h2>Ellipse</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\" condensed><x-label>Planar</x-label></x-button><x-button value=\"polar\" condensed><x-label>Polar</x-label></x-button><x-button value=\"3-point\" condensed><x-label>3-Point</x-label></x-button></x-buttons></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject221=function _templateObject221(){return data;};return data;}function _templateObject220(){var data=_taggedTemplateLiteral(["<template><h2>Circle</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject220=function _templateObject220(){return data;};return data;}function _templateObject219(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{min-width:fit-content;height:25px;flex:1}#r-subsection{margin-top:6px}#r-subsection h4{margin-bottom:0}#r-subsection x-box{width:100%}#r-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject219=function _templateObject219(){return data;};return data;}function _templateObject218(){var data=_taggedTemplateLiteral(["<template><h2>Rectangle</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\" condensed><x-label>Planar</x-label></x-button><x-button value=\"polar\" condensed><x-label>Polar</x-label></x-button><x-button value=\"3-point\" condensed><x-label>3-Point</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><rect id=\"geometry-preview-shape\" class=\"shape\"></rect><circle id=\"r-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r-subsection\"><h4>Corner radius</h4><x-box id=\"r-box\"><x-slider id=\"r-slider\" min=\"0\" max=\"30\" step=\"1\"></x-slider><x-numberinput id=\"r-input\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject218=function _templateObject218(){return data;};return data;}function _templateObject217(){var data=_taggedTemplateLiteral(["<template><h2>View</h2><section id=\"options-section\"><h3>Options</h3><x-checkbox id=\"move-objects-checkbox\"><x-label>Move objects with view</x-label></x-checkbox><x-checkbox id=\"show-ids-checkbox\"><x-label>Show IDs</x-label></x-checkbox></section></template>"]);_templateObject217=function _templateObject217(){return data;};return data;}function _templateObject216(){var data=_taggedTemplateLiteral(["#smoothing-input{width:80px;margin-left:8px}"]);_templateObject216=function _templateObject216(){return data;};return data;}function _templateObject215(){var data=_taggedTemplateLiteral(["<template><h2>Freehand</h2><section id=\"smoothing-section\"><h3>Smoothing</h3><x-box><x-slider id=\"smoothing-slider\" value=\"0.5\" min=\"0.01\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"smoothing-input\" value=\"0.5\" min=\"0.01\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject215=function _templateObject215(){return data;};return data;}function _templateObject214(){var data=_taggedTemplateLiteral(["<template><h2>Arc</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject214=function _templateObject214(){return data;};return data;}function _templateObject213(){var data=_taggedTemplateLiteral(["<template><h2>Cubic Bezier</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject213=function _templateObject213(){return data;};return data;}function _templateObject212(){var data=_taggedTemplateLiteral(["<template><h2>Quad Bezier</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject212=function _templateObject212(){return data;};return data;}function _templateObject211(){var data=_taggedTemplateLiteral(["#selection-shape-buttons{width:100%;margin:4px 0 0 0}#selection-shape-buttons x-button{height:25px;flex:1}"]);_templateObject211=function _templateObject211(){return data;};return data;}function _templateObject210(){var data=_taggedTemplateLiteral(["<template><h2>Edit</h2><section id=\"selection-shape-section\"><h3>Selection shape</h3><x-buttons id=\"selection-shape-buttons\" tracking=\"1\"><x-button value=\"rect\" condensed toggled><x-label>Rectangle</x-label></x-button><x-button value=\"polygon\" condensed><x-label>Polygon</x-label></x-button></x-buttons></section></template>"]);_templateObject210=function _templateObject210(){return data;};return data;}function _templateObject209(){var data=_taggedTemplateLiteral(["#selection-shape-buttons{width:100%;margin:4px 0 0 0}#selection-shape-buttons x-button{height:25px;flex:1}#selection-mode-buttons{width:100%;margin:4px 0 0 0}#selection-mode-buttons x-button{height:25px;flex:1}"]);_templateObject209=function _templateObject209(){return data;};return data;}function _templateObject208(){var data=_taggedTemplateLiteral(["<template><h2>Transform</h2><section id=\"selection-shape-section\"><h3>Selection shape</h3><x-buttons id=\"selection-shape-buttons\" tracking=\"1\"><x-button value=\"rect\" condensed toggled><x-label>Rectangle</x-label></x-button><x-button value=\"polygon\" condensed><x-label>Polygon</x-label></x-button></x-buttons></section><hr><section id=\"selection-mode-section\"><h3>Selection mode</h3><x-buttons id=\"selection-mode-buttons\" tracking=\"1\"><x-button value=\"contain\" condensed toggled><x-label>Contain</x-label></x-button><x-button value=\"intersect\" condensed><x-label>Intersect</x-label></x-button></x-buttons></section><hr><section id=\"transform-preserve-section\"><h3>Preserve</h3><x-checkbox id=\"preserve-stroke-width-checkbox\" toggled><x-label>Stroke width</x-label></x-checkbox><x-checkbox id=\"preserve-rect-radii-checkbox\" toggled><x-label>Rectangle radii</x-label></x-checkbox><x-checkbox id=\"preserve-rotation-checkbox\" toggled><x-label>Rotation</x-label></x-checkbox><x-checkbox id=\"preserve-aspect-ratio-checkbox\"><x-label>Aspect ratio</x-label></x-checkbox></section></template>"]);_templateObject208=function _templateObject208(){return data;};return data;}function _templateObject207(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;width:fit-content;height:27px;contain:style layout;box-sizing:border-box}:host([computedsize=large]){height:34px}#items{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.item{display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:fit-content;height:100%;padding:0 8px;position:relative;border-width:1px;border-style:solid}.item:not(:first-child){margin-left:-1px}.item:focus{z-index:1}.item .inner{display:flex;align-items:center;justify-content:center;height:100%;box-sizing:border-box}.item .icon{width:15px;height:15px;fill:currentColor}.item .label{font-size:11px;margin-left:5px}"]);_templateObject207=function _templateObject207(){return data;};return data;}function _templateObject206(){var data=_taggedTemplateLiteral(["<template><div id=\"items\"></div></template>"]);_templateObject206=function _templateObject206(){return data;};return data;}function _templateObject205(){var data=_taggedTemplateLiteral([":host{position:fixed;width:0;height:0;top:0;left:0;z-index:99999999;background:rgba(0,0,0,0)}:host([grabbing]){width:100%;height:100%;background:rgba(0,0,0,.1)}#main{display:none}:host([grabbing]) #main{display:block}#overlay{position:fixed;width:100%;height:100%;top:0;left:0;opacity:0;cursor:crosshair!important}"]);_templateObject205=function _templateObject205(){return data;};return data;}function _templateObject204(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"overlay\"></div><bx-tooltip id=\"tooltip\">Move cursor over object</bx-tooltip></main></template>"]);_templateObject204=function _templateObject204(){return data;};return data;}function _templateObject203(){var data=_taggedTemplateLiteral([":host{position:absolute;z-index:99999;padding:5px 7px;font-size:12px;line-height:1;pointer-events:none;border-width:1px;border-style:solid}:host([hidden]){display:none}"]);_templateObject203=function _templateObject203(){return data;};return data;}function _templateObject202(){var data=_taggedTemplateLiteral(["<template><slot></slot></template>"]);_templateObject202=function _templateObject202(){return data;};return data;}function _templateObject201(){var data=_taggedTemplateLiteral([":host{position:fixed;width:0;height:0;top:0;left:0;z-index:99999999;background:rgba(0,0,0,0)}:host([grabbing]){width:100%;height:100%;background:rgba(0,0,0,.1)}#main{display:none}:host([grabbing]) #main{display:block}#overlay{position:fixed;width:100%;height:100%;top:0;left:0;opacity:0;cursor:crosshair!important}#lens{width:100px;height:100px;position:fixed;top:-200px;left:-200px;background:#fff;border:4px solid #333;box-shadow:2px 6px 20px rgba(0,0,0,.3);border-radius:100px;overflow:hidden}#lens-inner{position:relative;width:100%;height:100%}#lens #tooltip{position:absolute;left:0;top:0;width:100%;height:100%;display:flex;flex-flow:column;align-items:center;justify-content:center;visibility:hidden}#lens[offscreen] #tooltip{visibility:visible}#lens #tooltip p{color:rgba(0,0,0,.7);line-height:1;padding:0;margin:0}#lens #grid{width:100px;height:100px;background:#d4d4d4}#lens[offscreen] #grid{display:none}#grid #center-rect{stroke:red;stroke-width:1.5}#lens[offscreen] #grid #center-rect{stroke-width:0}"]);_templateObject201=function _templateObject201(){return data;};return data;}function _templateObject200(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"overlay\"></div><div id=\"lens\" part=\"lens\"><div id=\"lens-inner\"><svg id=\"grid\"></svg><div id=\"tooltip\"><p>Move</p><p>cursor</p><p>over</p><p>canvas</p></div></div></div></main></template>"]);_templateObject200=function _templateObject200(){return data;};return data;}function _templateObject199(){var data=_taggedTemplateLiteral([":host{position:fixed;right:0;bottom:0;width:0;height:0;opacity:0;contain:strict}"]);_templateObject199=function _templateObject199(){return data;};return data;}function _templateObject198(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"></main></template>"]);_templateObject198=function _templateObject198(){return data;};return data;}function _templateObject197(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:hidden;outline:0;contain:strict;position:relative;--canvas-background-color:gray}#vector-layer{touch-action:none}#workspaces{font-family:sans-serif;user-select:none}#workspaces>[data-bx-workspace]:not(:last-child){display:none!important}#workspaces :focus{outline:0}#workspaces>#whitespace{opacity:0}#vector-canvas>#background-rect{fill:var(--canvas-background-color);pointer-events:none}#vector-canvas[data-transparent]>#background-rect{fill:transparent}#vector-canvas>#background-outlines{pointer-events:none;display:none}#vector-canvas[data-outlines]>#background-outlines{display:inline}#vector-canvas>#background-outlines rect{fill:#fff;stroke:rgba(0,0,0,.2);vector-effect:non-scaling-stroke}#vector-canvas[data-outlines=above]>#background-outlines rect{stroke:none}#vector-canvas[data-transparent]>#background-outlines rect{fill:none;stroke:rgba(0,0,0,.3)}#vector-canvas>#foreground-outlines{display:none;pointer-events:none}#vector-canvas[data-outlines=above]>#foreground-outlines{display:inline}#vector-canvas>#foreground-outlines rect{fill:none;stroke:rgba(0,0,0,.2);vector-effect:non-scaling-stroke}#vector-canvas[data-transparent] #foreground-outlines rect{stroke:rgba(0,0,0,.3)}#huds>*{display:none;contain:layout style paint}#huds>[drawing],#huds>[enabled]{display:initial}#pixel-canvas{pointer-events:none;position:absolute;opacity:.4;top:0;left:0;width:100%;height:100%}"]);_templateObject197=function _templateObject197(){return data;};return data;}function _templateObject196(){var data=_taggedTemplateLiteral(["<template><svg id=\"vector-layer\" preserveAspectRatio=\"none\"><filter id=\"grippie-shadow\" width=\"100\" height=\"100\"><feGaussianBlur id=\"grippie-fe-blur\" in=\"SourceAlpha\" result=\"blur-out\" stdDeviation=\"1\"/><feOffset id=\"grippie-fe-offset\" in=\"blur-out\" result=\"the-shadow\" dx=\"1\" dy=\"1\"/><feBlend in=\"SourceGraphic\" in2=\"the-shadow\" mode=\"normal\"/></filter><g id=\"vector-canvas\" transform=\"translate(0, 0)\"><rect id=\"background-rect\" x=\"-1000000\" y=\"-1000000\" width=\"2000000\" height=\"2000000\"></rect><g id=\"background-outlines\"></g><g id=\"workspaces\"><rect id=\"whitespace\" x=\"-1000000\" y=\"-1000000\" width=\"2000000\" height=\"2000000\"></rect><g data-bx-workspace=\"master\"></g></g><g id=\"foreground-outlines\"></g><g id=\"huds\"></g></g></svg><div id=\"pixel-layer\"><canvas id=\"pixel-canvas\" hidden></canvas></div><bx-rulers id=\"rulers\" disabled=\"disabled\"></bx-rulers><div id=\"contexts\"><bx-transformselectcontext id=\"transform-select-context\"></bx-transformselectcontext><bx-directselectcontext id=\"direct-select-context\"></bx-directselectcontext><bx-pancontext id=\"pan-context\"></bx-pancontext><bx-textcontext id=\"text-context\"></bx-textcontext><bx-textpathcontext id=\"text-path-context\"></bx-textpathcontext><bx-cubicbeziercontext id=\"cubic-bezier-context\"></bx-cubicbeziercontext><bx-quadbeziercontext id=\"quad-bezier-context\"></bx-quadbeziercontext><bx-arccontext id=\"arc-context\"></bx-arccontext><bx-shapecontext id=\"shape-context\"></bx-shapecontext><bx-freehandcontext id=\"freehand-context\"></bx-freehandcontext><bx-blobcontext id=\"blob-context\"></bx-blobcontext><bx-linecontext id=\"line-context\"></bx-linecontext><bx-polylinecontext id=\"polyline-context\"></bx-polylinecontext><bx-polygoncontext id=\"polygon-context\"></bx-polygoncontext><bx-viewcontext id=\"view-context\"></bx-viewcontext></div></template>"]);_templateObject196=function _templateObject196(){return data;};return data;}function _templateObject195(){var data=_taggedTemplateLiteral(["#content-editor{width:100%;height:61px;min-height:61px}#font-size-dynamics-section{margin-top:10px}#font-size-dynamics-param-select{flex:1}#font-size-dynamics-variance-input{width:54px;margin-left:6px}#glyph-rotation-dynamics-section{margin-top:10px}#glyph-rotation-dynamics-param-select{flex:1}#glyph-rotation-dynamics-variance-input{width:54px;margin-left:6px}#opacity-dynamics-section{margin-top:10px}#opacity-dynamics-param-select{flex:1}#opacity-dynamics-variance-input{width:54px;margin-left:6px}"]);_templateObject195=function _templateObject195(){return data;};return data;}function _templateObject194(){var data=_taggedTemplateLiteral(["<template><h2>Text path</h2><section id=\"content-section\"><h3>Content</h3><x-texteditor id=\"content-editor\"><x-label>","</x-label></x-texteditor></section><hr><section id=\"dynamics-section\"><h3>Dynamics</h3><section id=\"font-size-dynamics-section\"><h4>Font size</h4><x-box><x-select id=\"font-size-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"font-size-dynamics-variance-input\" value=\"50\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"glyph-rotation-dynamics-section\"><h4>Glyph roration</h4><x-box><x-select id=\"glyph-rotation-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"glyph-rotation-dynamics-variance-input\" value=\"0\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"opacity-dynamics-section\"><h4>Opacity</h4><x-box><x-select id=\"opacity-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"opacity-dynamics-variance-input\" value=\"0\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"text\"></bx-stylepicker></section></template>"]);_templateObject194=function _templateObject194(){return data;};return data;}function _templateObject193(){var data=_taggedTemplateLiteral(["#content-editor{width:100%;height:61px;min-height:61px}"]);_templateObject193=function _templateObject193(){return data;};return data;}function _templateObject192(){var data=_taggedTemplateLiteral(["<template><h2>Text</h2><section id=\"content-section\"><h3>Content</h3><x-texteditor id=\"content-editor\"><x-label>","</x-label></x-texteditor></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"text\"></bx-stylepicker></section></template>"]);_templateObject192=function _templateObject192(){return data;};return data;}function _templateObject191(){var data=_taggedTemplateLiteral(["#mode-buttons{width:100%;margin:4px 0 0 0}#mode-buttons x-button{height:25px;flex:1}#size-subsection{margin-top:4px}#size-subsection h4{margin:0}#size-box{width:100%}#size-input{margin-left:10px;width:100px}#roundness-subsection{margin-top:7px}#roundness-subsection h4{margin:0}#roundness-box{width:100%}#roundness-input{margin-left:10px;width:100px}#angle-subsection{margin-top:7px}#angle-subsection h4{margin:0}#angle-box{width:100%}#angle-input{margin-left:10px;width:100px}#size-dynamics-section{margin-top:10px}#size-dynamics-param-select{flex:1}#size-dynamics-variance-input{width:54px;min-width:54px;margin-left:6px}#roundness-dynamics-section{margin-top:10px}#roundness-dynamics-param-select{flex:1}#roundness-dynamics-variance-input{width:54px;min-width:54px;margin-left:6px}#angle-dynamics-section{margin-top:10px}#angle-dynamics-param-select{flex:1}#angle-dynamics-variance-input{width:54px;min-width:54px;margin-left:6px}"]);_templateObject191=function _templateObject191(){return data;};return data;}function _templateObject190(){var data=_taggedTemplateLiteral(["<template><h2>Blob</h2><section id=\"mode-section\"><h3>Mode</h3><x-buttons id=\"mode-buttons\" tracking=\"1\"><x-button value=\"draw\"><x-label>Draw</x-label></x-button><x-button value=\"erase\"><x-label>Erase</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 100 100\"><line class=\"grid-line\" x1=\"10\" y1=\"50\" x2=\"90\" y2=\"50\"></line><line class=\"grid-line\" x1=\"50\" y1=\"10\" x2=\"50\" y2=\"90\"></line><ellipse id=\"geometry-preview-shape\" class=\"shape\" cx=\"50\" cy=\"50\" rx=\"35\" ry=\"35\"></ellipse><circle id=\"geometry-preview-grippie\" class=\"grippie\" cx=\"50\" cy=\"50\" r=\"5\"></circle></svg><section id=\"size-subsection\"><h4>Size</h4><x-box id=\"size-box\"><x-slider id=\"size-slider\" value=\"30\" min=\"1\" max=\"40\" step=\"1\"></x-slider><x-numberinput id=\"size-input\" value=\"30\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"roundness-subsection\"><h4>Roundness</h4><x-box id=\"roundness-box\"><x-slider id=\"roundness-slider\" value=\"100\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"roundness-input\" value=\"100\" min=\"1\" max=\"100\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"angle-subsection\"><h4>Angle</h4><x-box id=\"angle-box\"><x-slider id=\"angle-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"angle-input\" value=\"0\" min=\"-180\" max=\"180\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"dynamics-section\"><h3>Dynamics</h3><section id=\"size-dynamics-section\"><h4>Size</h4><x-box><x-select id=\"size-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"size-dynamics-variance-input\" value=\"50\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"roundness-dynamics-section\"><h4>Roundness</h4><x-box><x-select id=\"roundness-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"roundness-dynamics-variance-input\" value=\"50\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"angle-dynamics-section\"><h4>Angle</h4><x-box><x-select id=\"angle-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"angle-dynamics-variance-input\" value=\"50\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject190=function _templateObject190(){return data;};return data;}function _templateObject189(){var data=_taggedTemplateLiteral([":host{display:block;width:220px;box-sizing:border-box;overflow:auto}h2{margin:14px 0 0;padding:0 14px}h3:first-child{margin-top:0}section{padding:12px 14px}section section{padding:0}#geometry-preview{width:100%;height:70px;border-width:1px;border-style:solid;box-sizing:border-box}#geometry-preview .grid-line{stroke:currentColor;opacity:.2;vector-effect:non-scaling-stroke}#geometry-preview .shape{transform-origin:50% 50%;fill:none;stroke:currentColor;stroke-width:1px;vector-effect:non-scaling-stroke}#geometry-preview .grippie{fill:currentColor}"]);_templateObject189=function _templateObject189(){return data;};return data;}function _templateObject188(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;box-sizing:border-box}#main{display:flex;align-items:center;justify-content:flex-start}#thumbnail{width:70px;height:70px;box-sizing:border-box;border-width:1px;border-style:solid;-webkit-user-drag:none}#buttons{flex:1;margin-left:8px}#buttons x-button{width:100%}#buttons x-button:first-child{margin-bottom:6px}"]);_templateObject188=function _templateObject188(){return data;};return data;}function _templateObject187(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><svg id=\"thumbnail\" part=\"thumbnail\" viewBox=\"0 0 100 100\"><rect id=\"thumbnail-rect\" x=\"15\" y=\"15\" width=\"70\" height=\"70\"></rect></svg><x-box vertical id=\"buttons\"><x-button id=\"grab-button\" size=\"medium\" togglable><x-icon name=\"grab-color\"></x-icon><x-label>Grab</x-label></x-button><x-button id=\"reset-button\" size=\"medium\"><x-icon name=\"reset\"></x-icon><x-label>Reset</x-label></x-button></x-box></main></template>"]);_templateObject187=function _templateObject187(){return data;};return data;}function _templateObject186(){var data=_taggedTemplateLiteral([":host{display:none;position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;contain:strict;--size:14px}:host([enabled]){display:block}main{position:relative;width:100%;height:100%}#corner-ruler{pointer-events:all;position:absolute;left:0;top:0;width:var(--size);height:var(--size);box-sizing:border-box;border-width:0 1px 1px 0;border-style:none solid solid none}#horizontal-ruler,#vertical-ruler{pointer-events:all;position:relative;box-sizing:border-box;touch-action:pinch-zoom}#horizontal-ruler{position:absolute;top:0;width:100%;height:var(--size);border-width:0 0 1px 0;border-style:none none solid none}#vertical-ruler{position:absolute;top:0;width:var(--size);height:100%;border-width:0 1px 0 0;border-style:none solid none none;writing-mode:vertical-lr}#horizontal-ruler>div,#vertical-ruler>div{position:absolute;font-size:9px;box-sizing:border-box;pointer-events:none;user-select:none}#horizontal-ruler>div{width:0;height:100%;top:0;left:0;padding:0 0 0 3px;border-width:0 0 0 1px;border-style:none none none solid}#vertical-ruler>div{width:100%;height:0;top:0;left:0;padding:3px 0 0 0;border-width:1px 0 0 0;border-style:solid none none none}"]);_templateObject186=function _templateObject186(){return data;};return data;}function _templateObject185(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"horizontal-ruler\" class=\"ruler\" part=\"ruler horizontal-ruler\" data-type=\"horizontal\"></div><div id=\"vertical-ruler\" class=\"ruler\" part=\"ruler vertical-ruler\" data-type=\"vertical\"></div><div id=\"corner-ruler\" class=\"ruler\" part=\"ruler corner-ruler\" data-type=\"corner\"></div></main></template>"]);_templateObject185=function _templateObject185(){return data;};return data;}function _templateObject184(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;user-select:none;--wheel-max-width:none}:host([hidden]){display:none}#huesat-slider{display:flex;position:relative;width:100%;max-width:var(--wheel-max-width);margin:0 auto;height:auto;touch-action:pinch-zoom}#huesat-image{width:100%;height:100%;border-radius:999px;pointer-events:none}#huesat-marker{position:absolute;top:0;left:0;width:var(--marker-size);height:var(--marker-size);transform:translate(calc(var(--marker-size)/ -2),calc(var(--marker-size)/ -2));box-sizing:border-box;background:rgba(0,0,0,.3);border:3px solid #fff;border-radius:999px;box-shadow:0 0 3px #000;--marker-size:20px}#value-slider{width:100%;height:30px;margin-top:10px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #value-slider{height:24px}:host([computedsize=large]) #value-slider{height:35px}#value-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#value-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#alpha-slider{position:relative;display:none;width:100%;height:30px;margin-top:14px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}"]);_templateObject184=function _templateObject184(){return data;};return data;}function _templateObject183(){var data=_taggedTemplateLiteral(["\n    <template>\n      <x-box vertical>\n        <div id=\"huesat-slider\">\n          <img id=\"huesat-image\"></img>\n          <div id=\"huesat-marker\"></div>\n        </div>\n\n        <div id=\"value-slider\">\n          <div id=\"value-slider-track\">\n            <div id=\"value-slider-marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"alpha-slider\">\n          <div id=\"alpha-slider-gradient\"></div>\n          <div id=\"alpha-slider-track\">\n            <div id=\"alpha-slider-marker\"></div>\n          </div>\n        </div>\n      </x-box>\n    </template>\n  "]);_templateObject183=function _templateObject183(){return data;};return data;}function _templateObject182(){var data=_taggedTemplateLiteral([":host{display:block;width:30px;height:30px;box-sizing:border-box}:host([hidden]){display:none}:host([type=ring]){color:#4285f4}:host([type=spin]){color:#404040}svg{color:inherit;width:100%;height:100%}svg[data-type=ring] ellipse{fill:none;stroke:currentColor;stroke-linecap:round;stroke-dasharray:10,1000;animation:ring-dash-animation 2s cubic-bezier(.8,.25,.25,.9) infinite,ring-rotate-animation 2s linear infinite;transform-origin:center}@keyframes ring-rotate-animation{to{transform:rotate(360deg)}}@keyframes ring-dash-animation{50%{stroke-dasharray:200;stroke-dashoffset:0}100%{stroke-dasharray:245;stroke-dashoffset:-260}}svg[data-type=spin] rect{x:46.5px;y:40px;width:7px;height:22px;rx:5px;ry:5px;fill:currentColor;animation-name:spin-animation;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite;animation-delay:0s}svg[data-type=spin] rect:nth-child(1){animation-delay:calc(1s *  1/12)}svg[data-type=spin] rect:nth-child(2){animation-delay:calc(1s *  2/12)}svg[data-type=spin] rect:nth-child(3){animation-delay:calc(1s *  3/12)}svg[data-type=spin] rect:nth-child(4){animation-delay:calc(1s *  4/12)}svg[data-type=spin] rect:nth-child(5){animation-delay:calc(1s *  5/12)}svg[data-type=spin] rect:nth-child(6){animation-delay:calc(1s *  6/12)}svg[data-type=spin] rect:nth-child(7){animation-delay:calc(1s *  7/12)}svg[data-type=spin] rect:nth-child(8){animation-delay:calc(1s *  8/12)}svg[data-type=spin] rect:nth-child(9){animation-delay:calc(1s *  9/12)}svg[data-type=spin] rect:nth-child(10){animation-delay:calc(1s * 10/12)}svg[data-type=spin] rect:nth-child(11){animation-delay:calc(1s * 11/12)}svg[data-type=spin] rect:nth-child(12){animation-delay:calc(1s * 12/12)}@keyframes spin-animation{0%{opacity:1}100%{opacity:0}}"]);_templateObject182=function _templateObject182(){return data;};return data;}function _templateObject181(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg data-type=\"spin\" viewBox=\"0 0 100 100\">\n        <rect transform=\"rotate(  0 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate( 30 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate( 60 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate( 90 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(120 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(150 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(180 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(210 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(240 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(270 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(300 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(330 50 50) translate(0 -38)\"></rect>\n      </svg>\n    </template>\n  "]);_templateObject181=function _templateObject181(){return data;};return data;}function _templateObject180(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg data-type=\"ring\" viewBox=\"0 0 100 100\">\n        <ellipse ry=\"40\" rx=\"40\" cy=\"50\" cx=\"50\" stroke-width=\"10\"/>\n      </svg>\n    </template>\n  "]);_templateObject180=function _templateObject180(){return data;};return data;}function _templateObject179(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;width:100%;min-height:100px;box-sizing:border-box;background:#fff;font-size:12.5px}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}::-webkit-scrollbar{max-width:6px;max-height:6px;background:0 0}::-webkit-scrollbar-track{border-radius:25px}::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.2);border-radius:25px}::-webkit-scrollbar-corner{display:none}#main{display:flex;flex-flow:column;height:100%;min-height:inherit;max-height:inherit;overflow-y:auto}#editor{flex:1;padding:2px 6px;box-sizing:border-box;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;overflow:auto}:host([error])::before{position:absolute;left:0;bottom:-20px;box-sizing:border-box;font-family:inherit;font-size:11px;line-height:1.2;white-space:pre;content:attr(error) \" \"}"]);_templateObject179=function _templateObject179(){return data;};return data;}function _templateObject178(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <slot></slot>\n        <div id=\"editor\" contenteditable=\"plaintext-only\" spellcheck=\"false\"></div>\n      </main>\n    </template>\n  "]);_templateObject178=function _templateObject178(){return data;};return data;}function _templateObject177(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;min-height:29px;border:1px solid #bfbfbf;font-size:12px}:host(:focus){z-index:10}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{width:100%;height:100%;cursor:text}#tags{display:flex;flex-wrap:wrap}:host([mixed]) #tags{opacity:.7}#input{align-items:center;justify-content:flex-start;height:25px;margin:2px;padding:0 3px 0 6px;box-sizing:border-box;line-height:25px;color:inherit;outline:0;white-space:pre;cursor:text;user-select:text;pointer-events:none}#input[contenteditable]:focus{flex-grow:1;pointer-events:all}#suggestions-popover{width:200px;max-height:200px;padding:4px;box-sizing:border-box}#suggestions-popover #suggested-tags{flex:1;overflow:auto}#suggestions-popover x-tag{display:block;margin:4px 0 0 0}#suggestions-popover x-tag:first-child{margin-top:0}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}"]);_templateObject177=function _templateObject177(){return data;};return data;}function _templateObject176(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"tags\">\n          <slot></slot>\n          <span id=\"input\" part=\"input\" spellcheck=\"false\" tabindex=\"0\"></span>\n        </div>\n      </main>\n\n      <x-popover id=\"suggestions-popover\" part=\"suggestions\">\n        <div id=\"suggested-tags\"></div>\n      </x-popover>\n    </template>\n  "]);_templateObject176=function _templateObject176(){return data;};return data;}function _templateObject175(){var data=_taggedTemplateLiteral([":host{display:flex;box-sizing:border-box;align-items:center;justify-content:flex-start}:host([hidden]){display:none}"]);_templateObject175=function _templateObject175(){return data;};return data;}function _templateObject174(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject174=function _templateObject174(){return data;};return data;}function _templateObject173(){var data=_taggedTemplateLiteral([":host{display:inline-block;height:25px;box-sizing:border-box;overflow:hidden;color:var(--text-color);border-width:1px;border-style:solid}:host([toggled]){background:gray;color:#fff;outline:0}:host([disabled]){opacity:.5}:host([hidden]){display:none}:host(:focus){outline:0}#container{width:100%;height:100%;display:flex;align-items:center;justify-content:center}#scope{height:100%;padding:0 6px;display:none;align-items:center;justify-content:center;border-right-width:1px;border-right-style:solid}:host([scoped]) #scope{display:flex}#main{height:100%;padding:0 6px;display:flex;align-items:center;justify-content:center}#remove-button{display:none;opacity:.8;width:12px;height:12px;vertical-align:middle;margin-left:4px;d:path(\"M 25 16 L 50 41 L 75 16 L 84 25 L 59 50 L 84 75 L 75 84 L 50 59 L 25 84 L 16 75 L 41 50 L 16 25 Z\");fill:currentColor;color:inherit}:host([removable]) #remove-button{display:block}#remove-button:hover{background:rgba(0,0,0,.1);opacity:1}#remove-button path{d:inherit;fill:inherit;pointer-events:none}"]);_templateObject173=function _templateObject173(){return data;};return data;}function _templateObject172(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"container\">\n        <div id=\"scope\" part=\"scope\">\n          <slot id=\"scope-slot\" name=\"scope\"></slot>\n        </div>\n\n        <main id=\"main\" part=\"main\">\n          <slot></slot>\n\n          <svg id=\"remove-button\" part=\"remove-button\" viewBox=\"0 0 100 100\">\n            <path id=\"remove-button-path\"></path>\n          </svg>\n        </main>\n      </div>\n    </template>\n  "]);_templateObject172=function _templateObject172(){return data;};return data;}function _templateObject171(){var data=_taggedTemplateLiteral([":host{position:relative;display:flex;margin:0 auto;width:fit-content;max-width:100%;box-sizing:border-box;justify-content:center}::slotted(x-tab){flex:0}"]);_templateObject171=function _templateObject171(){return data;};return data;}function _templateObject170(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject170=function _templateObject170(){return data;};return data;}function _templateObject169(){var data=_taggedTemplateLiteral([":host{position:relative;display:flex;align-items:center;justify-content:center;min-height:30px;padding:2px 12px;box-sizing:border-box;cursor:default;user-select:none;box-sizing:border-box;font-size:14px;--trigger-effect:none}:host(:focus){z-index:10;outline:0}#content{display:inherit;flex-flow:inherit;align-items:inherit;z-index:100}#ripples{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;overflow:hidden;pointer-events:none}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}#selection-indicator{display:none;width:100%;height:0;background:var(--accent-color);position:absolute;bottom:0;left:0}:host([selected]) #selection-indicator{display:block}"]);_templateObject169=function _templateObject169(){return data;};return data;}function _templateObject168(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"ripples\"></div>\n      <div id=\"selection-indicator\" part=\"selection-indicator\"></div>\n      <div id=\"content\">\n        <slot></slot>\n      </div>\n    </template>\n  "]);_templateObject168=function _templateObject168(){return data;};return data;}function _templateObject167(){var data=_taggedTemplateLiteral([":host{display:block;width:fit-content;margin:2px 0}:host([disabled]){opacity:.4;pointer-events:none}#main{display:flex;align-items:center}#indicator{position:relative;width:34px;height:15px;display:flex;align-items:center}#indicator-track{display:flex;align-items:center;width:100%;height:65%;background:currentColor;border-radius:999px}#indicator-thumb{position:absolute;left:0;width:16px;height:16px;background:currentColor;border-radius:999px;transition:left .2s cubic-bezier(.4, 0, .2, 1)}:host([toggled]) #indicator-thumb{left:calc(100% - 16px)}:host([mixed]) #indicator-thumb{left:calc(50% - 16px / 2)}#description{flex:1}"]);_templateObject167=function _templateObject167(){return data;};return data;}function _templateObject166(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"indicator\" part=\"indicator\">\n          <div id=\"indicator-track\" part=\"indicator-track\">\n            <div id=\"indicator-thumb\" part=\"indicator-thumb\"></div>\n          </div>\n        </div>\n\n        <div id=\"description\">\n          <slot></slot>\n        </div>\n      </main>\n    </template>\n  "]);_templateObject166=function _templateObject166(){return data;};return data;}function _templateObject165(){var data=_taggedTemplateLiteral([":host{display:block;width:18px;height:18px;cursor:default;box-sizing:border-box;overflow:hidden}#preview{width:100%;height:100%;position:relative}"]);_templateObject165=function _templateObject165(){return data;};return data;}function _templateObject164(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"preview\"></div>\n    </template>\n  "]);_templateObject164=function _templateObject164(){return data;};return data;}function _templateObject163(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column-reverse;align-items:center;justify-content:center;box-sizing:border-box;height:100%;width:fit-content;color:rgba(0,0,0,.6)}:host(:hover){cursor:default}:host([disabled=\"\"]){opacity:.5;pointer-events:none}.button{display:flex;align-items:center;justify-content:center;width:100%;height:100%;user-select:none;box-sizing:border-box;color:inherit;border-left:none}.button[data-pressed]{color:#fff;background:rgba(0,0,0,.3)}:host([disabled=decrement]) #decrement-button,:host([disabled=increment]) #increment-button{opacity:.3;pointer-events:none}#increment-arrow{width:11px;height:11px;pointer-events:none;d:path(\"M 24 69 L 50 43 L 76 69 L 69 76 L 50 58 L 31 76 L 24 69 Z\" )}#decrement-arrow{width:11px;height:11px;pointer-events:none;d:path(\"M 24 32 L 50 58 L 76 32 L 69 25 L 50 44 L 31 25 L 24 32 Z\" )}#decrement-arrow-path,#increment-arrow-path{d:inherit;fill:currentColor}"]);_templateObject163=function _templateObject163(){return data;};return data;}function _templateObject162(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"decrement-button\" part=\"decrement-button\" class=\"button\">\n        <svg id=\"decrement-arrow\" part=\"decrement-arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n          <path id=\"decrement-arrow-path\"></path>\n        </svg>\n      </div>\n\n      <div id=\"increment-button\" part=\"increment-button\" class=\"button\">\n        <svg id=\"increment-arrow\" part=\"increment-arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n          <path id=\"increment-arrow-path\"></path>\n        </svg>\n      </div>\n    </template>\n  "]);_templateObject162=function _templateObject162(){return data;};return data;}function _templateObject161(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;position:relative;box-sizing:border-box;touch-action:pan-y}:host(:focus){outline:0}:host(:hover){cursor:default}:host([disabled]){pointer-events:none;opacity:.4}:host([vertical]){width:fit-content;height:200px}#main{display:flex;flex-flow:column;width:100%;height:100%}:host([vertical]) #main{flex-flow:row}#tracks-and-thumbs{position:relative;width:100%;height:100%}#range-track{position:absolute;width:0%;height:3px;background:#000;top:50%;transform:translateY(-50%)}:host([vertical]) #range-track{width:3px;height:0%;top:initial;left:50%;transform:translateX(-50%)}#groove-track{position:absolute;width:100%;height:3px;background:gray;border-radius:10px;top:50%;transform:translateY(-50%)}:host([vertical]) #groove-track{width:3px;height:100%;top:initial;left:50%;transform:translateX(-50%)}#buffer-track{position:absolute;width:0%;height:3px;background:red;top:50%;transform:translateY(-50%)}:host([vertical]) #buffer-track{width:3px;height:0%;top:initial;left:50%;transform:translateX(-50%)}#thumbs{position:relative;width:calc(100% - var(--computed-thumb-width));height:100%;margin:0 auto}:host([vertical]) #thumbs{height:calc(100% - var(--computed-thumb-height));width:100%;margin:auto 0}#thumbs .thumb{position:absolute;top:0;left:0;width:20px;height:20px;margin-left:calc(var(--computed-thumb-width)/ -2);box-sizing:border-box;background:gray;border:1px solid rgba(0,0,0,.2)}:host([vertical]) #thumbs .thumb{margin-left:0}#thumbs .thumb:first-child{position:relative}#thumbs .thumb:focus{outline:0;z-index:2}#ticks{position:relative;width:calc(100% - var(--computed-thumb-width));margin:0 calc(var(--computed-thumb-width)/ 2)}:host([vertical]) #ticks{width:initial;height:calc(100% - var(--computed-thumb-height));margin:calc(var(--computed-thumb-height)/ 2) 0}#ticks:empty{display:none}#ticks .tick{position:absolute;left:0;top:0;width:1px;height:5px;background:rgba(0,0,0,.4)}:host([vertical]) #ticks .tick{width:5px;height:1px;left:0;top:0}#ticks .tick:first-child{position:relative}#labels{position:relative;width:calc(100% - var(--computed-thumb-width));margin:0 calc(var(--computed-thumb-width)/ 2)}:host([vertical]) #labels{width:initial;height:calc(100% - var(--computed-thumb-height));margin:calc(var(--computed-thumb-height)/ 2) 0}:host(:empty) #labels{display:none}::slotted(x-label){display:inline-block;top:0;position:absolute;vertical-align:top;transform:translateX(-50%);white-space:nowrap}:host([vertical]) ::slotted(x-label){top:initial;left:4px;transform:translateY(-50%)}"]);_templateObject161=function _templateObject161(){return data;};return data;}function _templateObject160(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"tracks-and-thumbs\">\n          <div id=\"groove-track\" part=\"track groove-track\"></div>\n          <div id=\"buffer-track\" part=\"track buffer-track\"></div>\n          <div id=\"range-track\" part=\"track range-track\"></div>\n          <div id=\"thumbs\">\n            <div id=\"start-thumb\" class=\"thumb\" part=\"thumb start-thumb\" data-value=\"start\" tabindex=\"0\"></div>\n            <div id=\"end-thumb\" class=\"thumb\" part=\"thumb end-thumb\" data-value=\"end\" tabindex=\"0\"></div>\n          </div>\n        </div>\n\n        <div id=\"ticks\"></div>\n\n        <div id=\"labels\">\n          <slot></slot>\n        </div>\n      </main>\n    </template>\n  "]);_templateObject160=function _templateObject160(){return data;};return data;}function _templateObject159(){var data=_taggedTemplateLiteral([":host{display:inline-block;box-sizing:border-box;font-size:14px;line-height:1}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}"]);_templateObject159=function _templateObject159(){return data;};return data;}function _templateObject158(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\"></main>\n    </template>\n  "]);_templateObject158=function _templateObject158(){return data;};return data;}function _templateObject157(){var data=_taggedTemplateLiteral([":host{display:block;width:fit-content;height:32px;padding:0 0 0 9px;max-width:100%;box-sizing:border-box;position:relative;outline:0;font-size:14px;user-select:none}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}:host(:hover){cursor:default}#button{display:flex;flex-flow:row;align-items:center;justify-content:flex-start;flex:1;width:100%;height:100%}:host([mixed]) #button>*{opacity:.7}#button>x-label{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}#button>#arrow-container{margin:0 0 0 auto;z-index:999}#button>#arrow-container #arrow{display:flex;width:13px;height:13px;min-width:13px;margin:0 2px 0 11px;color:currentColor;d:path(\"M 25 41 L 50 16 L 75 41 L 83 34 L 50 1 L 17 34 Z M 17 66 L 50 100 L 83 66 L 75 59 L 50 84 L 25 59 Z\")}#button>#arrow-container #arrow path{fill:currentColor;d:inherit}"]);_templateObject157=function _templateObject157(){return data;};return data;}function _templateObject156(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"button\">\n        <div id=\"arrow-container\">\n          <svg id=\"arrow\" part=\"arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n            <path></path>\n          </svg>\n        </div>\n      </div>\n\n      <slot></slot>\n    </template>\n  "]);_templateObject156=function _templateObject156(){return data;};return data;}function _templateObject155(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;user-select:none}:host([hidden]){display:none}#hue-slider{width:100%;height:30px;padding:0 calc(var(--marker-width)/ 2);margin-bottom:14px;box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background:red}:host([computedsize=small]) #hue-slider{height:24px}:host([computedsize=large]) #hue-slider{height:35px}#hue-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center;background:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}#hue-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#satlight-slider{width:100%;height:174px;border-radius:2px;position:relative;touch-action:pinch-zoom}#satlight-marker{position:absolute;top:0;left:0;width:var(--marker-size);height:var(--marker-size);transform:translate(calc(var(--marker-size)/ -2),calc(var(--marker-size)/ -2));box-sizing:border-box;background:rgba(0,0,0,.3);border:3px solid #fff;border-radius:999px;box-shadow:0 0 3px #000;--marker-size:20px}#alpha-slider{position:relative;display:none;width:100%;height:30px;margin-top:14px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}"]);_templateObject155=function _templateObject155(){return data;};return data;}function _templateObject154(){var data=_taggedTemplateLiteral(["\n    <template>\n      <x-box vertical>\n        <div id=\"hue-slider\">\n          <div id=\"hue-slider-track\">\n            <div id=\"hue-slider-marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"satlight-slider\">\n          <div id=\"satlight-marker\"></div>\n        </div>\n\n        <div id=\"alpha-slider\">\n          <div id=\"alpha-slider-gradient\"></div>\n          <div id=\"alpha-slider-track\">\n            <div id=\"alpha-slider-marker\"></div>\n          </div>\n        </div>\n      </x-box>\n    </template>\n  "]);_templateObject154=function _templateObject154(){return data;};return data;}function _templateObject153(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;width:fit-content}:host(:focus){outline:0}:host([disabled]){opacity:.4;pointer-events:none}:host([hidden]){display:none}#main{display:flex;align-items:center}#indicator{position:relative;border:3px solid #000;width:19px;height:19px;border-radius:99px;display:flex;align-items:center;justify-content:center}#indicator-dot{width:100%;height:100%;background:currentColor;border-radius:99px;transform:scale(0)}:host([mixed][toggled]) #indicator-dot{height:33%;border-radius:0}:host([toggled]) #indicator-dot{transform:scale(.5)}#description{flex:1}"]);_templateObject153=function _templateObject153(){return data;};return data;}function _templateObject152(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"indicator\" part=\"indicator\">\n          <div id=\"indicator-dot\" part=\"indicator-dot\"></div>\n        </div>\n\n        <div id=\"description\">\n          <slot></slot>\n        </div>\n      </main>\n    </template>\n  "]);_templateObject152=function _templateObject152(){return data;};return data;}function _templateObject151(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box;height:8px;width:100%;position:relative;contain:strict;overflow:hidden;background:#acece6;cursor:default}:host([hidden]){display:none}#indeterminate-bars{width:100%;height:100%}#determinate-bar{position:absolute;top:0;left:0;bottom:0;width:0%;height:100%;background:#3b99fb;box-shadow:0 0 0 1px #3385db;transition:width .4s ease-in-out;will-change:left,right}:host([value=\"-1\"]) #determinate-bar{visibility:hidden}#primary-indeterminate-bar{position:absolute;top:0;left:0;bottom:0;height:100%;background:#3b99fb;will-change:left,right}#secondary-indeterminate-bar{position:absolute;top:0;left:0;bottom:0;height:100%;background:#3b99fb;will-change:left,right}"]);_templateObject151=function _templateObject151(){return data;};return data;}function _templateObject150(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"determinate-bar\" part=\"bar\"></div>\n\n      <div id=\"indeterminate-bars\">\n        <div id=\"primary-indeterminate-bar\" part=\"bar\"></div>\n        <div id=\"secondary-indeterminate-bar\" part=\"bar\"></div>\n      </div>\n    </template>\n  "]);_templateObject150=function _templateObject150(){return data;};return data;}function _templateObject149(){var data=_taggedTemplateLiteral([":host{position:fixed;display:none;top:0;left:0;min-height:30px;z-index:1001;box-sizing:border-box;background:#fff;-webkit-app-region:no-drag;--align:bottom;--arrow-size:20px;--open-transition:900 transform cubic-bezier(0.4, 0, 0.2, 1);--close-transition:200 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host(:focus){outline:0}:host([animating]),:host([opened]){display:flex}#arrow{position:fixed;box-sizing:border-box;content:\"\"}#arrow[data-align=bottom],#arrow[data-align=top]{width:var(--arrow-size);height:calc(var(--arrow-size) * .6);transform:translate(-50%,0)}#arrow[data-align=left],#arrow[data-align=right]{width:calc(var(--arrow-size) * .6);height:var(--arrow-size);transform:translate(0,-50%)}#arrow path{stroke-width:1;vector-effect:non-scaling-stroke}#arrow[data-align=bottom] path{d:path(\"M 0 100, L 50 0, L 100 100\")}#arrow[data-align=top] path{d:path(\"M 0 0, L 50 100, L 100 0\")}#arrow[data-align=left] path{d:path(\"M 0 0, L 100 50, L 00 100\")}#arrow[data-align=right] path{d:path(\"M 100 0, L 0 50, L 100 100\")}"]);_templateObject149=function _templateObject149(){return data;};return data;}function _templateObject148(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg id=\"arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path id=\"arrow-path\"></path>\n      </svg>\n      <slot></slot>\n    </template>\n  "]);_templateObject148=function _templateObject148(){return data;};return data;}function _templateObject147(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;max-width:160px;height:32px;box-sizing:border-box;font-size:12.5px}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{display:flex;align-items:center;height:100%}#editor-container{display:flex;align-items:center;width:100%;height:100%;padding:0 6px;box-sizing:border-box;overflow:hidden}#editor{width:100%;overflow:auto;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;line-height:10;white-space:nowrap}#editor::-webkit-scrollbar{display:none}#editor::before{content:attr(data-prefix);pointer-events:none}#editor::after{content:attr(data-suffix);pointer-events:none}:host(:focus) #editor::after,:host(:focus) #editor::before,:host([empty]) #editor::after,:host([empty]) #editor::before{content:\"\"}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}"]);_templateObject147=function _templateObject147(){return data;};return data;}function _templateObject146(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"editor-container\">\n          <div id=\"editor\" contenteditable=\"plaintext-only\" spellcheck=\"false\"></div>\n        </div>\n        <slot></slot>\n      </main>\n    </template>\n  "]);_templateObject146=function _templateObject146(){return data;};return data;}function _templateObject145(){var data=_taggedTemplateLiteral([":host{display:none;position:fixed;min-width:15px;min-height:15px;bottom:15px;left:50%;transform:translateX(-50%);padding:5px 12px;box-sizing:border-box;color:rgba(255,255,255,.9);background:#434343;z-index:9999;font-size:12px;user-select:text;transition:transform .15s cubic-bezier(.4, 0, .2, 1)}:host([animating]),:host([opened]){display:block}:host(:focus){outline:0}"]);_templateObject145=function _templateObject145(){return data;};return data;}function _templateObject144(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject144=function _templateObject144(){return data;};return data;}function _templateObject143(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:row;align-items:center;position:relative;padding:0 12px 0 23px;min-height:28px;box-sizing:border-box;cursor:default;user-select:none;--trigger-effect:blink}:host([hidden]){display:none}:host([disabled]){pointer-events:none;opacity:.6}:host(:focus){outline:0}:host-context([debug]):host(:focus){outline:2px solid red}#ripples{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;pointer-events:none;contain:strict;overflow:hidden}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.1;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}#checkmark{display:none;transition:transform .2s cubic-bezier(.4, 0, .2, 1);align-self:center;width:18px;height:18px;margin:0 2px 0 -20px;d:path(\"M 44 61 L 29 47 L 21 55 L 46 79 L 79 27 L 70 21 L 44 61 Z\");color:inherit}:host([togglable]) #checkmark{display:flex;transform:scale(0);transform-origin:50% 50%}:host([toggled]) #checkmark{display:flex;transform:scale(1)}#checkmark path{d:inherit;fill:currentColor}#arrow{display:flex;width:16px;height:16px;transform:scale(1.1);align-self:center;margin-left:8px;d:path(\"M 26 20 L 26 80 L 74 50 Z\");opacity:1;color:inherit}#arrow[hidden]{display:none}#arrow path{d:inherit;fill:currentColor}"]);_templateObject143=function _templateObject143(){return data;};return data;}function _templateObject142(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"ripples\"></div>\n\n      <svg id=\"checkmark\" part=\"checkmark\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path></path>\n      </svg>\n\n      <slot></slot>\n\n      <svg id=\"arrow\" part=\"arrow\" viewBox=\"0 0 100 100\" hidden>\n        <path></path>\n      </svg>\n    </template>\n  "]);_templateObject142=function _templateObject142(){return data;};return data;}function _templateObject141(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;width:100%;height:30px;padding:0 6px;box-sizing:border-box}:host([disabled]){pointer-events:none;opacity:.6}:host([hidden]){display:none}#backdrop{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;pointer-events:none;touch-action:none}#backdrop[hidden]{display:none}#backdrop path{fill:red;fill-rule:evenodd;opacity:0;pointer-events:all}"]);_templateObject141=function _templateObject141(){return data;};return data;}function _templateObject140(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg id=\"backdrop\" hidden>\n        <path id=\"backdrop-path\"></path>\n      </svg>\n\n      <slot></slot>\n    </template>\n  "]);_templateObject140=function _templateObject140(){return data;};return data;}function _templateObject139(){var data=_taggedTemplateLiteral([":host{display:none;top:0;left:0;width:fit-content;padding:4px 0;z-index:1001;box-sizing:border-box;background:#fff;cursor:default;overflow:auto;flex-direction:column;-webkit-app-region:no-drag;--align:start;--scrollbar-background:rgba(0, 0, 0, 0.2);--scrollbar-width:6px;--open-transition:100 transform cubic-bezier(0.4, 0, 0.2, 1);--close-transition:200 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host([animating]),:host([opened]){display:flex}:host(:focus){outline:0}:host-context([debug]):host(:focus){outline:2px solid red}::-webkit-scrollbar{max-width:var(--scrollbar-width);background:0 0}::-webkit-scrollbar-thumb{background-color:var(--scrollbar-background)}::-webkit-scrollbar-corner{display:none}"]);_templateObject139=function _templateObject139(){return data;};return data;}function _templateObject138(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot id=\"slot\"></slot>\n    </template>\n  "]);_templateObject138=function _templateObject138(){return data;};return data;}function _templateObject137(){var data=_taggedTemplateLiteral([":host{display:block;line-height:1.2;user-select:none;box-sizing:border-box}:host([disabled]){opacity:.5}:host([hidden]){display:none}slot{text-decoration:inherit}"]);_templateObject137=function _templateObject137(){return data;};return data;}function _templateObject136(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject136=function _templateObject136(){return data;};return data;}function _templateObject135(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;max-width:160px;height:32px;box-sizing:border-box;background:#fff;font-size:12.5px}:host(:focus){z-index:10}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{display:flex;align-items:center;width:100%;height:100%}#input{width:100%;height:100%;padding:0 6px;box-sizing:border-box;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;font-weight:inherit;text-align:inherit;cursor:inherit}#input:-webkit-autofill{z-index:1}#input:-internal-autofill-previewed,#input:-internal-autofill-selected{-webkit-box-shadow:var(--autofill-background-color) 0 0 0 30px inset}:host(:not(:focus)) ::selection{color:inherit;background:0 0}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}"]);_templateObject135=function _templateObject135(){return data;};return data;}function _templateObject134(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <slot></slot>\n        <input id=\"input\" spellcheck=\"false\" part=\"input\"></input>\n      </main>\n    </template>\n  "]);_templateObject134=function _templateObject134(){return data;};return data;}function _templateObject133(){var data=_taggedTemplateLiteral([":host{display:block;color:currentColor;display:flex;align-items:center;justify-content:center;width:17px;height:17px}:host([disabled]){opacity:.5}:host([hidden]){display:none}#svg{width:100%;height:100%;fill:currentColor;stroke:none;overflow:inherit;pointer-events:none}"]);_templateObject133=function _templateObject133(){return data;};return data;}function _templateObject132(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg id=\"svg\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\" width=\"0px\" height=\"0px\"></svg>\n    </template>\n  "]);_templateObject132=function _templateObject132(){return data;};return data;}function _templateObject131(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;width:100%;height:32px;position:relative}:host(:focus){outline:0}:host([disabled]){opacity:.5;pointer-events:none}#open-button{display:flex;align-items:center;justify-content:center;width:18px;height:18px;margin:0 4px;order:9999;color:inherit;d:path(\"M 79 54 L 54 54 L 54 79 L 46 79 L 46 54 L 21 54 L 21 46 L 46 46 L 46 21 L 54 21 L 54 46 L 79 46 L 79 54 Z\");-webkit-app-region:no-drag}#open-button-path{d:inherit;fill:currentColor}"]);_templateObject131=function _templateObject131(){return data;};return data;}function _templateObject130(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n\n      <svg id=\"open-button\" part=\"open-button\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path id=\"open-button-path\"></path>\n      </svg>\n    </template>\n  "]);_templateObject130=function _templateObject130(){return data;};return data;}function _templateObject129(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;justify-content:center;position:relative;width:100%;height:100%;min-width:1px;max-width:220px;padding:0 18px;flex:1 0 0;transition-property:max-width,padding,order;transition-duration:.15s;transition-timing-function:cubic-bezier(0.4,0.0,0.2,1);cursor:default;user-select:none;touch-action:pan-y;box-sizing:border-box;will-change:max-width;z-index:0;-webkit-app-region:no-drag;--trigger-effect:none}:host(:focus){outline:0}:host([closing]){pointer-events:none}:host([selected]){z-index:1}:host([disabled]){pointer-events:none;opacity:.5}#close-button{display:flex;align-items:center;justify-content:center;position:static;left:0;right:initial;width:18px;height:18px;margin:0 0 0 auto;opacity:.8;padding:1px;d:path(\"M 74 31 L 69 26 L 50 45 L 31 26 L 26 31 L 45 50 L 26 69 L 31 74 L 50 55 L 69 74 L 74 69 L 55 50 Z\")}:host([edited]) #close-button{d:path(\"M 68 50 C 68 60 60 68 50 68 C 40 68 32 60 32 50 C 32 40 40 32 50 32 C 60 32 68 40 68 50 Z\")}#close-button:hover{background:rgba(0,0,0,.08);opacity:1}#close-button-path{pointer-events:none;d:inherit;fill:currentColor}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;z-index:-1;contain:strict}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;will-change:opacity,transform;pointer-events:none}#selection-indicator{display:none;position:absolute;bottom:0;left:0;width:100%;height:0;pointer-events:none}:host([selected]) #selection-indicator{display:block}:host([animatingindicator]) #selection-indicator{display:block}"]);_templateObject129=function _templateObject129(){return data;};return data;}function _templateObject128(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"ripples\"></div>\n      <div id=\"selection-indicator\" part=\"selection-indicator\"></div>\n\n      <slot></slot>\n\n      <svg id=\"close-button\" part=\"close-button\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path id=\"close-button-path\"></path>\n      </svg>\n    </template>\n  "]);_templateObject128=function _templateObject128(){return data;};return data;}function _templateObject127(){var data=_taggedTemplateLiteral([":host{display:block;position:fixed;width:0;height:0;z-index:1001}"]);_templateObject127=function _templateObject127(){return data;};return data;}function _templateObject126(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject126=function _templateObject126(){return data;};return data;}function _templateObject125(){var data=_taggedTemplateLiteral([":host{display:block;width:32px;height:32px;box-sizing:border-box;position:relative;overflow:hidden;background-color:#fff;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([hidden]){display:none}:host([disabled]){pointer-events:none;opacity:.4}::slotted(x-popover){width:190px;height:auto;padding:12px 12px}#input{display:flex;width:100%;height:100%;box-sizing:border-box;border:none;background:0 0;padding:0;opacity:0;-webkit-appearance:none}#input::-webkit-color-swatch-wrapper{padding:0}#input::-webkit-color-swatch{border:none}"]);_templateObject125=function _templateObject125(){return data;};return data;}function _templateObject124(){var data=_taggedTemplateLiteral(["\n    <template>\n      <input tabindex=\"-1\" id=\"input\" type=\"color\" value=\"#ffffff\">\n      <slot></slot>\n    </template>\n  "]);_templateObject124=function _templateObject124(){return data;};return data;}function _templateObject123(){var data=_taggedTemplateLiteral([":host{display:block;width:fit-content;--trigger-effect:none}:host([disabled]){opacity:.4;pointer-events:none}:host([hidden]){display:none}:host(:focus){outline:0}#main{display:flex;align-items:center}#indicator{position:relative;width:19px;height:19px;box-sizing:border-box;border:2px solid currentColor;d:path(\"M 0 0 L 100 0 L 100 100 L 0 100 L 0 0 Z M 95 23 L 86 13 L 37 66 L 13.6 41 L 4.5 51 L 37 85 L 95 23 Z\")}:host([mixed]) #indicator{d:path(\"M 0 0 L 100 0 L 100 100 L 0 100 Z M 87 42.6 L 13 42.6 L 13 57.4 L 87 57.4 Z\")}#checkmark{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;d:inherit;transition-property:opacity;transition-timing-function:inherit;transition-duration:inherit}:host([mixed]) #checkmark{opacity:1}:host([toggled]) #checkmark{opacity:1}#checkmark path{fill:currentColor;d:inherit}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}#ripples .ripple{position:absolute;top:0;left:0;width:100%;height:100%;background:currentColor;opacity:.15;z-index:-1;will-change:opacity,transform;border-radius:999px;transform:scale(2.6)}#description{flex:1}"]);_templateObject123=function _templateObject123(){return data;};return data;}function _templateObject122(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"indicator\" part=\"indicator\">\n          <div id=\"ripples\"></div>\n\n          <svg id=\"checkmark\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n            <path></path>\n          </svg>\n        </div>\n\n        <div id=\"description\">\n          <slot></slot>\n        </div>\n      </main>\n    </template>\n  "]);_templateObject122=function _templateObject122(){return data;};return data;}function _templateObject121(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;min-width:20px;min-height:48px;box-sizing:border-box;margin:30px 0}:host([hidden]){display:none}"]);_templateObject121=function _templateObject121(){return data;};return data;}function _templateObject120(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject120=function _templateObject120(){return data;};return data;}function _templateObject119(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:row;align-items:center;justify-content:flex-start;box-sizing:border-box;width:fit-content}:host([hidden]){display:none}"]);_templateObject119=function _templateObject119(){return data;};return data;}function _templateObject118(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject118=function _templateObject118(){return data;};return data;}function _templateObject117(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;justify-content:center;width:fit-content;height:fit-content;min-height:32px;padding:2px 14px;box-sizing:border-box;opacity:1;position:relative;overflow:hidden;--trigger-effect:none}:host(:focus){outline:0}:host(:focus:not(:active)){z-index:1}:host([mixed]){opacity:.75}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}#arrow{color:currentColor;width:8px;height:8px;min-width:8px;margin:0 0 0 4px;d:path(\"M 11.7 19.9 L 49.8 57.9 L 87.9 19.9 L 99.7 31.6 L 49.8 81.4 L -0.0 31.6 Z\")}#arrow path{fill:currentColor;d:inherit}#arrow[hidden]{display:none}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;border-radius:inherit}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}"]);_templateObject117=function _templateObject117(){return data;};return data;}function _templateObject116(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"ripples\"></div>\n      <slot></slot>\n\n      <svg id=\"arrow\" part=\"arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path id=\"arrow-path\"></path>\n      </svg>\n    </template>\n  "]);_templateObject116=function _templateObject116(){return data;};return data;}function _templateObject115(){var data=_taggedTemplateLiteral([":host{display:flex;box-sizing:border-box;align-items:center;justify-content:flex-start}:host([vertical]){flex-flow:column;align-items:flex-start;justify-content:center}:host([hidden]){display:none}"]);_templateObject115=function _templateObject115(){return data;};return data;}function _templateObject114(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject114=function _templateObject114(){return data;};return data;}function _templateObject113(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;user-select:none}:host([hidden]){display:none}#hue-slider{width:100%;height:30px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;background:red;--marker-width:18px}:host([computedsize=small]) #hue-slider{height:24px}:host([computedsize=large]) #hue-slider{height:35px}#hue-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center;background:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}#hue-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#saturation-slider{width:100%;height:30px;margin-top:20px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #saturation-slider{height:24px}:host([computedsize=large]) #saturation-slider{height:35px}#saturation-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#saturation-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#lightness-slider{width:100%;height:30px;margin-top:20px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #lightness-slider{height:24px}:host([computedsize=large]) #lightness-slider{height:35px}#lightness-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#lightness-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#alpha-slider{display:none;width:100%;height:30px;margin-top:20px;margin-bottom:8px;padding:0 calc(var(--marker-width)/ 2);position:relative;box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}"]);_templateObject113=function _templateObject113(){return data;};return data;}function _templateObject112(){var data=_taggedTemplateLiteral(["\n    <template>\n      <x-box vertical>\n        <div id=\"hue-slider\" part=\"slider\">\n          <div id=\"hue-slider-track\">\n            <div id=\"hue-slider-marker\" part=\"marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"saturation-slider\" part=\"slider\">\n          <div id=\"saturation-slider-track\">\n            <div id=\"saturation-slider-marker\" part=\"marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"lightness-slider\" part=\"slider\">\n          <div id=\"lightness-slider-track\">\n            <div id=\"lightness-slider-marker\" part=\"marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"alpha-slider\" part=\"slider\">\n          <div id=\"alpha-slider-gradient\"></div>\n          <div id=\"alpha-slider-track\">\n            <div id=\"alpha-slider-marker\" part=\"marker\"></div>\n          </div>\n        </div>\n      </x-box>\n    </template>\n  "]);_templateObject112=function _templateObject112(){return data;};return data;}function _templateObject111(){var data=_taggedTemplateLiteral([":host{display:block;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:1000;touch-action:none;will-change:opacity;cursor:default;background:rgba(0,0,0,.5)}:host([hidden]){display:none}"]);_templateObject111=function _templateObject111(){return data;};return data;}function _templateObject110(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;margin:8px 0;box-sizing:border-box}:host([animating]){overflow:hidden}#main{position:relative;width:100%;height:100%}#arrow-container{position:absolute;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:flex-start;pointer-events:none}#arrow{display:flex;width:16px;height:16px;d:path(\"M 26 20 L 26 80 L 74 50 Z\");transform:rotate(0);transition:transform .25s cubic-bezier(.4, 0, .2, 1);color:currentColor}#arrow:focus{background:0 0;outline:0}:host([expanded]) #arrow{transform:rotate(90deg)}#arrow path{fill:currentColor;d:inherit}"]);_templateObject110=function _templateObject110(){return data;};return data;}function _templateObject109(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"arrow-container\">\n          <svg id=\"arrow\" part=\"arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\" tabindex=\"1\">\n            <path></path>\n          </svg>\n        </div>\n\n        <slot></slot>\n      </main>\n    </template>\n  "]);_templateObject109=function _templateObject109(){return data;};return data;}function _templateObject108(){var data=_taggedTemplateLiteral(["<bx-editor></bx-editor>"]);_templateObject108=function _templateObject108(){return data;};return data;}function _templateObject107(){var data=_taggedTemplateLiteral(["<x-doctab title=\"Untitled\"><x-label>Untitled</x-label></x-doctab>"]);_templateObject107=function _templateObject107(){return data;};return data;}function _templateObject106(){var data=_taggedTemplateLiteral(["<bx-editor></bx-editor>"]);_templateObject106=function _templateObject106(){return data;};return data;}function _templateObject105(){var data=_taggedTemplateLiteral(["<x-doctab title=\"Untitled\"><x-label>Untitled</x-label></x-doctab>"]);_templateObject105=function _templateObject105(){return data;};return data;}function _templateObject104(){var data=_taggedTemplateLiteral(["<bx-editor></bx-editor>"]);_templateObject104=function _templateObject104(){return data;};return data;}function _templateObject103(){var data=_taggedTemplateLiteral(["<x-doctab title=\"Untitled\"><x-label>Untitled</x-label></x-doctab>"]);_templateObject103=function _templateObject103(){return data;};return data;}function _templateObject102(){var data=_taggedTemplateLiteral(["<bx-editor></bx-editor>"]);_templateObject102=function _templateObject102(){return data;};return data;}function _templateObject101(){var data=_taggedTemplateLiteral(["<x-doctab title=\"","\"><x-label>","</x-label></x-doctab>"]);_templateObject101=function _templateObject101(){return data;};return data;}function _templateObject100(){var data=_taggedTemplateLiteral(["<bx-preferences></bx-preferences>"]);_templateObject100=function _templateObject100(){return data;};return data;}function _templateObject99(){var data=_taggedTemplateLiteral(["<x-doctab title=\"Preferences\" value=\"preferences\"><x-label>Preferences</x-label></x-doctab>"]);_templateObject99=function _templateObject99(){return data;};return data;}function _templateObject98(){var data=_taggedTemplateLiteral(["<bx-about></bx-about>"]);_templateObject98=function _templateObject98(){return data;};return data;}function _templateObject97(){var data=_taggedTemplateLiteral(["<x-doctab title=\"About\" value=\"about\"><x-label>About</x-label></x-doctab>"]);_templateObject97=function _templateObject97(){return data;};return data;}function _templateObject96(){var data=_taggedTemplateLiteral(["<dialog id=\"message-dialog\" data-param=\"message\"></dialog>"]);_templateObject96=function _templateObject96(){return data;};return data;}function _templateObject95(){var data=_taggedTemplateLiteral(["<x-input class=\"input\" part=\"input\" value=\"","\" validation=\"instant\"></x-input>"]);_templateObject95=function _templateObject95(){return data;};return data;}function _templateObject94(){var data=_taggedTemplateLiteral(["",""]);_templateObject94=function _templateObject94(){return data;};return data;}function _templateObject93(){var data=_taggedTemplateLiteral(["<div class=\"property-item\"><x-checkbox class=\"checkbox\" toggled></x-checkbox><div class=\"property-div\"><span class=\"name\">","</span>: <span class=\"value\">","</span>;</div></div>"]);_templateObject93=function _templateObject93(){return data;};return data;}function _templateObject92(){var data=_taggedTemplateLiteral(["<div class=\"cascade-item\" data-origin=\"presentation-attributes\"><div class=\"heading\" part=\"heading\">","</div><div class=\"prefix\"><span class=\"selector\" disabled=\"disabled\">","</span> {</div><div class=\"properties\"></div><div class=\"sufix\">}</div></div>"]);_templateObject92=function _templateObject92(){return data;};return data;}function _templateObject91(){var data=_taggedTemplateLiteral(["<div class=\"property-item\"><x-checkbox class=\"checkbox\" toggled></x-checkbox><div class=\"property-div\"><span class=\"name\">","</span>: <span class=\"value\">","</span>;</div></div>"]);_templateObject91=function _templateObject91(){return data;};return data;}function _templateObject90(){var data=_taggedTemplateLiteral(["<div class=\"cascade-item\" data-origin=\"style-element\"><div class=\"heading\" part=\"heading\">","</div><div class=\"prefix\"><span class=\"selector\">","</span> {</div><div class=\"properties\"></div><div class=\"sufix\">}</div></div>"]);_templateObject90=function _templateObject90(){return data;};return data;}function _templateObject89(){var data=_taggedTemplateLiteral(["<div class=\"property-item\"><x-checkbox class=\"checkbox\" toggled></x-checkbox><div class=\"property-div\"><span class=\"name\">","</span>: <span class=\"value\">","</span>;</div></div>"]);_templateObject89=function _templateObject89(){return data;};return data;}function _templateObject88(){var data=_taggedTemplateLiteral(["<div class=\"cascade-item\" data-origin=\"style-attribute\"><div class=\"heading\" part=\"heading\">","</div><div class=\"prefix\"><span class=\"selector\" disabled=\"disabled\">element.style</span> {</div><div class=\"properties\"></div><div class=\"sufix\">}</div></div>"]);_templateObject88=function _templateObject88(){return data;};return data;}function _templateObject87(){var data=_taggedTemplateLiteral(["<div class=\"property-item\"><x-checkbox class=\"checkbox\" toggled></x-checkbox><div class=\"property-div\"><span class=\"name\"></span>: <span class=\"value\">initial</span>;</div></div>"]);_templateObject87=function _templateObject87(){return data;};return data;}function _templateObject86(){var data=_taggedTemplateLiteral(["<div id=\"autocompletion-list\" part=\"autocompletion-list\" hidden></div>"]);_templateObject86=function _templateObject86(){return data;};return data;}function _templateObject85(){var data=_taggedTemplateLiteral(["<div id=\"autocompletion-list\" part=\"autocompletion-list\" hidden></div>"]);_templateObject85=function _templateObject85(){return data;};return data;}function _templateObject84(){var data=_taggedTemplateLiteral(["<g>"]);_templateObject84=function _templateObject84(){return data;};return data;}function _templateObject83(){var data=_taggedTemplateLiteral(["",""]);_templateObject83=function _templateObject83(){return data;};return data;}function _templateObject82(){var data=_taggedTemplateLiteral(["",""]);_templateObject82=function _templateObject82(){return data;};return data;}function _templateObject81(){var data=_taggedTemplateLiteral(["",""]);_templateObject81=function _templateObject81(){return data;};return data;}function _templateObject80(){var data=_taggedTemplateLiteral(["",""]);_templateObject80=function _templateObject80(){return data;};return data;}function _templateObject79(){var data=_taggedTemplateLiteral(["",""]);_templateObject79=function _templateObject79(){return data;};return data;}function _templateObject78(){var data=_taggedTemplateLiteral(["",""]);_templateObject78=function _templateObject78(){return data;};return data;}function _templateObject77(){var data=_taggedTemplateLiteral(["",""]);_templateObject77=function _templateObject77(){return data;};return data;}function _templateObject76(){var data=_taggedTemplateLiteral(["<img id=\"ghost\"></img>"]);_templateObject76=function _templateObject76(){return data;};return data;}function _templateObject75(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\"><img style=\"width: ","px; height: ","px;\" src=\"","\"></div>"]);_templateObject75=function _templateObject75(){return data;};return data;}function _templateObject74(){var data=_taggedTemplateLiteral(["<img id=\"ghost\"></img>"]);_templateObject74=function _templateObject74(){return data;};return data;}function _templateObject73(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\"><img style=\"width: ","px; height: ","px;\" src=\"","\"></div>"]);_templateObject73=function _templateObject73(){return data;};return data;}function _templateObject72(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\" data-id=\"","\" style=\"background: linear-gradient(\n              to right,\n              ","  0%, ","  25%,\n              "," 25%, ","  50%,\n              "," 50%, ","  75%,\n              "," 75%, "," 100%\n            );\"></div>"]);_templateObject72=function _templateObject72(){return data;};return data;}function _templateObject71(){var data=_taggedTemplateLiteral(["\n          <svg viewBox=\"0 0 "," ","\">\n            <rect x=\"0\"         width=\"","\" height=\"","\" style=\"fill: ",";\"></rect>\n            <rect x=\"","\"     width=\"","\" height=\"","\" style=\"fill: ",";\"></rect>\n            <rect x=\"","\" width=\"","\" height=\"","\" style=\"fill: ",";\"></rect>\n            <rect x=\"","\" width=\"","\" height=\"","\" style=\"fill: ",";\"></rect>\n          </svg>\n        "]);_templateObject71=function _templateObject71(){return data;};return data;}function _templateObject70(){var data=_taggedTemplateLiteral(["<div id=\"ghost\"></div>"]);_templateObject70=function _templateObject70(){return data;};return data;}function _templateObject69(){var data=_taggedTemplateLiteral(["\n        <svg viewBox=\"0 0 "," ","\">\n          <rect x=\"0\"         width=\"","\" height=\"","\" style=\"fill: ",";\"></rect>\n          <rect x=\"","\"     width=\"","\" height=\"","\" style=\"fill: ",";\"></rect>\n          <rect x=\"","\" width=\"","\" height=\"","\" style=\"fill: ",";\"></rect>\n          <rect x=\"","\" width=\"","\" height=\"","\" style=\"fill: ",";\"></rect>\n        </svg>\n      "]);_templateObject69=function _templateObject69(){return data;};return data;}function _templateObject68(){var data=_taggedTemplateLiteral(["<div id=\"ghost\"></div>"]);_templateObject68=function _templateObject68(){return data;};return data;}function _templateObject67(){var data=_taggedTemplateLiteral(["<div class=\"font-item item\"><div class=\"label\" style=\"","\">","</div></div>"]);_templateObject67=function _templateObject67(){return data;};return data;}function _templateObject66(){var data=_taggedTemplateLiteral(["<div class=\"family-item item\" data-family=\"","\"><div class=\"background\"></div><div class=\"main\"><div class=\"arrow-button\"><svg class=\"arrow-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><path d=\"M 0.736 20.259 L 49.999 87.816 L 99.264 20.259 Z\"/></svg></div><div class=\"label\" style=\"font-family: '","'\">","</div><x-button class=\"counter-button\" skin=\"recessed\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin font family (prevent garbage collector from auto-removing the family when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div><div class=\"font-items-outer\"><div class=\"font-items\" hidden></div></div></div>"]);_templateObject66=function _templateObject66(){return data;};return data;}function _templateObject65(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>Family name</x-label></x-input>"]);_templateObject65=function _templateObject65(){return data;};return data;}function _templateObject64(){var data=_taggedTemplateLiteral(["<div class=\"item\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"/images/logos/logo-full.svg\" style=\"filter: url(#",")\"></div><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin filter (prevent garbage collector from auto-removing the filter when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject64=function _templateObject64(){return data;};return data;}function _templateObject63(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject63=function _templateObject63(){return data;};return data;}function _templateObject62(){var data=_taggedTemplateLiteral(["\n            <g class=\"edge\">\n              <path class=\"edge-outline\"></path>\n              <path class=\"edge-inline\"></path>\n              <foreignObject\n                class=\"label-text\"\n                width=\"","\"\n                height=\"","\"\n                style=\"line-height: ","px;\">\n              </foreignObject>\n            </g>\n          "]);_templateObject62=function _templateObject62(){return data;};return data;}function _templateObject61(){var data=_taggedTemplateLiteral(["\n            <g class=\"node\" data-name=\"","\">\n              <rect class=\"background\" width=\"40\" height=\"40\"></rect>\n              <foreignObject x=\"7\" y=\"7\" width=\"26\" height=\"26\">\n                <x-icon name=\"","\"></x-icon>\n              </foreignObject>\n            </g>\n          "]);_templateObject61=function _templateObject61(){return data;};return data;}function _templateObject60(){var data=_taggedTemplateLiteral(["<path id=\"graph-ghost-edge\"></path>"]);_templateObject60=function _templateObject60(){return data;};return data;}function _templateObject59(){var data=_taggedTemplateLiteral(["\n            <g transform=\"translate(0 ",")\">\n              <title>Page ","</title>\n            </g>\n          "]);_templateObject59=function _templateObject59(){return data;};return data;}function _templateObject58(){var data=_taggedTemplateLiteral(["<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"></svg>"]);_templateObject58=function _templateObject58(){return data;};return data;}function _templateObject57(){var data=_taggedTemplateLiteral(["<x-button value=\"","\" condensed toggled><x-label>","</x-label></x-button>"]);_templateObject57=function _templateObject57(){return data;};return data;}function _templateObject56(){var data=_taggedTemplateLiteral(["<div class=\"item\"><svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#","\" width=\"100%\" height=\"100%\"></use></svg><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin symbol (prevent garbage collector from auto-removing the symbol when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject56=function _templateObject56(){return data;};return data;}function _templateObject55(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject55=function _templateObject55(){return data;};return data;}function _templateObject54(){var data=_taggedTemplateLiteral(["<div class=\"item\"><svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"xMidYMid\" ",">","</svg><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin marker (prevent garbage collector from auto-removing the marker when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject54=function _templateObject54(){return data;};return data;}function _templateObject53(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject53=function _templateObject53(){return data;};return data;}function _templateObject52(){var data=_taggedTemplateLiteral(["<div class=\"item\"><svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 50 50\"><rect width=\"50\" height=\"50\" style=\"fill: url(#",")\"></rect></svg><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin pattern (prevent garbage collector from auto-removing the pattern when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject52=function _templateObject52(){return data;};return data;}function _templateObject51(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject51=function _templateObject51(){return data;};return data;}function _templateObject50(){var data=_taggedTemplateLiteral(["<div class=\"item\"><div class=\"thumbnail\" part=\"thumbnail\"><div class=\"thumbnail-inner\" style=\"",";\"></div></div><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin gradient (prevent garbage collector from auto-removing the gradient when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject50=function _templateObject50(){return data;};return data;}function _templateObject49(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject49=function _templateObject49(){return data;};return data;}function _templateObject48(){var data=_taggedTemplateLiteral(["<div class=\"item\"><div class=\"thumbnail\" part=\"thumbnail\"><div class=\"thumbnail-inner\" style=\"background: ",";\"></div></div><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin color (prevent garbage collector from auto-removing the color when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject48=function _templateObject48(){return data;};return data;}function _templateObject47(){var data=_taggedTemplateLiteral(["\n        <linearGradient id=\"","\">\n          <stop style=\"stop-color: ",";\"></stop>\n        </linearGradient>\n      "]);_templateObject47=function _templateObject47(){return data;};return data;}function _templateObject46(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject46=function _templateObject46(){return data;};return data;}function _templateObject45(){var data=_taggedTemplateLiteral(["",""]);_templateObject45=function _templateObject45(){return data;};return data;}function _templateObject44(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-depth=\"","\"><div class=\"background\"></div><div class=\"main\" style=\"padding-left: ","px;\"><div class=\"arrow-button\"><svg class=\"arrow-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#arrow\" width=\"100%\" height=\"100%\"></use></svg></div><svg class=\"object-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#","\" width=\"100%\" height=\"100%\"></use></svg><div class=\"label\"></div><div class=\"action-buttons\"><div class=\"lock-button\"><svg class=\"lock-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#lock-on\" width=\"100%\" height=\"100%\"></use></svg></div><div class=\"visibility-button\"><svg class=\"visibility-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#visibility-hidden\" width=\"100%\" height=\"100%\"></use></svg></div></div></div><div class=\"children-outer\"><div class=\"children\"></div></div></div>"]);_templateObject44=function _templateObject44(){return data;};return data;}function _templateObject43(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label>","</x-label></x-input>"]);_templateObject43=function _templateObject43(){return data;};return data;}function _templateObject42(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject42=function _templateObject42(){return data;};return data;}function _templateObject41(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject41=function _templateObject41(){return data;};return data;}function _templateObject40(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject40=function _templateObject40(){return data;};return data;}function _templateObject39(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject39=function _templateObject39(){return data;};return data;}function _templateObject38(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject38=function _templateObject38(){return data;};return data;}function _templateObject37(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject37=function _templateObject37(){return data;};return data;}function _templateObject36(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject36=function _templateObject36(){return data;};return data;}function _templateObject35(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject35=function _templateObject35(){return data;};return data;}function _templateObject34(){var data=_taggedTemplateLiteral(["\n            <text x=\"","\" y=\"","\" style=\"font-size: 20px;\">Enter your text here</text>\n          "]);_templateObject34=function _templateObject34(){return data;};return data;}function _templateObject33(){var data=_taggedTemplateLiteral(["\n            <path\n              style=\"fill: none; stroke: black;\"\n              d=\"M "," "," C "," "," "," ","   "," ","\">\n            </path>\n          "]);_templateObject33=function _templateObject33(){return data;};return data;}function _templateObject32(){var data=_taggedTemplateLiteral(["\n            <polygon\n              style=\"stroke: black;\"\n              points=\""," "," "," ","\">\n            </polygon>\n          "]);_templateObject32=function _templateObject32(){return data;};return data;}function _templateObject31(){var data=_taggedTemplateLiteral(["\n            <polyline\n              style=\"stroke: black;\"\n              points=\""," "," "," ","\">\n            </polyline>\n          "]);_templateObject31=function _templateObject31(){return data;};return data;}function _templateObject30(){var data=_taggedTemplateLiteral(["\n            <line\n              style=\"stroke: black;\"\n              x1=\"","\"\n              y1=\"","\"\n              x2=\"","\"\n              y2=\"","\">\n            </line>\n          "]);_templateObject30=function _templateObject30(){return data;};return data;}function _templateObject29(){var data=_taggedTemplateLiteral(["\n            <ellipse\n              cx=\"","\"\n              cy=\"","\"\n              rx=\"50\"\n              ry=\"50\">\n            </ellipse>\n          "]);_templateObject29=function _templateObject29(){return data;};return data;}function _templateObject28(){var data=_taggedTemplateLiteral(["\n            <circle\n              cx=\"","\"\n              cy=\"","\"\n              r=\"50\">\n            </circle>\n          "]);_templateObject28=function _templateObject28(){return data;};return data;}function _templateObject27(){var data=_taggedTemplateLiteral(["\n            <rect\n              x=\"","\"\n              y=\"","\"\n              width=\"","\"\n              height=\"","\">\n            </rect>\n          "]);_templateObject27=function _templateObject27(){return data;};return data;}function _templateObject26(){var data=_taggedTemplateLiteral(["\n            <image\n              x=\"","\"\n              y=\"","\"\n              width=\"100\"\n              height=\"100\"\n              href=\"","\">\n            </image>\n          "]);_templateObject26=function _templateObject26(){return data;};return data;}function _templateObject25(){var data=_taggedTemplateLiteral(["<a></a>"]);_templateObject25=function _templateObject25(){return data;};return data;}function _templateObject24(){var data=_taggedTemplateLiteral(["<g></g>"]);_templateObject24=function _templateObject24(){return data;};return data;}function _templateObject23(){var data=_taggedTemplateLiteral(["<path id=\"","\" d=\"","\"></path>"]);_templateObject23=function _templateObject23(){return data;};return data;}function _templateObject22(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-family=\"","\"><img src=\"","\" part=\"thumbnail\"></div>"]);_templateObject22=function _templateObject22(){return data;};return data;}function _templateObject21(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-family=\"","\"><div class=\"label\" style=\"font-family: '","'\">","</div></div>"]);_templateObject21=function _templateObject21(){return data;};return data;}function _templateObject20(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-value=\"#","\"><div class=\"thumbnail\"><img src=\"","\" style=\"filter: url(#",");\"></div><div class=\"label\">#","</div></div>"]);_templateObject20=function _templateObject20(){return data;};return data;}function _templateObject19(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-value=\"","\"><svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 50 50\"><rect width=\"50\" height=\"50\" style=\"fill: url(#",")\"></rect></svg><div class=\"label\">#","</div></div>"]);_templateObject19=function _templateObject19(){return data;};return data;}function _templateObject18(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-value=\"","\"><div class=\"thumbnail\" part=\"thumbnail\"><div class=\"thumbnail-inner\" style=\"",";\"></div></div><div class=\"label\">#","</div></div>"]);_templateObject18=function _templateObject18(){return data;};return data;}function _templateObject17(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-value=\"","\"><div class=\"thumbnail\" part=\"thumbnail\"><div class=\"thumbnail-inner\" style=\"background: ",";\"></div></div><div class=\"label\">#","</div></div>"]);_templateObject17=function _templateObject17(){return data;};return data;}function _templateObject16(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\"><div class=\"inner\"><x-icon class=\"icon\" name=\"","\"></x-icon><div class=\"label\">","</div></div></div>"]);_templateObject16=function _templateObject16(){return data;};return data;}function _templateObject15(){var data=_taggedTemplateLiteral(["<bx-grid x=\"0\" y=\"0\" width=\"100\" height=\"100\"></bx-grid>"]);_templateObject15=function _templateObject15(){return data;};return data;}function _templateObject14(){var data=_taggedTemplateLiteral(["<defs></defs>"]);_templateObject14=function _templateObject14(){return data;};return data;}function _templateObject13(){var data=_taggedTemplateLiteral(["<g data-bx-workspace=\"marker\">","</g>"]);_templateObject13=function _templateObject13(){return data;};return data;}function _templateObject12(){var data=_taggedTemplateLiteral(["<g data-bx-workspace=\"pattern\">","</g>"]);_templateObject12=function _templateObject12(){return data;};return data;}function _templateObject11(){var data=_taggedTemplateLiteral(["<g data-bx-workspace=\"symbol\">","</g>"]);_templateObject11=function _templateObject11(){return data;};return data;}function _templateObject10(){var data=_taggedTemplateLiteral(["<g data-bx-workspace=\"master\"></g>"]);_templateObject10=function _templateObject10(){return data;};return data;}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _templateObject9(){var data=_taggedTemplateLiteral(["<tspan x=\"","\" dy=\"","em\">","</tspan>"]);_templateObject9=function _templateObject9(){return data;};return data;}function _templateObject8(){var data=_taggedTemplateLiteral(["<line class=\"repr\" x1=\"","\" y1=\"","\" x2=\"","\" y2=\"","\"></line>"]);_templateObject8=function _templateObject8(){return data;};return data;}function _templateObject7(){var data=_taggedTemplateLiteral(["<bx-guide x=\"","\" y=\"","\" angle=\"","\"></bx-guide>"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral(["\n      <g class=\"repr\" transform=\"translate(",", ",") rotate(",")\" data-selected>\n        <line class=\"outer-line\" x1=\"0\" y1=\"","\" x2=\"0\" y2=\"","\"></line>\n        <line class=\"inner-line\" x1=\"0\" y1=\"","\" x2=\"0\" y2=\"","\"></line>\n        <circle class=\"grippie\" cx=\"0\" cy=\"0\" r=\"","\"></rect>\n      </g>\n    "]);_templateObject6=function _templateObject6(){return data;};return data;}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _templateObject5(){var data=_taggedTemplateLiteral(["",""]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral(["\n            <x-tag class=\"tag\" value=\"","\" removable>\n              <x-label>","</x-label>\n            </x-tag>\n          "]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral(["\n            <x-tag class=\"tag\" value=\"","\" removable>\n              <x-label slot=\"scope\">","</x-label>\n              <x-label>","</x-label>\n            </x-tag>\n          "]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral(["<x-doctab><x-label>Untitled</x-label></x-doctab>"]);_templateObject2=function _templateObject2(){return data;};return data;}function _wrapNativeSuper(Class){var _cache=typeof Map==="function"?new Map():undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!=="function"){throw new TypeError("Super expression must either be null or a function");}if(typeof _cache!=="undefined"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper);}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor);}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class);};return _wrapNativeSuper(Class);}function _construct(Parent,args,Class){if(_isNativeReflectConstruct()){_construct=Reflect.construct;}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor();if(Class)_setPrototypeOf(instance,Class.prototype);return instance;};}return _construct.apply(null,arguments);}function _isNativeFunction(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _templateObject(){var data=_taggedTemplateLiteral(["",""]);_templateObject=function _templateObject(){return data;};return data;}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0);}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}));}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);});};}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _toArray(arr){return _arrayWithHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableRest();}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e2002){throw _e2002;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]();},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2003){didErr=true;err=_e2003;},f:function f(){try{if(!normalCompletion&&it["return"]!=null)it["return"]();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}!function(){"use strict";var _temp2,_temp3;SVGUseElement.prototype.getBBox=function(){var t=SVGGraphicsElement.prototype.getBBox.call(this);return t.x+=this.x.baseVal.value,t.y+=this.y.baseVal.value,t;};var t=["iPhone","iPad"].includes(navigator.platform)||navigator.platform.startsWith("Mac"),e=(navigator.userAgent.toLowerCase().indexOf("android"),"596389"),i="650791",s="522135",n='This is an Adobe\xae Illustrator\xae file that was saved without PDF content. To import this file in other applications, it should be re-saved from Adobe Illustrator with the "Create PDF Compatible File" option turned on.',o="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",l={bx:"https://boxy-svg.com",html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/xmlns/"},h=["px","cm","mm","in","pt","pc","q"],a={px:1,"in":96,cm:96/2.54,mm:96/2.54/10,q:96/2.54/40,pt:96/72,pc:16};var r=["em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","q","in","pc","pt","px"];var d=["none","xMinYMin","xMidYMin","xMaxYMin","xMinYMid","xMidYMid","xMaxYMid","xMinYMax","xMidYMax","xMaxYMax"],c=[[-3,-3],[-2,-3],[-1,-3],[0,-3],[1,-3],[2,-3],[3,-3],[-3,-2],[-2,-2],[-1,-2],[0,-2],[1,-2],[2,-2],[3,-2],[-3,-1],[-2,-1],[-1,-1],[0,-1],[1,-1],[2,-1],[3,-1],[-3,0],[-2,0],[-1,0],[0,0],[1,0],[2,0],[3,0],[-3,1],[-2,1],[-1,1],[0,1],[1,1],[2,1],[3,1],[-3,2],[-2,2],[-1,2],[0,2],[1,2],[2,2],[3,2],[-3,3],[-2,3],[-1,3],[0,3],[1,3],[2,3],[3,3]],p=["serif","sans-serif","cursive","fantasy","monospace","system-ui","emoji","math","fangsong"],u={"drop-shadow":"Drop Shadow","inner-shadow":"Inner Shadow","point-light":"Point Light","spot-light":"Spot Light",outline:"Outline","gaussian-blur":"Gaussian Blur","motion-blur":"Motion Blur",warp:"Warp",pixelete:"Pixelete",morphology:"Morphology","black-and-white":"Black and White",grayscale:"Grayscale",sepia:"Sepia",saturate:"Saturate","hue-rotate":"Hue Rotate",invert:"Invert",brightness:"Brightness",contrast:"Contrast",posterize:"Posterize",duotone:"Duotone","x-ray":"X-ray"},x=["circle","ellipse","line","path","polygon","polyline","rect"],b=["text","textPath","tspan"],m=[].concat(x,b,["image"]),g=[].concat(x,["image","text","g","a","svg","use"]),f=[].concat(m,["svg","g","a","use"]),w=[].concat(x,b),v=["solidcolor","linearGradient","radialGradient","pattern"],y=["desc","bx-title"],k=["svg","g","defs","symbol","use"],S=[].concat(x,["text","use"]),_=[].concat(m,["clipPath","a","g"]),C=[].concat(m,["a","g"]),M=[].concat(m,["a","g"]),P=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence"],D=["rect","circle","ellipse","line","path","polygon","polyline","image","text","tspan","use","svg","a","g"],z=["path","line","polyline","polygon"],O={fill:"#d8d8d8"},E={fill:"none",stroke:"black","stroke-width":"1px"},T={fill:"#333333","font-size":"28px","font-family":"Roboto Slab"},A={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"},$=["direction","dominant-baseline","font-family","font-size","font-stretch","font-style","font-variant","font-weight","letter-spacing","text-anchor","text-decoration","text-rendering","unicode-bidi","word-spacing","writing-mode"],I=["fill","stroke","filter","clip-path","mask","marker-mid","marker-start","marker-end"],L={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},B={100:["100","200","300","400","500","600","700","800","900"],200:["200","100","300","400","500","600","700","800","900"],300:["300","200","100","400","500","600","700","800","900"],400:["400","500","300","200","100","600","700","800","900"],500:["500","400","300","200","100","600","700","800","900"],600:["600","700","800","900","500","400","300","200","100"],700:["700","800","900","600","500","400","300","200","100"],800:["800","900","700","600","500","400","300","200","100"],900:["900","800","700","600","500","400","300","200","100"]},R={a:[].concat(y,v,x,k,["a","clipPath","filter","image","marker","mask","script","style","text","view","#text"]),"bx-title":["#text"],circle:[].concat(y,v,["clipPath","marker","mask","script","style"]),clipPath:[].concat(y,x,["text","use","script","style"]),defs:[].concat(y,v,x,k,["a","clipPath","filter","image","marker","mask","script","style","text","view","bx-grid","bx-guide"]),desc:["#text"],ellipse:[].concat(y,v,["clipPath","marker","mask","script","style"]),feBlend:[].concat(y,["script","style"]),feColorMatrix:[].concat(y,["script","style"]),feComponentTransfer:[].concat(y,["feFuncA","feFuncB","feFuncG","feFuncR","script","style"]),feComposite:[].concat(y,["script","style"]),feConvolveMatrix:[].concat(y,["script","style"]),feDiffuseLighting:[].concat(y,["feDistantLight","fePointLight","feSpotLight","script","style"]),feDisplacementMap:[].concat(y,["script","style"]),feDistantLight:[].concat(y,["script","style"]),feDropShadow:[].concat(y,["script","style"]),feFlood:[].concat(y,["script","style"]),feFuncR:[].concat(y,["script","style"]),feFuncG:[].concat(y,["script","style"]),feFuncB:[].concat(y,["script","style"]),feFuncA:[].concat(y,["script","style"]),feGaussianBlur:[].concat(y,["script","style"]),feImage:[].concat(y,["script","style"]),feMerge:[].concat(y,["feMergeNode","script","style"]),feMergeNode:[].concat(y,["script","style"]),feMorphology:[].concat(y,["script","style"]),feOffset:[].concat(y,["script","style"]),fePointLight:[].concat(y,["script","style"]),feSpecularLighting:[].concat(y,["feDistantLight","fePointLight","feSpotLight","script","style"]),feSpotLight:[].concat(y,["script","style"]),feTile:[].concat(y,["script","style"]),feTurbulence:[].concat(y,["script","style"]),filter:[].concat(P,y,["script","style"]),g:[].concat(y,v,x,k,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),image:[].concat(y,["clipPath","mask","script","style"]),line:[].concat(y,v,["clipPath","marker","mask","script","style"]),linearGradient:[].concat(y,["script","stop","style"]),marker:[].concat(y,v,x,k,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),mask:[].concat(y,x,k,v,["a","clipPath","filter","image","marker","mask","script","style","text","view","text"]),path:[].concat(y,v,["clipPath","marker","mask","script","style"]),pattern:[].concat(y,v,x,k,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),polygon:[].concat(y,v,["clipPath","marker","mask","script","style"]),polyline:[].concat(y,v,["clipPath","marker","mask","script","style"]),radialGradient:[].concat(y,["script","stop","style"]),rect:[].concat(y,v,["clipPath","marker","mask","script","style"]),script:["#text"],solidcolor:[].concat(y,["script","style"]),stop:[].concat(y,["script","style"]),style:["#text"],svg:[].concat(y,v,x,k,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),symbol:[].concat(y,v,x,k,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),text:[].concat(y,v,["a","clipPath","marker","mask","script","style","tspan","textPath","#text"]),textPath:[].concat(y,v,["a","clipPath","marker","mask","script","style","tspan","#text"]),tspan:[].concat(y,v,["a","script","style","tspan","#text"]),use:[].concat(y,v,["clipPath","mask","script","style"]),view:[].concat(y,["script","style"])},G=[{name:"alignment-baseline",presentationAttributeName:"alignment-baseline",initialValue:"baseline",values:[{type:"token",tokens:["baseline","text-bottom","alphabetic","ideographic","middle","central","mathematical","text-top","bottom","center","top","inherit","initial","unset"]}],appliesTo:["text","tspan","textPath","text a"],animatable:!0,inheritable:!1},{name:"baseline-shift",presentationAttributeName:"baseline-shift",initialValue:"0",values:[{type:"number"},{type:"percentage"},{type:"length"},{type:"token",tokens:["sub","super","inherit","initial","unset"]}],appliesTo:["text","tspan","textPath","text a"],animatable:!0,inheritable:!1},{name:"clip-path",presentationAttributeName:"clip-path",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["fill-box","stroke-box","view-box","none","inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use"]),animatable:!1,inheritable:!1},{name:"clip-rule",presentationAttributeName:"clip-rule",initialValue:"nonzero",values:[{type:"token",tokens:["nonzero","evenodd","inherit","initial","unset"]}],appliesTo:[].concat(m,["use"]),animatable:!1,inheritable:!0},{name:"color",presentationAttributeName:"color",initialValue:"#000",values:[{type:"color"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use"]),animatable:!0,inheritable:!0},{name:"color-interpolation",presentationAttributeName:"color-interpolation",initialValue:"sRGB",values:[{type:"token",tokens:["auto","sRGB","linearRGB","inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use","linearGradient","radialGradient"]),animatable:!0,inheritable:!0},{name:"color-interpolation-filters",presentationAttributeName:"color-interpolation-filters",initialValue:"linearRGB",values:[{type:"token",tokens:["auto","sRGB","linearRGB","inherit","initial","unset"]}],appliesTo:[].concat(P),animatable:!1,inheritable:!0},{name:"color-rendering",presentationAttributeName:"color-rendering",initialValue:"auto",values:[{type:"token",tokens:["auto","optimizeSpeed","optimizeQuality","inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use","linearGradient","radialGradient"]),animatable:!0,inheritable:!0},{name:"cursor",presentationAttributeName:"cursor",initialValue:"auto",values:[{type:"url"},{type:"token",tokens:["context-menu","help","pointer","progress","wait ","cell","crosshair","text","vertical-text","alias","copy","move","no-drop","not-allowed","grab","grabbing","e-resize","n-resize","ne-resize","nw-resize","s-resize","se-resize","sw-resize","w-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","col-resize","row-resize","all-scroll","zoom-in","zoom-out ","inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use"]),animatable:!1,inheritable:!0},{name:"direction",initialValue:"ltr",values:[{type:"token",tokens:["ltr","rtl","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],presentationAttributeName:"direction",animatable:!1,inheritable:!0},{name:"display",presentationAttributeName:"display",initialValue:"inline",values:[{type:"token",tokens:["none","inline","block","inherit","initial","unset"]}],appliesTo:[].concat(m,["textPath","tspan","svg","g","a","use"]),animatable:!1,inheritable:!1},{name:"dominant-baseline",presentationAttributeName:"dominant-baseline",initialValue:"auto",values:[{type:"token",tokens:["auto","use-script","no-change","reset-size","ideographic","alphabetic","hanging","mathematical","central","middle","text-after-edge","text-before-edge","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"fill",presentationAttributeName:"fill",initialValue:"#000",values:[{type:"color"},{type:"url"},{type:"token",tokens:["none","currentColor","inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"fill-opacity",presentationAttributeName:"fill-opacity",initialValue:"1",values:[{type:"number"},{type:"percentage"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"fill-rule",presentationAttributeName:"fill-rule",initialValue:"nonzero",values:[{type:"token",tokens:["nonzero","evenodd","inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"filter",presentationAttributeName:"filter",initialValue:"none",values:[{type:"filter-function-list"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(m,["textPath","tspan","g","a","svg","use"]),animatable:!0,inheritable:!1},{name:"flood-color",presentationAttributeName:"flood-color",initialValue:"#000",values:[{type:"color"},{type:"token",tokens:["currentColor","inherit","initial","unset"]}],appliesTo:["feFlood"],animatable:!0,inheritable:!1},{name:"flood-opacity",presentationAttributeName:"flood-opacity",initialValue:"1",values:[{type:"number",min:0},{type:"percentage",min:0},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:["feFlood"],animatable:!0,inheritable:!1},{name:"font",presentationAttributeName:"font",initialValue:null,values:[{type:"font"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-family",presentationAttributeName:"font-family",initialValue:null,values:[{type:"font-family"},{type:"token",tokens:["cursive","fantasy","monospace","sans-serif","serif","system-ui","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-size",presentationAttributeName:"font-size",initialValue:"medium",values:[{type:"token",tokens:["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller","inherit","initial","unset"]},{type:"number",min:0},{type:"percentage",min:0},{type:"length",min:0}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-stretch",presentationAttributeName:"font-stretch",initialValue:"normal",values:[{type:"token",tokens:["normal","wider","narrower","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-style",presentationAttributeName:"font-style",initialValue:"normal",values:[{type:"token",tokens:["normal","italic","oblique","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-variant",presentationAttributeName:"font-variant",initialValue:"normal",values:[{type:"token",tokens:["normal","small-caps","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-weight",presentationAttributeName:"font-weight",initialValue:"normal",values:[{type:"token",tokens:["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"image-rendering",presentationAttributeName:"image-rendering",initialValue:"auto",values:[{type:"token",tokens:["auto","optimizeSpeed","optimizeQuality","inherit","initial","unset"]}],appliesTo:["image"],animatable:!0,inheritable:!0},{name:"isolation",presentationAttributeName:null,initialValue:"auto",values:[{type:"token",tokens:["isolate","auto","inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use","symbol","marker","textPath","tspan"]),animatable:!1,inheritable:!1},{name:"letter-spacing",presentationAttributeName:"letter-spacing",initialValue:"normal",values:[{type:"number"},{type:"length"},{type:"token",tokens:["normal","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"lighting-color",presentationAttributeName:"lighting-color",initialValue:"#fff",values:[{type:"color"},{type:"token",tokens:["currentColor","inherit","initial","unset"]}],appliesTo:["feDiffuseLighting","feSpecularLighting"],animatable:!0,inheritable:!1},{name:"line-height",presentationAttributeName:"line-height",initialValue:"normal",values:[{type:"number",min:0},{type:"percentage",min:0},{type:"length",min:0},{type:"token",tokens:["normal","inherit","initial","unset"]}],appliesTo:["text","tspan","textPath","text a"],animatable:!0,inheritable:!0},{name:"marker",presentationAttributeName:"marker",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(x),animatable:!0,inheritable:!0},{name:"marker-start",presentationAttributeName:"marker-start",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(x),animatable:!0,inheritable:!0},{name:"marker-mid",presentationAttributeName:"marker-mid",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(x),animatable:!0,inheritable:!0},{name:"marker-end",presentationAttributeName:"marker-end",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(x),animatable:!0,inheritable:!0},{name:"mask",presentationAttributeName:"mask",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(m,["g","a","svg","use"]),animatable:!0,inheritable:!1},{name:"mix-blend-mode",presentationAttributeName:null,initialValue:"normal",values:[{type:"token",tokens:["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use","symbol","marker","textPath","tspan"]),animatable:!1,inheritable:!1},{name:"opacity",presentationAttributeName:"opacity",initialValue:"1",values:[{type:"number"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use","symbol","marker","textPath","tspan"]),animatable:!0,inheritable:!1},{name:"overflow",presentationAttributeName:"overflow",initialValue:"visible",values:[{type:"token",tokens:["visible","hidden","scroll","auto","inherit","initial","unset"]}],appliesTo:["svg","symbol","pattern","marker","image"],inheritable:!1,animatable:!0},{name:"paint-order",presentationAttributeName:null,initialValue:"normal",values:[{type:"token",tokens:["normal"]},{type:"token-list",tokens:["fill","stroke","markers"]}],appliesTo:[].concat(w),inheritable:!0,animatable:!0},{name:"pointer-events",presentationAttributeName:"pointer-events",initialValue:"auto",values:[{type:"token",tokens:["bounding-box","visiblePainted","visibleFill","visibleStroke","visible","painted","fill","stroke","all","none","inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use"]),inheritable:!0,animatable:!0},{name:"shape-rendering",presentationAttributeName:"shape-rendering",initialValue:"auto",values:[{type:"token",tokens:["auto","optimizeSpeed","crispEdges","geometricPrecision","inherit","initial","unset"]}],appliesTo:[].concat(x),animatable:!0,inheritable:!0},{name:"stop-color",presentationAttributeName:"stop-color",initialValue:"#000",values:[{type:"color"},{type:"token",tokens:["currentColor","inherit","initial","unset"]}],appliesTo:["stop"],animatable:!0,inheritable:!1},{name:"stop-opacity",presentationAttributeName:"stop-opacity",initialValue:"1",values:[{type:"number"},{type:"percentage"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:["stop"],animatable:!0,inheritable:!1},{name:"stroke",presentationAttributeName:"stroke",initialValue:"none",values:[{type:"color"},{type:"url"},{type:"token",tokens:["none","currentColor","inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"stroke-dasharray",presentationAttributeName:"stroke-dasharray",initialValue:"none",values:[{type:"dasharray"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"stroke-dashoffset",presentationAttributeName:"stroke-dashoffset",initialValue:"0",values:[{type:"number"},{type:"percentage"},{type:"length"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"stroke-linecap",presentationAttributeName:"stroke-linecap",initialValue:"butt",values:[{type:"token",tokens:["butt","round","square","inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"stroke-linejoin",presentationAttributeName:"stroke-linejoin",initialValue:"miter",values:[{type:"token",tokens:["miter","round","bevel","inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"stroke-miterlimit",presentationAttributeName:"stroke-miterlimit",initialValue:"4",values:[{type:"number",min:1},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"stroke-opacity",presentationAttributeName:"stroke-opacity",initialValue:"1",values:[{type:"number"},{type:"percentage"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"stroke-width",presentationAttributeName:"stroke-width",initialValue:"1",values:[{type:"number"},{type:"percentage"},{type:"length"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"text-anchor",presentationAttributeName:"text-anchor",initialValue:"start",values:[{type:"token",tokens:["start","middle","end","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"text-decoration",presentationAttributeName:"text-decoration",initialValue:"none",values:[{type:"token-list",tokens:["underline","overline","line-through"]},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!1},{name:"text-rendering",presentationAttributeName:"text-rendering",initialValue:"auto",values:[{type:"token",tokens:["auto","optimizeSpeed","optimizeLegibility","geometricPrecision","inherit","initial","unset"]}],appliesTo:["text"],animatable:!0,inheritable:!0},{name:"text-transform",presentationAttributeName:null,initialValue:"none",values:[{type:"token",tokens:["capitalize","uppercase","lowercase","none","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!1,inheritable:!0},{name:"unicode-bidi",presentationAttributeName:"unicode-bidi",initialValue:"normal",values:[{type:"token",tokens:["normal","embed","bidi-override","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!1,inheritable:!1},{name:"vector-effect",presentationAttributeName:"vector-effect",initialValue:"none",values:[{type:"token",tokens:["non-scaling-stroke","none","inherit","initial","unset"]}],appliesTo:[].concat(m,["use"]),animatable:!0,inheritable:!1},{name:"visibility",presentationAttributeName:"visibility",initialValue:"visible",values:[{type:"token",tokens:["visible","hidden","inherit","initial","unset"]}],appliesTo:[].concat(m,["text","textPath","tspan"]),animatable:!0,inheritable:!0},{name:"word-spacing",presentationAttributeName:"word-spacing",initialValue:"normal",values:[{type:"number"},{type:"length"},{type:"token",tokens:["normal","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"white-space",presentationAttributeName:"white-space",initialValue:"normal",values:[{type:"token",tokens:["normal","pre","nowrap","pre-wrap","pre-line","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"writing-mode",presentationAttributeName:"writing-mode",initialValue:"horizontal-tb",values:[{type:"token",tokens:["horizontal-tb","vertical-lr","vertical-rl","inherit","initial","unset"]}],appliesTo:["text","tspan","textPath"],animatable:!1,inheritable:!0}],F=G.map(function(t){return t.presentationAttributeName;}).filter(function(t){return t;}),U=function U(t){var e=null;if(_.includes(t.localName)){var _i2=getComputedStyle(t).clipPath;if(_i2){var _s2=_i2.substring(6,_i2.length-2),_n2=Oi(t).querySelector("#"+CSS.escape(_s2))||null;_n2&&"clipPath"===_n2.localName&&(e=_n2);}}return e;},N=function N(t){var e=null;if(M.includes(t.localName)){var _i3=getComputedStyle(t).mask;if(_i3){var _s3=_i3.substring(6,_i3.length-2),_n3=Oi(t).querySelector("#"+CSS.escape(_s3))||null;_n3&&"mask"===_n3.localName&&(e=_n3);}}return e;},V=Number.isFinite,j=Number.isNaN,H=Number.parseFloat,Y=function Y(t){return!j(t)&&"number"==typeof t;},W=Math.sqrt;var q="Invalid argument passed to Vector contstructor";var X=/*#__PURE__*/function(){function X(){_classCallCheck(this,X);for(var _len=arguments.length,t=new Array(_len),_key=0;_key<_len;_key++){t[_key]=arguments[_key];}if(0===t.length)this.x=0,this.y=0;else if(1===t.length){if(!Y(t[0].x)||!Y(t[0].y))throw new Error(q);this.x=t[0].x,this.y=t[0].y;}else{if(2!==t.length)throw new Error(q);if(Y(t[0])&&Y(t[1]))this.x=t[0],this.y=t[1];else{if(!(t[0]instanceof DOMPoint&&t[1]instanceof DOMPoint))throw new Error(q);{var _e2=t[0],_i4=t[1];this.x=_i4.x-_e2.x,this.y=_i4.y-_e2.y;}}}}_createClass(X,[{key:"getNormalVector",value:function getNormalVector(){return new X(-this.y,this.x);}},{key:"getOppositeVector",value:function getOppositeVector(){return new X(-this.x,-this.y);}},{key:"negate",value:function negate(){return this.multiply(-1);}},{key:"multiply",value:function multiply(t){return new X(this.x*t,this.y*t);}},{key:"multiplySelf",value:function multiplySelf(t){return this.x=this.x*t,this.y=this.y*t,this;}},{key:"divide",value:function divide(t){return new X(this.x/t,this.y/t);}},{key:"divideSelf",value:function divideSelf(t){return this.x=this.x/t,this.y=this.y/t,this;}},{key:"normalize",value:function normalize(){return 0===this.length?new X(this):new X(this.x/this.length,this.y/this.length);}},{key:"scale",value:function scale(t){return 0===this.length?new X(this):(t/=this.length,new X(this.x*t,this.y*t));}},{key:"transformPoint",value:function transformPoint(t){return new DOMPoint(t.x+this.x,t.y+this.y);}},{key:"transformRect",value:function transformRect(t){return new DOMRect(t.x+this.x,t.y+this.y,t.width,t.height);}},{key:"matrixTransform",value:function matrixTransform(t){var e=new DOMPoint(0,0).matrixTransform(t),i=new DOMPoint(this.x,this.y).matrixTransform(t);return new X(e,i);}},{key:"toString",value:function toString(){return"(".concat(this.x,", ").concat(this.y,")");}},{key:"length",get:function get(){return W(this.x*this.x+this.y*this.y);},set:function set(t){0!==this.length&&(t/=this.length,this.x=this.x*t,this.y=this.y*t);}}],[{key:"fromVector",value:function fromVector(t){return new X(t.x,t.y);}}]);return X;}();var Z=function Z(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=Math.pow(10,e);return Math.round((t+Number.EPSILON)*i)/i;},K=function K(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Infinity;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;return null!==s&&(t=Z(t,s)),t<e?t=e:t>i&&(t=i),t;},Q=function Q(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return e?t.every(function(e,i){return 0===i||t[i-1]<=e;}):t.every(function(e,i){return 0===i||t[i-1]<e;});},J=Math.pow,tt=document.createElementNS("http://www.w3.org/2000/svg","path"),et=function et(t){return tt.setPathData(t),tt.getAttribute("d");},it=function it(t){return tt.setAttribute("d",t),tt.getPathData();},st=function st(t){return tt.setPathData(t),tt.getPathData({normalize:!0});},nt=function nt(t){if(!t.find(function(t){return"C"===t.type||"L"===t.type;}))return[];var e=[],i=null,s=0,n=0,o=0,l=0;var _iterator=_createForOfIteratorHelper(t),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _h2=_step.value;if("M"===_h2.type)"M"===i&&e.pop(),e.push(_h2),s=_h2.values[0],n=_h2.values[1],o=_h2.values[0],l=_h2.values[1];else if("L"===_h2.type){if("Z"===i)e.push({type:"M",values:[o,l]});else if(_h2.values[0]===s&&_h2.values[1]===n)continue;e.push(_h2),s=_h2.values[0],n=_h2.values[1];}else"C"===_h2.type?("Z"===i&&e.push({type:"M",values:[o,l]}),e.push(_h2),s=_h2.values[4],n=_h2.values[5]):"Z"===_h2.type&&(s===o&&n===l||e.push({type:"L",values:[o,l]}),e.push(_h2),s=o,n=l);i=_h2.type;}}catch(err){_iterator.e(err);}finally{_iterator.f();}return e;},ot=function ot(t){return t.map(function(t){return{type:t.type,values:_toConsumableArray(t.values)};});},lt=function lt(t){var e=[],i=[];var _iterator2=_createForOfIteratorHelper(t),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _s4=_step2.value;"C"===_s4.type||"L"===_s4.type?i.push(_s4):"M"===_s4.type?(i.length>0&&(e.push(i),i=[]),i.push(_s4)):"Z"===_s4.type&&(i.push(_s4),e.push(i),i=[]);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return i.length>0&&e.push(i),e;},ht=function ht(t){var e=nt(t.getPathData({normalize:!0})),i=lt(e);var _iterator3=_createForOfIteratorHelper(i),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _t2=_step3.value;var _e3=at(_t2);_t2.length=0,_t2.push.apply(_t2,_toConsumableArray(_e3));}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}i.reverse(),e=[];var _iterator4=_createForOfIteratorHelper(i),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _t3=_step4.value;var _iterator5=_createForOfIteratorHelper(_t3),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _i5=_step5.value;e.push(_i5);}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}t.setPathData(e);},at=function at(t){var e=(t=ot(t))[0],i=[],s=null;for(var _e4=1;_e4<t.length;_e4+=1){var _n4=t[_e4];"Z"===_n4.type?s=_n4:i.push(_n4);}var n=e.values[0],o=e.values[1];"C"===i[i.length-1].type?(e.values[0]=i[i.length-1].values[4],e.values[1]=i[i.length-1].values[5]):(e.values[0]=i[i.length-1].values[0],e.values[1]=i[i.length-1].values[1]);for(var _i7=0,_i6=i;_i7<_i6.length;_i7++){var _t4=_i6[_i7];if("L"===_t4.type){var _t4$values=_slicedToArray(_t4.values,2),_e5=_t4$values[0],_i8=_t4$values[1];_t4.values=[n,o],n=_e5,o=_i8;}else if("C"===_t4.type){var _t4$values2=_slicedToArray(_t4.values,6),_e6=_t4$values2[0],_i9=_t4$values2[1],_s5=_t4$values2[2],_l2=_t4$values2[3],_h3=_t4$values2[4],_a2=_t4$values2[5];_t4.values=[_s5,_l2,_e6,_i9,n,o],n=_h3,o=_a2;}}i.reverse();var l=[];l.push(e);for(var _i11=0,_i10=i;_i11<_i10.length;_i11++){var _t5=_i10[_i11];l.push(_t5);}return s&&l.push(s),l;},rt=function rt(t){var e=t.getPathData({normalize:!0}),i=[];var _iterator6=_createForOfIteratorHelper(lt(e)),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var _t6=_step6.value;"Z"===_t6[_t6.length-1].type&&_t6.pop();var _iterator7=_createForOfIteratorHelper(_t6),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var _e7=_step7.value;i.push(_e7);}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}t.setPathData(i);},dt=function dt(t){var e=t.getPathData({normalize:!0}),i=[];var _iterator8=_createForOfIteratorHelper(lt(e)),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var _t7=_step8.value;if(_t7.length>1){"Z"!==_t7[_t7.length-1].type&&_t7.push({type:"Z",values:[]});}var _iterator9=_createForOfIteratorHelper(_t7),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var _e8=_step9.value;i.push(_e8);}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}t.setPathData(i);},ct=function ct(t){var e=t.getPathData({normalize:!0});var _iterator10=_createForOfIteratorHelper(lt(e)),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var _t8=_step10.value;if("Z"===_t8[_t8.length-1].type)return!0;}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}return!1;},pt=function pt(t){var e=t.getPathData({normalize:!0});var _iterator11=_createForOfIteratorHelper(lt(e)),_step11;try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var _t9=_step11.value;if(_t9.length>1){if("Z"!==_t9[_t9.length-1].type)return!0;}}}catch(err){_iterator11.e(err);}finally{_iterator11.f();}return!1;},ut=function ut(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:10;var s=et(nt(st(t))),n=((s.match(/M/g)||[]).length>1?new paper.CompoundPath(s):new paper.Path(s)).offsetStroke(e/2),o=[];if(n){var _t10=n.exportSVG().getAttribute("d");o=it(_t10),o=st(o);var _iterator12=_createForOfIteratorHelper(o),_step12;try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var _t11=_step12.value;_t11.values=_t11.values.map(function(t){return Z(t,i);});}}catch(err){_iterator12.e(err);}finally{_iterator12.f();}}return o;},xt=function xt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:10;var n=et(nt(st(t))),o=(n.match(/M/g)||[]).length>1?new paper.CompoundPath(n):new paper.Path(n);for(var _t12=1;_t12<=i;_t12+=1){o=o.offset(e);}var l=it(o.exportSVG().getAttribute("d"));l=st(l);var _iterator13=_createForOfIteratorHelper(l),_step13;try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){var _t13=_step13.value;_t13.values=_t13.values.map(function(t){return Z(t,s);});}}catch(err){_iterator13.e(err);}finally{_iterator13.f();}return l;},bt=function bt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2.5;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:10;var s=et(nt(st(t))),n=(s.match(/M/g)||[]).length>1?new paper.CompoundPath(s):new paper.Path(s);n.simplify(e);var o=it(n.exportSVG().getAttribute("d"));o=st(o);var _iterator14=_createForOfIteratorHelper(o),_step14;try{for(_iterator14.s();!(_step14=_iterator14.n()).done;){var _t14=_step14.value;_t14.values=_t14.values.map(function(t){return Z(t,i);});}}catch(err){_iterator14.e(err);}finally{_iterator14.f();}return o;},mt=function mt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;var i=et(nt(st(t))),s=(i.match(/M/g)||[]).length>1?new paper.CompoundPath(i):new paper.Path(i);for(var _i12=0,_arr2=_toConsumableArray(s.curves);_i12<_arr2.length;_i12++){var _t15=_arr2[_i12];_t15.divideAt(new paper.CurveLocation(_t15,.5));}t=it(s.exportSVG().getAttribute("d")),t=st(t);var _iterator15=_createForOfIteratorHelper(t),_step15;try{for(_iterator15.s();!(_step15=_iterator15.n()).done;){var _i13=_step15.value;_i13.values=_i13.values.map(function(t){return Z(t,e);});}}catch(err){_iterator15.e(err);}finally{_iterator15.f();}return t;},gt=function gt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"catmull-rom";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:.4;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:10;var n=et(nt(st(t))),o=(n.match(/M/g)||[]).length>1?new paper.CompoundPath(n):new paper.Path(n);o.smooth({type:e,factor:i});var l=it(o.exportSVG().getAttribute("d"));l=st(l);var _iterator16=_createForOfIteratorHelper(l),_step16;try{for(_iterator16.s();!(_step16=_iterator16.n()).done;){var _t16=_step16.value;_t16.values=_t16.values.map(function(t){return Z(t,s);});}}catch(err){_iterator16.e(err);}finally{_iterator16.f();}return l;},ft=function ft(t,e){var i=t.getTotalLength(),s=i/t.getPathData().length*.125,n=null,o=null,l=Infinity,h=function h(t){return J(t.x-e.x,2)+J(t.y-e.y,2);};for(var _e9=0;_e9<=i;_e9+=s){var _i14=DOMPoint.fromPoint(t.getPointAtLength(_e9)),_s6=h(_i14);_s6<l&&(n=_i14,o=_e9,l=_s6);}for(s*=.5;s>.5;){var _e10=o-s,_a3=DOMPoint.fromPoint(t.getPointAtLength(_e10)),_r2=h(_a3);if(_e10>=0&&_r2<l)n=_a3,o=_e10,l=_r2;else{var _e11=o+s,_a4=DOMPoint.fromPoint(t.getPointAtLength(_e11)),_r3=h(_a4);_e11<=i&&_r3<l?(n=_a4,o=_e11,l=_r3):s*=.5;}}return[n,o,l];},wt=function wt(t,e){var i=[],s=[];var _iterator17=_createForOfIteratorHelper(e),_step17;try{for(_iterator17.s();!(_step17=_iterator17.n()).done;){var _t17=_step17.value;"C"===_t17.type||"L"===_t17.type?s.push(_t17):"M"===_t17.type?(s.length>0&&(i.push(s),s=[]),s.push(_t17)):"Z"===_t17.type&&(s.push(_t17),i.push(s),s=[]);}}catch(err){_iterator17.e(err);}finally{_iterator17.f();}return s.length>0&&i.push(s),i.find(function(e){return e.includes(t);})||null;},vt=function vt(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:2;var s="sharp";if(t&&e&&"C"===t.type&&"C"===e.type){var _n5=new DOMPoint(t.values[4],t.values[5]),_o2=new DOMPoint(e.values[0],e.values[1]),_l3=new DOMPoint(t.values[2],t.values[3]);if(!1===Ce(_n5,_o2)&&!1===Ce(_n5,_l3)&&!0===Pe(_o2,_n5,_l3,i)){var _t18=new X(_n5,_o2),_e12=new X(_n5,_l3);s=Z(_t18.length,2)===Z(_e12.length,2)?"symmetric-smooth":"smooth";}}return s;},yt=function yt(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;var s=new DOMPoint(e.values[4],e.values[5]),n=new DOMPoint(t.values[0],t.values[1]),o=new DOMPoint(e.values[2],e.values[3]),l=new X(s,n),h=new X(s,o),a=l.getOppositeVector();!1===i&&(a.length=h.length),e.values[2]=s.x+a.x,e.values[3]=s.y+a.y;},kt=function kt(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;var s=new DOMPoint(t.values[4],t.values[5]),n=new DOMPoint(t.values[2],t.values[3]),o=new DOMPoint(e.values[0],e.values[1]),l=new X(s,n),h=new X(s,o),a=l.getOppositeVector();!1===i&&(a.length=h.length),e.values[0]=s.x+a.x,e.values[1]=s.y+a.y;},St=function St(t,e,i){var s;"M"===t.type||"L"===t.type?s=new DOMPoint(t.values[0],t.values[1]):"C"===t.type&&(s=new DOMPoint(t.values[4],t.values[5]));var n=new DOMPoint(i.values[4],i.values[5]),o=new DOMPoint(e.values[4],e.values[5]),l=new X(o,s),h=new X(o,n),a=l.length/h.length,r=new X(a*h.x-l.x,a*h.y-l.y).normalize();e.values[2]=o.x+-r.x*(l.length/3),e.values[3]=o.y+-r.y*(l.length/3),i.values[0]=o.x+r.x*(h.length/3),i.values[1]=o.y+r.y*(h.length/3);},_t=function _t(t){var e=null;var _iterator18=_createForOfIteratorHelper(t),_step18;try{for(_iterator18.s();!(_step18=_iterator18.n()).done;){var _i15=_step18.value;if("L"===_i15.type){var _i15$values=_slicedToArray(_i15.values,2),_t19=_i15$values[0],_s7=_i15$values[1],_n6="C"===e.type?e.values[4]:e.values[0],_o3="C"===e.type?e.values[5]:e.values[1];_i15.type="C",_i15.values=[_n6,_o3,_t19,_s7,_t19,_s7];}e=_i15;}}catch(err){_iterator18.e(err);}finally{_iterator18.f();}},Ct=function Ct(t){var e=null;var _iterator19=_createForOfIteratorHelper(t),_step19;try{for(_iterator19.s();!(_step19=_iterator19.n()).done;){var _i16=_step19.value;if("C"===_i16.type){var _i16$values=_slicedToArray(_i16.values,6),_t20=_i16$values[0],_s8=_i16$values[1],_n7=_i16$values[2],_o4=_i16$values[3],_l4=_i16$values[4],_h4=_i16$values[5],_a5="C"===e.type?e.values[4]:e.values[0],_r4="C"===e.type?e.values[5]:e.values[1];_t20===_a5&&_s8===_r4&&_n7===_l4&&_o4===_h4&&(_i16.type="L",_i16.values=[_l4,_h4]);}e=_i16;}}catch(err){_iterator19.e(err);}finally{_iterator19.f();}},Mt=function Mt(t,e){var i=wt(t,e);return"Z"===i[i.length-1].type;},Pt=function Pt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i;if((t.match(/M/g)||[]).length>1){if(i=new paper.CompoundPath(t),e){var _iterator20=_createForOfIteratorHelper(i.children),_step20;try{for(_iterator20.s();!(_step20=_iterator20.n()).done;){var _t21=_step20.value;_t21.closed||_t21.closePath();}}catch(err){_iterator20.e(err);}finally{_iterator20.f();}}}else i=new paper.Path(t),e&&(i.closed||i.closePath());return i;};var Dt=/*#__PURE__*/function(){function Dt(t){_classCallCheck(this,Dt);this._=t,this.currentToken=null,this.position=0;}_createClass(Dt,[{key:"read",value:function read(){var t=this._[this.position];return this.currentToken=t,"EOF"===t.tokenType||(this.position+=1),t;}},{key:"reset",value:function reset(t){this.position=t;}}]);return Dt;}();var _window=window,zt=_window.tokenize,Ot=_window.EOFToken;var Et=/*#__PURE__*/function(){_createClass(Et,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t;}},{key:"unit",get:function get(){return this._e;},set:function set(t){this._e=t;}},{key:"isAbsolute",get:function get(){return h.includes(this.unit);}},{key:"type",get:function get(){return"<length>";}}]);function Et(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"px";_classCallCheck(this,Et);this._t=t,this._e=e;}_createClass(Et,[{key:"toString",value:function toString(){return this.value+this.unit;}},{key:"toLength",value:function toLength(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"px";var e=this.unit,i=t;if(e===i)return new Et(this.value,this.unit);if(!1===h.includes(e)||!1===h.includes(i))throw new DOMException("Can't convert relative <length> units.","OperationError");{this.value;var _t22=null,_s9=null;return"px"===e?_s9=this.value:"cm"===e?_s9=this._t*(96/2.54):"mm"===e?_s9=this._t*(96/2.54/10):"in"===e?_s9=96*this._t:"pt"===e?_s9=this._t*(96/72):"pc"===e?_s9=16*this._t:"q"===e&&(_s9=this._t*(96/2.54/40)),"px"===i?_t22=_s9:"cm"===i?_t22=_s9/(96/2.54):"mm"===i?_t22=_s9/(96/2.54/10):"in"===i?_t22=_s9/96:"pt"===i?_t22=_s9/(96/72):"pc"===i?_t22=_s9/16:"q"===i&&(_t22=_s9/(96/2.54/40)),new Et(_t22,i);}}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(zt(t)),[new Ot()]),s=new Dt(i);if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"DIMENSION"===s.currentToken.tokenType){var _s$currentToken=s.currentToken,_t23=_s$currentToken.value,_i17=_s$currentToken.unit;if(!1===r.includes(_i17)){if(e)throw new DOMException("Unknown unit identifier \"".concat(_i17,"\"."),"SyntaxError");return null;}if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new Et(_t23,_i17);if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}if(e)throw new DOMException("Expected DIMENSION token.","SyntaxError");return null;}}]);return Et;}();var _window2=window,Tt=_window2.tokenize,At=_window2.EOFToken;var $t=/*#__PURE__*/function(){_createClass($t,[{key:"align",get:function get(){return this._i;},set:function set(t){this._i=t;}},{key:"meetOrSlice",get:function get(){return this._s;},set:function set(t){this._s=t;}},{key:"type",get:function get(){return"<preserve-aspect-ratio>";}}]);function $t(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"xMidYMid";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"meet";_classCallCheck(this,$t);this._i=t,this._s=e;}_createClass($t,[{key:"toString",value:function toString(){return"meet"===this.meetOrSlice?"".concat(this.align):"".concat(this.align," ").concat(this.meetOrSlice);}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(Tt(t)),[new At()]),s=new Dt(i);if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"IDENT"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected IDENT token.","SyntaxError");return null;}{var _t24=s.currentToken.value;if(!1===d.includes(_t24)){if(e)throw new DOMException("Unknown align value \"".concat(_t24,"\"."),"SyntaxError");return null;}if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new $t(_t24,"meet");if("IDENT"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected IDENT token.","SyntaxError");return null;}{var _i18=s.currentToken.value;if("meet"!==_i18&&"slice"!==_i18){if(e)throw new DOMException("Unknown meetOrSlice value \"".concat(_i18,"\"."),"SyntaxError");return null;}if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new $t(_t24,_i18);}}}}]);return $t;}();var _window3=window,It=_window3.tokenize,Lt=_window3.EOFToken;var Bt=/*#__PURE__*/function(){_createClass(Bt,[{key:"type",get:function get(){return"<view-box>";}},{key:"x",get:function get(){return this.Bs;},set:function set(t){this.Bs=t;}},{key:"y",get:function get(){return this.Gs;},set:function set(t){this.Gs=t;}},{key:"width",get:function get(){return this.Fs;},set:function set(t){this.Fs=t;}},{key:"height",get:function get(){return this.Us;},set:function set(t){this.Us=t;}}]);function Bt(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;_classCallCheck(this,Bt);this.x=t,this.y=e,this.width=i,this.height=s;}_createClass(Bt,[{key:"toString",value:function toString(){return"".concat(this.x," ").concat(this.y," ").concat(this.width," ").concat(this.height);}},{key:"toRect",value:function toRect(){return new DOMRect(this.x,this.y,this.width,this.height);}}],[{key:"fromRect",value:function fromRect(t){return new Bt(t.x,t.y,t.width,t.height);}},{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i,s,n,o,l=[].concat(_toConsumableArray(It(t)),[new Lt()]),h=new Dt(l);if(h.read(),"WHITESPACE"===h.currentToken.tokenType&&h.read(),"NUMBER"!==h.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(h.currentToken.tokenType," token."),"SyntaxError");return null;}if(i=h.currentToken.value,h.read(),"WHITESPACE"!==h.currentToken.tokenType&&","!==h.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(h.currentToken.tokenType," token."),"SyntaxError");return null;}if("WHITESPACE"===h.currentToken.tokenType&&h.read(),","===h.currentToken.tokenType&&h.read(),"WHITESPACE"===h.currentToken.tokenType&&h.read(),"NUMBER"!==h.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(h.currentToken.tokenType," token."),"SyntaxError");return null;}if(s=h.currentToken.value,h.read(),"WHITESPACE"!==h.currentToken.tokenType&&","!==h.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(h.currentToken.tokenType," token."),"SyntaxError");return null;}if("WHITESPACE"===h.currentToken.tokenType&&h.read(),","===h.currentToken.tokenType&&h.read(),"WHITESPACE"===h.currentToken.tokenType&&h.read(),!("NUMBER"===h.currentToken.tokenType&&h.currentToken.value>=0)){if(e)throw new DOMException("Unexpected ".concat(h.currentToken.tokenType," token."),"SyntaxError");return null;}if(n=h.currentToken.value,h.read(),"WHITESPACE"!==h.currentToken.tokenType&&","!==h.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(h.currentToken.tokenType," token."),"SyntaxError");return null;}if("WHITESPACE"===h.currentToken.tokenType&&h.read(),","===h.currentToken.tokenType&&h.read(),"WHITESPACE"===h.currentToken.tokenType&&h.read(),!("NUMBER"===h.currentToken.tokenType&&h.currentToken.value>=0)){if(e)throw new DOMException("Unexpected ".concat(h.currentToken.tokenType," token."),"SyntaxError");return null;}if(o=h.currentToken.value,h.read(),"WHITESPACE"===h.currentToken.tokenType&&h.read(),"EOF"===h.currentToken.tokenType)return new Bt(i,s,n,o);if(e)throw new DOMException("Unexpected ".concat(h.currentToken.tokenType," token."),"SyntaxError");return null;}}]);return Bt;}();var Rt=function Rt(t,e){return t.is2D?new DOMMatrix([Z(t.a,e),Z(t.b,e),Z(t.c,e),Z(t.d,e),Z(t.e,e),Z(t.f,e)]):new DOMMatrix([Z(t.m11,e),Z(t.m12,e),Z(t.m13,e),Z(t.m14,e),Z(t.m21,e),Z(t.m22,e),Z(t.m23,e),Z(t.m24,e),Z(t.m31,e),Z(t.m32,e),Z(t.m33,e),Z(t.m34,e),Z(t.m41,e),Z(t.m42,e),Z(t.m43,e),Z(t.m44,e)]);},Gt=Math.abs,Ft=Math.tan,Ut=Number.parseFloat,Nt=function Nt(t){var e=null;return e="linearGradient"===t.localName||"radialGradient"===t.localName?t.gradientTransform.baseVal.consolidate():"pattern"===t.localName?t.patternTransform.baseVal.consolidate():t.transform.baseVal.consolidate(),e?DOMMatrix.fromMatrix(e.matrix):new DOMMatrix();},Vt=function Vt(t,e){var i=e.getScreenCTM().inverse().multiply(t.getScreenCTM());return DOMMatrix.fromMatrix(i);},jt=function jt(t){var e=t.getScreenCTM();return DOMMatrix.fromMatrix(e);},Ht=function Ht(t,e,i,s,n,o){var l=function l(t){return t[0][0]*(t[1][1]*t[2][2]-t[1][2]*t[2][1])-t[0][1]*(t[1][0]*t[2][2]-t[1][2]*t[2][0])+t[0][2]*(t[1][0]*t[2][1]-t[1][1]*t[2][0]);},h=l([[t.x,t.y,1],[e.x,e.y,1],[i.x,i.y,1]]),a=l([[s.x,t.y,1],[n.x,e.y,1],[o.x,i.y,1]]),r=l([[s.y,t.y,1],[n.y,e.y,1],[o.y,i.y,1]]),d=l([[t.x,s.x,1],[e.x,n.x,1],[i.x,o.x,1]]),c=l([[t.x,s.y,1],[e.x,n.y,1],[i.x,o.y,1]]),p=l([[t.x,t.y,s.x],[e.x,e.y,n.x],[i.x,i.y,o.x]]),u=l([[t.x,t.y,s.y],[e.x,e.y,n.y],[i.x,i.y,o.y]]);return 0===h?new DOMMatrix([1,0,0,1,0,0]):new DOMMatrix([a/h,r/h,d/h,c/h,p/h,u/h]);},Yt=function Yt(t,e){var i=new DOMPoint(t.x,t.y),s=new DOMPoint(t.x+t.width,t.y),n=new DOMPoint(t.x,t.y+t.height),o=new DOMPoint(e.x,e.y),l=new DOMPoint(e.x+e.width,e.y),h=new DOMPoint(e.x,e.y+e.height);return Ht(i,s,n,o,l,h);},Wt=function Wt(t){var e=new DOMMatrix(),i=null;if(t.hasAttribute("viewBox")&&(i=Bt.fromString(t.getAttribute("viewBox"))),i){var _s10=Et.fromString(t.style.width||t.getAttribute("width")||""),_n8=Et.fromString(t.style.height||t.getAttribute("height")||"");if(_s10&&_n8&&a[_s10.unit]&&a[_n8.unit]){var _o5=$t.fromString(t.getAttribute("preserveAspectRatio")||"xMidYMid meet");_s10.value*=a[_s10.unit],_n8.value*=a[_n8.unit];var _l5=_s10.value/i.width,_h5=_n8.value/i.height;"none"!==_o5.align&&"meet"===_o5.meetOrSlice?_l5>_h5?_l5=_h5:_h5>_l5&&(_h5=_l5):"none"!==_o5.align&&"slice"===_o5.meetOrSlice&&(_l5<_h5?_l5=_h5:_h5<_l5&&(_h5=_l5));var _r5=0-i.x*_l5,_d2=0-i.y*_h5;_o5.align.includes("xMid")&&(_r5+=(_s10.value-i.width*_l5)/2),_o5.align.includes("xMax")&&(_r5+=_s10.value-i.width*_l5),_o5.align.includes("YMid")&&(_d2+=(_n8.value-i.height*_h5)/2),_o5.align.includes("YMax")&&(_d2+=_n8.value-i.height*_h5),e.translateSelf(_r5,_d2),e.scaleSelf(_l5,_h5);}}return e;},qt=function qt(t,e){var i=new DOMMatrix();if(""===t&&(t="px"),""===e&&(e="px"),t!==e){var _s11=1;if("px"===t)_s11=1;else if("cm"===t)_s11=96/2.54*1;else if("mm"===t)_s11=96/2.54/10*1;else if("in"===t)_s11=96;else if("pt"===t)_s11=96/72*1;else if("pc"===t)_s11=16;else{if("q"!==t)throw new Error("Can't transform relative units.","OperationError");_s11=96/2.54/40*1;}if("px"===e)_s11/=1;else if("cm"===e)_s11/=96/2.54;else if("mm"===e)_s11/=96/2.54/10;else if("in"===e)_s11/=96;else if("pt"===e)_s11/=96/72;else if("pc"===e)_s11/=16;else{if("q"!==e)throw new Error("Can't transform relative units.","OperationError");_s11/=96/2.54/40;}i.scaleSelf(_s11,_s11);}return i;},Xt=function Xt(t){var e,i;if(t.hasAttribute("data-bx-origin")){var _s12=t.getAttribute("data-bx-origin").split(" ");e=Ut(_s12[0]),i=Ut(_s12[1]);}else e=.5,i=.5;return new DOMPoint(e,i);},Zt=function Zt(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:6;var s=Z(e.x,i),n=Z(e.y,i);t.setAttribute("data-bx-origin","".concat(s," ").concat(n));},Kt=function Kt(t){var e=Ci(t),i=Xt(t);return le(i,e);},Qt=function Qt(t){var e=jt(t);return Kt(t).matrixTransform(e);},Jt=function Jt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=t.map(function(t){return Qt(t);}),s=i[0],n=!0;var _iterator21=_createForOfIteratorHelper(i),_step21;try{for(_iterator21.s();!(_step21=_iterator21.n()).done;){var _t25=_step21.value;if(De(_t25,s)>3){n=!1;break;}}}catch(err){_iterator21.e(err);}finally{_iterator21.f();}var o=null;if(n){if(e){var _e13=t.map(function(t){return Mi(t);}),_s13=Ne(_e13);o=new DOMPoint((i[0].x-_s13.x)/_s13.width,(i[0].y-_s13.y)/_s13.height);}else o=i[0];}else if(e)o=new DOMPoint(.5,.5);else{var _e14=t.map(function(t){return Mi(t);}),_i19=Ne(_e14);o=new DOMPoint(_i19.x+_i19.width/2,_i19.y+_i19.height/2);}return o;},te=function te(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=0;if(f.includes(t.localName)){jt(t).inverse();null===e&&(e=Kt(t));var _s14=e.matrixTransform(jt(t)),_n9=(Ci(t),_s14),_o6=new DOMPoint(_s14.x-100,_s14.y),_l6=new DOMPoint(e.x-100,e.y).matrixTransform(jt(t));i=Ie(_n9,_o6,_l6);}return i;},ee=function ee(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var n=te(t),o=Nt(t),l=jt(t),h=l.inverse();null===s&&(s=Kt(t));var a=s.matrixTransform(l),r=DOMMatrix.fromMatrix(o);r.multiplySelf(h),r.translateSelf(a.x,a.y),r.rotateSelf(-n+e),r.translateSelf(-a.x,-a.y),r.multiplySelf(l),null!==i&&(r=Rt(r,i)),!1===r.isIdentity?t.setAttribute("transform",r.toString()):t.removeAttribute("transform");},ie=function ie(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;var s=st(t);var _iterator22=_createForOfIteratorHelper(s),_step22;try{for(_iterator22.s();!(_step22=_iterator22.n()).done;){var _t26=_step22.value;if("M"===_t26.type||"L"===_t26.type){var _i20=new DOMPoint(_t26.values[0],_t26.values[1]).matrixTransform(e);_t26.values=[_i20.x,_i20.y];}else if("C"===_t26.type){var _i21=new DOMPoint(_t26.values[0],_t26.values[1]).matrixTransform(e),_s15=new DOMPoint(_t26.values[2],_t26.values[3]).matrixTransform(e),_n10=new DOMPoint(_t26.values[4],_t26.values[5]).matrixTransform(e);_t26.values=[_i21.x,_i21.y,_s15.x,_s15.y,_n10.x,_n10.y];}_t26.values=_t26.values.map(function(t){return Z(t,i);});}}catch(err){_iterator22.e(err);}finally{_iterator22.f();}return s;},se=function se(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var o=DOMMatrix.fromMatrix(t),l=Ge(e),h=Ge(i),a=new DOMMatrix();return a=ne(a,Ft(l),Ft(h)),o=oe(o,s,n),o.multiplySelf(a),o=oe(o,-s,-n),o;},ne=function ne(t,e,i){var s=DOMMatrix.fromMatrix(t),n=s.a,o=s.b;return s.a+=i*s.c,s.b+=i*s.d,s.c+=e*n,s.d+=e*o,s;},oe=function oe(t,e,i){var s=DOMMatrix.fromMatrix(t);return s.e=s.e+e*s.a+i*s.c,s.f=s.f+e*s.b+i*s.d,s;},le=function le(t,e){return new DOMPoint(e.x+t.x*e.width,e.y+t.y*e.height);},he=function he(t,e){return new DOMPoint(0===e.width?0:(t.x-e.x)/e.width,0===e.height?0:(t.y-e.y)/e.height);},ae=Math.atan2,re=function re(t,e){return t.x*e.x+t.y*e.y;},de=function de(t,e){return new X(t.x-e.x,t.y-e.y);},ce=function ce(t,e){return new X(t.x+e.x,t.y+e.y);},pe=function pe(t,e){return Re(ae(e.y,e.x)-ae(t.y,t.x));},ue=Math.sin,xe=Math.cos,be=Math.acos,me=Math.atan2,ge=Math.abs,fe=Math.sqrt,we=Math.pow,ve=Math.PI,ye=Math.min,ke=Math.max,Se=Number.isNaN,_e=document.createElementNS("http://www.w3.org/2000/svg","svg"),Ce=function Ce(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return null!==i?Z(t.x,i)===Z(e.x,i)&&Z(t.y,i)===Z(e.y,i):t.x===e.x&&t.y===e.y;},Me=function Me(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return new DOMPoint(Z(t.x,e),Z(t.y,e),Z(t.z,e),Z(t.w,e));},Pe=function Pe(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;if(0===s){return 0===(t.x*(e.y-i.y)+e.x*(i.y-t.y)+i.x*(t.y-e.y))/2;}{var _n11=new X(t,e),_o7=new X(e,i),_l7=re(_n11,_o7),_h6=be(_l7/(_n11.length*_o7.length));if(Se(_h6))return!0;return Re(_h6)<s;}},De=function De(t,e){var i=e.x-t.x;i*=i;var s=e.y-t.y;return s*=s,fe(i+s);},ze=function ze(t,e){var i=(t.x+e.x)/2,s=(t.y+e.y)/2;return new DOMPoint(i,s);},Oe=function Oe(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;var n,o=new DOMPoint(0,0),l=new DOMPoint(t.x,t.y),h=new DOMPoint(e.x,e.y),a=i,r=new X(o,l),d=new X(l,h),c=new X(l,a),p=re(c,d),u=re(d,d);n=0!==u?p/u:0,!1===s&&(n<0?n=0:n>1&&(n=1));var x=ce(r,d.multiply(n));return[new DOMPoint(x.x,x.y),n];},Ee=function Ee(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:.5;var s=e.x-t.x,n=e.y-t.y;return new DOMPoint(t.x+i*s,t.y+i*n);},Te=function Te(t){var e=_e.createSVGPoint();return e.x=t.x,e.y=t.y,e;},Ae=function Ae(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:22.5;var s=new DOMPoint(t.x,t.y-1e3),n=Ie(t,s,e),o=[];for(var _t27=-180;_t27<=180;_t27+=i){o.push(_t27);}var l=Infinity;for(var _i22=0,_o8=o;_i22<_o8.length;_i22++){var _t28=_o8[_i22];var _e15=_t28-n;ge(_e15)<ge(l)&&(l=_e15);}n+=l;var h=Ge(n-90),a=De(t,e),r=new X(xe(h),ue(h));return r.length=a,[new DOMPoint(t.x+r.x,t.y+r.y),n];},$e=function $e(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:90;var s=new DOMPoint(t.x,t.y-1e3),n=Ie(t,s,e);n+=i-n;var o=Ge(n-90),l=De(t,e),h=new X(xe(o),ue(o));return h.length=l,new DOMPoint(t.x+h.x,t.y+h.y);},Ie=function Ie(t,e,i){var s=new X(t,e),n=new X(t,i),o=me(n.y,n.x)-me(s.y,s.x);return Le(Re(o));},Le=function Le(t){for(;t<-180;){t+=360;}for(;t>180;){t-=360;}return t;},Be=function Be(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:15;var i=Le(t),s=[];for(var _t29=-180;_t29<=180;_t29+=e){s.push(_t29);}return s.reduce(function(t,e){return ge(e-i)<ge(t-i)?e:t;});},Re=function Re(t){return t*(180/ve);},Ge=function Ge(t){return ve*t/180;},Fe=function Fe(t,e){return new DOMRect(Z(t.x,e),Z(t.y,e),Z(t.width,e),Z(t.height,e));},Ue=function Ue(t,e){var i=[new DOMPoint(t.x,t.y),new DOMPoint(t.x+t.width,t.y),new DOMPoint(t.x+t.width,t.y+t.height),new DOMPoint(t.x,t.y+t.height)].map(function(t){return t.matrixTransform(e);}),s=i.map(function(t){return t.x;}),n=i.map(function(t){return t.y;}),o=ye.apply(void 0,_toConsumableArray(s)),l=ye.apply(void 0,_toConsumableArray(n)),h=ke.apply(void 0,_toConsumableArray(s)),a=ke.apply(void 0,_toConsumableArray(n));return new DOMRect(o,l,h-o,a-l);},Ne=function Ne(t){if(0===t.length)return new DOMRect(0,0,0,0);if(1===t.length){var _e16=t[0];return new DOMRect(_e16.x,_e16.y,_e16.width,_e16.height);}{var _e17=Math.min.apply(Math,_toConsumableArray(t.map(function(t){return t.x;}))),_i23=Math.min.apply(Math,_toConsumableArray(t.map(function(t){return t.y;}))),_s16=Math.max.apply(Math,_toConsumableArray(t.map(function(t){return t.x+t.width;}))),_n12=Math.max.apply(Math,_toConsumableArray(t.map(function(t){return t.y+t.height;})));return new DOMRect(_e17,_i23,_s16-_e17,_n12-_i23);}},Ve=function Ve(t,e){var i,s=function s(t,e,i,_s17){return 8&i?new DOMPoint(t.x+(e.x-t.x)*(_s17.height-t.y)/(e.y-t.y),_s17.height):4&i?new DOMPoint(t.x+(e.x-t.x)*(_s17.y-t.y)/(e.y-t.y),_s17.y):2&i?new DOMPoint(_s17.width,t.y+(e.y-t.y)*(_s17.width-t.x)/(e.x-t.x)):1&i?new DOMPoint(_s17.x,t.y+(e.y-t.y)*(_s17.x-t.x)/(e.x-t.x)):null;},n=function n(t,e){var i=0;return t.x<e.x?i|=1:t.x>e.width&&(i|=2),t.y<e.y?i|=4:t.y>e.height&&(i|=8),i;};for(var _o9=1;_o9<=8;_o9*=2){var _l8=e[e.length-1],_h7=!(n(_l8,t)&_o9);i=[];for(var _a6=0;_a6<e.length;_a6++){var _r6=e[_a6],_d3=!(n(_r6,t)&_o9);_d3!==_h7&&i.push(s(_l8,_r6,_o9,t)),_d3&&i.push(_r6),_l8=_r6,_h7=_d3;}if(!(e=i).length)break;}return i;},je=function je(t,e){return e.x>=t.x&&e.y>=t.y&&e.x+e.width<=t.x+t.width&&e.y+e.height<=t.y+t.height;},He=function He(t,e){return t.left<=e.right&&e.left<=t.right&&t.top<=e.bottom&&e.top<=t.bottom;},Ye=function Ye(t,e){var _iterator23=_createForOfIteratorHelper(t),_step23;try{for(_iterator23.s();!(_step23=_iterator23.n()).done;){var _i25=_step23.value;if(He(e,_i25))return _i25;}}catch(err){_iterator23.e(err);}finally{_iterator23.f();}{var _i24=new DOMPoint(e.x+e.width/2,e.y+e.height/2),_s18=Infinity,_n13=null;var _iterator24=_createForOfIteratorHelper(t),_step24;try{for(_iterator24.s();!(_step24=_iterator24.n()).done;){var _e18=_step24.value;var _t30=new DOMPoint(_e18.x+_e18.width/2,_e18.y+_e18.height/2),_o10=De(_i24,_t30);_o10<_s18&&(_s18=_o10,_n13=_e18);}}catch(err){_iterator24.e(err);}finally{_iterator24.f();}return _n13;}},We=function We(t,e,i){var s=new X(e,t);return s.length=i,s.transformPoint(e);},qe=function qe(t,e,i){return Xe(t,e,new DOMPoint(i.x,i.y),new DOMPoint(i.right,i.y))||Xe(t,e,new DOMPoint(i.right,i.y),new DOMPoint(i.right,i.bottom))||Xe(t,e,new DOMPoint(i.right,i.bottom),new DOMPoint(i.x,i.bottom))||Xe(t,e,new DOMPoint(i.x,i.bottom),new DOMPoint(i.x,i.y));},Xe=function Xe(t,e,i,s){var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1e-7;var o=Ke(t,e,i,s);return!!o&&o.x+n>=ye(i.x,s.x)&&o.x-n<=ke(i.x,s.x)&&o.y+n>=ye(i.y,s.y)&&o.y-n<=ke(i.y,s.y);},Ze=function Ze(t,e){var i=e.y-t.y,s=t.x-e.x;return[i,s,i*t.x+s*t.y];},Ke=function Ke(t,e,i,s){var _Ze=Ze(t,e),_Ze2=_slicedToArray(_Ze,3),n=_Ze2[0],o=_Ze2[1],l=_Ze2[2],_Ze3=Ze(i,s),_Ze4=_slicedToArray(_Ze3,3),h=_Ze4[0],a=_Ze4[1],r=_Ze4[2],d=n*a-h*o,c=null;return 0!==d&&(c=new DOMPoint((a*l-o*r)/d,(n*r-h*l)/d)),c;},Qe=function Qe(t,e){var i=e.x,s=e.y,n=!1;for(var _e19=0,_o11=t.length-1;_e19<t.length;_o11=_e19++){var _l9=t[_e19].x,_h8=t[_e19].y,_a7=t[_o11].x,_r7=t[_o11].y;_h8>s!=_r7>s&&i<(_a7-_l9)*(s-_h8)/(_r7-_h8)+_l9&&(n=!n);}return n;},Je=function Je(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;if(t.length!==e.length)return!1;if(i)for(var s in t){if(t[s]!==e[s])return!1;}else{for(var n=0;n<t.length;n+=1){if(!e.includes(t[n]))return!1;}for(n=0;n<e.length;n+=1){if(!t.includes(e[n]))return!1;}}return!0;},ti=function ti(t){return _toConsumableArray(new Set(t));},ei=function ei(t,e){if(0===t.length)return!1;for(var i=0;i<t.length;i+=1){if(t[i]!==e)return!1;}return!0;},ii=function ii(t,e){return JSON.stringify(t)===JSON.stringify(e);},si=function si(t,e,i){return t.split(e).join(i);},ni=function ni(t){return t.replace(/(^|[\s-])(\w)/g,function(t,e,i){return e+i.toUpperCase();});},oi=function oi(t){return t.replace(/(\-[a-z])/g,function(t){return t.toUpperCase().replace("-","");});},li=function li(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase();});},hi=function hi(t){var e=document.createElement("div");return e.appendChild(document.createTextNode(t)),e.innerHTML;},ai=function ai(t){return DOMPurify.sanitize(t,{ALLOWED_TAGS:["p","h3","h4","ul","ol","li","blockquote","figure","figcaption","pre","code","img","hr","br","a","strong","em","del","u","code","mark","#text"],ALLOWED_ATTR:["alt","data-language","data-type","hidden","href","rel","spellcheck","start","src","style","title"],ALLOW_DATA_ATTR:!1});},ri=Object.keys,di="\u200B",ci=function ci(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=xi(t),s=e&&t.contains(e.commonAncestorContainer),n=s?ki(e.startContainer,e.startOffset)[1]:-1,o=s?ki(e.endContainer,e.endOffset)[1]:-1;if(s&&n!==o){var _t31=[];var _iterator25=_createForOfIteratorHelper(i.childItems),_step25;try{for(_iterator25.s();!(_step25=_iterator25.n()).done;){var _e20=_step25.value;var _i26=null;if(n>=_e20.startOffset&&o<=_e20.endOffset?_i26=[_e20.textContent.slice(0,n-_e20.startOffset),_e20.textContent.slice(n-_e20.startOffset,o-_e20.startOffset),_e20.textContent.slice(o-_e20.startOffset)]:n>=_e20.startOffset&&n<_e20.endOffset?_i26=[_e20.textContent.slice(0,n-_e20.startOffset),_e20.textContent.slice(n-_e20.startOffset)]:o>_e20.startOffset&&o<=_e20.endOffset&&(_i26=[_e20.textContent.slice(0,o-_e20.startOffset),_e20.textContent.slice(o-_e20.startOffset)]),null===_i26)_t31.push(_e20);else{var _s19=_e20.startOffset,_n14=0;var _iterator26=_createForOfIteratorHelper(_i26),_step26;try{for(_iterator26.s();!(_step26=_iterator26.n()).done;){var _o12=_step26.value;if(_o12.length>0){var _i27={textContent:_o12,href:_e20.href,inheritableProperties:_e20.inheritableProperties,nonInheritableProperties:_e20.nonInheritableProperties,startOffset:_s19,endOffset:_s19+_o12.length,x:[],y:[],dx:[],dy:[],rotate:[]};for(var _t32=0;_t32<_o12.length;_t32+=1){_i27.x.push(_e20.x[_n14]),_i27.y.push(_e20.y[_n14]),_i27.dx.push(_e20.dx[_n14]),_i27.dy.push(_e20.dy[_n14]),_i27.rotate.push(_e20.rotate[_n14]),_n14+=1;}_t31.push(_i27),_s19+=_o12.length;}}}catch(err){_iterator26.e(err);}finally{_iterator26.f();}}}}catch(err){_iterator25.e(err);}finally{_iterator25.f();}i.childItems=_t31;}t.removeAttribute("x"),t.removeAttribute("y"),t.removeAttribute("dx"),t.removeAttribute("dy"),t.removeAttribute("rotate"),t.removeAttribute("style");var _iterator27=_createForOfIteratorHelper(F),_step27;try{for(_iterator27.s();!(_step27=_iterator27.n()).done;){var _e30=_step27.value;t.hasAttribute(_e30)&&t.removeAttribute(_e30);}}catch(err){_iterator27.e(err);}finally{_iterator27.f();}{var _e21=getComputedStyle(t);var _iterator28=_createForOfIteratorHelper(ri(i.rootItem.inheritableProperties)),_step28;try{for(_iterator28.s();!(_step28=_iterator28.n()).done;){var _s20=_step28.value;_e21.getPropertyValue(_s20)!==i.rootItem.inheritableProperties[_s20]&&t.style.setProperty(_s20,i.rootItem.inheritableProperties[_s20]);}}catch(err){_iterator28.e(err);}finally{_iterator28.f();}var _iterator29=_createForOfIteratorHelper(ri(i.rootItem.nonInheritableProperties)),_step29;try{for(_iterator29.s();!(_step29=_iterator29.n()).done;){var _s21=_step29.value;_e21.getPropertyValue(_s21)!==i.rootItem.nonInheritableProperties[_s21]&&t.style.setProperty(_s21,i.rootItem.nonInheritableProperties[_s21]);}}catch(err){_iterator29.e(err);}finally{_iterator29.f();}}{var _e22=t.querySelector("textPath")||t;for(var _i28=0,_arr3=_toConsumableArray(_e22.childNodes);_i28<_arr3.length;_i28++){var _t33=_arr3[_i28];"tspan"!==_t33.nodeName&&"a"!==_t33.nodeName&&"#text"!==_t33.nodeName||_t33.remove();}if(i.childItems.length>0){var _iterator30=_createForOfIteratorHelper(i.childItems),_step30;try{for(_iterator30.s();!(_step30=_iterator30.n()).done;){var _t34=_step30.value;var _i29=zi("svg:tspan");if(_e22.append(_i29),_t34.href){var _e23=zi("svg:a");_e23.setAttribute("_href",_t34.href),_e23.textContent=_t34.textContent,_i29.append(_e23);}else _i29.textContent=_t34.textContent;{var _e24=getComputedStyle(_i29);var _iterator31=_createForOfIteratorHelper(ri(_t34.inheritableProperties)),_step31;try{for(_iterator31.s();!(_step31=_iterator31.n()).done;){var _s22=_step31.value;_e24.getPropertyValue(_s22)!==_t34.inheritableProperties[_s22]&&_i29.style.setProperty(_s22,_t34.inheritableProperties[_s22]);}}catch(err){_iterator31.e(err);}finally{_iterator31.f();}var _iterator32=_createForOfIteratorHelper(ri(_t34.nonInheritableProperties)),_step32;try{for(_iterator32.s();!(_step32=_iterator32.n()).done;){var _s23=_step32.value;_e24.getPropertyValue(_s23)!==_t34.nonInheritableProperties[_s23]&&_i29.style.setProperty(_s23,_t34.nonInheritableProperties[_s23]);}}catch(err){_iterator32.e(err);}finally{_iterator32.f();}}{var _e25=_t34.x.filter(function(t){return"auto"!==t;});_e25.length>0&&_i29.setAttribute("x",_e25.join(" "));}{var _e26=_t34.y.filter(function(t){return"auto"!==t;});_e26.length>0&&_i29.setAttribute("y",_e26.join(" "));}{var _e27=_toConsumableArray(_t34.dx);for(var _t35=_e27.length-1;_t35>=0&&"0"===_e27[_t35];_t35-=1){_e27.pop();}_e27.length>0&&_i29.setAttribute("dx",_e27.join(" "));}{var _e28=_toConsumableArray(_t34.dy);for(var _t36=_e28.length-1;_t36>=0&&"0"===_e28[_t36];_t36-=1){_e28.pop();}_e28.length>0&&_i29.setAttribute("dy",_e28.join(" "));}{var _e29=_toConsumableArray(_t34.rotate);for(var _t37=_e29.length-1;_t37>=0&&_e29[_t37]===_e29[_t37-1];_t37-=1){_e29.pop();}1===_e29.length&&"0"===_e29[0]&&(_e29=[]),_e29.length>0&&_i29.setAttribute("rotate",_e29.join(" "));}}}catch(err){_iterator30.e(err);}finally{_iterator30.f();}}}if(s){var _i30=0,_s24=null;var _iterator33=_createForOfIteratorHelper(bi(t)),_step33;try{for(_iterator33.s();!(_step33=_iterator33.n()).done;){var _l10=_step33.value;for(var _t38=0;_t38<=_l10.textContent.length;_t38+=1,_i30+=1){_i30===n&&e.setStart(_l10,_t38),_i30===o&&(0===_t38&&_s24?e.setEnd(_s24,_s24.textContent.length):e.setEnd(_l10,_t38));}_i30-=1,_s24=_l10;}}catch(err){_iterator33.e(err);}finally{_iterator33.f();}}},pi=function pi(t,e){var i=e&&t.contains(e.commonAncestorContainer),s=i?ki(e.startContainer,e.startOffset)[1]:-1,n=i?ki(e.endContainer,e.endOffset)[1]:-1;{ci(t,null);var _e31=t.querySelector("textPath")||t,_i31=_e31.querySelectorAll("tspan"),_s25=1===_i31.length?_i31[0]:null;if(_s25&&0===_s25.style.length){var _iterator34=_createForOfIteratorHelper(_s25.childNodes),_step34;try{for(_iterator34.s();!(_step34=_iterator34.n()).done;){var _t39=_step34.value;_e31.append(_t39);}}catch(err){_iterator34.e(err);}finally{_iterator34.f();}for(var _i32=0,_arr4=["x","y","dx","dy","rotate"];_i32<_arr4.length;_i32++){var _e32=_arr4[_i32];_s25.hasAttribute(_e32)&&t.setAttribute(_e32,_s25.getAttribute(_e32));}_s25.remove();}}if(i){var _i33=0,_o13=null;var _iterator35=_createForOfIteratorHelper(bi(t)),_step35;try{for(_iterator35.s();!(_step35=_iterator35.n()).done;){var _l11=_step35.value;for(var _t40=0;_t40<=_l11.textContent.length;_t40+=1,_i33+=1){_i33===s&&e.setStart(_l11,_t40),_i33===n&&(0===_t40&&_o13?e.setEnd(_o13,_o13.textContent.length):e.setEnd(_l11,_t40));}_i33-=1,_o13=_l11;}}catch(err){_iterator35.e(err);}finally{_iterator35.f();}}},ui=function ui(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;null===e&&(e=t.commonAncestorContainer.closest("text"));var i=(e.querySelector("textPath")||e).querySelectorAll("tspan"),s=[];if(i.length>0){if(t){var _iterator36=_createForOfIteratorHelper(i),_step36;try{for(_iterator36.s();!(_step36=_iterator36.n()).done;){var _e33=_step36.value;t.intersectsNode(_e33)&&s.push(_e33);}}catch(err){_iterator36.e(err);}finally{_iterator36.f();}}if(s.length>0){var _e34="backward"===t.direction?s[s.length-1]:s[0],_i34=s.filter(function(t){return t!==_e34;});s=[_e34].concat(_toConsumableArray(_i34));}}return s;},xi=window.getTextModel=function(t){var e={rootItem:null,childItems:[]};{var _fi=fi(t),_fi2=_slicedToArray(_fi,2),_i35=_fi2[0],_s26=_fi2[1],_n15={inheritableProperties:_i35,nonInheritableProperties:_s26};e.rootItem=_n15;}{var _i36=0;var _iterator37=_createForOfIteratorHelper(bi(t)),_step37;try{for(_iterator37.s();!(_step37=_iterator37.n()).done;){var _s27=_step37.value;var _n16={textContent:_s27.textContent,href:null,inheritableProperties:{},nonInheritableProperties:{},isLineBreak:!1,x:[],y:[],dx:[],dy:[],rotate:[],startOffset:_i36,endOffset:_i36+_s27.length};if(_i36+=_s27.length,_s27.textContent===di&&(_n16.isLineBreak=!0),!1===_n16.isLineBreak)for(var _e35=_s27.parentNode;_e35!==t;_e35=_e35.parentNode){if("a"===_e35.localName&&_e35.hasAttribute("_href")){_n16.href=_e35.getAttribute("_href");break;}}if(!1===_n16.isLineBreak){var _e36=_s27.closest("tspan, text"),_fi3=fi(_e36),_fi4=_slicedToArray(_fi3,2),_i37=_fi4[0],_o14=_fi4[1];_n16.inheritableProperties=_i37,_e36!==t&&(_n16.nonInheritableProperties=_o14);}{var _e37=[],_i38=[],_o15=[],_l12=[],_h9=[];for(var _n17=_s27.parentNode;t.contains(_n17);_n17=_n17.parentNode){if("tspan"===_n17.localName||"text"===_n17.localName){var _t41=0;var _iterator38=_createForOfIteratorHelper(bi(_n17)),_step38;try{for(_iterator38.s();!(_step38=_iterator38.n()).done;){var _e42=_step38.value;if(_e42===_s27)break;_t41+=_e42.length;}}catch(err){_iterator38.e(err);}finally{_iterator38.f();}for(var _i39=_t41,_o16=0;_n17.x.baseVal.length,_o16<_s27.length;_i39+=1,_o16+=1){void 0===_e37[_o16]&&void 0!==_n17.x.baseVal[_i39]&&(_e37[_o16]=_n17.x.baseVal[_i39].valueAsString);}for(var _e38=_t41,_o17=0;_n17.y.baseVal.length,_o17<_s27.length;_e38+=1,_o17+=1){void 0===_i38[_o17]&&void 0!==_n17.y.baseVal[_e38]&&(_i38[_o17]=_n17.y.baseVal[_e38].valueAsString);}for(var _e39=_t41,_i40=0;_n17.dx.baseVal.length,_i40<_s27.length;_e39+=1,_i40+=1){void 0===_o15[_i40]&&void 0!==_n17.dx.baseVal[_e39]&&(_o15[_i40]=_n17.dx.baseVal[_e39].valueAsString);}for(var _e40=_t41,_i41=0;_n17.dy.baseVal.length,_i41<_s27.length;_e40+=1,_i41+=1){void 0===_l12[_i41]&&void 0!==_n17.dy.baseVal[_e40]&&(_l12[_i41]=_n17.dy.baseVal[_e40].valueAsString);}for(var _e41=_t41,_i42=0;_n17.rotate.baseVal.length,_i42<_s27.length;_e41+=1,_i42+=1){void 0===_h9[_i42]&&void 0!==_n17.rotate.baseVal[_e41]&&(_h9[_i42]="".concat(_n17.rotate.baseVal[_e41].value));}}}var _a8="0";for(var _t42=0;_t42<_s27.length;_t42+=1){void 0===_e37[_t42]&&(_e37[_t42]="auto"),void 0===_i38[_t42]&&(_i38[_t42]="auto"),void 0===_o15[_t42]&&(_o15[_t42]="0"),void 0===_l12[_t42]&&(_l12[_t42]="0"),void 0===_h9[_t42]&&(_h9[_t42]=_a8),_a8=_h9[_t42];}_n16.x=_e37,_n16.y=_i38,_n16.dx=_o15,_n16.dy=_l12,_n16.rotate=_h9;}e.childItems.push(_n16);}}catch(err){_iterator37.e(err);}finally{_iterator37.f();}}var _iterator39=_createForOfIteratorHelper(e.childItems),_step39;try{for(_iterator39.s();!(_step39=_iterator39.n()).done;){var _t47=_step39.value;var _iterator44=_createForOfIteratorHelper(ri(_t47.inheritableProperties)),_step44;try{for(_iterator44.s();!(_step44=_iterator44.n()).done;){var _i46=_step44.value;e.rootItem.inheritableProperties[_i46]===_t47.inheritableProperties[_i46]&&delete _t47.inheritableProperties[_i46];}}catch(err){_iterator44.e(err);}finally{_iterator44.f();}}}catch(err){_iterator39.e(err);}finally{_iterator39.f();}{var _t43=e.childItems.filter(function(t){return!t.isLineBreak;});if(_t43.length>0){var _t44=_toArray(_t43),_i43=_t44[0],_s28=_t44.slice(1);var _iterator40=_createForOfIteratorHelper(ri(_i43.inheritableProperties)),_step40;try{for(_iterator40.s();!(_step40=_iterator40.n()).done;){var _t45=_step40.value;var _n18=!0;var _iterator41=_createForOfIteratorHelper(_s28),_step41;try{for(_iterator41.s();!(_step41=_iterator41.n()).done;){var _e43=_step41.value;_e43.inheritableProperties[_t45]!==_i43.inheritableProperties[_t45]&&(_n18=!1);}}catch(err){_iterator41.e(err);}finally{_iterator41.f();}if(_n18){e.rootItem.inheritableProperties[_t45]=_i43.inheritableProperties[_t45];var _iterator42=_createForOfIteratorHelper(e.childItems),_step42;try{for(_iterator42.s();!(_step42=_iterator42.n()).done;){var _i44=_step42.value;delete _i44.inheritableProperties[_t45];}}catch(err){_iterator42.e(err);}finally{_iterator42.f();}}}}catch(err){_iterator40.e(err);}finally{_iterator40.f();}}}if(e.childItems.length>1){var _t46=[],_i45=null;var _iterator43=_createForOfIteratorHelper(e.childItems),_step43;try{for(_iterator43.s();!(_step43=_iterator43.n()).done;){var _i45$x,_i45$y,_i45$dx,_i45$dy,_i45$rotate;var _s29=_step43.value;_i45&&_i45.href===_s29.href&&ii(_i45.nonInheritableProperties,_s29.nonInheritableProperties)&&ii(_i45.inheritableProperties,_s29.inheritableProperties)&&(!1===_i45.x.includes("auto")||0===_s29.x.length||ei(_s29.x,"auto"))&&(!1===_i45.y.includes("auto")||0===_s29.y.length||ei(_s29.y,"auto"))&&!1===_i45.isLineBreak&&!1===_s29.isLineBreak?(_i45.textContent+=_s29.textContent,(_i45$x=_i45.x).push.apply(_i45$x,_toConsumableArray(_s29.x)),(_i45$y=_i45.y).push.apply(_i45$y,_toConsumableArray(_s29.y)),(_i45$dx=_i45.dx).push.apply(_i45$dx,_toConsumableArray(_s29.dx)),(_i45$dy=_i45.dy).push.apply(_i45$dy,_toConsumableArray(_s29.dy)),(_i45$rotate=_i45.rotate).push.apply(_i45$rotate,_toConsumableArray(_s29.rotate)),_i45.endOffset=_s29.endOffset):(_t46.push(_s29),_i45=_s29);}}catch(err){_iterator43.e(err);}finally{_iterator43.f();}e.childItems=_t46;}return e;},bi=function bi(t){var e=[];if(t.closest("text")){var _i47=[],_s30=document.createTreeWalker(t,NodeFilter.SHOW_TEXT);for(;_s30.nextNode();){_i47.push(_s30.currentNode);}for(var _i49=0,_i48=_i47;_i49<_i48.length;_i49++){var _t48=_i48[_i49];var _i50=_t48.parentElement;if("text"===_i50.localName||"tspan"===_i50.localName||"textPath"===_i50.localName)_i50.getNumberOfChars()>0&&e.push(_t48);else if("a"===_i50.localName){var _s31=_i50.getBBox();0===_s31.x&&0===_s31.y&&0===_s31.width&&0===_s31.height||e.push(_t48);}}}return e;},mi=function mi(t){var e=bi(t),i=[];var _iterator45=_createForOfIteratorHelper(e),_step45;try{for(_iterator45.s();!(_step45=_iterator45.n()).done;){var _t49=_step45.value;var _e44=_t49.closest("*"),_s32=getComputedStyle(_e44).textTransform,_n19=_t49.textContent;"uppercase"===_s32?_n19=_n19.toUpperCase():"lowercase"===_s32?_n19=_n19.toLowerCase():"capitalize"===_s32&&(_n19=ni(_n19)),i.push.apply(i,_toConsumableArray(_n19.split("")));}}catch(err){_iterator45.e(err);}finally{_iterator45.f();}return i;},gi=function gi(t){var e=bi(t),i=0,s=0;for(var _s33=e[0].parentElement;t.contains(_s33);_s33=_s33.parentElement){if(("tspan"===_s33.localName||"text"===_s33.localName)&&_s33.x.baseVal.length>0){i=_s33.x.baseVal[0].value;break;}}for(var _i51=e[0].parentElement;t.contains(_i51);_i51=_i51.parentElement){if(("tspan"===_i51.localName||"text"===_i51.localName)&&_i51.y.baseVal.length>0){s=_i51.y.baseVal[0].value;break;}}return new DOMPoint(i,s);},fi=function fi(t){var e=getComputedStyle(t),i={},s={};var _iterator46=_createForOfIteratorHelper(G),_step46;try{for(_iterator46.s();!(_step46=_iterator46.n()).done;){var _t50=_step46.value;if(_t50.appliesTo.includes("text")||_t50.appliesTo.includes("tspan")||_t50.appliesTo.includes("textPath")){if("font"===_t50.name||"display"===_t50.name)continue;!0===_t50.inheritable?i[_t50.name]=e.getPropertyValue(_t50.name):!1===_t50.inheritable&&(s[_t50.name]=e.getPropertyValue(_t50.name));}}}catch(err){_iterator46.e(err);}finally{_iterator46.f();}return[i,s];},wi=function wi(t){return"tspan"===t.localName&&t.textContent===di;},vi=function vi(t){if("text"===t.localName){var _iterator47=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step47;try{for(_iterator47.s();!(_step47=_iterator47.n()).done;){var _e45=_step47.value;if(wi(_e45))return!0;}}catch(err){_iterator47.e(err);}finally{_iterator47.f();}}return!1;},yi=function yi(t){var e=0;var _iterator48=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step48;try{for(_iterator48.s();!(_step48=_iterator48.n()).done;){var _i52=_step48.value;if(wi(_i52)&&_i52.dy.baseVal.length>0&&_i52.dy.baseVal[0].unitType===SVGLength.SVG_LENGTHTYPE_EMS){var _t51=_i52.dy.baseVal[0].valueInSpecifiedUnits;e=Z(_t51-1,2);break;}}}catch(err){_iterator48.e(err);}finally{_iterator48.f();}return e;},ki=function ki(t,e){var i=t.closest("text"),s=0,n=-1;var _iterator49=_createForOfIteratorHelper(bi(i)),_step49;try{for(_iterator49.s();!(_step49=_iterator49.n()).done;){var _o18=_step49.value;if(_o18===t){n=s+e;break;}s+=_o18.length;}}catch(err){_iterator49.e(err);}finally{_iterator49.f();}return[i,n];},Si=function Si(t,e){var i=null,s=null,n=0,o=0;var _iterator50=_createForOfIteratorHelper(bi(t)),_step50;try{for(_iterator50.s();!(_step50=_iterator50.n()).done;){var _l13=_step50.value;for(var _t52=0;_t52<=_l13.textContent.length;_t52+=1,o+=1){o===e&&(0===_t52&&i?(s=i,n=i.textContent.length):(s=_l13,n=_t52));}o-=1,i=_l13;}}catch(err){_iterator50.e(err);}finally{_iterator50.f();}return[s,n];},_i=function _i(t){var e={x:[],y:[],dx:[],dy:[],rotate:[]};var _iterator51=_createForOfIteratorHelper(bi(t)),_step51;try{for(_iterator51.s();!(_step51=_iterator51.n()).done;){var _e$x,_e$y,_e$dx,_e$dy,_e$rotate;var _i53=_step51.value;var _s34=[],_n20=[],_o19=[],_l14=[],_h10=[];for(var _e46=_i53.parentNode;t.contains(_e46);_e46=_e46.parentNode){if("tspan"===_e46.localName||"text"===_e46.localName){var _t53=0;var _iterator52=_createForOfIteratorHelper(bi(_e46)),_step52;try{for(_iterator52.s();!(_step52=_iterator52.n()).done;){var _s39=_step52.value;if(_s39===_i53)break;_t53+=_s39.length;}}catch(err){_iterator52.e(err);}finally{_iterator52.f();}for(var _n21=_t53,_o20=0;_e46.x.baseVal.length,_o20<_i53.length;_n21+=1,_o20+=1){void 0===_s34[_o20]&&void 0!==_e46.x.baseVal[_n21]&&(_s34[_o20]=_e46.x.baseVal[_n21].value);}for(var _s35=_t53,_o21=0;_e46.y.baseVal.length,_o21<_i53.length;_s35+=1,_o21+=1){void 0===_n20[_o21]&&void 0!==_e46.y.baseVal[_s35]&&(_n20[_o21]=_e46.y.baseVal[_s35].value);}for(var _s36=_t53,_n22=0;_e46.dx.baseVal.length,_n22<_i53.length;_s36+=1,_n22+=1){void 0===_o19[_n22]&&void 0!==_e46.dx.baseVal[_s36]&&(_o19[_n22]=_e46.dx.baseVal[_s36].value);}for(var _s37=_t53,_n23=0;_e46.dy.baseVal.length,_n23<_i53.length;_s37+=1,_n23+=1){void 0===_l14[_n23]&&void 0!==_e46.dy.baseVal[_s37]&&(_l14[_n23]=_e46.dy.baseVal[_s37].value);}for(var _s38=_t53,_n24=0;_e46.rotate.baseVal.length,_n24<_i53.length;_s38+=1,_n24+=1){void 0===_h10[_n24]&&void 0!==_e46.rotate.baseVal[_s38]&&(_h10[_n24]=_e46.rotate.baseVal[_s38].value);}}}{var _t54=0;for(var _e47=0;_e47<_i53.length;_e47+=1){void 0===_s34[_e47]&&(_s34[_e47]="auto"),void 0===_n20[_e47]&&(_n20[_e47]="auto"),void 0===_o19[_e47]&&(_o19[_e47]=0),void 0===_l14[_e47]&&(_l14[_e47]=0),void 0===_h10[_e47]&&(_h10[_e47]=_t54),_t54=_h10[_e47];}}(_e$x=e.x).push.apply(_e$x,_s34),(_e$y=e.y).push.apply(_e$y,_n20),(_e$dx=e.dx).push.apply(_e$dx,_o19),(_e$dy=e.dy).push.apply(_e$dy,_l14),(_e$rotate=e.rotate).push.apply(_e$rotate,_h10);}}catch(err){_iterator51.e(err);}finally{_iterator51.f();}return e;},Ci=function Ci(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=new DOMRect(0,0,0,0),s=e?U(t):null;if(s){i=function(t,e){var i=Math.max(t.left,e.left),s=Math.min(t.right,e.right),n=Math.max(t.top,e.top),o=Math.min(t.bottom,e.bottom);return new DOMRect(i,n,s-i,o-n);}(Ci(t,!1),Ue(DOMRect.fromRect(s.getBBox()),Nt(s)));}else if("tspan"===t.localName){var _e48=bi(t),_s40=document.createRange();if(_e48.length>0&&(_s40.setStart(_e48[0],0),_s40.setEnd(_e48[_e48.length-1],_e48[_e48.length-1].length)),!1===_s40.collapsed){var _t55=_s40.startContainer.closest("text"),_ki=ki(_s40.startContainer,_s40.startOffset),_ki2=_slicedToArray(_ki,2),_e49=_ki2[1],_ki3=ki(_s40.endContainer,_s40.endOffset),_ki4=_slicedToArray(_ki3,2),_n25=_ki4[1],_o22=[];for(var _i54=_e49;_i54<_n25;_i54+=1){var _e50=_t55.getExtentOfChar(_i54);_o22.push(_e50);}i=Ne(_o22);}}else i="use"===t.localName?new DOMRect(0,0,t.width.baseVal.value,t.height.baseVal.value):DOMRect.fromRect(t.getBBox());return i;},Mi=function Mi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=jt(t),s=Ci(t,e);return Ue(s,i);},Pi=Number.parseInt,Di=function Di(t){var e=document.createDocumentFragment(),i=document.createElementNS(l.svg,"svg");for(i.innerHTML=t;i.firstChild;){e.append(i.firstChild);}return e.childElementCount>1?e:1===e.childElementCount?e.children[0]:null;},zi=function zi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=t.split(":"),s=null;if(1===i.length){var _i55=_slicedToArray(i,1),_t56=_i55[0];s=document.createElement(_t56,e);}else if(2===i.length){var _i56=_slicedToArray(i,2),_t57=_i56[0],_n26=_i56[1];"svg"===_t57&&(s=document.createElementNS(l.svg,_n26,e));}return s;},Oi=function Oi(t){var e="svg"===t.localName?t:null;for(var _i57=t.ownerSVGElement;_i57;_i57=_i57.ownerSVGElement){e=_i57;}return e;},Ei=function Ei(t){for(var _e51 in t.parentElement.children){if(t.parentElement.children[_e51]===t)return Pi(_e51);}},Ti=function Ti(t,e){if(t.localName!==e.localName)return!1;if(t.namespaceURI!==e.namespaceURI)return!1;if(t.textContent!==e.textContent)return!1;if(t.children.length!==e.children.length)return!1;if(t.attributes.length!==e.attributes.length)return!1;var _iterator53=_createForOfIteratorHelper(t.attributes),_step53;try{for(_iterator53.s();!(_step53=_iterator53.n()).done;){var _i59=_step53.value;if("style"===_i59.name){if(t.style.cssText!==e.style.cssText)return!1;}else if(t.getAttribute(_i59.name)!==e.getAttribute(_i59.name))return!1;}}catch(err){_iterator53.e(err);}finally{_iterator53.f();}for(var _i58=0;_i58<t.children.length;_i58+=1){if(!1===Ti(t.children[_i58],e.children[_i58]))return!1;}return!0;},Ai=function Ai(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=t.closest(e);return i&&!s&&t.getRootNode().host?Ai(t.getRootNode().host,e):s;},$i=function $i(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i,s=function s(t,e){return{x:t,y:e,translate:function translate(i,n){return s(t+i,e+n);}};},n=function n(t,e){return{start:t,length:e,end:t+e};},o=function o(t,i){return!1===e||i.start<t.end&&t.start<i.end?Math.max(t.end-i.length,Math.min(i.start,t.start)):(t.start+t.end-i.length)/2;},l=function l(t,e){for(;t;){e=e.translate(t.offsetLeft,t.offsetTop),t=t.offsetParent;}return e;},h=l(t,s(0,0)),a=s(t.offsetWidth,t.offsetHeight),r=t.parentNode;for(;r instanceof HTMLElement;){i=l(r,s(r.clientLeft,r.clientTop)),r.scrollLeft=o(n(h.x-i.x,a.x),n(r.scrollLeft,r.clientWidth)),r.scrollTop=o(n(h.y-i.y,a.y),n(r.scrollTop,r.clientHeight)),h=h.translate(-r.scrollLeft,-r.scrollTop),r=r.parentNode;}},Ii=function Ii(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[];var _iterator54=_createForOfIteratorHelper(t),_step54;try{for(_iterator54.s();!(_step54=_iterator54.n()).done;){var _s41=_step54.value;if("g"===_s41.localName||"a"===_s41.localName){var _t58=_toConsumableArray(_s41.children);i=[].concat(_toConsumableArray(i),_toConsumableArray(Ii(_t58,e)));}else if(m.includes(_s41.localName)&&(i.push(_s41),"text"===_s41.localName&&e)){var _t59=_toConsumableArray(_s41.children);i=[].concat(_toConsumableArray(i),_toConsumableArray(Ii(_t59,e)));}}}catch(err){_iterator54.e(err);}finally{_iterator54.f();}return i;},Li=function Li(t,e){for(;t=t.parentNode;){if(t.contains&&t.contains(e))return t;}return null;},Bi=function Bi(t){var e=[];var _iterator55=_createForOfIteratorHelper(t),_step55;try{for(_iterator55.s();!(_step55=_iterator55.n()).done;){var _i60=_step55.value;e.push(_i60);}}catch(err){_iterator55.e(err);}finally{_iterator55.f();}return e.sort(function(t,e){return 3-(6&t.compareDocumentPosition(e));}),e;},Ri=function Ri(t){var e=[];t=Bi(t);var _iterator56=_createForOfIteratorHelper(t),_step56;try{for(_iterator56.s();!(_step56=_iterator56.n()).done;){var _i61=_step56.value;if(_i61===t[0])e.push([_i61]);else{var _t60=!1;var _iterator57=_createForOfIteratorHelper(e),_step57;try{for(_iterator57.s();!(_step57=_iterator57.n()).done;){var _s42=_step57.value;_i61.parentElement===_s42[0].parentElement&&(_s42.push(_i61),_t60=!0);}}catch(err){_iterator57.e(err);}finally{_iterator57.f();}!1===_t60&&e.push([_i61]);}}}catch(err){_iterator56.e(err);}finally{_iterator56.f();}return e;},Gi=function Gi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"designer";var i=null;if("developer"===e)"rect"===t.localName?i="<rect>":"circle"===t.localName?i="<circle>":"ellipse"===t.localName?i="<ellipse>":"line"===t.localName?i="<line>":"polyline"===t.localName?i="<polyline>":"polygon"===t.localName?i="<polygon>":"text"===t.localName?i="<text>":"image"===t.localName?i="<image>":"use"===t.localName?i="<use>":"svg"===t.localName?i="<svg>":"a"===t.localName?i="<a>":"g"===t.localName?i="master"===t.getAttribute("data-bx-workspace")?"<svg>":"symbol"===t.getAttribute("data-bx-workspace")?"<symbol>":"pattern"===t.getAttribute("data-bx-workspace")?"<pattern>":"marker"===t.getAttribute("data-bx-workspace")?"<marker>":"<g>":"path"===t.localName?i="<path>":"clipPath"===t.localName?i="<clipPath>":"mask"===t.localName?i="<mask>":"view"===t.localName?i="<view>":"bx-guide"===t.localName&&(i="<bx:guide>");else if("designer"===e)if("rect"===t.localName)i="Rectangle";else if("circle"===t.localName)i="Circle";else if("ellipse"===t.localName)i="Ellipse";else if("line"===t.localName)i="Line";else if("polyline"===t.localName)i="Polyline";else if("polygon"===t.localName)i="Polygon";else if("text"===t.localName)i="Text";else if("image"===t.localName)i="Image";else if("use"===t.localName)i="Symbol instance";else if("svg"===t.localName)i="SVG";else if("a"===t.localName)i="Link";else if("g"===t.localName)i="master"===t.getAttribute("data-bx-workspace")?"SVG":"symbol"===t.getAttribute("data-bx-workspace")?"Symbol":"pattern"===t.getAttribute("data-bx-workspace")?"Pattern":"marker"===t.getAttribute("data-bx-workspace")?"Marker":"Group";else if("path"===t.localName){var _e52=t.getAttribute("data-bx-shape");if(_e52){var _t61=_e52.substring(0,_e52.indexOf(" "));i="rect"===_t61?"Rectangle":ni(_t61);}else i="Path";}else"clipPath"===t.localName?i="Clip":"mask"===t.localName?i="Mask":"view"===t.localName?i="View":"bx-guide"===t.localName&&(i="Guide");return i;},Fi=function Fi(t){var e=null;if("rect"===t.localName)e="object-rect";else if("circle"===t.localName)e="object-circle";else if("ellipse"===t.localName)e="object-ellipse";else if("line"===t.localName)e="object-line";else if("polyline"===t.localName)e="object-polyline";else if("polygon"===t.localName)e="object-polygon";else if("text"===t.localName)e="object-text";else if("image"===t.localName)e="object-image";else if("a"===t.localName)e="object-link";else if("use"===t.localName)e="object-symbol";else if("svg"===t.localName)e="object-svg";else if("g"===t.localName)e="master"===t.getAttribute("data-bx-workspace")?"object-svg":"symbol"===t.getAttribute("data-bx-workspace")?"object-symbol":"pattern"===t.getAttribute("data-bx-workspace")?"object-pattern":"marker"===t.getAttribute("data-bx-workspace")?"object-marker":"object-group";else if("path"===t.localName){var _i62=t.getAttribute("data-bx-shape");e=_i62?"object-"+_i62.substring(0,_i62.indexOf(" ")):"object-path";}else"clipPath"===t.localName?e="object-clip":"mask"===t.localName?e="object-mask":"view"===t.localName?e="object-view":"bx-guide"===t.localName&&(e="object-guide");return e;},Ui=function Ui(t,e){if(!t.transform||!e.transform)return!1;var i=Mi(t),s=Mi(e);return He(i,s);},Ni=function Ni(t){var e=[],i=[];var _iterator58=_createForOfIteratorHelper(t),_step58;try{var _loop=function _loop(){var s=_step58.value;var n=[],o=function o(e){var _iterator60=_createForOfIteratorHelper(t),_step60;try{for(_iterator60.s();!(_step60=_iterator60.n()).done;){var _s43=_step60.value;var _t62=!n.includes(_s43)&&!i.includes(_s43);_s43!==e&&_t62&&Ui(_s43,e)&&(n.push(_s43),i.push(_s43),o(_s43));}}catch(err){_iterator60.e(err);}finally{_iterator60.f();}};o(s),n.length>0&&e.push(Bi(n));};for(_iterator58.s();!(_step58=_iterator58.n()).done;){_loop();}}catch(err){_iterator58.e(err);}finally{_iterator58.f();}var _iterator59=_createForOfIteratorHelper(t),_step59;try{for(_iterator59.s();!(_step59=_iterator59.n()).done;){var _s44=_step59.value;i.includes(_s44)||e.push([_s44]);}}catch(err){_iterator59.e(err);}finally{_iterator59.f();}return e;},Vi=function Vi(t){if(0===t.length)return!1;for(var _e53=0;_e53<t.length;_e53+=1){var _i63=t.charCodeAt(_e53);if(!1===(_i63>=65&&_i63<=90||_i63>=97&&_i63<=122)){if(0===_e53)return!1;if(!1===(_i63>=48&&_i63<=57||45===_i63||46===_i63||95===_i63))return!1;}}return!0;},ji=function ji(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"element-";var i=document;for(var _e54=t.parentNode;_e54;_e54=_e54.parentNode){if(_e54.nodeType===Node.DOCUMENT_FRAGMENT_NODE||_e54.nodeType===Node.DOCUMENT_NODE){i=_e54;break;}}for(var _t63=0;_t63<Infinity;_t63+=1){var _s45=e+_t63;if(!i.querySelector("#".concat(_s45)))return _s45;}},Hi=document.createElement("template"),Yi=function Yi(t){var i=[];for(var _len2=arguments.length,e=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){e[_key2-1]=arguments[_key2];}for(var _s46=0;_s46<t.length;_s46+=1){i.push(t[_s46]),void 0!==e[_s46]&&i.push(e[_s46]);}var s=i.join("");Hi.innerHTML=s;var n=document.importNode(Hi.content,!0);return 1===n.children.length?n.firstElementChild:n;},Wi=function Wi(t){var i=[];for(var _len3=arguments.length,e=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){e[_key3-1]=arguments[_key3];}for(var _s47=0;_s47<t.length;_s47+=1){i.push(t[_s47]),void 0!==e[_s47]&&i.push(e[_s47]);}var s=i.join(""),n=new CSSStyleSheet();return n.replaceSync(s),n;},qi=function qi(t){var i=[];for(var _len4=arguments.length,e=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++){e[_key4-1]=arguments[_key4];}for(var _s48=0;_s48<t.length;_s48+=1){i.push(t[_s48]),void 0!==e[_s48]&&i.push(e[_s48]);}var s="<svg id=\"x-stub\" xmlns=\"http://www.w3.org/2000/svg\">".concat(i.join(""),"</svg>");Hi.innerHTML=s;var n=document.importNode(Hi.content,!0),o=n.querySelector("svg#x-stub");if(1===o.children.length)return o.firstElementChild;for(var _i64=0,_arr5=_toConsumableArray(o.childNodes);_i64<_arr5.length;_i64++){var _t64=_arr5[_i64];n.appendChild(_t64);}return o.remove(),n;},Xi=function Xi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:500;var i=arguments.length>2?arguments[2]:undefined;var s=null,n=null,o=null,l=0,h=function h(){l=new Date(),n=null,o=t.apply(i,s);};return function(){var r=new Date(),d=e-(r-l);for(var _len5=arguments.length,a=new Array(_len5),_key5=0;_key5<_len5;_key5++){a[_key5]=arguments[_key5];}return s=a,d<=0?(clearTimeout(n),n=null,l=r,o=t.apply(i,s)):n||(n=setTimeout(h,d)),o;};},Zi=function Zi(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var n=null,o=null;return function(){for(var _len6=arguments.length,l=new Array(_len6),_key6=0;_key6<_len6;_key6++){l[_key6]=arguments[_key6];}var h=s&&!n;return clearTimeout(n),n=setTimeout(function(){n=null,s||(o=t.apply(i,l));},e),h&&(o=t.apply(i,l)),o;};},Ki=function Ki(t,e){var i,s=!1;return function(){return s||(s=!0,i=t.apply(e||this,arguments),t=null),i;};},Qi=function Qi(t){return new Promise(function(e,i){setTimeout(function(){return e();},t);});},Ji=new Promise(function(t){requestIdleCallback(t);});var ts=/*#__PURE__*/function(){function ts(t){_classCallCheck(this,ts);this.text=t,this.cursor=0,this.line=1,this.column=1,this.t={cursor:0,line:1,column:1};}_createClass(ts,[{key:"read",value:function read(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e="",i=this.cursor;for(var _s49=0;_s49<t;_s49+=1){var _t65=this.text[i+_s49];if(void 0===_t65)break;e+=_t65,this.cursor+=1,"\n"===_t65?(this.line+=1,this.column=1):this.column+=1;}return""===e?null:e;}},{key:"peek",value:function peek(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e="";for(var _i65=0;_i65<t;_i65+=1){var _t66=this.text[this.cursor+_i65];if(void 0===_t66)break;e+=_t66;}return""===e?null:e;}},{key:"eatSpaces",value:function eatSpaces(){var t="";for(;" "===this.peek();){t+=this.read();}return t;}},{key:"eatWhitespace",value:function eatWhitespace(){var t="";for(;" "===this.peek()||"\n"===this.peek();){t+=this.read();}return t;}},{key:"storePosition",value:function storePosition(){var t=this.cursor,e=this.line,i=this.column;this.t={cursor:t,line:e,column:i};}},{key:"restorePosition",value:function restorePosition(){var _this$t=this.t,t=_this$t.cursor,e=_this$t.line,i=_this$t.column;this.cursor=t,this.line=e,this.column=i;}}]);return ts;}();var es=Math.max,is=Math.pow,ss=Math.sqrt,ns=Math.PI,os=function os(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=is(10,e);return Math.round(t*i)/i;},ls=function ls(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return new DOMRect(os(t.x,e),os(t.y,e),os(t.width,e),os(t.height,e));},hs=function hs(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Infinity;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;return null!==s&&(t=os(t,s)),t<e?t=e:t>i&&(t=i),t;},as=function as(t){if(isFinite(t)){var _e55=1,_i66=0;for(;Math.round(t*_e55)/_e55!==t;){_e55*=10,_i66+=1;}return _i66;}return 0;},rs=function rs(t,e){var i=e.x-t.x;i*=i;var s=e.y-t.y;return s*=s,ss(i+s);},ds=function ds(t){return ns*t/180;},cs=Math.min,ps=Math.max,us=Math.floor,xs=Math.pow,bs=Math.atan2,ms=Math.PI,gs=Math.sqrt,fs=function fs(t,e,i){var s,n,o,l=ps(t/=255,e/=255,i/=255),h=cs(t,e,i);if(s=n=o=(l+h)/2,l===h)s=n=0;else{var _a9=l-h;if(n=o>.5?_a9/(2-l-h):_a9/(l+h),l===t){var _t67;_t67=e<i?6:0,s=(e-i)/_a9+_t67;}else l===e?s=(i-t)/_a9+2:l===i&&(s=(t-e)/_a9+4);}return s=hs(s/6*360,0,360,0),n=hs(100*n,0,100,1),o=hs(100*o,0,100,1),[s,n,o];},ws=function ws(t,e,i){var s,n,o;if(t/=360,i/=100,0==(e/=100))s=n=o=i;else{var _l15,_h11,_a10=function _a10(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t;};_l15=i<.5?i*(1+e):i+e-i*e,_h11=2*i-_l15,s=_a10(_h11,_l15,t+1/3),n=_a10(_h11,_l15,t),o=_a10(_h11,_l15,t-1/3);}return s=hs(255*s,0,255,0),n=hs(255*n,0,255,0),o=hs(255*o,0,255,0),[s,n,o];},vs=function vs(t,e,i){e/=100,i/=100;var s=us(6*(t/=360)),n=6*t-s,o=i*(1-e),l=i*(1-n*e),h=i*(1-(1-n)*e),a=0,r=0,d=0;return s%6==0?(a=i,r=h,d=o):s%6==1?(a=l,r=i,d=o):s%6==2?(a=o,r=i,d=h):s%6==3?(a=o,r=l,d=i):s%6==4?(a=h,r=o,d=i):s%6==5&&(a=i,r=o,d=l),a*=255,r*=255,d*=255,[a,r,d];},ys=function ys(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"rgba";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"hex";var s=null;if(["rgb","rgba","rgb%","rgba%","hex"].includes(i)){var _t68,_t69,_ws,_ws2,_vs,_vs2;var _n27,_o23,_l16,_h12;if("rgba"===e?(_t68=t,_t69=_slicedToArray(_t68,4),_n27=_t69[0],_o23=_t69[1],_l16=_t69[2],_h12=_t69[3],_t68):"hsla"===e?((_ws=ws.apply(void 0,_toConsumableArray(t)),_ws2=_slicedToArray(_ws,3),_n27=_ws2[0],_o23=_ws2[1],_l16=_ws2[2],_ws),_h12=t[3]):"hsva"===e&&((_vs=vs.apply(void 0,_toConsumableArray(t)),_vs2=_slicedToArray(_vs,3),_n27=_vs2[0],_o23=_vs2[1],_l16=_vs2[2],_vs),_h12=t[3]),"rgb%"===i||"rgba%"===i?(_n27=hs(_n27/255*100,0,100,1),_o23=hs(_o23/255*100,0,100,1),_l16=hs(_l16/255*100,0,100,1),_h12=hs(_h12,0,1,2)):(_n27=hs(_n27,0,255,0),_o23=hs(_o23,0,255,0),_l16=hs(_l16,0,255,0),_h12=hs(_h12,0,1,2)),"rgb"===i)s="rgb(".concat(_n27,", ").concat(_o23,", ").concat(_l16,")");else if("rgba"===i)s="rgba(".concat(_n27,", ").concat(_o23,", ").concat(_l16,", ").concat(_h12,")");else if("rgb%"===i)s="rgb(".concat(_n27,"%, ").concat(_o23,"%, ").concat(_l16,"%)");else if("rgba%"===i)s="rgb(".concat(_n27,"%, ").concat(_o23,"%, ").concat(_l16,"%, ").concat(_h12,")");else if("hex"===i){var _t70=_n27.toString(16),_e56=_o23.toString(16),_i67=_l16.toString(16);1===_t70.length&&(_t70="0"+_t70),1===_e56.length&&(_e56="0"+_e56),1===_i67.length&&(_i67="0"+_i67),s="#"+_t70+_e56+_i67;}}else if("hsl"===i||"hsla"===i){var _t71,_t72,_ref,_ref2,_fs,_fs2;var _n28,_o24,_l17,_h13;"hsla"===e?(_t71=t,_t72=_slicedToArray(_t71,4),_n28=_t72[0],_o24=_t72[1],_l17=_t72[2],_h13=_t72[3],_t71):"hsva"===e?((_ref=function(t,e,i){var s=t/=360,n=(2-(e/=100))*(i/=100),o=e*i;return n<=1?0===n?o=0:o/=n:2===n?o=0:o/=2-n,n/=2,s*=360,o=100*ps(0,cs(1,o)),n=100*ps(0,cs(1,n)),[s,o,n];}.apply(void 0,_toConsumableArray(t)),_ref2=_slicedToArray(_ref,3),_n28=_ref2[0],_o24=_ref2[1],_l17=_ref2[2],_ref),_h13=t[3]):"rgba"===e&&((_fs=fs.apply(void 0,_toConsumableArray(t)),_fs2=_slicedToArray(_fs,3),_n28=_fs2[0],_o24=_fs2[1],_l17=_fs2[2],_fs),_h13=t[3]),_n28=hs(_n28,0,360,0),_o24=hs(_o24,0,100,1),_l17=hs(_l17,0,100,1),_h13=hs(_h13,0,1,2),"hsl"===i?s="hsl(".concat(_n28,", ").concat(_o24,"%, ").concat(_l17,"%)"):"hsla"===i&&(s="hsla(".concat(_n28,", ").concat(_o24,"%, ").concat(_l17,"%, ").concat(_h13,")"));}return s;},ks=function ks(t,e){var i=e.startsWith("hsl")?"hsla":"rgba",s=new Ps().parse(t,i);return ys(s,i,e);},Ss=function Ss(t){if("#"!==(t=t.toLowerCase())[0])return!1;if(4!==t.length&&7!==t.length)return!1;t=t.substring(1);var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];var _iterator61=_createForOfIteratorHelper(t),_step61;try{for(_iterator61.s();!(_step61=_iterator61.n()).done;){var _i68=_step61.value;if(!e.includes(_i68))return!1;}}catch(err){_iterator61.e(err);}finally{_iterator61.f();}return!0;},_s=function _s(){return new Promise(function(t){if(_s.url)t(_s.url);else if(_s.callbacks)_s.callbacks.push(t);else{_s.callbacks=[t];var _e57=300,_i69=document.createElement("canvas"),_s50=_i69.getContext("2d"),_n29=_s50.createImageData(_e57,_e57),_o25=_n29.data,_l18=_e57/2,_h14=0;_i69.width=_e57,_i69.height=_e57;for(var _t73=0;_t73<_e57;_t73++){for(var _i70=0;_i70<_e57;_i70++){var _e58=_i70-_l18,_s51=_t73-_l18,_n30=xs(_e58,2)+xs(_s51,2),_a11=(bs(_s51,_e58)+ms)/(2*ms)*360,_r8=gs(_n30)/_l18*100,_vs3=vs(_a11,_r8,100),_vs4=_slicedToArray(_vs3,3),_d4=_vs4[0],_c2=_vs4[1],_p2=_vs4[2],_u2=_n30>xs(_l18,2)?0:255;_o25[_h14++]=_d4,_o25[_h14++]=_c2,_o25[_h14++]=_p2,_o25[_h14++]=_u2;}}_s50.putImageData(_n29,0,0),_i69.toBlob(function(t){_s.url=URL.createObjectURL(t);var _iterator62=_createForOfIteratorHelper(_s.callbacks),_step62;try{for(_iterator62.s();!(_step62=_iterator62.n()).done;){var _t74=_step62.value;_t74(_s.url);}}catch(err){_iterator62.e(err);}finally{_iterator62.f();}});}});},Cs=Number.parseFloat,Ms=Number.parseInt;var Ps=/*#__PURE__*/function(){function Ps(){_classCallCheck(this,Ps);}_createClass(Ps,[{key:"parse",value:function parse(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"rgba";t=t.trim();var i=this.h(t),s=null,n=null;if(7===i.length&&"rgb("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&")"===i[6].text)s=[Cs(i[1].text),Cs(i[3].text),Cs(i[5].text),1];else if(7===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)s=[Cs(i[1].text)/100*255,Cs(i[3].text)/100*255,Cs(i[5].text)/100*255,1];else if(9===i.length&&"rgba("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[Cs(i[1].text),Cs(i[3].text),Cs(i[5].text),Cs(i[7].text)];else if(9===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[Cs(i[1].text)/100*255,Cs(i[3].text)/100*255,Cs(i[5].text)/100*255,Cs(i[7].text)];else if(7===i.length&&"hsl("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)n=[Cs(i[1].text),Cs(i[3].text),Cs(i[5].text),1];else if(9===i.length&&"hsla("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)n=[Cs(i[1].text),Cs(i[3].text),Cs(i[5].text),Cs(i[7].text)];else if("HEX"===i[0].type&&void 0===i[1]){var _t75,_e59,_n31,_o26=i[0].text.substring(1);3===_o26.length?(_t75=_o26[0]+_o26[0],_e59=_o26[1]+_o26[1],_n31=_o26[2]+_o26[2]):(_t75=_o26[0]+_o26[1],_e59=_o26[2]+_o26[3],_n31=_o26[4]+_o26[5]),s=[Ms(_t75,16),Ms(_e59,16),Ms(_n31,16),1];}else Ps.i[t]&&(s=[Ps.i[t][0],Ps.i[t][1],Ps.i[t][2],1]);if(s){var _s52=s,_s53=_slicedToArray(_s52,4),_t76=_s53[0],_i71=_s53[1],_n32=_s53[2],_o27=_s53[3];if(_t76=hs(_t76,0,255,0),_i71=hs(_i71,0,255,0),_n32=hs(_n32,0,255,0),_o27=hs(_o27,0,1,2),"hsla"===e){var _fs3=fs(_t76,_i71,_n32),_fs4=_slicedToArray(_fs3,3),_e60=_fs4[0],_s54=_fs4[1],_l19=_fs4[2];return[_e60,_s54,_l19,_o27];}if("hsva"===e){var _ref3=function(t,e,i){var s=ps(t/=255,e/=255,i/=255),n=cs(t,e,i),o=0,l=0,h=s,a=s-n;return l=0===s?0:a/s,s===n?o=0:(s===t?o=(e-i)/a+(e<i?6:0):s===e?o=(i-t)/a+2:s===i&&(o=(t-e)/a+4),o/=6),o*=360,l*=100,h*=100,[o,l,h];}(_t76,_i71,_n32),_ref4=_slicedToArray(_ref3,3),_e61=_ref4[0],_s55=_ref4[1],_l20=_ref4[2];return[_e61,_s55,_l20,_o27];}return[_t76,_i71,_n32,_o27];}if(n){var _n33=n,_n34=_slicedToArray(_n33,4),_t77=_n34[0],_i72=_n34[1],_s56=_n34[2],_o28=_n34[3];if(_t77=hs(_t77,0,360,0),_i72=hs(_i72,0,100,1),_s56=hs(_s56,0,100,1),_o28=hs(_o28,0,1,2),"hsla"===e)return[_t77,_i72,_s56,_o28];if("hsva"===e){var _ref5=function(t,e,i){e/=100;var s,n,o=t/=360;return s=(i=i/100*2)+(e*=i<=1?i:2-i)==0?0:2*e/(i+e),n=(i+e)/2,o*=360,s=100*ps(0,cs(1,s)),n=100*ps(0,cs(1,n)),[o,s,n];}(_t77,_i72,_s56),_ref6=_slicedToArray(_ref5,3),_e62=_ref6[0],_n35=_ref6[1],_l21=_ref6[2];return[_e62,_n35,_l21,_o28];}{var _ws3=ws(_t77,_i72,_s56),_ws4=_slicedToArray(_ws3,3),_e63=_ws4[0],_n36=_ws4[1],_l22=_ws4[2];return[_e63,_n36,_l22,_o28];}}throw new Error("Invalid color string: \"".concat(t,"\""));}},{key:"h",value:function h(t){var e=[],i=new ts(t.toLowerCase());var _loop2=function _loop2(){var t=i.read();(function(){if("r"===t||"h"===t){var _s57=t;if(t+i.peek(3)==="rgb("?_s57+=i.read(3):t+i.peek(4)==="rgba("?_s57+=i.read(4):t+i.peek(3)==="hsl("?_s57+=i.read(3):t+i.peek(4)==="hsla("&&(_s57+=i.read(4)),_s57!==t)return void e.push({type:"FUNCTION",text:_s57});}if("#"===t){if(Ss(t+i.peek(6))){var _s58=t+i.read(6);return void e.push({type:"HEX",text:_s58});}if(Ss(t+i.peek(3))){var _s59=t+i.read(3);return void e.push({type:"HEX",text:_s59});}}if(["0","1","2","3","4","5","6","7","8","9",".","-"].includes(t)){var _s60=t;for(;["0","1","2","3","4","5","6","7","8","9","."].includes(i.peek());){_s60+=i.read();}"%"===i.peek()?(_s60+=i.read(),e.push({type:"PERCENTAGE",text:_s60})):e.push({type:"NUM",text:_s60});}else /\u0009|\u000a|\u000c|\u000d|\u0020/.test(t)||e.push({type:"CHAR",text:t});})();};for(;null!==i.peek();){_loop2();}return e;}}]);return Ps;}();_defineProperty(Ps,"i",{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]});var Ds=document.createElement("template"),zs=function zs(t){var i=[];for(var _len7=arguments.length,e=new Array(_len7>1?_len7-1:0),_key7=1;_key7<_len7;_key7++){e[_key7-1]=arguments[_key7];}for(var _s61=0;_s61<t.length;_s61+=1){i.push(t[_s61]),void 0!==e[_s61]&&i.push(e[_s61]);}var s=i.join("");Ds.innerHTML=s;var n=document.importNode(Ds.content,!0);return 1===n.children.length?n.firstElementChild:n;},Os=function Os(t){var i=[];for(var _len8=arguments.length,e=new Array(_len8>1?_len8-1:0),_key8=1;_key8<_len8;_key8++){e[_key8-1]=arguments[_key8];}for(var _s62=0;_s62<t.length;_s62+=1){i.push(t[_s62]),void 0!==e[_s62]&&i.push(e[_s62]);}var s=i.join(""),n=new CSSStyleSheet();return n.replaceSync(s),n;},Es=function Es(t){var i=[];for(var _len9=arguments.length,e=new Array(_len9>1?_len9-1:0),_key9=1;_key9<_len9;_key9++){e[_key9-1]=arguments[_key9];}for(var _s63=0;_s63<t.length;_s63+=1){i.push(t[_s63]),void 0!==e[_s63]&&i.push(e[_s63]);}var s="<svg id=\"x-stub\" xmlns=\"http://www.w3.org/2000/svg\">".concat(i.join(""),"</svg>");Ds.innerHTML=s;var n=document.importNode(Ds.content,!0),o=n.querySelector("svg#x-stub");if(1===o.children.length)return o.firstElementChild;for(var _i73=0,_arr6=_toConsumableArray(o.childNodes);_i73<_arr6.length;_i73++){var _t78=_arr6[_i73];n.appendChild(_t78);}return o.remove(),n;},Ts={},As=function As(t){return new Promise(/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(e){var _i74,_iterator63,_step63,_e64;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!Ts[t]){_context.next=4;break;}Ts[t].iconset?e(Ts[t].iconset):Ts[t].callbacks.push(e);_context.next=18;break;case 4:Ts[t]={callbacks:[e],iconset:null};_i74=null;_context.prev=6;_context.next=9;return fetch(t);case 9:_context.next=11;return _context.sent.text();case 11:_i74=_context.sent;_context.next=17;break;case 14:_context.prev=14;_context.t0=_context["catch"](6);_i74=null;case 17:if(_i74){Ts[t].iconset=Es(_templateObject(),_i74);_iterator63=_createForOfIteratorHelper(Ts[t].callbacks);try{for(_iterator63.s();!(_step63=_iterator63.n()).done;){_e64=_step63.value;_e64(Ts[t].iconset);}}catch(err){_iterator63.e(err);}finally{_iterator63.f();}}else console.error("Xel failed to fetch the iconset: ".concat(t));case 18:case"end":return _context.stop();}}},_callee,null,[[6,14]]);}));return function(_x2){return _ref7.apply(this,arguments);};}());};var $s=new(_temp2=/*#__PURE__*/function(_ref8){_inherits(_temp2,_ref8);var _super=_createSuper(_temp2);_createClass(_temp2,[{key:"theme",get:function get(){return this.l;},set:function set(t){var e=document.head.querySelector(':scope > meta[name="xel-theme"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-theme"),document.head.append(e)),e.setAttribute("content",t);}},{key:"accentColor",get:function get(){return this.u;},set:function set(t){var e=document.head.querySelector(':scope > meta[name="xel-accent-color"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-accent-color"),document.head.append(e)),e.setAttribute("content",t);}},{key:"size",get:function get(){return this.p;},set:function set(t){var e=document.head.querySelector(':scope > meta[name="xel-size"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-size"),document.head.append(e)),e.setAttribute("content",t);}},{key:"iconset",get:function get(){return this.m;},set:function set(t){var e=document.head.querySelector(':scope > meta[name="xel-iconset"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-iconset"),document.head.append(e)),e.setAttribute("content",t);}},{key:"whenThemeReady",get:function get(){var _this2=this;return new Promise(function(t){null===_this2.g?t():_this2.g.push(t);});}},{key:"whenIconsetReady",get:function get(){var _this3=this;return new Promise(function(t){null===_this3.v?t():_this3.v.push(t);});}},{key:"themeStyleSheet",get:function get(){return this.k;}},{key:"iconsetElement",get:function get(){return this.Ns;}},{key:"presetAccentColors",get:function get(){var t={};var _iterator64=_createForOfIteratorHelper(this.k.cssRules),_step64;try{for(_iterator64.s();!(_step64=_iterator64.n()).done;){var _e65=_step64.value;if(1===_e65.type&&"body"===_e65.selectorText&&_e65.styleMap.has("--preset-accent-colors")){var _i75=_e65.styleMap.get("--preset-accent-colors");if(_i75&&_i75[0]){var _e66=_i75[0].split(",").map(function(t){return t.trim();}).map(function(t){return t.split(" ");});t=Object.fromEntries(_e66);}break;}}}catch(err){_iterator64.e(err);}finally{_iterator64.f();}return t;}}]);function _temp2(){var _temp,_this;_classCallCheck(this,_temp2);(_temp=_this=_super.call(this),_defineProperty(_assertThisInitialized(_this),"l",null),_defineProperty(_assertThisInitialized(_this),"u",null),_defineProperty(_assertThisInitialized(_this),"p",null),_defineProperty(_assertThisInitialized(_this),"m",null),_defineProperty(_assertThisInitialized(_this),"k",new CSSStyleSheet()),_defineProperty(_assertThisInitialized(_this),"Ns",null),_defineProperty(_assertThisInitialized(_this),"g",[]),_defineProperty(_assertThisInitialized(_this),"v",[]),_temp),document.adoptedStyleSheets=[_this.k];var _this$C=_this.C(),t=_this$C.theme,e=_this$C.accentColor,i=_this$C.size,s=_this$C.iconset;_this.l=t,_this.u=e,_this.p=i,_this.m=s,null!==_this.l&&_this.S(_this.l),null!==_this.m&&_this.A(_this.m),new MutationObserver(function(t){return _this.L(t);}).observe(document.head,{attributes:!0,subtree:!0});return _this;}_createClass(_temp2,[{key:"L",value:function L(t){var _this4=this;var e=this.l,i=this.u,s=this.p,n=this.m,_this$C2=this.C(),o=_this$C2.theme,l=_this$C2.accentColor,h=_this$C2.size,a=_this$C2.iconset;this.l=o,this.u=l,this.p=h,this.m=a,this.l!==e&&this.S(this.l).then(function(){_this4.dispatchEvent(new CustomEvent("themechange"));}),this.u!==i&&(this.T(),this.dispatchEvent(new CustomEvent("accentcolorchange"))),this.p!==s&&this.dispatchEvent(new CustomEvent("sizechange")),this.m!==n&&this.A(this.m).then(function(){_this4.dispatchEvent(new CustomEvent("iconsetchange"));});}},{key:"M",value:function M(t){var _this5=this;return new Promise(/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(e){var i,s,_iterator65,_step65,_step65$value,_t79,_e67,_i76;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(t);case 2:i=_context2.sent;_context2.next=5;return i.text();case 5:s=_context2.sent;_iterator65=_createForOfIteratorHelper(_this5.D(s));_context2.prev=7;_iterator65.s();case 9:if((_step65=_iterator65.n()).done){_context2.next=17;break;}_step65$value=_slicedToArray(_step65.value,2),_t79=_step65$value[0],_e67=_step65$value[1];_context2.next=13;return _this5.M(_t79);case 13:_i76=_context2.sent;s=s.replace(_e67,_i76);case 15:_context2.next=9;break;case 17:_context2.next=22;break;case 19:_context2.prev=19;_context2.t0=_context2["catch"](7);_iterator65.e(_context2.t0);case 22:_context2.prev=22;_iterator65.f();return _context2.finish(22);case 25:e(s);case 26:case"end":return _context2.stop();}}},_callee2,null,[[7,19,22,25]]);}));return function(_x3){return _ref9.apply(this,arguments);};}());}},{key:"S",value:function S(t){var _this6=this;return new Promise(/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee3(e){var i,_iterator66,_step66,_t80;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:null===_this6.g&&(_this6.g=[]);_context3.next=3;return _this6.M(t);case 3:i=_context3.sent;_context3.next=6;return _this6.k.replace(i);case 6:_this6.T();_this6.$();if(!(null!==_this6.g)){_context3.next=12;break;}_iterator66=_createForOfIteratorHelper(_this6.g);try{for(_iterator66.s();!(_step66=_iterator66.n()).done;){_t80=_step66.value;_t80();}}catch(err){_iterator66.e(err);}finally{_iterator66.f();}_this6.g=null;case 12:e();case 13:case"end":return _context3.stop();}}},_callee3);}));return function(_x4){return _ref10.apply(this,arguments);};}());}},{key:"A",value:function A(t){var _this7=this;return new Promise(/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee4(e){var i,_iterator67,_step67,_t81;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:null===_this7.v&&(_this7.v=[]);_context4.next=3;return As(t);case 3:i=_context4.sent;_this7.Ns=i;_iterator67=_createForOfIteratorHelper(_this7.v);try{for(_iterator67.s();!(_step67=_iterator67.n()).done;){_t81=_step67.value;_t81();}}catch(err){_iterator67.e(err);}finally{_iterator67.f();}_this7.v=null,e();case 8:case"end":return _context4.stop();}}},_callee4);}));return function(_x5){return _ref11.apply(this,arguments);};}());}},{key:"$",value:function(){var _$=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee5(){var t,e;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this.whenThemeReady;case 2:t=document.head.querySelector('meta[name="theme-color"]'),e=getComputedStyle(document.body).getPropertyValue("--titlebar-color").trim()||"auto";"auto"===e?t&&t.remove():(null===t&&(t=document.createElement("meta"),t.setAttribute("name","theme-color"),document.head.append(t)),t.setAttribute("content",e));case 4:case"end":return _context5.stop();}}},_callee5,this);}));function $(){return _$.apply(this,arguments);}return $;}()},{key:"T",value:function(){var _T=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee6(){var t,_Ps$parse,_Ps$parse2,e,i,s,n,o;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return this.whenThemeReady;case 2:t=this.u||this.presetAccentColors.blue;this.presetAccentColors[t]&&(t=this.presetAccentColors[t]);_Ps$parse=new Ps().parse(t,"hsla"),_Ps$parse2=_slicedToArray(_Ps$parse,4),e=_Ps$parse2[0],i=_Ps$parse2[1],s=_Ps$parse2[2],n=_Ps$parse2[3],o=_toConsumableArray(this.k.cssRules).reverse().find(function(t){return 1===t.type&&"body"===t.selectorText;});o.styleMap.set("--accent-color-h",e),o.styleMap.set("--accent-color-s","".concat(i,"%")),o.styleMap.set("--accent-color-l","".concat(s,"%")),o.styleMap.set("--accent-color-a",n);case 6:case"end":return _context6.stop();}}},_callee6,this);}));function T(){return _T.apply(this,arguments);}return T;}()},{key:"C",value:function C(){var t=document.head.querySelector(':scope > meta[name="xel-theme"]'),e=document.head.querySelector(':scope > meta[name="xel-accent-color"]'),i=document.head.querySelector(':scope > meta[name="xel-size"]'),s=document.head.querySelector(':scope > meta[name="xel-iconset"]');return{theme:t&&""!==t.content?t.content:null,accentColor:e&&""!==e.content?e.content:null,size:i&&""!==i.content?i.content:null,iconset:s&&""!==s.content?s.content:null};}},{key:"D",value:function D(t){var e=[],i=-1;for(;;){var _s64=t.indexOf("@import",i);if(!(_s64>-1))break;{var _n37=t.indexOf(";",_s64),_o29=t.indexOf("/",_s64),_l23=t.indexOf(".css",_o29)+".css".length,_h15=t.substring(_o29,_l23);e.push([_h15,t.substring(_s64,_n37+1)]),i=_l23;}}return e;}}]);return _temp2;}((_temp3=/*#__PURE__*/function(){function _temp3(){_classCallCheck(this,_temp3);_defineProperty(this,"o",{});}_createClass(_temp3,[{key:"addEventListener",value:function addEventListener(t,e){this.o||(this.o={});var i=this.o[t];i||(this.o[t]=i=[]),i.push(e),i.length>1e4&&console.warn("Potential EventEmitter memory leak: ".concat(i.length," listeners subscribed to event \"").concat(t,"\""));}},{key:"removeEventListener",value:function removeEventListener(t,e){if(this.o&&this.o[t]){for(var i=[],s=0;s<this.o[t].length;s+=1){this.o[t][s]!==e&&i.push(this.o[t][s]);}this.o[t]=i;}}},{key:"dispatchEvent",value:function dispatchEvent(t){if(!this.o)return;var e=this.o[t.type];if(!e)return;var i=null;for(var _s65=e.length-1;_s65>=0;_s65-=1){var _n38=void 0,_o30=e[_s65];try{_n38=_o30.call(window,t);}catch(t){null===i&&(i=t);}if(!1===_n38)break;}if(i)throw i;}}]);return _temp3;}(),_temp3)),_temp2)();if(!1===MouseEvent.prototype.hasOwnProperty("pointerType")&&Object.defineProperty(MouseEvent.prototype,"pointerType",{get:function get(){return this.sourceCapabilities.firesTouchEvents?"touch":"mouse";}}),Element.prototype.setPointerCapture){var _t82=Element.prototype.setPointerCapture;Element.prototype.setPointerCapture=function(e){var _this8=this;_t82.call(this,e);var i=getComputedStyle(this).cursor,s=[];for(var _t83=this.parentNode||this.host;_t83&&_t83!==document;_t83=_t83.parentNode||_t83.host){if(_t83.nodeType===document.DOCUMENT_FRAGMENT_NODE){var _e68=document.createElementNS(_t83.host.namespaceURI,"style");_e68.textContent="* { cursor: ".concat(i," !important; user-select: none !important; }"),_t83.append(_e68),s.push(_e68);}else if(_t83.nodeType===document.DOCUMENT_NODE){var _e69=document.createElement("style");_e69.textContent="* { cursor: ".concat(i," !important; user-select: none !important; }"),_t83.head.append(_e69),s.push(_e69);}}var n=function n(){window.removeEventListener("pointerup",n,!0),_this8.removeEventListener("lostpointercapture",n);var _iterator68=_createForOfIteratorHelper(s),_step68;try{for(_iterator68.s();!(_step68=_iterator68.n()).done;){var _t84=_step68.value;_t84.remove();}}catch(err){_iterator68.e(err);}finally{_iterator68.f();}};window.addEventListener("pointerup",n,!0),this.addEventListener("lostpointercapture",n);};}Object.defineProperty(Animation.prototype,"finished",{get:function get(){var _this9=this;return new Promise(function(t){"finished"===_this9.playState?t():_this9.addEventListener("finish",function(){return t();},{once:!0});});}}),Object.defineProperty(HTMLHeadingElement.prototype,"disabled",{enumerable:!1,configurable:!1,get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}),Object.defineProperty(HTMLParagraphElement.prototype,"disabled",{enumerable:!1,configurable:!1,get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}),Node.prototype.append||(Node.prototype.append=function(t){this.appendChild(t);}),Node.prototype.prepend||(Node.prototype.prepend=function(t){this.insertBefore(t,this.firstElementChild);}),Node.prototype.before||(Node.prototype.before=function(t){this.parentElement.insertBefore(t,this);}),Node.prototype.after||(Node.prototype.after=function(t){this.parentElement.insertBefore(t,this.nextElementSibling);}),Node.prototype.closest||(Node.prototype.closest=function(t){return this.parentNode?this.parentNode.closest(t):null;}),Node.prototype.replaceWith||(Node.prototype.replaceWith=function(t){this.parentNode.replaceChild(t,this);});var Is=HTMLDialogElement.prototype.showModal,Ls=HTMLDialogElement.prototype.close,Bs=[],Rs={get open(){return this.hasAttribute("open");},showModal:function showModal(){var _arguments=arguments,_this10=this;return new Promise(/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee7(t){var _t86,_t87,_t88,_e70,_i77,_s66,_t89,_t90,_e71,_i79,_t91,_e72,_i81,_s67,_n39;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:if(!(!0!==_this10.open&&!1!==_this10.isConnected)){_context7.next=25;break;}_context7.t0=_this10.P;if(!_context7.t0){_context7.next=5;break;}_context7.next=5;return _this10.P.finished;case 5:_context7.t1=_this10.R;if(!_context7.t1){_context7.next=9;break;}_context7.next=9;return _this10.R.finished;case 9:Is.apply(_this10,_arguments);document.body.style.overflow="hidden",Bs.push(_this10),_this10.addEventListener("close",_t86=function _t85(e){e.target===_this10&&(_this10.removeEventListener("close",_t86),Bs=Bs.filter(function(t){return t!==_this10;}),0===Bs.length&&(document.body.style.overflow=null));});_t87=_this10.querySelector("[autofocus]");_t87?_t87.focus():_this10.focus();if(!1===_this10.hasAttribute("hidden")){_t88=getComputedStyle(_this10),_e70=_t88.getPropertyValue("transition-property"),_i77=1e3*parseFloat(_t88.getPropertyValue("transition-duration")),_s66=_t88.getPropertyValue("transition-timing-function");if("transform"===_e70){_t89=_this10.getBoundingClientRect();"0px"===getComputedStyle(_this10).left&&"0px"!==getComputedStyle(_this10).right?_this10.P=_this10.animate({transform:["translateX(-".concat(_t89.right,"px)"),"translateX(0px)"]},{duration:_i77,easing:_s66}):"0px"===getComputedStyle(_this10).right&&"0px"!==getComputedStyle(_this10).left?_this10.P=_this10.animate({transform:["translateX(".concat(_t89.width,"px)"),"translateX(0px)"]},{duration:_i77,easing:_s66}):_this10.P=_this10.animate({transform:["translateY(-".concat(_t89.bottom,"px)"),"translateY(0px)"]},{duration:_i77,easing:_s66});}}_this10.addEventListener("keydown",_t90=function _t90(t){"Escape"===t.key&&t.preventDefault();}),document.addEventListener("keydown",_e71=function _e71(t){"Escape"===t.key&&t.target===document.body&&t.preventDefault();}),_this10.addEventListener("close",_i79=function _i78(s){s.target===_this10&&(_this10.removeEventListener("close",_i79),_this10.removeEventListener("keydown",_t90),document.removeEventListener("keydown",_e71));});_s67=!0,_n39=function _n39(t){var e=_this10.getBoundingClientRect();return t.clientX>=e.x&&t.clientX<=e.x+e.width&&t.clientY>=e.y&&t.clientY<=e.y+e.height;};_this10.addEventListener("pointerdown",_t91=function _t91(t){_s67=!1===_n39(t);}),_this10.addEventListener("click",_e72=function _e72(t){!0===t.isTrusted&&!1===t.defaultPrevented&&!0===_s67&&!1===_n39(t)&&!0===_this10.hasAttribute("open")&&(_this10.close(),_this10.dispatchEvent(new CustomEvent("userclose")));}),_this10.addEventListener("close",_i81=function _i80(s){s.target===_this10&&(_this10.removeEventListener("pointerdown",_t91),_this10.removeEventListener("click",_e72),_this10.removeEventListener("close",_i81));});_context7.t2=_this10.P;if(!_context7.t2){_context7.next=22;break;}_context7.next=21;return _this10.P.finished;case 21:_this10.P=null;case 22:t();_context7.next=26;break;case 25:t();case 26:case"end":return _context7.stop();}}},_callee7);}));return function(_x6){return _ref12.apply(this,arguments);};}());},close:function close(){var _arguments2=arguments,_this11=this;return new Promise(/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee8(t){var _t92,_e73,_i82,_s68,_n40,_t93;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.t0=_this11.P;if(!_context8.t0){_context8.next=4;break;}_context8.next=4;return _this11.P.finished;case 4:_context8.t1=_this11.R;if(!_context8.t1){_context8.next=8;break;}_context8.next=8;return _this11.R.finished;case 8:if(!(!1===_this11.hasAttribute("hidden"))){_context8.next=16;break;}_t92=getComputedStyle(_this11),_e73=_t92.getPropertyValue("transition-property"),_i82=_t92.getPropertyValue("transition-duration")||"0s",_s68=1e3*parseFloat(_i82),_n40=_t92.getPropertyValue("transition-timing-function")||"ease";if(!("transform"===_e73)){_context8.next=16;break;}_t93=_this11.getBoundingClientRect();"0px"===getComputedStyle(_this11).left&&"0px"!==getComputedStyle(_this11).right?_this11.R=_this11.animate({transform:["translateX(0px)","translateX(-".concat(_t93.right,"px)")]},{duration:_s68,easing:_n40}):"0px"===getComputedStyle(_this11).right&&"0px"!==getComputedStyle(_this11).left?_this11.R=_this11.animate({transform:["translateX(0px)","translateX(".concat(_t93.width,"px)")]},{duration:_s68,easing:_n40}):_this11.R=_this11.animate({transform:["translateY(0px)","translateY(-".concat(_t93.bottom+50,"px)")]},{duration:_s68,easing:_n40});_context8.next=15;return _this11.R.finished;case 15:_this11.R=null;case 16:_this11.hasAttribute("open")&&Ls.apply(_this11,_arguments2),t();case 17:case"end":return _context8.stop();}}},_callee8);}));return function(_x7){return _ref13.apply(this,arguments);};}());}};for(var _i83=0,_Object$entries=Object.entries(Object.getOwnPropertyDescriptors(Rs));_i83<_Object$entries.length;_i83++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i83],2),_t94=_Object$entries$_i[0],_e74=_Object$entries$_i[1];Object.defineProperty(HTMLDialogElement.prototype,_t94,_e74);}var Gs=/*#__PURE__*/function(_HTMLElement){_inherits(Gs,_HTMLElement);var _super2=_createSuper(Gs);_createClass(Gs,[{key:"expanded",get:function get(){return this.hasAttribute("expanded");},set:function set(t){t?this.setAttribute("expanded",""):this.removeAttribute("expanded");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Gs(){var _temp4,_this12;_classCallCheck(this,Gs);(_temp4=_this12=_super2.call(this),_defineProperty(_assertThisInitialized(_this12),"I",{}),_defineProperty(_assertThisInitialized(_this12),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this12),"O",null),_defineProperty(_assertThisInitialized(_this12),"B",null),_defineProperty(_assertThisInitialized(_this12),"H",null),_temp4),_this12._shadowRoot=_this12.attachShadow({mode:"closed"}),_this12._shadowRoot.adoptedStyleSheets=[Gs._shadowStyleSheet],_this12._shadowRoot.append(document.importNode(Gs._shadowTemplate.content,!0));var _iterator69=_createForOfIteratorHelper(_this12._shadowRoot.querySelectorAll("[id]")),_step69;try{for(_iterator69.s();!(_step69=_iterator69.n()).done;){var _t95=_step69.value;_this12.I[_t95.id]=_t95;}}catch(err){_iterator69.e(err);}finally{_iterator69.f();}_this12.O=new ResizeObserver(function(){return _this12.F();}),_this12.addEventListener("click",function(t){return _this12.N(t);}),_this12.I.arrow.addEventListener("keydown",function(t){return _this12.q(t);});return _this12;}_createClass(Gs,[{key:"connectedCallback",value:function connectedCallback(){var _this13=this;this.U(),$s.addEventListener("sizechange",this.B=function(){return _this13.U();}),this.O.observe(this);}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.B),this.O.unobserve(this);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("expanded"===t?this.F():"size"===t&&this.U());}},{key:"expand",value:function expand(){var _this14=this;return new Promise(/*#__PURE__*/function(){var _ref14=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee9(t){var _t96,_e75,_i84;return regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:if(!(!1===_this14.expanded)){_context9.next=10;break;}_t96=_this14.getBoundingClientRect();_this14.H&&_this14.H.finish(),_this14.expanded=!0,_this14.removeAttribute("animating");_e75=_this14.getBoundingClientRect();_this14.setAttribute("animating","");_i84=_this14.animate({height:[_t96.height+"px",_e75.height+"px"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_this14.H=_i84;_context9.next=9;return _i84.finished;case 9:_this14.H===_i84&&_this14.removeAttribute("animating");case 10:t();case 11:case"end":return _context9.stop();}}},_callee9);}));return function(_x8){return _ref14.apply(this,arguments);};}());}},{key:"collapse",value:function collapse(){var _this15=this;return new Promise(/*#__PURE__*/function(){var _ref15=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee10(t){var _t97,_e76,_i85;return regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:if(!(!0===_this15.expanded)){_context10.next=10;break;}_t97=_this15.getBoundingClientRect();_this15.H&&_this15.H.finish(),_this15.expanded=!1,_this15.removeAttribute("animating");_e76=_this15.getBoundingClientRect();_this15.setAttribute("animating","");_i85=_this15.animate({height:[_t97.height+"px",_e76.height+"px"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_this15.H=_i85;_context10.next=9;return _i85.finished;case 9:_this15.H===_i85&&_this15.removeAttribute("animating");case 10:t();case 11:case"end":return _context10.stop();}}},_callee10);}));return function(_x9){return _ref15.apply(this,arguments);};}());}},{key:"F",value:function F(){var t=this.querySelector(":scope > header");this.I["arrow-container"].style.height=t?t.getBoundingClientRect().height+"px":null;}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"q",value:function q(t){"Enter"===t.key&&this.querySelector("header").click();}},{key:"N",value:function N(t){var e=this.querySelector("header"),i=t.target.closest("[tabindex]");e.contains(t.target)&&!1===this.contains(i)&&(this.expanded?(this.collapse(),this.dispatchEvent(new CustomEvent("collapse"))):(this.expand(),this.dispatchEvent(new CustomEvent("expand"))));}}]);return Gs;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Gs,"observedAttributes",["expanded","size"]);_defineProperty(Gs,"_shadowTemplate",zs(_templateObject109()));_defineProperty(Gs,"_shadowStyleSheet",Os(_templateObject110()));customElements.define("x-accordion",Gs);var Fs=/*#__PURE__*/function(_HTMLElement2){_inherits(Fs,_HTMLElement2);var _super3=_createSuper(Fs);_createClass(Fs,[{key:"ownerElement",get:function get(){return this.j?this.j:document.body.firstElementChild;},set:function set(t){this.j=t;}}]);function Fs(){var _temp5,_this16;_classCallCheck(this,Fs);(_temp5=_this16=_super3.call(this),_defineProperty(_assertThisInitialized(_this16),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this16),"j",null),_temp5),_this16._shadowRoot=_this16.attachShadow({mode:"closed"}),_this16._shadowRoot.adoptedStyleSheets=[Fs._shadowStyleSheet],_this16.addEventListener("pointerdown",function(t){return t.preventDefault();});return _this16;}_createClass(Fs,[{key:"connectedCallback",value:function connectedCallback(){this.addEventListener("wheel",this.K=function(t){return t.preventDefault();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.removeEventListener("wheel",this.K);}},{key:"show",value:function show(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;this.title="",this.style.top="0px",this.style.left="0px",this.ownerElement.before(this),this.hidden=!1;var e=this.getBoundingClientRect(),i=0,s=0;0===e.top&&0===e.left||(i=-e.top,s=-e.left);{var _t98=parseFloat(getComputedStyle(this.ownerElement).zIndex);this.style.zIndex=_t98-1;}if(this.style.top=i+"px",this.style.left=s+"px",t)return this.animate({opacity:["0","1"]},{duration:100,easing:"ease-out"}).finished;}},{key:"hide",value:function hide(){var _this17=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if(t){var _t99=this.animate({opacity:["1","0"]},{duration:100,easing:"ease-in"});return _t99.finished.then(function(){_this17.remove();}),_t99.finished;}this.remove();}}]);return Fs;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Fs,"_shadowStyleSheet",Os(_templateObject111()));customElements.define("x-backdrop",Fs);var Us=/*#__PURE__*/function(_HTMLElement3){_inherits(Us,_HTMLElement3);var _super4=_createSuper(Us);_createClass(Us,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)";},set:function set(t){this.setAttribute("value",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Us(){var _temp6,_this18;_classCallCheck(this,Us);(_temp6=_this18=_super4.call(this),_defineProperty(_assertThisInitialized(_this18),"X",0),_defineProperty(_assertThisInitialized(_this18),"V",0),_defineProperty(_assertThisInitialized(_this18),"Z",80),_defineProperty(_assertThisInitialized(_this18),"G",1),_defineProperty(_assertThisInitialized(_this18),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this18),"I",{}),_defineProperty(_assertThisInitialized(_this18),"B",null),_defineProperty(_assertThisInitialized(_this18),"Y",!1),_defineProperty(_assertThisInitialized(_this18),"W",!1),_defineProperty(_assertThisInitialized(_this18),"J",!1),_defineProperty(_assertThisInitialized(_this18),"tt",!1),_temp6),_this18._shadowRoot=_this18.attachShadow({mode:"closed"}),_this18._shadowRoot.adoptedStyleSheets=[Us._shadowStyleSheet],_this18._shadowRoot.append(document.importNode(Us._shadowTemplate.content,!0));var _iterator70=_createForOfIteratorHelper(_this18._shadowRoot.querySelectorAll("[id]")),_step70;try{for(_iterator70.s();!(_step70=_iterator70.n()).done;){var _t100=_step70.value;_this18.I[_t100.id]=_t100;}}catch(err){_iterator70.e(err);}finally{_iterator70.f();}_this18.I["hue-slider"].addEventListener("pointerdown",function(t){_this18.et(t);}),_this18.I["saturation-slider"].addEventListener("pointerdown",function(t){_this18.it(t);}),_this18.I["lightness-slider"].addEventListener("pointerdown",function(t){_this18.st(t);}),_this18.I["alpha-slider"].addEventListener("pointerdown",function(t){_this18.ht(t);});return _this18;}_createClass(Us,[{key:"connectedCallback",value:function connectedCallback(){var _this19=this;this.nt(),this.U(),$s.addEventListener("sizechange",this.B=function(){return _this19.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"size"===t&&this.lt());}},{key:"nt",value:function nt(){this.at(),this.rt(),this.dt(),this.ut(),this.ct(),this.bt(),this.gt();}},{key:"at",value:function at(){this.I["hue-slider-marker"].style.left=hs(this.X,0,360,0)/360*100+"%";}},{key:"rt",value:function rt(){this.I["saturation-slider-marker"].style.left=hs(this.V,0,100,2)+"%";}},{key:"ut",value:function ut(){this.I["lightness-slider-marker"].style.left=hs(this.Z,0,100,2)+"%";}},{key:"bt",value:function bt(){this.I["alpha-slider-marker"].style.left=hs(100*(1-this.G),0,100,2)+"%";}},{key:"dt",value:function dt(){var t=this.X;this.I["saturation-slider"].style.background="linear-gradient(\n      to right, hsl(".concat(t,", 0%, 50%), hsl(").concat(t,", 100%, 50%)\n    )");}},{key:"ct",value:function ct(){var t=this.X,e=this.V;this.I["lightness-slider"].style.background="linear-gradient(\n      to right, hsl(".concat(t,", ").concat(e,"%, 0%), hsl(").concat(t,", ").concat(e,"%, 50%), hsl(").concat(t,", ").concat(e,"%, 100%)\n    )");}},{key:"gt",value:function gt(){var t=this.X,e=this.V,i=this.Z;this.I["alpha-slider-gradient"].style.background="\n      linear-gradient(to right, hsla(".concat(t,", ").concat(e,"%, ").concat(i,"%, 1), hsla(").concat(t,", ").concat(e,"%, ").concat(i,"%, 0))\n    ");}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){if(!1===this.Y&&!1===this.W&&!1===this.J&&!1===this.tt){var _Ps$parse3=new Ps().parse(this.value,"hsla"),_Ps$parse4=_slicedToArray(_Ps$parse3,4),_t101=_Ps$parse4[0],_e77=_Ps$parse4[1],_i86=_Ps$parse4[2],_s69=_Ps$parse4[3];this.X=_t101,this.V=_e77,this.Z=_i86,this.G=_s69,this.nt();}}},{key:"lt",value:function lt(){this.U();}},{key:"et",value:function et(t){var _this20=this;if(1!==t.buttons)return;var e,_i87,s=this.I["hue-slider-track"].getBoundingClientRect();this.Y=!0,this.I["hue-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=(t-s.x)/s.width*360;e=hs(e,0,360,0),e!==_this20.X&&(_this20.X=e,_this20.value=ys([_this20.X,_this20.V,_this20.Z,_this20.G],"hsla","hsla"),_this20.at(),_this20.dt(),_this20.ct(),_this20.gt(),_this20.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["hue-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["hue-slider"].addEventListener("lostpointercapture",_i87=function i(){_this20.I["hue-slider"].removeEventListener("pointermove",e),_this20.I["hue-slider"].removeEventListener("lostpointercapture",_i87),_this20.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this20.Y=!1;});}},{key:"it",value:function it(t){var _this21=this;if(1!==t.buttons)return;var e,_i88,s=this.I["saturation-slider-track"].getBoundingClientRect();this.W=!0,this.I["saturation-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=(t-s.x)/s.width*100;e=hs(e,0,100,0),e!==_this21.V&&(_this21.V=e,_this21.value=ys([_this21.X,_this21.V,_this21.Z,_this21.G],"hsla","hsla"),_this21.rt(),_this21.dt(),_this21.ct(),_this21.gt(),_this21.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["saturation-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["saturation-slider"].addEventListener("lostpointercapture",_i88=function i(){_this21.I["saturation-slider"].removeEventListener("pointermove",e),_this21.I["saturation-slider"].removeEventListener("lostpointercapture",_i88),_this21.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this21.W=!1;});}},{key:"st",value:function st(t){var _this22=this;if(1!==t.buttons)return;var e,_i89,s=this.I["lightness-slider-track"].getBoundingClientRect();this.J=!0,this.I["lightness-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=(t-s.x)/s.width*100;e=hs(e,0,100,0),e!==_this22.Z&&(_this22.Z=e,_this22.value=ys([_this22.X,_this22.V,_this22.Z,_this22.G],"hsla","hsla"),_this22.ut(),_this22.dt(),_this22.ct(),_this22.gt(),_this22.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["lightness-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["lightness-slider"].addEventListener("lostpointercapture",_i89=function i(){_this22.I["lightness-slider"].removeEventListener("pointermove",e),_this22.I["lightness-slider"].removeEventListener("lostpointercapture",_i89),_this22.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this22.J=!1;});}},{key:"ht",value:function ht(t){var _this23=this;if(1!==t.buttons)return;var e,_i90,s=this.I["alpha-slider-track"].getBoundingClientRect();this.tt=!0,this.I["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=1-(t-s.x)/s.width;e=hs(e,0,1,2),e!==_this23.G&&(_this23.G=e,_this23.value=ys([_this23.X,_this23.V,_this23.Z,_this23.G],"hsla","hsla"),_this23.bt(),_this23.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["alpha-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["alpha-slider"].addEventListener("lostpointercapture",_i90=function i(){_this23.I["alpha-slider"].removeEventListener("pointermove",e),_this23.I["alpha-slider"].removeEventListener("lostpointercapture",_i90),_this23.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this23.tt=!1;});}}]);return Us;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Us,"observedAttributes",["value","size"]);_defineProperty(Us,"_shadowTemplate",zs(_templateObject112()));_defineProperty(Us,"_shadowStyleSheet",Os(_templateObject113()));customElements.define("x-barscolorpicker",Us);var Ns=/*#__PURE__*/function(_HTMLElement4){_inherits(Ns,_HTMLElement4);var _super5=_createSuper(Ns);_createClass(Ns,[{key:"vertical",get:function get(){return this.hasAttribute("vertical");},set:function set(t){t?this.setAttribute("vertical",""):this.removeAttribute("vertical");}}]);function Ns(){var _temp7,_this24;_classCallCheck(this,Ns);(_temp7=_this24=_super5.call(this),_defineProperty(_assertThisInitialized(_this24),"_shadowRoot",null),_temp7),_this24._shadowRoot=_this24.attachShadow({mode:"closed"}),_this24._shadowRoot.adoptedStyleSheets=[Ns._shadowStyleSheet],_this24._shadowRoot.append(document.importNode(Ns._shadowTemplate.content,!0));return _this24;}return Ns;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ns,"_shadowTemplate",zs(_templateObject114()));_defineProperty(Ns,"_shadowStyleSheet",Os(_templateObject115()));customElements.define("x-box",Ns);var Vs=function Vs(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=t.split(":"),s=null;if(1===i.length){var _i91=_slicedToArray(i,1),_t102=_i91[0];s=null===e?document.createElement(_t102):document.createElement(_t102,e);}else if(2===i.length){var _i92=_slicedToArray(i,2),_t103=_i92[0],_e78=_i92[1];"svg"===_t103&&(s=document.createElementNS("http://www.w3.org/2000/svg",_e78));}return s;},js=function js(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=t.closest(e);return i&&!s&&t.getRootNode().host?js(t.getRootNode().host,e):s;},Hs=function Hs(t){return new Promise(function(e,i){setTimeout(function(){return e();},t);});},Ys=function Ys(){return Date.now();},Ws=function Ws(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:500;var i=arguments.length>2?arguments[2]:undefined;var s=null,n=null,o=null,l=0,h=function h(){l=new Date(),n=null,o=t.apply(i,s);};return function(){var r=new Date(),d=e-(r-l);for(var _len10=arguments.length,a=new Array(_len10),_key10=0;_key10<_len10;_key10++){a[_key10]=arguments[_key10];}return s=a,d<=0?(clearTimeout(n),n=null,l=r,o=t.apply(i,s)):n||(n=setTimeout(h,d)),o;};},qs=function qs(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var n=null,o=null;return function(){for(var _len11=arguments.length,l=new Array(_len11),_key11=0;_key11<_len11;_key11++){l[_key11]=arguments[_key11];}var h=s&&!n;return clearTimeout(n),n=setTimeout(function(){n=null,s||(o=t.apply(i,l));},e),h&&(o=t.apply(i,l)),o;};},Xs=Math.max;var Zs=/*#__PURE__*/function(_HTMLElement5){_inherits(Zs,_HTMLElement5);var _super6=_createSuper(Zs);_createClass(Zs,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"togglable",get:function get(){return this.hasAttribute("togglable");},set:function set(t){t?this.setAttribute("togglable",""):this.removeAttribute("togglable");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"condensed",get:function get(){return this.hasAttribute("condensed");},set:function set(t){t?this.setAttribute("condensed",""):this.removeAttribute("condensed");}},{key:"skin",get:function get(){return this.hasAttribute("skin")?this.getAttribute("skin"):null;},set:function set(t){null===t?this.removeAttribute("skin"):this.setAttribute("skin",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}},{key:"expanded",get:function get(){return this.hasAttribute("expanded");}},{key:"expandable",get:function get(){return this.xt()||this.ft();}},{key:"ownerButtons",get:function get(){if(this.parentElement){if("x-buttons"===this.parentElement.localName)return this.parentElement;if("x-box"===this.parentElement.localName&&this.parentElement.parentElement&&"x-buttons"===this.parentElement.parentElement.localName)return this.parentElement.parentElement;}return null;}}]);function Zs(){var _temp8,_this25;_classCallCheck(this,Zs);(_temp8=_this25=_super6.call(this),_defineProperty(_assertThisInitialized(_this25),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this25),"I",{}),_defineProperty(_assertThisInitialized(_this25),"wt",!1),_defineProperty(_assertThisInitialized(_this25),"vt",null),_defineProperty(_assertThisInitialized(_this25),"yt",0),_defineProperty(_assertThisInitialized(_this25),"B",null),_temp8),_this25._shadowRoot=_this25.attachShadow({mode:"closed"}),_this25._shadowRoot.adoptedStyleSheets=[Zs._shadowStyleSheet],_this25._shadowRoot.append(document.importNode(Zs._shadowTemplate.content,!0));var _iterator71=_createForOfIteratorHelper(_this25._shadowRoot.querySelectorAll("[id]")),_step71;try{for(_iterator71.s();!(_step71=_iterator71.n()).done;){var _t104=_step71.value;_this25.I[_t104.id]=_t104;}}catch(err){_iterator71.e(err);}finally{_iterator71.f();}_this25.addEventListener("pointerdown",function(t){return _this25.zt(t);}),_this25.addEventListener("click",function(t){return _this25.N(t);}),_this25.addEventListener("keydown",function(t){return _this25.kt(t);}),_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee11(){return regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return customElements.whenDefined("x-backdrop");case 2:_this25.I.backdrop=Vs("x-backdrop");_this25.I.backdrop.style.background="rgba(0, 0, 0, 0)";case 4:case"end":return _context11.stop();}}},_callee11);}))();return _this25;}_createClass(Zs,[{key:"connectedCallback",value:function connectedCallback(){var _this26=this;this.parentElement&&"a"===this.parentElement.localName&&-1!==this.parentElement.tabIndex&&(this.parentElement.tabIndex=-1),this.Vs(),this.Ct(),this.U(),$s.addEventListener("sizechange",this.B=function(){return _this26.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t?this.Ct():"size"===t&&this.U();}},{key:"expand",value:function expand(){var _this27=this;return new Promise(/*#__PURE__*/function(){var _ref17=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee12(t){return regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:if(!_this27.xt()){_context12.next=5;break;}_context12.next=3;return _this27.St();case 3:_context12.next=9;break;case 5:_context12.t0=_this27.ft();if(!_context12.t0){_context12.next=9;break;}_context12.next=9;return _this27.Et();case 9:t();case 10:case"end":return _context12.stop();}}},_callee12);}));return function(_x10){return _ref17.apply(this,arguments);};}());}},{key:"collapse",value:function collapse(){var _this28=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return new Promise(/*#__PURE__*/function(){var _ref18=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee13(e){return regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:if(!_this28.At()){_context13.next=5;break;}_context13.next=3;return _this28.Lt(t);case 3:_context13.next=9;break;case 5:_context13.t0=_this28.Tt();if(!_context13.t0){_context13.next=9;break;}_context13.next=9;return _this28.Mt(t);case 9:e();case 10:case"end":return _context13.stop();}}},_callee13);}));return function(_x11){return _ref18.apply(this,arguments);};}());}},{key:"St",value:function St(){var _this29=this;return new Promise(/*#__PURE__*/function(){var _ref19=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee14(t){var _t105;return regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:if(!_this29.xt()){_context14.next=9;break;}_t105=_this29.querySelector(":scope > x-menu");_this29.wt=_this29.matches(":focus");_this29.setAttribute("expanded","");_this29.I.backdrop.ownerElement=_t105;_this29.I.backdrop.show(!1);_context14.next=8;return _t105.openNextToElement(_this29,"vertical",3);case 8:_t105.focus();case 9:t();case 10:case"end":return _context14.stop();}}},_callee14);}));return function(_x12){return _ref19.apply(this,arguments);};}());}},{key:"Lt",value:function Lt(){var _this30=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return new Promise(/*#__PURE__*/function(){var _ref20=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee15(e){var _e79,_t106;return regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:if(!_this30.At()){_context15.next=17;break;}_e79=_this30.querySelector(":scope > x-menu");_e79.setAttribute("closing","");_context15.next=5;return t;case 5:_context15.next=7;return _e79.close();case 7:_this30.I.backdrop.hide(!1);_this30.removeAttribute("expanded");_this30.replaceWith(_this30);if(!_this30.wt){_context15.next=14;break;}_this30.focus();_context15.next=16;break;case 14:_t106=js(_this30.parentNode,"[tabindex]");_t106&&_t106.focus();case 16:_e79.removeAttribute("closing");case 17:e();case 18:case"end":return _context15.stop();}}},_callee15);}));return function(_x13){return _ref20.apply(this,arguments);};}());}},{key:"xt",value:function xt(){var t=!1;if(!1===this.disabled){var _e80=this.querySelector(":scope > x-menu");_e80&&!1===_e80.hasAttribute("opened")&&!1===_e80.hasAttribute("closing")&&null!==_e80.querySelector("x-menuitem")&&(t=!0);}return t;}},{key:"At",value:function At(){var t=!1;if(!1===this.disabled){var _e81=this.querySelector(":scope > x-menu");_e81&&_e81.opened&&(t=!0);}return t;}},{key:"Et",value:function Et(){var _this31=this;return new Promise(/*#__PURE__*/function(){var _ref21=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee16(t){var _t107;return regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:if(!_this31.ft()){_context16.next=6;break;}_t107=_this31.querySelector(":scope > x-popover");_this31.wt=_this31.matches(":focus");_this31.setAttribute("expanded","");_context16.next=6;return _t107.open(_this31);case 6:t();case 7:case"end":return _context16.stop();}}},_callee16);}));return function(_x14){return _ref21.apply(this,arguments);};}());}},{key:"Mt",value:function Mt(){var _this32=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return new Promise(/*#__PURE__*/function(){var _ref22=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee17(e){var _e82,_t108;return regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:if(!_this32.Tt()){_context17.next=16;break;}_e82=_this32.querySelector(":scope > x-popover");_e82.setAttribute("closing","");_context17.next=5;return t;case 5:_context17.next=7;return _e82.close();case 7:_this32.removeAttribute("expanded");_e82.modal&&_this32.replaceWith(_this32);if(!_this32.wt){_context17.next=13;break;}_this32.focus();_context17.next=15;break;case 13:_t108=js(_this32.parentNode,"[tabindex]");_t108&&_t108.focus();case 15:_e82.removeAttribute("closing");case 16:e();case 17:case"end":return _context17.stop();}}},_callee17);}));return function(_x15){return _ref22.apply(this,arguments);};}());}},{key:"ft",value:function ft(){var t=!1;if(!1===this.disabled){var _e83=this.querySelector(":scope > x-popover");_e83&&!1===_e83.hasAttribute("opened")&&(t=!0);}return t;}},{key:"Tt",value:function Tt(){var t=!1;if(!1===this.disabled){var _e84=this.querySelector(":scope > x-popover");_e84&&_e84.opened&&(t=!0);}return t;}},{key:"Dt",value:function Dt(){var _this33=this;return new Promise(function(t){_this33.$t()&&_this33.querySelector(":scope > dialog").showModal(),t();});}},{key:"$t",value:function $t(){var t=!1;if(!1===this.disabled){var _e85=this.querySelector(":scope > dialog");_e85&&!1===_e85.hasAttribute("open")&&!1===_e85.hasAttribute("closing")&&(t=!0);}return t;}},{key:"Pt",value:function Pt(){var _this34=this;return new Promise(function(t){_this34.Rt()&&(_this34.querySelector(":scope > x-notification").opened=!0),t();});}},{key:"Rt",value:function Rt(){var t=!1;if(!1===this.disabled){var _e86=this.querySelector(":scope > x-notification");!_e86||_e86.hasAttribute("opened")||_e86.hasAttribute("closing")||(t=!0);}return t;}},{key:"Vs",value:function Vs(){var t=this.querySelector(":scope > x-menu, :scope > x-popover");this.I.arrow.style.display=t?null:"none";}},{key:"Ct",value:function Ct(){this.setAttribute("role","button"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"zt",value:function zt(t){var e=this.querySelector(":scope > x-menu[opened]"),i=this.querySelector(":scope > x-popover[opened]"),s=this.querySelector(":scope > dialog[open]"),n=this.querySelector(":scope > x-notification[opened]");if(this.vt=t,t.target===this.I.backdrop)this.It(t);else{if(e&&e.contains(t.target))return;if(i&&i.contains(t.target))return;if(s&&s.contains(t.target))return;if(n&&n.contains(t.target))return;this.Ot(t);}}},{key:"N",value:function N(t){var e=this.querySelector(":scope > x-menu[opened]"),i=this.querySelector(":scope > x-popover[opened]"),s=this.querySelector(":scope > dialog[open]"),n=this.querySelector(":scope > x-notification[opened]");if(t.target!==this.I.backdrop)if(e&&e.contains(t.target))!1===e.hasAttribute("closing")&&t.target.closest("x-menuitem")&&this.Bt(t);else{if(i&&i.contains(t.target))return;if(s&&s.contains(t.target))return;if(n&&n.contains(t.target))return;this.Ht(t);}}},{key:"It",value:function It(t){this.collapse();}},{key:"Ot",value:function(){var _Ot=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee20(t){var _this35=this;var _t109,_t110,_e87,_i93,_e88,_e89,_i94,_s70,_n41,_o31,_l24,_t112,_h16,_a12,_t113,_t114,_e90,_i95,_s71,_n42,_o32,_l25,_h17;return regeneratorRuntime.wrap(function _callee20$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:if(!(1===t.buttons)){_context20.next=49;break;}if(!this.querySelector(":scope > dialog[open]")){_context20.next=5;break;}t.preventDefault();_context20.next=47;break;case 5:if(!(!1!==this.contains(t.target))){_context20.next=47;break;}if(this.setPointerCapture(t.pointerId),t.preventDefault(),!1===this.matches(":focus")){_t109=js(this.parentNode,"*[tabindex]:not(a)");this.addEventListener("lostpointercapture",function(){_t109?_t109.focus():_this35.blur();},{once:!0});}if(!1===this.xt()&&!1===this.ft()&&!1===this.Tt()){_t110=Date.now(),_e87=!0,_i93=parseInt(getComputedStyle(this).getPropertyValue("--min-pressed-time")||"150ms");this.addEventListener("lostpointercapture",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee18(){var s;return regeneratorRuntime.wrap(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:_e87=!1;s=Date.now()-_t110;_context18.t0=s<_i93;if(!_context18.t0){_context18.next=6;break;}_context18.next=6;return Hs(_i93-s);case 6:_this35.removeAttribute("pressed");case 7:case"end":return _context18.stop();}}},_callee18);})),{once:!0}),_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee19(){var _t111;return regeneratorRuntime.wrap(function _callee19$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:if(!_this35.ownerButtons){_context19.next=19;break;}if(!(0===_this35.ownerButtons.tracking||2===_this35.ownerButtons.tracking)){_context19.next=6;break;}_context19.next=4;return Hs(10);case 4:_context19.next=17;break;case 6:if(!(1!==_this35.ownerButtons.tracking||!1!==_this35.toggled&&!_this35.mixed)){_context19.next=15;break;}if(!(3===_this35.ownerButtons.tracking)){_context19.next=13;break;}_t111=_toConsumableArray(_this35.ownerButtons.querySelectorAll(":scope > x-button, :scope > x-box > x-button")).filter(function(t){return t.toggled;});_context19.t0=!1===_this35.toggled||_t111.length>1;if(!_context19.t0){_context19.next=13;break;}_context19.next=13;return Hs(10);case 13:_context19.next=17;break;case 15:_context19.next=17;return Hs(10);case 17:_context19.next=23;break;case 19:_context19.t1=_this35.togglable;if(!_context19.t1){_context19.next=23;break;}_context19.next=23;return Hs(10);case 23:_e87&&_this35.setAttribute("pressed","");case 24:case"end":return _context19.stop();}}},_callee19);}))();}this.xt()?"touch"!==t.pointerType&&this.St():this.ft()?"touch"!==t.pointerType&&this.Et():this.Tt()&&this.Mt();_e88=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if(!("ripple"===_e88)){_context20.next=27;break;}_e89=this.I.ripples.getBoundingClientRect(),_i94=1.5*Xs(_e89.width,_e89.height),_s70=t.clientY-_e89.y-_i94/2,_n41=t.clientX-_e89.x-_i94/2,_o31=new Promise(function(t){return _this35.addEventListener("lostpointercapture",t,{once:!0});}),_l24=!0;if(!1===this.expandable)if(this.ownerButtons){if(0===this.ownerButtons.tracking||2===this.ownerButtons.tracking)_l24=!1;else if(1===this.ownerButtons.tracking&&!1===this.toggled)_l24=!1;else if(3===this.ownerButtons.tracking){_t112=_toConsumableArray(this.ownerButtons.querySelectorAll(":scope > x-button, :scope > x-box > x-button")).filter(function(t){return t.toggled;});(!1===this.toggled||_t112.length>1)&&(_l24=!1);}}else this.togglable&&(_l24=!1);_h16=Vs("div");_h16.setAttribute("part","ripple"),_h16.setAttribute("class","ripple pointer-down-ripple"),_h16.setAttribute("style","width: ".concat(_i94,"px; height: ").concat(_i94,"px; top: ").concat(_s70,"px; left: ").concat(_n41,"px;")),this.I.ripples.append(_h16),this.I.ripples.style.contain="strict";_a12=_h16.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context20.next=18;return _o31;case 18:if(!_l24){_context20.next=24;break;}_context20.next=21;return _a12.finished;case 21:_t113=_h16.animate({opacity:[getComputedStyle(_h16).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context20.next=24;return _t113.finished;case 24:_h16.remove();_context20.next=47;break;case 27:if(!("unbounded-ripple"===_e88)){_context20.next=47;break;}_t114=this.I.ripples.getBoundingClientRect(),_e90=1.25*_t114.height,_i95=_t114.y+_t114.height/2-_t114.y-_e90/2,_s71=_t114.x+_t114.width/2-_t114.x-_e90/2,_n42=new Promise(function(t){return _this35.addEventListener("lostpointercapture",t,{once:!0});}),_o32=Vs("div");_o32.setAttribute("part","ripple");_o32.setAttribute("class","ripple pointer-down-ripple");_o32.setAttribute("style","width: ".concat(_e90,"px; height: ").concat(_e90,"px; top: ").concat(_i95,"px; left: ").concat(_s71,"px;"));this.I.ripples.append(_o32);this.I.ripples.style.contain="none";_o32.hidden=!0;_context20.next=37;return Hs(20);case 37:_o32.hidden=!1;_l25=_o32.animate({transform:["scale(0)","scale(1)"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context20.next=41;return _n42;case 41:_context20.next=43;return _l25.finished;case 43:_h17=_o32.animate({opacity:[getComputedStyle(_o32).opacity||"0","0"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context20.next=46;return _h17.finished;case 46:_o32.remove();case 47:_context20.next=50;break;case 49:t.preventDefault();case 50:case"end":return _context20.stop();}}},_callee20,this);}));function Ot(_x16){return _Ot.apply(this,arguments);}return Ot;}()},{key:"Ht",value:function(){var _Ht=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee21(t){var e,_t115,_t116,_e91,_i96,_s72,_n43,_o33,_l26,_t117,_t118,_e92,_i97,_s73,_n44;return regeneratorRuntime.wrap(function _callee21$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:e=this.querySelector(":scope > x-menu, :scope > x-popover");if(!e){_context21.next=5;break;}if(!e.hasAttribute("closing")){_context21.next=4;break;}return _context21.abrupt("return");case 4:e.focus();case 5:if(!(!1===this.Tt()&&(this.$t()?this.Dt():this.Rt()&&this.Pt()),this.vt&&"touch"===this.vt.pointerType&&(this.xt()?this.St():this.ft()&&this.Et()),this.togglable&&!1===t.defaultPrevented&&(this.removeAttribute("pressed"),this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle"))),null===this.I.ripples.querySelector(".pointer-down-ripple"))){_context21.next=34;break;}_t115=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if(!("ripple"===_t115)){_context21.next=22;break;}_t116=this.I.ripples.getBoundingClientRect(),_e91=1.5*Xs(_t116.width,_t116.height),_i96=_t116.y+_t116.height/2-_t116.y-_e91/2,_s72=_t116.x+_t116.width/2-_t116.x-_e91/2,_n43=!0;this.ownerButtons?(0===this.ownerButtons.tracking||2===this.ownerButtons.tracking||3===this.ownerButtons.tracking||1===this.ownerButtons.tracking&&!0===this.toggled)&&(_n43=!1):this.togglable&&(_n43=!1);_o33=Vs("div");_o33.setAttribute("part","ripple"),_o33.setAttribute("class","ripple click-ripple"),_o33.setAttribute("style","width: ".concat(_e91,"px; height: ").concat(_e91,"px; top: ").concat(_i96,"px; left: ").concat(_s72,"px;")),this.I.ripples.append(_o33),this.I.ripples.style.contain="strict";_l26=_o33.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});if(!_n43){_context21.next=19;break;}_context21.next=16;return _l26.finished;case 16:_t117=_o33.animate({opacity:[getComputedStyle(_o33).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context21.next=19;return _t117.finished;case 19:_o33.remove();_context21.next=34;break;case 22:if(!("unbounded-ripple"===_t115)){_context21.next=34;break;}_t118=this.I.ripples.getBoundingClientRect(),_e92=1.35*_t118.height,_i97=_t118.y+_t118.height/2-_t118.y-_e92/2,_s73=_t118.x+_t118.width/2-_t118.x-_e92/2,_n44=Vs("div");_n44.setAttribute("part","ripple");_n44.setAttribute("class","ripple");_n44.setAttribute("style","width: ".concat(_e92,"px; height: ").concat(_e92,"px; top: ").concat(_i97,"px; left: ").concat(_s73,"px;"));this.I.ripples.append(_n44);this.I.ripples.style.contain="none";_context21.next=31;return _n44.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished;case 31:_context21.next=33;return _n44.animate({opacity:[getComputedStyle(_n44).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished;case 33:_n44.remove();case 34:case"end":return _context21.stop();}}},_callee21,this);}));function Ht(_x17){return _Ht.apply(this,arguments);}return Ht;}()},{key:"Bt",value:function Bt(t){var e=t.target.closest("x-menuitem");this.querySelector(":scope > x-menu").hasAttribute("closing")||this.collapse(e.whenTriggerEnd);}},{key:"kt",value:function kt(t){var _this36=this;!1===t.defaultPrevented&&("Enter"===t.code||"Space"===t.code?this.xt()?(t.preventDefault(),this.St().then(function(){return _this36.querySelector(":scope > x-menu").focusFirstMenuItem();})):this.ft()?(t.preventDefault(),this.Et()):this.$t()?(t.preventDefault(),this.Dt()):this.Rt()?(t.preventDefault(),this.Pt()):this.matches(":focus")&&(this.Tt()?this.Mt():this.At()?this.Lt():(t.preventDefault(),this.click())):"ArrowDown"===t.code?this.xt()?(this.querySelector(":scope > x-menu"),t.preventDefault(),this.St().then(function(){return _this36.querySelector(":scope > x-menu").focusFirstMenuItem();})):this.ft()?(t.preventDefault(),this.Et()):(t.preventDefault(),this.click()):"ArrowUp"===t.code?this.xt()?(t.preventDefault(),this.St().then(function(){return _this36.querySelector(":scope > x-menu").focusLastMenuItem();})):this.ft()?(t.preventDefault(),this.Et()):(t.preventDefault(),this.click()):"Escape"===t.code&&(this.At()||this.Tt())&&(t.preventDefault(),this.collapse()));}}]);return Zs;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Zs,"observedAttributes",["disabled","size"]);_defineProperty(Zs,"_shadowTemplate",zs(_templateObject116()));_defineProperty(Zs,"_shadowStyleSheet",Os(_templateObject117()));customElements.define("x-button",Zs);var Ks=Array.isArray;var Qs=/*#__PURE__*/function(_HTMLElement6){_inherits(Qs,_HTMLElement6);var _super7=_createSuper(Qs);_createClass(Qs,[{key:"tracking",get:function get(){return this.hasAttribute("tracking")?parseInt(this.getAttribute("tracking")):-1;},set:function set(t){this.setAttribute("tracking",t);}},{key:"vertical",get:function get(){return this.hasAttribute("vertical");},set:function set(t){!0===t?this.setAttribute("vertical",""):this.removeAttribute("vertical");}},{key:"value",get:function get(){if(2===this.tracking||3===this.tracking)return this.Ft().filter(function(t){return t.toggled;}).map(function(t){return t.value;}).filter(function(t){return null!=t;});if(1===this.tracking||0===this.tracking){var _t119=this.Ft().find(function(t){return t.toggled;});return _t119&&void 0!==_t119.value?_t119.value:null;}return-1===this.tracking?null:void 0;},set:function set(t){if(2===this.tracking||3===this.tracking){var _e93=this.Ft();if(Ks(t)){var _iterator72=_createForOfIteratorHelper(_e93),_step72;try{for(_iterator72.s();!(_step72=_iterator72.n()).done;){var _i98=_step72.value;_i98.toggled=t.includes(_i98.value);}}catch(err){_iterator72.e(err);}finally{_iterator72.f();}}else{var _iterator73=_createForOfIteratorHelper(_e93),_step73;try{for(_iterator73.s();!(_step73=_iterator73.n()).done;){var _i99=_step73.value;_i99.toggled=_i99.value===t;}}catch(err){_iterator73.e(err);}finally{_iterator73.f();}}}else if(1===this.tracking||0===this.tracking){var _e94=this.Ft(),_i100=_e94.find(function(e){return e.value===t;});var _iterator74=_createForOfIteratorHelper(_e94),_step74;try{for(_iterator74.s();!(_step74=_iterator74.n()).done;){var _t120=_step74.value;_t120.toggled=_t120===_i100;}}catch(err){_iterator74.e(err);}finally{_iterator74.f();}}}}]);function Qs(){var _temp9,_this37;_classCallCheck(this,Qs);(_temp9=_this37=_super7.call(this),_defineProperty(_assertThisInitialized(_this37),"_shadowRoot",null),_temp9),_this37._shadowRoot=_this37.attachShadow({mode:"closed"}),_this37._shadowRoot.adoptedStyleSheets=[Qs._shadowStyleSheet],_this37._shadowRoot.append(document.importNode(Qs._shadowTemplate.content,!0)),_this37.addEventListener("click",function(t){return _this37.N(t);},!0),_this37.addEventListener("keydown",function(t){return _this37.kt(t);});return _this37;}_createClass(Qs,[{key:"connectedCallback",value:function connectedCallback(){var _iterator75=_createForOfIteratorHelper(this.children),_step75;try{for(_iterator75.s();!(_step75=_iterator75.n()).done;){var _t121=_step75.value;if("x-button"===_t121.localName){"none"!==getComputedStyle(_t121).boxShadow?this.setAttribute("hasboxshadow",""):this.removeAttribute("hasboxshadow");break;}}}catch(err){_iterator75.e(err);}finally{_iterator75.f();}}},{key:"Ft",value:function Ft(){return _toConsumableArray(this.querySelectorAll(":scope > x-button, :scope > x-box > x-button"));}},{key:"N",value:function N(t){if(0!==t.button)return;var e=t.target.closest("x-button");if(e&&!1===e.disabled&&!1===e.expandable){var _t122=this.Ft().filter(function(t){return t!==e;});if(0===this.tracking){e.mixed||(e.toggled=!e.toggled),e.mixed=!1;var _iterator76=_createForOfIteratorHelper(_t122),_step76;try{for(_iterator76.s();!(_step76=_iterator76.n()).done;){var _e95=_step76.value;_e95.toggled=!1,_e95.mixed=!1;}}catch(err){_iterator76.e(err);}finally{_iterator76.f();}this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));}else if(1===this.tracking){if(!1===e.toggled||!0===e.mixed){e.toggled=!0,e.mixed=!1;var _iterator77=_createForOfIteratorHelper(_t122),_step77;try{for(_iterator77.s();!(_step77=_iterator77.n()).done;){var _e96=_step77.value;_e96.toggled=!1,_e96.mixed=!1;}}catch(err){_iterator77.e(err);}finally{_iterator77.f();}this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));}}else if(2===this.tracking)e.mixed?e.mixed=!1:e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));else if(3===this.tracking){var _i101=_t122.filter(function(t){return!0===t.toggled;});(!1===e.toggled||_i101.length>0)&&(e.mixed?e.mixed=!1:e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e})));}}}},{key:"kt",value:function kt(t){var e=t.key;if("ArrowRight"===e){var _t123=_toConsumableArray(this.children).find(function(t){return t.matches(":focus");});_t123&&(_t123.nextElementSibling?_t123.nextElementSibling.focus():_t123!==_t123.parentElement.firstElementChild&&_t123.parentElement.firstElementChild.focus());}else if("ArrowLeft"===e){var _t124=_toConsumableArray(this.children).find(function(t){return t.matches(":focus");});_t124&&(_t124.previousElementSibling?_t124.previousElementSibling.focus():_t124!==_t124.parentElement.lastElementChild&&_t124.parentElement.lastElementChild.focus());}}}]);return Qs;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Qs,"_shadowTemplate",zs(_templateObject118()));_defineProperty(Qs,"_shadowStyleSheet",Os(_templateObject119()));customElements.define("x-buttons",Qs);var Js=/*#__PURE__*/function(_HTMLElement7){_inherits(Js,_HTMLElement7);var _super8=_createSuper(Js);function Js(){var _temp10,_this38;_classCallCheck(this,Js);(_temp10=_this38=_super8.call(this),_defineProperty(_assertThisInitialized(_this38),"_shadowRoot",null),_temp10),_this38._shadowRoot=_this38.attachShadow({mode:"closed"}),_this38._shadowRoot.adoptedStyleSheets=[Js._shadowStyleSheet],_this38._shadowRoot.append(document.importNode(Js._shadowTemplate.content,!0));return _this38;}return Js;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Js,"_shadowTemplate",zs(_templateObject120()));_defineProperty(Js,"_shadowStyleSheet",Os(_templateObject121()));customElements.define("x-card",Js);var tn=/*#__PURE__*/function(_HTMLElement8){_inherits(tn,_HTMLElement8);var _super9=_createSuper(tn);_createClass(tn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function tn(){var _temp11,_this39;_classCallCheck(this,tn);(_temp11=_this39=_super9.call(this),_defineProperty(_assertThisInitialized(_this39),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this39),"I",{}),_defineProperty(_assertThisInitialized(_this39),"yt",0),_defineProperty(_assertThisInitialized(_this39),"B",null),_temp11),_this39._shadowRoot=_this39.attachShadow({mode:"closed"}),_this39._shadowRoot.adoptedStyleSheets=[tn._shadowStyleSheet],_this39._shadowRoot.append(document.importNode(tn._shadowTemplate.content,!0));var _iterator78=_createForOfIteratorHelper(_this39._shadowRoot.querySelectorAll("[id]")),_step78;try{for(_iterator78.s();!(_step78=_iterator78.n()).done;){var _t125=_step78.value;_this39.I[_t125.id]=_t125;}}catch(err){_iterator78.e(err);}finally{_iterator78.f();}_this39.addEventListener("pointerdown",function(t){return _this39.zt(t);}),_this39.addEventListener("click",function(t){return _this39.N(t);}),_this39.addEventListener("keydown",function(t){return _this39.kt(t);});return _this39;}_createClass(tn,[{key:"connectedCallback",value:function connectedCallback(){var _this40=this;$s.addEventListener("sizechange",this.B=function(){return _this40.U();}),this.Ct(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"toggled"===t?this.Nt():"disabled"===t?this.qt():"size"===t&&this.U();}},{key:"Ct",value:function Ct(){this.setAttribute("role","checkbox"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Nt",value:function Nt(){this.setAttribute("aria-toggled",this.mixed?"mixed":this.toggled);}},{key:"qt",value:function qt(){this.Ct();}},{key:"zt",value:function zt(t){if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();var _e97=js(this.parentNode,"[tabindex]");_e97&&_e97.focus();}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){var _e98=Vs("div");_e98.setAttribute("class","ripple pointer-down-ripple"),this.I.ripples.append(_e98);var _i102=_e98.animate({transform:["scale(0)","scale(2.6)"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee22(){var t;return regeneratorRuntime.wrap(function _callee22$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:_context22.next=2;return _i102.finished;case 2:t=_e98.animate({opacity:[getComputedStyle(_e98).opacity,"0"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context22.next=5;return t.finished;case 5:_e98.remove();case 6:case"end":return _context22.stop();}}},_callee22);})),{once:!0});}}else t.preventDefault();}},{key:"N",value:function(){var _N=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee23(t){var _t126;return regeneratorRuntime.wrap(function _callee23$(_context23){while(1){switch(_context23.prev=_context23.next){case 0:if(!(this.mixed?this.mixed=!1:this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0})),null===this.I.ripples.querySelector(".pointer-down-ripple")&&"ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context23.next=9;break;}_t126=Vs("div");_t126.setAttribute("class","ripple");this.I.ripples.append(_t126);_context23.next=6;return _t126.animate({transform:["scale(0)","scale(2.6)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished;case 6:_context23.next=8;return _t126.animate({opacity:[getComputedStyle(_t126).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished;case 8:_t126.remove();case 9:case"end":return _context23.stop();}}},_callee23,this);}));function N(_x18){return _N.apply(this,arguments);}return N;}()},{key:"kt",value:function kt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click());}}]);return tn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(tn,"observedAttributes",["toggled","disabled","size"]);_defineProperty(tn,"_shadowTemplate",zs(_templateObject122()));_defineProperty(tn,"_shadowStyleSheet",Os(_templateObject123()));customElements.define("x-checkbox",tn);var en=/*#__PURE__*/function(_HTMLElement9){_inherits(en,_HTMLElement9);var _super10=_createSuper(en);_createClass(en,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"#ffffff";},set:function set(t){this.setAttribute("value",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function en(){var _temp12,_this41;_classCallCheck(this,en);(_temp12=_this41=_super10.call(this),_defineProperty(_assertThisInitialized(_this41),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this41),"I",{}),_defineProperty(_assertThisInitialized(_this41),"Ut",!1),_defineProperty(_assertThisInitialized(_this41),"wt",!1),_defineProperty(_assertThisInitialized(_this41),"B",null),_defineProperty(_assertThisInitialized(_this41),"yt",0),_defineProperty(_assertThisInitialized(_this41),"Gt",qs(function(){_this41.Ut&&(_this41.Ut=!1,_this41.value=_this41.I.input.value,_this41.dispatchEvent(new CustomEvent("changeend")));},400)),_temp12),_this41._shadowRoot=_this41.attachShadow({mode:"closed"}),_this41._shadowRoot.adoptedStyleSheets=[en._shadowStyleSheet],_this41._shadowRoot.append(document.importNode(en._shadowTemplate.content,!0));var _iterator79=_createForOfIteratorHelper(_this41._shadowRoot.querySelectorAll("[id]")),_step79;try{for(_iterator79.s();!(_step79=_iterator79.n()).done;){var _t127=_step79.value;_this41.I[_t127.id]=_t127;}}catch(err){_iterator79.e(err);}finally{_iterator79.f();}_this41.addEventListener("click",function(t){return _this41.N(t);}),_this41.addEventListener("keydown",function(t){return _this41.kt(t);}),_this41.addEventListener("pointerdown",function(t){return _this41.zt(t);}),_this41.addEventListener("change",function(t){return _this41.jt(t);}),_this41.I.input.addEventListener("change",function(t){return _this41.Kt(t);});return _this41;}_createClass(en,[{key:"connectedCallback",value:function connectedCallback(){var _this42=this;var t=this.querySelector("x-wheelcolorpicker, x-rectcolorpicker, x-barscolorpicker");t&&t.setAttribute("value",ks(this.value,"rgba")),this.Ct(),this.U(),this.Xt(),$s.addEventListener("sizechange",this.B=function(){return _this42.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t?this.ot():"disabled"===t?this.qt():"size"===t&&this.lt();}},{key:"Vt",value:function(){var _Vt=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee24(){var _t128;return regeneratorRuntime.wrap(function _callee24$(_context24){while(1){switch(_context24.prev=_context24.next){case 0:if(!(!1===this.hasAttribute("expanded"))){_context24.next=9;break;}_t128=this.querySelector("x-popover");_context24.t0=_t128;if(!_context24.t0){_context24.next=9;break;}this.wt=this.matches(":focus");this.setAttribute("expanded","");_context24.next=8;return _t128.open(this);case 8:_t128.focus();case 9:case"end":return _context24.stop();}}},_callee24,this);}));function Vt(){return _Vt.apply(this,arguments);}return Vt;}()},{key:"Zt",value:function(){var _Zt=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee25(){var t,_t129,_t130,_args25=arguments;return regeneratorRuntime.wrap(function _callee25$(_context25){while(1){switch(_context25.prev=_context25.next){case 0:t=_args25.length>0&&_args25[0]!==undefined?_args25[0]:null;if(!this.hasAttribute("expanded")){_context25.next=15;break;}_t129=this.querySelector("x-popover");if(!_t129){_context25.next=15;break;}_t129.setAttribute("closing","");_context25.next=7;return _t129.close();case 7:this.removeAttribute("expanded");if(!this.wt){_context25.next=12;break;}this.focus();_context25.next=14;break;case 12:_t130=js(this.parentNode,"[tabindex]");_t130&&_t130.focus();case 14:_t129.removeAttribute("closing");case 15:case"end":return _context25.stop();}}},_callee25,this);}));function Zt(){return _Zt.apply(this,arguments);}return Zt;}()},{key:"Xt",value:function Xt(){var _Ps$parse5=new Ps().parse(this.value,"rgba"),_Ps$parse6=_slicedToArray(_Ps$parse5,4),t=_Ps$parse6[0],e=_Ps$parse6[1],i=_Ps$parse6[2],s=_Ps$parse6[3];this.I.input.value=ys([t,e,i,s],"rgba","hex"),this.I.input.style.opacity=s;}},{key:"Ct",value:function Ct(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){this.Ut||this.Xt();var t=_toConsumableArray(this.querySelectorAll("*")).find(function(t){return t.localName.endsWith("colorpicker");});t&&t.getAttribute("value")!==this.getAttribute("value")&&t.setAttribute("value",this.getAttribute("value"));}},{key:"qt",value:function qt(){this.Ct();}},{key:"lt",value:function lt(){this.U();}},{key:"jt",value:function jt(t){t.target!==this&&(this.value=ks(t.target.value,"rgba"),this.Xt());}},{key:"Kt",value:function Kt(){!1===this.Ut&&(this.Ut=!0,this.dispatchEvent(new CustomEvent("changestart"))),this.value=this.I.input.value,this.dispatchEvent(new CustomEvent("change")),this.Gt();}},{key:"zt",value:function zt(t){t.target===this&&t.preventDefault();}},{key:"N",value:function N(t){var e=this.querySelector(":scope > x-popover");e&&(e.opened?(!1===e.modal&&t.target===this||!0===e.modal&&"x-backdrop"===t.target.localName)&&(t.preventDefault(),this.Zt()):(t.preventDefault(),this.Vt()));}},{key:"kt",value:function kt(t){if("Enter"===t.code||"Space"===t.code){var _e99=this.querySelector("x-popover");t.preventDefault(),t.stopPropagation(),_e99?this.hasAttribute("expanded")?this.Zt():this.Vt():this.I.input.click();}else"Escape"===t.code?this.querySelector("x-popover")&&this.hasAttribute("expanded")&&(t.preventDefault(),this.Zt()):"Tab"===t.code&&this.hasAttribute("expanded")&&t.preventDefault();}}]);return en;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(en,"observedAttributes",["value","disabled","size"]);_defineProperty(en,"_shadowTemplate",zs(_templateObject124()));_defineProperty(en,"_shadowStyleSheet",Os(_templateObject125()));customElements.define("x-colorselect",en);var sn=/*#__PURE__*/function(_HTMLElement10){_inherits(sn,_HTMLElement10);var _super11=_createSuper(sn);_createClass(sn,[{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function sn(){var _temp13,_this43;_classCallCheck(this,sn);(_temp13=_this43=_super11.call(this),_defineProperty(_assertThisInitialized(_this43),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this43),"I",{}),_defineProperty(_assertThisInitialized(_this43),"Yt",null),_defineProperty(_assertThisInitialized(_this43),"Wt",null),_defineProperty(_assertThisInitialized(_this43),"Jt",null),_temp13),_this43._shadowRoot=_this43.attachShadow({mode:"closed"}),_this43._shadowRoot.adoptedStyleSheets=[sn._shadowStyleSheet],_this43._shadowRoot.append(document.importNode(sn._shadowTemplate.content,!0)),_this43.I.backdrop=Vs("x-backdrop"),_this43.I.backdrop.style.background="rgba(0, 0, 0, 0)",_this43.I.backdrop.addEventListener("contextmenu",function(t){return _this43.Qt(t);}),_this43.I.backdrop.addEventListener("pointerdown",function(t){return _this43.It(t);}),_this43.addEventListener("blur",function(t){return _this43.te();}),_this43.addEventListener("keydown",function(t){return _this43.kt(t);},!0),_this43.addEventListener("click",function(t){return _this43.N(t);});return _this43;}_createClass(sn,[{key:"connectedCallback",value:function connectedCallback(){var _this44=this;this.Yt=this.parentElement||this.parentNode.host,window.addEventListener("blur",this.Wt=function(){_this44.te();}),this.Yt.addEventListener("contextmenu",this.Jt=function(t){_this44.ee(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){window.removeEventListener("blur",this.Wt),this.Yt.removeEventListener("contextmenu",this.Jt),this.Yt=null;}},{key:"open",value:function open(t,e){var i=this.querySelector("x-menu");!1===i.opened&&(i.openAtPoint(t,e),this.I.backdrop.ownerElement=i,this.I.backdrop.show(!1),i.focus());}},{key:"close",value:function close(){var _this45=this;return new Promise(/*#__PURE__*/function(){var _ref26=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee26(t){var e,_t131;return regeneratorRuntime.wrap(function _callee26$(_context26){while(1){switch(_context26.prev=_context26.next){case 0:e=_this45.querySelector("x-menu");if(!(e&&!0===e.opened)){_context26.next=7;break;}_context26.next=4;return e.close();case 4:_this45.I.backdrop.hide(!1);_t131=js(_this45.parentNode,"[tabindex]");_t131&&_t131.focus();case 7:t();case 8:case"end":return _context26.stop();}}},_callee26);}));return function(_x19){return _ref26.apply(this,arguments);};}());}},{key:"te",value:function te(){this.close();}},{key:"ee",value:function ee(t){!1===this.disabled&&(t.preventDefault(),this.open(t.clientX,t.clientY));}},{key:"Qt",value:function Qt(t){t.preventDefault(),t.stopImmediatePropagation(),this.close().then(function(){var e=function(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=document.elementFromPoint(t,e);if(i&&s)for(;;){var _i103=s.shadowRoot||s._shadowRoot;if(!_i103)break;{var _n45=_i103.elementFromPoint(t,e);if(_n45.getRootNode()!==_i103&&(_n45=null),!_n45||_n45===s)break;s=_n45;}}return s;}(t.clientX,t.clientY,!0),i=new MouseEvent(t.type,t);e.dispatchEvent(i);});}},{key:"It",value:function It(t){1===t.buttons&&(t.preventDefault(),t.stopImmediatePropagation(),this.close());}},{key:"N",value:function(){var _N2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee27(t){var e,_t132;return regeneratorRuntime.wrap(function _callee27$(_context27){while(1){switch(_context27.prev=_context27.next){case 0:e=t.target.closest("x-menuitem");if(!(e&&!1===e.disabled)){_context27.next=13;break;}_t132=e.querySelector("x-menu");if(!_t132){_context27.next=7;break;}_t132.opened?_t132.close():_t132.openNextToElement(e,"horizontal");_context27.next=13;break;case 7:this.setAttribute("closing","");_context27.next=10;return e.whenTriggerEnd;case 10:_context27.next=12;return this.close();case 12:this.removeAttribute("closing");case 13:case"end":return _context27.stop();}}},_callee27,this);}));function N(_x20){return _N2.apply(this,arguments);}return N;}()},{key:"kt",value:function kt(t){"Escape"===t.key?this.querySelector("x-menu").opened&&(t.preventDefault(),this.close()):"Tab"===t.key&&(t.preventDefault(),t.stopPropagation(),this.querySelector("x-menu").focusNextMenuItem());}}]);return sn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(sn,"_shadowTemplate",zs(_templateObject126()));_defineProperty(sn,"_shadowStyleSheet",Os(_templateObject127()));customElements.define("x-contextmenu",sn);var nn=Math.max;var on=/*#__PURE__*/function(_HTMLElement11){_inherits(on,_HTMLElement11);var _super12=_createSuper(on);_createClass(on,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"";},set:function set(t){this.setAttribute("value",t);}},{key:"selected",get:function get(){return this.hasAttribute("selected");},set:function set(t){t?this.setAttribute("selected",""):this.removeAttribute("selected");}},{key:"edited",get:function get(){return this.hasAttribute("edited");},set:function set(t){t?this.setAttribute("edited",""):this.removeAttribute("edited");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}},{key:"ownerTabs",get:function get(){return this.closest("x-doctabs");}}]);function on(){var _temp14,_this46;_classCallCheck(this,on);(_temp14=_this46=_super12.call(this),_defineProperty(_assertThisInitialized(_this46),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this46),"I",{}),_defineProperty(_assertThisInitialized(_this46),"B",null),_temp14),_this46._shadowRoot=_this46.attachShadow({mode:"closed"}),_this46._shadowRoot.adoptedStyleSheets=[on._shadowStyleSheet],_this46._shadowRoot.append(document.importNode(on._shadowTemplate.content,!0));var _iterator80=_createForOfIteratorHelper(_this46._shadowRoot.querySelectorAll("[id]")),_step80;try{for(_iterator80.s();!(_step80=_iterator80.n()).done;){var _t133=_step80.value;_this46.I[_t133.id]=_t133;}}catch(err){_iterator80.e(err);}finally{_iterator80.f();}_this46.addEventListener("pointerdown",function(t){return _this46.zt(t);}),_this46.addEventListener("click",function(t){return _this46.N(t);}),_this46.I["close-button"].addEventListener("pointerdown",function(t){return _this46.ie(t);}),_this46.I["close-button"].addEventListener("click",function(t){return _this46.se(t);});return _this46;}_createClass(on,[{key:"connectedCallback",value:function connectedCallback(){var _this47=this;this.Ct(),this.U(),$s.addEventListener("sizechange",this.B=function(){return _this47.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("selected"===t||"disabled"===t?this.Ct():"size"===t&&this.U());}},{key:"animateSelectionIndicator",value:function animateSelectionIndicator(t){var _this48=this;return new Promise(/*#__PURE__*/function(){var _ref27=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee28(e){var _e100,_i104,_s74;return regeneratorRuntime.wrap(function _callee28$(_context28){while(1){switch(_context28.prev=_context28.next){case 0:if(!("0px"!==_this48.I["selection-indicator"].style.height)){_context28.next=7;break;}_e100=_this48.getBoundingClientRect(),_i104=t.getBoundingClientRect();_this48.setAttribute("animatingindicator","");_s74=_this48.I["selection-indicator"].animate([{left:"0px",width:_e100.width+"px"},{left:_i104.left-_e100.left+"px",width:_i104.width+"px"}],{duration:100,iterations:1,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"});_context28.next=6;return _s74.finished;case 6:_this48.removeAttribute("animatingindicator");case 7:e();case 8:case"end":return _context28.stop();}}},_callee28);}));return function(_x21){return _ref27.apply(this,arguments);};}());}},{key:"Ct",value:function Ct(){this.setAttribute("tabindex",this.selected?"0":"-1"),this.setAttribute("role","tab"),this.setAttribute("aria-selected",this.selected),this.setAttribute("aria-disabled",this.disabled);}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"zt",value:function zt(t){var _this49=this;if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();var _e101=js(this.parentNode,"[tabindex]");_e101&&_e101.focus();}{var _e102=Date.now();this.setAttribute("pressed",""),this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",/*#__PURE__*/function(){var _ref28=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee29(t){var _t134,_i105;return regeneratorRuntime.wrap(function _callee29$(_context29){while(1){switch(_context29.prev=_context29.next){case 0:if(!(!0===_this49.selected)){_context29.next=6;break;}_t134=Date.now()-_e102,_i105=100;_context29.t0=_t134<_i105;if(!_context29.t0){_context29.next=6;break;}_context29.next=6;return Hs(_i105-_t134);case 6:_this49.removeAttribute("pressed");case 7:case"end":return _context29.stop();}}},_callee29);}));return function(_x22){return _ref28.apply(this,arguments);};}(),{once:!0});}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){var _e103=this.I.ripples.getBoundingClientRect(),_i106=1.5*nn(_e103.width,_e103.height),_s75=t.clientY-_e103.y-_i106/2,_n46=t.clientX-_e103.x-_i106/2,_o34=Vs("div");_o34.setAttribute("class","ripple pointer-down-ripple"),_o34.setAttribute("style","width: ".concat(_i106,"px; height: ").concat(_i106,"px; top: ").concat(_s75,"px; left: ").concat(_n46,"px;")),this.I.ripples.append(_o34);var _l27=_o34.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.ownerTabs.setPointerCapture(t.pointerId),this.ownerTabs.addEventListener("lostpointercapture",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee30(){var t,e;return regeneratorRuntime.wrap(function _callee30$(_context30){while(1){switch(_context30.prev=_context30.next){case 0:_context30.next=2;return _l27.finished;case 2:t=getComputedStyle(_o34).opacity,e=_o34.animate({opacity:[t,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context30.next=5;return e.finished;case 5:_o34.remove();case 6:case"end":return _context30.stop();}}},_callee30);})),{once:!0});}}else t.preventDefault();}},{key:"N",value:function(){var _N3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee31(t){var _t135,_e104,_i107,_s76,_n47,_o35,_l28,_h18;return regeneratorRuntime.wrap(function _callee31$(_context31){while(1){switch(_context31.prev=_context31.next){case 0:if(!(0===t.button&&null===this.I.ripples.querySelector(".pointer-down-ripple")&&"ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context31.next=10;break;}_t135=this.I.ripples.getBoundingClientRect(),_e104=1.5*nn(_t135.width,_t135.height),_i107=_t135.y+_t135.height/2-_t135.y-_e104/2,_s76=_t135.x+_t135.width/2-_t135.x-_e104/2,_n47=Vs("div");_n47.setAttribute("class","ripple click-ripple"),_n47.setAttribute("style","width: ".concat(_e104,"px; height: ").concat(_e104,"px; top: ").concat(_i107,"px; left: ").concat(_s76,"px;")),this.I.ripples.append(_n47);_o35=_n47.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context31.next=6;return _o35.finished;case 6:_l28=getComputedStyle(_n47).opacity,_h18=_n47.animate({opacity:[_l28,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context31.next=9;return _h18.finished;case 9:_n47.remove();case 10:case"end":return _context31.stop();}}},_callee31,this);}));function N(_x23){return _N3.apply(this,arguments);}return N;}()},{key:"ie",value:function ie(t){if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();var _e105=js(this.parentNode,"[tabindex]");_e105&&_e105.focus();}t.stopPropagation();}}},{key:"se",value:function se(t){if(0!==t.button)return;t.stopPropagation();var e=new CustomEvent("close",{bubbles:!0,cancelable:!0,detail:this});this.dispatchEvent(e),!1===e.defaultPrevented&&this.ownerTabs.closeTab(this);}}]);return on;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(on,"observedAttributes",["selected","disabled","size"]);_defineProperty(on,"_shadowTemplate",zs(_templateObject128()));_defineProperty(on,"_shadowStyleSheet",Os(_templateObject129()));customElements.define("x-doctab",on);var ln=Number.parseInt;var hn=/*#__PURE__*/function(_HTMLElement12){_inherits(hn,_HTMLElement12);var _super13=_createSuper(hn);_createClass(hn,[{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"maxTabs",get:function get(){return this.hasAttribute("maxtabs")?ln(this.getAttribute("maxtabs")):20;},set:function set(t){this.setAttribute("maxtabs",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function hn(){var _temp15,_this50;_classCallCheck(this,hn);(_temp15=_this50=_super13.call(this),_defineProperty(_assertThisInitialized(_this50),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this50),"I",{}),_defineProperty(_assertThisInitialized(_this50),"B",null),_defineProperty(_assertThisInitialized(_this50),"he",!1),_defineProperty(_assertThisInitialized(_this50),"ne",!1),_temp15),_this50._shadowRoot=_this50.attachShadow({mode:"closed",delegatesFocus:!1}),_this50._shadowRoot.adoptedStyleSheets=[hn._shadowStyleSheet],_this50._shadowRoot.append(document.importNode(hn._shadowTemplate.content,!0));var _iterator81=_createForOfIteratorHelper(_this50._shadowRoot.querySelectorAll("[id]")),_step81;try{for(_iterator81.s();!(_step81=_iterator81.n()).done;){var _t136=_step81.value;_this50.I[_t136.id]=_t136;}}catch(err){_iterator81.e(err);}finally{_iterator81.f();}_this50.addEventListener("pointerdown",function(t){return _this50.zt(t);}),_this50.addEventListener("keydown",function(t){return _this50.kt(t);}),_this50.I["open-button"].addEventListener("click",function(t){return _this50.oe(t);});return _this50;}_createClass(hn,[{key:"connectedCallback",value:function connectedCallback(){var _this51=this;this.U(),$s.addEventListener("sizechange",this.B=function(){return _this51.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"size"===t&&this.U();}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"openTab",value:function openTab(t){var _this52=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref30=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee32(i,s){var _s77,_iterator82,_step82,_t137,_e106;return regeneratorRuntime.wrap(function _callee32$(_context32){while(1){switch(_context32.prev=_context32.next){case 0:if(!(_this52.querySelectorAll("x-doctab").length>=_this52.maxTabs)){_context32.next=4;break;}s("Can't open more than ".concat(_this52.maxTabs," tabs."));_context32.next=24;break;case 4:_s77=0;_iterator82=_createForOfIteratorHelper(_this52.children);try{for(_iterator82.s();!(_step82=_iterator82.n()).done;){_t137=_step82.value;_e106=ln(_t137.style.order);!Number.isNaN(_e106)&&_e106>_s77&&(_s77=_e106);}}catch(err){_iterator82.e(err);}finally{_iterator82.f();}t.style.order=_s77;if(!(!1===e)){_context32.next=12;break;}t.style.transition="none",t.style.maxWidth=null,t.style.padding=null,_this52.append(t),i(t);_context32.next=24;break;case 12:_context32.t0=!0===e;if(!_context32.t0){_context32.next=24;break;}t.style.transition=null;t.style.maxWidth="0px";t.style.padding="0px";t.setAttribute("opening","");_this52.append(t);_context32.next=21;return Hs(30);case 21:t.addEventListener("transitionend",function(){t.removeAttribute("opening"),i(t);},{once:!0});t.style.maxWidth=null;t.style.padding=null;case 24:case"end":return _context32.stop();}}},_callee32);}));return function(_x24,_x25){return _ref30.apply(this,arguments);};}());}},{key:"closeTab",value:function closeTab(t){var _this53=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref31=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee33(i){var s,n,o,_iterator83,_step83,_t138,_e107,_i108,_t139,_iterator84,_step84,_t140;return regeneratorRuntime.wrap(function _callee33$(_context33){while(1){switch(_context33.prev=_context33.next){case 0:s=_this53.getTabsByScreenIndex().filter(function(t){return!1===t.hasAttribute("closing");}),n=t.getBoundingClientRect().width,o=_this53.le(t);if(t.setAttribute("closing",""),o<s.length-1){_iterator83=_createForOfIteratorHelper(_this53.children);try{for(_iterator83.s();!(_step83=_iterator83.n()).done;){_t138=_step83.value;!1===_t138.hasAttribute("closing")&&(_t138.style.transition="none",_t138.style.maxWidth=n+"px");}}catch(err){_iterator83.e(err);}finally{_iterator83.f();}}if(t.style.transition=e?null:"none",t.style.maxWidth="0px",t.style.pointerEvents="none",_this53.he=!0,t.selected){_e107=s[s.indexOf(t)-1],_i108=s[s.indexOf(t)+1];t.selected=!1,_i108?_i108.selected=!0:_e107&&(_e107.selected=!0);}if(t.matches(":focus")){_t139=_this53.querySelector("x-doctab[selected]");_t139?_t139.focus():_this53.focus();}t.style.maxWidth="0px";t.style.padding="0px";_context33.t0=e;if(!_context33.t0){_context33.next=10;break;}_context33.next=10;return Hs(150);case 10:t.remove();_this53.he=!1;t.removeAttribute("closing");i();if(_this53.ne){_context33.next=21;break;}_this53.ne=!0;_context33.next=18;return _this53.ae(3);case 18:_this53.ne=!1;_iterator84=_createForOfIteratorHelper(_this53.children);try{for(_iterator84.s();!(_step84=_iterator84.n()).done;){_t140=_step84.value;_t140.style.transition=null,_t140.style.maxWidth=null,_t140.style.order=_this53.le(_t140);}}catch(err){_iterator84.e(err);}finally{_iterator84.f();}case 21:case"end":return _context33.stop();}}},_callee33);}));return function(_x26){return _ref31.apply(this,arguments);};}());}},{key:"selectPreviousTab",value:function selectPreviousTab(){this.getTabsByScreenIndex();var t=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab"),e=this.re(t);return t&&e?(this.selectTab(e),e):null;}},{key:"selectNextTab",value:function selectNextTab(){this.getTabsByScreenIndex();var t=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab:last-of-type"),e=this.de(t);return t&&e?(this.selectTab(e),e):null;}},{key:"selectTab",value:function selectTab(t){var e=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab:last-of-type");e&&(e.tabIndex=-1,e.selected=!1),t.tabIndex=0,t.selected=!0;}},{key:"moveSelectedTabLeft",value:function moveSelectedTabLeft(){var t=this.querySelector("x-doctab[selected]"),e=this.le(t);var _iterator85=_createForOfIteratorHelper(this.children),_step85;try{for(_iterator85.s();!(_step85=_iterator85.n()).done;){var _t141=_step85.value;_t141.style.order=this.le(_t141);}}catch(err){_iterator85.e(err);}finally{_iterator85.f();}if(0===ln(t.style.order)){var _iterator86=_createForOfIteratorHelper(this.children),_step86;try{for(_iterator86.s();!(_step86=_iterator86.n()).done;){var _e108=_step86.value;_e108.style.order=_e108===t?this.childElementCount-1:ln(_e108.style.order)-1;}}catch(err){_iterator86.e(err);}finally{_iterator86.f();}}else{var _i109=this.ue(e-1);_i109.style.order=ln(_i109.style.order)+1,t.style.order=ln(t.style.order)-1;}}},{key:"moveSelectedTabRight",value:function moveSelectedTabRight(){var t=this.querySelector("x-doctab[selected]"),e=this.le(t);var _iterator87=_createForOfIteratorHelper(this.children),_step87;try{for(_iterator87.s();!(_step87=_iterator87.n()).done;){var _t142=_step87.value;_t142.style.order=this.le(_t142);}}catch(err){_iterator87.e(err);}finally{_iterator87.f();}if(ln(t.style.order)===this.childElementCount-1){var _iterator88=_createForOfIteratorHelper(this.children),_step88;try{for(_iterator88.s();!(_step88=_iterator88.n()).done;){var _e109=_step88.value;_e109.style.order=_e109===t?0:ln(_e109.style.order)+1;}}catch(err){_iterator88.e(err);}finally{_iterator88.f();}}else{var _i110=this.ue(e+1);_i110.style.order=ln(_i110.style.order)-1,t.style.order=ln(t.style.order)+1;}}},{key:"ae",value:function ae(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;return new Promise(function(e){var i,s,n,o=null,l=function l(){window.removeEventListener("pointermove",i),window.removeEventListener("pointerout",s),window.removeEventListener("blur",n);};window.addEventListener("pointermove",i=function i(_i111){if(null===o)o={x:_i111.clientX,y:_i111.clientY};else{var _s78={x:_i111.clientX,y:_i111.clientY};rs(o,_s78)>=t&&(l(),e());}}),window.addEventListener("pointerout",s=function s(t){null===t.toElement&&(l(),e());}),window.addEventListener("blur",n=function n(){l(),e();});});}},{key:"getTabsByScreenIndex",value:function getTabsByScreenIndex(){var t=Symbol();var _iterator89=_createForOfIteratorHelper(this.children),_step89;try{for(_iterator89.s();!(_step89=_iterator89.n()).done;){var _e110=_step89.value;_e110[t]=this.le(_e110);}}catch(err){_iterator89.e(err);}finally{_iterator89.f();}return _toConsumableArray(this.children).sort(function(e,i){return e[t]>i[t];});}},{key:"le",value:function le(t){var e=t.getBoundingClientRect(),i=this.getBoundingClientRect();if(e.left-i.left<e.width/2)return 0;{var _t143=e.width/2;for(var _s79=1;_s79<this.maxTabs;_s79+=1){if(e.left-i.left>=_t143&&e.left-i.left<_t143+e.width)return _s79>this.childElementCount-1?this.childElementCount-1:_s79;_t143+=e.width;}}}},{key:"ue",value:function ue(t){var _iterator90=_createForOfIteratorHelper(this.children),_step90;try{for(_iterator90.s();!(_step90=_iterator90.n()).done;){var _e111=_step90.value;if(this.le(_e111)===t)return _e111;}}catch(err){_iterator90.e(err);}finally{_iterator90.f();}return null;}},{key:"re",value:function re(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=this.getTabsByScreenIndex(),n=s.indexOf(t),o=null;for(var _t144=n-1;_t144>=0;_t144-=1){var _i112=s[_t144];if(!e||!_i112.disabled){o=_i112;break;}}if(i&&null===o)for(var _t145=s.length-1;_t145>n;_t145-=1){var _i113=s[_t145];if(!e||!_i113.disabled){o=_i113;break;}}return o;}},{key:"de",value:function de(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=this.getTabsByScreenIndex(),n=s.indexOf(t),o=null;for(var _t146=n+1;_t146<s.length;_t146+=1){var _i114=s[_t146];if(!e||!_i114.disabled){o=_i114;break;}}if(i&&null===o)for(var _t147=0;_t147<n;_t147+=1){var _i115=s[_t147];if(!e||!_i115.disabled){o=_i115;break;}}return o;}},{key:"zt",value:function zt(t){1===t.buttons&&!this.he&&t.target.closest("x-doctab")&&this.ce(t);}},{key:"ce",value:function(){var _ce=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee34(t){var _this54=this;var _e112,_i116,s,n,o;return regeneratorRuntime.wrap(function _callee34$(_context34){while(1){switch(_context34.prev=_context34.next){case 0:if(!(!1===t.isPrimary)){_context34.next=2;break;}return _context34.abrupt("return");case 2:s=t.target.closest("x-doctab"),n=this.querySelector("x-doctab[selected]");n!==s&&(n?n.animateSelectionIndicator(s).then(function(){_this54.selectTab(s),_this54.dispatchEvent(new CustomEvent("select",{detail:s}));}):(this.selectTab(s),this.dispatchEvent(new CustomEvent("select",{detail:s})))),this.setPointerCapture(t.pointerId);o=new DOMPoint(t.clientX,t.clientY);this.addEventListener("pointermove",_e112=function e(n){var l=new DOMPoint(n.clientX,n.clientY),h=n.timeStamp-t.timeStamp,a=rs(o,l)>3||h>80;n.isPrimary&&a&&(_this54.removeEventListener("pointermove",_e112),_this54.removeEventListener("lostpointercapture",_i116),_this54.pe(t,s));}),this.addEventListener("lostpointercapture",_i116=function i(){_this54.removeEventListener("pointermove",_e112),_this54.removeEventListener("lostpointercapture",_i116);});case 6:case"end":return _context34.stop();}}},_callee34,this);}));function ce(_x27){return _ce.apply(this,arguments);}return ce;}()},{key:"pe",value:function pe(t,e){var _this55=this;var i=e.getBoundingClientRect(),s=this.getBoundingClientRect(),n=Symbol(),o=Symbol(),l=Symbol();e.style.zIndex=999,this.I["open-button"].style.setProperty("opacity","0","important");var _iterator91=_createForOfIteratorHelper(this.children),_step91;try{for(_iterator91.s();!(_step91=_iterator91.n()).done;){var _t152=_step91.value;var _i117=this.le(_t152);_t152[o]=_i117,_t152[n]=_i117,_t152[l]=_t152.getBoundingClientRect().left-s.left,_t152!==e&&(_t152.style.transition="transform 0.15s cubic-bezier(0.4, 0, 0.2, 1)");}}catch(err){_iterator91.e(err);}finally{_iterator91.f();}var h=function h(t,s){if(s>t+1)for(var _e113=t;_e113<s;_e113+=1){h(_e113,_e113+1);}else if(s<t-1)for(var _e114=t;_e114>s;_e114-=1){h(_e114,_e114-1);}else{var _iterator92=_createForOfIteratorHelper(_this55.children),_step92;try{for(_iterator92.s();!(_step92=_iterator92.n()).done;){var _n48=_step92.value;if(_n48!==e){_n48[o]===s&&(_n48[o]=t);var _e115=-_n48[l];for(var _t148=0;_t148<_n48[o];_t148+=1){_e115+=i.width;}_n48.style.transform=0===_e115?null:"translate("+_e115+"px)";}}}catch(err){_iterator92.e(err);}finally{_iterator92.f();}}},a=function a(n){if(n.isPrimary){var _a13=n.clientX-t.clientX;_a13+e[l]<=0?_a13=-e[l]:_a13+e[l]+i.width>s.width&&(_a13=s.width-e[l]-i.width),e.style.transform="translate("+_a13+"px)";var _r9=_this55.le(e);if(_r9!==e[o]){var _t149=e[o];e[o]=_r9,h(_t149,e[o]);}}},r=/*#__PURE__*/function(){var _ref32=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee35(t){var s,_t150,_iterator93,_step93,_t151;return regeneratorRuntime.wrap(function _callee35$(_context35){while(1){switch(_context35.prev=_context35.next){case 0:_this55.removeEventListener("pointermove",a),_this55.removeEventListener("lostpointercapture",r);s=-e[l];for(_t150=0;_t150<e[o];_t150+=1){s+=i.width;}e.style.transition="transform 0.15s cubic-bezier(0.4, 0, 0.2, 1)";e.style.transform="translate("+s+"px)";e[n]!==e[o]&&_this55.dispatchEvent(new CustomEvent("rearrange"));_context35.next=8;return Hs(150);case 8:e.style.zIndex=null;_this55.I["open-button"].style.opacity=null;_iterator93=_createForOfIteratorHelper(_this55.children);try{for(_iterator93.s();!(_step93=_iterator93.n()).done;){_t151=_step93.value;_t151.style.transition="none",_t151.style.transform="translate(0px, 0px)",_t151.style.order=_t151[o];}}catch(err){_iterator93.e(err);}finally{_iterator93.f();}case 12:case"end":return _context35.stop();}}},_callee35);}));return function r(_x28){return _ref32.apply(this,arguments);};}();this.addEventListener("pointermove",a),this.addEventListener("lostpointercapture",r);}},{key:"oe",value:function oe(t){if(0===t.button){var _t153=new CustomEvent("open",{cancelable:!0});if(this.dispatchEvent(_t153),!1===_t153.defaultPrevented){var _t154=zs(_templateObject2());_t154.style.order=this.childElementCount,this.openTab(_t154),this.selectTab(_t154);}}}},{key:"kt",value:function kt(t){var _this56=this;if(!(t.ctrlKey||t.altKey||t.metaKey||t.shiftKey))if("Enter"===t.code||"Space"===t.code){var _e116=this.querySelector('x-doctab[tabindex="0"]'),_i118=this.querySelector("x-doctab[selected]");t.preventDefault(),_e116.click(),_e116!==_i118&&(_i118?_i118.animateSelectionIndicator(_e116).then(function(){_this56.selectTab(_e116),_this56.dispatchEvent(new CustomEvent("select",{detail:_e116}));}):(this.selectTab(_e116),this.dispatchEvent(new CustomEvent("select",{detail:_e116}))));}else if("ArrowLeft"===t.code){this.getTabsByScreenIndex();var _e117=this.querySelector('x-doctab[tabindex="0"]'),_i119=this.re(_e117);_i119&&(t.preventDefault(),_e117.tabIndex=-1,_i119.tabIndex=0,_i119.focus());}else if("ArrowRight"===t.code){this.getTabsByScreenIndex();var _e118=this.querySelector('x-doctab[tabindex="0"]'),_i120=this.de(_e118);_i120&&(t.preventDefault(),_e118.tabIndex=-1,_i120.tabIndex=0,_i120.focus());}}}]);return hn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(hn,"observedAttributes",["size"]);_defineProperty(hn,"_shadowTemplate",zs(_templateObject130()));_defineProperty(hn,"_shadowStyleSheet",Os(_templateObject131()));customElements.define("x-doctabs",hn);var an=/*#__PURE__*/function(_HTMLElement13){_inherits(an,_HTMLElement13);var _super14=_createSuper(an);_createClass(an,[{key:"name",get:function get(){return this.hasAttribute("name")?this.getAttribute("name"):"";},set:function set(t){this.setAttribute("name",t);}},{key:"iconset",get:function get(){return!1===this.hasAttribute("iconset")||""===this.getAttribute("iconset").trim()?null:this.getAttribute("iconset");},set:function set(t){null===t||""===t.trim()?this.removeAttribute("iconset"):this.setAttribute("iconset",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function an(){var _temp16,_this57;_classCallCheck(this,an);(_temp16=_this57=_super14.call(this),_defineProperty(_assertThisInitialized(_this57),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this57),"I",{}),_defineProperty(_assertThisInitialized(_this57),"me",null),_defineProperty(_assertThisInitialized(_this57),"B",null),_temp16),_this57._shadowRoot=_this57.attachShadow({mode:"closed"}),_this57._shadowRoot.adoptedStyleSheets=[an._shadowStyleSheet],_this57._shadowRoot.append(document.importNode(an._shadowTemplate.content,!0));var _iterator94=_createForOfIteratorHelper(_this57._shadowRoot.querySelectorAll("[id]")),_step94;try{for(_iterator94.s();!(_step94=_iterator94.n()).done;){var _t155=_step94.value;_this57.I[_t155.id]=_t155;}}catch(err){_iterator94.e(err);}finally{_iterator94.f();}return _this57;}_createClass(an,[{key:"connectedCallback",value:function connectedCallback(){var _this58=this;$s.addEventListener("iconsetchange",this.me=function(){_this58.nt();}),$s.addEventListener("sizechange",this.B=function(){_this58.U();}),this.nt(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("iconsetchange",this.me),$s.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("name"===t||"iconset"===t?this.nt():"size"===t&&this.U());}},{key:"nt",value:function(){var _nt=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee36(){var _t156,_e119;return regeneratorRuntime.wrap(function _callee36$(_context36){while(1){switch(_context36.prev=_context36.next){case 0:if(!(""===this.name)){_context36.next=4;break;}this.I.svg.innerHTML="";_context36.next=16;break;case 4:_t156=null;if(!this.iconset){_context36.next=12;break;}_context36.next=8;return As(this.iconset);case 8:_e119=_context36.sent;_e119&&(_t156=_e119.querySelector("#"+CSS.escape(this.name)));_context36.next=15;break;case 12:_context36.next=14;return $s.whenIconsetReady;case 14:_t156=$s.iconsetElement.querySelector("#"+CSS.escape(this.name));case 15:_t156?(this.I.svg.setAttribute("viewBox",_t156.getAttribute("viewBox")),this.I.svg.innerHTML=_t156.innerHTML):this.I.svg.innerHTML="";case 16:case"end":return _context36.stop();}}},_callee36,this);}));function nt(){return _nt.apply(this,arguments);}return nt;}()},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return an;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(an,"observedAttributes",["name","iconset","size"]);_defineProperty(an,"_shadowTemplate",zs(_templateObject132()));_defineProperty(an,"_shadowStyleSheet",Os(_templateObject133()));customElements.define("x-icon",an);var rn=/*#__PURE__*/function(_HTMLElement14){_inherits(rn,_HTMLElement14);var _super15=_createSuper(rn);_createClass(rn,[{key:"type",get:function get(){return this.hasAttribute("type")?this.getAttribute("type"):"text";},set:function set(t){this.setAttribute("type",t);}},{key:"value",get:function get(){return this.I.input.value;},set:function set(t){this.I.input.value!==t&&(this.matches(":focus")?(this.I.input.selectionStart=0,this.I.input.selectionEnd=this.I.input.value.length,document.execCommand("insertText",!1,t)):this.I.input.value=t,"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),this.be());}},{key:"spellcheck",get:function get(){return this.hasAttribute("spellcheck");},set:function set(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck");}},{key:"minLength",get:function get(){return this.hasAttribute("minlength")?parseInt(this.getAttribute("minlength")):0;},set:function set(t){this.setAttribute("minlength",t);}},{key:"maxLength",get:function get(){return this.hasAttribute("maxlength")?parseInt(this.getAttribute("maxlength")):Infinity;},set:function set(t){this.setAttribute("maxlength",t);}},{key:"required",get:function get(){return this.hasAttribute("required");},set:function set(t){t?this.setAttribute("required",""):this.removeAttribute("required");}},{key:"readOnly",get:function get(){return this.hasAttribute("readonly");},set:function set(t){!0===t?this.setAttribute("readonly",t):this.removeAttribute("readonly");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"validation",get:function get(){return this.hasAttribute("validation")?this.getAttribute("validation"):"auto";},set:function set(t){this.setAttribute("validation",t);}},{key:"error",get:function get(){return this.getAttribute("error");},set:function set(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function rn(){var _temp17,_this59;_classCallCheck(this,rn);(_temp17=_this59=_super15.call(this),_defineProperty(_assertThisInitialized(_this59),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this59),"I",{}),_defineProperty(_assertThisInitialized(_this59),"yt",0),_defineProperty(_assertThisInitialized(_this59),"B",null),_temp17),_this59._shadowRoot=_this59.attachShadow({mode:"closed",delegatesFocus:!0}),_this59._shadowRoot.adoptedStyleSheets=[rn._shadowStyleSheet],_this59._shadowRoot.append(document.importNode(rn._shadowTemplate.content,!0));var _iterator95=_createForOfIteratorHelper(_this59._shadowRoot.querySelectorAll("[id]")),_step95;try{for(_iterator95.s();!(_step95=_iterator95.n()).done;){var _t157=_step95.value;_this59.I[_t157.id]=_t157;}}catch(err){_iterator95.e(err);}finally{_iterator95.f();}_this59.addEventListener("focusin",function(t){return _this59.ge(t);}),_this59.addEventListener("focusout",function(t){return _this59.xe(t);}),_this59.addEventListener("keydown",function(t){return _this59.kt(t);}),_this59.I.input.addEventListener("change",function(t){return _this59.Kt(t);}),_this59.I.input.addEventListener("input",function(t){return _this59.fe(t);}),_this59.I.input.addEventListener("search",function(t){return _this59.we(t);});return _this59;}_createClass(rn,[{key:"connectedCallback",value:function connectedCallback(){var _this60=this;this.Ct(),this.U(),this.be(),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),$s.addEventListener("sizechange",this.B=function(){return _this60.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"type"===t?this.ve():"value"===t?this.ot():"spellcheck"===t?this.ye():"maxlength"===t?this.ze():"readonly"===t?this.ke():"disabled"===t?this.qt():"validation"===t?this.js():"size"===t&&this.Ce();}},{key:"validate",value:function validate(){this.value.length<this.minLength?this.error="Entered text is too short":this.value.length>this.maxLength?this.error="Entered text is too long":this.required&&0===this.value.length?this.error="This field is required":"email"===this.type&&!1===this.I.input.validity.valid?this.error="Invalid e-mail address":"url"===this.type&&!1===this.I.input.validity.valid?this.error="Invalid URL":"color"===this.type&&!1===function(t){try{new Ps().parse(t);}catch(t){return!1;}return!0;}(this.I.input.value)?this.error="Invalid color":this.error=null;}},{key:"selectAll",value:function selectAll(){this.I.input.select();}},{key:"clear",value:function clear(){this.value="",this.error=null;}},{key:"be",value:function be(){0===this.value.length?this.setAttribute("empty",""):this.removeAttribute("empty");}},{key:"Ct",value:function Ct(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.setAttribute("aria-readonly",this.readOnly),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ve",value:function ve(){"color"===this.type?this.I.input.type="text":this.I.input.type=this.type;}},{key:"ot",value:function ot(){this.value=this.hasAttribute("value")?this.getAttribute("value"):"",this.matches(":focus")&&this.selectAll();}},{key:"ye",value:function ye(){this.I.input.spellcheck=this.spellcheck;}},{key:"ze",value:function ze(){this.I.input.maxLength=this.maxLength;}},{key:"ke",value:function ke(){this.I.input.readOnly=this.readOnly,this.Ct();}},{key:"qt",value:function qt(){this.I.input.disabled=this.disabled,this.Ct();}},{key:"js",value:function js(){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate();}},{key:"Ce",value:function Ce(){this.U();}},{key:"ge",value:function ge(){this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));}},{key:"xe",value:function xe(){this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),"auto"===this.validation&&this.validate();}},{key:"kt",value:function kt(t){"Enter"===t.key&&(document.execCommand("selectAll"),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate());}},{key:"fe",value:function fe(t){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),t.stopPropagation(),this.be(),this.dispatchEvent(new CustomEvent("input",{bubbles:!0}));}},{key:"Kt",value:function Kt(){"search"!==this.type&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}},{key:"we",value:function we(){this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}}]);return rn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(rn,"observedAttributes",["type","value","spellcheck","maxlength","readonly","disabled","validation","size"]);_defineProperty(rn,"_shadowTemplate",zs(_templateObject134()));_defineProperty(rn,"_shadowStyleSheet",Os(_templateObject135()));customElements.define("x-input",rn);var dn=/*#__PURE__*/function(_HTMLElement15){_inherits(dn,_HTMLElement15);var _super16=_createSuper(dn);_createClass(dn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function dn(){var _temp18,_this61;_classCallCheck(this,dn);(_temp18=_this61=_super16.call(this),_defineProperty(_assertThisInitialized(_this61),"_shadowRoot",null),_temp18),_this61._shadowRoot=_this61.attachShadow({mode:"closed"}),_this61._shadowRoot.adoptedStyleSheets=[dn._shadowStyleSheet],_this61._shadowRoot.append(document.importNode(dn._shadowTemplate.content,!0));return _this61;}return dn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(dn,"_shadowTemplate",zs(_templateObject136()));_defineProperty(dn,"_shadowStyleSheet",Os(_templateObject137()));customElements.define("x-label",dn);var cn=Math.abs;var pn=/*#__PURE__*/function(_HTMLElement16){_inherits(pn,_HTMLElement16);var _super17=_createSuper(pn);_createClass(pn,[{key:"opened",get:function get(){return this.hasAttribute("opened");}}]);function pn(){var _temp19,_this62;_classCallCheck(this,pn);(_temp19=_this62=_super17.call(this),_defineProperty(_assertThisInitialized(_this62),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this62),"I",{}),_defineProperty(_assertThisInitialized(_this62),"Se",[]),_defineProperty(_assertThisInitialized(_this62),"Ee",null),_defineProperty(_assertThisInitialized(_this62),"Ae",null),_defineProperty(_assertThisInitialized(_this62),"Le",0),_defineProperty(_assertThisInitialized(_this62),"Te",0),_defineProperty(_assertThisInitialized(_this62),"Me",!1),_defineProperty(_assertThisInitialized(_this62),"De",!1),_defineProperty(_assertThisInitialized(_this62),"$e",null),_temp19),_this62._shadowRoot=_this62.attachShadow({mode:"closed"}),_this62._shadowRoot.adoptedStyleSheets=[pn._shadowStyleSheet],_this62._shadowRoot.append(document.importNode(pn._shadowTemplate.content,!0));var _iterator96=_createForOfIteratorHelper(_this62._shadowRoot.querySelectorAll("[id]")),_step96;try{for(_iterator96.s();!(_step96=_iterator96.n()).done;){var _t158=_step96.value;_this62.I[_t158.id]=_t158;}}catch(err){_iterator96.e(err);}finally{_iterator96.f();}_this62.addEventListener("pointerdown",function(t){return _this62.zt(t);}),_this62.addEventListener("pointerover",function(t){return _this62.Pe(t);}),_this62.addEventListener("pointerout",function(t){return _this62.Re(t);}),_this62.addEventListener("pointermove",function(t){return _this62.Ie(t);}),_this62.addEventListener("keydown",function(t){return _this62.kt(t);}),_this62.addEventListener("wheel",function(t){return _this62.Oe(t);},{passive:!1}),_this62.addEventListener("scroll",function(t){return _this62.Be(t);},{passive:!0});return _this62;}_createClass(pn,[{key:"connectedCallback",value:function connectedCallback(){this.setAttribute("role","menu"),this.setAttribute("aria-hidden",!this.opened),this.setAttribute("tabindex","0");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"opened"===t&&this.He();}},{key:"openOverElement",value:function openOverElement(t,e){var _this63=this;return new Promise(/*#__PURE__*/function(){var _ref33=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee37(i){var s,_i121,_n49,_o36,_l29,_h19,_a14,_t159,_e120,_t160,_e121,_t161,_this63$Ne,_this63$Ne2,_e122,_i122,_s80,_t162,_e123;return regeneratorRuntime.wrap(function _callee37$(_context37){while(1){switch(_context37.prev=_context37.next){case 0:s=_this63.querySelectorAll(":scope > x-menuitem");if(!(s.length>0)){_context37.next=12;break;}_this63.Me=!0,_this63.$e=Ys(),_this63.Fe(),_this63.setAttribute("opened","");_i121=_toConsumableArray(s).find(function(t){return t.contains(e);})||s[0],_n49=_this63.getBoundingClientRect(),_o36=t.getBoundingClientRect(),_l29=e.getBoundingClientRect(),_h19=0,_a14=0;if(_i121.focus(),0===_n49.top&&0===_n49.left||(_h19=-_n49.left,_a14=-_n49.top),_this63.style.left=_o36.x-(_l29.x-_n49.x)+_h19+"px",_this63.style.top=_o36.y-(_l29.y-_n49.y)+_a14+"px",_n49=_this63.getBoundingClientRect(),_n49.left<7&&(_this63.style.left=7+_h19+"px",_n49=_this63.getBoundingClientRect()),7-_n49.top>0&&(_this63.style.height=_n49.bottom-7+"px",_this63.style.top=7+_a14+"px",_this63.scrollTop=9999,_n49=_this63.getBoundingClientRect()),_n49.bottom+7>window.innerHeight){_t159=_n49.bottom-window.innerHeight,_e120=_n49.height-_t159-7;_this63.style.height=_e120+"px";}if(_n49.right+7>window.innerWidth){_t160=_n49.right-window.innerWidth,_e121=_n49.width-_t160-7;_this63.style.width="".concat(_e121,"px");}_t161=getComputedStyle(_this63).getPropertyValue("--open-transition"),_this63$Ne=_this63.Ne(_t161),_this63$Ne2=_slicedToArray(_this63$Ne,3),_e122=_this63$Ne2[0],_i122=_this63$Ne2[1],_s80=_this63$Ne2[2];if(!("transform"===_e122)){_context37.next=11;break;}_t162=_this63.getBoundingClientRect(),_e123=_o36.y+_o36.height/2-_t162.top;_context37.next=11;return _this63.animate({transform:["scaleY(0)","scaleY(1)"],transformOrigin:["0 ".concat(_e123,"px"),"0 ".concat(_e123,"px")]},{duration:_i122,easing:_s80}).finished;case 11:_this63.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:_this63})),_this63.Te=_a14;case 12:i();case 13:case"end":return _context37.stop();}}},_callee37);}));return function(_x29){return _ref33.apply(this,arguments);};}());}},{key:"openOverLabel",value:function openOverLabel(t){var _this64=this;return new Promise(/*#__PURE__*/function(){var _ref34=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee38(e){var i,_e124,_s81;return regeneratorRuntime.wrap(function _callee38$(_context38){while(1){switch(_context38.prev=_context38.next){case 0:i=_this64.querySelectorAll(":scope > x-menuitem");if(!(i.length>0)){_context38.next=8;break;}_this64.Fe(),_this64.setAttribute("opened",""),_this64.Me=!0,_this64.$e=Ys();_e124=_toConsumableArray(i).find(function(e){var i=e.querySelector("x-label");return!(!i||i.textContent!==t.textContent);});_e124||(_e124=i[0]);_s81=_e124.querySelector("x-label");_context38.next=8;return _this64.openOverElement(t,_s81);case 8:e();case 9:case"end":return _context38.stop();}}},_callee38);}));return function(_x30){return _ref34.apply(this,arguments);};}());}},{key:"openNextToElement",value:function openNextToElement(t){var _this65=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"horizontal";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return new Promise(/*#__PURE__*/function(){var _ref35=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee39(s){var n,o,l,h,a,_t163,_t164,_e125,_t165,_e126,_e127,_this65$Ne,_this65$Ne2,_i123,_s82,_n50,_e128,_t166,_t167,_t168,_t169,_t170,_t171,_this65$Ne3,_this65$Ne4,_i124,_s83,_n51;return regeneratorRuntime.wrap(function _callee39$(_context39){while(1){switch(_context39.prev=_context39.next){case 0:_this65.Me=!1,_this65.$e=Ys(),_this65.Fe(),_this65.setAttribute("opened",""),_this65.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:_this65})),"x-menuitem"===t.localName&&t.setAttribute("expanded","");n=getComputedStyle(_this65).getPropertyValue("--align").trim(),o=t.getBoundingClientRect(),l=_this65.getBoundingClientRect(),h=0,a=0;if(!(0===l.top&&0===l.left||(h=-l.left,a=-l.top),"horizontal"===e)){_context39.next=18;break;}_this65.style.top=o.top+a+"px",_this65.style.left=o.left+o.width+i+h+"px";_t163="right";_t164=_this65.getBoundingClientRect();_t164.width>window.innerWidth-10&&(_this65.style.width=window.innerWidth-10+"px"),_t164.height>window.innerHeight-10&&(_this65.style.height=window.innerHeight-10+"px");_e125=_this65.getBoundingClientRect();_e125.left+_e125.width+7>window.innerWidth&&(o.left>_e125.width+7?(_this65.style.left=o.left-_e125.width+h+"px",_t163="left"):o.left>window.innerWidth-(o.left+o.width)?(_this65.style.left=7+h+"px",_t163="left"):(_this65.style.left=window.innerWidth-_e125.width-7+h+"px",_t163="right"));_t165=_this65.getBoundingClientRect();if(_t165.top+_t165.height+7>window.innerHeight){_e126=_t165.top+_t165.height+7-window.innerHeight;_this65.style.top=_t165.top-_e126+a+"px";}_e127=getComputedStyle(_this65).getPropertyValue("--open-transition"),_this65$Ne=_this65.Ne(_e127),_this65$Ne2=_slicedToArray(_this65$Ne,3),_i123=_this65$Ne2[0],_s82=_this65$Ne2[1],_n50=_this65$Ne2[2];_context39.t0="transform"===_i123;if(!_context39.t0){_context39.next=16;break;}_context39.next=16;return _this65.animate({transform:["scale(0, 0)","scale(1, 1)"],transformOrigin:["left"===_t163?"100% 0":"0 0","left"===_t163?"100% 0":"0 0"]},{duration:_s82,easing:_n50}).finished;case 16:_context39.next=30;break;case 18:if(!("vertical"===e)){_context39.next=30;break;}_this65.style.top=o.top+o.height+i+a+"px",_this65.style.left="0px";_e128="bottom";_t166=_this65.getBoundingClientRect();_t166.width>window.innerWidth-10&&(_this65.style.width=window.innerWidth-10+"px"),_t166.height>window.innerHeight-10&&(_this65.style.height=window.innerHeight-10+"px");if(t.parentElement&&"x-menubar"===t.parentElement.localName){_t167=_this65.getBoundingClientRect();_t167.top+_t167.height+7>window.innerHeight&&(_this65.style.height=window.innerHeight-(o.top+o.height)-10+"px");}else{_t168=_this65.getBoundingClientRect();_t168.top+_t168.height+7>window.innerHeight&&(o.top>_t168.height+7?(_this65.style.top=o.top-_t168.height-i+a+"px",_e128="top"):o.top>window.innerHeight-(o.top+o.height)?(_this65.style.top=7+a+"px",_e128="top"):(_this65.style.top=window.innerHeight-_t168.height-7+a+"px",_e128="bottom"));}if("start"===n){_this65.style.left=o.left+h+"px";{_t169=_this65.getBoundingClientRect();_t169.left+_t169.width+7>window.innerWidth&&(_this65.style.left=o.left+o.width-_t169.width+h+"px");}_this65.getBoundingClientRect().left<7&&(_this65.style.left=7+h+"px");}else if("end"===n){_this65.style.left=o.left+o.width-l.width+h+"px",_this65.getBoundingClientRect().left<7&&(_this65.style.left=o.left+h+"px");{_t170=_this65.getBoundingClientRect();_t170.left+_t170.width+7>window.innerWidth&&(_this65.style.left=window.innerWidth-7+h+"px");}}_t171=getComputedStyle(_this65).getPropertyValue("--open-transition"),_this65$Ne3=_this65.Ne(_t171),_this65$Ne4=_slicedToArray(_this65$Ne3,3),_i124=_this65$Ne4[0],_s83=_this65$Ne4[1],_n51=_this65$Ne4[2];_context39.t1="transform"===_i124;if(!_context39.t1){_context39.next=30;break;}_context39.next=30;return _this65.animate({transform:["scale(1, 0)","scale(1, 1)"],transformOrigin:["top"===_e128?"0 100%":"0 0","top"===_e128?"0 100%":"0 0"]},{duration:_s83,easing:_n51}).finished;case 30:_this65.Te=a,s();case 31:case"end":return _context39.stop();}}},_callee39);}));return function(_x31){return _ref35.apply(this,arguments);};}());}},{key:"openAtPoint",value:function openAtPoint(t,e){var _this66=this;return new Promise(/*#__PURE__*/function(){var _ref36=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee40(i){var s,n,o,_t172,_this66$Ne,_this66$Ne2,_e129,_i125,_s84;return regeneratorRuntime.wrap(function _callee40$(_context40){while(1){switch(_context40.prev=_context40.next){case 0:_this66.Me=!1,_this66.$e=Ys(),_this66.Fe(),_this66.setAttribute("opened",""),_this66.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:_this66}));s=_this66.getBoundingClientRect(),n=0,o=0;0===s.top&&0===s.left||(n=-s.left,o=-s.top),_this66.style.left=t+n+"px",_this66.style.top=e+o+"px",s=_this66.getBoundingClientRect(),s.right+7>window.innerWidth&&(t-=s.width,_this66.style.left=t+n+"px",s=_this66.getBoundingClientRect()),s.bottom+7>window.innerHeight&&(e=e+window.innerHeight-(s.top+s.height)-7,_this66.style.top=e+o+"px",s=_this66.getBoundingClientRect(),s.top<7&&(e=7,_this66.style.top=e+o+"px",_this66.style.height=window.innerHeight-7-7+"px"));_t172=getComputedStyle(_this66).getPropertyValue("--open-transition"),_this66$Ne=_this66.Ne(_t172),_this66$Ne2=_slicedToArray(_this66$Ne,3),_e129=_this66$Ne2[0],_i125=_this66$Ne2[1],_s84=_this66$Ne2[2];_context40.t0="transform"===_e129;if(!_context40.t0){_context40.next=8;break;}_context40.next=8;return _this66.animate({transform:["scale(0)","scale(1)"],transformOrigin:["0 0","0 0"]},{duration:80,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"}).finished;case 8:_this66.Te=o,i();case 9:case"end":return _context40.stop();}}},_callee40);}));return function(_x32){return _ref36.apply(this,arguments);};}());}},{key:"close",value:function close(){var _this67=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;return new Promise(/*#__PURE__*/function(){var _ref37=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee41(e){var _e130,_t173,_this67$Ne,_this67$Ne2,_e131,_i126,_s85,_iterator97,_step97,_t174,_e132;return regeneratorRuntime.wrap(function _callee41$(_context41){while(1){switch(_context41.prev=_context41.next){case 0:if(!_this67.opened){_context41.next=13;break;}_this67.removeAttribute("opened"),_this67.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:_this67}));_e130=_this67.closest("x-menuitem");if(!(_e130&&_e130.removeAttribute("expanded"),t)){_context41.next=11;break;}_this67.setAttribute("animating","");_t173=getComputedStyle(_this67).getPropertyValue("--close-transition"),_this67$Ne=_this67.Ne(_t173),_this67$Ne2=_slicedToArray(_this67$Ne,3),_e131=_this67$Ne2[0],_i126=_this67$Ne2[1],_s85=_this67$Ne2[2];_context41.t0="opacity"===_e131;if(!_context41.t0){_context41.next=10;break;}_context41.next=10;return _this67.animate({opacity:["1","0"]},{duration:_i126,easing:_s85}).finished;case 10:_this67.removeAttribute("animating");case 11:_iterator97=_createForOfIteratorHelper(_this67.querySelectorAll(":scope > x-menuitem"));try{for(_iterator97.s();!(_step97=_iterator97.n()).done;){_t174=_step97.value;_e132=_t174.querySelector("x-menu[opened]");_e132&&_e132.close();}}catch(err){_iterator97.e(err);}finally{_iterator97.f();}case 13:e();case 14:case"end":return _context41.stop();}}},_callee41);}));return function(_x33){return _ref37.apply(this,arguments);};}());}},{key:"focusNextMenuItem",value:function focusNextMenuItem(){var t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){var _e133=null;for(var _i127=t.nextElementSibling;_i127;_i127=_i127.nextElementSibling){if("x-menuitem"===_i127.localName&&!1===_i127.disabled&&!1===_i127.hidden){_e133=_i127;break;}}if(null===_e133&&null!=t.parentElement){var _iterator98=_createForOfIteratorHelper(t.parentElement.children),_step98;try{for(_iterator98.s();!(_step98=_iterator98.n()).done;){var _i128=_step98.value;if("x-menuitem"===_i128.localName&&!1===_i128.disabled&&!1===_i128.hidden){_e133=_i128;break;}}}catch(err){_iterator98.e(err);}finally{_iterator98.f();}}if(_e133){_e133.focus();var _i129=t.querySelector("x-menu");_i129&&_i129.close();}}else this.focusFirstMenuItem();}},{key:"focusPreviousMenuItem",value:function focusPreviousMenuItem(){var t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){var _e134=null;for(var _i130=t.previousElementSibling;_i130;_i130=_i130.previousElementSibling){if("x-menuitem"===_i130.localName&&!1===_i130.disabled&&!1===_i130.hidden){_e134=_i130;break;}}if(null===_e134&&null!=t.parentElement){var _iterator99=_createForOfIteratorHelper(_toConsumableArray(t.parentElement.children).reverse()),_step99;try{for(_iterator99.s();!(_step99=_iterator99.n()).done;){var _i131=_step99.value;if("x-menuitem"===_i131.localName&&!1===_i131.disabled&&!1===_i131.hidden){_e134=_i131;break;}}}catch(err){_iterator99.e(err);}finally{_iterator99.f();}}if(_e134){_e134.focus();var _i132=t.querySelector("x-menu");_i132&&_i132.close();}}else this.focusLastMenuItem();}},{key:"focusFirstMenuItem",value:function focusFirstMenuItem(){var t=this.querySelectorAll("x-menuitem:not([disabled]):not([hidden])")[0]||null;t&&t.focus();}},{key:"focusLastMenuItem",value:function focusLastMenuItem(){var t=this.querySelectorAll("x-menuitem:not([disabled]):not([hidden])"),e=t.length>0?t[t.length-1]:null;e&&e.focus();}},{key:"qe",value:function qe(t){var _this68=this;var e=0;{var _t175=this.Se[this.Se.length-1],_i133=this.Se[0];if(this.querySelector("x-menu[opened]")&&_t175){_i133||(_i133=_t175);var _s86=this.getBoundingClientRect(),_n52={x:_s86.left,y:_s86.top-75},_o37={x:_s86.left+_s86.width,y:_n52.y},_l30={x:_s86.left,y:_s86.top+_s86.height+75},_h20={x:_s86.left+_s86.width,y:_l30.y},_a15=!0;if((_i133.x<_s86.left||_i133.x>_h20.x||_i133.y<_s86.top||_i133.y>_h20.y)&&(_a15=!1),this.Ae&&_t175.x===this.Ae.x&&_t175.y===this.Ae.y&&(_a15=!1),_a15){var _s87,_n53;_s87=_o37,_n53=_h20;var _l31=function _l31(t,e){return(e.y-t.y)/(e.x-t.x);},_a16=_l31(_t175,_s87),_r10=_l31(_t175,_n53),_d5=_l31(_i133,_s87),_c3=_l31(_i133,_n53);_a16<_d5&&_r10>_c3?(this.Ae=_t175,e=300):this.Ae=null;}}}e>0?this.Ee=setTimeout(function(){_this68.qe(t);},e):t();}},{key:"Ue",value:function Ue(){this.Ee&&(clearTimeout(this.Ee),this.Ee=null);}},{key:"Fe",value:function Fe(){this.style.position="fixed",this.style.top="0px",this.style.left="0px",this.style.width=null,this.style.height=null,this.style.minWidth=null,this.style.maxWidth=null;}},{key:"je",value:function je(){return this.matches("*[closing], *[closing] x-menu");}},{key:"Ne",value:function Ne(t){var _t$trim$split=t.trim().split(" "),_t$trim$split2=_toArray(_t$trim$split),e=_t$trim$split2[0],i=_t$trim$split2[1],s=_t$trim$split2.slice(2);return[i,parseFloat(e),s.join(" ")];}},{key:"He",value:function He(){this.setAttribute("aria-hidden",!this.opened);}},{key:"zt",value:function zt(t){var _this69=this;if(t.target!==this&&"hr"!==t.target.localName||t.stopPropagation(),"touch"===t.pointerType&&t.target.closest("x-menu")===this){!1===this.De&&this.Ke();{var _e135=t.target.closest("x-menuitem");_e135&&!1===_e135.disabled&&_e135.closest("x-menu")===this?!1===_e135.matches(":focus")&&this.qe(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee42(){var t,_e136,i,s,_iterator100,_step100,_t176,_e137;return regeneratorRuntime.wrap(function _callee42$(_context42){while(1){switch(_context42.prev=_context42.next){case 0:t=_this69.querySelector(":scope > x-menuitem:focus");if(t){_e136=t.querySelector("x-menu");_e136&&_e136.close();}_e135.closest("x-menu");i=_e135.querySelector("x-menu"),s=_toConsumableArray(_this69.querySelectorAll(":scope > x-menuitem")).filter(function(t){return t!==_e135;});_context42.t0=i;if(!_context42.t0){_context42.next=9;break;}_context42.next=8;return Hs(60);case 8:_e135.matches(":focus")&&!1===i.opened&&i.openNextToElement(_e135,"horizontal");case 9:_iterator100=_createForOfIteratorHelper(s);try{for(_iterator100.s();!(_step100=_iterator100.n()).done;){_t176=_step100.value;_e137=_t176.querySelector("x-menu");_e137&&_e137.close();}}catch(err){_iterator100.e(err);}finally{_iterator100.f();}case 11:case"end":return _context42.stop();}}},_callee42);}))):this.qe(function(){_this69.focus();});}}}},{key:"Pe",value:function Pe(t){var _this70=this;if(!this.je()&&"touch"!==t.pointerType&&t.target.closest("x-menu")===this){!1===this.De&&this.Ke();{var _e138=t.target.closest("x-menuitem");_e138&&!1===_e138.disabled&&_e138.closest("x-menu")===this?!1===_e138.matches(":focus")&&this.qe(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee43(){var t,_e139,i,s,_iterator101,_step101,_t177,_e140;return regeneratorRuntime.wrap(function _callee43$(_context43){while(1){switch(_context43.prev=_context43.next){case 0:t=_this70.querySelector(":scope > x-menuitem:focus");if(t){_e139=t.querySelector("x-menu");_e139&&_e139.close();}_e138.focus(),_e138.closest("x-menu");i=_e138.querySelector("x-menu"),s=_toConsumableArray(_this70.querySelectorAll(":scope > x-menuitem")).filter(function(t){return t!==_e138;});_context43.t0=i;if(!_context43.t0){_context43.next=9;break;}_context43.next=8;return Hs(60);case 8:_e138.matches(":focus")&&!1===i.opened&&i.openNextToElement(_e138,"horizontal");case 9:_iterator101=_createForOfIteratorHelper(s);try{for(_iterator101.s();!(_step101=_iterator101.n()).done;){_t177=_step101.value;_e140=_t177.querySelector("x-menu");_e140&&_e140.close();}}catch(err){_iterator101.e(err);}finally{_iterator101.f();}case 11:case"end":return _context43.stop();}}},_callee43);}))):this.qe(function(){_this70.focus();});}}}},{key:"Re",value:function Re(t){t.relatedTarget&&js(t.relatedTarget,"x-menu")===this||!0===this.De&&this.Xe();}},{key:"Ke",value:function Ke(){this.je()||(this.De=!0,this.Ue());}},{key:"Xe",value:function Xe(){this.je()||(this.De=!1,this.Ue(),this.focus());}},{key:"Ie",value:function Ie(t){this.Se.push({x:t.clientX,y:t.clientY}),this.Se.length>3&&this.Se.shift();}},{key:"Oe",value:function Oe(t){t.target.closest("x-menu")===this?(t.preventDefault(),this.scrollTop=this.scrollTop+t.deltaY,this.De=!0):this.De=!1;}},{key:"Be",value:function Be(){if(this.Me){var _t178=this.scrollTop-this.Le;if(this.Le=this.scrollTop,Ys()-this.$e>100){var _e141=this.getBoundingClientRect();_t178<0?_e141.bottom+cn(_t178)<=window.innerHeight-7?this.style.height=_e141.height+cn(_t178)+"px":this.style.height=window.innerHeight-14+"px":_t178>0&&(_e141.top-_t178>=7?(this.style.top=this.Te+_e141.top-_t178+"px",this.style.height=_e141.height+_t178+"px",this.scrollTop=0,this.Le=0):(this.style.top=7+this.Te+"px",this.style.height=window.innerHeight-14+"px"));}}}},{key:"kt",value:function kt(t){if(this.je())t.preventDefault(),t.stopPropagation();else if("ArrowUp"===t.key)t.preventDefault(),t.stopPropagation(),this.focusPreviousMenuItem();else if("ArrowDown"===t.key)t.preventDefault(),t.stopPropagation(),this.focusNextMenuItem();else if("ArrowRight"===t.code||"Enter"===t.code||"Space"===t.code){var _e142=this.querySelector("x-menuitem:focus");if(_e142){var _i134=_e142.querySelector("x-menu");if(_i134){t.preventDefault(),t.stopPropagation(),!1===_i134.opened&&_i134.openNextToElement(_e142,"horizontal");var _s88=_i134.querySelector("x-menuitem:not([disabled]):not([hidden])");_s88&&_s88.focus();}}}else if("ArrowLeft"===t.code){var _e143=this.querySelector("x-menuitem:focus");if(_e143){var _i135=_e143.closest("x-menu").closest("x-menuitem");_i135&&_i135.closest("x-menu")&&(t.preventDefault(),t.stopPropagation(),_i135.focus(),this.close());}}}}]);return pn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(pn,"observedAttributes",["opened"]);_defineProperty(pn,"_shadowTemplate",zs(_templateObject138()));_defineProperty(pn,"_shadowStyleSheet",Os(_templateObject139()));customElements.define("x-menu",pn);var un=/*#__PURE__*/function(_HTMLElement17){_inherits(un,_HTMLElement17);var _super18=_createSuper(un);_createClass(un,[{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function un(){var _temp20,_this71;_classCallCheck(this,un);(_temp20=_this71=_super18.call(this),_defineProperty(_assertThisInitialized(_this71),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this71),"I",{}),_defineProperty(_assertThisInitialized(_this71),"Ve",!1),_defineProperty(_assertThisInitialized(_this71),"Ze",null),_defineProperty(_assertThisInitialized(_this71),"B",null),_temp20),_this71._shadowRoot=_this71.attachShadow({mode:"closed"}),_this71._shadowRoot.adoptedStyleSheets=[un._shadowStyleSheet],_this71._shadowRoot.append(document.importNode(un._shadowTemplate.content,!0));var _iterator102=_createForOfIteratorHelper(_this71._shadowRoot.querySelectorAll("[id]")),_step102;try{for(_iterator102.s();!(_step102=_iterator102.n()).done;){var _t179=_step102.value;_this71.I[_t179.id]=_t179;}}catch(err){_iterator102.e(err);}finally{_iterator102.f();}_this71.addEventListener("focusout",function(t){return _this71.xe(t);}),_this71._shadowRoot.addEventListener("pointerover",function(t){return _this71.Ge(t);}),_this71._shadowRoot.addEventListener("click",function(t){return _this71.Ye(t);}),_this71._shadowRoot.addEventListener("wheel",function(t){return _this71.We(t);}),_this71._shadowRoot.addEventListener("keydown",function(t){return _this71.Je(t);});return _this71;}_createClass(un,[{key:"connectedCallback",value:function connectedCallback(){var _this72=this;this.setAttribute("role","menubar"),this.setAttribute("aria-disabled",this.disabled),this.U(),$s.addEventListener("sizechange",this.B=function(){_this72.U();}),window.addEventListener("orientationchange",this.Ze=function(){_this72.Qe();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.B),window.removeEventListener("orientationchange",this.Ze);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t?this.qt():"size"===t&&this.U();}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ti",value:function ti(t){var e=t.querySelector(":scope > x-menu");if(e&&!1===e.opened){t.focus(),this.Ve=!0,this.style.touchAction="none";{e.openNextToElement(t,"vertical");var _i136=_toConsumableArray(this.querySelectorAll(":scope > x-menuitem > x-menu")).filter(function(t){return t!==e;});var _iterator103=_createForOfIteratorHelper(_i136),_step103;try{for(_iterator103.s();!(_step103=_iterator103.n()).done;){var _t180=_step103.value;_t180&&_t180.close(!1);}}catch(err){_iterator103.e(err);}finally{_iterator103.f();}}{var _this$getBoundingClie=this.getBoundingClientRect(),_t181=_this$getBoundingClie.x,_e144=_this$getBoundingClie.y,_i137=_this$getBoundingClie.width,_s89=_this$getBoundingClie.height;this.I["backdrop-path"].setAttribute("d","\n          M 0 0\n          L ".concat(window.innerWidth," 0\n          L ").concat(window.innerWidth," ").concat(window.innerHeight,"\n          L 0 ").concat(window.innerHeight,"\n          L 0 0\n          M ").concat(_t181," ").concat(_e144,"\n          L ").concat(_t181+_i137," ").concat(_e144,"\n          L ").concat(_t181+_i137," ").concat(_e144+_s89,"\n          L ").concat(_t181," ").concat(_e144+_s89,"\n        ")),this.I.backdrop.removeAttribute("hidden");}}}},{key:"ei",value:function ei(){var _this73=this;return new Promise(/*#__PURE__*/function(){var _ref40=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee44(t){var _t182,_iterator104,_step104,_e145,e;return regeneratorRuntime.wrap(function _callee44$(_context44){while(1){switch(_context44.prev=_context44.next){case 0:_this73.Ve=!1,_this73.style.touchAction=null,_this73.I.backdrop.setAttribute("hidden",""),_this73.I["backdrop-path"].setAttribute("d","");_t182=_this73.querySelectorAll(":scope > x-menuitem > x-menu[opened]");_iterator104=_createForOfIteratorHelper(_t182);_context44.prev=3;_iterator104.s();case 5:if((_step104=_iterator104.n()).done){_context44.next=11;break;}_e145=_step104.value;_context44.next=9;return _e145.close(!0);case 9:_context44.next=5;break;case 11:_context44.next=16;break;case 13:_context44.prev=13;_context44.t0=_context44["catch"](3);_iterator104.e(_context44.t0);case 16:_context44.prev=16;_iterator104.f();return _context44.finish(16);case 19:e=_this73.querySelector("x-menuitem:focus");e&&e.blur(),t();case 21:case"end":return _context44.stop();}}},_callee44,null,[[3,13,16,19]]);}));return function(_x34){return _ref40.apply(this,arguments);};}());}},{key:"ii",value:function ii(){var t=_toConsumableArray(this.querySelectorAll(":scope > x-menuitem:not([disabled])")),e=this.querySelector(":focus").closest("x-menubar > x-menuitem");if(t.length>1&&e){var _i138=t.indexOf(e),_s90=t[_i138-1]||t[t.length-1];this.ti(_s90);}}},{key:"si",value:function si(){var t=_toConsumableArray(this.querySelectorAll(":scope > x-menuitem:not([disabled])")),e=this.querySelector(":focus").closest("x-menubar > x-menuitem");if(e&&t.length>1){var _i139=t.indexOf(e),_s91=t[_i139+1]||t[0];this.ti(_s91);}}},{key:"qt",value:function qt(){this.setAttribute("aria-disabled",this.disabled);}},{key:"xe",value:function xe(t){null!==t.relatedTarget&&!1!==this.contains(t.relatedTarget)||this.ei();}},{key:"Qe",value:function Qe(){this.ei();}},{key:"We",value:function We(t){var e=this.querySelector("x-menu[opened]");e&&!1===e.contains(t.target)&&t.preventDefault();}},{key:"Ye",value:function(){var _Ye=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee45(t){var e,i,_t183;return regeneratorRuntime.wrap(function _callee45$(_context45){while(1){switch(_context45.prev=_context45.next){case 0:if(!this.hasAttribute("closing")){_context45.next=2;break;}return _context45.abrupt("return");case 2:e=t.target.closest("x-menuitem"),i=t.target.closest("x-menu");if(!(!e||!1!==e.disabled||i&&!i.contains(e))){_context45.next=7;break;}t.target===this.I["backdrop-path"]&&(this.ei(),t.preventDefault(),t.stopPropagation());_context45.next=22;break;case 7:_t183=e.querySelector("x-menu");if(!(e.parentElement===this)){_context45.next=12;break;}_t183&&(_t183.opened?this.ei():this.ti(e));_context45.next=22;break;case 12:if(!_t183){_context45.next=16;break;}_t183.opened&&!1===_t183.opened&&_t183.openNextToElement(e,"horizontal");_context45.next=22;break;case 16:this.setAttribute("closing","");_context45.next=19;return e.whenTriggerEnd;case 19:_context45.next=21;return this.ei();case 21:this.removeAttribute("closing");case 22:case"end":return _context45.stop();}}},_callee45,this);}));function Ye(_x35){return _Ye.apply(this,arguments);}return Ye;}()},{key:"Ge",value:function Ge(t){if(this.hasAttribute("closing"))return;var e=t.target.closest("x-menuitem");null===t.target.closest("x-menu")&&e&&e.parentElement===this&&this.Ve&&"touch"!==t.pointerType&&(!1===e.hasAttribute("expanded")?this.ti(e):e.focus());}},{key:"Je",value:function Je(t){if(this.hasAttribute("closing"))t.stopPropagation(),t.preventDefault();else if("Enter"===t.code||"Space"===t.code){var _e146=this.querySelector(":scope > x-menuitem:focus");_e146&&(t.preventDefault(),_e146.click());}else if("Escape"===t.code)this.Ve&&(t.preventDefault(),this.ei());else if("Tab"===t.code){var _t184=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(_t184){_t184.focus();var _e147=_t184.querySelector(":scope > x-menu");_e147&&(_e147.tabIndex=-1,_e147.close().then(function(){_e147.tabIndex=-1;}));}}else if("ArrowRight"===t.code)this.si();else if("ArrowLeft"===t.code)this.ii();else if("ArrowDown"===t.code){var _e148=this.querySelector("x-menuitem:focus > x-menu");_e148&&(t.preventDefault(),_e148.focusFirstMenuItem());}else if("ArrowUp"===t.code){var _e149=this.querySelector("x-menuitem:focus > x-menu");_e149&&(t.preventDefault(),_e149.focusLastMenuItem());}}}]);return un;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(un,"observedAttributes",["disabled","size"]);_defineProperty(un,"_shadowTemplate",zs(_templateObject140()));_defineProperty(un,"_shadowStyleSheet",Os(_templateObject141()));customElements.define("x-menubar",un);var xn=Math.max;var bn=/*#__PURE__*/function(_HTMLElement18){_inherits(bn,_HTMLElement18);var _super19=_createSuper(bn);_createClass(bn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){this.value!==t&&(null===t?this.removeAttribute("value"):this.setAttribute("value",t));}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"togglable",get:function get(){return this.hasAttribute("togglable");},set:function set(t){t?this.setAttribute("togglable",""):this.removeAttribute("togglable");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}},{key:"whenTriggerEnd",get:function get(){var _this75=this;return new Promise(function(t){0===_this75.I.ripples.childElementCount&&!1===_this75.hi?t():_this75.ni.push(t);});}}]);function bn(){var _temp21,_this74;_classCallCheck(this,bn);(_temp21=_this74=_super19.call(this),_defineProperty(_assertThisInitialized(_this74),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this74),"I",{}),_defineProperty(_assertThisInitialized(_this74),"yt",0),_defineProperty(_assertThisInitialized(_this74),"hi",!1),_defineProperty(_assertThisInitialized(_this74),"ni",[]),_defineProperty(_assertThisInitialized(_this74),"oi",!1),_defineProperty(_assertThisInitialized(_this74),"B",null),_defineProperty(_assertThisInitialized(_this74),"li",new MutationObserver(function(){return _this74.ai();})),_temp21),_this74._shadowRoot=_this74.attachShadow({mode:"closed"}),_this74._shadowRoot.adoptedStyleSheets=[bn._shadowStyleSheet],_this74._shadowRoot.append(document.importNode(bn._shadowTemplate.content,!0)),_this74.addEventListener("pointerdown",function(t){return _this74.zt(t);}),_this74.addEventListener("click",function(t){return _this74.N(t);}),_this74.addEventListener("keydown",function(t){return _this74.kt(t);});var _iterator105=_createForOfIteratorHelper(_this74._shadowRoot.querySelectorAll("[id]")),_step105;try{for(_iterator105.s();!(_step105=_iterator105.n()).done;){var _t185=_step105.value;_this74.I[_t185.id]=_t185;}}catch(err){_iterator105.e(err);}finally{_iterator105.f();}return _this74;}_createClass(bn,[{key:"connectedCallback",value:function connectedCallback(){var _this76=this;this.ai(),this.Ct(),this.U(),this.li.observe(this,{childList:!0,attributes:!1,characterData:!1,subtree:!1}),$s.addEventListener("sizechange",this.B=function(){return _this76.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.li.disconnect(),$s.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t?this.Ct():"size"===t&&this.U();}},{key:"ai",value:function ai(){"x-menubar"===this.parentElement.localName?this.I.arrow.setAttribute("hidden",""):this.querySelector("x-menu")?this.I.arrow.removeAttribute("hidden"):this.I.arrow.setAttribute("hidden","");}},{key:"Ct",value:function Ct(){this.setAttribute("role","menuitem"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"zt",value:function(){var _zt=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee47(t){var _this77=this;var _e150,_i140,_e151,_i141,_s92,_n54,_o38,_l32,_h21,_a17,_iterator106,_step106,_t186;return regeneratorRuntime.wrap(function _callee47$(_context47){while(1){switch(_context47.prev=_context47.next){case 0:if(!(this.oi=this.matches(":focus"),1!==t.buttons)){_context47.next=2;break;}return _context47.abrupt("return",!1);case 2:if(!this.matches("[closing] x-menuitem")){_context47.next=4;break;}return _context47.abrupt("return",(t.preventDefault(),void t.stopPropagation()));case 4:if(!(t.target.closest("x-menuitem")===this)){_context47.next=23;break;}this.setPointerCapture(t.pointerId);_e150=Date.now(),_i140=!0;this.addEventListener("lostpointercapture",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee46(){var s,n;return regeneratorRuntime.wrap(function _callee46$(_context46){while(1){switch(_context46.prev=_context46.next){case 0:_i140=!1;s=Date.now()-_e150,n="touch"===t.pointerType?600:150;_context46.t0=s<n;if(!_context46.t0){_context46.next=6;break;}_context46.next=6;return Hs(n-s);case 6:_this77.removeAttribute("pressed");case 7:case"end":return _context46.stop();}}},_callee46);})),{once:!0}),_i140&&this.setAttribute("pressed","");if(!("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context47.next=23;break;}_e151=this.I.ripples.getBoundingClientRect(),_i141=1.5*xn(_e151.width,_e151.height),_s92=t.clientY-_e151.y-_i141/2,_n54=t.clientX-_e151.x-_i141/2,_o38=new Promise(function(t){return _this77.addEventListener("lostpointercapture",t,{once:!0});}),_l32=Vs("div");_l32.setAttribute("part","ripple"),_l32.setAttribute("class","ripple pointer-down-ripple"),_l32.setAttribute("style","width: ".concat(_i141,"px; height: ").concat(_i141,"px; top: ").concat(_s92,"px; left: ").concat(_n54,"px;")),this.I.ripples.append(_l32),this.setPointerCapture(t.pointerId);_h21=_l32.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context47.next=14;return _o38;case 14:_context47.next=16;return _h21.finished;case 16:_a17=_l32.animate({opacity:[getComputedStyle(_l32).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context47.next=19;return _a17.finished;case 19:_l32.remove();if(!(0===this.I.ripples.childElementCount)){_context47.next=23;break;}_iterator106=_createForOfIteratorHelper(this.ni);try{for(_iterator106.s();!(_step106=_iterator106.n()).done;){_t186=_step106.value;_t186();}}catch(err){_iterator106.e(err);}finally{_iterator106.f();}case 23:case"end":return _context47.stop();}}},_callee47,this);}));function zt(_x36){return _zt.apply(this,arguments);}return zt;}()},{key:"N",value:function(){var _N4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee48(t){var _t187,_t188,_t189,_e152,_i142,_s93,_n55,_o39,_l33,_iterator107,_step107,_t190,_iterator108,_step108,_t191,_iterator109,_step109,_t192;return regeneratorRuntime.wrap(function _callee48$(_context48){while(1){switch(_context48.prev=_context48.next){case 0:if(t.button>0||t.target.closest("x-menuitem")!==this||t.target.closest("x-menu")!==this.closest("x-menu")||this.matches("[closing] x-menuitem")){_context48.next=50;break;}if(this.togglable){_t187=new CustomEvent("toggle",{bubbles:!0,cancelable:!0});this.dispatchEvent(_t187),!1===_t187.defaultPrevented&&(this.toggled=!this.toggled);}if(this.querySelector(":scope > x-menu")){_context48.next=50;break;}_t188=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if(!("ripple"===_t188)){_context48.next=21;break;}if(!(null===this.I.ripples.querySelector(".pointer-down-ripple"))){_context48.next=19;break;}_t189=this.I.ripples.getBoundingClientRect(),_e152=1.5*xn(_t189.width,_t189.height),_i142=_t189.y+_t189.height/2-_t189.y-_e152/2,_s93=_t189.x+_t189.width/2-_t189.x-_e152/2,_n55=Vs("div");_n55.setAttribute("part","ripple"),_n55.setAttribute("class","ripple click-ripple"),_n55.setAttribute("style","width: ".concat(_e152,"px; height: ").concat(_e152,"px; top: ").concat(_i142,"px; left: ").concat(_s93,"px;")),this.I.ripples.append(_n55);_o39=_n55.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context48.next=11;return _o39.finished;case 11:_l33=_n55.animate({opacity:[getComputedStyle(_n55).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context48.next=14;return _l33.finished;case 14:_n55.remove();if(!(0===this.I.ripples.childElementCount)){_context48.next=19;break;}_iterator107=_createForOfIteratorHelper(this.ni);try{for(_iterator107.s();!(_step107=_iterator107.n()).done;){_t190=_step107.value;_t190();}}catch(err){_iterator107.e(err);}finally{_iterator107.f();}this.ni=[];case 19:_context48.next=50;break;case 21:if(!("blink"===_t188)){_context48.next=43;break;}this.hi=!0;if(!this.oi){_context48.next=32;break;}this.parentElement.focus();_context48.next=27;return Hs(150);case 27:this.focus();_context48.next=30;return Hs(150);case 30:_context48.next=38;break;case 32:this.focus();_context48.next=35;return Hs(150);case 35:this.parentElement.focus();_context48.next=38;return Hs(150);case 38:_iterator108=_createForOfIteratorHelper(this.ni);try{for(_iterator108.s();!(_step108=_iterator108.n()).done;){_t191=_step108.value;_t191();}}catch(err){_iterator108.e(err);}finally{_iterator108.f();}this.ni=[],this.hi=!1;_context48.next=50;break;case 43:if(!("none"===_t188)){_context48.next=50;break;}this.hi=!0;_context48.next=47;return Hs(150);case 47:_iterator109=_createForOfIteratorHelper(this.ni);try{for(_iterator109.s();!(_step109=_iterator109.n()).done;){_t192=_step109.value;_t192();}}catch(err){_iterator109.e(err);}finally{_iterator109.f();}this.ni=[],this.hi=!1;case 50:case"end":return _context48.stop();}}},_callee48,this);}));function N(_x37){return _N4.apply(this,arguments);}return N;}()},{key:"kt",value:function kt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.querySelector("x-menu")||(t.stopPropagation(),this.click()));}}]);return bn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(bn,"observedAttributes",["disabled","size"]);_defineProperty(bn,"_shadowTemplate",zs(_templateObject142()));_defineProperty(bn,"_shadowStyleSheet",Os(_templateObject143()));customElements.define("x-menuitem",bn);var mn=/*#__PURE__*/function(_HTMLElement19){_inherits(mn,_HTMLElement19);var _super20=_createSuper(mn);_createClass(mn,[{key:"opened",get:function get(){return this.hasAttribute("opened");},set:function set(t){!0===t?this.setAttribute("opened",""):this.removeAttribute("opened"),this.ri=0;}},{key:"timeout",get:function get(){return this.hasAttribute("timeout")?parseFloat(this.getAttribute("timeout")):0;},set:function set(t){this.setAttribute("timeout",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function mn(){var _temp22,_this78;_classCallCheck(this,mn);(_temp22=_this78=_super20.call(this),_defineProperty(_assertThisInitialized(_this78),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this78),"ri",0),_defineProperty(_assertThisInitialized(_this78),"di",null),_defineProperty(_assertThisInitialized(_this78),"B",null),_defineProperty(_assertThisInitialized(_this78),"ui",null),_temp22),_this78._shadowRoot=_this78.attachShadow({mode:"closed"}),_this78._shadowRoot.adoptedStyleSheets=[mn._shadowStyleSheet],_this78._shadowRoot.append(document.importNode(mn._shadowTemplate.content,!0));return _this78;}_createClass(mn,[{key:"connectedCallback",value:function connectedCallback(){var _this79=this;this.setAttribute("tabindex","0"),this.U(),$s.addEventListener("sizechange",this.B=function(){return _this79.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("opened"===t?this.opened?this.ci():this.pi():"size"===t&&this.U());}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ci",value:function ci(){var _this80=this;if(this.isConnected){var _t193=0-this.getBoundingClientRect().height-10+"px",_e153=getComputedStyle(this).bottom;this.animate({bottom:[_t193,_e153]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});}{this.ri=0,this.di=setInterval(function(){_this80.ri+=100,_this80.timeout>0&&_this80.ri>_this80.timeout&&(_this80.opened=!1);},100);var _t194=Ys();window.addEventListener("pointerdown",this.ui=function(e){var i=Ys(),s=_this80.getBoundingClientRect();i-_t194>10&&!1===function(t,e){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height;}(s,new DOMPoint(e.clientX,e.clientY))&&(_this80.opened=!1);},!0);}}},{key:"pi",value:function(){var _pi=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee49(){var _t195,_e154,_i143;return regeneratorRuntime.wrap(function _callee49$(_context49){while(1){switch(_context49.prev=_context49.next){case 0:if(!(clearInterval(this.di),this.isConnected)){_context49.next=6;break;}this.setAttribute("animating","");_t195=getComputedStyle(this).bottom,_e154=0-this.getBoundingClientRect().height-10+"px",_i143=this.animate({bottom:[_t195,_e154]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context49.next=5;return _i143.finished;case 5:this.removeAttribute("animating");case 6:window.removeEventListener("pointerdown",this.ui,!0);case 7:case"end":return _context49.stop();}}},_callee49,this);}));function pi(){return _pi.apply(this,arguments);}return pi;}()}]);return mn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(mn,"observedAttributes",["opened","size"]);_defineProperty(mn,"_shadowTemplate",zs(_templateObject144()));_defineProperty(mn,"_shadowStyleSheet",Os(_templateObject145()));customElements.define("x-notification",mn);var gn=Number.isFinite,fn=Number.isNaN,wn=Number.parseFloat,vn=Number.isFinite;var yn=["0","1","2","3","4","5","6","7","8","9","-","+",",","."];var kn=/*#__PURE__*/function(_HTMLElement20){_inherits(kn,_HTMLElement20);var _super21=_createSuper(kn);_createClass(kn,[{key:"value",get:function get(){return this.hasAttribute("value")?parseFloat(this.getAttribute("value")):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"min",get:function get(){return this.hasAttribute("min")?parseFloat(this.getAttribute("min")):-Infinity;},set:function set(t){vn(t)?this.setAttribute("min",t):this.removeAttribute("min");}},{key:"max",get:function get(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):Infinity;},set:function set(t){vn(t)?this.setAttribute("max",t):this.removeAttribute("max");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"precision",get:function get(){return this.hasAttribute("precision")?parseFloat(this.getAttribute("precision")):20;},set:function set(t){this.setAttribute("precision",t);}},{key:"step",get:function get(){return this.hasAttribute("step")?parseFloat(this.getAttribute("step")):1;},set:function set(t){this.setAttribute("step",t);}},{key:"prefix",get:function get(){return this.hasAttribute("prefix")?this.getAttribute("prefix"):"";},set:function set(t){this.setAttribute("prefix",t);}},{key:"suffix",get:function get(){return this.hasAttribute("suffix")?this.getAttribute("suffix"):"";},set:function set(t){this.setAttribute("suffix",t);}},{key:"required",get:function get(){return this.hasAttribute("required");},set:function set(t){t?this.setAttribute("required",""):this.removeAttribute("required");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"condensed",get:function get(){return this.hasAttribute("condensed");},set:function set(t){t?this.setAttribute("condensed",""):this.removeAttribute("condensed");}},{key:"error",get:function get(){return this.getAttribute("error");},set:function set(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function kn(){var _temp23,_this81;_classCallCheck(this,kn);(_temp23=_this81=_super21.call(this),_defineProperty(_assertThisInitialized(_this81),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this81),"I",{}),_defineProperty(_assertThisInitialized(_this81),"yt",0),_defineProperty(_assertThisInitialized(_this81),"B",null),_defineProperty(_assertThisInitialized(_this81),"mi",!1),_defineProperty(_assertThisInitialized(_this81),"bi",!1),_defineProperty(_assertThisInitialized(_this81),"gi",!1),_defineProperty(_assertThisInitialized(_this81),"xi",!1),_defineProperty(_assertThisInitialized(_this81),"fi",!1),_defineProperty(_assertThisInitialized(_this81),"wi",!1),_defineProperty(_assertThisInitialized(_this81),"Pi",qs(function(){!_this81.bi||_this81.gi||_this81.xi||_this81.fi||(_this81.bi=!1,_this81.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})));},500)),_temp23),_this81._shadowRoot=_this81.attachShadow({mode:"closed",delegatesFocus:!0}),_this81._shadowRoot.adoptedStyleSheets=[kn._shadowStyleSheet],_this81._shadowRoot.append(document.importNode(kn._shadowTemplate.content,!0));var _iterator110=_createForOfIteratorHelper(_this81._shadowRoot.querySelectorAll("[id]")),_step110;try{for(_iterator110.s();!(_step110=_iterator110.n()).done;){var _t196=_step110.value;_this81.I[_t196.id]=_t196;}}catch(err){_iterator110.e(err);}finally{_iterator110.f();}_this81._shadowRoot.addEventListener("pointerdown",function(t){return _this81.vi(t);}),_this81._shadowRoot.addEventListener("wheel",function(t){return _this81.Oe(t);}),_this81.I.editor.addEventListener("paste",function(t){return _this81.yi(t);}),_this81.I.editor.addEventListener("input",function(t){return _this81.zi(t);}),_this81.addEventListener("pointerdown",function(t){return _this81.zt(t);}),_this81.addEventListener("keydown",function(t){return _this81.kt(t);}),_this81.addEventListener("keyup",function(t){return _this81.ki(t);}),_this81.addEventListener("keypress",function(t){return _this81.Hs(t);}),_this81.addEventListener("incrementstart",function(t){return _this81.Ci(t);}),_this81.addEventListener("decrementstart",function(t){return _this81.Si(t);}),_this81.addEventListener("focusin",function(t){return _this81.ge(t);}),_this81.addEventListener("focusout",function(t){return _this81.xe(t);});return _this81;}_createClass(kn,[{key:"connectedCallback",value:function connectedCallback(){var _this82=this;this.Ct(),this.U(),this.nt(),$s.addEventListener("sizechange",this.B=function(){return _this82.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t?this.ot():"min"===t?this.Ei():"max"===t?this.Ai():"prefix"===t?this.Li():"suffix"===t?this.Ti():"disabled"===t?this.qt():"size"===t&&this.lt();}},{key:"validate",value:function validate(){this.value<this.min?this.error="Value is too low":this.value>this.max?this.error="Value is too high":this.required&&null===this.value?this.error="This field is required":this.error=null;}},{key:"Mi",value:function Mi(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.value,i=this.value;i+=t?10*this.step:this.step,i=hs(i,this.min,this.max,as(this.step)),e!==i&&(this.value=i),this.matches(":focus")&&document.execCommand("selectAll"),this.validate(),this.be();}},{key:"Di",value:function Di(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.value,i=this.value;i-=t?10*this.step:this.step,i=hs(i,this.min,this.max,as(this.step)),e!==i&&(this.value=i),this.matches(":focus")&&document.execCommand("selectAll"),this.validate(),this.be();}},{key:"$i",value:function $i(){this.bi||(this.bi=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})));}},{key:"Ri",value:function Ri(){var t=this.I.editor.textContent,e=""===t.trim()?null:parseFloat(t),i=hs(e,this.min,this.max);i!==this.value?(this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.value=i,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))):e!==this.value&&(this.value=i),this.validate();}},{key:"nt",value:function nt(){this.wi&&this.validate(),this.Ii(),this.be(),this.Oi();}},{key:"Ii",value:function Ii(){this.hasAttribute("value")?this.I.editor.textContent=this.getAttribute("value").trim():this.I.editor.textContent="";}},{key:"be",value:function be(){var t=null;if(this.matches(":focus")){var _e155=this.I.editor.textContent;t=""===_e155.trim()?null:parseFloat(_e155);}else t=this.value;null===t?this.setAttribute("empty",""):this.removeAttribute("empty");}},{key:"Oi",value:function Oi(){var t=this.querySelector("x-stepper");if(t){var _e156=this.value>this.min,_i144=this.value<this.max;!0===_i144&&!0===_e156?t.removeAttribute("disabled"):!1===_i144&&!1===_e156?t.setAttribute("disabled",""):!1===_i144?t.setAttribute("disabled","increment"):!1===_e156&&t.setAttribute("disabled","decrement");}}},{key:"Ct",value:function Ct(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){this.nt();}},{key:"Ei",value:function Ei(){this.Oi();}},{key:"Ai",value:function Ai(){this.Oi();}},{key:"Li",value:function Li(){this.I.editor.setAttribute("data-prefix",this.prefix);}},{key:"Ti",value:function Ti(){this.I.editor.setAttribute("data-suffix",this.suffix);}},{key:"qt",value:function qt(){this.I.editor.disabled=this.disabled,this.Ct();}},{key:"lt",value:function lt(){this.U();}},{key:"ge",value:function ge(){this.wi=!0,document.execCommand("selectAll"),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));}},{key:"xe",value:function xe(){this._shadowRoot.getSelection().collapse(this.I.main),this.I.editor.scrollLeft=0,this.Ri(),this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0}));}},{key:"zi",value:function zi(){this.error=null,this.be(),this.Oi();}},{key:"Oe",value:function Oe(t){this.matches(":focus")&&(t.preventDefault(),this.$i(),t.wheelDeltaX>0||t.wheelDeltaY>0?(this.Mi(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))):(this.Di(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))),this.Pi());}},{key:"N",value:function N(t){t.preventDefault();}},{key:"zt",value:function zt(t){"x-stepper"===t.target.localName&&t.preventDefault();}},{key:"vi",value:function vi(t){var _this83=this;if(1===t.buttons&&!1!==t.isPrimary){if(t.target===this.I.editor&&!1===this.I.editor.matches(":focus")){t.preventDefault();var _e157,_i147,_s94=this.value,_n56=t.clientX,_o40=new DOMPoint(t.clientX,t.clientY);this.style.cursor="col-resize",this.I.editor.setPointerCapture(t.pointerId),this.I.editor.addEventListener("pointermove",_e157=function _e157(e){var i=new DOMPoint(e.clientX,e.clientY),l=e.timeStamp-t.timeStamp,h=e.clientX!==_n56,a=rs(_o40,i)>3||l>80;if(_n56=e.clientX,h&&a&&e.isPrimary){!1===_this83.mi&&(_this83.mi=!0,_this83.bi=!0,_this83.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})));var _i146=e.clientX-t.clientX,_n57=_s94+_i146*_this83.step;_n57=hs(_n57,_this83.min,_this83.max,as(_this83.step)),_this83.value=_n57,_this83.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}}),this.I.editor.addEventListener("lostpointercapture",_i147=function _i145(){_this83.I.editor.removeEventListener("pointermove",_e157),_this83.I.editor.removeEventListener("lostpointercapture",_i147),_this83.style.cursor=null,!0===_this83.mi?(_this83.mi=!1,_this83.bi=!1,_this83.dispatchEvent(new CustomEvent("changeend",{detail:_this83.value!==_s94,bubbles:!0}))):(_this83.I.editor.focus(),document.execCommand("selectAll"));});}}else t.preventDefault();}},{key:"Ci",value:function Ci(t){var _this84=this;var e,_i148;this.fi=!0,this.addEventListener("increment",e=function e(t){_this84.$i(),_this84.Mi(t.detail.shiftKey),_this84.dispatchEvent(new CustomEvent("change",{bubbles:!0})),_this84.Pi(),_this84.nt();}),this.addEventListener("incrementend",_i148=function i(t){_this84.fi=!1,_this84.removeEventListener("increment",e),_this84.removeEventListener("incrementend",_i148);});}},{key:"Si",value:function Si(t){var _this85=this;var e,_i149;this.fi=!0,this.addEventListener("decrement",e=function e(t){_this85.$i(),_this85.Di(t.detail.shiftKey),_this85.dispatchEvent(new CustomEvent("change",{bubbles:!0})),_this85.Pi(),_this85.nt();}),this.addEventListener("decrementend",_i149=function i(t){_this85.fi=!1,_this85.removeEventListener("decrement",e),_this85.removeEventListener("decrementend",_i149);});}},{key:"kt",value:function kt(t){"ArrowDown"===t.code?(t.preventDefault(),this.gi=!0,this.$i(),this.Di(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Pi(),this.nt()):"ArrowUp"===t.code?(t.preventDefault(),this.gi=!0,this.$i(),this.Mi(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Pi(),this.nt()):"Backspace"===t.code?this.xi=!0:"Enter"===t.code&&(this.Ri(),document.execCommand("selectAll"));}},{key:"ki",value:function ki(t){"ArrowDown"===t.code||"ArrowUp"===t.code?(this.gi=!1,this.Pi()):"Backspace"===t.code&&(this.xi=!1);}},{key:"Hs",value:function Hs(t){!1===yn.includes(t.key)&&t.preventDefault();}},{key:"yi",value:function(){var _yi=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee50(t){var e;return regeneratorRuntime.wrap(function _callee50$(_context50){while(1){switch(_context50.prev=_context50.next){case 0:t.preventDefault();e=t.clipboardData.getData("text/plain").trim();_context50.t0=function(t){var e=wn(t);return!1===fn(e)&&gn(e);}(e);if(!_context50.t0){_context50.next=7;break;}_context50.next=6;return Hs(1);case 6:document.execCommand("insertText",!1,e);case 7:case"end":return _context50.stop();}}},_callee50);}));function yi(_x38){return _yi.apply(this,arguments);}return yi;}()}]);return kn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(kn,"observedAttributes",["value","min","max","prefix","suffix","disabled","size"]);_defineProperty(kn,"_shadowTemplate",zs(_templateObject146()));_defineProperty(kn,"_shadowStyleSheet",Os(_templateObject147()));customElements.define("x-numberinput",kn);var Sn=/*#__PURE__*/function(_HTMLElement21){_inherits(Sn,_HTMLElement21);var _super22=_createSuper(Sn);_createClass(Sn,[{key:"opened",get:function get(){return this.hasAttribute("opened");}},{key:"modal",get:function get(){return this.hasAttribute("modal");},set:function set(t){t?this.setAttribute("modal",""):this.removeAttribute("modal");}}]);function Sn(){var _temp24,_this86;_classCallCheck(this,Sn);(_temp24=_this86=_super22.call(this),_defineProperty(_assertThisInitialized(_this86),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this86),"I",{}),_defineProperty(_assertThisInitialized(_this86),"Bi",null),_defineProperty(_assertThisInitialized(_this86),"Hi",null),_temp24),_this86._shadowRoot=_this86.attachShadow({mode:"closed"}),_this86._shadowRoot.adoptedStyleSheets=[Sn._shadowStyleSheet],_this86._shadowRoot.append(document.importNode(Sn._shadowTemplate.content,!0));var _iterator111=_createForOfIteratorHelper(_this86._shadowRoot.querySelectorAll("[id]")),_step111;try{for(_iterator111.s();!(_step111=_iterator111.n()).done;){var _t197=_step111.value;_this86.I[_t197.id]=_t197;}}catch(err){_iterator111.e(err);}finally{_iterator111.f();}_this86.I.backdrop=Vs("x-backdrop"),_this86.I.backdrop.style.background="rgba(0, 0, 0, 0)",_this86.I.backdrop.ownerElement=_assertThisInitialized(_this86),_this86.I.backdrop.addEventListener("click",function(t){t.preventDefault();}),_this86.I.backdrop.addEventListener("pointerdown",function(t){_this86.hasAttribute("animating")&&t.stopPropagation();});return _this86;}_createClass(Sn,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=-1;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"modal"===t&&(this.modal&&this.opened?this.I.backdrop.show():this.I.backdrop.hide());}},{key:"open",value:function open(t){var _this87=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref42=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee51(i){var _t198,_this87$Ne,_this87$Ne2,_e158,_i150,_s95;return regeneratorRuntime.wrap(function _callee51$(_context51){while(1){switch(_context51.prev=_context51.next){case 0:if(!(!1===_this87.opened)){_context51.next=8;break;}if(!(_this87.modal&&_this87.I.backdrop.show(!1),_this87.setAttribute("opened",""),_this87.Fi(),_this87.Ni(t),_this87.Bi=function(t){var e=function e(t){return t&&t!==document.body?function(t){var e=getComputedStyle(t,null);return /(auto|scroll)/.test(e.getPropertyValue("overflow")+e.getPropertyValue("overflow-y")+e.getPropertyValue("overflow-x"));}(t)?t:e(t.parentElement||t.parentNode.host):document.body;};return e(t);}(_this87),_this87.Bi&&_this87.Bi.addEventListener("scroll",_this87.Hi=function(){_this87.close();},{once:!0}),e)){_context51.next=7;break;}_t198=getComputedStyle(_this87).getPropertyValue("--open-transition"),_this87$Ne=_this87.Ne(_t198),_this87$Ne2=_slicedToArray(_this87$Ne,3),_e158=_this87$Ne2[0],_i150=_this87$Ne2[1],_s95=_this87$Ne2[2];_context51.t0="transform"===_e158;if(!_context51.t0){_context51.next=7;break;}_context51.next=7;return _this87.animate({transform:["scale(1, 0)","scale(1, 1)"],transformOrigin:["0 0","0 0"]},{duration:_i150,easing:_s95}).finished;case 7:_this87.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:_this87}));case 8:i();case 9:case"end":return _context51.stop();}}},_callee51);}));return function(_x39){return _ref42.apply(this,arguments);};}());}},{key:"close",value:function close(){var _this88=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;return new Promise(/*#__PURE__*/function(){var _ref43=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee52(e){var _t199,_this88$Ne,_this88$Ne2,_e159,_i151,_s96;return regeneratorRuntime.wrap(function _callee52$(_context52){while(1){switch(_context52.prev=_context52.next){case 0:if(!(!0===_this88.opened&&(_this88.removeAttribute("opened"),_this88.I.backdrop.hide(),_this88.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:_this88})),_this88.Bi.removeEventListener("scroll",_this88.Hi),t))){_context52.next=8;break;}_t199=getComputedStyle(_this88).getPropertyValue("--close-transition"),_this88$Ne=_this88.Ne(_t199),_this88$Ne2=_slicedToArray(_this88$Ne,3),_e159=_this88$Ne2[0],_i151=_this88$Ne2[1],_s96=_this88$Ne2[2];_this88.setAttribute("animating","");_context52.t0="opacity"===_e159;if(!_context52.t0){_context52.next=7;break;}_context52.next=7;return _this88.animate({opacity:["1","0"]},{duration:_i151,easing:_s96}).finished;case 7:_this88.removeAttribute("animating");case 8:e();case 9:case"end":return _context52.stop();}}},_callee52);}));return function(_x40){return _ref43.apply(this,arguments);};}());}},{key:"Ni",value:function Ni(t){var _this89=this;var e=getComputedStyle(this).getPropertyValue("--align").trim(),i=parseInt(getComputedStyle(this).borderWidth),s=0,n=0,o=null;this.style.maxWidth=null,this.style.maxHeight=null,this.style.left="0px",this.style.top="0px";{var _e160=ls(this.getBoundingClientRect());0===_e160.top&&0===_e160.left||(s=-_e160.left,n=-_e160.top),o=t instanceof DOMPoint?new DOMRect(t.x,t.y,0,0):t instanceof DOMRect?t:t instanceof Element?t.getBoundingClientRect():new DOMRect();}if("bottom"===e||"top"===e){var _t200=function _t200(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxHeight=null,_this89.I.arrow.setAttribute("data-align","bottom");var e=ls(_this89.getBoundingClientRect()),s=ls(_this89.I.arrow.getBoundingClientRect()),l=0;if(_this89.I.arrow.style.top=n+o.bottom+2+i+"px",_this89.style.top=n+o.bottom+2+s.height+"px",e=ls(_this89.getBoundingClientRect()),l=e.bottom+8-window.innerHeight,t&&l>0){var _t201=e.height-l;l=0,_this89.style.maxHeight=_t201+"px";}return l;},_l34=function _l34(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxHeight=null,_this89.I.arrow.setAttribute("data-align","top");var e=ls(_this89.getBoundingClientRect()),s=ls(_this89.I.arrow.getBoundingClientRect()),l=0;if(_this89.I.arrow.style.top=n+o.top-2-i-s.height+"px",_this89.style.top=n+o.top-2-s.height-e.height+"px",e=ls(_this89.getBoundingClientRect()),l=-(e.top-8),t&&l>0){var _t202=e.height-l;l=0,_this89.style.maxHeight=_t202+"px",_this89.style.top=n+o.top-2-s.height-_t202+"px";}return l;},_h22=function _h22(){_this89.style.maxWidth=null;var t=ls(_this89.getBoundingClientRect()),e=0,i=0;return _this89.I.arrow.style.left=s+o.left+o.width/2+"px",_this89.style.left=s+o.left+o.width/2-t.width/2+"px",t=ls(_this89.getBoundingClientRect()),e=-(t.left-8),i=t.right+8-window.innerWidth,[e,i];},_a18=function _a18(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxWidth=null;var e=ls(_this89.getBoundingClientRect()),i=0;if(_this89.I.arrow.style.left=s+o.left+o.width/2+"px",_this89.style.left=s+window.innerWidth-8-e.width+"px",e=ls(_this89.getBoundingClientRect()),i=-(e.left-8),t&&i>0){var _t203=e.width-i;i=0,_this89.style.maxWidth=_t203+"px",_this89.style.left=s+window.innerWidth-8-_t203+"px";}return i;},_r11=function _r11(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxWidth=null;var e=ls(_this89.getBoundingClientRect()),i=0;if(_this89.I.arrow.style.left=s+o.left+o.width/2+"px",_this89.style.left=s+8+"px",e=ls(_this89.getBoundingClientRect()),i=e.right+8-window.innerWidth,t&&i>0){var _t204=e.width-i;i=0,_this89.style.maxWidth=_t204+"px";}return i;};if("bottom"===e){var _e161=_t200();if(_e161>0){var _i152=_l34();_i152>0&&(_i152>_e161?_t200(!0):_l34(!0));}}else if("top"===e){var _e162=_l34();if(_e162>0){var _i153=_t200();_i153>0&&(_i153>_e162?_l34(!0):_t200(!0));}}{var _h23=_h22(),_h24=_slicedToArray(_h23,2),_t205=_h24[0],_e163=_h24[1];_e163>0?(_t205=_a18(),_t205>0&&_a18(!0)):_t205>0&&(_e163=_r11(),_e163>0&&_r11(!0));}}else if("right"===e||"left"===e){var _t206=function _t206(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxWidth=null,_this89.I.arrow.setAttribute("data-align","right");var e=ls(_this89.getBoundingClientRect()),n=ls(_this89.I.arrow.getBoundingClientRect()),l=0;if(_this89.I.arrow.style.left=s+o.right+2+i+"px",_this89.style.left=s+o.right+2+n.width+"px",e=ls(_this89.getBoundingClientRect()),l=e.right+8-window.innerWidth,t&&l>0){var _t207=e.width-l;l=0,_this89.style.maxWidth=_t207+"px";}return l;},_l35=function _l35(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxWidth=null,_this89.I.arrow.setAttribute("data-align","left");var e=ls(_this89.getBoundingClientRect()),n=ls(_this89.I.arrow.getBoundingClientRect()),l=0;if(_this89.I.arrow.style.left=s+o.left-2-i-n.width+"px",_this89.style.left=s+o.left-2-n.width-e.width+"px",e=ls(_this89.getBoundingClientRect()),l=-(e.left-8),t&&l>0){var _t208=e.width-l;l=0,_this89.style.maxWidth=_t208+"px",_this89.style.left=s+o.left-2-n.width-_t208+"px";}return l;},_h25=function _h25(){_this89.style.maxHeight=null;var t=ls(_this89.getBoundingClientRect()),e=0,i=0;return _this89.I.arrow.style.top=n+o.top+o.height/2+"px",_this89.style.top=n+o.top+o.height/2-t.height/2+"px",t=ls(_this89.getBoundingClientRect()),e=-(t.top-8),i=t.bottom+8-window.innerHeight,[e,i];},_a19=function _a19(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxHeight=null;var e=ls(_this89.getBoundingClientRect()),i=0;if(_this89.I.arrow.style.top=n+o.top+o.height/2+"px",_this89.style.top=n+window.innerHeight-8-e.height+"px",e=ls(_this89.getBoundingClientRect()),i=-(e.top-8),t&&i>0){var _t209=e.height-i;i=0,_this89.style.maxHeight=_t209+"px",_this89.style.top=n+window.innerHeight-8-_t209+"px";}return i;},_r12=function _r12(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxHeight=null;var e=ls(_this89.getBoundingClientRect()),i=0;if(_this89.I.arrow.style.top=n+o.top+o.height/2+"px",_this89.style.top=n+8+"px",e=ls(_this89.getBoundingClientRect()),i=e.bottom+8-window.innerHeight,t&&i>0){var _t210=e.height-i;i=0,_this89.style.maxHeight=_t210+"px";}return i;};if("right"===e){var _e164=_t206();if(_e164>0){var _i154=_l35();_i154>0&&(_i154>_e164?_t206(!0):_l35(!0));}}else if("left"===e){var _e165=_l35();if(_e165>0){var _i155=_t206();_i155>0&&(_i155>_e165?_l35(!0):_t206(!0));}}{var _h26=_h25(),_h27=_slicedToArray(_h26,2),_t211=_h27[0],_e166=_h27[1];_e166>0?(_t211=_a19(),_t211>0&&_a19(!0)):_t211>0&&(_e166=_r12(),_e166>0&&_r12(!0));}}}},{key:"Fi",value:function Fi(){{var _getComputedStyle=getComputedStyle(this),_t212=_getComputedStyle.backgroundColor,_e167=_getComputedStyle.borderColor,_i156=_getComputedStyle.borderWidth;this.I["arrow-path"].style.fill=_t212,this.I["arrow-path"].style.stroke=_e167,this.I["arrow-path"].style.strokeWidth=_i156;}}},{key:"Ne",value:function Ne(t){var _t$trim$split3=t.trim().split(" "),_t$trim$split4=_toArray(_t$trim$split3),e=_t$trim$split4[0],i=_t$trim$split4[1],s=_t$trim$split4.slice(2);return[i,parseFloat(e),s.join(" ")];}}]);return Sn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Sn,"observedAttributes",["modal"]);_defineProperty(Sn,"_shadowTemplate",zs(_templateObject148()));_defineProperty(Sn,"_shadowStyleSheet",Os(_templateObject149()));customElements.define("x-popover",Sn);var _n=/*#__PURE__*/function(_HTMLElement22){_inherits(_n,_HTMLElement22);var _super23=_createSuper(_n);_createClass(_n,[{key:"value",get:function get(){return this.hasAttribute("value")?parseFloat(this.getAttribute("value")):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"max",get:function get(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):1;},set:function set(t){this.setAttribute("max",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function _n(){var _temp25,_this90;_classCallCheck(this,_n);(_temp25=_this90=_super23.call(this),_defineProperty(_assertThisInitialized(_this90),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this90),"I",{}),_defineProperty(_assertThisInitialized(_this90),"qi",null),_defineProperty(_assertThisInitialized(_this90),"B",null),_temp25),_this90._shadowRoot=_this90.attachShadow({mode:"closed"}),_this90._shadowRoot.adoptedStyleSheets=[_n._shadowStyleSheet],_this90._shadowRoot.append(document.importNode(_n._shadowTemplate.content,!0));var _iterator112=_createForOfIteratorHelper(_this90._shadowRoot.querySelectorAll("[id]")),_step112;try{for(_iterator112.s();!(_step112=_iterator112.n()).done;){var _t213=_step112.value;_this90.I[_t213.id]=_t213;}}catch(err){_iterator112.e(err);}finally{_iterator112.f();}return _this90;}_createClass(_n,[{key:"connectedCallback",value:function connectedCallback(){var _this91=this;$s.addEventListener("sizechange",this.B=function(){return _this91.U();}),this.nt(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t||"disabled"===t?this.nt():"size"===t&&this.U());}},{key:"nt",value:function nt(){if(null===this.value||-1===this.value||this.disabled?this.I["determinate-bar"].style.width="0%":this.I["determinate-bar"].style.width=this.value/this.max*100+"%",null!==this.value||this.disabled){if(this.qi){var _iterator113=_createForOfIteratorHelper(this.qi),_step113;try{for(_iterator113.s();!(_step113=_iterator113.n()).done;){var _t214=_step113.value;_t214.cancel();}}catch(err){_iterator113.e(err);}finally{_iterator113.f();}this.qi=null;}}else this.qi||(this.qi=[this.I["primary-indeterminate-bar"].animate([{left:"-35%",right:"100%",offset:0},{left:"100%",right:"-90%",offset:.6},{left:"100%",right:"-90%",offset:1}],{duration:2e3,easing:"ease-in-out",iterations:Infinity}),this.I["secondary-indeterminate-bar"].animate([{left:"-100%",right:"100%",offset:0},{left:"110%",right:"-30%",offset:.8},{left:"110%",right:"-30%",offset:1}],{duration:2e3,delay:1e3,easing:"ease-in-out",iterations:Infinity})]);}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return _n;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(_n,"observedAttributes",["value","max","disabled","size"]);_defineProperty(_n,"_shadowTemplate",zs(_templateObject150()));_defineProperty(_n,"_shadowStyleSheet",Os(_templateObject151()));customElements.define("x-progressbar",_n);var Cn=/*#__PURE__*/function(_HTMLElement23){_inherits(Cn,_HTMLElement23);var _super24=_createSuper(Cn);_createClass(Cn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Cn(){var _temp26,_this92;_classCallCheck(this,Cn);(_temp26=_this92=_super24.call(this),_defineProperty(_assertThisInitialized(_this92),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this92),"I",{}),_defineProperty(_assertThisInitialized(_this92),"yt",0),_defineProperty(_assertThisInitialized(_this92),"B",null),_temp26),_this92._shadowRoot=_this92.attachShadow({mode:"closed"}),_this92._shadowRoot.adoptedStyleSheets=[Cn._shadowStyleSheet],_this92._shadowRoot.append(document.importNode(Cn._shadowTemplate.content,!0));var _iterator114=_createForOfIteratorHelper(_this92._shadowRoot.querySelectorAll("[id]")),_step114;try{for(_iterator114.s();!(_step114=_iterator114.n()).done;){var _t215=_step114.value;_this92.I[_t215.id]=_t215;}}catch(err){_iterator114.e(err);}finally{_iterator114.f();}_this92.addEventListener("click",function(t){return _this92.N(t);}),_this92.addEventListener("pointerdown",function(t){return _this92.zt(t);}),_this92.addEventListener("keydown",function(t){return _this92.kt(t);});return _this92;}_createClass(Cn,[{key:"connectedCallback",value:function connectedCallback(){var _this93=this;$s.addEventListener("sizechange",this.B=function(){return _this93.U();}),this.Ct(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"toggled"===t?this.Nt():"disabled"===t?this.qt():"size"===t&&this.U();}},{key:"Ct",value:function Ct(){this.setAttribute("role","radio"),this.setAttribute("aria-checked",this.toggled),this.setAttribute("aria-disabled",this.disabled),this.closest("x-radios")||(this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0));}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Nt",value:function Nt(){this.setAttribute("aria-checked",this.toggled);}},{key:"qt",value:function qt(){this.Ct();}},{key:"N",value:function N(t){this.closest("x-radios")||(this.toggled&&this.mixed?this.mixed=!1:(this.mixed=!1,this.toggled=!this.toggled),this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0})));}},{key:"zt",value:function zt(t){if(!1===this.matches(":focus")){t.preventDefault();var _e168=js(this.parentNode,"[tabindex]");_e168&&_e168.focus();}}},{key:"kt",value:function kt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click());}}]);return Cn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Cn,"observedAttributes",["toggled","disabled","size"]);_defineProperty(Cn,"_shadowTemplate",zs(_templateObject152()));_defineProperty(Cn,"_shadowStyleSheet",Os(_templateObject153()));customElements.define("x-radio",Cn);var Mn=/*#__PURE__*/function(_HTMLElement24){_inherits(Mn,_HTMLElement24);var _super25=_createSuper(Mn);_createClass(Mn,[{key:"value",get:function get(){var t=this.querySelector("x-radio[toggled]");return t?t.value:null;},set:function set(t){var _iterator115=_createForOfIteratorHelper(this.querySelectorAll("x-radio")),_step115;try{for(_iterator115.s();!(_step115=_iterator115.n()).done;){var _e169=_step115.value;_e169.toggled=_e169.value===t&&null!==t;}}catch(err){_iterator115.e(err);}finally{_iterator115.f();}}}]);function Mn(){var _temp27,_this94;_classCallCheck(this,Mn);(_temp27=_this94=_super25.call(this),_defineProperty(_assertThisInitialized(_this94),"_shadowRoot",null),_temp27),_this94._shadowRoot=_this94.attachShadow({mode:"closed"}),_this94._shadowRoot.innerHTML="<slot></slot>",_this94.addEventListener("click",function(t){return _this94.N(t);},!0),_this94.addEventListener("keydown",function(t){return _this94.kt(t);});return _this94;}_createClass(Mn,[{key:"connectedCallback",value:function connectedCallback(){var _this95=this;this.setAttribute("role","radiogroup");var t=_toConsumableArray(this.querySelectorAll("x-radio")).filter(function(t){return t.closest("x-radios")===_this95;}),e=t.find(function(t){return t.toggled&&!t.disabled;})||t.find(function(t){return!t.disabled;});var _iterator116=_createForOfIteratorHelper(t),_step116;try{for(_iterator116.s();!(_step116=_iterator116.n()).done;){var _i157=_step116.value;_i157.setAttribute("tabindex",_i157===e?"0 ":"-1"),_i157.setAttribute("aria-checked",_i157===e);}}catch(err){_iterator116.e(err);}finally{_iterator116.f();}}},{key:"N",value:function N(t){var _this96=this;var e=t.target.closest("x-radio");if(e&&!e.toggled&&!e.disabled&&0===t.button){var _t216=_toConsumableArray(this.querySelectorAll("x-radio")).filter(function(t){return t.closest("x-radios")===_this96&&t!==e;});if(!1===e.toggled||!0===e.mixed){e.toggled=!0,e.mixed=!1,e.tabIndex=0;var _iterator117=_createForOfIteratorHelper(_t216),_step117;try{for(_iterator117.s();!(_step117=_iterator117.n()).done;){var _e170=_step117.value;_e170.toggled=!1,_e170.tabIndex=-1;}}catch(err){_iterator117.e(err);}finally{_iterator117.f();}this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));}}}},{key:"kt",value:function kt(t){var _this97=this;var e=t.key;if("ArrowDown"===e||"ArrowRight"===e){var _e171=_toConsumableArray(this.querySelectorAll("x-radio")),_i158=_e171.filter(function(t){return!1===t.disabled&&t.closest("x-radios")===_this97;}),_s97=_e171.find(function(t){return t.matches(":focus");});if(_s97){var _e172=_i158.indexOf(_s97),_n58=_i158.length>1?_i158[_e172+1]||_i158[0]:null;_n58&&(t.preventDefault(),_n58.focus(),_n58.tabIndex=0,_s97.tabIndex=-1);}}else if("ArrowUp"===e||"ArrowLeft"===e){var _e173=_toConsumableArray(this.querySelectorAll("x-radio")),_i159=_e173.filter(function(t){return!1===t.disabled&&t.closest("x-radios")===_this97;}),_s98=_e173.find(function(t){return t.matches(":focus");});if(_s98){var _e174=_i159.indexOf(_s98),_n59=_i159[_i159.length-1],_o41=_i159.length>1?_i159[_e174-1]||_n59:null;_o41&&(t.preventDefault(),_o41.focus(),_o41.tabIndex=0,_s98.tabIndex=-1);}}}}]);return Mn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));customElements.define("x-radios",Mn);var Pn=/*#__PURE__*/function(_HTMLElement25){_inherits(Pn,_HTMLElement25);var _super26=_createSuper(Pn);_createClass(Pn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)";},set:function set(t){this.setAttribute("value",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Pn(){var _temp28,_this98;_classCallCheck(this,Pn);(_temp28=_this98=_super26.call(this),_defineProperty(_assertThisInitialized(_this98),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this98),"I",{}),_defineProperty(_assertThisInitialized(_this98),"B",null),_defineProperty(_assertThisInitialized(_this98),"X",0),_defineProperty(_assertThisInitialized(_this98),"V",0),_defineProperty(_assertThisInitialized(_this98),"Ui",100),_defineProperty(_assertThisInitialized(_this98),"G",1),_defineProperty(_assertThisInitialized(_this98),"Y",!1),_defineProperty(_assertThisInitialized(_this98),"ji",!1),_defineProperty(_assertThisInitialized(_this98),"tt",!1),_temp28),_this98._shadowRoot=_this98.attachShadow({mode:"closed"}),_this98._shadowRoot.adoptedStyleSheets=[Pn._shadowStyleSheet],_this98._shadowRoot.append(document.importNode(Pn._shadowTemplate.content,!0));var _iterator118=_createForOfIteratorHelper(_this98._shadowRoot.querySelectorAll("[id]")),_step118;try{for(_iterator118.s();!(_step118=_iterator118.n()).done;){var _t217=_step118.value;_this98.I[_t217.id]=_t217;}}catch(err){_iterator118.e(err);}finally{_iterator118.f();}_this98.I["hue-slider"].addEventListener("pointerdown",function(t){return _this98.et(t);}),_this98.I["satlight-slider"].addEventListener("pointerdown",function(t){return _this98.Ki(t);}),_this98.I["alpha-slider"].addEventListener("pointerdown",function(t){return _this98.ht(t);});return _this98;}_createClass(Pn,[{key:"connectedCallback",value:function connectedCallback(){var _this99=this;this.nt(),this.U(),$s.addEventListener("sizechange",this.B=function(){return _this99.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"size"===t&&this.lt());}},{key:"nt",value:function nt(){this.at(),this.Xi(),this.Vi(),this.bt(),this.gt();}},{key:"at",value:function at(){this.I["hue-slider-marker"].style.left=hs(this.X,0,360,0)/360*100+"%";}},{key:"Xi",value:function Xi(){var t=this.V/100*100,e=100-this.Ui/100*100;this.I["satlight-marker"].style.left="".concat(t,"%"),this.I["satlight-marker"].style.top="".concat(e,"%");}},{key:"Vi",value:function Vi(){var t=ys([this.X,100,50,1],"hsla","hex");this.I["satlight-slider"].style.background="linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,1)), linear-gradient(to left, rgba(255,255,255,0), rgba(255,255,255,1)), ".concat(t);}},{key:"bt",value:function bt(){this.I["alpha-slider-marker"].style.left=hs(100*(1-this.G),0,100,2)+"%";}},{key:"gt",value:function gt(){var _vs$map=vs(this.X,this.V,this.Ui).map(function(t){return os(t,0);}),_vs$map2=_slicedToArray(_vs$map,3),t=_vs$map2[0],e=_vs$map2[1],i=_vs$map2[2];this.I["alpha-slider-gradient"].style.background="\n      linear-gradient(to right, rgba(".concat(t,", ").concat(e,", ").concat(i,", 1), rgba(").concat(t,", ").concat(e,", ").concat(i,", 0))\n    ");}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){if(!1===this.Y&&!1===this.ji&&!1===this.tt){var _Ps$parse7=new Ps().parse(this.value,"hsva"),_Ps$parse8=_slicedToArray(_Ps$parse7,4),_t218=_Ps$parse8[0],_e175=_Ps$parse8[1],_i160=_Ps$parse8[2],_s99=_Ps$parse8[3];this.X=_t218,this.V=_e175,this.Ui=_i160,this.G=_s99,this.nt();}}},{key:"lt",value:function lt(){this.U();}},{key:"Ki",value:function Ki(t){var _this100=this;if(1!==t.buttons)return;var e,_i161,s=this.I["satlight-slider"].getBoundingClientRect();this.ji=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.I["satlight-slider"].setPointerCapture(t.pointerId);var n=function n(t,e){var i=(t-s.left)/s.width*100,n=(e-s.top)/s.height*100;i=hs(i,0,100,2),n=hs(n,0,100,2),_this100.V=i,_this100.Ui=100-n,_this100.value=ys([_this100.X,_this100.V,_this100.Ui,_this100.G],"hsva","hsla"),_this100.dispatchEvent(new CustomEvent("change",{bubbles:!0})),_this100.Xi(),_this100.Vi(),_this100.gt();};n(t.clientX,t.clientY),this.I["satlight-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX,t.clientY);}),this.I["satlight-slider"].addEventListener("lostpointercapture",_i161=function i(t){_this100.I["satlight-slider"].removeEventListener("pointermove",e),_this100.I["satlight-slider"].removeEventListener("lostpointercapture",_i161),_this100.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this100.ji=!1;});}},{key:"et",value:function et(t){var _this101=this;if(1!==t.buttons)return;var e,_i162,s=this.I["hue-slider-track"].getBoundingClientRect();this.Y=!0,this.I["hue-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=(t-s.x)/s.width*360;e=hs(e,0,360,0),e!==_this101.X&&(_this101.X=e,_this101.value=ys([_this101.X,_this101.V,_this101.Ui,_this101.G],"hsva","hsla"),_this101.at(),_this101.Vi(),_this101.Xi(),_this101.gt(),_this101.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["hue-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["hue-slider"].addEventListener("lostpointercapture",_i162=function i(){_this101.I["hue-slider"].removeEventListener("pointermove",e),_this101.I["hue-slider"].removeEventListener("lostpointercapture",_i162),_this101.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this101.Y=!1;});}},{key:"ht",value:function ht(t){var _this102=this;if(1!==t.buttons)return;var e,_i163,s=this.I["alpha-slider-track"].getBoundingClientRect();this.tt=!0,this.I["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=1-(t-s.x)/s.width;e=hs(e,0,1,2),e!==_this102.G&&(_this102.G=e,_this102.value=ys([_this102.X,_this102.V,_this102.Ui,_this102.G],"hsva","hsla"),_this102.bt(),_this102.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["alpha-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["alpha-slider"].addEventListener("lostpointercapture",_i163=function i(){_this102.I["alpha-slider"].removeEventListener("pointermove",e),_this102.I["alpha-slider"].removeEventListener("lostpointercapture",_i163),_this102.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this102.tt=!1;});}}]);return Pn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Pn,"observedAttributes",["value","size"]);_defineProperty(Pn,"_shadowTemplate",zs(_templateObject154()));_defineProperty(Pn,"_shadowStyleSheet",Os(_templateObject155()));customElements.define("x-rectcolorpicker",Pn);var Dn=Symbol();var zn=/*#__PURE__*/function(_HTMLElement26){_inherits(zn,_HTMLElement26);var _super27=_createSuper(zn);_createClass(zn,[{key:"value",get:function get(){var t=this.querySelector("x-menuitem[toggled]");return t?t.value:null;},set:function set(t){var _iterator119=_createForOfIteratorHelper(this.querySelectorAll("x-menuitem")),_step119;try{for(_iterator119.s();!(_step119=_iterator119.n()).done;){var _e176=_step119.value;_e176.toggled=_e176.value===t&&null!==t;}}catch(err){_iterator119.e(err);}finally{_iterator119.f();}}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function zn(){var _temp29,_this103;_classCallCheck(this,zn);(_temp29=_this103=_super27.call(this),_defineProperty(_assertThisInitialized(_this103),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this103),"I",{}),_defineProperty(_assertThisInitialized(_this103),"yt",0),_defineProperty(_assertThisInitialized(_this103),"wt",!1),_defineProperty(_assertThisInitialized(_this103),"Zi",null),_defineProperty(_assertThisInitialized(_this103),"Gi",null),_defineProperty(_assertThisInitialized(_this103),"B",null),_defineProperty(_assertThisInitialized(_this103),"Yi",new MutationObserver(function(t){return _this103.Wi(t);})),_defineProperty(_assertThisInitialized(_this103),"O",new ResizeObserver(function(){return _this103.Ji();})),_defineProperty(_assertThisInitialized(_this103),"os",Ws(_this103.es,300,_assertThisInitialized(_this103))),_temp29),_this103._shadowRoot=_this103.attachShadow({mode:"closed"}),_this103._shadowRoot.adoptedStyleSheets=[zn._shadowStyleSheet],_this103._shadowRoot.append(document.importNode(zn._shadowTemplate.content,!0));var _iterator120=_createForOfIteratorHelper(_this103._shadowRoot.querySelectorAll("[id]")),_step120;try{for(_iterator120.s();!(_step120=_iterator120.n()).done;){var _t219=_step120.value;_this103.I[_t219.id]=_t219;}}catch(err){_iterator120.e(err);}finally{_iterator120.f();}_this103.I.backdrop=Vs("x-backdrop"),_this103.I.backdrop.style.opacity="0",_this103.I.backdrop.ownerElement=_assertThisInitialized(_this103),_this103.I.backdrop.addEventListener("click",function(t){return _this103.Qi(t);}),_this103.addEventListener("pointerdown",function(t){return _this103.zt(t);}),_this103.addEventListener("toggle",function(t){return _this103.ts(t);}),_this103.addEventListener("click",function(t){return _this103.N(t);}),_this103.addEventListener("keydown",function(t){return _this103.kt(t);});return _this103;}_createClass(zn,[{key:"connectedCallback",value:function connectedCallback(){var _this104=this;this.Yi.observe(this,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),this.O.observe(this),this.es(),this.Ct(),this.U(),$s.addEventListener("sizechange",this.B=function(){return _this104.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Yi.disconnect(),this.O.disconnect(),$s.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t?this.Ct():"size"===t&&this.U();}},{key:"Vt",value:function Vt(){var _this105=this;if(!1===this.ss())return;this.wt=this.matches(":focus"),this.I.backdrop.show(!1),window.addEventListener("resize",this.Zi=function(){_this105.Zt();}),window.addEventListener("blur",this.Gi=function(){_this105.Zt();});var t=this.querySelector(":scope > x-menu");{var _e177=null;var _iterator121=_createForOfIteratorHelper(t.querySelectorAll("x-menuitem")),_step121;try{for(_iterator121.s();!(_step121=_iterator121.n()).done;){var _i164=_step121.value;_i164.togglable=!0,_i164.toggled&&(null===_e177?_e177=_i164:_i164.toggled=!1);}}catch(err){_iterator121.e(err);}finally{_iterator121.f();}}if(t.querySelector("x-menuitem[toggled]")){var _e178=this.I.button.querySelector("x-label")||this.I.button.firstElementChild,_i165=_e178[Dn];t.openOverElement(_e178,_i165);}else{var _e179=t.querySelector("x-menuitem").firstElementChild;t.openOverElement(this.I.button,_e179);}{var _e180=t.getBoundingClientRect(),_i166=this.I.button.getBoundingClientRect(),_s100=parseFloat(getComputedStyle(this).paddingRight);_e180.right-_s100<_i166.right&&(t.style.minWidth=_i166.right-_e180.left+_s100+"px");}{var _t220=this.getBoundingClientRect();_t220.right+7>window.innerWidth&&(this.style.maxWidth=window.innerWidth-_t220.left-7+"px");}}},{key:"Zt",value:function(){var _Zt2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee53(){var t,e,_t221,_args53=arguments;return regeneratorRuntime.wrap(function _callee53$(_context53){while(1){switch(_context53.prev=_context53.next){case 0:t=_args53.length>0&&_args53[0]!==undefined?_args53[0]:null;if(!(!1===this.hs())){_context53.next=3;break;}return _context53.abrupt("return");case 3:e=this.querySelector(":scope > x-menu");e.setAttribute("closing","");_context53.next=7;return t;case 7:this.I.backdrop.hide(!1);if(!this.wt){_context53.next=12;break;}this.focus();_context53.next=14;break;case 12:_t221=js(this.parentNode,"[tabindex]");_t221&&_t221.focus();case 14:window.removeEventListener("resize",this.Zi);window.removeEventListener("blur",this.Gi);_context53.next=18;return e.close();case 18:e.removeAttribute("closing");case 19:case"end":return _context53.stop();}}},_callee53,this);}));function Zt(){return _Zt2.apply(this,arguments);}return Zt;}()},{key:"ss",value:function ss(){if(this.disabled)return!1;{var _t222=this.querySelector(":scope > x-menu"),_e181=_t222.querySelector("x-menuitem");return null!==_t222&&!1===_t222.opened&&!1===_t222.hasAttribute("closing")&&null!==_e181;}}},{key:"hs",value:function hs(){if(this.disabled)return!1;{var _t223=this.querySelector(":scope > x-menu");return _t223.querySelector("x-menuitem"),null!==_t223&&!0===_t223.opened&&!1===_t223.hasAttribute("closing");}}},{key:"es",value:function es(){var t=this.querySelector(":scope > x-menu x-menuitem[toggled]");if(this.I.button.innerHTML="",t){var _iterator122=_createForOfIteratorHelper(t.children),_step122;try{for(_iterator122.s();!(_step122=_iterator122.n()).done;){var _e182=_step122.value;var _t224=_e182.cloneNode(!0);_t224[Dn]=_e182,_t224.removeAttribute("id"),_t224.removeAttribute("style"),this.I.button.append(_t224);}}catch(err){_iterator122.e(err);}finally{_iterator122.f();}this.ns();}this.I.button.append(this.I["arrow-container"]);}},{key:"ns",value:function ns(){var _iterator123=_createForOfIteratorHelper(this.I.button.children),_step123;try{for(_iterator123.s();!(_step123=_iterator123.n()).done;){var _t225=_step123.value;if(_t225!==this.I["arrow-container"]){var _getComputedStyle2=getComputedStyle(_t225[Dn]),_e183=_getComputedStyle2.width,_i167=_getComputedStyle2.height,_s101=_getComputedStyle2.margin,_n60=_getComputedStyle2.padding,_o42=_getComputedStyle2.border,_l36=_getComputedStyle2.borderRadius;["x-icon","x-swatch","img","svg"].includes(_t225[Dn].localName)&&(_t225.style.width=_e183,_t225.style.height=_i167,_t225.style.minWidth=_e183,_t225.style.borderRadius=_l36),_t225.style.margin=_s101,_t225.style.padding=_n60,_t225.style.border=_o42;}}}catch(err){_iterator123.e(err);}finally{_iterator123.f();}}},{key:"Ct",value:function Ct(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);{this.setAttribute("role","button");var _t226=this.querySelector(":scope > x-menu");if(_t226){_t226.setAttribute("role","listbox");var _iterator124=_createForOfIteratorHelper(_t226.querySelectorAll("x-menuitem")),_step124;try{for(_iterator124.s();!(_step124=_iterator124.n()).done;){var _e184=_step124.value;_e184.setAttribute("role","option");}}catch(err){_iterator124.e(err);}finally{_iterator124.f();}}}}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Wi",value:function Wi(t){var _iterator125=_createForOfIteratorHelper(t),_step125;try{for(_iterator125.s();!(_step125=_iterator125.n()).done;){var _e185=_step125.value;"attributes"===_e185.type&&"x-menuitem"===_e185.target.localName&&"toggled"===_e185.attributeName&&this.os();}}catch(err){_iterator125.e(err);}finally{_iterator125.f();}}},{key:"Ji",value:function Ji(){this.ns();}},{key:"zt",value:function zt(t){t.target.closest("x-menu")||!1!==this.matches(":focus")||t.preventDefault();}},{key:"N",value:function(){var _N5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee54(t){var _e186,_t227,_i168,_iterator126,_step126,_t228;return regeneratorRuntime.wrap(function _callee54$(_context54){while(1){switch(_context54.prev=_context54.next){case 0:if(!(0===t.button)){_context54.next=14;break;}if(!this.ss()){_context54.next=5;break;}this.Vt();_context54.next=14;break;case 5:if(!this.hs()){_context54.next=14;break;}_e186=t.target.closest("x-menuitem");if(!_e186){_context54.next=14;break;}_t227=this.value,_i168=_e186.value;_iterator126=_createForOfIteratorHelper(this.querySelectorAll("x-menuitem"));try{for(_iterator126.s();!(_step126=_iterator126.n()).done;){_t228=_step126.value;_t228.toggled=_t228===_e186;}}catch(err){_iterator126.e(err);}finally{_iterator126.f();}_context54.next=13;return this.Zt(_e186.whenTriggerEnd);case 13:(_t227!==_i168||this.mixed)&&(this.mixed=!1,this.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{oldValue:_t227,newValue:_i168}})));case 14:case"end":return _context54.stop();}}},_callee54,this);}));function N(_x41){return _N5.apply(this,arguments);}return N;}()},{key:"ts",value:function ts(t){t.preventDefault();}},{key:"Qi",value:function Qi(t){this.Zt();}},{key:"kt",value:function kt(t){!1===t.defaultPrevented&&(this.querySelector(":scope > x-menu"),"Enter"===t.key||"Space"===t.key||"ArrowUp"===t.key||"ArrowDown"===t.key?this.ss()&&(t.preventDefault(),this.Vt()):"Escape"===t.key&&this.hs()&&(t.preventDefault(),this.Zt()));}}]);return zn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(zn,"observedAttributes",["disabled","size"]);_defineProperty(zn,"_shadowTemplate",zs(_templateObject156()));_defineProperty(zn,"_shadowStyleSheet",Os(_templateObject157()));customElements.define("x-select",zn);var On=navigator.platform.startsWith("Mac")||["iPhone","iPad"].includes(navigator.platform),En=["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Symbol","SymbolLock"];var Tn=/*#__PURE__*/function(_HTMLElement27){_inherits(Tn,_HTMLElement27);var _super28=_createSuper(Tn);_createClass(Tn,[{key:"value",get:function get(){var t=[];if(this.hasAttribute("value")){var _e187=this.getAttribute("value").replace("++","+PLUS").split("+");_e187=_e187.map(function(t){return t.trim().replace("PLUS","+");}).filter(function(t){return""!==t;}),t=_e187;}return t;},set:function set(t){this.setAttribute("value",t.join("+"));}},{key:"modKeys",get:function get(){return this.value.filter(function(t){return En.includes(t);});}},{key:"normalKey",get:function get(){var t=this.value.find(function(t){return!1===En.includes(t);});return void 0===t?null:t;}}]);function Tn(){var _temp30,_this106;_classCallCheck(this,Tn);(_temp30=_this106=_super28.call(this),_defineProperty(_assertThisInitialized(_this106),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this106),"I",{}),_temp30),_this106._shadowRoot=_this106.attachShadow({mode:"closed"}),_this106._shadowRoot.adoptedStyleSheets=[Tn._shadowStyleSheet],_this106._shadowRoot.append(document.importNode(Tn._shadowTemplate.content,!0));var _iterator127=_createForOfIteratorHelper(_this106._shadowRoot.querySelectorAll("[id]")),_step127;try{for(_iterator127.s();!(_step127=_iterator127.n()).done;){var _t229=_step127.value;_this106.I[_t229.id]=_t229;}}catch(err){_iterator127.e(err);}finally{_iterator127.f();}return _this106;}_createClass(Tn,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t&&this.nt();}},{key:"nt",value:function nt(){var t="";this.value;var e=this.modKeys,i=this.normalKey;if(On){e.includes("Meta")&&(t+="^"),e.includes("Alt")&&(t+="\u2325"),e.includes("Shift")&&(t+="\u21E7"),e.includes("Control")&&(t+="\u2318"),e.includes("Symbol")&&(t+="\u263A");var _s102={ArrowUp:"\u2191",ArrowDown:"\u2193",ArrowLeft:"\u2190",ArrowRight:"\u2192",Backspace:"\u2326"};void 0!==i&&(t+=_s102[i]||i);}else{var _s103=[];e.includes("Control")&&_s103.push("Ctrl"),e.includes("Alt")&&_s103.push("Alt"),e.includes("Meta")&&_s103.push("Meta"),e.includes("Shift")&&_s103.push("Shift"),e.includes("Symbol")&&_s103.push("Symbol");var _n61={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"};null!==i&&_s103.push(_n61[i]||i),t=_s103.join("+");}this.I.main.textContent=t;}}]);return Tn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Tn,"observedAttributes",["value"]);_defineProperty(Tn,"_shadowTemplate",zs(_templateObject158()));_defineProperty(Tn,"_shadowStyleSheet",Os(_templateObject159()));customElements.define("x-shortcut",Tn);var An=function An(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;if(t.length!==e.length)return!1;if(i){for(var _i169 in t){if(t[_i169]!==e[_i169])return!1;}}else{for(var _i170=0;_i170<t.length;_i170+=1){if(!e.includes(t[_i170]))return!1;}for(var _i171=0;_i171<e.length;_i171+=1){if(!t.includes(e[_i171]))return!1;}}return!0;},$n=function $n(t,e){return os(os(t/e)*e,as(e));};var In=/*#__PURE__*/function(_HTMLElement28){_inherits(In,_HTMLElement28);var _super29=_createSuper(In);_createClass(In,[{key:"min",get:function get(){return this.hasAttribute("min")?parseFloat(this.getAttribute("min")):0;},set:function set(t){this.setAttribute("min",t);}},{key:"max",get:function get(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):100;},set:function set(t){this.setAttribute("max",t);}},{key:"value",get:function get(){if(this.hasAttribute("value")){var _t230=this.getAttribute("value").split(/[ ,]+/);return _t230.length>=2?_t230.map(function(t){return parseFloat(t);}).slice(0,2):parseFloat(_t230[0]);}return this.max>=this.min?this.min+(this.max-this.min)/2:this.min;},set:function set(t){var _this108=this;Array.isArray(t)?((t=t.map(function(t){return hs(t,_this108.min,_this108.max);})).length=2,this.setAttribute("value",t.join(" "))):(t=hs(t,this.min,this.max),this.setAttribute("value",t));}},{key:"buffer",get:function get(){if(this.hasAttribute("buffer")){var _t231=this.getAttribute("buffer").split(/[ ,]+/);return _t231.length>=2?_t231.map(function(t){return parseFloat(t);}).slice(0,2):[0,parseFloat(_t231[0])];}return[0,0];},set:function set(t){var _this109=this;(t=t.map(function(t){return hs(t,_this109.min,_this109.max);})).length=2,this.setAttribute("buffer",t.join(" "));}},{key:"step",get:function get(){return this.hasAttribute("step")?parseFloat(this.getAttribute("step")):1;},set:function set(t){this.setAttribute("step",t);}},{key:"vertical",get:function get(){return this.hasAttribute("vertical");},set:function set(t){t?this.setAttribute("vertical",""):this.removeAttribute("vertical");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}},{key:"dragging",get:function get(){return this.getAttribute("dragging");}}]);function In(){var _temp31,_this107;_classCallCheck(this,In);(_temp31=_this107=_super29.call(this),_defineProperty(_assertThisInitialized(_this107),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this107),"I",{}),_defineProperty(_assertThisInitialized(_this107),"yt",0),_defineProperty(_assertThisInitialized(_this107),"B",null),_defineProperty(_assertThisInitialized(_this107),"Yi",new MutationObserver(function(t){return _this107.Wi(t);})),_defineProperty(_assertThisInitialized(_this107),"ls",new ResizeObserver(function(){return _this107.rs();})),_defineProperty(_assertThisInitialized(_this107),"bs",Ws(_this107.cs,500,_assertThisInitialized(_this107))),_temp31),_this107._shadowRoot=_this107.attachShadow({mode:"closed",delegatesFocus:!0}),_this107._shadowRoot.adoptedStyleSheets=[In._shadowStyleSheet],_this107._shadowRoot.append(document.importNode(In._shadowTemplate.content,!0));var _iterator128=_createForOfIteratorHelper(_this107._shadowRoot.querySelectorAll("[id]")),_step128;try{for(_iterator128.s();!(_step128=_iterator128.n()).done;){var _t232=_step128.value;_this107.I[_t232.id]=_t232;}}catch(err){_iterator128.e(err);}finally{_iterator128.f();}_this107._shadowRoot.addEventListener("pointerdown",function(t){return _this107.vi(t);}),_this107.addEventListener("pointerdown",function(t){return _this107.zt(t);}),_this107.addEventListener("keydown",function(t){return _this107.kt(t);});return _this107;}_createClass(In,[{key:"connectedCallback",value:function connectedCallback(){var _this110=this;this.setAttribute("value",this.value),$s.addEventListener("sizechange",this.B=function(){return _this110.U();}),this.ls.observe(this.I["start-thumb"]),this.Yi.observe(this,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"],characterData:!1}),this.ds(),this.us(),this.cs(),this.Ct(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.B),this.ls.unobserve(this.I["start-thumb"]),this.Yi.disconnect();}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"buffer"===t?this.ps():"min"===t?this.Ei():"max"===t?this.Ai():"size"===t&&this.lt());}},{key:"ot",value:function ot(){this.ds(),this.us();}},{key:"ps",value:function ps(){this.ds();}},{key:"Ei",value:function Ei(){this.ds(),this.us(),this.cs();}},{key:"Ai",value:function Ai(){this.ds(),this.us(),this.cs();}},{key:"lt",value:function lt(){this.U();}},{key:"Wi",value:function Wi(t){var _iterator129=_createForOfIteratorHelper(t),_step129;try{for(_iterator129.s();!(_step129=_iterator129.n()).done;){var _e188=_step129.value;if("attributes"===_e188.type&&_e188.target===this)return;this.bs();}}catch(err){_iterator129.e(err);}finally{_iterator129.f();}}},{key:"rs",value:function rs(){var t=this.I["start-thumb"].getBoundingClientRect();this.I.main.style.setProperty("--computed-thumb-width",t.width+"px"),this.I.main.style.setProperty("--computed-thumb-height",t.height+"px");}},{key:"zt",value:function zt(t){if(!1===this.matches(":focus")){t.preventDefault();var _e189=js(this.parentNode,"[tabindex]");_e189&&_e189.focus();}}},{key:"vi",value:function vi(t){var _this111=this;if(1!==t.buttons||!1===t.isPrimary)return;var e,_i173,s=null,_this$I$startThumb$g=this.I["start-thumb"].getBoundingClientRect(),n=_this$I$startThumb$g.width,o=_this$I$startThumb$g.height,l=this.I.main.getBoundingClientRect(),h=!1;if(t.target.matches(".thumb"))s=t.target;else if(!0===this.I["end-thumb"].hidden)s=this.I["start-thumb"];else{var _e190=this.I["start-thumb"].getBoundingClientRect(),_i172=this.I["end-thumb"].getBoundingClientRect(),_n62=new DOMPoint(_e190.x+_e190.width/2,_e190.y+_e190.height/2),_o43=new DOMPoint(_i172.x+_i172.width/2,_i172.y+_i172.height/2),_l37=new DOMPoint(t.clientX,t.clientY),_h28=rs(_l37,_n62),_a20=rs(_l37,_o43);s=_h28<=_a20?this.I["start-thumb"]:this.I["end-thumb"];}var a=function a(t,e){var i=0;if(_this111.vertical){var _t233=l.y+l.height-o/2-e;_t233=hs(_t233,0,l.height-o),i=_t233/(l.height-o)*(_this111.max-_this111.min)+_this111.min;}else{var _e191=t-(l.x+n/2);_e191=hs(_e191,0,l.width-n),i=_e191/(l.width-n)*(_this111.max-_this111.min)+_this111.min;}if(i=$n(i,_this111.step),Array.isArray(_this111.value)){var _this111$value=_slicedToArray(_this111.value,2),_t234=_this111$value[0],_e192=_this111$value[1];s===_this111.I["start-thumb"]?(i>=_e192&&(i=_e192),i!==_t234&&(_this111.value=[i,_e192],!1===h&&(h=!0,_this111.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),_this111.dispatchEvent(new CustomEvent("change",{bubbles:!0})))):s===_this111.I["end-thumb"]&&(i<=_t234&&(i=_t234),i!==_e192&&(_this111.value=[_t234,i],!1===h&&(h=!0,_this111.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),_this111.dispatchEvent(new CustomEvent("change",{bubbles:!0}))));}else _this111.value!==i&&(_this111.value=i,!1===h&&(h=!0,_this111.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),_this111.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};s.setPointerCapture(t.pointerId),this.setAttribute("dragging",s.dataset.value),a(t.clientX,t.clientY);var _iterator130=_createForOfIteratorHelper(this.I.thumbs.children),_step130;try{for(_iterator130.s();!(_step130=_iterator130.n()).done;){var _t235=_step130.value;_t235.style.zIndex=_t235===s?"1":"0";}}catch(err){_iterator130.e(err);}finally{_iterator130.f();}s.addEventListener("pointermove",e=function e(t){t.isPrimary&&a(t.clientX,t.clientY);}),s.addEventListener("lostpointercapture",_i173=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i173),_this111.removeAttribute("dragging"),h&&_this111.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}));});}},{key:"kt",value:function kt(t){if("ArrowLeft"===t.code||"ArrowDown"===t.code){t.preventDefault(),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var _e193=this.value;if(Array.isArray(this.value)){var _this$value=_slicedToArray(this.value,2),_i174=_this$value[0],_s104=_this$value[1];this._shadowRoot.activeElement===this.I["start-thumb"]?t.shiftKey?_i174-=10*this.step:_i174-=this.step:this._shadowRoot.activeElement===this.I["end-thumb"]&&(t.shiftKey?_s104-=10*this.step:_s104-=this.step,_s104<=_i174&&(_s104=_i174)),this.value=[_i174,_s104],!1===An(_e193,this.value)&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}else t.shiftKey?this.value-=10*this.step:this.value-=this.step,_e193!==this.value&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}));}else if("ArrowRight"===t.code||"ArrowUp"===t.code){t.preventDefault(),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var _e194=this.value;if(Array.isArray(this.value)){var _this$value2=_slicedToArray(this.value,2),_i175=_this$value2[0],_s105=_this$value2[1];this._shadowRoot.activeElement===this.I["start-thumb"]?(t.shiftKey?_i175+=10*this.step:_i175+=this.step,_i175>=_s105&&(_i175=_s105)):this._shadowRoot.activeElement===this.I["end-thumb"]&&(t.shiftKey?_s105+=10*this.step:_s105+=this.step),this.value=[_i175,_s105],!1===An(_e194,this.value)&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}else t.shiftKey?this.value+=10*this.step:this.value+=this.step,_e194!==this.value&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}));}}},{key:"us",value:function us(){if(Array.isArray(this.value)){var _this$value3=_slicedToArray(this.value,2),_t236=_this$value3[0],_e195=_this$value3[1];{var _e196=(_t236-this.min)/(this.max-this.min)*100;this.vertical?(this.I["start-thumb"].style.top=100-_e196+"%",this.I["start-thumb"].hidden=!1):(this.I["start-thumb"].style.left=_e196+"%",this.I["start-thumb"].hidden=!1);}{var _t237=(_e195-this.min)/(this.max-this.min)*100;this.vertical?(this.I["end-thumb"].style.top=100-_t237+"%",this.I["end-thumb"].hidden=!1):(this.I["end-thumb"].style.left=_t237+"%",this.I["end-thumb"].hidden=!1);}}else{var _t238=(this.value-this.min)/(this.max-this.min)*100;this.vertical?(this.I["start-thumb"].style.top=100-_t238+"%",this.I["start-thumb"].hidden=!1,this.I["end-thumb"].hidden=!0):(this.I["start-thumb"].style.left=_t238+"%",this.I["start-thumb"].hidden=!1,this.I["end-thumb"].hidden=!0);}}},{key:"ds",value:function ds(){if(Array.isArray(this.value)){var _this$value4=_slicedToArray(this.value,2),_t239=_this$value4[0],_e197=_this$value4[1],_i176=(_t239-this.min)/(this.max-this.min)*100,_s106=(_e197-this.min)/(this.max-this.min)*100;this.vertical?(this.I["range-track"].style.bottom="".concat(_i176,"%"),this.I["range-track"].style.height=_s106-_i176+"%"):(this.I["range-track"].style.left="".concat(_i176,"%"),this.I["range-track"].style.width=_s106-_i176+"%");}else{var _t240=(this.value-this.min)/(this.max-this.min)*100,_e198=((this.min>0?this.min:0)-this.min)/(this.max-this.min)*100;this.vertical?_t240>=_e198?(this.I["range-track"].style.bottom="".concat(_e198,"%"),this.I["range-track"].style.height=_t240-_e198+"%"):(this.I["range-track"].style.bottom="".concat(_t240,"%"),this.I["range-track"].style.height=_e198-_t240+"%"):_t240>=_e198?(this.I["range-track"].style.left="".concat(_e198,"%"),this.I["range-track"].style.width=_t240-_e198+"%"):(this.I["range-track"].style.left="".concat(_t240,"%"),this.I["range-track"].style.width=_e198-_t240+"%");}{var _this$buffer=_slicedToArray(this.buffer,2),_t241=_this$buffer[0],_e199=_this$buffer[1],_i177=(_t241-this.min)/(this.max-this.min)*100,_s107=(_e199-this.min)/(this.max-this.min)*100;this.vertical?(this.I["buffer-track"].style.bottom=_i177+"%",this.I["buffer-track"].style.height=_s107-_i177+"%"):(this.I["buffer-track"].style.left=_i177+"%",this.I["buffer-track"].style.width=_s107-_i177+"%");}}},{key:"cs",value:function(){var _cs=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee55(){var _iterator131,_step131,_t242;return regeneratorRuntime.wrap(function _callee55$(_context55){while(1){switch(_context55.prev=_context55.next){case 0:_context55.next=2;return customElements.whenDefined("x-label");case 2:this.I.ticks.innerHTML="";_iterator131=_createForOfIteratorHelper(this.querySelectorAll(":scope > x-label"));try{for(_iterator131.s();!(_step131=_iterator131.n()).done;){_t242=_step131.value;this.vertical?_t242.style.top=100-(_t242.value-this.min)/(this.max-this.min)*100+"%":_t242.style.left=(_t242.value-this.min)/(this.max-this.min)*100+"%",_t242===this.firstElementChild?_t242.style.position="relative":_t242.style.position=null,this.vertical?this.I.ticks.insertAdjacentHTML("beforeend","<div class=\"tick\" part=\"tick\" style=\"top: ".concat(_t242.style.top,"\"></div>")):this.I.ticks.insertAdjacentHTML("beforeend","<div class=\"tick\" part=\"tick\" style=\"left: ".concat(_t242.style.left,"\"></div>"));}}catch(err){_iterator131.e(err);}finally{_iterator131.f();}case 5:case"end":return _context55.stop();}}},_callee55,this);}));function cs(){return _cs.apply(this,arguments);}return cs;}()},{key:"Ct",value:function Ct(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return In;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(In,"observedAttributes",["value","buffer","min","max","size"]);_defineProperty(In,"_shadowTemplate",zs(_templateObject160()));_defineProperty(In,"_shadowStyleSheet",Os(_templateObject161()));customElements.define("x-slider",In);var Ln=/*#__PURE__*/function(_HTMLElement29){_inherits(Ln,_HTMLElement29);var _super30=_createSuper(Ln);_createClass(Ln,[{key:"disabled",get:function get(){return!!this.hasAttribute("disabled")&&("increment"===this.getAttribute("disabled")?"increment":"decrement"!==this.getAttribute("disabled")||"decrement");},set:function set(t){!0===t?this.setAttribute("disabled",""):!1===t?this.removeAttribute("disabled"):this.setAttribute("disabled",t);}}]);function Ln(){var _temp32,_this112;_classCallCheck(this,Ln);(_temp32=_this112=_super30.call(this),_defineProperty(_assertThisInitialized(_this112),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this112),"I",{}),_defineProperty(_assertThisInitialized(_this112),"gs",null),_temp32),_this112._shadowRoot=_this112.attachShadow({mode:"closed"}),_this112._shadowRoot.adoptedStyleSheets=[Ln._shadowStyleSheet],_this112._shadowRoot.append(document.importNode(Ln._shadowTemplate.content,!0));var _iterator132=_createForOfIteratorHelper(_this112._shadowRoot.querySelectorAll("[id]")),_step132;try{for(_iterator132.s();!(_step132=_iterator132.n()).done;){var _t243=_step132.value;_this112.I[_t243.id]=_t243;}}catch(err){_iterator132.e(err);}finally{_iterator132.f();}_this112._shadowRoot.addEventListener("pointerdown",function(t){return _this112.zt(t);});return _this112;}_createClass(Ln,[{key:"connectedCallback",value:function connectedCallback(){"x-numberinput"===this.parentElement.localName&&(this.gs=this.parentElement,this.gs.setAttribute("hasstepper",""));}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.gs&&(null===this.gs.querySelector(":scope > x-stepper")&&this.gs.removeAttribute("hasstepper",""),this.gs=null);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t&&this.qt();}},{key:"qt",value:function qt(){this.hasAttribute("disabled")&&(this.removeAttribute("pressed"),this.I["increment-button"].removeAttribute("data-pressed"),this.I["decrement-button"].removeAttribute("data-pressed"));}},{key:"zt",value:function zt(t){var _this113=this;var e=t.target.closest(".button"),i=null;if(e===this.I["increment-button"]?i="increment":e===this.I["decrement-button"]&&(i="decrement"),1===t.buttons&&null!==i){{var _s108=Date.now();e.setAttribute("data-pressed",""),this.setAttribute("pressed",i),this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",/*#__PURE__*/function(){var _ref44=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee56(t){var i;return regeneratorRuntime.wrap(function _callee56$(_context56){while(1){switch(_context56.prev=_context56.next){case 0:i=Date.now()-_s108;_context56.t0=i<100;if(!_context56.t0){_context56.next=5;break;}_context56.next=5;return Hs(100-i);case 5:e.removeAttribute("data-pressed");_this113.removeAttribute("pressed");case 7:case"end":return _context56.stop();}}},_callee56);}));return function(_x42){return _ref44.apply(this,arguments);};}(),{once:!0});}{var _e200=null,_s109=Date.now(),_n63=t.shiftKey;this.dispatchEvent(new CustomEvent(i+"start",{bubbles:!0})),this.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{shiftKey:_n63}})),this.addEventListener("lostpointercapture",function(t){clearInterval(_e200),_this113.dispatchEvent(new CustomEvent(i+"end",{bubbles:!0}));},{once:!0}),_e200=setInterval(function(){Date.now()-_s109>500&&_this113.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{shiftKey:_n63}}));},100);}}}}]);return Ln;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ln,"observedAttributes",["disabled"]);_defineProperty(Ln,"_shadowTemplate",zs(_templateObject162()));_defineProperty(Ln,"_shadowStyleSheet",Os(_templateObject163()));customElements.define("x-stepper",Ln);var Bn=/*#__PURE__*/function(_HTMLElement30){_inherits(Bn,_HTMLElement30);var _super31=_createSuper(Bn);_createClass(Bn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"white";},set:function set(t){this.setAttribute("value",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Bn(){var _temp33,_this114;_classCallCheck(this,Bn);(_temp33=_this114=_super31.call(this),_defineProperty(_assertThisInitialized(_this114),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this114),"I",{}),_defineProperty(_assertThisInitialized(_this114),"B",null),_temp33),_this114._shadowRoot=_this114.attachShadow({mode:"closed"}),_this114._shadowRoot.adoptedStyleSheets=[Bn._shadowStyleSheet],_this114._shadowRoot.append(document.importNode(Bn._shadowTemplate.content,!0));var _iterator133=_createForOfIteratorHelper(_this114._shadowRoot.querySelectorAll("[id]")),_step133;try{for(_iterator133.s();!(_step133=_iterator133.n()).done;){var _t244=_step133.value;_this114.I[_t244.id]=_t244;}}catch(err){_iterator133.e(err);}finally{_iterator133.f();}return _this114;}_createClass(Bn,[{key:"connectedCallback",value:function connectedCallback(){var _this115=this;this.xs(),this.U(),$s.addEventListener("sizechange",this.B=function(){return _this115.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t?this.xs():"size"===t&&this.U();}},{key:"xs",value:function xs(){this.I.preview.style.background=this.value;}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return Bn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Bn,"observedAttributes",["value","size"]);_defineProperty(Bn,"_shadowTemplate",zs(_templateObject164()));_defineProperty(Bn,"_shadowStyleSheet",Os(_templateObject165()));customElements.define("x-swatch",Bn);var Rn=/*#__PURE__*/function(_HTMLElement31){_inherits(Rn,_HTMLElement31);var _super32=_createSuper(Rn);_createClass(Rn,[{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Rn(){var _temp34,_this116;_classCallCheck(this,Rn);(_temp34=_this116=_super32.call(this),_defineProperty(_assertThisInitialized(_this116),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this116),"I",{}),_defineProperty(_assertThisInitialized(_this116),"yt",0),_defineProperty(_assertThisInitialized(_this116),"B",null),_temp34),_this116._shadowRoot=_this116.attachShadow({mode:"closed"}),_this116._shadowRoot.adoptedStyleSheets=[Rn._shadowStyleSheet],_this116._shadowRoot.append(document.importNode(Rn._shadowTemplate.content,!0));var _iterator134=_createForOfIteratorHelper(_this116._shadowRoot.querySelectorAll("[id]")),_step134;try{for(_iterator134.s();!(_step134=_iterator134.n()).done;){var _t245=_step134.value;_this116.I[_t245.id]=_t245;}}catch(err){_iterator134.e(err);}finally{_iterator134.f();}_this116.addEventListener("pointerdown",function(t){return _this116.zt(t);}),_this116.addEventListener("click",function(t){return _this116.N(t);}),_this116.addEventListener("keydown",function(t){return _this116.kt(t);});return _this116;}_createClass(Rn,[{key:"connectedCallback",value:function connectedCallback(){var _this117=this;$s.addEventListener("sizechange",this.B=function(){return _this117.U();}),this.Ct(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"toggled"===t?this.Nt():"disabled"===t?this.qt():"size"===t&&this.U();}},{key:"Ct",value:function Ct(){this.setAttribute("role","switch"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Nt",value:function Nt(){this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled);}},{key:"qt",value:function qt(){this.Ct();}},{key:"zt",value:function zt(t){if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();var _e201=js(this.parentNode,"[tabindex]");_e201&&_e201.focus();}}else t.preventDefault();}},{key:"N",value:function(){var _N6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee57(t){return regeneratorRuntime.wrap(function _callee57$(_context57){while(1){switch(_context57.prev=_context57.next){case 0:this.mixed?this.mixed=!1:this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle"));case 1:case"end":return _context57.stop();}}},_callee57,this);}));function N(_x43){return _N6.apply(this,arguments);}return N;}()},{key:"kt",value:function kt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click());}}]);return Rn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Rn,"observedAttributes",["toggled","disabled","size"]);_defineProperty(Rn,"_shadowTemplate",zs(_templateObject166()));_defineProperty(Rn,"_shadowStyleSheet",Os(_templateObject167()));customElements.define("x-switch",Rn);var Gn=Math.max;var Fn=/*#__PURE__*/function(_HTMLElement32){_inherits(Fn,_HTMLElement32);var _super33=_createSuper(Fn);_createClass(Fn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"";},set:function set(t){this.setAttribute("value",t);}},{key:"selected",get:function get(){return this.hasAttribute("selected");},set:function set(t){t?this.setAttribute("selected",""):this.removeAttribute("selected");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Fn(){var _temp35,_this118;_classCallCheck(this,Fn);(_temp35=_this118=_super33.call(this),_defineProperty(_assertThisInitialized(_this118),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this118),"I",{}),_defineProperty(_assertThisInitialized(_this118),"B",null),_temp35),_this118._shadowRoot=_this118.attachShadow({mode:"closed"}),_this118._shadowRoot.adoptedStyleSheets=[Fn._shadowStyleSheet],_this118._shadowRoot.append(document.importNode(Fn._shadowTemplate.content,!0));var _iterator135=_createForOfIteratorHelper(_this118._shadowRoot.querySelectorAll("[id]")),_step135;try{for(_iterator135.s();!(_step135=_iterator135.n()).done;){var _t246=_step135.value;_this118.I[_t246.id]=_t246;}}catch(err){_iterator135.e(err);}finally{_iterator135.f();}_this118.addEventListener("pointerdown",function(t){return _this118.zt(t);}),_this118.addEventListener("click",function(t){return _this118.N(t);});return _this118;}_createClass(Fn,[{key:"connectedCallback",value:function connectedCallback(){var _this119=this;this.Ct(),this.U(),$s.addEventListener("sizechange",this.B=function(){return _this119.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"selected"===t||"disabled"===t?this.Ct():"size"===t&&this.U();}},{key:"animateSelectionIndicator",value:function animateSelectionIndicator(t){var _this120=this;return new Promise(/*#__PURE__*/function(){var _ref45=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee58(e){var _e202,_i178,_s110;return regeneratorRuntime.wrap(function _callee58$(_context58){while(1){switch(_context58.prev=_context58.next){case 0:if(!("0px"!==_this120.I["selection-indicator"].style.height)){_context58.next=4;break;}_e202=_this120.getBoundingClientRect(),_i178=t.getBoundingClientRect(),_s110=_this120.I["selection-indicator"].animate([{left:"0px",width:_e202.width+"px"},{left:_i178.left-_e202.left+"px",width:_i178.width+"px"}],{duration:100,iterations:1,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"});_context58.next=4;return _s110.finished;case 4:e();case 5:case"end":return _context58.stop();}}},_callee58);}));return function(_x44){return _ref45.apply(this,arguments);};}());}},{key:"Ct",value:function Ct(){this.setAttribute("role","tab"),this.setAttribute("aria-selected",this.selected),this.setAttribute("aria-disabled",this.disabled),this.setAttribute("tabindex",this.selected?"0":"-1");}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"zt",value:function(){var _zt2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee60(t){var _this121=this;var _e203,_e204,_e205,_i180,_s111,_n64,_o44,_l38,_h29,_a21,_r13;return regeneratorRuntime.wrap(function _callee60$(_context60){while(1){switch(_context60.prev=_context60.next){case 0:if(!1===this.matches(":focus")){t.preventDefault();_e203=js(this.parentNode,"[tabindex]");_e203&&_e203.focus();}if(!(1===t.buttons)){_context60.next=24;break;}_e204=Date.now();this.setAttribute("pressed",""),this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",/*#__PURE__*/function(){var _ref46=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee59(t){var _t247,_i179;return regeneratorRuntime.wrap(function _callee59$(_context59){while(1){switch(_context59.prev=_context59.next){case 0:if(!(!0===_this121.selected)){_context59.next=6;break;}_t247=Date.now()-_e204,_i179=100;_context59.t0=_t247<_i179;if(!_context59.t0){_context59.next=6;break;}_context59.next=6;return Hs(_i179-_t247);case 6:_this121.removeAttribute("pressed");case 7:case"end":return _context59.stop();}}},_callee59);}));return function(_x46){return _ref46.apply(this,arguments);};}(),{once:!0});if(!("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context60.next=24;break;}_e205=this.I.ripples.getBoundingClientRect(),_i180=1.5*Gn(_e205.width,_e205.height),_s111=t.clientY-_e205.y-_i180/2,_n64=t.clientX-_e205.x-_i180/2,_o44=new Promise(function(t){return _this121.addEventListener("lostpointercapture",t,{once:!0});}),_l38=Vs("div");_l38.setAttribute("part","ripple");_l38.setAttribute("class","ripple pointer-down-ripple");_l38.setAttribute("style","width: ".concat(_i180,"px; height: ").concat(_i180,"px; top: ").concat(_s111,"px; left: ").concat(_n64,"px;"));this.I.ripples.append(_l38);this.setPointerCapture(t.pointerId);_l38.hidden=!0;_context60.next=14;return Hs(10);case 14:_l38.hidden=!1;_h29=_l38.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context60.next=18;return _o44;case 18:_context60.next=20;return _h29.finished;case 20:_a21=getComputedStyle(_l38).opacity,_r13=_l38.animate({opacity:[_a21,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context60.next=23;return _r13.finished;case 23:_l38.remove();case 24:case"end":return _context60.stop();}}},_callee60,this);}));function zt(_x45){return _zt2.apply(this,arguments);}return zt;}()},{key:"N",value:function(){var _N7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee61(t){var _t248,_e206,_i181,_s112,_n65,_o45,_l39,_h30;return regeneratorRuntime.wrap(function _callee61$(_context61){while(1){switch(_context61.prev=_context61.next){case 0:if(!(null===this.I.ripples.querySelector(".pointer-down-ripple")&&"ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context61.next=10;break;}_t248=this.I.ripples.getBoundingClientRect(),_e206=1.5*Gn(_t248.width,_t248.height),_i181=_t248.y+_t248.height/2-_t248.y-_e206/2,_s112=_t248.x+_t248.width/2-_t248.x-_e206/2,_n65=Vs("div");_n65.setAttribute("part","ripple"),_n65.setAttribute("class","ripple click-ripple"),_n65.setAttribute("style","width: ".concat(_e206,"px; height: ").concat(_e206,"px; top: ").concat(_i181,"px; left: ").concat(_s112,"px;")),this.I.ripples.append(_n65);_o45=_n65.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context61.next=6;return _o45.finished;case 6:_l39=getComputedStyle(_n65).opacity,_h30=_n65.animate({opacity:[_l39,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context61.next=9;return _h30.finished;case 9:_n65.remove();case 10:case"end":return _context61.stop();}}},_callee61,this);}));function N(_x47){return _N7.apply(this,arguments);}return N;}()}]);return Fn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Fn,"observedAttributes",["selected","disabled","size"]);_defineProperty(Fn,"_shadowTemplate",zs(_templateObject168()));_defineProperty(Fn,"_shadowStyleSheet",Os(_templateObject169()));customElements.define("x-tab",Fn);var Un=/*#__PURE__*/function(_HTMLElement33){_inherits(Un,_HTMLElement33);var _super34=_createSuper(Un);_createClass(Un,[{key:"value",get:function get(){var t=this.querySelector("x-tab[selected]");return t?t.value:null;},set:function set(t){var e=_toConsumableArray(this.querySelectorAll("x-tab")),i=null===t?null:e.find(function(e){return e.value===t;});var _iterator136=_createForOfIteratorHelper(e),_step136;try{for(_iterator136.s();!(_step136=_iterator136.n()).done;){var _t249=_step136.value;_t249.selected=_t249===i;}}catch(err){_iterator136.e(err);}finally{_iterator136.f();}}}]);function Un(){var _temp36,_this122;_classCallCheck(this,Un);(_temp36=_this122=_super34.call(this),_defineProperty(_assertThisInitialized(_this122),"_shadowRoot",null),_temp36),_this122._shadowRoot=_this122.attachShadow({mode:"closed"}),_this122._shadowRoot.adoptedStyleSheets=[Un._shadowStyleSheet],_this122._shadowRoot.append(document.importNode(Un._shadowTemplate.content,!0)),_this122.addEventListener("click",function(t){return _this122.N(t);}),_this122.addEventListener("keydown",function(t){return _this122.kt(t);});return _this122;}_createClass(Un,[{key:"connectedCallback",value:function connectedCallback(){this.setAttribute("role","tablist");}},{key:"N",value:function(){var _N8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee62(t){var _e207,_i182,_s113,_iterator137,_step137,_t250;return regeneratorRuntime.wrap(function _callee62$(_context62){while(1){switch(_context62.prev=_context62.next){case 0:if(!(0===t.button&&t.target.closest("x-tab"))){_context62.next=10;break;}_e207=this.querySelectorAll("x-tab"),_i182=t.target.closest("x-tab"),_s113=this.querySelector("x-tab[selected]");if(!(_i182!==_s113)){_context62.next=10;break;}_context62.t0=_s113;if(!_context62.t0){_context62.next=7;break;}_context62.next=7;return _s113.animateSelectionIndicator(_i182);case 7:_iterator137=_createForOfIteratorHelper(_e207);try{for(_iterator137.s();!(_step137=_iterator137.n()).done;){_t250=_step137.value;_t250.selected=_t250===_i182;}}catch(err){_iterator137.e(err);}finally{_iterator137.f();}this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));case 10:case"end":return _context62.stop();}}},_callee62,this);}));function N(_x48){return _N8.apply(this,arguments);}return N;}()},{key:"kt",value:function kt(t){if("Enter"===t.code||"Space"===t.code){var _e208=t.target;_e208.querySelector("x-label"),t.preventDefault(),_e208.click();}else if("ArrowLeft"===t.code){var _e209=_toConsumableArray(this.querySelectorAll("x-tab:not([disabled])")),_i183=this.querySelector('x-tab[tabindex="0"]');if(t.target,t.preventDefault(),_i183&&_e209.length>0){var _t251=_e209.indexOf(_i183),_s114=_e209[_t251-1]||_e209[_e209.length-1];_i183.tabIndex=-1,_s114.tabIndex=0,_s114.focus();}}else if("ArrowRight"===t.code){var _e210=_toConsumableArray(this.querySelectorAll("x-tab:not([disabled])")),_i184=this.querySelector('x-tab[tabindex="0"]');if(t.target,t.preventDefault(),_i184&&_e210.length>0){var _t252=_e210.indexOf(_i184),_s115=_e210[_t252+1]||_e210[0];_i184.tabIndex=-1,_s115.tabIndex=0,_s115.focus();}}}}]);return Un;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Un,"_shadowTemplate",zs(_templateObject170()));_defineProperty(Un,"_shadowStyleSheet",Os(_templateObject171()));customElements.define("x-tabs",Un);var Nn=/*#__PURE__*/function(_HTMLElement34){_inherits(Nn,_HTMLElement34);var _super35=_createSuper(Nn);_createClass(Nn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"removable",get:function get(){return this.hasAttribute("removable");},set:function set(t){t?this.setAttribute("removable",""):this.removeAttribute("removable");}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Nn(){var _temp37,_this123;_classCallCheck(this,Nn);(_temp37=_this123=_super35.call(this),_defineProperty(_assertThisInitialized(_this123),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this123),"I",{}),_defineProperty(_assertThisInitialized(_this123),"B",null),_temp37),_this123._shadowRoot=_this123.attachShadow({mode:"closed"}),_this123._shadowRoot.adoptedStyleSheets=[Nn._shadowStyleSheet],_this123._shadowRoot.append(document.importNode(Nn._shadowTemplate.content,!0));var _iterator138=_createForOfIteratorHelper(_this123._shadowRoot.querySelectorAll("[id]")),_step138;try{for(_iterator138.s();!(_step138=_iterator138.n()).done;){var _t253=_step138.value;_this123.I[_t253.id]=_t253;}}catch(err){_iterator138.e(err);}finally{_iterator138.f();}_this123.I["scope-slot"].addEventListener("slotchange",function(){return _this123.fs();}),_this123.I["remove-button"].addEventListener("click",function(t){return _this123.ws(t);});return _this123;}_createClass(Nn,[{key:"connectedCallback",value:function connectedCallback(){var _this124=this;this.U(),this.fs(),$s.addEventListener("sizechange",this.B=function(){return _this124.U();}),this.closest("x-tags")?(this.tabIndex=0,this.removable=!1):this.closest("x-tagsinput")?(this.toggled=!1,this.tabIndex=0,this.removable=!0):this.removable=!1;}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"size"===t&&this.U();}},{key:"ws",value:function ws(t){0===t.buttons&&this.dispatchEvent(new CustomEvent("remove",{bubbles:!0}));}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"fs",value:function fs(){0===this.I["scope-slot"].assignedElements().length?this.removeAttribute("scoped"):this.setAttribute("scoped","");}}]);return Nn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Nn,"observedAttributes",["disabled","size"]);_defineProperty(Nn,"_shadowTemplate",zs(_templateObject172()));_defineProperty(Nn,"_shadowStyleSheet",Os(_templateObject173()));customElements.define("x-tag",Nn);var Vn=/*#__PURE__*/function(_HTMLElement35){_inherits(Vn,_HTMLElement35);var _super36=_createSuper(Vn);_createClass(Vn,[{key:"value",get:function get(){return _toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}).filter(function(t){return t.toggled;}).map(function(t){return t.value;}).filter(function(t){return null!==t;});},set:function set(t){var e=_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;});var _iterator139=_createForOfIteratorHelper(e),_step139;try{for(_iterator139.s();!(_step139=_iterator139.n()).done;){var _i185=_step139.value;_i185.toggled=t.includes(_i185.value);}}catch(err){_iterator139.e(err);}finally{_iterator139.f();}}}]);function Vn(){var _temp38,_this125;_classCallCheck(this,Vn);(_temp38=_this125=_super36.call(this),_defineProperty(_assertThisInitialized(_this125),"_shadowRoot",null),_temp38),_this125._shadowRoot=_this125.attachShadow({mode:"closed"}),_this125._shadowRoot.adoptedStyleSheets=[Vn._shadowStyleSheet],_this125._shadowRoot.append(document.importNode(Vn._shadowTemplate.content,!0)),_this125.addEventListener("pointerdown",function(t){return _this125.zt(t);}),_this125.addEventListener("click",function(t){return _this125.N(t);}),_this125.addEventListener("keydown",function(t){return _this125.kt(t);});return _this125;}_createClass(Vn,[{key:"zt",value:function zt(t){var _this126=this;if(1===t.buttons){if(t.preventDefault(),!1===this.matches(":focus")){var _t254=js(this.parentNode,"*[tabindex]:not(a)");this.addEventListener("lostpointercapture",function(){_t254?_t254.focus():_this126.blur();},{once:!0});}}else t.preventDefault();}},{key:"N",value:function N(t){var e=t.target.closest("x-tag");e&&!1===t.defaultPrevented&&(e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{detail:e})));}},{key:"kt",value:function kt(t){if(!1===t.defaultPrevented)if("Enter"===t.code||"Space"===t.code){var _e211=this.querySelector("x-tag:focus");_e211&&(t.preventDefault(),_e211.click());}else if("ArrowRight"===t.key){var _t255=this.querySelector("x-tag:focus");_t255&&(_t255.nextElementSibling?_t255.nextElementSibling.focus():_t255!==_t255.parentElement.firstElementChild&&_t255.parentElement.firstElementChild.focus());}else if("ArrowLeft"===t.key){var _t256=this.querySelector("x-tag:focus");_t256&&(_t256.previousElementSibling?_t256.previousElementSibling.focus():_t256!==_t256.parentElement.lastElementChild&&_t256.parentElement.lastElementChild.focus());}}}]);return Vn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Vn,"_shadowTemplate",zs(_templateObject174()));_defineProperty(Vn,"_shadowStyleSheet",Os(_templateObject175()));customElements.define("x-tags",Vn);var jn=/*#__PURE__*/function(_HTMLElement36){_inherits(jn,_HTMLElement36);var _super37=_createSuper(jn);_createClass(jn,[{key:"value",get:function get(){return _toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}).map(function(t){return t.value;}).filter(function(t){return null!==t;});}},{key:"delimiter",get:function get(){return this.hasAttribute("delimiter")?this.getAttribute("delimiter"):",";},set:function set(t){this.setAttribute("delimiter",t);}},{key:"spellcheck",get:function get(){return this.hasAttribute("spellcheck");},set:function set(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"required",get:function get(){return this.hasAttribute("required");},set:function set(t){t?this.setAttribute("required",""):this.removeAttribute("required");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"suggestions",get:function get(){return this.hasAttribute("suggestions");},set:function set(t){t?this.setAttribute("suggestions",""):this.removeAttribute("suggestions");}},{key:"error",get:function get(){return this.getAttribute("error");},set:function set(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function jn(){var _temp39,_this127;_classCallCheck(this,jn);(_temp39=_this127=_super37.call(this),_defineProperty(_assertThisInitialized(_this127),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this127),"I",{}),_defineProperty(_assertThisInitialized(_this127),"yt",0),_defineProperty(_assertThisInitialized(_this127),"B",null),_temp39),_this127._shadowRoot=_this127.attachShadow({mode:"closed",delegatesFocus:!0}),_this127._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,jn._shadowStyleSheet],_this127._shadowRoot.append(document.importNode(jn._shadowTemplate.content,!0));var _iterator140=_createForOfIteratorHelper(_this127._shadowRoot.querySelectorAll("[id]")),_step140;try{for(_iterator140.s();!(_step140=_iterator140.n()).done;){var _t257=_step140.value;_this127.I[_t257.id]=_t257;}}catch(err){_iterator140.e(err);}finally{_iterator140.f();}_this127.addEventListener("focusout",function(t){return _this127.matches(":focus-within")?null:_this127.te(t);}),_this127.I.input.addEventListener("focusin",function(t){return _this127.vs(t);}),_this127.I.input.addEventListener("focusout",function(t){return _this127.ys(t);}),_this127._shadowRoot.addEventListener("pointerdown",function(t){return _this127.vi(t);}),_this127._shadowRoot.addEventListener("remove",function(t){return _this127.ws(t);}),_this127._shadowRoot.addEventListener("keydown",function(t){return _this127.kt(t);}),_this127.I.input.addEventListener("input",function(t){return _this127.fe(t);});return _this127;}_createClass(jn,[{key:"connectedCallback",value:function connectedCallback(){var _this128=this;this.zs(),this.Ct(),this.U(),$s.addEventListener("sizechange",this.B=function(){return _this128.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("spellcheck"===t?this.ye():"disabled"===t?this.qt():"size"===t&&this.lt());}},{key:"clear",value:function clear(){var t=_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;});if(t.length>0){var _iterator141=_createForOfIteratorHelper(t),_step141;try{for(_iterator141.s();!(_step141=_iterator141.n()).done;){var _e212=_step141.value;_e212.remove(),this.dispatchEvent(new CustomEvent("remove",{detail:_e212}));}}catch(err){_iterator141.e(err);}finally{_iterator141.f();}this.error=null,this.ks(),this.zs(),this.dispatchEvent(new CustomEvent("change"));}}},{key:"getSuggestions",value:function getSuggestions(t){return[];}},{key:"Ys",value:function Ys(){var t=new Range();t.selectNodeContents(this.I.input);var e=t.getBoundingClientRect();return 0===e.x&&0===e.width&&(e=this.I.input.getBoundingClientRect(),e.width=20),e;}},{key:"Cs",value:function Cs(){var t=this.I.input.textContent.trim();if(this.I.input.textContent="",t.length>0&&!1===this.value.includes(t)){var _e213;if(t.includes(":")){var _t$split$map=t.split(":").map(function(t){return t.trim();}),_t$split$map2=_slicedToArray(_t$split$map,2),_i186=_t$split$map2[0],_s116=_t$split$map2[1];_e213=zs(_templateObject3(),t,_i186,_s116);}else _e213=zs(_templateObject4(),t,t);this.append(_e213),this.ks(),this.zs(),this.dispatchEvent(new CustomEvent("add",{detail:_e213})),this.dispatchEvent(new CustomEvent("change"));}}},{key:"vi",value:function vi(t){if(t.target===this.I.main||t.target===this.I.tags)t.preventDefault(),this.I.input.setAttribute("contenteditable",""),this.Ss();else if(t.target===this.I.input)this.I.input.setAttribute("contenteditable",""),this.ks();else if(t.target.closest("x-popover")){t.preventDefault();var _e214=t.target.closest("x-tag");_e214&&(this.I.input.textContent="",this.I["suggestions-popover"].close(),this.append(_e214),this.dispatchEvent(new CustomEvent("add",{detail:_e214})),this.dispatchEvent(new CustomEvent("change")));}else t.target.closest("x-tag")&&(this.I.input.focus(),this.Cs());}},{key:"ws",value:function ws(t){t.stopPropagation();var e=t.target;e.remove(),this.zs(),this.dispatchEvent(new CustomEvent("remove",{detail:e})),this.dispatchEvent(new CustomEvent("change"));}},{key:"ye",value:function ye(){this.I.input.spellcheck=this.spellcheck;}},{key:"qt",value:function qt(){this.Ct();}},{key:"lt",value:function lt(){this.U();}},{key:"te",value:function te(){this.required&&0===_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}).length&&(this.error="This field is required");}},{key:"vs",value:function(){var _vs5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee63(){return regeneratorRuntime.wrap(function _callee63$(_context63){while(1){switch(_context63.prev=_context63.next){case 0:this.I.input.setAttribute("contenteditable","");this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));_context63.next=4;return Hs(10);case 4:this.I.input.matches(":focus")&&(this.Ss(),this.ks());case 5:case"end":return _context63.stop();}}},_callee63,this);}));function vs(){return _vs5.apply(this,arguments);}return vs;}()},{key:"ys",value:function ys(){this.Cs(),this.I.input.removeAttribute("contenteditable"),this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),this.hasAttribute("error")&&(this.I.input.textContent="",this.removeAttribute("error")),this.I["suggestions-popover"].close();}},{key:"fe",value:function fe(t){this.I.input.textContent.includes(this.delimiter)&&this.Cs(),this.zs(),this.hasAttribute("error")&&this.removeAttribute("error"),this.dispatchEvent(new CustomEvent("input")),this.ks(t.inputType);}},{key:"kt",value:function kt(t){if("Enter"===t.key)t.target===this.I.input&&(t.preventDefault(),this.Cs());else if("Backspace"===t.key){if(t.target===this.I.input){if(0===this.I.input.textContent.length){var _t258=_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}),_e215=_t258[_t258.length-1]||null;_e215&&(_e215.remove(),this.ks(),this.zs(),this.dispatchEvent(new CustomEvent("remove",{detail:_e215})),this.dispatchEvent(new CustomEvent("change")));}}else if("x-tag"===t.target.localName){var _e216=_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}),_i187=t.target,_s117=_e216.indexOf(_i187),_n66=_e216[_s117+1]||null,_o46=_e216[_s117-1]||null;_n66?_n66.focus():_o46?_o46.focus():this.I.input.focus(),_i187.remove(),this.zs(),this.dispatchEvent(new CustomEvent("remove",{detail:_i187})),this.dispatchEvent(new CustomEvent("change"));}}else if("ArrowDown"===t.key){if(this.I["suggestions-popover"].opened){var _e217=_toConsumableArray(this.I["suggested-tags"].children);if(_e217.length>1){t.preventDefault();var _i188=null;{var _t259=_e217.find(function(t){return t.toggled;});if(_t259){_t259.toggled=!1;var _s118=_e217.indexOf(_t259);_i188=_e217[_s118+1]||_e217[0];}else _i188=_e217[0];}_i188.toggled=!0,_i188.scrollIntoViewIfNeeded();{var _t260=this._shadowRoot.getSelection().getRangeAt(0).startOffset,_e218=_i188.querySelector("x-label").textContent;this.I.input.textContent=_e218,this.Ss(_t260,_e218.length);}}}}else if("ArrowUp"===t.key&&this.I["suggestions-popover"].opened){var _e219=_toConsumableArray(this.I["suggested-tags"].children);if(_e219.length>1){t.preventDefault();var _i189=null;{var _t261=_e219.find(function(t){return t.toggled;});if(_t261){_t261.toggled=!1;var _s119=_e219.indexOf(_t261);_i189=_e219[_s119-1]||_e219[_e219.length-1];}else _i189=_e219[_e219.length-1];}_i189.toggled=!0,_i189.scrollIntoViewIfNeeded();{var _t262=this._shadowRoot.getSelection().getRangeAt(0).startOffset,_e220=_i189.querySelector("x-label").textContent;this.I.input.textContent=_e220,this.Ss(_t262,_e220.length);}}}}},{key:"nt",value:function nt(){this.zs();}},{key:"zs",value:function zs(){var t=this.querySelector(":scope > x-label");t&&(t.hidden=this.value.length>0||this.I.input.textContent.length>0);}},{key:"Ct",value:function Ct(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Ss",value:function Ss(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.I.input.textContent.length;var i=new Range();0===t&&e===this.I.input.textContent.length?i.selectNodeContents(this.I.input):(i.setStart(this.I.input.firstChild,t),i.setEnd(this.I.input.firstChild,e));var s=window.getSelection();s.removeAllRanges(),s.addRange(i);}},{key:"ks",value:function ks(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"insertText";if(this.suggestions){var _e221=this.I.input.textContent,_i190=this._shadowRoot.getSelection().getRangeAt(0);!1===_i190.collapsed&&(_e221=_e221.substring(0,_i190.startOffset));var _s120=this.getSuggestions(_e221);if(_s120.length>0&&"deleteContentBackward"!==t){var _t263=this.I.input.textContent,_e222=_s120[0].querySelector("x-label").textContent,_i191=this.I.input.firstChild;_i191&&(_i191.textContent=_e222,this.Ss(_t263.length,_e222.length));}if(0===_s120.length)this.I["suggested-tags"].innerHTML="",!0===this.I["suggestions-popover"].opened&&this.I["suggestions-popover"].close();else{var _this$I$suggestedTag;var _i192=this.Ys();this.I["suggested-tags"].innerHTML="",(_this$I$suggestedTag=this.I["suggested-tags"]).append.apply(_this$I$suggestedTag,_toConsumableArray(_s120)),"deleteContentBackward"!==t&&_e221.length>0&&(_s120[0].toggled=!0),!1===this.I["suggestions-popover"].opened||this.I["suggestions-popover"].close(!1),this.I["suggestions-popover"].open(_i192),this.I["suggested-tags"].scrollTop=0;}}}}]);return jn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(jn,"observedAttributes",["spellcheck","disabled","size"]);_defineProperty(jn,"_shadowTemplate",zs(_templateObject176()));_defineProperty(jn,"_shadowStyleSheet",Os(_templateObject177()));customElements.define("x-tagsinput",jn);var Hn=/*#__PURE__*/function(_HTMLElement37){_inherits(Hn,_HTMLElement37);var _super38=_createSuper(Hn);_createClass(Hn,[{key:"value",get:function get(){return this.I.editor.textContent;},set:function set(t){this.I.editor.textContent=t,"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),this.be();}},{key:"spellcheck",get:function get(){return this.hasAttribute("spellcheck");},set:function set(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck");}},{key:"minLength",get:function get(){return this.hasAttribute("minlength")?parseInt(this.getAttribute("minlength")):0;},set:function set(t){this.setAttribute("minlength",t);}},{key:"maxLength",get:function get(){return this.hasAttribute("maxlength")?parseInt(this.getAttribute("maxlength")):Infinity;},set:function set(t){this.setAttribute("maxlength",t);}},{key:"required",get:function get(){return this.hasAttribute("required");},set:function set(t){t?this.setAttribute("required",""):this.removeAttribute("required");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"validation",get:function get(){return this.hasAttribute("validation")?this.getAttribute("validation"):"auto";},set:function set(t){this.setAttribute("validation",t);}},{key:"error",get:function get(){return this.getAttribute("error");},set:function set(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Hn(){var _temp40,_this129;_classCallCheck(this,Hn);(_temp40=_this129=_super38.call(this),_defineProperty(_assertThisInitialized(_this129),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this129),"I",{}),_defineProperty(_assertThisInitialized(_this129),"yt",0),_defineProperty(_assertThisInitialized(_this129),"B",null),_temp40),_this129._shadowRoot=_this129.attachShadow({mode:"closed",delegatesFocus:!0}),_this129._shadowRoot.adoptedStyleSheets=[Hn._shadowStyleSheet],_this129._shadowRoot.append(document.importNode(Hn._shadowTemplate.content,!0));var _iterator142=_createForOfIteratorHelper(_this129._shadowRoot.querySelectorAll("[id]")),_step142;try{for(_iterator142.s();!(_step142=_iterator142.n()).done;){var _t264=_step142.value;_this129.I[_t264.id]=_t264;}}catch(err){_iterator142.e(err);}finally{_iterator142.f();}_this129.addEventListener("focusin",function(t){return _this129.ge(t);}),_this129.addEventListener("focusout",function(t){return _this129.xe(t);}),_this129.I.editor.addEventListener("click",function(t){return _this129.Es(t);}),_this129.I.editor.addEventListener("input",function(t){return _this129.zi(t);});return _this129;}_createClass(Hn,[{key:"connectedCallback",value:function connectedCallback(){var _this130=this;this.be(),this.Ct(),this.U(),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),$s.addEventListener("sizechange",this.B=function(){return _this130.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t?this.ot():"spellcheck"===t?this.ye():"disabled"===t?this.qt():"validation"===t?this.js():"size"===t&&this.lt();}},{key:"validate",value:function validate(){this.value.length<this.minLength?this.error="Entered text is too short":this.value.length>this.maxLength?this.error="Entered text is too long":this.required&&0===this.value.length?this.error="This field is required":this.error=null;}},{key:"be",value:function be(){0===this.value.length?this.setAttribute("empty",""):this.removeAttribute("empty");}},{key:"Ct",value:function Ct(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){this.value=this.hasAttribute("value")?this.getAttribute("value"):"",this.matches(":focus")&&document.execCommand("selectAll");}},{key:"ye",value:function ye(){this.I.editor.spellcheck=this.spellcheck;}},{key:"qt",value:function qt(){this.I.editor.disabled=this.disabled,this.Ct();}},{key:"js",value:function js(){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate();}},{key:"lt",value:function lt(){this.U();}},{key:"ge",value:function ge(){this.As=this.value,this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));}},{key:"xe",value:function xe(){this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),this._shadowRoot.getSelection().collapse(this.I.main),"auto"===this.validation&&this.validate(),null!==this.error||this.value===this.As&&!this.mixed||(this.mixed=!1,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})));}},{key:"Es",value:function Es(t){t.detail>=4&&document.execCommand("selectAll");}},{key:"zi",value:function zi(t){this.dispatchEvent(new CustomEvent("input",{bubbles:!0})),this.be(),("instant"===this.validation||"auto"===this.validation&&null!==this.error)&&this.validate();}}]);return Hn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Hn,"observedAttributes",["value","spellcheck","disabled","validation","size"]);_defineProperty(Hn,"_shadowTemplate",zs(_templateObject178()));_defineProperty(Hn,"_shadowStyleSheet",Os(_templateObject179()));customElements.define("x-texteditor",Hn);var Yn=/*#__PURE__*/function(_HTMLElement38){_inherits(Yn,_HTMLElement38);var _super39=_createSuper(Yn);_createClass(Yn,[{key:"type",get:function get(){return this.hasAttribute("type")?this.getAttribute("type"):"ring";},set:function set(t){this.setAttribute("type",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Yn(){var _temp41,_this131;_classCallCheck(this,Yn);(_temp41=_this131=_super39.call(this),_defineProperty(_assertThisInitialized(_this131),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this131),"B",null),_temp41),_this131._shadowRoot=_this131.attachShadow({mode:"closed"}),_this131._shadowRoot.adoptedStyleSheets=[Yn._shadowStyleSheet];return _this131;}_createClass(Yn,[{key:"connectedCallback",value:function connectedCallback(){var _this132=this;this.nt(),this.U(),$s.addEventListener("sizechange",this.B=function(){return _this132.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("type"===t?this.nt():"size"===t&&this.U());}},{key:"nt",value:function nt(){var t=this._shadowRoot.firstElementChild,e="ring"===this.type?Yn.Ls:Yn.Ts;null===t?this._shadowRoot.append(document.importNode(e.content,!0)):t.dataset.type!==this.type&&t.replaceWith(document.importNode(e.content,!0)),!1===this.hasAttribute("type")&&this.setAttribute("type",this.type);}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return Yn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Yn,"observedAttributes",["type","size"]);_defineProperty(Yn,"Ls",zs(_templateObject180()));_defineProperty(Yn,"Ts",zs(_templateObject181()));_defineProperty(Yn,"_shadowStyleSheet",Os(_templateObject182()));customElements.define("x-throbber",Yn);var Wn=Math.PI,qn=Math.sqrt,Xn=Math.atan2,Zn=Math.sin,Kn=Math.cos,Qn=Math.pow;var Jn=/*#__PURE__*/function(_HTMLElement39){_inherits(Jn,_HTMLElement39);var _super40=_createSuper(Jn);_createClass(Jn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)";},set:function set(t){this.setAttribute("value",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Jn(){var _temp42,_this133;_classCallCheck(this,Jn);(_temp42=_this133=_super40.call(this),_defineProperty(_assertThisInitialized(_this133),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this133),"I",{}),_defineProperty(_assertThisInitialized(_this133),"B",null),_defineProperty(_assertThisInitialized(_this133),"X",0),_defineProperty(_assertThisInitialized(_this133),"V",0),_defineProperty(_assertThisInitialized(_this133),"Ui",100),_defineProperty(_assertThisInitialized(_this133),"G",1),_defineProperty(_assertThisInitialized(_this133),"Ms",!1),_defineProperty(_assertThisInitialized(_this133),"Ds",!1),_defineProperty(_assertThisInitialized(_this133),"tt",!1),_temp42),_this133._shadowRoot=_this133.attachShadow({mode:"closed"}),_this133._shadowRoot.adoptedStyleSheets=[Jn._shadowStyleSheet],_this133._shadowRoot.append(document.importNode(Jn._shadowTemplate.content,!0));var _iterator143=_createForOfIteratorHelper(_this133._shadowRoot.querySelectorAll("[id]")),_step143;try{for(_iterator143.s();!(_step143=_iterator143.n()).done;){var _t265=_step143.value;_this133.I[_t265.id]=_t265;}}catch(err){_iterator143.e(err);}finally{_iterator143.f();}_this133.I["huesat-slider"].addEventListener("pointerdown",function(t){return _this133.$s(t);}),_this133.I["value-slider"].addEventListener("pointerdown",function(t){return _this133.Ps(t);}),_this133.I["alpha-slider"].addEventListener("pointerdown",function(t){return _this133.ht(t);});return _this133;}_createClass(Jn,[{key:"connectedCallback",value:function(){var _connectedCallback=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee64(){var _this134=this;return regeneratorRuntime.wrap(function _callee64$(_context64){while(1){switch(_context64.prev=_context64.next){case 0:this.nt();this.U();_context64.t0=""===this.I["huesat-image"].src;if(!_context64.t0){_context64.next=7;break;}_context64.next=6;return _s();case 6:this.I["huesat-image"].src=_context64.sent;case 7:$s.addEventListener("sizechange",this.B=function(){return _this134.U();});case 8:case"end":return _context64.stop();}}},_callee64,this);}));function connectedCallback(){return _connectedCallback.apply(this,arguments);}return connectedCallback;}()},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"size"===t&&this.lt());}},{key:"nt",value:function nt(){this.Rs(),this.Is(),this.Os(),this.bt(),this.gt();}},{key:"Rs",value:function Rs(){var t=this.X,e=this.V,i=100,s=ds(t),n=e/100*i/2,o=(i-(50+n*Kn(s)))/i*100,l=(50-n*Zn(s))/i*100;this.I["huesat-marker"].style.left=o+"%",this.I["huesat-marker"].style.top=l+"%";}},{key:"Is",value:function Is(){this.I["value-slider-marker"].style.left=100-hs(this.Ui,0,100,2)+"%";}},{key:"Os",value:function Os(){var t=ys([this.X,this.V,100,1],"hsva","hex");this.I["value-slider"].style.background="linear-gradient(to right, rgba(0,0,0,0), rgba(0,0,0,1)), ".concat(t);}},{key:"bt",value:function bt(){this.I["alpha-slider-marker"].style.left=hs(100*(1-this.G),0,100,2)+"%";}},{key:"gt",value:function gt(){var _vs$map3=vs(this.X,this.V,this.Ui).map(function(t){return os(t,0);}),_vs$map4=_slicedToArray(_vs$map3,3),t=_vs$map4[0],e=_vs$map4[1],i=_vs$map4[2];this.I["alpha-slider-gradient"].style.background="\n      linear-gradient(to right, rgba(".concat(t,", ").concat(e,", ").concat(i,", 1), rgba(").concat(t,", ").concat(e,", ").concat(i,", 0))\n    ");}},{key:"U",value:function U(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){if(!1===this.Ms&&!1===this.Ds&&!1===this.tt){var _Ps$parse9=new Ps().parse(this.value,"hsva"),_Ps$parse10=_slicedToArray(_Ps$parse9,4),_t266=_Ps$parse10[0],_e223=_Ps$parse10[1],_i193=_Ps$parse10[2],_s121=_Ps$parse10[3];this.X=_t266,this.V=_e223,this.Ui=_i193,this.G=_s121,this.nt();}}},{key:"lt",value:function lt(){this.U();}},{key:"$s",value:function $s(t){var _this135=this;if(1!==t.buttons)return;var e,_i194,s=this.I["huesat-slider"].getBoundingClientRect();this.Ms=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.I["huesat-slider"].style.cursor="default",this.I["huesat-slider"].setPointerCapture(t.pointerId);var n=function n(t,e){var i=s.width/2,n=t-s.left-i,o=e-s.top-i,l=Qn(n,2)+Qn(o,2),h=Xn(o,n);l>Qn(i,2)&&(n=i*Kn(h),o=i*Zn(h),l=Qn(n,2)+Qn(o,2),h=Xn(o,n)),_this135.X=os((h+Wn)/(2*Wn)*360,3),_this135.V=os(qn(l)/i*100,3),_this135.value=ys([_this135.X,_this135.V,_this135.Ui,_this135.G],"hsva","hsla"),_this135.dispatchEvent(new CustomEvent("change",{bubbles:!0})),_this135.Rs(),_this135.Os(),_this135.gt();};n(t.clientX,t.clientY),this.I["huesat-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX,t.clientY);}),this.I["huesat-slider"].addEventListener("lostpointercapture",_i194=function i(t){_this135.I["huesat-slider"].removeEventListener("pointermove",e),_this135.I["huesat-slider"].removeEventListener("lostpointercapture",_i194),_this135.I["huesat-slider"].style.cursor=null,_this135.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this135.Ms=!1;});}},{key:"Ps",value:function Ps(t){var _this136=this;if(1!==t.buttons)return;var e,_i195,s=this.I["value-slider-track"].getBoundingClientRect();this.Ds=!0,this.I["value-slider"].style.cursor="default",this.I["value-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=100-(t-s.x)/s.width*100;e=hs(e,0,100,2),e!==_this136.Ui&&(_this136.Ui=e,_this136.value=ys([_this136.X,_this136.V,_this136.Ui,_this136.G],"hsva","hsla"),_this136.Is(),_this136.gt(),_this136.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["value-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["value-slider"].addEventListener("lostpointercapture",_i195=function i(){_this136.I["value-slider"].removeEventListener("pointermove",e),_this136.I["value-slider"].removeEventListener("lostpointercapture",_i195),_this136.I["value-slider"].style.cursor=null,_this136.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this136.Ds=!1;});}},{key:"ht",value:function ht(t){var _this137=this;if(1!==t.buttons)return;var e,_i196,s=this.I["alpha-slider-track"].getBoundingClientRect();this.tt=!0,this.I["alpha-slider"].style.cursor="default",this.I["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=1-(t-s.x)/s.width;e=hs(e,0,1,2),e!==_this137.G&&(_this137.G=e,_this137.value=ys([_this137.X,_this137.V,_this137.Ui,_this137.G],"hsva","hsla"),_this137.bt(),_this137.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["alpha-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["alpha-slider"].addEventListener("lostpointercapture",_i196=function i(){_this137.I["alpha-slider"].removeEventListener("pointermove",e),_this137.I["alpha-slider"].removeEventListener("lostpointercapture",_i196),_this137.I["alpha-slider"].style.cursor=null,_this137.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this137.tt=!1;});}}]);return Jn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Jn,"observedAttributes",["value","size"]);_defineProperty(Jn,"_shadowTemplate",zs(_templateObject183()));_defineProperty(Jn,"_shadowStyleSheet",Os(_templateObject184()));customElements.define("x-wheelcolorpicker",Jn);var to=/*#__PURE__*/function(_HTMLElement40){_inherits(to,_HTMLElement40);var _super41=_createSuper(to);_createClass(to,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function to(){var _this138;_classCallCheck(this,to);_this138=_super41.call(this),_this138.Ws=Xi(_this138.qs,20,_assertThisInitialized(_this138)),_this138.Xs=Xi(_this138.qs,500,_assertThisInitialized(_this138)),_this138.Zs=[1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4],_this138._shadowRoot=_this138.attachShadow({mode:"closed"}),_this138._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,to._shadowStyleSheet],_this138._shadowRoot.append(document.importNode(to._shadowTemplate.content,!0));var _iterator144=_createForOfIteratorHelper(_this138._shadowRoot.querySelectorAll("[id]")),_step144;try{for(_iterator144.s();!(_step144=_iterator144.n()).done;){var _t267=_step144.value;_this138["#"+_t267.id]=_t267;}}catch(err){_iterator144.e(err);}finally{_iterator144.f();}_this138.addEventListener("contextmenu",function(t){return _this138.Ks(t);});return _this138;}_createClass(to,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(!0===this.enabled?this.tn():this.sn());}},{key:"getRulerTypeFromPoint",value:function getRulerTypeFromPoint(t,e){var i=this._shadowRoot.elementFromPoint(t,e);i.getRootNode()!==this._shadowRoot&&(i=null);var s=i?i.closest(".ruler"):null;return s?s.getAttribute("data-type"):null;}},{key:"tn",value:function tn(){var _this139=this;window.addEventListener("resize",this.nn=function(){_this139.Ws();}),this.Qs.addEventListener("configchange",this.ln=function(t){_this139.hn(t.detail);}),this.Js.board.addEventListener("zoomchange",this.an=function(){_this139.Ws();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this139.Xs();}),this.dn=this.Qs.getConfig("bx-rulers:space","canvas"),this.qs();}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("zoomchange",this.an),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"hn",value:function hn(_ref47){var t=_ref47.key,e=_ref47.value;"bx-rulers:space"===t&&(this.dn=e,this.qs());}},{key:"Ks",value:function(){var _Ks=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee65(t){var e,i,s,n;return regeneratorRuntime.wrap(function _callee65$(_context65){while(1){switch(_context65.prev=_context65.next){case 0:t.preventDefault();i=this.Js.board.getComputedViewportWidth(),s=this.Js.board.getComputedViewportHeight();e=null===i&&null===s?[{label:"Canvas space",value:"canvas",toggled:!0},{label:"Viewport space",value:"viewport",disabled:!0}]:[{label:"Canvas space",value:"canvas",toggled:"canvas"===this.dn},{label:"Viewport space",value:"viewport",toggled:"viewport"===this.dn}];_context65.next=5;return this.Qs.openContextMenu(e);case 5:n=_context65.sent;null!==n&&this.Qs.setConfig("bx-rulers:space",n);case 7:case"end":return _context65.stop();}}},_callee65,this);}));function Ks(_x49){return _Ks.apply(this,arguments);}return Ks;}()},{key:"qs",value:function qs(){var t=this.Js.board,e=t.scale,i=this.dn,s=0,n=0,o=0,l=0;{var _e224=jt(t.vectorCanvas);if(0!==_e224.a*_e224.d-_e224.b*_e224.c){var _i197=Ue(t.getBoundingClientRect(),_e224.inverse());s=_i197.x,n=_i197.y;}}if("viewport"===i&&(o=t.getComputedViewportWidth(),l=t.getComputedViewportHeight(),null===o&&null===l&&(i="canvas")),"canvas"===i){var _t268=1;{var _i198=50/e;if(e>0==!1)return;for(var _e225=0;_e225<this.Zs.length;_e225+=1){var _s122=this.Zs[_e225];if(_t268=_s122,_i198<=_s122)break;}}{var _i199=[],_n67=this.clientWidth;this["#horizontal-ruler"].hidden=!1;for(var _o47=Z(s,0);_o47<Infinity;_o47+=1){if(_t268>=1&&_o47%_t268==0){var _t269=(_o47-s)*e;if(_t269>_n67)break;_i199.push([_t269,_o47]);}}for(;this["#horizontal-ruler"].children.length<_i199.length;){var _t270=zi("div");_t270.part.add("tick"),this["#horizontal-ruler"].append(_t270);}for(var _t271=0;_t271<_i199.length;_t271+=1){var _i199$_t=_slicedToArray(_i199[_t271],2),_e226=_i199$_t[0],_s123=_i199$_t[1],_n68=this["#horizontal-ruler"].children[_t271];_n68.style.display=null,_n68.style.transform="translateX(".concat(_e226,"px)"),_n68.textContent=_s123;}for(var _t272=_i199.length;_t272<this["#horizontal-ruler"].children.length;_t272+=1){this["#horizontal-ruler"].children[_t272].style.display="none";}}{var _i200=[],_s124=this.clientHeight;this["#vertical-ruler"].hidden=!1;for(var _o48=Z(n,0);_o48<Infinity;_o48+=1){if(_o48%_t268==0){var _t273=(_o48-n)*e;if(_t273>_s124)break;_i200.push([_t273,_o48]);}}for(;this["#vertical-ruler"].children.length<_i200.length;){var _t274=zi("div");_t274.part.add("tick"),this["#vertical-ruler"].append(_t274);}for(var _t275=0;_t275<_i200.length;_t275+=1){var _i200$_t=_slicedToArray(_i200[_t275],2),_e227=_i200$_t[0],_s125=_i200$_t[1],_n69=this["#vertical-ruler"].children[_t275];_n69.style.display=null,_n69.style.transform="translateY(".concat(_e227,"px)"),_n69.textContent=_s125;}for(var _t276=_i200.length;_t276<this["#vertical-ruler"].children.length;_t276+=1){this["#vertical-ruler"].children[_t276].style.display="none";}}}else if("viewport"===i){var _i201=null;if(_i201=t.currentWorkspace.hasAttribute("viewBox")?Bt.fromString(t.currentWorkspace.getAttribute("viewBox")).toRect():new DOMRect(0,0,null===o?0:o.toLength("px").value,null===l?0:l.toLength("px").value),null===o)this["#horizontal-ruler"].hidden=!0;else{this["#horizontal-ruler"].hidden=!1;var _t277=1,_n70=_i201.width/o.value;{var _i202=50/e/_n70;for(var _e228=0;_e228<this.Zs.length;_e228+=1){var _s126=this.Zs[_e228];if(_t277=_s126,_i202<=_s126)break;}}var _l40=[],_h31=this.clientWidth;for(var _i203=Z(s/_n70,0);_i203<Infinity;_i203+=1){if(_t277>=1&&_i203%_t277==0){var _t278=(_i203*_n70-s)*e;if(_t278>_h31)break;_l40.push([_t278,_i203+o.unit]);}}for(;this["#horizontal-ruler"].children.length<_l40.length;){var _t279=zi("div");_t279.part.add("tick"),this["#horizontal-ruler"].append(_t279);}for(var _t280=0;_t280<_l40.length;_t280+=1){var _l40$_t=_slicedToArray(_l40[_t280],2),_e229=_l40$_t[0],_i204=_l40$_t[1],_s127=this["#horizontal-ruler"].children[_t280];_s127.style.display=null,_s127.style.transform="translateX(".concat(_e229,"px)"),_s127.textContent=_i204;}for(var _t281=_l40.length;_t281<this["#horizontal-ruler"].children.length;_t281+=1){this["#horizontal-ruler"].children[_t281].style.display="none";}}if(null===l)this["#vertical-ruler"].hidden=!0;else{this["#vertical-ruler"].hidden=!1;var _t282=1,_s128=_i201.height/l.value;{var _i205=50/e/_s128;for(var _e230=0;_e230<this.Zs.length;_e230+=1){var _s129=this.Zs[_e230];if(_t282=_s129,_i205<=_s129)break;}}var _o49=[],_h32=this.clientHeight;for(var _i206=Z(n/_s128,0);_i206<Infinity;_i206+=1){if(_t282>=1&&_i206%_t282==0){var _t283=(_i206*_s128-n)*e;if(_t283>_h32)break;_o49.push([_t283,_i206+l.unit]);}}for(;this["#vertical-ruler"].children.length<_o49.length;){var _t284=zi("div");_t284.part.add("tick"),this["#vertical-ruler"].append(_t284);}for(var _t285=0;_t285<_o49.length;_t285+=1){var _o49$_t=_slicedToArray(_o49[_t285],2),_e231=_o49$_t[0],_i207=_o49$_t[1],_s130=this["#vertical-ruler"].children[_t285];_s130.style.display=null,_s130.style.transform="translateY(".concat(_e231,"px)"),_s130.textContent=_i207;}for(var _t286=_o49.length;_t286<this["#vertical-ruler"].children.length;_t286+=1){this["#vertical-ruler"].children[_t286].style.display="none";}}}}}]);return to;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(to,"observedAttributes",["enabled"]);_defineProperty(to,"_shadowTemplate",Yi(_templateObject185()));_defineProperty(to,"_shadowStyleSheet",Wi(_templateObject186()));customElements.define("bx-rulers",to);var eo=/*#__PURE__*/function(){function eo(){_classCallCheck(this,eo);this.cn=!1,this.pn=!1,this.un=!1,this.xn=!1,this.bn=null;for(var _len12=arguments.length,t=new Array(_len12),_key12=0;_key12<_len12;_key12++){t[_key12]=arguments[_key12];}for(var _i208=0,_t287=t;_i208<_t287.length;_i208++){var _e232=_t287[_i208];"Control"===_e232?this.ctrl=!0:"Alt"===_e232?this.alt=!0:"Shift"===_e232?this.shift=!0:"Meta"===_e232?this.meta=!0:this.key=_e232;}}_createClass(eo,[{key:"matches",value:function matches(){var e=!1,i=!1,s=!1,n=!1,o=null;for(var _len13=arguments.length,t=new Array(_len13),_key13=0;_key13<_len13;_key13++){t[_key13]=arguments[_key13];}for(var _i209=0,_t288=t;_i209<_t288.length;_i209++){var _l41=_t288[_i209];"Control"===_l41?e=!0:"Alt"===_l41?i=!0:"Shift"===_l41?s=!0:"Meta"===_l41?n=!0:o=_l41;}return e===this.ctrl&&i===this.alt&&n===this.meta&&s===this.shift&&o===this.key;}},{key:"includes",value:function includes(t){return"Control"===t?this.ctrl:"Alt"===t?this.alt:"Shift"===t?this.shift:"Meta"===t?this.meta:this.key===t;}},{key:"compare",value:function compare(t){return this.ctrl===t.ctrl&&this.alt===t.alt&&this.shift===t.shift&&this.meta===t.meta&&this.key===t.key;}},{key:"isVoid",value:function isVoid(){return!1===this.ctrl&&!1===this.alt&&!1===this.shift&&!1===this.meta&&null===this.key;}},{key:"toDisplayString",value:function toDisplayString(){var e="";if(t){this.meta&&(e+="^"),this.alt&&(e+="\u2325"),this.shift&&(e+="\u21E7"),this.ctrl&&(e+="\u2318");var _t289={ArrowUp:"\u2191",ArrowDown:"\u2193",ArrowLeft:"\u2190",ArrowRight:"\u2192",Backspace:"\u2326",Tab:"\u21E5"};null!==this.key&&(e+=_t289[this.key]||this.key);}else{var _t290=[];this.ctrl&&_t290.push("Ctrl"),this.alt&&_t290.push("Alt"),this.shift&&_t290.push("Shift"),this.meta&&_t290.push("Meta");var _i210={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"};null!==this.key&&_t290.push(_i210[this.key]||this.key),e=_t290.join("+");}return e;}},{key:"toJSON",value:function toJSON(){return this.toString();}},{key:"toElement",value:function toElement(){var t=zi("x-shortcut"),e=[];return this.ctrl&&e.push("Control"),this.alt&&e.push("Alt"),this.shift&&e.push("Shift"),this.meta&&e.push("Meta"),null!==this.key&&e.push(key),t.value=e,t;}},{key:"toString",value:function toString(){var t=[];return this.ctrl&&t.push("Control"),this.alt&&t.push("Alt"),this.shift&&t.push("Shift"),this.meta&&t.push("Meta"),null!==this.key&&t.push(this.key),t.join("+");}},{key:"ctrl",get:function get(){return this.cn;},set:function set(t){this.cn=t;}},{key:"alt",get:function get(){return this.pn;},set:function set(t){this.pn=t;}},{key:"shift",get:function get(){return this.un;},set:function set(t){this.un=t;}},{key:"meta",get:function get(){return this.xn;},set:function set(t){this.xn=t;}},{key:"key",get:function get(){return this.bn;},set:function set(t){this.bn=t;}}],[{key:"fromEvent",value:function fromEvent(e){var i=new eo();if(i.ctrl=t?e.metaKey:e.ctrlKey,i.alt=e.altKey,i.shift=e.shiftKey,i.meta=t?e.ctrlKey:e.metaKey,i.key=null,e instanceof KeyboardEvent){var _t291=e.key;" "===_t291&&(_t291="Space"),_t291&&"Control"!==_t291&&"Alt"!==_t291&&"Shift"!==_t291&&"Meta"!==_t291&&(1===_t291.length?i.key=_t291.toUpperCase():i.key=_t291);}return i;}},{key:"fromElement",value:function fromElement(t){var e=new eo();return e.ctrl=t.modKeys.includes("Control"),e.alt=t.modKeys.includes("Alt"),e.shift=t.modKeys.includes("Shift"),e.meta=t.modKeys.includes("Meta"),e.key=t.normalKey,e;}},{key:"fromString",value:function fromString(t){return _construct(eo,_toConsumableArray(t.split("+").filter(function(t){return""!==t;})));}}]);return eo;}();var _window4=window,io=_window4.tokenize,so=_window4.EOFToken;var no=/*#__PURE__*/function(){_createClass(no,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t;}},{key:"type",get:function get(){return"<url>";}}]);function no(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";_classCallCheck(this,no);this._t=t;}_createClass(no,[{key:"toString",value:function toString(){return"url(".concat(this.value,")");}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(io(t)),[new so()]),s=new Dt(i);if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"URL"===s.currentToken.tokenType){var _t292=s.currentToken.value;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new no(_t292);if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}if("FUNCTION"===s.currentToken.tokenType&&"url"===s.currentToken.value){if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"STRING"===s.currentToken.tokenType){var _t293=s.currentToken.value;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),")"===s.currentToken.tokenType){if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new no(_t293.trim());if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}if(e)throw new DOMException('Expected ")" token.',"SyntaxError");return null;}if(e)throw new DOMException("Expected STRING token.","SyntaxError");return null;}if(e)throw new DOMException("Expected URL or FUNCTION token.","SyntaxError");return null;}}]);return no;}();var oo=/*#__PURE__*/function(){function oo(t){_classCallCheck(this,oo);this.text=t,this.cursor=0,this.line=1,this.column=1,this.mn={cursor:0,line:1,column:1};}_createClass(oo,[{key:"read",value:function read(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e="",i=this.cursor;for(var _s131=0;_s131<t;_s131+=1){var _t294=this.text[i+_s131];if(void 0===_t294)break;e+=_t294,this.cursor+=1,"\n"===_t294?(this.line+=1,this.column=1):this.column+=1;}return""===e?null:e;}},{key:"peek",value:function peek(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e="";for(var _i211=0;_i211<t;_i211+=1){var _t295=this.text[this.cursor+_i211];if(void 0===_t295)break;e+=_t295;}return""===e?null:e;}},{key:"storePosition",value:function storePosition(){var t=this.cursor,e=this.line,i=this.column;this.mn={cursor:t,line:e,column:i};}},{key:"restorePosition",value:function restorePosition(){var _this$mn=this.mn,t=_this$mn.cursor,e=_this$mn.line,i=_this$mn.column;this.cursor=t,this.line=e,this.column=i;}}]);return oo;}();var lo=Math.min,ho=Math.max,ao=Math.floor,ro=Number.parseFloat,co=Number.parseInt,po=function po(t,e,i){var s,n,o,l=ho(t/=255,e/=255,i/=255),h=lo(t,e,i);if(s=n=o=(l+h)/2,l===h)s=n=0;else{var _a22=l-h;if(n=o>.5?_a22/(2-l-h):_a22/(l+h),l===t){var _t296;_t296=e<i?6:0,s=(e-i)/_a22+_t296;}else l===e?s=(i-t)/_a22+2:l===i&&(s=(t-e)/_a22+4);}return s=K(s/6*360,0,360,0),n=K(100*n,0,100,1),o=K(100*o,0,100,1),[s,n,o];},uo=function uo(t,e,i){var s,n,o;if(t/=360,i/=100,0===(e/=100))s=n=o=i;else{var _l42,_h33,_a23=function _a23(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t;};_l42=i<.5?i*(1+e):i+e-i*e,_h33=2*i-_l42,s=_a23(_h33,_l42,t+1/3),n=_a23(_h33,_l42,t),o=_a23(_h33,_l42,t-1/3);}return s=K(255*s,0,255,0),n=K(255*n,0,255,0),o=K(255*o,0,255,0),[s,n,o];},xo=function xo(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"rgba";t=t.trim();var i=mo(t),s=null,n=null;if(7===i.length&&"rgb("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&")"===i[6].text)s=[ro(i[1].text),ro(i[3].text),ro(i[5].text),1];else if(7===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)s=[ro(i[1].text)/100*255,ro(i[3].text)/100*255,ro(i[5].text)/100*255,1];else if(9===i.length&&"rgba("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[ro(i[1].text),ro(i[3].text),ro(i[5].text),ro(i[7].text)];else if(9===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[ro(i[1].text)/100*255,ro(i[3].text)/100*255,ro(i[5].text)/100*255,ro(i[7].text)];else if(7===i.length&&"hsl("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)n=[ro(i[1].text),ro(i[3].text),ro(i[5].text),1];else if(9===i.length&&"hsla("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)n=[ro(i[1].text),ro(i[3].text),ro(i[5].text),ro(i[7].text)];else if("HEX"===i[0].type&&void 0===i[1]){var _t297,_e233,_n71,_o50=i[0].text.substring(1);3===_o50.length?(_t297=_o50[0]+_o50[0],_e233=_o50[1]+_o50[1],_n71=_o50[2]+_o50[2]):(_t297=_o50[0]+_o50[1],_e233=_o50[2]+_o50[3],_n71=_o50[4]+_o50[5]),s=[co(_t297,16),co(_e233,16),co(_n71,16),1];}else L[t]&&(s=[L[t][0],L[t][1],L[t][2],1]);if(s){var _s132=s,_s133=_slicedToArray(_s132,4),_t298=_s133[0],_i212=_s133[1],_n72=_s133[2],_o51=_s133[3];if(_t298=K(_t298,0,255,0),_i212=K(_i212,0,255,0),_n72=K(_n72,0,255,0),_o51=K(_o51,0,1,2),"hsla"===e){var _po=po(_t298,_i212,_n72),_po2=_slicedToArray(_po,3),_e234=_po2[0],_s134=_po2[1],_l43=_po2[2];return[_e234,_s134,_l43,_o51];}if("hsva"===e){var _ref48=function(t,e,i){var s=ho(t/=255,e/=255,i/=255),n=lo(t,e,i),o=0,l=0,h=s,a=s-n;return l=0===s?0:a/s,s===n?o=0:(s===t?o=(e-i)/a+(e<i?6:0):s===e?o=(i-t)/a+2:s===i&&(o=(t-e)/a+4),o/=6),o*=360,l*=100,h*=100,[o,l,h];}(_t298,_i212,_n72),_ref49=_slicedToArray(_ref48,3),_e235=_ref49[0],_s135=_ref49[1],_l44=_ref49[2];return[_e235,_s135,_l44,_o51];}return[_t298,_i212,_n72,_o51];}if(n){var _n73=n,_n74=_slicedToArray(_n73,4),_t299=_n74[0],_i213=_n74[1],_s136=_n74[2],_o52=_n74[3];if(_t299=K(_t299,0,360,0),_i213=K(_i213,0,100,1),_s136=K(_s136,0,100,1),_o52=K(_o52,0,1,2),"hsla"===e)return[_t299,_i213,_s136,_o52];if("hsva"===e){var _ref50=function(t,e,i){e/=100;var s,n,o=t/=360;return s=(i=i/100*2)+(e*=i<=1?i:2-i)==0?0:2*e/(i+e),n=(i+e)/2,o*=360,s=100*ho(0,lo(1,s)),n=100*ho(0,lo(1,n)),[o,s,n];}(_t299,_i213,_s136),_ref51=_slicedToArray(_ref50,3),_e236=_ref51[0],_n75=_ref51[1],_l45=_ref51[2];return[_e236,_n75,_l45,_o52];}{var _uo=uo(_t299,_i213,_s136),_uo2=_slicedToArray(_uo,3),_e237=_uo2[0],_n76=_uo2[1],_l46=_uo2[2];return[_e237,_n76,_l46,_o52];}}throw new Error("Invalid color string: \"".concat(t,"\""));},bo=function bo(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"rgba";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"hex";var s=null;if(["rgb","rgba","rgb%","rgba%","hex"].includes(i)){var _t300,_t301,_uo3,_uo4,_ref52,_ref53;var _n77,_o53,_l47,_h34;if("rgba"===e?(_t300=t,_t301=_slicedToArray(_t300,4),_n77=_t301[0],_o53=_t301[1],_l47=_t301[2],_h34=_t301[3],_t300):"hsla"===e?((_uo3=uo.apply(void 0,_toConsumableArray(t)),_uo4=_slicedToArray(_uo3,3),_n77=_uo4[0],_o53=_uo4[1],_l47=_uo4[2],_uo3),_h34=t[3]):"hsva"===e&&((_ref52=function(t,e,i){e/=100,i/=100;var s=ao(6*(t/=360)),n=6*t-s,o=i*(1-e),l=i*(1-n*e),h=i*(1-(1-n)*e),a=0,r=0,d=0;return s%6==0?(a=i,r=h,d=o):s%6==1?(a=l,r=i,d=o):s%6==2?(a=o,r=i,d=h):s%6==3?(a=o,r=l,d=i):s%6==4?(a=h,r=o,d=i):s%6==5&&(a=i,r=o,d=l),a*=255,r*=255,d*=255,[a,r,d];}.apply(void 0,_toConsumableArray(t)),_ref53=_slicedToArray(_ref52,3),_n77=_ref53[0],_o53=_ref53[1],_l47=_ref53[2],_ref52),_h34=t[3]),"rgb%"===i||"rgba%"===i?(_n77=K(_n77/255*100,0,100,1),_o53=K(_o53/255*100,0,100,1),_l47=K(_l47/255*100,0,100,1),_h34=K(_h34,0,1,2)):(_n77=K(_n77,0,255,0),_o53=K(_o53,0,255,0),_l47=K(_l47,0,255,0),_h34=K(_h34,0,1,2)),"rgb"===i)s="rgb(".concat(_n77,", ").concat(_o53,", ").concat(_l47,")");else if("rgba"===i)s="rgba(".concat(_n77,", ").concat(_o53,", ").concat(_l47,", ").concat(_h34,")");else if("rgb%"===i)s="rgb(".concat(_n77,"%, ").concat(_o53,"%, ").concat(_l47,"%)");else if("rgba%"===i)s="rgb(".concat(_n77,"%, ").concat(_o53,"%, ").concat(_l47,"%, ").concat(_h34,")");else if("hex"===i){var _t302=_n77.toString(16),_e238=_o53.toString(16),_i214=_l47.toString(16);1===_t302.length&&(_t302="0"+_t302),1===_e238.length&&(_e238="0"+_e238),1===_i214.length&&(_i214="0"+_i214),s="#"+_t302+_e238+_i214;}}else if("hsl"===i||"hsla"===i){var _t303,_t304,_ref54,_ref55,_po3,_po4;var _n78,_o54,_l48,_h35;"hsla"===e?(_t303=t,_t304=_slicedToArray(_t303,4),_n78=_t304[0],_o54=_t304[1],_l48=_t304[2],_h35=_t304[3],_t303):"hsva"===e?((_ref54=function(t,e,i){var s=t/=360,n=(2-(e/=100))*(i/=100),o=e*i;return n<=1?0===n?o=0:o/=n:2===n?o=0:o/=2-n,n/=2,s*=360,o=100*ho(0,lo(1,o)),n=100*ho(0,lo(1,n)),[s,o,n];}.apply(void 0,_toConsumableArray(t)),_ref55=_slicedToArray(_ref54,3),_n78=_ref55[0],_o54=_ref55[1],_l48=_ref55[2],_ref54),_h35=t[3]):"rgba"===e&&((_po3=po.apply(void 0,_toConsumableArray(t)),_po4=_slicedToArray(_po3,3),_n78=_po4[0],_o54=_po4[1],_l48=_po4[2],_po3),_h35=t[3]),_n78=K(_n78,0,360,0),_o54=K(_o54,0,100,1),_l48=K(_l48,0,100,1),_h35=K(_h35,0,1,2),"hsl"===i?s="hsl(".concat(_n78,", ").concat(_o54,"%, ").concat(_l48,"%)"):"hsla"===i&&(s="hsla(".concat(_n78,", ").concat(_o54,"%, ").concat(_l48,"%, ").concat(_h35,")"));}return s;},mo=function mo(t){var e=[],i=new oo(t.toLowerCase());var _loop3=function _loop3(){var t=i.read();(function(){if("r"===t||"h"===t){var _s137=t;if(t+i.peek(3)==="rgb("?_s137+=i.read(3):t+i.peek(4)==="rgba("?_s137+=i.read(4):t+i.peek(3)==="hsl("?_s137+=i.read(3):t+i.peek(4)==="hsla("&&(_s137+=i.read(4)),_s137!==t)return void e.push({type:"FUNCTION",text:_s137});}if("#"===t){if(fo(t+i.peek(6))){var _s138=t+i.read(6);return void e.push({type:"HEX",text:_s138});}if(fo(t+i.peek(3)))return text=t+i.read(3),void e.push({type:"HEX",text:text});}if(["0","1","2","3","4","5","6","7","8","9",".","-"].includes(t)){var _s139=t;for(;["0","1","2","3","4","5","6","7","8","9","."].includes(i.peek());){_s139+=i.read();}"%"===i.peek()?(_s139+=i.read(),e.push({type:"PERCENTAGE",text:_s139})):e.push({type:"NUM",text:_s139});}else /\u0009|\u000a|\u000c|\u000d|\u0020/.test(t)||e.push({type:"CHAR",text:t});})();};for(;null!==i.peek();){_loop3();}return e;},go=function go(t,e){var i=e.startsWith("hsl")?"hsla":"rgba",s=xo(t,i);return bo(s,i,e);},fo=function fo(t){if("#"!==(t=t.toLowerCase())[0])return!1;if(4!==t.length&&7!==t.length)return!1;t=t.substring(1);var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];var _iterator145=_createForOfIteratorHelper(t),_step145;try{for(_iterator145.s();!(_step145=_iterator145.n()).done;){var _i215=_step145.value;if(!e.includes(_i215))return!1;}}catch(err){_iterator145.e(err);}finally{_iterator145.f();}return!0;},wo=function wo(t){try{xo(t);}catch(t){return!1;}return!0;},vo=function vo(t){var e=null,i=[],s=t;for(;s&&""!==s.href.baseVal;){null===e&&(e=Oi(t));var _n79=e.querySelector(s.href.baseVal);if(!_n79||"linearGradient"!==_n79.localName&&"radialGradient"!==_n79.localName||_n79===t||!1!==i.includes(_n79))break;i.push(_n79),s=_n79;}return i;},yo=function yo(t){var _iterator146=_createForOfIteratorHelper(vo(t)),_step146;try{for(_iterator146.s();!(_step146=_iterator146.n()).done;){var _e239=_step146.value;if(Mo(_e239))return _e239;}}catch(err){_iterator146.e(err);}finally{_iterator146.f();}return null;},ko=function ko(t){return Mo(t)?t:yo(t);},So=function So(t){return Co(t)?t:function(t){var _iterator147=_createForOfIteratorHelper(vo(t)),_step147;try{for(_iterator147.s();!(_step147=_iterator147.n()).done;){var _e240=_step147.value;if(Co(_e240))return _e240;}}catch(err){_iterator147.e(err);}finally{_iterator147.f();}return null;}(t);},_o=function _o(t){if("linearGradient"===t.localName&&!1===t.hasAttribute("href")){var _e241=_toConsumableArray(t.querySelectorAll(":scope > stop"));return 1===_e241.length&&!1===_e241[0].hasAttribute("offset");}return!1;},Co=function Co(t){return null!==t.querySelector(":scope > stop")||!1===t.hasAttribute("href");},Mo=function Mo(t){var e=[];"linearGradient"===t.localName?e=["x1","y1","x2","y2","href","gradientUnits","gradientTransform","href"]:"radialGradient"===t.localName&&(e=["cx","cy","r","fx","fy","fr","href","gradientUnits","gradientTransform","href"]);for(var _i216=0,_e242=e;_i216<_e242.length;_i216++){var _i217=_e242[_i216];if(t.hasAttribute(_i217))return!1;}return!0!==_o(t);},Po=function Po(t){var e=[t].concat(_toConsumableArray(vo(t))),i={};{var _t305=null;var _iterator148=_createForOfIteratorHelper(e),_step148;try{for(_iterator148.s();!(_step148=_iterator148.n()).done;){var _i218=_step148.value;if(_i218.hasAttribute("gradientUnits")){_t305=_i218.gradientUnits.baseVal;break;}}}catch(err){_iterator148.e(err);}finally{_iterator148.f();}null===_t305&&(_t305=SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX),i.gradientUnits=_t305;}{var _t306=null;var _iterator149=_createForOfIteratorHelper(e),_step149;try{for(_iterator149.s();!(_step149=_iterator149.n()).done;){var _i219=_step149.value;if(_i219.hasAttribute("gradientTransform")){_t306=DOMMatrix.fromMatrix(_i219.gradientTransform.baseVal.consolidate().matrix);break;}}}catch(err){_iterator149.e(err);}finally{_iterator149.f();}null===_t306&&(_t306=new DOMMatrix()),i.gradientTransform=_t306;}{var _t307=null;var _iterator150=_createForOfIteratorHelper(e),_step150;try{for(_iterator150.s();!(_step150=_iterator150.n()).done;){var _i220=_step150.value;if(_i220.hasAttribute("spreadMethod")){_t307=_i220.spreadMethod.baseVal;break;}}}catch(err){_iterator150.e(err);}finally{_iterator150.f();}null===_t307&&(_t307=SVGGradientElement.SVG_SPREADMETHOD_PAD),i.spreadMethod=_t307;}if("linearGradient"===t.localName)for(var _i221=0,_arr7=["x1","y1","x2","y2"];_i221<_arr7.length;_i221++){var _t308=_arr7[_i221];var _s140=null;var _iterator151=_createForOfIteratorHelper(e),_step151;try{for(_iterator151.s();!(_step151=_iterator151.n()).done;){var _i222=_step151.value;if("linearGradient"===_i222.localName&&_i222.hasAttribute(_t308)){_s140={value:_i222[_t308].baseVal.value,valueInSpecifiedUnits:_i222[_t308].baseVal.valueInSpecifiedUnits,valueAsString:_i222[_t308].baseVal.valueAsString,unitType:_i222[_t308].baseVal.unitType};break;}}}catch(err){_iterator151.e(err);}finally{_iterator151.f();}null===_s140&&("x1"===_t308||"y1"===_t308||"y2"===_t308?_s140={value:0,valueInSpecifiedUnits:0,valueAsString:"0%",unitType:SVGLength.SVG_LENGTHTYPE_PERCENTAGE}:"x2"===_t308&&(_s140={value:screen.width,valueInSpecifiedUnits:100,valueAsString:"100%",unitType:SVGLength.SVG_LENGTHTYPE_PERCENTAGE})),i[_t308]=_s140;}else if("radialGradient"===t.localName){for(var _i223=0,_arr8=["cx","cy","r"];_i223<_arr8.length;_i223++){var _t309=_arr8[_i223];var _s141=null;var _iterator152=_createForOfIteratorHelper(e),_step152;try{for(_iterator152.s();!(_step152=_iterator152.n()).done;){var _i224=_step152.value;if("radialGradient"===_i224.localName&&_i224.hasAttribute(_t309)){_s141={value:_i224[_t309].baseVal.value,valueInSpecifiedUnits:_i224[_t309].baseVal.valueInSpecifiedUnits,valueAsString:_i224[_t309].baseVal.valueAsString,unitType:_i224[_t309].baseVal.unitType};break;}}}catch(err){_iterator152.e(err);}finally{_iterator152.f();}null===_s141&&(_s141={value:screen.width/2,valueInSpecifiedUnits:50,valueAsString:"50%",unitType:SVGLength.SVG_LENGTHTYPE_PERCENTAGE}),i[_t309]=_s141;}for(var _i225=0,_arr9=["fx","fy","fr"];_i225<_arr9.length;_i225++){var _t310=_arr9[_i225];var _s142=null;var _iterator153=_createForOfIteratorHelper(e),_step153;try{for(_iterator153.s();!(_step153=_iterator153.n()).done;){var _i226=_step153.value;if("radialGradient"===_i226.localName&&_i226.hasAttribute(_t310)){_s142={value:_i226[_t310].baseVal.value,valueInSpecifiedUnits:_i226[_t310].baseVal.valueInSpecifiedUnits,valueAsString:_i226[_t310].baseVal.valueAsString,unitType:_i226[_t310].baseVal.unitType};break;}}}catch(err){_iterator153.e(err);}finally{_iterator153.f();}null===_s142&&("fx"===_t310?_s142={value:i.cx.value,valueInSpecifiedUnits:i.cx.valueInSpecifiedUnits,valueAsString:i.cx.valueAsString,unitType:i.cx.unitType}:"fy"===_t310?_s142={value:i.cy.value,valueInSpecifiedUnits:i.cy.valueInSpecifiedUnits,valueAsString:i.cy.valueAsString,unitType:i.cy.unitType}:"fr"===_t310&&(_s142={value:i.r.value,valueInSpecifiedUnits:i.r.valueInSpecifiedUnits,valueAsString:i.r.valueAsString,unitType:i.r.unitType})),i[_t310]=_s142;}}return i;},Do=function Do(t){var e=[];for(var _i227=0,_arr10=[t].concat(_toConsumableArray(vo(t)));_i227<_arr10.length;_i227++){var _i228=_arr10[_i227];var _t311=Eo(_i228);if(_t311.length>0){e=_t311;break;}}return e;},zo=function zo(t,e){var i=null;if(t.hasAttribute(e))i=t.getAttribute(e);else{var _s143=vo(t);var _iterator154=_createForOfIteratorHelper(_s143),_step154;try{for(_iterator154.s();!(_step154=_iterator154.n()).done;){var _t312=_step154.value;if(_t312.hasAttribute(e)){i=_t312.getAttribute(e);break;}}}catch(err){_iterator154.e(err);}finally{_iterator154.f();}}return i;},Oo=function Oo(t,e){var i=zi("canvas"),s=100;i.width=s,i.height=10;var n=i.getContext("2d");n.clearRect(0,0,s,10);var o=n.createLinearGradient(0,0,s,0);var _iterator155=_createForOfIteratorHelper(Do(t)),_step155;try{for(_iterator155.s();!(_step155=_iterator155.n()).done;){var _e243=_step155.value;o.addColorStop(_e243.offset.baseVal,_e243.style.getPropertyValue("stop-color")||"#000");}}catch(err){_iterator155.e(err);}finally{_iterator155.f();}n.fillStyle=o,n.fillRect(0,0,s,10);var l=n.getImageData(e*s,0,1,1).data;return"rgb(".concat(l[0],", ").concat(l[1],", ").concat(l[2],")");},Eo=function Eo(t){var e=[];var _iterator156=_createForOfIteratorHelper(t.children),_step156;try{for(_iterator156.s();!(_step156=_iterator156.n()).done;){var _i229=_step156.value;"stop"===_i229.localName&&e.push(_i229);}}catch(err){_iterator156.e(err);}finally{_iterator156.f();}return e;},To=function To(t){var _getComputedStyle3=getComputedStyle(t),e=_getComputedStyle3.stopColor,i=_getComputedStyle3.stopOpacity,_xo=xo(e,"rgba"),_xo2=_slicedToArray(_xo,4),s=_xo2[0],n=_xo2[1],o=_xo2[2],l=_xo2[3];return l*=parseFloat(i),"rgba(".concat(s,", ").concat(n,", ").concat(o,", ").concat(l,")");},Ao=function Ao(t){var e=null;if("linearGradient"===t.localName&&!1===t.hasAttribute("href")){var _i230=_toConsumableArray(t.querySelectorAll(":scope > stop"));1===_i230.length&&!1===_i230[0].hasAttribute("offset")&&(e=getComputedStyle(_i230[0]).stopColor);}return e;},$o=function $o(t,e){if("linearGradient"===t.localName&&!1===t.hasAttribute("href")){var _i231=_toConsumableArray(t.querySelectorAll(":scope > stop"));1===_i231.length&&!1===_i231[0].hasAttribute("offset")&&(_i231[0].style.stopColor=e);}},Io=function Io(t){if(0===t.length)return!1;if(1===t.length)return!0;{var _t313=_toArray(t),_e244=_t313[0],_i232=_t313.slice(1),_s144=Symbol(),_n80=Symbol(),_o55=Symbol();var _iterator157=_createForOfIteratorHelper(t),_step157;try{for(_iterator157.s();!(_step157=_iterator157.n()).done;){var _e246=_step157.value;_e246[_s144]=Do(_e246),!1===_e246.isConnected&&console.warn("compareGradientsResolvedStops() might return incorrect results for disconnected gradients.");}}catch(err){_iterator157.e(err);}finally{_iterator157.f();}var _iterator158=_createForOfIteratorHelper(_i232),_step158;try{for(_iterator158.s();!(_step158=_iterator158.n()).done;){var _t315=_step158.value;if(_t315[_s144].length!==_e244[_s144].length)return!1;}}catch(err){_iterator158.e(err);}finally{_iterator158.f();}var _iterator159=_createForOfIteratorHelper(t),_step159;try{for(_iterator159.s();!(_step159=_iterator159.n()).done;){var _e247=_step159.value;var _iterator161=_createForOfIteratorHelper(_e247[_s144]),_step161;try{for(_iterator161.s();!(_step161=_iterator161.n()).done;){var _t316=_step161.value;var _getComputedStyle4=getComputedStyle(_t316),_e248=_getComputedStyle4.stopColor,_i234=_getComputedStyle4.stopOpacity;_t316[_n80]=_e248,_t316[_o55]=_i234;}}catch(err){_iterator161.e(err);}finally{_iterator161.f();}}}catch(err){_iterator159.e(err);}finally{_iterator159.f();}for(var _t314=0;_t314<_e244[_s144].length;_t314+=1){var _l49=_e244[_s144][_t314];var _iterator160=_createForOfIteratorHelper(_i232),_step160;try{for(_iterator160.s();!(_step160=_iterator160.n()).done;){var _e245=_step160.value;var _i233=_e245[_s144][_t314];if(_i233.offset.baseVal!==_l49.offset.baseVal)return!1;if(_i233[_n80]!==_l49[_n80])return!1;if(_i233[_o55]!==_l49[_o55])return!1;}}catch(err){_iterator160.e(err);}finally{_iterator160.f();}}return!0;}},_SVGUnitTypes=SVGUnitTypes,Lo=_SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,Bo=_SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,Ro=function Ro(t){var e=null,i=[],s=t;for(;s&&""!==s.href.baseVal;){null===e&&(e=Oi(t));var _n81=e.querySelector(s.href.baseVal);if(!_n81||"pattern"!==_n81.localName||_n81===t||!1!==i.includes(_n81))break;i.push(_n81),s=_n81;}return i;},Go=function Go(t){return Uo(t)?t:function(t){var e=Ro(t),i=null;var _iterator162=_createForOfIteratorHelper(e),_step162;try{for(_iterator162.s();!(_step162=_iterator162.n()).done;){var _t317=_step162.value;Uo(_t317)&&(i=_t317);}}catch(err){_iterator162.e(err);}finally{_iterator162.f();}return i;}(t);},Fo=function Fo(t){var e=null;if(""!==t.href.baseVal){var _i235=Oi(t).querySelector(t.href.baseVal);_i235&&_i235!==t&&"pattern"===_i235.localName&&(e=_i235);}return e;},Uo=function Uo(t){return!1===t.hasAttribute("href")||!0===No(t);},No=function No(t){var _iterator163=_createForOfIteratorHelper(t.children),_step163;try{for(_iterator163.s();!(_step163=_iterator163.n()).done;){var _e249=_step163.value;if("title"!==_e249.localName&&"desc"!==_e249.localName&&"metadata"!==_e249.localName)return!0;}}catch(err){_iterator163.e(err);}finally{_iterator163.f();}return!1;},Vo=function Vo(t){var e=[];for(var _i236=0,_arr11=[t].concat(_toConsumableArray(Ro(t)));_i236<_arr11.length;_i236++){var _i237=_arr11[_i236];if(No(_i237)){e=_toConsumableArray(_i237.children);break;}}return e;},jo=function jo(t){var e=[t].concat(_toConsumableArray(Ro(t))),i={};{var _t318=null;var _iterator164=_createForOfIteratorHelper(e),_step164;try{for(_iterator164.s();!(_step164=_iterator164.n()).done;){var _i238=_step164.value;if(_i238.hasAttribute("patternUnits")){_t318=_i238.patternUnits.baseVal;break;}}}catch(err){_iterator164.e(err);}finally{_iterator164.f();}null===_t318&&(_t318=SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX),i.patternUnits=_t318;}{var _t319=null;var _iterator165=_createForOfIteratorHelper(e),_step165;try{for(_iterator165.s();!(_step165=_iterator165.n()).done;){var _i239=_step165.value;if(_i239.hasAttribute("patternContentUnits")){_t319=_i239.patternContentUnits.baseVal;break;}}}catch(err){_iterator165.e(err);}finally{_iterator165.f();}null===_t319&&(_t319=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE),i.patternContentUnits=_t319;}{var _t320=null;var _iterator166=_createForOfIteratorHelper(e),_step166;try{for(_iterator166.s();!(_step166=_iterator166.n()).done;){var _i240=_step166.value;if(_i240.hasAttribute("patternTransform")){_t320=DOMMatrix.fromMatrix(_i240.patternTransform.baseVal.consolidate().matrix);break;}}}catch(err){_iterator166.e(err);}finally{_iterator166.f();}null===_t320&&(_t320=new DOMMatrix()),i.patternTransform=_t320;}{var _t321=null;var _iterator167=_createForOfIteratorHelper(e),_step167;try{for(_iterator167.s();!(_step167=_iterator167.n()).done;){var _i241=_step167.value;if(_i241.hasAttribute("viewBox")){_t321=DOMRect.fromRect(_i241.viewBox.baseVal);break;}}}catch(err){_iterator167.e(err);}finally{_iterator167.f();}null===_t321&&(_t321=new DOMRect()),i.viewBox=_t321;}{var _t322=null;var _iterator168=_createForOfIteratorHelper(e),_step168;try{for(_iterator168.s();!(_step168=_iterator168.n()).done;){var _i242=_step168.value;if(_i242.hasAttribute("preserveAspectRatio")){_t322=_i242.preserveAspectRatio.baseVal;break;}}}catch(err){_iterator168.e(err);}finally{_iterator168.f();}null===_t322&&(_t322={align:SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMIDYMID,meetOrSlice:SVGPreserveAspectRatio.SVG_MEETORSLICE_MEET}),i.preserveAspectRatio=_t322;}for(var _i243=0,_arr12=["x","y","width","height"];_i243<_arr12.length;_i243++){var _t323=_arr12[_i243];var _s145=null;var _iterator169=_createForOfIteratorHelper(e),_step169;try{for(_iterator169.s();!(_step169=_iterator169.n()).done;){var _i244=_step169.value;if(_i244.hasAttribute(_t323)){_s145={value:_i244[_t323].baseVal.value,valueInSpecifiedUnits:_i244[_t323].baseVal.valueInSpecifiedUnits,valueAsString:_i244[_t323].baseVal.valueAsString,unitType:_i244[_t323].baseVal.unitType};break;}}}catch(err){_iterator169.e(err);}finally{_iterator169.f();}null===_s145&&(_s145={value:0,valueInSpecifiedUnits:0,valueAsString:"0",unitType:SVGLength.SVG_LENGTHTYPE_NUMBER}),i[_t323]=_s145;}return i;},Ho=function Ho(t){var e=Oi(t),i=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(w.includes(s.localName)){var _getComputedStyle5=getComputedStyle(s),_e250=_getComputedStyle5.fill,_i245=_getComputedStyle5.stroke;for(var _i246=0,_arr13=[_e250,_i245];_i246<_arr13.length;_i246++){var _o56=_arr13[_i246];if(_o56.startsWith('url("#')){_o56.substring(6,_o56.length-2)===t.id&&!1===n.includes(s)&&n.push(s);}}}}return n;},Yo=function Yo(t){if(0===t.length)return!1;if(1===t.length)return!0;{var _t324=_toArray(t),_e251=_t324[0],_i247=_t324.slice(1),_s146=Symbol();var _iterator170=_createForOfIteratorHelper(t),_step170;try{for(_iterator170.s();!(_step170=_iterator170.n()).done;){var _e252=_step170.value;_e252[_s146]=Vo(_e252);}}catch(err){_iterator170.e(err);}finally{_iterator170.f();}var _iterator171=_createForOfIteratorHelper(_i247),_step171;try{for(_iterator171.s();!(_step171=_iterator171.n()).done;){var _t325=_step171.value;if(!1===Je(_t325[_s146],_e251[_s146],!0))return!1;}}catch(err){_iterator171.e(err);}finally{_iterator171.f();}return!0;}},Wo=function Wo(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var s,n,o,l,h,a,r=jo(t),d=Ci(e);if(r.patternUnits===Bo)s=new DOMPoint(r.x.value,r.y.value),n=new DOMPoint(r.x.value+r.width.value,r.y.value),o=new DOMPoint(r.x.value+r.width.value,r.y.value+r.height.value),l=new DOMPoint(d.x+d.width/2-r.width.value/2,d.y+d.height/2-r.height.value/2),h=new DOMPoint(d.x+d.width/2+r.width.value/2,d.y+d.height/2-r.height.value/2),a=new DOMPoint(d.x+d.width/2+r.width.value/2,d.y+d.height/2+r.height.value/2);else if(r.patternUnits===Lo){var _t326=r.x.valueInSpecifiedUnits,_e253=r.y.valueInSpecifiedUnits,_i248=r.width.valueInSpecifiedUnits,_c4=r.height.valueInSpecifiedUnits;r.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t326/=100),r.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e253/=100),r.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i248/=100),r.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_c4/=100);var _p3=new DOMPoint(_t326,_e253),_u3=new DOMPoint(_t326+_i248,_e253),_x50=new DOMPoint(_t326+_i248,_e253+_c4);s=new DOMPoint(d.x+_p3.x*d.width,d.y+_p3.y*d.height),n=new DOMPoint(d.x+_u3.x*d.width,d.y+_u3.y*d.height),o=new DOMPoint(d.x+_x50.x*d.width,d.y+_x50.y*d.height),l=new DOMPoint(d.x+d.width/2-d.width*_i248/2,d.y+d.height/2-d.height*_c4/2),h=new DOMPoint(d.x+d.width/2+d.width*_i248/2,d.y+d.height/2-d.height*_c4/2),a=new DOMPoint(d.x+d.width/2+d.width*_i248/2,d.y+d.height/2+d.height*_c4/2);}var c=Ht(s,n,o,l,h,a);null!==i&&(c=Rt(c,i)),t.setAttribute("patternTransform",c.toString());},qo=function qo(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"fill";var i="none";if("inherit"===t.style.getPropertyValue(e))i="inherit";else{var _s147=getComputedStyle(t).getPropertyValue(e);if(wo(_s147))i="solid";else{var _e254=no.fromString(_s147);if(_e254){var _s148=Oi(t).querySelector(_e254.value),_n82=_s148?_s148.localName:null;"linearGradient"===_n82&&_o(_s148)?i="solid":"linearGradient"!==_n82&&"radialGradient"!==_n82&&"pattern"!==_n82||(i=_n82);}}}return i;},Xo=function Xo(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"fill";var i=null,s=getComputedStyle(t).getPropertyValue(e),n=no.fromString(s);if(n){var _e255=Oi(t).querySelector(n.value);_e255&&v.includes(_e255.localName)&&(i=_e255);}return i;},Zo=function Zo(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"fill";var i=[],s=[];var _iterator172=_createForOfIteratorHelper(t),_step172;try{for(_iterator172.s();!(_step172=_iterator172.n()).done;){var _n84=_step172.value;var _t327=getComputedStyle(_n84).getPropertyValue(e),_o57=Xo(_n84);i.push(_t327),s.push(_o57);}}catch(err){_iterator172.e(err);}finally{_iterator172.f();}if(i.legth<=1)return!1;if(ei(i,i[0]))return!1;{var _e256=s.filter(function(t){return t&&"linearGradient"===t.localName;}),_i249=s.filter(function(t){return t&&"radialGradient"===t.localName;}),_n83=s.filter(function(t){return t&&"pattern"===t.localName;});return(_e256.length!==t.length||!Io(_e256))&&(_i249.length!==t.length||!Io(_i249))&&(_n83.length!==t.length||!Yo(_n83));}},Ko=function Ko(t,e){var i=no.fromString(e);if(i){var _e257=t.querySelector(i.value);if(_e257)return _e257;}return null;},Qo=["text","textPath","tspan"],Jo=["fill","fill-opacity","fill-rule","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","paint-order","vector-effect"],tl=["opacity","mix-blend-mode","isolation"],el=["font-family","font-size","font-stretch","font-style","font-variant","font-weight","letter-spacing","word-spacing","text-decoration","text-transform"],il=function il(t){var e=[];return w.includes(t.localName)&&e.push.apply(e,Jo),m.includes(t.localName)&&e.push.apply(e,tl),Qo.includes(t.localName)&&e.push.apply(e,el),e;},sl=function sl(t,e){var i=getComputedStyle(t),s=il(t);!1===t.isConnected&&console.warn("setAppearance() called with a disconnected element.");var _iterator173=_createForOfIteratorHelper(s),_step173;try{for(_iterator173.s();!(_step173=_iterator173.n()).done;){var _n85=_step173.value;var _s149=e[_n85];if(void 0===_s149)t.style[_n85]=null,t.removeAttribute(_n85);else if("fill"===_n85||"stroke"===_n85){if(_s149.startsWith("<linearGradient")||_s149.startsWith("<radialGradient")){var _e258=Oi(t),_i250=_e258.querySelector("defs"),_o58=qi(_templateObject5(),_s149);_o58.id=ji(_e258,"gradient-"),(_i250||_e258).append(_o58),t.style[_n85]="url(#".concat(_o58.id,")");}else i[_n85]!==_s149&&(t.style[_n85]=_s149);}else i[_n85]!==_s149&&(t.style[_n85]=_s149);}}catch(err){_iterator173.e(err);}finally{_iterator173.f();}},nl={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var ol=/*#__PURE__*/function(_HTMLElement41){_inherits(ol,_HTMLElement41);var _super42=_createSuper(ol);_createClass(ol,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function ol(){var _this140;_classCallCheck(this,ol);_this140=_super42.call(this),_this140.gn=null,_this140.fn=!1;return _this140;}_createClass(ol,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this141=this;var t=this.Js.board;t.style.cursor="crosshair",t.addEventListener("keydown",this.wn=function(t){_this141.vn(t);}),t.workspaces.addEventListener("pointerdown",this.yn=function(t){_this141.kn(t);}),t.pathHud.addEventListener("nodeclick",this.Sn=function(t){_this141._n(t.detail.position,t.detail.path,t.detail.selected);});}},{key:"sn",value:function sn(){var t=this.Js.board;this.gn=null,this.fn=!1,t.pathHud.passive=!1,t.cubicBezierSegHud.hide(),t.removeEventListener("keydown",this.wn),t.workspaces.removeEventListener("pointerdown",this.yn),t.pathHud.removeEventListener("nodeclick",this.Sn);}},{key:"vn",value:function vn(t){var e=eo.fromEvent(t);this.gn&&(e.matches("Enter")||e.matches("Escape"))&&(t.stopPropagation(),this.gn=null,this.fn=!1,this.Js.board.pathHud.passive=!1,this.Js.board.cubicBezierSegHud.hide());}},{key:"kn",value:function kn(t){var _this142=this;var e,_i251,s=new DOMPoint(t.clientX,t.clientY),n=0;window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new X(s,e).length;i>n&&(n=i);}),window.addEventListener("pointerup",_i251=function i(s){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i251);var o=n<4;_this142.Cn(t,o);});}},{key:"Cn",value:function Cn(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=this.Js.board;if(i.pathHud.deselectAllSegs(),null===this.gn){if(e){i.undoManager.checkpoint("Draw path segment");var _e259=t.clientX,_s150=t.clientY,_n86=i.currentContainer||i.currentWorkspace,_o59=this.Qs.getConfig("bx-cubicbeziersettings:style")||nl,_l50=zi("svg:path");_n86.append(_l50),sl(_l50,_o59);var _h36=jt(_l50).inverse(),_DOMPoint$matrixTrans=new DOMPoint(_e259,_s150).matrixTransform(_h36),_a24=_DOMPoint$matrixTrans.x,_r14=_DOMPoint$matrixTrans.y,_d6=[{type:"M",values:[_a24,_r14]}];for(var _i252=0,_d7=_d6;_i252<_d7.length;_i252++){var _t328=_d7[_i252];_t328.values=_t328.values.map(function(t){return Z(t,i.geometryPrecision);});}_l50.setPathData(_d6),i.selectedElements=[].concat(_toConsumableArray(i.selectedElements),[_l50]),this.fn=!1,this.gn=_l50,i.pathHud.passive=!0,i.cubicBezierSegHud.show(_l50,"end");}}else if(this.gn)if(!1===this.fn){var _t329=_toConsumableArray(this.gn.getPathData({normalize:!0}));_t329.length>1&&i.undoManager.checkpoint("Draw path segment"),i.cubicBezierSegHud.curved?_t329.push({type:"C",values:[i.cubicBezierSegHud.controlPoint1.x,i.cubicBezierSegHud.controlPoint1.y,i.cubicBezierSegHud.controlPoint2.x,i.cubicBezierSegHud.controlPoint2.y,i.cubicBezierSegHud.endPoint.x,i.cubicBezierSegHud.endPoint.y]}):_t329.push({type:"L",values:[i.cubicBezierSegHud.endPoint.x,i.cubicBezierSegHud.endPoint.y]});var _iterator174=_createForOfIteratorHelper(_t329),_step174;try{for(_iterator174.s();!(_step174=_iterator174.n()).done;){var _e260=_step174.value;_e260.values=_e260.values.map(function(t){return Z(t,i.geometryPrecision);});}}catch(err){_iterator174.e(err);}finally{_iterator174.f();}this.gn.setPathData(_t329);}else{i.undoManager.checkpoint("Draw path segment");var _t330=this.gn.getPathData({normalize:!0}),_e261=[];_e261.push({type:"M",values:[i.cubicBezierSegHud.startPoint.x,i.cubicBezierSegHud.startPoint.y]}),i.cubicBezierSegHud.curved?_e261.push({type:"C",values:[i.cubicBezierSegHud.controlPoint1.x,i.cubicBezierSegHud.controlPoint1.y,i.cubicBezierSegHud.controlPoint2.x,i.cubicBezierSegHud.controlPoint2.y,i.cubicBezierSegHud.endPoint.x,i.cubicBezierSegHud.endPoint.y]}):_e261.push({type:"L",values:[i.cubicBezierSegHud.endPoint.x,i.cubicBezierSegHud.endPoint.y]}),_e261.push.apply(_e261,_toConsumableArray(_t330.slice(1)));for(var _i253=0,_e262=_e261;_i253<_e262.length;_i253++){var _t331=_e262[_i253];_t331.values=_t331.values.map(function(t){return Z(t,i.geometryPrecision);});}this.gn.setPathData(_e261);}}},{key:"_n",value:function _n(t,e,i){var s=!1,n=this.Js.board;if(this.gn)if(e===this.gn){if("start"===t||"end"===t){var _e263=this.gn,_i254=_e263.getPathData({normalize:!0}),_o60=_i254[0],_l51=_i254[_i254.length-1];if(!1===this.fn&&"start"===t){n.undoManager.checkpoint("Draw path segment");var _t332=_toConsumableArray(_i254);n.cubicBezierSegHud.curved?_t332.push({type:"C",values:[n.cubicBezierSegHud.controlPoint1.x,n.cubicBezierSegHud.controlPoint1.y,n.cubicBezierSegHud.controlPoint2.x,n.cubicBezierSegHud.controlPoint2.y,_o60.values[0],_o60.values[1]]}):_t332.push({type:"L",values:[_o60.values[0],_o60.values[1]]}),_t332.push({type:"Z",values:[]});var _iterator175=_createForOfIteratorHelper(_t332),_step175;try{for(_iterator175.s();!(_step175=_iterator175.n()).done;){var _e264=_step175.value;_e264.values=_e264.values.map(function(t){return Z(t,n.geometryPrecision);});}}catch(err){_iterator175.e(err);}finally{_iterator175.f();}_e263.setPathData(_t332);}else if(this.fn&&"end"===t){n.undoManager.checkpoint("Draw path segment");var _t333=[];_t333.push({type:"M",values:["C"===_l51.type?_l51.values[4]:_l51.values[0],"C"===_l51.type?_l51.values[5]:_l51.values[1]]}),n.cubicBezierSegHud.curved?_t333.push({type:"C",values:[n.cubicBezierSegHud.controlPoint1.x,n.cubicBezierSegHud.controlPoint1.y,n.cubicBezierSegHud.controlPoint2.x,n.cubicBezierSegHud.controlPoint2.y,_o60.values[0],_o60.values[1]]}):_t333.push({type:"L",values:[_o60.values[0],_o60.values[1]]}),_t333.push.apply(_t333,_toConsumableArray(_i254.slice(1))),_t333.push({type:"Z",values:[]});for(var _i255=0,_t334=_t333;_i255<_t334.length;_i255++){var _e265=_t334[_i255];_e265.values=_e265.values.map(function(t){return Z(t,n.geometryPrecision);});}_e263.setPathData(_t333);}this.gn=null,this.fn=!1,n.pathHud.passive=!1,n.cubicBezierSegHud.hide(),s=!0;}}else if("start"===t||"end"===t){var _i256=e,_o61=this.gn,_l52=n.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_i256.id),"\"]")),_h37=n.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_o61.id),"\"]")),_a25=_o61.getPathData({normalize:!0});if(_a25.length>1){var _e266;if(n.undoManager.checkpoint("Draw path segment"),(!1===this.fn&&"end"===t||!0===this.fn&&"start"===t)&&ht(_i256),_h37&&_l52?(_e266=Vt(_l52.closest("text"),_h37.closest("text")),_e266.multiplySelf(Nt(_o61)),_e266.multiplySelf(Nt(_i256))):_h37&&!_l52?(_e266=Vt(_i256,_h37.closest("text")),_e266.multiplySelf(Nt(_o61))):!_h37&&_l52?(_e266=Vt(_l52.closest("text"),_o61),_e266.multiplySelf(Nt(_i256))):_e266=Vt(_i256,_o61),!1===this.fn){var _t335=_toConsumableArray(_a25),_s151=ie(_i256.getPathData({normalize:!0}),_e266),_l53=_s151[0];n.cubicBezierSegHud.curved?_t335.push({type:"C",values:[n.cubicBezierSegHud.controlPoint1.x,n.cubicBezierSegHud.controlPoint1.y,n.cubicBezierSegHud.controlPoint2.x,n.cubicBezierSegHud.controlPoint2.y,_l53.values[0],_l53.values[1]]}):_t335.push({type:"L",values:[_l53.values[0],_l53.values[1]]}),_t335.push.apply(_t335,_toConsumableArray(_s151.slice(1)));var _iterator176=_createForOfIteratorHelper(_t335),_step176;try{for(_iterator176.s();!(_step176=_iterator176.n()).done;){var _e267=_step176.value;_e267.values=_e267.values.map(function(t){return Z(t,n.geometryPrecision);});}}catch(err){_iterator176.e(err);}finally{_iterator176.f();}_o61.setPathData(_t335),_i256.setPathData([]),_i256.remove();}else if(!0===this.fn){var _t336=[],_s152=ie(_i256.getPathData({normalize:!0}),_e266),_l54=_a25[0];_t336.push.apply(_t336,_toConsumableArray(_s152)),n.cubicBezierSegHud.curved?_t336.push({type:"C",values:[n.cubicBezierSegHud.controlPoint1.x,n.cubicBezierSegHud.controlPoint1.y,n.cubicBezierSegHud.controlPoint2.x,n.cubicBezierSegHud.controlPoint2.y,_l54.values[0],_l54.values[1]]}):_t336.push({type:"L",values:[_l54.values[0],_l54.values[1]]}),_t336.push.apply(_t336,_toConsumableArray(_a25.slice(1)));for(var _i257=0,_t337=_t336;_i257<_t337.length;_i257++){var _e268=_t337[_i257];_e268.values=_e268.values.map(function(t){return Z(t,n.geometryPrecision);});}_o61.setPathData(_t336),_i256.setPathData([]),_i256.remove();}n.selectedElements=n.selectedElements.filter(function(t){return t!==_i256;}),s=!0;}this.gn=null,this.fn=!1,n.pathHud.passive=!1,n.cubicBezierSegHud.hide();}if(!1===s&&null===this.gn&&!0===i)if("start"===t){var _t338=this.Mn(e);this.gn=e,this.fn=!0,n.pathHud.passive=!0,n.cubicBezierSegHud.show(e,"start",_t338);}else if("end"===t){var _t339=this.Mn(e);this.gn=e,this.fn=!1,n.pathHud.passive=!0,n.cubicBezierSegHud.show(e,"end",_t339);}}},{key:"Mn",value:function Mn(t){var e=this.Js.board.workspaces.querySelectorAll("textPath");if(t.id){var _iterator177=_createForOfIteratorHelper(e),_step177;try{for(_iterator177.s();!(_step177=_iterator177.n()).done;){var _i258=_step177.value;if(_i258.href.baseVal==="#"+t.id)return _i258;}}catch(err){_iterator177.e(err);}finally{_iterator177.f();}}return null;}}]);return ol;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ol,"observedAttributes",["enabled"]);customElements.define("bx-cubicbeziercontext",ol);var ll=function ll(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var s=t+Math.random()*(e-t);return Z(s,i);},hl=function hl(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"hex";var i=2166136261;for(var _e269=0,_s153=t.length;_e269<_s153;_e269+=1){i^=t.charCodeAt(_e269),i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24);}return i>>>=0,"hex"===e&&(i=("0000000"+i.toString(16)).substr(-8)),i;},al=Math.sin,rl=Math.cos,dl=Math.tan,cl=Math.PI;var pl={rect:1,ring:1,pie:1,crescent:1,triangle:1,"n-gon":1,star:1,cog:1,arrow:1,cross:1,spiral:1};var ul=function ul(t){var e=null;if(t.hasAttribute("data-bx-shape")){var _i259=t.getAttribute("data-bx-shape").trim().split(/[\s+,]+/);if(_i259.length>=3){var _t340=_i259[0],_s154=_i259.slice(1,_i259.length-1),_n87=_i259[_i259.length-1];if(_n87.includes("@")){var _n87$split=_n87.split("@"),_n87$split2=_slicedToArray(_n87$split,2),_i260=_n87$split2[0],_o62=_n87$split2[1];_s154=_s154.map(function(t){return parseFloat(t);}),e={type:_t340,values:_s154};}}}return e;},xl=function xl(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:9;var s=ml(e,i);if(s){t.setPathData(s);var _n88=e.values.map(function(t){return Z(t,i);}),_o63=t.getAttribute("d"),_l55="".concat(e.type," ").concat(_n88.join(" ")," ").concat(pl[e.type]);_l55+="@"+hl("".concat(_o63," / ").concat(_l55)).toString(32),t.setAttribute("data-bx-shape",_l55);}},bl=function bl(t){var e=!1;if(t.hasAttribute("data-bx-shape")){var _i261=t.getAttribute("d"),_s155=t.getAttribute("data-bx-shape").trim().split(/[\s+,]+/);if(_s155.length>=3){var _t341=_s155[0],_n89=_s155.slice(1,_s155.length-1),_o64=_s155[_s155.length-1];if(_o64.includes("@")){var _o64$split=_o64.split("@"),_o64$split2=_slicedToArray(_o64$split,2),_s156=_o64$split2[0],_l56=_o64$split2[1];_l56===hl("".concat(_i261," / ").concat(_t341," ").concat(_n89.join(" ")," ").concat(_s156)).toString(32)&&(e=!0);}}}return e;},ml=function ml(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=null;return"rect"===t.type?i=gl(t,e):"ring"===t.type?i=fl(t,e):"pie"===t.type?i=wl(t,e):"crescent"===t.type?i=vl(t,e):"triangle"===t.type?i=yl(t,e):"n-gon"===t.type?i=kl(t,e):"star"===t.type?i=Sl(t,e):"cog"===t.type?i=_l(t,e):"arrow"===t.type?i=Cl(t,e):"cross"===t.type?i=Ml(t,e):"spiral"===t.type&&(i=Pl(t,e)),i;},gl=function gl(t,e){var _t$values=_slicedToArray(t.values,12),i=_t$values[0],s=_t$values[1],n=_t$values[2],o=_t$values[3],l=_t$values[4],h=_t$values[5],a=_t$values[6],r=_t$values[7],d=_t$values[8],c=_t$values[9],p=_t$values[10],u=_t$values[11];void 0===d&&(d=l),void 0===c&&(c=h),void 0===p&&(p=a),void 0===u&&(u=r),l=l>n/2?n/2:l,h=h>n/2?n/2:h,a=a>n/2?n/2:a,r=r>n/2?n/2:r,d=d>o/2?o/2:d,c=c>o/2?o/2:c,p=p>o/2?o/2:p,u=u>o/2?o/2:u;var x=[{type:"M",values:[i+l,s]},{type:"H",values:[i+n-h]},{type:"A",values:[h,c,0,0,1,i+n,s+c]},{type:"V",values:[s+o-p]},{type:"A",values:[a,p,0,0,1,i+n-a,s+o]},{type:"H",values:[i+r]},{type:"A",values:[r,u,0,0,1,i,s+o-u]},{type:"V",values:[s+d]},{type:"A",values:[l,d,0,0,1,i+l,s]},{type:"Z",values:[]}];x=x.filter(function(t){return"A"!==t.type||0!==t.values[0]&&0!==t.values[1];});var _iterator178=_createForOfIteratorHelper(x),_step178;try{for(_iterator178.s();!(_step178=_iterator178.n()).done;){var _t342=_step178.value;_t342.values=_t342.values.map(function(t){return Z(t,e);});}}catch(err){_iterator178.e(err);}finally{_iterator178.f();}return x;},fl=function fl(t,e){var _t$values2=_slicedToArray(t.values,6),i=_t$values2[0],s=_t$values2[1],n=_t$values2[2],o=_t$values2[3],l=_t$values2[4],h=_t$values2[5],a=[{type:"M",values:[i,s]},{type:"m",values:[-l,0]},{type:"a",values:[l,h,0,1,0,2*l,0]},{type:"a",values:[l,h,0,1,0,-2*l,0]},{type:"Z",values:[]},{type:"M",values:[i,s]},{type:"m",values:[-n,0]},{type:"a",values:[n,o,0,0,1,2*n,0]},{type:"a",values:[n,o,0,0,1,-2*n,0]},{type:"Z",values:[]}];for(var _i262=0,_a26=a;_i262<_a26.length;_i262++){var _t343=_a26[_i262];_t343.values=_t343.values.map(function(t){return Z(t,e);});}return a;},wl=function wl(t,e){var _t$values3=_slicedToArray(t.values,6),i=_t$values3[0],s=_t$values3[1],n=_t$values3[2],o=_t$values3[3],l=_t$values3[4],h=_t$values3[5],a=Ge(l),r=Ge(h),d=h-l,c=d>=180||d>=-180&&d<=0?1:0,p=[{type:"M",values:[i+o*al(a),s+o*-rl(a)]},{type:"A",values:[o,o,0,c,1,i+o*al(r),s+o*-rl(r)]},{type:"L",values:[i+n*al(r),s+n*-rl(r)]}];if(n>0){var _t344=i+n*al(a),_e270=s+n*-rl(a);p.push({type:"A",values:[n,n,0,c,0,_t344,_e270]});}p.push({type:"Z",values:[]});for(var _i263=0,_p4=p;_i263<_p4.length;_i263++){var _t345=_p4[_i263];_t345.values=_t345.values.map(function(t){return Z(t,e);});}return p;},vl=function vl(t,e){var _t$values4=_slicedToArray(t.values,5),i=_t$values4[0],s=_t$values4[1],n=_t$values4[2],o=_t$values4[3],l=_t$values4[4],h=Le(90-o/2),a=Ge(h),r=Le(h+o),d=Ge(r),c=r-h,p=c>=180||c>=-180&&c<=0?1:0,u=new DOMPoint(i+n*al(a),s+n*-rl(a)),x=new DOMPoint(i+n*al(d),s+n*-rl(d)),b=new DOMPoint(i-n+2*n*l,s),m=[];m.push({type:"M",values:[u.x,u.y]}),m.push({type:"A",values:[n,n,0,p,1,x.x,x.y]}),!0===Pe(u,x,b)?m.push({type:"L",values:[u.x,u.y]}):m.push(function(t,e,i){if(!0===Pe(t,e,i))throw new Error("Given points are colinear");{var _s157=De(e,i),_n90=De(i,t),_o65=De(t,e),_l57=be((_s157*_s157+_n90*_n90-_o65*_o65)/(2*_s157*_n90)),_h38=_s157*_n90*_o65/4/(.5*_s157*_n90*ue(_l57));return{type:"A",values:[_h38,_h38,0,+(ve/2>_l57),+((e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)<0),e.x,e.y]};}}(x,u,b)),m.push({type:"Z",values:[]});for(var _i264=0,_m2=m;_i264<_m2.length;_i264++){var _t346=_m2[_i264];_t346.values=_t346.values.map(function(t){return Z(t,e);});}return m;},yl=function yl(t,e){var _t$values5=_slicedToArray(t.values,6),i=_t$values5[0],s=_t$values5[1],n=_t$values5[2],o=_t$values5[3],l=_t$values5[4],h=_t$values5[5],a=[];if(0===h)a.push({type:"M",values:[i+n*l,s]}),a.push({type:"L",values:[i+n,s+o]}),a.push({type:"L",values:[i,s+o]}),a.push({type:"L",values:[i+n*l,s]});else{var _t347=[{x:i+n*l,y:s},{x:i+n,y:s+o},{x:i,y:s+o}];for(var _e271=0;_e271<_t347.length;_e271+=1){var _i265=_t347[_e271],_s158=_t347[_e271+1]||_t347[0],_n91=_t347[_e271-1]||_t347[_t347.length-1],_o66={x:_i265.x+(_n91.x-_i265.x)*h,y:_i265.y+(_n91.y-_i265.y)*h},_l58={x:_i265.x+(_s158.x-_i265.x)*h,y:_i265.y+(_s158.y-_i265.y)*h},_r15={x:_i265.x,y:_i265.y};a.push({type:0===_e271?"M":"L",values:[_o66.x,_o66.y]}),a.push({type:"Q",values:[_r15.x,_r15.y,_l58.x,_l58.y]});}}a.push({type:"Z",values:[]});for(var _i266=0,_a27=a;_i266<_a27.length;_i266++){var _t348=_a27[_i266];_t348.values=_t348.values.map(function(t){return Z(t,e);});}return a;},kl=function kl(t,e){var _t$values6=_slicedToArray(t.values,6),i=_t$values6[0],s=_t$values6[1],n=_t$values6[2],o=_t$values6[3],l=_t$values6[4],h=_t$values6[5],a=[];if(0===h)for(var _t349=0;_t349<l;_t349+=1){var _e272=2*cl*(_t349/l)-cl/2,_h39=n*rl(_e272)+i,_r16=o*al(_e272)+s;0===_t349?a.push({type:"M",values:[_h39,_r16]}):a.push({type:"L",values:[_h39,_r16]});}else{var _t350=[];for(var _e273=0;_e273<l;_e273+=1){var _h40=2*cl*(_e273/l)-cl/2;_t350.push({x:n*rl(_h40)+i,y:o*al(_h40)+s});}for(var _e274=0;_e274<_t350.length;_e274+=1){var _i267=_t350[_e274],_s159=_t350[_e274+1]||_t350[0],_n92=_t350[_e274-1]||_t350[_t350.length-1],_o67={x:_i267.x+(_n92.x-_i267.x)*h,y:_i267.y+(_n92.y-_i267.y)*h},_l59={x:_i267.x+(_s159.x-_i267.x)*h,y:_i267.y+(_s159.y-_i267.y)*h},_r17={x:_i267.x,y:_i267.y};a.push({type:0===_e274?"M":"L",values:[_o67.x,_o67.y]}),a.push({type:"Q",values:[_r17.x,_r17.y,_l59.x,_l59.y]});}}a.push({type:"Z",values:[]});for(var _i268=0,_a28=a;_i268<_a28.length;_i268++){var _t351=_a28[_i268];_t351.values=_t351.values.map(function(t){return Z(t,e);});}return a;},Sl=function Sl(t,e){var _t$values7=_slicedToArray(t.values,6),i=_t$values7[0],s=_t$values7[1],n=_t$values7[2],o=_t$values7[3],l=_t$values7[4],h=_t$values7[5],a=[];for(var _t352=0;_t352<h;_t352+=1){var _e275=2*cl*(_t352/h)-cl/2,_r18=n*rl(_e275)+i,_d8=o*al(_e275)+s;0===_t352?a.push({type:"M",values:[_r18,_d8]}):a.push({type:"L",values:[_r18,_d8]}),_e275=2*cl*(_t352/h)+cl/h-cl/2,_r18=l*n*rl(_e275)+i,_d8=l*o*al(_e275)+s,a.push({type:"L",values:[_r18,_d8]});}a.push({type:"Z",values:[]});for(var _i269=0,_a29=a;_i269<_a29.length;_i269++){var _t353=_a29[_i269];_t353.values=_t353.values.map(function(t){return Z(t,e);});}return a;},_l=function _l(t,e){var _t$values8=_slicedToArray(t.values,7),i=_t$values8[0],s=_t$values8[1],n=_t$values8[2],o=_t$values8[3],l=_t$values8[4],h=_t$values8[5],a=_t$values8[6],r=360/a,d=r/4,c=dl(Ge(d-h*d))*l,p=[];for(var _t354=0;_t354<a;_t354+=1){var _e276=r*_t354-90,_n93=_e276+d+h*d,_a30=_e276+r-d-h*d,_u4=Ge(_e276),_x51=Ge(_n93),_b2=Ge(_a30);p.push({type:0===_t354?"M":"L",values:[i+l*rl(_u4)+al(_u4)*c,s+l*al(_u4)-rl(_u4)*c]}),p.push({type:"L",values:[i+l*rl(_u4)-al(_u4)*c,s+l*al(_u4)+rl(_u4)*c]}),p.push({type:"L",values:[i+o*rl(_x51),s+o*al(_x51)]}),p.push({type:"A",values:[o,o,0,0,1,i+o*rl(_b2),s+o*al(_b2)]});}p.push({type:"Z",values:[]}),p.push({type:"M",values:[i,s-n]}),p.push({type:"A",values:[n,n,0,0,0,i,s+n]}),p.push({type:"A",values:[n,n,0,0,0,i,s-n]});for(var _i270=0,_p5=p;_i270<_p5.length;_i270++){var _t355=_p5[_i270];_t355.values=_t355.values.map(function(t){return Z(t,e);});}return p;},Cl=function Cl(t,e){var _t$values9=_slicedToArray(t.values,7),i=_t$values9[0],s=_t$values9[1],n=_t$values9[2],o=_t$values9[3],l=_t$values9[4],h=_t$values9[5],a=_t$values9[6];h>n&&(h=n),a<0?a=0:a>h&&(a=h);var r=[{type:"M",values:[i,s+o/2-l/2]},{type:"H",values:[i+n-h+a]},{type:"L",values:[i+n-h,s]},{type:"L",values:[i+n,s+o/2]},{type:"L",values:[i+n-h,s+o]},{type:"L",values:[i+n-h+a,s+o/2+l/2]},{type:"H",values:[i]},{type:"V",values:[s+o/2-l/2]},{type:"Z",values:[]}];for(var _i271=0,_r19=r;_i271<_r19.length;_i271++){var _t356=_r19[_i271];_t356.values=_t356.values.map(function(t){return Z(t,e);});}return r;},Ml=function Ml(t,e){var _t$values10=_slicedToArray(t.values,7),i=_t$values10[0],s=_t$values10[1],n=_t$values10[2],o=_t$values10[3],l=_t$values10[4],h=_t$values10[5],a=_t$values10[6],r=[{type:"M",values:[i+n/2-h/2,s]},{type:"H",values:[i+n/2+h/2]},{type:"V",values:[s+o*a-l/2]},{type:"H",values:[i+n]},{type:"V",values:[s+o*a+l/2]},{type:"H",values:[i+n/2+h/2]},{type:"V",values:[s+o]},{type:"H",values:[i+n/2-h/2]},{type:"V",values:[s+o*a+l/2]},{type:"H",values:[i]},{type:"V",values:[s+o*a-l/2]},{type:"H",values:[i+n/2-h/2]},{type:"Z",values:[]}];for(var _i272=0,_r20=r;_i272<_r20.length;_i272++){var _t357=_r20[_i272];_t357.values=_t357.values.map(function(t){return Z(t,e);});}return r;},Pl=function Pl(t,e){var _t$values11=_slicedToArray(t.values,6),i=_t$values11[0],s=_t$values11[1],n=_t$values11[2],o=_t$values11[3],l=_t$values11[4],h=_t$values11[5],a=30;l<0&&(l=0),h<l+1&&(h=l+1),h-l<a&&(a=h-l),n>=o&&(n=o-.01);var r=n,d=(o-n)/(h/360)/Math.PI/2,c=l*Math.PI/180,p=c,u=h*Math.PI/180,x=a*Math.PI/180,b=r+d*c,m=r+d*p,g=[],f={x:i+m*Math.cos(p),y:s+m*Math.sin(p)},w=(d*Math.sin(c)+(r+d*p)*Math.cos(c))/(d*Math.cos(c)-(r+d*p)*Math.sin(c)),v=w;g.push({type:"M",values:[f.x,f.y]});do{c+x+x>u&&(x=u-p),c=p,p+=x,b=m,m=r+d*p,f.x=i+m*Math.cos(p),f.y=s+m*Math.sin(p);var _t358=r+d*p;w=v,v=(d*Math.sin(p)+_t358*Math.cos(p))/(d*Math.cos(p)-_t358*Math.sin(p));var _e277=-(w*b*Math.cos(c)-b*Math.sin(c)),_n94=(-(v*m*Math.cos(p)-m*Math.sin(p))-_e277)/(w-v),_o68={x:_n94,y:w*_n94+_e277};_o68.x+=i,_o68.y+=s,g.push({type:"Q",values:[_o68.x,_o68.y,f.x,f.y]});}while(c+x<u);{var _t359=new DOMMatrix().translateSelf(i,s).rotateSelf(-90).translateSelf(-i,-s);for(var _i273=0,_g2=g;_i273<_g2.length;_i273++){var _e278=_g2[_i273];if("M"===_e278.type){var _e278$values=_slicedToArray(_e278.values,2),_i274=_e278$values[0],_s160=_e278$values[1],_n95=new DOMPoint(_i274,_s160).matrixTransform(_t359);_e278.values=[_n95.x,_n95.y];}else if("Q"===_e278.type){var _e278$values2=_slicedToArray(_e278.values,4),_i275=_e278$values2[0],_s161=_e278$values2[1],_n96=_e278$values2[2],_o69=_e278$values2[3],_l60=new DOMPoint(_i275,_s161).matrixTransform(_t359),_h41=new DOMPoint(_n96,_o69).matrixTransform(_t359);_e278.values=[_l60.x,_l60.y,_h41.x,_h41.y];}}}for(var _i276=0,_g3=g;_i276<_g3.length;_i276++){var _t360=_g3[_i276];_t360.values=_t360.values.map(function(t){return Z(t,e);});}return g;},Dl=function Dl(t,e,i,s,n,o){var l=2*cl*(t/o)-cl/2,h=s*rl(l)+e,a=n*al(l)+i;return new DOMPoint(h,a);},zl=function zl(t,e,i,s,n,o,l){var h,a=cl*(t/l)-cl/2;return h=t%2==0?new DOMPoint(s*rl(a)+e,n*al(a)+i):new DOMPoint(o*s*rl(a)+e,o*n*al(a)+i),h;},Ol=function Ol(t,e,i,s,n,o,l){var h={};{var _a31=Ke(new DOMPoint(t+i-o+l,e+s/2-n/2),new DOMPoint(t+i-o+l,e+s/2-n/2+100),new DOMPoint(t+i-o,e),new DOMPoint(t+i,e+s/2));h.minBaseThickness=1,h.maxBaseThickness=2*(e+s/2-_a31.y),h.maxBaseThickness=K(h.maxBaseThickness,1,s);}{var _a32=Ke(new DOMPoint(t+i,e+s/2),new DOMPoint(t+i-o+l,e+s/2-n/2),new DOMPoint(t+i-o,e),new DOMPoint(t+i-o,e+100));h.minHeadThickness=2*(e+s/2-_a32.y),h.maxHeadThickness=Infinity;}{var _a33=new X(new DOMPoint(t+i-o+l,e+s/2-n/2),new DOMPoint(t+i-o,e)),_r21=Ke(new DOMPoint(t+i,e+s/2),new DOMPoint(t+i+_a33.x,e+s/2+_a33.y),new DOMPoint(0,e+s/2-s/2),new DOMPoint(100,e+s/2-s/2));h.minHeadLength=_r21?t+i-_r21.x:0,h.maxHeadLength=i,h.minHeadLength<1&&(h.minHeadLength=1);}{var _l61=Ke(new DOMPoint(0,e+s/2-n/2),new DOMPoint(100,e+s/2-n/2),new DOMPoint(t+i-o,e),new DOMPoint(t+i,e+s/2));h.minHeadInset=0,h.maxHeadInset=_l61.x-(t+i-o);}return h;},El=function El(t,e,i,s,n,o,l){var h={minHorizontalArmThickness:1};return h.maxHorizontalArmThickness=Math.min(s*l*2,2*(s-s*l)),h.minShift=n/2/s,h.maxShift=(s-n/2)/s,h;},Tl=function Tl(t,e,i,s,n,o){var l,h;n<0&&(n=0),o<n+1&&(o=n+1),i>=s&&(i=s-.01);{var _h42=(s-i)/(o/360),_a34=n*Math.PI/180,_r22=i+_h42/Math.PI/2*_a34,_d9=new DOMMatrix().translateSelf(t,e).rotateSelf(-90).translateSelf(-t,-e);l=new DOMPoint(t+_r22*Math.cos(_a34),e+_r22*Math.sin(_a34)),l=l.matrixTransform(_d9);}{var _i277=new DOMMatrix().translateSelf(t,e).rotateSelf(o).translateSelf(-t,-e);h=new DOMPoint(t,e-s).matrixTransform(_i277);}return[l,h];},Al=Math.abs,$l=Math.sqrt,Il=Math.asin,Ll=Math.sin,Bl=Math.cos,Rl=Math.tan,Gl=Math.atan2;var Fl=function Fl(t){var e={},i=[[t.a,t.b,0,0],[t.c,t.d,0,0],[0,0,1,0],[t.e,t.f,0,1]];if(0==i[3][3])return null;for(var _t361=0;_t361<4;_t361++){for(var _e279=0;_e279<4;_e279++){i[_t361][_e279]/=i[3][3];}}var s=[];for(var _t362=0;_t362<4;_t362++){s[_t362]=[];for(var _e280=0;_e280<4;_e280++){s[_t362][_e280]=i[_t362][_e280];}}for(var _t363=0;_t363<3;_t363++){s[_t363][3]=0;}if(s[3][3]=1,0==Vl(s))return null;if(0!==i[0][3]||0!==i[1][3]||0!==i[2][3]){var _t364=[0,0,0,0];_t364[0]=i[0][3],_t364[1]=i[1][3],_t364[2]=i[2][3],_t364[3]=i[3][3];var _n97=jl(s),_o70=Hl(_n97),_l62=Yl(_t364,_o70);e.perspectiveX=_l62[0],e.perspectiveY=_l62[1],e.perspectiveZ=_l62[2],e.perspectiveW=_l62[3],i[0][3]=i[1][3]=i[2][3]=0,i[3][3]=1;}else e.perspectiveX=0,e.perspectiveY=0,e.perspectiveZ=0,e.perspectiveW=1;e.translateX=i[3][0],i[3][0]=0,e.translateY=i[3][1],i[3][1]=0,e.translateZ=i[3][2],i[3][2]=0;var n=[[],[],[]],o=[0,0,0];for(var _t365=0;_t365<3;_t365++){n[_t365][0]=i[_t365][0],n[_t365][1]=i[_t365][1],n[_t365][2]=i[_t365][2];}if(e.scaleX=Wl(n[0]),ql(n[0],1),e.skewXY=Xl(n[0],n[1]),Zl(n[1],n[0],n[1],1,-e.skewXY),e.scaleY=Wl(n[1]),ql(n[1],1),e.skewXY/=e.scaleY,e.skewXZ=Xl(n[0],n[2]),Zl(n[2],n[0],n[2],1,-e.skewXZ),e.skewYZ=Xl(n[1],n[2]),Zl(n[2],n[1],n[2],1,-e.skewYZ),e.scaleZ=Wl(n[2]),ql(n[2],1),e.skewXZ/=e.scaleZ,e.skewYZ/=e.scaleZ,Kl(n[1],n[2],o),Xl(n[0],o)<0){e.scaleX*=-1,e.scaleY*=-1,e.scaleZ*=-1;for(var _t366=0;_t366<3;_t366++){n[_t366][0]*=-1,n[_t366][1]*=-1,n[_t366][2]*=-1;}}var l=0,h=Il(-n[0][2]),a=0;return 0!==Bl(h)?(l=Gl(n[1][2],n[2][2]),a=Gl(n[0][1],n[0][0])):l=Gl(-n[2][0],n[1][1]),e.rotateX=Re(l),e.rotateY=Re(h),e.rotateZ=Re(a),e;},Ul=function Ul(t,e,i,s){return t*s-e*i;},Nl=function Nl(t,e,i,s,n,o,l,h,a){return t*Ul(n,o,h,a)-s*Ul(e,i,h,a)+l*Ul(e,i,n,o);},Vl=function Vl(t){var e=t[0][0],i=t[0][1],s=t[0][2],n=t[0][3],o=t[1][0],l=t[1][1],h=t[1][2],a=t[1][3],r=t[2][0],d=t[2][1],c=t[2][2],p=t[2][3],u=t[3][0],x=t[3][1],b=t[3][2],m=t[3][3];return e*Nl(l,d,x,h,c,b,a,p,m)-i*Nl(o,r,u,h,c,b,a,p,m)+s*Nl(o,r,u,l,d,x,a,p,m)-n*Nl(o,r,u,l,d,x,h,c,b);},jl=function jl(t){var e=function(t){var e=[[],[],[],[]],i=t[0][0],s=t[0][1],n=t[0][2],o=t[0][3],l=t[1][0],h=t[1][1],a=t[1][2],r=t[1][3],d=t[2][0],c=t[2][1],p=t[2][2],u=t[2][3],x=t[3][0],b=t[3][1],m=t[3][2],g=t[3][3];e[0][0]=Nl(h,c,b,a,p,m,r,u,g),e[1][0]=-Nl(l,d,x,a,p,m,r,u,g),e[2][0]=Nl(l,d,x,h,c,b,r,u,g),e[3][0]=-Nl(l,d,x,h,c,b,a,p,m),e[0][1]=-Nl(s,c,b,n,p,m,o,u,g),e[1][1]=Nl(i,d,x,n,p,m,o,u,g),e[2][1]=-Nl(i,d,x,s,c,b,o,u,g),e[3][1]=Nl(i,d,x,s,c,b,n,p,m),e[0][2]=Nl(s,h,b,n,a,m,o,r,g),e[1][2]=-Nl(i,l,x,n,a,m,o,r,g),e[2][2]=Nl(i,l,x,s,h,b,o,r,g),e[3][2]=-Nl(i,l,x,s,h,b,n,a,m),e[0][3]=-Nl(s,h,c,n,a,p,o,r,u),e[1][3]=Nl(i,l,d,n,a,p,o,r,u),e[2][3]=-Nl(i,l,d,s,h,c,o,r,u),e[3][3]=Nl(i,l,d,s,h,c,n,a,p);}(t),i=Vl(t);if(Al(i)<1e-8)return!1;for(var _t367=0;_t367<4;_t367++){for(var _s162=0;_s162<4;_s162++){e[_t367][_s162]=e[_t367][_s162]/i;}}return e;},Hl=function Hl(t){var e=[[],[],[],[]];for(var _i278=0;_i278<4;_i278++){for(var _s163=0;_s163<4;_s163++){e[_i278][_s163]=t[_s163][_i278];}}return e;},Yl=function Yl(t,e){var i=[];return i[0]=t[0]*e[0][0]+t[1]*e[1][0]+t[2]*e[2][0]+t[3]*e[3][0],i[1]=t[0]*e[0][1]+t[1]*e[1][1]+t[2]*e[2][1]+t[3]*e[3][1],i[2]=t[0]*e[0][2]+t[1]*e[1][2]+t[2]*e[2][2]+t[3]*e[3][2],i[3]=t[0]*e[0][3]+t[1]*e[1][3]+t[2]*e[2][3]+t[3]*e[3][3],i;},Wl=function Wl(t){return $l(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);},ql=function ql(t,e){var i=Wl(t);if(0!=i){var _s164=e/i;t[0]*=_s164,t[1]*=_s164,t[2]*=_s164;}},Xl=function Xl(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2];},Zl=function Zl(t,e,i,s,n){i[0]=s*t[0]+n*e[0],i[1]=s*t[1]+n*e[1],i[2]=s*t[2]+n*e[2];},Kl=function Kl(t,e,i){i[0]=t[1]*e[2]-t[2]*e[1],i[1]=t[2]*e[0]-t[0]*e[2],i[2]=t[0]*e[1]-t[1]*e[0];},Ql=Math.abs,Jl=Math.min,th=Math.max,eh=Number.parseFloat;var _SVGUnitTypes2=SVGUnitTypes,ih=_SVGUnitTypes2.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,sh=_SVGUnitTypes2.SVG_UNIT_TYPE_USERSPACEONUSE;var nh=Symbol(),oh=Symbol(),lh=Symbol(),hh=Symbol(),ah=Symbol(),rh=Symbol(),dh=Symbol(),ch=Symbol(),ph=Symbol(),uh=Symbol(),xh=Symbol(),bh=Symbol(),mh=function mh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!1===t.hasAttribute("transform"))return;void 0===e.geometryPrecision&&(e.geometryPrecision=3),void 0===e.transformPrecision&&(e.transformPrecision=3),void 0===e.preserveStrokeWidth&&(e.preserveStrokeWidth=!0),void 0===e.preserveRectRadii&&(e.preserveRectRadii=!0),void 0===e.preserveRotation&&(e.preserveRotation=!0),void 0===e.transformDirection&&(e.transformDirection="bottom-right");var i=t.localName;if("g"===i)gh(t,e);else if("a"===i)fh(t,e);else if("rect"===i)wh(t,e);else if("circle"===i)vh(t,e);else if("ellipse"===i)yh(t,e);else if("text"===i)Rh(t,e);else if("image"===i)Bh(t,e);else if("line"===i)kh(t,e);else if("polyline"===i)Sh(t,e);else if("polygon"===i)Sh(t,e);else if("use"===i)_h(t,e);else if("path"===i)if(t.hasAttribute("data-bx-shape")){var _ul=ul(t),_i279=_ul.type;"rect"===_i279?Dh(t,e):"ring"===_i279?Eh(t,e):"pie"===_i279?Th(t,e):"crescent"===_i279?Mh(t,e):"triangle"===_i279?Ph(t,e):"n-gon"===_i279?zh(t,e):"star"===_i279?Oh(t,e):"cog"===_i279?Ah(t,e):"arrow"===_i279?$h(t,e):"cross"===_i279?Ih(t,e):"spiral"===_i279?Lh(t,e):Ch(t,e);}else Ch(t,e);},gh=function gh(t,_ref56){var e=_ref56.transformPrecision;var i=Rt(Nt(t),e);i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",i.toString());},fh=function fh(t,_ref57){var e=_ref57.transformPrecision;var i=Rt(Nt(t),e);i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",i.toString());},wh=function wh(t,e){var i=Nt(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRectRadii;if(i.is2D){var _Fl=Fl(i),_l63=_Fl.scaleX,_h43=_Fl.scaleY,_a35=t.x.baseVal.value,_r23=t.y.baseVal.value,_d10=t.width.baseVal.value,_c5=t.height.baseVal.value,_p6=t.rx.baseVal.value,_u5=t.ry.baseVal.value,_x52=new DOMPoint(_a35,_r23).matrixTransform(i),_b3=new DOMPoint(_a35+_d10,_r23).matrixTransform(i),_m3=new DOMPoint(_a35,_r23+_c5).matrixTransform(i);_a35*=_l63,_r23*=_h43,_d10*=Ql(_l63),_c5*=Ql(_h43),!1===o&&(_p6*=Ql(_l63),_u5*=Ql(_h43));var _g4=new DOMPoint(_a35,_r23),_f2=new DOMPoint(_a35+_d10,_r23),_w2=new DOMPoint(_a35,_r23+_c5),_v=Ht(_g4,_f2,_w2,_x52,_b3,_m3);_v=Rt(_v,n),1===Ql(_v.a)&&0===_v.b&&0===_v.c&&1===Ql(_v.d)&&(_a35=1===_v.a?_a35+_v.e:_a35-_v.e,_r23=1===_v.d?_r23+_v.f:_r23-_v.f,_v.e=0,_v.f=0),Gh(t);for(var _i280=0,_arr14=[["x",_a35],["y",_r23],["width",_d10],["height",_c5],["rx",_p6],["ry",_u5]];_i280<_arr14.length;_i280++){var _arr14$_i=_slicedToArray(_arr14[_i280],2),_e281=_arr14$_i[0],_i281=_arr14$_i[1];_i281=Z(_i281,s),0===_i281?t.removeAttribute(_e281):t.setAttribute(_e281,_i281);}_v.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_v.toString()),Fh(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Rt(i,n).toString());},vh=function vh(t,e){var i=Nt(t),_Fl2=Fl(i),s=_Fl2.scaleX,n=_Fl2.scaleY,o=e.geometryPrecision,l=e.transformPrecision,h=e.preserveRotation;if(i.is2D&&Z(s,o)===Z(n,o)){if(!1===h){var _s165=new DOMPoint(t.cx.baseVal.value,t.cy.baseVal.value),_n98=new DOMPoint(t.cx.baseVal.value+t.r.baseVal.value,t.cy.baseVal.value),_l64=_s165.matrixTransform(i),_h44=_n98.matrixTransform(i),_a36=new X(_l64,_h44).length;Gh(t),t.setAttribute("cx",Z(_l64.x,o)),t.setAttribute("cy",Z(_l64.y,o)),t.setAttribute("r",Z(_a36,o)),t.removeAttribute("transform"),Fh(t,e);}else{var _n99=s,_h45=t.cx.baseVal.value,_a37=t.cy.baseVal.value,_r24=t.r.baseVal.value,_d11=new DOMPoint(_h45,_a37).matrixTransform(i),_c6=new DOMPoint(_h45+_r24,_a37).matrixTransform(i),_p7=new DOMPoint(_h45,_a37+_r24).matrixTransform(i);_r24*=Ql(_n99);var _u6=new DOMPoint(_h45,_a37),_x53=new DOMPoint(_h45+_r24,_a37),_b4=new DOMPoint(_h45,_a37+_r24),_m4=Ht(_u6,_x53,_b4,_d11,_c6,_p7);_m4=Rt(_m4,l),1===Ql(_m4.a)&&0===_m4.b&&0===_m4.c&&1===Ql(_m4.d)&&(0===_m4.e&&0===_m4.f||(_h45=1===_m4.a?_h45+_m4.e:_h45-_m4.e,_a37=1===_m4.d?_a37+_m4.f:_a37-_m4.f,_r24=new X(new DOMPoint(_h45,_a37),new DOMPoint(_h45+_r24,_a37)).length,_m4.e=0,_m4.f=0)),Gh(t),_m4.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_m4.toString());for(var _i282=0,_arr15=[["cx",_h45],["cy",_a37],["r",_r24]];_i282<_arr15.length;_i282++){var _arr15$_i=_slicedToArray(_arr15[_i282],2),_e282=_arr15$_i[0],_i283=_arr15$_i[1];_i283=Z(_i283,o),0===_i283?t.removeAttribute(_e282):t.setAttribute(_e282,_i283);}Fh(t,e);}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Rt(i,l).toString());},yh=function yh(t,e){var i=Nt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Fl3=Fl(i),_o71=_Fl3.scaleX,_l65=_Fl3.scaleY,_h46=t.cx.baseVal.value,_a38=t.cy.baseVal.value,_r25=t.rx.baseVal.value,_d12=t.ry.baseVal.value,_c7=new DOMPoint(_h46,_a38).matrixTransform(i),_p8=new DOMPoint(_h46+_r25,_a38).matrixTransform(i),_u7=new DOMPoint(_h46,_a38+_d12).matrixTransform(i);_r25*=Ql(_o71),_d12*=Ql(_l65);var _x54=new DOMPoint(_h46,_a38),_b5=new DOMPoint(_h46+_r25,_a38),_m5=new DOMPoint(_h46,_a38+_d12),_g5=Ht(_x54,_b5,_m5,_c7,_p8,_u7);_g5=Rt(_g5,n),1===Ql(_g5.a)&&0===_g5.b&&0===_g5.c&&1===Ql(_g5.d)&&(0===_g5.e&&0===_g5.f||(_h46=1===_g5.a?_h46+_g5.e:_h46-_g5.e,_a38=1===_g5.d?_a38+_g5.f:_a38-_g5.f,_r25=new X(new DOMPoint(_h46,_a38),new DOMPoint(_h46+_r25,_a38)).length,_d12=new X(new DOMPoint(_h46,_a38),new DOMPoint(_h46,_a38+_d12)).length,_g5.e=0,_g5.f=0)),Gh(t),_g5.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_g5.toString());for(var _i284=0,_arr16=[["cx",_h46],["cy",_a38],["rx",_r25],["ry",_d12]];_i284<_arr16.length;_i284++){var _arr16$_i=_slicedToArray(_arr16[_i284],2),_e283=_arr16$_i[0],_i285=_arr16$_i[1];_i285=Z(_i285,s),0===_i285?t.removeAttribute(_e283):t.setAttribute(_e283,_i285);}Fh(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Rt(i,n));},kh=function kh(t,e){var i=Nt(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRotation;if(i.is2D){if(o){var _i286=te(t);Gh(t),ee(t,te(t.parentElement));var _o72=Nt(t),_l66=new DOMPoint(t.x1.baseVal.value,t.y1.baseVal.value),_h47=new DOMPoint(t.x2.baseVal.value,t.y2.baseVal.value),_a39=_l66.matrixTransform(_o72),_r26=_h47.matrixTransform(_o72);t.setAttribute("x1",Z(_a39.x,s)),t.setAttribute("y1",Z(_a39.y,s)),t.setAttribute("x2",Z(_r26.x,s)),t.setAttribute("y2",Z(_r26.y,s)),t.removeAttribute("transform"),ee(t,_i286,n),Fh(t,e);}else{var _i287=Qt(t),_n100=Nt(t),_o73=new DOMPoint(t.x1.baseVal.value,t.y1.baseVal.value),_l67=new DOMPoint(t.x2.baseVal.value,t.y2.baseVal.value),_h48=_o73.matrixTransform(_n100),_a40=_l67.matrixTransform(_n100);if(Gh(t),t.setAttribute("x1",Z(_h48.x,s)),t.setAttribute("y1",Z(_h48.y,s)),t.setAttribute("x2",Z(_a40.x,s)),t.setAttribute("y2",Z(_a40.y,s)),t.removeAttribute("transform"),t.hasAttribute("data-bx-origin")){var _e284=Ci(t),_n101=jt(t).inverse(),_o74=_i287.matrixTransform(_n101),_l68=he(_o74,_e284),_h49=Z(_l68.x,s),_a41=Z(_l68.y,s);t.setAttribute("data-bx-origin","".concat(_h49," ").concat(_a41));}Fh(t,e);}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Rt(i,n));},Sh=function Sh(t,e){var i=Nt(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRotation;if(i.is2D){if(o){var _i288=te(t);Gh(t),ee(t,te(t.parentElement));var _o75=Nt(t),_l69=[];var _iterator179=_createForOfIteratorHelper(t.points),_step179;try{for(_iterator179.s();!(_step179=_iterator179.n()).done;){var _e285=_step179.value;var _DOMPoint$fromPoint$m=DOMPoint.fromPoint(_e285).matrixTransform(_o75),_t368=_DOMPoint$fromPoint$m.x,_i289=_DOMPoint$fromPoint$m.y;_l69.push(Z(_t368,s),Z(_i289,s));}}catch(err){_iterator179.e(err);}finally{_iterator179.f();}t.setAttribute("points",_l69.join(" ")),t.removeAttribute("transform"),ee(t,_i288,n),Fh(t,e);}else{var _n102=Qt(t),_o76=[];var _iterator180=_createForOfIteratorHelper(t.points),_step180;try{for(_iterator180.s();!(_step180=_iterator180.n()).done;){var _e287=_step180.value;var _DOMPoint$fromPoint$m2=DOMPoint.fromPoint(_e287).matrixTransform(i),_t369=_DOMPoint$fromPoint$m2.x,_n103=_DOMPoint$fromPoint$m2.y;_o76.push(Z(_t369,s),Z(_n103,s));}}catch(err){_iterator180.e(err);}finally{_iterator180.f();}if(Gh(t),t.setAttribute("points",_o76.join(" ")),t.removeAttribute("transform"),t.hasAttribute("data-bx-origin")){var _e286=Ci(t),_i290=jt(t).inverse(),_o77=_n102.matrixTransform(_i290),_l70=he(_o77,_e286),_h50=Z(_l70.x,s),_a42=Z(_l70.y,s);t.setAttribute("data-bx-origin","".concat(_h50," ").concat(_a42));}Fh(t,e);}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Rt(i,n));},_h=function _h(t,e){var i=e.transformPrecision;if(t.hasAttribute("transform")){var _e288=Nt(t);_e288=Rt(_e288,i),_e288.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_e288.toString());}},Ch=function Ch(t,e){var i=Nt(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRotation;if(i.is2D){if(o){var _i291=te(t);Gh(t),ee(t,te(t.parentElement));var _o78=Nt(t),_l71=t.getPathData(),_h51=ie(_l71,_o78,s);t.setPathData(_h51),t.removeAttribute("transform"),ee(t,_i291,n),Fh(t,e);}else{var _n104=Qt(t),_o79=t.getPathData(),_l72=ie(_o79,i,s);if(Gh(t),t.setPathData(_l72),t.removeAttribute("transform"),t.hasAttribute("data-bx-origin")){var _e289=Ci(t),_i292=jt(t).inverse(),_o80=_n104.matrixTransform(_i292),_l73=he(_o80,_e289),_h52=Z(_l73.x,s),_a43=Z(_l73.y,s);t.setAttribute("data-bx-origin","".concat(_h52," ").concat(_a43));}Fh(t,e);}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Rt(i,n));},Mh=function Mh(t,e){var i=Nt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){if(i.isIdentity)t.removeAttribute("transform");else{var _Fl4=Fl(i),_o81=_Fl4.scaleX,_l74=_Fl4.scaleY;if(_o81===_l74){var _ul$values=_slicedToArray(ul(t).values,5),_l75=_ul$values[0],_h53=_ul$values[1],_a44=_ul$values[2],_r27=_ul$values[3],_d13=_ul$values[4],_c8=new DOMPoint(_l75,_h53).matrixTransform(i),_p9=new DOMPoint(_l75+_a44,_h53).matrixTransform(i),_u8=new DOMPoint(_l75,_h53+_a44).matrixTransform(i);_a44*=Ql(_o81);var _x55=new DOMPoint(_l75,_h53),_b6=new DOMPoint(_l75+_a44,_h53),_m6=new DOMPoint(_l75,_h53+_a44),_g6=Ht(_x55,_b6,_m6,_c8,_p9,_u8);_g6=Rt(_g6,n),1===Ql(_g6.a)&&0===_g6.b&&0===_g6.c&&1===Ql(_g6.d)&&(0===_g6.e&&0===_g6.f||(_l75=1===_g6.a?_l75+_g6.e:_l75-_g6.e,_h53=1===_g6.d?_h53+_g6.f:_h53-_g6.f,_g6.e=0,_g6.f=0));var _f3=[_l75,_h53,_a44,_r27,_d13];_f3=_f3.map(function(t){return Z(t,s);}),Gh(t),xl(t,{type:"crescent",values:_f3},s),_g6.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_g6.toString()),Fh(t,e);}else t.setAttribute("transform",Rt(i,n));}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Rt(i,n));},Ph=function Ph(t,e){var i=Nt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Fl5=Fl(i),_o82=_Fl5.scaleX,_l76=_Fl5.scaleY,_ul$values2=_slicedToArray(ul(t).values,6),_h54=_ul$values2[0],_a45=_ul$values2[1],_r28=_ul$values2[2],_d14=_ul$values2[3],_c9=_ul$values2[4],_p10=_ul$values2[5],_u9=new DOMPoint(_h54,_a45).matrixTransform(i),_x56=new DOMPoint(_h54+_r28,_a45).matrixTransform(i),_b7=new DOMPoint(_h54,_a45+_d14).matrixTransform(i);_h54*=_o82,_a45*=_l76,_r28*=Ql(_o82),_d14*=Ql(_l76);var _m7=new DOMPoint(_h54,_a45),_g7=new DOMPoint(_h54+_r28,_a45),_f4=new DOMPoint(_h54,_a45+_d14),_w3=Ht(_m7,_g7,_f4,_u9,_x56,_b7);_w3=Rt(_w3,n),1===Ql(_w3.a)&&0===_w3.b&&0===_w3.c&&1===Ql(_w3.d)&&(0===_w3.e&&0===_w3.f||(_h54=1===_w3.a?_h54+_w3.e:_h54-_w3.e,_a45=1===_w3.d?_a45+_w3.f:_a45-_w3.f,_w3.e=0,_w3.f=0));var _v2={type:"triangle",values:[_h54,_a45,_r28,_d14,_c9,_p10].map(function(t){return Z(t,s);})};Gh(t),xl(t,_v2,s),_w3.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_w3.toString()),Fh(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Rt(i,n));},Dh=function Dh(t,e){var i=Nt(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRectRadii;if(i.is2D){var _Fl6=Fl(i),_l77=_Fl6.scaleX,_h55=_Fl6.scaleY,_ul$values3=_slicedToArray(ul(t).values,12),_a46=_ul$values3[0],_r29=_ul$values3[1],_d15=_ul$values3[2],_c10=_ul$values3[3],_p11=_ul$values3[4],_u10=_ul$values3[5],_x57=_ul$values3[6],_b8=_ul$values3[7],_m8=_ul$values3[8],_g8=_ul$values3[9],_f5=_ul$values3[10],_w4=_ul$values3[11],_v3=new DOMPoint(_a46,_r29).matrixTransform(i),_y=new DOMPoint(_a46+_d15,_r29).matrixTransform(i),_k=new DOMPoint(_a46,_r29+_c10).matrixTransform(i);void 0===_m8&&(_m8=_p11),void 0===_g8&&(_g8=_u10),void 0===_f5&&(_f5=_x57),void 0===_w4&&(_w4=_b8),_a46*=_l77,_r29*=_h55,_d15*=Ql(_l77),_c10*=Ql(_h55),!1===o&&(_p11*=Ql(_l77),_u10*=Ql(_l77),_x57*=Ql(_l77),_b8*=Ql(_l77),_m8*=Ql(_h55),_g8*=Ql(_h55),_f5*=Ql(_h55),_w4*=Ql(_h55));var _S,_2=new DOMPoint(_a46,_r29),_C=new DOMPoint(_a46+_d15,_r29),_M=new DOMPoint(_a46,_r29+_c10),_P=Ht(_2,_C,_M,_v3,_y,_k);_P=Rt(_P,n),1===Ql(_P.a)&&0===_P.b&&0===_P.c&&1===Ql(_P.d)&&(0===_P.e&&0===_P.f||(_a46=1===_P.a?_a46+_P.e:_a46-_P.e,_r29=1===_P.d?_r29+_P.f:_r29-_P.f,_P.e=0,_P.f=0)),_S=_p11===_m8&&_u10===_g8&&_x57===_f5&&_b8===_w4?[_a46,_r29,_d15,_c10,_p11,_u10,_x57,_b8]:[_a46,_r29,_d15,_c10,_p11,_u10,_x57,_b8,_m8,_g8,_f5,_w4],_S=_S.map(function(t){return Z(t,s);}),Gh(t),xl(t,{type:"rect",values:_S},s),_P.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_P.toString()),Fh(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Rt(i,n));},zh=function zh(t,e){var i=Nt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Fl7=Fl(i),_o83=_Fl7.scaleX,_l78=_Fl7.scaleY,_ul$values4=_slicedToArray(ul(t).values,6),_h56=_ul$values4[0],_a47=_ul$values4[1],_r30=_ul$values4[2],_d16=_ul$values4[3],_c11=_ul$values4[4],_p12=_ul$values4[5],_u11=new DOMPoint(_h56,_a47).matrixTransform(i),_x58=new DOMPoint(_h56+_r30,_a47).matrixTransform(i),_b9=new DOMPoint(_h56,_a47+_d16).matrixTransform(i);_r30*=Ql(_o83),_d16*=Ql(_l78);var _m9=new DOMPoint(_h56,_a47),_g9=new DOMPoint(_h56+_r30,_a47),_f6=new DOMPoint(_h56,_a47+_d16),_w5=Ht(_m9,_g9,_f6,_u11,_x58,_b9);_w5=Rt(_w5,n),1===Ql(_w5.a)&&0===_w5.b&&0===_w5.c&&1===Ql(_w5.d)&&(0===_w5.e&&0===_w5.f||(_h56=1===_w5.a?_h56+_w5.e:_h56-_w5.e,_a47=1===_w5.d?_a47+_w5.f:_a47-_w5.f,_w5.e=0,_w5.f=0));var _v4=[_h56,_a47,_r30,_d16,_c11,_p12];_v4=_v4.map(function(t){return Z(t,s);}),Gh(t),xl(t,{type:"n-gon",values:_v4},s),_w5.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_w5.toString()),Fh(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Rt(i,n));},Oh=function Oh(t,e){var i=Nt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Fl8=Fl(i),_o84=_Fl8.scaleX,_l79=_Fl8.scaleY,_ul$values5=_slicedToArray(ul(t).values,6),_h57=_ul$values5[0],_a48=_ul$values5[1],_r31=_ul$values5[2],_d17=_ul$values5[3],_c12=_ul$values5[4],_p13=_ul$values5[5],_u12=new DOMPoint(_h57,_a48).matrixTransform(i),_x59=new DOMPoint(_h57+_r31,_a48).matrixTransform(i),_b10=new DOMPoint(_h57,_a48+_d17).matrixTransform(i);_r31*=Ql(_o84),_d17*=Ql(_l79);var _m10=new DOMPoint(_h57,_a48),_g10=new DOMPoint(_h57+_r31,_a48),_f7=new DOMPoint(_h57,_a48+_d17),_w6=Ht(_m10,_g10,_f7,_u12,_x59,_b10);_w6=Rt(_w6,n),1===Ql(_w6.a)&&0===_w6.b&&0===_w6.c&&1===Ql(_w6.d)&&(0===_w6.e&&0===_w6.f||(_h57=1===_w6.a?_h57+_w6.e:_h57-_w6.e,_a48=1===_w6.d?_a48+_w6.f:_a48-_w6.f,_w6.e=0,_w6.f=0));var _v5=[_h57,_a48,_r31,_d17,_c12,_p13].map(function(t){return Z(t,s);});Gh(t),xl(t,{type:"star",values:_v5},s),_w6.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_w6.toString()),Fh(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Rt(i,n));},Eh=function Eh(t,e){var i=Nt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _ul$values6=_slicedToArray(ul(t).values,6),_o85=_ul$values6[0],_l80=_ul$values6[1],_h58=_ul$values6[2],_a49=_ul$values6[3],_r32=_ul$values6[4],_d18=_ul$values6[5],_Fl9=Fl(i),_c13=_Fl9.scaleX,_p14=_Fl9.scaleY,_u13=new DOMPoint(_o85,_l80).matrixTransform(i),_x60=new DOMPoint(_o85+_r32,_l80).matrixTransform(i),_b11=new DOMPoint(_o85,_l80+_d18).matrixTransform(i);_h58*=Ql(_c13),_a49*=Ql(_p14),_r32*=Ql(_c13),_d18*=Ql(_p14);var _m11=new DOMPoint(_o85,_l80),_g11=new DOMPoint(_o85+_r32,_l80),_f8=new DOMPoint(_o85,_l80+_d18),_w7=Ht(_m11,_g11,_f8,_u13,_x60,_b11);_w7=Rt(_w7,n),1===Ql(_w7.a)&&0===_w7.b&&0===_w7.c&&1===Ql(_w7.d)&&(0===_w7.e&&0===_w7.f||(_o85=1===_w7.a?_o85+_w7.e:_o85-_w7.e,_l80=1===_w7.d?_l80+_w7.f:_l80-_w7.f,_w7.e=0,_w7.f=0));var _v6=[_o85,_l80,_h58,_a49,_r32,_d18].map(function(t){return Z(t,s);});Gh(t),xl(t,{type:"ring",values:_v6},s),_w7.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_w7.toString()),Fh(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Rt(i,n));},Th=function Th(t,e){var i=Nt(t),s=e.geometryPrecision,n=e.transformPrecision;i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Rt(i,n));},Ah=function Ah(t,e){var i=Nt(t),s=e.geometryPrecision,n=e.transformPrecision;i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Rt(i,n));},$h=function $h(t,e){var i=Nt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Fl10=Fl(i),_o86=_Fl10.scaleX,_l81=_Fl10.scaleY,_ul$values7=_slicedToArray(ul(t).values,7),_h59=_ul$values7[0],_a50=_ul$values7[1],_r33=_ul$values7[2],_d19=_ul$values7[3],_c14=_ul$values7[4],_p15=_ul$values7[5],_u14=_ul$values7[6],_x61=new DOMPoint(_h59,_a50).matrixTransform(i),_b12=new DOMPoint(_h59+_r33,_a50).matrixTransform(i),_m12=new DOMPoint(_h59,_a50+_d19).matrixTransform(i);_h59*=_o86,_a50*=_l81,_r33*=Ql(_o86),_d19*=Ql(_l81),_p15*=Ql(_o86),_u14*=Ql(_o86),_c14*=Ql(_l81);var _g12=new DOMPoint(_h59,_a50),_f9=new DOMPoint(_h59+_r33,_a50),_w8=new DOMPoint(_h59,_a50+_d19),_v7=Ht(_g12,_f9,_w8,_x61,_b12,_m12);_v7=Rt(_v7,n),1===Ql(_v7.a)&&0===_v7.b&&0===_v7.c&&1===Ql(_v7.d)&&(_h59=1===_v7.a?_h59+_v7.e:_h59-_v7.e,_a50=1===_v7.d?_a50+_v7.f:_a50-_v7.f,_v7.e=0,_v7.f=0),Gh(t),xl(t,{type:"arrow",values:[_h59,_a50,_r33,_d19,_c14,_p15,_u14]},s),_v7.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_v7.toString()),Fh(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Rt(i,n).toString());},Ih=function Ih(t,e){var i=Nt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Fl11=Fl(i),_o87=_Fl11.scaleX,_l82=_Fl11.scaleY,_ul$values8=_slicedToArray(ul(t).values,7),_h60=_ul$values8[0],_a51=_ul$values8[1],_r34=_ul$values8[2],_d20=_ul$values8[3],_c15=_ul$values8[4],_p16=_ul$values8[5],_u15=_ul$values8[6],_x62=new DOMPoint(_h60,_a51).matrixTransform(i),_b13=new DOMPoint(_h60+_r34,_a51).matrixTransform(i),_m13=new DOMPoint(_h60,_a51+_d20).matrixTransform(i);_h60*=_o87,_a51*=_l82,_r34*=Ql(_o87),_d20*=Ql(_l82),_c15*=Ql(_l82),_p16*=Ql(_o87);var _g13=new DOMPoint(_h60,_a51),_f10=new DOMPoint(_h60+_r34,_a51),_w9=new DOMPoint(_h60,_a51+_d20),_v8=Ht(_g13,_f10,_w9,_x62,_b13,_m13);_v8=Rt(_v8,n),1===Ql(_v8.a)&&0===_v8.b&&0===_v8.c&&1===Ql(_v8.d)&&(_h60=1===_v8.a?_h60+_v8.e:_h60-_v8.e,_a51=1===_v8.d?_a51+_v8.f:_a51-_v8.f,_v8.e=0,_v8.f=0),Gh(t),xl(t,{type:"cross",values:[_h60,_a51,_r34,_d20,_c15,_p16,_u15]},s),_v8.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_v8.toString()),Fh(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Rt(i,n).toString());},Lh=function Lh(t,e){var i=Nt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){if(i.isIdentity)t.removeAttribute("transform");else{var _Fl12=Fl(i),_o88=_Fl12.scaleX,_l83=_Fl12.scaleY;if(_o88===_l83){var _ul$values9=_slicedToArray(ul(t).values,6),_l84=_ul$values9[0],_h61=_ul$values9[1],_a52=_ul$values9[2],_r35=_ul$values9[3],_d21=_ul$values9[4],_c16=_ul$values9[5],_p17=new DOMPoint(_l84,_h61).matrixTransform(i),_u16=new DOMPoint(_l84+_r35,_h61).matrixTransform(i),_x63=new DOMPoint(_l84,_h61+_r35).matrixTransform(i);_a52*=Ql(_o88),_r35*=Ql(_o88);var _b14=new DOMPoint(_l84,_h61),_m14=new DOMPoint(_l84+_r35,_h61),_g14=new DOMPoint(_l84,_h61+_r35),_f11=Ht(_b14,_m14,_g14,_p17,_u16,_x63);_f11=Rt(_f11,n),1===Ql(_f11.a)&&0===_f11.b&&0===_f11.c&&1===Ql(_f11.d)&&(0===_f11.e&&0===_f11.f||(_l84=1===_f11.a?_l84+_f11.e:_l84-_f11.e,_h61=1===_f11.d?_h61+_f11.f:_h61-_f11.f,_f11.e=0,_f11.f=0));var _w10=[_l84,_h61,_a52,_r35,_d21,_c16];_w10=_w10.map(function(t){return Z(t,s);}),Gh(t),xl(t,{type:"spiral",values:_w10},s),_f11.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_f11.toString()),Fh(t,e);}else t.setAttribute("transform",Rt(i,n));}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Rt(i,n));},Bh=function Bh(t,e){var i=e.geometryPrecision,s=e.transformPrecision,n=Nt(t),_Fl13=Fl(n),o=_Fl13.scaleX,l=_Fl13.scaleY;if(!n.is2D||o!==l&&"none"!==t.getAttribute("preserveAspectRatio"))n.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Rt(n,s));else{var _h62=t.x.baseVal.value,_a53=t.y.baseVal.value,_r36=t.width.baseVal.value,_d22=t.height.baseVal.value,_c17=new DOMPoint(_h62,_a53).matrixTransform(n),_p18=new DOMPoint(_h62+_r36,_a53).matrixTransform(n),_u17=new DOMPoint(_h62,_a53+_d22).matrixTransform(n);_h62*=o,_a53*=l,_r36*=Ql(o),_d22*=Ql(l);var _x64=new DOMPoint(_h62,_a53),_b15=new DOMPoint(_h62+_r36,_a53),_m15=new DOMPoint(_h62,_a53+_d22),_g15=Ht(_x64,_b15,_m15,_c17,_p18,_u17);_g15=Rt(_g15,s),1===Ql(_g15.a)&&0===_g15.b&&0===_g15.c&&1===Ql(_g15.d)&&(0===_g15.e&&0===_g15.f||(_h62=1===_g15.a?_h62+_g15.e:_h62-_g15.e,_a53=1===_g15.d?_a53+_g15.f:_a53-_g15.f,_g15.e=0,_g15.f=0)),Gh(t);for(var _i293=0,_arr17=[["x",_h62],["y",_a53],["width",_r36],["height",_d22]];_i293<_arr17.length;_i293++){var _arr17$_i=_slicedToArray(_arr17[_i293],2),_e290=_arr17$_i[0],_s166=_arr17$_i[1];_s166=Z(_s166,i),0===_s166?t.removeAttribute(_e290):t.setAttribute(_e290,_s166);}_g15.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_g15.toString()),Fh(t,e);}},Rh=function Rh(t,e){var i=e.geometryPrecision,s=e.transformPrecision,n=_toConsumableArray(t.children).find(function(t){return"textPath"===t.localName;}),o=null;if(n){o=Oi(n).querySelector(n.href.baseVal);}if(o){var _e291=Rt(Nt(t),s);_e291.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_e291.toString());}else{var _n105=Nt(t),_Fl14=Fl(_n105),_o89=_Fl14.scaleX,_l85=_Fl14.scaleY;if(_n105.is2D&&_o89===_l85&&!1===vi(t)){(function(){var _ref58=function(t){var e=0,i=0,s=0,n=0,o=bi(t)[0]||null;if(o){var _l86=[];for(var _e292=o.parentElement;_e292!==t;_e292=_e292.parentElement){"tspan"!==_e292.localName&&"textPath"!==_e292.localName||_l86.push(_e292);}_l86.push(t),_l86.reverse();for(var _i294=0,_l87=_l86;_i294<_l87.length;_i294++){var _t370=_l87[_i294];_t370.x.baseVal.length>0&&(e=_t370.x.baseVal[0].value),_t370.y.baseVal.length>0&&(i=_t370.y.baseVal[0].value),_t370.dx.baseVal.length>0&&(s=_t370.dx.baseVal[0].value),_t370.dy.baseVal.length>0&&(n=_t370.dy.baseVal[0].value);}}return[e+s,i+n];}(t),_ref59=_slicedToArray(_ref58,2),h=_ref59[0],a=_ref59[1],r=Ci(t).width,d=Ci(t).height,c=new DOMPoint(h,a).matrixTransform(_n105),p=new DOMPoint(h+r,a).matrixTransform(_n105),u=new DOMPoint(h,a+d).matrixTransform(_n105),x=h*_o89,b=a*_l85,m=r*Ql(_o89),g=d*Ql(_l85),f=new DOMPoint(x,b),w=new DOMPoint(x+m,b),v=new DOMPoint(x,b+g),y=Ht(f,w,v,c,p,u);y=Rt(y,s),1===Ql(y.a)&&0===y.b&&0===y.c&&1===Ql(y.d)&&(0===y.e&&0===y.f||(x=1===y.a?x+y.e:x-y.e,b=1===y.d?b+y.f:b-y.f,y.e=0,y.f=0)),Gh(t);var _iterator181=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step181;try{for(_iterator181.s();!(_step181=_iterator181.n()).done;){var _e296=_step181.value;Gh(_e296);}}catch(err){_iterator181.e(err);}finally{_iterator181.f();}var k=x-h,S=b-a,_=_toConsumableArray(t.x.baseVal).map(function(t){return Z(t.value+k,i);}),C=_toConsumableArray(t.y.baseVal).map(function(t){return Z(t.value+S,i);});if(x=Z(x,i),b=Z(b,i),_.length>0)t.setAttribute("x",_.join(" "));else{var _e293=Z(k,i);0===_e293?t.removeAttribute("x"):t.setAttribute("x",_e293);}if(C.length>0)t.setAttribute("y",C.join(" "));else{var _e294=Z(S,i);0===_e294?t.removeAttribute("y"):t.setAttribute("y",_e294);}var _iterator182=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step182;try{for(_iterator182.s();!(_step182=_iterator182.n()).done;){var _e297=_step182.value;var _t372=_toConsumableArray(_e297.x.baseVal).map(function(t){return Z(t.value+k,i);}),_s168=_toConsumableArray(_e297.y.baseVal).map(function(t){return Z(t.value+S,i);});_t372.length>0&&_e297.setAttribute("x",_t372.join(" ")),_s168.length>0&&_e297.setAttribute("y",_s168.join(" "));}}catch(err){_iterator182.e(err);}finally{_iterator182.f();}if(y.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",y.toString()),Fh(t,e),0===t.querySelectorAll("tspan").length){var _e295=getComputedStyle(t).getPropertyValue("font-size");_e295=eh(_e295),_e295=Z(_e295*_l85,1),t.style.setProperty("font-size",_e295);}else{var _iterator183=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step183;try{for(_iterator183.s();!(_step183=_iterator183.n()).done;){var _i295=_step183.value;var _t371=getComputedStyle(_i295).getPropertyValue("font-size");_t371=eh(_t371),_t371=Z(_t371*_l85,1),_i295.style.setProperty("font-size",_t371);var _s167=getComputedStyle(_i295).getPropertyValue("word-spacing");_s167=eh(_s167),_s167=Z(_s167*_l85,2),_i295.style.setProperty("word-spacing",_s167);var _n106=getComputedStyle(_i295).getPropertyValue("letter-spacing");_n106=eh(_n106),_n106=Z(_n106*_l85,2),_i295.style.setProperty("letter-spacing",_n106),Fh(_i295,e);}}catch(err){_iterator183.e(err);}finally{_iterator183.f();}}})();}else _n105.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Rt(_n105,s));}},Gh=function Gh(t){var e=jt(t);if((_.includes(t.localName)||M.includes(t.localName))&&(U(t)||N(t))&&(t[nh]=Ci(t,!1)),w.includes(t.localName)){var _i296=[Xo(t,"fill"),Xo(t,"stroke")],_s169=_i296.filter(function(t){return t&&t.localName.endsWith("Gradient");}),_n107=_i296.filter(function(t){return t&&"pattern"===t.localName;}),_Fl15=Fl(Nt(t)),_o90=_Fl15.scaleX,_l88=_Fl15.scaleY;t[oh]=_o90,t[lh]=_l88;var _iterator184=_createForOfIteratorHelper(_s169),_step184;try{for(_iterator184.s();!(_step184=_iterator184.n()).done;){var _t373=_step184.value;var _i297=Po(_t373);if(_i297.gradientUnits===sh)if("linearGradient"===_t373.localName){var _s170=new DOMPoint(_i297.x1.value,_i297.y1.value),_n108=new DOMPoint(_i297.x2.value,_i297.y2.value),_o91=new X(_s170,_n108).getNormalVector().transformPoint(_s170),_l89=_s170.matrixTransform(_i297.gradientTransform),_h63=_n108.matrixTransform(_i297.gradientTransform),_a54=_o91.matrixTransform(_i297.gradientTransform);_t373[hh]=_l89.matrixTransform(e),_t373[ah]=_h63.matrixTransform(e),_t373[rh]=_a54.matrixTransform(e);}else if("radialGradient"===_t373.localName){var _s171=new DOMPoint(_i297.cx.value,_i297.cy.value),_n109=new DOMPoint(_i297.cx.value+_i297.r.value,_i297.cy.value),_o92=new DOMPoint(_i297.cx.value,_i297.cy.value-_i297.r.value),_l90=_s171.matrixTransform(_i297.gradientTransform),_h64=_n109.matrixTransform(_i297.gradientTransform),_a55=_o92.matrixTransform(_i297.gradientTransform);_t373[dh]=_l90.matrixTransform(e),_t373[ch]=_h64.matrixTransform(e),_t373[ph]=_a55.matrixTransform(e);}}}catch(err){_iterator184.e(err);}finally{_iterator184.f();}var _iterator185=_createForOfIteratorHelper(_n107),_step185;try{for(_iterator185.s();!(_step185=_iterator185.n()).done;){var _i298=_step185.value;var _s172=jo(_i298);if(_s172.patternUnits===sh){var _t374=new DOMPoint(_s172.x.value,_s172.y.value),_n110=new DOMPoint(_s172.x.value+_s172.width.value,_s172.y.value),_o93=new DOMPoint(_s172.x.value+_s172.width.value,_s172.y.value+_s172.height.value),_l91=_t374.matrixTransform(_s172.patternTransform),_h65=_n110.matrixTransform(_s172.patternTransform),_a56=_o93.matrixTransform(_s172.patternTransform);_i298[uh]=_l91.matrixTransform(e),_i298[xh]=_h65.matrixTransform(e),_i298[bh]=_a56.matrixTransform(e);}else if(_s172.patternUnits===ih){var _e298=jt(t),_n111=Ci(t),_o94=_s172.x.valueInSpecifiedUnits,_l92=_s172.y.valueInSpecifiedUnits,_h66=_s172.width.valueInSpecifiedUnits,_a57=_s172.height.valueInSpecifiedUnits;_s172.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_o94/=100),_s172.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_l92/=100),_s172.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_h66/=100),_s172.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_a57/=100);var _r37=new DOMPoint(_o94,_l92),_d23=new DOMPoint(_o94+_h66,_l92),_c18=new DOMPoint(_o94+_h66,_l92+_a57),_p19=new DOMPoint(_n111.x+_r37.x*_n111.width,_n111.y+_r37.y*_n111.height),_u18=new DOMPoint(_n111.x+_d23.x*_n111.width,_n111.y+_d23.y*_n111.height),_x65=new DOMPoint(_n111.x+_c18.x*_n111.width,_n111.y+_c18.y*_n111.height),_b16=_p19.matrixTransform(_s172.patternTransform),_m16=_u18.matrixTransform(_s172.patternTransform),_g16=_x65.matrixTransform(_s172.patternTransform),_f12=_b16.matrixTransform(_e298),_w11=_m16.matrixTransform(_e298),_v9=_g16.matrixTransform(_e298);_i298[uh]=_f12,_i298[xh]=_w11,_i298[bh]=_v9;}}}catch(err){_iterator185.e(err);}finally{_iterator185.f();}}},Fh=function Fh(t,e){var i=jt(t).inverse(),s=e.geometryPrecision,n=e.preserveStrokeWidth,o=e.transformPrecision,l=e.transformDirection;if(_.includes(t.localName)){var _i299=getComputedStyle(t).clipPath,_s173=_i299&&"none"!==_i299?_i299.substring(6,_i299.length-2):"",_n112=_s173?Oi(t).querySelector("#"+CSS.escape(_s173)):null;if(_n112){var _i300=t[nh],_s174=Ci(t,!1),_o95=Yt(_i300,_s174);_o95=_o95.multiply(Nt(_n112));var _iterator186=_createForOfIteratorHelper(_n112.children),_step186;try{for(_iterator186.s();!(_step186=_iterator186.n()).done;){var _t375=_step186.value;S.includes(_t375.localName)&&(_t375.setAttribute("transform",_o95.multiply(Nt(_t375)).toString()),mh(_t375,e));}}catch(err){_iterator186.e(err);}finally{_iterator186.f();}_n112.removeAttribute("transform");}}if(M.includes(t.localName)){var _i301=getComputedStyle(t).mask,_s175=_i301&&"none"!==_i301?_i301.substring(6,_i301.length-2):"",_n113=_s175?Oi(t).querySelector("#"+CSS.escape(_s175)):null;if(_n113){var _i302=t[nh],_s176=Ci(t,!1),_o96=Yt(_i302,_s176);var _iterator187=_createForOfIteratorHelper(_n113.children),_step187;try{for(_iterator187.s();!(_step187=_iterator187.n()).done;){var _t376=_step187.value;C.includes(_t376.localName)&&(_t376.setAttribute("transform",_o96.multiply(Nt(_t376)).toString()),mh(_t376,e));}}catch(err){_iterator187.e(err);}finally{_iterator187.f();}_n113.removeAttribute("transform");}}if(w.includes(t.localName)){var _e299=[Xo(t,"fill"),Xo(t,"stroke")],_h67=_e299.filter(function(t){return t&&t.localName.endsWith("Gradient");}),_a58=_e299.filter(function(t){return t&&"pattern"===t.localName;});if(!1===n){var _e300=t[oh],_i303=t[lh],_n114=getComputedStyle(t).getPropertyValue("stroke-width");_n114=eh(_n114),_n114*="left"===l||"right"===l?Ql(_e300):"top"===l||"bottom"===l?Ql(_i303):(Ql(_e300)+Ql(_i303))/2,_n114=Z(_n114,s),t.style.setProperty("stroke-width",_n114);}var _iterator188=_createForOfIteratorHelper(_h67),_step188;try{for(_iterator188.s();!(_step188=_iterator188.n()).done;){var _t377=_step188.value;var _e301=Po(_t377);if(_e301.gradientUnits===sh){var _s177=void 0;if("linearGradient"===_t377.localName){var _n115=new DOMPoint(_e301.x1.value,_e301.y1.value),_o97=new DOMPoint(_e301.x2.value,_e301.y2.value),_l93=new X(_n115,_o97).getNormalVector().transformPoint(_n115);_s177=Ht(_n115,_o97,_l93,_t377[hh].matrixTransform(i),_t377[ah].matrixTransform(i),_t377[rh].matrixTransform(i));}else if("radialGradient"===_t377.localName){var _n116=new DOMPoint(_e301.cx.value,_e301.cy.value),_o98=new DOMPoint(_e301.cx.value+_e301.r.value,_e301.cy.value),_l94=new DOMPoint(_e301.cx.value,_e301.cy.value-_e301.r.value);_s177=Ht(_n116,_o98,_l94,_t377[dh].matrixTransform(i),_t377[ch].matrixTransform(i),_t377[ph].matrixTransform(i));}_s177=Rt(_s177,o),_t377.setAttribute("gradientTransform",_s177.toString());}}}catch(err){_iterator188.e(err);}finally{_iterator188.f();}var _iterator189=_createForOfIteratorHelper(_a58),_step189;try{for(_iterator189.s();!(_step189=_iterator189.n()).done;){var _e302=_step189.value;var _s178=jo(_e302),_n117=(_e302.hasAttribute("href")&&Fo(_e302),Ho(_e302)),_l95=_e302[uh],_h68=_e302[xh],_a59=_e302[bh];if(_n117.length>1){var _i304=void 0;{var _t378=Oi(_e302),_s179="";for(var _i305=0;_i305<Infinity&&(_s179=_e302.id+"-"+_i305,_t378.querySelector("#".concat(_s179)));_i305+=1){;}_i304=zi("svg:pattern"),_i304.setAttribute("id",_s179),_i304.setAttribute("href","#"+_e302.id),_e302.after(_i304);}for(var _i306=0,_arr18=["fill","stroke"];_i306<_arr18.length;_i306++){var _s180=_arr18[_i306];t.style.getPropertyValue(_s180)==="url(\"#".concat(_e302.id,"\")")&&t.style.setProperty(_s180,"url(\"#".concat(_i304.id,"\")"));}_e302=_i304;}if(_s178.patternUnits===sh){var _t379=new DOMPoint(_s178.x.value,_s178.y.value),_n118=new DOMPoint(_s178.x.value+_s178.width.value,_s178.y.value),_r38=new DOMPoint(_s178.x.value+_s178.width.value,_s178.y.value+_s178.height.value),_d24=Ht(_t379,_n118,_r38,_l95.matrixTransform(i),_h68.matrixTransform(i),_a59.matrixTransform(i)),_c19=Rt(_d24,o);_e302.setAttribute("patternTransform",_c19.toString());}else if(_s178.patternUnits===ih){var _n119=Ci(t),_r39=_s178.x.valueInSpecifiedUnits,_d25=_s178.y.valueInSpecifiedUnits,_c20=_s178.width.valueInSpecifiedUnits,_p20=_s178.height.valueInSpecifiedUnits;_s178.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_r39/=100),_s178.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_d25/=100),_s178.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_c20/=100),_s178.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_p20/=100);var _u19=new DOMPoint(_r39,_d25),_x66=new DOMPoint(_r39+_c20,_d25),_b17=new DOMPoint(_r39+_c20,_d25+_p20),_m17=new DOMPoint(_n119.x+_u19.x*_n119.width,_n119.y+_u19.y*_n119.height),_g17=new DOMPoint(_n119.x+_x66.x*_n119.width,_n119.y+_x66.y*_n119.height),_f13=new DOMPoint(_n119.x+_b17.x*_n119.width,_n119.y+_b17.y*_n119.height),_w12=_l95.matrixTransform(i),_v10=_h68.matrixTransform(i),_y2=_a59.matrixTransform(i),_k2=_w12.matrixTransform(_s178.patternTransform.inverse()),_S2=_v10.matrixTransform(_s178.patternTransform.inverse()),_3=_y2.matrixTransform(_s178.patternTransform.inverse()),_C2=Ht(_m17,_g17,_f13,_k2,_S2,_3),_M2=_s178.patternTransform.multiply(_C2);_M2=Rt(_M2,o),_e302.setAttribute("patternTransform",_M2.toString());}}}catch(err){_iterator189.e(err);}finally{_iterator189.f();}}},Uh=Math.abs;var Nh=/*#__PURE__*/function(_HTMLElement42){_inherits(Nh,_HTMLElement42);var _super43=_createSuper(Nh);function Nh(){_classCallCheck(this,Nh);return _super43.apply(this,arguments);}_createClass(Nh,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this.Pn=Ai(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this143=this;this.Pn.style.cursor=null,this.Pn.workspaces.addEventListener("contextmenu",this.Dn=function(t){_this143.zn(t);}),this.Pn.workspaces.addEventListener("pointerdown",this.On=function(t){_this143.kn(t);});}},{key:"sn",value:function sn(){this.Pn.workspaces.removeEventListener("contextmenu",this.Dn),this.Pn.workspaces.removeEventListener("pointerdown",this.On);}},{key:"zn",value:function zn(t){}},{key:"kn",value:function kn(t){var _this144=this;if(1!==t.buttons||!1===t.isPrimary||this.Qs.pointers.length>1)return;var _e303,_i307,s=t.target,n=new DOMPoint(t.clientX,t.clientY);this.En=!1,window.addEventListener("pointermove",_e303=function e(i){var s=new DOMPoint(i.clientX,i.clientY);if(i.pointerId!==t.pointerId||_this144.Qs.pointers.length>1||De(n,s)<3)return;window.removeEventListener("pointermove",_e303),_this144.En=!0;var o=new X(i.clientX-t.clientX,i.clientY-t.clientY),l=Uh(o.x)>Uh(o.y)?"horizontal":"vertical";_this144.Tn(t,i,l);}),window.addEventListener("pointerup",_i307=function i(o){if(o.pointerId!==t.pointerId)return;window.removeEventListener("pointermove",_e303),window.removeEventListener("pointerup",_i307);var l=new DOMPoint(o.clientX,o.clientY);De(n,l)<3&&_this144.Cn(s,o);});}},{key:"Cn",value:function Cn(t,e){if(0!==e.button||this.En)return;var i=this.Pn.getHitWorkspaceElements(e.clientX,e.clientY);if(i.length>0){var _t380=i[i.length-1];2===this.Qs.pointerClickCount?this.Js.toggleTool("transform-tool"):this.Pn.isSelectableElement(_t380)&&this.An(_t380);}else this.$n(e);}},{key:"An",value:function An(t){var e=this.Pn,_this$Qs$modKeys=this.Qs.modKeys,i=_this$Qs$modKeys.ctrl,s=_this$Qs$modKeys.alt,n=_this$Qs$modKeys.shift,o=this.In(t),l=e.selectedElements.includes(t);var _iterator190=_createForOfIteratorHelper(o),_step190;try{for(_iterator190.s();!(_step190=_iterator190.n()).done;){var _t382=_step190.value;e.selectedElements.includes(_t382)&&(l=!0);}}catch(err){_iterator190.e(err);}finally{_iterator190.f();}if(!1===n){var _i308=null;for(var _s181=t.parentElement;_s181!==e.currentWorkspace;_s181=_s181.parentElement){if("g"===_s181.localName||"a"===_s181.localName){_i308=_s181;break;}}e.currentContainer=_i308,e.selectedElements=[t];}else if(!0===n){var _i309=e.currentContainer,_s182=e.selectedElements;if(_s182=_s182.includes(t)?_s182.filter(function(e){return e!==t;}):[].concat(_toConsumableArray(_s182),[t]),0===_s182.length)_i309=null;else for(var _t381=_s182[0].parentElement;_t381!==e.currentWorkspace;_t381=_t381.parentElement){if("g"===_t381.localName||"a"===_t381.localName){_i309=_t381;break;}}e.currentContainer=_i309,e.selectedElements=_s182;}}},{key:"$n",value:function $n(t){if(0!==t.button)return;var _this$Qs$modKeys2=this.Qs.modKeys,e=_this$Qs$modKeys2.ctrl,i=_this$Qs$modKeys2.shift;e||i||(this.Pn.currentContainer=null,this.Pn.selectedElements=[]);}},{key:"Tn",value:function(){var _Tn=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee66(t,e,i){var s,n,o,_t383,_t384;return regeneratorRuntime.wrap(function _callee66$(_context66){while(1){switch(_context66.prev=_context66.next){case 0:s=t.clientX,n=t.clientY,o=this.Qs.getConfig("bx-editsettings:selectionShape","rect");if(!(this.Qs.modKeys.ctrl&&("polygon"===o?o="rect":"rect"===o&&(o="polygon")),"rect"===o)){_context66.next=8;break;}_context66.next=4;return this.Pn.rubberBandHud.grabSelection(s,n,"rect");case 4:_t383=_context66.sent;this.Pn.pathHud.rubberBandSelectionCallback(_t383);_context66.next=13;break;case 8:if(!("polygon"===o)){_context66.next=13;break;}_context66.next=11;return this.Pn.rubberBandHud.grabSelection(s,n,"polygon");case 11:_t384=_context66.sent;this.Pn.pathHud.rubberBandSelectionCallback(_t384);case 13:case"end":return _context66.stop();}}},_callee66,this);}));function Tn(_x67,_x68,_x69){return _Tn.apply(this,arguments);}return Tn;}()},{key:"In",value:function In(t){var e=[];if(t!==this.Pn.currentWorkspace)for(;t.parentElement&&t.parentElement!==this.Pn.currentWorkspace;){"g"!==(t=t.parentElement).localName&&"a"!==t.localName||e.unshift(t);}return e;}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return Nh;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Nh,"observedAttributes",["enabled"]);customElements.define("bx-directselectcontext",Nh);var Vh=/*#__PURE__*/function(_HTMLElement43){_inherits(Vh,_HTMLElement43);var _super44=_createSuper(Vh);function Vh(){_classCallCheck(this,Vh);return _super44.apply(this,arguments);}_createClass(Vh,[{key:"connectedCallback",value:function connectedCallback(){this.Ln=!1,this.Bn=!1,this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this.Pn=Ai(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this145=this;this.Pn.style.cursor="-webkit-grab",this.Pn.workspaces.addEventListener("pointerdown",this.On=function(t){_this145.kn(t);}),window.addEventListener("keydown",this.wn=function(t){return _this145.vn(t);}),window.addEventListener("keyup",this.Rn=function(t){return _this145.Gn(t);});}},{key:"sn",value:function sn(){this.Pn.workspaces.removeEventListener("pointerdown",this.On),this.Qs.removeEventListener("pointerschange",this.Fn),window.removeEventListener("pointermove",this.Un),window.removeEventListener("pointerup",this.Nn),window.removeEventListener("keydown",this.wn),window.removeEventListener("keyup",this.Rn);}},{key:"kn",value:function kn(t){var _this146=this;if(0!==t.button||!1===t.isPrimary||this.Qs.pointers.length>1)return;this.Pn.style.cursor="-webkit-grabbing",this.Bn=!0;var e=new DOMPoint(t.clientX,t.clientY),i=e;window.addEventListener("pointermove",this.Un=function(s){if(s.pointerId!==t.pointerId)return;var n=new DOMPoint(s.clientX,s.clientY),o=s.timeStamp-t.timeStamp;if(De(e,n)>=3||o>80){var _t385=new X(i,n);!1===_this146.Ln&&_this146.Pn.Vn(_t385.x,_t385.y),i=n;}}),window.addEventListener("pointerup",this.Nn=function(e){e.pointerId===t.pointerId&&(window.removeEventListener("pointermove",_this146.Un),window.removeEventListener("pointerup",_this146.Nn),_this146.Qs.removeEventListener("pointerschange",_this146.Fn),_this146.Bn=!1,!1===_this146.Ln&&(_this146.Pn.style.cursor="-webkit-grab"));}),this.Qs.addEventListener("pointerschange",this.Fn=function(){1===_this146.Qs.pointers.length&&!1!==_this146.Qs.pointers.has(t.pointerId)||(window.removeEventListener("pointermove",_this146.Un),window.removeEventListener("pointerup",_this146.Nn),_this146.Qs.removeEventListener("pointerschange",_this146.Fn),_this146.Bn=!1,!1===_this146.Ln&&(_this146.Pn.style.cursor="-webkit-grab"));});}},{key:"vn",value:function vn(t){if("Space"===t.code){"pan"===this.Qs.getConfig("bx-keyboardsettings:spaceKeyMode","togglePreviousTool")&&(this.Ln=!0,this.Pn.style.cursor="-webkit-grabbing");}}},{key:"Gn",value:function Gn(t){"Space"===t.code&&(this.Ln=!1,!1===this.Bn&&(this.Pn.style.cursor="-webkit-grab"));}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return Vh;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Vh,"observedAttributes",["enabled"]);customElements.define("bx-pancontext",Vh);var jh=Math.abs,Hh=Math.floor,Yh=Math.max,Wh=function Wh(t,e){var i=de(new X(t[1]),new X(t[0])),s=de(new X(t[t.length-3]),new X(t[t.length-2]));return i=i.normalize(),s=s.normalize(),qh(t,0,t.length-1,i,s,e);},qh=function qh(t,e,i,s,n,o){if(i-e==1){var _o99=t[e],_l96=t[i],_h69=De(_o99,_l96)/3,_a60=new X(_o99),_r40=new X(_l96),_d26=ce(_a60,s.scale(_h69)),_c21=ce(_r40,n.scale(_h69));return[[_o99,new DOMPoint(_d26.x,_d26.y),new DOMPoint(_c21.x,_c21.y),_l96]];}var l,h=Zh(t,e,i),a=Yh(o,o*o);for(var _r41=0;_r41<=4;_r41+=1){var _r42=Xh(t,e,i,h,s,n),_ta=ta(t,e,i,_r42,h),_ta2=_slicedToArray(_ta,2),_d27=_ta2[0],_c22=_ta2[1];if(_d27<o)return[_r42];if(l=_c22,_d27>=a)break;Kh(t,e,i,h,_r42),a=_d27;}var r=de(new X(t[l-1]),new X(t[l])),d=de(new X(t[l]),new X(t[l+1])),c=ce(r,d).multiply(.5).normalize(),p=qh(t,e,l,s,c,o),u=qh(t,l,i,c.multiply(-1),n,o);return p.concat(u);},Xh=function Xh(t,e,i,s,n,o){var l=t[e],h=t[i],a=new X(l),r=new X(h),d=[[0,0],[0,0]],c=[0,0],p=i-e+1;for(var _i310=0;_i310<p;_i310+=1){var _l97=s[_i310],_h70=1-_l97,_p21=3*_l97*_h70,_u20=_h70*_h70*_h70,_x70=_p21*_h70,_b18=_p21*_l97,_m18=_l97*_l97*_l97,_g18=n.scale(_x70),_f14=o.scale(_b18);d[0][0]+=re(_g18,_g18),d[0][1]+=re(_g18,_f14),d[1][0]=d[0][1],d[1][1]+=re(_f14,_f14);var _w13=new X(t[e+_i310]);_w13=de(_w13,a.multiply(_u20+_x70)),_w13=de(_w13,r.multiply(_b18+_m18)),c[0]+=re(_g18,_w13),c[1]+=re(_f14,_w13);}var u,x,b=d[0][0]*d[1][1]-d[1][0]*d[0][1],m=1e-6;if(jh(b)>m){var _t386=d[0][0]*c[1]-d[1][0]*c[0];u=(c[0]*d[1][1]-c[1]*d[0][1])/b,x=_t386/b;}else{var _t387=d[0][0]+d[0][1],_e304=d[1][0]+d[1][1];u=x=jh(_t387)>m?c[0]/_t387:jh(_e304)>m?c[1]/_e304:0;}var g=De(h,l);m*=g,(u<m||x<m)&&(u=x=g/3);var f=ce(a,n.scale(u)),w=ce(r,o.scale(x));return[l,new DOMPoint(f.x,f.y),new DOMPoint(w.x,w.y),h];},Zh=function Zh(t,e,i){var s=[0];for(var _n120=e+1;_n120<=i;_n120+=1){s[_n120-e]=s[_n120-e-1]+De(t[_n120],t[_n120-1]);}for(var _t388=1,_n121=i-e;_t388<=_n121;_t388+=1){s[_t388]/=s[i-e];}return s;},Kh=function Kh(t,e,i,s,n){var o=[];for(var _l98=e;_l98<=i;_l98+=1){o[_l98-e]=Qh(n,t[_l98],s[_l98-e]);}return o;},Qh=function Qh(t,e,i){var s=[],n=[];for(var _e305=0;_e305<=2;_e305+=1){var _i311=de(new X(t[_e305+1]),new X(t[_e305]));s[_e305]=_i311.multiply(3);}for(var _t389=0;_t389<=1;_t389++){var _e306=de(s[_t389+1],s[_t389]);n[_t389]=_e306.multiply(2);}var o=Jh(3,t,i),l=Jh(2,s,i),h=Jh(1,n,i),a=de(o,new X(e)),r=re(l,l)+re(a,h);return jh(r)<1e-6?i:i-re(a,l)/r;},Jh=function Jh(t,e,i){var s=e.map(function(t){return new X(t);});for(var n=1;n<=t;n+=1){for(var o=0;o<=t-n;o+=1){s[o]=ce(s[o].multiply(1-i),s[o+1].multiply(i));}}return s[0];},ta=function ta(t,e,i,s,n){var o=Hh((i-e+1)/2),l=0;for(var _h71=e+1;_h71<i;_h71++){var _i312=de(Jh(3,s,n[_h71-e]),new X(t[_h71])).length;_i312>=l&&(l=_i312,o=_h71);}return[l,o];},ea={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var ia=/*#__PURE__*/function(_HTMLElement44){_inherits(ia,_HTMLElement44);var _super45=_createSuper(ia);_createClass(ia,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function ia(){_classCallCheck(this,ia);return _super45.call(this);}_createClass(ia,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function(){var _tn=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee67(){var _this147=this;return regeneratorRuntime.wrap(function _callee67$(_context67){while(1){switch(_context67.prev=_context67.next){case 0:this.jn=this.Qs.getConfig("bx-freehandsettings:smoothing",.5),this.Pn.pathHud.passive=!0,this.Pn.style.cursor="crosshair",this.Qs.addEventListener("configchange",this.ln=function(t){_this147.hn(t.detail);}),this.Pn.workspaces.addEventListener("pointerdown",this.yn=function(t){_this147.kn(t);}),this.Pn.pathHud.addEventListener("pointerdown",this.Hn=function(t){_this147.Yn(t);});case 1:case"end":return _context67.stop();}}},_callee67,this);}));function tn(){return _tn.apply(this,arguments);}return tn;}()},{key:"sn",value:function sn(){this.Pn.pathHud.passive=!1,this.Qs.removeEventListener("configchange",this.ln),this.Pn.workspaces.removeEventListener("pointerdown",this.yn),this.Pn.pathHud.removeEventListener("pointerdown",this.Hn),this.Pn.freehandHud.hide();}},{key:"hn",value:function hn(_ref60){var t=_ref60.key,e=_ref60.value;"bx-freehandsettings:smoothing"===t&&null!==e&&(this.jn=e);}},{key:"Yn",value:function Yn(t){var _this148=this;var e=this.Pn,i=e.pathHud.getNodeGrippieDescriptor(t.clientX,t.clientY);if(i){var _s183,_n124,_o100=i.index,_l99=i.path,_h72=lt(_l99.getPathData());{var _t390=-1;var _iterator191=_createForOfIteratorHelper(_h72),_step191;try{for(_iterator191.s();!(_step191=_iterator191.n()).done;){var _e307=_step191.value;var _iterator192=_createForOfIteratorHelper(_e307),_step192;try{for(_iterator192.s();!(_step192=_iterator192.n()).done;){var _n123=_step192.value;if(_t390+=1,_t390===i.index){_s183=_e307;break;}}}catch(err){_iterator192.e(err);}finally{_iterator192.f();}}}catch(err){_iterator191.e(err);}finally{_iterator191.f();}}e.freehandHud.show(_l99,new DOMPoint(t.clientX,t.clientY)),e.setPointerCapture(t.pointerId),e.addEventListener("pointerup",_n124=function _n122(t){e.removeEventListener("pointerup",_n124);var a=e.freehandHud.points,r=e.pathHud.getNodeGrippieDescriptor(t.clientX,t.clientY),d=r?r.index:null,c=r?r.path:null,p=null,u=null,x=!1;if(c){p=c===_l99?_h72:lt(c.getPathData());{var _t391=-1;var _iterator193=_createForOfIteratorHelper(p),_step193;try{for(_iterator193.s();!(_step193=_iterator193.n()).done;){var _e308=_step193.value;var _iterator194=_createForOfIteratorHelper(_e308),_step194;try{for(_iterator194.s();!(_step194=_iterator194.n()).done;){var _i313=_step194.value;if(_t391+=1,_t391===r.index){u=_e308;break;}}}catch(err){_iterator194.e(err);}finally{_iterator194.f();}}}catch(err){_iterator193.e(err);}finally{_iterator193.f();}}c===_l99&&d===_o100&&(x=!0);}if(a.length>0&&!1===x)if(_this148.Pn.undoManager.checkpoint("Add path segments"),r){var _ref61;if(_s183===u){if("start"===i.position){var _s184;var _t393=at(_s183);_s183.length=0,(_s184=_s183).push.apply(_s184,_toConsumableArray(_t393));}if(1===a.length||2===a.length)_s183.push({type:"L",values:[a[a.length-1].x,a[a.length-1].y]});else if(a.length>=3){var _iterator195=_createForOfIteratorHelper(Wh(a,6*_this148.jn/e.scale)),_step195;try{for(_iterator195.s();!(_step195=_iterator195.n()).done;){var _t394=_step195.value;_s183.push({type:"C",values:[_t394[1].x,_t394[1].y,_t394[2].x,_t394[2].y,_t394[3].x,_t394[3].y]});}}catch(err){_iterator195.e(err);}finally{_iterator195.f();}}_s183.push({type:"Z",values:[]});}else{var _s186;if("start"===i.position){var _s185;var _t396=at(_s183);_s183.length=0,(_s185=_s183).push.apply(_s185,_toConsumableArray(_t396));}var _t395=ie(u,Vt(c,_l99));if("end"===r.position&&(_t395=at(_t395)),1===a.length||2===a.length)_s183.push({type:"L",values:[a[a.length-1].x,a[a.length-1].y]});else if(a.length>=3){var _iterator196=_createForOfIteratorHelper(Wh(a,6*_this148.jn/e.scale)),_step196;try{for(_iterator196.s();!(_step196=_iterator196.n()).done;){var _t397=_step196.value;_s183.push({type:"C",values:[_t397[1].x,_t397[1].y,_t397[2].x,_t397[2].y,_t397[3].x,_t397[3].y]});}}catch(err){_iterator196.e(err);}finally{_iterator196.f();}}(_s186=_s183).push.apply(_s186,_toConsumableArray(_t395.slice(1))),u.length=0;}var _iterator197=_createForOfIteratorHelper(_s183),_step197;try{for(_iterator197.s();!(_step197=_iterator197.n()).done;){var _t399=_step197.value;_t399.values=_t399.values.map(function(t){return Z(t,e.geometryPrecision);});}}catch(err){_iterator197.e(err);}finally{_iterator197.f();}var _t392=(_ref61=[]).concat.apply(_ref61,_toConsumableArray(_h72));if(_l99.setPathData(_t392),c!==_l99){var _ref62;var _t398=(_ref62=[]).concat.apply(_ref62,_toConsumableArray(p));c.setPathData(_t398),0===_t398.length&&(c.remove(),e.selectedElements=e.selectedElements.filter(function(t){return t!==c;}));}}else{var _ref63;if("start"===i.position){var _s187;var _t401=at(_s183);_s183.length=0,(_s187=_s183).push.apply(_s187,_toConsumableArray(_t401));}if(1===a.length||2===a.length)_s183.push({type:"L",values:[a[a.length-1].x,a[a.length-1].y]});else if(a.length>=3){var _iterator198=_createForOfIteratorHelper(Wh(a,6*_this148.jn/e.scale)),_step198;try{for(_iterator198.s();!(_step198=_iterator198.n()).done;){var _t402=_step198.value;_s183.push({type:"C",values:[_t402[1].x,_t402[1].y,_t402[2].x,_t402[2].y,_t402[3].x,_t402[3].y]});}}catch(err){_iterator198.e(err);}finally{_iterator198.f();}}var _iterator199=_createForOfIteratorHelper(_s183),_step199;try{for(_iterator199.s();!(_step199=_iterator199.n()).done;){var _t403=_step199.value;_t403.values=_t403.values.map(function(t){return Z(t,e.geometryPrecision);});}}catch(err){_iterator199.e(err);}finally{_iterator199.f();}var _t400=(_ref63=[]).concat.apply(_ref63,_toConsumableArray(_h72));_l99.setPathData(_t400);}e.freehandHud.clear(),e.freehandHud.hide();});}}},{key:"kn",value:function kn(t){var _this149=this;if(1!==t.buttons)return;var _e309,_i314,s=new DOMPoint(t.clientX,t.clientY);window.addEventListener("pointermove",_e309=function e(i){var n=new DOMPoint(i.clientX,i.clientY);De(s,n)<3||(window.removeEventListener("pointermove",_e309),_this149.Tn(t));}),window.addEventListener("pointerup",_i314=function i(t){window.removeEventListener("pointermove",_e309),window.removeEventListener("pointerup",_i314);});}},{key:"Tn",value:function Tn(t){var _this150=this;var e=this.Pn,i=e.currentContainer||e.currentWorkspace,s=this.Qs.getConfig("bx-freehandsettings:style",ea);e.undoManager.checkpoint("Freehand path");var n=zi("svg:path");n.style.stroke="black",n.style.fill="none",i.append(n);var _o101,l=jt(n).inverse(),h=t.clientX,a=t.clientY,_DOMPoint$matrixTrans2=new DOMPoint(h,a).matrixTransform(l),r=_DOMPoint$matrixTrans2.x,d=_DOMPoint$matrixTrans2.y,c=[{type:"M",values:[r,d]}];n.setPathData(c),sl(n,s),e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[n]),e.freehandHud.show(n,new DOMPoint(t.clientX,t.clientY)),e.setPointerCapture(t.pointerId),e.addEventListener("pointerup",_o101=function o(t){e.removeEventListener("pointerup",_o101);var i=e.freehandHud.points,s=e.pathHud.getNodeGrippieDescriptor(t.clientX,t.clientY),l=s?s.path:null,h=null,a=null;if(i.length>0)if(null===l){n.getAttribute("d");if(1===i.length||2===i.length)c.push({type:"L",values:[i[i.length-1].x,i[i.length-1].y]});else if(i.length>=3){var _t404=Wh(i,6*_this150.jn/e.scale);var _iterator200=_createForOfIteratorHelper(_t404),_step200;try{for(_iterator200.s();!(_step200=_iterator200.n()).done;){var _e310=_step200.value;c.push({type:"C",values:[_e310[1].x,_e310[1].y,_e310[2].x,_e310[2].y,_e310[3].x,_e310[3].y]});}}catch(err){_iterator200.e(err);}finally{_iterator200.f();}}n.setPathData(c),e.freehandHud.clear(),e.freehandHud.hide();}else{var _ref64;{var _t406=Vt(l,n);l.setAttribute("transform",_t406.toString()),mh(l,{geometryPrecision:e.geometryPrecision,transformPrecision:e.transformPrecision,preserveRotation:!1});}{h=lt(l.getPathData());var _t407=-1;var _iterator201=_createForOfIteratorHelper(h),_step201;try{for(_iterator201.s();!(_step201=_iterator201.n()).done;){var _e311=_step201.value;var _iterator202=_createForOfIteratorHelper(_e311),_step202;try{for(_iterator202.s();!(_step202=_iterator202.n()).done;){var _i315=_step202.value;if(_t407+=1,_t407===s.index){a=_e311;break;}}}catch(err){_iterator202.e(err);}finally{_iterator202.f();}}}catch(err){_iterator201.e(err);}finally{_iterator201.f();}}if("end"===s.position){var _a61;var _t408=at(a);a.length=0,(_a61=a).push.apply(_a61,_toConsumableArray(_t408));}if(1===i.length||2===i.length)c.push({type:"L",values:[i[i.length-1].x,i[i.length-1].y]});else if(i.length>=3){var _iterator203=_createForOfIteratorHelper(Wh(i,6*_this150.jn/e.scale)),_step203;try{for(_iterator203.s();!(_step203=_iterator203.n()).done;){var _t409=_step203.value;c.push({type:"C",values:[_t409[1].x,_t409[1].y,_t409[2].x,_t409[2].y,_t409[3].x,_t409[3].y]});}}catch(err){_iterator203.e(err);}finally{_iterator203.f();}}c.push.apply(c,_toConsumableArray(a.slice(1))),a.length=0;var _iterator204=_createForOfIteratorHelper(c),_step204;try{for(_iterator204.s();!(_step204=_iterator204.n()).done;){var _t410=_step204.value;_t410.values=_t410.values.map(function(t){return Z(t,e.geometryPrecision);});}}catch(err){_iterator204.e(err);}finally{_iterator204.f();}n.setPathData(c);var _t405=(_ref64=[]).concat.apply(_ref64,_toConsumableArray(h));l.setPathData(_t405),0===_t405.length&&(l.remove(),e.selectedElements=e.selectedElements.filter(function(t){return t!==l;}));}e.freehandHud.clear(),e.freehandHud.hide();});}}]);return ia;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ia,"observedAttributes",["enabled"]);customElements.define("bx-freehandcontext",ia);var sa=/*#__PURE__*/function(_HTMLElement45){_inherits(sa,_HTMLElement45);var _super46=_createSuper(sa);_createClass(sa,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t,this.qs();}},{key:"type",get:function get(){return this.hasAttribute("type")?this.getAttribute("type"):"shape";},set:function set(t){this.setAttribute("type",t);}}]);function sa(){var _this151;_classCallCheck(this,sa);_this151=_super46.call(this),_this151._t=null,_this151._shadowRoot=_this151.attachShadow({mode:"closed"}),_this151._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,sa._shadowStyleSheet],_this151._shadowRoot.append(document.importNode(sa._shadowTemplate.content,!0));var _iterator205=_createForOfIteratorHelper(_this151._shadowRoot.querySelectorAll("[id]")),_step205;try{for(_iterator205.s();!(_step205=_iterator205.n()).done;){var _t411=_step205.value;_this151["#"+_t411.id]=_t411;}}catch(err){_iterator205.e(err);}finally{_iterator205.f();}_this151["#grab-button"].addEventListener("toggle",function(){return _this151.Wn();}),_this151["#reset-button"].addEventListener("click",function(){return _this151.qn();});return _this151;}_createClass(sa,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ai(this,"bx-editor"),this.qs();}},{key:"Wn",value:function(){var _Wn=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee68(){var t;return regeneratorRuntime.wrap(function _callee68$(_context68){while(1){switch(_context68.prev=_context68.next){case 0:_context68.next=2;return this.Js.objectGrabber.grab();case 2:t=_context68.sent;this["#grab-button"].toggled=!1,t&&(this._t=function(t){var e={},i=getComputedStyle(t),s=il(t);!1===t.isConnected&&console.warn("getAppearance() called with a disconnected element.");var _iterator206=_createForOfIteratorHelper(s),_step206;try{for(_iterator206.s();!(_step206=_iterator206.n()).done;){var _n125=_step206.value;if("fill"===_n125||"stroke"===_n125){var _s188=Xo(t,_n125);if(_s188){var _t412=_s188.localName;if("linearGradient"===_t412||"radialGradient"===_t412){var _i316="";var _iterator207=_createForOfIteratorHelper(Do(_s188)),_step207;try{for(_iterator207.s();!(_step207=_iterator207.n()).done;){var _t413=_step207.value;var _e312=_t413.offset.baseVal,_s189=getComputedStyle(_t413).stopColor,_n126=getComputedStyle(_t413).stopOpacity,_o102="stop-color: ".concat(_s189,";");"1"!==_n126&&(_o102+=" stop-opacity: ".concat(_n126)),_i316+="<stop offset=\"".concat(_e312,"\" style=\"").concat(_o102,"\"></stop>");}}catch(err){_iterator207.e(err);}finally{_iterator207.f();}"linearGradient"===_t412?e[_n125]="<linearGradient x1=\"0\" x2=\"0\" y1=\"0\" y2=\"1\">".concat(_i316,"</linearGradient>"):"radialGradient"===_t412&&(e[_n125]="<radialGradient r=\"0.8\">".concat(_i316,"</radialGradient>"));}else"pattern"===_t412&&(e[_n125]="black");}else e[_n125]=i[_n125];}else"font-family"===_n125&&i[_n125].startsWith('"')&&i[_n125].endsWith('"')?e[_n125]=i[_n125].slice(1,-1):e[_n125]=i[_n125];}}catch(err){_iterator206.e(err);}finally{_iterator206.f();}return e;}(t),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.qs());case 4:case"end":return _context68.stop();}}},_callee68,this);}));function Wn(){return _Wn.apply(this,arguments);}return Wn;}()},{key:"qn",value:function qn(){this._t=null,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.qs();}},{key:"qs",value:function qs(){if(this["#reset-button"].disabled=null===this.value,null===this.value){var _t414;"text"===this.type?_t414=T:"shape"===this.type?_t414=O:"outline-shape"===this.type?_t414=E:"path"===this.type&&(_t414=A),sl(this["#thumbnail-rect"],_t414);}else sl(this["#thumbnail-rect"],this.value);}}]);return sa;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(sa,"_shadowTemplate",Yi(_templateObject187()));_defineProperty(sa,"_shadowStyleSheet",Wi(_templateObject188()));customElements.define("bx-stylepicker",sa);var na=/*#__PURE__*/function(_HTMLElement46){_inherits(na,_HTMLElement46);var _super47=_createSuper(na);_createClass(na,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function na(){var _this152;_classCallCheck(this,na);_this152=_super47.call(this),_this152._shadowRoot=_this152.attachShadow({mode:"closed"}),_this152._shadowRoot.append(document.importNode(_this152.constructor._shadowTemplate.content,!0)),_this152._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,na._shadowStyleSheet,_this152.constructor._shadowStyleSheet];var _iterator208=_createForOfIteratorHelper(_this152._shadowRoot.querySelectorAll("[id]")),_step208;try{for(_iterator208.s();!(_step208=_iterator208.n()).done;){var _t415=_step208.value;_this152["#"+_t415.id]=_t415;}}catch(err){_iterator208.e(err);}finally{_iterator208.f();}_this152.setAttribute("extends","bx-toolsettings");return _this152;}_createClass(na,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){}},{key:"sn",value:function sn(){}}]);return na;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(na,"observedAttributes",["enabled"]);_defineProperty(na,"_shadowStyleSheet",Wi(_templateObject189()));var oa={size:{param:"pressure",variance:.5}},la={fill:"rgb(166, 209, 48)",stroke:"rgb(129, 151, 57)","stroke-width":"2px"},ha='\n  <x-menuitem value="none">\n    <x-label>None</x-label>\n  </x-menuitem>\n\n  <hr/>\n\n  <x-menuitem value="random">\n    <x-label>Random</x-label>\n  </x-menuitem>\n\n  <x-menuitem value="pressure">\n    <x-label>Pressure</x-label>\n  </x-menuitem>\n';var aa=/*#__PURE__*/function(_na){_inherits(aa,_na);var _super48=_createSuper(aa);function aa(){var _this153;_classCallCheck(this,aa);_this153=_super48.call(this),_this153["#mode-buttons"].addEventListener("toggle",function(){return _this153.Xn();}),_this153["#geometry-preview"].addEventListener("pointerdown",function(t){return _this153.Zn(t);}),_this153["#size-box"].addEventListener("changestart",function(){return _this153.Kn();}),_this153["#roundness-box"].addEventListener("changestart",function(){return _this153.Qn();}),_this153["#angle-box"].addEventListener("changestart",function(){return _this153.Jn();}),_this153["#size-dynamics-param-select"].addEventListener("change",function(t){return _this153.eo(t);}),_this153["#size-dynamics-variance-input"].addEventListener("changeend",function(t){return _this153.eo(t);}),_this153["#roundness-dynamics-param-select"].addEventListener("change",function(t){return _this153.eo(t);}),_this153["#roundness-dynamics-variance-input"].addEventListener("changeend",function(t){return _this153.eo(t);}),_this153["#angle-dynamics-param-select"].addEventListener("change",function(t){return _this153.eo(t);}),_this153["#angle-dynamics-variance-input"].addEventListener("changeend",function(t){return _this153.eo(t);}),_this153["#style-picker"].addEventListener("change",function(){return _this153.io();});return _this153;}_createClass(aa,[{key:"tn",value:function tn(){var _this154=this;this.so(),this.no(),this.Qs.addEventListener("configchange",this.ln=function(t){_this154.hn(t);});}},{key:"sn",value:function sn(){this.Qs.removeEventListener("configchange",this.ln);}},{key:"hn",value:function hn(t){var _t$detail=t.detail,e=_t$detail.key,i=_t$detail.value;"bx-blobsettings:mode"!==e&&"bx-blobsettings:size"!==e&&"bx-blobsettings:roundness"!==e&&"bx-blobsettings:angle"!==e||(this.so(),this.no());}},{key:"Xn",value:function Xn(){this.Qs.setConfig("bx-blobsettings:mode",this["#mode-buttons"].value);}},{key:"Zn",value:function Zn(t){var _this155=this;if(1!==t.buttons)return;var e,_i318,s=jt(this["#geometry-preview"]).inverse(),n=new DOMPoint(50,50),o=this["#size-slider"].value,l=this["#roundness-slider"].value,h=this["#angle-slider"].value;this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(s);if(t.shiftKey)o=De(n,e)/(_this155["#roundness-slider"].value/100),o=K(o,1,40,0);else{var _t416=_this155["#size-slider"].value,_i317=De(n,e);l=_i317/_t416*100,l=K(l,1,100,0);}h=Ie(n,new DOMPoint(50,0),e),h=K(h,-180,180,0),_this155["#size-slider"].value=o,_this155["#size-input"].value=o,_this155["#roundness-slider"].value=l,_this155["#roundness-input"].value=l,_this155["#angle-slider"].value=h,_this155["#angle-input"].value=h,_this155.no();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i318=function i(){_this155["#geometry-preview"].removeEventListener("pointermove",e),_this155["#geometry-preview"].removeEventListener("lostpointercapture",_i318),_this155.Qs.setConfig("bx-blobsettings:size",o),_this155.Qs.setConfig("bx-blobsettings:roundness",l),_this155.Qs.setConfig("bx-blobsettings:angle",h);});}},{key:"Kn",value:function Kn(){var _this156=this;var t,_e313;this["#size-box"].addEventListener("change",t=function t(_t417){_t417.target===_this156["#size-slider"]?_this156["#size-input"].value=_this156["#size-slider"].value:_t417.target===_this156["#size-input"]&&(_this156["#size-slider"].value=_this156["#size-input"].value),_this156.no();}),this["#size-box"].addEventListener("changeend",_e313=function e(){_this156["#size-box"].removeEventListener("change",t),_this156["#size-box"].removeEventListener("changeend",_e313),_this156.Qs.setConfig("bx-blobsettings:size",_this156["#size-input"].value);});}},{key:"Qn",value:function Qn(){var _this157=this;var t,_e314;this["#roundness-box"].addEventListener("change",t=function t(_t418){_t418.target===_this157["#roundness-slider"]?_this157["#roundness-input"].value=_this157["#roundness-slider"].value:_t418.target===_this157["#roundness-input"]&&(_this157["#roundness-slider"].value=_this157["#roundness-input"].value),_this157.no();}),this["#roundness-box"].addEventListener("changeend",_e314=function e(){_this157["#roundness-box"].removeEventListener("change",t),_this157["#roundness-box"].removeEventListener("changeend",_e314),_this157.Qs.setConfig("bx-blobsettings:roundness",_this157["#roundness-slider"].value);});}},{key:"Jn",value:function Jn(){var _this158=this;var t,_e315;this["#angle-box"].addEventListener("change",t=function t(_t419){_t419.target===_this158["#angle-slider"]?_this158["#angle-input"].value=_this158["#angle-slider"].value:_t419.target===_this158["#angle-input"]&&(_this158["#angle-slider"].value=_this158["#angle-input"].value),_this158.no();}),this["#angle-box"].addEventListener("changeend",_e315=function e(){_this158["#angle-box"].removeEventListener("change",t),_this158["#angle-box"].removeEventListener("changeend",_e315),_this158.Qs.setConfig("bx-blobsettings:angle",_this158["#angle-slider"].value);});}},{key:"eo",value:function eo(t){var e={};"x-select"===t.target.localName&&"none"===t.detail.oldValue&&(t.target.nextElementSibling.value=50),"none"!==this["#size-dynamics-param-select"].value&&(e.size={param:this["#size-dynamics-param-select"].value,variance:this["#size-dynamics-variance-input"].value/100}),"none"!==this["#roundness-dynamics-param-select"].value&&(e.roundness={param:this["#roundness-dynamics-param-select"].value,variance:this["#roundness-dynamics-variance-input"].value/100}),"none"!==this["#angle-dynamics-param-select"].value&&(e.angle={param:this["#angle-dynamics-param-select"].value,variance:this["#angle-dynamics-variance-input"].value/100}),this.Qs.setConfig("bx-blobsettings:dynamics",e),this.so();}},{key:"io",value:function io(){this.Qs.setConfig("bx-blobsettings:style",this["#style-picker"].value);}},{key:"so",value:function so(){var t=this.Qs.getConfig("bx-blobsettings:mode","draw"),e=this.Qs.getConfig("bx-blobsettings:size",30),i=this.Qs.getConfig("bx-blobsettings:roundness",100),s=this.Qs.getConfig("bx-blobsettings:angle",0),n=this.Qs.getConfig("bx-blobsettings:dynamics",oa),o=this.Qs.getConfig("bx-blobsettings:style",la);this["#mode-buttons"].value=t,this["#size-slider"].value=e,this["#size-input"].value=e,this["#roundness-slider"].value=i,this["#roundness-input"].value=i,this["#angle-slider"].value=s,this["#angle-input"].value=s,n.size?(this["#size-dynamics-param-select"].value=n.size.param,this["#size-dynamics-variance-input"].value=Z(100*n.size.variance,0),this["#size-dynamics-variance-input"].disabled=!1):(this["#size-dynamics-param-select"].value="none",this["#size-dynamics-variance-input"].value=0,this["#size-dynamics-variance-input"].disabled=!0),n.roundness?(this["#roundness-dynamics-param-select"].value=n.roundness.param,this["#roundness-dynamics-variance-input"].value=Z(100*n.roundness.variance,0),this["#roundness-dynamics-variance-input"].disabled=!1):(this["#roundness-dynamics-param-select"].value="none",this["#roundness-dynamics-variance-input"].value=0,this["#roundness-dynamics-variance-input"].disabled=!0),n.angle?(this["#angle-dynamics-param-select"].value=n.angle.param,this["#angle-dynamics-variance-input"].value=Z(100*n.angle.variance,0),this["#angle-dynamics-variance-input"].disabled=!1):(this["#angle-dynamics-param-select"].value="none",this["#angle-dynamics-variance-input"].value=0,this["#angle-dynamics-variance-input"].disabled=!0),this["#style-picker"].value=o;}},{key:"no",value:function no(){var t=this["#size-slider"].value,e=this["#roundness-slider"].value/100*t,i=this["#angle-slider"].value,s=new DOMMatrix().translate(50,50).rotate(i).translate(-50,-50),n=new DOMPoint(50,50-e).matrixTransform(s);this["#geometry-preview-shape"].style.rx="".concat(t),this["#geometry-preview-shape"].style.ry="".concat(e),this["#geometry-preview-shape"].style.transform="rotate(".concat(i,"deg)"),this["#geometry-preview-grippie"].style.cx=n.x,this["#geometry-preview-grippie"].style.cy=n.y;}}]);return aa;}(na);_defineProperty(aa,"_shadowTemplate",Yi(_templateObject190(),ha,ha,ha));_defineProperty(aa,"_shadowStyleSheet",Wi(_templateObject191()));customElements.define("bx-blobsettings",aa);var ra=function ra(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=null;return"rect"===t.localName?i=da(t,e):"circle"===t.localName?i=ca(t,e):"ellipse"===t.localName?i=pa(t,e):"line"===t.localName?i=ua(t,e):"polyline"===t.localName?i=xa(t,e):"polygon"===t.localName&&(i=ba(t,e)),i;},da=function da(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=zi("svg:path"),s=t.getPathData();var _iterator209=_createForOfIteratorHelper(s),_step209;try{for(_iterator209.s();!(_step209=_iterator209.n()).done;){var _t420=_step209.value;_t420.values=_t420.values.map(function(t){return Z(t,e);});}}catch(err){_iterator209.e(err);}finally{_iterator209.f();}i.setPathData(s);var _iterator210=_createForOfIteratorHelper(t.attributes),_step210;try{for(_iterator210.s();!(_step210=_iterator210.n()).done;){var _e316=_step210.value;!1===["x","y","width","height","rx","ry"].includes(_e316.name)&&i.setAttribute(_e316.name,_e316.value);}}catch(err){_iterator210.e(err);}finally{_iterator210.f();}return i.innerHTML=t.innerHTML,i;},ca=function ca(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=zi("svg:path"),s=t.getPathData();var _iterator211=_createForOfIteratorHelper(s),_step211;try{for(_iterator211.s();!(_step211=_iterator211.n()).done;){var _t421=_step211.value;_t421.values=_t421.values.map(function(t){return Z(t,e);});}}catch(err){_iterator211.e(err);}finally{_iterator211.f();}i.setPathData(s);var _iterator212=_createForOfIteratorHelper(t.attributes),_step212;try{for(_iterator212.s();!(_step212=_iterator212.n()).done;){var _e317=_step212.value;["cx","cy","r"].includes(_e317.name)||i.setAttribute(_e317.name,_e317.value);}}catch(err){_iterator212.e(err);}finally{_iterator212.f();}return i.innerHTML=t.innerHTML,i;},pa=function pa(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=zi("svg:path"),s=t.getPathData();var _iterator213=_createForOfIteratorHelper(s),_step213;try{for(_iterator213.s();!(_step213=_iterator213.n()).done;){var _t422=_step213.value;_t422.values=_t422.values.map(function(t){return Z(t,e);});}}catch(err){_iterator213.e(err);}finally{_iterator213.f();}i.setPathData(s);var _iterator214=_createForOfIteratorHelper(t.attributes),_step214;try{for(_iterator214.s();!(_step214=_iterator214.n()).done;){var _e318=_step214.value;["cx","cy","rx","ry"].includes(_e318.name)||i.setAttribute(_e318.name,_e318.value);}}catch(err){_iterator214.e(err);}finally{_iterator214.f();}return i.innerHTML=t.innerHTML,i;},ua=function ua(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=zi("svg:path"),s=t.getPathData();var _iterator215=_createForOfIteratorHelper(s),_step215;try{for(_iterator215.s();!(_step215=_iterator215.n()).done;){var _t423=_step215.value;_t423.values=_t423.values.map(function(t){return Z(t,e);});}}catch(err){_iterator215.e(err);}finally{_iterator215.f();}i.setPathData(s);var _iterator216=_createForOfIteratorHelper(t.attributes),_step216;try{for(_iterator216.s();!(_step216=_iterator216.n()).done;){var _e319=_step216.value;["x1","y1","x2","y2"].includes(_e319.name)||i.setAttribute(_e319.name,_e319.value);}}catch(err){_iterator216.e(err);}finally{_iterator216.f();}return i.innerHTML=t.innerHTML,i;},xa=function xa(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=zi("svg:path"),s=t.getPathData();var _iterator217=_createForOfIteratorHelper(s),_step217;try{for(_iterator217.s();!(_step217=_iterator217.n()).done;){var _t424=_step217.value;_t424.values=_t424.values.map(function(t){return Z(t,e);});}}catch(err){_iterator217.e(err);}finally{_iterator217.f();}i.setPathData(s);var _iterator218=_createForOfIteratorHelper(t.attributes),_step218;try{for(_iterator218.s();!(_step218=_iterator218.n()).done;){var _e320=_step218.value;"points"!==_e320.name&&i.setAttribute(_e320.name,_e320.value);}}catch(err){_iterator218.e(err);}finally{_iterator218.f();}return i.innerHTML=t.innerHTML,i;},ba=function ba(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=zi("svg:path"),s=t.getPathData();var _iterator219=_createForOfIteratorHelper(s),_step219;try{for(_iterator219.s();!(_step219=_iterator219.n()).done;){var _t425=_step219.value;_t425.values=_t425.values.map(function(t){return Z(t,e);});}}catch(err){_iterator219.e(err);}finally{_iterator219.f();}i.setPathData(t.getPathData());var _iterator220=_createForOfIteratorHelper(t.attributes),_step220;try{for(_iterator220.s();!(_step220=_iterator220.n()).done;){var _e321=_step220.value;"points"!==_e321.name&&i.setAttribute(_e321.name,_e321.value);}}catch(err){_iterator220.e(err);}finally{_iterator220.f();}return i.innerHTML=t.innerHTML,i;},ma=function ma(t){for(var _e322=t;_e322;_e322=_e322.parentNode){if(_e322 instanceof ShadowRoot||_e322===window.document)return _e322;}},ga=function ga(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;fa(t);var s="",n={text:!0,textPath:!0,tspan:!0,title:!0,desc:!0};for(var _t426=0;_t426<e;_t426+=1){s+=" ";}var o=function o(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;if(!n[t.localName]){var _iterator221=_createForOfIteratorHelper(t.children),_step221;try{for(_iterator221.s();!(_step221=_iterator221.n()).done;){var _i319=_step221.value;var _n127=t.firstChild===_i319,_l100=t.lastChild===_i319;if(!0===_n127){var _t427=document.createTextNode("\n");_i319.parentNode.insertBefore(_t427,_i319);}var _h73="";for(var _t428=0;_t428<e;_t428+=1){_h73+=s;}var _a62=document.createTextNode(_h73);if(t.insertBefore(_a62,_i319),!0===_l100){var _i320=document.createTextNode("\n");t.appendChild(_i320);var _n128="";for(var _t429=0;_t429<e-1;_t429+=1){_n128+=s;}var _o103=document.createTextNode(_n128);t.appendChild(_o103);}else{var _e323=document.createTextNode("\n");t.insertBefore(_e323,_i319.nextSibling);}_i319.childElementCount>0&&o(_i319,e+1);}}catch(err){_iterator221.e(err);}finally{_iterator221.f();}}};o(t,i);},fa=function fa(t){var e,i=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,null),s={text:!0,textPath:!0,tspan:!0};for(;e=i.nextNode();){s[e.parentElement.localName]||wa(e.textContent)&&e.remove();}},wa=function wa(t){return!/[^\t\n\r ]/.test(t);},va=function va(t){var e={},i=getComputedStyle(t);e.width=i.getPropertyValue("width");var _iterator222=_createForOfIteratorHelper(i),_step222;try{for(_iterator222.s();!(_step222=_iterator222.n()).done;){var _t430=_step222.value;var _s190=i.getPropertyValue(_t430);e[_t430]=_s190;}}catch(err){_iterator222.e(err);}finally{_iterator222.f();}return e;},ya=function ya(t,e){{var _i321=G.find(function(e){return e.name===t;}).presentationAttributeName||null;_i321&&e.hasAttribute(_i321)&&(""===e.style.getPropertyValue(t)&&e.style.setProperty(t,e.getAttribute(_i321)),e.removeAttribute(_i321));}{var _i322=e.style.getPropertyValue(t);if(""!==_i322&&"inherit"!==_i322){var _s191=getComputedStyle(e).getPropertyValue(t);e.style.removeProperty(t),_s191!==getComputedStyle(e).getPropertyValue(t)&&e.style.setProperty(t,_i322);}}},ka=function ka(t){var e=G.find(function(e){return e.name===t;});return!!e&&e.inheritable;},Sa=function Sa(t){var e="",i=t.sheet.rules[0];var _iterator223=_createForOfIteratorHelper(t.sheet.rules),_step223;try{for(_iterator223.s();!(_step223=_iterator223.n()).done;){var _s192=_step223.value;_s192!==i&&(e+="\n"),e+=_s192.cssText;}}catch(err){_iterator223.e(err);}finally{_iterator223.f();}t.textContent!==e&&(t.textContent=e);},_a=function _a(t){var e,i=function i(t){var e,i,s=[0,0,0],n=t.split(" "),o=/[\w-]+/g,l=/#[\w-]+/g,h=/\.[\w-]+/g,a=/\[[^\]]+\]/g,r=/\:(?!not)[\w-]+(\(.*\))?/g,d=/\:\:?(after|before|first-letter|first-line|selection)/g,c=function c(t,e){var i=t.match(e);return i?i.length:0;};for(;e=n.shift(),"string"==typeof e;){i=c(e,d),s[2]+=i,i&&(e=e.replace(d,"")),i=c(e,r),s[1]+=i,i&&(e=e.replace(r,"")),i=c(e,a),s[1]+=i,i&&(e=e.replace(a,"")),i=c(e,l),s[0]+=i,i&&(e=e.replace(l,"")),i=c(e,h),s[1]+=i,i&&(e=e.replace(h,"")),s[2]+=c(e,o);}return parseInt(s.join(""),10);},s=function s(t,e){var s,n,o=e.split(","),l=0;for(;s=o.shift();){t.matches(s)&&(n=i(s),l=n>l?n:l);}return l;},n=function n(t){var e=t.media&&t.media.mediaText;return t.disabled||e&&e.length&&!window.matchMedia(e).matches?[]:t.cssRules?_toConsumableArray(t.cssRules):[];},o=[],l=_toConsumableArray(ma(t).styleSheets);for(;e=l.shift();){var _i323=void 0,_s193=n(e);for(;_i323=_s193.shift();){_i323.type===CSSRule.IMPORT_RULE?_s193=n(_i323.styleSheet).concat(_s193):_i323.type===CSSRule.MEDIA_RULE?_s193=n(_i323).concat(_s193):_i323.type===CSSRule.STYLE_RULE&&t.matches(_i323.selectorText)&&o.push(_i323);}}return o=o.sort(function(e,i){return s(t,i.selectorText)-s(t,e.selectorText);}),o;},Ca=Object.entries,Ma=function Ma(t){var e,i=Ga(t)||Ga('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500"></svg>'),s=NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT|NodeFilter.SHOW_COMMENT,n=document.createNodeIterator(i,s);for(;e=n.nextNode();){if(e.nodeType!==Node.ELEMENT_NODE){!1===(R[e.parentNode.nodeName]||[]).includes(e.nodeName)&&e.remove();}else if(e.localName.includes(":")){if(e.localName.startsWith("bx:")){var _t431=e.localName.split(":")[1],_i324=document.createElement("bx-"+_t431);for(var _i325=0,_arr19=_toConsumableArray(e.attributes);_i325<_arr19.length;_i325++){var _t432=_arr19[_i325];_i324.setAttribute(_t432.name,_t432.value);}for(var _i326=0,_arr20=_toConsumableArray(e.childNodes);_i326<_arr20.length;_i326++){var _t433=_arr20[_i326];_i324.append(_t433);}e.replaceWith(_i324);}else e.remove();}else{if("title"===e.localName){var _t434=zi("svg:bx-title");_t434.innerHTML=e.innerHTML;var _iterator224=_createForOfIteratorHelper(e.attributes),_step224;try{for(_iterator224.s();!(_step224=_iterator224.n()).done;){var _step224$value=_step224.value,_i327=_step224$value.name,_s194=_step224$value.value;_t434.setAttribute(_i327,_s194);}}catch(err){_iterator224.e(err);}finally{_iterator224.f();}e.replaceWith(_t434);continue;}if("switch"===e.localName){var _t435=":scope > *:not([systemLanguage]):not([requiredExtensions])",_i328=e.querySelector(_t435)||e.firstElementChild;_i328&&e.replaceWith(_i328);continue;}if(e!==i){if(!1===(R[e.parentNode.localName]||[]).includes(e.localName)){e.remove();continue;}}for(var _i329=0,_arr21=_toConsumableArray(e.attributes);_i329<_arr21.length;_i329++){var _arr21$_i=_arr21[_i329],_t436=_arr21$_i.name,_i330=_arr21$_i.value;if(_t436.includes(":"))if(e.removeAttribute(_t436),_t436.startsWith("bx:"))_t436="data-bx-"+_t436.split(":")[1],e.setAttribute(_t436,_i330);else if("xlink:href"===_t436&&!1===e.hasAttribute("href"))_t436="href",e.setAttribute(_t436,_i330);else if("xlink:title"===_t436&&!1===e.hasAttribute("title"))_t436="title",e.setAttribute(_t436,_i330);else{if("xml:lang"!==_t436)continue;_t436="lang",e.setAttribute(_t436,_i330);}_t436.startsWith("data-")?"data-bx-shape"===_t436&&!1===bl(e)&&e.removeAttribute(_t436):"href"===_t436&&"a"===e.localName&&(e.removeAttribute(_t436),e.setAttribute("_href",_i330));}}}var _iterator225=_createForOfIteratorHelper(i.querySelectorAll("text")),_step225;try{for(_iterator225.s();!(_step225=_iterator225.n()).done;){var _t437=_step225.value;Ea(_t437);}}catch(err){_iterator225.e(err);}finally{_iterator225.f();}var _iterator226=_createForOfIteratorHelper(i.querySelectorAll("textPath")),_step226;try{for(_iterator226.s();!(_step226=_iterator226.n()).done;){var _t438=_step226.value;Ta(_t438);}}catch(err){_iterator226.e(err);}finally{_iterator226.f();}var _iterator227=_createForOfIteratorHelper(i.querySelectorAll("linearGradient")),_step227;try{for(_iterator227.s();!(_step227=_iterator227.n()).done;){var _t439=_step227.value;Aa(_t439);}}catch(err){_iterator227.e(err);}finally{_iterator227.f();}var _iterator228=_createForOfIteratorHelper(i.querySelectorAll("radialGradient")),_step228;try{for(_iterator228.s();!(_step228=_iterator228.n()).done;){var _t440=_step228.value;$a(_t440);}}catch(err){_iterator228.e(err);}finally{_iterator228.f();}var _iterator229=_createForOfIteratorHelper(i.querySelectorAll("pattern")),_step229;try{for(_iterator229.s();!(_step229=_iterator229.n()).done;){var _t441=_step229.value;Ia(_t441);}}catch(err){_iterator229.e(err);}finally{_iterator229.f();}var _iterator230=_createForOfIteratorHelper(i.querySelectorAll("marker")),_step230;try{for(_iterator230.s();!(_step230=_iterator230.n()).done;){var _t442=_step230.value;Ba(_t442);}}catch(err){_iterator230.e(err);}finally{_iterator230.f();}var _iterator231=_createForOfIteratorHelper(i.querySelectorAll("symbol")),_step231;try{for(_iterator231.s();!(_step231=_iterator231.n()).done;){var _t443=_step231.value;La(_t443);}}catch(err){_iterator231.e(err);}finally{_iterator231.f();}var _iterator232=_createForOfIteratorHelper(i.querySelectorAll("use")),_step232;try{for(_iterator232.s();!(_step232=_iterator232.n()).done;){var _t444=_step232.value;Ra(_t444);}}catch(err){_iterator232.e(err);}finally{_iterator232.f();}return Pa(i),Da(i),za(i),document.importNode(i,!0),i;},Pa=function Pa(t){var e=[];for(var _i331=0,_arr22=_toConsumableArray(t.attributes);_i331<_arr22.length;_i331++){var _arr22$_i=_arr22[_i331],_i332=_arr22$_i.name,_s195=_arr22$_i.value;t.removeAttribute(_i332),"xmlns"!==_i332&&"xmlns:bx"!==_i332&&e.push({name:_i332,value:_s195});}t.setAttribute("xmlns",l.svg),t.setAttribute("xmlns:bx",l.bx);for(var _i333=0,_e324=e;_i333<_e324.length;_i333++){var _e324$_i=_e324[_i333],_i334=_e324$_i.name,_s196=_e324$_i.value;t.setAttribute(_i334,_s196);}},Da=function Da(t){var e=t.querySelector(":scope > defs");e||(e=zi("svg:defs"),t.prepend(e));},za=function za(t){if(Oa(t))return;var e=t.querySelectorAll("style"),i={};var _iterator233=_createForOfIteratorHelper(e),_step233;try{for(_iterator233.s();!(_step233=_iterator233.n()).done;){var _t445=_step233.value;var _e325=[];for(var _s197=0,_n129=_t445.sheet.rules.length;_s197<_n129;_s197+=1){var _n130=_t445.sheet.rules[_s197];if(_n130.type===CSSRule.FONT_FACE_RULE){var _t446=si(_n130.style.fontFamily,'"',"");void 0===i[_t446]?i[_t446]=[_n130]:i[_t446].push(_n130),_e325.push(_s197);}}if(_e325.length>0){var _iterator235=_createForOfIteratorHelper(_e325.reverse()),_step235;try{for(_iterator235.s();!(_step235=_iterator235.n()).done;){var _i335=_step235.value;_t445.sheet.deleteRule(_i335);}}catch(err){_iterator235.e(err);}finally{_iterator235.f();}Sa(_t445),0===_t445.sheet.rules.length&&_t445.remove();}}}catch(err){_iterator233.e(err);}finally{_iterator233.f();}var _iterator234=_createForOfIteratorHelper(Ca(i)),_step234;try{for(_iterator234.s();!(_step234=_iterator234.n()).done;){var _step234$value=_slicedToArray(_step234.value,2),_e326=_step234$value[0],_s198=_step234$value[1];var _i336=_s198.map(function(t){return t.cssText;}).join(" "),_n131=zi("svg:style");_n131.setAttribute("data-bx-fonts",_e326),_n131.textContent=_i336;var _o104=t.querySelector("defs");null===_o104&&(_o104=zi("svg:defs"),t.prepend(_o104)),_o104.insertBefore(_n131,_o104.querySelector("style"));}}catch(err){_iterator234.e(err);}finally{_iterator234.f();}},Oa=function Oa(t){var e=t.querySelectorAll("style");var _iterator236=_createForOfIteratorHelper(e),_step236;try{for(_iterator236.s();!(_step236=_iterator236.n()).done;){var _t447=_step236.value;var _e327=null;var _iterator237=_createForOfIteratorHelper(_t447.sheet.rules),_step237;try{for(_iterator237.s();!(_step237=_iterator237.n()).done;){var _i337=_step237.value;if(_i337.type===CSSRule.FONT_FACE_RULE){var _t448=si(_i337.style.fontFamily,'"',"");if(null===_e327)_e327=_t448;else if(_e327!==_t448)return!1;}else if(null!==_e327)return!1;}}catch(err){_iterator237.e(err);}finally{_iterator237.f();}if(null!==_e327&&_t447.getAttribute("data-bx-fonts")!==_e327)return!1;}}catch(err){_iterator236.e(err);}finally{_iterator236.f();}return!0;},Ea=function Ea(t){var e=t.querySelectorAll("textPath"),i=(t.querySelectorAll("tspan"),e.length>0?e[0]:null);{var _e328=t.hasAttribute("width")||t.hasAttribute("height")?"pre-wrap":"pre";t.style.setProperty("white-space",_e328);}if(e.length>1){var _iterator238=_createForOfIteratorHelper(e),_step238;try{for(_iterator238.s();!(_step238=_iterator238.n()).done;){var _t449=_step238.value;_t449!==i&&_t449.remove();}}catch(err){_iterator238.e(err);}finally{_iterator238.f();}}if(i){i.parentElement!==t&&t.append(i);for(var _i338=0,_arr23=_toConsumableArray(t.childNodes);_i338<_arr23.length;_i338++){var _e329=_arr23[_i338];["a","tspan","#text"].includes(_e329.localName)&&_e329.remove();}if(i.hasAttribute("style")){var _iterator239=_createForOfIteratorHelper(i.style),_step239;try{for(_iterator239.s();!(_step239=_iterator239.n()).done;){var _e330=_step239.value;var _s199=t.style.getPropertyValue(_e330),_n132=i.style.getPropertyValue(_e330);_s199!==_n132&&t.style.setProperty(_e330,_n132);}}catch(err){_iterator239.e(err);}finally{_iterator239.f();}i.removeAttribute("style");}}},Ta=function Ta(t){{var _e331=Oi(t),_i339=t.href.baseVal?_e331.querySelector(t.href.baseVal):null;if(_i339&&["rect","circle","ellipse","line","polyline","polygon"].includes(_i339.localName)){var _t450=ra(_i339);_i339.replaceWith(_t450);}}},Aa=function Aa(t){{var _e332=0,_i340=_toConsumableArray(t.children).filter(function(t){return"stop"===t.localName;});var _iterator240=_createForOfIteratorHelper(_i340),_step240;try{for(_iterator240.s();!(_step240=_iterator240.n()).done;){var _t451=_step240.value;if(_t451.hasAttribute("offset")){var _i341=_t451.offset.baseVal;_i341<_e332&&(_i341=_e332),_i341=K(_i341,0,1,4),_e332=_i341,_t451.setAttribute("offset",_i341);}}}catch(err){_iterator240.e(err);}finally{_iterator240.f();}}},$a=function $a(t){{var _e333=0,_i342=_toConsumableArray(t.children).filter(function(t){return"stop"===t.localName;});var _iterator241=_createForOfIteratorHelper(_i342),_step241;try{for(_iterator241.s();!(_step241=_iterator241.n()).done;){var _t452=_step241.value;if(_t452.hasAttribute("offset")){var _i343=_t452.offset.baseVal;_i343<_e333&&(_i343=_e333),_i343=K(_i343,0,1,4),_e333=_i343,_t452.setAttribute("offset",_i343);}}}catch(err){_iterator241.e(err);}finally{_iterator241.f();}}t.removeAttribute("fx"),t.removeAttribute("fy"),t.removeAttribute("fr");},Ia=function Ia(t){var e=Oi(t);if(!1===t.hasAttribute("id")){var _i344=0;for(;null!==e.querySelector("#pattern-"+_i344);){_i344+=1;}t.setAttribute("id","pattern-"+_i344);}},La=function La(t){var e=Oi(t);if(!1===t.hasAttribute("id")){var _i345=0;for(;null!==e.querySelector("#symbol-"+_i345);){_i345+=1;}t.setAttribute("id","symbol-"+_i345);}},Ba=function Ba(t){var e=Oi(t);if(!1===t.hasAttribute("id")){var _i346=0;for(;null!==e.querySelector("#marker-"+_i346);){_i346+=1;}t.setAttribute("id","marker-"+_i346);}},Ra=function Ra(t){var e=Oi(t),i=null;try{i=e.querySelector(t.href.baseVal);}catch(t){i=null;}if(i&&"symbol"!==i.localName){var _e334=Nt(t);_e334.multiplySelf(Nt(i)),_e334.translateSelf(t.x.baseVal.value,t.y.baseVal.value);var _s200=i.cloneNode(!0);_s200.setAttribute("transform",_e334);var _iterator242=_createForOfIteratorHelper(t.style),_step242;try{for(_iterator242.s();!(_step242=_iterator242.n()).done;){var _e335=_step242.value;var _i347=_s200.style.getPropertyValue(_e335),_n133=t.style.getPropertyValue(_e335);""===_i347&&_s200.style.setProperty(_e335,_n133);}}catch(err){_iterator242.e(err);}finally{_iterator242.f();}var _iterator243=_createForOfIteratorHelper(t.attributes),_step243;try{for(_iterator243.s();!(_step243=_iterator243.n()).done;){var _step243$value=_step243.value,_e336=_step243$value.name,_i348=_step243$value.value;F.includes(_e336)&&!1===_s200.hasAttribute(_e336)&&_s200.setAttribute(_e336,_i348);}}catch(err){_iterator243.e(err);}finally{_iterator243.f();}var _iterator244=_createForOfIteratorHelper(_s200.querySelectorAll("*[id]")),_step244;try{for(_iterator244.s();!(_step244=_iterator244.n()).done;){var _t453=_step244.value;_t453.removeAttribute("id");}}catch(err){_iterator244.e(err);}finally{_iterator244.f();}t.hasAttribute("id")?_s200.setAttribute("id",t.id):_s200.removeAttribute("id"),t.replaceWith(_s200);}else{var _e337=Nt(t);_e337.translateSelf(t.x.baseVal.value,t.y.baseVal.value),t.setAttribute("transform",_e337.toString()),t.removeAttribute("x"),t.removeAttribute("y");}},Ga=function Ga(t){return new DOMParser().parseFromString(t,"text/html").querySelector("svg")||null;},Fa=function Fa(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"text";return new Promise(function(i){t.file(/*#__PURE__*/function(){var _ref65=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee69(t){var s;return regeneratorRuntime.wrap(function _callee69$(_context69){while(1){switch(_context69.prev=_context69.next){case 0:if(!("blob"===e)){_context69.next=4;break;}_context69.t0=t;_context69.next=7;break;case 4:_context69.next=6;return Ua(t,e);case 6:_context69.t0=_context69.sent;case 7:s=_context69.t0;i(s);case 9:case"end":return _context69.stop();}}},_callee69);}));return function(_x71){return _ref65.apply(this,arguments);};}());});},Ua=function Ua(t,e){return new Promise(function(i){var _s204,_n134,o=new FileReader();if(o.addEventListener("error",_n134=function n(t){o.removeEventListener("load",_s204),o.removeEventListener("error",_n134),i(null);}),"text"===e){var _e338=ja(t);"svgz"===_e338?o.readAsArrayBuffer(t):o.readAsText(t),o.addEventListener("load",_s204=function s(t){if(o.removeEventListener("load",_s204),o.removeEventListener("error",_n134),"svgz"===_e338){var _e339=new Uint8Array(t.target.result),_s201=pako.inflate(_e339),_n135="";for(var _t454=0,_e340=_s201.length;_t454<_e340;_t454+=1){_n135+=String.fromCharCode(_s201[_t454]);}i(_n135);}else i(t.target.result);});}else if("arrayBuffer"===e)o.readAsArrayBuffer(t),o.addEventListener("load",_s204=function _s202(t){o.removeEventListener("load",_s204),o.removeEventListener("error",_n134),i(new Uint8Array(t.target.result));});else if("dataURL"===e){var _e341=ja(t);"svgz"===_e341?o.readAsArrayBuffer(t):o.readAsDataURL(t),o.addEventListener("load",_s204=function _s203(t){if(o.removeEventListener("load",_s204),o.removeEventListener("error",_n134),"svgz"===_e341){var _e342=new Uint8Array(t.target.result),s=pako.inflate(_e342),_n136=new Blob([s],{type:"image/svg+xml"}),_o105=Na(_n136);i(_o105);}else i(t.target.result);});}});},Na=function Na(t){return new Promise(function(e){var i=new FileReader();i.readAsDataURL(t),i.onloadend=function(){var t=i.result;e(t);};});},Va=function Va(t){return t.name&&t.name.includes(".")?t.name.substring(t.name.lastIndexOf(".")+1).toLowerCase():"";},ja=function ja(t){return t.name&&t.name.includes(".")?t.name.substring(t.name.lastIndexOf(".")+1).toLowerCase():"";},Ha=function Ha(t){return t.name.substring(0,t.name.lastIndexOf("."));},Ya=function Ya(e){var i="",s=t?1e3:1024;if(e<s)i=e+" bytes";else if(e<s*s){var _n137=t?" KB":" KiB";i=Z(e/s,0)+_n137;}else if(e<s*s*s){var _n138=t?" MB":" MiB";i=Z(e/(s*s),2)+_n138;}else{var _n139=t?" GB":" GiB";i=Z(e/(s*s*s),2)+_n139;}return i;},Wa=function Wa(t){var e,i,s,n,o=t.getContext("2d"),l=o.canvas.width,h=o.canvas.height;if(!l&&!h)return null;var a=o.getImageData(0,0,l,h),r=new Uint32Array(a.data.buffer),d=0,c=l*h-1,p=!1;for(var _t455=0;_t455<h&&!p;_t455+=1){for(var _i349=0;_i349<l;_i349+=1){if(r[d++]&&!e&&(e=_t455+1,n)){p=!0;break;}if(r[c--]&&!n&&(n=h-_t455-1,e)){p=!0;break;}}if(_t455>h-_t455&&!e&&!n)return null;}e-=1,p=!1;for(var _t456=0;_t456<l&&!p;_t456+=1){d=e*l+_t456,c=e*l+(l-_t456-1);for(var _o106=e;_o106<=n;_o106+=1){if(r[d]&&!i&&(i=_t456+1,s)){p=!0;break;}if(r[c]&&!s&&(s=l-_t456-1,i)){p=!0;break;}d+=l,c+=l;}}return i-=1,l===s-i+1&&h===n-e+1?null:(l=s-i+1,h=n-e+1,o.canvas.width=l,o.canvas.height=h,o.putImageData(a,-i,-e),new DOMRect(i,e,l,h));},qa=function qa(t){return new Promise(function(e){var i=new Image();i.onload=function(){e({width:i.naturalWidth,height:i.naturalHeight});},i.src=t;});},Xa=function Xa(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"base64";return new Promise(/*#__PURE__*/function(){var _ref66=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee70(i,s){var n,o,l;return regeneratorRuntime.wrap(function _callee70$(_context70){while(1){switch(_context70.prev=_context70.next){case 0:_context70.next=2;return fetch(t);case 2:n=_context70.sent;_context70.next=5;return n.blob();case 5:o=_context70.sent;l=new FileReader();"base64"===e?l.readAsDataURL(o):"buffer"===e&&l.readAsArrayBuffer(o),l.addEventListener("loadend",function(){i(l.result);},{once:!0}),l.addEventListener("error",function(){s();},{once:!0});case 8:case"end":return _context70.stop();}}},_callee70);}));return function(_x72,_x73){return _ref66.apply(this,arguments);};}());},Za=function Za(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:96;var i=Math.round(e/2.54*100),s=i;var n,o;o=function o(t){t.version="1.1.1";var e=function(){for(var t=0,e=new Array(256),i=0;256!=i;++i){t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=i)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1,e[i]=t;}return"undefined"!=typeof Int32Array?new Int32Array(e):e;}();t.table=e,t.bstr=function(t,i){for(var s=-1^i,n=t.length-1,o=0;o<n;){s=(s=s>>>8^e[255&(s^t.charCodeAt(o++))])>>>8^e[255&(s^t.charCodeAt(o++))];}return o===n&&(s=s>>>8^e[255&(s^t.charCodeAt(o))]),-1^s;},t.buf=function(t,i){if(t.length>1e4)return function(t,i){for(var s=-1^i,n=t.length-7,o=0;o<n;){s=(s=(s=(s=(s=(s=(s=(s=s>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])];}for(;o<n+7;){s=s>>>8^e[255&(s^t[o++])];}return-1^s;}(t,i);for(var s=-1^i,n=t.length-3,o=0;o<n;){s=(s=(s=(s=s>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])];}for(;o<n+3;){s=s>>>8^e[255&(s^t[o++])];}return-1^s;},t.str=function(t,i){for(var s,n,o=-1^i,l=0,h=t.length;l<h;){(s=t.charCodeAt(l++))<128?o=o>>>8^e[255&(o^s)]:s<2048?o=(o=o>>>8^e[255&(o^(192|s>>6&31))])>>>8^e[255&(o^(128|63&s))]:s>=55296&&s<57344?(s=64+(1023&s),n=1023&t.charCodeAt(l++),o=(o=(o=(o=o>>>8^e[255&(o^(240|s>>8&7))])>>>8^e[255&(o^(128|s>>2&63))])>>>8^e[255&(o^(128|n>>6&15|(3&s)<<4))])>>>8^e[255&(o^(128|63&n))]):o=(o=(o=o>>>8^e[255&(o^(224|s>>12&15))])>>>8^e[255&(o^(128|s>>6&63))])>>>8^e[255&(o^(128|63&s))];}return-1^o;};},"undefined"==typeof DO_NOT_EXPORT_CRC?"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?o(exports):"function"==typeof define&&define.amd?define(function(){var t={};return o(t),t;}):o(n={}):o(n={});var l=new Uint8Array(4),h=new Int32Array(l.buffer),a=new Uint32Array(l.buffer);if(137!==t[0]||80!==t[1]||78!==t[2]||71!==t[3]||13!==t[4]||10!==t[5]||26!==t[6]||10!==t[7])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var r=8;r<t.length;){l[3]=t[r++],l[2]=t[r++],l[1]=t[r++],l[0]=t[r++];var d=a[0]+4,c=new Uint8Array(d);c[0]=t[r++],c[1]=t[r++],c[2]=t[r++],c[3]=t[r++];for(var p=String.fromCharCode(c[0])+String.fromCharCode(c[1])+String.fromCharCode(c[2])+String.fromCharCode(c[3]),u=r,x=4;x<d;x++){c[x]=t[r++];}var b=r;l[3]=t[r++],l[2]=t[r++],l[1]=t[r++],l[0]=t[r++];var m=h[0];if(n.buf(c)!==m)throw new Error("CRC values for "+p+" header do not match, PNG file is likely corrupted");if("IDAT"==p){u-=8;var g=t.length,f=new Uint8Array(g+21);for(x=0;x<u;x++){f[x]=t[x];}for(x=u;x<g;x++){f[x+21]=t[x];}var w=new Uint8Array(13);x=0;h[0]=9,f[u++]=l[3],f[u++]=l[2],f[u++]=l[1],f[u++]=l[0],w[x++]=f[u++]="p".charCodeAt(0),w[x++]=f[u++]="H".charCodeAt(0),w[x++]=f[u++]="Y".charCodeAt(0),w[x++]=f[u++]="s".charCodeAt(0),a[0]=i,w[x++]=f[u++]=l[3],w[x++]=f[u++]=l[2],w[x++]=f[u++]=l[1],w[x++]=f[u++]=l[0],a[0]=s,w[x++]=f[u++]=l[3],w[x++]=f[u++]=l[2],w[x++]=f[u++]=l[1],w[x++]=f[u++]=l[0],w[x++]=f[u++]=1;var v=n.buf(w);return h[0]=v,f[u++]=l[3],f[u++]=l[2],f[u++]=l[1],f[u++]=l[0],f;}if("pHYs"==p){x=0;(w=new Uint8Array(13))[x++]="p".charCodeAt(0),w[x++]="H".charCodeAt(0),w[x++]="Y".charCodeAt(0),w[x++]="s".charCodeAt(0),a[0]=i,w[x++]=t[u++]=l[3],w[x++]=t[u++]=l[2],w[x++]=t[u++]=l[1],w[x++]=t[u++]=l[0],a[0]=s,w[x++]=t[u++]=l[3],w[x++]=t[u++]=l[2],w[x++]=t[u++]=l[1],w[x++]=t[u++]=l[0],w[x++]=t[u++]=1;v=n.buf(w);return h[0]=v,t[b++]=l[3],t[b++]=l[2],t[b++]=l[1],t[b++]=l[0],t;}}throw new Error(".png file ended prematurely: no IEND or pHYs header was found");};window.addEventListener("load",function(){paper.setup(document.createElement("canvas"));});var Ka=function Ka(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;return er(t,e,"unite",i);},Qa=function Qa(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;return er(t,e,"subtract",i);},Ja=function Ja(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;return er(t,e,"intersect",i);},tr=function tr(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;return er(t,e,"exclude",i);},er=function er(t,e,i,s){var n=Pt(et(t)),o=Pt(et(e)),l=n[i](o),h=[];if(l){var _t457=l.exportSVG().getAttribute("d");h=it(_t457),h=st(h);var _iterator245=_createForOfIteratorHelper(h),_step245;try{for(_iterator245.s();!(_step245=_iterator245.n()).done;){var _t458=_step245.value;_t458.values=_t458.values.map(function(t){return Z(t,s);});}}catch(err){_iterator245.e(err);}finally{_iterator245.f();}}return h;},ir=Math.atan2,sr=Math.cos,nr=Math.sin,or=Math.PI,lr={pal:[{r:0,g:0,b:0,a:255},{r:0,g:0,b:0,a:0}],colorsampling:0,qtres:0,ltres:10,pathomit:1,strokewidth:0,roundcoords:10};var hr=/*#__PURE__*/function(_HTMLElement47){_inherits(hr,_HTMLElement47);var _super49=_createSuper(hr);_createClass(hr,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function hr(){_classCallCheck(this,hr);return _super49.call(this);}_createClass(hr,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this159=this;this.Pn.workspaces.addEventListener("wheel",this.oo=function(t){_this159.lo(t);}),this.Pn.workspaces.addEventListener("pointerdown",this.yn=function(t){_this159.kn(t);}),this.Pn.style.cursor="url(images/cursors/blank.svg) 0 0, crosshair";}},{key:"sn",value:function sn(){this.Pn.workspaces.removeEventListener("wheel",this.oo),this.Pn.workspaces.removeEventListener("pointerdown",this.yn);}},{key:"lo",value:function lo(t){if(this.Qs.modKeys.shift){t.stopImmediatePropagation();var _e343=K(t.wheelDelta,-2,2,1),_i350=this.Qs.getConfig("bx-blobsettings:size",30);_i350=K(_i350+_e343,1,1e4),this.Qs.setConfig("bx-blobsettings:size",_i350);}else if(this.Qs.modKeys.alt){t.stopImmediatePropagation();var _e344=K(t.wheelDelta,-2,2,1),_i351=this.Qs.getConfig("bx-blobsettings:roundness",100);_i351=K(_i351+_e344,1,100),this.Qs.setConfig("bx-blobsettings:roundness",_i351);}else if(this.Qs.modKeys.meta){t.stopImmediatePropagation();var _e345=K(t.wheelDelta,-2,2,1),_i352=this.Qs.getConfig("bx-blobsettings:angle",0);_i352=Le(_i352+_e345),this.Qs.setConfig("bx-blobsettings:angle",_i352);}}},{key:"kn",value:function kn(t){var _this160=this;if(0!==t.button)return;var e,i,s=this.Pn,_ref67=(s.currentContainer||s.currentWorkspace,s),n=_ref67.geometryPrecision,o=_ref67.transformPrecision,l=jt(s.vectorCanvas).inverse(),h=s.pixelCanvas.getContext("2d"),a=this.Qs.getConfig("bx-blobsettings:mode","draw"),r=this.Qs.getConfig("bx-blobsettings:dynamics",oa),d=this.Qs.getConfig("bx-blobsettings:style",la),c=this.Qs.getConfig("bx-blobsettings:size",30)*s.scale,p=this.Qs.getConfig("bx-blobsettings:roundness",100),u=this.Qs.getConfig("bx-blobsettings:angle",0),x=c,b=c,m=p,g=u,f=new DOMPoint(t.clientX,t.clientY),w=t.clientX,v=t.clientY,y=w,k=v;s.showPixelCanvas(),h.fillStyle="red",this.Qs.modKeys.ctrl&&(a="draw"===a?"erase":"draw"),window.addEventListener("pointermove",e=function e(t){var _iterator246=_createForOfIteratorHelper(t.getCoalescedEvents()),_step246;try{for(_iterator246.s();!(_step246=_iterator246.n()).done;){var _e346=_step246.value;if(r.size){var _t460=Z(c-c*r.size.variance,0),_i354=Z(c+c*r.size.variance,0);"random"===r.size.param?b=ll(_t460,_i354):"pressure"===r.size.param&&(b=_t460+_e346.pressure*(_i354-_t460));}if(r.roundness){var _t461=Z(p-p*r.roundness.variance,0),_i355=Z(p+p*r.roundness.variance,0);"random"===r.roundness.param?m=ll(_t461,_i355):"pressure"===r.roundness.param&&(m=_t461+_e346.pressure*(_i355-_t461));}if(r.angle){var _t462=Z(u-u*r.angle.variance,0),_i356=Z(u+u*r.angle.variance,0);"random"===r.angle.param?g=ll(_t462,_i356):"pressure"===r.angle.param&&(g=_t462+_e346.pressure*(_i356-_t462));}var _t459=new DOMPoint(_e346.clientX,_e346.clientY),_i353=De(f,_t459),_s205=ir(_t459.x-f.x,_t459.y-f.y);for(var _t463=0;_t463<_i353;_t463+=1){var _e347=f.x+nr(_s205)*_t463,_i357=f.y+sr(_s205)*_t463;_e347<w?w=_e347:_e347>y&&(y=_e347),_i357<v?v=_i357:_i357>k&&(k=_i357);var _n140=b/2,_o107=_n140*(m/100);h.beginPath(),h.ellipse(_e347,_i357,_n140,_o107,g*or/180,0,2*or),h.closePath(),h.fill();}f=_t459;}}catch(err){_iterator246.e(err);}finally{_iterator246.f();}}),window.addEventListener("pointerup",i=/*#__PURE__*/function(){var _ref68=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee71(t){var o,r,c,p,u,b,m,g,f,S,_,_iterator247,_step247,_t470,_t464,_e348,_i358,_i359,_o108,_l101,_h74,_t465,_t466,_e349,_i360,_iterator248,_step248,_loop4;return regeneratorRuntime.wrap(function _callee71$(_context72){while(1){switch(_context72.prev=_context72.next){case 0:window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",i);o=new DOMRect(w-x,v-x,y-w+2*x,k-v+2*x),r=Ue(o,l),c=h.getImageData(o.x,o.y,o.width,o.height),p=ImageTracer.imagedataToSVG(c,lr),u=Ma(p),b=r.x,m=r.y,g=r.width/o.width,f=r.height/o.height,S=new DOMMatrix();S.translateSelf(b,m),S.scaleSelf(g,f);_=null;_iterator247=_createForOfIteratorHelper(u.querySelectorAll(":scope > path"));_context72.prev=5;_iterator247.s();case 7:if((_step247=_iterator247.n()).done){_context72.next=14;break;}_t470=_step247.value;if(!("0"!==_t470.getAttribute("opacity"))){_context72.next=12;break;}_=_t470;return _context72.abrupt("break",14);case 12:_context72.next=7;break;case 14:_context72.next=19;break;case 16:_context72.prev=16;_context72.t0=_context72["catch"](5);_iterator247.e(_context72.t0);case 19:_context72.prev=19;_iterator247.f();return _context72.finish(19);case 22:if(!_){_context72.next=47;break;}if(!("draw"===a)){_context72.next=28;break;}_t464=null,_e348=s.selectedElements[s.selectedElements.length-1],_i358=["path","rect","circle","ellipse","line","polyline","polygon"];if(s.undoManager.checkpoint("Blob"),_e348&&_i358.includes(_e348.localName)){"path"===_e348.localName?(_e348.hasAttribute("data-bx-shape")&&_e348.removeAttribute("data-bx-shape"),_t464=_e348):"rect"===_e348.localName?(_t464=da(_e348,s.geometryPrecision),_e348.replaceWith(_t464)):"circle"===_e348.localName?(_t464=ca(_e348,s.geometryPrecision),_e348.replaceWith(_t464)):"ellipse"===_e348.localName?(_t464=pa(_e348,s.geometryPrecision),_e348.replaceWith(_t464)):"line"===_e348.localName?(_t464=ua(_e348,s.geometryPrecision),_e348.replaceWith(_t464)):"polyline"===_e348.localName?(_t464=xa(_e348,s.geometryPrecision),_e348.replaceWith(_t464)):"polygon"===_e348.localName&&(_t464=ba(_e348,s.geometryPrecision),_e348.replaceWith(_t464));_i359=Vt(s.vectorCanvas,_t464),_o108=_t464.getPathData(),_l101=_.getPathData({normalize:!0});_l101=gt(_l101),_l101=ie(_l101,_i359.multiply(S));_h74=Ka(_o108,_l101,n);_t464.setPathData(_h74),s.selectedElements=[_t464];}else{if(s.currentContainer){S=Vt(s.vectorCanvas,s.currentContainer).multiply(S);}_t465=_.getPathData({normalize:!0});_t465=gt(_t465),_t465=ie(_t465,S,n),_.setPathData(_t465),sl(_,d),(s.currentContainer||s.currentWorkspace).append(_),s.selectedElements=[_];}_context72.next=47;break;case 28:if(!("erase"===a)){_context72.next=47;break;}_t466=_toConsumableArray(s.selectedElements),_e349=!1,_i360=function _i360(){!1===_e349&&(_e349=!0,s.undoManager.checkpoint("Blob"));};_iterator248=_createForOfIteratorHelper(_this160.ho());_context72.prev=31;_loop4=/*#__PURE__*/regeneratorRuntime.mark(function _loop4(){var e,_o109,_l102,_h75,_l103,_a63,_t467,_o110,_l104,_h76,_a64,_t468,_i361,_n141,_s206,_l105,_r43,_d28,_c23,_p22,_t469,_i362;return regeneratorRuntime.wrap(function _loop4$(_context71){while(1){switch(_context71.prev=_context71.next){case 0:e=_step248.value;if(!("path"===e.localName||"rect"===e.localName||"circle"===e.localName||"ellipse"===e.localName||"line"===e.localName||"polyline"===e.localName||"polygon"===e.localName)){_context71.next=6;break;}_o109=e.getPathData({normalize:!0});if(_o109.length>0){_l102=Vt(s.vectorCanvas,e),_h75=_.getPathData({normalize:!0});if(_h75=gt(_h75),_h75=ie(_h75,_l102.multiply(S)),Ja(_o109,_h75,n).length>0){_i360();_l103=null;"path"===e.localName?(e.hasAttribute("data-bx-shape")&&e.removeAttribute("data-bx-shape"),_l103=e):"rect"===e.localName?(_l103=da(e,s.geometryPrecision),e.replaceWith(_l103),_t466=_t466.map(function(t){return t===e?_l103:t;})):"circle"===e.localName?(_l103=ca(e,s.geometryPrecision),e.replaceWith(_l103),_t466=_t466.map(function(t){return t===e?_l103:t;})):"ellipse"===e.localName?(_l103=pa(e,s.geometryPrecision),e.replaceWith(_l103),_t466=_t466.map(function(t){return t===e?_l103:t;})):"line"===e.localName?(_l103=ua(e,s.geometryPrecision),e.replaceWith(_l103),_t466=_t466.map(function(t){return t===e?_l103:t;})):"polyline"===e.localName?(_l103=xa(e,s.geometryPrecision),e.replaceWith(_l103),_t466=_t466.map(function(t){return t===e?_l103:t;})):"polygon"===e.localName&&(_l103=ba(e,s.geometryPrecision),e.replaceWith(_l103),_t466=_t466.map(function(t){return t===e?_l103:t;}));_a63=Qa(_o109,_h75,n);0===_a63.length?(_l103.remove(),_t466=_t466.filter(function(t){return t!==_l103;})):_l103.setPathData(_a63);}}_context71.next=28;break;case 6:if(!("image"===e.localName)){_context71.next=28;break;}_t467=document.createElement("canvas"),_o110=_t467.getContext("2d"),_l104=new Image();_l104.setAttribute("src",e.getAttribute("href"));_context71.next=11;return new Promise(function(t){return _l104.onload=t;});case 11:_h76=_l104.naturalWidth/e.width.baseVal.value,_a64=_l104.naturalHeight/e.height.baseVal.value;_t467.width=_l104.naturalWidth,_t467.height=_l104.naturalHeight,_o110.imageSmoothingEnabled=!1,_o110.drawImage(_l104,0,0,_l104.naturalWidth,_l104.naturalHeight);_t468=new DOMMatrix();_t468=_t468.scale(_h76,_a64),_t468=_t468.translate(-e.x.baseVal.value,-e.y.baseVal.value),_t468=_t468.multiply(Vt(s.vectorCanvas,e)),_t468=_t468.multiply(S);_i361=_.getPathData({normalize:!0});_i361=gt(_i361),_i361=ie(_i361,_t468);_n141=new Path2D(et(_i361));_o110.globalCompositeOperation="destination-out",_o110.imageSmoothingEnabled=!1,_o110.fillStyle="black",_o110.fill(_n141);_s206=Wa(_t467);_l105=_o110.getImageData(0,0,_t467.width,_t467.height);_r43=UPNG.encode([_l105.data.buffer],_l105.width,_l105.height,0);_d28=new Uint8Array(_r43);_c23=new Blob([_d28],{type:"image/png"});_context71.next=26;return Na(_c23);case 26:_p22=_context71.sent;if(_p22!==e.getAttribute("href")&&(_i360(),e.setAttribute("href",_p22),e.setAttribute("width",_t467.width/_h76),e.setAttribute("height",_t467.height/_a64),_s206)){_t469=e.x.baseVal.value+_s206.x/_h76,_i362=e.y.baseVal.value+_s206.y/_a64;e.setAttribute("x",Z(_t469,n)),e.setAttribute("y",Z(_i362,n));}case 28:case"end":return _context71.stop();}}},_loop4);});_iterator248.s();case 34:if((_step248=_iterator248.n()).done){_context72.next=38;break;}return _context72.delegateYield(_loop4(),"t1",36);case 36:_context72.next=34;break;case 38:_context72.next=43;break;case 40:_context72.prev=40;_context72.t2=_context72["catch"](31);_iterator248.e(_context72.t2);case 43:_context72.prev=43;_iterator248.f();return _context72.finish(43);case 46:s.selectedElements=_t466;case 47:s.hidePixelCanvas();case 48:case"end":return _context72.stop();}}},_callee71,null,[[5,16,19,22],[31,40,43,46]]);}));return function i(_x74){return _ref68.apply(this,arguments);};}());}},{key:"ho",value:function ho(){var t=["circle","ellipse","line","path","polygon","polyline","rect","image"],e=[],i=function i(s){var _iterator249=_createForOfIteratorHelper(s),_step249;try{for(_iterator249.s();!(_step249=_iterator249.n()).done;){var _n142=_step249.value;t.includes(_n142.localName)?e.push(_n142):"g"!==_n142.localName&&"a"!==_n142.localName||i(_n142.children);}}catch(err){_iterator249.e(err);}finally{_iterator249.f();}};return i(this.Pn.outermostSelectedElements),e;}}]);return hr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(hr,"observedAttributes",["enabled"]);customElements.define("bx-blobcontext",hr);var ar={stroke:"#000000","stroke-width":"1px"};var rr=/*#__PURE__*/function(_HTMLElement48){_inherits(rr,_HTMLElement48);var _super50=_createSuper(rr);function rr(){_classCallCheck(this,rr);return _super50.apply(this,arguments);}_createClass(rr,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ai(this,"bx-editor"),this.Qs=Ai(this,"#app"),this.ao=!1;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this161=this;var t=this.Js.board;t.style.cursor="crosshair",t.workspaces.addEventListener("pointerdown",this.yn=function(t){_this161.kn(t);});}},{key:"sn",value:function sn(){this.Js.board.workspaces.removeEventListener("pointerdown",this.yn);}},{key:"kn",value:function kn(t){var _this162=this;if(!1===this.ao){var _e351,_i364,_s207=new DOMPoint(t.clientX,t.clientY);window.addEventListener("pointermove",_e351=function _e350(n){var o=new DOMPoint(n.clientX,n.clientY);De(_s207,o)>=3&&(window.removeEventListener("pointermove",_e351),window.removeEventListener("click",_i364),_this162.ro(t,n));}),window.addEventListener("click",_i364=function _i363(t){window.removeEventListener("pointermove",_e351),window.removeEventListener("click",_i364),_this162["do"](t);});}}},{key:"do",value:function _do(t){var _this163=this;this.ao=!0;var e,_i365,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=this.Qs.getConfig("bx-linesettings:style",ar);s.selectedElements=[],s.undoManager.checkpoint("Draw line"),s.snapManager.snapStart(!1);var l=zi("svg:line");n.append(l),sl(l,o);var h=jt(l).inverse(),a=new DOMPoint(t.clientX,t.clientY),r=s.snapManager.snapPoint(a),d=r.matrixTransform(h),c=r;l.setAttribute("x1",d.x),l.setAttribute("y1",d.y),l.setAttribute("x2",d.x),l.setAttribute("y2",d.y),s.selectedElements=[l],s.lineSegHud.startPoint=r,s.lineSegHud.endPoint=r,s.lineSegHud.enabled=!0,window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);c=_this163.Qs.modKeys.shift?s.snapManager.snapPointToAngleMultiple(r,e):s.snapManager.snapPoint(e),s.lineSegHud.endPoint=c;}),window.addEventListener("click",_i365=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("click",_i365);var n=c.matrixTransform(h);l.setAttribute("x2",n.x),l.setAttribute("y2",n.y),s.lineSegHud.enabled=!1,s.snapManager.snapEnd(),_this163.ao=!1;});}},{key:"ro",value:function ro(t){var _this164=this;this.ao=!0;var e,_i366,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=this.Qs.getConfig("bx-linesettings:style",ar);s.selectedElements=[],s.undoManager.checkpoint("Draw line"),s.snapManager.snapStart(!1);var l=zi("svg:line");n.append(l),sl(l,o);var h=jt(l).inverse(),a=new DOMPoint(t.clientX,t.clientY),r=s.snapManager.snapPoint(a),d=r.matrixTransform(h),c=r;l.setAttribute("x1",d.x),l.setAttribute("y1",d.y),l.setAttribute("x2",d.x),l.setAttribute("y2",d.y),s.selectedElements=[l],s.lineSegHud.startPoint=r,s.lineSegHud.endPoint=r,s.lineSegHud.enabled=!0,window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);c=_this164.Qs.modKeys.shift?s.snapManager.snapPointToAngleMultiple(r,e):s.snapManager.snapPoint(e),s.lineSegHud.endPoint=c;}),window.addEventListener("pointerup",_i366=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i366);var n=c.matrixTransform(h);l.setAttribute("x2",n.x),l.setAttribute("y2",n.y),s.lineSegHud.enabled=!1,s.snapManager.snapEnd(),_this164.ao=!1;});}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return rr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(rr,"observedAttributes",["enabled"]);customElements.define("bx-linecontext",rr);var dr={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var cr=/*#__PURE__*/function(_HTMLElement49){_inherits(cr,_HTMLElement49);var _super51=_createSuper(cr);_createClass(cr,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function cr(){var _this165;_classCallCheck(this,cr);_this165=_super51.call(this),_this165.co=null;return _this165;}_createClass(cr,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ai(this,"bx-editor"),this.Qs=Ai(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this166=this;var t=this.Js.board;t.style.cursor="crosshair",t.addEventListener("keydown",this.wn=function(t){_this166.vn(t);}),t.workspaces.addEventListener("pointerdown",this.yn=function(t){_this166.kn(t);});}},{key:"sn",value:function sn(){var t=this.Js.board;t.polygonSegHud.hide(),this.co=null,t.removeEventListener("keydown",this.wn),t.workspaces.removeEventListener("pointerdown",this.yn);}},{key:"vn",value:function vn(t){var e=this.Js.board,i=eo.fromEvent(t);this.co&&(i.matches("Enter")||i.matches("Escape"))&&(t.stopPropagation(),e.polygonSegHud.hide(),this.co=null);}},{key:"kn",value:function kn(t){var _this167=this;var e,_i367,s=new DOMPoint(t.clientX,t.clientY),n=0;window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new X(s,e).length;i>n&&(n=i);}),window.addEventListener("pointerup",_i367=function i(s){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i367);var o=n<4;_this167.Cn(t,o);});}},{key:"Cn",value:function Cn(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=this.Js.board;if(null===this.co){if(e){i.undoManager.checkpoint("Add polygon");var _e352=t.clientX,_s208=t.clientY,_n143=i.currentContainer||i.currentWorkspace,_o111=this.Qs.getConfig("bx-polygonsettings:style",dr),_l106=zi("svg:polygon");_n143.append(_l106),sl(_l106,_o111);var _h77=jt(_l106).inverse(),_a65=[new DOMPoint(_e352,_s208).matrixTransform(_h77)];this.po(_l106,_a65),i.selectedElements=[].concat(_toConsumableArray(i.selectedElements),[_l106]),this.co=_l106,i.polygonSegHud.show(_l106);}}else if(this.co)if(this.Qs.pointerClickCount>=2)i.polygonSegHud.hide(),this.co=null;else{var _t471=_toConsumableArray(this.co.points);_t471.length>1&&i.undoManager.checkpoint("Add polygon segment");var _e353=Vt(i.vectorCanvas,this.co),_s209=i.polygonSegHud.endPoint.matrixTransform(_e353);_t471.push(_s209),this.po(this.co,_t471);}}},{key:"po",value:function po(t,e){var i=[],s=this.Js.board.geometryPrecision;var _iterator250=_createForOfIteratorHelper(e),_step250;try{for(_iterator250.s();!(_step250=_iterator250.n()).done;){var _t472=_step250.value;var _e354=Z(_t472.x,s),_n144=Z(_t472.y,s);i.push(_e354,_n144);}}catch(err){_iterator250.e(err);}finally{_iterator250.f();}i.length>0?t.setAttribute("points",i.join(" ")):t.removeAttribute("points");}}]);return cr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(cr,"observedAttributes",["enabled"]);customElements.define("bx-polygoncontext",cr);var pr={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var ur=/*#__PURE__*/function(_HTMLElement50){_inherits(ur,_HTMLElement50);var _super52=_createSuper(ur);_createClass(ur,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function ur(){var _this168;_classCallCheck(this,ur);_this168=_super52.call(this),_this168.uo=null;return _this168;}_createClass(ur,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ai(this,"bx-editor"),this.Qs=Ai(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this169=this;var t=this.Js.board;t.style.cursor="crosshair",t.addEventListener("keydown",this.wn=function(t){_this169.vn(t);}),t.workspaces.addEventListener("pointerdown",this.yn=function(t){_this169.kn(t);});}},{key:"sn",value:function sn(){var t=this.Js.board;t.polylineSegHud.hide(),this.uo=null,t.removeEventListener("keydown",this.wn),t.workspaces.removeEventListener("pointerdown",this.yn);}},{key:"vn",value:function vn(t){var e=this.Js.board,i=eo.fromEvent(t);this.uo&&(i.matches("Enter")||i.matches("Escape"))&&(t.stopPropagation(),e.polylineSegHud.hide(),this.uo=null);}},{key:"kn",value:function kn(t){var _this170=this;var e,_i368,s=new DOMPoint(t.clientX,t.clientY),n=0;window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new X(s,e).length;i>n&&(n=i);}),window.addEventListener("pointerup",_i368=function i(s){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i368);var o=n<4;_this170.Cn(t,o);});}},{key:"Cn",value:function Cn(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=this.Js.board;if(null===this.uo){if(e){i.undoManager.checkpoint("Add polyline");var _e355=t.clientX,_s210=t.clientY,_n145=i.currentContainer||i.currentWorkspace,_o112=this.Qs.getConfig("bx-polylinesettings:style",pr),_l107=zi("svg:polyline");_n145.append(_l107),sl(_l107,_o112);var _h78=jt(_l107).inverse(),_a66=[new DOMPoint(_e355,_s210).matrixTransform(_h78)];this.xo(_l107,_a66),i.selectedElements=[].concat(_toConsumableArray(i.selectedElements),[_l107]),this.uo=_l107,i.polylineSegHud.show(_l107);}}else if(this.uo)if(this.Qs.pointerClickCount>=2)i.polylineSegHud.hide(),this.uo=null;else{var _t473=_toConsumableArray(this.uo.points);_t473.length>1&&i.undoManager.checkpoint("Add polyline segment");var _e356=Vt(i.vectorCanvas,this.uo),_s211=i.polylineSegHud.endPoint.matrixTransform(_e356);_t473.push(_s211),this.xo(this.uo,_t473);}}},{key:"xo",value:function xo(t,e){var i=[],s=this.Js.board.geometryPrecision;var _iterator251=_createForOfIteratorHelper(e),_step251;try{for(_iterator251.s();!(_step251=_iterator251.n()).done;){var _t474=_step251.value;var _e357=Z(_t474.x,s),_n146=Z(_t474.y,s);i.push(_e357,_n146);}}catch(err){_iterator251.e(err);}finally{_iterator251.f();}i.length>0?t.setAttribute("points",i.join(" ")):t.removeAttribute("points");}}]);return ur;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ur,"observedAttributes",["enabled"]);customElements.define("bx-polylinecontext",ur);var xr={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var br=/*#__PURE__*/function(_HTMLElement51){_inherits(br,_HTMLElement51);var _super53=_createSuper(br);_createClass(br,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function br(){var _this171;_classCallCheck(this,br);_this171=_super53.call(this),_this171.gn=null,_this171.fn=!1;return _this171;}_createClass(br,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this172=this;var t=this.Js.board;t.style.cursor="crosshair",t.addEventListener("keydown",this.wn=function(t){_this172.vn(t);}),t.workspaces.addEventListener("pointerdown",this.yn=function(t){_this172.kn(t);}),t.pathHud.addEventListener("nodeclick",this.Sn=function(t){_this172._n(t.detail.position,t.detail.path,t.detail.selected);});}},{key:"sn",value:function sn(){var t=this.Js.board;this.gn=null,this.fn=!1,t.pathHud.passive=!1,t.quadBezierSegHud.hide(),t.removeEventListener("keydown",this.wn),t.workspaces.removeEventListener("pointerdown",this.yn),t.pathHud.removeEventListener("nodeclick",this.Sn);}},{key:"vn",value:function vn(t){var e=eo.fromEvent(t);this.gn&&(e.matches("Enter")||e.matches("Escape"))&&(t.stopPropagation(),this.gn=null,this.fn=!1,this.Js.board.pathHud.passive=!1,this.Js.board.quadBezierSegHud.hide());}},{key:"kn",value:function kn(t){var _this173=this;var e,_i369,s=new DOMPoint(t.clientX,t.clientY),n=0;window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new X(s,e).length;i>n&&(n=i);}),window.addEventListener("pointerup",_i369=function i(s){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i369);var o=n<4;_this173.Cn(t,o);});}},{key:"Cn",value:function Cn(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=this.Js.board;if(i.pathHud.deselectAllSegs(),null===this.gn){if(e){i.undoManager.checkpoint("Draw path segment");var _e358=t.clientX,_s212=t.clientY,_n147=i.currentContainer||i.currentWorkspace,_o113=this.Qs.getConfig("bx-quadbeziersettings:style",xr),_l108=zi("svg:path");_n147.append(_l108),sl(_l108,_o113);var _h79=jt(_l108).inverse(),_DOMPoint$matrixTrans3=new DOMPoint(_e358,_s212).matrixTransform(_h79),_a67=_DOMPoint$matrixTrans3.x,_r44=_DOMPoint$matrixTrans3.y,_d29=[{type:"M",values:[_a67,_r44]}];for(var _i370=0,_d30=_d29;_i370<_d30.length;_i370++){var _t475=_d30[_i370];_t475.values=_t475.values.map(function(t){return Z(t,i.geometryPrecision);});}_l108.setPathData(_d29),i.selectedElements=[].concat(_toConsumableArray(i.selectedElements),[_l108]),this.fn=!1,this.gn=_l108,i.pathHud.passive=!0,i.quadBezierSegHud.show(_l108,"end");}}else if(this.gn)if(!1===this.fn){var _t476=_toConsumableArray(this.gn.getPathData({normalize:!0}));_t476.length>1&&i.undoManager.checkpoint("Draw path segment"),i.quadBezierSegHud.curved?_t476.push({type:"Q",values:[i.quadBezierSegHud.controlPoint.x,i.quadBezierSegHud.controlPoint.y,i.quadBezierSegHud.endPoint.x,i.quadBezierSegHud.endPoint.y]}):_t476.push({type:"L",values:[i.quadBezierSegHud.endPoint.x,i.quadBezierSegHud.endPoint.y]});var _iterator252=_createForOfIteratorHelper(_t476),_step252;try{for(_iterator252.s();!(_step252=_iterator252.n()).done;){var _e359=_step252.value;_e359.values=_e359.values.map(function(t){return Z(t,i.geometryPrecision);});}}catch(err){_iterator252.e(err);}finally{_iterator252.f();}this.gn.setPathData(_t476);}else{i.undoManager.checkpoint("Draw path segment");var _t477=this.gn.getPathData({normalize:!0}),_e360=[];_e360.push({type:"M",values:[i.quadBezierSegHud.startPoint.x,i.quadBezierSegHud.startPoint.y]}),i.quadBezierSegHud.curved?_e360.push({type:"Q",values:[i.quadBezierSegHud.controlPoint.x,i.quadBezierSegHud.controlPoint.y,i.quadBezierSegHud.endPoint.x,i.quadBezierSegHud.endPoint.y]}):_e360.push({type:"L",values:[i.quadBezierSegHud.endPoint.x,i.quadBezierSegHud.endPoint.y]}),_e360.push.apply(_e360,_toConsumableArray(_t477.slice(1)));for(var _i371=0,_e361=_e360;_i371<_e361.length;_i371++){var _t478=_e361[_i371];_t478.values=_t478.values.map(function(t){return Z(t,i.geometryPrecision);});}this.gn.setPathData(_e360);}}},{key:"_n",value:function _n(t,e,i){var s=!1,n=this.Js.board;if(this.gn)if(e===this.gn){if("start"===t||"end"===t){var _e362=this.gn,_i372=_e362.getPathData({normalize:!0}),_o114=_i372[0],_l109=_i372[_i372.length-1];if(!1===this.fn&&"start"===t){n.undoManager.checkpoint("Draw path segment");var _t479=_toConsumableArray(_i372);n.quadBezierSegHud.curved?_t479.push({type:"Q",values:[n.quadBezierSegHud.controlPoint.x,n.quadBezierSegHud.controlPoint.y,_o114.values[0],_o114.values[1]]}):_t479.push({type:"L",values:[_o114.values[0],_o114.values[1]]}),_t479.push({type:"Z",values:[]});var _iterator253=_createForOfIteratorHelper(_t479),_step253;try{for(_iterator253.s();!(_step253=_iterator253.n()).done;){var _e363=_step253.value;_e363.values=_e363.values.map(function(t){return Z(t,n.geometryPrecision);});}}catch(err){_iterator253.e(err);}finally{_iterator253.f();}_e362.setPathData(_t479);}else if(this.fn&&"end"===t){n.undoManager.checkpoint("Draw path segment");var _t480=[];_t480.push({type:"M",values:["C"===_l109.type?_l109.values[4]:_l109.values[0],"C"===_l109.type?_l109.values[5]:_l109.values[1]]}),n.quadBezierSegHud.curved?_t480.push({type:"Q",values:[n.quadBezierSegHud.controlPoint.x,n.quadBezierSegHud.controlPoint.y,_o114.values[0],_o114.values[1]]}):_t480.push({type:"L",values:[_o114.values[0],_o114.values[1]]}),_t480.push.apply(_t480,_toConsumableArray(_i372.slice(1))),_t480.push({type:"Z",values:[]});for(var _i373=0,_t481=_t480;_i373<_t481.length;_i373++){var _e364=_t481[_i373];_e364.values=_e364.values.map(function(t){return Z(t,n.geometryPrecision);});}_e362.setPathData(_t480);}this.gn=null,this.fn=!1,n.pathHud.passive=!1,n.quadBezierSegHud.hide(),s=!0;}}else if("start"===t||"end"===t){var _i374=e,_o115=this.gn,_l110=n.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_i374.id),"\"]")),_h80=n.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_o115.id),"\"]")),_a68=_o115.getPathData({normalize:!0});if(_a68.length>1){var _e365;if(n.undoManager.checkpoint("Draw path segment"),(!1===this.fn&&"end"===t||!0===this.fn&&"start"===t)&&ht(_i374),_h80&&_l110?(_e365=Vt(_l110.closest("text"),_h80.closest("text")),_e365.multiplySelf(Nt(_o115)),_e365.multiplySelf(Nt(_i374))):_h80&&!_l110?(_e365=Vt(_i374,_h80.closest("text")),_e365.multiplySelf(Nt(_o115))):!_h80&&_l110?(_e365=Vt(_l110.closest("text"),_o115),_e365.multiplySelf(Nt(_i374))):_e365=Vt(_i374,_o115),!1===this.fn){var _t482=_toConsumableArray(_a68),_s213=ie(_i374.getPathData({normalize:!0}),_e365),_l111=_s213[0];n.quadBezierSegHud.curved?_t482.push({type:"Q",values:[n.quadBezierSegHud.controlPoint.x,n.quadBezierSegHud.controlPoint.y,_l111.values[0],_l111.values[1]]}):_t482.push({type:"L",values:[_l111.values[0],_l111.values[1]]}),_t482.push.apply(_t482,_toConsumableArray(_s213.slice(1)));var _iterator254=_createForOfIteratorHelper(_t482),_step254;try{for(_iterator254.s();!(_step254=_iterator254.n()).done;){var _e366=_step254.value;_e366.values=_e366.values.map(function(t){return Z(t,n.geometryPrecision);});}}catch(err){_iterator254.e(err);}finally{_iterator254.f();}_o115.setPathData(_t482),_i374.setPathData([]),_i374.remove();}else if(!0===this.fn){var _t483=[],_s214=ie(_i374.getPathData({normalize:!0}),_e365),_l112=_a68[0];_t483.push.apply(_t483,_toConsumableArray(_s214)),n.quadBezierSegHud.curved?_t483.push({type:"Q",values:[n.quadBezierSegHud.controlPoint.x,n.quadBezierSegHud.controlPoint.y,_l112.values[0],_l112.values[1]]}):_t483.push({type:"L",values:[_l112.values[0],_l112.values[1]]}),_t483.push.apply(_t483,_toConsumableArray(_a68.slice(1)));for(var _i375=0,_t484=_t483;_i375<_t484.length;_i375++){var _e367=_t484[_i375];_e367.values=_e367.values.map(function(t){return Z(t,n.geometryPrecision);});}_o115.setPathData(_t483),_i374.setPathData([]),_i374.remove();}n.selectedElements=n.selectedElements.filter(function(t){return t!==_i374;}),s=!0;}this.gn=null,this.fn=!1,n.pathHud.passive=!1,n.quadBezierSegHud.hide();}if(!1===s&&null===this.gn&&!0===i)if("start"===t){var _t485=this.Mn(e);this.gn=e,this.fn=!0,n.pathHud.passive=!0,n.quadBezierSegHud.show(e,"start",_t485);}else if("end"===t){var _t486=this.Mn(e);this.gn=e,this.fn=!1,n.pathHud.passive=!0,n.quadBezierSegHud.show(e,"end",_t486);}}},{key:"Mn",value:function Mn(t){var e=this.Js.board.workspaces.querySelectorAll("textPath");if(t.id){var _iterator255=_createForOfIteratorHelper(e),_step255;try{for(_iterator255.s();!(_step255=_iterator255.n()).done;){var _i376=_step255.value;if(_i376.href.baseVal==="#"+t.id)return _i376;}}catch(err){_iterator255.e(err);}finally{_iterator255.f();}}return null;}}]);return br;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(br,"observedAttributes",["enabled"]);customElements.define("bx-quadbeziercontext",br);var mr={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var gr=/*#__PURE__*/function(_HTMLElement52){_inherits(gr,_HTMLElement52);var _super54=_createSuper(gr);function gr(){_classCallCheck(this,gr);return _super54.apply(this,arguments);}_createClass(gr,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this174=this;var t=this.Js.board;t.style.cursor="crosshair",t.workspaces.addEventListener("pointerdown",this.yn=function(t){_this174.kn(t);}),t.pathHud.addEventListener("nodeclick",this.Sn=function(t){_this174._n(t);});}},{key:"sn",value:function sn(){var t=this.Js.board;t.pathHud.passive=!1,t.arcSegHud.drawEnd(),t.workspaces.removeEventListener("pointerdown",this.yn),t.pathHud.removeEventListener("nodeclick",this.Sn),this.dispatchEvent(new CustomEvent("_disable"));}},{key:"kn",value:function kn(t){var _this175=this;if(this.ao)return;this.ao=!0;var e,i,s,n,o,l=this.Js.board,h=l.currentContainer||l.currentWorkspace,a=this.Qs.getConfig("bx-arcsettings:style",mr),r=new DOMPoint(t.clientX,t.clientY),d=new DOMPoint(r.x-100,r.y),c=null,p=[];l.pathHud.deselectAllSegs(),l.pathHud.passive=!0,l.arcSegHud.draw(h,r,d);var u=function u(){l.undoManager.checkpoint("Draw arc");var t=p[0];if(0===l.arcSegHud.values[0]&&0===l.arcSegHud.values[1])p.push({type:"L",values:[t.values[0],t.values[1]]},{type:"Z",values:[]});else{var _ref69=_toConsumableArray(l.arcSegHud.values),_e368=_ref69[0],_i377=_ref69[1],_s215=_ref69[2],_n148=_ref69[3],_o116=_ref69[4],_t$values12=_slicedToArray(t.values,2),_h81=_t$values12[0],_a69=_t$values12[1];p.push({type:"A",values:[_e368,_i377,_s215,_n148,_o116,_h81,_a69]},{type:"Z",values:[]});}var _iterator256=_createForOfIteratorHelper(p),_step256;try{for(_iterator256.s();!(_step256=_iterator256.n()).done;){var _t487=_step256.value;_t487.values=_t487.values.map(function(t){return Z(t,l.geometryPrecision);});}}catch(err){_iterator256.e(err);}finally{_iterator256.f();}c.setPathData(p);},x=function x(){l.workspaces.removeEventListener("pointerup",e),l.pathHud.removeEventListener("nodepointerdown",i),l.undoManager.removeEventListener("undoorredo",s),l.removeEventListener("keydown",n),_this175.removeEventListener("_disable",o),l.pathHud.passive=!1,l.arcSegHud.drawEnd(),_this175.ao=!1;};l.workspaces.addEventListener("pointerup",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);if(!(De(r,e)<4))if(null===c){l.undoManager.checkpoint("Draw arc"),c=zi("svg:path"),h.append(c),sl(c,a);var _t488=jt(c),_i378=_t488.inverse(),_s216=r.matrixTransform(_i378);p.push({type:"M",values:[_s216.x,_s216.y]}),0===l.arcSegHud.values[0]&&0===l.arcSegHud.values[1]?p.push({type:"L",values:[l.arcSegHud.values[5],l.arcSegHud.values[6]]}):p.push({type:"A",values:_toConsumableArray(l.arcSegHud.values)});var _iterator257=_createForOfIteratorHelper(p),_step257;try{for(_iterator257.s();!(_step257=_iterator257.n()).done;){var _t489=_step257.value;_t489.values=_t489.values.map(function(t){return Z(t,l.geometryPrecision);});}}catch(err){_iterator257.e(err);}finally{_iterator257.f();}c.setPathData(p),l.selectedElements=[].concat(_toConsumableArray(l.selectedElements),[c]);{var _i379=st(p),_s217=_i379[_i379.length-1],_n149=_i379[_i379.length-2],_o117=_this175.bo(_n149,_s217).matrixTransform(_t488);l.arcSegHud.draw(c,e,_o117);}}else{l.undoManager.checkpoint("Draw arc");var _t490=jt(c),_e369=new DOMPoint(l.arcSegHud.values[5],l.arcSegHud.values[6]).matrixTransform(_t490);0===l.arcSegHud.values[0]&&0===l.arcSegHud.values[1]?p.push({type:"L",values:[l.arcSegHud.values[5],l.arcSegHud.values[6]]}):p.push({type:"A",values:_toConsumableArray(l.arcSegHud.values)});var _iterator258=_createForOfIteratorHelper(p),_step258;try{for(_iterator258.s();!(_step258=_iterator258.n()).done;){var _t491=_step258.value;_t491.values=_t491.values.map(function(t){return Z(t,l.geometryPrecision);});}}catch(err){_iterator258.e(err);}finally{_iterator258.f();}c.setPathData(p);{var _i380=st(p),_s218=_i380[_i380.length-1],_n150=_i380[_i380.length-2],_o118=_this175.bo(_n150,_s218).matrixTransform(_t490);l.arcSegHud.draw(c,_e369,_o118);}}}),l.pathHud.addEventListener("nodepointerdown",i=/*#__PURE__*/function(){var _ref70=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee72(t){var e,_t492,_i381,_s219,_e370,_n151,_ref71,_e371,_i382,_s220,_o119,_h82,_t492$0$values,_a70,_r45,_i383,_n152,_t493,_p23,_ref73,_t494,_i384,_s221,_n153,_o120,_e372,_s222,_t495,_a71,_ref72,_t496,_e373,_i385,_s223,_n154,_a71$values,_o121,_h83,_iterator259,_step259,_t497;return regeneratorRuntime.wrap(function _callee72$(_context73){while(1){switch(_context73.prev=_context73.next){case 0:t.preventDefault();e=t.detail;if(!(e.path===c)){_context73.next=6;break;}"start"===e.position?(u(),x()):"end"===e.position&&x();_context73.next=32;break;case 6:if(!(null===c)){_context73.next=20;break;}l.undoManager.checkpoint("Draw arc"),c=e.path,p=c.getPathData({normalize:!0});_t492=lt(p)[e.subpathIndex];_context73.next=11;return Qi(100);case 11:_i381=jt(c).inverse(),_s219=r.matrixTransform(_i381);if("end"===e.position){_e370=at(_t492);_t492.length=0,_t492.push.apply(_t492,_toConsumableArray(_e370));}_n151=[];if(_n151.push({type:"M",values:[_s219.x,_s219.y]}),0===l.arcSegHud.values[0]&&0===l.arcSegHud.values[1])_n151.push({type:"L",values:[_t492[0].values[0],_t492[0].values[1]]});else{_ref71=_toConsumableArray(l.arcSegHud.values),_e371=_ref71[0],_i382=_ref71[1],_s220=_ref71[2],_o119=_ref71[3],_h82=_ref71[4],_t492$0$values=_slicedToArray(_t492[0].values,2),_a70=_t492$0$values[0],_r45=_t492$0$values[1];_n151.push({type:"A",values:[_e371,_i382,_s220,_o119,_h82,_a70,_r45]});}_n151.push.apply(_n151,_toConsumableArray(_t492.slice(1)));for(_i383=0,_n152=_n151;_i383<_n152.length;_i383++){_t493=_n152[_i383];_t493.values=_t493.values.map(function(t){return Z(t,l.geometryPrecision);});}c.setPathData(_n151),x();_context73.next=32;break;case 20:_t494=e.path,_i384=l.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_t494.id),"\"]")),_s221=_t494.getPathData({normalize:!0}),_n153=lt(_s221),_o120=_n153[e.subpathIndex];l.undoManager.checkpoint("Draw arc");_i384?(_e372=Vt(_i384.closest("text"),c||h),_e372.multiplySelf(Nt(_t494))):_e372=Vt(_t494,c||h);_s222=ie(_o120,_e372);_o120.length=0,_o120.push.apply(_o120,_toConsumableArray(_s222));if("end"===e.position){_t495=at(_o120);_o120.length=0,_o120.push.apply(_o120,_toConsumableArray(_t495));}_a71=_o120[0];if(0===l.arcSegHud.values[0]&&0===l.arcSegHud.values[1])p.push({type:"L",values:[_a71.values[0],_a71.values[1]]});else{_ref72=_toConsumableArray(l.arcSegHud.values),_t496=_ref72[0],_e373=_ref72[1],_i385=_ref72[2],_s223=_ref72[3],_n154=_ref72[4],_a71$values=_slicedToArray(_a71.values,2),_o121=_a71$values[0],_h83=_a71$values[1];p.push({type:"A",values:[_t496,_e373,_i385,_s223,_n154,_o121,_h83]});}(_p23=p).push.apply(_p23,_toConsumableArray(_o120.slice(1)));_iterator259=_createForOfIteratorHelper(p);try{for(_iterator259.s();!(_step259=_iterator259.n()).done;){_t497=_step259.value;_t497.values=_t497.values.map(function(t){return Z(t,l.geometryPrecision);});}}catch(err){_iterator259.e(err);}finally{_iterator259.f();}c.setPathData(p),_o120.length=0,_s221=(_ref73=[]).concat.apply(_ref73,_toConsumableArray(_n153)),0===_s221.length?(_t494.remove(),l.selectedElements=l.selectedElements.filter(function(e){return e!==_t494;})):_t494.setPathData(_s221),x();case 32:case"end":return _context73.stop();}}},_callee72);}));return function i(_x75){return _ref70.apply(this,arguments);};}()),l.undoManager.addEventListener("undoorredo",s=function s(){if(null===c||!1===c.isConnected)x();else{p=c.getPathData({normalize:!0});var _t498,_e374=jt(c),_i386=p[p.length-1];_t498="C"===_i386.type?new DOMPoint(_i386.values[4],_i386.values[5]):new DOMPoint(_i386.values[0],_i386.values[1]);var _s224=_t498.matrixTransform(_e374);{var _t499=st(p),_i387=_t499[_t499.length-1],_n155=_t499[_t499.length-2],_o122=_this175.bo(_n155,_i387).matrixTransform(_e374);l.arcSegHud.draw(c,_s224,_o122);}}}),l.addEventListener("keydown",n=function n(t){var e=eo.fromEvent(t);e.matches("Enter","Shift")?(p.length>0&&u(),x()):(e.matches("Enter")||e.matches("Escape"))&&x();}),this.addEventListener("_disable",o=function o(){x();});}},{key:"_n",value:function _n(t){var _this176=this;var e=t.detail;if(this.ao||"mid"===e.position)return;this.ao=!0;var i,s,n,o,l,h=this.Js.board,a=(this.Qs.getConfig("bx-arcsettings:style",mr),e.path),r=a.getPathData({normalize:!0}),d=lt(r),c=d[e.subpathIndex],p=!1,u=!1,x=jt(a);if(h.pathHud.deselectAllSegs(),h.pathHud.passive=!0,"start"===e.position){var _c24;var _t500=at(c);c.length=0,(_c24=c).push.apply(_c24,_toConsumableArray(_t500)),p=!0;}{var _t501=c[c.length-1],_e375=c[c.length-2],_i388=new DOMPoint("C"===_t501.type?_t501.values[4]:_t501.values[0],"C"===_t501.type?_t501.values[5]:_t501.values[1]);Qi(100).then(function(){x=jt(a);var s=_i388.matrixTransform(x),n=_this176.bo(_e375,_t501).matrixTransform(x);h.arcSegHud.draw(a,s,n);});}var b=function b(){h.workspaces.removeEventListener("pointerup",i),h.pathHud.removeEventListener("nodepointerdown",s),h.undoManager.removeEventListener("undoorredo",n),h.removeEventListener("keydown",o),_this176.removeEventListener("_disable",l),h.pathHud.passive=!1,h.arcSegHud.drawEnd(),_this176.ao=!1;};h.workspaces.addEventListener("pointerup",i=function i(t){var _ref74;h.undoManager.checkpoint("Draw arc"),0===h.arcSegHud.values[0]&&0===h.arcSegHud.values[1]?c.push({type:"L",values:[h.arcSegHud.values[5],h.arcSegHud.values[6]]}):c.push({type:"A",values:_toConsumableArray(h.arcSegHud.values)});var _iterator260=_createForOfIteratorHelper(c),_step260;try{for(_iterator260.s();!(_step260=_iterator260.n()).done;){var _t503=_step260.value;_t503.values=_t503.values.map(function(t){return Z(t,h.geometryPrecision);});}}catch(err){_iterator260.e(err);}finally{_iterator260.f();}r=(_ref74=[]).concat.apply(_ref74,_toConsumableArray(d)),a.setPathData(r),u=!0;{var _t502=st(c),_e376=_t502[_t502.length-1],_i389=_t502[_t502.length-2],_s225=new DOMPoint("C"===_e376.type?_e376.values[4]:_e376.values[0],"C"===_e376.type?_e376.values[5]:_e376.values[1]).matrixTransform(x),_n156=_this176.bo(_i389,_e376).matrixTransform(x);h.arcSegHud.draw(a,_s225,_n156);}}),h.pathHud.addEventListener("nodepointerdown",s=function s(t){t.preventDefault();var i=t.detail;if(e.path===i.path){if(e.subpathIndex===i.subpathIndex){if(!1===p&&e.position===i.position||!0===p&&!0===u&&e.position!==i.position||!0===p&&!1===u&&e.position===i.position)b();else{var _ref76;h.undoManager.checkpoint("Draw arc");var _t504=c[0];if(0===h.arcSegHud.values[0]&&0===h.arcSegHud.values[1])c.push({type:"L",values:[_t504.values[0],_t504.values[1]]},{type:"Z",values:[]});else{var _ref75=_toConsumableArray(h.arcSegHud.values),_e377=_ref75[0],_i390=_ref75[1],_s226=_ref75[2],_n157=_ref75[3],_o123=_ref75[4],_t504$values=_slicedToArray(_t504.values,2),_l113=_t504$values[0],_a72=_t504$values[1];c.push({type:"A",values:[_e377,_i390,_s226,_n157,_o123,_l113,_a72]},{type:"Z",values:[]});}var _iterator261=_createForOfIteratorHelper(r),_step261;try{for(_iterator261.s();!(_step261=_iterator261.n()).done;){var _t505=_step261.value;_t505.values=_t505.values.map(function(t){return Z(t,h.geometryPrecision);});}}catch(err){_iterator261.e(err);}finally{_iterator261.f();}r=(_ref76=[]).concat.apply(_ref76,_toConsumableArray(d)),a.setPathData(r),b();}}else{var _c25,_ref78;h.undoManager.checkpoint("Draw arc");var _t506=d[i.subpathIndex];if("end"===i.position){var _e378=at(_t506);_t506.length=0,_t506.push.apply(_t506,_toConsumableArray(_e378));}{var _e379=_t506[0];if(0===h.arcSegHud.values[0]&&0===h.arcSegHud.values[1])c.push({type:"L",values:[_e379.values[0],_e379.values[1]]});else{var _ref77=_toConsumableArray(h.arcSegHud.values),_t507=_ref77[0],_i391=_ref77[1],_s227=_ref77[2],_n158=_ref77[3],_o124=_ref77[4],_e379$values=_slicedToArray(_e379.values,2),_l114=_e379$values[0],_a73=_e379$values[1];c.push({type:"A",values:[_t507,_i391,_s227,_n158,_o124,_l114,_a73]});}var _iterator262=_createForOfIteratorHelper(c),_step262;try{for(_iterator262.s();!(_step262=_iterator262.n()).done;){var _t508=_step262.value;_t508.values=_t508.values.map(function(t){return Z(t,h.geometryPrecision);});}}catch(err){_iterator262.e(err);}finally{_iterator262.f();}}(_c25=c).push.apply(_c25,_toConsumableArray(_t506.slice(1))),_t506.length=0,r=(_ref78=[]).concat.apply(_ref78,_toConsumableArray(d)),a.setPathData(r),b();}}else{var _c26,_ref80,_ref81;var _t509=i.path,_e380=h.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_t509.id),"\"]")),_s228=_t509.getPathData({normalize:!0}),_n159=lt(_s228),_o125=_n159[i.subpathIndex];h.undoManager.checkpoint("Draw arc");{var _i392;_e380?(_i392=Vt(_e380.closest("text"),a),_i392.multiplySelf(Nt(_t509))):_i392=Vt(_t509,a);var _s229=ie(_o125,_i392);_o125.length=0,_o125.push.apply(_o125,_toConsumableArray(_s229));}if("end"===i.position){var _t510=at(_o125);_o125.length=0,_o125.push.apply(_o125,_toConsumableArray(_t510));}var _l115=_o125[0];if(0===h.arcSegHud.values[0]&&0===h.arcSegHud.values[1])c.push({type:"L",values:[_l115.values[0],_l115.values[1]]});else{var _ref79=_toConsumableArray(h.arcSegHud.values),_t511=_ref79[0],_e381=_ref79[1],_i393=_ref79[2],_s230=_ref79[3],_n160=_ref79[4],_l115$values=_slicedToArray(_l115.values,2),_o126=_l115$values[0],_a74=_l115$values[1];c.push({type:"A",values:[_t511,_e381,_i393,_s230,_n160,_o126,_a74]});}(_c26=c).push.apply(_c26,_toConsumableArray(_o125.slice(1)));var _iterator263=_createForOfIteratorHelper(c),_step263;try{for(_iterator263.s();!(_step263=_iterator263.n()).done;){var _t512=_step263.value;_t512.values=_t512.values.map(function(t){return Z(t,h.geometryPrecision);});}}catch(err){_iterator263.e(err);}finally{_iterator263.f();}r=(_ref80=[]).concat.apply(_ref80,_toConsumableArray(d)),a.setPathData(r),_o125.length=0,_s228=(_ref81=[]).concat.apply(_ref81,_toConsumableArray(_n159)),0===_s228.length?(_t509.remove(),h.selectedElements=h.selectedElements.filter(function(e){return e!==_t509;})):_t509.setPathData(_s228),b();}}),h.undoManager.addEventListener("undoorredo",n=function n(){if(!1===a.isConnected)b();else if(r=a.getPathData({normalize:!0}),d=lt(r),c=d[e.subpathIndex],c){x=jt(a);{var _t513=c[c.length-1],_e382=c[c.length-2],_i394=new DOMPoint("C"===_t513.type?_t513.values[4]:_t513.values[0],"C"===_t513.type?_t513.values[5]:_t513.values[1]).matrixTransform(x),_s231=_this176.bo(_e382,_t513).matrixTransform(x);h.arcSegHud.draw(a,_i394,_s231);}}else b();}),h.addEventListener("keydown",o=function o(t){var e=eo.fromEvent(t);e.matches("Enter","Shift")?(r.length>0&&function(){var _ref83;h.undoManager.checkpoint("Draw arc");var t=c[0];if(0===h.arcSegHud.values[0]&&0===h.arcSegHud.values[1])c.push({type:"L",values:[t.values[0],t.values[1]]},{type:"Z",values:[]});else{var _ref82=_toConsumableArray(h.arcSegHud.values),_e383=_ref82[0],_i395=_ref82[1],_s232=_ref82[2],_n161=_ref82[3],_o127=_ref82[4],_t$values13=_slicedToArray(t.values,2),_l116=_t$values13[0],_a75=_t$values13[1];c.push({type:"A",values:[_e383,_i395,_s232,_n161,_o127,_l116,_a75]},{type:"Z",values:[]});}var _iterator264=_createForOfIteratorHelper(c),_step264;try{for(_iterator264.s();!(_step264=_iterator264.n()).done;){var _t514=_step264.value;_t514.values=_t514.values.map(function(t){return Z(t,h.geometryPrecision);});}}catch(err){_iterator264.e(err);}finally{_iterator264.f();}r=(_ref83=[]).concat.apply(_ref83,_toConsumableArray(d)),a.setPathData(r),u=!0;}(),b()):(e.matches("Enter")||e.matches("Escape"))&&b();}),this.addEventListener("_disable",l=function l(){b();});}},{key:"bo",value:function bo(t,e){var i;if("C"===e.type){var _s233=new DOMPoint("C"===t.type?t.values[4]:t.values[0],"C"===t.type?t.values[5]:t.values[1]),_n162=new DOMPoint(e.values[0],e.values[1]),_o128=new DOMPoint(e.values[2],e.values[3]),_l117=.9999999,_h84=1-_l117;i=new DOMPoint(_h84*_h84*_s233.x+_h84*_l117*2*_n162.x+_l117*_l117*_o128.x,_h84*_h84*_s233.y+_h84*_l117*2*_n162.y+_l117*_l117*_o128.y);}else if("C"===t.type){var _t$values14=_slicedToArray(t.values,6),_e384=_t$values14[0],_s234=_t$values14[1],_n163=_t$values14[2],_o129=_t$values14[3],_l118=_t$values14[4],_h85=_t$values14[5];i=new DOMPoint(_l118,_h85);}else if("L"===e.type||"M"===e.type){var _t$values15=_slicedToArray(t.values,2),_e385=_t$values15[0],_s235=_t$values15[1];i=new DOMPoint(_e385,_s235);}return i;}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return gr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(gr,"observedAttributes",["enabled"]);customElements.define("bx-arccontext",gr);var fr=Math.abs,wr=Math.min;var vr=/*#__PURE__*/function(_HTMLElement53){_inherits(vr,_HTMLElement53);var _super55=_createSuper(vr);_createClass(vr,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"shape",get:function get(){return this.hasAttribute("shape")?this.getAttribute("shape"):"rect";},set:function set(t){this.setAttribute("shape",t);}}]);function vr(){_classCallCheck(this,vr);return _super55.call(this);}_createClass(vr,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this.mo=!1;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.sn():"shape"===t&&this.fo());}},{key:"tn",value:function tn(){var _this177=this;var t=this.Js.board;t.style.cursor="crosshair",this.dispatchEvent(new CustomEvent("_enabledchange")),t.addEventListener("pointerdown",this.On=function(t){_this177.wo(t);});}},{key:"sn",value:function sn(){var t=this.Js.board;this.dispatchEvent(new CustomEvent("_enabledchange")),t.removeEventListener("pointerdown",this.On);}},{key:"fo",value:function fo(){this.dispatchEvent(new CustomEvent("_shapechange"));}},{key:"wo",value:function wo(t){var _this178=this;if(1!==t.buttons||!0===this.mo)return;var _e386,_i396,s=this.Js.board,n=new DOMPoint(t.clientX,t.clientY);s.setPointerCapture(t.pointerId),s.addEventListener("pointermove",_e386=function e(o){var l=new DOMPoint(o.clientX,o.clientY);De(n,l)<3||(s.removeEventListener("pointermove",_e386),s.removeEventListener("lostpointercapture",_i396),"rect"===_this178.shape?_this178.vo(t):"circle"===_this178.shape?_this178.yo(t):"ellipse"===_this178.shape?_this178.ko(t):"ring"===_this178.shape?_this178.So(t):"pie"===_this178.shape?_this178._o(t):"crescent"===_this178.shape?_this178.Co(t):"triangle"===_this178.shape?_this178.Mo(t):"n-gon"===_this178.shape?_this178.Po(t):"star"===_this178.shape?_this178.Do(t):"cog"===_this178.shape?_this178.zo(t):"arrow"===_this178.shape?_this178.Oo(t):"cross"===_this178.shape?_this178.Eo(t):"spiral"===_this178.shape&&_this178.To(t));}),s.addEventListener("lostpointercapture",_i396=function i(){s.removeEventListener("pointermove",_e386),s.removeEventListener("lostpointercapture",_i396);});}},{key:"vo",value:function vo(t){var _this179=this;var e=this.Qs,i=this.Js.board,s=i.currentContainer||i.currentWorkspace,n=i.geometryPrecision,o=i.transformPrecision,l=e.getConfig("bx-rectsettings:drawingMode","planar"),h=e.getConfig("bx-rectsettings:style",O),a=e.getConfig("bx-rectsettings:r",0);i.undoManager.checkpoint("Add rectangle"),i.snapManager.snapStart(!1),i.setPointerCapture(t.pointerId);var r=new DOMPoint(t.clientX,t.clientY);if(r=i.snapManager.snapPoint(r),"polar"===l||"planar"===l){var _t515,_d31=1,_c27=1,_p24="planar"===l?r.x:r.x-_d31/2,_u21="planar"===l?r.y:r.y-_c27/2,_x76=zi("svg:rect");_x76.setAttribute("x",_p24),_x76.setAttribute("y",_u21),_x76.setAttribute("width",_d31),_x76.setAttribute("height",_c27),_x76.setAttribute("rx",a),_x76.setAttribute("ry",a),s.append(_x76),sl(_x76,h),i.selectedElements=[_x76];var _b19=jt(_x76).inverse(),_m19=Nt(_x76).multiply(_b19);_x76.setAttribute("transform",_m19.toString()),e.modKeys.ctrl&&("polar"===l?l="planar":"planar"===l&&(l="polar")),i.addEventListener("pointermove",_t515=function _t515(t){var s=new DOMPoint(t.clientX,t.clientY);if("planar"===l){s=i.snapManager.snapPoint(s);var _t516=s.x-r.x||1,_n164=s.y-r.y||1;if(_d31=fr(_t516),_c27=fr(_n164),e.modKeys.shift){var _t517=wr(_d31,_c27);_d31=_t517,_c27=_t517;}_p24=_t516<0?r.x-_d31:r.x,_u21=_n164<0?r.y-_c27:r.y;}else if("polar"===l){var _t518=new DOMPoint(r.x,r.y),_i397=new DOMPoint(s.x,s.y),_n165=De(_t518,_i397),_o130=new DOMPoint(_t518.x,_t518.y-_n165),_l119=_o130.matrixTransform(new DOMMatrix().translate(_t518.x,_t518.y).rotate(-45).translate(-_t518.x,-_t518.y)),_h86=_o130.matrixTransform(new DOMMatrix().translate(_t518.x,_t518.y).rotate(45).translate(-_t518.x,-_t518.y)),_a76=_o130.matrixTransform(new DOMMatrix().translate(_t518.x,_t518.y).rotate(135).translate(-_t518.x,-_t518.y)),_b20=De(_l119,_h86);_p24=r.x-_b20/2,_u21=r.y-_b20/2,_d31=_b20,_c27=_b20;var _g20=Ie(_t518,_a76,_i397);e.modKeys.shift&&(_g20=Be(_g20,45));var _f15=new DOMMatrix();_f15.translateSelf(_t518.x,_t518.y),_f15.rotateSelf(_g20),_f15.translateSelf(-_t518.x,-_t518.y),_x76.setAttribute("transform",_m19.multiply(_f15).toString());}_x76.setAttribute("x",_p24),_x76.setAttribute("y",_u21),_x76.setAttribute("width",_d31),_x76.setAttribute("height",_c27);});var _g19=function _g19(){i.removeEventListener("pointermove",_t515),i.removeEventListener("lostpointercapture",_g19),_this179.removeEventListener("_enabledchange",_g19),_this179.removeEventListener("_shapechange",_g19),i.snapManager.snapEnd(),mh(_x76,{geometryPrecision:n,transformPrecision:o});};i.addEventListener("lostpointercapture",_g19),this.addEventListener("_enabledchange",_g19),this.addEventListener("_shapechange",_g19);}else if("3-point"===l){var _t519=zi("svg:rect");_t519.setAttribute("rx",a),_t519.setAttribute("ry",a),s.append(_t519),sl(_t519,h),i.selectedElements=[_t519];var _l120,_d32,_c28=Vt(i.currentWorkspace,_t519),_p25=jt(i.currentWorkspace).inverse(),_u22=Nt(_t519).multiply(_c28),_x77=r.matrixTransform(_p25),_b21=_x77,_m20=1;i.snapManager.snapStart(!0),this.mo=!0,_t519.setAttribute("height",10),_t519.setAttribute("transform",_u22.toString()),i.addEventListener("pointermove",_l120=function _l120(s){if(_p25=jt(i.currentWorkspace).inverse(),1===_m20){_b21=new DOMPoint(s.clientX,s.clientY),_b21=e.modKeys.shift?i.snapManager.snapPointToAngleMultiple(r,_b21):i.snapManager.snapPoint(_b21),_b21=_b21.matrixTransform(_p25);var _n166=De(_x77,_b21),_o131=(ze(_x77,_b21),new DOMPoint(_x77.x+100,_x77.y)),_l121=Ie(_x77,_o131,_b21),_h87=new DOMMatrix();_h87.translateSelf(_x77.x,_x77.y),_h87.rotateSelf(_l121),_h87.translateSelf(-_x77.x,-_x77.y),_t519.setAttribute("x",_x77.x),_t519.setAttribute("y",_x77.y),_t519.setAttribute("width",_n166),_t519.setAttribute("height",1/i.scale),_t519.setAttribute("transform",_u22.multiply(_h87).toString());}else if(2===_m20){var _e387=new DOMPoint(s.clientX,s.clientY);_e387=i.snapManager.snapPoint(_e387),_e387=_e387.matrixTransform(_p25);var _Oe=Oe(_x77,_b21,_e387),_Oe2=_slicedToArray(_Oe,2),_n167=_Oe2[0],_o132=_Oe2[1],_l122=De(_n167,_e387);Ie(_x77,_b21,_e387)>=0?_t519.setAttribute("y",_x77.y):_t519.setAttribute("y",_x77.y-_l122),_t519.setAttribute("height",_l122);}});var _g21=function _g21(){i.removeEventListener("pointermove",_l120),i.removeEventListener("pointerup",_d32),_this179.removeEventListener("_enabledchange",_g21),_this179.removeEventListener("_shapechange",_g21),i.snapManager.snapEnd(),mh(_t519,{geometryPrecision:n,transformPrecision:o}),_this179.mo=!1;};i.addEventListener("pointerup",_d32=function _d32(t){1===_m20?_m20=2:2===_m20&&_g21();}),this.addEventListener("_enabledchange",_g21),this.addEventListener("_shapechange",_g21);}}},{key:"yo",value:function yo(t){var _this180=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=s.geometryPrecision,l=s.transformPrecision,h=i.getConfig("bx-circlesettings:style",O),a=0,r=0,d=0;s.undoManager.checkpoint("Add circle"),s.snapManager.snapStart(!1),s.setPointerCapture(t.pointerId);var c=new DOMPoint(t.clientX,t.clientY);c=s.snapManager.snapPoint(c);var p=zi("svg:circle");n.append(p),sl(p,h),s.selectedElements=[p];var u=jt(p).inverse(),x=Nt(p).multiply(u);p.setAttribute("transform",x.toString()),s.addEventListener("pointermove",e=function e(_e388){var i=new DOMPoint(_e388.clientX,_e388.clientY),s=new DOMPoint(t.clientX,t.clientY),n=new DOMPoint(i.x,i.y),o=new X(s,n);a=s.x,r=s.y,d=o.length,p.setAttribute("cx",a),p.setAttribute("cy",r),p.setAttribute("r",d);});var b=function b(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",b),_this180.removeEventListener("_enabledchange",b),_this180.removeEventListener("_shapechange",b),s.snapManager.snapEnd(),mh(p,{geometryPrecision:o,transformPrecision:l});};s.addEventListener("lostpointercapture",b),this.addEventListener("_enabledchange",b),this.addEventListener("_shapechange",b);}},{key:"ko",value:function ko(t){var _this181=this;var e=this.Qs,i=this.Js.board,s=i.currentContainer||i.currentWorkspace,n=i.geometryPrecision,o=i.transformPrecision,l=e.getConfig("bx-ellipsesettings:drawingMode","planar"),h=e.getConfig("bx-ellipsesettings:style",O);i.undoManager.checkpoint("Add ellipse"),i.snapManager.snapStart(!1),i.setPointerCapture(t.pointerId);var a=new DOMPoint(t.clientX,t.clientY);a=i.snapManager.snapPoint(a);var r=zi("svg:ellipse");if(s.append(r),sl(r,h),i.selectedElements=[r],"polar"===l||"planar"===l){var _s236,_h88=jt(r).inverse(),_d33=Nt(r).multiply(_h88);e.modKeys.ctrl&&("polar"===l?l="planar":"planar"===l&&(l="polar")),r.setAttribute("transform",_d33.toString()),i.addEventListener("pointermove",_s236=function _s236(s){var n=new DOMPoint(s.clientX,s.clientY);if("planar"===l){n=i.snapManager.snapPoint(n);var _t520=n.x-a.x||1,_s237=n.y-a.y||1,_o133=fr(_t520),_l123=fr(_s237);if(e.modKeys.shift){var _t521=wr(_o133,_l123);_o133=_t521,_l123=_t521;}var _h89=_t520<0?a.x-_o133:a.x,_d34=_s237<0?a.y-_l123:a.y;r.setAttribute("cx",_h89+_o133/2),r.setAttribute("cy",_d34+_l123/2),r.setAttribute("rx",_o133/2),r.setAttribute("ry",_l123/2);}else if("polar"===l){var _e389=new DOMPoint(t.clientX,t.clientY),_i398=new DOMPoint(n.x,n.y),_s238=new X(_e389,_i398);r.setAttribute("cx",_e389.x),r.setAttribute("cy",_e389.y),r.setAttribute("rx",_s238.length),r.setAttribute("ry",_s238.length);}});var _c29=function _c29(){i.removeEventListener("pointermove",_s236),i.removeEventListener("lostpointercapture",_c29),_this181.removeEventListener("_enabledchange",_c29),_this181.removeEventListener("_shapechange",_c29),i.snapManager.snapEnd(),mh(r,{geometryPrecision:n,transformPrecision:o});};i.addEventListener("lostpointercapture",_c29),this.addEventListener("_enabledchange",_c29),this.addEventListener("_shapechange",_c29);}else if("3-point"===l){var _t522,_s239,_l124=Vt(i.currentWorkspace,r),_h90=jt(i.currentWorkspace).inverse(),_d35=Nt(r).multiply(_l124),_c30=a.matrixTransform(_h90),_p26=_c30,_u23=1;i.snapManager.snapStart(!0),this.mo=!0,r.setAttribute("transform",_d35.toString()),i.addEventListener("pointermove",_t522=function _t522(t){if(_h90=jt(i.currentWorkspace).inverse(),1===_u23){_p26=new DOMPoint(t.clientX,t.clientY),_p26=e.modKeys.shift?i.snapManager.snapPointToAngleMultiple(a,_p26):i.snapManager.snapPoint(_p26),_p26=_p26.matrixTransform(_h90);var _s240=De(_c30,_p26),_n168=ze(_c30,_p26),_o134=new DOMPoint(_c30.x+100,_c30.y),_l125=Ie(_c30,_o134,_p26),_u24=_n168.x,_x79=_n168.y,_b22=_s240/2,_m21=new DOMMatrix();_m21.translateSelf(_n168.x,_n168.y),_m21.rotateSelf(_l125),_m21.translateSelf(-_n168.x,-_n168.y),r.setAttribute("cx",_u24),r.setAttribute("cy",_x79),r.setAttribute("rx",_b22),r.setAttribute("transform",_d35.multiply(_m21).toString()),r.setAttribute("ry",1/i.scale);}else if(2===_u23){var _e390=new DOMPoint(t.clientX,t.clientY);_e390=i.snapManager.snapPoint(_e390),_e390=_e390.matrixTransform(_h90);var _Oe3=Oe(_c30,_p26,_e390),_Oe4=_slicedToArray(_Oe3,2),_s241=_Oe4[0],_n169=_Oe4[1],_o135=De(_s241,_e390);r.setAttribute("ry",_o135);}});var _x78=function _x78(){i.removeEventListener("pointermove",_t522),i.removeEventListener("pointerup",_s239),_this181.removeEventListener("_enabledchange",_x78),_this181.removeEventListener("_shapechange",_x78),i.snapManager.snapEnd(),mh(r,{geometryPrecision:n,transformPrecision:o}),_this181.mo=!1;};i.addEventListener("pointerup",_s239=function _s239(t){1===_u23?_u23=2:2===_u23&&_x78();}),this.addEventListener("_enabledchange",_x78),this.addEventListener("_shapechange",_x78);}}},{key:"So",value:function So(t){var _this182=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=i.getConfig("bx-ringsettings:drawingMode","polar"),l=i.getConfig("bx-ringsettings:r1",.6),h=i.getConfig("bx-ringsettings:style",O),a=s.geometryPrecision,r=s.transformPrecision;s.undoManager.checkpoint("Add ring"),s.setPointerCapture(t.pointerId);var d=0,c=0,p=1,u=1,x=l*p,b=l*u,m=zi("svg:path");xl(m,{type:"ring",values:[d,c,x,b,p,u]},a),n.append(m),sl(m,h),s.selectedElements=[m];var g=jt(m).inverse(),f=Nt(m).multiplySelf(g);m.setAttribute("transform",f.toString()),i.modKeys.ctrl&&("polar"===o?o="planar":"planar"===o&&(o="polar")),s.addEventListener("pointermove",e=function e(_e391){if("planar"===o){var _s242=_e391.clientX-t.clientX||1,_n170=_e391.clientY-t.clientY||1,_o136=fr(_s242),_h91=fr(_n170);if(i.modKeys.shift){var _t523=wr(_o136,_h91);_o136=_t523,_h91=_t523;}var _a77=_s242<0?t.clientX-_o136:t.clientX,_r46=_n170<0?t.clientY-_h91:t.clientY;d=_a77+_o136/2,c=_r46+_h91/2,p=_o136/2,u=_h91/2,x=l*p,b=l*u;}else if("polar"===o){var _s243=new DOMPoint(t.clientX,t.clientY),_n171=new DOMPoint(_s243.x,_s243.y-100),_o137=new DOMPoint(_e391.clientX,_e391.clientY),_h92=new X(_s243,_o137),_a78=Ie(_s243,_n171,_o137);d=_s243.x,c=_s243.y,p=_h92.length,u=_h92.length,x=l*p,b=l*u,i.modKeys.shift&&(_a78=Be(_a78,45));var _r47=new DOMMatrix();_r47.translateSelf(_s243.x,_s243.y),_r47.rotateSelf(_a78),_r47.translateSelf(-_s243.x,-_s243.y),m.setAttribute("transform",f.multiply(_r47).toString());}xl(m,{type:"ring",values:[d,c,x,b,p,u]},a);});var w=function w(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",w),_this182.removeEventListener("_enabledchange",w),_this182.removeEventListener("_shapechange",w),mh(m,{geometryPrecision:a,transformPrecision:r});};s.addEventListener("lostpointercapture",w),this.addEventListener("_enabledchange",w),this.addEventListener("_shapechange",w);}},{key:"_o",value:function _o(t){var _this183=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=i.getConfig("bx-piesettings:drawingMode","polar"),l=i.getConfig("bx-piesettings:style",O),h=s.geometryPrecision,a=s.transformPrecision,r=i.getConfig("bx-piesettings:r1",0);s.undoManager.checkpoint("Add pie"),s.setPointerCapture(t.pointerId);var d=0,c=0,p=200,u=r*p,x=90,b=zi("svg:path");n.append(b),sl(b,l),s.selectedElements=[b];var m=jt(b).inverse(),g=Nt(b).multiplySelf(m);b.setAttribute("transform",g.toString()),i.modKeys.ctrl&&("polar"===o?o="planar":"planar"===o&&(o="polar")),s.addEventListener("pointermove",e=function e(_e393){if("planar"===o){var _s244=_e393.clientX-t.clientX||1,_n172=_e393.clientY-t.clientY||1,_o138=fr(_s244),_l126=fr(_n172);if(i.modKeys.shift){var _t524=wr(_o138,_l126);_o138=_t524,_l126=_t524;}var _h93=_s244<0?t.clientX-_o138:t.clientX,_a79=_n172<0?t.clientY-_l126:t.clientY;if(p=_o138/2,u=r*p,d=_h93+_o138/2,c=_a79+_l126/2,_o138===_l126)b.setAttribute("transform",g.toString());else{var _t525=1,_e392=_l126/_o138,_i399=-d*(_t525-1),_s245=-c*(_e392-1),_n173=DOMMatrix.fromMatrix(g);_n173.translateSelf(_i399,_s245),_n173.scaleSelf(_t525,_e392),b.setAttribute("transform",_n173.toString());}}else if("polar"===o){var _i400=new DOMPoint(t.clientX,t.clientY),_s246=new DOMPoint(_i400.x,_i400.y-100),_n174=new DOMPoint(_e393.clientX,_e393.clientY),_o139=new X(_i400,_n174);d=_i400.x,c=_i400.y,p=_o139.length,u=r*p,x=Ie(_i400,_s246,_n174),x<=0&&(x=360+x);}xl(b,{type:"pie",values:[d,c,u,p,x,360]},h);});var f=function f(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",f),_this183.removeEventListener("_enabledchange",f),_this183.removeEventListener("_shapechange",f),mh(b,{geometryPrecision:h,transformPrecision:a});};s.addEventListener("lostpointercapture",f),this.addEventListener("_enabledchange",f),this.addEventListener("_shapechange",f);}},{key:"Co",value:function Co(t){var _this184=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=i.getConfig("bx-crescentsettings:drawingMode","polar"),l=i.getConfig("bx-crescentsettings:style",O),h=i.getConfig("bx-crescentsettings:arch",300),a=i.getConfig("bx-crescentsettings:hollow",.7),r=s.geometryPrecision,d=s.transformPrecision,c=0,p=0,u=200;s.undoManager.checkpoint("Add crescent"),s.setPointerCapture(t.pointerId);var x=zi("svg:path");n.append(x),sl(x,l),s.selectedElements=[x];var b=jt(x).inverse(),m=Nt(x).multiplySelf(b);x.setAttribute("transform",m.toString()),i.modKeys.ctrl&&("polar"===o?o="planar":"planar"===o&&(o="polar")),s.addEventListener("pointermove",e=function e(_e395){if("planar"===o){var _s247=_e395.clientX-t.clientX||1,_n175=_e395.clientY-t.clientY||1,_o140=fr(_s247),_l127=fr(_n175);if(i.modKeys.shift){var _t526=wr(_o140,_l127);_o140=_t526,_l127=_t526;}var _h94=_s247<0?t.clientX-_o140:t.clientX,_a80=_n175<0?t.clientY-_l127:t.clientY;if(u=_o140/2,c=_h94+_o140/2,p=_a80+_l127/2,_o140===_l127)x.setAttribute("transform",m.toString());else{var _t527=1,_e394=_l127/_o140,_i401=-c*(_t527-1),_s248=-p*(_e394-1),_n176=new DOMMatrix();_n176.translateSelf(_i401,_s248),_n176.scaleSelf(_t527,_e394),x.setAttribute("transform",m.multiply(_n176).toString());}}else if("polar"===o){var _s249=new DOMPoint(t.clientX,t.clientY),_n177=new DOMPoint(_s249.x,_s249.y-100),_o141=new DOMPoint(_e395.clientX,_e395.clientY),_l128=new X(_s249,_o141);c=_s249.x,p=_s249.y,u=_l128.length;var _h95=Ie(_s249,_n177,_o141);_h95-=180,i.modKeys.shift&&(_h95=Be(_h95,45));var _a81=new DOMMatrix();_a81.translateSelf(_s249.x,_s249.y),_a81.rotateSelf(_h95),_a81.translateSelf(-_s249.x,-_s249.y),x.setAttribute("transform",m.multiply(_a81).toString());}xl(x,{type:"crescent",values:[c,p,u,h,a]},r);});var g=function g(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",g),_this184.removeEventListener("_enabledchange",g),_this184.removeEventListener("_shapechange",g),mh(x,{geometryPrecision:r,transformPrecision:d});};s.addEventListener("lostpointercapture",g),this.addEventListener("_enabledchange",g),this.addEventListener("_shapechange",g);}},{key:"Mo",value:function Mo(t){var _this185=this;var e,i,s=this.Qs,n=this.Js.board,o=n.currentContainer||n.currentWorkspace,l=n.geometryPrecision,h=n.transformPrecision,a=s.getConfig("bx-trianglesettings:drawingMode","polar"),r=s.getConfig("bx-trianglesettings:style",O);n.undoManager.checkpoint("Add triangle"),n.snapManager.snapStart(!1),n.setPointerCapture(t.pointerId);var d=new DOMPoint(t.clientX,t.clientY);d=n.snapManager.snapPoint(d);var c=1,p=1,u="planar"===a?d.x:d.x-p/2,x="planar"===a?d.y:d.y-c/2,b=s.getConfig("bx-trianglesettings:shift",.5),m=s.getConfig("bx-trianglesettings:corner",0),g=zi("svg:path");xl(g,{type:"triangle",values:[u,x,p,c,b,m]},l),o.append(g),sl(g,r),n.selectedElements=[g];var f=jt(g).inverse(),w=Nt(g).multiply(f);g.setAttribute("transform",w.toString()),s.modKeys.ctrl&&("polar"===a?a="planar":"planar"===a&&(a="polar")),n.addEventListener("keydown",i=function i(t){var e=eo.fromEvent(t);if(e.matches("ArrowLeft")){if(t.preventDefault(),t.stopPropagation(),m>0){m=K(m-.04,0,.5,2),xl(g,{type:"triangle",values:[u,x,p,c,b,m]},l);}}else if(e.matches("ArrowRight")&&(t.preventDefault(),t.stopPropagation(),m<.5)){m=K(m+.04,0,.5,2),xl(g,{type:"triangle",values:[u,x,p,c,b,m]},l);}}),n.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);if(e=n.snapManager.snapPoint(e),"planar"===a){var _t528=e.x-d.x||1,_i402=e.y-d.y||1;if(p=fr(_t528),c=fr(_i402),s.modKeys.shift){var _t529=wr(p,c);p=_t529,c=_t529;}u=_t528<0?d.x-p:d.x,x=_i402<0?d.y-c:d.y;}else if("polar"===a){var _t530=new DOMPoint(d.x,d.y),_i403=new DOMPoint(e.x,e.y),_n178=De(_t530,_i403),_o142=new DOMPoint(_t530.x,_t530.y-_n178),_l129=_o142.matrixTransform(new DOMMatrix().translate(_t530.x,_t530.y).rotate(120).translate(-_t530.x,-_t530.y)),_h96=_l129.matrixTransform(new DOMMatrix().translate(_t530.x,_t530.y).rotate(120).translate(-_t530.x,-_t530.y)),_a82=Ie(_t530,_l129,_i403);p=_l129.x-_h96.x||1,c=_l129.y-_o142.y||1,u=_h96.x,x=_o142.y,s.modKeys.shift&&(_a82=Be(_a82,45));var _r48=new DOMMatrix();_r48.translateSelf(_t530.x,_t530.y),_r48.rotateSelf(_a82),_r48.translateSelf(-_t530.x,-_t530.y),g.setAttribute("transform",w.multiply(_r48).toString());}xl(g,{type:"triangle",values:[u,x,p,c,b,m]},l);});var v=function v(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",v),n.removeEventListener("keydown",i),_this185.removeEventListener("_enabledchange",v),_this185.removeEventListener("_shapechange",v),mh(g,{geometryPrecision:l,transformPrecision:h}),n.snapManager.snapEnd();};n.addEventListener("lostpointercapture",v),this.addEventListener("_enabledchange",v),this.addEventListener("_shapechange",v);}},{key:"Po",value:function Po(t){var _this186=this;var e,i,s=this.Qs,n=this.Js.board,o=n.currentContainer||n.currentWorkspace,l=s.getConfig("bx-ngonsettings:drawingMode","polar"),h=s.getConfig("bx-ngonsettings:style",O),a=n.geometryPrecision,r=n.transformPrecision,d=0,c=0,p=0,u=0,x=s.getConfig("bx-ngonsettings:arms",5),b=s.getConfig("bx-ngonsettings:corner",0);n.undoManager.checkpoint("Add n-gon"),n.setPointerCapture(t.pointerId);var m=zi("svg:path");xl(m,{type:"n-gon",values:[d,c,p,u,x,b]},a),o.append(m),sl(m,h),n.selectedElements=[m];var g=jt(m).inverse(),f=Nt(m).multiply(g);m.setAttribute("transform",f.toString()),s.modKeys.ctrl&&("polar"===l?l="planar":"planar"===l&&(l="polar")),n.addEventListener("keydown",i=function i(t){var e=eo.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),x+=1,xl(m,{type:"n-gon",values:[d,c,p,u,x,b]},a)):e.matches("ArrowDown")?(t.preventDefault(),t.stopPropagation(),x>5&&(x-=1,xl(m,{type:"n-gon",values:[d,c,p,u,x,b]},a))):e.matches("ArrowLeft")?(t.preventDefault(),t.stopPropagation(),b>0&&(b=K(b-.04,0,.5,2),xl(m,{type:"n-gon",values:[d,c,p,u,x,b]},a))):e.matches("ArrowRight")&&(t.preventDefault(),t.stopPropagation(),b<.5&&(b=K(b+.04,0,.5,2),xl(m,{type:"n-gon",values:[d,c,p,u,x,b]},a)));}),n.addEventListener("pointermove",e=function e(_e396){if("planar"===l){var _i404=_e396.clientX-t.clientX||1,_n179=_e396.clientY-t.clientY||1,_o143=fr(_i404),_l130=fr(_n179);if(s.modKeys.shift){var _t531=wr(_o143,_l130);_o143=_t531,_l130=_t531;}var _h97=_i404<0?t.clientX-_o143:t.clientX,_a83=_n179<0?t.clientY-_l130:t.clientY;p=_o143/2,u=_l130/2,d=_h97+p,c=_a83+u;}else if("polar"===l){var _i405=new DOMPoint(t.clientX,t.clientY),_n180=Dl(2,d,c,p,u,x),_o144=new DOMPoint(_e396.clientX,_e396.clientY),_l131=new X(_i405,_o144),_h98=Ie(_i405,_n180,_o144);d=_i405.x,c=_i405.y,p=_l131.length,u=_l131.length,s.modKeys.shift&&(_h98=Be(_h98,180/x));var _a84=new DOMMatrix();_a84.translateSelf(_i405.x,_i405.y),_a84.rotateSelf(_h98),_a84.translateSelf(-_i405.x,-_i405.y),m.setAttribute("transform",f.multiply(_a84).toString());}xl(m,{type:"n-gon",values:[d,c,p,u,x,b]},a);});var w=function w(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",w),n.removeEventListener("keydown",i),_this186.removeEventListener("_enabledchange",w),_this186.removeEventListener("_shapechange",w),mh(m,{geometryPrecision:a,transformPrecision:r});};n.addEventListener("lostpointercapture",w),this.addEventListener("_enabledchange",w),this.addEventListener("_shapechange",w);}},{key:"Do",value:function Do(t){var _this187=this;var e,i,s=this.Qs,n=this.Js.board,o=n.currentContainer||n.currentWorkspace,l=s.getConfig("bx-starsettings:drawingMode","polar"),h=s.getConfig("bx-starsettings:style",O),a=n.geometryPrecision,r=n.transformPrecision,d=0,c=0,p=0,u=0,x=s.getConfig("bx-starsettings:depth",.4),b=s.getConfig("bx-starsettings:arms",5);n.undoManager.checkpoint("Add star"),n.setPointerCapture(t.pointerId);var m=zi("svg:path");xl(m,{type:"star",values:[d,c,p,u,x,b]},a),o.append(m),sl(m,h),n.selectedElements=[m];var g=jt(m).inverse(),f=Nt(m).multiply(g);m.setAttribute("transform",f.toString()),s.modKeys.ctrl&&("polar"===l?l="planar":"planar"===l&&(l="polar")),n.addEventListener("keydown",i=function i(t){var e=eo.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),b+=1,xl(m,{type:"star",values:[d,c,p,u,x,b]},a)):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),b>3&&(b-=1,xl(m,{type:"star",values:[d,c,p,u,x,b]},a)));}),n.addEventListener("pointermove",e=function e(_e397){if("planar"===l){var _i406=_e397.clientX-t.clientX||1,_n181=_e397.clientY-t.clientY||1,_o145=fr(_i406),_l132=fr(_n181);if(s.modKeys.shift){var _t532=wr(_o145,_l132);_o145=_t532,_l132=_t532;}var _h99=_i406<0?t.clientX-_o145:t.clientX,_a85=_n181<0?t.clientY-_l132:t.clientY;p=_o145/2,u=_l132/2,d=_h99+p,c=_a85+u;}else if("polar"===l){var _i407=new DOMPoint(t.clientX,t.clientY),_n182=new DOMPoint(_i407.x,_i407.y-100),_o146=new DOMPoint(_e397.clientX,_e397.clientY),_l133=new X(_i407,_o146),_h100=Ie(_i407,_n182,_o146);d=_i407.x,c=_i407.y,p=_l133.length,u=_l133.length,s.modKeys.shift&&(_h100=Be(_h100,180/b/2));var _a86=new DOMMatrix();_a86.translateSelf(_i407.x,_i407.y),_a86.rotateSelf(_h100),_a86.translateSelf(-_i407.x,-_i407.y),m.setAttribute("transform",f.multiply(_a86).toString());}xl(m,{type:"star",values:[d,c,p,u,x,b]},a);});var w=function w(){n.removeEventListener("keydown",i),n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",w),_this187.removeEventListener("_enabledchange",w),_this187.removeEventListener("_shapechange",w),mh(m,{geometryPrecision:a,transformPrecision:r});};n.addEventListener("lostpointercapture",w),this.addEventListener("_enabledchange",w),this.addEventListener("_shapechange",w);}},{key:"zo",value:function zo(t){var _this188=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=i.getConfig("bx-cogsettings:drawingMode","polar"),l=i.getConfig("bx-cogsettings:style",O),h=s.geometryPrecision,a=s.transformPrecision;s.undoManager.checkpoint("Add cog"),s.setPointerCapture(t.pointerId);var r=i.getConfig("bx-cogsettings:r1",.3),d=i.getConfig("bx-cogsettings:r2",.65),c=i.getConfig("bx-cogsettings:r3",1),p=i.getConfig("bx-cogsettings:splay",.38),u=i.getConfig("bx-cogsettings:teeth",8),x=0,b=0,m=0,g=0,f=0,w=zi("svg:path");n.append(w),sl(w,l),s.selectedElements=[w];var v=jt(w).inverse(),y=Nt(w).multiplySelf(v);w.setAttribute("transform",y.toString()),i.modKeys.ctrl&&("polar"===o?o="planar":"planar"===o&&(o="polar")),s.addEventListener("pointermove",e=function e(_e399){if("planar"===o){var _s250=_e399.clientX-t.clientX||1,_n183=_e399.clientY-t.clientY||1,_o147=fr(_s250),_l134=fr(_n183);if(i.modKeys.shift){var _t533=wr(_o147,_l134);_o147=_t533,_l134=_t533;}var _h101=_s250<0?t.clientX-_o147:t.clientX,_a87=_n183<0?t.clientY-_l134:t.clientY,_p27=_o147/2;if(x=_h101+_o147/2,b=_a87+_l134/2,m=_p27*r,g=_p27*d,f=_p27*c,_o147===_l134)w.setAttribute("transform",y.toString());else{var _t534=1,_e398=_l134/_o147,_i408=-x*(_t534-1),_s251=-b*(_e398-1),_n184=DOMMatrix.fromMatrix(y);_n184.translateSelf(_i408,_s251),_n184.scaleSelf(_t534,_e398),w.setAttribute("transform",_n184.toString());}}else if("polar"===o){var _s252=new DOMPoint(t.clientX,t.clientY),_n185=new DOMPoint(_s252.x,_s252.y-100),_o148=new DOMPoint(_e399.clientX,_e399.clientY),_l135=new X(_s252,_o148),_h102=Ie(_s252,_n185,_o148),_a88=_l135.length;x=_s252.x,b=_s252.y,m=_a88*r,g=_a88*d,f=_a88*c,i.modKeys.shift&&(_h102=Be(_h102,45));var _p28=new DOMMatrix();_p28.translateSelf(_s252.x,_s252.y),_p28.rotateSelf(_h102),_p28.translateSelf(-_s252.x,-_s252.y),w.setAttribute("transform",y.multiply(_p28).toString());}xl(w,{type:"cog",values:[x,b,m,g,f,p,u]},h);});var k=function k(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",k),_this188.removeEventListener("_enabledchange",k),_this188.removeEventListener("_shapechange",k),mh(w,{geometryPrecision:h,transformPrecision:a});};s.addEventListener("lostpointercapture",k),this.addEventListener("_enabledchange",k),this.addEventListener("_shapechange",k);}},{key:"Oo",value:function Oo(t){var _this189=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=s.geometryPrecision,l=s.transformPrecision,h=jt(s.currentWorkspace).inverse();s.undoManager.checkpoint("Add arrow"),s.snapManager.snapStart(!1),s.setPointerCapture(t.pointerId);var a=new DOMPoint(t.clientX,t.clientY);a=s.snapManager.snapPoint(a),a=a.matrixTransform(h);var r=new DOMPoint(a.x+100,a.y),d=i.getConfig("bx-arrowsettings:baseThickness",10),c=i.getConfig("bx-arrowsettings:headThickness",40),p=i.getConfig("bx-arrowsettings:headLength",40),u=i.getConfig("bx-arrowsettings:headInset",0),x=i.getConfig("bx-arrowsettings:style",O),b=p,m=c,g=a.x,f=a.y-m/2,w=zi("svg:path"),v={type:"arrow",values:[g,f,b,m,d,p,u]};xl(w,v,o),n.append(w),sl(w,x),s.selectedElements=[w];var y=Nt(w).multiply(Vt(s.currentWorkspace,w));w.setAttribute("transform",y.toString()),s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=s.snapManager.snapPoint(e),e=e.matrixTransform(h),b=De(a,e),b<p&&(b=p);var n=Ie(a,r,e);i.modKeys.shift&&(n=Be(n,45));var l=new DOMMatrix();l.translateSelf(a.x,a.y),l.rotateSelf(n),l.translateSelf(-a.x,-a.y),w.setAttribute("transform",y.multiply(l).toString()),v={type:"arrow",values:[g,f,b,m,d,p,u]},xl(w,v,o);});var k=function k(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",k),_this189.removeEventListener("_enabledchange",k),_this189.removeEventListener("_shapechange",k),s.snapManager.snapEnd(),mh(w,{geometryPrecision:o,transformPrecision:l});};s.addEventListener("lostpointercapture",k),this.addEventListener("_enabledchange",k),this.addEventListener("_shapechange",k);}},{key:"Eo",value:function Eo(t){var _this190=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=s.geometryPrecision,l=s.transformPrecision,h=i.getConfig("bx-crosssettings:drawingMode","polar"),a=i.getConfig("bx-crosssettings:style",O);s.undoManager.checkpoint("Add cross"),s.snapManager.snapStart(!1),s.setPointerCapture(t.pointerId);var r=new DOMPoint(t.clientX,t.clientY);r=s.snapManager.snapPoint(r);var d=r.x,c=r.y,p=0,u=0,x=0,b=0,m=i.getConfig("bx-crosssettings:thickness",.2),g=i.getConfig("bx-crosssettings:shift",.5),f=zi("svg:path");xl(f,{type:"cross",values:[d,c,p,u,x,b,g]},o),n.append(f),sl(f,a),s.selectedElements=[f];var w=jt(f).inverse(),v=Nt(f).multiply(w);f.setAttribute("transform",v.toString()),i.modKeys.ctrl&&("polar"===h?h="planar":"planar"===h&&(h="polar")),s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);if(e=s.snapManager.snapPoint(e),"planar"===h){var _t535=e.x-r.x||1,_s253=e.y-r.y||1;if(p=fr(_t535),u=fr(_s253),i.modKeys.shift){var _t536=wr(p,u);p=_t536,u=_t536;}d=_t535<0?r.x-p:r.x,c=_s253<0?r.y-u:r.y;}else if("polar"===h){var _t537=new DOMPoint(r.x,r.y),_s254=new DOMPoint(e.x,e.y),_n186=De(_t537,_s254),_o149=new DOMPoint(_t537.x,_t537.y-_n186),_l136=_o149.matrixTransform(new DOMMatrix().translate(_t537.x,_t537.y).rotate(-45).translate(-_t537.x,-_t537.y)),_h103=_o149.matrixTransform(new DOMMatrix().translate(_t537.x,_t537.y).rotate(45).translate(-_t537.x,-_t537.y)),_a89=_o149.matrixTransform(new DOMMatrix().translate(_t537.x,_t537.y).rotate(135).translate(-_t537.x,-_t537.y)),_x80=De(_l136,_h103);d=r.x-_x80/2,c=r.y-_x80/2,p=_x80,u=_x80;var _b23=Ie(_t537,_a89,_s254);i.modKeys.shift&&(_b23=Be(_b23,45));var _m22=new DOMMatrix();_m22.translateSelf(_t537.x,_t537.y),_m22.rotateSelf(_b23),_m22.translateSelf(-_t537.x,-_t537.y),f.setAttribute("transform",v.multiply(_m22).toString());}x=u*m,b=p*m,xl(f,{type:"cross",values:[d,c,p,u,x,b,g]},o);});var y=function y(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",y),_this190.removeEventListener("_enabledchange",y),_this190.removeEventListener("_shapechange",y),s.snapManager.snapEnd(),mh(f,{geometryPrecision:o,transformPrecision:l});};s.addEventListener("lostpointercapture",y),this.addEventListener("_enabledchange",y),this.addEventListener("_shapechange",y);}},{key:"To",value:function To(t){var _this191=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=s.geometryPrecision,l=s.transformPrecision,h=i.getConfig("bx-spiralsettings:drawingMode","polar"),a=i.getConfig("bx-spiralsettings:style",E);s.undoManager.checkpoint("Add spiral"),s.snapManager.snapStart(!1),s.setPointerCapture(t.pointerId);var r=new DOMPoint(t.clientX,t.clientY);r=s.snapManager.snapPoint(r);var d=i.getConfig("bx-spiralsettings:r1",0),c=i.getConfig("bx-spiralsettings:startAngle",0),p=i.getConfig("bx-spiralsettings:endAngle",1080),u=new DOMPoint(r.x,r.y-100).matrixTransform(new DOMMatrix().translate(r.x,r.y).rotate(p).translate(-r.x,-r.y)),x=r.x,b=r.y,m=1,g=d*m,f=zi("svg:path");xl(f,{type:"spiral",values:[x,b,g,m,c,p]},o),n.append(f),sl(f,a),s.selectedElements=[f];var w=jt(f).inverse(),v=Nt(f).multiply(w);f.setAttribute("transform",v.toString()),i.modKeys.ctrl&&("polar"===h?h="planar":"planar"===h&&(h="polar")),s.addEventListener("pointermove",e=function e(_e400){if("planar"===h){var _i409=_e400.clientX-t.clientX||1,_s255=_e400.clientY-t.clientY||1,_n187=fr(_i409),_l137=fr(_s255),_h104=wr(_n187,_l137);_n187=_h104,_l137=_h104;var _a90=_i409<0?t.clientX-_n187:t.clientX,_r49=_s255<0?t.clientY-_l137:t.clientY;x=_a90+_n187/2,b=_r49+_l137/2,m=_n187/2,g=d*m,xl(f,{type:"spiral",values:[x,b,g,m,c,p]},o);}else if("polar"===h){var _t538=new DOMPoint(_e400.clientX,_e400.clientY);_t538=s.snapManager.snapPoint(_t538);var _n188=Ie(r,u,_t538);u=_t538,p+=_n188,!1===i.modKeys.shift&&(m=De(r,_t538)),g=d*m,xl(f,{type:"spiral",values:[x,b,g,m,c,p]},o);}});var y=function y(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",y),_this191.removeEventListener("_enabledchange",y),_this191.removeEventListener("_shapechange",y),mh(f,{geometryPrecision:o,transformPrecision:l});};s.addEventListener("lostpointercapture",y),this.addEventListener("_enabledchange",y),this.addEventListener("_shapechange",y);}}]);return vr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(vr,"observedAttributes",["enabled","shape"]);customElements.define("bx-shapecontext",vr);var yr=null,kr=null,Sr=/*#__PURE__*/function(){var _ref84=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee74(){return regeneratorRuntime.wrap(function _callee74$(_context75){while(1){switch(_context75.prev=_context75.next){case 0:return _context75.abrupt("return",new Promise(/*#__PURE__*/function(){var _ref85=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee73(t){var _e401,_i410;return regeneratorRuntime.wrap(function _callee73$(_context74){while(1){switch(_context74.prev=_context74.next){case 0:if(!yr){_context74.next=4;break;}t(yr);_context74.next=11;break;case 4:_context74.next=6;return fetch("metadata/fonts/google-fonts-registry.json");case 6:_e401=_context74.sent;_context74.next=9;return _e401.json();case 9:_i410=_context74.sent;yr=_i410,t(_i410);case 11:case"end":return _context74.stop();}}},_callee73);}));return function(_x81){return _ref85.apply(this,arguments);};}()));case 1:case"end":return _context75.stop();}}},_callee74);}));return function Sr(){return _ref84.apply(this,arguments);};}(),_r="Enter your text here.";var Cr=/*#__PURE__*/function(_na2){_inherits(Cr,_na2);var _super56=_createSuper(Cr);function Cr(){var _this192;_classCallCheck(this,Cr);_this192=_super56.call(this),_this192.Ao=Zi(_this192.$o,350,_assertThisInitialized(_this192)),_this192["#content-editor"].addEventListener("input",function(){return _this192.Ao();}),_this192["#style-picker"].addEventListener("change",function(){return _this192.io();});return _this192;}_createClass(Cr,[{key:"tn",value:function tn(){this.qs();}},{key:"$o",value:function $o(){""===this["#content-editor"].value?this.Qs.setConfig("bx-textsettings:content",null):this.Qs.setConfig("bx-textsettings:content",this["#content-editor"].value);}},{key:"io",value:function io(){this.Qs.setConfig("bx-textsettings:style",this["#style-picker"].value);}},{key:"qs",value:function qs(){var t=this.Qs.getConfig("bx-textsettings:content",_r),e=this.Qs.getConfig("bx-textsettings:style",T);this["#content-editor"].value=t,this["#style-picker"].value=e;}}]);return Cr;}(na);_defineProperty(Cr,"_shadowTemplate",Yi(_templateObject192(),_r));_defineProperty(Cr,"_shadowStyleSheet",Wi(_templateObject193()));customElements.define("bx-textsettings",Cr);var Mr=Object.entries;var Pr=/*#__PURE__*/function(_HTMLElement54){_inherits(Pr,_HTMLElement54);var _super57=_createSuper(Pr);function Pr(){_classCallCheck(this,Pr);return _super57.apply(this,arguments);}_createClass(Pr,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this.Io={};}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this193=this;var t=this.Js.board,e=!0,i=function i(){t.style.cursor=e?"url(images/cursors/text.svg) 8 8, auto":"url(images/cursors/text-add.svg) 3 8, auto";};i(),this.Lo(),t.workspaces.addEventListener("pointerdown",this.On=function(t){_this193.kn(t);}),t.workspaces.addEventListener("pointerover",this.Bo=function(t){e=null!==t.target.closest("text"),!1===_this193.Qs.isPointerDown&&i();}),window.addEventListener("pointerup",this.Nn=function(t){i();});}},{key:"sn",value:function sn(){var t=this.Js.board;t.workspaces.removeEventListener("pointerdown",this.On),t.workspaces.removeEventListener("pointerover",this.Bo),window.removeEventListener("pointerup",this.Nn);}},{key:"kn",value:function(){var _kn=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee76(t){var _this194=this;var e,_i411,_s256,_n189,_o150,_l138,_h105,_a91,_r50,_d36,_c31;return regeneratorRuntime.wrap(function _callee76$(_context77){while(1){switch(_context77.prev=_context77.next){case 0:e=this.Js.board;if(!(0===t.button&&null===t.target.closest("text"))){_context77.next=12;break;}e.undoManager.checkpoint("Add text");_i411=e.currentContainer||e.currentWorkspace,_s256=this.Qs.getConfig("bx-textsettings:content",_r),_n189=this.Qs.getConfig("bx-textsettings:style",T),_o150=jt(_i411).inverse(),_l138=new DOMPoint(t.clientX,t.clientY).matrixTransform(_o150),_h105=Z(_l138.x,e.geometryPrecision),_a91=Z(_l138.y,e.geometryPrecision),_r50=e.fontsManager.getFamilies(),_d36=(_r50.length>0&&_r50[0],zi("svg:text"));_d36.setAttribute("x",_h105),_d36.setAttribute("y",_a91),_d36.textContent=_s256,_d36.style.whiteSpace="pre",_i411.append(_d36),sl(_d36,_n189),e.selectedElements=[_d36];_c31=/*#__PURE__*/function(){var _ref86=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee75(){var t,e,i,s;return regeneratorRuntime.wrap(function _callee75$(_context76){while(1){switch(_context76.prev=_context76.next){case 0:t=bi(_d36),e=t[0],i=t[t.length-1],s=new Range();s.setStart(e,0);s.setEnd(i,i.textContent.length);_this194.Js.board.selectedTextRange=null;_this194.Js.board.selectedTextRange=s;_context76.next=7;return Qi(100);case 7:_this194.Js.board.textHud.focus();case 8:case"end":return _context76.stop();}}},_callee75);}));return function _c31(){return _ref86.apply(this,arguments);};}();_c31();_context77.t0=_n189["font-family"];if(!_context77.t0){_context77.next=12;break;}_context77.next=11;return this.Ro(_n189["font-family"]);case 11:_c31();case 12:case"end":return _context77.stop();}}},_callee76,this);}));function kn(_x82){return _kn.apply(this,arguments);}return kn;}()},{key:"Ro",value:function Ro(t){var _this195=this;return new Promise(/*#__PURE__*/function(){var _ref87=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee77(e){var _e402;return regeneratorRuntime.wrap(function _callee77$(_context78){while(1){switch(_context78.prev=_context78.next){case 0:if(!(!1===_this195.Js.board.fontsManager.getFamilies().includes(t))){_context78.next=13;break;}_e402=[];if(!_this195.Io[t]){_context78.next=6;break;}_context78.t0=_this195.Io[t];_context78.next=9;break;case 6:_context78.next=8;return _this195.Go(t);case 8:_context78.t0=_context78.sent;case 9:_e402=_context78.t0;_this195.Js.board.fontsManager.addFonts(_e402);_context78.next=13;return Promise.all(_e402.map(function(t){return t.load();}));case 13:e();case 14:case"end":return _context78.stop();}}},_callee77);}));return function(_x83){return _ref87.apply(this,arguments);};}());}},{key:"Go",value:function Go(t){return new Promise(/*#__PURE__*/function(){var _ref88=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee78(e){var i,s,_iterator265,_step265,_step265$value,_e403,_n190,_s257,_o151,_l139,_h106,_a92;return regeneratorRuntime.wrap(function _callee78$(_context79){while(1){switch(_context79.prev=_context79.next){case 0:i=[];_context79.next=3;return Sr();case 3:s=_context79.sent.items.find(function(e){return e.family===t;});if(!s){_context79.next=34;break;}_iterator265=_createForOfIteratorHelper(Mr(s.urls));_context79.prev=6;_iterator265.s();case 8:if((_step265=_iterator265.n()).done){_context79.next=26;break;}_step265$value=_slicedToArray(_step265.value,2),_e403=_step265$value[0],_n190=_step265$value[1];_s257={weight:_e403.substring(0,3),style:_e403.includes("italic")?"italic":"normal"};_context79.next=13;return fetch(_n190);case 13:_o151=_context79.sent;_context79.next=16;return _o151.blob();case 16:_l139=_context79.sent;_context79.next=19;return Na(_l139);case 19:_context79.t0=_context79.sent;_context79.t1='url("'+_context79.t0;_h106=_context79.t1+'")';_a92=new FontFace(t,_h106,_s257);_a92.src=_h106,i.push(_a92);case 24:_context79.next=8;break;case 26:_context79.next=31;break;case 28:_context79.prev=28;_context79.t2=_context79["catch"](6);_iterator265.e(_context79.t2);case 31:_context79.prev=31;_iterator265.f();return _context79.finish(31);case 34:e(i);case 35:case"end":return _context79.stop();}}},_callee78,null,[[6,28,31,34]]);}));return function(_x84){return _ref88.apply(this,arguments);};}());}},{key:"Fo",value:function Fo(t){var _this196=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref89=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee79(i){var _iterator266,_step266,_e404;return regeneratorRuntime.wrap(function _callee79$(_context80){while(1){switch(_context80.prev=_context80.next){case 0:_context80.t0=void 0===_this196.Io[t];if(!_context80.t0){_context80.next=6;break;}_context80.next=4;return _this196.Go(t);case 4:_this196.Io[t]=_context80.sent;_context80.t0=e;case 6:if(!_context80.t0){_context80.next=9;break;}_iterator266=_createForOfIteratorHelper(_this196.Io[t]);try{for(_iterator266.s();!(_step266=_iterator266.n()).done;){_e404=_step266.value;_e404.load();}}catch(err){_iterator266.e(err);}finally{_iterator266.f();}case 9:i();case 10:case"end":return _context80.stop();}}},_callee79);}));return function(_x85){return _ref89.apply(this,arguments);};}());}},{key:"Lo",value:function Lo(){var _this197=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;return new Promise(/*#__PURE__*/function(){var _ref90=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee80(e){var i;return regeneratorRuntime.wrap(function _callee80$(_context81){while(1){switch(_context81.prev=_context81.next){case 0:i=_this197.Qs.getConfig("bx-textsettings:style",T)["font-family"];_context81.t0=i;if(!_context81.t0){_context81.next=5;break;}_context81.next=5;return _this197.Fo(i,t);case 5:e();case 6:case"end":return _context81.stop();}}},_callee80);}));return function(_x86){return _ref90.apply(this,arguments);};}());}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return Pr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Pr,"observedAttributes",["enabled"]);customElements.define("bx-textcontext",Pr);var Dr="Enter your text here.",zr='\n  <x-menuitem value="none">\n    <x-label>None</x-label>\n  </x-menuitem>\n\n  <hr/>\n\n  <x-menuitem value="random">\n    <x-label>Random</x-label>\n  </x-menuitem>\n\n  <x-menuitem value="pressure">\n    <x-label>Pressure</x-label>\n  </x-menuitem>\n\n  <x-menuitem value="speed">\n    <x-label>Speed</x-label>\n  </x-menuitem>\n\n  <x-menuitem value="speedInverse">\n    <x-label>Speed inverse</x-label>\n  </x-menuitem>\n';var Or=/*#__PURE__*/function(_na3){_inherits(Or,_na3);var _super58=_createSuper(Or);function Or(){var _this198;_classCallCheck(this,Or);_this198=_super58.call(this),_this198.Ao=Zi(_this198.$o,350,_assertThisInitialized(_this198)),_this198["#font-size-dynamics-param-select"].addEventListener("change",function(t){return _this198.eo(t);}),_this198["#font-size-dynamics-variance-input"].addEventListener("changeend",function(t){return _this198.eo(t);}),_this198["#glyph-rotation-dynamics-param-select"].addEventListener("change",function(t){return _this198.eo(t);}),_this198["#glyph-rotation-dynamics-variance-input"].addEventListener("changeend",function(t){return _this198.eo(t);}),_this198["#opacity-dynamics-param-select"].addEventListener("change",function(t){return _this198.eo(t);}),_this198["#opacity-dynamics-variance-input"].addEventListener("changeend",function(t){return _this198.eo(t);}),_this198["#content-editor"].addEventListener("input",function(){return _this198.Ao();}),_this198["#style-picker"].addEventListener("change",function(){return _this198.io();});return _this198;}_createClass(Or,[{key:"tn",value:function tn(){this.qs();}},{key:"$o",value:function $o(){""===this["#content-editor"].value?this.Qs.setConfig("bx-textpathsettings:content",null):this.Qs.setConfig("bx-textpathsettings:content",this["#content-editor"].value);}},{key:"eo",value:function eo(t){var e={};"x-select"===t.target.localName&&"none"===t.detail.oldValue&&(t.target.nextElementSibling.value=50),"none"!==this["#font-size-dynamics-param-select"].value&&(e.fontSize={param:this["#font-size-dynamics-param-select"].value,variance:this["#font-size-dynamics-variance-input"].value/100}),"none"!==this["#glyph-rotation-dynamics-param-select"].value&&(e.glyphRotation={param:this["#glyph-rotation-dynamics-param-select"].value,variance:this["#glyph-rotation-dynamics-variance-input"].value/100}),"none"!==this["#opacity-dynamics-param-select"].value&&(e.opacity={param:this["#opacity-dynamics-param-select"].value,variance:this["#opacity-dynamics-variance-input"].value/100}),this.Qs.setConfig("bx-textpathsettings:dynamics",e),this.qs();}},{key:"io",value:function io(){this.Qs.setConfig("bx-textpathsettings:style",this["#style-picker"].value);}},{key:"qs",value:function qs(){var t=this.Qs.getConfig("bx-textpathsettings:dynamics",{}),e=this.Qs.getConfig("bx-textpathsettings:content",Dr),i=this.Qs.getConfig("bx-textpathsettings:style",T);t.fontSize?(this["#font-size-dynamics-param-select"].value=t.fontSize.param,this["#font-size-dynamics-variance-input"].value=Z(100*t.fontSize.variance,0),this["#font-size-dynamics-variance-input"].disabled=!1):(this["#font-size-dynamics-param-select"].value="none",this["#font-size-dynamics-variance-input"].value=0,this["#font-size-dynamics-variance-input"].disabled=!0),t.glyphRotation?(this["#glyph-rotation-dynamics-param-select"].value=t.glyphRotation.param,this["#glyph-rotation-dynamics-variance-input"].value=Z(100*t.glyphRotation.variance,0),this["#glyph-rotation-dynamics-variance-input"].disabled=!1):(this["#glyph-rotation-dynamics-param-select"].value="none",this["#glyph-rotation-dynamics-variance-input"].value=0,this["#glyph-rotation-dynamics-variance-input"].disabled=!0),t.opacity?(this["#opacity-dynamics-param-select"].value=t.opacity.param,this["#opacity-dynamics-variance-input"].value=Z(100*t.opacity.variance,0),this["#opacity-dynamics-variance-input"].disabled=!1):(this["#opacity-dynamics-param-select"].value="none",this["#opacity-dynamics-variance-input"].value=0,this["#opacity-dynamics-variance-input"].disabled=!0),this["#content-editor"].value=e,this["#style-picker"].value=i;}}]);return Or;}(na);_defineProperty(Or,"_shadowTemplate",Yi(_templateObject194(),Dr,zr,zr,zr));_defineProperty(Or,"_shadowStyleSheet",Wi(_templateObject195()));customElements.define("bx-textpathsettings",Or);var Er=Object.entries;var Tr=/*#__PURE__*/function(_HTMLElement55){_inherits(Tr,_HTMLElement55);var _super59=_createSuper(Tr);_createClass(Tr,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Tr(){_classCallCheck(this,Tr);return _super59.call(this);}_createClass(Tr,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this.Pn=Ai(this,"bx-board"),this.Io={};}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function(){var _tn2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee81(){var _this199=this;return regeneratorRuntime.wrap(function _callee81$(_context82){while(1){switch(_context82.prev=_context82.next){case 0:this.jn=.7,this.Pn.pathHud.passive=!0,this.Pn.style.cursor="crosshair",this.Lo(),this.Qs.addEventListener("configchange",this.ln=function(t){_this199.hn(t.detail);}),this.Pn.workspaces.addEventListener("pointerdown",this.yn=function(t){_this199.kn(t);});case 1:case"end":return _context82.stop();}}},_callee81,this);}));function tn(){return _tn2.apply(this,arguments);}return tn;}()},{key:"sn",value:function sn(){this.Pn.pathHud.passive=!1,this.Qs.removeEventListener("configchange",this.ln),this.Pn.workspaces.removeEventListener("pointerdown",this.yn);}},{key:"hn",value:function hn(_ref91){var t=_ref91.key,e=_ref91.value;"bx-textpathsettings:smoothing"===t&&null!==e&&(this.jn=e);}},{key:"kn",value:function kn(t){var _this200=this;if(1!==t.buttons)return;var _e405,_i412,s=new DOMPoint(t.clientX,t.clientY);window.addEventListener("pointermove",_e405=function e(i){var n=new DOMPoint(i.clientX,i.clientY);De(s,n)<3||(window.removeEventListener("pointermove",_e405),_this200.Tn(t));}),window.addEventListener("pointerup",_i412=function i(t){window.removeEventListener("pointermove",_e405),window.removeEventListener("pointerup",_i412);});}},{key:"Tn",value:function Tn(t){var _this201=this;var e,_i417,s=this.Pn,n=this.Qs.getConfig("bx-textpathsettings:dynamics",{}),o=this.Qs.getConfig("bx-textpathsettings:content",Dr),l=this.Qs.getConfig("bx-textpathsettings:style",T),h=s.currentContainer||s.currentWorkspace,a=null,r=null,d=null,c=s.geometryPrecision,p=new Array(250).fill(o).join(" "),u=0,x=0,b=null;s.undoManager.checkpoint("Text path"),a=zi("svg:path"),a.style.fill="none",a.id=s.generateUniqueID("path"),s.defs.append(a),r=zi("svg:text"),r.style.whiteSpace="pre",h.append(r),sl(r,l),d=zi("svg:textPath"),d.setAttribute("href","#"+a.id),r.append(d),l["font-family"]&&this.Ro(l["font-family"]);var m=jt(a).inverse(),g=new DOMPoint(t.clientX,t.clientY).matrixTransform(m),f=[],w=[];f.push({type:"M",values:[g.x,g.y].map(function(t){return Z(t,c);})}),a.setPathData(f),s.selectedElements=[r],s.setPointerCapture(t.pointerId);var v=function v(){f.length=f.length-(w.length-1);var _iterator267=_createForOfIteratorHelper(Wh(w,6*_this201.jn/s.scale)),_step267;try{for(_iterator267.s();!(_step267=_iterator267.n()).done;){var _t539=_step267.value;var _e406=[_t539[1].x,_t539[1].y,_t539[2].x,_t539[2].y,_t539[3].x,_t539[3].y];_e406=_e406.map(function(t){return Z(t,c);}),f.push({type:"C",values:_e406});}}catch(err){_iterator267.e(err);}finally{_iterator267.f();}a.setPathData(f),w=[];},y=function y(t){var e=zi("svg:tspan");if(e.textContent=p[d.childElementCount],n.fontSize){var _i413,_s258=parseInt(l["font-size"]),_o152=Z(_s258-_s258*n.fontSize.variance,0),_h107=Z(_s258+_s258*n.fontSize.variance,0);"random"===n.fontSize.param?_i413=ll(_o152,_h107):"speed"===n.fontSize.param?_i413=_o152+u/8*(_h107-_o152):"speedInverse"===n.fontSize.param?_i413=_h107-u/8*(_h107-_o152):"pressure"===n.fontSize.param&&(_i413=_o152+t.pressure*(_h107-_o152)),_i413=K(_i413,5,Infinity,0),e.style.fontSize=_i413+"px";}if(n.opacity){var _i414,_s259=void 0!==l.opacity?parseInt(l.opacity):1,_o153=Z(_s259-_s259*n.opacity.variance,2),_h108=Z(_s259+_s259*n.opacity.variance,2);console.log(_s259,_o153,_h108),"random"===n.opacity.param?_i414=ll(_o153,_h108,2):"speed"===n.opacity.param?_i414=_o153+u/8*(_h108-_o153):"speedInverse"===n.opacity.param?_i414=_h108-u/8*(_h108-_o153):"pressure"===n.opacity.param&&(_i414=_o153+t.pressure*(_h108-_o153)),_i414=K(_i414,0,1,2),e.style.opacity=_i414;}if(n.glyphRotation){var _i415,_s260=-360*n.glyphRotation.variance,_o154=360*n.glyphRotation.variance;"random"===n.glyphRotation.param?_i415=ll(_s260,_o154,0):"speed"===n.glyphRotation.param?_i415=_s260+u/8*(_o154-_s260):"speedInverse"===n.glyphRotation.param?_i415=_o154-u/8*(_o154-_s260):"pressure"===n.glyphRotation.param&&(_i415=_s260+t.pressure*(_o154-_s260)),_i415=K(_i415,-360,360,0),e.setAttribute("rotate",_i415);}d.append(e),0===e.getComputedTextLength()?e.remove():y(t);};s.addEventListener("pointermove",e=function e(t){x+=1;var e=new DOMPoint(t.clientX,t.clientY),i=e.matrixTransform(m);if(!b||!Ce(b,e,0)){if(b){var _t540=u;u=De(b,e),x>1&&(u=function(t,e,i){return(1-i)*t+i*e;}(_t540,u,.05));}if(b=e,w.push(i),12===w.length)v();else{var _t541=[i.x,i.y];_t541=_t541.map(function(t){return Z(t,c);}),f.push({type:"L",values:_t541}),a.setPathData(f);}y(t);}}),s.addEventListener("pointerup",_i417=function i(t){if(s.removeEventListener("pointermove",e),s.removeEventListener("pointerup",_i417),w.length>2&&v(),0===d.childElementCount){var _e407=new DOMPoint(t.clientX,t.clientY).matrixTransform(m),_i416=new X(g,_e407);for(;0===d.childElementCount;){_i416.length+=10,f=[{type:"M",values:[g.x,g.y]},{type:"L",values:[g.x+_i416.x,g.y+_i416.y]}],a.setPathData(f),y(t);}}pi(r);});}},{key:"Ro",value:function Ro(t){var _this202=this;return new Promise(/*#__PURE__*/function(){var _ref92=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee82(e){var _e408;return regeneratorRuntime.wrap(function _callee82$(_context83){while(1){switch(_context83.prev=_context83.next){case 0:if(!(!1===_this202.Js.board.fontsManager.getFamilies().includes(t))){_context83.next=13;break;}_e408=[];if(!_this202.Io[t]){_context83.next=6;break;}_context83.t0=_this202.Io[t];_context83.next=9;break;case 6:_context83.next=8;return _this202.Go(t);case 8:_context83.t0=_context83.sent;case 9:_e408=_context83.t0;_this202.Js.board.fontsManager.addFonts(_e408);_context83.next=13;return Promise.all(_e408.map(function(t){return t.load();}));case 13:e();case 14:case"end":return _context83.stop();}}},_callee82);}));return function(_x87){return _ref92.apply(this,arguments);};}());}},{key:"Go",value:function Go(t){return new Promise(/*#__PURE__*/function(){var _ref93=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee83(e){var i,s,_iterator268,_step268,_step268$value,_e409,_n191,_s261,_o155,_l140,_h109,_a93;return regeneratorRuntime.wrap(function _callee83$(_context84){while(1){switch(_context84.prev=_context84.next){case 0:i=[];_context84.next=3;return Sr();case 3:s=_context84.sent.items.find(function(e){return e.family===t;});if(!s){_context84.next=34;break;}_iterator268=_createForOfIteratorHelper(Er(s.urls));_context84.prev=6;_iterator268.s();case 8:if((_step268=_iterator268.n()).done){_context84.next=26;break;}_step268$value=_slicedToArray(_step268.value,2),_e409=_step268$value[0],_n191=_step268$value[1];_s261={weight:_e409.substring(0,3),style:_e409.includes("italic")?"italic":"normal"};_context84.next=13;return fetch(_n191);case 13:_o155=_context84.sent;_context84.next=16;return _o155.blob();case 16:_l140=_context84.sent;_context84.next=19;return Na(_l140);case 19:_context84.t0=_context84.sent;_context84.t1='url("'+_context84.t0;_h109=_context84.t1+'")';_a93=new FontFace(t,_h109,_s261);_a93.src=_h109,i.push(_a93);case 24:_context84.next=8;break;case 26:_context84.next=31;break;case 28:_context84.prev=28;_context84.t2=_context84["catch"](6);_iterator268.e(_context84.t2);case 31:_context84.prev=31;_iterator268.f();return _context84.finish(31);case 34:e(i);case 35:case"end":return _context84.stop();}}},_callee83,null,[[6,28,31,34]]);}));return function(_x88){return _ref93.apply(this,arguments);};}());}},{key:"Fo",value:function Fo(t){var _this203=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref94=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee84(i){var _iterator269,_step269,_e410;return regeneratorRuntime.wrap(function _callee84$(_context85){while(1){switch(_context85.prev=_context85.next){case 0:_context85.t0=void 0===_this203.Io[t];if(!_context85.t0){_context85.next=6;break;}_context85.next=4;return _this203.Go(t);case 4:_this203.Io[t]=_context85.sent;_context85.t0=e;case 6:if(!_context85.t0){_context85.next=9;break;}_iterator269=_createForOfIteratorHelper(_this203.Io[t]);try{for(_iterator269.s();!(_step269=_iterator269.n()).done;){_e410=_step269.value;_e410.load();}}catch(err){_iterator269.e(err);}finally{_iterator269.f();}case 9:i();case 10:case"end":return _context85.stop();}}},_callee84);}));return function(_x89){return _ref94.apply(this,arguments);};}());}},{key:"Lo",value:function Lo(){var _this204=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;return new Promise(/*#__PURE__*/function(){var _ref95=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee85(e){var i;return regeneratorRuntime.wrap(function _callee85$(_context86){while(1){switch(_context86.prev=_context86.next){case 0:i=_this204.Qs.getConfig("bx-textsettings:style",T)["font-family"];_context86.t0=i;if(!_context86.t0){_context86.next=5;break;}_context86.next=5;return _this204.Fo(i,t);case 5:e();case 6:case"end":return _context86.stop();}}},_callee85);}));return function(_x90){return _ref95.apply(this,arguments);};}());}}]);return Tr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Tr,"observedAttributes",["enabled"]);customElements.define("bx-textpathcontext",Tr);var Ar=Math.abs,$r=Symbol();var Ir=/*#__PURE__*/function(_HTMLElement56){_inherits(Ir,_HTMLElement56);var _super60=_createSuper(Ir);_createClass(Ir,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Ir(){var _this205;_classCallCheck(this,Ir);_this205=_super60.call(this),_this205.En=!1;return _this205;}_createClass(Ir,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this.Pn=Ai(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this206=this;this.Pn.style.cursor=null,this.Pn.workspaces.addEventListener("contextmenu",this.Dn=function(t){_this206.zn(t);}),this.Pn.workspaces.addEventListener("pointerdown",this.On=function(t){_this206.kn(t);});}},{key:"sn",value:function sn(){this.Pn.workspaces.removeEventListener("contextmenu",this.Dn),this.Pn.workspaces.removeEventListener("pointerdown",this.On);}},{key:"zn",value:function zn(t){var e=this.Pn.getHitWorkspaceElements(t.clientX,t.clientY);if(e.length>0){var _t542=e[e.length-1],_i418=this.In(_t542),_s262=this.Pn.selectedElements.includes(_t542);var _iterator270=_createForOfIteratorHelper(_i418),_step270;try{for(_iterator270.s();!(_step270=_iterator270.n()).done;){var _t543=_step270.value;this.Pn.selectedElements.includes(_t543)&&(_s262=!0);}}catch(err){_iterator270.e(err);}finally{_iterator270.f();}!1===_s262&&this.An(_t542);}else this.$n(t);}},{key:"kn",value:function kn(t){var _this207=this;if(1!==t.buttons||!1===t.isPrimary||this.Qs.pointers.length>1)return;var _e411,_i419,s=t.target,n=new DOMPoint(t.clientX,t.clientY),o=n,l="touch"===t.pointerType?9:3;this.En=!1,window.addEventListener("pointermove",_e411=function e(i){if(i.pointerId!==t.pointerId||_this207.Qs.pointers.length>1)return;var s=new DOMPoint(i.clientX,i.clientY),h=i.timeStamp-t.timeStamp,a=De(n,s)>l||h>80,r=!1===Ce(o,s,0);if(o=s,!0===a&&!0===r){window.removeEventListener("pointermove",_e411),_this207.En=!0;var _s263=new X(i.clientX-t.clientX,i.clientY-t.clientY),_n192=Ar(_s263.x)>Ar(_s263.y)?"horizontal":"vertical";_this207.Uo(t,i,_n192);}}),window.addEventListener("pointerup",_i419=function i(o){if(o.pointerId!==t.pointerId)return;window.removeEventListener("pointermove",_e411),window.removeEventListener("pointerup",_i419);var h=new DOMPoint(o.clientX,o.clientY);De(n,h)<l&&_this207.Cn(s,o);});}},{key:"Uo",value:function Uo(t,e,i){var s=this.Pn.getHitWorkspaceElements(e.clientX,e.clientY);s.length>0?this.No(e,s[s.length-1],i):this.Vo(t);}},{key:"jo",value:function jo(t){var e=t.querySelector("textPath"),i=null;return e&&e.hasAttribute("href")&&(i=this.Pn.workspaces.querySelector(e.href.baseVal)),i;}},{key:"No",value:function No(t,e,i){var _this208=this;var s=this.Js.board;s.undoManager.checkpoint("Move");{var _t544=this.In(e),_i420=!1;s.outermostSelectedElements.includes(e)&&(_i420=!0);var _iterator271=_createForOfIteratorHelper(_t544),_step271;try{for(_iterator271.s();!(_step271=_iterator271.n()).done;){var _e412=_step271.value;s.outermostSelectedElements.includes(_e412)&&(_i420=!0);}}catch(err){_iterator271.e(err);}finally{_iterator271.f();}if(!_i420)if(s.transformHud.mode="scale",0===_t544.length)s.currentContainer=null,s.selectedElements=[e];else{var _t545=this.Ho(e,s.currentContainer);for(;e.parentNode!==_t545&&e.parentNode!==s.currentWorkspace;){e=e.parentNode;}s.currentContainer=_t545,s.selectedElements=[e];}}this.Qs.modKeys.alt&&(this.Pn.insertArtwork(this.Pn.extractArtworkWithSelectedElements(),"original"),e=this.Pn.selectedElements[0]);{var _e413,_n194,_o156=[];var _iterator272=_createForOfIteratorHelper(s.outermostSelectedElements),_step272;try{for(_iterator272.s();!(_step272=_iterator272.n()).done;){var _t550=_step272.value;if("text"===_t550.localName){var _e417=this.jo(_t550);if(_e417&&s.outermostSelectedElements.includes(_e417))continue;}var _e416=jt(_t550),_i423=_e416.inverse(),_n195=Nt(_t550).multiplySelf(_i423);_t550[$r]={clientToUserTransform:_e416,initialClientTransform:_n195},_o156.push(_t550);}}catch(err){_iterator272.e(err);}finally{_iterator272.f();}this.style.cursor="move",this.setPointerCapture(t.pointerId),s.snapManager.snapStart(),this.addEventListener("pointermove",_e413=function _e413(e){if(e.pointerId!==t.pointerId)return;var n=e.clientX-t.clientX,l=e.clientY-t.clientY,h=_this208.Qs.modKeys.shift;h&&("vertical"===i?n=0:"horizontal"===i&&(l=0));var _iterator273=_createForOfIteratorHelper(_o156),_step273;try{for(_iterator273.s();!(_step273=_iterator273.n()).done;){var _t548=_step273.value;var _t548$$r=_t548[$r],_e415=_t548$$r.clientToUserTransform,_i422=_t548$$r.initialClientTransform,_s265=DOMMatrix.fromMatrix(_i422);_s265.translateSelf(n,l),_s265.multiplySelf(_e415),_t548.setAttribute("transform",_s265.toString());}}catch(err){_iterator273.e(err);}finally{_iterator273.f();}if(s.showManualGuides||s.showSmartGuides||s.showGrid){var _t546=_o156.map(function(t){return Mi(t);}),_e414=Ne(_t546),_i421=s.snapManager.snapBBox(_e414);if(!1===function(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return null!==i?Z(t.x,i)===Z(e.x,i)&&Z(t.y,i)===Z(e.y,i)&&Z(t.width,i)===Z(e.width,i)&&Z(t.height,i)===Z(e.height,i):t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.neight;}(_e414,_i421)){var _iterator274=_createForOfIteratorHelper(_o156),_step274;try{for(_iterator274.s();!(_step274=_iterator274.n()).done;){var _t547=_step274.value;var _t547$$r=_t547[$r],_s264=_t547$$r.clientToUserTransform,_o157=_t547$$r.initialClientTransform,_h110=_i421.x-_e414.x,_a94=_i421.y-_e414.y,_r51=DOMMatrix.fromMatrix(_o157);_r51.translateSelf(n+_h110,l+_a94),_r51.multiplySelf(_s264),_t547.setAttribute("transform",_r51.toString());}}catch(err){_iterator274.e(err);}finally{_iterator274.f();}}}}),this.addEventListener("lostpointercapture",_n194=function _n193(){_this208.removeEventListener("pointermove",_e413),_this208.removeEventListener("lostpointercapture",_n194),_this208.style.cursor=null,s.snapManager.snapEnd();var _iterator275=_createForOfIteratorHelper(s.outermostSelectedObjectElements),_step275;try{for(_iterator275.s();!(_step275=_iterator275.n()).done;){var _t549=_step275.value;mh(_t549,{geometryPrecision:s.geometryPrecision,transformPrecision:s.transformPrecision});}}catch(err){_iterator275.e(err);}finally{_iterator275.f();}});}}},{key:"Vo",value:function(){var _Vo=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee86(t){var _this209=this;var e,i,s,n,o,l,h,_t551,_iterator276,_step276,_e418,_i424,_t552,_s266,_l141,_iterator278,_step278,_t554,_e420,_i425,_iterator279,_step279,_t555,_iterator281,_step281,_t557,_e422,_iterator282,_step282,_i426;return regeneratorRuntime.wrap(function _callee86$(_context87){while(1){switch(_context87.prev=_context87.next){case 0:e=t.clientX,i=t.clientY,s=this.Qs.getConfig("bx-transformsettings:selectionShape","rect"),n=this.Qs.getConfig("bx-transformsettings:selectionMode","contain"),o=this.Pn.currentContainer||this.Pn.currentWorkspace,l=jt(this.Pn.currentWorkspace).inverse(),h=[];if(!("rect-contain"===n&&(n="contain"),this.Qs.modKeys.ctrl&&("polygon"===s?s="rect":"rect"===s&&(s="polygon")),"rect"===s)){_context87.next=9;break;}_context87.next=4;return this.Pn.rubberBandHud.grabSelection(e,i);case 4:_t551=_context87.sent;_iterator276=_createForOfIteratorHelper(o.children);try{for(_iterator276.s();!(_step276=_iterator276.n()).done;){_e418=_step276.value;if([].concat(_toConsumableArray(m),["svg","g","a","use"]).includes(_e418.localName)){_i424=Ue(Mi(_e418),l);!1===(0===_i424.width&&0===_i424.height)&&("contain"===n?je(_t551,_i424)&&h.push(_e418):"intersect"===n&&He(_t551,_i424)&&h.push(_e418));}}}catch(err){_iterator276.e(err);}finally{_iterator276.f();}_context87.next=100;break;case 9:if(!("polygon"===s)){_context87.next=100;break;}_context87.next=12;return this.Pn.rubberBandHud.grabSelection(e,i,"polygon");case 12:_t552=_context87.sent;_s266=Ii(_toConsumableArray(o.children));_l141=[];if(!("contain"===n)){_context87.next=60;break;}_l141=function(t,e){var i=[];var _iterator277=_createForOfIteratorHelper(e),_step277;try{for(_iterator277.s();!(_step277=_iterator277.n()).done;){var _s267=_step277.value;var _e419=null;if(x.includes(_s267.localName))_e419=_s267.getPathData({normalize:!0});else if(["image","text","use"].includes(_s267.localName)){var _t553=Ci(_s267);_e419=[{type:"M",values:[_t553.x,_t553.y]},{type:"L",values:[_t553.x+_t553.width,_t553.y]},{type:"L",values:[_t553.x+_t553.width,_t553.y+_t553.height]},{type:"L",values:[_t553.x,_t553.y+_t553.height]}];}if(_e419){var _n196=Vt(_s267,_s267.closest("g#vector-canvas"));!1===_n196.isIdentity&&(_e419=ie(_e419,_n196));var _o158=new paper.Path(_toConsumableArray(t)),_l142=Pt(et(_e419));_o158.closePath(),_l142.closePath(),0===_l142.subtract(_o158).length&&i.push(_s267);}}}catch(err){_iterator277.e(err);}finally{_iterator277.f();}return i;}(_t552,_s266);_iterator278=_createForOfIteratorHelper(o.children);_context87.prev=18;_iterator278.s();case 20:if((_step278=_iterator278.n()).done){_context87.next=50;break;}_t554=_step278.value;if(!("g"===_t554.localName||"a"===_t554.localName)){_context87.next=47;break;}_e420=Ii(_toConsumableArray(_t554.children));if(!(_e420.length>0)){_context87.next=45;break;}_i425=!0;_iterator279=_createForOfIteratorHelper(_e420);_context87.prev=27;_iterator279.s();case 29:if((_step279=_iterator279.n()).done){_context87.next=36;break;}_t555=_step279.value;if(!(!1===_l141.includes(_t555))){_context87.next=34;break;}_i425=!1;return _context87.abrupt("break",36);case 34:_context87.next=29;break;case 36:_context87.next=41;break;case 38:_context87.prev=38;_context87.t0=_context87["catch"](27);_iterator279.e(_context87.t0);case 41:_context87.prev=41;_iterator279.f();return _context87.finish(41);case 44:_i425&&h.push(_t554);case 45:_context87.next=48;break;case 47:m.includes(_t554.localName)&&_l141.includes(_t554)&&h.push(_t554);case 48:_context87.next=20;break;case 50:_context87.next=55;break;case 52:_context87.prev=52;_context87.t1=_context87["catch"](18);_iterator278.e(_context87.t1);case 55:_context87.prev=55;_iterator278.f();return _context87.finish(55);case 58:_context87.next=100;break;case 60:if(!("intersect"===n)){_context87.next=100;break;}_l141=function(t,e){var i=[];var _iterator280=_createForOfIteratorHelper(e),_step280;try{for(_iterator280.s();!(_step280=_iterator280.n()).done;){var _s268=_step280.value;var _e421=null;if(x.includes(_s268.localName))_e421=_s268.getPathData({normalize:!0});else if(["image","text","use"].includes(_s268.localName)){var _t556=Ci(_s268);_e421=[{type:"M",values:[_t556.x,_t556.y]},{type:"L",values:[_t556.x+_t556.width,_t556.y]},{type:"L",values:[_t556.x+_t556.width,_t556.y+_t556.height]},{type:"L",values:[_t556.x,_t556.y+_t556.height]}];}if(_e421){var _n197=Vt(_s268,_s268.closest("g#vector-canvas"));!1===_n197.isIdentity&&(_e421=ie(_e421,_n197));var _o159=new paper.Path(_toConsumableArray(t)),_l143=Pt(et(_e421));_o159.closePath(),_l143.closePath(),_o159.intersect(_l143).length>0&&i.push(_s268);}}}catch(err){_iterator280.e(err);}finally{_iterator280.f();}return i;}(_t552,_s266);_iterator281=_createForOfIteratorHelper(o.children);_context87.prev=63;_iterator281.s();case 65:if((_step281=_iterator281.n()).done){_context87.next=92;break;}_t557=_step281.value;if(!("g"===_t557.localName||"a"===_t557.localName)){_context87.next=89;break;}_e422=Ii(_toConsumableArray(_t557.children));_iterator282=_createForOfIteratorHelper(_e422);_context87.prev=70;_iterator282.s();case 72:if((_step282=_iterator282.n()).done){_context87.next=79;break;}_i426=_step282.value;if(!_l141.includes(_i426)){_context87.next=77;break;}h.push(_t557);return _context87.abrupt("break",79);case 77:_context87.next=72;break;case 79:_context87.next=84;break;case 81:_context87.prev=81;_context87.t2=_context87["catch"](70);_iterator282.e(_context87.t2);case 84:_context87.prev=84;_iterator282.f();return _context87.finish(84);case 87:_context87.next=90;break;case 89:m.includes(_t557.localName)&&_l141.includes(_t557)&&h.push(_t557);case 90:_context87.next=65;break;case 92:_context87.next=97;break;case 94:_context87.prev=94;_context87.t3=_context87["catch"](63);_iterator281.e(_context87.t3);case 97:_context87.prev=97;_iterator281.f();return _context87.finish(97);case 100:this.Qs.modKeys.shift?(h=h.filter(function(t){var _iterator283=_createForOfIteratorHelper(_this209.Pn.selectedElements),_step283;try{for(_iterator283.s();!(_step283=_iterator283.n()).done;){var _e423=_step283.value;if(_e423===t||_e423.contains(t))return!1;}}catch(err){_iterator283.e(err);}finally{_iterator283.f();}return!0;}),this.Pn.selectedElements=[].concat(_toConsumableArray(this.Pn.selectedElements),_toConsumableArray(h))):this.Pn.selectedElements=_toConsumableArray(h);case 101:case"end":return _context87.stop();}}},_callee86,this,[[18,52,55,58],[27,38,41,44],[63,94,97,100],[70,81,84,87]]);}));function Vo(_x91){return _Vo.apply(this,arguments);}return Vo;}()},{key:"Cn",value:function Cn(t,e){if(0!==e.button||this.En)return;var i=this.Pn["#transform-hud"],s=this.Pn.getHitWorkspaceElements(e.clientX,e.clientY);if(s.length>0){var _t558=s[s.length-1];if(this.Qs.pointerClickCount%2==1)this.Pn.isSelectableElement(_t558)&&this.An(_t558);else if(this.Qs.pointerClickCount%2==0){var _e424=this.Yo(_t558);if(_e424)this.Pn.currentContainer=_e424,this.Pn.selectedElements=[];else if("use"===_t558.localName){var _e425=_t558.href.baseVal.trim(),_s269=null;if(_e425.length>1&&(_s269=this.Pn.workspaces.querySelector("#"+CSS.escape(_e425.substring(1)))),_s269&&"symbol"===_s269.localName){var _t559=_s269;this.Pn.editSymbol(_t559.id);}else i.mode="scale",this.Js.toggleTool("edit-tool");}else"text"===_t558.localName?(i.mode="scale",this.Js.toggleTool("text-tool")):(i.mode="scale",this.Js.toggleTool("edit-tool"));}}else this.$n(e);}},{key:"An",value:function An(t){var e=this.Js.board,_this$Qs$modKeys3=this.Qs.modKeys,i=_this$Qs$modKeys3.ctrl,s=_this$Qs$modKeys3.alt,n=_this$Qs$modKeys3.shift,o=this.In(t),l=e.selectedElements.includes(t);var _iterator284=_createForOfIteratorHelper(o),_step284;try{for(_iterator284.s();!(_step284=_iterator284.n()).done;){var _t561=_step284.value;e.selectedElements.includes(_t561)&&(l=!0);}}catch(err){_iterator284.e(err);}finally{_iterator284.f();}if(i||n){if(!i&&n){if(0===o.length)e.currentContainer=null,e.selectedElements.includes(t)?e.selectedElements=e.selectedElements.filter(function(e){return e!==t;}):e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[t]);else if(e.currentContainer&&e.currentContainer.contains(t)){for(;t.parentNode!==e.currentContainer;){t=t.parentNode;}e.selectedElements.includes(t)?e.selectedElements=e.selectedElements.filter(function(e){return e!==t;}):e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[t]);}else{var _i427=this.Ho(t,e.currentContainer);for(;t.parentNode!==_i427&&t.parentNode!==e.currentWorkspace;){t=t.parentNode;}e.currentContainer=_i427,e.selectedElements.includes(t)?e.selectedElements=e.selectedElements.filter(function(e){return e!==t;}):e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[t]);}}else if(i&&!n){var _i428=null;for(var _s270=t.parentElement;_s270!==e.currentWorkspace;_s270=_s270.parentElement){if("g"===_s270.localName||"a"===_s270.localName){_i428=_s270;break;}}e.currentContainer=_i428,e.selectedElements=[t];}else if(i&&n){var _i429=e.currentContainer,_s271=e.selectedElements;if(_s271=_s271.includes(t)?_s271.filter(function(e){return e!==t;}):[].concat(_toConsumableArray(_s271),[t]),0===_s271.length)_i429=null;else for(var _t560=_s271[0].parentElement;_t560!==e.currentWorkspace;_t560=_t560.parentElement){if("g"===_t560.localName||"a"===_t560.localName){_i429=_t560;break;}}e.currentContainer=_i429,e.selectedElements=_s271;}}else if(l)"scale"===e.transformHud.mode?e.transformHud.mode="rotate-and-skew":e.transformHud.mode="scale";else if(e.transformHud.mode="scale",0===o.length)e.currentContainer=null,e.selectedElements=[t];else{var _i430=e.currentContainer;if(_i430&&_i430.contains(t)){for(;t.parentNode!==_i430;){t=t.parentNode;}e.selectedElements=[t];}else{var _s272=this.Ho(t,_i430);for(;t.parentNode!==_s272&&t.parentNode!==e.currentWorkspace;){t=t.parentNode;}e.currentContainer=_s272,e.selectedElements=[t];}}}},{key:"$n",value:function $n(t){if(0!==t.button)return;var _this$Qs$modKeys4=this.Qs.modKeys,e=_this$Qs$modKeys4.ctrl,i=_this$Qs$modKeys4.shift;e||i||(2===this.Qs.pointerClickCount&&(this.Pn.currentContainer=null),this.Pn.selectedElements=[]);}},{key:"In",value:function In(t){var e=[];if(t!==this.Pn.currentWorkspace)for(;t.parentElement&&t.parentElement!==this.Pn.currentWorkspace;){t=t.parentElement,["g","a"].includes(t.localName)&&e.unshift(t);}return e;}},{key:"Yo",value:function Yo(t){var e=[];for(var _i431=t.parentElement;_i431!==this.Pn.currentWorkspace&&_i431!==this.Pn.currentContainer;_i431=_i431.parentElement){"g"!==_i431.localName&&"a"!==_i431.localName||e.push(_i431);}return e.length>0?e[e.length-1]:null;}},{key:"Ho",value:function Ho(t,e){var i=Li(t,e);if(i)for(;!1===["g","a"].includes(i.localName);){i=i.parentNode;}return i;}}]);return Ir;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ir,"observedAttributes",["enabled"]);customElements.define("bx-transformselectcontext",Ir);var Lr=Math.abs,Br=Math.min;var Rr=/*#__PURE__*/function(_HTMLElement57){_inherits(Rr,_HTMLElement57);var _super61=_createSuper(Rr);function Rr(){_classCallCheck(this,Rr);return _super61.apply(this,arguments);}_createClass(Rr,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this210=this;var t=this.Js.board;t.style.cursor="crosshair",t.workspaces.addEventListener("pointerdown",this.yn=function(t){_this210.kn(t);});}},{key:"sn",value:function sn(){this.Js.board.workspaces.removeEventListener("pointerdown",this.yn);}},{key:"kn",value:function kn(t){var _this211=this;var _e426,_i432,s=new DOMPoint(t.clientX,t.clientY);window.addEventListener("pointermove",_e426=function e(i){var n=new DOMPoint(i.clientX,i.clientY);De(s,n)>=3&&(window.removeEventListener("pointermove",_e426),_this211.ro(t,i));}),window.addEventListener("click",_i432=function i(t){window.removeEventListener("pointermove",_e426),window.removeEventListener("click",_i432);});}},{key:"ro",value:function ro(t){var _this212=this;var e,_i433,s=this.Js.board,n=s.geometryPrecision,o=jt(s.currentWorkspace).inverse();s.undoManager.checkpoint("Draw view"),s.snapManager.snapStart(!1);var l=s.maybeCreateDefsForCurrentWorkspace(),h=null;!1===s.currentWorkspace.hasAttribute("viewBox")?s.selectedElements=[]:(h=zi("svg:view"),h.id=s.generateUniqueID("view",null,1),h.innerHTML="<bx-title>View ".concat(h.id.substring(h.id.indexOf("-")+1),"</bx-title>"),l.append(h),s.selectedElements=[h]);var a=new DOMPoint(t.clientX,t.clientY);a=s.snapManager.snapPoint(a),a=a.matrixTransform(o),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=s.snapManager.snapPoint(e),e=e.matrixTransform(o);var i=e.x-a.x||1,l=e.y-a.y||1,r=Lr(i)||1,d=Lr(l)||1;if(_this212.Qs.modKeys.shift){var _t562=Br(r,d);r=_t562,d=_t562;}var c=i<0?a.x-r:a.x,p=l<0?a.y-d:a.y;c=Z(c,n),p=Z(p,n),r=Z(r,n),d=Z(d,n),h?h.setAttribute("viewBox","".concat(c," ").concat(p," ").concat(r," ").concat(d)):s.currentWorkspace.setAttribute("viewBox","".concat(c," ").concat(p," ").concat(r," ").concat(d));}),window.addEventListener("pointerup",_i433=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i433),s.snapManager.snapEnd();});}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return Rr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Rr,"observedAttributes",["enabled"]);customElements.define("bx-viewcontext",Rr);var Gr=Math.min,Fr=Symbol();var Ur={id:"rect-hud",createdCallback:function createdCallback(){this.Wo=!1,this.qo=[],this.Xo=null,this.Zo=Xi(this.Ko,200,this),this.innerHTML='\n  <style>\n    #rect-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie" data-corner="1"></circle>\n      <circle class="grippie" data-corner="2"></circle>\n      <circle class="grippie" data-corner="3"></circle>\n      <circle class="grippie" data-corner="4"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator285=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step285;try{for(_iterator285.s();!(_step285=_iterator285.n()).done;){var _t563=_step285.value;this["#"+_t563.getAttribute("uid")]=_t563;}}catch(err){_iterator285.e(err);}finally{_iterator285.f();}},enabledCallback:function enabledCallback(){var _this213=this;this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this213.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this214=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this214.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this214.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this214.wo(t);});},tl:function tl(){this.Xo&&this.Xo.dispatchEvent(new CustomEvent("lostpointercapture")),this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.Xo||(this.qo=this.nl(),0===this.qo.length?!0===this.Wo&&this.tl():(!1===this.Wo&&this.el(),this.ol()));},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&t.target.matches(".grippie")&&this.hl(t);},hl:function hl(t){var _this215=this;var e,_i437,s,n,o=this.Pn,l=t.target,h=l.parentElement,a=h[Fr],r=l.getAttribute("data-corner"),d=jt(a).inverse(),c=o.geometryPrecision,p=new DOMPoint(t.clientX,t.clientY).matrixTransform(d),u=new DOMPoint(p.x,p.y),x="normal",b=!1,m=function m(t){var e,i,s,n,o,l,h,a,r,d,c,p;if("rect"===t.localName){var _u25=t.hasAttribute("rx")?t.rx.baseVal.value:t.ry.baseVal.value,_x92=t.hasAttribute("ry")?t.ry.baseVal.value:t.rx.baseVal.value;e=t.x.baseVal.value,i=t.y.baseVal.value,s=t.width.baseVal.value,n=t.height.baseVal.value,o=_u25,l=_u25,h=_u25,a=_u25,r=_x92,d=_x92,c=_x92,p=_x92;}else if("path"===t.localName){var _u26=ul(t).values;e=_u26[0],i=_u26[1],s=_u26[2],n=_u26[3],o=_u26[4],l=_u26[5],h=_u26[6],a=_u26[7],r=void 0===_u26[8]?o:_u26[8],d=void 0===_u26[9]?l:_u26[9],c=void 0===_u26[10]?h:_u26[10],p=void 0===_u26[11]?a:_u26[11];}return[e,i,s,n,o,l,h,a,r,d,c,p];},g=function g(){var _this215$Qs$modKeys=_this215.Qs.modKeys,t=_this215$Qs$modKeys.ctrl,e=_this215$Qs$modKeys.shift;if(!0===t&&!1===e)x="normal";else if(!1===t&&!0===e)x="symmetric-1234";else if(!0===t&&!0===e)x="symmetric-1234";else{var _t564,_e427,_m23=m(a),_m24=_slicedToArray(_m23,12),_i434=_m24[0],_s273=_m24[1],_n198=_m24[2],_o160=_m24[3],_l144=_m24[4],_h111=_m24[5],_d37=_m24[6],_c32=_m24[7],_p29=_m24[8],_u27=_m24[9],_b24=_m24[10],_g22=_m24[11],_f16=[];if("1"===r&&(_t564=_l144,_e427=_p29),"2"===r&&(_t564=_h111,_e427=_u27),"3"===r&&(_t564=_d37,_e427=_b24),"4"===r&&(_t564=_c32,_e427=_g22),_l144===_t564&&_p29===_e427&&_f16.push("1"),_h111===_t564&&_u27===_e427&&_f16.push("2"),_d37===_t564&&_b24===_e427&&_f16.push("3"),_c32===_t564&&_g22===_e427&&_f16.push("4"),1===_f16.length)x="normal";else{x="symmetric-";var _iterator286=_createForOfIteratorHelper(_f16),_step286;try{for(_iterator286.s();!(_step286=_iterator286.n()).done;){var _t565=_step286.value;x+=_t565;}}catch(err){_iterator286.e(err);}finally{_iterator286.f();}}}},f=function f(){var t=u.x-p.x,e=(u.y,p.y,0),_m25=m(a),_m26=_slicedToArray(_m25,12),i=_m26[0],s=_m26[1],l=_m26[2],d=_m26[3],b=_m26[4],g=_m26[5],f=_m26[6],w=_m26[7],v=_m26[8],y=_m26[9],k=_m26[10],S=_m26[11];if("1"===r?e=n[4]+t:"2"===r?e=n[5]-t:"3"===r?e=n[6]-t:"4"===r&&(e=n[7]+t),e=K(e,0,Gr(l/2,d/2),c),"normal"===x?"1"===r?(b=e,v=e):"2"===r?(g=e,y=e):"3"===r?(f=e,k=e):"4"===r&&(w=e,S=e):(x.includes("1")&&(b=e,v=e),x.includes("2")&&(g=e,y=e),x.includes("3")&&(f=e,k=e),x.includes("4")&&(w=e,S=e)),b===g&&b===f&&b===w&&v===y&&v===k&&v===S){if("path"===a.localName){var _t567=a,_e429=zi("svg:rect");var _iterator287=_createForOfIteratorHelper(_t567.attributes),_step287;try{for(_iterator287.s();!(_step287=_iterator287.n()).done;){var _i435=_step287.value;"d"!==_i435.name&&"data-bx-shape"!==_i435.name&&_e429.setAttribute(_i435.name,_i435.value);}}catch(err){_iterator287.e(err);}finally{_iterator287.f();}_e429.setAttribute("x",i),_e429.setAttribute("y",s),_e429.setAttribute("width",l),_e429.setAttribute("height",d),_e429.innerHTML=_t567.innerHTML,_t567.replaceWith(_e429),a=_e429,h[Fr]=_e429,o.selectedElements=o.selectedElements.map(function(i){return i===_t567?_e429:i;});}var _t566=Z(b,c),_e428=Z(g,c);0===_t566?a.removeAttribute("rx"):a.setAttribute("rx",_t566),0===_e428?a.removeAttribute("ry"):a.setAttribute("ry",_e428);}else{if("rect"===a.localName){var _t569=a,_e430=zi("svg:path");var _iterator288=_createForOfIteratorHelper(_t569.attributes),_step288;try{for(_iterator288.s();!(_step288=_iterator288.n()).done;){var _i436=_step288.value;!1===["x","y","width","height","rx","ry"].includes(_i436.name)&&_e430.setAttribute(_i436.name,_i436.value);}}catch(err){_iterator288.e(err);}finally{_iterator288.f();}_e430.innerHTML=_t569.innerHTML,_t569.replaceWith(_e430),a=_e430,h[Fr]=_e430,o.selectedElements=o.selectedElements.map(function(i){return i===_t569?_e430:i;});}var _t568;if(b===v&&g===y&&f===k&&w&&S){_t568=[i,s,l,d,b,g,f,w];}else _t568=[i,s,l,d,b,g,f,w,v,y,k,S];_t568=_t568.map(function(t){return Z(t,c);}),xl(a,{type:"rect",values:_t568},c);}};l.parentElement.append(l),l.setPointerCapture(t.pointerId),this.Xo=l,n=m(a),l.addEventListener("pointermove",e=function e(t){b||(b=!0,o.undoManager.checkpoint("Edit rectangle")),u=new DOMPoint(t.clientX,t.clientY).matrixTransform(d),f();}),l.addEventListener("lostpointercapture",_i437=function i(){l.removeEventListener("pointermove",e),l.removeEventListener("lostpointercapture",_i437),_this215.Qs.removeEventListener("modkeyschange",s),_this215.Xo=null;}),this.Qs.addEventListener("modkeyschange",s=function s(){g(),f();}),g();},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator289=_createForOfIteratorHelper(this.qo),_step289;try{for(_iterator289.s();!(_step289=_iterator289.n()).done;){var _t570=_step289.value;var _e431=this["#subhud-template"].cloneNode(!0);_e431.removeAttribute("uid"),_e431[Fr]=_t570,this["#subhuds"].append(_e431);}}catch(err){_iterator289.e(err);}finally{_iterator289.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator290=_createForOfIteratorHelper(this["#subhuds"].children),_step290;try{for(_iterator290.s();!(_step290=_iterator290.n()).done;){var _t571=_step290.value;var _e432=void 0,_i438=void 0,_s274=void 0,_n199=void 0,_o161=void 0,_l145=void 0,_h112=void 0,_a95=void 0,_r52=_t571[Fr],_d38=Vt(_r52,this);if("rect"===_r52.localName)_e432=_r52.x.baseVal.value,_i438=_r52.y.baseVal.value,_s274=_r52.width.baseVal.value,_n199=_r52.height.baseVal.value,_o161=_r52.rx.baseVal.value,_l145=_r52.rx.baseVal.value,_h112=_r52.rx.baseVal.value,_a95=_r52.rx.baseVal.value;else if("path"===_r52.localName){var _t572=ul(_r52);_e432=_t572.values[0],_i438=_t572.values[1],_s274=_t572.values[2],_n199=_t572.values[3],_o161=_t572.values[4],_l145=_t572.values[5],_h112=_t572.values[6],_a95=_t572.values[7];}var _iterator291=_createForOfIteratorHelper(_t571.children),_step291;try{for(_iterator291.s();!(_step291=_iterator291.n()).done;){var _r53=_step291.value;var _t573=void 0,_c33=_r53.getAttribute("data-corner");"1"===_c33&&(_t573=new DOMPoint(_e432+_o161,_i438)),"2"===_c33?_t573=new DOMPoint(_e432+_s274-_l145,_i438):"3"===_c33?_t573=new DOMPoint(_e432+_s274-_h112,_i438+_n199):"4"===_c33&&(_t573=new DOMPoint(_e432+_a95,_i438+_n199));var _p30=_t573.matrixTransform(_d38);_r53.setAttribute("cx",_p30.x),_r53.setAttribute("cy",_p30.y);}}catch(err){_iterator291.e(err);}finally{_iterator291.f();}}}catch(err){_iterator290.e(err);}finally{_iterator290.f();}},ll:function ll(){var _iterator292=_createForOfIteratorHelper(this["#subhuds"].children),_step292;try{for(_iterator292.s();!(_step292=_iterator292.n()).done;){var _t574=_step292.value;var _iterator293=_createForOfIteratorHelper(_t574.children),_step293;try{for(_iterator293.s();!(_step293=_iterator293.n()).done;){var _e433=_step293.value;_e433.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator293.e(err);}finally{_iterator293.f();}}}catch(err){_iterator292.e(err);}finally{_iterator292.f();}},nl:function nl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator294=_createForOfIteratorHelper(t),_step294;try{for(_iterator294.s();!(_step294=_iterator294.n()).done;){var _i439=_step294.value;"path"===_i439.localName?_i439.hasAttribute("data-bx-shape")&&_i439.getAttribute("data-bx-shape").startsWith("rect")&&e.push(_i439):"rect"===_i439.localName?e.push(_i439):["g","a"].includes(_i439.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.nl(_i439.children))));}}catch(err){_iterator294.e(err);}finally{_iterator294.f();}return e;}};var Nr=Symbol(),Vr=6;var jr={id:"circle-hud",createdCallback:function createdCallback(){this.Wo=!1,this.al=[],this.Xo=null,this.Zo=Xi(this.Ko,200,this),this.innerHTML='\n  <style>\n    #circle-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie" fill="none"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator295=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step295;try{for(_iterator295.s();!(_step295=_iterator295.n()).done;){var _t575=_step295.value;this["#"+_t575.getAttribute("uid")]=_t575;}}catch(err){_iterator295.e(err);}finally{_iterator295.f();}},enabledCallback:function enabledCallback(){var _this216=this;this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this216.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this217=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this217.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this217.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this217.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.al=this.rl(),0===this.al.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){t.target.classList.contains("grippie")&&this.hl(t);},hl:function hl(t){var _this218=this;if(0!==t.button)return;var e,_i440,s=t.target,n=s.parentElement[Nr],o=jt(n).inverse(),l=n.r.baseVal.value,h=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),a=this.Pn.geometryPrecision,r=new DOMPoint(h.x,h.y),d=!1;s.parentElement.append(s),this.Xo=s,window.addEventListener("pointermove",e=function e(t){d||(d=!0,_this218.Pn.undoManager.checkpoint("Circle radius")),r=new DOMPoint(t.clientX,t.clientY).matrixTransform(o);var e=r.x-h.x,i=K(l+e,0,Infinity,a);n.setAttribute("r",i);}),window.addEventListener("pointerup",_i440=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i440),_this218.Xo=null;});},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator296=_createForOfIteratorHelper(this.al),_step296;try{for(_iterator296.s();!(_step296=_iterator296.n()).done;){var _t576=_step296.value;var _e434=this["#subhud-template"].cloneNode(!0);_e434.removeAttribute("uid"),_e434[Nr]=_t576,this["#subhuds"].append(_e434);}}catch(err){_iterator296.e(err);}finally{_iterator296.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator297=_createForOfIteratorHelper(this["#subhuds"].children),_step297;try{for(_iterator297.s();!(_step297=_iterator297.n()).done;){var _t577=_step297.value;var _e435=_t577[Nr],_i441=Vt(_e435,this),_s275=_t577.children[0],_n200=new DOMPoint(_e435.cx.baseVal.value+_e435.r.baseVal.value,_e435.cy.baseVal.value);_n200=_n200.matrixTransform(_i441),_s275.setAttribute("cx",_n200.x),_s275.setAttribute("cy",_n200.y);}}catch(err){_iterator297.e(err);}finally{_iterator297.f();}},ll:function ll(){var _iterator298=_createForOfIteratorHelper(this["#subhuds"].children),_step298;try{for(_iterator298.s();!(_step298=_iterator298.n()).done;){var _t578=_step298.value;var _iterator299=_createForOfIteratorHelper(_t578.children),_step299;try{for(_iterator299.s();!(_step299=_iterator299.n()).done;){var _e436=_step299.value;_e436.setAttribute("r",Vr/this.Pn.scale);}}catch(err){_iterator299.e(err);}finally{_iterator299.f();}}}catch(err){_iterator298.e(err);}finally{_iterator298.f();}},rl:function rl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator300=_createForOfIteratorHelper(t),_step300;try{for(_iterator300.s();!(_step300=_iterator300.n()).done;){var _i442=_step300.value;"circle"===_i442.localName?e.push(_i442):["g","a"].includes(_i442.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.rl(_i442.children))));}}catch(err){_iterator300.e(err);}finally{_iterator300.f();}return e;}};var Hr=Symbol(),Yr=6;var Wr={id:"ellipse-hud",createdCallback:function createdCallback(){this.Wo=!1,this.dl=[],this.Xo=null,this.Zo=Xi(this.Ko,200,this),this.innerHTML='\n  <style>\n    #ellipse-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie" data-axis="rx" fill="none"></circle>\n      <circle class="grippie" data-axis="ry" fill="none"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator301=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step301;try{for(_iterator301.s();!(_step301=_iterator301.n()).done;){var _t579=_step301.value;this["#"+_t579.getAttribute("uid")]=_t579;}}catch(err){_iterator301.e(err);}finally{_iterator301.f();}},enabledCallback:function enabledCallback(){var _this219=this;this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this219.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this220=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this220.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this220.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this220.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.dl=this.cl(),0===this.dl.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&t.target.classList.contains("grippie")&&this.hl(t);},hl:function hl(t){var _this221=this;var e,_i443,s,n=t.target,o=n.parentElement[Hr],l=n.getAttribute("data-axis"),h=jt(o).inverse(),a=o.rx.baseVal.value,r=o.ry.baseVal.value,d=new DOMPoint(t.clientX,t.clientY).matrixTransform(h),c=this.Pn.geometryPrecision,p=new DOMPoint(d.x,d.y),u="normal",x=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Xo=n;var b=function b(){var _this221$Qs$modKeys=_this221.Qs.modKeys,t=_this221$Qs$modKeys.ctrl,e=_this221$Qs$modKeys.shift;!0===t&&!1===e?u="normal":(!1===t&&!0===e||!0===t&&!0===e||o.rx.baseVal.value===o.ry.baseVal.value)&&(u="symmetric");},m=function m(){var t=p.x-d.x,e=p.y-d.y;if("rx"===l){if("normal"===u){var _e437=K(a+t,0,Infinity,c);o.setAttribute("rx",_e437);}else if("symmetric"===u){var _e438=K(a+t,0,Infinity,c);o.setAttribute("rx",_e438),o.setAttribute("ry",_e438);}}else if("ry"===l)if("normal"===u){var _t580=K(r+e,0,Infinity,c);o.setAttribute("ry",_t580);}else if("symmetric"===u){var _t581=K(r+e,0,Infinity,c);o.setAttribute("rx",_t581),o.setAttribute("ry",_t581);}};n.addEventListener("pointermove",e=function e(t){x||(x=!0,_this221.Pn.undoManager.checkpoint("Edit ellipse")),p=new DOMPoint(t.clientX,t.clientY).matrixTransform(h),m();}),n.addEventListener("lostpointercapture",_i443=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i443),_this221.Qs.removeEventListener("modkeyschange",s),_this221.Xo=null;}),this.Qs.addEventListener("modkeyschange",s=function s(){b(),m();}),b();},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator302=_createForOfIteratorHelper(this.dl),_step302;try{for(_iterator302.s();!(_step302=_iterator302.n()).done;){var _t582=_step302.value;var _e439=this["#subhud-template"].cloneNode(!0);_e439.removeAttribute("uid"),_e439[Hr]=_t582,this["#subhuds"].append(_e439);}}catch(err){_iterator302.e(err);}finally{_iterator302.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator303=_createForOfIteratorHelper(this["#subhuds"].children),_step303;try{for(_iterator303.s();!(_step303=_iterator303.n()).done;){var _t583=_step303.value;var _e440=_t583[Hr],_i444=Vt(_e440,this);var _iterator304=_createForOfIteratorHelper(_t583.children),_step304;try{for(_iterator304.s();!(_step304=_iterator304.n()).done;){var _s276=_step304.value;var _t584=_s276.getAttribute("data-axis");if("rx"===_t584){var _t585=new DOMPoint(_e440.cx.baseVal.value+_e440.rx.baseVal.value,_e440.cy.baseVal.value).matrixTransform(_i444);_s276.setAttribute("cx",_t585.x),_s276.setAttribute("cy",_t585.y);}else if("ry"===_t584){var _t586=new DOMPoint(_e440.cx.baseVal.value,_e440.cy.baseVal.value+_e440.ry.baseVal.value).matrixTransform(_i444);_s276.setAttribute("cx",_t586.x),_s276.setAttribute("cy",_t586.y);}}}catch(err){_iterator304.e(err);}finally{_iterator304.f();}}}catch(err){_iterator303.e(err);}finally{_iterator303.f();}},ll:function ll(){var _iterator305=_createForOfIteratorHelper(this["#subhuds"].children),_step305;try{for(_iterator305.s();!(_step305=_iterator305.n()).done;){var _t587=_step305.value;var _iterator306=_createForOfIteratorHelper(_t587.children),_step306;try{for(_iterator306.s();!(_step306=_iterator306.n()).done;){var _e441=_step306.value;_e441.setAttribute("r",Yr/this.Pn.scale);}}catch(err){_iterator306.e(err);}finally{_iterator306.f();}}}catch(err){_iterator305.e(err);}finally{_iterator305.f();}},cl:function cl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator307=_createForOfIteratorHelper(t),_step307;try{for(_iterator307.s();!(_step307=_iterator307.n()).done;){var _i445=_step307.value;"ellipse"===_i445.localName?e.push(_i445):["g","a"].includes(_i445.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.cl(_i445.children))));}}catch(err){_iterator307.e(err);}finally{_iterator307.f();}return e;}};var qr=Math.min,Xr=Math.max,Zr=Symbol();var Kr={id:"ring-hud",createdCallback:function createdCallback(){this.Wo=!1,this.pl=[],this.Xo=null,this.Zo=Xi(this.Ko,200,this),this.innerHTML='\n  <style>\n    #ring-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie" data-axis="r1x"></circle>\n      <circle class="grippie" data-axis="r1y"></circle>\n      <circle class="grippie" data-axis="r2x"></circle>\n      <circle class="grippie" data-axis="r2y"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator308=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step308;try{for(_iterator308.s();!(_step308=_iterator308.n()).done;){var _t588=_step308.value;this["#"+_t588.getAttribute("uid")]=_t588;}}catch(err){_iterator308.e(err);}finally{_iterator308.f();}},enabledCallback:function enabledCallback(){var _this222=this;this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this222.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this223=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this223.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this223.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this223.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.pl=this.ul(),0===this.pl.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&t.target.classList.contains("grippie")&&this.hl(t);},hl:function hl(t){var _this224=this;var e,_i454,s,n=t.target,o=n.parentElement[Zr],l=jt(o).inverse(),h=new DOMPoint(t.clientX,t.clientY).matrixTransform(l),a=n.getAttribute("data-axis"),r=new DOMPoint(h.x,h.y),d="normal",c=!1,_ul$values10=_slicedToArray(ul(o).values,6),p=_ul$values10[0],u=_ul$values10[1],x=_ul$values10[2],b=_ul$values10[3],m=_ul$values10[4],g=_ul$values10[5],f=x,w=b,v=m,y=g;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Xo=n;var k=function k(){var _this224$Qs$modKeys=_this224.Qs.modKeys,t=_this224$Qs$modKeys.ctrl,e=_this224$Qs$modKeys.shift;!0===t&&!1===e?d="normal":!1===t&&!0===e?d="symmetric":!0===t&&!0===e?d="double-symmetric":(("r1x"===a&&x===b||"r1y"===a&&x===b)&&(d="symmetric"),("r2x"===a&&m===g||"r2y"===a&&m===g)&&(d="symmetric"));},S=function S(){var t=r.x-h.x,e=r.y-h.y;if("r1x"===a){if("normal"===d){x=K(f+t,1,m-1);}else if("symmetric"===d){var _e442=1,_i446=qr(m,g)-1,_s277=K(f+t,_e442,_i446);x=b=_s277;}else if("double-symmetric"===d){var _e443=m-x,_i447=K(f+t,1,Infinity);x=b=_i447,m=g=_i447+_e443;}}else if("r1y"===a){if("normal"===d){b=K(w+e,1,g-1);}else if("symmetric"===d){var _t589=1,_i448=qr(m,g)-1,_s278=K(w+e,_t589,_i448);x=b=_s278;}else if("double-symmetric"===d){var _t590=g-b,_i449=K(w+e,1,Infinity);x=b=_i449,m=g=_i449+_t590;}}else if("r2x"===a){if("normal"===d){m=K(v+t,x+1,Infinity);}else if("symmetric"===d){var _e444=Xr(x,b)+1,_i450=K(v+t,_e444,Infinity);m=g=_i450;}else if("double-symmetric"===d){var _e445=m-x,_i451=K(v+t,_e445+1,Infinity);x=b=_i451-_e445,m=g=_i451;}}else if("r2y"===a)if("normal"===d){g=K(y+e,b+1,Infinity);}else if("symmetric"===d){var _t591=Xr(x,b)+1,_i452=K(y+e,_t591,Infinity);m=g=_i452;}else if("double-symmetric"===d){var _t592=g-b,_i453=K(y+e,_t592+1,r2max);x=b=_i453-_t592,m=g=_i453;}var i=[p,u,x,b,m,g];i=i.map(function(t){return Z(t,_this224.Pn.geometryPrecision);}),xl(o,{type:"ring",values:i},_this224.Pn.geometryPrecision);};n.addEventListener("pointermove",e=function e(t){c||(_this224.Pn.undoManager.checkpoint("Ring radius"),c=!0),r=new DOMPoint(t.clientX,t.clientY).matrixTransform(l),S();}),n.addEventListener("lostpointercapture",_i454=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i454),_this224.Qs.removeEventListener("modkeyschange",s),_this224.Xo=null;}),this.Qs.addEventListener("modkeyschange",s=function s(){k(),S();}),k();},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator309=_createForOfIteratorHelper(this.pl),_step309;try{for(_iterator309.s();!(_step309=_iterator309.n()).done;){var _t593=_step309.value;var _e446=this["#subhud-template"].cloneNode(!0);_e446.removeAttribute("uid"),_e446[Zr]=_t593,this["#subhuds"].append(_e446);}}catch(err){_iterator309.e(err);}finally{_iterator309.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator310=_createForOfIteratorHelper(this["#subhuds"].children),_step310;try{for(_iterator310.s();!(_step310=_iterator310.n()).done;){var _t594=_step310.value;var _e447=_t594[Zr],_i455=Vt(_e447,this),_ul$values11=_slicedToArray(ul(_e447).values,6),_s279=_ul$values11[0],_n201=_ul$values11[1],_o162=_ul$values11[2],_l146=_ul$values11[3],_h113=_ul$values11[4],_a96=_ul$values11[5];var _iterator311=_createForOfIteratorHelper(_t594.children),_step311;try{for(_iterator311.s();!(_step311=_iterator311.n()).done;){var _e448=_step311.value;var _t595=_e448.getAttribute("data-axis");if("r1x"===_t595){var _t596=new DOMPoint(_s279+_o162,_n201).matrixTransform(_i455);_e448.setAttribute("cx",_t596.x),_e448.setAttribute("cy",_t596.y);}else if("r1y"===_t595){var _t597=new DOMPoint(_s279,_n201+_l146).matrixTransform(_i455);_e448.setAttribute("cx",_t597.x),_e448.setAttribute("cy",_t597.y);}else if("r2x"===_t595){var _t598=new DOMPoint(_s279+_h113,_n201).matrixTransform(_i455);_e448.setAttribute("cx",_t598.x),_e448.setAttribute("cy",_t598.y);}else if("r2y"===_t595){var _t599=new DOMPoint(_s279,_n201+_a96).matrixTransform(_i455);_e448.setAttribute("cx",_t599.x),_e448.setAttribute("cy",_t599.y);}}}catch(err){_iterator311.e(err);}finally{_iterator311.f();}}}catch(err){_iterator310.e(err);}finally{_iterator310.f();}},ll:function ll(){var _iterator312=_createForOfIteratorHelper(this["#subhuds"].children),_step312;try{for(_iterator312.s();!(_step312=_iterator312.n()).done;){var _t600=_step312.value;var _iterator313=_createForOfIteratorHelper(_t600.children),_step313;try{for(_iterator313.s();!(_step313=_iterator313.n()).done;){var _e449=_step313.value;_e449.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator313.e(err);}finally{_iterator313.f();}}}catch(err){_iterator312.e(err);}finally{_iterator312.f();}},ul:function ul(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator314=_createForOfIteratorHelper(t),_step314;try{for(_iterator314.s();!(_step314=_iterator314.n()).done;){var _i456=_step314.value;"path"===_i456.localName?_i456.hasAttribute("data-bx-shape")&&_i456.getAttribute("data-bx-shape").startsWith("ring")&&e.push(_i456):["g","a"].includes(_i456.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.ul(_i456.children))));}}catch(err){_iterator314.e(err);}finally{_iterator314.f();}return e;}};var Qr=Number.MAX_SAFE_INTEGER,Jr=Symbol();var td={id:"pie-hud",createdCallback:function createdCallback(){this.Wo=!1,this.pl=[],this.Xo=null,this.Zo=Xi(this.Ko,200,this),this.innerHTML='\n  <style>\n    #pie-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #pie-hud .start-angle-grippie,\n    #pie-hud .end-angle-grippie {\n      fill: #C3C303;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie r-grippie r1-grippie"></circle>\n      <circle class="grippie r-grippie r2-grippie"></circle>\n      <circle class="grippie angle-grippie start-angle-grippie"></circle>\n      <circle class="grippie angle-grippie end-angle-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator315=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step315;try{for(_iterator315.s();!(_step315=_iterator315.n()).done;){var _t601=_step315.value;this["#"+_t601.getAttribute("uid")]=_t601;}}catch(err){_iterator315.e(err);}finally{_iterator315.f();}},enabledCallback:function enabledCallback(){var _this225=this;this.Pn=Ai(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this225.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this226=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this226.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this226.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this226.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.xl=this.bl(),0===this.xl.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&(t.target.matches(".r-grippie")?this.ml(t):t.target.matches(".angle-grippie")&&this.gl(t));},ml:function ml(t){var _this227=this;var e,_i457,s,n=this.Pn,o=t.target,l=o.parentElement[Jr],_ul$values12=_slicedToArray(ul(l).values,6),h=_ul$values12[0],a=_ul$values12[1],r=_ul$values12[2],d=_ul$values12[3],c=_ul$values12[4],p=_ul$values12[5],u=!1,x=jt(l).inverse(),b=Vt(l,n.vectorCanvas).inverse(),m=new DOMPoint(t.clientX,t.clientY).matrixTransform(x),g=new DOMPoint(h,a),f=new DOMPoint(o.cx.baseVal.value,o.cy.baseVal.value).matrixTransform(b),w=new X(m,f),v=g;{var _t602=(c+p)/2;c>p&&(_t602-=180);var _e450=new DOMMatrix();_e450.translateSelf(h,a),_e450.rotateSelf(_t602),_e450.translateSelf(-h,-a),s=new DOMPoint(h,a-Qr).matrixTransform(_e450);}o.parentElement.append(o),o.setPointerCapture(t.pointerId),this.Xo=o,o.addEventListener("pointermove",e=function e(t){!1===u&&(u=!0,n.undoManager.checkpoint("Pie radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(x),i=w.transformPoint(e),_Oe5=Oe(v,s,i,!1),_Oe6=_slicedToArray(_Oe5,1),b=_Oe6[0],m=De(g,b);o.matches(".r1-grippie")?r=m>d-1?d-1:m:o.matches(".r2-grippie")&&(d=m<r+1?r+1:m),xl(l,{type:"pie",values:[h,a,r,d,c,p]},n.geometryPrecision);}),o.addEventListener("lostpointercapture",_i457=function i(){o.removeEventListener("pointermove",e),o.removeEventListener("lostpointercapture",_i457),_this227.Xo=null;});},gl:function gl(t){var _this228=this;var e,_i458,s=t.target,n=s.parentElement[Jr],o=jt(n).inverse(),l=this.Pn.geometryPrecision,_ul$values13=_slicedToArray(ul(n).values,6),h=_ul$values13[0],a=_ul$values13[1],r=_ul$values13[2],d=_ul$values13[3],c=_ul$values13[4],p=_ul$values13[5],u=c,x=p,b=new DOMPoint(h,a),m=new DOMPoint(b.x,b.y-100),g=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=Ie(b,m,e);i=_this228.fl(i),s.matches(".start-angle-grippie")?c=i:p=i,!1!==g||c===u&&p===x||(_this228.Pn.undoManager.checkpoint("Pie start angle"),g=!0),xl(n,{type:"pie",values:[h,a,r,d,c,p]},l);}),s.addEventListener("lostpointercapture",_i458=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i458),_this228.Xo=null;});},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator316=_createForOfIteratorHelper(this.xl),_step316;try{for(_iterator316.s();!(_step316=_iterator316.n()).done;){var _t603=_step316.value;var _e451=this["#subhud-template"].cloneNode(!0);_e451.removeAttribute("uid"),_e451[Jr]=_t603,this["#subhuds"].append(_e451);}}catch(err){_iterator316.e(err);}finally{_iterator316.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator317=_createForOfIteratorHelper(this["#subhuds"].children),_step317;try{for(_iterator317.s();!(_step317=_iterator317.n()).done;){var _t604=_step317.value;var _e452=_t604[Jr],_i459=Vt(_e452,this.Pn.vectorCanvas),_ul$values14=_slicedToArray(ul(_e452).values,6),_s280=_ul$values14[0],_n202=_ul$values14[1],_o163=_ul$values14[2],_l147=_ul$values14[3],_h114=_ul$values14[4],_a97=_ul$values14[5];var _iterator318=_createForOfIteratorHelper(_t604.children),_step318;try{for(_iterator318.s();!(_step318=_iterator318.n()).done;){var _e453=_step318.value;if(_e453.matches(".start-angle-grippie")){var _t605=new DOMMatrix();_t605.translateSelf(_s280,_n202),_t605.rotateSelf(_h114),_t605.translateSelf(-_s280,-_n202);var _a98=new DOMPoint(_s280,_n202-_o163+(_o163-_l147)/2);_a98=_a98.matrixTransform(_t605),_a98=_a98.matrixTransform(_i459),_e453.setAttribute("cx",_a98.x),_e453.setAttribute("cy",_a98.y);}else if(_e453.matches(".end-angle-grippie")){var _t606=new DOMMatrix();_t606.translateSelf(_s280,_n202),_t606.rotateSelf(_a97),_t606.translateSelf(-_s280,-_n202);var _h115=new DOMPoint(_s280,_n202-_o163+(_o163-_l147)/2);_h115=_h115.matrixTransform(_t606),_h115=_h115.matrixTransform(_i459),_e453.setAttribute("cx",_h115.x),_e453.setAttribute("cy",_h115.y);}else if(_e453.matches(".r1-grippie")){var _t607=(_h114+_a97)/2;_h114>_a97&&(_t607-=180);var _l148=new DOMMatrix();_l148.translateSelf(_s280,_n202),_l148.rotateSelf(_t607),_l148.translateSelf(-_s280,-_n202);var _r54=new DOMPoint(_s280,_n202-_o163);_r54=_r54.matrixTransform(_l148),_r54=_r54.matrixTransform(_i459),_e453.setAttribute("cx",_r54.x),_e453.setAttribute("cy",_r54.y);}else if(_e453.matches(".r2-grippie")){var _t608=(_h114+_a97)/2;_h114>_a97&&(_t608-=180);var _o164=new DOMMatrix();_o164.translateSelf(_s280,_n202),_o164.rotateSelf(_t608),_o164.translateSelf(-_s280,-_n202);var _r55=new DOMPoint(_s280,_n202-_l147);_r55=_r55.matrixTransform(_o164),_r55=_r55.matrixTransform(_i459),_e453.setAttribute("cx",_r55.x),_e453.setAttribute("cy",_r55.y);}}}catch(err){_iterator318.e(err);}finally{_iterator318.f();}}}catch(err){_iterator317.e(err);}finally{_iterator317.f();}},ll:function ll(){var _iterator319=_createForOfIteratorHelper(this["#subhuds"].children),_step319;try{for(_iterator319.s();!(_step319=_iterator319.n()).done;){var _t609=_step319.value;var _iterator320=_createForOfIteratorHelper(_t609.children),_step320;try{for(_iterator320.s();!(_step320=_iterator320.n()).done;){var _e454=_step320.value;_e454.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator320.e(err);}finally{_iterator320.f();}}}catch(err){_iterator319.e(err);}finally{_iterator319.f();}},bl:function bl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator321=_createForOfIteratorHelper(t),_step321;try{for(_iterator321.s();!(_step321=_iterator321.n()).done;){var _i460=_step321.value;"path"===_i460.localName?_i460.hasAttribute("data-bx-shape")&&_i460.getAttribute("data-bx-shape").startsWith("pie")&&e.push(_i460):["g","a"].includes(_i460.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.bl(_i460.children))));}}catch(err){_iterator321.e(err);}finally{_iterator321.f();}return e;},fl:function fl(t){for(;t<0;){t+=360;}for(;t>360;){t-=360;}return t;}};var ed=Math.abs,id=Math.min,sd=Math.max,nd=Math.sin,od=Math.cos,ld=Symbol();var hd={id:"crescent-hud",createdCallback:function createdCallback(){this.Wo=!1,this.wl=[],this.Xo=null,this.Zo=Xi(this.Ko,200,this),this.innerHTML='\n  <style>\n    #crescent-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie arch-grippie"></circle>\n      <circle class="grippie hollow-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator322=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step322;try{for(_iterator322.s();!(_step322=_iterator322.n()).done;){var _t610=_step322.value;this["#"+_t610.getAttribute("uid")]=_t610;}}catch(err){_iterator322.e(err);}finally{_iterator322.f();}},enabledCallback:function enabledCallback(){var _this229=this;this.Pn=Ai(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this229.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this230=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this230.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this230.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this230.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.wl=this.vl(),0===this.wl.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&(t.target.matches(".arch-grippie")?this.yl(t):t.target.matches(".hollow-grippie")&&this.kl(t));},yl:function yl(t){var _this231=this;var e,_i461,s=this.Pn,n=t.target,o=n.parentElement[ld],_ul$values15=_slicedToArray(ul(o).values,5),l=_ul$values15[0],h=_ul$values15[1],a=_ul$values15[2],r=_ul$values15[3],d=_ul$values15[4],c=r,p=jt(o).inverse(),u=Vt(o,s.vectorCanvas).inverse(),x=new DOMPoint(t.clientX,t.clientY).matrixTransform(p),b=new DOMPoint(n.cx.baseVal.value,n.cy.baseVal.value).matrixTransform(u),m=new DOMPoint(l,h),g=new DOMPoint(l+a,h),f=new X(x,b),w=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Xo=n,n.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(p),i=f.transformPoint(e),n=We(i,m,a),u=Ie(m,n,g);r=u<0&&u>=-90?1:u<-90&&u>=-180?359:K(ed(2*u),1,359,0),!1===w&&r!==c&&(s.undoManager.checkpoint("Crescent arch"),w=!0),xl(o,{type:"crescent",values:[l,h,a,r,d]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i461=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i461),_this231.Xo=null;});},kl:function kl(t){var _this232=this;var e,_i462,s=this.Pn,n=t.target,o=n.parentElement[ld],_ul$values16=_slicedToArray(ul(o).values,5),l=_ul$values16[0],h=_ul$values16[1],a=_ul$values16[2],r=_ul$values16[3],d=_ul$values16[4],c=d,p=jt(o).inverse(),u=Vt(o,s.vectorCanvas).inverse(),x=new DOMPoint(t.clientX,t.clientY).matrixTransform(p),b=new DOMPoint(n.cx.baseVal.value,n.cy.baseVal.value).matrixTransform(u),m=new DOMPoint(l-a,h),g=new DOMPoint(l+a,h),f=new X(x,b),w=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Xo=n,n.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(p),i=f.transformPoint(e),_Oe7=Oe(m,g,i,!1),_Oe8=_slicedToArray(_Oe7,1),n=_Oe8[0];d=(n.x-m.x)/(2*a),d=K(d,0,1,4),!1===w&&d!==c&&(s.undoManager.checkpoint("Crescent hollow"),w=!0),xl(o,{type:"crescent",values:[l,h,a,r,d]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i462=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i462),_this232.Xo=null;});},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator323=_createForOfIteratorHelper(this.wl),_step323;try{for(_iterator323.s();!(_step323=_iterator323.n()).done;){var _t611=_step323.value;var _e455=this["#subhud-template"].cloneNode(!0);_e455.removeAttribute("uid"),_e455[ld]=_t611,this["#subhuds"].append(_e455);}}catch(err){_iterator323.e(err);}finally{_iterator323.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator324=_createForOfIteratorHelper(this["#subhuds"].children),_step324;try{for(_iterator324.s();!(_step324=_iterator324.n()).done;){var _t612=_step324.value;var _e456=_t612[ld],_i463=Vt(_e456,this.Pn.vectorCanvas),_ul$values17=_slicedToArray(ul(_e456).values,5),_s281=_ul$values17[0],_n203=_ul$values17[1],_o165=_ul$values17[2],_l149=_ul$values17[3],_h116=_ul$values17[4];var _iterator325=_createForOfIteratorHelper(_t612.children),_step325;try{for(_iterator325.s();!(_step325=_iterator325.n()).done;){var _e457=_step325.value;if(_e457.matches(".arch-grippie")){var _t613=Le(90-_l149/2),_h117=Ge(_t613),_a99=new DOMPoint(_s281+_o165*nd(_h117),_n203+_o165*-od(_h117));_a99=_a99.matrixTransform(_i463),_e457.setAttribute("cx",_a99.x),_e457.setAttribute("cy",_a99.y);}else if(_e457.matches(".hollow-grippie")){var _t614=new DOMPoint(_s281-_o165+2*_o165*_h116,_n203);_t614=_t614.matrixTransform(_i463),_e457.setAttribute("cx",_t614.x),_e457.setAttribute("cy",_t614.y);}}}catch(err){_iterator325.e(err);}finally{_iterator325.f();}}}catch(err){_iterator324.e(err);}finally{_iterator324.f();}},ll:function ll(){var _iterator326=_createForOfIteratorHelper(this["#subhuds"].children),_step326;try{for(_iterator326.s();!(_step326=_iterator326.n()).done;){var _t615=_step326.value;var _iterator327=_createForOfIteratorHelper(_t615.children),_step327;try{for(_iterator327.s();!(_step327=_iterator327.n()).done;){var _e458=_step327.value;_e458.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator327.e(err);}finally{_iterator327.f();}}}catch(err){_iterator326.e(err);}finally{_iterator326.f();}},vl:function vl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator328=_createForOfIteratorHelper(t),_step328;try{for(_iterator328.s();!(_step328=_iterator328.n()).done;){var _i464=_step328.value;"path"===_i464.localName?_i464.hasAttribute("data-bx-shape")&&_i464.getAttribute("data-bx-shape").startsWith("crescent")&&e.push(_i464):["g","a"].includes(_i464.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.vl(_i464.children))));}}catch(err){_iterator328.e(err);}finally{_iterator328.f();}return e;}};var ad=Math.abs,rd=Symbol();var dd={id:"triangle-hud",createdCallback:function createdCallback(){this.Wo=!1,this.pl=[],this.Xo=null,this.Zo=Xi(this.Ko,200,this),this.innerHTML='\n  <style>\n    #triangle-hud .grippie {\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #triangle-hud .shift-grippie {\n      fill: #C3C303;\n    }\n    #triangle-hud .corner-grippie {\n      fill: #73BA09;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie shift-grippie"></circle>\n      <circle class="grippie corner-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator329=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step329;try{for(_iterator329.s();!(_step329=_iterator329.n()).done;){var _t616=_step329.value;this["#"+_t616.getAttribute("uid")]=_t616;}}catch(err){_iterator329.e(err);}finally{_iterator329.f();}},enabledCallback:function enabledCallback(){var _this233=this;this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this233.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this234=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this234.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this234.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this234.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.Sl=this._l(),0===this.Sl.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&(t.target.matches(".shift-grippie")?this.Cl(t):t.target.matches(".corner-grippie")&&this.Ml(t));},Cl:function Cl(t){var _this235=this;var e,_i465,s=t.target,n=s.parentElement[rd],o=jt(n).inverse(),_ul$values18=_slicedToArray(ul(n).values,6),l=_ul$values18[0],h=_ul$values18[1],a=_ul$values18[2],r=_ul$values18[3],d=_ul$values18[4],c=_ul$values18[5],p=this.Pn.geometryPrecision,u=new DOMPoint(l,h),x=new DOMPoint(l+a,h),b=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),m=new DOMPoint(l+a*d,h),g=new X(m,b).getOppositeVector(),f=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(t){!1===f&&(f=!0,_this235.Pn.undoManager.checkpoint("Triangle radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o);e=g.transformPoint(e);var _Oe9=Oe(u,x,e,!1),_Oe10=_slicedToArray(_Oe9,1),i=_Oe10[0];d=(i.x-u.x)/a,d=K(d,0,1,4),_this235.Qs.modKeys.shift&&(d=[0,.5,1].reduce(function(t,e){return ad(e-d)<ad(t-d)?e:t;}));var s=[l,h,a,r,d,c].map(function(t){return Z(t,p);});xl(n,{type:"triangle",values:s},p);}),s.addEventListener("lostpointercapture",_i465=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i465),_this235.Xo=null;});},Ml:function Ml(t){var _this236=this;var e,_i466,s=t.target,n=s.parentElement[rd],o=(Nt(n),jt(n).inverse()),_ul$values19=_slicedToArray(ul(n).values,6),l=_ul$values19[0],h=_ul$values19[1],a=_ul$values19[2],r=_ul$values19[3],d=_ul$values19[4],c=_ul$values19[5],p=this.Pn.geometryPrecision,u=new DOMPoint(l+a*d,h),x=new DOMPoint(l+a,h+r),b=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),m=new DOMPoint(b.x,b.y),g=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(t){!1===g&&(g=!0,_this236.Pn.undoManager.checkpoint("Triangle radius"));var e=new DOMPoint(t.clientX,t.clientY);m=e.matrixTransform(o);var _Oe11=Oe(x,u,m,!1),_Oe12=_slicedToArray(_Oe11,1),i=_Oe12[0],s=new X(x,i),c=new X(x,u),b=s.length/c.length,f=K(b,0,.5,4),w=[l,h,a,r,d,f].map(function(t){return Z(t,p);});xl(n,{type:"triangle",values:w},p);}),s.addEventListener("lostpointercapture",_i466=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i466),_this236.Xo=null;});},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator330=_createForOfIteratorHelper(this.Sl),_step330;try{for(_iterator330.s();!(_step330=_iterator330.n()).done;){var _t617=_step330.value;var _e459=this["#subhud-template"].cloneNode(!0);_e459.removeAttribute("uid"),_e459[rd]=_t617,this["#subhuds"].append(_e459);}}catch(err){_iterator330.e(err);}finally{_iterator330.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator331=_createForOfIteratorHelper(this["#subhuds"].children),_step331;try{for(_iterator331.s();!(_step331=_iterator331.n()).done;){var _t618=_step331.value;var _e460=_t618[rd],_i467=Vt(_e460,this),_ul$values20=_slicedToArray(ul(_e460).values,6),_s282=_ul$values20[0],_n204=_ul$values20[1],_o166=_ul$values20[2],_l150=_ul$values20[3],_h118=_ul$values20[4],_a100=_ul$values20[5];var _iterator332=_createForOfIteratorHelper(_t618.children),_step332;try{for(_iterator332.s();!(_step332=_iterator332.n()).done;){var _e461=_step332.value;if(_e461.matches(".shift-grippie")){var _t619=new DOMPoint(_s282+_o166*_h118,_n204).matrixTransform(_i467);_e461.setAttribute("cx",_t619.x),_e461.setAttribute("cy",_t619.y);}else if(_e461.matches(".corner-grippie")){var _t620=new DOMPoint(_s282+_o166*_h118,_n204).matrixTransform(_i467),_r56=new DOMPoint(_s282+_o166,_n204+_l150).matrixTransform(_i467),_d39=Ee(_r56,_t620,_a100);_e461.setAttribute("cx",_d39.x),_e461.setAttribute("cy",_d39.y);}}}catch(err){_iterator332.e(err);}finally{_iterator332.f();}}}catch(err){_iterator331.e(err);}finally{_iterator331.f();}},ll:function ll(){var _iterator333=_createForOfIteratorHelper(this["#subhuds"].children),_step333;try{for(_iterator333.s();!(_step333=_iterator333.n()).done;){var _t621=_step333.value;var _iterator334=_createForOfIteratorHelper(_t621.children),_step334;try{for(_iterator334.s();!(_step334=_iterator334.n()).done;){var _e462=_step334.value;_e462.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator334.e(err);}finally{_iterator334.f();}}}catch(err){_iterator333.e(err);}finally{_iterator333.f();}},_l:function _l(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator335=_createForOfIteratorHelper(t),_step335;try{for(_iterator335.s();!(_step335=_iterator335.n()).done;){var _i468=_step335.value;"path"===_i468.localName?_i468.hasAttribute("data-bx-shape")&&_i468.getAttribute("data-bx-shape").startsWith("triangle")&&e.push(_i468):["g","a"].includes(_i468.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this._l(_i468.children))));}}catch(err){_iterator335.e(err);}finally{_iterator335.f();}return e;}};var cd=Symbol(),pd=6;var ud={id:"n-gon-hud",createdCallback:function createdCallback(){this.Wo=!1,this.pl=[],this.Xo=null,this.Zo=Xi(this.Ko,200,this),this.innerHTML='\n  <style>\n    #n-gon-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #n-gon-hud .grippie.r-grippie {\n      fill: red;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie arms-grippie"></circle>\n      <circle class="grippie corner-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator336=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step336;try{for(_iterator336.s();!(_step336=_iterator336.n()).done;){var _t622=_step336.value;this["#"+_t622.getAttribute("uid")]=_t622;}}catch(err){_iterator336.e(err);}finally{_iterator336.f();}},enabledCallback:function enabledCallback(){var _this237=this;this.Pn=Ai(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this237.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this238=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this238.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this238.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this238.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.Pl=this.Dl(),0===this.Pl.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&(t.target.matches(".arms-grippie")?this.zl(t):t.target.matches(".corner-grippie")&&this.Ml(t));},zl:function zl(t){var _this239=this;if(0!==t.button)return;var e,_i469,s=t.target,n=s.parentElement[cd],o=this.Pn.geometryPrecision,_ul$values21=_slicedToArray(ul(n).values,6),l=_ul$values21[0],h=_ul$values21[1],a=_ul$values21[2],r=_ul$values21[3],d=_ul$values21[4],c=_ul$values21[5],p=d,u=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(_e463){var i=Z((_e463.clientX-t.clientX)/10,0);d=p+i,d<5&&(d=5),!1===u&&d!==p&&(_this239.Pn.undoManager.checkpoint("Change number of n-gon arms"),u=!0),xl(n,{type:"n-gon",values:[l,h,a,r,d,c]},o);}),s.addEventListener("lostpointercapture",_i469=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i469),_this239.Xo=null;});},Ml:function Ml(t){var _this240=this;if(0!==t.button)return;var e,_i470,s=t.target,n=s.parentElement[cd],o=(Nt(n),jt(n).inverse()),l=this.Pn.geometryPrecision,_ul$values22=_slicedToArray(ul(n).values,6),h=_ul$values22[0],a=_ul$values22[1],r=_ul$values22[2],d=_ul$values22[3],c=_ul$values22[4],p=_ul$values22[5],u=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),x=new DOMPoint(u.x,u.y),b=Dl(0,h,a,r,d,c),m=Dl(1,h,a,r,d,c),g=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(t){!1===g&&(g=!0,_this240.Pn.undoManager.checkpoint("N-gon radius"));var e=new DOMPoint(t.clientX,t.clientY);x=e.matrixTransform(o);var _Oe13=Oe(b,m,x,!1),_Oe14=_slicedToArray(_Oe13,1),i=_Oe14[0],s=new X(b,i),p=new X(b,m),u=s.length/p.length,f=K(u,0,.5,2);xl(n,{type:"n-gon",values:[h,a,r,d,c,f]},l);}),s.addEventListener("lostpointercapture",_i470=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i470),_this240.Xo=null;});},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator337=_createForOfIteratorHelper(this.Pl),_step337;try{for(_iterator337.s();!(_step337=_iterator337.n()).done;){var _t623=_step337.value;var _e464=this["#subhud-template"].cloneNode(!0);_e464.removeAttribute("uid"),_e464[cd]=_t623,this["#subhuds"].append(_e464);}}catch(err){_iterator337.e(err);}finally{_iterator337.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator338=_createForOfIteratorHelper(this["#subhuds"].children),_step338;try{for(_iterator338.s();!(_step338=_iterator338.n()).done;){var _t624=_step338.value;var _e465=_t624[cd],_i471=Vt(_e465,this),_ul$values23=_slicedToArray(ul(_e465).values,6),_s283=_ul$values23[0],_n205=_ul$values23[1],_o167=_ul$values23[2],_l151=_ul$values23[3],_h119=_ul$values23[4],_a101=_ul$values23[5];var _iterator339=_createForOfIteratorHelper(_t624.children),_step339;try{for(_iterator339.s();!(_step339=_iterator339.n()).done;){var _e466=_step339.value;if(_e466.matches(".arms-grippie")){var _t625=new DOMPoint(_s283,_n205).matrixTransform(_i471);_e466.setAttribute("cx",_t625.x),_e466.setAttribute("cy",_t625.y);}else if(_e466.matches(".corner-grippie")){var _t626=Dl(0,_s283,_n205,_o167,_l151,_h119).matrixTransform(_i471),_r57=Dl(1,_s283,_n205,_o167,_l151,_h119).matrixTransform(_i471),_d40=Ee(_t626,_r57,_a101);_e466.setAttribute("cx",_d40.x),_e466.setAttribute("cy",_d40.y);}}}catch(err){_iterator339.e(err);}finally{_iterator339.f();}}}catch(err){_iterator338.e(err);}finally{_iterator338.f();}},ll:function ll(){var _iterator340=_createForOfIteratorHelper(this["#subhuds"].children),_step340;try{for(_iterator340.s();!(_step340=_iterator340.n()).done;){var _t627=_step340.value;var _iterator341=_createForOfIteratorHelper(_t627.children),_step341;try{for(_iterator341.s();!(_step341=_iterator341.n()).done;){var _e467=_step341.value;_e467.setAttribute("r",pd/this.Pn.scale);}}catch(err){_iterator341.e(err);}finally{_iterator341.f();}}}catch(err){_iterator340.e(err);}finally{_iterator340.f();}},Dl:function Dl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator342=_createForOfIteratorHelper(t),_step342;try{for(_iterator342.s();!(_step342=_iterator342.n()).done;){var _i472=_step342.value;"path"===_i472.localName?_i472.hasAttribute("data-bx-shape")&&_i472.getAttribute("data-bx-shape").startsWith("n-gon")&&e.push(_i472):["g","a"].includes(_i472.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Dl(_i472.children))));}}catch(err){_iterator342.e(err);}finally{_iterator342.f();}return e;}};var xd=Math.sin,bd=Math.cos,md=Math.PI,gd=Symbol();var fd={id:"star-hud",createdCallback:function createdCallback(){this.Wo=!1,this.pl=[],this.Xo=null,this.Zo=Xi(this.Ko,200,this),this.innerHTML='\n  <style>\n    #star-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie arms-grippie"></circle>\n      <circle class="grippie depth-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator343=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step343;try{for(_iterator343.s();!(_step343=_iterator343.n()).done;){var _t628=_step343.value;this["#"+_t628.getAttribute("uid")]=_t628;}}catch(err){_iterator343.e(err);}finally{_iterator343.f();}},enabledCallback:function enabledCallback(){var _this241=this;this.Pn=Ai(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this241.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this242=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this242.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this242.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this242.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.Ol=this.El(),0===this.Ol.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&(t.target.matches(".depth-grippie")?this.Tl(t):t.target.matches(".arms-grippie")&&this.zl(t));},Tl:function Tl(t){var _this243=this;var e,_i473,s=t.target,n=s.parentElement[gd],o=jt(n).inverse(),_ul$values24=_slicedToArray(ul(n).values,6),l=_ul$values24[0],h=_ul$values24[1],a=_ul$values24[2],r=_ul$values24[3],d=_ul$values24[4],c=_ul$values24[5],p=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),u=new DOMPoint(l,h),x=zl(1,l,h,a,r,d,c),b=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(t){!1===b&&(b=!0,_this243.Pn.undoManager.checkpoint("Inner star radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=new X(x,p).getOppositeVector().transformPoint(e),s=2*md*(1/c/2)-md/2,m=u,g=new DOMPoint(a*bd(s)+l,r*xd(s)+h),_Oe15=Oe(m,g,i,!1),_Oe16=_slicedToArray(_Oe15,1),f=_Oe16[0];d=new X(m,f).length/new X(m,g).length,d=Z(d,_this243.Pn.geometryPrecision),xl(n,{type:"star",values:[l,h,a,r,d,c]},_this243.Pn.geometryPrecision);}),s.addEventListener("lostpointercapture",_i473=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i473),_this243.Xo=null;});},zl:function zl(t){var _this244=this;var e,_i474,s=t.target,n=s.parentElement[gd],_ul$values25=_slicedToArray(ul(n).values,6),o=_ul$values25[0],l=_ul$values25[1],h=_ul$values25[2],a=_ul$values25[3],r=_ul$values25[4],d=_ul$values25[5],c=d,p=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(_e468){var i=Z((_e468.clientX-t.clientX)/10,0);d=c+i,d<3&&(d=3),!1===p&&d!==c&&(_this244.Pn.undoManager.checkpoint("Change number of star arms"),p=!0),xl(n,{type:"star",values:[o,l,h,a,r,d]},_this244.Pn.geometryPrecision);}),s.addEventListener("lostpointercapture",_i474=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i474),_this244.Xo=null;});},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator344=_createForOfIteratorHelper(this.Ol),_step344;try{for(_iterator344.s();!(_step344=_iterator344.n()).done;){var _t629=_step344.value;var _e469=this["#subhud-template"].cloneNode(!0);_e469.removeAttribute("uid"),_e469[gd]=_t629,this["#subhuds"].append(_e469);}}catch(err){_iterator344.e(err);}finally{_iterator344.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator345=_createForOfIteratorHelper(this["#subhuds"].children),_step345;try{for(_iterator345.s();!(_step345=_iterator345.n()).done;){var _t630=_step345.value;var _e470=_t630[gd],_i475=Vt(_e470,this),_ul$values26=_slicedToArray(ul(_e470).values,6),_s284=_ul$values26[0],_n206=_ul$values26[1],_o168=_ul$values26[2],_l152=_ul$values26[3],_h120=_ul$values26[4],_a102=_ul$values26[5];var _iterator346=_createForOfIteratorHelper(_t630.children),_step346;try{for(_iterator346.s();!(_step346=_iterator346.n()).done;){var _e471=_step346.value;if(_e471.matches(".arms-grippie")){var _t631=new DOMPoint(_s284,_n206).matrixTransform(_i475);_e471.setAttribute("cx",_t631.x),_e471.setAttribute("cy",_t631.y);}else if(_e471.matches(".depth-grippie")){var _t632=zl(1,_s284,_n206,_o168,_l152,_h120,_a102).matrixTransform(_i475);_e471.setAttribute("cx",_t632.x),_e471.setAttribute("cy",_t632.y);}}}catch(err){_iterator346.e(err);}finally{_iterator346.f();}}}catch(err){_iterator345.e(err);}finally{_iterator345.f();}},ll:function ll(){var _iterator347=_createForOfIteratorHelper(this["#subhuds"].children),_step347;try{for(_iterator347.s();!(_step347=_iterator347.n()).done;){var _t633=_step347.value;var _iterator348=_createForOfIteratorHelper(_t633.children),_step348;try{for(_iterator348.s();!(_step348=_iterator348.n()).done;){var _e472=_step348.value;_e472.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator348.e(err);}finally{_iterator348.f();}}}catch(err){_iterator347.e(err);}finally{_iterator347.f();}},El:function El(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator349=_createForOfIteratorHelper(t),_step349;try{for(_iterator349.s();!(_step349=_iterator349.n()).done;){var _i476=_step349.value;"path"===_i476.localName?_i476.hasAttribute("data-bx-shape")&&_i476.getAttribute("data-bx-shape").startsWith("star")&&e.push(_i476):["g","a"].includes(_i476.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.El(_i476.children))));}}catch(err){_iterator349.e(err);}finally{_iterator349.f();}return e;}};var wd=Math.sin,vd=Math.cos,yd=Math.tan,kd=Number.MAX_SAFE_INTEGER,Sd=Symbol();var _d={id:"cog-hud",createdCallback:function createdCallback(){this.Wo=!1,this.pl=[],this.Xo=null,this.Zo=Xi(this.Ko,200,this),this.innerHTML='\n  <style>\n    #cog-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #cog-hud .splay-grippie {\n      fill: #C3C303;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie teeth-grippie"></circle>\n      <circle class="grippie splay-grippie"></circle>\n      <circle class="grippie r-grippie r1-grippie"></circle>\n      <circle class="grippie r-grippie r2-grippie"></circle>\n      <circle class="grippie r-grippie r3-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator350=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step350;try{for(_iterator350.s();!(_step350=_iterator350.n()).done;){var _t634=_step350.value;this["#"+_t634.getAttribute("uid")]=_t634;}}catch(err){_iterator350.e(err);}finally{_iterator350.f();}},enabledCallback:function enabledCallback(){var _this245=this;this.Pn=Ai(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this245.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this246=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this246.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this246.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this246.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.Al=this.$l(),0===this.Al.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&(t.target.matches(".r1-grippie")?this.Il(t):t.target.matches(".r2-grippie")?this.Ll(t):t.target.matches(".r3-grippie")?this.Bl(t):t.target.matches(".teeth-grippie")?this.Rl(t):t.target.matches(".splay-grippie")&&this.Gl(t));},Il:function Il(t){var _this247=this;var e,_i477,s=this.Pn,n=t.target,o=n.parentElement[Sd],l=jt(o).inverse(),_ul$values27=_slicedToArray(ul(o).values,7),h=_ul$values27[0],a=_ul$values27[1],r=_ul$values27[2],d=_ul$values27[3],c=_ul$values27[4],p=_ul$values27[5],u=_ul$values27[6],x=t.clientX,b=t.clientY,m=new DOMMatrix().translateSelf(h,a).rotateSelf(360/u/2).translateSelf(-h,-a),g=new DOMPoint(x,b).matrixTransform(l),f=new DOMPoint(h,a),w=new DOMPoint(h,a-r).matrixTransform(m),v=new X(g,w),y=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Xo=n;var k=f,S=new DOMPoint(h,a-kd).matrixTransform(m);n.addEventListener("pointermove",e=function e(t){!1===y&&(y=!0,s.undoManager.checkpoint("Inner cog radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);e=v.transformPoint(e);var _Oe17=Oe(k,S,e,!1),_Oe18=_slicedToArray(_Oe17,1),i=_Oe18[0],n=De(f,i);xl(o,{type:"cog",values:[h,a,n,d,c,p,u]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i477=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i477),_this247.Xo=null;});},Ll:function Ll(t){var _this248=this;var e,_i478,s=this.Pn,n=t.target,o=n.parentElement[Sd],l=jt(o).inverse(),_ul$values28=_slicedToArray(ul(o).values,7),h=_ul$values28[0],a=_ul$values28[1],r=_ul$values28[2],d=_ul$values28[3],c=_ul$values28[4],p=_ul$values28[5],u=_ul$values28[6],x=t.clientX,b=t.clientY,m=new DOMMatrix().translateSelf(h,a).rotateSelf(360/u/2).translateSelf(-h,-a),g=new DOMPoint(x,b).matrixTransform(l),f=new DOMPoint(h,a),w=new DOMPoint(h,a-d).matrixTransform(m),v=new X(g,w),y=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Xo=n;var k=f,S=new DOMPoint(h,a-kd).matrixTransform(m);n.addEventListener("pointermove",e=function e(t){!1===y&&(y=!0,s.undoManager.checkpoint("Inner cog radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);e=v.transformPoint(e);var _Oe19=Oe(k,S,e,!1),_Oe20=_slicedToArray(_Oe19,1),i=_Oe20[0];d=De(f,i),xl(o,{type:"cog",values:[h,a,r,d,c,p,u]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i478=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i478),_this248.Xo=null;});},Bl:function Bl(t){var _this249=this;var e,_i479,s=this.Pn,n=t.target,o=n.parentElement[Sd],l=jt(o).inverse(),_ul$values29=_slicedToArray(ul(o).values,7),h=_ul$values29[0],a=_ul$values29[1],r=_ul$values29[2],d=_ul$values29[3],c=_ul$values29[4],p=_ul$values29[5],u=_ul$values29[6],x=t.clientX,b=t.clientY,m=new DOMPoint(x,b).matrixTransform(l),g=new DOMPoint(h,a),f=new DOMPoint(h,a-c),w=new X(m,f),v=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Xo=n;var y=g,k=new DOMPoint(h,a-kd);n.addEventListener("pointermove",e=function e(t){!1===v&&(v=!0,s.undoManager.checkpoint("Inner cog radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);e=w.transformPoint(e);var _Oe21=Oe(y,k,e,!1),_Oe22=_slicedToArray(_Oe21,1),i=_Oe22[0];c=De(g,i),xl(o,{type:"cog",values:[h,a,r,d,c,p,u]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i479=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i479),_this249.Xo=null;});},Rl:function Rl(t){var _this250=this;var e,_i480,s=this.Pn,n=t.target,o=n.parentElement[Sd],_ul$values30=_slicedToArray(ul(o).values,7),l=_ul$values30[0],h=_ul$values30[1],a=_ul$values30[2],r=_ul$values30[3],d=_ul$values30[4],c=_ul$values30[5],p=_ul$values30[6],u=p,x=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Xo=n,n.addEventListener("pointermove",e=function e(_e473){var i=Z((_e473.clientX-t.clientX)/10,0);p=u+i,p<3&&(p=3),!1===x&&p!==u&&(s.undoManager.checkpoint("Change number of cog teeth"),x=!0),xl(o,{type:"cog",values:[l,h,a,r,d,c,p]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i480=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i480),_this250.Xo=null;});},Gl:function Gl(t){var _this251=this;var e,_i481,s=this.Pn,n=t.target,o=n.parentElement[Sd],_ul$values31=_slicedToArray(ul(o).values,7),l=_ul$values31[0],h=_ul$values31[1],a=_ul$values31[2],r=_ul$values31[3],d=_ul$values31[4],c=_ul$values31[5],p=_ul$values31[6],u=t.clientX,x=t.clientY,b=c,m=jt(o).inverse(),g=!1,f=function f(t){var e=360/p,i=e/4,s=yd(Ge(i-t*i))*d,n=Ge(e-90);return new DOMPoint(l+d*vd(n)-wd(n)*s,h+d*wd(n)+vd(n)*s);},w=new DOMPoint(u,x).matrixTransform(m),v=f(b),y=new X(w,v),k=f(0),S=f(1);n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Xo=n,n.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(m),i=y.transformPoint(e),_Oe23=Oe(k,S,i,!1),_Oe24=_slicedToArray(_Oe23,1),n=_Oe24[0],c=De(k,n)/De(k,S);c=K(c,0,1,3),!1===g&&c!==b&&(s.undoManager.checkpoint("Cog splay"),g=!0),xl(o,{type:"cog",values:[l,h,a,r,d,c,p]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i481=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i481),_this251.Xo=null;});},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator351=_createForOfIteratorHelper(this.Al),_step351;try{for(_iterator351.s();!(_step351=_iterator351.n()).done;){var _t635=_step351.value;var _e474=this["#subhud-template"].cloneNode(!0);_e474.removeAttribute("uid"),_e474[Sd]=_t635,this["#subhuds"].append(_e474);}}catch(err){_iterator351.e(err);}finally{_iterator351.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator352=_createForOfIteratorHelper(this["#subhuds"].children),_step352;try{for(_iterator352.s();!(_step352=_iterator352.n()).done;){var _t636=_step352.value;var _e475=_t636[Sd],_i482=Vt(_e475,this.Pn.vectorCanvas),_ul$values32=_slicedToArray(ul(_e475).values,7),_s285=_ul$values32[0],_n207=_ul$values32[1],_o169=_ul$values32[2],_l153=_ul$values32[3],_h121=_ul$values32[4],_a103=_ul$values32[5],_r58=_ul$values32[6];var _iterator353=_createForOfIteratorHelper(_t636.children),_step353;try{for(_iterator353.s();!(_step353=_iterator353.n()).done;){var _e476=_step353.value;if(_e476.matches(".r1-grippie")){var _t637=new DOMMatrix();_t637.translateSelf(_s285,_n207),_t637.rotateSelf(360/_r58/2),_t637.translateSelf(-_s285,-_n207);var _l154=new DOMPoint(_s285,_n207-_o169);_l154=_l154.matrixTransform(_t637),_l154=_l154.matrixTransform(_i482),_e476.setAttribute("cx",_l154.x),_e476.setAttribute("cy",_l154.y);}else if(_e476.matches(".r2-grippie")){var _t638=new DOMMatrix();_t638.translateSelf(_s285,_n207),_t638.rotateSelf(360/_r58/2),_t638.translateSelf(-_s285,-_n207);var _o170=new DOMPoint(_s285,_n207-_l153);_o170=_o170.matrixTransform(_t638),_o170=_o170.matrixTransform(_i482),_e476.setAttribute("cx",_o170.x),_e476.setAttribute("cy",_o170.y);}else if(_e476.matches(".r3-grippie")){var _t639=new DOMPoint(_s285,_n207-_h121);_t639=_t639.matrixTransform(_i482),_e476.setAttribute("cx",_t639.x),_e476.setAttribute("cy",_t639.y);}else if(_e476.matches(".teeth-grippie")){var _t640=new DOMPoint(_s285,_n207).matrixTransform(_i482);_e476.setAttribute("cx",_t640.x),_e476.setAttribute("cy",_t640.y);}else if(_e476.matches(".splay-grippie")){var _t641=360/_r58,_o171=_t641/4,_l155=yd(Ge(_o171-_a103*_o171))*_h121,_d41=Ge(_t641-90),_c34=new DOMPoint(_s285+_h121*vd(_d41)-wd(_d41)*_l155,_n207+_h121*wd(_d41)+vd(_d41)*_l155);_c34=_c34.matrixTransform(_i482),_e476.setAttribute("cx",_c34.x),_e476.setAttribute("cy",_c34.y);}}}catch(err){_iterator353.e(err);}finally{_iterator353.f();}}}catch(err){_iterator352.e(err);}finally{_iterator352.f();}},ll:function ll(){var _iterator354=_createForOfIteratorHelper(this["#subhuds"].children),_step354;try{for(_iterator354.s();!(_step354=_iterator354.n()).done;){var _t642=_step354.value;var _iterator355=_createForOfIteratorHelper(_t642.children),_step355;try{for(_iterator355.s();!(_step355=_iterator355.n()).done;){var _e477=_step355.value;_e477.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator355.e(err);}finally{_iterator355.f();}}}catch(err){_iterator354.e(err);}finally{_iterator354.f();}},$l:function $l(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator356=_createForOfIteratorHelper(t),_step356;try{for(_iterator356.s();!(_step356=_iterator356.n()).done;){var _i483=_step356.value;"path"===_i483.localName?_i483.hasAttribute("data-bx-shape")&&_i483.getAttribute("data-bx-shape").startsWith("cog")&&e.push(_i483):["g","a"].includes(_i483.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.$l(_i483.children))));}}catch(err){_iterator356.e(err);}finally{_iterator356.f();}return e;}};var Cd=Symbol();var Md={id:"arrow-hud",createdCallback:function createdCallback(){this.Wo=!1,this.Fl=[],this.Xo=null,this.Zo=Xi(this.Ko,200,this),this.innerHTML='\n  <style>\n    #arrow-hud .grippie {\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #arrow-hud .start-grippie,\n    #arrow-hud .end-grippie {\n      fill: #C3C303;\n    }\n    #arrow-hud .base-thickness-grippie,\n    #arrow-hud .head-size-grippie,\n    #arrow-hud .head-inset-grippie {\n      fill: #73BA09;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie start-grippie"></circle>\n      <circle class="grippie end-grippie"></circle>\n      <circle class="grippie base-thickness-grippie"></circle>\n      <circle class="grippie head-size-grippie"></circle>\n      <circle class="grippie head-inset-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator357=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step357;try{for(_iterator357.s();!(_step357=_iterator357.n()).done;){var _t643=_step357.value;this["#"+_t643.getAttribute("uid")]=_t643;}}catch(err){_iterator357.e(err);}finally{_iterator357.f();}},enabledCallback:function enabledCallback(){var _this252=this;this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this252.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this253=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this253.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this253.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this253.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.Fl=this.Ul(),0===this.Fl.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&(t.target.matches(".start-grippie")?this.Nl(t):t.target.matches(".end-grippie")?this.Vl(t):t.target.matches(".base-thickness-grippie")?this.jl(t):t.target.matches(".head-size-grippie")?this.Hl(t):t.target.matches(".head-inset-grippie")&&this.Yl(t));},Nl:function Nl(t){var _this254=this;var e,_i485,s=t.target,n=s.parentElement[Cd],_this$Pn=this.Pn,o=_this$Pn.geometryPrecision,l=_this$Pn.transformPrecision,_ul$values33=_slicedToArray(ul(n).values,7),h=_ul$values33[0],a=_ul$values33[1],r=_ul$values33[2],d=_ul$values33[3],c=_ul$values33[4],p=_ul$values33[5],u=_ul$values33[6],x=jt(n),b=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value).matrixTransform(jt(s)),m=new DOMPoint(h+r,a+d/2),g=m.matrixTransform(x),f=h,w=r,v=te(n,m);this.Xo=s,this.Pn.undoManager.checkpoint("Move arrow"),this.Pn.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this254.Pn.snapManager.snapPoint(e);var i=Ie(g,b,e),s=v+i;{var _t644=new DOMPoint(h,a+d/2),_i484=_t644.matrixTransform(x),_s286=new DOMPoint(h+r,a+d/2),_l156=_s286.matrixTransform(x),_b25=De(_t644,_s286)/De(_i484,_l156);r=De(g,e)*_b25,r=K(r,p,Infinity,o),h=f+(w-r),h=Z(h,o),xl(n,{type:"arrow",values:[h,a,r,d,c,p,u]});}_this254.Qs.modKeys.shift&&(s=Be(s,15)),ee(n,s,null,m);}),window.addEventListener("pointerup",_i485=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i485),_this254.Xo=null,_this254.Pn.snapManager.snapEnd(),mh(n,{geometryPrecision:o,transformPrecision:l});});},Vl:function Vl(t){var _this255=this;var e,_i487,s=t.target,n=s.parentElement[Cd],_this$Pn2=this.Pn,o=_this$Pn2.geometryPrecision,l=_this$Pn2.transformPrecision,_ul$values34=_slicedToArray(ul(n).values,7),h=_ul$values34[0],a=_ul$values34[1],r=_ul$values34[2],d=_ul$values34[3],c=_ul$values34[4],p=_ul$values34[5],u=_ul$values34[6],x=jt(n),b=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value).matrixTransform(jt(s)),m=new DOMPoint(h,a+d/2),g=m.matrixTransform(x),f=te(n,m);this.Xo=s,this.Pn.undoManager.checkpoint("Move arrow"),this.Pn.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this255.Pn.snapManager.snapPoint(e);var i=Ie(g,b,e),s=f+i;{var _t645=new DOMPoint(h,a+d/2),_i486=_t645.matrixTransform(x),_s287=new DOMPoint(h+r,a+d/2),_l157=_s287.matrixTransform(x),_b26=De(_t645,_s287)/De(_i486,_l157);r=De(g,e)*_b26,r=K(r,p,Infinity,o),xl(n,{type:"arrow",values:[h,a,r,d,c,p,u]});}_this255.Qs.modKeys.shift&&(s=Be(s,15)),ee(n,s,null,m);}),window.addEventListener("pointerup",_i487=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i487),_this255.Xo=null,_this255.Pn.snapManager.snapEnd(),mh(n,{geometryPrecision:o,transformPrecision:l});});},jl:function jl(t){var _this256=this;var e,_i488,s=t.target,n=s.parentElement[Cd],o=ul(n),l=jt(n).inverse(),_o$values=_slicedToArray(o.values,7),h=_o$values[0],a=_o$values[1],r=_o$values[2],d=_o$values[3],c=_o$values[4],p=_o$values[5],u=_o$values[6],_Ol=Ol.apply(void 0,_toConsumableArray(o.values)),x=_Ol.minBaseThickness,b=_Ol.maxBaseThickness,m=this.Pn.geometryPrecision;x=Z(x,m),b=Z(b,m),this.Xo=s,this.Pn.undoManager.checkpoint("Arrow base thickness"),this.Pn.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this256.Pn.snapManager.snapPoint(e);var i=e.matrixTransform(l);c=2*(a+d/2-i.y),c=K(c,x,b,m),xl(n,{type:"arrow",values:[h,a,r,d,c,p,u]}),_this256.Ko();}),window.addEventListener("pointerup",_i488=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i488),_this256.Xo=null,_this256.Pn.snapManager.snapEnd();});},Hl:function Hl(t){var _this257=this;var e,_i489,s=t.target,n=s.parentElement[Cd],o=this.Pn.geometryPrecision,l=jt(n).inverse(),_ul$values35=_slicedToArray(ul(n).values,7),h=_ul$values35[0],a=_ul$values35[1],r=_ul$values35[2],d=_ul$values35[3],c=_ul$values35[4],p=_ul$values35[5],u=_ul$values35[6],x=a,b=d,m=c;this.Xo=s,this.Pn.undoManager.checkpoint("Arrow head size"),this.Pn.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this257.Pn.snapManager.snapPoint(e);var i=e.matrixTransform(l);!1===_this257.Qs.modKeys.shift&&(p=h+r-i.x,p=K(p,1,r,o)),d=i.y-a,d=K(d,c,Infinity,o),a=x-d/2+b/2,a=Z(a,o);{var _Ol2=Ol(h,a,r,d,c,p,u),_t646=_Ol2.maxBaseThickness;_t646=Z(_t646,o),(c>_t646||c<m)&&(c=_t646);}xl(n,{type:"arrow",values:[h,a,r,d,c,p,u]}),_this257.Ko();}),window.addEventListener("pointerup",_i489=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i489),_this257.Xo=null,_this257.Pn.snapManager.snapEnd();});},Yl:function Yl(t){var _this258=this;var e,_i490,s=t.target,n=s.parentElement[Cd],o=this.Pn.geometryPrecision,l=ul(n),_l$values=_slicedToArray(l.values,7),h=_l$values[0],a=_l$values[1],r=_l$values[2],d=_l$values[3],c=_l$values[4],p=_l$values[5],u=_l$values[6],x=jt(n).inverse(),_Ol3=Ol.apply(void 0,_toConsumableArray(l.values)),b=_Ol3.minHeadInset,m=_Ol3.maxHeadInset;b=Z(b,o),m=Z(m,o),this.Xo=s,this.Pn.undoManager.checkpoint("Arrow head inset"),this.Pn.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this258.Pn.snapManager.snapPoint(e);var i=e.matrixTransform(x);u=i.x-(h+r-p),u=K(u,b,m,o),xl(n,{type:"arrow",values:[h,a,r,d,c,p,u]}),_this258.Ko();}),window.addEventListener("pointerup",_i490=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i490),_this258.Xo=null,_this258.Pn.snapManager.snapEnd();});},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator358=_createForOfIteratorHelper(this.Fl),_step358;try{for(_iterator358.s();!(_step358=_iterator358.n()).done;){var _t647=_step358.value;var _e478=this["#subhud-template"].cloneNode(!0);_e478.removeAttribute("uid"),_e478[Cd]=_t647,this["#subhuds"].append(_e478);}}catch(err){_iterator358.e(err);}finally{_iterator358.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator359=_createForOfIteratorHelper(this["#subhuds"].children),_step359;try{for(_iterator359.s();!(_step359=_iterator359.n()).done;){var _t648=_step359.value;var _e479=_t648[Cd],_i491=Vt(_e479,this),_ul$values36=_slicedToArray(ul(_e479).values,7),_s288=_ul$values36[0],_n208=_ul$values36[1],_o172=_ul$values36[2],_l158=_ul$values36[3],_h122=_ul$values36[4],_a104=_ul$values36[5],_r59=_ul$values36[6];_r59>_a104&&(_r59=_a104);var _iterator360=_createForOfIteratorHelper(_t648.children),_step360;try{for(_iterator360.s();!(_step360=_iterator360.n()).done;){var _e480=_step360.value;if(_e480.matches(".start-grippie")){var _t649=new DOMPoint(_s288,_n208+_l158/2).matrixTransform(_i491);_e480.setAttribute("cx",_t649.x),_e480.setAttribute("cy",_t649.y);}else if(_e480.matches(".end-grippie")){var _t650=new DOMPoint(_s288+_o172,_n208+_l158/2).matrixTransform(_i491);_e480.setAttribute("cx",_t650.x),_e480.setAttribute("cy",_t650.y);}else if(_e480.matches(".base-thickness-grippie")){var _t651=new DOMPoint(_s288+(_o172-_a104+_r59)/2,_n208+_l158/2-_h122/2).matrixTransform(_i491);_e480.setAttribute("cx",_t651.x),_e480.setAttribute("cy",_t651.y);}else if(_e480.matches(".head-size-grippie")){var _t652=new DOMPoint(_s288+_o172-_a104,_n208+_l158).matrixTransform(_i491);_e480.setAttribute("cx",_t652.x),_e480.setAttribute("cy",_t652.y);}else if(_e480.matches(".head-inset-grippie")){var _t653=new DOMPoint(_s288+_o172-_a104+_r59,_n208+_l158/2-_h122/2).matrixTransform(_i491);_e480.setAttribute("cx",_t653.x),_e480.setAttribute("cy",_t653.y);}}}catch(err){_iterator360.e(err);}finally{_iterator360.f();}}}catch(err){_iterator359.e(err);}finally{_iterator359.f();}},ll:function ll(){var _iterator361=_createForOfIteratorHelper(this["#subhuds"].children),_step361;try{for(_iterator361.s();!(_step361=_iterator361.n()).done;){var _t654=_step361.value;var _iterator362=_createForOfIteratorHelper(_t654.children),_step362;try{for(_iterator362.s();!(_step362=_iterator362.n()).done;){var _e481=_step362.value;_e481.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator362.e(err);}finally{_iterator362.f();}}}catch(err){_iterator361.e(err);}finally{_iterator361.f();}},Ul:function Ul(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator363=_createForOfIteratorHelper(t),_step363;try{for(_iterator363.s();!(_step363=_iterator363.n()).done;){var _i492=_step363.value;"path"===_i492.localName?_i492.hasAttribute("data-bx-shape")&&_i492.getAttribute("data-bx-shape").startsWith("arrow")&&e.push(_i492):["g","a"].includes(_i492.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Ul(_i492.children))));}}catch(err){_iterator363.e(err);}finally{_iterator363.f();}return e;}};var Pd=Math.abs,Dd=Symbol();var zd={id:"cross-hud",createdCallback:function createdCallback(){this.Wo=!1,this.pl=[],this.Xo=null,this.Zo=Xi(this.Ko,200,this),this.innerHTML='\n  <style>\n    #cross-hud .grippie {\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #cross-hud .shift-grippie {\n      fill: #C3C303;\n    }\n    #cross-hud .arms-grippie {\n      fill: #73BA09;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie shift-grippie"></circle>\n      <circle class="grippie arms-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator364=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step364;try{for(_iterator364.s();!(_step364=_iterator364.n()).done;){var _t655=_step364.value;this["#"+_t655.getAttribute("uid")]=_t655;}}catch(err){_iterator364.e(err);}finally{_iterator364.f();}},enabledCallback:function enabledCallback(){var _this259=this;this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this259.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this260=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this260.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this260.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this260.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.Wl=this.ql(),0===this.Wl.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&(t.target.matches(".shift-grippie")?this.Cl(t):t.target.matches(".arms-grippie")&&this.zl(t));},Cl:function Cl(t){var _this261=this;var e,_i493,s=t.target,n=s.parentElement[Dd],o=jt(n),l=o.inverse(),h=ul(n),_h$values=_slicedToArray(h.values,7),a=_h$values[0],r=_h$values[1],d=_h$values[2],c=_h$values[3],p=_h$values[4],u=_h$values[5],x=_h$values[6],_El=El.apply(void 0,_toConsumableArray(h.values)),b=_El.minShift,m=_El.maxShift,g=this.Pn.geometryPrecision,f=new DOMPoint(a+d/2,r),w=new DOMPoint(a+d/2,r+c),v=new DOMPoint(a+d/2,r+c*x).matrixTransform(o),y=new DOMPoint(t.clientX,t.clientY),k=(y.matrixTransform(l),new X(v,y).getOppositeVector()),S=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(t){!1===S&&(S=!0,_this261.Pn.undoManager.checkpoint("Cross radius"));var e=new DOMPoint(t.clientX,t.clientY);e=k.transformPoint(e);var i=e.matrixTransform(l),_Oe25=Oe(f,w,i,!1),_Oe26=_slicedToArray(_Oe25,1),s=_Oe26[0];x=(s.y-f.y)/c,_this261.Qs.modKeys.shift&&(x=[0,.5,1].reduce(function(t,e){return Pd(e-x)<Pd(t-x)?e:t;})),x=K(x,b,m,4),xl(n,{type:"cross",values:[a,r,d,c,p,u,x]},g);}),s.addEventListener("lostpointercapture",_i493=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i493),_this261.Xo=null;});},zl:function zl(t){var _this262=this;var e,_i494,s=t.target,n=s.parentElement[Dd],o=(Nt(n),jt(n)),l=o.inverse(),h=ul(n),_h$values2=_slicedToArray(h.values,7),a=_h$values2[0],r=_h$values2[1],d=_h$values2[2],c=_h$values2[3],p=_h$values2[4],u=_h$values2[5],x=_h$values2[6],b=this.Pn.geometryPrecision,m=new DOMPoint(t.clientX,t.clientY),g=m.matrixTransform(l),f=new DOMPoint(g.x,g.y),w=new DOMPoint(a+d/2-u/2,r+c*x-p/2).matrixTransform(o),v=new X(w,m).getOppositeVector(),y=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s;var k=new DOMPoint(a+d/2,r+x*c),_El2=El.apply(void 0,_toConsumableArray(h.values)),S=_El2.maxHorizontalArmThickness;s.addEventListener("pointermove",e=function e(t){!1===y&&(y=!0,_this262.Pn.undoManager.checkpoint("Cross radius"));var e=new DOMPoint(t.clientX,t.clientY);e=v.transformPoint(e),f=e.matrixTransform(l),u=2*(k.x-f.x),u=K(u,.001,d),p=2*(k.y-f.y),p=K(p,.001,S),_this262.Qs.modKeys.shift&&(p>u?p=u:u=p),xl(n,{type:"cross",values:[a,r,d,c,p,u,x]},b);}),s.addEventListener("lostpointercapture",_i494=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i494),_this262.Xo=null;});},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator365=_createForOfIteratorHelper(this.Wl),_step365;try{for(_iterator365.s();!(_step365=_iterator365.n()).done;){var _t656=_step365.value;var _e482=this["#subhud-template"].cloneNode(!0);_e482.removeAttribute("uid"),_e482[Dd]=_t656,this["#subhuds"].append(_e482);}}catch(err){_iterator365.e(err);}finally{_iterator365.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator366=_createForOfIteratorHelper(this["#subhuds"].children),_step366;try{for(_iterator366.s();!(_step366=_iterator366.n()).done;){var _t657=_step366.value;var _e483=_t657[Dd],_i495=Vt(_e483,this),_ul$values37=_slicedToArray(ul(_e483).values,7),_s289=_ul$values37[0],_n209=_ul$values37[1],_o173=_ul$values37[2],_l159=_ul$values37[3],_h123=_ul$values37[4],_a105=_ul$values37[5],_r60=_ul$values37[6];var _iterator367=_createForOfIteratorHelper(_t657.children),_step367;try{for(_iterator367.s();!(_step367=_iterator367.n()).done;){var _e484=_step367.value;if(_e484.matches(".shift-grippie")){var _t658=new DOMPoint(_s289+_o173/2,_n209+_r60*_l159).matrixTransform(_i495);_e484.setAttribute("cx",_t658.x),_e484.setAttribute("cy",_t658.y);}else if(_e484.matches(".arms-grippie")){var _t659=new DOMPoint(_s289+_o173/2-_a105/2,_n209+_l159*_r60-_h123/2).matrixTransform(_i495);_e484.setAttribute("cx",_t659.x),_e484.setAttribute("cy",_t659.y);}}}catch(err){_iterator367.e(err);}finally{_iterator367.f();}}}catch(err){_iterator366.e(err);}finally{_iterator366.f();}},ll:function ll(){var _iterator368=_createForOfIteratorHelper(this["#subhuds"].children),_step368;try{for(_iterator368.s();!(_step368=_iterator368.n()).done;){var _t660=_step368.value;var _iterator369=_createForOfIteratorHelper(_t660.children),_step369;try{for(_iterator369.s();!(_step369=_iterator369.n()).done;){var _e485=_step369.value;_e485.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator369.e(err);}finally{_iterator369.f();}}}catch(err){_iterator368.e(err);}finally{_iterator368.f();}},ql:function ql(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator370=_createForOfIteratorHelper(t),_step370;try{for(_iterator370.s();!(_step370=_iterator370.n()).done;){var _i496=_step370.value;"path"===_i496.localName?_i496.hasAttribute("data-bx-shape")&&_i496.getAttribute("data-bx-shape").startsWith("cross")&&e.push(_i496):["g","a"].includes(_i496.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.ql(_i496.children))));}}catch(err){_iterator370.e(err);}finally{_iterator370.f();}return e;}};var Od=Symbol();var Ed={id:"spiral-hud",createdCallback:function createdCallback(){this.Wo=!1,this.pl=[],this.Xo=null,this.Zo=Xi(this.Ko,200,this),this.innerHTML='\n  <style>\n    #spiral-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #spiral-hud .start-angle-grippie,\n    #spiral-hud .end-angle-grippie {\n      fill: #C3C303;\n    }\n    #spiral-hud .r1-grippie,\n    #spiral-hud .r2-grippie {\n      fill: #73BA09;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie start-angle-grippie"></circle>\n      <circle class="grippie end-angle-grippie"></circle>\n      <circle class="grippie r1-grippie"></circle>\n      <circle class="grippie r2-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator371=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step371;try{for(_iterator371.s();!(_step371=_iterator371.n()).done;){var _t661=_step371.value;this["#"+_t661.getAttribute("uid")]=_t661;}}catch(err){_iterator371.e(err);}finally{_iterator371.f();}},enabledCallback:function enabledCallback(){var _this263=this;this.Pn=Ai(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this263.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this264=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this264.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this264.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this264.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.Xl=this.Zl(),0===this.Xl.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&(t.target.matches(".start-angle-grippie")?this.Kl(t):t.target.matches(".end-angle-grippie")?this.Ql(t):t.target.matches(".r1-grippie")?this.Il(t):t.target.matches(".r2-grippie")&&this.Ll(t));},Kl:function Kl(t){var _this265=this;var e,_i497,s=t.target,n=s.parentElement[Od],o=jt(n).inverse(),l=this.Pn.geometryPrecision,_ul$values38=_slicedToArray(ul(n).values,6),h=_ul$values38[0],a=_ul$values38[1],r=_ul$values38[2],d=_ul$values38[3],c=_ul$values38[4],p=_ul$values38[5],u=c,x=new DOMPoint(h,a),b=(new DOMPoint(x.x,x.y-100),new DOMPoint(t.clientX,t.clientY).matrixTransform(o)),m=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=Ie(x,b,e);b=e,c+=i;var s=K(c,0,p),_Tl=Tl(h,a,r,d,s,p),_Tl2=_slicedToArray(_Tl,1),g=_Tl2[0];!1===m&&s!==u&&(_this265.Pn.undoManager.checkpoint("Spiral start angle"),m=!0),xl(n,{type:"spiral",values:[h,a,r,d,s,p]},l);}),s.addEventListener("lostpointercapture",_i497=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i497),_this265.Xo=null;});},Ql:function Ql(t){var _this266=this;var e,_i498,s=t.target,n=s.parentElement[Od],o=jt(n).inverse(),l=this.Pn.geometryPrecision,_ul$values39=_slicedToArray(ul(n).values,6),h=_ul$values39[0],a=_ul$values39[1],r=_ul$values39[2],d=_ul$values39[3],c=_ul$values39[4],p=_ul$values39[5],u=p,x=new DOMPoint(h,a),b=(new DOMPoint(x.x,x.y-100),new DOMPoint(t.clientX,t.clientY).matrixTransform(o)),m=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=Ie(x,b,e);b=e,p+=i;var s=K(p,c,Infinity);!1===m&&s!==u&&(_this266.Pn.undoManager.checkpoint("Spiral end angle"),m=!0),xl(n,{type:"spiral",values:[h,a,r,d,c,s]},l);}),s.addEventListener("lostpointercapture",_i498=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i498),_this266.Xo=null;});},Il:function Il(t){var _this267=this;var e,_i499,s=t.target,n=s.parentElement[Od],o=jt(n).inverse(),l=Vt(n,this.Pn.vectorCanvas).inverse(),_ul$values40=_slicedToArray(ul(n).values,6),h=_ul$values40[0],a=_ul$values40[1],r=_ul$values40[2],d=_ul$values40[3],c=_ul$values40[4],p=_ul$values40[5],u=r,x=new DOMPoint(h,a),b=this.Pn.geometryPrecision,m=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),g=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value).matrixTransform(l),f=new X(m,g),w=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=f.transformPoint(e),_Oe27=Oe(x,g,i),_Oe28=_slicedToArray(_Oe27,1),s=_Oe28[0],l=Math.floor(c/360)+1,m=p/360;r=(a*m-s.y*m-l*d)/(m-l),r=K(r,0,d),!1===w&&r!==u&&(_this267.Pn.undoManager.checkpoint("Spiral inner radius"),w=!0),xl(n,{type:"spiral",values:[h,a,r,d,c,p]},b);}),s.addEventListener("lostpointercapture",_i499=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i499),_this267.Xo=null;});},Ll:function Ll(t){var _this268=this;var e,_i500,s=t.target,n=s.parentElement[Od],o=jt(n).inverse(),l=Vt(n,this.Pn.vectorCanvas).inverse(),_ul$values41=_slicedToArray(ul(n).values,6),h=_ul$values41[0],a=_ul$values41[1],r=_ul$values41[2],d=_ul$values41[3],c=_ul$values41[4],p=_ul$values41[5],u=d,x=new DOMPoint(h,a),b=this.Pn.geometryPrecision,m=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),g=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value).matrixTransform(l),f=new X(m,g),w=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=f.transformPoint(e),_Oe29=Oe(x,g,i),_Oe30=_slicedToArray(_Oe29,1),s=_Oe30[0];d=(a-r-s.y)/Math.floor(p/360)*(p/360)+r,d=K(d,r,Infinity),!1===w&&d!==u&&(_this268.Pn.undoManager.checkpoint("Spiral outer radius"),w=!0),xl(n,{type:"spiral",values:[h,a,r,d,c,p]},b);}),s.addEventListener("lostpointercapture",_i500=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i500),_this268.Xo=null;});},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator372=_createForOfIteratorHelper(this.Xl),_step372;try{for(_iterator372.s();!(_step372=_iterator372.n()).done;){var _t662=_step372.value;var _e486=this["#subhud-template"].cloneNode(!0);_e486.removeAttribute("uid"),_e486[Od]=_t662,this["#subhuds"].append(_e486);}}catch(err){_iterator372.e(err);}finally{_iterator372.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator373=_createForOfIteratorHelper(this["#subhuds"].children),_step373;try{for(_iterator373.s();!(_step373=_iterator373.n()).done;){var _t663=_step373.value;var _e487=_t663[Od],_i501=Vt(_e487,this.Pn.vectorCanvas),_ul$values42=_slicedToArray(ul(_e487).values,6),_s290=_ul$values42[0],_n210=_ul$values42[1],_o174=_ul$values42[2],_l160=_ul$values42[3],_h124=_ul$values42[4],_a106=_ul$values42[5],_Tl3=Tl(_s290,_n210,_o174,_l160,_h124,_a106),_Tl4=_slicedToArray(_Tl3,2),_r61=_Tl4[0],_d42=_Tl4[1];var _iterator374=_createForOfIteratorHelper(_t663.children),_step374;try{for(_iterator374.s();!(_step374=_iterator374.n()).done;){var _e488=_step374.value;if(_e488.matches(".start-angle-grippie")){var _t664=DOMPoint.fromPoint(_r61);_t664=_t664.matrixTransform(_i501),_e488.setAttribute("cx",_t664.x),_e488.setAttribute("cy",_t664.y);}else if(_e488.matches(".end-angle-grippie")){var _t665=DOMPoint.fromPoint(_d42);_t665=_t665.matrixTransform(_i501),_e488.setAttribute("cx",_t665.x),_e488.setAttribute("cy",_t665.y);}else if(_e488.matches(".r1-grippie")){var _t666=Math.floor(_h124/360)+1,_r62=Math.floor(_a106/360),_d43=new DOMPoint(_s290,_n210-_o174-(_l160-_o174)/(_a106/360)*_t666);_d43=_d43.matrixTransform(_i501),0===_r62||_r62<=_t666?_e488.style.display="none":(_e488.style.display=null,_e488.setAttribute("cx",_d43.x),_e488.setAttribute("cy",_d43.y));}else if(_e488.matches(".r2-grippie")){var _t667=Math.floor(_h124/360)+1,_r63=Math.floor(_a106/360),_d44=new DOMPoint(_s290,_n210-_o174-(_l160-_o174)/(_a106/360)*_r63);_d44=_d44.matrixTransform(_i501),0===_r63||_r63<_t667?_e488.style.display="none":(_e488.style.display=null,_e488.setAttribute("cx",_d44.x),_e488.setAttribute("cy",_d44.y));}}}catch(err){_iterator374.e(err);}finally{_iterator374.f();}}}catch(err){_iterator373.e(err);}finally{_iterator373.f();}},ll:function ll(){var _iterator375=_createForOfIteratorHelper(this["#subhuds"].children),_step375;try{for(_iterator375.s();!(_step375=_iterator375.n()).done;){var _t668=_step375.value;var _iterator376=_createForOfIteratorHelper(_t668.children),_step376;try{for(_iterator376.s();!(_step376=_iterator376.n()).done;){var _e489=_step376.value;_e489.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator376.e(err);}finally{_iterator376.f();}}}catch(err){_iterator375.e(err);}finally{_iterator375.f();}},Zl:function Zl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator377=_createForOfIteratorHelper(t),_step377;try{for(_iterator377.s();!(_step377=_iterator377.n()).done;){var _i502=_step377.value;"path"===_i502.localName?_i502.hasAttribute("data-bx-shape")&&_i502.getAttribute("data-bx-shape").startsWith("spiral")&&e.push(_i502):["g","a"].includes(_i502.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Zl(_i502.children))));}}catch(err){_iterator377.e(err);}finally{_iterator377.f();}return e;}};var Td=Symbol(),Ad=6;var $d={id:"line-hud",createdCallback:function createdCallback(){this.Wo=!1,this.Jl=[],this.Xo=null,this.Zo=Xi(this.Ko,200,this),this.innerHTML='\n  <style>\n    #line-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="start-grippie grippie" fill="none"></circle>\n      <circle class="end-grippie grippie" fill="none"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator378=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step378;try{for(_iterator378.s();!(_step378=_iterator378.n()).done;){var _t669=_step378.value;this["#"+_t669.getAttribute("uid")]=_t669;}}catch(err){_iterator378.e(err);}finally{_iterator378.f();}},enabledCallback:function enabledCallback(){var _this269=this;this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this269.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this270=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this270.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this270.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this270.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.Jl=this.th(),0===this.Jl.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){t.target.matches(".start-grippie")?this.Nl(t):t.target.matches(".end-grippie")&&this.Vl(t);},Nl:function Nl(t){var _this271=this;if(0!==t.button)return;var e,_i503,s=t.target,n=s.parentElement[Td],o=jt(n),l=o.inverse(),h=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value).matrixTransform(o),a=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value).matrixTransform(o),r=new DOMPoint(t.clientX,t.clientY),d=this.Pn.geometryPrecision,c=!1;s.parentElement.append(s),this.Xo=s,window.addEventListener("pointermove",e=function e(t){c||(c=!0,_this271.Pn.undoManager.checkpoint("Line start point"));var e=new DOMPoint(t.clientX,t.clientY),i=new X(r,e),s=new DOMPoint(h.x+i.x,h.y+i.y);if(_this271.Qs.modKeys.shift){var _Ae=Ae(a,s,22.5),_Ae2=_slicedToArray(_Ae,1),_t670=_Ae2[0];s=_t670;}var o=s.matrixTransform(l);n.setAttribute("x1",Z(o.x,d)),n.setAttribute("y1",Z(o.y,d));}),window.addEventListener("pointerup",_i503=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i503),_this271.Xo=null;});},Vl:function Vl(t){var _this272=this;if(0!==t.button)return;var e,_i504,s=t.target,n=s.parentElement[Td],o=jt(n),l=o.inverse(),h=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value).matrixTransform(o),a=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value).matrixTransform(o),r=new DOMPoint(t.clientX,t.clientY),d=this.Pn.geometryPrecision,c=!1;s.parentElement.append(s),this.Xo=s,window.addEventListener("pointermove",e=function e(t){c||(c=!0,_this272.Pn.undoManager.checkpoint("Line start point"));var e=new DOMPoint(t.clientX,t.clientY),i=new X(r,e),s=new DOMPoint(a.x+i.x,a.y+i.y);if(_this272.Qs.modKeys.shift){var _Ae3=Ae(h,s,22.5),_Ae4=_slicedToArray(_Ae3,1),_t671=_Ae4[0];s=_t671;}var o=s.matrixTransform(l);n.setAttribute("x2",Z(o.x,d)),n.setAttribute("y2",Z(o.y,d));}),window.addEventListener("pointerup",_i504=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i504),_this272.Xo=null;});},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator379=_createForOfIteratorHelper(this.Jl),_step379;try{for(_iterator379.s();!(_step379=_iterator379.n()).done;){var _t672=_step379.value;var _e490=this["#subhud-template"].cloneNode(!0);_e490.removeAttribute("uid"),_e490[Td]=_t672,this["#subhuds"].append(_e490);}}catch(err){_iterator379.e(err);}finally{_iterator379.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator380=_createForOfIteratorHelper(this["#subhuds"].children),_step380;try{for(_iterator380.s();!(_step380=_iterator380.n()).done;){var _t673=_step380.value;var _e491=_t673[Td],_i505=Vt(_e491,this),_s291=_t673.querySelector(".start-grippie"),_n211=_t673.querySelector(".end-grippie"),_o175=new DOMPoint(_e491.x1.baseVal.value,_e491.y1.baseVal.value).matrixTransform(_i505),_l161=new DOMPoint(_e491.x2.baseVal.value,_e491.y2.baseVal.value).matrixTransform(_i505);_s291.setAttribute("cx",_o175.x),_s291.setAttribute("cy",_o175.y),_n211.setAttribute("cx",_l161.x),_n211.setAttribute("cy",_l161.y);}}catch(err){_iterator380.e(err);}finally{_iterator380.f();}},ll:function ll(){var _iterator381=_createForOfIteratorHelper(this["#subhuds"].children),_step381;try{for(_iterator381.s();!(_step381=_iterator381.n()).done;){var _t674=_step381.value;var _iterator382=_createForOfIteratorHelper(_t674.children),_step382;try{for(_iterator382.s();!(_step382=_iterator382.n()).done;){var _e492=_step382.value;_e492.setAttribute("r",Ad/this.Pn.scale);}}catch(err){_iterator382.e(err);}finally{_iterator382.f();}}}catch(err){_iterator381.e(err);}finally{_iterator381.f();}},th:function th(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.outermostSelectedElements;var e=[];var _iterator383=_createForOfIteratorHelper(t),_step383;try{for(_iterator383.s();!(_step383=_iterator383.n()).done;){var _i506=_step383.value;"line"===_i506.localName?e.push(_i506):["g","a"].includes(_i506.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.th(_i506.children))));}}catch(err){_iterator383.e(err);}finally{_iterator383.f();}return e;}};var Id=Symbol(),Ld=Symbol(),Bd=Symbol(),Rd=6;var Gd={id:"poly-hud",createdCallback:function createdCallback(){this.Wo=!1,this.eh=[],this.Xo=null,this.ih=Xi(this.sh,200,this),this.innerHTML='\n  <style>\n    #poly-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #poly-hud .grippie[data-selected] {\n      fill: red;\n    }\n  </style>\n\n  <g uid="node-grippies"></g>\n';var _iterator384=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step384;try{for(_iterator384.s();!(_step384=_iterator384.n()).done;){var _t675=_step384.value;this["#"+_t675.getAttribute("uid")]=_t675;}}catch(err){_iterator384.e(err);}finally{_iterator384.f();}},enabledCallback:function enabledCallback(){var _this273=this;this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this273.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#node-grippies"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this274=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this274.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this274.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this274.wo(t);});},tl:function tl(){this.Wo=!1,this["#node-grippies"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.eh=this.nh(),0===this.eh.length?!0===this.Wo&&this.tl():(!1===this.Wo&&this.el(),this.sh());},sl:function sl(t){t.attributeName;this.Xo?this.sh():this.ih();},il:function il(){this.oh();},wo:function wo(t){t.target.matches(".grippie")&&this.hl(t);},hl:function hl(t){var _this275=this;if(0!==t.button)return;var e,_i507,s=this.Qs.modKeys.shift,n=t.target,o=n[Id],l=n[Ld],h=jt(o),a=h.inverse(),r=DOMPoint.fromPoint(0===l?o.points[1]:o.points[l-1]).matrixTransform(h),d=DOMPoint.fromPoint(o.points[l]).matrixTransform(h),c=new DOMPoint(t.clientX,t.clientY),p=this.Pn.geometryPrecision,u=!1;n.parentElement.append(n),this.Xo=n,window.addEventListener("pointermove",e=function e(t){u||(u=!0,_this275.Pn.undoManager.checkpoint("Edit ".concat(o.localName)));var e=new DOMPoint(t.clientX,t.clientY),i=new X(c,e),s=new DOMPoint(d.x+i.x,d.y+i.y);if(_this275.Qs.modKeys.shift){var _Ae5=Ae(r,s,22.5),_Ae6=_slicedToArray(_Ae5,1),_t676=_Ae6[0];s=_t676;}var n=s.matrixTransform(a);o.points[l].x=Z(n.x,p),o.points[l].y=Z(n.y,p);var h=[];var _iterator385=_createForOfIteratorHelper(o.points),_step385;try{for(_iterator385.s();!(_step385=_iterator385.n()).done;){var _t677=_step385.value;h.push(_t677.x,_t677.y);}}catch(err){_iterator385.e(err);}finally{_iterator385.f();}o.setAttribute("points",h.join(" "));}),window.addEventListener("pointerup",_i507=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i507),_this275.Xo=null;});},sh:function sh(){var t=0;var _iterator386=_createForOfIteratorHelper(this.eh),_step386;try{for(_iterator386.s();!(_step386=_iterator386.n()).done;){var _e493=_step386.value;var _i508=Vt(_e493,this);for(var _s292=0;_s292<_e493.points.length;_s292+=1){var _n212=DOMPoint.fromPoint(_e493.points[_s292]).matrixTransform(_i508),_o176=this["#node-grippies"].children[t];_o176||(_o176=zi("svg:circle"),_o176.setAttribute("class","grippie"),this["#node-grippies"].append(_o176)),_o176[Id]=_e493,_o176[Ld]=_s292,_o176.setAttribute("cx",_n212.x),_o176.setAttribute("cy",_n212.y),_e493[Bd]&&_e493[Bd].includes(_s292)?_o176.setAttribute("data-selected",""):_o176.removeAttribute("data-selected"),t+=1;}}}catch(err){_iterator386.e(err);}finally{_iterator386.f();}for(;this["#node-grippies"].childElementCount>t;){this["#node-grippies"].lastElementChild.remove();}this.oh();},oh:function oh(){var _iterator387=_createForOfIteratorHelper(this["#node-grippies"].children),_step387;try{for(_iterator387.s();!(_step387=_iterator387.n()).done;){var _t678=_step387.value;_t678.setAttribute("r",Rd/this.Pn.scale);}}catch(err){_iterator387.e(err);}finally{_iterator387.f();}},nh:function nh(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator388=_createForOfIteratorHelper(t),_step388;try{for(_iterator388.s();!(_step388=_iterator388.n()).done;){var _i509=_step388.value;"polyline"===_i509.localName||"polygon"===_i509.localName?e.push(_i509):["g","a"].includes(_i509.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.nh(_i509.children))));}}catch(err){_iterator388.e(err);}finally{_iterator388.f();}return e;}};var Fd=Math.abs,Ud=Math.sin,Nd=Math.asin,Vd=Math.cos,jd=Math.acos,Hd=Math.tan,Yd=Math.pow,Wd=Math.sqrt,qd=Math.PI,Xd=function Xd(t,e,i,s,n){var o=function o(t){return Fd(t)<1e-11?0:t>0?1:-1;},l=function l(t,e,i,s,n){var o=3*e-t-3*i+s;0===o&&(o=1e-10);var l=[3,-1];h(l,(3*t-6*e+3*i)/o,(-3*t+3*e)/o,(-n+t)/o);var a=[];for(var _i510=0,_l162=l;_i510<_l162.length;_i510++){var _t679=_l162[_i510];_t679>=0&&_t679<=1&&a.push(_t679);}return a;},h=function h(t,e,i,s){var n=(Yd(e,2)-3*i)/9,l=(2*Yd(e,3)-9*e*i+27*s)/54;if(Yd(l,2)<Yd(n,3)){var _i511=jd(l/Wd(Yd(n,3)))/3;return t.splice(0,0,-2*Wd(n)*Vd(_i511)-e/3),t.splice(1,0,-2*Wd(n)*Vd(_i511+4*qd/3)-e/3),t.splice(2,0,-2*Wd(n)*Vd(_i511-4*qd/3)-e/3),3;}{var _i512=-o(l)*Yd(Fd(l)+Wd(Yd(l,2)-Yd(n,3)),1/3),_s293=0==o(_i512)?0:n/_i512;return t.splice(0,0,_i512+_s293-e/3),t.splice(1,0,-.5*(_i512+_s293)-e/3),t.splice(2,0,.5*Wd(3)*Fd(_i512-_s293)),t[2]+1===1?2:1;}},a=[].concat(_toConsumableArray(l(e.x,i.x,s.x,n.x,t.x)),_toConsumableArray(l(e.y,i.y,s.y,n.y,t.y)));if(0===a.length)return-1;{var _o177=-1,_l163=3;var _iterator389=_createForOfIteratorHelper(a),_step389;try{for(_iterator389.s();!(_step389=_iterator389.n()).done;){var _h125=_step389.value;var _a107=Yd(1-_h125,3)*e.x+3*Yd(1-_h125,2)*_h125*i.x+3*(1-_h125)*Yd(_h125,2)*s.x+Yd(_h125,3)*n.x,_u28=Yd(1-_h125,3)*e.y+3*Yd(1-_h125,2)*_h125*i.y+3*(1-_h125)*Yd(_h125,2)*s.y+Yd(_h125,3)*n.y,_x93=(r=t.x,d=t.y,Wd(((c=_a107)-r)*(c-r)+((p=_u28)-d)*(p-d)));_x93<_l163&&(_o177=_h125,_l163=_x93);}}catch(err){_iterator389.e(err);}finally{_iterator389.f();}return _o177;}var r,d,c,p;},Zd=Math.abs,Kd=Math.max,Qd=Math.pow,Jd=Number.parseFloat,tc=5,ec=4,ic=Symbol(),sc=Symbol(),nc=Symbol();var oc={id:"path-hud",get passive(){return this.hasAttribute("passive");},set passive(t){t?this.setAttribute("passive",""):this.removeAttribute("passive");},get selectedNodes(){return _toConsumableArray(this.lh);},set selectedNodes(t){this.lh=t,this.hh(),this.ah();},createdCallback:function createdCallback(){var _this276=this;this.commands={selectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this276.rh();}}},this.Wo=!1,this.dh=0,this.ph=[],this.lh=[],this.uh=null,this.xh=null,this.bh=null,this.mh=Xi(this.gh,1500,this),this.hh=Xi(this.sh,40,this),this.ah=Xi(this.fh,40,this),this.wh=Xi(this.oh,40,this),this.yh=Xi(this.kh,40,this),this.Sh=Xi(this._h,1500,this),this.innerHTML='\n  <style>\n    #path-hud [uid="grippies"] {\n      cursor: default;\n    }\n    #path-hud [uid="grippies"]:focus {\n      outline: none;\n    }\n\n    #path-hud .node-grippie .outer-circle {\n      fill: white;\n      stroke: #4d2782;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n    }\n    #path-hud .node-grippie[data-selected] .outer-circle {\n      fill: #bc9aec;\n    }\n    #path-hud #grippies:focus .node-grippie[data-selected] .outer-circle {\n      fill: #a370ea;\n    }\n    #path-hud[passive] .node-grippie[data-position="mid"] {\n      display: none;\n    }\n\n    #path-hud .node-grippie .inner-circle {\n      pointer-events: none;\n      fill: #4d2782;\n    }\n\n    #path-hud[passive] .outline-grippie {\n      display: none;\n    }\n    #path-hud .outline-grippie path {\n      fill: none;\n      stroke: blue;\n      stroke-width: 10px;\n      vector-effect: non-scaling-stroke;\n      opacity: 0;\n    }\n    #path-hud .outline-grippie path:hover {\n      opacity: 0.2;\n    }\n\n    #path-hud .control-grippie {\n      fill: white;\n      stroke: #ef6c6c;\n      stroke-width: 1.5;\n      vector-effect: non-scaling-stroke;\n    }\n\n    #path-hud .control-line {\n      stroke: red;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      opacity: 0.3;\n    }\n  </style>\n\n  <g uid="grippies" tabindex="-1">\n    <g uid="outline-grippies"></g>\n    <g uid="control-lines"></g>\n    <g uid="node-grippies"></g>\n    <g uid="control-grippies"></g>\n  </g>\n';var _iterator390=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step390;try{for(_iterator390.s();!(_step390=_iterator390.n()).done;){var _t680=_step390.value;this["#"+_t680.getAttribute("uid")]=_t680;}}catch(err){_iterator390.e(err);}finally{_iterator390.f();}this.addEventListener("keydown",function(t){_this276.vn(t);}),this.addEventListener("pointerdown",function(t){_this276.wo(t);}),this.addEventListener("click",function(t){2===t.detail&&Date.now()-_this276.dh<300&&_this276.Ch(t),_this276.dh=Date.now();});},enabledCallback:function enabledCallback(){var _this277=this;this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this277.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl();var _iterator391=_createForOfIteratorHelper(this["#grippies"].children),_step391;try{for(_iterator391.s();!(_step391=_iterator391.n()).done;){var _t681=_step391.value;_t681.innerHTML="";}}catch(err){_iterator391.e(err);}finally{_iterator391.f();}this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this278=this;this.Wo=!0,this.Pn.addEventListener("workspacemutation",this.rn=function(){_this278.sl();}),this.Pn.addEventListener("zoomchange",this.an=function(){_this278.il();}),this.Pn.undoManager.addEventListener("undo",this.Mh=function(){_this278.deselectAllSegs();}),this.Pn.undoManager.addEventListener("redo",this.Ph=function(){_this278.deselectAllSegs();});},tl:function tl(){this.ph=[],this.lh=[],this.Wo=!1,this["#outline-grippies"].innerHTML="",this["#node-grippies"].innerHTML="",this["#control-grippies"].innerHTML="",this["#control-lines"].innerHTML="",this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("zoomchange",this.an),this.Pn.undoManager.removeEventListener("undo",this.Mh),this.Pn.undoManager.removeEventListener("redo",this.Ph),this.dispatchEvent(new CustomEvent("selectednodeschange"));},rubberBandSelectionCallback:function rubberBandSelectionCallback(t){var _this279=this;var e=this.Qs.modKeys.shift,i=[];if(t instanceof DOMRect){var _e494=t;var _iterator392=_createForOfIteratorHelper(this["#node-grippies"].children),_step392;try{for(_iterator392.s();!(_step392=_iterator392.n()).done;){var _t682=_step392.value;var _s294=Ci(_t682);je(_e494,_s294)&&i.push(_t682);}}catch(err){_iterator392.e(err);}finally{_iterator392.f();}}else{var _iterator393=_createForOfIteratorHelper(this["#node-grippies"].children),_step393;try{for(_iterator393.s();!(_step393=_iterator393.n()).done;){var _e495=_step393.value;var _s295=new DOMPoint(_e495.firstElementChild.cx.baseVal.value,_e495.firstElementChild.cy.baseVal.value);!0===Qe(t,_s295)&&i.push(_e495);}}catch(err){_iterator393.e(err);}finally{_iterator393.f();}}if(!1===e){this.lh=[];var _iterator394=_createForOfIteratorHelper(i),_step394;try{for(_iterator394.s();!(_step394=_iterator394.n()).done;){var _t683=_step394.value;var _e496={path:_t683[ic],index:_t683[nc]};this.lh.push(_e496);}}catch(err){_iterator394.e(err);}finally{_iterator394.f();}}else if(!0===e){var _iterator395=_createForOfIteratorHelper(i),_step395;try{var _loop5=function _loop5(){var t=_step395.value;var e={path:t[ic],index:t[nc]};void 0===_this279.lh.find(function(t){return t.path===e.path&&t.index===e.index;})&&_this279.lh.push(e);};for(_iterator395.s();!(_step395=_iterator395.n()).done;){_loop5();}}catch(err){_iterator395.e(err);}finally{_iterator395.f();}}this.hh(),this.ah(),this.mh(),this.dispatchEvent(new CustomEvent("selectednodeschange")),this.lh.length>0&&this["#grippies"].focus();},Jo:function Jo(){this.ph=this.Dh(),this.lh=[],this.dispatchEvent(new CustomEvent("selectednodeschange")),0===this.ph.length?this.Wo&&this.tl():(this.Wo||this.el(),this.hh(),this.ah(),this.mh());},sl:function sl(){this.hh(),this.ah(),this.mh();},il:function il(){this.wh(),this.yh(),this.Sh();},vn:function vn(t){if(!1===this.passive&&this["#node-grippies"].querySelector("[data-selected]")){var _e497=eo.fromEvent(t);_e497.matches("Backspace")||_e497.matches("Delete")?(t.preventDefault(),t.stopPropagation(),this.zh("smooth")):(_e497.matches("Shift","Backspace")||_e497.matches("Shift","Delete"))&&(t.preventDefault(),t.stopPropagation(),this.zh("sharp"));}},wo:function wo(t){t.preventDefault(),this["#grippies"].focus(),t.target.closest(".node-grippie")?this.Oh(t):t.target.matches(".control-grippie")?this.Eh(t):t.target.matches(".outline-grippie path")&&this.Th(t);},Oh:function Oh(t){var _this280=this;if(0!==t.button)return;var e=!1,i=t.target.closest(".node-grippie"),s=i[ic],n=s.getPathData({normalize:!0}),o=i[nc],l=function(t,e){var i=-1,s=-1;var _iterator396=_createForOfIteratorHelper(lt(t)),_step396;try{for(_iterator396.s();!(_step396=_iterator396.n()).done;){var _n213=_step396.value;i+=1;var _iterator397=_createForOfIteratorHelper(_n213),_step397;try{for(_iterator397.s();!(_step397=_iterator397.n()).done;){var _t684=_step397.value;if(s+=1,s===e)return i;}}catch(err){_iterator397.e(err);}finally{_iterator397.f();}}}catch(err){_iterator396.e(err);}finally{_iterator396.f();}return i;}(n,o),h={position:i.getAttribute("data-position"),selected:i.hasAttribute("data-selected"),path:s,index:o,subpathIndex:l};if(i.setPointerCapture(t.pointerId),!1===this.passive){var _t686,_s296=this.Qs.modKeys.shift,_n214=i[ic],_o178=i[nc];i.addEventListener("pointerup",_t686=function _t685(l){i.removeEventListener("pointerup",_t686);var h=void 0!==_this280.lh.find(function(t){return t.path===_n214&&t.index===_o178;}),a={path:_n214,index:_o178};!1===h?(!1===_s296?_this280.lh=[a]:!0===_s296&&_this280.lh.push(a),_this280.hh(),_this280.ah()):!0===_s296&&!1===e&&(_this280.lh=_this280.lh.filter(function(t){return t.path!==_n214||t.index!==_o178;}),_this280.hh(),_this280.ah()),_this280.dispatchEvent(new CustomEvent("selectednodeschange"));});}{var _s298,_n216,_o179=new DOMPoint(t.clientX,t.clientY),_l164=_o179,_a108=new CustomEvent("nodepointerdown",{detail:h,cancelable:!0});this.dispatchEvent(_a108),i.addEventListener("pointermove",_s298=function _s297(n){var h=new DOMPoint(n.clientX,n.clientY),a=n.timeStamp-t.timeStamp,r=De(_o179,h)>3||a>80,d=!1===Ce(_l164,h,0);if(_l164=h,!1===_this280.passive&&!0===r&&!0===d){i.removeEventListener("pointermove",_s298);var _o180=new X(n.clientX-t.clientX,n.clientY-t.clientY);e=!0;var _l165=Zd(_o180.x)>Zd(_o180.y)?"horizontal":"vertical";new DOMPoint(n.clientX,n.clientY);_this280.Ah(t,i,_l165);}}),i.addEventListener("pointerup",_n216=function _n215(t){i.removeEventListener("pointermove",_s298),i.removeEventListener("pointerup",_n216),_this280.dispatchEvent(new CustomEvent("nodepointerup",{detail:h})),!1===e&&!1===_a108.defaultPrevented&&_this280.dispatchEvent(new CustomEvent("nodeclick",{detail:h}));});}},Ah:function Ah(t,e,i){var _this281=this;var s,_n220,o=this.Pn,l=Symbol(),h=Symbol(),a=Symbol(),r=Symbol(),d=e[ic],c=e[nc],p=new DOMPoint(t.clientX,t.clientY),u=null;o.undoManager.checkpoint("Edit path"),o.snapManager.snapStart(!0);{var _t687={path:d,index:c};void 0===this.lh.find(function(e){return e.path===_t687.path&&e.index===_t687.index;})&&(this.lh=[_t687],this.hh(),this.ah(),this.dispatchEvent(new CustomEvent("selectednodeschange")));}this.uh=e;var _iterator398=_createForOfIteratorHelper(this.ph),_step398;try{for(_iterator398.s();!(_step398=_iterator398.n()).done;){var _t694=_step398.value;var _e500=void 0,_i513=_t694[sc];if(_i513){var _s300=Nt(_t694);_e500=jt(_i513).multiply(_s300).inverse();}else _e500=jt(_t694).inverse();_t694[r]=_e500,_t694[a]=_e500.inverse(),_t694[l]=nt(_t694.getPathData({normalize:!0})),_t694[h]=ot(_t694[l]);}}catch(err){_iterator398.e(err);}finally{_iterator398.f();}{var _t688=d[l][c],_e498=null;"M"===_t688.type||"L"===_t688.type?_e498=new DOMPoint(_t688.values[0],_t688.values[1]):"C"===_t688.type&&(_e498=new DOMPoint(_t688.values[4],_t688.values[5])),u=_e498.matrixTransform(d[a]);}window.addEventListener("pointermove",s=function s(t){var e=new DOMPoint(t.clientX,t.clientY);_this281.Qs.modKeys.shift&&("horizontal"===i?e.y=p.y:"vertical"===i&&(e.x=p.x));var s=o.snapManager.snapPoint(new DOMPoint(u.x+e.x-p.x,u.y+e.y-p.y)),n=new X(u,s);var _iterator399=_createForOfIteratorHelper(_this281.ph),_step399;try{var _loop6=function _loop6(){var t=_step399.value;var e=t[l],i=t[h],s=_this281.lh.filter(function(e){return e.path===t;}).map(function(t){return t.index;}),o=n.matrixTransform(t[r]);var _iterator400=_createForOfIteratorHelper(s),_step400;try{for(_iterator400.s();!(_step400=_iterator400.n()).done;){var _t689=_step400.value;var _s299=e[_t689],_n217=e[_t689+1],_l166=i[_t689],_h126=i[_t689+1];if("M"===_s299.type||"L"===_s299.type){if(_s299.values[0]=_l166.values[0]+o.x,_s299.values[1]=_l166.values[1]+o.y,_n217&&"C"===_n217.type)_n217.values[0]=_h126.values[0]+o.x,_n217.values[1]=_h126.values[1]+o.y;else if(_n217&&"Z"===_n217.type){var _t690=wt(_s299,e),_n218=_t690[0],_h127=_t690[1],_a109=wt(_l166,i);_n218.values[0]=_s299.values[0],_n218.values[1]=_s299.values[1],_h127&&"C"===_h127.type&&(_h127.values[0]=_a109[1].values[0]+o.x,_h127.values[1]=_a109[1].values[1]+o.y);}}else if("C"===_s299.type)if(_s299.values[2]=_l166.values[2]+o.x,_s299.values[3]=_l166.values[3]+o.y,_s299.values[4]=_l166.values[4]+o.x,_s299.values[5]=_l166.values[5]+o.y,_n217&&"C"===_n217.type)_n217.values[0]=_h126.values[0]+o.x,_n217.values[1]=_h126.values[1]+o.y;else if(_n217&&"Z"===_n217.type){var _t691=wt(_s299,e),_n219=_t691[0],_h128=_t691[1],_a110=wt(_l166,i);_n219.values[0]=_s299.values[4],_n219.values[1]=_s299.values[5],"C"===_h128.type&&(_h128.values[0]=_a110[1].values[0]+o.x,_h128.values[1]=_a110[1].values[1]+o.y);}}}catch(err){_iterator400.e(err);}finally{_iterator400.f();}t.setPathData(e);};for(_iterator399.s();!(_step399=_iterator399.n()).done;){_loop6();}}catch(err){_iterator399.e(err);}finally{_iterator399.f();}}),window.addEventListener("pointerup",_n220=function n(t){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n220);var _iterator401=_createForOfIteratorHelper(_this281.ph),_step401;try{for(_iterator401.s();!(_step401=_iterator401.n()).done;){var _t692=_step401.value;var _e499=_t692[l];var _iterator402=_createForOfIteratorHelper(_e499),_step402;try{for(_iterator402.s();!(_step402=_iterator402.n()).done;){var _t693=_step402.value;_t693.values=_t693.values.map(function(t){return Z(t,o.geometryPrecision);});}}catch(err){_iterator402.e(err);}finally{_iterator402.f();}_t692.setPathData(_e499);}}catch(err){_iterator401.e(err);}finally{_iterator401.f();}o.snapManager.snapEnd(),_this281.uh=null,_this281.gh();});},Ch:function Ch(t){t.target.closest(".node-grippie")?this.$h(t):t.target.matches(".control-grippie")?this.Ih(t):t.target.matches(".outline-grippie > path")&&this.Lh(t);},$h:function $h(t){var _this282=this;var e=t.target.closest(".node-grippie"),i=e[ic],s=e[nc],n=nt(i.getPathData({normalize:!0})),o=n[s],l=n[s+1]||null,h=n[s-1]||null,a=wt(o,n),r=!1;if(_t(n),"M"===o.type){if("C"===l.type){!1===(l.values[0]===o.values[0]&&l.values[1]===o.values[1])&&(l.values[0]=o.values[0],l.values[1]=o.values[1],r=!0);}}else if("C"===o.type)if(null===l||"M"===l.type){!1===(o.values[2]===o.values[4]&&o.values[3]===o.values[5])&&(o.values[2]=o.values[4],o.values[3]=o.values[5],r=!0);}else if("Z"===l.type){var _t695=a[1];if("C"===_t695.type){!1===(o.values[4]===_t695.values[0]&&o.values[5]===_t695.values[1]&&o.values[4]===o.values[2]&&o.values[5]===o.values[3])?(_t695.values[0]=o.values[4],_t695.values[1]=o.values[5],o.values[2]=o.values[4],o.values[3]=o.values[5]):St(h,o,_t695),r=!0;}}else if("C"===l.type){!1===(l.values[0]===o.values[4]&&l.values[1]===o.values[5]&&o.values[2]===o.values[4]&&o.values[3]===o.values[5])?(o.values[2]=o.values[4],o.values[3]=o.values[5],l.values[0]=o.values[4],l.values[1]=o.values[5]):St(h,o,l),r=!0;}if(r){this.Pn.undoManager.checkpoint("Edit path"),Ct(n);var _iterator403=_createForOfIteratorHelper(n),_step403;try{for(_iterator403.s();!(_step403=_iterator403.n()).done;){var _t696=_step403.value;_t696.values=_t696.values.map(function(t){return Z(t,_this282.Pn.geometryPrecision);});}}catch(err){_iterator403.e(err);}finally{_iterator403.f();}i.setPathData(n);}},Ih:function Ih(t){var _this283=this;var e=t.target,i=e.getAttribute("data-index"),s=e[ic],n=e[nc],o=nt(s.getPathData({normalize:!0})),l=o[n],h=o[n-1]||null;"1"===i?"C"===h.type?(l.values[0]=h.values[4],l.values[1]=h.values[5]):"M"!==h.type&&"L"!==h.type||(l.values[0]=h.values[0],l.values[1]=h.values[1]):"2"===i&&(l.values[2]=l.values[4],l.values[3]=l.values[5]),this.Pn.undoManager.checkpoint("Edit path"),Ct(o);var _iterator404=_createForOfIteratorHelper(o),_step404;try{for(_iterator404.s();!(_step404=_iterator404.n()).done;){var _t697=_step404.value;_t697.values=_t697.values.map(function(t){return Z(t,_this283.Pn.geometryPrecision);});}}catch(err){_iterator404.e(err);}finally{_iterator404.f();}s.setPathData(o);},Lh:function Lh(t){var _this284=this;var e,i=t.target.closest(".outline-grippie"),s=t.target,n=i[ic],o=n[sc];if(o){var _t698=Nt(n);e=jt(o).multiply(_t698).inverse();}else e=jt(n).inverse();var l,h,a=nt(n.getPathData({normalize:!0})),r=new DOMPoint(t.clientX,t.clientY).matrixTransform(e),_ft=ft(s,r),_ft2=_slicedToArray(_ft,1),d=_ft2[0],c=_toConsumableArray(i.children).indexOf(s),p=a[c];if("L"===p.type){var _t699=new DOMPoint(p.values[0],p.values[1]);l={type:"L",values:[d.x,d.y]},h={type:"L",values:[_t699.x,_t699.y]};}else if("C"===p.type){var _t700,_e501=a[c-1]||null;"M"===_e501.type||"L"===_e501.type?_t700=new DOMPoint(_e501.values[0],_e501.values[1]):"C"===_e501.type&&(_t700=new DOMPoint(_e501.values[4],_e501.values[5]));var _i514=new DOMPoint(p.values[4],p.values[5]),_s301=new DOMPoint(p.values[0],p.values[1]),_n221=new DOMPoint(p.values[2],p.values[3]),_o181=Xd(d,_t700,_s301,_n221,_i514),_r64=function(t,e,i,s,n){var o=(e.x-t.x)*n+t.x,l=(e.y-t.y)*n+t.y,h=(i.x-e.x)*n+e.x,a=(i.y-e.y)*n+e.y,r=(s.x-i.x)*n+i.x,d=(s.y-i.y)*n+i.y,c=(h-o)*n+o,p=(a-l)*n+l,u=(r-h)*n+h,x=(d-a)*n+a,b=(u-c)*n+c,m=(x-p)*n+p;return[[new DOMPoint(t.x,t.y),new DOMPoint(o,l),new DOMPoint(c,p),new DOMPoint(b,m)],[new DOMPoint(b,m),new DOMPoint(u,x),new DOMPoint(r,d),new DOMPoint(s.x,s.y)]];}(_t700,_s301,_n221,_i514,_o181);if(-1===_o181)return;l={type:"C",values:[_r64[0][1].x,_r64[0][1].y,_r64[0][2].x,_r64[0][2].y,_r64[0][3].x,_r64[0][3].y]},h={type:"C",values:[_r64[1][1].x,_r64[1][1].y,_r64[1][2].x,_r64[1][2].y,_r64[1][3].x,_r64[1][3].y]};}this.Pn.undoManager.checkpoint("Add path node"),a=[].concat(_toConsumableArray(a.slice(0,c)),[l,h],_toConsumableArray(a.slice(c+1)));var _iterator405=_createForOfIteratorHelper(a),_step405;try{for(_iterator405.s();!(_step405=_iterator405.n()).done;){var _t701=_step405.value;_t701.values=_t701.values.map(function(t){return Z(t,_this284.Pn.geometryPrecision);});}}catch(err){_iterator405.e(err);}finally{_iterator405.f();}n.setPathData(a),this.lh=[{path:n,index:c}],this.sh(),this.fh(),this.dispatchEvent(new CustomEvent("selectednodeschange"));},Eh:function Eh(t){var _this285=this;if(0===t.button){var _e503,_i516,_s302=t.target,_n222=new DOMPoint(t.clientX,t.clientY),_o182=_n222;window.addEventListener("pointermove",_e503=function _e502(l){var h=new DOMPoint(l.clientX,l.clientY),a=l.timeStamp-t.timeStamp,r=De(_n222,h)>3||a>80,d=!1===Ce(_o182,h,0);_o182=h,!0===r&&!0===d&&(window.removeEventListener("pointermove",_e503),window.removeEventListener("pointerup",_i516),_this285.Bh(t,_s302));}),window.addEventListener("pointerup",_i516=function _i515(t){window.removeEventListener("pointermove",_e503),window.removeEventListener("pointerup",_i516);});}},Bh:function Bh(t,e){var _this286=this;var i,s,n=this.Pn,o=e.getAttribute("data-index"),l=e[ic],h=l[sc];if(n.undoManager.checkpoint("Move control point"),n.snapManager.snapStart(!0),h){var _t702=Nt(l),_e504=jt(h);s=_e504.multiply(_t702),i=s.inverse();}else s=jt(l),i=s.inverse();var a=l.getPathData({normalize:!0});a=nt(a),_t(a);var r,_d45,c,p=e[nc],u=a[p],x=a[p-1]||null,b=a[p+1]||null,m=wt(u,a),g=Mt(u,a),f=new DOMPoint(t.clientX,t.clientY).matrixTransform(i),w=_toConsumableArray(u.values),v=null,y=null,k=null;v="M"===x.type&&g?m[m.length-2]:x,b&&("Z"===b.type?y=g?m[1]:null:"C"===b.type&&(y=b)),"1"===o?"M"===v.type||"L"===v.type?k=new DOMPoint(v.values[0],v.values[1]):"C"===v.type&&(k=new DOMPoint(v.values[4],v.values[5])):"2"===o&&(k=new DOMPoint(u.values[4],u.values[5]));var S="sharp",_=k.matrixTransform(s),C=new DOMPoint(f.x,f.y);this.xh=e;var M=function M(){var _this286$Qs$modKeys=_this286.Qs.modKeys,t=_this286$Qs$modKeys.ctrl,e=_this286$Qs$modKeys.shift;!0===t&&!1===e?S="sharp":!1===t&&!0===e?"1"===o?S=v&&"C"===v.type?"smooth":"sharp":"2"===o&&(S=y&&"C"===y.type?"smooth":"sharp"):!0===t&&!0===e?"1"===o?S=v&&"C"===v.type?"symmetric-smooth":"sharp":"2"===o&&(S=y&&"C"===y.type?"symmetric-smooth":"sharp"):!1===t&&!1===e&&("1"===o?S=vt(v,u):"2"===o&&(S=vt(u,y)));},P=function P(){if("1"===o){var _t703;if(_this286.Qs.modKeys.shift)_t703=C;else{var _e505=C.x-f.x,_i517=C.y-f.y;_t703=new DOMPoint(w[0]+_e505,w[1]+_i517);}{var _e506=_t703.matrixTransform(s);_t703=n.snapManager.snapPoint(_e506).matrixTransform(i);}if(u.values[0]=_t703.x,u.values[1]=_t703.y,"smooth"===S){var _e507=new DOMPoint(v.values[2],v.values[3]),_i518=new X(k,_t703),_s303=new X(k,_e507),_n223=_i518.getOppositeVector();_n223.length=_s303.length,v.values[2]=k.x+_n223.x,v.values[3]=k.y+_n223.y;}else if("symmetric-smooth"===S){var _e508=new X(k,_t703);_e508=_e508.negate(),v.values[2]=k.x+_e508.x,v.values[3]=k.y+_e508.y;}}else if("2"===o){var _t704;if(_this286.Qs.modKeys.shift)_t704=C;else{var _e509=C.x-f.x,_i519=C.y-f.y;_t704=new DOMPoint(w[2]+_e509,w[3]+_i519);}{var _e510=_t704.matrixTransform(s);_t704=n.snapManager.snapPoint(_e510).matrixTransform(i);}if(u.values[2]=_t704.x,u.values[3]=_t704.y,"smooth"===S){var _e511=new DOMPoint(y.values[0],y.values[1]),_i520=new X(k,_t704),_s304=new X(k,_e511),_n224=_i520.getOppositeVector();_n224.length=_s304.length,y.values[0]=k.x+_n224.x,y.values[1]=k.y+_n224.y;}else if("symmetric-smooth"===S){var _e512=new X(k,_t704);_e512=_e512.negate(),y.values[0]=k.x+_e512.x,y.values[1]=k.y+_e512.y;}}l.setPathData(a);};window.addEventListener("pointermove",r=function r(t){var e=new DOMPoint(t.clientX,t.clientY);if(_this286.Qs.modKeys.shift){var _Ae7=Ae(_,e,22.5),_Ae8=_slicedToArray(_Ae7,1),_t705=_Ae8[0];e=_t705;}C=e.matrixTransform(i),P();}),window.addEventListener("pointerup",_d45=function d(t){window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",_d45),_this286.Qs.removeEventListener("modkeyschange",c),Ct(a);var _iterator406=_createForOfIteratorHelper(a),_step406;try{for(_iterator406.s();!(_step406=_iterator406.n()).done;){var _t706=_step406.value;_t706.values=_t706.values.map(function(t){return Z(t,_this286.Pn.geometryPrecision);});}}catch(err){_iterator406.e(err);}finally{_iterator406.f();}l.setPathData(a),_this286.xh=null,n.snapManager.snapEnd();}),this.Qs.addEventListener("modkeyschange",c=function c(){M();}),M();},Th:function Th(t){var _this287=this;if(0===t.button){var _e514,_i523,_s305=!1,_n225=new DOMPoint(t.clientX,t.clientY),_o183=_n225,_l167=t.target.closest(".outline-grippie"),_h129=t.target;window.addEventListener("pointermove",_e514=function _e513(l){var a=new DOMPoint(l.clientX,l.clientY),r=l.timeStamp-t.timeStamp,d=De(_n225,a)>3||r>80,c=!1===Ce(_o183,a,0);_o183=a,!0===d&&!0===c&&(window.removeEventListener("pointermove",_e514),window.removeEventListener("pointerup",_i523),_this287.Rh(l,_h129),_s305=!0);}),window.addEventListener("pointerup",_i523=function _i521(n){if(window.removeEventListener("pointermove",_e514),window.removeEventListener("pointerup",_i523),!1===_s305){var _e515,_i522=_l167[ic],_s306=_i522[sc];if(_s306){var _t707=Nt(_i522);_e515=jt(_s306).multiply(_t707).inverse();}else _e515=jt(_i522).inverse();var _n226=nt(_i522.getPathData({normalize:!0})),_o184=(new DOMPoint(t.clientX,t.clientY).matrixTransform(_e515),_toConsumableArray(_l167.children).indexOf(_h129)),_a111=_o184-1,_r65=_n226[_o184],_d46=_n226[_a111],_c35=wt(_r65,_n226),_p31=Mt(_r65,_n226);_d46?_p31&&"M"===_d46.type?_this287.lh=[{path:_i522,index:_o184},{path:_i522,index:_c35.length-2}]:_this287.lh=[{path:_i522,index:_o184},{path:_i522,index:_a111}]:_this287.lh=[{path:_i522,index:_o184}],_this287.hh(),_this287.ah(),_this287.dispatchEvent(new CustomEvent("selectednodeschange"));}});}},Rh:function Rh(t,e){var _this288=this;var i,s=e.closest(".outline-grippie"),n=s[ic],o=n[sc];if(this.Pn.undoManager.checkpoint("Edit path"),this.bh=s,this["#outline-grippies"].style.display="none",o){var _t708=Nt(n),_e516=jt(o);i=_e516.multiply(_t708).inverse();}else i=jt(n).inverse();var l,_h130,a,r=nt(n.getPathData({normalize:!0})),d=new DOMPoint(t.clientX,t.clientY).matrixTransform(i),_ft3=ft(e,d),_ft4=_slicedToArray(_ft3,1),c=_ft4[0],p=_toConsumableArray(s.children).indexOf(e),u=r[p],x=r[p-1],b=r[p+1],m=wt(u,r),g=Mt(u,r),f=new X(d,c),w=new DOMPoint(d.x,d.y),v=null,y=null,k=null,S=null,_=!1,C=!1;_t(r),v="M"===x.type&&g?m[m.length-2]:x,b&&("Z"===b.type?y=g?m[1]:null:"C"===b.type&&(y=b)),"M"===v.type||"L"===v.type?k=new DOMPoint(v.values[0],v.values[1]):"C"===v.type&&(k=new DOMPoint(v.values[4],v.values[5])),"M"===u.type||"L"===u.type?S=new DOMPoint(u.values[0],u.values[1]):"C"===u.type&&(S=new DOMPoint(u.values[4],u.values[5]));var M=function M(){var _this288$Qs$modKeys=_this288.Qs.modKeys,t=_this288$Qs$modKeys.ctrl,e=_this288$Qs$modKeys.shift;!0===t&&!1===e?(_=!1,C=!1):!1===t&&!0===e?(_=!(!v||"C"!==v.type)&&"smooth",C=!(!y||"C"!==y.type)&&"smooth"):!0===t&&!0===e?(_=!(!v||"C"!==v.type)&&"symmetric-smooth",C=!(!y||"C"!==y.type)&&"symmetric-smooth"):!1===t&&!1===e&&(_=vt(v,u),C=vt(u,y));},P=function P(){var t=new DOMPoint(u.values[0],u.values[1]),e=new DOMPoint(u.values[2],u.values[3]),i=Xd(c,k,t,e,S),s=1;if(i<=1/6?s=0:i<=.5?s=Qd((6*i-1)/2,3)/2:i<=5/6&&(s=(1-Qd((6*(1-i)-1)/2,3))/2+.5),-1===i)return;var o=(1-s)/(3*i*(1-i)*(1-i)),l=s/(3*i*i*(1-i)),h=w.x-c.x,a=w.y-c.y;u.values[0]=u.values[0]+o*h,u.values[1]=u.values[1]+o*a,u.values[2]=u.values[2]+l*h,u.values[3]=u.values[3]+l*a,"smooth"===_?yt(u,v,!1):"symmetric-smooth"===_&&yt(u,v,!0),"smooth"===C?kt(u,y,!1):"symmetric-smooth"===C&&kt(u,y,!0),c=w,n.setPathData(r);};window.addEventListener("pointermove",l=function l(t){w=new DOMPoint(t.clientX,t.clientY).matrixTransform(i),w.x+=f.x,w.y+=f.y,P();}),window.addEventListener("pointerup",_h130=function h(t){_this288.Qs.removeEventListener("modkeyschange",a),window.removeEventListener("pointermove",l),window.removeEventListener("pointerup",_h130),Ct(r);var _iterator407=_createForOfIteratorHelper(r),_step407;try{for(_iterator407.s();!(_step407=_iterator407.n()).done;){var _t709=_step407.value;_t709.values=_t709.values.map(function(t){return Z(t,_this288.Pn.geometryPrecision);});}}catch(err){_iterator407.e(err);}finally{_iterator407.f();}n.setPathData(r),_this288.bh=null,_this288["#outline-grippies"].style.display=null,_this288.gh();}),this.Qs.addEventListener("modkeyschange",a=function a(){M(),P();}),M();},gh:function gh(){if(this.bh||this.uh||this.xh)return;var t=document.createDocumentFragment();var _iterator408=_createForOfIteratorHelper(this.ph),_step408;try{for(_iterator408.s();!(_step408=_iterator408.n()).done;){var _e517=_step408.value;var _i524=void 0;if(_e517[sc]){var _t710=Vt(_e517[sc],this),_s308=Nt(_e517);_i524=_t710.multiply(_s308);}else _i524=Vt(_e517,this);var _s307=nt(_e517.getPathData({normalize:!0})),_n227=zi("svg:g");_n227[ic]=_e517,_n227.setAttribute("class","outline-grippie"),_n227.setAttribute("transform",_i524.toString()),t.append(_n227);var _o185=0,_l168=0,_h131=0,_a112=0;var _iterator409=_createForOfIteratorHelper(_s307),_step409;try{for(_iterator409.s();!(_step409=_iterator409.n()).done;){var _t711=_step409.value;var _e518=zi("svg:path");"M"===_t711.type?(_e518.setPathData([_t711]),_o185=_t711.values[0],_l168=_t711.values[1],_h131=_o185,_a112=_l168):"C"===_t711.type?(_e518.setPathData([{type:"M",values:[_o185,_l168]},_t711]),_o185=_t711.values[4],_l168=_t711.values[5]):"L"===_t711.type?(_e518.setPathData([{type:"M",values:[_o185,_l168]},_t711]),_o185=_t711.values[0],_l168=_t711.values[1]):"Z"===_t711.type&&(_e518.setPathData([{type:"M",values:[_o185,_l168]},{type:"L",values:[_h131,_a112]}]),_o185=_h131,_l168=_a112),_n227.append(_e518);}}catch(err){_iterator409.e(err);}finally{_iterator409.f();}}}catch(err){_iterator408.e(err);}finally{_iterator408.f();}this["#outline-grippies"].innerHTML="",this["#outline-grippies"].append(t),this._h();},sh:function sh(){var _this289=this;if(this.bh||this.xh)return;var t=document.createDocumentFragment(),e=tc/this.Pn.scale,i=.3*e;var _iterator410=_createForOfIteratorHelper(this.ph),_step410;try{var _loop7=function _loop7(){var s=_step410.value;var n=void 0;if(s[sc]){var _t712=Vt(s[sc],_this289),_e519=Nt(s);n=_t712.multiply(_e519);}else n=Vt(s,_this289);var o=nt(s.getPathData({normalize:!0})),l=[],h=-1;var _iterator411=_createForOfIteratorHelper(lt(o)),_step411;try{for(_iterator411.s();!(_step411=_iterator411.n()).done;){var _t713=_step411.value;var _o186="Z"===_t713[_t713.length-1].type,_a113=-1;var _iterator412=_createForOfIteratorHelper(_t713),_step412;try{for(_iterator412.s();!(_step412=_iterator412.n()).done;){var _r66=_step412.value;_a113+=1,h+=1;_t713[_a113-1];var _d47=void 0,_c36=_t713[_a113+1]||null,_p32="mid";if("C"===_r66.type)_d47=new DOMPoint(_r66.values[4],_r66.values[5]),!1===_o186&&null===_c36&&(_p32="end");else if("L"===_r66.type)_d47=new DOMPoint(_r66.values[0],_r66.values[1]),!1===_o186&&null===_c36&&(_p32="end");else{if("M"!==_r66.type)continue;if(!1!==_o186)continue;_d47=new DOMPoint(_r66.values[0],_r66.values[1]),_p32="start";}var _u29=_d47.matrixTransform(n),_x94=zi("svg:g");_x94.setAttribute("class","node-grippie"),_x94.setAttribute("data-position",_p32),_x94[ic]=s,_x94[nc]=h;var _b27=" <circle class=\"outer-circle\" cx=\"".concat(_u29.x,"\" cy=\"").concat(_u29.y,"\" r=\"").concat(e,"\"></circle>");"start"!==_p32&&"end"!==_p32||(_b27+="<circle class=\"inner-circle\" cx=\"".concat(_u29.x,"\" cy=\"").concat(_u29.y,"\" r=\"").concat(i,"\"></circle>")),_x94.innerHTML=_b27,_this289.lh.find(function(t){return t.path===s&&t.index===h;})&&_x94.setAttribute("data-selected",""),l.push(_x94);}}catch(err){_iterator412.e(err);}finally{_iterator412.f();}}}catch(err){_iterator411.e(err);}finally{_iterator411.f();}for(var _i525=0,_l169=l;_i525<_l169.length;_i525++){var _e520=_l169[_i525];!1===_e520.hasAttribute("data-selected")&&t.append(_e520);}for(var _i526=0,_l170=l;_i526<_l170.length;_i526++){var _e521=_l170[_i526];!0===_e521.hasAttribute("data-selected")&&t.append(_e521);}};for(_iterator410.s();!(_step410=_iterator410.n()).done;){_loop7();}}catch(err){_iterator410.e(err);}finally{_iterator410.f();}this["#node-grippies"].innerHTML="",this["#node-grippies"].append(t);},fh:function fh(){var _this290=this;var t=document.createDocumentFragment(),e=document.createDocumentFragment();var _iterator413=_createForOfIteratorHelper(this.ph),_step413;try{var _loop8=function _loop8(){var i=_step413.value;var s=void 0,n=nt(i.getPathData({normalize:!0})),o=_this290.lh.filter(function(t){return t.path===i;}).map(function(t){return t.index;});if(i[sc]){var _t714=Vt(i[sc],_this290),_e522=Nt(i);s=_t714.multiply(_e522);}else s=Vt(i,_this290);var _iterator414=_createForOfIteratorHelper(o),_step414;try{for(_iterator414.s();!(_step414=_iterator414.n()).done;){var _l171=_step414.value;var _o187=void 0,_h132=n[_l171],_a114=n[_l171+1]||null,_r67=wt(_h132,n)[1],_d48=n.indexOf(_r67),_c37=null,_p33=null;if("M"===_h132.type||"L"===_h132.type?_o187=new DOMPoint(_h132.values[0],_h132.values[1]):"C"===_h132.type&&(_o187=new DOMPoint(_h132.values[4],_h132.values[5])),"C"===_h132.type&&(_c37=new DOMPoint(_h132.values[2],_h132.values[3])),_a114&&("C"===_a114.type?_p33=new DOMPoint(_a114.values[0],_a114.values[1]):"Z"===_a114.type&&"C"===_r67.type&&(_p33=new DOMPoint(_r67.values[0],_r67.values[1]))),_c37&&!1===Ce(_o187,_c37)){var _n228=_o187.matrixTransform(s),_h133=_c37.matrixTransform(s),_a115=zi("svg:circle");_a115.setAttribute("class","control-grippie"),_a115.setAttribute("data-index","2"),_a115.setAttribute("cx",_h133.x),_a115.setAttribute("cy",_h133.y),_a115.setAttribute("r",ec/_this290.Pn.scale),_a115[ic]=i,_a115[nc]=_l171;var _r68=zi("svg:line");_r68.setAttribute("class","control-line"),_r68.setAttribute("x1",_n228.x),_r68.setAttribute("y1",_n228.y),_r68.setAttribute("x2",_h133.x),_r68.setAttribute("y2",_h133.y),t.append(_a115),e.append(_r68);}if(_p33&&!1===Ce(_o187,_p33)){var _n229=_o187.matrixTransform(s),_h134=_p33.matrixTransform(s),_r69=zi("svg:circle");_r69.setAttribute("class","control-grippie"),_r69.setAttribute("data-index","1"),_r69.setAttribute("cx",_h134.x),_r69.setAttribute("cy",_h134.y),_r69.setAttribute("r",ec/_this290.Pn.scale),_r69[ic]=i,_r69[nc]="Z"===_a114.type?_d48:_l171+1;var _c38=zi("svg:line");_c38.setAttribute("class","control-line"),_c38.setAttribute("x1",_n229.x),_c38.setAttribute("y1",_n229.y),_c38.setAttribute("x2",_h134.x),_c38.setAttribute("y2",_h134.y),t.append(_r69),e.append(_c38);}}}catch(err){_iterator414.e(err);}finally{_iterator414.f();}};for(_iterator413.s();!(_step413=_iterator413.n()).done;){_loop8();}}catch(err){_iterator413.e(err);}finally{_iterator413.f();}this["#control-grippies"].innerHTML="",this["#control-grippies"].append(t),this["#control-lines"].innerHTML="",this["#control-lines"].append(e);},oh:function oh(){var t=tc/this.Pn.scale,e=.3*t;var _iterator415=_createForOfIteratorHelper(this["#node-grippies"].children),_step415;try{for(_iterator415.s();!(_step415=_iterator415.n()).done;){var _i527=_step415.value;_i527.children[0].setAttribute("r",t),_i527.children[1]&&_i527.children[1].setAttribute("r",e);}}catch(err){_iterator415.e(err);}finally{_iterator415.f();}},kh:function kh(){var _iterator416=_createForOfIteratorHelper(this["#control-grippies"].children),_step416;try{for(_iterator416.s();!(_step416=_iterator416.n()).done;){var _t715=_step416.value;_t715.setAttribute("r",ec/this.Pn.scale);}}catch(err){_iterator416.e(err);}finally{_iterator416.f();}},_h:function _h(){var _iterator417=_createForOfIteratorHelper(this["#outline-grippies"].children),_step417;try{for(_iterator417.s();!(_step417=_iterator417.n()).done;){var _t716=_step417.value;var _e523=_t716[ic],_i528=getComputedStyle(_e523),_s309=Jd(_i528.getPropertyValue("stroke-width"))*this.Pn.scale;_s309<10&&(_s309=10),_t716.style.setProperty("stroke-width",_s309);}}catch(err){_iterator417.e(err);}finally{_iterator417.f();}},rh:function rh(){var t=[];var _iterator418=_createForOfIteratorHelper(this.ph),_step418;try{for(_iterator418.s();!(_step418=_iterator418.n()).done;){var _e524=_step418.value;var _i529=nt(_e524.getPathData({normalize:!0}));for(var _s310=0;_s310<_i529.length;_s310+=1){var _n230=_i529[_s310];("C"===_n230.type||"L"===_n230.type||"M"===_n230.type&&!1===Mt(_n230,_i529))&&t.push({path:_e524,index:_s310});}}}catch(err){_iterator418.e(err);}finally{_iterator418.f();}this.lh=t,this.sh(),this.fh(),this.dispatchEvent(new CustomEvent("selectednodeschange"));},deselectAllSegs:function deselectAllSegs(){this.lh=[],this.hh(),this.ah(),this.dispatchEvent(new CustomEvent("selectednodeschange"));},zh:function zh(){var _this291=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"smooth";this.Pn.undoManager.checkpoint("Delete segments");var _iterator419=_createForOfIteratorHelper(this.ph),_step419;try{var _loop9=function _loop9(){var e=_step419.value;var i=nt(e.getPathData({normalize:!0}));_t(i);var s=_this291.lh.filter(function(t){return t.path===e;});s=s.map(function(t){return t.index;}),s=s.sort(function(t,e){return e-t;});var n=s.filter(function(t){return"C"===i[t].type;}),o=s.filter(function(t){return"M"===i[t].type;});if(0!==s.length){var _iterator420=_createForOfIteratorHelper(n),_step420;try{var _loop10=function _loop10(){var e=_step420.value;var s=i[e],n=i[e+1]||null,o=i[e-1]||null;if(null===n)i=i.filter(function(t){return t!==s;});else if("M"===n.type)i=i.filter(function(t){return t!==s;});else if("Z"===n.type){var _e525=wt(s,i),_n231=_e525[0],_l172=_e525[1];i=i.filter(function(t){return t!==s;}),"L"===o.type||"M"===o.type?(_n231.values[0]=o.values[0],_n231.values[1]=o.values[1]):"C"===o.type&&(_n231.values[0]=o.values[4],_n231.values[1]=o.values[5]),"C"===_l172.type&&("smooth"===t?(_l172.values[0]=s.values[0],_l172.values[1]=s.values[1]):"sharp"===t&&("L"===o.type||"M"===o.type?(_l172.values[0]=o.values[0],_l172.values[1]=o.values[1]):"C"===o.type&&(_l172.values[0]=o.values[4],_l172.values[1]=o.values[5]),_l172.values[2]=_l172.values[4],_l172.values[3]=_l172.values[5]));}else"C"===n.type?(i=i.filter(function(t){return t!==s;}),"smooth"===t?(n.values[0]=s.values[0],n.values[1]=s.values[1]):"sharp"===t&&("M"===o.type||"L"===o.type?(n.values[0]=o.values[0],n.values[1]=o.values[1]):"C"===o.type&&(n.values[0]=o.values[4],n.values[1]=o.values[5]),n.values[2]=n.values[4],n.values[3]=n.values[5])):"L"===n.type&&(i=i.filter(function(t){return t!==s;}));};for(_iterator420.s();!(_step420=_iterator420.n()).done;){_loop10();}}catch(err){_iterator420.e(err);}finally{_iterator420.f();}var _iterator421=_createForOfIteratorHelper(o),_step421;try{for(_iterator421.s();!(_step421=_iterator421.n()).done;){var _t717=_step421.value;var _e526=i[_t717],_s311=wt(_e526,i);if(_s311.length>1){(function(){var t=_s311[0],e=_s311[1];i=i.filter(function(t){return t!==e;}),"L"===e.type?(t.values[0]=e.values[0],t.values[1]=e.values[1]):"C"===e.type&&(t.values[0]=e.values[4],t.values[1]=e.values[5]);})();}}}catch(err){_iterator421.e(err);}finally{_iterator421.f();}var _iterator422=_createForOfIteratorHelper(lt(i)),_step422;try{for(_iterator422.s();!(_step422=_iterator422.n()).done;){var _t718=_step422.value;var _e527=_t718.filter(function(t){return"C"===t.type;}),_s312="Z"===_t718[_t718.length-1].type?2:1;if(_e527.length<_s312){var _iterator424=_createForOfIteratorHelper(_t718),_step424;try{var _loop11=function _loop11(){var e=_step424.value;i=i.filter(function(t){return t!==e;});};for(_iterator424.s();!(_step424=_iterator424.n()).done;){_loop11();}}catch(err){_iterator424.e(err);}finally{_iterator424.f();}}}}catch(err){_iterator422.e(err);}finally{_iterator422.f();}Ct(i);var _iterator423=_createForOfIteratorHelper(i),_step423;try{for(_iterator423.s();!(_step423=_iterator423.n()).done;){var _t719=_step423.value;_t719.values=_t719.values.map(function(t){return Z(t,_this291.Pn.geometryPrecision);});}}catch(err){_iterator423.e(err);}finally{_iterator423.f();}e.setPathData(i),!1===e.hasAttribute("d")&&e.remove();}};for(_iterator419.s();!(_step419=_iterator419.n()).done;){_loop9();}}catch(err){_iterator419.e(err);}finally{_iterator419.f();}this.lh=[],this.sh(),this.fh(),this.gh(),this.dispatchEvent(new CustomEvent("selectednodeschange"));},getNodeGrippieDescriptor:function getNodeGrippieDescriptor(t,e){var _iterator425=_createForOfIteratorHelper(this.Pn.getElementsFromPoint(t,e)),_step425;try{for(_iterator425.s();!(_step425=_iterator425.n()).done;){var _i530=_step425.value;var _t720=_i530.closest(".node-grippie");if(_t720&&this.contains(_t720))return{position:_t720.getAttribute("data-position"),selected:_t720.hasAttribute("data-selected"),path:_t720[ic],index:_t720[nc]};}}catch(err){_iterator425.e(err);}finally{_iterator425.f();}return null;},Dh:function Dh(){var _this292=this;var t=[],e=[],i=function i(s){var _iterator426=_createForOfIteratorHelper(s),_step426;try{for(_iterator426.s();!(_step426=_iterator426.n()).done;){var _n232=_step426.value;if("path"===_n232.localName)_n232.hasAttribute("d")&&!_n232.hasAttribute("data-bx-shape")&&(_n232[sc]=null,t.push(_n232));else if("text"===_n232.localName){var _t721=_n232,_i531=_toConsumableArray(_n232.children).find(function(t){return"textPath"===t.localName;});if(_i531){var _s313=_i531.getAttribute("href");if(_s313){var _i532=_s313.trim().substring(1),_n233=_this292.Pn.workspaces.querySelector("#"+CSS.escape(_i532));_n233&&_n233.hasAttribute("d")&&!_n233.hasAttribute("data-bx-shape")&&(_n233[sc]=_t721,e.push(_n233));}}}else["g","a"].includes(_n232.localName)&&i(_n232.children);}}catch(err){_iterator426.e(err);}finally{_iterator426.f();}};return i(this.Pn.selectedElements),t=t.filter(function(t){return!1===e.includes(t);}),[].concat(_toConsumableArray(t),e);}};var lc=Symbol(),hc=Symbol(),ac=Symbol(),rc=Symbol();var dc={id:"linear-gradient-hud",get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";},set context(t){this.setAttribute("context",t),this.enabled&&(this.selectedStops=[],this.Gh());},get selectedStops(){var t=_toConsumableArray(this["#subhuds"].querySelectorAll(".stop-grippie")).map(function(t){return t[rc];});return this.Fh.filter(function(e){return t.includes(e)&&e.isConnected;});},set selectedStops(t){this.Uh(t);},createdCallback:function createdCallback(){var _this293=this;this.commands={selectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this293.Nh();}},deselectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this293.Vh();}}},this.Fh=[],this.Xo=null,this.jh=null,this.Gh=Xi(this.Hh,80,this),this.tabIndex=-1,this.innerHTML='\n  <style>\n    #linear-gradient-hud .subhud:focus {\n      outline: none;\n    }\n\n    #linear-gradient-hud .slider {\n      stroke: white;\n      stroke-width: 7;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      outline: none;\n    }\n\n    #linear-gradient-hud .slider-shadow {\n      stroke: rgba(0, 0, 0, 0.3);\n      stroke-width: 10;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      outline: none;\n    }\n\n    #linear-gradient-hud .stop-grippie {\n      fill: black;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #linear-gradient-hud .stop-grippie[data-selected] {\n      stroke: rgb(186, 186, 186); /* gray */\n    }\n    #linear-gradient-hud .subhud:focus .stop-grippie[data-selected] {\n      stroke: rgb(147, 210, 255); /* blue */\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud" tabindex="0">\n      <line class="slider-shadow"></line>\n      <line class="slider"></line>\n      <g class="stop-grippies"></g>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator427=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step427;try{for(_iterator427.s();!(_step427=_iterator427.n()).done;){var _t722=_step427.value;this["#"+_t722.getAttribute("uid")]=_t722;}}catch(err){_iterator427.e(err);}finally{_iterator427.f();}this.addEventListener("keydown",function(t){return _this293.vn(t);}),this.addEventListener("pointerdown",function(t){return _this293.wo(t);}),this.addEventListener("pointerup",function(t){return _this293.Yh(t);}),this.addEventListener("dblclick",function(t){return _this293.Ch(t);});},enabledCallback:function enabledCallback(){var _this294=this;this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this294.Jo();}),this.Pn.addEventListener("selectedtextrangechange",this.Wh=function(){_this294.qh();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this294.sl(t.detail);}),this.Pn.addEventListener("zoomchange",this.an=function(){_this294.il();}),this.Pn.workspaces.addEventListener("pointerdown",this.yn=function(t){_this294.kn(t);}),this.Pn.huds.addEventListener("pointerdown",this.Xh=function(t){_this294.Zh(t);}),this.Pn.undoManager.addEventListener("undo",this.Mh=function(){_this294.Kh();}),this.Pn.undoManager.addEventListener("redo",this.Ph=function(){_this294.Kh();}),this.Jo();},disabledCallback:function disabledCallback(){this.Uh([]),this.Pn.removeEventListener("selectedelementschange",this.Qo),this.Pn.removeEventListener("selectedtextrangechange",this.Wh),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("zoomchange",this.an),this.Pn.workspaces.removeEventListener("pointerdown",this.yn),this.Pn.huds.removeEventListener("pointerdown",this.Xh),this.Pn.undoManager.removeEventListener("undo",this.Mh),this.Pn.undoManager.removeEventListener("redo",this.Ph);},Jo:function Jo(){this.Gh();},qh:function qh(){this.Gh();},sl:function sl(t){if(this.Xo)this.Qh(this.Xo.closest(".subhud"));else if(this.jh)this.Qh(this.jh.parentElement);else{var _iterator428=_createForOfIteratorHelper(t),_step428;try{for(_iterator428.s();!(_step428=_iterator428.n()).done;){var _e528=_step428.value;"style"===_e528.attributeName&&"stop"===_e528.target.localName?this.Jh():this.Gh();}}catch(err){_iterator428.e(err);}finally{_iterator428.f();}}},il:function il(){this.ll();},Kh:function Kh(){this.Uh([]);},kn:function kn(t){1===t.buttons&&this.Uh([]);},Zh:function Zh(t){t.target!==this&&!1===this.contains(t.target)&&1===t.buttons&&this.Uh([]);},wo:function wo(t){var _this295=this;if(1!==t.buttons)return;var e,_i533;t.target.classList.contains("slider")?this.ta(t):t.target.classList.contains("stop-grippie")&&this.ea(t),this.ia=!1,this.sa=t.timeStamp,window.addEventListener("pointermove",e=function e(){_this295.ia=!0;}),window.addEventListener("pointerup",_i533=function i(){window.removeEventListener("pointerup",_i533),window.removeEventListener("pointermove",e);});},Yh:function Yh(t){t.target.classList.contains("stop-grippie")&&this.na(t);},Ch:function Ch(t){t.timeStamp-this.sa<300&&t.target.classList.contains("slider")&&this.oa(t);},ea:function ea(t){var _this296=this;var e=t.target[rc],i=e.closest("linearGradient, radialGradient"),s=Do(i),n=s.filter(function(t){return _this296.Fh.includes(t);}),o=s[0],l=s[s.length-1],_this$Qs$modKeys5=this.Qs.modKeys,h=_this$Qs$modKeys5.alt,a=_this$Qs$modKeys5.shift;this.la=_toConsumableArray(n),!1===a?!1===n.includes(e)&&this.Uh([e]):!0===a&&!1===n.includes(e)&&(n.push(e),this.Uh(n)),e===o&&0===e.offset.baseVal&&!1===h?this.ha(t,"start"):e===l&&1===e.offset.baseVal&&!1===h?this.ha(t,"end"):this.aa(t);},na:function na(t){if(this.ia)return;var e=t.target,i=this.la,s=e[rc],n=e.closest(".subhud")[hc],o=this.Qs.modKeys.shift,l=[];var _iterator429=_createForOfIteratorHelper(this.Pn.selectedElements),_step429;try{for(_iterator429.s();!(_step429=_iterator429.n()).done;){var _t724=_step429.value;if("g"!==_t724.localName&&"a"!==_t724.localName||!_t724.contains(n))l.push(_t724);else{var _iterator430=_createForOfIteratorHelper(Ii(_toConsumableArray(_t724.children))),_step430;try{for(_iterator430.s();!(_step430=_iterator430.n()).done;){var _e529=_step430.value;l.unshift(_e529);}}catch(err){_iterator430.e(err);}finally{_iterator430.f();}}}}catch(err){_iterator429.e(err);}finally{_iterator429.f();}this.Pn.isSelectableElement(n)&&(l=l.filter(function(t){return t!==n;}),l.unshift(n)),this.Pn.selectedElements=l;for(var _t723=n.parentElement;_t723!==this.Pn.currentWorkspace;_t723=_t723.parentElement){if("g"===_t723.localName||"a"===_t723.localName){this.Pn.currentContainer=_t723;break;}}!0===o&&!0===this.la.includes(s)&&(i=i.filter(function(t){return t!==s;}),this.Uh(i));},aa:function aa(t){var _this297=this;var e,_i536,s=t.target,n=s.closest(".subhud").querySelector(".slider"),o=this.Pn.geometryPrecision,l=this.ra(),h=jt(this),a=h.inverse(),r=new DOMPoint(t.clientX,t.clientY),d=r,c=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value),p=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value),u=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value),x=u.matrixTransform(h),_Oe31=Oe(c,p,u,!1),_Oe32=_slicedToArray(_Oe31,1),b=_Oe32[0],m=De(c,b)/De(c,p),g=!1;this.Xo=s,s.setPointerCapture(t.pointerId),s.addEventListener("pointermove",e=function e(_e531){{var _i534=new DOMPoint(_e531.clientX,_e531.clientY),_s314=_e531.timeStamp-t.timeStamp;if(!0===Ce(d,_i534,0))return;if(d=_i534,De(r,_i534)<3&&_s314<80)return;}!1===g&&(_this297.Pn.undoManager.checkpoint("Move gradient stop"),g=!0);var i=new DOMPoint(x.x+_e531.clientX-t.clientX,x.y+_e531.clientY-t.clientY).matrixTransform(a),_Oe33=Oe(c,p,i,!1),_Oe34=_slicedToArray(_Oe33,1),s=_Oe34[0],n=De(c,s)/De(c,p)-m;var _iterator431=_createForOfIteratorHelper(_this297.Fh),_step431;try{for(_iterator431.s();!(_step431=_iterator431.n()).done;){var _t725=_step431.value;var _l$get=l.get(_t725),_e530=_l$get.minOffset,_i535=_l$get.maxOffset,_s315=_l$get.initialOffset;_s315+n<_e530?_t725.setAttribute("offset",_e530):_s315+n>_i535?_t725.setAttribute("offset",_i535):_t725.setAttribute("offset",_s315+n);}}catch(err){_iterator431.e(err);}finally{_iterator431.f();}}),s.addEventListener("pointerup",_i536=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("pointerup",_i536);var _iterator432=_createForOfIteratorHelper(_this297.Fh),_step432;try{for(_iterator432.s();!(_step432=_iterator432.n()).done;){var _t726=_step432.value;_t726.setAttribute("offset",Z(_t726.offset.baseVal,o));}}catch(err){_iterator432.e(err);}finally{_iterator432.f();}_this297.Xo=null;});},ha:function ha(t){var _this298=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"start";var i,s,n,o,l,h,a,r,d=t.target,c=_toConsumableArray(this["#subhuds"].children).find(function(t){return t.contains(d);}),p=c[lc],u=Po(p),x=c[hc],b=Ci(x),m=jt(x),g=m.inverse(),f=u.gradientTransform,w=this.Pn.transformPrecision,v=new DOMPoint(t.clientX,t.clientY),y=v,k=!1,S=!1;d.matches(".stop-grippie")?this.Xo=d:d.matches(".slider")&&(this.jh=d),d.setPointerCapture(t.pointerId);d.addEventListener("pointermove",i=function i(_i541){if(!1===k){{var _e532=new DOMPoint(_i541.clientX,_i541.clientY),_s316=_i541.timeStamp-t.timeStamp;if(!0===Ce(y,_e532,0))return;if(y=_e532,De(v,_e532)<3&&_s316<80)return;}if(_this298.Pn.undoManager.checkpoint("Transform gradient"),_this298.Pn.snapManager.snapStart(!0),Mo(p)){var _t727=zi("svg:linearGradient");_t727.setAttribute("id",_this298.Pn.generateUniqueID(p.id)),_t727.setAttribute("href","#"+p.id),_this298.Pn.maybeCreateDefsForMasterWorkspace(),_this298.Pn.defs.append(_t727),p=_t727,c[lc]=_t727,x.style[_this298.context]="url(#"+_t727.id+")";}k=!0,function(){if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){"start"===e?(n=new DOMPoint(u.x1.value,u.y1.value),o=new DOMPoint(u.x2.value,u.y2.value)):"end"===e&&(n=new DOMPoint(u.x2.value,u.y2.value),o=new DOMPoint(u.x1.value,u.y1.value));var _t728=new X(o,n).getNormalVector();l=new DOMPoint(o.x+_t728.x,o.y+_t728.y);var _i537=n.matrixTransform(f),_s317=o.matrixTransform(f),_d49=l.matrixTransform(f);h=_i537.matrixTransform(m),a=_s317.matrixTransform(m),r=_d49.matrixTransform(m);}else if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t729=u.x1.valueInSpecifiedUnits,_i538=u.y1.valueInSpecifiedUnits,_s318=u.x2.valueInSpecifiedUnits,_d50=u.y2.valueInSpecifiedUnits;u.x1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t729/=100),u.y1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i538/=100),u.x2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_s318/=100),u.y2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_d50/=100),"start"===e?(n=new DOMPoint(_t729,_i538),o=new DOMPoint(_s318,_d50)):"end"===e&&(n=new DOMPoint(_s318,_d50),o=new DOMPoint(_t729,_i538));var _c39=new X(o,n).getNormalVector();l=new DOMPoint(o.x+_c39.x,o.y+_c39.y);var _p34=n.matrixTransform(f),_x95=o.matrixTransform(f),_g23=l.matrixTransform(f),_w14=le(_p34,b),_v11=le(_x95,b),_y3=le(_g23,b);h=_w14.matrixTransform(m),a=_v11.matrixTransform(m),r=_y3.matrixTransform(m);}}();}var s,d,_,C,M=_this298.Qs.modKeys.shift,P=new DOMPoint(_i541.clientX+(h.x-t.clientX),_i541.clientY+(h.y-t.clientY)),D=new DOMPoint(h.x+_i541.clientX-t.clientX,h.y+_i541.clientY-t.clientY);D=_this298.Pn.snapManager.snapPoint(D);var z=DOMPoint.fromPoint(a);if(!1===M){var _t730=Ie(a,h,P),_e533=new DOMMatrix();_e533.translateSelf(a.x,a.y),_e533.rotateSelf(_t730),_e533.translateSelf(-a.x,-a.y),C=r.matrixTransform(_e533);}else if(!0===M){S=!0;var _Ae9=Ae(a,D,22.5),_Ae10=_slicedToArray(_Ae9,1),_t731=_Ae10[0];D=_t731;}if(S){var _t732=new X(z,D).getNormalVector();C=new DOMPoint(z.x+_t732.x,z.y+_t732.y);}if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t733=D.matrixTransform(g),_e534=z.matrixTransform(g),_i539=C.matrixTransform(g);s=_t733.matrixTransform(f.inverse()),d=_e534.matrixTransform(f.inverse()),_=_i539.matrixTransform(f.inverse());}else if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t734=D.matrixTransform(g),_e535=z.matrixTransform(g),_i540=C.matrixTransform(g),_n234=he(_t734,b),_o188=he(_e535,b),_l173=he(_i540,b);s=_n234.matrixTransform(f.inverse()),d=_o188.matrixTransform(f.inverse()),_=_l173.matrixTransform(f.inverse());}var O=Ht(n,o,l,s,d,_),E=Rt(f.multiply(O),w);p.setAttribute("gradientTransform",E.toString());}),d.addEventListener("pointerup",s=function(_s319){function s(){return _s319.apply(this,arguments);}s.toString=function(){return _s319.toString();};return s;}(function(){d.removeEventListener("pointermove",i),d.removeEventListener("pointerup",s),_this298.Xo=null,_this298.jh=null,_this298.Pn.snapManager.snapEnd();}));},ta:function ta(t){var e=t.target,i=jt(e),s=new DOMPoint(t.clientX,t.clientY),n=new DOMPoint(e.x1.baseVal.value,e.y1.baseVal.value),o=new DOMPoint(e.x2.baseVal.value,e.y2.baseVal.value),l=n.matrixTransform(i),h=o.matrixTransform(i),a=new X(l,s).length,r=new X(h,s).length;a<=5?this.ha(t,"start"):r<=5?this.ha(t,"end"):this.da(t);},da:function da(t){var _this299=this;var e,_i547,s,n,o=t.target,l=o.closest(".subhud"),h=l[hc],a=l[lc],r=Po(a),d=Ci(h),c=jt(h),p=c.inverse(),u=this.Pn.geometryPrecision,x=new DOMPoint(t.clientX,t.clientY),b=x,m=!1;if(this.jh=o,o.setPointerCapture(t.pointerId),r.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t735=new DOMPoint(r.x1.value,r.y1.value),_e536=new DOMPoint(r.x2.value,r.y2.value),_i542=_t735.matrixTransform(r.gradientTransform),_o189=_e536.matrixTransform(r.gradientTransform);s=_i542.matrixTransform(c),n=_o189.matrixTransform(c);}else if(r.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t736=r.x1.valueInSpecifiedUnits,_e537=r.y1.valueInSpecifiedUnits,_i543=r.x2.valueInSpecifiedUnits,_o190=r.y2.valueInSpecifiedUnits;r.x1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t736/=100),r.y1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e537/=100),r.x2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i543/=100),r.y2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_o190/=100);var _l174=new DOMPoint(_t736,_e537),_h135=new DOMPoint(_i543,_o190),_a116=_l174.matrixTransform(r.gradientTransform),_p35=_h135.matrixTransform(r.gradientTransform),_u30=le(_a116,d),_x96=le(_p35,d);s=_u30.matrixTransform(c),n=_x96.matrixTransform(c);}o.addEventListener("pointermove",e=function e(_e538){if(!1===m){{var _i544=new DOMPoint(_e538.clientX,_e538.clientY),_s320=_e538.timeStamp-t.timeStamp;if(!0===Ce(b,_i544,0))return;if(b=_i544,De(x,_i544)<3&&_s320<80)return;}if(m=!0,_this299.Pn.undoManager.checkpoint("Transform gradient"),Mo(a)){var _t737=zi("svg:linearGradient");_t737.setAttribute("id",_this299.Pn.generateUniqueID(a.id)),_t737.setAttribute("href","#"+a.id),_this299.Pn.maybeCreateDefsForMasterWorkspace(),_this299.Pn.defs.append(_t737),a=_t737,l[lc]=_t737,h.style[_this299.context]="url(#"+_t737.id+")";}}if(r.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _i545=new DOMPoint(s.x+_e538.clientX-t.clientX,s.y+_e538.clientY-t.clientY),_o191=new DOMPoint(n.x+_e538.clientX-t.clientX,n.y+_e538.clientY-t.clientY),_l175=_i545.matrixTransform(p),_h136=_o191.matrixTransform(p),_d51=_l175.matrixTransform(r.gradientTransform.inverse()),_c40=_h136.matrixTransform(r.gradientTransform.inverse());a.setAttribute("x1",Z(_d51.x,u)),a.setAttribute("y1",Z(_d51.y,u)),a.setAttribute("x2",Z(_c40.x,u)),a.setAttribute("y2",Z(_c40.y,u));}else if(r.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _i546=new DOMPoint(s.x+_e538.clientX-t.clientX,s.y+_e538.clientY-t.clientY),_o192=new DOMPoint(n.x+_e538.clientX-t.clientX,n.y+_e538.clientY-t.clientY),_l176=_i546.matrixTransform(p),_h137=_o192.matrixTransform(p),_c41=he(_l176,d),_x97=he(_h137,d),_b28=_c41.matrixTransform(r.gradientTransform.inverse()),_m27=_x97.matrixTransform(r.gradientTransform.inverse());a.setAttribute("x1",Z(_b28.x,u)),a.setAttribute("y1",Z(_b28.y,u)),a.setAttribute("x2",Z(_m27.x,u)),a.setAttribute("y2",Z(_m27.y,u));}}),o.addEventListener("pointerup",_i547=function i(){o.removeEventListener("pointermove",e),o.removeEventListener("pointerup",_i547),_this299.jh=null;});},oa:function oa(t){this.Pn.undoManager.checkpoint("Add Stop");var e=t.target,i=e.closest(".subhud")[lc],s=So(i),n=jt(this).inverse(),o=Do(i),l=new DOMPoint(e.x1.baseVal.value,e.y1.baseVal.value),h=new DOMPoint(e.x2.baseVal.value,e.y2.baseVal.value),a=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),r=De(l,a)/De(l,h);r=K(r,0,1,this.Pn.geometryPrecision);var d=null;for(var _t738=0;_t738<o.length;_t738+=1){var _e539=o[_t738];if(_e539.offset.baseVal<r)d=_t738;else if(_e539.offset.baseVal>r)break;}var c=zi("svg:stop");if(c.setAttribute("offset",r),c.style.stopColor=Oo(i,r),null===d){var _t739=o[0];_t739?_t739.before(c):s.append(c);}else o[d].after(c);this.Uh([c]);},vn:function vn(t){var e=eo.fromEvent(t);0!==this.Fh.length&&(e.matches("Backspace")||e.matches("Delete")?(t.stopPropagation(),this.ca()):e.matches("Tab")?(t.stopPropagation(),t.preventDefault(),this.pa()):e.matches("Shift","Tab")?(t.stopPropagation(),t.preventDefault(),this.ua()):e.matches("ArrowLeft")?(t.stopPropagation(),this.xa("left")&&this.ba(1,"left")):e.matches("ArrowRight")?(t.stopPropagation(),this.xa("right")&&this.ba(1,"right")):e.matches("Shift","ArrowLeft")?(t.stopPropagation(),this.xa("left")&&this.ba(10,"left")):e.matches("Shift","ArrowRight")&&(t.stopPropagation(),this.xa("right")&&this.ba(10,"right")));},Hh:function Hh(){var t=this.ma();if(0===t.length)this["#subhuds"].innerHTML="";else{var _e540=this.querySelector(".subhud:focus"),_i548=[];this["#subhuds"].innerHTML="";var _iterator433=_createForOfIteratorHelper(t),_step433;try{for(_iterator433.s();!(_step433=_iterator433.n()).done;){var _e541=_step433.value;var _t741=Xo(_e541,this.context);if(_i548.includes(_t741))continue;_i548.push(_t741);var _s321=Do(_t741),_n235=this["#subhud-template"].cloneNode(!0);_n235.removeAttribute("uid"),_n235[lc]=_t741,_n235[hc]=_e541,_n235[ac]=_s321;var _o193=_n235.querySelector(".stop-grippies"),_l177=document.createDocumentFragment();var _iterator434=_createForOfIteratorHelper(_s321),_step434;try{for(_iterator434.s();!(_step434=_iterator434.n()).done;){var _t742=_step434.value;var _e542=zi("svg:circle");_e542.setAttribute("class","stop-grippie"),_e542[rc]=_t742,_t742.offset.baseVal>.95?_l177.prepend(_e542):_o193.append(_e542);}}catch(err){_iterator434.e(err);}finally{_iterator434.f();}_o193.append(_l177),this["#subhuds"].append(_n235);}}catch(err){_iterator433.e(err);}finally{_iterator433.f();}if(_e540){var _t740=_toConsumableArray(this["#subhuds"].children).find(function(t){return t[lc]===_e540[lc];});_t740&&_t740.focus();}this.Qh(),this.ll(),this.Jh(),this.ga(),this.fa();}},Qh:function Qh(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var _iterator435=_createForOfIteratorHelper(this["#subhuds"].children),_step435;try{for(_iterator435.s();!(_step435=_iterator435.n()).done;){var _e543=_step435.value;if(t&&_e543!==t)continue;var _i549=_e543[lc],_s322=_e543[hc],_n236=_e543[ac],_o194=Po(_i549),_l178=Vt(_s322,this),_h138=_e543.querySelector(".slider"),_a117=_e543.querySelector(".slider-shadow"),_r70=_toConsumableArray(_e543.querySelector(".stop-grippies").children);if(_o194.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t743=new DOMPoint(_o194.x1.value,_o194.y1.value),_e544=new DOMPoint(_o194.x2.value,_o194.y2.value),_i550=_t743.matrixTransform(_o194.gradientTransform),_s323=_e544.matrixTransform(_o194.gradientTransform),_d52=_i550.matrixTransform(_l178),_c42=_s323.matrixTransform(_l178);_h138.setAttribute("x1",_d52.x),_h138.setAttribute("y1",_d52.y),_h138.setAttribute("x2",_c42.x),_h138.setAttribute("y2",_c42.y),_a117.setAttribute("x1",_d52.x),_a117.setAttribute("y1",_d52.y),_a117.setAttribute("x2",_c42.x),_a117.setAttribute("y2",_c42.y);var _iterator436=_createForOfIteratorHelper(_n236),_step436;try{var _loop12=function _loop12(){var t=_step436.value;var e=_r70.find(function(e){return e[rc]===t;}),i=Ee(_d52,_c42,t.offset.baseVal);e.cx.baseVal.value=i.x,e.cy.baseVal.value=i.y;};for(_iterator436.s();!(_step436=_iterator436.n()).done;){_loop12();}}catch(err){_iterator436.e(err);}finally{_iterator436.f();}}else if(_o194.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t744=Ci(_s322),_e545=_o194.x1.valueInSpecifiedUnits,_i551=_o194.y1.valueInSpecifiedUnits,_d53=_o194.x2.valueInSpecifiedUnits,_c43=_o194.y2.valueInSpecifiedUnits;_o194.x1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e545/=100),_o194.y1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i551/=100),_o194.x2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_d53/=100),_o194.y2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_c43/=100);var _p36=new DOMPoint(_e545,_i551),_u31=new DOMPoint(_d53,_c43),_x98=_p36.matrixTransform(_o194.gradientTransform),_b29=_u31.matrixTransform(_o194.gradientTransform),_m28=new DOMPoint(_t744.x+_x98.x*_t744.width,_t744.y+_x98.y*_t744.height),_g24=new DOMPoint(_t744.x+_b29.x*_t744.width,_t744.y+_b29.y*_t744.height),_f17=_m28.matrixTransform(_l178),_w15=_g24.matrixTransform(_l178);_h138.setAttribute("x1",_f17.x),_h138.setAttribute("y1",_f17.y),_h138.setAttribute("x2",_w15.x),_h138.setAttribute("y2",_w15.y),_a117.setAttribute("x1",_f17.x),_a117.setAttribute("y1",_f17.y),_a117.setAttribute("x2",_w15.x),_a117.setAttribute("y2",_w15.y);var _iterator437=_createForOfIteratorHelper(_n236),_step437;try{var _loop13=function _loop13(){var t=_step437.value;var e=_r70.find(function(e){return e[rc]===t;}),i=Ee(_f17,_w15,t.offset.baseVal);e.cx.baseVal.value=i.x,e.cy.baseVal.value=i.y;};for(_iterator437.s();!(_step437=_iterator437.n()).done;){_loop13();}}catch(err){_iterator437.e(err);}finally{_iterator437.f();}}}}catch(err){_iterator435.e(err);}finally{_iterator435.f();}},Jh:function Jh(){var _iterator438=_createForOfIteratorHelper(this["#subhuds"].children),_step438;try{for(_iterator438.s();!(_step438=_iterator438.n()).done;){var _t745=_step438.value;var _iterator439=_createForOfIteratorHelper(_t745.querySelectorAll(".stop-grippie")),_step439;try{for(_iterator439.s();!(_step439=_iterator439.n()).done;){var _e546=_step439.value;var _t746=_e546[rc];_e546.style.fill=getComputedStyle(_t746).stopColor;}}catch(err){_iterator439.e(err);}finally{_iterator439.f();}}}catch(err){_iterator438.e(err);}finally{_iterator438.f();}},ll:function ll(){var _iterator440=_createForOfIteratorHelper(this.querySelectorAll(".stop-grippie")),_step440;try{for(_iterator440.s();!(_step440=_iterator440.n()).done;){var _t747=_step440.value;_t747.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator440.e(err);}finally{_iterator440.f();}},ga:function ga(){var _iterator441=_createForOfIteratorHelper(this["#subhuds"].children),_step441;try{for(_iterator441.s();!(_step441=_iterator441.n()).done;){var _t748=_step441.value;var _iterator442=_createForOfIteratorHelper(_t748.querySelectorAll(".stop-grippie")),_step442;try{for(_iterator442.s();!(_step442=_iterator442.n()).done;){var _e547=_step442.value;this.Fh.includes(_e547[rc])?_e547.setAttribute("data-selected",""):_e547.removeAttribute("data-selected");}}catch(err){_iterator442.e(err);}finally{_iterator442.f();}}}catch(err){_iterator441.e(err);}finally{_iterator441.f();}},fa:function fa(){var t=this["#subhuds"].querySelectorAll(".stop-grippie");var _iterator443=_createForOfIteratorHelper(this.Fh),_step443;try{for(_iterator443.s();!(_step443=_iterator443.n()).done;){var _e548=_step443.value;var _iterator444=_createForOfIteratorHelper(t),_step444;try{for(_iterator444.s();!(_step444=_iterator444.n()).done;){var _i552=_step444.value;_i552[rc]===_e548&&_i552.parentElement.append(_i552);}}catch(err){_iterator444.e(err);}finally{_iterator444.f();}}}catch(err){_iterator443.e(err);}finally{_iterator443.f();}},Uh:function Uh(t){0===t.length&&0===this.Fh.length||(this.Fh=_toConsumableArray(t),this.ga(),this.fa(),this.dispatchEvent(new CustomEvent("selectedstopschange")));},Nh:function Nh(){var t=this.querySelector(".subhud:focus")[lc],e=Do(t);this.Uh(e);},Vh:function Vh(){var t=this.querySelector(".subhud:focus")[lc],e=Do(t);this.Uh(this.Fh.filter(function(t){return!1===e.includes(t);}));},pa:function pa(){var _this300=this;var t=this.querySelector(".subhud:focus")[lc];if(t){var _e549=Do(t),_i553=_e549.filter(function(t){return _this300.Fh.includes(t);}),_s324=_i553[_i553.length-1],_n237=_e549[0];if(_s324&&_e549.length>1){for(var _t749=_s324.nextElementSibling;_t749;_t749=_t749.nextElementSibling){if("stop"===_t749.localName){_n237=_t749;break;}}this.Uh([_n237]);}}},ua:function ua(){var _this301=this;var t=this.querySelector(".subhud:focus")[lc];if(t){var _e550=Do(t),_i554=_e550.filter(function(t){return _this301.Fh.includes(t);}),_s325=_i554[_i554.length-1],_n238=_e550[_e550.length-1];if(_s325&&_e550.length>1){for(var _t750=_s325.previousElementSibling;_t750;_t750=_t750.previousElementSibling){if("stop"===_t750.localName){_n238=_t750;break;}}this.Uh([_n238]);}}},ca:function ca(){var _this302=this;var t=this.querySelector(".subhud:focus");if(null===t)return;var e=t[lc],i=Do(e).filter(function(t){return _this302.Fh.includes(t);});if(this.Uh([]),i.length>0){this.Pn.undoManager.checkpoint("Delete gradient stop(s)");var _iterator445=_createForOfIteratorHelper(i),_step445;try{for(_iterator445.s();!(_step445=_iterator445.n()).done;){var _t751=_step445.value;_t751.remove();}}catch(err){_iterator445.e(err);}finally{_iterator445.f();}}},ba:function ba(){var _this303=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"left";var i=this.Pn,s=this.querySelector(".subhud:focus");if(null===s)return;var n=s.querySelector(".slider"),o=s[lc],l=Do(o).filter(function(t){return _this303.Fh.includes(t);}),h=this.ra(),a=jt(this),r=this.Pn.geometryPrecision,d=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value),c=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value),p=d.matrixTransform(a),u=c.matrixTransform(a),x=t/new X(p,u).length;r<2&&(r=2),i.undoManager.checkpoint("Move "+(1===l.length?" stop ":" stops ")+t+(1===t?" unit ":" units ")+e);var _iterator446=_createForOfIteratorHelper(l),_step446;try{for(_iterator446.s();!(_step446=_iterator446.n()).done;){var _t752=_step446.value;var _h$get=h.get(_t752),_i555=_h$get.minOffset,_s326=_h$get.maxOffset;if("left"===e){var _e551=K(_t752.offset.baseVal-x,_i555,_s326,r);_t752.setAttribute("offset",_e551);}else if("right"===e){var _e552=K(_t752.offset.baseVal+x,_i555,_s326,r);_t752.setAttribute("offset",_e552);}}}catch(err){_iterator446.e(err);}finally{_iterator446.f();}},xa:function xa(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"left";var e=this.querySelector(".subhud:focus");if(null===e)return;e.querySelector(".slider");var i=e[lc],s=Do(i),n=this.Fh.find(function(t){return s.includes(t);});if(null===n)return;var o=this.ra(),_o$get=o.get(n),l=_o$get.minOffset,h=_o$get.maxOffset;return"left"===t?n.offset.baseVal>l:"right"===t?n.offset.baseVal<h:void 0;},wa:function wa(t){for(var _e553=t;_e553;_e553=_e553.previousElementSibling){if("stop"===_e553.localName&&!1===this.Fh.includes(_e553))return _e553;}return null;},va:function va(t){for(var _e554=t;_e554;_e554=_e554.nextElementSibling){if("stop"===_e554.localName&&!1===this.Fh.includes(_e554))return _e554;}return null;},ra:function ra(){var t=new Map(),e=[];var _iterator447=_createForOfIteratorHelper(this.Fh),_step447;try{for(_iterator447.s();!(_step447=_iterator447.n()).done;){var _t754=_step447.value;var _i557=this.wa(_t754),_s328=this.va(_t754),_n239={};_n239.min=_i557?_t754.offset.baseVal-_i557.offset.baseVal:_t754.offset.baseVal,_n239.max=_s328?_s328.offset.baseVal-_t754.offset.baseVal:1-_t754.offset.baseVal,e.push(_n239);}}catch(err){_iterator447.e(err);}finally{_iterator447.f();}if(e.length>0){var _i556=e[0].min,_s327=e[0].max;var _iterator448=_createForOfIteratorHelper(e),_step448;try{for(_iterator448.s();!(_step448=_iterator448.n()).done;){var _t753=_step448.value;_t753.min<_i556&&(_i556=_t753.min),_t753.max<_s327&&(_s327=_t753.max);}}catch(err){_iterator448.e(err);}finally{_iterator448.f();}var _iterator449=_createForOfIteratorHelper(this.Fh),_step449;try{for(_iterator449.s();!(_step449=_iterator449.n()).done;){var _e555=_step449.value;t.set(_e555,{initialOffset:_e555.offset.baseVal,minOffset:_e555.offset.baseVal-_i556,maxOffset:_e555.offset.baseVal+_s327});}}catch(err){_iterator449.e(err);}finally{_iterator449.f();}}return t;},ma:function ma(){var _this304=this;var t=function t(e){var i=[],s=_this304.Pn.selectedTextRange;var _iterator450=_createForOfIteratorHelper(e),_step450;try{for(_iterator450.s();!(_step450=_iterator450.n()).done;){var _n240=_step450.value;var _e556=_n240.localName;if(["circle","ellipse","line","path","polygon","polyline","rect","use"].includes(_e556))i.push(_n240);else if(["a","g"].includes(_e556))i.push.apply(i,_toConsumableArray(t(_n240.children)));else if("text"===_e556){var _t755=bi(_n240);if(s&&s.intersectsNode(_n240)){"backward"===s.direction&&_t755.reverse();var _iterator451=_createForOfIteratorHelper(_t755),_step451;try{for(_iterator451.s();!(_step451=_iterator451.n()).done;){var _e557=_step451.value;if(s.intersectsNode(_e557)){var _t756=_e557.closest("text, textPath, tspan, a");_t756&&!i.includes(_t756)&&i.push(_t756);}}}catch(err){_iterator451.e(err);}finally{_iterator451.f();}}else{var _iterator452=_createForOfIteratorHelper(_t755),_step452;try{for(_iterator452.s();!(_step452=_iterator452.n()).done;){var _e558=_step452.value;var _t757=_e558.closest("text, textPath, tspan, a");_t757&&!i.includes(_t757)&&i.push(_t757);}}catch(err){_iterator452.e(err);}finally{_iterator452.f();}}}}}catch(err){_iterator450.e(err);}finally{_iterator450.f();}return i;};return t(this.Pn.outermostSelectedElements).filter(function(t){return"linearGradient"===qo(t,_this304.context);});}};var cc=Symbol(),pc=Symbol(),uc=Symbol(),xc=Symbol();var bc={id:"radial-gradient-hud",get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";},set context(t){this.setAttribute("context",t),this.enabled&&(this.selectedStops=[],this.Gh());},get selectedStops(){var t=_toConsumableArray(this["#subhuds"].querySelectorAll(".stop-grippie")).map(function(t){return t[xc];});return this.Fh.filter(function(e){return t.includes(e)&&e.isConnected;});},set selectedStops(t){this.Uh(t);},createdCallback:function createdCallback(){var _this305=this;this.commands={selectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this305.Nh();}},deselectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this305.Vh();}}},this.Fh=[],this.Xo=null,this.jh=null,this.Gh=Xi(this.Hh,80,this),this.tabIndex=-1,this.innerHTML='\n  <style>\n    #radial-gradient-hud .subhud:focus {\n      outline: none;\n    }\n\n    #radial-gradient-hud .slider {\n      stroke: white;\n      stroke-width: 7;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      outline: none;\n    }\n\n    #radial-gradient-hud .slider-shadow {\n      stroke: rgba(0, 0, 0, 0.3);\n      stroke-width: 10;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      outline: none;\n    }\n\n    #radial-gradient-hud .stop-grippie {\n      fill: black;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #radial-gradient-hud .stop-grippie[data-selected] {\n      stroke: rgb(186, 186, 186); /* gray */\n    }\n    #radial-gradient-hud .subhud:focus .stop-grippie[data-selected] {\n      stroke: rgb(147, 210, 255); /* blue */\n    }\n\n    #radial-gradient-hud .r2-outline {\n      fill: none;\n      stroke: rgb(46, 102, 249);\n      stroke-width: 1.5;\n      stroke-dasharray: 5, 5;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      outline: none;\n      pointer-events: none;\n    }\n\n    #radial-gradient-hud .r2-grippie {\n      fill: rgb(46, 102, 249);\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud" tabindex="0">\n      <line class="r2-outline"></line>\n      <line class="slider-shadow"></line>\n      <line class="slider"></line>\n      <circle class="r2-grippie grippie"></circle>\n      <g class="stop-grippies"></g>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator453=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step453;try{for(_iterator453.s();!(_step453=_iterator453.n()).done;){var _t758=_step453.value;this["#"+_t758.getAttribute("uid")]=_t758;}}catch(err){_iterator453.e(err);}finally{_iterator453.f();}this.addEventListener("keydown",function(t){return _this305.vn(t);}),this.addEventListener("pointerdown",function(t){return _this305.wo(t);}),this.addEventListener("pointerup",function(t){return _this305.Yh(t);}),this.addEventListener("dblclick",function(t){return _this305.Ch(t);});},enabledCallback:function enabledCallback(){var _this306=this;this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this306.Jo();}),this.Pn.addEventListener("selectedtextrangechange",this.Wh=function(){_this306.qh();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this306.sl(t.detail);}),this.Pn.addEventListener("zoomchange",this.an=function(){_this306.il();}),this.Pn.workspaces.addEventListener("pointerdown",this.yn=function(t){_this306.kn(t);}),this.Pn.huds.addEventListener("pointerdown",this.Hn=function(t){_this306.Zh(t);}),this.Pn.undoManager.addEventListener("undo",this.Mh=function(){_this306.Kh();}),this.Pn.undoManager.addEventListener("redo",this.Ph=function(){_this306.Kh();}),this.Jo();},disabledCallback:function disabledCallback(){this.Uh([]),this.Pn.removeEventListener("selectedelementschange",this.Qo),this.Pn.removeEventListener("selectedtextrangechange",this.Wh),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("zoomchange",this.an),this.Pn.workspaces.removeEventListener("pointerdown",this.yn),this.Pn.huds.removeEventListener("pointerdown",this.Hn),this.Pn.undoManager.removeEventListener("undo",this.Mh),this.Pn.undoManager.removeEventListener("redo",this.Ph);},Jo:function Jo(){this.Gh();},qh:function qh(){this.Gh();},sl:function sl(t){if(this.Xo)this.Qh(this.Xo.closest(".subhud"));else if(this.jh)this.Qh(this.jh.parentElement);else{var _iterator454=_createForOfIteratorHelper(t),_step454;try{for(_iterator454.s();!(_step454=_iterator454.n()).done;){var _e559=_step454.value;"style"===_e559.attributeName&&"stop"===_e559.target.localName?this.Jh():this.Gh();}}catch(err){_iterator454.e(err);}finally{_iterator454.f();}}},il:function il(){this.ll();},Kh:function Kh(){this.Uh([]);},kn:function kn(t){1===t.buttons&&this.Uh([]);},Zh:function Zh(t){t.target!==this&&!1===this.contains(t.target)&&1===t.buttons&&this.Uh([]);},wo:function wo(t){var _this307=this;if(1!==t.buttons)return;var e,_i558;t.target.classList.contains("slider")?this.ta(t):t.target.classList.contains("stop-grippie")?this.ea(t):t.target.classList.contains("r2-grippie")&&this.ya(t,"r2"),this.ia=!1,this.sa=t.timeStamp,window.addEventListener("pointermove",e=function e(){_this307.ia=!0;}),window.addEventListener("pointerup",_i558=function i(){window.removeEventListener("pointerup",_i558),window.removeEventListener("pointermove",e);});},Yh:function Yh(t){t.target.classList.contains("stop-grippie")&&this.na(t);},Ch:function Ch(t){t.timeStamp-this.sa<300&&t.target.classList.contains("slider")&&this.oa(t);},ea:function ea(t){var _this308=this;var e=t.target[xc],i=e.closest("linearGradient, radialGradient"),s=Do(i),n=s.filter(function(t){return _this308.Fh.includes(t);}),o=s[0],l=s[s.length-1],_this$Qs$modKeys6=this.Qs.modKeys,h=_this$Qs$modKeys6.alt,a=_this$Qs$modKeys6.shift;this.la=_toConsumableArray(n),!1===a?!1===n.includes(e)&&this.Uh([e]):!0===a&&!1===n.includes(e)&&(n.push(e),this.Uh(n)),e===o&&0===e.offset.baseVal&&!1===h?this.ka(t):e===l&&1===e.offset.baseVal&&!1===h?this.ya(t,"r1"):this.aa(t);},na:function na(t){if(this.ia)return;var e=t.target,i=this.la,s=e[xc],n=e.closest(".subhud")[pc],o=this.Qs.modKeys.shift,l=[];var _iterator455=_createForOfIteratorHelper(this.Pn.selectedElements),_step455;try{for(_iterator455.s();!(_step455=_iterator455.n()).done;){var _t760=_step455.value;if("g"!==_t760.localName&&"a"!==_t760.localName||!_t760.contains(n))l.push(_t760);else{var _iterator456=_createForOfIteratorHelper(Ii(_toConsumableArray(_t760.children))),_step456;try{for(_iterator456.s();!(_step456=_iterator456.n()).done;){var _e560=_step456.value;l.unshift(_e560);}}catch(err){_iterator456.e(err);}finally{_iterator456.f();}}}}catch(err){_iterator455.e(err);}finally{_iterator455.f();}this.Pn.isSelectableElement(n)&&(l=l.filter(function(t){return t!==n;}),l.unshift(n)),this.Pn.selectedElements=l;for(var _t759=n.parentElement;_t759!==this.Pn.currentWorkspace;_t759=_t759.parentElement){if("g"===_t759.localName||"a"===_t759.localName){this.Pn.currentContainer=_t759;break;}}!0===o&&!0===this.la.includes(s)&&(i=i.filter(function(t){return t!==s;}),this.Uh(i));},aa:function aa(t){var _this309=this;var e,_i561,s=t.target,n=s.closest(".subhud").querySelector(".slider"),o=this.Pn.geometryPrecision,l=this.ra(),h=jt(this),a=h.inverse(),r=new DOMPoint(t.clientX,t.clientY),d=r,c=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value),p=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value),u=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value),x=u.matrixTransform(h),_Oe35=Oe(c,p,u,!1),_Oe36=_slicedToArray(_Oe35,1),b=_Oe36[0],m=De(c,b)/De(c,p),g=!1;this.Xo=s,s.setPointerCapture(t.pointerId),s.addEventListener("pointermove",e=function e(_e562){{var _i559=new DOMPoint(_e562.clientX,_e562.clientY),_s329=_e562.timeStamp-t.timeStamp;if(!0===Ce(d,_i559,0))return;if(d=_i559,De(r,_i559)<3&&_s329<80)return;}!1===g&&(_this309.Pn.undoManager.checkpoint("Move gradient stop"),g=!0);var i=new DOMPoint(x.x+_e562.clientX-t.clientX,x.y+_e562.clientY-t.clientY).matrixTransform(a),_Oe37=Oe(c,p,i,!1),_Oe38=_slicedToArray(_Oe37,1),s=_Oe38[0],n=De(c,s)/De(c,p)-m;var _iterator457=_createForOfIteratorHelper(_this309.Fh),_step457;try{for(_iterator457.s();!(_step457=_iterator457.n()).done;){var _t761=_step457.value;var _l$get2=l.get(_t761),_e561=_l$get2.minOffset,_i560=_l$get2.maxOffset,_s330=_l$get2.initialOffset;_s330+n<_e561?_t761.setAttribute("offset",_e561):_s330+n>_i560?_t761.setAttribute("offset",_i560):_t761.setAttribute("offset",_s330+n);}}catch(err){_iterator457.e(err);}finally{_iterator457.f();}}),s.addEventListener("pointerup",_i561=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("pointerup",_i561);var _iterator458=_createForOfIteratorHelper(_this309.Fh),_step458;try{for(_iterator458.s();!(_step458=_iterator458.n()).done;){var _t762=_step458.value;_t762.setAttribute("offset",Z(_t762.offset.baseVal,o));}}catch(err){_iterator458.e(err);}finally{_iterator458.f();}_this309.Xo=null;});},ya:function ya(t){var _this310=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"r1";var i,s,n,o,l,h,a,r,d=t.target,c=_toConsumableArray(this["#subhuds"].children).find(function(t){return t.contains(d);}),p=c[cc],u=Po(p),x=c[pc],b=Ci(x),m=jt(x),g=m.inverse(),f=u.gradientTransform,w=this.Pn.transformPrecision,v=new DOMPoint(t.clientX,t.clientY),y=v,_Fl16=Fl(m),k=_Fl16.scaleX,S=_Fl16.scaleY,_=!1,C=!1;d.matches(".grippie")?this.Xo=d:d.matches(".slider")&&(this.jh=d),d.setPointerCapture(t.pointerId);d.addEventListener("pointermove",i=function i(_i566){if(!1===_){{var _e563=new DOMPoint(_i566.clientX,_i566.clientY),_s331=_i566.timeStamp-t.timeStamp;if(!0===Ce(y,_e563,0))return;if(y=_e563,De(v,_e563)<3&&_s331<80)return;}if(_this310.Pn.undoManager.checkpoint("Transform gradient"),Mo(p)){var _t763=zi("svg:radialGradient");_t763.setAttribute("id",_this310.Pn.generateUniqueID(p.id)),_t763.setAttribute("href","#"+p.id),_this310.Pn.maybeCreateDefsForMasterWorkspace(),_this310.Pn.defs.append(_t763),p=_t763,c[cc]=_t763,x.style[_this310.context]="url(#"+_t763.id+")";}_=!0,function(){if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){n=new DOMPoint(u.cx.value,u.cy.value),o=new DOMPoint(u.cx.value+u.r.value,u.cy.value),l=new DOMPoint(u.cx.value,u.cy.value-u.r.value);var _t764=n.matrixTransform(f),_e564=o.matrixTransform(f),_i562=l.matrixTransform(f);h=_t764.matrixTransform(m),a=_e564.matrixTransform(m),r=_i562.matrixTransform(m);}else if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t765=u.cx.valueInSpecifiedUnits,_e565=u.cy.valueInSpecifiedUnits,_i563=u.r.valueInSpecifiedUnits;u.cx.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t765/=100),u.cy.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e565/=100),u.r.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i563/=100),n=new DOMPoint(_t765,_e565),o=new DOMPoint(_t765-_i563,_e565),l=new DOMPoint(_t765,_e565-_i563);var _s332=n.matrixTransform(f),_d54=o.matrixTransform(f),_c44=l.matrixTransform(f),_p37=le(_s332,b),_x99=le(_d54,b),_g25=le(_c44,b);h=_p37.matrixTransform(m),a=_x99.matrixTransform(m),r=_g25.matrixTransform(m);}}();}var s,d,_this310$Qs$modKeys=_this310.Qs.modKeys,M=_this310$Qs$modKeys.ctrl,P=_this310$Qs$modKeys.shift;"r1"===e?(s=new DOMPoint(_i566.clientX+(a.x-t.clientX),_i566.clientY+(a.y-t.clientY)),d=Ie(h,a,s)):"r2"===e&&(s=new DOMPoint(_i566.clientX+(r.x-t.clientX),_i566.clientY+(r.y-t.clientY)),d=Ie(h,r,s));var D=new DOMMatrix();D.translateSelf(h.x,h.y),D.rotateSelf(d),D.translateSelf(-h.x,-h.y);var z,O,E,T=h.matrixTransform(D),A=a.matrixTransform(D),$=r.matrixTransform(D),I=new X(T,A),L=new X(T,$),B=new X(T,s);if("r1"===e){if(I.length=B.length,A.x=T.x+I.x,A.y=T.y+I.y,M){var _t766=new X(T,r);L.length=B.length,_t766.length=B.length,$.x=T.x+L.x,$.y=T.y+L.y,r.x=T.x+_t766.x,r.y=T.y+_t766.y;}if(P){var _Ae11=Ae(T,A,22.5),_Ae12=_slicedToArray(_Ae11,2),_t767=_Ae12[0],_e566=_Ae12[1];A=_t767,C=!0;}if(C){var _t768=new DOMPoint(h.x,h.y-100),_e567=Ie(h,_t768,A);$=$e(T,$,k<0&&S<0?_e567+90:_e567-90);}}else if("r2"===e){if(L.length=B.length,$.x=T.x+L.x,$.y=T.y+L.y,M){var _t769=new X(T,a);I.length=B.length,_t769.length=B.length,A.x=T.x+I.x,A.y=T.y+I.y,a.x=T.x+_t769.x,a.y=T.y+_t769.y;}if(P){var _Ae13=Ae(T,$,22.5),_Ae14=_slicedToArray(_Ae13,2),_t770=_Ae14[0],_e568=_Ae14[1];$=_t770,C=!0;}if(C){var _t771=new DOMPoint(h.x,h.y-100),_e569=Ie(h,_t771,$);A=$e(T,A,k<0&&S<0?_e569-90:_e569+90);}}if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t772=T.matrixTransform(g),_e570=A.matrixTransform(g),_i564=$.matrixTransform(g);z=_t772.matrixTransform(f.inverse()),O=_e570.matrixTransform(f.inverse()),E=_i564.matrixTransform(f.inverse());}else if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t773=T.matrixTransform(g),_e571=A.matrixTransform(g),_i565=$.matrixTransform(g),_s333=he(_t773,b),_n241=he(_e571,b),_o195=he(_i565,b);z=_s333.matrixTransform(f.inverse()),O=_n241.matrixTransform(f.inverse()),E=_o195.matrixTransform(f.inverse());}var R=Ht(n,o,l,z,O,E),G=Rt(f.multiply(R),w);p.setAttribute("gradientTransform",G.toString());}),d.addEventListener("pointerup",s=function(_s334){function s(){return _s334.apply(this,arguments);}s.toString=function(){return _s334.toString();};return s;}(function(){d.removeEventListener("pointermove",i),d.removeEventListener("pointerup",s),_this310.Xo=null,_this310.jh=null;}));},ta:function ta(t){var e=t.target,i=jt(e),s=new DOMPoint(t.clientX,t.clientY),n=new DOMPoint(e.x2.baseVal.value,e.y2.baseVal.value).matrixTransform(i);De(n,s)<=5?this.ya(t,"r1"):this.ka(t);},ka:function ka(t){var _this311=this;var e,_i569,s,n=t.target,o=t.target.closest(".subhud"),l=o[pc],h=o[cc],a=Po(h),r=Ci(l),d=jt(l),c=d.inverse(),p=this.Pn.geometryPrecision,u=new DOMPoint(t.clientX,t.clientY),x=u,b=!1;if(n.matches(".grippie")?this.Xo=n:n.matches(".slider")&&(this.jh=n),n.setPointerCapture(t.pointerId),a.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t774=new DOMPoint(a.cx.value,a.cy.value).matrixTransform(a.gradientTransform);s=_t774.matrixTransform(d);}else if(a.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t775=a.cx.valueInSpecifiedUnits,_e572=a.cy.valueInSpecifiedUnits;a.cx.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t775/=100),a.cy.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e572/=100);var _i567=new DOMPoint(_t775,_e572).matrixTransform(a.gradientTransform),_n242=le(_i567,r);s=_n242.matrixTransform(d);}n.addEventListener("pointermove",e=function e(_e573){var i,n=new DOMPoint(_e573.clientX,_e573.clientY),d=new X(u,n);if(!1===b){{var _i568=_e573.timeStamp-t.timeStamp;if(!0===Ce(x,n,0))return;if(x=n,De(u,n)<3&&_i568<80)return;}if(b=!0,_this311.Pn.undoManager.checkpoint("Transform gradient"),_this311.Pn.snapManager.snapStart(!1),Mo(h)){var _t776=zi("svg:radialGradient");_t776.setAttribute("id",_this311.Pn.generateUniqueID(h.id)),_t776.setAttribute("href","#"+h.id),_this311.Pn.maybeCreateDefsForMasterWorkspace(),_this311.Pn.defs.append(_t776),h=_t776,o[cc]=_t776,l.style[_this311.context]="url(#"+_t776.id+")";}}if(a.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t777=new DOMPoint(s.x+d.x,s.y+d.y);_t777=_this311.Pn.snapManager.snapPoint(_t777),i=_t777.matrixTransform(c).matrixTransform(a.gradientTransform.inverse());}else if(a.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t778=new DOMPoint(s.x+d.x,s.y+d.y).matrixTransform(c);i=he(_t778,r).matrixTransform(a.gradientTransform.inverse());}h.setAttribute("cx",Z(i.x,p)),h.setAttribute("cy",Z(i.y,p));}),n.addEventListener("pointerup",_i569=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("pointerup",_i569),_this311.Xo=null,_this311.jh=null,_this311.Pn.snapManager.snapEnd();});},oa:function oa(t){this.Pn.undoManager.checkpoint("Add Stop");var e=t.target,i=e.closest(".subhud")[cc],s=So(i),n=jt(this).inverse(),o=Do(i),l=new DOMPoint(e.x1.baseVal.value,e.y1.baseVal.value),h=new DOMPoint(e.x2.baseVal.value,e.y2.baseVal.value),a=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),r=De(l,a),d=De(l,h),c=K(r/d,0,1,this.Pn.geometryPrecision),p=null;for(var _t779=0;_t779<o.length;_t779+=1){var _e574=o[_t779];if(_e574.offset.baseVal<c)p=_t779;else if(_e574.offset.baseVal>c)break;}var u=zi("svg:stop");if(u.setAttribute("offset",c),u.style.stopColor=Oo(i,c),null===p){var _t780=o[0];_t780?_t780.before(u):s.append(u);}else o[p].after(u);this.Uh([u]);},vn:function vn(t){var e=eo.fromEvent(t);0!==this.Fh.length&&(e.matches("Backspace")||e.matches("Delete")?(t.stopPropagation(),this.ca()):e.matches("Tab")?(t.stopPropagation(),t.preventDefault(),this.pa()):e.matches("Shift","Tab")?(t.stopPropagation(),t.preventDefault(),this.ua()):e.matches("ArrowLeft")?(t.stopPropagation(),this.xa("left")&&this.ba(1,"left")):e.matches("ArrowRight")?(t.stopPropagation(),this.xa("right")&&this.ba(1,"right")):e.matches("Shift","ArrowLeft")?(t.stopPropagation(),this.xa("left")&&this.ba(10,"left")):e.matches("Shift","ArrowRight")&&(t.stopPropagation(),this.xa("right")&&this.ba(10,"right")));},Hh:function Hh(){var t=this.Sa();if(0===t.length)this["#subhuds"].innerHTML="";else{var _e575=this.querySelector(".subhud:focus"),_i570=[];this["#subhuds"].innerHTML="";var _iterator459=_createForOfIteratorHelper(t),_step459;try{for(_iterator459.s();!(_step459=_iterator459.n()).done;){var _e576=_step459.value;var _t782=Xo(_e576,this.context);if(_i570.includes(_t782))continue;_i570.push(_t782);var _s335=Do(_t782),_n243=this["#subhud-template"].cloneNode(!0);_n243.removeAttribute("uid"),_n243[cc]=_t782,_n243[pc]=_e576,_n243[uc]=_s335;var _o196=_n243.querySelector(".stop-grippies"),_l179=document.createDocumentFragment();var _iterator460=_createForOfIteratorHelper(_s335),_step460;try{for(_iterator460.s();!(_step460=_iterator460.n()).done;){var _t783=_step460.value;var _e577=zi("svg:circle");_e577.setAttribute("class","stop-grippie grippie"),_e577[xc]=_t783,_t783.offset.baseVal>.95?_l179.prepend(_e577):_o196.append(_e577);}}catch(err){_iterator460.e(err);}finally{_iterator460.f();}_o196.append(_l179),this["#subhuds"].append(_n243);}}catch(err){_iterator459.e(err);}finally{_iterator459.f();}if(_e575){var _t781=_toConsumableArray(this["#subhuds"].children).find(function(t){return t[cc]===_e575[cc];});_t781&&_t781.focus();}this.Qh(),this.ll(),this.Jh(),this.ga(),this.fa();}},Qh:function Qh(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var _iterator461=_createForOfIteratorHelper(this["#subhuds"].children),_step461;try{for(_iterator461.s();!(_step461=_iterator461.n()).done;){var _e578=_step461.value;if(t&&_e578!==t)continue;var _i571=_e578[cc],_s336=_e578[pc],_n244=_e578[uc],_o197=Po(_i571),_l180=Vt(_s336,this),_h139=_e578.querySelector(".slider"),_a118=_e578.querySelector(".slider-shadow"),_r71=_toConsumableArray(_e578.querySelector(".stop-grippies").children),_d55=_e578.querySelector(".r2-grippie"),_c45=_e578.querySelector(".r2-outline");if(_o197.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t784=new DOMPoint(_i571.cx.baseVal.value,_i571.cy.baseVal.value),_e579=new DOMPoint(_i571.cx.baseVal.value+_i571.r.baseVal.value,_i571.cy.baseVal.value),_s337=new DOMPoint(_i571.cx.baseVal.value,_i571.cy.baseVal.value-_i571.r.baseVal.value),_p38=_t784.matrixTransform(_o197.gradientTransform),_u32=_e579.matrixTransform(_o197.gradientTransform),_x100=_s337.matrixTransform(_o197.gradientTransform),_b30=_p38.matrixTransform(_l180),_m29=_u32.matrixTransform(_l180),_g26=_x100.matrixTransform(_l180);_h139.setAttribute("x1",_b30.x),_h139.setAttribute("y1",_b30.y),_h139.setAttribute("x2",_m29.x),_h139.setAttribute("y2",_m29.y),_a118.setAttribute("x1",_b30.x),_a118.setAttribute("y1",_b30.y),_a118.setAttribute("x2",_m29.x),_a118.setAttribute("y2",_m29.y),_c45.setAttribute("x1",_b30.x),_c45.setAttribute("y1",_b30.y),_c45.setAttribute("x2",_g26.x),_c45.setAttribute("y2",_g26.y),_d55.setAttribute("cx",_g26.x),_d55.setAttribute("cy",_g26.y);var _iterator462=_createForOfIteratorHelper(_n244),_step462;try{var _loop14=function _loop14(){var t=_step462.value;var e=_r71.find(function(e){return e[xc]===t;}),i=Ee(_b30,_m29,t.offset.baseVal);e.cx.baseVal.value=i.x,e.cy.baseVal.value=i.y;};for(_iterator462.s();!(_step462=_iterator462.n()).done;){_loop14();}}catch(err){_iterator462.e(err);}finally{_iterator462.f();}}else if(_o197.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t785=Ci(_s336),_e580=_o197.cx.valueInSpecifiedUnits,_i572=_o197.cy.valueInSpecifiedUnits,_p39=_o197.r.valueInSpecifiedUnits;_o197.cx.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e580/=100),_o197.cy.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i572/=100),_o197.r.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_p39/=100);var _u33=new DOMPoint(_e580,_i572),_x101=new DOMPoint(_e580-_p39,_i572),_b31=new DOMPoint(_e580,_i572-_p39),_m30=_u33.matrixTransform(_o197.gradientTransform),_g27=_x101.matrixTransform(_o197.gradientTransform),_f18=_b31.matrixTransform(_o197.gradientTransform),_w16=le(_m30,_t785),_v12=le(_g27,_t785),_y4=le(_f18,_t785),_k3=_w16.matrixTransform(_l180),_S3=_v12.matrixTransform(_l180),_4=_y4.matrixTransform(_l180);_h139.setAttribute("x1",_k3.x),_h139.setAttribute("y1",_k3.y),_h139.setAttribute("x2",_S3.x),_h139.setAttribute("y2",_S3.y),_a118.setAttribute("x1",_k3.x),_a118.setAttribute("y1",_k3.y),_a118.setAttribute("x2",_S3.x),_a118.setAttribute("y2",_S3.y),_c45.setAttribute("x1",_k3.x),_c45.setAttribute("y1",_k3.y),_c45.setAttribute("x2",_4.x),_c45.setAttribute("y2",_4.y),_d55.setAttribute("cx",_4.x),_d55.setAttribute("cy",_4.y);var _iterator463=_createForOfIteratorHelper(_n244),_step463;try{var _loop15=function _loop15(){var t=_step463.value;var e=_r71.find(function(e){return e[xc]===t;});if(e){var _i573=Ee(_k3,_S3,t.offset.baseVal);e.cx.baseVal.value=_i573.x,e.cy.baseVal.value=_i573.y;}};for(_iterator463.s();!(_step463=_iterator463.n()).done;){_loop15();}}catch(err){_iterator463.e(err);}finally{_iterator463.f();}}}}catch(err){_iterator461.e(err);}finally{_iterator461.f();}},Jh:function Jh(){var _iterator464=_createForOfIteratorHelper(this["#subhuds"].children),_step464;try{for(_iterator464.s();!(_step464=_iterator464.n()).done;){var _t786=_step464.value;var _iterator465=_createForOfIteratorHelper(_t786.querySelectorAll(".stop-grippie")),_step465;try{for(_iterator465.s();!(_step465=_iterator465.n()).done;){var _e581=_step465.value;var _t787=_e581[xc];_e581.style.fill=getComputedStyle(_t787).stopColor;}}catch(err){_iterator465.e(err);}finally{_iterator465.f();}}}catch(err){_iterator464.e(err);}finally{_iterator464.f();}},ll:function ll(){var _iterator466=_createForOfIteratorHelper(this.querySelectorAll(".grippie")),_step466;try{for(_iterator466.s();!(_step466=_iterator466.n()).done;){var _t788=_step466.value;_t788.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator466.e(err);}finally{_iterator466.f();}},ga:function ga(){var _iterator467=_createForOfIteratorHelper(this["#subhuds"].children),_step467;try{for(_iterator467.s();!(_step467=_iterator467.n()).done;){var _t789=_step467.value;var _iterator468=_createForOfIteratorHelper(_t789.querySelectorAll(".stop-grippie")),_step468;try{for(_iterator468.s();!(_step468=_iterator468.n()).done;){var _e582=_step468.value;this.Fh.includes(_e582[xc])?_e582.setAttribute("data-selected",""):_e582.removeAttribute("data-selected");}}catch(err){_iterator468.e(err);}finally{_iterator468.f();}}}catch(err){_iterator467.e(err);}finally{_iterator467.f();}},fa:function fa(){var t=this["#subhuds"].querySelectorAll(".stop-grippie");var _iterator469=_createForOfIteratorHelper(this.Fh),_step469;try{for(_iterator469.s();!(_step469=_iterator469.n()).done;){var _e583=_step469.value;var _iterator470=_createForOfIteratorHelper(t),_step470;try{for(_iterator470.s();!(_step470=_iterator470.n()).done;){var _i574=_step470.value;_i574[xc]===_e583&&_i574.parentElement.append(_i574);}}catch(err){_iterator470.e(err);}finally{_iterator470.f();}}}catch(err){_iterator469.e(err);}finally{_iterator469.f();}},Uh:function Uh(t){0===t.length&&0===this.Fh.length||(this.Fh=_toConsumableArray(t),this.ga(),this.fa(),this.dispatchEvent(new CustomEvent("selectedstopschange")));},Nh:function Nh(){var t=this.querySelector(".subhud:focus")[cc],e=Do(t);this.Uh(e);},Vh:function Vh(){var t=this.querySelector(".subhud:focus")[cc],e=Do(t);this.Uh(this.Fh.filter(function(t){return!1===e.includes(t);}));},pa:function pa(){var _this312=this;var t=this.querySelector(".subhud:focus")[cc];if(t){var _e584=Do(t),_i575=_e584.filter(function(t){return _this312.Fh.includes(t);}),_s338=_i575[_i575.length-1],_n245=_e584[0];if(_s338&&_e584.length>1){for(var _t790=_s338.nextElementSibling;_t790;_t790=_t790.nextElementSibling){if("stop"===_t790.localName){_n245=_t790;break;}}this.Uh([_n245]);}}},ua:function ua(){var _this313=this;var t=this.querySelector(".subhud:focus")[cc];if(t){var _e585=Do(t),_i576=_e585.filter(function(t){return _this313.Fh.includes(t);}),_s339=_i576[_i576.length-1],_n246=_e585[_e585.length-1];if(_s339&&_e585.length>1){for(var _t791=_s339.previousElementSibling;_t791;_t791=_t791.previousElementSibling){if("stop"===_t791.localName){_n246=_t791;break;}}this.Uh([_n246]);}}},ca:function ca(){var _this314=this;var t=this.querySelector(".subhud:focus");if(null===t)return;var e=t[cc],i=Do(e).filter(function(t){return _this314.Fh.includes(t);});if(this.Uh([]),i.length>0){this.Pn.undoManager.checkpoint("Delete gradient stop(s)");var _iterator471=_createForOfIteratorHelper(i),_step471;try{for(_iterator471.s();!(_step471=_iterator471.n()).done;){var _t792=_step471.value;_t792.remove();}}catch(err){_iterator471.e(err);}finally{_iterator471.f();}}},ba:function ba(){var _this315=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"left";var i=this.Pn,s=this.querySelector(".subhud:focus");if(null===s)return;var n=s.querySelector(".slider"),o=s[cc],l=Do(o).filter(function(t){return _this315.Fh.includes(t);}),h=this.ra(),a=jt(this),r=this.Pn.geometryPrecision,d=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value),c=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value),p=d.matrixTransform(a),u=c.matrixTransform(a),x=t/new X(p,u).length;r<2&&(r=2),i.undoManager.checkpoint("Move "+(1===l.length?" stop ":" stops ")+t+(1===t?" unit ":" units ")+e);var _iterator472=_createForOfIteratorHelper(l),_step472;try{for(_iterator472.s();!(_step472=_iterator472.n()).done;){var _t793=_step472.value;var _h$get2=h.get(_t793),_i577=_h$get2.minOffset,_s340=_h$get2.maxOffset;if("left"===e){var _e586=K(_t793.offset.baseVal-x,_i577,_s340,r);_t793.setAttribute("offset",_e586);}else if("right"===e){var _e587=K(_t793.offset.baseVal+x,_i577,_s340,r);_t793.setAttribute("offset",_e587);}}}catch(err){_iterator472.e(err);}finally{_iterator472.f();}},xa:function xa(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"left";var e=this.querySelector(".subhud:focus");if(null===e)return;e.querySelector(".slider");var i=e[cc],s=Do(i),n=this.Fh.find(function(t){return s.includes(t);});if(null===n)return;var o=this.ra(),_o$get2=o.get(n),l=_o$get2.minOffset,h=_o$get2.maxOffset;return"left"===t?n.offset.baseVal>l:"right"===t?n.offset.baseVal<h:void 0;},wa:function wa(t){for(var _e588=t;_e588;_e588=_e588.previousElementSibling){if("stop"===_e588.localName&&!1===this.Fh.includes(_e588))return _e588;}return null;},va:function va(t){for(var _e589=t;_e589;_e589=_e589.nextElementSibling){if("stop"===_e589.localName&&!1===this.Fh.includes(_e589))return _e589;}return null;},ra:function ra(){var t=new Map(),e=[];var _iterator473=_createForOfIteratorHelper(this.Fh),_step473;try{for(_iterator473.s();!(_step473=_iterator473.n()).done;){var _t795=_step473.value;var _i579=this.wa(_t795),_s342=this.va(_t795),_n247={};_n247.min=_i579?_t795.offset.baseVal-_i579.offset.baseVal:_t795.offset.baseVal,_n247.max=_s342?_s342.offset.baseVal-_t795.offset.baseVal:1-_t795.offset.baseVal,e.push(_n247);}}catch(err){_iterator473.e(err);}finally{_iterator473.f();}if(e.length>0){var _i578=e[0].min,_s341=e[0].max;var _iterator474=_createForOfIteratorHelper(e),_step474;try{for(_iterator474.s();!(_step474=_iterator474.n()).done;){var _t794=_step474.value;_t794.min<_i578&&(_i578=_t794.min),_t794.max<_s341&&(_s341=_t794.max);}}catch(err){_iterator474.e(err);}finally{_iterator474.f();}var _iterator475=_createForOfIteratorHelper(this.Fh),_step475;try{for(_iterator475.s();!(_step475=_iterator475.n()).done;){var _e590=_step475.value;t.set(_e590,{initialOffset:_e590.offset.baseVal,minOffset:_e590.offset.baseVal-_i578,maxOffset:_e590.offset.baseVal+_s341});}}catch(err){_iterator475.e(err);}finally{_iterator475.f();}}return t;},Sa:function Sa(){var _this316=this;var t=function t(e){var i=[],s=_this316.Pn.selectedTextRange;var _iterator476=_createForOfIteratorHelper(e),_step476;try{for(_iterator476.s();!(_step476=_iterator476.n()).done;){var _n248=_step476.value;var _e591=_n248.localName;if(["circle","ellipse","line","path","polygon","polyline","rect","use"].includes(_e591))i.push(_n248);else if(["a","g"].includes(_e591))i.push.apply(i,_toConsumableArray(t(_n248.children)));else if("text"===_e591){var _t796=bi(_n248);if(s&&s.intersectsNode(_n248)){"backward"===s.direction&&_t796.reverse();var _iterator477=_createForOfIteratorHelper(_t796),_step477;try{for(_iterator477.s();!(_step477=_iterator477.n()).done;){var _e592=_step477.value;if(s.intersectsNode(_e592)){var _t797=_e592.closest("text, textPath, tspan, a");_t797&&!i.includes(_t797)&&i.push(_t797);}}}catch(err){_iterator477.e(err);}finally{_iterator477.f();}}else{var _iterator478=_createForOfIteratorHelper(_t796),_step478;try{for(_iterator478.s();!(_step478=_iterator478.n()).done;){var _e593=_step478.value;var _t798=_e593.closest("text, textPath, tspan, a");_t798&&!i.includes(_t798)&&i.push(_t798);}}catch(err){_iterator478.e(err);}finally{_iterator478.f();}}}}}catch(err){_iterator476.e(err);}finally{_iterator476.f();}return i;};return t(this.Pn.outermostSelectedElements).filter(function(t){return"radialGradient"===qo(t,_this316.context);});}};var mc=6,gc=Symbol(),fc=Symbol();var wc={id:"pattern-hud",get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";},set context(t){this.setAttribute("context",t),this.enabled&&this._a();},createdCallback:function createdCallback(){var _this317=this;this.Xo=null,this.Ca=null,this.Ma=Xi(this.qs,50,this),this._a=Xi(this.qs,200,this),this.innerHTML='\n  <style>\n    #pattern-hud .outline {\n      fill: rgba(0, 0, 0, 0.07);\n      stroke: rgb(46, 102, 249);\n      stroke-width: 1.5;\n      vector-effect: non-scaling-stroke;\n    }\n\n    #pattern-hud .grippie {\n      fill: #E40DD6;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <path class="outline"></path>\n      <circle class="grippie rotate-grippie"></circle>\n      <rect class="grippie scale-grippie"></rect>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator479=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step479;try{for(_iterator479.s();!(_step479=_iterator479.n()).done;){var _t799=_step479.value;this["#"+_t799.getAttribute("uid")]=_t799;}}catch(err){_iterator479.e(err);}finally{_iterator479.f();}this.addEventListener("pointerdown",function(t){return _this317.wo(t);});},enabledCallback:function enabledCallback(){var _this318=this;this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this318.Jo();}),this.Pn.addEventListener("selectedtextrangechange",this.Wh=function(){_this318.qh();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this318.sl(t.detail);}),this.Pn.addEventListener("zoomchange",this.an=function(){_this318.il();}),this.Jo();},disabledCallback:function disabledCallback(){this.Pn.removeEventListener("selectedelementschange",this.Qo),this.Pn.removeEventListener("selectedtextrangechange",this.Wh),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("zoomchange",this.an);},Jo:function Jo(){this._a();},qh:function qh(){this._a();},il:function il(){this.Ma();},sl:function sl(t){this.Xo?this.Qh(this.Xo.parentElement):this.Ca?this.Qh(this.Ca.parentElement):this._a();},wo:function wo(t){if(0!==t.button)return;var _e594;t.target.classList.contains("outline")?this.Pa(t):t.target.classList.contains("scale-grippie")?this.Da(t):t.target.classList.contains("rotate-grippie")&&this.za(t),window.addEventListener("pointerup",_e594=function e(){window.removeEventListener("pointerup",_e594);});},Pa:function Pa(t){var _this319=this;this.Pn.undoManager.checkpoint("Transform pattern");var e=t.target,i=e.parentElement,s=i[fc],n=i[gc];if(Ho(n).length>1&&"tspan"!==s.localName){var _t800=zi("svg:pattern");_t800.setAttribute("id",this.Pn.generateUniqueID(n.id)),_t800.setAttribute("href","#"+n.id),this.Pn.maybeCreateDefsForMasterWorkspace(),this.Pn.defs.append(_t800),s.style.setProperty(this.context,"url(#".concat(_t800.id,")")),n=_t800,i[gc]=_t800;}var o,_l182,h,a,r,d=jt(s),c=d.inverse(),p=Ci(s),u=jo(n);if(this.Ca=e,u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE)h=new DOMPoint(u.x.value,u.y.value),a=new DOMPoint(u.x.value+u.width.value,u.y.value),r=new DOMPoint(u.x.value+u.width.value,u.y.value+u.height.value);else if(u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t801=u.x.valueInSpecifiedUnits,_e595=u.y.valueInSpecifiedUnits,_i580=u.width.valueInSpecifiedUnits,_s343=u.height.valueInSpecifiedUnits;u.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t801/=100),u.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e595/=100),u.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i580/=100),u.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_s343/=100);var _n249=new DOMPoint(_t801,_e595),_o198=new DOMPoint(_t801+_i580,_e595),_l181=new DOMPoint(_t801+_i580,_e595+_s343);h=new DOMPoint(p.x+_n249.x*p.width,p.y+_n249.y*p.height),a=new DOMPoint(p.x+_o198.x*p.width,p.y+_o198.y*p.height),r=new DOMPoint(p.x+_l181.x*p.width,p.y+_l181.y*p.height);}var x=h.matrixTransform(u.patternTransform),b=a.matrixTransform(u.patternTransform),m=r.matrixTransform(u.patternTransform),g=x.matrixTransform(d),f=b.matrixTransform(d),w=m.matrixTransform(d);window.addEventListener("pointermove",o=function o(e){var i=new X(e.clientX-t.clientX,e.clientY-t.clientY),s=new DOMPoint(g.x+i.x,g.y+i.y),o=new DOMPoint(f.x+i.x,f.y+i.y),l=new DOMPoint(w.x+i.x,w.y+i.y),d=s.matrixTransform(c),p=o.matrixTransform(c),x=l.matrixTransform(c),b=d.matrixTransform(u.patternTransform.inverse()),m=p.matrixTransform(u.patternTransform.inverse()),v=x.matrixTransform(u.patternTransform.inverse()),y=Ht(h,a,r,b,m,v),k=u.patternTransform.multiply(y);k=Rt(k,_this319.Pn.transformPrecision),n.setAttribute("patternTransform",k.toString());}),window.addEventListener("pointerup",_l182=function l(t){window.removeEventListener("pointermove",o),window.removeEventListener("pointerup",_l182),_this319.Ca=null;});},za:function za(t){var _this320=this;this.Pn.undoManager.checkpoint("Transform pattern");var e=t.target,i=e.parentElement,s=i[gc],n=i[fc];if(Ho(s).length>1&&"tspan"!==n.localName){var _t802=zi("svg:pattern");_t802.setAttribute("id",this.Pn.generateUniqueID(s.id)),_t802.setAttribute("href","#"+s.id),this.Pn.maybeCreateDefsForMasterWorkspace(),this.Pn.defs.append(_t802),n.style.setProperty(this.context,"url(#".concat(_t802.id,")")),s=_t802,i[gc]=_t802;}var o,_l184,h,a,r,d=jt(n),c=d.inverse(),p=Ci(n),u=jo(s);if(this.Xo=e,u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE)h=new DOMPoint(u.x.value+u.width.value/2,u.y.value+u.height.value/2),a=new DOMPoint(u.x.value+u.width.value,u.y.value),r=new DOMPoint(u.x.value+u.width.value,u.y.value+u.height.value);else if(u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t803=u.x.valueInSpecifiedUnits,_e596=u.y.valueInSpecifiedUnits,_i581=u.width.valueInSpecifiedUnits,_s344=u.height.valueInSpecifiedUnits;u.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t803/=100),u.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e596/=100),u.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i581/=100),u.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_s344/=100);var _n250=new DOMPoint(_t803+_i581/2,_e596+_s344/2),_o199=new DOMPoint(_t803+_i581,_e596),_l183=new DOMPoint(_t803+_i581,_e596+_s344);h=new DOMPoint(p.x+_n250.x*p.width,p.y+_n250.y*p.height),a=new DOMPoint(p.x+_o199.x*p.width,p.y+_o199.y*p.height),r=new DOMPoint(p.x+_l183.x*p.width,p.y+_l183.y*p.height);}var x=h.matrixTransform(u.patternTransform),b=a.matrixTransform(u.patternTransform),m=r.matrixTransform(u.patternTransform),g=x.matrixTransform(d),f=b.matrixTransform(d),w=m.matrixTransform(d);window.addEventListener("pointermove",o=function o(e){var i=new DOMPoint(e.clientX+(f.x-t.clientX),e.clientY+(f.y-t.clientY)),n=Ie(g,f,i);_this320.Qs.modKeys.shift&&(n=Be(n,45));var o=new DOMMatrix();o.translateSelf(g.x,g.y),o.rotateSelf(n),o.translateSelf(-g.x,-g.y);var l=f.matrixTransform(o),d=w.matrixTransform(o),p=l.matrixTransform(c),x=d.matrixTransform(c),b=p.matrixTransform(u.patternTransform.inverse()),m=x.matrixTransform(u.patternTransform.inverse()),v=Ht(h,a,r,h,b,m),y=u.patternTransform.multiply(v);y=Rt(y,_this320.Pn.transformPrecision),s.setAttribute("patternTransform",y.toString());}),window.addEventListener("pointerup",_l184=function l(t){window.removeEventListener("pointermove",o),window.removeEventListener("pointerup",_l184),_this320.Xo=null;});},Da:function Da(t){var _this321=this;this.Pn.undoManager.checkpoint("Transform pattern");var e=t.target,i=e.parentElement,s=i[gc],n=i[fc];if(Ho(s).length>1&&"tspan"!==n.localName){var _t804=zi("svg:pattern");_t804.setAttribute("id",this.Pn.generateUniqueID(s.id)),_t804.setAttribute("href","#"+s.id),this.Pn.maybeCreateDefsForMasterWorkspace(),this.Pn.defs.append(_t804),n.style.setProperty(this.context,"url(#".concat(_t804.id,")")),s=_t804,i[gc]=_t804;}var o,_l186,h,a,r,d=jt(n),c=d.inverse(),p=Ci(n),u=jo(s);if(this.Xo=e,u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE)h=new DOMPoint(u.x.value,u.y.value),a=new DOMPoint(u.x.value+u.width.value,u.y.value),r=new DOMPoint(u.x.value+u.width.value,u.y.value+u.height.value);else if(u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t805=u.x.valueInSpecifiedUnits,_e597=u.y.valueInSpecifiedUnits,_i582=u.width.valueInSpecifiedUnits,_s345=u.height.valueInSpecifiedUnits;u.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t805/=100),u.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e597/=100),u.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i582/=100),u.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_s345/=100);var _n251=new DOMPoint(_t805,_e597),_o200=new DOMPoint(_t805+_i582,_e597),_l185=new DOMPoint(_t805+_i582,_e597+_s345);h=new DOMPoint(p.x+_n251.x*p.width,p.y+_n251.y*p.height),a=new DOMPoint(p.x+_o200.x*p.width,p.y+_o200.y*p.height),r=new DOMPoint(p.x+_l185.x*p.width,p.y+_l185.y*p.height);}var x=r.matrixTransform(u.patternTransform).matrixTransform(d);window.addEventListener("pointermove",o=function o(e){var i=new DOMPoint(x.x+e.clientX-t.clientX,x.y+e.clientY-t.clientY).matrixTransform(c).matrixTransform(u.patternTransform.inverse()),n=new DOMPoint(i.x,a.y),o=Ht(h,a,r,h,n,i),l=u.patternTransform.multiply(o);l=Rt(l,_this321.Pn.transformPrecision),s.setAttribute("patternTransform",l.toString());}),window.addEventListener("pointerup",_l186=function l(t){window.removeEventListener("pointermove",o),window.removeEventListener("pointerup",_l186),_this321.Xo=null;});},qs:function qs(){var t=this.Oa();if(this["#subhuds"].innerHTML="",t.length>0){var _e598=Symbol();var _iterator480=_createForOfIteratorHelper(t),_step480;try{for(_iterator480.s();!(_step480=_iterator480.n()).done;){var _i583=_step480.value;var _t806=Xo(_i583,this.context);if(!_t806[_e598]){_t806[_e598]=!0;var _s346=this["#subhud-template"].cloneNode(!0);_s346.removeAttribute("id"),_s346[gc]=_t806,_s346[fc]=_i583,this["#subhuds"].append(_s346);}}}catch(err){_iterator480.e(err);}finally{_iterator480.f();}this.Qh();}},Qh:function Qh(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var _iterator481=_createForOfIteratorHelper(this["#subhuds"].children),_step481;try{for(_iterator481.s();!(_step481=_iterator481.n()).done;){var _e599=_step481.value;if(t&&_e599!==t)continue;var _i584=void 0,_s347=void 0,_n252=void 0,_o201=void 0,_l187=_e599[fc],_h140=_e599[gc],_a119=_e599.querySelector(".rotate-grippie"),_r72=_e599.querySelector(".scale-grippie"),_d56=_e599.querySelector(".outline"),_c46=Vt(_l187,this),_p40=Ci(_l187),_u34=jo(_h140);if(_u34.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE)_i584=new DOMPoint(_u34.x.value,_u34.y.value),_s347=new DOMPoint(_u34.x.value+_u34.width.value,_u34.y.value),_n252=new DOMPoint(_u34.x.value+_u34.width.value,_u34.y.value+_u34.height.value),_o201=new DOMPoint(_u34.x.value,_u34.y.value+_u34.height.value);else if(_u34.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t807=_u34.x.valueInSpecifiedUnits,_e600=_u34.y.valueInSpecifiedUnits,_l188=_u34.width.valueInSpecifiedUnits,_h141=_u34.height.valueInSpecifiedUnits;_u34.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t807/=100),_u34.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e600/=100),_u34.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_l188/=100),_u34.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_h141/=100);var _a120=new DOMPoint(_t807,_e600),_r73=new DOMPoint(_t807+_l188,_e600),_d57=new DOMPoint(_t807+_l188,_e600+_h141),_c47=new DOMPoint(_t807,_e600+_h141);_i584=new DOMPoint(_p40.x+_a120.x*_p40.width,_p40.y+_a120.y*_p40.height),_s347=new DOMPoint(_p40.x+_r73.x*_p40.width,_p40.y+_r73.y*_p40.height),_n252=new DOMPoint(_p40.x+_d57.x*_p40.width,_p40.y+_d57.y*_p40.height),_o201=new DOMPoint(_p40.x+_c47.x*_p40.width,_p40.y+_c47.y*_p40.height);}var _x102=_i584.matrixTransform(_u34.patternTransform),_b32=_s347.matrixTransform(_u34.patternTransform),_m31=_n252.matrixTransform(_u34.patternTransform),_g28=_o201.matrixTransform(_u34.patternTransform),_f19=_x102.matrixTransform(_c46),_w17=_b32.matrixTransform(_c46),_v13=_m31.matrixTransform(_c46),_y5=_g28.matrixTransform(_c46);_d56.setAttribute("d","\n        M ".concat(_f19.x," ").concat(_f19.y,"\n        L ").concat(_w17.x," ").concat(_w17.y,"\n        L ").concat(_v13.x," ").concat(_v13.y,"\n        L ").concat(_y5.x," ").concat(_y5.y,"\n        Z\n      "));var _k4=mc/this.Pn.scale;_a119.cx.baseVal.value=_w17.x,_a119.cy.baseVal.value=_w17.y,_a119.r.baseVal.value=_k4,_r72.width.baseVal.value=2*_k4,_r72.height.baseVal.value=2*_k4,_r72.x.baseVal.value=_v13.x-_r72.width.baseVal.value/2,_r72.y.baseVal.value=_v13.y-_r72.height.baseVal.value/2,_r72.hudPoint=_v13;}}catch(err){_iterator481.e(err);}finally{_iterator481.f();}},Oa:function Oa(){var _this322=this;var t=function t(e){var i=[],s=_this322.Pn.selectedTextRange;var _iterator482=_createForOfIteratorHelper(e),_step482;try{for(_iterator482.s();!(_step482=_iterator482.n()).done;){var _n253=_step482.value;var _e601=_n253.localName;if(["circle","ellipse","line","path","polygon","polyline","rect","use"].includes(_e601))i.push(_n253);else if(["a","g"].includes(_e601))i.push.apply(i,_toConsumableArray(t(_n253.children)));else if("text"===_e601){var _t808=bi(_n253);if(s&&s.intersectsNode(_n253)){"backward"===s.direction&&_t808.reverse();var _iterator483=_createForOfIteratorHelper(_t808),_step483;try{for(_iterator483.s();!(_step483=_iterator483.n()).done;){var _e602=_step483.value;if(s.intersectsNode(_e602)){var _t809=_e602.closest("text, textPath, tspan, a");_t809&&!i.includes(_t809)&&i.push(_t809);}}}catch(err){_iterator483.e(err);}finally{_iterator483.f();}}else{var _iterator484=_createForOfIteratorHelper(_t808),_step484;try{for(_iterator484.s();!(_step484=_iterator484.n()).done;){var _e603=_step484.value;var _t810=_e603.closest("text, textPath, tspan, a");_t810&&!i.includes(_t810)&&i.push(_t810);}}catch(err){_iterator484.e(err);}finally{_iterator484.f();}}}}}catch(err){_iterator482.e(err);}finally{_iterator482.f();}return i;};return t(this.Pn.outermostSelectedElements).filter(function(t){return"pattern"===qo(t,_this322.context);});}};var vc={id:"cubic-bezier-seg-hud",get startPoint(){return this.Ea;},get endPoint(){return this.Ta;},get controlPoint1(){return this.Aa;},get controlPoint2(){return this.$a;},get curved(){return!1===Ce(this.startPoint,this.controlPoint1)||!1===Ce(this.endPoint,this.controlPoint2);},createdCallback:function createdCallback(){this.Ia=null,this.La="end",this.Ba="none",this.Ra=!1,this.Ga=null,this.Fa=null,this.innerHTML='\n  <style>\n    #cubic-bezier-seg-hud [uid="control-line-1"],\n    #cubic-bezier-seg-hud [uid="control-line-2"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      opacity: 0.4;\n    }\n\n    #cubic-bezier-seg-hud [uid="control-point-1-grippie"],\n    #cubic-bezier-seg-hud [uid="control-point-2-grippie"] {\n      fill: red;\n      stroke: none;\n      pointer-events: none;\n      opacity: 1;\n    }\n\n    #cubic-bezier-seg-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <path uid="outline" d="M 0 0 C 0 0 0 0 0 0"></path>\n\n  <line uid="control-line-1"></line>\n  <line uid="control-line-2"></line>\n\n  <circle uid="control-point-1-grippie"></circle>\n  <circle uid="control-point-2-grippie"></circle>\n';var _iterator485=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step485;try{for(_iterator485.s();!(_step485=_iterator485.n()).done;){var _t811=_step485.value;this["#"+_t811.getAttribute("uid")]=_t811;}}catch(err){_iterator485.e(err);}finally{_iterator485.f();}},show:function show(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"end";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board"),this.La=e,this.Ia=t,this.Ua=i,this.Ba="none",this.removeAttribute("drawing"),!1===this.Ra&&this.Na(),this.Va(),this.ja(),this.Ha(),this.Ya();},hide:function hide(){this.Ia=null,this.Ga=null,this.Fa=null,this.removeAttribute("drawing"),!0===this.Ra&&this.Wa();},Na:function Na(){var _this323=this;this.Ra=!0,this.qa=!1,this.Qs.addEventListener("modkeyschange",this.Xa=function(){!1===_this323.qa&&(_this323.ja(),_this323.Ha(),_this323.Ya());}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this323.sl(t);}),this.Pn.addEventListener("pointerdown",this.On=function(t){_this323.Ga=t.clientX,_this323.Fa=t.clientY,_this323.Ha(),_this323.Ya();var e=jt(_this323.Ia).inverse();if(_this323.Ua){var _t812=_this323.Ua.closest("text"),_i585=Nt(_this323.Ia);e=jt(_t812).inverse().multiply(_i585);}_this323.qa=!0,_this323.Za=new DOMPoint(t.clientX,t.clientY),_this323.Za=_this323.Za.matrixTransform(e),_this323.Ka=DOMPoint.fromPoint(_this323.Aa),_this323.Qa=DOMPoint.fromPoint(_this323.$a);}),this.Pn.addEventListener("contextmenu",this.Dn=function(t){t.preventDefault();}),window.addEventListener("pointermove",this.Un=function(t){_this323.Ga=t.clientX,_this323.Fa=t.clientY,_this323.setAttribute("drawing",""),_this323.Ha(),_this323.Ya();}),window.addEventListener("pointerup",this.Nn=function(t){_this323.ja(),_this323.qa=!1,_this323.removeAttribute("drawing");});},Wa:function Wa(){this.Ra=!1,this.Qs.removeEventListener("modkeyschange",this.Xa),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("pointerdown",this.On),this.Pn.removeEventListener("contextmenu",this.Dn),window.removeEventListener("pointermove",this.Un),window.removeEventListener("pointerup",this.Nn);},sl:function sl(t){var _iterator486=_createForOfIteratorHelper(t.detail),_step486;try{for(_iterator486.s();!(_step486=_iterator486.n()).done;){var _e604=_step486.value;(_e604.target===this.Ia||_e604.target.contains(this.Ia))&&this.Ia.hasAttribute("d")&&(this.Va(),this.ja(),this.Ha(),this.Ya());}}catch(err){_iterator486.e(err);}finally{_iterator486.f();}},Va:function Va(){if("end"===this.La){var _t813=this.Ia.getPathData({normalize:!0}),_e605=_t813[_t813.length-1];this.Ja=_e605;for(var _e606=_t813.length-1;_e606>=0;_e606-=1){var _i586=_t813[_e606];if("Z"!==_i586.type){this.tr=_i586;break;}}"C"===_e605.type?this.er=new DOMPoint(_e605.values[2],_e605.values[3]):"M"===_e605.type||"L"===_e605.type?this.er=new DOMPoint(_e605.values[0],_e605.values[1]):this.er=null,"C"===_e605.type?this.ir=_e605.values[2]!==_e605.values[4]||_e605.values[3]!==_e605.values[5]:this.ir=!1;}else if("start"===this.La){var _t814=this.Ia.getPathData({normalize:!0}),_e607=_t814[0],_i587=_t814[1];this.sr=_e607,"C"===_i587.type?this.nr=new DOMPoint(_i587.values[0],_i587.values[1]):"M"===_i587.type||"L"===_i587.type?this.nr=new DOMPoint(_e607.values[0],_e607.values[1]):this.nr=null,"C"===_i587.type?this.lr=_i587.values[0]!==_e607.values[0]&&_i587.values[1]!==_e607.values[1]:this.lr=!1;}},Ha:function Ha(){if(!1===this.qa){var _t815=jt(this.Ia).inverse();if(this.Ua){var _e608=this.Ua.closest("text"),_i588=Nt(this.Ia);_t815=jt(_e608).inverse().multiply(_i588);}if("end"===this.La?("L"===this.tr.type||"M"===this.tr.type?this.Ea=new DOMPoint(this.tr.values[0],this.tr.values[1]):"C"===this.tr.type&&(this.Ea=new DOMPoint(this.tr.values[4],this.tr.values[5])),null===this.Ga?this.Ta=DOMPoint.fromPoint(this.Ea):this.Ta=new DOMPoint(this.Ga,this.Fa).matrixTransform(_t815)):"start"===this.La&&(null===this.Ga?this.Ea=new DOMPoint(this.sr.values[0],this.sr.values[1]):this.Ea=new DOMPoint(this.Ga,this.Fa).matrixTransform(_t815),this.Ta=new DOMPoint(this.sr.values[0],this.sr.values[1])),"none"===this.Ba){var _t816;new X(this.Ea,this.Ta);"end"===this.La?_t816=new X(this.Ea,this.er):"start"===this.La&&(_t816=new X(this.Ta,this.nr)),_t816=_t816.negate(),"end"===this.La?(this.Aa=new DOMPoint(this.Ea.x+_t816.x,this.Ea.y+_t816.y),this.$a=DOMPoint.fromPoint(this.Ta)):"start"===this.La&&(this.$a=new DOMPoint(this.Ta.x+_t816.x,this.Ta.y+_t816.y),this.Aa=DOMPoint.fromPoint(this.Ea));}else if("polygon"===this.Ba)this.Aa=DOMPoint.fromPoint(this.Ea),this.$a=DOMPoint.fromPoint(this.Ta);else if("paraxialPolygon"===this.Ba){if("end"===this.La){var _Ae15=Ae(this.Ea,this.Ta,45),_Ae16=_slicedToArray(_Ae15,1),_t817=_Ae16[0];this.Ta=_t817;}else if("start"===this.La){var _Ae17=Ae(this.Ta,this.Ea,45),_Ae18=_slicedToArray(_Ae17,1),_t818=_Ae18[0];this.Ea=_t818;}this.Aa=DOMPoint.fromPoint(this.Ea),this.$a=DOMPoint.fromPoint(this.Ta);}}else if(!0===this.qa){var _t819=jt(this.Ia).inverse();if(this.Ua){var _e610=this.Ua.closest("text"),_i590=Nt(this.Ia);_t819=jt(_e610).inverse().multiply(_i590);}var _e609=new DOMPoint(this.Ga,this.Fa);_e609=_e609.matrixTransform(_t819);var _i589=new X(this.Za,_e609).negate();"end"===this.La?this.$a=new DOMPoint(this.Qa.x+_i589.x,this.Qa.y+_i589.y):"start"===this.La&&(this.Aa=new DOMPoint(this.Ka.x+_i589.x,this.Ka.y+_i589.y));}},ja:function ja(){var _this$Qs$modKeys7=this.Qs.modKeys,t=_this$Qs$modKeys7.ctrl,e=_this$Qs$modKeys7.alt,i=_this$Qs$modKeys7.shift;this.Ba=t&&i?"polygon":!t&&i?"paraxialPolygon":"none","end"===this.La?this.ir||"none"!==this.Ba||(this.Ba="polygon"):"start"===this.La&&(this.lr||"none"!==this.Ba||(this.Ba="polygon"));},Ya:function Ya(){var t=Vt(this.Ia,this);if(this.Ua){var _e611=this.Ua.closest("text"),_i591=Vt(_e611,this),_s348=Nt(this.Ia);t=_i591.multiply(_s348);}var e=this.Ea.matrixTransform(t),i=this.Ta.matrixTransform(t),s=this.Aa.matrixTransform(t),n=this.$a.matrixTransform(t),o=3/this.Pn.scale,l=[{type:"M",values:[e.x,e.y]},{type:"C",values:[s.x,s.y,n.x,n.y,i.x,i.y]}];this["#outline"].setPathData(l),this["#control-point-1-grippie"].cx.baseVal.value=s.x,this["#control-point-1-grippie"].cy.baseVal.value=s.y,this["#control-point-1-grippie"].r.baseVal.value=o,this["#control-point-2-grippie"].cx.baseVal.value=n.x,this["#control-point-2-grippie"].cy.baseVal.value=n.y,this["#control-point-2-grippie"].r.baseVal.value=o,this["#control-line-1"].x1.baseVal.value=e.x,this["#control-line-1"].y1.baseVal.value=e.y,this["#control-line-1"].x2.baseVal.value=s.x,this["#control-line-1"].y2.baseVal.value=s.y,this["#control-line-2"].x1.baseVal.value=i.x,this["#control-line-2"].y1.baseVal.value=i.y,this["#control-line-2"].x2.baseVal.value=n.x,this["#control-line-2"].y2.baseVal.value=n.y;}};var yc={id:"quad-bezier-seg-hud",get startPoint(){return this.Ea;},get endPoint(){return this.Ta;},get controlPoint(){return this.hr;},get curved(){var t=ze(this.Ea,this.Ta);return this.hr.x!==t.x||this.hr.y!==t.y;},createdCallback:function createdCallback(){this.Ia=null,this.La="end",this.Ba="none",this.Ra=!1,this.Ga=null,this.Fa=null,this.innerHTML='\n  <style>\n    #quad-bezier-seg-hud [uid="control-line-1"],\n    #quad-bezier-seg-hud [uid="control-line-2"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      opacity: 0.4;\n    }\n\n    #quad-bezier-seg-hud [uid="control-point-grippie"] {\n      fill: red;\n      stroke: none;\n      pointer-events: none;\n      opacity: 1;\n    }\n\n    #quad-bezier-seg-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <path uid="outline" d="M 0 0 C 0 0 0 0 0 0"></path>\n\n  <line uid="control-line-1"></line>\n  <line uid="control-line-2"></line>\n\n  <circle uid="control-point-grippie"></circle>\n';var _iterator487=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step487;try{for(_iterator487.s();!(_step487=_iterator487.n()).done;){var _t820=_step487.value;this["#"+_t820.getAttribute("uid")]=_t820;}}catch(err){_iterator487.e(err);}finally{_iterator487.f();}},show:function show(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"end";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board"),this.La=e,this.Ia=t,this.Ua=i,this.Ba="none",this.removeAttribute("drawing"),!1===this.Ra&&this.Na(),this.Va(),this.ja(),this.Ha(),this.Ya();},hide:function hide(){this.Ia=null,this.Ga=null,this.Fa=null,this.removeAttribute("drawing"),!0===this.Ra&&this.Wa();},Na:function Na(){var _this324=this;this.Ra=!0,this.qa=!1,this.Qs.addEventListener("modkeyschange",this.Xa=function(){!1===_this324.qa&&(_this324.ja(),_this324.Ha(),_this324.Ya());}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this324.sl(t);}),this.Pn.addEventListener("pointerdown",this.On=function(t){_this324.Ga=t.clientX,_this324.Fa=t.clientY,_this324.Ha(),_this324.Ya();var e=jt(_this324.Ia).inverse();if(_this324.Ua){var _t821=_this324.Ua.closest("text"),_i592=Nt(_this324.Ia);e=jt(_t821).inverse().multiply(_i592);}_this324.qa=!0,_this324.Za=new DOMPoint(t.clientX,t.clientY),_this324.Za=_this324.Za.matrixTransform(e),_this324.ar=DOMPoint.fromPoint(_this324.hr);}),this.Pn.addEventListener("contextmenu",this.Dn=function(t){t.preventDefault();}),window.addEventListener("pointermove",this.Un=function(t){_this324.Ga=t.clientX,_this324.Fa=t.clientY,_this324.setAttribute("drawing",""),_this324.Ha(),_this324.Ya();}),window.addEventListener("pointerup",this.Nn=function(t){_this324.ja(),_this324.qa=!1,_this324.removeAttribute("drawing");});},Wa:function Wa(){this.Ra=!1,this.Qs.removeEventListener("modkeyschange",this.Xa),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("pointerdown",this.On),this.Pn.removeEventListener("contextmenu",this.Dn),window.removeEventListener("pointermove",this.Un),window.removeEventListener("pointerup",this.Nn);},sl:function sl(t){var _iterator488=_createForOfIteratorHelper(t.detail),_step488;try{for(_iterator488.s();!(_step488=_iterator488.n()).done;){var _e612=_step488.value;(_e612.target===this.Ia||_e612.target.contains(this.Ia))&&this.Ia.hasAttribute("d")&&(this.Va(),this.ja(),this.Ha(),this.Ya());}}catch(err){_iterator488.e(err);}finally{_iterator488.f();}},Va:function Va(){if("end"===this.La){var _t822=this.Ia.getPathData({normalize:!0}),_e613=_t822[_t822.length-1];this.Ja=_e613;for(var _e614=_t822.length-1;_e614>=0;_e614-=1){var _i593=_t822[_e614];if("Z"!==_i593.type){this.tr=_i593;break;}}"C"===_e613.type?this.er=new DOMPoint(_e613.values[2],_e613.values[3]):"M"===_e613.type||"L"===_e613.type?this.er=new DOMPoint(_e613.values[0],_e613.values[1]):this.er=null,"C"===_e613.type?this.ir=_e613.values[2]!==_e613.values[4]||_e613.values[3]!==_e613.values[5]:this.ir=!1;}else if("start"===this.La){var _t823=this.Ia.getPathData({normalize:!0}),_e615=_t823[0],_i594=_t823[1];this.sr=_e615,"C"===_i594.type?this.nr=new DOMPoint(_i594.values[0],_i594.values[1]):"M"===_i594.type||"L"===_i594.type?this.nr=new DOMPoint(_e615.values[0],_e615.values[1]):this.nr=null,"C"===_i594.type?this.lr=_i594.values[0]!==_e615.values[0]&&_i594.values[1]!==_e615.values[1]:this.lr=!1;}},Ha:function Ha(){if(!1===this.qa){var _t824=jt(this.Ia).inverse();if(this.Ua){var _e616=this.Ua.closest("text"),_i595=Nt(this.Ia);_t824=jt(_e616).inverse().multiply(_i595);}if("end"===this.La?("L"===this.tr.type||"M"===this.tr.type?this.Ea=new DOMPoint(this.tr.values[0],this.tr.values[1]):"C"===this.tr.type&&(this.Ea=new DOMPoint(this.tr.values[4],this.tr.values[5])),null===this.Ga?this.Ta=DOMPoint.fromPoint(this.Ea):this.Ta=new DOMPoint(this.Ga,this.Fa).matrixTransform(_t824)):"start"===this.La&&(null===this.Ga?this.Ea=new DOMPoint(this.sr.values[0],this.sr.values[1]):this.Ea=new DOMPoint(this.Ga,this.Fa).matrixTransform(_t824),this.Ta=new DOMPoint(this.sr.values[0],this.sr.values[1])),"none"===this.Ba){var _t825,_e617=new X(this.Ea,this.Ta);"end"===this.La?_t825=new X(this.Ea,this.er):"start"===this.La&&(_t825=new X(this.Ta,this.nr)),_t825=_t825.negate().scale(_e617.length/2),"end"===this.La?this.hr=new DOMPoint(this.Ea.x+_t825.x,this.Ea.y+_t825.y):"start"===this.La&&(this.hr=new DOMPoint(this.Ta.x+_t825.x,this.Ta.y+_t825.y));}else if("polygon"===this.Ba)this.hr=ze(this.Ea,this.Ta);else if("paraxialPolygon"===this.Ba){if("end"===this.La){var _Ae19=Ae(this.Ea,this.Ta,45),_Ae20=_slicedToArray(_Ae19,1),_t826=_Ae20[0];this.Ta=_t826;}else if("start"===this.La){var _Ae21=Ae(this.Ta,this.Ea,45),_Ae22=_slicedToArray(_Ae21,1),_t827=_Ae22[0];this.Ea=_t827;}this.hr=ze(this.Ea,this.Ta);}}else if(!0===this.qa){var _t828=jt(this.Ia).inverse();if(this.Ua){var _e619=this.Ua.closest("text"),_i597=Nt(this.Ia);_t828=jt(_e619).inverse().multiply(_i597);}var _e618=new DOMPoint(this.Ga,this.Fa);_e618=_e618.matrixTransform(_t828);var _i596=new X(this.Za,_e618).negate();if(this.hr=new DOMPoint(this.ar.x+_i596.x,this.ar.y+_i596.y),"none"===this.Ba)if("end"===this.La){var _Oe39=Oe(this.er,this.Ea,this.hr,!0),_Oe40=_slicedToArray(_Oe39,2),_t829=_Oe40[0],_e620=_Oe40[1];this.hr=_e620<1?DOMPoint.fromPoint(this.Ea):_t829;}else if("start"===this.La){var _Oe41=Oe(this.nr,this.Ta,this.hr,!0),_Oe42=_slicedToArray(_Oe41,2),_t830=_Oe42[0],_e621=_Oe42[1];this.hr=_e621<1?DOMPoint.fromPoint(this.Ta):_t830;}}},ja:function ja(){var _this$Qs$modKeys8=this.Qs.modKeys,t=_this$Qs$modKeys8.ctrl,e=_this$Qs$modKeys8.alt,i=_this$Qs$modKeys8.shift;this.Ba=t&&i?"polygon":!t&&i?"paraxialPolygon":"none","end"===this.La?this.ir||"none"!==this.Ba||(this.Ba="polygon"):"start"===this.La&&(this.lr||"none"!==this.Ba||(this.Ba="polygon"));},Ya:function Ya(){var t=Vt(this.Ia,this);if(this.Ua){var _e622=this.Ua.closest("text"),_i598=Vt(_e622,this),_s349=Nt(this.Ia);t=_i598.multiply(_s349);}var e=this.Ea.matrixTransform(t),i=this.Ta.matrixTransform(t),s=this.hr.matrixTransform(t),n=3/this.Pn.scale,o=[{type:"M",values:[e.x,e.y]},{type:"Q",values:[s.x,s.y,i.x,i.y]}];this["#outline"].setPathData(o),this["#control-point-grippie"].cx.baseVal.value=s.x,this["#control-point-grippie"].cy.baseVal.value=s.y,this["#control-point-grippie"].r.baseVal.value=n,this["#control-line-1"].x1.baseVal.value=e.x,this["#control-line-1"].y1.baseVal.value=e.y,this["#control-line-1"].x2.baseVal.value=s.x,this["#control-line-1"].y2.baseVal.value=s.y,this["#control-line-2"].x1.baseVal.value=i.x,this["#control-line-2"].y1.baseVal.value=i.y,this["#control-line-2"].x2.baseVal.value=s.x,this["#control-line-2"].y2.baseVal.value=s.y;}};var kc=Math.abs,Sc=Math.pow,_c=Number.isFinite;var Cc={id:"arc-seg-hud",get values(){return this["#arc-outline"].getPathData()[1].values;},createdCallback:function createdCallback(){this.innerHTML='\n  <style>\n    #arc-seg-hud [uid="circle-outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n      opacity: 0.4;\n      pointer-events: none;\n    }\n\n    #arc-seg-hud [uid="arc-outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <circle uid="circle-outline" r="0"></circle>\n  <path uid="arc-outline" d="M 0 0 A 0 0 0 0 0 0 0"></path>\n';var _iterator489=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step489;try{for(_iterator489.s();!(_step489=_iterator489.n()).done;){var _t831=_step489.value;this["#"+_t831.getAttribute("uid")]=_t831;}}catch(err){_iterator489.e(err);}finally{_iterator489.f();}},draw:function draw(t,e,i){var _this325=this;this.hasAttribute("drawing")&&this.drawEnd(),this.setAttribute("drawing",""),this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board"),this.Pn.snapManager.snapStart(!0);var s=jt(this.Pn.vectorCanvas).inverse(),n=Vt(t,this.Pn.vectorCanvas),o=n.inverse(),l=e.matrixTransform(s),h=i.matrixTransform(s),a=l.matrixTransform(o),r=h.matrixTransform(o);a=Me(a,6),r=Me(r,6),a.x===r.x&&a.y===r.y&&(r.x-=10);var d=function d(){var _this325$Qs$modKeys=_this325.Qs.modKeys,t=_this325$Qs$modKeys.ctrl,i=_this325$Qs$modKeys.shift,l=_this325.Qs.pointerClientPoint;if(i){var _i599;_i599=t?_this325.Pn.snapManager.snapPointToAngleMultiple(e,l,22.5):_this325.Pn.snapManager.snapPoint(l);var _h142=_i599.matrixTransform(s).matrixTransform(o);_this325["#circle-outline"].cx.baseVal.value=0,_this325["#circle-outline"].cy.baseVal.value=0,_this325["#circle-outline"].r.baseVal.value=0,_this325["#circle-outline"].setAttribute("transform",n.toString()),_this325["#arc-outline"].setPathData([{type:"M",values:[a.x,a.y]},{type:"A",values:[0,0,0,0,0,_h142.x,_h142.y]}]),_this325["#arc-outline"].setAttribute("transform",n.toString());}else{var _t832=_this325.Pn.snapManager.snapPoint(l).matrixTransform(s).matrixTransform(o);_t832=Me(_t832,6),a.x===_t832.x&&(_t832.x+=1e-9);var _e623=(a.x-r.x)*(Sc(a.x-_t832.x,2)+(Sc(_t832.y,2)-Sc(a.y,2)))/((a.y-r.y)*(a.x-_t832.x)+(a.x-r.x)*(_t832.y-a.y))*.5+a.y*(a.y-r.y)*(a.x-_t832.x)/((a.y-r.y)*(a.x-_t832.x)+(a.x-r.x)*(_t832.y-a.y)),_i600=.5*((Sc(a.y-_e623,2)-Sc(_t832.y-_e623,2))/(a.x-_t832.x)+_t832.x+a.x);if(!_c(_i600)||!_c(_e623))return;var _h143=new DOMPoint(_i600,_e623),_d58=new X(_h143,a).length;_this325["#circle-outline"].cx.baseVal.value=_h143.x,_this325["#circle-outline"].cy.baseVal.value=_h143.y,_this325["#circle-outline"].r.baseVal.value=_d58,_this325["#circle-outline"].setAttribute("transform",n.toString());{var _e624,_i601,_s350=new X(a,r).getOppositeVector(),_o202=new X(a,_t832),_l189=Le(pe(_s350,_o202));_this325.Qs.modKeys.ctrl?(_e624=_l189>0?0:1,_i601=kc(_l189)<90?1:0):(_e624=_l189<0?0:1,_i601=kc(_l189)>90?1:0),_this325["#arc-outline"].setPathData([{type:"M",values:[a.x,a.y]},{type:"A",values:[_d58,_d58,0,_i601,_e624,_t832.x,_t832.y]}]),_this325["#arc-outline"].setAttribute("transform",n.toString());}}};this.Pn.addEventListener("zoomchange",this.an=function(){d();}),this.Qs.addEventListener("modkeyschange",this.Xa=function(){d();}),window.addEventListener("pointermove",this.Un=function(t){d();}),d();},drawEnd:function drawEnd(){this.hasAttribute("drawing")&&(this.removeAttribute("drawing"),this["#circle-outline"].setAttribute("r","0"),this["#arc-outline"].setAttribute("d","M 0 0 A 0 0 0 0 0 0 0"),this.Pn.snapManager.snapEnd(),this.Pn.removeEventListener("zoomchange",this.an),this.Qs.removeEventListener("modkeyschange",this.Xa),window.removeEventListener("pointermove",this.Un));}};var Mc={id:"freehand-hud",get points(){return _toConsumableArray(this["#outline"].points).map(function(t){return DOMPoint.fromPoint(t);});},createdCallback:function createdCallback(){this.Ia=null,this.innerHTML='\n  <style>\n    #freehand-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <polyline uid="outline"></polyline>\n';var _iterator490=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step490;try{for(_iterator490.s();!(_step490=_iterator490.n()).done;){var _t833=_step490.value;this["#"+_t833.getAttribute("uid")]=_t833;}}catch(err){_iterator490.e(err);}finally{_iterator490.f();}},show:function show(t,e){var _this326=this;this.Ia&&this.hide(),this.Ia=t;var i=jt(this.Ia).inverse(),s=Vt(this.Ia,this);if(this["#outline"].setAttribute("points",""),this["#outline"].setAttribute("transform",s.toString()),this.setAttribute("drawing",""),e){var _t834=e.matrixTransform(i);this["#outline"].points.appendItem(Te(_t834));}window.addEventListener("pointermove",this.Un=function(t){var _iterator491=_createForOfIteratorHelper(t.getCoalescedEvents()),_step491;try{for(_iterator491.s();!(_step491=_iterator491.n()).done;){var _e625=_step491.value;var _t835=new DOMPoint(_e625.clientX,_e625.clientY).matrixTransform(i);_this326["#outline"].points.appendItem(Te(_t835));}}catch(err){_iterator491.e(err);}finally{_iterator491.f();}});},hide:function hide(){this.Ia=null,this.removeAttribute("drawing"),this["#outline"].setAttribute("points",""),window.removeEventListener("pointermove",this.Un);},clear:function clear(){this["#outline"].setAttribute("points","");}};var Pc={id:"line-seg-hud",get startPoint(){return this.Ea;},set startPoint(t){this.Ea=t,this.qs();},get endPoint(){return this.Ta;},set endPoint(t){this.Ta=t,this.qs();},createdCallback:function createdCallback(){this.Ea=new DOMPoint(),this.Ta=new DOMPoint(),this.innerHTML='\n  <style>\n    #line-seg-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <line uid="outline" class="outline" x1="0" y1="0" x2="0" y2="0"></line>\n';var _iterator492=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step492;try{for(_iterator492.s();!(_step492=_iterator492.n()).done;){var _t836=_step492.value;this["#"+_t836.getAttribute("uid")]=_t836;}}catch(err){_iterator492.e(err);}finally{_iterator492.f();}},qs:function qs(){this.Pn||(this.Pn=Ai(this,"bx-board"));var t=jt(this.Pn.vectorCanvas).inverse(),e=this.Ea.matrixTransform(t),i=this.Ta.matrixTransform(t);this["#outline"].setAttribute("x1",e.x),this["#outline"].setAttribute("y1",e.y),this["#outline"].setAttribute("x2",i.x),this["#outline"].setAttribute("y2",i.y);}};var Dc={id:"polyline-seg-hud",get startPoint(){return DOMPoint.fromPoint(this["#outline"].points[0]);},get endPoint(){return DOMPoint.fromPoint(this["#outline"].points[1]);},createdCallback:function createdCallback(){this.rr=null,this.Ra=!1,this.innerHTML='\n  <style>\n    #polyline-seg-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <polyline uid="outline" class="outline" points="0 0 0 0"></polyline>\n';var _iterator493=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step493;try{for(_iterator493.s();!(_step493=_iterator493.n()).done;){var _t837=_step493.value;this["#"+_t837.getAttribute("uid")]=_t837;}}catch(err){_iterator493.e(err);}finally{_iterator493.f();}},show:function show(t){this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board"),this.rr=t,this.setAttribute("drawing",""),!1===this.Ra&&this.Na(),this.qs();},hide:function hide(){this.rr=null,this.removeAttribute("drawing"),!0===this.Ra&&this.Wa();},Na:function Na(){var _this327=this;this.Ra=!0,window.addEventListener("pointermove",this.Un=function(){_this327.qs();}),window.addEventListener("pointerup",this.Nn=function(){_this327.qs();}),this.Qs.addEventListener("modkeyschange",this.Xa=function(){_this327.qs();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){var _iterator494=_createForOfIteratorHelper(t.detail),_step494;try{for(_iterator494.s();!(_step494=_iterator494.n()).done;){var _e626=_step494.value;(_e626.target===_this327.rr||_e626.target.contains(_this327.rr))&&_this327.qs();}}catch(err){_iterator494.e(err);}finally{_iterator494.f();}});},Wa:function Wa(){this.Ra=!1,window.removeEventListener("pointermove",this.Un),window.removeEventListener("pointerup",this.Nn),this.Qs.removeEventListener("modkeyschange",this.Xa),this.Pn.removeEventListener("workspacemutation",this.rn);},qs:function qs(){if(0===this.rr.points.length)this["#outline"].removeAttribute("points");else{var _t838=Vt(this.rr,this.Pn.vectorCanvas),_e627=jt(this.Pn.vectorCanvas).inverse(),_i602=DOMPoint.fromPoint(this.rr.points[this.rr.points.length-1]),_s351=this.Qs.pointerClientPoint;if(_i602=_i602.matrixTransform(_t838),_s351=_s351.matrixTransform(_e627),this.Qs.modKeys.shift){var _Ae23=Ae(_i602,_s351,22.5),_Ae24=_slicedToArray(_Ae23,1),_t839=_Ae24[0];_s351=_t839;}this["#outline"].setAttribute("points","".concat(_i602.x," ").concat(_i602.y," ").concat(_s351.x," ").concat(_s351.y));}}};var zc={id:"polygon-seg-hud",get startPoint(){return DOMPoint.fromPoint(this["#outline-1"].points[0]);},get endPoint(){return DOMPoint.fromPoint(this["#outline-2"].points[1]);},createdCallback:function createdCallback(){this.dr=null,this.Ra=!1,this.innerHTML='\n  <style>\n    #polygon-seg-hud [uid="outline-1"],\n    #polygon-seg-hud [uid="outline-2"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n    #polygon-seg-hud [uid="outline-1"] {\n      opacity: 0.1;\n    }\n  </style>\n\n  <polygon uid="outline-1" class="outline" points="0 0 0 0"></polygon>\n  <polygon uid="outline-2" class="outline" points="0 0 0 0"></polygon>\n';var _iterator495=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step495;try{for(_iterator495.s();!(_step495=_iterator495.n()).done;){var _t840=_step495.value;this["#"+_t840.getAttribute("uid")]=_t840;}}catch(err){_iterator495.e(err);}finally{_iterator495.f();}},show:function show(t){this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board"),this.dr=t,this.setAttribute("drawing",""),!1===this.Ra&&this.Na(),this.qs();},hide:function hide(){this.dr=null,this.removeAttribute("drawing"),!0===this.Ra&&this.Wa();},Na:function Na(){var _this328=this;this.Ra=!0,window.addEventListener("pointermove",this.Un=function(){_this328.qs();}),window.addEventListener("pointerup",this.Nn=function(){_this328.qs();}),this.Qs.addEventListener("modkeyschange",this.Xa=function(){_this328.qs();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){var _iterator496=_createForOfIteratorHelper(t.detail),_step496;try{for(_iterator496.s();!(_step496=_iterator496.n()).done;){var _e628=_step496.value;(_e628.target===_this328.dr||_e628.target.contains(_this328.dr))&&_this328.qs();}}catch(err){_iterator496.e(err);}finally{_iterator496.f();}});},Wa:function Wa(){this.Ra=!1,window.removeEventListener("pointermove",this.Un),window.removeEventListener("pointerup",this.Nn),this.Qs.removeEventListener("modkeyschange",this.Xa),this.Pn.removeEventListener("workspacemutation",this.rn);},qs:function qs(){if(0===this.dr.points.length)this["#outline-1"].removeAttribute("points"),this["#outline-2"].removeAttribute("points");else{var _t841=Vt(this.dr,this.Pn.vectorCanvas),_e629=jt(this.Pn.vectorCanvas).inverse(),_i603=DOMPoint.fromPoint(this.dr.points[0]),_s352=DOMPoint.fromPoint(this.dr.points[this.dr.points.length-1]),_n254=this.Qs.pointerClientPoint;if(_i603=_i603.matrixTransform(_t841),_s352=_s352.matrixTransform(_t841),_n254=_n254.matrixTransform(_e629),this.Qs.modKeys.shift){var _Ae25=Ae(_s352,_n254,22.5),_Ae26=_slicedToArray(_Ae25,1),_t842=_Ae26[0];_n254=_t842;}this["#outline-1"].setAttribute("points","".concat(_i603.x," ").concat(_i603.y," ").concat(_n254.x," ").concat(_n254.y)),this["#outline-2"].setAttribute("points","".concat(_s352.x," ").concat(_s352.y," ").concat(_n254.x," ").concat(_n254.y));}}};var Oc=Number.parseFloat;var Ec={id:"grid-hud",get selected(){return this.hasAttribute("selected");},set selected(t){t?this.setAttribute("selected",""):this.removeAttribute("selected"),this.dispatchEvent(new CustomEvent("selectedchange"));},createdCallback:function createdCallback(){var _this329=this;this.tabIndex=-1,this.cr=Xi(this.qs,500,this),this.pr=Xi(this.qs,1e3,this),this.ur=!1,this.br=!1,this.innerHTML='\n  <style>\n    /**\n     * Grid lines\n     */\n\n    #grid-hud .line {\n      fill: none;\n      stroke: green;\n      stroke-width: 1px;\n      stroke-opacity: 0.2;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n\n    /**\n     * Grippies\n     */\n\n    #grid-hud .grippie {\n      stroke: green;\n      stroke-width: 1px;\n      fill: white;\n      pointer-events: all;\n      vector-effect: non-scaling-stroke;\n    }\n    #grid-hud[selected] .grippie {\n      fill: green;\n    }\n\n    /**\n     * Cell rect\n     */\n\n    #grid-hud [uid="cell-rect"] {\n      display: none;\n      fill: green;\n      fill-opacity: 0.05;\n      stroke: green;\n      stroke-width: 1px;\n      stroke-opacity: 1;\n      vector-effect: non-scaling-stroke;\n    }\n    #grid-hud[selected] [uid="cell-rect"] {\n      display: initial;\n    }\n  </style>\n\n  <g uid="main">\n    <g uid="lines">\n      <g uid="horizontal-lines" class="lines"></g>\n      <g uid="vertical-lines" class="lines"></g>\n    </g>\n\n    <rect uid="cell-rect"></rect>\n\n    <g uid="grippies">\n      <circle uid="origin-grippie" class="grippie" r="10" cx="0" cy="0"></circle>\n      <rect uid="resize-grippie" class="grippie" width="10" height="10" x="0" y="0"></rect>\n    </g>\n  </g>\n';var _iterator497=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step497;try{for(_iterator497.s();!(_step497=_iterator497.n()).done;){var _t843=_step497.value;this["#"+_t843.getAttribute("uid")]=_t843;}}catch(err){_iterator497.e(err);}finally{_iterator497.f();}this.addEventListener("pointerdown",function(t){return _this329.wo(t);}),this.addEventListener("focus",function(){return _this329.qs();}),this.addEventListener("blur",function(){return _this329.qs();});},enabledCallback:function enabledCallback(){var _this330=this;this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board"),this.tabIndex=0,this.pr(),this.dispatchEvent(new CustomEvent("enabled")),this.Pn.addEventListener("workspacemutation",this.rn=function(t){if(_this330.ur||_this330.br)_this330.qs();else{var _iterator498=_createForOfIteratorHelper(t.detail),_step498;try{for(_iterator498.s();!(_step498=_iterator498.n()).done;){var _e630=_step498.value;"bx-grid"===_e630.target.localName&&_this330.cr();}}catch(err){_iterator498.e(err);}finally{_iterator498.f();}}}),this.Pn.addEventListener("artworkchange",this.mr=function(t){_this330.pr();}),this.Pn.addEventListener("zoomchange",this.an=function(){_this330.cr(),_this330.gr();}),this.Pn.workspaces.addEventListener("pointerdown",this.yn=function(t){_this330.kn(t);}),this.Pn.huds.addEventListener("pointerdown",this.Hn=function(t){_this330.Zh(t);});},disabledCallback:function disabledCallback(){this.dispatchEvent(new CustomEvent("disabled")),this.tabIndex=-1,this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("artworkchange",this.mr),this.Pn.removeEventListener("zoomchange",this.an),this.Pn.workspaces.removeEventListener("pointerdown",this.yn),this.Pn.huds.removeEventListener("pointerdown",this.Hn);},kn:function kn(){this.selected=!1;},Zh:function Zh(t){t.target!==this&&!1===this.contains(t.target)&&(this.selected=!1);},wo:function wo(t){var _this331=this;var _e631,_i604,s=t.target,n=new DOMPoint(t.clientX,t.clientY),o=n;s.setPointerCapture(t.pointerId),this.selected=!0,this.Pn.selectedElements=[],this.Pn.selectedTextRange=null,this.Pn.currentContainer=null,s.addEventListener("pointermove",_e631=function e(l){var h=new DOMPoint(l.clientX,l.clientY),a=l.timeStamp-t.timeStamp,r=De(n,h)>3||a>80,d=!1===Ce(o,h,0);o=h,!0===r&&!0===d&&(s.removeEventListener("pointermove",_e631),s.removeEventListener("pointerup",_i604),s===_this331["#origin-grippie"]||s===_this331["#cell-rect"]?_this331.wr(t):s===_this331["#resize-grippie"]&&_this331.vr(t));}),s.addEventListener("pointerup",_i604=function i(t){s.removeEventListener("pointermove",_e631),s.removeEventListener("pointerup",_i604);});},wr:function wr(t){var _this332=this;this.Pn.undoManager.checkpoint("Move grid");var e,_i605,s=this.Pn,n=s.maybeCreateGridForCurrentWorkspace(),o=jt(s.vectorCanvas).inverse(),l=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),h=Oc(n.getAttribute("x")),a=Oc(n.getAttribute("y"));this.setPointerCapture(t.pointerId),this.ur=!0,this.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=h+(e.x-l.x),r=a+(e.y-l.y);i=Z(i,s.geometryPrecision),r=Z(r,s.geometryPrecision),n.setAttribute("x",i),n.setAttribute("y",r);}),this.addEventListener("pointerup",_i605=function i(t){_this332.removeEventListener("pointermove",e),_this332.removeEventListener("pointerup",_i605),_this332.ur=!1;});},vr:function vr(t){var _this333=this;this.Pn.undoManager.checkpoint("Resize grid");var e,_i606,s=this.Pn,n=s.maybeCreateGridForCurrentWorkspace(),o=jt(s.vectorCanvas).inverse(),l=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),h=n?Oc(n.getAttribute("width")):100,a=n?Oc(n.getAttribute("height")):100,r=8/s.scale;this.setPointerCapture(t.pointerId),this.br=!0,this.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=h+(e.x-l.x),d=a+(e.y-l.y);i<r&&(i=r),d<r&&(d=r),t.shiftKey&&(d=i),i=Z(i,s.geometryPrecision),d=Z(d,s.geometryPrecision),n.setAttribute("width",i),n.setAttribute("height",d);}),this.addEventListener("pointerup",_i606=function i(t){_this333.removeEventListener("pointermove",e),_this333.removeEventListener("pointerup",_i606),_this333.br=!1;});},qs:function qs(){var t=this.Pn,e=t.currentWorkspace.querySelector(":scope > defs > bx-grid"),i=jt(t.vectorCanvas).inverse(),s=Ue(t.getBoundingClientRect(),i),n=e?Oc(e.getAttribute("x")):0,o=e?Oc(e.getAttribute("y")):0,l=e?Oc(e.getAttribute("width")):100,h=e?Oc(e.getAttribute("height")):100,a=s.x-s.width/2,r=s.x+s.width+s.width/2,d=s.y-s.height/2,c=s.y+s.height+s.height/2;{var _t844="";for(var _e632=n;_e632<=r;_e632+=l){_e632>=a&&(_t844+="<line class=\"line\" x1=\"".concat(_e632,"\" y1=\"-99999\" x2=\"").concat(_e632,"\" y2=\"99999\"></line>"));}for(var _e633=n-l;_e633>=a;_e633-=l){_e633<=r&&(_t844+="<line class=\"line\" x1=\"".concat(_e633,"\" y1=\"-99999\" x2=\"").concat(_e633,"\" y2=\"99999\"></line>"));}this["#vertical-lines"].innerHTML=_t844;}{var _t845="";for(var _e634=o;_e634<=c;_e634+=h){_e634>=d&&(_t845+="<line class=\"line\" y1=\"".concat(_e634,"\" x1=\"-99999\" y2=\"").concat(_e634,"\" x2=\"99999\"></line>"));}for(var _e635=o-h;_e635>=d;_e635-=h){_e635<=c&&(_t845+="<line class=\"line\" y1=\"".concat(_e635,"\" x1=\"-99999\" y2=\"").concat(_e635,"\" x2=\"99999\"></line>"));}this["#horizontal-lines"].innerHTML=_t845;}this["#cell-rect"].setAttribute("x",n),this["#cell-rect"].setAttribute("y",o),this["#cell-rect"].setAttribute("width",l),this["#cell-rect"].setAttribute("height",h),this.gr();},gr:function gr(){var t=this.Pn,e=t.currentWorkspace.querySelector(":scope > defs > bx-grid"),i=e?Oc(e.getAttribute("x")):0,s=e?Oc(e.getAttribute("y")):0,n=e?Oc(e.getAttribute("width")):100,o=e?Oc(e.getAttribute("height")):100;this["#origin-grippie"].setAttribute("cx",i),this["#origin-grippie"].setAttribute("cy",s),this["#origin-grippie"].setAttribute("r",4/t.scale),this["#resize-grippie"].setAttribute("width",8/t.scale),this["#resize-grippie"].setAttribute("height",8/t.scale),this["#resize-grippie"].setAttribute("x",i+n-5/t.scale),this["#resize-grippie"].setAttribute("y",s+o-5/t.scale);},requestImmidiateUpdate:function requestImmidiateUpdate(){this.qs();}};var Tc=Symbol(),Ac=4,$c=!1;var Ic={id:"manual-guides-hud",createdCallback:function createdCallback(){var _this334=this;this.yr=[],this.kr=!1,this.cr=Xi(this.qs,500,this),this.Sr=Xi(this._r,200,this),this.innerHTML='\n  <style>\n    #manual-guides-hud .repr {\n      color: red;\n      pointer-events: none;\n    }\n    #manual-guides-hud .repr[data-snapping="true"] {\n      color: blue;\n    }\n\n    #manual-guides-hud .repr .outer-line {\n      fill: none;\n      stroke: currentColor;\n      stroke-width: 10;\n      vector-effect: non-scaling-stroke;\n      opacity: 0;\n    }\n    #manual-guides-hud .repr[data-selected] .outer-line {\n      opacity: 0.1;\n      pointer-events: all;\n    }\n\n    #manual-guides-hud .repr .inner-line {\n      fill: none;\n      stroke: currentColor;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n    }\n\n    #manual-guides-hud .repr .grippie {\n      stroke: currentColor;\n      stroke-width: 1px;\n      fill: white;\n      pointer-events: all;\n      vector-effect: non-scaling-stroke;\n    }\n    #manual-guides-hud .repr[data-selected] .grippie {\n      fill: currentColor;\n    }\n  </style>\n\n  <g uid="reprs"></g>\n';var _iterator499=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step499;try{for(_iterator499.s();!(_step499=_iterator499.n()).done;){var _t846=_step499.value;this["#"+_t846.getAttribute("uid")]=_t846;}}catch(err){_iterator499.e(err);}finally{_iterator499.f();}this.addEventListener("pointerdown",function(t){return _this334.wo(t);});},enabledCallback:function enabledCallback(){var _this335=this;this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board"),this.Pn.addEventListener("workspacemutation",this.rn=function(){_this335.cr();}),this.Pn.addEventListener("artworkchange",this.mr=function(){_this335.cr();}),this.Pn.addEventListener("zoomchange",this.an=function(){_this335.ll();}),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this335.Cr();}),this.Pn.rulers.addEventListener("pointerdown",this.Mr=function(t){_this335.Pr(t);}),this.Pn.snapManager.addEventListener("snapperschange",this.Dr=function(t){_this335.Sr();}),this.qs();},disabledCallback:function disabledCallback(){this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("artworkchange",this.mr),this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("selectedelementschange",this.Qo),this.Pn.rulers.removeEventListener("pointerdown",this.Mr),this.Pn.snapManager.removeEventListener("snapperschange",this.Dr);},requestImmidiateUpdate:function requestImmidiateUpdate(){this.qs();},wo:function wo(t){var _this336=this;if(1!==t.buttons)return;var e,_i607,s=t.target.closest("g.repr"),n=s[Tc],o=jt(this.Pn.vectorCanvas).inverse(),l=new DOMPoint(t.clientX,t.clientY),h=l.matrixTransform(o),a=l,r=this.Qs.modKeys.ctrl&&$c?"rotate":"translate",d=this.Pn.geometryPrecision;this.kr=!0,s.setAttribute("data-dragging",""),t.target.closest(".grippie")&&(this.Pn.selectedElements=[n],this.Pn.selectedTextRange=null,this.Pn.currentContainer=null);var c=parseFloat(n.getAttribute("x")),p=parseFloat(n.getAttribute("y")),u=parseFloat(n.getAttribute("angle")),x=c,b=p,m=u;this.setPointerCapture(t.pointerId),this.addEventListener("pointermove",e=function e(_e638){var i=new DOMPoint(_e638.clientX,_e638.clientY),n=i.matrixTransform(o),d=_e638.timeStamp-t.timeStamp,g=De(l,i)>3||d>80,f=!1===Ce(a,i,0);if(a=i,!0===g&&!0===f)if("translate"===r){var _t847=n.x-h.x,_e636=n.y-h.y;x=c+_t847,b=p+_e636,s.setAttribute("transform","translate(".concat(x," ").concat(b,") rotate(").concat(u,")"));}else if("rotate"===r){var _t848=new DOMPoint(c,p),_e637=Ie(_t848,h,n);m=u+_e637,_this336.Qs.modKeys.shift&&(m=Be(m,15)),s.setAttribute("transform","translate(".concat(c," ").concat(p,") rotate(").concat(m,")"));}}),this.addEventListener("lostpointercapture",_i607=function i(t){_this336.removeEventListener("pointermove",e),_this336.removeEventListener("lostpointercapture",_i607),_this336.kr=!1,s.removeAttribute("data-dragging");var o=s.querySelector(".inner-line"),l=jt(o),h=new DOMPoint(o.x1.baseVal.value,o.y1.baseVal.value);h=h.matrixTransform(l);var a=new DOMPoint(o.x2.baseVal.value,o.y2.baseVal.value);a=a.matrixTransform(l);var r=_this336.Pn.getBoundingClientRect(!0),g=qe(h,a,r);h=Me(h,8),a=Me(a,8),g&&_this336.Pn.isPointOverBoard(t.clientX,t.clientY)?(x=Z(x,d),b=Z(b,d),m=Z(m,d),x===c&&b===p&&m===u||(_this336.Pn.undoManager.checkpoint("Move guide"),n.setAttribute("x",x),n.setAttribute("y",b),n.setAttribute("angle",m))):(_this336.Pn.undoManager.checkpoint("Remove guide"),_this336.Pn.selectedElements=_this336.Pn.selectedElements.filter(function(t){return t!==n;}),n.remove());});},Pr:function Pr(t){if(1!==t.buttons)return;var e,_i609,s=this.Pn,n=s.rulers.getRulerTypeFromPoint(t.x,t.y),o=this.Pn.geometryPrecision,l=jt(this.Pn.vectorCanvas).inverse(),h=0,a=99999,r=-a,d=-a;"vertical"===n?h=0:"horizontal"===n?h=90:"corner"===n&&(h=45);var c=qi(_templateObject6(),r,d,h,-a,a,-a,a,Ac/s.scale);this["#reprs"].append(c),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);r=e.x,d=e.y,c.setAttribute("transform","translate(".concat(r," ").concat(d,") rotate(").concat(h,")"));}),window.addEventListener("pointerup",_i609=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i609);var n=c.querySelector(".inner-line"),a=jt(n),p=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value);p=p.matrixTransform(a),p=Me(p,8);var u=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value);u=u.matrixTransform(a),u=Me(u,8);var x=s.getBoundingClientRect(!0),b=qe(p,u,x);if(c.remove(),b&&!0===s.isPointOverBoard(t.clientX,t.clientY)&&!1===s.isPointOverRuler(t.clientX,t.clientY)){var _e639=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);r=Z(_e639.x,o),d=Z(_e639.y,o);var _i608=qi(_templateObject7(),r,d,h);s.selectedElements=[_i608],s.selectedTextRange=null,s.currentContainer=null,s.undoManager.checkpoint("Add guide"),s.currentWorkspace===s.masterWorkspace?(s.maybeCreateDefsForMasterWorkspace(),s.defs.append(_i608)):s.currentWorkspace.append(_i608);}});},qs:function qs(){if(this.kr)return;var t=this.Pn.currentWorkspace.querySelectorAll("bx-guide"),e=!1;if(t.length!==this["#reprs"].childElementCount)e=!0;else for(var _i610=0;_i610<t.length;_i610+=1){var _s353=t[_i610],_n255=this["#reprs"].children[_i610],_o203=_n255.transform.baseVal[0].matrix.e,_l190=_n255.transform.baseVal[0].matrix.f,_h144=_n255.transform.baseVal[1].angle;if(parseFloat(_s353.getAttribute("x"))!==_o203||parseFloat(_s353.getAttribute("y"))!==_l190||parseFloat(_s353.getAttribute("angle"))!==_h144){e=!0;break;}}if(e){var _e640="";var _iterator500=_createForOfIteratorHelper(t),_step500;try{for(_iterator500.s();!(_step500=_iterator500.n()).done;){var _i611=_step500.value;var _t849=99999;_e640+="\n          <g class=\"repr\" transform=\"translate(".concat(parseFloat(_i611.getAttribute("x")),", ").concat(parseFloat(_i611.getAttribute("y")),") rotate(").concat(parseFloat(_i611.getAttribute("angle")),")\" data-snapping=\"").concat(this.Pn.snapManager.isGuideSnapping(_i611),"\">\n            <line class=\"outer-line\" x1=\"0\" y1=\"").concat(-_t849,"\" x2=\"0\" y2=\"").concat(_t849,"\"></line>\n            <line class=\"inner-line\" x1=\"0\" y1=\"").concat(-_t849,"\" x2=\"0\" y2=\"").concat(_t849,"\"></line>\n            <circle class=\"grippie\" cx=\"0\" cy=\"0\"></rect>\n          </g>\n        ");}}catch(err){_iterator500.e(err);}finally{_iterator500.f();}this["#reprs"].innerHTML=_e640;for(var _e641=0;_e641<t.length;_e641+=1){this["#reprs"].children[_e641][Tc]=t[_e641];}}this.ll(),this.Cr();},ll:function ll(){var _iterator501=_createForOfIteratorHelper(this["#reprs"].querySelectorAll(".grippie")),_step501;try{for(_iterator501.s();!(_step501=_iterator501.n()).done;){var _t850=_step501.value;_t850.setAttribute("r",Ac/this.Pn.scale);}}catch(err){_iterator501.e(err);}finally{_iterator501.f();}},Cr:function Cr(){var _iterator502=_createForOfIteratorHelper(this["#reprs"].children),_step502;try{for(_iterator502.s();!(_step502=_iterator502.n()).done;){var _t851=_step502.value;this.Pn.selectedElements.includes(_t851[Tc])?_t851.setAttribute("data-selected",""):_t851.removeAttribute("data-selected");}}catch(err){_iterator502.e(err);}finally{_iterator502.f();}},_r:function _r(){var _iterator503=_createForOfIteratorHelper(this["#reprs"].children),_step503;try{for(_iterator503.s();!(_step503=_iterator503.n()).done;){var _t852=_step503.value;var _e642=this.Pn.snapManager.isGuideSnapping(_t852[Tc]);_t852.setAttribute("data-snapping",_e642);}}catch(err){_iterator503.e(err);}finally{_iterator503.f();}}};var Lc=Math.min,Bc=Math.max;var Rc={id:"smart-guides-hud",get enabled(){return this.hasAttribute("enabled");},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");},createdCallback:function createdCallback(){this.cr=Xi(this.qs,100,this),this.innerHTML='\n  <style>\n    #smart-guides-hud .repr {\n      fill: none;\n      stroke: blue;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n      opacity: 0.6;\n      pointer-events: none;\n    }\n  </style>\n\n  <g uid="reprs"></g>\n';var _iterator504=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step504;try{for(_iterator504.s();!(_step504=_iterator504.n()).done;){var _t853=_step504.value;this["#"+_t853.getAttribute("uid")]=_t853;}}catch(err){_iterator504.e(err);}finally{_iterator504.f();}},enabledCallback:function enabledCallback(){var _this337=this;this.Pn=Ai(this,"bx-board"),this.Pn.snapManager.addEventListener("snapperschange",this.Dr=function(){_this337.cr();});},disabledCallback:function disabledCallback(){this.Pn.snapManager.removeEventListener("snapperschange",this.Dr);},qs:function qs(){var t=this.Pn.snapManager.snappers.filter(function(t){return"smart"===t.type&&t.snapping;}),e=jt(this.Pn.currentWorkspace).inverse();this["#reprs"].innerHTML="";var _iterator505=_createForOfIteratorHelper(t),_step505;try{for(_iterator505.s();!(_step505=_iterator505.n()).done;){var _i612=_step505.value;var _t854=void 0,_s354=void 0;"vertical"===_i612.orientation?_i612.snappedBBox?(_t854=new DOMPoint(_i612.x,Lc(_i612.snappingBBox.y,_i612.snappedBBox.y)),_s354=new DOMPoint(_i612.x,Bc(_i612.snappingBBox.bottom,_i612.snappedBBox.bottom))):_i612.snappedPoint&&(_t854=new DOMPoint(_i612.x,Lc(_i612.snappingBBox.y,_i612.snappedPoint.y)),_s354=new DOMPoint(_i612.x,Bc(_i612.snappingBBox.bottom,_i612.snappedPoint.y))):"horizontal"===_i612.orientation&&(_i612.snappedBBox?(_t854=new DOMPoint(Lc(_i612.snappingBBox.x,_i612.snappedBBox.x),_i612.y),_s354=new DOMPoint(Bc(_i612.snappingBBox.right,_i612.snappedBBox.right),_i612.y)):_i612.snappedPoint&&(_t854=new DOMPoint(Lc(_i612.snappingBBox.x,_i612.snappedPoint.x),_i612.y),_s354=new DOMPoint(Bc(_i612.snappingBBox.right,_i612.snappedPoint.x),_i612.y)));var _t854$matrixTransform=_t854.matrixTransform(e),_n256=_t854$matrixTransform.x,_o204=_t854$matrixTransform.y,_s354$matrixTransform=_s354.matrixTransform(e),_l191=_s354$matrixTransform.x,_h145=_s354$matrixTransform.y,_a121=qi(_templateObject8(),_n256,_o204,_l191,_h145);this["#reprs"].append(_a121);}}catch(err){_iterator505.e(err);}finally{_iterator505.f();}}};var Gc=zi("svg:marker"),Fc=function Fc(t){return t.hasAttribute("refX")?Gc.setAttribute("refX",t.getAttribute("refX")):Gc.removeAttribute("refX"),t.hasAttribute("refY")?Gc.setAttribute("refY",t.getAttribute("refY")):Gc.removeAttribute("refY"),new DOMPoint(Gc.refX.baseVal.value,Gc.refY.baseVal.value);},Uc=function Uc(t){return t.hasAttribute("orient")?Gc.setAttribute("orient",t.getAttribute("orient")):Gc.removeAttribute("orient"),[Gc.orientType.baseVal,Gc.orientAngle.baseVal.value];},Nc=Math.abs,Vc=Symbol(),jc=Symbol(),Hc=Symbol(),Yc=Symbol();var Wc={id:"view-hud",createdCallback:function createdCallback(){var _this338=this;this.zr=!1,this._a=Xi(this.qs,200,this),this.innerHTML='\n  <style>\n    #view-hud .grippie[data-position="center"] {\n      fill: rgba(0, 0, 0, 0);\n      shape-rendering: crispEdges;\n    }\n    #view-hud .grippie[data-position="center"] {\n      cursor: -webkit-grab;\n    }\n    #view-hud .grippie[data-position="center"]:active {\n      cursor: -webkit-grabbing;\n    }\n\n    #view-hud .grippie[data-position="left"],\n    #view-hud .grippie[data-position="right"],\n    #view-hud .grippie[data-position="top"],\n    #view-hud .grippie[data-position="bottom"] {\n      stroke: red;\n      vector-effect: non-scaling-stroke;\n      stroke-width: 8;\n      opacity: 0;\n    }\n\n    #view-hud .grippie[data-position="top-left"] rect,\n    #view-hud .grippie[data-position="top-right"] rect,\n    #view-hud .grippie[data-position="bottom-left"] rect,\n    #view-hud .grippie[data-position="bottom-right"] rect {\n      fill: transparent;\n    }\n\n    #view-hud .grippie[data-position="top-left"] path,\n    #view-hud .grippie[data-position="top-right"] path,\n    #view-hud .grippie[data-position="bottom-left"] path,\n    #view-hud .grippie[data-position="bottom-right"] path {\n      fill: white;\n      stroke: rgb(88, 88, 88);\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n    }\n    #view-hud .subhud[data-selected] .grippie[data-position="top-left"] path,\n    #view-hud .subhud[data-selected] .grippie[data-position="top-right"] path,\n    #view-hud .subhud[data-selected] .grippie[data-position="bottom-left"] path,\n    #view-hud .subhud[data-selected] .grippie[data-position="bottom-right"] path {\n      fill: rgb(176, 214, 255);\n      stroke: rgb(2, 81, 165);\n    }\n\n    #view-hud .grippie[data-position="left"],\n    #view-hud .grippie[data-position="right"] {\n      cursor: ew-resize;\n    }\n    #view-hud .grippie[data-position="top"],\n    #view-hud .grippie[data-position="bottom"] {\n      cursor: ns-resize;\n    }\n    #view-hud .grippie[data-position="top-left"] {\n      cursor: nwse-resize;\n    }\n    #view-hud .grippie[data-position="top-right"] {\n      cursor: nesw-resize;\n    }\n    #view-hud .grippie[data-position="bottom-left"] {\n      cursor: nesw-resize;\n    }\n    #view-hud .grippie[data-position="bottom-right"] {\n      cursor: nwse-resize;\n    }\n\n    #view-hud .grippie[data-position="ref"] {\n      display: none;\n      cursor: default;\n    }\n    #view-hud .subhud[data-selected] .grippie[data-position="ref"] {\n      display: initial;\n    }\n    #view-hud .grippie[data-position="ref"] path {\n      fill: white;\n      stroke: rgb(88, 88, 88);\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n    }\n    #view-hud .subhud[data-selected] .grippie[data-position="ref"] path {\n      fill: rgb(176, 214, 255);\n      stroke: rgb(2, 81, 165);\n    }\n    #view-hud .grippie[data-position="ref"] rect {\n      fill: transparent;\n    }\n\n    #view-hud .label {\n      pointer-events: none;\n      font-weight: 700;\n      fill: #636363;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <rect class="grippie" data-position="center"></rect>\n\n      <line class="grippie" data-position="left"></line>\n      <line class="grippie" data-position="right"></line>\n      <line class="grippie" data-position="top"></line>\n      <line class="grippie" data-position="bottom"></line>\n\n      <g class="grippie" data-position="top-left">\n        <rect width="30" height="30"></rect>\n        <path d="M 15 15 h 15 v -5 h -20 v 20 h 5 z"/>\n      </g>\n\n      <g class="grippie" data-position="top-right">\n        <rect width="30" height="30"></rect>\n        <path d="M 0 15 h 15 v 15 h 5 v -20 h -20 z"/>\n      </g>\n\n      <g class="grippie" data-position="bottom-left">\n        <rect width="30" height="30"></rect>\n        <path d="M 15 15 h 15 v 5 h -20 v -20 h 5 z"/>\n      </g>\n\n      <g class="grippie" data-position="bottom-right">\n        <rect width="30" height="30"></rect>\n        <path d="M 15 15 v -15 h 5 v 20 h -20 v -5 z"/>\n      </g>\n\n      <g class="grippie" data-position="ref">\n        <rect width="24" height="24"></rect>\n        <path d="M 24 10 L 24 14 L 14 14 L 14 24 L 10 24 L 10 14 L 0 14 L 0 10 L 10 10 L 10 0 L 14 0 L 14 10 Z"/>\n      </g>\n\n      <text class="label">Default view</text>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator506=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step506;try{for(_iterator506.s();!(_step506=_iterator506.n()).done;){var _t855=_step506.value;this["#"+_t855.getAttribute("uid")]=_t855;}}catch(err){_iterator506.e(err);}finally{_iterator506.f();}this.addEventListener("pointerdown",function(t){_this338.wo(t);}),this.addEventListener("dblclick",function(t){_this338.Ch(t);});},enabledCallback:function enabledCallback(){var _this339=this;this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board"),this.zr=this.Qs.getConfig("bx-viewsettings:showIds",!1),this.Or=this.Qs.getConfig("bx-viewsettings:moveObjects",!1),this.Er=!1,this.Tr=!1,this.Ar=!1,this.Qs.addEventListener("configchange",this.ln=function(t){_this339.hn(t);}),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this339.$r();}),this.Pn.addEventListener("zoomchange",this.an=function(){_this339.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this339.sl(t.detail);}),this.ol(),this.$r();},disabledCallback:function disabledCallback(){this["#subhuds"].innerHTML="",this.Qs.removeEventListener("configchange",this.ln),this.Pn.removeEventListener("selectedelementschange",this.Qo),this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn);},hn:function hn(t){var _t$detail2=t.detail,e=_t$detail2.key,i=_t$detail2.value;"bx-viewsettings:showIds"===e?(this.zr=this.Qs.getConfig("bx-viewsettings:showIds",!1),this.ol()):"bx-viewsettings:moveObjects"===e&&(this.Or=this.Qs.getConfig("bx-viewsettings:moveObjects",!1));},sl:function sl(t){this.Er||this.Tr||this.Ar?this.Ir():this.ol();},il:function il(){this.Ir();},wo:function wo(t){1===t.buttons&&t.target.closest(".grippie")&&this.hl(t);},hl:function hl(t){var _this340=this;var _e643,_i613,s=this.Pn,n=t.target.closest(".grippie"),o=n.closest(".subhud")[Vc],l=new DOMPoint(t.clientX,t.clientY),h=l;s.selectedElements="view"===o.localName?[o]:[],window.addEventListener("pointermove",_e643=function e(i){var s=new DOMPoint(i.clientX,i.clientY),o=i.timeStamp-t.timeStamp,a=De(l,s)>3||o>80,r=!1===Ce(h,s,0);if(h=s,!0===a&&!0===r){window.removeEventListener("pointermove",_e643);var _s355=new X(i.clientX-t.clientX,i.clientY-t.clientY),_o205=Nc(_s355.x)>Nc(_s355.y)?"horizontal":"vertical",_l192=n.getAttribute("data-position");"center"===_l192?_this340.Lr(t,n,_o205):"ref"===_l192?_this340.Br(t,n,_o205):_this340.Rr(t,n,_o205);}}),window.addEventListener("pointerup",_i613=function i(t){window.removeEventListener("pointermove",_e643),window.removeEventListener("pointerup",_i613);});},Ch:function Ch(t){t.target.closest('.grippie[data-position="ref"]')&&this.Gr(t);},Lr:function Lr(t,e,i){var _this341=this;var s,_n257,o=this.Pn,l=e.closest(".subhud"),h=(_toConsumableArray(this["#subhuds"].children).filter(function(t){return t!==l;}),l[Vc]),a=Bt.fromString(h.getAttribute("viewBox")||"0 0 0 0").toRect(),r=null,d=jt(o.vectorCanvas),c=d.inverse(),p=new DOMPoint(t.clientX,t.clientY),u=[];if(o.undoManager.checkpoint("View box"),o.snapManager.snapStart(),this.Er=!0,"marker"===h.getAttribute("data-bx-workspace")&&(r=Fc(this.Pn.currentWorkspace)),this.Or){var _iterator507=_createForOfIteratorHelper(o.currentWorkspace.children),_step507;try{for(_iterator507.s();!(_step507=_iterator507.n()).done;){var _t856=_step507.value;if(f.includes(_t856.localName)){var _e644=Vt(_t856,o.vectorCanvas),_i614=Ue(Ci(_t856),_e644);if(He(_i614,a)){var _e645=jt(_t856),_i615=_e645.inverse(),_s356=Nt(_t856).multiplySelf(_i615);_t856[Yc]={clientToUserTransform:_e645,initialClientTransform:_s356},u.push(_t856);}}}}catch(err){_iterator507.e(err);}finally{_iterator507.f();}}window.addEventListener("pointermove",s=function s(t){var e=new DOMPoint(t.clientX,t.clientY);_this341.Qs.modKeys.shift&&("horizontal"===i?e.y=p.y:"vertical"===i&&(e.x=p.x));var s=new X(p,e).matrixTransform(c).transformRect(a);s=Ue(s,d),s=o.snapManager.snapBBox(s),s=Ue(s,c),s=Fe(s,o.geometryPrecision);var n=new X(s.x-a.x,s.y-a.y),l=n.matrixTransform(d);h.setAttribute("viewBox","".concat(s.x," ").concat(s.y," ").concat(s.width," ").concat(s.height));var _iterator508=_createForOfIteratorHelper(u),_step508;try{for(_iterator508.s();!(_step508=_iterator508.n()).done;){var _t858=_step508.value;var _t858$Yc=_t858[Yc],_e646=_t858$Yc.clientToUserTransform,_i616=_t858$Yc.initialClientTransform,_s357=DOMMatrix.fromMatrix(_i616);_s357.translateSelf(l.x,l.y),_s357.multiplySelf(_e646),_t858.setAttribute("transform",_s357.toString());}}catch(err){_iterator508.e(err);}finally{_iterator508.f();}if(r){var _t857=n.transformPoint(r);_t857=Me(_t857,o.geometryPrecision),h.setAttribute("refX",_t857.x),h.setAttribute("refY",_t857.y);}}),window.addEventListener("pointerup",_n257=function n(t){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n257),o.snapManager.snapEnd(),_this341.Er=!1;var _iterator509=_createForOfIteratorHelper(u),_step509;try{for(_iterator509.s();!(_step509=_iterator509.n()).done;){var _t859=_step509.value;mh(_t859,{geometryPrecision:o.geometryPrecision,transformPrecision:o.transformPrecision});}}catch(err){_iterator509.e(err);}finally{_iterator509.f();}});},Rr:function Rr(t,e,i){var _this342=this;var s,_n258,o=this.Pn,l=e.closest(".subhud"),h=(_toConsumableArray(this["#subhuds"].children).filter(function(t){return t!==l;}),e.closest(".subhud")[Vc]),a=e.getAttribute("data-position"),r=Bt.fromString(h.getAttribute("viewBox")||"0 0 0 0").toRect(),d=jt(o.vectorCanvas),c=d.inverse(),p=new DOMPoint(t.clientX,t.clientY),u=p.matrixTransform(c);o.undoManager.checkpoint("View box"),o.snapManager.snapStart(),this.Tr=!0;var x=new DOMPoint(e[jc],e[Hc]).matrixTransform(d),b=new X(p,x);window.addEventListener("pointermove",s=function s(t){var e=new DOMPoint(t.clientX,t.clientY),i=o.snapManager.snapPoint(e);!1===Ce(e,i)&&(e=i,e.x-=b.x,e.y-=b.y);var s=e.matrixTransform(c),n=DOMRect.fromRect(r),l=new X(u,s);"left"===a?(n.x=r.x+l.x,n.width=r.width-l.x,n.width<0&&(n.x=r.x+r.width,n.width=Nc(n.width))):"right"===a?(n.width=r.width+l.x,n.width<0&&(n.width=Nc(n.width),n.x=r.x-n.width)):"top"===a?(n.height=r.height-l.y,n.y=r.y+l.y,n.height<0&&(n.height=Nc(n.height),n.y=r.y+r.height)):"bottom"===a?(n.height=r.height+l.y,n.height<0&&(n.height=Nc(n.height),n.y=r.y-n.height)):"top-left"===a?(n.width=r.width-l.x,n.height=r.height-l.y,n.x=r.x+l.x,n.y=r.y+l.y,n.width<0&&(n.width=Nc(n.width),n.x=r.x+r.width),n.height<0&&(n.height=Nc(n.height),n.y=r.y+r.height)):"top-right"===a?(n.width=r.width+l.x,n.height=r.height-l.y,n.y=r.y+l.y,n.width<0&&(n.width=Nc(n.width),n.x=r.x-n.width),n.height<0&&(n.height=Nc(n.height),n.y=r.y+r.height)):"bottom-left"===a?(n.width=r.width-l.x,n.height=r.height+l.y,n.x=r.x+l.x,n.width<0&&(n.width=Nc(n.width),n.x=r.x+r.width),n.height<0&&(n.height=Nc(n.height),n.y=r.y-n.height)):"bottom-right"===a&&(n.width=r.width+l.x,n.height=r.height+l.y,n.width<0&&(n.width=Nc(n.width),n.x=r.x-n.width),n.height<0&&(n.height=Nc(n.height),n.y=r.y-n.height)),n=Fe(n,o.geometryPrecision),h.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),window.addEventListener("pointerup",_n258=function n(t){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n258),o.snapManager.snapEnd(),_this342.Tr=!1;});},Br:function Br(t,e,i){var _this343=this;var s,_n259,o=this.Pn,l=this.Pn.currentWorkspace,h=o.geometryPrecision,a=jt(l),r=a.inverse(),d=Fc(l),c=d.matrixTransform(a),p=new DOMPoint(t.clientX,t.clientY);o.undoManager.checkpoint("Move marker reference point"),o.snapManager.snapStart(),this.Ar=!0,window.addEventListener("pointermove",s=function s(t){var e=new DOMPoint(t.clientX,t.clientY);_this343.Qs.modKeys.shift&&("horizontal"===i?e.y=p.y:"vertical"===i&&(e.x=p.x));var s=o.snapManager.snapPoint(new DOMPoint(c.x+e.x-p.x,c.y+e.y-p.y)),n=new X(c,s).matrixTransform(r).transformPoint(d);n=Me(n,h),l.setAttribute("refX",n.x),l.setAttribute("refY",n.y);}),window.addEventListener("pointerup",_n259=function n(){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n259),_this343.Pn.snapManager.snapEnd(),_this343.Ar=!1;});},Gr:function Gr(t){var e=this.Pn,i=this.Pn.currentWorkspace,s=e.geometryPrecision;if(e.undoManager.checkpoint("Reset marker reference point"),i.hasAttribute("viewBox")){var _Bt$fromString=Bt.fromString(i.getAttribute("viewBox")),_t860=_Bt$fromString.x,_e647=_Bt$fromString.y,_n260=_Bt$fromString.width,_o206=_Bt$fromString.height,_l193=Z(_t860+_n260/2,s),_h146=Z(_e647+_o206/2,s);i.setAttribute("refX",_l193),i.setAttribute("refY",_h146);}else i.removeAttribute("refX"),i.removeAttribute("refY");},ol:function ol(){var t=this.Pn.currentWorkspace;if(this["#subhuds"].innerHTML="",t.hasAttribute("viewBox")){var _e648=this["#subhud-template"].cloneNode(!0);_e648.removeAttribute("uid"),_e648[Vc]=t,this["#subhuds"].append(_e648);}var _iterator510=_createForOfIteratorHelper(t.querySelectorAll(":scope > view, :scope > defs > view")),_step510;try{for(_iterator510.s();!(_step510=_iterator510.n()).done;){var _e649=_step510.value;var _t861=this["#subhud-template"].cloneNode(!0);_t861.removeAttribute("uid"),_t861[Vc]=_e649,this["#subhuds"].append(_t861);}}catch(err){_iterator510.e(err);}finally{_iterator510.f();}this.$r(),this.Ir();},$r:function $r(){var t=this.Pn.outermostSelectedElements;if(0===t.length){var _iterator511=_createForOfIteratorHelper(this["#subhuds"].children),_step511;try{for(_iterator511.s();!(_step511=_iterator511.n()).done;){var _t862=_step511.value;_t862[Vc]===this.Pn.currentWorkspace?_t862.setAttribute("data-selected",""):_t862.removeAttribute("data-selected");}}catch(err){_iterator511.e(err);}finally{_iterator511.f();}}else{var _iterator512=_createForOfIteratorHelper(this["#subhuds"].children),_step512;try{for(_iterator512.s();!(_step512=_iterator512.n()).done;){var _e650=_step512.value;t.includes(_e650[Vc])?_e650.setAttribute("data-selected",""):_e650.removeAttribute("data-selected");}}catch(err){_iterator512.e(err);}finally{_iterator512.f();}}},Ir:function Ir(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var _iterator513=_createForOfIteratorHelper(this["#subhuds"].children),_step513;try{for(_iterator513.s();!(_step513=_iterator513.n()).done;){var _e651=_step513.value;var _i617=_e651[Vc];if(_e651===t||null===t){var _Bt$fromString2=Bt.fromString(_i617.getAttribute("viewBox")||"0 0 0 0"),_t863=_Bt$fromString2.x,_s358=_Bt$fromString2.y,_n261=_Bt$fromString2.width,_o207=_Bt$fromString2.height;var _iterator514=_createForOfIteratorHelper(_e651.children),_step514;try{for(_iterator514.s();!(_step514=_iterator514.n()).done;){var _l194=_step514.value;if("text"===_l194.localName){var _e652=_l194;if(_e652.setAttribute("x",_t863),_e652.setAttribute("y",_s358-10/this.Pn.scale),_e652.style.fontSize=12/this.Pn.scale+"px","view"===_i617.localName){if(this.zr)_i617.hasAttribute("id")?(_e652.textContent="#"+_i617.id,_e652.style.fontWeight="700"):(_e652.textContent="Custom view",_e652.style.fontWeight="400");else{var _t864=_i617.querySelector("bx-title");_t864&&_t864.textContent.length>0?(_e652.textContent=_t864.textContent,_e652.style.fontWeight="700"):(_e652.textContent="Custom view",_e652.style.fontWeight="400");}}else _e652.textContent="Default view",_e652.style.fontWeight="400";}else{var _e653=_l194,_h147=_e653.getAttribute("data-position");if("center"===_h147)_e653.x.baseVal.value=_t863,_e653.y.baseVal.value=_s358,_e653.width.baseVal.value=_n261,_e653.height.baseVal.value=_o207;else if("left"===_h147)_e653.x1.baseVal.value=_t863,_e653.y1.baseVal.value=_s358,_e653.x2.baseVal.value=_t863,_e653.y2.baseVal.value=_s358+_o207,_e653[jc]=_t863,_e653[Hc]=_s358+_o207/2;else if("right"===_h147)_e653.x1.baseVal.value=_t863+_n261,_e653.y1.baseVal.value=_s358,_e653.x2.baseVal.value=_t863+_n261,_e653.y2.baseVal.value=_s358+_o207,_e653[jc]=_t863+_n261,_e653[Hc]=_s358+_o207/2;else if("top"===_h147)_e653.x1.baseVal.value=_t863,_e653.y1.baseVal.value=_s358,_e653.x2.baseVal.value=_t863+_n261,_e653.y2.baseVal.value=_s358,_e653[jc]=_t863+_n261/2,_e653[Hc]=_s358;else if("bottom"===_h147)_e653.x1.baseVal.value=_t863,_e653.y1.baseVal.value=_s358+_o207,_e653.x2.baseVal.value=_t863+_n261,_e653.y2.baseVal.value=_s358+_o207,_e653[jc]=_t863+_n261/2,_e653[Hc]=_s358+_o207;else if("top-left"===_h147){var _i618=new DOMMatrix();_i618.scaleSelf(1/this.Pn.scale,1/this.Pn.scale,1,_t863,_s358),_i618.translateSelf(_t863-15,_s358-15),_e653.setAttribute("transform",_i618.toString()),_e653[jc]=_t863,_e653[Hc]=_s358;}else if("top-right"===_h147){var _i619=new DOMMatrix();_i619.scaleSelf(1/this.Pn.scale,1/this.Pn.scale,1,_t863+_n261,_s358),_i619.translateSelf(_t863+_n261-15,_s358-15),_e653.setAttribute("transform",_i619.toString()),_e653[jc]=_t863+_n261,_e653[Hc]=_s358;}else if("bottom-left"===_h147){var _i620=new DOMMatrix();_i620.scaleSelf(1/this.Pn.scale,1/this.Pn.scale,1,_t863,_s358+_o207),_i620.translateSelf(_t863-15,_s358+_o207-15),_e653.setAttribute("transform",_i620.toString()),_e653[jc]=_t863,_e653[Hc]=_s358+_o207;}else if("bottom-right"===_h147){var _i621=new DOMMatrix();_i621.scaleSelf(1/this.Pn.scale,1/this.Pn.scale,1,_t863+_n261,_s358+_o207),_i621.translateSelf(_t863+_n261-15,_s358+_o207-15),_e653.setAttribute("transform",_i621.toString()),_e653[jc]=_t863+_n261,_e653[Hc]=_s358+_o207;}else if("ref"===_h147)if("marker"===_i617.getAttribute("data-bx-workspace")){var _t865=Fc(this.Pn.currentWorkspace),_i622=new DOMMatrix();_i622.scaleSelf(1/this.Pn.scale,1/this.Pn.scale,1,_t865.x,_t865.y),_i622.translateSelf(_t865.x-12,_t865.y-12),_e653.setAttribute("x",_t865.x-12),_e653.setAttribute("y",_t865.y-12),_e653.setAttribute("transform",_i622.toString()),_e653.style.display=null;}else _e653.style.display="none";}}}catch(err){_iterator514.e(err);}finally{_iterator514.f();}}}}catch(err){_iterator513.e(err);}finally{_iterator513.f();}}};var qc={id:"outline-hud",get context(){return this.getAttribute("context")||"transform";},set context(t){this.setAttribute("context",t);},createdCallback:function createdCallback(){this.Fr=null,this.Ur=Xi(this.qs,30,this),this._a=Xi(this.qs,200,this),this.innerHTML='\n  <style>\n    #outline-hud [uid="outline"] {\n      fill: none;\n      stroke: rgb(245, 92, 54);\n      stroke-width: 2;\n      pointer-events: none;\n      vector-effect: non-scaling-stroke;\n    }\n  </style>\n\n  <path uid="outline"></path>\n';var _iterator515=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step515;try{for(_iterator515.s();!(_step515=_iterator515.n()).done;){var _t866=_step515.value;this["#"+_t866.getAttribute("uid")]=_t866;}}catch(err){_iterator515.e(err);}finally{_iterator515.f();}},enabledCallback:function enabledCallback(){var _this344=this;this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this.Pn=Ai(this,"bx-board"),this.Qs.addEventListener("modkeyschange",this.Xa=function(){_this344.Ur();}),this.Pn.addEventListener("workspacemutation",this.rn=function(){_this344.Ur();}),this.Pn.addEventListener("currentcontainerchange",this.Nr=function(){_this344.Ur();}),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this344.Jo();}),this.Pn.workspaces.addEventListener("pointerover",this.Vr=function(t){_this344.jr(t);}),this.Pn.workspaces.addEventListener("pointerout",this.Hr=function(t){_this344.Yr(t);}),this.qs();},disabledCallback:function disabledCallback(){this["#outline"].removeAttribute("d"),this.Qs.removeEventListener("modkeyschange",this.Xa),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("currentcontainerchange",this.Nr),this.Pn.removeEventListener("selectedelementschange",this.Qo),this.Pn.workspaces.removeEventListener("pointerover",this.Vr),this.Pn.workspaces.removeEventListener("pointerout",this.Hr);},Jo:function Jo(){this.qs();},jr:function jr(t){this.Fr=t.target,this.Ur();},Yr:function Yr(){this.Fr=null,this._a();},qs:function qs(){var t=this.Wr();if(t){var _e654=t.localName,_i623=null,_s359=null;if("path"===_e654?_i623=t.getAttribute("d"):"rect"!==_e654&&"circle"!==_e654&&"ellipse"!==_e654&&"line"!==_e654&&"polyline"!==_e654&&"polygon"!==_e654||(_i623=et(t.getPathData())),null===_i623){var _e655=Ci(t);_i623="\n          M ".concat(_e655.x," ").concat(_e655.y,"\n          L ").concat(_e655.x+_e655.width," ").concat(_e655.y,"\n          L ").concat(_e655.x+_e655.width," ").concat(_e655.y+_e655.height,"\n          L ").concat(_e655.x," ").concat(_e655.y+_e655.height,"\n          L ").concat(_e655.x," ").concat(_e655.y,"\n        ");}null===_s359&&(_s359=Vt(t,this).toString()),_i623?this["#outline"].setAttribute("d",_i623):this["#outline"].removeAttribute("d"),_s359?this["#outline"].setAttribute("transform",_s359):this["#outline"].removeAttribute("transform");}else this["#outline"].removeAttribute("d");},Wr:function Wr(){var _this$Qs$modKeys9=this.Qs.modKeys,t=_this$Qs$modKeys9.ctrl,e=_this$Qs$modKeys9.alt,i=_this$Qs$modKeys9.shift,s=this.Js.board,n=this.Fr,o=null,l=null;if("transform"===this.context?t||i?!t&&i?o="normal-multi":t&&!i?o="direct":t&&i&&(o="direct-multi"):o="normal":"edit"===this.context?o="direct":"edit-text"===this.context&&(o="direct-text"),n&&s.isSelectableElement(n)){var _t867=this.In(n),_e656=s.selectedElements.includes(n),_i624=_e656;var _iterator516=_createForOfIteratorHelper(_t867),_step516;try{for(_iterator516.s();!(_step516=_iterator516.n()).done;){var _e659=_step516.value;s.selectedElements.includes(_e659)&&(_i624=!0);}}catch(err){_iterator516.e(err);}finally{_iterator516.f();}if("normal"===o){if(!1===_i624)if(0===_t867.length)l=n;else{var _t868=s.currentContainer,_e657=n;if(_t868&&_t868.contains(_e657))for(;_e657.parentNode!==_t868;){_e657=_e657.parentNode;}else{var _i625=this.Ho(_e657,_t868);for(;_e657.parentNode!==_i625&&_e657.parentNode!==s.currentWorkspace;){_e657=_e657.parentNode;}}l=_e657;}}else if("normal-multi"===o){if(0===_t867.length)l=n;else{var _t869=n;if(s.currentContainer&&s.currentContainer.contains(_t869))for(;_t869.parentNode!==s.currentContainer;){_t869=_t869.parentNode;}else{var _e658=this.Ho(_t869,s.currentContainer);for(;_t869.parentNode!==_e658&&_t869.parentNode!==s.currentWorkspace;){_t869=_t869.parentNode;}}l=_t869;}}else"direct"===o?!1===_e656&&(l=n):"direct-multi"===o?l=n:"direct-text"===o&&!1===_e656&&n.closest("text")&&(l=n.closest("text"));}return l;},In:function In(t){var e=[];if(t!==this.Pn.currentWorkspace)for(;t.parentElement&&t.parentElement!==this.Pn.currentWorkspace;){t=t.parentElement,["g","a"].includes(t.localName)&&e.unshift(t);}return e;},Ho:function Ho(t,e){var i=Li(t,e);if(i)for(;!1===["g","a"].includes(i.localName);){i=i.parentNode;}return i;}};var Xc={id:"rubber-band-hud",createdCallback:function createdCallback(){this.innerHTML='\n  <style>\n    #rubber-band-hud [uid="rect"] {\n      fill: var(--rubber-band-background-color);\n      stroke: var(--rubber-band-border-color);\n      stroke-width: 1;\n      pointer-events: none;\n      shape-rendering: crispEdges;\n      vector-effect: non-scaling-stroke;\n    }\n    #rubber-band-hud [uid="rect"][hidden] {\n      display: none;\n    }\n\n    #rubber-band-hud [uid="polygon"] {\n      fill: var(--rubber-band-background-color);\n      stroke: var(--rubber-band-border-color);\n      stroke-width: 1;\n      pointer-events: none;\n      shape-rendering: crispEdges;\n      vector-effect: non-scaling-stroke;\n    }\n    #rubber-band-hud [uid="polygon"][hidden] {\n      display: none;\n    }\n  </style>\n\n  <rect uid="rect" x="0" y="0" width="0" height="0" hidden></rect>\n  <polyline uid="polygon" hidden></polyline>\n';var _iterator517=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step517;try{for(_iterator517.s();!(_step517=_iterator517.n()).done;){var _t870=_step517.value;this["#"+_t870.getAttribute("uid")]=_t870;}}catch(err){_iterator517.e(err);}finally{_iterator517.f();}},grabSelection:function grabSelection(t,e){var _this345=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"rect";return new Promise(function(s){var n,_o209,l=jt(_this345).inverse(),h=new DOMPoint(t,e).matrixTransform(l);if("rect"===i){var _t871=0,_e660=0,_i626=0,_a122=0;_this345["#rect"].removeAttribute("hidden"),window.addEventListener("pointermove",n=function n(s){if(!1===s.isPrimary)return;var n=new DOMPoint(s.clientX,s.clientY).matrixTransform(l);_i626=n.x-h.x,_a122=n.y-h.y,_i626<0?(_i626=-_i626,_t871=h.x-_i626):_t871=h.x,_a122<0?(_a122=-_a122,_e660=h.y-_a122):_e660=h.y,_this345["#rect"].setAttribute("x",_t871),_this345["#rect"].setAttribute("y",_e660),_this345["#rect"].setAttribute("width",_i626),_this345["#rect"].setAttribute("height",_a122);}),window.addEventListener("pointerup",_o209=function o(l){if(!1===l.isPrimary)return;window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",_o209),_this345["#rect"].setAttribute("hidden",""),_this345["#rect"].setAttribute("x",0),_this345["#rect"].setAttribute("y",0),_this345["#rect"].setAttribute("width",0),_this345["#rect"].setAttribute("height",0);var h=new DOMRect(_t871,_e660,_i626,_a122);s(h);});}else if("polygon"===i){var _t872=0,_e661=0;_this345["#polygon"].removeAttribute("hidden"),_this345["#polygon"].points.appendItem(Te(h)),window.addEventListener("pointermove",n=function n(i){if(!1===i.isPrimary)return;var s=new DOMPoint(i.clientX,i.clientY).matrixTransform(l);_t872=s.x,_e661=s.y;var _iterator518=_createForOfIteratorHelper(i.getCoalescedEvents()),_step518;try{for(_iterator518.s();!(_step518=_iterator518.n()).done;){var _t873=_step518.value;var _e662=new DOMPoint(_t873.clientX,_t873.clientY).matrixTransform(l);_this345["#polygon"].points.appendItem(Te(_e662));}}catch(err){_iterator518.e(err);}finally{_iterator518.f();}}),window.addEventListener("pointerup",_o209=function _o208(t){if(!1===t.isPrimary)return;window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",_o209);var e=_toConsumableArray(_this345["#polygon"].points).map(function(t){return DOMPoint.fromPoint(t);});_this345["#polygon"].setAttribute("points",""),_this345["#polygon"].setAttribute("hidden",""),s(e);});}});}};var Zc=Math.abs,Kc=Math.atan,Qc=Math.min,Jc=Math.max,tp=Number.parseFloat,ep=12,ip=12,sp=12,np=10,op=Symbol(),lp=Symbol(),hp=Symbol(),ap=Symbol();var rp={id:"transform-hud",get mode(){return this.qr;},set mode(t){this.qr=t,this.Xr();},get isScaling(){return this.Zr;},createdCallback:function createdCallback(){var _this346=this;this.Kr={},this.Qr={},this.Jr={},this.td=!1,this.Zr=!1,this.ed=!1,this.qr="scale",this.sd=Xi(this.gr,25,this),this.nd=Xi(this.gr,250,this),this.innerHTML='\n  <style>\n    #transform-hud [uid="scale-grippies"] > .grippie {\n      fill: rgb(46, 102, 249);\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n\n    #transform-hud [uid="rotate-grippies"] > .grippie {\n      fill: red;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n\n    #transform-hud [uid="skew-grippies"] > .grippie {\n      fill: orange;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <g uid="grippies">\n    <g uid="scale-grippies">\n      <rect class="grippie" data-position="top"></rect>\n      <rect class="grippie" data-position="left"></rect>\n      <rect class="grippie" data-position="bottom"></rect>\n      <rect class="grippie" data-position="right"></rect>\n      <rect class="grippie" data-position="top-left"></rect>\n      <rect class="grippie" data-position="top-right"></rect>\n      <rect class="grippie" data-position="bottom-left"></rect>\n      <rect class="grippie" data-position="bottom-right"></rect>\n    </g>\n\n    <g uid="rotate-grippies">\n      <rect class="grippie" rx="999" data-position="top-left"></rect>\n      <rect class="grippie" rx="999" data-position="top-right"></rect>\n      <rect class="grippie" rx="999" data-position="bottom-left"></rect>\n      <rect class="grippie" rx="999" data-position="bottom-right"></rect>\n    </g>\n\n    <g uid="skew-grippies">\n      <rect class="grippie" data-position="top"></rect>\n      <rect class="grippie" data-position="left"></rect>\n      <rect class="grippie" data-position="bottom"></rect>\n      <rect class="grippie" data-position="right"></rect>\n    </g>\n\n    <svg uid="origin-grippie" viewBox="0 0 100 100" visibility="hidden">\n      <rect x="41" width="17" height="100" fill="inherit"></rect>\n      <rect x="41" width="17" height="100" fill="inherit" transform="matrix(0, 1, -1, 0, 100, 0.5)"></rect>\n      <rect x="0" y="0" width="100" height="100" style="opacity: 0;"/>\n    </svg>\n  </g>\n';var _iterator519=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step519;try{for(_iterator519.s();!(_step519=_iterator519.n()).done;){var _t874=_step519.value;this["#"+_t874.getAttribute("uid")]=_t874;}}catch(err){_iterator519.e(err);}finally{_iterator519.f();}var _iterator520=_createForOfIteratorHelper(this["#scale-grippies"].children),_step520;try{for(_iterator520.s();!(_step520=_iterator520.n()).done;){var _t875=_step520.value;this.Kr[_t875.getAttribute("data-position")]=_t875;}}catch(err){_iterator520.e(err);}finally{_iterator520.f();}var _iterator521=_createForOfIteratorHelper(this["#rotate-grippies"].children),_step521;try{for(_iterator521.s();!(_step521=_iterator521.n()).done;){var _t876=_step521.value;this.Jr[_t876.getAttribute("data-position")]=_t876;}}catch(err){_iterator521.e(err);}finally{_iterator521.f();}var _iterator522=_createForOfIteratorHelper(this["#skew-grippies"].children),_step522;try{for(_iterator522.s();!(_step522=_iterator522.n()).done;){var _t877=_step522.value;this.Qr[_t877.getAttribute("data-position")]=_t877;}}catch(err){_iterator522.e(err);}finally{_iterator522.f();}this.addEventListener("pointerdown",function(t){_this346.wo(t);}),this.addEventListener("dblclick",function(t){_this346.Ch(t);});},enabledCallback:function enabledCallback(){var _this347=this;this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this347.Jo();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this347.sl(t.detail);}),this.Pn.addEventListener("zoomchange",this.an=function(){_this347.il();}),this.Jo(),this.il();},disabledCallback:function disabledCallback(){this.Pn.removeEventListener("selectedelementschange",this.Qo),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("zoomchange",this.an);},Xr:function Xr(){"scale"===this.mode?(this["#scale-grippies"].style.setProperty("visibility","visible"),this["#rotate-grippies"].style.setProperty("visibility","hidden"),this["#skew-grippies"].style.setProperty("visibility","hidden"),this["#origin-grippie"].style.setProperty("visibility","hidden")):"rotate-and-skew"===this.mode&&(this["#scale-grippies"].style.setProperty("visibility","hidden"),this["#rotate-grippies"].style.setProperty("visibility","visible"),this["#skew-grippies"].style.setProperty("visibility","visible"),this["#origin-grippie"].style.setProperty("visibility","visible")),this.gr();},Jo:function Jo(){0===this.Pn.selectedObjectElements.length?this["#grippies"].style.setProperty("display","none"):this["#grippies"].style.setProperty("display","block"),this.gr();},sl:function sl(t){this.Pn.selectedElements.length>100?this.nd():this.sd();},il:function il(){this.sd();},wo:function wo(t){var _this348=this;var _e663,_i627,s=t.target,n=new DOMPoint(t.clientX,t.clientY),o=n;s.setPointerCapture(t.pointerId),s.addEventListener("pointermove",_e663=function e(i){var l=new DOMPoint(i.clientX,i.clientY),h=i.timeStamp-t.timeStamp,a=De(n,l)>3||h>80,r=!1===Ce(o,l,0);o=l,!0===a&&!0===r&&(s.removeEventListener("pointermove",_e663),_this348.ro(t,i));}),s.addEventListener("pointerup",_i627=function i(t){s.removeEventListener("pointermove",_e663),s.removeEventListener("pointerup",_i627);});},Ch:function Ch(t){var e=t.target.parentElement;e===this["#rotate-grippies"]?this.od(t):e===this["#skew-grippies"]?this.ld(t):e===this["#origin-grippie"]&&this.hd(t);},ro:function ro(t,e){var i=e.target.parentElement;if(i===this["#scale-grippies"]){var _i628=e.target;this.ad(t,_i628);}else if(i===this["#rotate-grippies"])this.rd(t);else if(i===this["#skew-grippies"]){var _i629=e.target;this.dd(t,_i629);}else i===this["#origin-grippie"]&&this.pd(t);},ad:function ad(t,e){var _this349=this;if(0!==t.button)return;var i,s,n=_toConsumableArray(this.Pn.outermostSelectedObjectElements),o=e.getAttribute("data-position"),l=new DOMPoint(e.x.baseVal.value+e.width.baseVal.value/2,e.y.baseVal.value+e.height.baseVal.value/2).matrixTransform(jt(e)),h=new DOMPoint(t.clientX,t.clientY),a=new X(h,l),r=this.Qs.getConfig("bx-transformsettings:preserveStrokeWidth",!0),d=this.Qs.getConfig("bx-transformsettings:preserveRectRadii",!0),c=this.Qs.getConfig("bx-transformsettings:preserveRotation",!0),p=this.Qs.getConfig("bx-transformsettings:preserveAspectRatio",!1);this.Zr=!0,this.Pn.undoManager.checkpoint("Scale"),this.Pn.snapManager.snapStart(),n=n.filter(function(t){if("text"===t.localName){var _e664=_this349.jo(t);if(_e664&&_this349.Pn.outermostSelectedElements.includes(_e664))return!1;}return!0;});var _iterator523=_createForOfIteratorHelper(n),_step523;try{for(_iterator523.s();!(_step523=_iterator523.n()).done;){var _t883=_step523.value;if(!0===r){var _e670=jt(_t883),_Fl17=Fl(_e670),_i634=_Fl17.scaleX,_s365=_Fl17.scaleY,_n266="left"===o||"right"===o?_i634:_s365,_l197=getComputedStyle(_t883);_t883[op]=_t883.style.getPropertyValue("stroke-width"),_t883[lp]=_t883.style.getPropertyValue("vector-effect");var _h149=Zc(_n266)*tp(_l197.getPropertyValue("stroke-width"));_t883.style.setProperty("stroke-width",_h149),_t883.style.setProperty("vector-effect","non-scaling-stroke");}}}catch(err){_iterator523.e(err);}finally{_iterator523.f();}if(this.ud(n)){var _n262=n,_n263=_toArray(_n262),_t878=_n263[0],_e665=_n263.slice(1),_s360=Symbol();this.ed=!0;Vt(_t878,this);var _iterator524=_createForOfIteratorHelper(n),_step524;try{var _loop16=function _loop16(){var t=_step524.value;var e=jt(t).inverse(),i=Nt(t),o=n.filter(function(e){return e!==t;}),l=[Ci(t)];var _iterator526=_createForOfIteratorHelper(o),_step526;try{for(_iterator526.s();!(_step526=_iterator526.n()).done;){var _e667=_step526.value;var _i631=Vt(_e667,t),_s361=Ue(Ci(_e667),_i631);l.push(_s361);}}catch(err){_iterator526.e(err);}finally{_iterator526.f();}var h=Ne(l);t[_s360]={clientToUserTransform:e,userTransform:i,bbox:h};};for(_iterator524.s();!(_step524=_iterator524.n()).done;){_loop16();}}catch(err){_iterator524.e(err);}finally{_iterator524.f();}window.addEventListener("pointermove",i=function i(t){var _iterator525=_createForOfIteratorHelper(n),_step525;try{for(_iterator525.s();!(_step525=_iterator525.n()).done;){var _e666=_step525.value;var _e666$_s=_e666[_s360],_i630=_e666$_s.clientToUserTransform,_n264=_e666$_s.userTransform,_l195=_e666$_s.bbox,_r74=h.matrixTransform(_i630),_d59=new DOMPoint(t.clientX,t.clientY);{var _t879=_this349.Pn.snapManager.snapPoint(_d59);!1===Ce(_d59,_t879)&&(_d59=_t879,_d59.x-=a.x,_d59.y-=a.y);}var _c48=_d59.matrixTransform(_i630),_u35=_c48.x-_r74.x,_x103=_c48.y-_r74.y,_this349$xd=_this349.xd(_u35,_x103,_l195,o,p),_b33=_this349$xd.centerX,_m32=_this349$xd.centerY,_g29=_this349$xd.scaleX,_f20=_this349$xd.scaleY,_w18=-_b33*(_g29-1),_v14=-_m32*(_f20-1),_y6=DOMMatrix.fromMatrix(_n264);_y6.translateSelf(_w18,_v14),_y6.scaleSelf(_g29,_f20),_e666.setAttribute("transform",_y6);}}catch(err){_iterator525.e(err);}finally{_iterator525.f();}});}else{var _e668=this.Pn.outermostSelectedObjectElements.map(function(t){return Mi(t);}),_s362=Ne(_e668);var _iterator527=_createForOfIteratorHelper(n),_step527;try{for(_iterator527.s();!(_step527=_iterator527.n()).done;){var _t881=_step527.value;var _e669=jt(_t881),_i633=_e669.inverse(),_s363=Nt(_t881);_t881[hp]={clientToUserTransform:_e669,userToClientTransform:_i633,userTransform:_s363};}}catch(err){_iterator527.e(err);}finally{_iterator527.f();}window.addEventListener("pointermove",i=function i(e){var _iterator528=_createForOfIteratorHelper(n),_step528;try{for(_iterator528.s();!(_step528=_iterator528.n()).done;){var _i632=_step528.value;var _n265=new DOMPoint(t.clientX,t.clientY),_l196=new DOMPoint(e.clientX,e.clientY);{var _t880=_this349.Pn.snapManager.snapPoint(_l196);!1===Ce(_l196,_t880)&&(_l196=_t880,_l196.x-=a.x,_l196.y-=a.y);}var _h148=_l196.x-_n265.x,_r75=_l196.y-_n265.y,_i632$hp=_i632[hp],_d60=_i632$hp.clientToUserTransform,_c49=_i632$hp.userToClientTransform,_u36=_i632$hp.userTransform,_this349$xd2=_this349.xd(_h148,_r75,_s362,o,p),_x104=_this349$xd2.centerX,_b34=_this349$xd2.centerY,_m33=_this349$xd2.scaleX,_g30=_this349$xd2.scaleY,_f21=-_x104*(_m33-1),_w19=-_b34*(_g30-1),_v15=DOMMatrix.fromMatrix(_u36);_v15.multiplySelf(_c49),_v15.translateSelf(_f21,_w19),_v15.scaleSelf(_m33,_g30),_v15.multiplySelf(_d60),_i632.setAttribute("transform",_v15.toString());}}catch(err){_iterator528.e(err);}finally{_iterator528.f();}});}window.addEventListener("pointerup",s=function(_s364){function s(_x105){return _s364.apply(this,arguments);}s.toString=function(){return _s364.toString();};return s;}(function(t){window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",s);var _iterator529=_createForOfIteratorHelper(n),_step529;try{for(_iterator529.s();!(_step529=_iterator529.n()).done;){var _t882=_step529.value;!0===r&&(_t882.style.setProperty("stroke-width",_t882[op]),_t882.style.setProperty("vector-effect",_t882[lp])),mh(_t882,{geometryPrecision:_this349.Pn.geometryPrecision,transformPrecision:_this349.Pn.transformPrecision,preserveStrokeWidth:r,preserveRectRadii:d,preserveRotation:c,transformDirection:o});}}catch(err){_iterator529.e(err);}finally{_iterator529.f();}_this349.Pn.snapManager.snapEnd(),_this349.Zr=!1,_this349.ed=!1;}));},rd:function rd(t){var _this350=this;if(0!==t.button)return;var e=_toConsumableArray(this.Pn.outermostSelectedObjectElements),i=this.Qs.getConfig("bx-transformsettings:preserveRotation",!0);if(this.Pn.undoManager.checkpoint("Rotate"),e=e.filter(function(t){if("text"===t.localName){var _e671=_this350.jo(t);if(_e671&&_this350.Pn.outermostSelectedObjectElements.includes(_e671))return!1;}return!0;}),this.ud(e)&&(this.ed=!0),1===e.length){var _s366,_n268,_o210=e[0],_l198=te(_o210),_h150=new DOMPoint(t.clientX,t.clientY),_a123=Jt([_o210]);this.td=!0,window.addEventListener("pointermove",_s366=function _s366(t){var e=new DOMPoint(t.clientX,t.clientY),i=Ie(_a123,_h150,e),s=_l198+i;_this350.Qs.modKeys.shift&&(s=Be(s,15)),ee(_o210,s);}),window.addEventListener("pointerup",_n268=function _n267(t){window.removeEventListener("pointermove",_s366),window.removeEventListener("pointerup",_n268),mh(_o210,{geometryPrecision:_this350.Pn.geometryPrecision,transformPrecision:_this350.Pn.transformPrecision,preserveStrokeWidth:!0,preserveRectRadii:!0,preserveRotation:i}),_this350.td=!1,_this350.ed=!1;});}else{var _s367,_n271,_o211=Jt(e),_l199=new DOMPoint(t.clientX,t.clientY);var _iterator530=_createForOfIteratorHelper(e),_step530;try{for(_iterator530.s();!(_step530=_iterator530.n()).done;){var _t885=_step530.value;var _e673=Nt(_t885),_i636=jt(_t885),_s369=_i636.inverse();_t885[hp]={clientToUserTransform:_i636,userToClientTransform:_s369,userTransform:_e673};}}catch(err){_iterator530.e(err);}finally{_iterator530.f();}this.td=!0,window.addEventListener("pointermove",_s367=function _s367(t){var _iterator531=_createForOfIteratorHelper(e),_step531;try{for(_iterator531.s();!(_step531=_iterator531.n()).done;){var _i635=_step531.value;var _i635$hp=_i635[hp],_e672=_i635$hp.clientToUserTransform,_s368=_i635$hp.userToClientTransform,_n270=_i635$hp.userTransform,_h151=new DOMPoint(t.clientX,t.clientY),_a124=Ie(_o211,_l199,_h151);_this350.Qs.modKeys.shift&&(_a124=Be(_a124,15));var _r76=DOMMatrix.fromMatrix(_n270);_r76.multiplySelf(_s368),_r76.translateSelf(_o211.x,_o211.y),_r76.rotateSelf(_a124),_r76.translateSelf(-_o211.x,-_o211.y),_r76.multiplySelf(_e672),_i635.setAttribute("transform",_r76);}}catch(err){_iterator531.e(err);}finally{_iterator531.f();}}),window.addEventListener("pointerup",_n271=function _n269(t){window.removeEventListener("pointermove",_s367),window.removeEventListener("pointerup",_n271);var _iterator532=_createForOfIteratorHelper(e),_step532;try{for(_iterator532.s();!(_step532=_iterator532.n()).done;){var _t884=_step532.value;mh(_t884,{geometryPrecision:_this350.Pn.geometryPrecision,transformPrecision:_this350.Pn.transformPrecision,preserveStrokeWidth:!0,preserveRectRadii:!0,preserveRotation:i});}}catch(err){_iterator532.e(err);}finally{_iterator532.f();}_this350.td=!1,_this350.ed=!1;});}},dd:function dd(t,e){var _this351=this;if(0!==t.button)return;var i,s,n,o=_toConsumableArray(this.Pn.outermostSelectedObjectElements),l=e.getAttribute("data-position");n="top"===l||"bottom"===l?"horizontal":"vertical";this.Qs.getConfig("bx-transformsettings:preserveStrokeWidth",!0);var h=this.Qs.getConfig("bx-transformsettings:preserveRectRadii",!0),a=this.Qs.getConfig("bx-transformsettings:preserveRotation",!0);this.Pn.undoManager.checkpoint("Skew"),o=o.filter(function(t){if("text"===t.localName){var _e674=_this351.jo(t);if(_e674&&_this351.Pn.outermostSelectedElements.includes(_e674))return!1;}return!0;});var _iterator533=_createForOfIteratorHelper(o),_step533;try{for(_iterator533.s();!(_step533=_iterator533.n()).done;){var _t890=_step533.value;_t890[op]=_t890.style.getPropertyValue("stroke-width"),_t890[lp]=_t890.style.getPropertyValue("vector-effect");var _e680=jt(_t890),_Fl18=Fl(_e680),_i642=_Fl18.scaleX,_s376=_Fl18.scaleY,_n272=(_i642+_s376)/2,_o216=getComputedStyle(_t890),_l203=Zc(_n272)*tp(_o216.getPropertyValue("stroke-width"));_t890.style.setProperty("stroke-width",_l203),_t890.style.setProperty("vector-effect","non-scaling-stroke");}}catch(err){_iterator533.e(err);}finally{_iterator533.f();}if(this.ud(o)){var _o212=o,_o213=_toArray(_o212),_e675=_o213[0],_s370=_o213.slice(1),_l200=Ci(_e675),_h152=[],_a125=Symbol();var _iterator534=_createForOfIteratorHelper(_s370),_step534;try{for(_iterator534.s();!(_step534=_iterator534.n()).done;){var _t886=_step534.value;var _i638=Vt(_t886,_e675),_s372=Ue(Ci(_t886),_i638);_h152.push(_s372);}}catch(err){_iterator534.e(err);}finally{_iterator534.f();}Ne([_l200].concat(_h152)),Vt(_e675,this);var _r77=new DOMPoint(t.clientX,t.clientY),_d61=Jt(o);var _iterator535=_createForOfIteratorHelper(o),_step535;try{for(_iterator535.s();!(_step535=_iterator535.n()).done;){var _t887=_step535.value;var _e677=jt(_t887).inverse(),_i639=Nt(_t887);_t887[_a125]={clientToUserTransform:_e677,userTransform:_i639};}}catch(err){_iterator535.e(err);}finally{_iterator535.f();}window.addEventListener("pointermove",i=function i(t){var _this351$Qs$modKeys=_this351.Qs.modKeys,e=_this351$Qs$modKeys.ctrl,i=_this351$Qs$modKeys.alt,s=_this351$Qs$modKeys.shift;var _iterator536=_createForOfIteratorHelper(o),_step536;try{for(_iterator536.s();!(_step536=_iterator536.n()).done;){var _e676=_step536.value;var _e676$_a=_e676[_a125],_i637=_e676$_a.clientToUserTransform,_s371=_e676$_a.userTransform,_o214=_r77.matrixTransform(_i637),_l201=_d61.matrixTransform(_i637),_h153=new DOMPoint(t.clientX,t.clientY).matrixTransform(_i637),_c50=Ie(_l201,_o214,_h153),_p41=DOMMatrix.fromMatrix(_s371);_p41="horizontal"===n?se(_p41,-_c50,0,_l201.x,_l201.y):se(_p41,0,_c50,_l201.x,_l201.y),_e676.setAttribute("transform",_p41.toString());}}catch(err){_iterator536.e(err);}finally{_iterator536.f();}});}else{var _e678=new DOMPoint(t.clientX,t.clientY),_s373=Jt(o);var _iterator537=_createForOfIteratorHelper(o),_step537;try{for(_iterator537.s();!(_step537=_iterator537.n()).done;){var _t888=_step537.value;var _e679=jt(_t888),_i641=_e679.inverse(),_s374=Nt(_t888);_t888[hp]={clientToUserTransform:_e679,userToClientTransform:_i641,userTransform:_s374};}}catch(err){_iterator537.e(err);}finally{_iterator537.f();}window.addEventListener("pointermove",i=function i(t){var _iterator538=_createForOfIteratorHelper(o),_step538;try{for(_iterator538.s();!(_step538=_iterator538.n()).done;){var _i640=_step538.value;var _i640$hp=_i640[hp],_o215=_i640$hp.clientToUserTransform,_l202=_i640$hp.userToClientTransform,_h154=_i640$hp.userTransform,_a126=new DOMPoint(t.clientX,t.clientY),_r78=Ie(_s373,_e678,_a126),_d62=DOMMatrix.fromMatrix(_h154);_d62.multiplySelf(_l202),_d62="horizontal"===n?se(_d62,-_r78,0,_s373.x,_s373.y):se(_d62,0,_r78,_s373.x,_s373.y),_d62.multiplySelf(_o215),_i640.setAttribute("transform",_d62.toString());}}catch(err){_iterator538.e(err);}finally{_iterator538.f();}});}window.addEventListener("pointerup",s=function(_s375){function s(_x106){return _s375.apply(this,arguments);}s.toString=function(){return _s375.toString();};return s;}(function(t){window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",s);var _iterator539=_createForOfIteratorHelper(o),_step539;try{for(_iterator539.s();!(_step539=_iterator539.n()).done;){var _t889=_step539.value;_t889.style.setProperty("stroke-width",_t889[op]),_t889.style.setProperty("vector-effect",_t889[lp]),mh(_t889,{geometryPrecision:_this351.Pn.geometryPrecision,transformPrecision:_this351.Pn.transformPrecision,preserveStrokeWidth:!0,preserveRectRadii:h,preserveRotation:a});}}catch(err){_iterator539.e(err);}finally{_iterator539.f();}}));},pd:function pd(t){var _this352=this;if(0!==t.button)return;var e,_i644,s=_toConsumableArray(this.Pn.outermostSelectedObjectElements),n=new DOMPoint(t.clientX,t.clientY);var _iterator540=_createForOfIteratorHelper(s),_step540;try{for(_iterator540.s();!(_step540=_iterator540.n()).done;){var _t892=_step540.value;var _e682=jt(_t892).inverse(),_i645=Ci(_t892);_t892[hp]={clientToUserTransform:_e682},_t892[ap]=_i645;}}catch(err){_iterator540.e(err);}finally{_iterator540.f();}this.Pn.undoManager.checkpoint("Move origin");var o=Jt(s);window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new X(n,e),l=new DOMPoint(o.x+i.x,o.y+i.y);var _iterator541=_createForOfIteratorHelper(s),_step541;try{for(_iterator541.s();!(_step541=_iterator541.n()).done;){var _t891=_step541.value;var _e681=_t891[hp].clientToUserTransform,_i643=_t891[ap],_s377=l.matrixTransform(_e681),_n273=he(_s377,_i643),_o217=Z(_n273.x,_this352.Pn.geometryPrecision),_h155=Z(_n273.y,_this352.Pn.geometryPrecision);_t891.setAttribute("data-bx-origin","".concat(_o217," ").concat(_h155));}}catch(err){_iterator541.e(err);}finally{_iterator541.f();}}),window.addEventListener("pointerup",_i644=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i644);});},od:function od(t){this.Pn.undoManager.checkpoint("Remove transform");var _iterator542=_createForOfIteratorHelper(this.Pn.outermostSelectedObjectElements),_step542;try{for(_iterator542.s();!(_step542=_iterator542.n()).done;){var _t893=_step542.value;_t893.removeAttribute("transform");}}catch(err){_iterator542.e(err);}finally{_iterator542.f();}},ld:function ld(t){this.Pn.undoManager.checkpoint("Remove transform");var _iterator543=_createForOfIteratorHelper(this.Pn.outermostSelectedObjectElements),_step543;try{for(_iterator543.s();!(_step543=_iterator543.n()).done;){var _t894=_step543.value;_t894.removeAttribute("transform");}}catch(err){_iterator543.e(err);}finally{_iterator543.f();}},hd:function hd(t){this.Pn.undoManager.checkpoint("Reset transform origin");var _iterator544=_createForOfIteratorHelper(this.Pn.outermostSelectedObjectElements),_step544;try{for(_iterator544.s();!(_step544=_iterator544.n()).done;){var _t895=_step544.value;_t895.removeAttribute("data-bx-origin");}}catch(err){_iterator544.e(err);}finally{_iterator544.f();}},gr:function gr(){"scale"===this.mode?this.bd():"rotate-and-skew"===this.mode&&(this.md(),this.gd(),!1===this.td&&this.fd());},bd:function bd(){var t=this.Pn.outermostSelectedObjectElements;if(t.length>0){var _e683,_i646=ep/this.Pn.scale,_s378=(this.Pn.scale,this.Kr);var _iterator545=_createForOfIteratorHelper(this["#scale-grippies"].children),_step545;try{for(_iterator545.s();!(_step545=_iterator545.n()).done;){var _t898=_step545.value;_t898.width.baseVal.value=_i646,_t898.height.baseVal.value=_i646;}}catch(err){_iterator545.e(err);}finally{_iterator545.f();}if(this.ed||this.ud(t)){var _t896=_toArray(t),_n274=_t896[0],_o218=_t896.slice(1),_l204=Ci(_n274),_h156=[];var _iterator546=_createForOfIteratorHelper(_o218),_step546;try{for(_iterator546.s();!(_step546=_iterator546.n()).done;){var _t897=_step546.value;var _e684=Vt(_t897,_n274),_i647=Ue(Ci(_t897),_e684);_h156.push(_i647);}}catch(err){_iterator546.e(err);}finally{_iterator546.f();}_e683=Ne([_l204].concat(_h156));var _a127=Vt(_n274,this),_r79=new DOMPoint(_e683.x+_e683.width/2,_e683.y).matrixTransform(_a127);_s378.top.x.baseVal.value=_r79.x-_i646/2,_s378.top.y.baseVal.value=_r79.y-_i646/2;var _d63=new DOMPoint(_e683.x+_e683.width/2,_e683.y+_e683.height).matrixTransform(_a127);_s378.bottom.x.baseVal.value=_d63.x-_i646/2,_s378.bottom.y.baseVal.value=_d63.y-_i646/2;var _c51=new DOMPoint(_e683.x,_e683.y+_e683.height/2).matrixTransform(_a127);_s378.left.x.baseVal.value=_c51.x-_i646/2,_s378.left.y.baseVal.value=_c51.y-_i646/2;var _p42=new DOMPoint(_e683.x+_e683.width,_e683.y+_e683.height/2).matrixTransform(_a127);_s378.right.x.baseVal.value=_p42.x-_i646/2,_s378.right.y.baseVal.value=_p42.y-_i646/2;var _u37=new DOMPoint(_e683.x,_e683.y).matrixTransform(_a127);_s378["top-left"].x.baseVal.value=_u37.x-_i646/2,_s378["top-left"].y.baseVal.value=_u37.y-_i646/2;var _x107=new DOMPoint(_e683.x+_e683.width,_e683.y).matrixTransform(_a127);_s378["top-right"].x.baseVal.value=_x107.x-_i646/2,_s378["top-right"].y.baseVal.value=_x107.y-_i646/2;var _b35=new DOMPoint(_e683.x,_e683.y+_e683.height).matrixTransform(_a127);_s378["bottom-left"].x.baseVal.value=_b35.x-_i646/2,_s378["bottom-left"].y.baseVal.value=_b35.y-_i646/2;var _m34=new DOMPoint(_e683.x+_e683.width,_e683.y+_e683.height).matrixTransform(_a127);_s378["bottom-right"].x.baseVal.value=_m34.x-_i646/2,_s378["bottom-right"].y.baseVal.value=_m34.y-_i646/2;}else{var _n275=jt(this).inverse(),_o219=t.map(function(t){return Mi(t);});_e683=Ne(_o219),_e683=Ue(_e683,_n275),_s378.top.x.baseVal.value=_e683.x+_e683.width/2-_i646/2,_s378.top.y.baseVal.value=_e683.y-_i646/2,_s378.bottom.x.baseVal.value=_e683.x+_e683.width/2-_i646/2,_s378.bottom.y.baseVal.value=_e683.y+_e683.height-_i646/2,_s378.left.x.baseVal.value=_e683.x-_i646/2,_s378.left.y.baseVal.value=_e683.y+_e683.height/2-_i646/2,_s378.right.x.baseVal.value=_e683.x+_e683.width-_i646/2,_s378.right.y.baseVal.value=_e683.y+_e683.height/2-_i646/2,_s378["top-left"].x.baseVal.value=_e683.x-_i646/2,_s378["top-left"].y.baseVal.value=_e683.y-_i646/2,_s378["top-right"].x.baseVal.value=_e683.x+_e683.width-_i646/2,_s378["top-right"].y.baseVal.value=_e683.y-_i646/2,_s378["bottom-left"].x.baseVal.value=_e683.x-_i646/2,_s378["bottom-left"].y.baseVal.value=_e683.y+_e683.height-_i646/2,_s378["bottom-right"].x.baseVal.value=_e683.x+_e683.width-_i646/2,_s378["bottom-right"].y.baseVal.value=_e683.y+_e683.height-_i646/2;}_s378.top.style.visibility=0===_e683.height?"hidden":null,_s378.bottom.style.visibility=0===_e683.height?"hidden":null,_s378.left.style.visibility=0===_e683.width?"hidden":null,_s378.right.style.visibility=0===_e683.width?"hidden":null,_s378["top-left"].style.visibility=0===_e683.width||0===_e683.height?"hidden":null,_s378["top-right"].style.visibility=0===_e683.width||0===_e683.height?"hidden":null,_s378["bottom-left"].style.visibility=0===_e683.width||0===_e683.height?"hidden":null,_s378["bottom-right"].style.visibility=0===_e683.width||0===_e683.height?"hidden":null;}},md:function md(){var t=this.Pn.outermostSelectedObjectElements;if(t.length>0){var _e685,_i648=ip/this.Pn.scale,_s379=(this.Pn.scale,this.Jr);var _iterator547=_createForOfIteratorHelper(this["#rotate-grippies"].children),_step547;try{for(_iterator547.s();!(_step547=_iterator547.n()).done;){var _t901=_step547.value;_t901.width.baseVal.value=_i648,_t901.height.baseVal.value=_i648;}}catch(err){_iterator547.e(err);}finally{_iterator547.f();}if(this.ed||this.ud(t)){var _t899=_toArray(t),_n276=_t899[0],_o220=_t899.slice(1),_l205=Ci(_n276),_h157=[];var _iterator548=_createForOfIteratorHelper(_o220),_step548;try{for(_iterator548.s();!(_step548=_iterator548.n()).done;){var _t900=_step548.value;var _e686=Vt(_t900,_n276),_i649=Ue(Ci(_t900),_e686);_h157.push(_i649);}}catch(err){_iterator548.e(err);}finally{_iterator548.f();}_e685=Ne([_l205].concat(_h157));var _a128=Vt(_n276,this),_r80=new DOMPoint(_e685.x,_e685.y).matrixTransform(_a128);_s379["top-left"].x.baseVal.value=_r80.x-_i648/2,_s379["top-left"].y.baseVal.value=_r80.y-_i648/2;var _d64=new DOMPoint(_e685.x+_e685.width,_e685.y).matrixTransform(_a128);_s379["top-right"].x.baseVal.value=_d64.x-_i648/2,_s379["top-right"].y.baseVal.value=_d64.y-_i648/2;var _c52=new DOMPoint(_e685.x,_e685.y+_e685.height).matrixTransform(_a128);_s379["bottom-left"].x.baseVal.value=_c52.x-_i648/2,_s379["bottom-left"].y.baseVal.value=_c52.y-_i648/2;var _p43=new DOMPoint(_e685.x+_e685.width,_e685.y+_e685.height).matrixTransform(_a128);_s379["bottom-right"].x.baseVal.value=_p43.x-_i648/2,_s379["bottom-right"].y.baseVal.value=_p43.y-_i648/2;}else{var _n277=jt(this).inverse(),_o221=t.map(function(t){return Mi(t);});_e685=Ne(_o221),_e685=Ue(_e685,_n277),_s379["top-left"].x.baseVal.value=_e685.x-_i648/2,_s379["top-left"].y.baseVal.value=_e685.y-_i648/2,_s379["top-right"].x.baseVal.value=_e685.x+_e685.width-_i648/2,_s379["top-right"].y.baseVal.value=_e685.y-_i648/2,_s379["bottom-left"].x.baseVal.value=_e685.x-_i648/2,_s379["bottom-left"].y.baseVal.value=_e685.y+_e685.height-_i648/2,_s379["bottom-right"].x.baseVal.value=_e685.x+_e685.width-_i648/2,_s379["bottom-right"].y.baseVal.value=_e685.y+_e685.height-_i648/2;}_s379["bottom-left"].style.visibility=0===_e685.width||0===_e685.height?"hidden":null,_s379["bottom-right"].style.visibility=0===_e685.width||0===_e685.height?"hidden":null;}},gd:function gd(){var t=this.Pn.outermostSelectedObjectElements;if(t.length>0){var _e687,_i650=sp/this.Pn.scale,_s380=(this.Pn.scale,this.Qr);var _iterator549=_createForOfIteratorHelper(this["#skew-grippies"].children),_step549;try{for(_iterator549.s();!(_step549=_iterator549.n()).done;){var _t904=_step549.value;_t904.width.baseVal.value=_i650,_t904.height.baseVal.value=_i650;}}catch(err){_iterator549.e(err);}finally{_iterator549.f();}if(this.ed||this.ud(t)){var _t902=_toArray(t),_n278=_t902[0],_o222=_t902.slice(1),_l206=Ci(_n278),_h158=[];var _iterator550=_createForOfIteratorHelper(_o222),_step550;try{for(_iterator550.s();!(_step550=_iterator550.n()).done;){var _t903=_step550.value;var _e688=Vt(_t903,_n278),_i651=Ue(Ci(_t903),_e688);_h158.push(_i651);}}catch(err){_iterator550.e(err);}finally{_iterator550.f();}_e687=Ne([_l206].concat(_h158));var _a129=Vt(_n278,this),_r81=new DOMPoint(_e687.x+_e687.width/2,_e687.y).matrixTransform(_a129);_s380.top.x.baseVal.value=_r81.x-_i650/2,_s380.top.y.baseVal.value=_r81.y-_i650/2;var _d65=new DOMPoint(_e687.x+_e687.width/2,_e687.y+_e687.height).matrixTransform(_a129);_s380.bottom.x.baseVal.value=_d65.x-_i650/2,_s380.bottom.y.baseVal.value=_d65.y-_i650/2;var _c53=new DOMPoint(_e687.x,_e687.y+_e687.height/2).matrixTransform(_a129);_s380.left.x.baseVal.value=_c53.x-_i650/2,_s380.left.y.baseVal.value=_c53.y-_i650/2;var _p44=new DOMPoint(_e687.x+_e687.width,_e687.y+_e687.height/2).matrixTransform(_a129);_s380.right.x.baseVal.value=_p44.x-_i650/2,_s380.right.y.baseVal.value=_p44.y-_i650/2;}else{var _n279=jt(this).inverse(),_o223=t.map(function(t){return Mi(t);});_e687=Ne(_o223),_e687=Ue(_e687,_n279),_s380.top.x.baseVal.value=_e687.x+_e687.width/2-_i650/2,_s380.top.y.baseVal.value=_e687.y-_i650/2,_s380.bottom.x.baseVal.value=_e687.x+_e687.width/2-_i650/2,_s380.bottom.y.baseVal.value=_e687.y+_e687.height-_i650/2,_s380.left.x.baseVal.value=_e687.x-_i650/2,_s380.left.y.baseVal.value=_e687.y+_e687.height/2-_i650/2,_s380.right.x.baseVal.value=_e687.x+_e687.width-_i650/2,_s380.right.y.baseVal.value=_e687.y+_e687.height/2-_i650/2;}_s380.top.style.visibility=0===_e687.width||0===_e687.height?"hidden":null,_s380.bottom.style.visibility=0===_e687.width||0===_e687.height?"hidden":null,_s380.left.style.visibility=0===_e687.width||0===_e687.height?"hidden":null,_s380.right.style.visibility=0===_e687.width||0===_e687.height?"hidden":null;}},fd:function fd(){if(this.Pn.selectedObjectElements.length>=1){var _t905=np/this.Pn.scale,_e689=jt(this.Pn.currentWorkspace).inverse(),_i652=Jt(this.Pn.outermostSelectedObjectElements);_i652=_i652.matrixTransform(_e689),this["#origin-grippie"].setAttribute("width",_t905),this["#origin-grippie"].setAttribute("height",_t905),this["#origin-grippie"].setAttribute("x",_i652.x-_t905/2),this["#origin-grippie"].setAttribute("y",_i652.y-_t905/2);}},blink:function blink(){var _this353=this;return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee87(){return regeneratorRuntime.wrap(function _callee87$(_context88){while(1){switch(_context88.prev=_context88.next){case 0:_this353["#grippies"].style.setProperty("display","none");_context88.next=3;return Qi(200);case 3:_this353.Pn.selectedObjectElements.length>0&&_this353["#grippies"].style.setProperty("display","block");case 4:case"end":return _context88.stop();}}},_callee87);}))();},jo:function jo(t){var e=t.querySelector("textPath"),i=null;return e&&e.hasAttribute("href")&&(i=this.Pn.workspaces.querySelector(e.href.baseVal)),i;},ud:function ud(t){if(t.length>1){var _t906=_toArray(t),_e690=_t906[0],_i653=_t906.slice(1);var _iterator551=_createForOfIteratorHelper(_i653),_step551;try{for(_iterator551.s();!(_step551=_iterator551.n()).done;){var _t907=_step551.value;if(_t907.parentElement!==_e690.parentElement)return!1;}}catch(err){_iterator551.e(err);}finally{_iterator551.f();}var _s381=Nt(_e690),_n280=Z(Kc(_s381.c/_s381.d),2),_o224=Z(Kc(-_s381.b/_s381.a),2);var _iterator552=_createForOfIteratorHelper(_i653),_step552;try{for(_iterator552.s();!(_step552=_iterator552.n()).done;){var _t908=_step552.value;var _e691=Nt(_t908),_i654=Z(Kc(_e691.c/_e691.d),2),_s382=Z(Kc(-_e691.b/_e691.a),2);if(!1===Object.is(_i654,_n280)||!1===Object.is(_s382,_o224))return!1;}}catch(err){_iterator552.e(err);}finally{_iterator552.f();}}return!0;},xd:function xd(t,e,i,s,n){var o,l,h,a,r,_this$Qs$modKeys10=this.Qs.modKeys,d=_this$Qs$modKeys10.ctrl,c=_this$Qs$modKeys10.alt,p=_this$Qs$modKeys10.shift;return!1===n?d||p?!d&&p?r="B":d&&!p?r="C":d&&p&&(r="D"):r="A":!0===n&&(d||p?!d&&p?r="A":d&&!p?r="D":d&&p&&(r="C"):r="B"),"top"===s?"A"===r?(o=i.x+i.width/2,l=i.y+i.height,h=1,a=(i.height-e)/i.height):"B"===r?(o=i.x+i.width/2,l=i.y+i.height,a=(i.height-e)/i.height,h=a):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,h=1,a=(i.height-i.height/2-e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.height-i.height/2-e)/(i.height-i.height/2),h=a):"bottom"===s?"A"===r?(o=i.x+i.width/2,l=i.y,h=1,a=(i.height+e)/i.height):"B"===r?(o=i.x+i.width/2,l=i.y,a=(i.height+e)/i.height,h=a):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,h=1,a=(i.height-i.height/2+e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.height-i.height/2+e)/(i.height-i.height/2),h=a):"left"===s?"A"===r?(o=i.x+i.width,l=i.y+i.height/2,h=(i.width-t)/i.width,a=1):"B"===r?(o=i.x+i.width,l=i.y+i.height/2,h=(i.width-t)/i.width,a=h):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.width-i.width/2-t)/(i.width-i.width/2),a=1):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.width-i.width/2-t)/(i.width-i.width/2),a=h):"right"===s&&("A"===r?(o=i.x,l=i.y+i.height/2,h=(i.width+t)/i.width,a=1):"B"===r?(o=i.x,l=i.y+i.height/2,h=(i.width+t)/i.width,a=h):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.width-i.width/2+t)/(i.width-i.width/2),a=1):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,h=a=(i.width-i.width/2+t)/(i.width-i.width/2))),"top-left"===s?"A"===r?(o=i.x+i.width,l=i.y+i.height,h=(i.width-t)/i.width,a=(i.height-e)/i.height):"B"===r?(o=i.x+i.width,l=i.y+i.height,h=(i.width-t)/i.width,a=(i.height-e)/i.height,h=a=Qc(h,a)):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.width-i.width/2-t)/(i.width-i.width/2),a=(i.height-i.height/2-e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.width-i.width/2-t)/(i.width-i.width/2),a=(i.height-i.height/2-e)/(i.height-i.height/2),h>=0&&a>=0?h=a=Qc(h,a):h<=0&&a<=0?h=a=Jc(h,a):Zc(h)>=Zc(a)?h=-a:a=-h):"top-right"===s?"A"===r?(o=i.x,l=i.y+i.height,h=(i.width+t)/i.width,a=(i.height-e)/i.height):"B"===r?(o=i.x,l=i.y+i.height,h=(i.width+t)/i.width,a=(i.height-e)/i.height,h=a=Qc(h,a)):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.width-i.width/2+t)/(i.width-i.width/2),a=(i.height-i.height/2-e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.width-i.width/2+t)/(i.width-i.width/2),a=(i.height-i.height/2-e)/(i.height-i.height/2),h>=0&&a>=0?h=a=Qc(h,a):h<=0&&a<=0?h=a=Jc(h,a):Zc(h)>=Zc(a)?h=-a:a=-h):"bottom-left"===s?"A"===r?(o=i.x+i.width,l=i.y,h=(i.width-t)/i.width,a=(i.height+e)/i.height):"B"===r?(o=i.x+i.width,l=i.y,h=(i.width-t)/i.width,a=(i.height+e)/i.height,h=a=Qc(h,a)):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.width-i.width/2-t)/(i.width-i.width/2),a=(i.height-i.height/2+e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.width-i.width/2-t)/(i.width-i.width/2),a=(i.height-i.height/2+e)/(i.height-i.height/2),h>=0&&a>=0?h=a=Qc(h,a):h<=0&&a<=0?h=a=Jc(h,a):Zc(h)>=Zc(a)?h=-a:a=-h):"bottom-right"===s&&("A"===r?(o=i.x,l=i.y,h=(i.width+t)/i.width,a=(i.height+e)/i.height):"B"===r?(o=i.x,l=i.y,h=(i.width+t)/i.width,a=(i.height+e)/i.height,h=a=Qc(h,a)):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.width-i.width/2+t)/(i.width-i.width/2),a=(i.height-i.height/2+e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.width-i.width/2+t)/(i.width-i.width/2),a=(i.height-i.height/2+e)/(i.height-i.height/2),h>=0&&a>=0?h=a=Qc(h,a):h<=0&&a<=0?h=a=Jc(h,a):Zc(h)>=Zc(a)?h=-a:a=-h)),{centerX:o,centerY:l,scaleX:h,scaleY:a};}};var dp={id:"text-hud",get inputMode(){return this.hasAttribute("inputmode");},createdCallback:function createdCallback(){var _this354=this;this.wd=Xi(this.vd,200,this),this.yd=Zi(this.yd,300,this,!0),this.kd=null,this.tabIndex=-1,this.innerHTML='\n  <style>\n    /**\n     * Overlays\n     */\n\n    #text-hud [uid="caret-line"] {\n      stroke-width: 3;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      stroke: gray;\n    }\n    #text-hud[inputmode] [uid="caret-line"] {\n      stroke: blue;\n    }\n\n    #text-hud [uid="selection-rects"] rect {\n      fill: rgba(179, 179, 179, 0.3);\n      pointer-events: none;\n    }\n    #text-hud[inputmode] [uid="selection-rects"] rect {\n      fill: var(--selection-background-color);\n    }\n\n    /**\n     * HTML input\n     */\n\n    #text-hud [uid="html-input-object"] {\n      width: 1px;\n      height: 1px;\n      opacity: 0;\n      background: white;\n      pointer-events: none;\n    }\n    #text-hud[debug] [uid="html-input-object"] {\n      width: 150px;\n      height: 50px;\n      opacity: 1;\n      pointer-events: all;\n    }\n\n    #text-hud [uid="html-input-object"] * {\n      /* Needed for correct positioning of IME dialog */\n      font-size: 0.01px !important;\n    }\n    #text-hud[debug] [uid="html-input-object"] * {\n      font-size: 10px !important;\n    }\n\n    #text-hud [uid="html-input"] {\n      width: 100%;\n      height: 100%;\n      padding: 0;\n      margin: 0;\n      white-space: pre;\n    }\n    #text-hud[inputmode] [uid="html-input"] {\n      /* Make text editable and selectable */\n      -webkit-user-modify: read-write-plaintext-only;\n      -webkit-user-select: text;\n    }\n\n    #text-hud [uid="html-input"] *:not(span):not(a) {\n      display: none;\n    }\n  </style>\n\n  <g uid="overlays">\n    <line uid="caret-line"></line>\n    <g uid="selection-rects"></g>\n  </g>\n\n  <foreignObject uid="html-input-object" width="200" height="16">\n    <p uid="html-input" tabindex="0"></p>\n  </foreignObject>\n',this.commands={selectAll:{enabled:function enabled(){return null!==_this354.Pn.selectedTextRange;},exec:function exec(){return _this354.Sd(Ai(_this354.Pn.selectedTextRange.startContainer,"text"));}},deselectAll:{enabled:function enabled(){return null!==_this354.Pn.selectedTextRange;},exec:function exec(){var t=_this354.Pn.selectedTextRange.cloneRange();t.collapse(!0),_this354.Pn.selectedTextRange=t;}}};var _iterator553=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step553;try{for(_iterator553.s();!(_step553=_iterator553.n()).done;){var _t909=_step553.value;this["#"+_t909.getAttribute("uid")]=_t909;}}catch(err){_iterator553.e(err);}finally{_iterator553.f();}var t=!1;this.addEventListener("focus",function(){return _this354["#html-input"].focus();}),this["#html-input"].addEventListener("focus",function(t){_this354.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0})),_this354["#html-input"].setAttribute("contenteditable","plaintext-only"),_this354.setAttribute("inputmode",""),_this354._d();}),this["#html-input"].addEventListener("blur",function(){_this354.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),_this354["#html-input"].removeAttribute("contenteditable"),_this354.removeAttribute("inputmode");}),this["#html-input"].addEventListener("input",function(t){_this354.Cd(t);}),this["#html-input"].addEventListener("keydown",/*#__PURE__*/function(){var _ref96=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee88(e){return regeneratorRuntime.wrap(function _callee88$(_context89){while(1){switch(_context89.prev=_context89.next){case 0:_context89.t0=t;if(_context89.t0){_context89.next=5;break;}t=!0;_context89.next=5;return Qi(1);case 5:_this354.Md(e);case 6:case"end":return _context89.stop();}}},_callee88);}));return function(_x108){return _ref96.apply(this,arguments);};}()),this["#html-input"].addEventListener("keyup",function(e){t=!1,_this354.Md(e);});},enabledCallback:function enabledCallback(){var _this355=this;this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this.Pn=Ai(this,"bx-board"),this.Pn.workspaces.addEventListener("pointerdown",this.yn=function(t){_this355.kn(t);}),this.Pn.addEventListener("selectedtextrangechange",this.Wh=function(){_this355.qh();}),1===this.Pn.selectedElements.length&&"text"===this.Pn.selectedElements[0].localName&&this.Sd(this.Pn.selectedElements[0]);},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this.Pn.workspaces.removeEventListener("pointerdown",this.yn),this.Pn.removeEventListener("selectedtextrangechange",this.Wh);},el:function el(){var _this356=this;this.style.display=null,this.Wo=!0,this["#html-input-object"].append(this["#html-input"]),this["#html-input"].focus(),this.Pd(),this._d(),this.vd(),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this356.Jo();}),this.Pn.addEventListener("workspacemutation",this.rn=function(){_this356.wd();}),this.Pn.undoManager.addEventListener("undo",this.Mh=function(){_this356.Kh();}),this.Pn.undoManager.addEventListener("redo",this.Ph=function(){_this356.Kh();});},tl:function tl(){this["#html-input"].remove(),this.style.display="none",this.Wo=!1,this.Js.focus(),this.Pn.selectedTextRange=null,this.Pn.removeEventListener("selectedelementschange",this.Qo),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.undoManager.removeEventListener("undo",this.Mh),this.Pn.undoManager.removeEventListener("redo",this.Ph);},Jo:function Jo(){var t=this.Pn;if(t.selectedTextRange){var _e692=t.selectedTextRange.startContainer.closest("text");t.selectedElements.find(function(t){return t===_e692||t.contains(_e692);})||(t.selectedTextRange=null);}this.Pd(),this._d(),this.vd();},qh:function qh(){this.Wo&&!this.Pn.selectedTextRange?this.tl():!this.Wo&&this.Pn.selectedTextRange&&this.el(),this.Wo&&(this.vd(),this._d());},Kh:function Kh(){if(this.Pn.selectedTextRange){var _t910=this.Pn.selectedTextRange.startContainer.closest("text");_t910?this.Sd(_t910):this.Pn.selectedTextRange=null;}},kn:function kn(t){t.target.closest("text")&&this.Dd(t);},Dd:function Dd(t){var _this357=this;if(0!==t.button)return;t.preventDefault();var e=t.target.closest("text");if(1===this.Qs.pointerClickCount){var _i655,_s385,_n281=bi(e),_o225=jt(e).inverse(),_l207=new DOMPoint(t.clientX,t.clientY),_h159=_l207.matrixTransform(_o225),_a130=e.getCharNumAtPosition(Te(_h159)),_r82=_a130,_d66=null;De(_h159,e.getStartPositionOfChar(_a130))>De(_h159,e.getEndPositionOfChar(_a130))&&(_r82+=1);var _Si=Si(e,_r82),_Si2=_slicedToArray(_Si,2),_c54=_Si2[0],_p45=_Si2[1];if(this.Pn.selectedElements=[e],this.Qs.modKeys.shift){var _t911=this.Pn.selectedTextRange;if(null===_t911||!1===e.contains(_t911.startContainer)){var _t912=new Range();_t912.setStart(_c54,_p45),_t912.setEnd(_c54,_p45),this.Pn.selectedTextRange=_t912;}this.zd(_r82);}else{var _t913=new Range();_t913.setStart(_c54,_p45),_t913.setEnd(_c54,_p45),this.Pn.selectedTextRange=_t913;}this["#html-input"].focus(),window.addEventListener("pointermove",_i655=function _i655(t){var i=new DOMPoint(t.clientX,t.clientY);if(De(_l207,i)<3)return;var s=t.clientX,h=t.clientY,a=new DOMPoint(s,h).matrixTransform(_o225),r=e.getCharNumAtPosition(Te(a));if(-1===r){var _t914=e.getNumberOfChars(),_i656=0,_s384=Infinity;if(null===_d66){_d66=[];for(var _i657=0;_i657<_t914;_i657+=1){var _t915=ze(e.getStartPositionOfChar(_i657),e.getEndPositionOfChar(_i657));_d66.push(_t915);}}for(var _e693=0;_e693<_t914;_e693+=1){var _t916=_d66[_e693],_n282=De(a,_t916);_n282<_s384&&(_i656=_e693,_s384=_n282);}r=_i656;}var u=r;De(a,e.getStartPositionOfChar(r))>De(a,e.getEndPositionOfChar(r))&&(u+=1);var _Si3=Si(e,u),_Si4=_slicedToArray(_Si3,2),x=_Si4[0],b=_Si4[1],m="forward";if(_c54===x)b<_p45&&(m="backward");else{_c54.compareDocumentPosition(x)===Node.DOCUMENT_POSITION_PRECEDING&&(m="backward");}var g=new Range();if(g.direction=m,"forward"===m?(g.setStart(_c54,_p45),g.setEnd(x,b)):(g.setStart(x,b),g.setEnd(_c54,_p45)),!1===_this357.Pn.selectedTextRange.collapsed&&g.startOffset===g.startContainer.textContent.length){var _t917=_n281[_n281.indexOf(g.startContainer)+1];_t917&&g.setStart(_t917,0);}_this357.Pn.selectedTextRange=g;}),window.addEventListener("pointerup",_s385=function _s383(){window.removeEventListener("pointermove",_i655),window.removeEventListener("pointerup",_s385);});}else if(2===this.Qs.pointerClickCount){var _i658=t.clientX,_s386=t.clientY,_n283=jt(e).inverse(),_o226=new DOMPoint(_i658,_s386).matrixTransform(_n283),_l208=e.getCharNumAtPosition(Te(_o226));this.Od(e,_l208);}else if(3===this.Qs.pointerClickCount){var _i659=t.clientX,_s387=t.clientY,_n284=jt(e).inverse(),_o227=new DOMPoint(_i659,_s387).matrixTransform(_n284),_l209=e.getCharNumAtPosition(Te(_o227));this.Ed(e,_l209);}else this.Qs.pointerClickCount>=4&&this.Sd(e);},Md:function Md(t){"Home"===t.key||"End"===t.key||t.key.startsWith("Arrow")?this.Td():t.key;},Cd:function Cd(t){var _this358=this;return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee89(){return regeneratorRuntime.wrap(function _callee89$(_context90){while(1){switch(_context90.prev=_context90.next){case 0:"historyUndo"!==t.inputType&&(0===_this358["#html-input"].innerText.length&&(_this358["#html-input"].innerHTML=" ",document.execCommand("selectAll")),_this358.yd()),_this358.Ad(),_this358.Td();case 1:case"end":return _context90.stop();}}},_callee89);}))();},yd:function yd(t){this.Pn.undoManager.checkpoint("Edit text");},Sd:function Sd(t){var e=bi(t);if(e.length>0){var _i660=e[0],_s388=e[e.length-1],_n285=new Range();_n285.setStart(_i660,0),_n285.setEnd(_s388,_s388.textContent.length),this.Pn.selectedElements=[t],this.Pn.selectedTextRange=_n285,this.vd(),this._d();}},$d:function $d(){this.Pn.selectedTextRange=null;},Od:function Od(t,e){var i=mi(t),s=i[e],n=t.getNumberOfChars(),o=e,l=e,h=function h(t){return wa(t)||t===di;};for(var _t918=e-1;_t918>=0&&!(h(s)&&!h(i[_t918])||!h(s)&&h(i[_t918]));_t918-=1){o-=1;}for(var _t919=e;_t919<n&&!(h(s)&&!h(i[_t919])||!h(s)&&h(i[_t919]));_t919+=1){l+=1;}var _Si5=Si(t,o),_Si6=_slicedToArray(_Si5,2),a=_Si6[0],r=_Si6[1],_Si7=Si(t,l),_Si8=_slicedToArray(_Si7,2),d=_Si8[0],c=_Si8[1];if(r===a.textContent.length){var _e694=bi(t),_i661=_e694[_e694.indexOf(a)+1];_i661&&(a=_i661,r=0);}var p=new Range();p.setStart(a,r),p.setEnd(d,c),this.Pn.selectedTextRange=p;},Ed:function Ed(t,e){var i=mi(t),s=t.getNumberOfChars(),n=e,o=e;for(var _t920=e-1;_t920>=0&&i[_t920]!==di;_t920-=1){n-=1;}for(var _t921=e;_t921<s&&i[_t921]!==di;_t921+=1){o+=1;}var _Si9=Si(t,n),_Si10=_slicedToArray(_Si9,2),l=_Si10[0],h=_Si10[1],_Si11=Si(t,o),_Si12=_slicedToArray(_Si11,2),a=_Si12[0],r=_Si12[1];if(h===l.textContent.length){var _e695=bi(t),_i662=_e695[_e695.indexOf(l)+1];_i662&&(l=_i662,h=0);}var d=new Range();d.setStart(l,h),d.setEnd(a,r),this.Pn.selectedTextRange=d;},zd:function zd(t){var e=this.Pn.selectedTextRange,i=e.startContainer.closest("text"),_ki5=ki(e.startContainer,e.startOffset),_ki6=_slicedToArray(_ki5,2),s=_ki6[1],_ki7=ki(e.endContainer,e.endOffset),_ki8=_slicedToArray(_ki7,2),n=_ki8[1];if(t<s)s=t;else if(t>n)n=t;else{if(!(t>s&&t<n))return;t-s>n-t?n=t:s=t;}var _Si13=Si(i,s),_Si14=_slicedToArray(_Si13,2),o=_Si14[0],l=_Si14[1],_Si15=Si(i,n),_Si16=_slicedToArray(_Si15,2),h=_Si16[0],a=_Si16[1];if(l===o.textContent.length){var _t922=bi(i),_e696=_t922[_t922.indexOf(o)+1];_e696&&(o=_e696,l=0);}var r=new Range();r.setStart(o,l),r.setEnd(h,a),r.direction="backward",this.Pn.selectedTextRange=r;},vd:function vd(){var t=this.Pn.selectedTextRange,e=t?t.startContainer.closest("text"):null,i=t?e.getNumberOfChars():0,_ref97=t?ki(t.startContainer,t.startOffset):[,-1],_ref98=_slicedToArray(_ref97,2),s=_ref98[1],_ref99=t?ki(t.endContainer,t.endOffset):[,-1],_ref100=_slicedToArray(_ref99,2),n=_ref100[1];if(1===i&&t&&" "===t.toString()){var _t923=0,_i663=e.getExtentOfChar(_t923),_s389=e.getStartPositionOfChar(_t923),_n286=e.getSubStringLength(_t923,1),_o228=_i663.height,_l210=e.getRotationOfChar(_t923),_h160=new DOMPoint(_s389.x+_n286/2,_s389.y),_a131=new DOMMatrix();_a131.multiplySelf(Vt(e,this)),_a131.translateSelf(_h160.x,_h160.y),_a131.rotateSelf(_l210),_a131.translateSelf(-_h160.x,-_h160.y),this["#caret-line"].setAttribute("x1",_s389.x),this["#caret-line"].setAttribute("y1",_i663.y),this["#caret-line"].setAttribute("x2",_s389.x),this["#caret-line"].setAttribute("y2",_i663.y+_o228),this["#caret-line"].setAttribute("transform",_a131.toString()),this["#caret-line"].style.setProperty("visibility","visible");}else if(t&&!0===t.collapsed){var _o229="backward"===t.direction?s:n;if(0===_o229){var _t924=e.getExtentOfChar(_o229),_i664=e.getStartPositionOfChar(_o229),_s390=e.getSubStringLength(_o229,1),_n287=_t924.height,_l211=e.getRotationOfChar(_o229),_h161=new DOMPoint(_i664.x+_s390/2,_i664.y),_a132=new DOMMatrix();_a132.multiplySelf(Vt(e,this)),_a132.translateSelf(_h161.x,_h161.y),_a132.rotateSelf(_l211),_a132.translateSelf(-_h161.x,-_h161.y),this["#caret-line"].setAttribute("x1",_i664.x),this["#caret-line"].setAttribute("y1",_t924.y),this["#caret-line"].setAttribute("x2",_i664.x),this["#caret-line"].setAttribute("y2",_t924.y+_n287),this["#caret-line"].setAttribute("transform",_a132.toString()),this["#caret-line"].style.visibility="visible";}else if(_o229>0&&_o229<=i){var _t925=e.getExtentOfChar(_o229-1),_i665=e.getEndPositionOfChar(_o229-1),_s391=e.getSubStringLength(_o229-1,1),_n288=_t925.height,_l212=e.getRotationOfChar(_o229-1),_h162=new DOMPoint(_i665.x+_s391/2,_i665.y),_a133=new DOMMatrix();_a133.multiplySelf(Vt(e,this)),_a133.translateSelf(_h162.x,_h162.y),_a133.rotateSelf(_l212),_a133.translateSelf(-_h162.x,-_h162.y),this["#caret-line"].setAttribute("x1",_i665.x),this["#caret-line"].setAttribute("y1",_t925.y),this["#caret-line"].setAttribute("x2",_i665.x),this["#caret-line"].setAttribute("y2",_t925.y+_n288),this["#caret-line"].setAttribute("transform",_a133.toString()),this["#caret-line"].style.visibility="visible";}else _o229>i&&(this["#caret-line"].style.visibility="hidden");}else this["#caret-line"].style.visibility="hidden";if(this["#selection-rects"].innerHTML="",t&&!1===t.collapsed){var _e697=t.startContainer.closest("text"),_i666=_e697.getNumberOfChars();for(var _t926=s;_t926<n&&_t926<_i666;_t926+=1){var _i667=_e697.getExtentOfChar(_t926),_s392=_e697.getStartPositionOfChar(_t926),_n289=(_e697.getEndPositionOfChar(_t926),_e697.getSubStringLength(_t926,1)),_o230=_i667.height,_l213=_e697.getRotationOfChar(_t926),_h163=new DOMPoint(_s392.x+_n289/2,_s392.y),_a134=new DOMMatrix();_a134.multiplySelf(Vt(_e697,this)),_a134.translateSelf(_h163.x,_h163.y),_a134.rotateSelf(_l213),_a134.translateSelf(-_h163.x,-_h163.y);var _r83=zi("svg:rect");_r83.setAttribute("x",_s392.x),_r83.setAttribute("y",_i667.y),_r83.setAttribute("width",_n289),_r83.setAttribute("height",_o230),_r83.setAttribute("transform",_a134.toString()),this["#selection-rects"].append(_r83);}}if("visible"===this["#caret-line"].style.visibility)this["#html-input-object"].setAttribute("x",this["#caret-line"].x2.baseVal.value),this["#html-input-object"].setAttribute("y",this["#caret-line"].y2.baseVal.value),this["#caret-line"].hasAttribute("transform")?this["#html-input-object"].setAttribute("transform",this["#caret-line"].getAttribute("transform")):this["#html-input-object"].removeAttribute("transform");else if(this["#selection-rects"].children.length>0){var _t927=this["#selection-rects"].children[0];this["#html-input-object"].setAttribute("x",_t927.x.baseVal.value),this["#html-input-object"].setAttribute("y",_t927.y.baseVal.value+_t927.height.baseVal.value),_t927.hasAttribute("transform")?this["#html-input-object"].setAttribute("transform",_t927.getAttribute("transform")):this["#html-input-object"].removeAttribute("transform");}},Td:function Td(){var t=ma(this).getSelection(),e=t.rangeCount>0?t.getRangeAt(0):null;if(e){var _t928=this.Id(e.startContainer,e.startOffset)[1],_i668=this.Id(e.endContainer,e.endOffset)[1],_s393=0,_n290=new Range(),_o231=null,_l214=this.kd;var _iterator554=_createForOfIteratorHelper(bi(_l214)),_step554;try{for(_iterator554.s();!(_step554=_iterator554.n()).done;){var _e698=_step554.value;for(var _l215=0;_l215<=_e698.textContent.length;_l215+=1,_s393+=1){_s393===_t928&&_n290.setStart(_e698,_l215),_s393===_i668&&(0===_l215&&_o231?_n290.setEnd(_o231,_o231.textContent.length):_n290.setEnd(_e698,_l215));}_s393-=1,_o231=_e698;}}catch(err){_iterator554.e(err);}finally{_iterator554.f();}this.Pn.selectedTextRange=_n290;}},_d:function _d(){var t=this.Pn.selectedTextRange;if(t){var _e699=ki(t.startContainer,t.startOffset)[1],_i669=ki(t.endContainer,t.endOffset)[1],_s394=0,_n291=new Range(),_o232=null;var _iterator555=_createForOfIteratorHelper(this.Ld(this["#html-input"])),_step555;try{for(_iterator555.s();!(_step555=_iterator555.n()).done;){var _t929=_step555.value;for(var _l217=0;_l217<=_t929.textContent.length;_l217+=1,_s394+=1){_s394===_e699&&_n291.setStart(_t929,_l217),_s394===_i669&&(0===_l217&&_o232?_n291.setEnd(_o232,_o232.textContent.length):_n291.setEnd(_t929,_l217));}_s394-=1,_o232=_t929;}}catch(err){_iterator555.e(err);}finally{_iterator555.f();}var _l216=window.getSelection();_l216.removeAllRanges(),_l216.addRange(_n291);}},Ad:function Ad(){var t=this.kd,e=t?t.querySelector("textPath")||t:null;if(e){var _i670=zi("svg:g");_i670.innerHTML=this["#html-input"].innerHTML;var _s395=document.createNodeIterator(_i670,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT),_n292=null,_o233=gi(t),_l218=yi(t);for(;_n292=_s395.nextNode();){if(_n292.nodeType===Element.TEXT_NODE){if(_n292.textContent.includes("\n")){var _t930=document.createDocumentFragment();var _iterator556=_createForOfIteratorHelper(_n292.textContent),_step556;try{for(_iterator556.s();!(_step556=_iterator556.n()).done;){var _e700=_step556.value;if("\n"===_e700){var _e701=qi(_templateObject9(),_o233.x,_l218+1,di);_t930.append(_e701);}else _t930.append(new Text(_e700));}}catch(err){_iterator556.e(err);}finally{_iterator556.f();}_n292.replaceWith(_t930);}}else if(_n292.nodeType===Element.ELEMENT_NODE)if("span"===_n292.localName){var _t931=zi("svg:tspan");for(var _i671=0,_arr24=_toConsumableArray(_n292.attributes);_i671<_arr24.length;_i671++){var _arr24$_i=_arr24[_i671],_e702=_arr24$_i.name,_i672=_arr24$_i.value;_t931.setAttribute(_e702,_i672);}for(var _i673=0,_arr25=_toConsumableArray(_n292.childNodes);_i673<_arr25.length;_i673++){var _e703=_arr25[_i673];_t931.append(_e703);}_n292.replaceWith(_t931);}else"br"===_n292.localName&&_n292.remove();}e.innerHTML=_i670.innerHTML;var _h164=gi(t);_h164.x!==_o233.x&&t.setAttribute("x",_o233.x),_h164.y!==_o233.y&&t.setAttribute("y",_o233.y);}},Pd:function Pd(){var t=this.Pn.selectedTextRange,e=t?t.startContainer.closest("text"):null,i=e?e.querySelector("textPath")||e:null;if(i){var _t932=document.createElement("div");_t932.innerHTML=i.innerHTML;var _iterator557=_createForOfIteratorHelper(_t932.querySelectorAll("tspan")),_step557;try{for(_iterator557.s();!(_step557=_iterator557.n()).done;){var _e704=_step557.value;if(wi(_e704))_e704.replaceWith(new Text("\n"));else{var _t933=document.createElement("span");for(var _i674=0,_arr26=_toConsumableArray(_e704.attributes);_i674<_arr26.length;_i674++){var _arr26$_i=_arr26[_i674],_i675=_arr26$_i.name,_s396=_arr26$_i.value;_t933.setAttribute(_i675,_s396);}for(var _i676=0,_arr27=_toConsumableArray(_e704.childNodes);_i676<_arr27.length;_i676++){var _i677=_arr27[_i676];_t933.append(_i677);}_e704.replaceWith(_t933);}}}catch(err){_iterator557.e(err);}finally{_iterator557.f();}this["#html-input"].innerHTML=_t932.innerHTML,this.kd=e;}},Ld:function Ld(t){var e=[],i=document.createTreeWalker(t,NodeFilter.SHOW_TEXT);for(;i.nextNode();){i.currentNode.closest("bx-title, desc")||e.push(i.currentNode);}return e;},Id:function Id(t,e){var i=this["#html-input"],s=0,n=-1;var _iterator558=_createForOfIteratorHelper(this.Ld(i)),_step558;try{for(_iterator558.s();!(_step558=_iterator558.n()).done;){var _o234=_step558.value;if(_o234===t){n=s+e;break;}s+=_o234.length;}}catch(err){_iterator558.e(err);}finally{_iterator558.f();}return[i,n];}};var cp=Math.abs,pp=4.5,up=Symbol(),xp=Symbol();var bp={id:"char-hud",get selectedChar(){return this.Bd;},createdCallback:function createdCallback(){var _this359=this;this.Wo=!1,this.Rd=[],this.Bd=null,this.hh=Xi(this.sh,40,this),this.wh=Xi(this.oh,40,this),this.innerHTML='\n  <style>\n    #char-hud [uid="grippies"] {\n      cursor: default;\n      outline: none;\n    }\n\n    #char-hud .node-grippie .outer-circle {\n      fill: white;\n      stroke: #4d2782;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n    }\n    #char-hud .node-grippie[data-selected] .outer-circle {\n      fill: #dabfff;\n    }\n\n    #char-hud .node-grippie .inner-circle {\n      display: none;\n      fill: #4d2782;\n    }\n    #char-hud .node-grippie[data-adjusted] .inner-circle {\n      display: block;\n    }\n  </style>\n\n  <g uid="grippies" tabindex="-1">\n    <g uid="node-grippies"></g>\n  </g>\n';var _iterator559=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step559;try{for(_iterator559.s();!(_step559=_iterator559.n()).done;){var _t934=_step559.value;this["#"+_t934.getAttribute("uid")]=_t934;}}catch(err){_iterator559.e(err);}finally{_iterator559.f();}this.addEventListener("pointerdown",function(t){_this359.wo(t);}),this.addEventListener("dblclick",function(t){_this359.Ch(t);});},enabledCallback:function enabledCallback(){var _this360=this;this.Qs=Ai(this,"#app"),this.Pn=Ai(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this360.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this361=this;this.Wo=!0,this.Pn.addEventListener("workspacemutation",this.rn=function(){_this361.sl();}),this.Pn.addEventListener("zoomchange",this.an=function(){_this361.il();});},tl:function tl(){this.Wo=!1,this.Rd=[],this.Bd&&(this.Bd=null,this.dispatchEvent(new CustomEvent("selectedcharchange"))),this["#node-grippies"].innerHTML="",this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("zoomchange",this.an);},Jo:function Jo(){this.Rd=this.Gd(),this.Bd&&(this.Bd=null,this.dispatchEvent(new CustomEvent("selectedcharchange"))),0===this.Rd.length?this.Wo&&this.tl():(this.Wo||this.el(),this.hh());},sl:function sl(){this.hh();},il:function il(){this.wh();},wo:function wo(t){t.preventDefault(),this["#grippies"].focus(),t.target.closest(".node-grippie")&&this.Oh(t);},Ch:function Ch(t){t.target.closest(".node-grippie")&&this.$h(t);},Oh:function Oh(t){var _this362=this;if(0!==t.button)return;var _e705,_i678,s=t.target.closest(".node-grippie"),n=new DOMPoint(t.clientX,t.clientY),o=n,l=this["#node-grippies"].querySelector("[data-selected]");l&&l.removeAttribute("data-selected"),s.setAttribute("data-selected",""),this.Bd={textElement:s[up],charIndex:s[xp]},this.dispatchEvent(new CustomEvent("selectedcharchange")),window.addEventListener("pointermove",_e705=function e(l){var h=new DOMPoint(l.clientX,l.clientY),a=l.timeStamp-t.timeStamp,r=De(n,h)>3||a>80,d=!1===Ce(o,h,0);if(o=h,!0===r&&!0===d){window.removeEventListener("pointermove",_e705),window.removeEventListener("pointerup",_i678);var _n293=new X(l.clientX-t.clientX,l.clientY-t.clientY),_o235=cp(_n293.x)>cp(_n293.y)?"horizontal":"vertical",_h165=new DOMPoint(l.clientX,l.clientY);_this362.Ah(t,s,_h165,_o235);}}),window.addEventListener("pointerup",_i678=function i(t){window.removeEventListener("pointermove",_e705),window.removeEventListener("pointerup",_i678);});},Ah:function Ah(t,e,i,s){var _this363=this;var n,_o236,l=this.Pn,h=e[up],a=e[xp],r=e.querySelector("circle"),d=new DOMPoint(r.cx.baseVal.value,r.cy.baseVal.value).matrixTransform(jt(this)),c=jt(h).inverse(),p=null,u=null,x=null,b=[],m=[];l.undoManager.checkpoint("Adjust text character position"),l.snapManager.snapStart(!0),e.setPointerCapture(t.pointerId),ci(h);{var _t935=0;var _iterator560=_createForOfIteratorHelper(bi(h)),_step560;try{for(_iterator560.s();!(_step560=_iterator560.n()).done;){var _e706=_step560.value;var _i679=0;var _iterator561=_createForOfIteratorHelper(_e706.textContent),_step561;try{for(_iterator561.s();!(_step561=_iterator561.n()).done;){var _s397=_step561.value;if(_t935===a){p=_e706.parentNode,u=_e706,x=_i679;break;}_t935+=1,_i679+=1;}}catch(err){_iterator561.e(err);}finally{_iterator561.f();}if(p)break;}}catch(err){_iterator560.e(err);}finally{_iterator560.f();}}for(var _t936=0;_t936<u.textContent.length;_t936+=1){b[_t936]=void 0!==p.dx.baseVal[_t936]?p.dx.baseVal[_t936].value:0,m[_t936]=void 0!==p.dy.baseVal[_t936]?p.dy.baseVal[_t936].value:0;}var g=[].concat(b),f=[].concat(m);window.addEventListener("pointermove",n=function n(t){var e=new DOMPoint(t.clientX,t.clientY);_this363.Qs.modKeys.shift&&("horizontal"===s?e.y=i.y:"vertical"===s&&(e.x=i.x));var n=l.snapManager.snapPoint(new DOMPoint(d.x+e.x-i.x,d.y+e.y-i.y)),o=new X(d,n).matrixTransform(c);b[x]=Z(g[x]+o.x,l.geometryPrecision),m[x]=Z(f[x]+o.y,l.geometryPrecision),p.setAttribute("dx",b.join(" ")),p.setAttribute("dy",m.join(" "));}),window.addEventListener("pointerup",_o236=function o(t){window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",_o236),l.snapManager.snapEnd(),pi(h);});},$h:function $h(t){var e=t.target.closest(".node-grippie"),i=this.Pn,s=e[up],n=e[xp],o=null,l=null,h=null,a=[],r=[],d=[];if(!1!==e.hasAttribute("data-adjusted")){i.undoManager.checkpoint("Reset text character position"),ci(s);{var _t937=0;var _iterator562=_createForOfIteratorHelper(bi(s)),_step562;try{for(_iterator562.s();!(_step562=_iterator562.n()).done;){var _e707=_step562.value;var _i680=0;var _iterator563=_createForOfIteratorHelper(_e707.textContent),_step563;try{for(_iterator563.s();!(_step563=_iterator563.n()).done;){var _s398=_step563.value;if(_t937===n){o=_e707.parentNode,l=_e707,h=_i680;break;}_t937+=1,_i680+=1;}}catch(err){_iterator563.e(err);}finally{_iterator563.f();}if(o)break;}}catch(err){_iterator562.e(err);}finally{_iterator562.f();}}for(var _t938=0;_t938<l.textContent.length;_t938+=1){a[_t938]=void 0!==o.dx.baseVal[_t938]?o.dx.baseVal[_t938].value:0,r[_t938]=void 0!==o.dy.baseVal[_t938]?o.dy.baseVal[_t938].value:0,d[_t938]=void 0!==o.rotate.baseVal[_t938]?o.rotate.baseVal[_t938].value:0;}a[h]=0,r[h]=0,d[h]=0,o.setAttribute("dx",a.join(" ")),o.setAttribute("dy",r.join(" ")),o.setAttribute("rotate",d.join(" ")),pi(s);}},sh:function sh(){var t=document.createDocumentFragment();var _iterator564=_createForOfIteratorHelper(this.Rd),_step564;try{for(_iterator564.s();!(_step564=_iterator564.n()).done;){var _e708=_step564.value;var _i681=_e708.getNumberOfChars(),_s399=Vt(_e708,this),_n294=bi(_e708).map(function(t){return t.textContent;}).join(""),_o237=_i(_e708);for(var _l219=0;_l219<_i681;_l219+=1){if(_n294[_l219]!==di){var _i682=_e708.getStartPositionOfChar(_l219),_n295=_e708.getEndPositionOfChar(_l219),_h166=ze(_i682,_n295).matrixTransform(_s399),_a135=pp/this.Pn.scale,_r84=pp/2.5/this.Pn.scale,_d67=zi("svg:g");_d67.setAttribute("class","node-grippie"),_d67.innerHTML="\n            <circle class=\"outer-circle\" cx=\"".concat(_h166.x,"\" cy=\"").concat(_h166.y,"\" r=\"").concat(_a135,"\"></circle>\n            <circle class=\"inner-circle\" cx=\"").concat(_h166.x,"\" cy=\"").concat(_h166.y,"\" r=\"").concat(_r84,"\"></circle>\n          "),_d67[up]=_e708,_d67[xp]=_l219,0===_o237.dx[_l219]&&0===_o237.dy[_l219]&&0===_o237.rotate[_l219]||_d67.setAttribute("data-adjusted",""),this.Bd&&this.Bd.textElement===_e708&&this.Bd.charIndex===_l219&&_d67.setAttribute("data-selected",""),t.append(_d67);}}}}catch(err){_iterator564.e(err);}finally{_iterator564.f();}this["#node-grippies"].innerHTML="",this["#node-grippies"].append(t),this.oh();},oh:function oh(){var t=pp/this.Pn.scale,e=pp/2.5/this.Pn.scale;var _iterator565=_createForOfIteratorHelper(this["#node-grippies"].children),_step565;try{for(_iterator565.s();!(_step565=_iterator565.n()).done;){var _i683=_step565.value;_i683.children[0].setAttribute("r",t),_i683.children[1].setAttribute("r",e);}}catch(err){_iterator565.e(err);}finally{_iterator565.f();}},Gd:function Gd(){var t=[],e=function e(i){var _iterator566=_createForOfIteratorHelper(i),_step566;try{for(_iterator566.s();!(_step566=_iterator566.n()).done;){var _s400=_step566.value;"text"===_s400.localName?t.push(_s400):"g"!==_s400.localName&&"a"!==_s400.localName||e(_s400.children);}}catch(err){_iterator566.e(err);}finally{_iterator566.f();}};return e(this.Pn.selectedElements),t=t.filter(function(t){return null===t.querySelector("textPath");}),t;}};var mp={id:"blob-hud",createdCallback:function createdCallback(){this.innerHTML='\n  <style>\n    #blob-hud [uid="ellipse"] {\n      fill: rgba(0, 0, 0, 0.2);\n      stroke: rgba(255, 255, 255, 0.75);\n      transform: rotate(0deg);\n      transform-origin: 50% 50%;\n      pointer-events: none;\n      vector-effect: non-scaling-stroke;\n    }\n\n    #blob-hud [uid="ellipse"][data-mode="erase"] {\n      fill: rgba(255, 255, 255, 0.5);\n      stroke: rgba(0, 0, 0, 0.3);\n    }\n  </style>\n\n  <ellipse uid="ellipse"></ellipse>\n';var _iterator567=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step567;try{for(_iterator567.s();!(_step567=_iterator567.n()).done;){var _t939=_step567.value;this["#"+_t939.getAttribute("uid")]=_t939;}}catch(err){_iterator567.e(err);}finally{_iterator567.f();}},enabledCallback:function enabledCallback(){var _this364=this;this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this.Pn=Ai(this,"bx-board"),this.Qs.addEventListener("configchange",this.ln=function(t){_this364.hn(t);}),this.Qs.addEventListener("modkeyschange",this.Xa=function(){_this364.Fd();}),this.Js.board.addEventListener("zoomchange",this.an=function(){_this364.il();}),this.Pn.workspaces.addEventListener("pointermove",this.Un=function(t){_this364.Ud(t);}),this.Pn.workspaces.addEventListener("pointerleave",this.Nd=function(t){_this364.Vd(t);}),this.qs();},disabledCallback:function disabledCallback(){this.Qs.removeEventListener("modkeyschange",this.Xa),this.Qs.removeEventListener("configchange",this.ln),this.Js.board.addEventListener("zoomchange",this.an),this.Pn.workspaces.removeEventListener("pointermove",this.Un),this.Pn.workspaces.removeEventListener("pointerleave",this.Nd);},hn:function hn(t){var _t$detail3=t.detail,e=_t$detail3.key,i=_t$detail3.value;"bx-blobsettings:mode"!==e&&"bx-blobsettings:size"!==e&&"bx-blobsettings:roundness"!==e&&"bx-blobsettings:angle"!==e||this.qs();},Fd:function Fd(){this.qs();},il:function il(){this.qs();},Ud:function Ud(t){var _iterator568=_createForOfIteratorHelper(t.getCoalescedEvents()),_step568;try{for(_iterator568.s();!(_step568=_iterator568.n()).done;){var _e709=_step568.value;var _t940=new DOMPoint(_e709.clientX,_e709.clientY);this.qs(_t940);}}catch(err){_iterator568.e(err);}finally{_iterator568.f();}},Vd:function Vd(){this["#ellipse"].cy.baseVal.value=999999999;},qs:function qs(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Qs.pointerClientPoint;var e=this.Qs.getConfig("bx-blobsettings:mode","draw"),i=this.Qs.getConfig("bx-blobsettings:size",30),s=this.Qs.getConfig("bx-blobsettings:roundness",100),n=this.Qs.getConfig("bx-blobsettings:angle",0),o=this.Qs.getConfig("bx-blobsettings:dynamics",oa),l=jt(this).inverse(),h=t.matrixTransform(l),a=this.Qs.pointerPressure;if(this.Qs.modKeys.ctrl&&(e="draw"===e?"erase":"draw"),i*this.Pn.scale<10&&(i=10/this.Pn.scale),s<25&&(s=25),o.size){var _t941=Z(i-i*o.size.variance,0),_e710=Z(i+i*o.size.variance,0);"pressure"===o.size.param&&a>0&&(i=_t941+a*(_e710-_t941));}this["#ellipse"].setAttribute("data-mode",e),this["#ellipse"].cx.baseVal.value=h.x,this["#ellipse"].cy.baseVal.value=h.y,this["#ellipse"].rx.baseVal.value=i/2,this["#ellipse"].ry.baseVal.value=s/100*(i/2),this["#ellipse"].style.transform="rotate(".concat(n,"deg)"),this["#ellipse"].style.transformOrigin="".concat(h.x,"px ").concat(h.y,"px");}};var gp=/*#__PURE__*/function(){function gp(){_classCallCheck(this,gp);}_createClass(gp,[{key:"addEventListener",value:function addEventListener(t,e){this.jd||(this.jd={});var i=this.jd[t];i||(this.jd[t]=i=[]),i.push(e),i.length>300&&console.warn("Potential EventEmitter memory leak: ".concat(i.length," listeners subscribed to event \"").concat(t,"\""));}},{key:"removeEventListener",value:function removeEventListener(t,e){if(this.jd&&this.jd[t]){for(var i=[],s=0;s<this.jd[t].length;s+=1){this.jd[t][s]!==e&&i.push(this.jd[t][s]);}this.jd[t]=i;}}},{key:"dispatchEvent",value:function dispatchEvent(t){if(!this.jd)return;var e=this.jd[t.type];if(!e)return;var i=null;for(var _s401=e.length-1;_s401>=0;_s401-=1){var _n296=void 0,_o238=e[_s401];try{_n296=_o238.call(window,t);}catch(t){null===i&&(i=t);}if(!1===_n296)break;}if(i)throw i;}}]);return gp;}();var fp={childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0};var wp=/*#__PURE__*/function(_gp){_inherits(wp,_gp);var _super62=_createSuper(wp);function wp(t){var _this365;_classCallCheck(this,wp);_this365=_super62.call(this),_this365.Hd=t,_this365.Yd=[],_this365.La=0,_this365.Wd=!1,_this365.qd=new MutationObserver(function(t){var _iterator569=_createForOfIteratorHelper(t),_step569;try{for(_iterator569.s();!(_step569=_iterator569.n()).done;){var _e711=_step569.value;_this365.Xd(_e711);}}catch(err){_iterator569.e(err);}finally{_iterator569.f();}}),_this365.Zd();return _this365;}_createClass(wp,[{key:"clear",value:function clear(){this.Yd=[],this.La=0,this.dispatchEvent(new CustomEvent("change",{detail:"clear"}));}},{key:"checkpoint",value:function checkpoint(t){this.qd.takeRecords(),this.La<this.Yd.length&&(this.Yd=this.Yd.slice(0,this.La));var e={label:t,transactions:[]};this.Yd.push(e),this.La+=1;}},{key:"undo",value:function undo(){if(this.canUndo()){this.Kd(),this.disabled=!0,this.La-=1;var _t942=this.Yd[this.La],_e712=_toConsumableArray(_t942.transactions).reverse(),_i684=_t942.label||"",_s402=new Set(),_n297=new Set(),_o239=new Set();var _iterator570=_createForOfIteratorHelper(_e712),_step570;try{for(_iterator570.s();!(_step570=_iterator570.n()).done;){var _t943=_step570.value;if("childList"===_t943.type){var _e713=document.createDocumentFragment();var _iterator571=_createForOfIteratorHelper(_t943.addedNodes),_step571;try{for(_iterator571.s();!(_step571=_iterator571.n()).done;){var _e714=_step571.value;_t943.target.removeChild(_e714),_n297.add(_e714),_s402["delete"](_e714);}}catch(err){_iterator571.e(err);}finally{_iterator571.f();}var _iterator572=_createForOfIteratorHelper(_t943.removedNodes),_step572;try{for(_iterator572.s();!(_step572=_iterator572.n()).done;){var _i685=_step572.value;_e713.append(_i685),_s402.add(_i685),_n297["delete"](_i685);}}catch(err){_iterator572.e(err);}finally{_iterator572.f();}_t943.nextSibling?_t943.target.insertBefore(_e713,_t943.nextSibling):_t943.previousSibling?_t943.target.insertBefore(_e713,_t943.previousSibling.nextSibling):_t943.target.append(_e713);}else"attributes"===_t943.type?(null===_t943.oldValue?_t943.target.removeAttribute(_t943.attributeName):_t943.target.setAttribute(_t943.attributeName,_t943.oldValue),_o239.add(_t943.target)):"characterData"===_t943.type&&(_t943.target.data=_t943.oldValue,_o239.add(_t943.target));}}catch(err){_iterator570.e(err);}finally{_iterator570.f();}this.disabled=!1,this.dispatchEvent(new CustomEvent("undo",{detail:{label:_i684,addedNodes:_s402,removedNodes:_n297,modifiedNodes:_o239}})),this.dispatchEvent(new CustomEvent("undoorredo",{detail:{label:_i684,addedNodes:_s402,removedNodes:_n297,modifiedNodes:_o239}})),this.dispatchEvent(new CustomEvent("change",{detail:"decrement"}));}else console.info("Can't undo");}},{key:"redo",value:function redo(){if(this.canRedo()){var _t944=this.Yd[this.La],_e715=_t944.transactions;this.disabled=!0,this.La+=1;var _i686=_t944.label||"",_s403=new Set(),_n298=new Set(),_o240=new Set();var _iterator573=_createForOfIteratorHelper(_e715),_step573;try{for(_iterator573.s();!(_step573=_iterator573.n()).done;){var _t945=_step573.value;if("childList"===_t945.type){var _e716=document.createDocumentFragment();var _iterator574=_createForOfIteratorHelper(_t945.removedNodes),_step574;try{for(_iterator574.s();!(_step574=_iterator574.n()).done;){var _e717=_step574.value;_t945.target.removeChild(_e717),_n298.add(_e717),_s403["delete"](_e717);}}catch(err){_iterator574.e(err);}finally{_iterator574.f();}var _iterator575=_createForOfIteratorHelper(_t945.addedNodes),_step575;try{for(_iterator575.s();!(_step575=_iterator575.n()).done;){var _i687=_step575.value;_e716.append(_i687),_s403.add(_i687),_n298["delete"](_i687);}}catch(err){_iterator575.e(err);}finally{_iterator575.f();}_t945.nextSibling?_t945.target.insertBefore(_e716,_t945.nextSibling):_t945.previousSibling?_t945.target.insertBefore(_e716,_t945.previousSibling.nextSibling):_t945.target.append(_e716);}else"attributes"===_t945.type?(null===_t945.newValue?_t945.target.removeAttribute(_t945.attributeName):_t945.target.setAttribute(_t945.attributeName,_t945.newValue),_o240.add(_t945.target)):"characterData"===_t945.type&&(_t945.target.data=_t945.newValue,_o240.add(_t945.target));}}catch(err){_iterator573.e(err);}finally{_iterator573.f();}this.disabled=!1,this.dispatchEvent(new CustomEvent("redo",{detail:{label:_i686,addedNodes:_s403,removedNodes:_n298,modifiedNodes:_o240}})),this.dispatchEvent(new CustomEvent("undoorredo",{detail:{label:_i686,addedNodes:_s403,removedNodes:_n298,modifiedNodes:_o240}})),this.dispatchEvent(new CustomEvent("change",{detail:"increment"}));}else console.info("Can't redo");}},{key:"canUndo",value:function canUndo(){return 0!==this.La&&!this.disabled&&(1!==this.La||!this.Qd());}},{key:"canRedo",value:function canRedo(){return this.La!==this.Yd.length&&!this.disabled;}},{key:"Zd",value:function Zd(){!0===this.disabled?(this.qd.takeRecords(),this.qd.disconnect()):!1===this.disabled&&this.qd.observe(this.Hd,fp);}},{key:"Xd",value:function Xd(t){if(0===this.Yd.length)return;if(t.attributeName&&t.attributeName.startsWith("_bx"))return;var e=this.Yd[this.Yd.length-1].transactions,i=e.length;if("attributes"===t.type){var _i688=t.attributeName,_s404=e.find(function(e){return"attributes"===e.type&&e.attributeName===_i688&&e.target===t.target;});_s404?_s404.newValue=_s404.target.getAttribute(_i688):(_s404={type:"attributes",target:t.target,attributeName:_i688,oldValue:t.oldValue,newValue:t.target.getAttribute(_i688)},e.push(_s404));}else if("characterData"===t.type){var _i689=e.find(function(e){return"characterData"===e.type&&e.target===t.target;});if(_i689)_i689.newValue=_i689.target.data;else{var _i690={type:"characterData",target:t.target,oldValue:t.oldValue,newValue:t.target.data};e.push(_i690);}}else if("childList"===t.type){var _i691={type:"childList",target:t.target,addedNodes:_toConsumableArray(t.addedNodes),removedNodes:_toConsumableArray(t.removedNodes),nextSibling:t.nextSibling,previousSibling:t.previousSibling};e.push(_i691);}0===i&&e.length>0&&this.dispatchEvent(new CustomEvent("change",{detail:"increment"}));}},{key:"Qd",value:function Qd(){return 0===this.Yd[this.La-1].transactions.length;}},{key:"Kd",value:function Kd(){var _this366=this;this.La>0&&0===this.Yd[this.La-1].transactions.length&&(this.Yd=this.Yd.filter(function(t){return t!==_this366.Yd[_this366.La];}),this.La-=1);}},{key:"groups",get:function get(){return this.Yd;}},{key:"position",get:function get(){return this.La;}},{key:"disabled",get:function get(){return this.Wd;},set:function set(t){var e;(e=t)===!!e&&t!==this.Wd&&(this.Wd=t,this.Zd());}},{key:"undoLabel",get:function get(){var t="Undo";if(this.canUndo()){var _e718;_e718=this.Yd[this.La-1].transactions.length>0?this.Yd[this.La-1]:this.Yd[this.La-2],t="Undo: ".concat(_e718.label);}return t;}},{key:"redoLabel",get:function get(){var t="Redo";if(this.canRedo()){t="Redo: ".concat(this.Yd[this.La].label);}return t;}}]);return wp;}(gp);var _window5=window,vp=_window5.tokenize,yp=_window5.EOFToken;var kp=/*#__PURE__*/function(){_createClass(kp,[{key:"items",get:function get(){return this.Jd;},set:function set(t){this.Jd=_toConsumableArray(t);}},{key:"type",get:function get(){return"<font-family>";}}]);function kp(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];_classCallCheck(this,kp);this.Jd=_toConsumableArray(t);}_createClass(kp,[{key:"toString",value:function toString(){return this.items.map(function(t){return p.includes(t)?t:"\"".concat(t,"\"");}).join(", ");}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(vp(t)),[new yp()]),s=new Dt(i),n=[];if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"STRING"!==s.currentToken.tokenType&&"IDENT"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected STRING or IDENT token.","SyntaxError");return null;}for(n.push(s.currentToken.value);;){var _t946=!1;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),","===s.currentToken.tokenType&&(_t946=!0,s.read()),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"STRING"!==s.currentToken.tokenType&&"IDENT"!==s.currentToken.tokenType){if("EOF"===s.currentToken.tokenType){if(_t946){if(e)throw new DOMException("Unexpected trailing comma.","SyntaxError");return null;}return new kp(n);}if(e)throw new DOMException("Unexpected token \"".concat(s.currentToken.tokenType,"\"."),"SyntaxError");return null;}if(!_t946){if(e)throw new DOMException("Unexpected STRING or IDENT token.","SyntaxError");return null;}n.push(s.currentToken.value);}}}]);return kp;}();var _window6=window,Sp=_window6.tokenize,_p=_window6.EOFToken,Cp=_window6.parseACommaSeparatedListOfComponentValues;var Mp=/*#__PURE__*/function(){_createClass(Mp,[{key:"items",get:function get(){return this.Jd;},set:function set(t){this.Jd=_toConsumableArray(t);}},{key:"type",get:function get(){return"<font-face-src>";}}]);function Mp(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];_classCallCheck(this,Mp);this.Jd=_toConsumableArray(t);}_createClass(Mp,[{key:"toString",value:function toString(){var t=[];var _iterator576=_createForOfIteratorHelper(this.items),_step576;try{for(_iterator576.s();!(_step576=_iterator576.n()).done;){var _e719=_step576.value;if("local"===_e719.type){var _i692="local(".concat(_e719.name,")");t.push(_i692);}else if("external"===_e719.type||"embedded"===_e719.type){var _i693="url(".concat(_e719.url,")");_e719.format&&(_i693+=" format(\"".concat(_e719.format,"\")")),t.push(_i693);}}}catch(err){_iterator576.e(err);}finally{_iterator576.f();}return t.join(", ");}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=Cp(t),s=[];var _iterator577=_createForOfIteratorHelper(i),_step577;try{for(_iterator577.s();!(_step577=_iterator577.n()).done;){var _t947=_step577.value;var _e720=[].concat(_toConsumableArray(_t947),[new _p()]).filter(function(t){return"WHITESPACE"!==t.tokenType;}),_i694=new Dt(_e720),_n299={};if(_i694.read(),"FUNCTION"===_i694.currentToken.type){if("local"===_i694.currentToken.name){var _t948="";var _iterator578=_createForOfIteratorHelper(_i694.currentToken.value),_step578;try{for(_iterator578.s();!(_step578=_iterator578.n()).done;){var _e721=_step578.value;"STRING"===_e721.tokenType?_t948+=_e721.value:_t948+=_e721.toSource();}}catch(err){_iterator578.e(err);}finally{_iterator578.f();}_n299.type="local",_n299.name=_t948;}else if("url"===_i694.currentToken.name){var _t949="";var _iterator579=_createForOfIteratorHelper(_i694.currentToken.value),_step579;try{for(_iterator579.s();!(_step579=_iterator579.n()).done;){var _e722=_step579.value;"STRING"===_e722.tokenType?_t949+=_e722.value:_t949+=_e722.toSource();}}catch(err){_iterator579.e(err);}finally{_iterator579.f();}_t949.trim(),_t949.startsWith("data:")?_n299.type="embedded":_n299.type="external",_n299.url=new no(_t949),_i694.read(),"FUNCTION"==_i694.currentToken.type&&"format"===_i694.currentToken.name&&(_n299.format=_i694.currentToken.value[0].value);}}else if("URL"===_i694.currentToken.tokenType){var _t950=_i694.currentToken.value;_t950.startsWith("data:")?_n299.type="embedded":_n299.type="external",_n299.url=new no(_t950),_i694.read(),"FUNCTION"==_i694.currentToken.type&&"format"===_i694.currentToken.name&&(_n299.format=_i694.currentToken.value[0].value);}s.push(_n299);}}catch(err){_iterator577.e(err);}finally{_iterator577.f();}return new Mp(s);}}]);return Mp;}();var Pp=Math.tan,Dp=Math.PI,zp=function zp(t){return new Promise(function(e){opentype.load(t,function(t,i){return e(t?null:i);});});},Op=function Op(t,e,i,s,n,o){var l=t.path;if(o&&(l=Tp(l,14)),s){var _i695=e.ascender/20;s.includes("underline")&&(l=Ap(l,t.advanceWidth,_i695,e.descender/3)),s.includes("overline")&&(l=Ap(l,t.advanceWidth,_i695,e.ascender-_i695)),s.includes("line-through")&&(l=Ap(l,t.advanceWidth,_i695,(e.ascender+e.descender)/2));}return l=$p(l,1/e.unitsPerEm*i),l;},Ep=function Ep(t){var e;if("M"===t.type||"L"===t.type){var _i696=t.type,_s405=t.x,_n300=t.y;e={type:_i696,x:_s405,y:_n300};}else if("Q"===t.type){var _i697=t.type,_s406=t.x1,_n301=t.y1,_o241=t.x,_l220=t.y;e={type:_i697,x1:_s406,y1:_n301,x:_o241,y:_l220};}else if("C"===t.type){var _i698=t.type,_s407=t.x1,_n302=t.y1,_o242=t.x2,_l221=t.y2,_h167=t.x,_a136=t.y;e={type:_i698,x1:_s407,y1:_n302,x2:_o242,y2:_l221,x:_h167,y:_a136};}else"Z"===t.type&&(e={type:"Z"});return e;},Tp=function Tp(t,e){var i=new DOMMatrix([1,0,Pp(Dp*e/180),1,0,0]),s=[];var _iterator580=_createForOfIteratorHelper(t.commands),_step580;try{for(_iterator580.s();!(_step580=_iterator580.n()).done;){var _e723=_step580.value;if("M"===_e723.type){var _t951=new DOMPoint(_e723.x,_e723.y).matrixTransform(i);s.push({type:"M",x:_t951.x,y:_t951.y});}else if("L"===_e723.type){var _t952=new DOMPoint(_e723.x,_e723.y).matrixTransform(i);s.push({type:"L",x:_t952.x,y:_t952.y});}else if("Q"===_e723.type){var _t953=new DOMPoint(_e723.x1,_e723.y1).matrixTransform(i),_n303=new DOMPoint(_e723.x,_e723.y).matrixTransform(i);s.push({type:"Q",x1:_t953.x,y1:_t953.y,x:_n303.x,y:_n303.y});}else if("C"===_e723.type){var _t954=new DOMPoint(_e723.x1,_e723.y1).matrixTransform(i),_n304=new DOMPoint(_e723.x2,_e723.y2).matrixTransform(i),_o243=new DOMPoint(_e723.x,_e723.y).matrixTransform(i);s.push({type:"C",x1:_t954.x,y1:_t954.y,x2:_n304.x,y2:_n304.y,x:_o243.x,y:_o243.y});}else"Z"===_e723.type&&s.push({type:"Z"});}}catch(err){_iterator580.e(err);}finally{_iterator580.f();}var n=new opentype.Path();return n.commands=s,n.fill=t.fill,n.stroke=t.stroke,n.strokeWidth=t.strokeWidth,n;},Ap=function Ap(t,e,i,s){var n=[];var _iterator581=_createForOfIteratorHelper(t.commands),_step581;try{for(_iterator581.s();!(_step581=_iterator581.n()).done;){var _e724=_step581.value;n.push(Ep(_e724));}}catch(err){_iterator581.e(err);}finally{_iterator581.f();}n.push({type:"M",x:0,y:s}),n.push({type:"L",x:e,y:s}),n.push({type:"L",x:e,y:s-i}),n.push({type:"L",x:0,y:s-i}),n.push({type:"Z"});var o=new opentype.Path();return o.commands=n,o.fill=t.fill,o.stroke=t.stroke,o.strokeWidth=t.strokeWidth,o;},$p=function $p(t,e){var i=new opentype.Path();for(var _s408=0;_s408<t.commands.length;_s408+=1){var _n305=t.commands[_s408];"M"===_n305.type?i.moveTo(_n305.x*e,-_n305.y*e):"L"===_n305.type?i.lineTo(_n305.x*e,-_n305.y*e):"Q"===_n305.type?i.quadraticCurveTo(_n305.x1*e,-_n305.y1*e,_n305.x*e,-_n305.y*e):"C"===_n305.type?i.curveTo(_n305.x1*e,-_n305.y1*e,_n305.x2*e,-_n305.y2*e,_n305.x*e,-_n305.y*e):"Z"===_n305.type&&i.closePath();}return i;},Ip=Math.abs,Lp=function Lp(t){switch(t){case"normal":return"400";case"bold":return"700";default:return t;}},Bp=function Bp(t){switch(Lp(t)){case"100":return"Thin";case"200":return"Extra-Light";case"300":return"Light";case"400":return"Normal";case"500":return"Medium";case"600":return"Semi-Bold";case"700":return"Bold";case"800":return"Extra-Bold";case"900":return"Ultra-Bold";default:return"Normal";}},Rp=function Rp(t,e){var _iterator582=_createForOfIteratorHelper(B[t]),_step582;try{for(_iterator582.s();!(_step582=_iterator582.n()).done;){var _i699=_step582.value;if(e.includes(_i699))return _i699;}}catch(err){_iterator582.e(err);}finally{_iterator582.f();}},Gp=function Gp(t){var e=[],i=Bp(Lp(t.weight));if(e.push(i),"normal"!==t.style){var _i700=ni(t.style);e.push(_i700);}if("normal"!==t.stretch){var _i701=ni(t.stretch);e.push(_i701);}return e.join(" ");},Fp=function Fp(t){return new Promise(/*#__PURE__*/function(){var _ref101=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee90(e){var i,_e725,_t955;return regeneratorRuntime.wrap(function _callee90$(_context91){while(1){switch(_context91.prev=_context91.next){case 0:i=1;if(!t.src){_context91.next=8;break;}_e725=Mp.fromString(t.src);if(!(_e725.items[0]&&"local"!==_e725.items[0].type)){_context91.next=8;break;}_context91.next=6;return zp(_e725.items[0].url.value);case 6:_t955=_context91.sent;_t955&&(i=1-Ip(_t955.descender)/(Ip(_t955.ascender)+Ip(_t955.descender)));case 8:e(i);case 9:case"end":return _context91.stop();}}},_callee90);}));return function(_x109){return _ref101.apply(this,arguments);};}());};var Up=/*#__PURE__*/function(){function Up(t){_classCallCheck(this,Up);this.tc=null,this.ec=t;}_createClass(Up,[{key:"getFamilies",value:function getFamilies(){return _toConsumableArray(this.ec.querySelectorAll("style[data-bx-fonts]")).map(function(t){return t.getAttribute("data-bx-fonts");});}},{key:"getWeights",value:function getWeights(t){var e=new Set(),i=this.ec.querySelector("style[data-bx-fonts=\"".concat(t,"\"]"));if(i){var _iterator583=_createForOfIteratorHelper(i.sheet.rules),_step583;try{for(_iterator583.s();!(_step583=_iterator583.n()).done;){var _t956=_step583.value;var _i702=_t956.style.fontWeight?Lp(_t956.style.fontWeight):"400";e.add(_i702);}}catch(err){_iterator583.e(err);}finally{_iterator583.f();}}return _toConsumableArray(e);}},{key:"reorderFamilies",value:function reorderFamilies(t){var e=[];var _iterator584=_createForOfIteratorHelper(t),_step584;try{for(_iterator584.s();!(_step584=_iterator584.n()).done;){var _i704=_step584.value;var _t958=this.ec.querySelector("style[data-bx-fonts=\"".concat(_i704,"\"]"));e.push(_t958);}}catch(err){_iterator584.e(err);}finally{_iterator584.f();}var i=this.ec.querySelector("defs");for(var _i703=0,_e726=e;_i703<_e726.length;_i703++){var _t957=_e726[_i703];i.append(_t957);}}},{key:"getFonts",value:function getFonts(){var t=[];var _iterator585=_createForOfIteratorHelper(this.getFamilies()),_step585;try{for(_iterator585.s();!(_step585=_iterator585.n()).done;){var _e727=_step585.value;t.push.apply(t,_toConsumableArray(this.getFamilyFonts(_e727)));}}catch(err){_iterator585.e(err);}finally{_iterator585.f();}return t;}},{key:"getMatchedFont",value:function getMatchedFont(t,e,i){return function(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"400";var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"normal";return function(t,e){var _iterator586=_createForOfIteratorHelper(B[e]),_step586;try{for(_iterator586.s();!(_step586=_iterator586.n()).done;){var _i705=_step586.value;var _iterator587=_createForOfIteratorHelper(t),_step587;try{for(_iterator587.s();!(_step587=_iterator587.n()).done;){var _e728=_step587.value;if(_e728.weight===_i705)return _e728;}}catch(err){_iterator587.e(err);}finally{_iterator587.f();}}}catch(err){_iterator586.e(err);}finally{_iterator586.f();}return t[0]?t[0]:null;}(function(t,e){var i=t.filter(function(t){return"normal"===e?"normal"===t.style:"italic"===e||"oblique"===e?"italic"===t.style||"oblique"===t.style:void 0;});return 0===i.length&&(i=_toConsumableArray(t)),i;}(function(t,e){return t.filter(function(t){return t.family===e;});}(t,e),s),i);}(this.getFonts(),t,e,i);}},{key:"addFont",value:function addFont(t){var e=this.getFamilyFonts(t.family);var _iterator588=_createForOfIteratorHelper(e),_step588;try{for(_iterator588.s();!(_step588=_iterator588.n()).done;){var _i706=_step588.value;_i706.weight===t.weight&&_i706.style===t.weight&&_i706.stretch===t.stretch&&_i706.unicodeRange===t.unicodeRange&&_i706.variant===t.variant&&_i706.featureSettings===t.featureSettings&&e.remove(_i706);}}catch(err){_iterator588.e(err);}finally{_iterator588.f();}e.push(t),this.setFamilyFonts(e);}},{key:"addFonts",value:function addFonts(t){var e={};var _iterator589=_createForOfIteratorHelper(t),_step589;try{for(_iterator589.s();!(_step589=_iterator589.n()).done;){var _i710=_step589.value;void 0===e[_i710.family]&&(e[_i710.family]=[]),e[_i710.family].push(_i710);}}catch(err){_iterator589.e(err);}finally{_iterator589.f();}for(var _i707=0,_Object$entries2=Object.entries(e);_i707<_Object$entries2.length;_i707++){var _Object$entries2$_i=_slicedToArray(_Object$entries2[_i707],2),_t959=_Object$entries2$_i[0],_i708=_Object$entries2$_i[1];var _e729=this.getFamilyFonts(_t959);var _iterator590=_createForOfIteratorHelper(_i708),_step590;try{for(_iterator590.s();!(_step590=_iterator590.n()).done;){var _t960=_step590.value;var _iterator591=_createForOfIteratorHelper(_e729),_step591;try{for(_iterator591.s();!(_step591=_iterator591.n()).done;){var _i709=_step591.value;_i709.weight===_t960.weight&&_i709.style===_t960.weight&&_i709.stretch===_t960.stretch&&_i709.unicodeRange===_t960.unicodeRange&&_i709.variant===_t960.variant&&_i709.featureSettings===_t960.featureSettings&&_e729.remove(_i709);}}catch(err){_iterator591.e(err);}finally{_iterator591.f();}_e729.push(_t960);}}catch(err){_iterator590.e(err);}finally{_iterator590.f();}this.setFamilyFonts(_e729);}}},{key:"removeFont",value:function removeFont(t){var e=this.getFamilyFonts(t.family),i=e.filter(function(e){return e.style!==t.style||e.weight!==t.weight||e.stretch!==t.stretch||e.unicodeRange!==t.unicodeRange;});i.length!==e.length&&this.setFamilyFonts(i);}},{key:"getFamilyFonts",value:function getFamilyFonts(t){var e=[],i=this.ec.querySelector("style[data-bx-fonts=\"".concat(t,"\"]"));if(i){var _iterator592=_createForOfIteratorHelper(i.sheet.rules),_step592;try{for(_iterator592.s();!(_step592=_iterator592.n()).done;){var _s409=_step592.value;var _i711=_s409.style.src,_n306={style:_s409.style.fontStyle||"normal",weight:_s409.style.fontWeight?Lp(_s409.style.fontWeight):"400",stretch:_s409.style.fontStretch||"normal",unicodeRange:_s409.style.unicodeRange||"U+0-10FFFF",variant:_s409.style.fontVariant||"normal",featureSettings:_s409.style.fontFeatureSettings||"normal"},_o244=new FontFace(t,_i711,_n306);_o244.src=_i711,e.push(_o244);}}catch(err){_iterator592.e(err);}finally{_iterator592.f();}}return e;}},{key:"setFamilyFonts",value:function setFamilyFonts(t){var e=t.length>0?t[0].family:null;if(null===e)return;if(t.find(function(t){return t.family!==e;}))return void console.error("Passed fonts from different families to fontsManger.setFamilyFonts().");var i=this.ec.querySelector("style[data-bx-fonts=\"".concat(e,"\"]"));i||(i=zi("svg:style"),i.setAttribute("data-bx-fonts",e),this.ec.querySelector("defs").append(i));var s="";var _iterator593=_createForOfIteratorHelper(t),_step593;try{for(_iterator593.s();!(_step593=_iterator593.n()).done;){var _e730=_step593.value;s+=this.ic(_e730);}}catch(err){_iterator593.e(err);}finally{_iterator593.f();}i.textContent=s;}},{key:"removeFamily",value:function removeFamily(t){var e=this.ec.querySelector("style[data-bx-fonts=\"".concat(t,"\"]"));e&&e.remove();}},{key:"renameFamily",value:function renameFamily(t,e){var _iterator594=_createForOfIteratorHelper(this.ec.querySelectorAll("style[data-bx-fonts]")),_step594;try{for(_iterator594.s();!(_step594=_iterator594.n()).done;){var _i713=_step594.value;if(_i713.getAttribute("data-bx-fonts")===t){_i713.setAttribute("data-bx-fonts",e);var _iterator595=_createForOfIteratorHelper(_i713.sheet.rules),_step595;try{for(_iterator595.s();!(_step595=_iterator595.n()).done;){var _t961=_step595.value;_t961.style.fontFamily="\"".concat(e,"\""),Sa(_i713);}}catch(err){_iterator595.e(err);}finally{_iterator595.f();}}}}catch(err){_iterator594.e(err);}finally{_iterator594.f();}{var _i712,_s410=document.createNodeIterator(this.ec,NodeFilter.SHOW_ELEMENT);for(;_i712=_s410.nextNode();){var _s411=kp.fromString(_i712.style.fontFamily);_s411&&_s411.items.includes(t)&&(_s411.items=_s411.items.map(function(i){return i===t?e:i;}),_i712.style.fontFamily=_s411.toString());}}}},{key:"pinFamily",value:function pinFamily(t){var _iterator596=_createForOfIteratorHelper(this.ec.querySelectorAll("style[data-bx-fonts]")),_step596;try{for(_iterator596.s();!(_step596=_iterator596.n()).done;){var _e731=_step596.value;_e731.getAttribute("data-bx-fonts")===t&&_e731.setAttribute("data-bx-pinned","true");}}catch(err){_iterator596.e(err);}finally{_iterator596.f();}}},{key:"unpinFamily",value:function unpinFamily(t){var _iterator597=_createForOfIteratorHelper(this.ec.querySelectorAll("style[data-bx-fonts]")),_step597;try{for(_iterator597.s();!(_step597=_iterator597.n()).done;){var _e732=_step597.value;_e732.getAttribute("data-bx-fonts")===t&&_e732.removeAttribute("data-bx-pinned");}}catch(err){_iterator597.e(err);}finally{_iterator597.f();}}},{key:"embedLinkedFonts",value:function(){var _embedLinkedFonts=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee91(){var t,_iterator598,_step598,_e733,_t962,_iterator599,_step599,_i714,_e734,_s412,_n307,_o245;return regeneratorRuntime.wrap(function _callee91$(_context92){while(1){switch(_context92.prev=_context92.next){case 0:t=_toConsumableArray(this.ec.querySelectorAll("style[data-bx-fonts]"));_iterator598=_createForOfIteratorHelper(t);_context92.prev=2;_iterator598.s();case 4:if((_step598=_iterator598.n()).done){_context92.next=37;break;}_e733=_step598.value;_t962=!1;_iterator599=_createForOfIteratorHelper(_e733.sheet.rules);_context92.prev=8;_iterator599.s();case 10:if((_step599=_iterator599.n()).done){_context92.next=26;break;}_i714=_step599.value;_e734=Mp.fromString(_i714.style.src).items[0]||null;if(!(_e734&&"external"===_e734.type)){_context92.next=24;break;}_context92.next=16;return fetch(_e734.url.value);case 16:_s412=_context92.sent;_context92.next=19;return _s412.blob();case 19:_n307=_context92.sent;_context92.next=22;return Na(_n307);case 22:_o245=_context92.sent;_i714.style.src='url("'+_o245+'")',_t962=!0;case 24:_context92.next=10;break;case 26:_context92.next=31;break;case 28:_context92.prev=28;_context92.t0=_context92["catch"](8);_iterator599.e(_context92.t0);case 31:_context92.prev=31;_iterator599.f();return _context92.finish(31);case 34:_t962&&Sa(_e733);case 35:_context92.next=4;break;case 37:_context92.next=42;break;case 39:_context92.prev=39;_context92.t1=_context92["catch"](2);_iterator598.e(_context92.t1);case 42:_context92.prev=42;_iterator598.f();return _context92.finish(42);case 45:case"end":return _context92.stop();}}},_callee91,this,[[2,39,42,45],[8,28,31,34]]);}));function embedLinkedFonts(){return _embedLinkedFonts.apply(this,arguments);}return embedLinkedFonts;}()},{key:"replaceTextWithPaths",value:function replaceTextWithPaths(t){var _this367=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:3;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:6;return new Promise(/*#__PURE__*/function(){var _ref102=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee92(s){var n,o,l,_iterator600,_step600,_s413,_l222,_h168,_a137,_r85,_d68,_c55,_p46,_u38,_x111,_t963,_n308,_o246,_l223,_h169,_a138,_e736,_i715,_l224,_iterator601,_step601,_t964,_h170,_iterator602,_step602,_e737,_iterator603,_step603,_t965,_e735;return regeneratorRuntime.wrap(function _callee92$(_context93){while(1){switch(_context93.prev=_context93.next){case 0:ci(t);n=Nt(t),o=document.createDocumentFragment(),l=t.querySelectorAll("tspan");_iterator600=_createForOfIteratorHelper(l);_context93.prev=3;_iterator600.s();case 5:if((_step600=_iterator600.n()).done){_context93.next=25;break;}_s413=_step600.value;_l222=mi(_s413).filter(function(t){return t!==di;});_h168=getComputedStyle(_s413);_a137=kp.fromString(_h168.fontFamily).items[0];_r85=parseFloat(_h168.getPropertyValue("font-size"));_d68=Lp(_h168.getPropertyValue("font-weight"));_c55=_h168.getPropertyValue("font-style");_p46=_h168.getPropertyValue("text-decoration");_context93.next=16;return _this367.sc(_l222,_a137,_r85,_d68,_c55,_p46);case 16:_u38=_context93.sent;_x111=[];if(_u38){_context93.next=21;break;}o=null;return _context93.abrupt("break",25);case 21:for(_t963=0;_t963<_u38.length;_t963+=1){_n308=_u38[_t963];if(_n308.length>0){_o246=_s413.getStartPositionOfChar(_t963),_l223=_s413.getRotationOfChar(_t963),_h169=new DOMMatrix();_h169.translateSelf(_o246.x,_o246.y),_h169.rotateSelf(_l223);_a138=zi("svg:path");_a138.setPathData(_n308),_a138.setAttribute("transform",_h169.toString()),mh(_a138,{geometryPrecision:e,transformPrecision:i,preserveRotation:!1}),_x111.push(_a138);}}if(_x111.length>0){_e736=_x111[0],_i715=_x111.slice(1),_l224=_e736.getAttribute("d");_iterator601=_createForOfIteratorHelper(_i715);try{for(_iterator601.s();!(_step601=_iterator601.n()).done;){_t964=_step601.value;_l224+=_t964.getAttribute("d");}}catch(err){_iterator601.e(err);}finally{_iterator601.f();}_h170=zi("svg:path");_h170.setAttribute("d",_l224),_h170.setAttribute("transform",n.toString());_iterator602=_createForOfIteratorHelper(t.style);try{for(_iterator602.s();!(_step602=_iterator602.n()).done;){_e737=_step602.value;!1===$.includes(_e737)&&_h170.style.setProperty(_e737,t.style.getPropertyValue(_e737));}}catch(err){_iterator602.e(err);}finally{_iterator602.f();}_iterator603=_createForOfIteratorHelper(_s413.style);try{for(_iterator603.s();!(_step603=_iterator603.n()).done;){_t965=_step603.value;!1===$.includes(_t965)&&_h170.style.setProperty(_t965,_s413.style.getPropertyValue(_t965));}}catch(err){_iterator603.e(err);}finally{_iterator603.f();}o.append(_h170);}case 23:_context93.next=5;break;case 25:_context93.next=30;break;case 27:_context93.prev=27;_context93.t0=_context93["catch"](3);_iterator600.e(_context93.t0);case 30:_context93.prev=30;_iterator600.f();return _context93.finish(30);case 33:if(o){_e735=_toConsumableArray(o.children);t.replaceWith(o),s(_e735);}else s(null);case 34:case"end":return _context93.stop();}}},_callee92,null,[[3,27,30,33]]);}));return function(_x110){return _ref102.apply(this,arguments);};}());}},{key:"canReplaceTextWithPaths",value:function canReplaceTextWithPaths(t){var e=!0,i=this.getFamilies(),s=[];var _iterator604=_createForOfIteratorHelper(bi(t)),_step604;try{for(_iterator604.s();!(_step604=_iterator604.n()).done;){var _e738=_step604.value;s.includes(_e738.parentElement)||s.push(_e738.parentElement);}}catch(err){_iterator604.e(err);}finally{_iterator604.f();}for(var _i716=0,_s414=s;_i716<_s414.length;_i716++){var _t966=_s414[_i716];var _s415=getComputedStyle(_t966),_n309=kp.fromString(_s415.fontFamily).items[0];if(!1===i.includes(_n309)){e=!1;break;}}return e;}},{key:"sc",value:function sc(t,e,i,s,n,o){var _this368=this;return new Promise(/*#__PURE__*/function(){var _ref103=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee93(l){var h,_e739,_a139,_e740,_r86,_iterator605,_step605,_s416,_t967,_n310,_l225;return regeneratorRuntime.wrap(function _callee93$(_context94){while(1){switch(_context94.prev=_context94.next){case 0:h=_this368.getMatchedFont(e,s,n);if(!h){_context94.next=9;break;}_e739=Mp.fromString(h.src);_context94.next=5;return zp(_e739.items[0].url.value);case 5:_a139=_context94.sent;if(null===_a139)l(null);else{_e740=[],_r86=("700"===s&&h.weight,("italic"===n||"oblique"===n)&&"italic"!==h.style);_iterator605=_createForOfIteratorHelper(t);try{for(_iterator605.s();!(_step605=_iterator605.n()).done;){_s416=_step605.value;_t967=_a139.charToGlyph(_s416),_n310=Op(_t967,_a139,i,o,0,_r86).toPathData(),_l225=it(_n310);_l225=st(_l225),_l225=nt(_l225),_e740.push(_l225);}}catch(err){_iterator605.e(err);}finally{_iterator605.f();}l(_e740);}_context94.next=10;break;case 9:l(null);case 10:case"end":return _context94.stop();}}},_callee93);}));return function(_x112){return _ref103.apply(this,arguments);};}());}},{key:"ic",value:function ic(t){var e="@font-face { ";return e+="font-family: \"".concat(t.family,"\"; "),e+="font-style: ".concat(t.style,"; "),e+="font-weight: ".concat(t.weight,"; "),e+="font-stretch: ".concat(t.stretch,"; "),e+="font-unicode-range: ".concat(t.unicodeRange,"; "),e+="font-variant: ".concat(t.variant,"; "),e+="font-feature-settings: ".concat(t.featureSettings,"; "),e+="src: ".concat(t.src,"; "),e+="}",e;}}]);return Up;}();var Np=Math.abs;var Vp=/*#__PURE__*/function(_gp2){_inherits(Vp,_gp2);var _super63=_createSuper(Vp);function Vp(t){var _this369;_classCallCheck(this,Vp);_this369=_super63.call(this),_this369.Pn=t,_this369.nc=[];return _this369;}_createClass(Vp,[{key:"snapStart",value:function snapStart(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.Pn;if(this.nc=[],e.showGrid){var _t968=jt(e.vectorCanvas),_i717=e.currentWorkspace.querySelector(":scope > defs > bx-grid"),_s417=0,_n311=0,_o247=100,_l226=100;_i717&&(_s417=parseFloat(_i717.getAttribute("x")),_n311=parseFloat(_i717.getAttribute("y")),_o247=parseFloat(_i717.getAttribute("width")),_l226=parseFloat(_i717.getAttribute("height")));var _h171=e.getBoundingClientRect(),_a140=Ue(new DOMRect(_s417,_n311,_o247,_l226),_t968);_s417=_a140.x,_n311=_a140.y,_o247=_a140.width,_l226=_a140.height;var _r87=_h171.x,_d69=_h171.x+_h171.width,_c56=_h171.y,_p47=_h171.y+_h171.height,_u39=[],_x113=[];for(var _t969=_s417;_t969<=_d69;_t969+=_o247){_t969>=_r87&&_u39.push(_t969);}for(var _t970=_s417-_o247;_t970>=_r87;_t970-=_o247){_t970<=_d69&&_u39.push(_t970);}for(var _t971=_n311;_t971<=_p47;_t971+=_l226){_t971>=_c56&&_x113.push(_t971);}for(var _t972=_n311-_l226;_t972>=_c56;_t972-=_l226){_t972<=_p47&&_x113.push(_t972);}for(var _i718=0,_u40=_u39;_i718<_u40.length;_i718++){var _t973=_u40[_i718];this.nc.push({type:"grid",orientation:"vertical",snapping:!1,x:_t973,grid:_i717});}for(var _i719=0,_x114=_x113;_i719<_x114.length;_i719++){var _t974=_x114[_i719];this.nc.push({type:"grid",orientation:"horizontal",snapping:!1,y:_t974,grid:_i717});}}if(e.showManualGuides){var _t975=jt(e.vectorCanvas),_i720=e.currentWorkspace.querySelectorAll("bx-guide");var _iterator606=_createForOfIteratorHelper(_i720),_step606;try{for(_iterator606.s();!(_step606=_iterator606.n()).done;){var _e741=_step606.value;var _i721=parseFloat(_e741.getAttribute("angle")),_s418=parseFloat(_e741.getAttribute("x")),_n312=parseFloat(_e741.getAttribute("y")),_o248=new DOMPoint(_s418,_n312).matrixTransform(_t975);0===_i721?this.nc.push({type:"manual",orientation:"vertical",snapping:!1,x:_o248.x,guide:_e741}):90===_i721?this.nc.push({type:"manual",orientation:"horizontal",snapping:!1,y:_o248.y,guide:_e741}):this.nc.push({type:"manual",orientation:"angular",snapping:!1,x:_o248.x,y:_o248.y,guide:_e741});}}catch(err){_iterator606.e(err);}finally{_iterator606.f();}}if(e.showSmartGuides){var _i722=jt(e.vectorCanvas),_s419=e.outermostSelectedElements,_n313=[];if(_s419.length>0){var _iterator607=_createForOfIteratorHelper(_s419[0].parentElement.children),_step607;try{for(_iterator607.s();!(_step607=_iterator607.n()).done;){var _i723=_step607.value;e.isSelectableElement(_i723)&&(!1!==t&&!1!==_s419.includes(_i723)||_n313.push(_i723));}}catch(err){_iterator607.e(err);}finally{_iterator607.f();}}else{var _iterator608=_createForOfIteratorHelper(e.currentWorkspace.children),_step608;try{for(_iterator608.s();!(_step608=_iterator608.n()).done;){var _t976=_step608.value;e.isSelectableElement(_t976)&&_n313.push(_t976);}}catch(err){_iterator608.e(err);}finally{_iterator608.f();}}var _o249=_n313.map(function(t){return Mi(t);});if(e.currentWorkspace.hasAttribute("viewBox")){var _t977=Bt.fromString(e.currentWorkspace.getAttribute("viewBox")).toRect();_t977=Ue(_t977,_i722),_o249.push(_t977);}{var _t978=e.currentWorkspace.querySelectorAll(":scope > view, :scope > defs > view");var _iterator609=_createForOfIteratorHelper(_t978),_step609;try{for(_iterator609.s();!(_step609=_iterator609.n()).done;){var _e742=_step609.value;var _t979=Bt.fromString(_e742.getAttribute("viewBox")).toRect();_t979=Ue(_t979,_i722),_o249.push(_t979);}}catch(err){_iterator609.e(err);}finally{_iterator609.f();}}{var _t980=e.getBoundingClientRect();_o249=_o249.filter(function(e){return He(_t980,e);});}var _iterator610=_createForOfIteratorHelper(_o249),_step610;try{for(_iterator610.s();!(_step610=_iterator610.n()).done;){var _t981=_step610.value;this.nc.push({type:"smart",orientation:"vertical",snapping:!1,x:_t981.x,snappingBBox:_t981,snappedBBox:null,side:"left"}),this.nc.push({type:"smart",orientation:"vertical",snapping:!1,x:_t981.x+_t981.width,snappingBBox:_t981,side:"right"}),this.nc.push({type:"smart",orientation:"horizontal",snapping:!1,y:_t981.y,snappingBBox:_t981,snappedBBox:null,side:"top"}),this.nc.push({type:"smart",orientation:"horizontal",snapping:!1,y:_t981.y+_t981.height,snappingBBox:_t981,snappedBBox:null,side:"bottom"});}}catch(err){_iterator610.e(err);}finally{_iterator610.f();}}this.dispatchEvent(new CustomEvent("snapperschange"));}},{key:"snapEnd",value:function snapEnd(){this.nc.length>0&&(this.nc=[],this.dispatchEvent(new CustomEvent("snapperschange")));}},{key:"snapBBox",value:function snapBBox(t){var e=new DOMRect(t.x,t.y,t.width,t.height);if(this.nc.length>0){var _i724=Infinity,_s420=Infinity,_n314=null,_o250=null,_l227=null,_h172=null,_a141=[new DOMPoint(t.x,t.y),new DOMPoint(t.x+t.width,t.y),new DOMPoint(t.x+t.width,t.y+t.height),new DOMPoint(t.x,t.y+t.height)];for(var _i725=0,_a142=_a141;_i725<_a142.length;_i725++){var _t982=_a142[_i725];var _iterator611=_createForOfIteratorHelper(this.nc),_step611;try{for(_iterator611.s();!(_step611=_iterator611.n()).done;){var _e743=_step611.value;if("vertical"===_e743.orientation){var _s421=Np(_t982.x-_e743.x);_s421<_i724&&(_i724=_s421,_n314=_e743,_l227=_e743.x-_t982.x);}else if("horizontal"===_e743.orientation){var _i726=Np(_t982.y-_e743.y);_i726<_s420&&(_s420=_i726,_o250=_e743,_h172=_e743.y-_t982.y);}}}catch(err){_iterator611.e(err);}finally{_iterator611.f();}}var _iterator612=_createForOfIteratorHelper(this.nc),_step612;try{for(_iterator612.s();!(_step612=_iterator612.n()).done;){var _t983=_step612.value;_t983.snapping=!1,_t983.snappedBBox=null,_t983.snappedPoint=null;}}catch(err){_iterator612.e(err);}finally{_iterator612.f();}_i724<10&&(e.x+=_l227,_n314.snapping=!0,_n314.snappedBBox=e),_s420<10&&(e.y+=_h172,_o250.snapping=!0,_o250.snappedBBox=e),this.dispatchEvent(new CustomEvent("snapperschange"));}return e;}},{key:"snapPoint",value:function snapPoint(t){var e=new DOMPoint(t.x,t.y);if(this.nc.length>0){var _i727=Infinity,_s422=Infinity,_n315=null,_o251=null,_l228=null,_h173=null;var _iterator613=_createForOfIteratorHelper(this.nc),_step613;try{for(_iterator613.s();!(_step613=_iterator613.n()).done;){var _e744=_step613.value;if("vertical"===_e744.orientation){var _s423=Np(t.x-_e744.x);_s423<_i727&&(_i727=_s423,_n315=_e744,_l228=_e744.x-t.x);}else if("horizontal"===_e744.orientation){var _i728=Np(t.y-_e744.y);_i728<_s422&&(_s422=_i728,_o251=_e744,_h173=_e744.y-t.y);}}}catch(err){_iterator613.e(err);}finally{_iterator613.f();}var _iterator614=_createForOfIteratorHelper(this.nc),_step614;try{for(_iterator614.s();!(_step614=_iterator614.n()).done;){var _t984=_step614.value;_t984.snapping=!1,_t984.snappedBBox=null,_t984.snappedPoint=null;}}catch(err){_iterator614.e(err);}finally{_iterator614.f();}_i727<10&&(e.x+=_l228,_n315.snapping=!0,_n315.snappedPoint=e),_s422<10&&(e.y+=_h173,_o251.snapping=!0,_o251.snappedPoint=e),this.dispatchEvent(new CustomEvent("snapperschange"));}return e;}},{key:"snapPointToAngleMultiple",value:function snapPointToAngleMultiple(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:22.5;var _Ae27=Ae(t,e,i),_Ae28=_slicedToArray(_Ae27,1),s=_Ae28[0];if(this.nc.length>0){var _e745=null,_i729=null,_n316=Infinity;var _iterator615=_createForOfIteratorHelper(this.nc),_step615;try{for(_iterator615.s();!(_step615=_iterator615.n()).done;){var _o252=_step615.value;var _l229=void 0,_h174=void 0;"vertical"===_o252.orientation?(_l229=new DOMPoint(_o252.x,0),_h174=new DOMPoint(_o252.x,100)):(_l229=new DOMPoint(0,_o252.y),_h174=new DOMPoint(100,_o252.y));var _a143=Ke(t,s,_l229,_h174);if(_a143){var _t987=De(s,_a143);_t987<_n316&&(_e745=_o252,_i729=_a143,_n316=_t987);}}}catch(err){_iterator615.e(err);}finally{_iterator615.f();}if(_n316<5){s=_i729;var _iterator616=_createForOfIteratorHelper(this.nc),_step616;try{for(_iterator616.s();!(_step616=_iterator616.n()).done;){var _t985=_step616.value;_t985.snapping=_t985===_e745,_t985.snappedBBox=null,_t985.snappedPoint=_t985===_e745?s:null;}}catch(err){_iterator616.e(err);}finally{_iterator616.f();}}else{var _iterator617=_createForOfIteratorHelper(this.nc),_step617;try{for(_iterator617.s();!(_step617=_iterator617.n()).done;){var _t986=_step617.value;_t986.snapping=!1,_t986.snappedBBox=null,_t986.snappedPoint=null;}}catch(err){_iterator617.e(err);}finally{_iterator617.f();}}this.dispatchEvent(new CustomEvent("snapperschange"));}return s;}},{key:"isGuideSnapping",value:function isGuideSnapping(t){var _iterator618=_createForOfIteratorHelper(this.nc),_step618;try{for(_iterator618.s();!(_step618=_iterator618.n()).done;){var _e746=_step618.value;if(_e746.guide===t)return _e746.snapping;}}catch(err){_iterator618.e(err);}finally{_iterator618.f();}return!1;}},{key:"isGridSnapping",value:function isGridSnapping(t){}},{key:"snappers",get:function get(){return _toConsumableArray(this.nc);}}]);return Vp;}(gp);var jp={colors:"unpinned",gradients:"unpinned",patterns:"unpinned",markers:"unpinned",symbols:"none",filters:"unpinned",fonts:"unpinned",clipPaths:"unpinned",masks:"unpinned"};var Hp=/*#__PURE__*/function(){function Hp(t){_classCallCheck(this,Hp);this.Hd=t;}_createClass(Hp,[{key:"collect",value:function collect(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:jp;for(var _i730=0,_Object$entries3=Object.entries(jp);_i730<_Object$entries3.length;_i730++){var _Object$entries3$_i=_slicedToArray(_Object$entries3[_i730],2),_e747=_Object$entries3$_i[0],_i731=_Object$entries3$_i[1];void 0===t[_e747]&&(t[_e747]=_i731);}var e=this.oc(),i={gradients:[],patterns:[],markers:[],symbols:[],filters:[],fonts:[],clipPaths:[],masks:[]};if("all"===t.colors||"unpinned"===t.colors){var _s424=_toConsumableArray(this.Hd.querySelectorAll("linearGradient, radialGradient"));_s424=_s424.filter(function(t){return!0===_o(t);});var _iterator619=_createForOfIteratorHelper(_s424),_step619;try{for(_iterator619.s();!(_step619=_iterator619.n()).done;){var _n317=_step619.value;var _o253=e.paintServers.has(_n317.id),_l230="unpinned"===t.colors&&_n317.hasAttribute("data-bx-pinned");if(!1===_o253&&!1===_l230){var _h175=this.lc(_n317,_s424);var _iterator620=_createForOfIteratorHelper(_h175),_step620;try{for(_iterator620.s();!(_step620=_iterator620.n()).done;){var _i732=_step620.value;if(_o253=e.paintServers.has(_i732.id),_l230="unpinned"===t.colors&&_i732.hasAttribute("data-bx-pinned"),_o253||_l230)break;}}catch(err){_iterator620.e(err);}finally{_iterator620.f();}!1===_o253&&!1===_l230&&(i.gradients.push(_n317),_n317.remove());}}}catch(err){_iterator619.e(err);}finally{_iterator619.f();}}if("all"===t.gradients||"unpinned"===t.gradients){var _s425=_toConsumableArray(this.Hd.querySelectorAll("linearGradient, radialGradient"));_s425=_s425.filter(function(t){return!1===_o(t);});var _iterator621=_createForOfIteratorHelper(_s425),_step621;try{for(_iterator621.s();!(_step621=_iterator621.n()).done;){var _n318=_step621.value;var _o254=e.paintServers.has(_n318.id),_l231="unpinned"===t.gradients&&_n318.hasAttribute("data-bx-pinned");if(!1===_o254&&!1===_l231){var _h176=this.lc(_n318,_s425);var _iterator622=_createForOfIteratorHelper(_h176),_step622;try{for(_iterator622.s();!(_step622=_iterator622.n()).done;){var _i733=_step622.value;if(_o254=e.paintServers.has(_i733.id),_l231="unpinned"===t.gradients&&_i733.hasAttribute("data-bx-pinned"),_o254||_l231)break;}}catch(err){_iterator622.e(err);}finally{_iterator622.f();}!1===_o254&&!1===_l231&&(i.gradients.push(_n318),_n318.remove());}}}catch(err){_iterator621.e(err);}finally{_iterator621.f();}}if("all"===t.patterns||"unpinned"===t.patterns){var _s426=_toConsumableArray(this.Hd.querySelectorAll("pattern"));var _iterator623=_createForOfIteratorHelper(_s426),_step623;try{for(_iterator623.s();!(_step623=_iterator623.n()).done;){var _n319=_step623.value;var _o255=e.paintServers.has(_n319.id),_l232="unpinned"===t.patterns&&_n319.hasAttribute("data-bx-pinned");if(!1===_o255&&!1===_l232){var _h177=this.hc(_n319,_s426);var _iterator624=_createForOfIteratorHelper(_h177),_step624;try{for(_iterator624.s();!(_step624=_iterator624.n()).done;){var _i734=_step624.value;if(_o255=e.paintServers.has(_i734.id),_l232="unpinned"===t.patterns&&_i734.hasAttribute("data-bx-pinned"),_o255||_l232)break;}}catch(err){_iterator624.e(err);}finally{_iterator624.f();}!1===_o255&&!1===_l232&&(i.patterns.push(_n319),_n319.remove());}}}catch(err){_iterator623.e(err);}finally{_iterator623.f();}}if("all"===t.markers||"unpinned"===t.markers){var _s427=_toConsumableArray(this.Hd.querySelectorAll("marker"));var _iterator625=_createForOfIteratorHelper(_s427),_step625;try{for(_iterator625.s();!(_step625=_iterator625.n()).done;){var _n320=_step625.value;var _s428=e.markers.has(_n320.id),_o256="unpinned"===t.markers&&_n320.hasAttribute("data-bx-pinned");!1===_s428&&!1===_o256&&(i.markers.push(_n320),_n320.remove());}}catch(err){_iterator625.e(err);}finally{_iterator625.f();}}if("all"===t.filters||"unpinned"===t.filters){var _s429=this.Hd.querySelectorAll("filter");var _iterator626=_createForOfIteratorHelper(_s429),_step626;try{for(_iterator626.s();!(_step626=_iterator626.n()).done;){var _n321=_step626.value;var _s430=e.filters.has(_n321.id),_o257="unpinned"===t.filters&&_n321.hasAttribute("data-bx-pinned");!1===_s430&&!1===_o257&&(i.filters.push(_n321),_n321.remove());}}catch(err){_iterator626.e(err);}finally{_iterator626.f();}}if("all"===t.clipPaths||"unpinned"===t.clipPaths){var _s431=this.Hd.querySelectorAll("clipPath, clippath");var _iterator627=_createForOfIteratorHelper(_s431),_step627;try{for(_iterator627.s();!(_step627=_iterator627.n()).done;){var _n322=_step627.value;var _s432=e.clipPaths.has(_n322.id),_o258="unpinned"===t.clipPaths&&_n322.hasAttribute("data-bx-pinned");!1===_s432&&!1===_o258&&(i.clipPaths.push(_n322),_n322.remove());}}catch(err){_iterator627.e(err);}finally{_iterator627.f();}}if("all"===t.masks||"unpinned"===t.masks){var _s433=this.Hd.querySelectorAll("mask");var _iterator628=_createForOfIteratorHelper(_s433),_step628;try{for(_iterator628.s();!(_step628=_iterator628.n()).done;){var _n323=_step628.value;var _s434=e.masks.has(_n323.id),_o259="unpinned"===t.masks&&_n323.hasAttribute("data-bx-pinned");!1===_s434&&!1===_o259&&(i.masks.push(_n323),_n323.remove());}}catch(err){_iterator628.e(err);}finally{_iterator628.f();}}if("all"===t.symbols||"unpinned"===t.symbols){var _s435=this.Hd.querySelectorAll("symbol");var _iterator629=_createForOfIteratorHelper(_s435),_step629;try{for(_iterator629.s();!(_step629=_iterator629.n()).done;){var _n324=_step629.value;var _s436=e.symbols.has(_n324.id),_o260="unpinned"===t.symbols&&_n324.hasAttribute("data-bx-pinned");!1===_s436&&!1===_o260&&(i.symbols.push(_n324),_n324.remove());}}catch(err){_iterator629.e(err);}finally{_iterator629.f();}}if("all"===t.fonts||"unpinned"===t.fonts){var _e748=this.ac(),_s437=_toConsumableArray(this.Hd.querySelectorAll("style[data-bx-fonts]"));var _iterator630=_createForOfIteratorHelper(_s437),_step630;try{for(_iterator630.s();!(_step630=_iterator630.n()).done;){var _n325=_step630.value;var _s438=_n325.getAttribute("data-bx-fonts"),_o261=_e748.has(_s438),_l233="unpinned"===t.fonts&&_n325.hasAttribute("data-bx-pinned");!1===_o261&&!1===_l233&&(i.fonts.push(_s438),_n325.remove());}}catch(err){_iterator630.e(err);}finally{_iterator630.f();}}(i.gradients.length>0||i.patterns.length>0||i.markers.length>0||i.filters.length>0||i.clipPaths.length>0||i.masks.length>0||i.symbols.length>0||i.fonts.length>0)&&this.collect(t);}},{key:"oc",value:function oc(){var t=document.createNodeIterator(this.Hd,NodeFilter.SHOW_ELEMENT),e=null,i={paintServers:new Set(),markers:new Set(),filters:new Set(),clipPaths:new Set(),masks:new Set(),symbols:new Set(),fontFamilies:new Set()};for(;e=t.nextNode();){var _t988=getComputedStyle(e);if(w.includes(e.localName)){var _e749=_t988.fill,_s439=_t988.stroke;if(_e749&&_e749.startsWith("url(")){var _t989=_e749.substring(6,_e749.length-2);i.paintServers.add(_t989);}if(_s439&&_s439.startsWith("url(")){var _t990=_s439.substring(6,_s439.length-2);i.paintServers.add(_t990);}}if(z.includes(e.localName)){var _e750=_t988.markerStart,_s440=_t988.markerMid,_n326=_t988.markerEnd;if(_e750&&_e750.startsWith("url(")){var _t991=_e750.substring(6,_e750.length-2);i.markers.add(_t991);}if(_s440&&_s440.startsWith("url(")){var _t992=_s440.substring(6,_s440.length-2);i.markers.add(_t992);}if(_n326&&_n326.startsWith("url(")){var _t993=_n326.substring(6,_n326.length-2);i.markers.add(_t993);}}if(D.includes(e.localName)){var _e751=_t988.filter;if(_e751&&_e751.startsWith("url(")){var _t994=_e751.substring(6,_e751.length-2);i.filters.add(_t994);}}if(_.includes(e.localName)){var _e752=_t988.clipPath;if(_e752&&_e752.startsWith("url(")){var _t995=_e752.substring(6,_e752.length-2);i.clipPaths.add(_t995);}}if(M.includes(e.localName)){var _e753=_t988.mask;if(_e753&&_e753.startsWith("url(")){var _t996=_e753.substring(6,_e753.length-2);i.masks.add(_t996);}}if("use"===e.localName&&"#"===e.href.baseVal[0]){var _t997=e.href.baseVal.substring(1);i.symbols.add(_t997);}if(b.includes(e.localName)||"a"===e.localName){var _e754=_t988.fontFamily;_e754&&i.fontFamilies.add(_e754);}}return i;}},{key:"ac",value:function ac(){var t,e=new Set(),i=document.createNodeIterator(this.Hd,NodeFilter.SHOW_ELEMENT);for(;t=i.nextNode();){if(""!==t.style.fontFamily){var _i735=kp.fromString(t.style.fontFamily);if(_i735){var _iterator631=_createForOfIteratorHelper(_i735.items),_step631;try{for(_iterator631.s();!(_step631=_iterator631.n()).done;){var _t998=_step631.value;e.add(_t998);}}catch(err){_iterator631.e(err);}finally{_iterator631.f();}}}}var _iterator632=_createForOfIteratorHelper(this.Hd.querySelectorAll("style")),_step632;try{for(_iterator632.s();!(_step632=_iterator632.n()).done;){var _t999=_step632.value;var _iterator633=_createForOfIteratorHelper(_t999.sheet.rules),_step633;try{for(_iterator633.s();!(_step633=_iterator633.n()).done;){var _i736=_step633.value;if(_i736.type===CSSStyleRule.STYLE_RULE&&""!==_i736.style.fontFamily){var _t1000=kp.fromString(_i736.style.fontFamily);var _iterator634=_createForOfIteratorHelper(_t1000.items),_step634;try{for(_iterator634.s();!(_step634=_iterator634.n()).done;){var _i737=_step634.value;e.add(_i737);}}catch(err){_iterator634.e(err);}finally{_iterator634.f();}}}}catch(err){_iterator633.e(err);}finally{_iterator633.f();}}}catch(err){_iterator632.e(err);}finally{_iterator632.f();}return e;}},{key:"lc",value:function lc(t,e){var i=[],s=t;for(;;){var _t1001=e.find(function(t){return t.href.baseVal==="#"+s.id;});if(!_t1001||!1!==i.includes(_t1001))break;i.push(_t1001),s=_t1001;}return i;}},{key:"hc",value:function hc(t,e){var i=[],s=t;for(;;){var _t1002=e.find(function(t){return t.href.baseVal==="#"+s.id;});if(!_t1002||!1!==i.includes(_t1002))break;i.push(_t1002),s=_t1002;}return i;}}]);return Hp;}();var _window7=window,Yp=_window7.tokenize,Wp=_window7.EOFToken;var qp=/*#__PURE__*/function(){_createClass(qp,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t;}},{key:"type",get:function get(){return"<number>";}}]);function qp(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;_classCallCheck(this,qp);this._t=t;}_createClass(qp,[{key:"toString",value:function toString(){return""+this.value;}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(Yp(t)),[new Wp()]),s=new Dt(i),n=null;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"NUMBER"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected NUMBER token.","SyntaxError");return null;}if(n=s.currentToken.value,s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new qp(n);if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}}]);return qp;}();var _window8=window,Xp=_window8.tokenize,Zp=_window8.EOFToken;var Kp=/*#__PURE__*/function(){_createClass(Kp,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t;}},{key:"type",get:function get(){return"<percentage>";}}]);function Kp(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;_classCallCheck(this,Kp);this._t=t;}_createClass(Kp,[{key:"toString",value:function toString(){return this.value+"%";}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(Xp(t)),[new Zp()]),s=new Dt(i),n=null;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"PERCENTAGE"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected PERCENTAGE token.","SyntaxError");return null;}if(n=s.currentToken.value,s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new Kp(n);if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}}]);return Kp;}();var Qp=function Qp(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"xml";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:2;t=t.cloneNode(!0);var s,n=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT);for(;s=n.nextNode();){if(s.nodeType==Node.ELEMENT_NODE)if("defs"===s.localName)0===s.children.length&&s.remove();else if("style"===s.localName)""===s.textContent.replace(/\s+/g," ").trim()?s.remove():s.matches('[data-bx-fonts="google"]')&&s.removeAttribute("data-bx-fonts");else if("xml"===e&&"path"===s.localName){var _t1003=s.getAttribute("d");_t1003&&/[\t\n\r]/.test(_t1003)&&s.setAttribute("d",_t1003.replace(/[\t\n\r ]+/g," "));}}return eu(t,e),ga(t,i),Jp(t,e);},Jp=function Jp(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"xml";var i;if("xml"===e){i='<?xml version="1.0" encoding="utf-8"?>\n'+new XMLSerializer().serializeToString(t);}else if("html"===e){i="<!doctype html>\n"+t.outerHTML,i=si(i,' xmlns:xlink="http://www.w3.org/1999/xlink"',"");}return i=si(i,"url(&quot;","url("),i=si(i,"&quot;)",")"),i;},tu=function tu(t){return new Promise(/*#__PURE__*/function(){var _ref104=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee94(e){var _i738,s,n,o;return regeneratorRuntime.wrap(function _callee94$(_context95){while(1){switch(_context95.prev=_context95.next){case 0:n=new Blob([t],{type:"image/svg+xml"}),o=new FileReader();o.readAsDataURL(n),o.addEventListener("load",_i738=function i(t){o.removeEventListener("load",_i738),o.removeEventListener("error",s);var n=t.target.result;e(n);}),o.addEventListener("error",s=function(_s441){function s(_x116){return _s441.apply(this,arguments);}s.toString=function(){return _s441.toString();};return s;}(function(t){o.removeEventListener("load",_i738),o.removeEventListener("error",s),e(null);}));case 2:case"end":return _context95.stop();}}},_callee94);}));return function(_x115){return _ref104.apply(this,arguments);};}());},eu=function eu(t,e){if("xml"===e){var _e755,_i739=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT),_s442=!1,_n327=!1;for(;_e755=_i739.nextNode();){if("bx-title"!==_e755.localName){if(_e755.localName.startsWith("bx-")){var _t1004=document.createElementNS(l.bx,"bx:"+_e755.localName.substring(3));for(var _i740=0,_arr28=_toConsumableArray(_e755.attributes);_i740<_arr28.length;_i740++){var _i741=_arr28[_i740];_t1004.setAttribute(_i741.name,_i741.value);}for(var _i742=0,_arr29=_toConsumableArray(_e755.childNodes);_i742<_arr29.length;_i742++){var _i743=_arr29[_i742];_t1004.append(_i743);}_e755.replaceWith(_t1004),_n327=!0;}else for(var _i744=0,_arr30=_toConsumableArray(_e755.attributes);_i744<_arr30.length;_i744++){var _arr30$_i=_arr30[_i744],_t1005=_arr30$_i.name,_i745=_arr30$_i.value;if("href"===_t1005||"_href"===_t1005)_e755.setAttribute("xlink:href",_i745),_e755.removeAttribute(_t1005),_s442=!0;else if(_t1005.startsWith("data-bx-")){var _s443=_t1005.substring(8);_e755.setAttributeNS(l.bx,"bx:".concat(_s443),_i745),_e755.removeAttribute(_t1005),_n327=!0;}}}else{var _t1006=zi("svg:title");_t1006.innerHTML=_e755.innerHTML;var _iterator635=_createForOfIteratorHelper(_e755.attributes),_step635;try{for(_iterator635.s();!(_step635=_iterator635.n()).done;){var _step635$value=_step635.value,_i746=_step635$value.name,_s444=_step635$value.value;_t1006.setAttribute(_i746,_s444);}}catch(err){_iterator635.e(err);}finally{_iterator635.f();}_e755.replaceWith(_t1006);}}t.removeAttribute("xmlns"),t.removeAttribute("xmlns:bx"),t.removeAttribute("xmlns:xlink"),t.setAttributeNS(l.xmlns,"xmlns",l.svg),_s442&&t.setAttributeNS(l.xmlns,"xmlns:xlink",l.xlink),_n327&&t.setAttributeNS(l.xmlns,"xmlns:bx",l.bx);}else if("html"===e){var _e756,_i747=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT);for(;_e756=_i747.nextNode();){if("bx-title"!==_e756.localName)for(var _i748=0,_arr31=_toConsumableArray(_e756.attributes);_i748<_arr31.length;_i748++){var _arr31$_i=_arr31[_i748],_t1007=_arr31$_i.name,_i749=_arr31$_i.value;"href"!==_t1007&&"_href"!==_t1007||(_e756.setAttribute("xlink:href",_i749),_e756.removeAttribute(_t1007));}else{var _t1008=zi("svg:title");_t1008.innerHTML=_e756.innerHTML;var _iterator636=_createForOfIteratorHelper(_e756.attributes),_step636;try{for(_iterator636.s();!(_step636=_iterator636.n()).done;){var _step636$value=_step636.value,_i750=_step636$value.name,_s445=_step636$value.value;_t1008.setAttribute(_i750,_s445);}}catch(err){_iterator636.e(err);}finally{_iterator636.f();}_e756.replaceWith(_t1008);}}}},iu=function iu(t){return null!==new DOMParser().parseFromString(t,"text/html").querySelector("svg");},su=function su(t,e){var i=document.createElement("div");i.setAttribute("style","width: 1px; height: 1px; position: fixed; top: -1px; left: -1px; overflow: hidden;"),i.attachShadow({mode:"open"}),i.shadowRoot.append(t),i.shadowRoot.append(e),document.body.append(i);var _iterator637=_createForOfIteratorHelper(t.querySelectorAll("use")),_step637;try{for(_iterator637.s();!(_step637=_iterator637.n()).done;){var _i764=_step637.value;if(""!==_i764.href.baseVal){var _s457=t.querySelector(_i764.href.baseVal),_n331=e.querySelector(_i764.href.baseVal);_s457&&_n331&&Ti(_s457,_n331)&&_s457.remove();}}}catch(err){_iterator637.e(err);}finally{_iterator637.f();}{var _i751=_toConsumableArray(t.querySelectorAll("linearGradient,radialGradient"));_i751=_i751.filter(function(t){return _o(t);});var _s446=_toConsumableArray(e.querySelectorAll("linearGradient,radialGradient"));_s446=_s446.filter(function(t){return _o(t);});var _iterator638=_createForOfIteratorHelper(_i751),_step638;try{var _loop17=function _loop17(){var t=_step638.value;var e=_s446.find(function(e){return e.id===t.id;});e&&!0===Io([t,e])&&t.remove();};for(_iterator638.s();!(_step638=_iterator638.n()).done;){_loop17();}}catch(err){_iterator638.e(err);}finally{_iterator638.f();}}{var _i752=_toConsumableArray(t.querySelectorAll("linearGradient,radialGradient"));_i752=_i752.filter(function(t){return Mo(t);});var _s447=_toConsumableArray(e.querySelectorAll("linearGradient,radialGradient"));_s447=_s447.filter(function(t){return Mo(t);});var _iterator639=_createForOfIteratorHelper(_i752),_step639;try{var _loop18=function _loop18(){var t=_step639.value;var e=_s447.find(function(e){return e.id===t.id;});e&&!0===Io([t,e])&&t.remove();};for(_iterator639.s();!(_step639=_iterator639.n()).done;){_loop18();}}catch(err){_iterator639.e(err);}finally{_iterator639.f();}}{var _i753=_toConsumableArray(t.querySelectorAll("pattern:not([href])")),_s448=_toConsumableArray(e.querySelectorAll("pattern:not([href])"));var _iterator640=_createForOfIteratorHelper(_i753),_step640;try{var _loop19=function _loop19(){var t=_step640.value;var e=_s448.find(function(e){return e.id===t.id;});e&&Ti(t,e)&&t.remove();};for(_iterator640.s();!(_step640=_iterator640.n()).done;){_loop19();}}catch(err){_iterator640.e(err);}finally{_iterator640.f();}}{var _i754=_toConsumableArray(t.querySelectorAll("marker")),_s449=_toConsumableArray(e.querySelectorAll("marker"));var _iterator641=_createForOfIteratorHelper(_i754),_step641;try{var _loop20=function _loop20(){var t=_step641.value;var e=_s449.find(function(e){return e.id===t.id;});e&&Ti(t,e)&&t.remove();};for(_iterator641.s();!(_step641=_iterator641.n()).done;){_loop20();}}catch(err){_iterator641.e(err);}finally{_iterator641.f();}}{var _i755=_toConsumableArray(t.querySelectorAll("filter"));_i755=_i755.filter(function(t){return!1===t.hasAttribute("data-bx-preset");});var _s450=_toConsumableArray(e.querySelectorAll("filter"));_s450=_s450.filter(function(t){return!1===t.hasAttribute("data-bx-preset");});var _iterator642=_createForOfIteratorHelper(_i755),_step642;try{var _loop21=function _loop21(){var t=_step642.value;var e=_s450.find(function(e){return e.id===t.id;});e&&Ti(t,e)&&t.remove();};for(_iterator642.s();!(_step642=_iterator642.n()).done;){_loop21();}}catch(err){_iterator642.e(err);}finally{_iterator642.f();}}{var _e757=_toConsumableArray(t.querySelectorAll("view"));var _iterator643=_createForOfIteratorHelper(_e757),_step643;try{for(_iterator643.s();!(_step643=_iterator643.n()).done;){var _t1009=_step643.value;_t1009.remove();}}catch(err){_iterator643.e(err);}finally{_iterator643.f();}}var _iterator644=_createForOfIteratorHelper(t.querySelectorAll("[data-bx-pinned]")),_step644;try{for(_iterator644.s();!(_step644=_iterator644.n()).done;){var _e765=_step644.value;_e765.removeAttribute("data-bx-pinned");}}catch(err){_iterator644.e(err);}finally{_iterator644.f();}{var _e758=_toConsumableArray(t.querySelectorAll("style")).filter(function(t){return!t.hasAttribute("data-bx-fonts");}),_i756=new Set();var _iterator645=_createForOfIteratorHelper(_e758),_step645;try{for(_iterator645.s();!(_step645=_iterator645.n()).done;){var _s452=_step645.value;var _iterator649=_createForOfIteratorHelper(_s452.sheet.rules),_step649;try{for(_iterator649.s();!(_step649=_iterator649.n()).done;){var _e759=_step649.value;if(_e759.type===CSSRule.STYLE_RULE){var _iterator650=_createForOfIteratorHelper(t.querySelectorAll(_e759.selectorText)),_step650;try{for(_iterator650.s();!(_step650=_iterator650.n()).done;){var _s453=_step650.value;_i756.add(_s453);}}catch(err){_iterator650.e(err);}finally{_iterator650.f();}}}}catch(err){_iterator649.e(err);}finally{_iterator649.f();}}}catch(err){_iterator645.e(err);}finally{_iterator645.f();}var _s451=Symbol();var _iterator646=_createForOfIteratorHelper(_i756),_step646;try{for(_iterator646.s();!(_step646=_iterator646.n()).done;){var _t1010=_step646.value;_t1010[_s451]=va(_t1010);}}catch(err){_iterator646.e(err);}finally{_iterator646.f();}var _iterator647=_createForOfIteratorHelper(_e758),_step647;try{for(_iterator647.s();!(_step647=_iterator647.n()).done;){var _t1011=_step647.value;_t1011.remove();}}catch(err){_iterator647.e(err);}finally{_iterator647.f();}var _iterator648=_createForOfIteratorHelper(_i756),_step648;try{for(_iterator648.s();!(_step648=_iterator648.n()).done;){var _t1012=_step648.value;var _e760=_t1012[_s451],_i757=va(_t1012);for(var _i758=0,_Object$entries4=Object.entries(_e760);_i758<_Object$entries4.length;_i758++){var _Object$entries4$_i=_slicedToArray(_Object$entries4[_i758],2),_s454=_Object$entries4$_i[0],_n328=_Object$entries4$_i[1];_n328!==_i757[_s454]&&_t1012.style.setProperty(_s454,_n328);}}}catch(err){_iterator648.e(err);}finally{_iterator648.f();}t.remove();}{var _i759=_toConsumableArray(t.querySelectorAll("[id]")).map(function(t){return t.id;}),_s455=_toConsumableArray(e.querySelectorAll("[id]")).map(function(t){return t.id;});t.id&&_i759.push(t.id),e.id&&_s455.push(e.id);var _n329=_i759.filter(function(t){return _s455.includes(t);});_n329=ti(_n329);var _o262={},_l234={},_h178={};for(var _i760=0,_arr32=[].concat(_toConsumableArray(_i759),_toConsumableArray(_s455));_i760<_arr32.length;_i760++){var _t1013=_arr32[_i760];_h178[_t1013]=!0;}var _iterator651=_createForOfIteratorHelper(_n329),_step651;try{for(_iterator651.s();!(_step651=_iterator651.n()).done;){var _e764=_step651.value;var _i763=void 0,_s456=void 0,_n330=void 0;for(_i763=t.id===_e764?t:t.querySelector("#"+CSS.escape(_e764)),_s456="linearGradient"===_i763.localName||"radialGradient"===_i763.localName?_i763.href.baseVal.length>1?_i763.href.baseVal.substring(1):_o(_i763)?"color":"gradient":"clipPath"===_i763.localName?"clip":_i763.localName,void 0===_o262[_s456]&&(_o262[_s456]=1);;){var _t1016=_s456+"-"+_o262[_s456];if(void 0===_h178[_t1016]){_n330=_t1016;break;}_o262[_s456]+=1;}_l234[_e764]=_n330,_h178[_n330]=!0;}}catch(err){_iterator651.e(err);}finally{_iterator651.f();}var _a144=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT),_r88=null;for(;_r88=_a144.nextNode();){if(void 0!==_l234[_r88.id]&&(_r88.id=_l234[_r88.id]),_r88.href&&"#"===_r88.href.baseVal[0]){var _t1014=_r88.href.baseVal.substring(1);void 0!==_l234[_t1014]&&_r88.setAttribute("href","#"+_l234[_t1014]);}var _iterator652=_createForOfIteratorHelper(I),_step652;try{for(_iterator652.s();!(_step652=_iterator652.n()).done;){var _t1015=_step652.value;{var _e761=_r88.style.getPropertyValue(_t1015);if(_e761&&_e761.startsWith("url(")){var _i761=_e761.substring(6,_e761.length-2);void 0!==_l234[_i761]&&(_r88.style.removeProperty(_t1015),_r88.style.setProperty(_t1015,"url(#".concat(_l234[_i761],")")));}}{var _e762=_r88.getAttribute(_t1015);if(_e762&&_e762.includes("url(")){var _i762=no.fromString(_e762);if(_i762&&"#"===_i762.value[0]){var _e763=_i762.value.substring(1);void 0!==_l234[_e763]&&_r88.setAttribute(_t1015,"url(#".concat(_l234[_e763],")"));}}}}}catch(err){_iterator652.e(err);}finally{_iterator652.f();}}}i.remove();},nu=function nu(t){return new Promise(function(e){var i=new Image();i.src=t,i.onload=function(){var s=i.naturalWidth,n=i.naturalHeight;e("<?xml version=\"1.0\" encoding=\"utf-8\"?><svg xmlns=\"".concat(l.svg,"\" xmlns:xlink=\"").concat(l.xlink,"\" viewBox=\"0 0 ").concat(s," ").concat(n,"\">  <image width=\"").concat(s,"\" height=\"").concat(n,"\" xlink:href=\"").concat(t,"\"></image></svg>"));};});},ou=function ou(t){var e=document.createElementNS(l.svg,"g");for(var _i765=0,_Object$entries5=Object.entries(Object.getOwnPropertyDescriptors(t));_i765<_Object$entries5.length;_i765++){var _Object$entries5$_i=_slicedToArray(_Object$entries5[_i765],2),_s458=_Object$entries5$_i[0],_n332=_Object$entries5$_i[1];_n332.get||_n332.set?Object.defineProperty(e,_s458,_n332):_n332.value&&(i=_n332.value,e[_s458]=i instanceof Function?_n332.value.bind(e):_n332.value);}var i;return Object.defineProperty(e,"enabled",{get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t&&!1===this.enabled?(this.setAttribute("enabled",""),this.enabledCallback&&this.enabledCallback()):!1===t&&!0===this.enabled&&(this.removeAttribute("enabled"),this.disabledCallback&&this.disabledCallback());}}),e.createdCallback&&e.createdCallback(),e;},lu=Object.defineProperty,hu=Object.freeze,au=.1,ru=6e3,du=450,cu=1.8,pu=20,uu=14,xu={childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!1,characterDataOldValue:!1},bu=[qc,Ic,Rc,Ec,Ur,jr,Wr,Kr,td,hd,dd,ud,fd,_d,Md,zd,Ed,$d,Gd,oc,vc,yc,Cc,Mc,Pc,Dc,zc,dp,bp,dc,bc,wc,mp,Wc,Xc,rp];var mu=/*#__PURE__*/function(_HTMLElement58){_inherits(mu,_HTMLElement58);var _super64=_createSuper(mu);_createClass(mu,[{key:"whenConnected",get:function get(){var _this371=this;return new Promise(function(t){_this371.isConnected?t():_this371.rc.push(t);});}},{key:"defs",get:function get(){return this.masterWorkspace.querySelector("defs");}},{key:"selectedElements",get:function get(){return _toConsumableArray(this.dc);},set:function set(t){this.dc=t,this.dispatchEvent(new CustomEvent("selectedelementschange"));}},{key:"selectedObjectElements",get:function get(){return this.selectedElements.filter(function(t){return g.includes(t.localName);});}},{key:"outermostSelectedElements",get:function get(){var t=this.selectedElements,e=[];var _iterator653=_createForOfIteratorHelper(t),_step653;try{for(_iterator653.s();!(_step653=_iterator653.n()).done;){var _i766=_step653.value;var _s459=!0;var _iterator654=_createForOfIteratorHelper(t),_step654;try{for(_iterator654.s();!(_step654=_iterator654.n()).done;){var _e766=_step654.value;if(_e766!==_i766&&_e766.contains(_i766)){_s459=!1;break;}}}catch(err){_iterator654.e(err);}finally{_iterator654.f();}_s459&&e.push(_i766);}}catch(err){_iterator653.e(err);}finally{_iterator653.f();}return e;}},{key:"outermostSelectedObjectElements",get:function get(){return this.outermostSelectedElements.filter(function(t){return g.includes(t.localName);});}},{key:"selectedTextRange",get:function get(){return this.cc;},set:function set(t){null===this.cc&&null===t||this.cc&&t&&this.cc.startContainer===t.startContainer&&this.cc.endContainer===t.endContainer&&this.cc.startOffset===t.startOffset&&this.cc.endOffset===t.endOffset||(this.cc=t,this.dispatchEvent(new CustomEvent("selectedtextrangechange")));}},{key:"currentContainer",get:function get(){return this.uc;},set:function set(t){this.uc=t,this.dispatchEvent(new CustomEvent("currentcontainerchange"));}},{key:"zoom",get:function get(){var t=this["#vector-canvas"].transform.baseVal[0].matrix.a;return t>0?100*t:au;},set:function set(t){var e;if(this.xc)e=this.Qs.pointerClientPoint;else{var _t1017=this.getBoundingClientRect();e=new DOMPoint(_t1017.x+_t1017.width/2,_t1017.y+_t1017.height/2);}var i=K(t,au,ru)/100,s=jt(this["#vector-layer"]).inverse(),n=e.matrixTransform(s),o=new DOMMatrix();o.scaleSelf(i/this.scale,i/this.scale,1,n.x,n.y),o.multiplySelf(Nt(this["#vector-canvas"])),this["#vector-canvas"].setAttribute("transform",o),this.bc(),this.dispatchEvent(new CustomEvent("zoomchange"));}},{key:"scale",get:function get(){return this.zoom/100;},set:function set(t){this.zoom=100*t;}},{key:"geometryPrecision",get:function get(){return this.mc;}},{key:"transformPrecision",get:function get(){return this.gc;}},{key:"huds",get:function get(){return this["#huds"];}},{key:"rulers",get:function get(){return this["#rulers"];}},{key:"workspaces",get:function get(){return this["#workspaces"];}},{key:"masterWorkspace",get:function get(){return this["#workspaces"].children[1];}},{key:"currentWorkspace",get:function get(){return this["#workspaces"]?this["#workspaces"].lastElementChild:null;}},{key:"vectorCanvas",get:function get(){return this["#vector-canvas"];}},{key:"pixelCanvas",get:function get(){return this["#pixel-canvas"];}},{key:"undoManager",get:function get(){return this.fc;}},{key:"snapManager",get:function get(){return this.wc;}},{key:"fontsManager",get:function get(){return this.vc;}},{key:"showManualGuides",get:function get(){return this.yc;},set:function set(t){this.yc=t,this.Qs.setConfig("bx-board:showManualGuides",t),this.kc(),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"showSmartGuides",get:function get(){return this.Sc;},set:function set(t){this.Sc=t,this.Qs.setConfig("bx-board:showSmartGuides",t),this.kc(),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"showGrid",get:function get(){return this._c;},set:function set(t){this._c=t,this.Qs.setConfig("bx-board:showGrid",t),this.kc(),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"showTransparency",get:function get(){return this.Cc;},set:function set(t){this.Cc=t,this.Qs.setConfig("bx-board:showTransparency",t),t?this["#vector-canvas"].setAttribute("data-transparent",""):this["#vector-canvas"].removeAttribute("data-transparent"),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"showViews",get:function get(){return this.Mc;},set:function set(t){this.Mc=t,this.Qs.setConfig("bx-board:showViews",t),this.Pc(),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}}]);function mu(){var _this370;_classCallCheck(this,mu);_this370=_super64.call(this),_this370.dc=[],_this370.cc=null,_this370.uc=null,_this370.mc=3,_this370.gc=6,_this370.Dc=!1,_this370.zc=!1,_this370.xc=!1,_this370.Ln=!1,_this370.rc=[],_this370.Oc=Xi(_this370.Ec,100,_assertThisInitialized(_this370)),_this370._shadowRoot=_this370.attachShadow({mode:"closed"}),_this370._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,mu._shadowStyleSheet],_this370._shadowRoot.append(document.importNode(mu._shadowTemplate.content,!0));var _iterator655=_createForOfIteratorHelper(_this370._shadowRoot.querySelectorAll("[id]")),_step655;try{for(_iterator655.s();!(_step655=_iterator655.n()).done;){var _t1018=_step655.value;_this370["#"+_t1018.id]=_t1018;}}catch(err){_iterator655.e(err);}finally{_iterator655.f();}var _iterator656=_createForOfIteratorHelper(bu),_step656;try{for(_iterator656.s();!(_step656=_iterator656.n()).done;){var _t1019=_step656.value;var _e767=ou(_t1019);_this370["#huds"].append(_e767);}}catch(err){_iterator656.e(err);}finally{_iterator656.f();}var _iterator657=_createForOfIteratorHelper(_this370["#huds"].children),_step657;try{var _loop22=function _loop22(){var t=_step657.value;_this370["#"+t.id]=t,lu(_assertThisInitialized(_this370),oi(t.id),{get:function get(){return t;}});};for(_iterator657.s();!(_step657=_iterator657.n()).done;){_loop22();}}catch(err){_iterator657.e(err);}finally{_iterator657.f();}var _iterator658=_createForOfIteratorHelper(_this370["#contexts"].children),_step658;try{var _loop23=function _loop23(){var t=_step658.value;lu(_assertThisInitialized(_this370),oi(t.id),{get:function get(){return t;}});};for(_iterator658.s();!(_step658=_iterator658.n()).done;){_loop23();}}catch(err){_iterator658.e(err);}finally{_iterator658.f();}_this370["#vector-layer"].pauseAnimations(),_this370["#pixel-canvas"].setAttribute("width",window.innerWidth),_this370["#pixel-canvas"].setAttribute("height",window.innerHeight),_this370.fc=new wp(_this370["#workspaces"]),_this370.wc=new Vp(_assertThisInitialized(_this370)),_this370.vc=new Up(_this370["#workspaces"]),new MutationObserver(function(t){return _this370.sl(t);}).observe(_this370["#workspaces"],xu),_this370.addEventListener("pointerenter",function(){return _this370.xc=!0;}),_this370.addEventListener("pointerleave",function(){return _this370.xc=!1;}),_this370.addEventListener("pointerdown",function(t){return _this370.wo(t);}),_this370.addEventListener("scroll",function(t){return _this370.Tc(t);}),_this370.addEventListener("wheel",function(t){return _this370.lo(t);}),_this370.fc.addEventListener("undo",function(t){return _this370.Ac(t);}),_this370.fc.addEventListener("redo",function(t){return _this370.Ac(t);}),navigator.maxTouchPoints>0&&_this370.$c();return _this370;}_createClass(mu,[{key:"connectedCallback",value:function connectedCallback(){var _this372=this;this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this.tabIndex=0,this.Dc=this.Qs.getConfig("bx-uisettings:limitScrollableArea",!1),this.zc=this.Qs.getConfig("bx-uisettings:showViewOutlineAboveObjects",!1),this.mc=this.Qs.getConfig("bx-markupsettings:geometryPrecision",3),this.gc=this.Qs.getConfig("bx-markupsettings:transformPrecision",6),this.showManualGuides=this.Qs.getConfig("bx-board:showManualGuides",!1),this.showSmartGuides=this.Qs.getConfig("bx-board:showSmartGuides",!1),this.showGrid=this.Qs.getConfig("bx-board:showGrid",!1),this.showTransparency=this.Qs.getConfig("bx-board:showTransparency",!1),this.showViews=this.Qs.getConfig("bx-board:showViews",!0),window.addEventListener("orientationchange",this.Ic=function(){return _this372.Lc();}),this.Qs.addEventListener("configchange",this.ln=function(t){return _this372.hn(t);}),this.Qs.addEventListener("keydown",this.wn=function(t){return _this372.vn(t);});var _iterator659=_createForOfIteratorHelper(this.rc),_step659;try{for(_iterator659.s();!(_step659=_iterator659.n()).done;){var _t1021=_step659.value;_t1021();}}catch(err){_iterator659.e(err);}finally{_iterator659.f();}if(this.rc=[],this.Lc(),this.kc(),this.Ec(),!this.Bc){var _t1020=function _t1020(){!1===document.webkitHidden&&_this372.isConnected&&!_this372.Bc&&(document.removeEventListener("visibilitychange",_t1020),_e768&&_e768.unobserve(_this372),_this372.Bc=!0,_this372.Rc(),Qi(300).then(function(){return _this372.Rc();}));},_e768=window.ResizeObserver?new ResizeObserver(_t1020):null;_e768?_e768.observe(this):(this.Bc=!0,Qi(200).then(function(){return _this372.Rc();}),Qi(300).then(function(){return _this372.Rc();}),Qi(800).then(function(){return _this372.Rc();}),Qi(1200).then(function(){return _this372.Rc();})),document.addEventListener("visibilitychange",_t1020),this.Rc();}}},{key:"disconnectedCallback",value:function disconnectedCallback(){window.removeEventListener("orientationchange",this.Ic),this.Qs.removeEventListener("configchange",this.ln),this.Qs.removeEventListener("keydown",this.wn);}},{key:"hn",value:function hn(t){var _t$detail4=t.detail,e=_t$detail4.key,i=_t$detail4.value;"bx-uisettings:limitScrollableArea"===e?this.Dc=this.Qs.getConfig("bx-uisettings:limitScrollableArea",!1):"bx-uisettings:showViewOutlineAboveObjects"===e?(this.zc=this.Qs.getConfig("bx-uisettings:showViewOutlineAboveObjects",!1),this.Pc()):"bx-markupsettings:geometryPrecision"===e?this.mc=this.Qs.getConfig("bx-markupsettings:geometryPrecision",3):"bx-markupsettings:transformPrecision"===e&&(this.gc=this.Qs.getConfig("bx-markupsettings:transformPrecision",6));}},{key:"wo",value:function wo(t){var _this373=this;if(1===t.button){var _e769,_i769,_s460=t.clientX,_n333=t.clientY;this.setPointerCapture(t.pointerId),this.addEventListener("pointermove",_e769=function _e769(t){var _iterator660=_createForOfIteratorHelper(t.getCoalescedEvents()),_step660;try{for(_iterator660.s();!(_step660=_iterator660.n()).done;){var _e770=_step660.value;var _t1022=_e770.clientX-_s460,_i768=_e770.clientY-_n333;_this373.Vn(_t1022,_i768),_s460=_e770.clientX,_n333=_e770.clientY;}}catch(err){_iterator660.e(err);}finally{_iterator660.f();}}),this.addEventListener("pointerup",_i769=function _i767(){_this373.removeEventListener("pointermove",_e769),_this373.removeEventListener("pointerup",_i769);});}}},{key:"vn",value:function vn(t){var _this374=this;if("Space"===t.code&&!1===this.Qs.isPointerDown&&!1===this.Qs.textInputMode){var _e771=this.Qs.getConfig("bx-keyboardsettings:spaceKeyMode","togglePreviousTool");if("togglePreviousTool"===_e771)this.Js.togglePreviousTool(),t.preventDefault();else if("pan"===_e771&&!1===this.Ln){var _e772,_i772;this.Ln=!0;var _s461=this.Qs.pointerClientPoint.x,_n334=this.Qs.pointerClientPoint.y;window.addEventListener("pointermove",_e772=function _e772(t){var _iterator661=_createForOfIteratorHelper(t.getCoalescedEvents()),_step661;try{for(_iterator661.s();!(_step661=_iterator661.n()).done;){var _e773=_step661.value;var _t1023=_e773.clientX-_s461,_i771=_e773.clientY-_n334;_this374.Vn(_t1023,_i771),_s461=_e773.clientX,_n334=_e773.clientY;}}catch(err){_iterator661.e(err);}finally{_iterator661.f();}}),window.addEventListener("keyup",_i772=function _i770(){"Space"===t.code&&!0===_this374.Ln&&(window.removeEventListener("pointermove",_e772),window.removeEventListener("keyup",_i772),_this374.Ln=!1);});}}}},{key:"Tc",value:function Tc(t){this.scrollLeft=0,this.scrollTop=0,document.documentElement.scrollLeft=0,document.documentElement.scrollTop=0,document.body.scrollLeft=0,document.body.scrollTop=0;}},{key:"lo",value:function lo(t){t.preventDefault();var e=K(t.wheelDeltaX,-pu,pu,1),i=K(t.wheelDeltaY,-pu,pu,1);if(!t.metaKey&&!t.ctrlKey||t.altKey||t.shiftKey)this.Vn(e/cu,i/cu);else{var _e774=new DOMPoint(t.clientX,t.clientY);this.Gc(i/du,_e774);}}},{key:"sl",value:function sl(t){this.dispatchEvent(new CustomEvent("workspacemutation",{detail:t}));var e=!1,i=!1,s=!1;var _iterator662=_createForOfIteratorHelper(t),_step662;try{for(_iterator662.s();!(_step662=_iterator662.n()).done;){var _n335=_step662.value;if(_n335.target===this["#workspaces"])"childList"===_n335.type&&(e=!0);else if("defs"===_n335.target.localName){if(_n335.removedNodes.length>0){"view"===_n335.removedNodes[0].localName&&(s=!0);var _iterator663=_createForOfIteratorHelper(_n335.removedNodes),_step663;try{for(_iterator663.s();!(_step663=_iterator663.n()).done;){var _t1024=_step663.value;if(_t1024.hasAttribute&&_t1024.hasAttribute("data-bx-fonts")){i=!0;break;}}}catch(err){_iterator663.e(err);}finally{_iterator663.f();}}else if(_n335.addedNodes.length>0){"view"===_n335.addedNodes[0].localName&&(s=!0);var _iterator664=_createForOfIteratorHelper(_n335.addedNodes),_step664;try{for(_iterator664.s();!(_step664=_iterator664.n()).done;){var _t1025=_step664.value;if(_t1025.hasAttribute&&_t1025.hasAttribute("data-bx-fonts")){i=!0;break;}}}catch(err){_iterator664.e(err);}finally{_iterator664.f();}}}else"style"===_n335.target.localName?_n335.target.hasAttribute("data-bx-fonts")&&(i=!0):"g"===_n335.target.localName?_n335.target.hasAttribute("data-bx-workspace")&&"attributes"===_n335.type&&"viewBox"===_n335.attributeName&&(s=!0):"view"===_n335.target.localName?"attributes"===_n335.type&&"viewBox"===_n335.attributeName&&(s=!0):"#text"===_n335.target.nodeName&&_n335.target.parentElement&&_n335.target.parentElement.hasAttribute("data-bx-fonts")&&(i=!0);}}catch(err){_iterator662.e(err);}finally{_iterator662.f();}e&&(this.Rc(),this.dispatchEvent(new CustomEvent("currentworkspacechange"))),i&&this.Oc(),(s||e)&&this.Pc();}},{key:"Ac",value:function Ac(t){var _this375=this;var _t$detail5=t.detail,e=_t$detail5.addedNodes,i=_t$detail5.removedNodes,s=_t$detail5.modifiedNodes,n=new Set(this.selectedElements),o=null;var _iterator665=_createForOfIteratorHelper(e),_step665;try{for(_iterator665.s();!(_step665=_iterator665.n()).done;){var _t1028=_step665.value;n.add(_t1028);}}catch(err){_iterator665.e(err);}finally{_iterator665.f();}var _iterator666=_createForOfIteratorHelper(s),_step666;try{for(_iterator666.s();!(_step666=_iterator666.n()).done;){var _t1029=_step666.value;n.add(_t1029);}}catch(err){_iterator666.e(err);}finally{_iterator666.f();}var _iterator667=_createForOfIteratorHelper(i),_step667;try{for(_iterator667.s();!(_step667=_iterator667.n()).done;){var _t1030=_step667.value;n["delete"](_t1030);}}catch(err){_iterator667.e(err);}finally{_iterator667.f();}if(n=_toConsumableArray(n).filter(function(t){return _this375.isSelectableElement(t);}),n.length>0){var _t1026=n[0];_t1026.parentElement!==this.currentWorkspace&&(o=_t1026.parentElement);}if(this.currentContainer=o,this.selectedElements=n,this.selectedTextRange){var _this$selectedTextRan=this.selectedTextRange,_t1027=_this$selectedTextRan.startContainer,_e775=_this$selectedTextRan.endContainer,_i773=!1;var _iterator668=_createForOfIteratorHelper(n),_step668;try{for(_iterator668.s();!(_step668=_iterator668.n()).done;){var _s462=_step668.value;(_s462.contains(_t1027)||_s462.contains(_e775))&&(_i773=!0);}}catch(err){_iterator668.e(err);}finally{_iterator668.f();}!1===_i773&&(this.selectedTextRange=null);}{var _e776="undo"===t.type?"Undo":"Redo";t.detail.label&&(_e776="<strong>".concat(_e776,"</strong>: ").concat(t.detail.label)),this.Qs.openNotification(_e776);}}},{key:"$c",value:function $c(){var _this376=this;var t=new Map(),e=null,i=0,s=-1,n=1,o=new X(),l="auto",h=function h(_h180){if("touch"===_h180.pointerType&&t.has(_h180.pointerId))if(t.get(_h180.pointerId).push(new DOMPoint(_h180.clientX,_h180.clientY)),1===t.size){var _ref105=_toConsumableArray(t.values()),_e777=_ref105[0];_e777.length>3&&t["delete"](_h180.pointerId);}else if(2===t.size){var _ref106=_toConsumableArray(t.values()),_h179=_ref106[0],_a145=_ref106[1],_r89=_h179[_h179.length-1],_d70=_a145[_a145.length-1],_c57=ze(_r89,_d70),_p48=De(_r89,_d70),_u41=_p48/i,_x117=_u41-n,_b36=new X(e,_c57),_m35=de(_b36,o);if("auto"===l){if(!(_h179.length>=3&&_a145.length>=3&&(_h179.length>=9||_a145.length>=9)))return;{var _t1031=pe(new X(_h179[0],_h179[_h179.length-1]),new X(_a145[0],_a145[_a145.length-1]));l=_t1031<-130||_t1031>130?"zoom":"scroll";}}s>0&&("auto"===l||"scroll"===l?_this376.Vn(_m35.x,_m35.y):"zoom"===l&&_this376.Gc(_x117,e)),s=_p48,n=_u41,o=_b36;}},a=function a(e){"touch"===e.pointerType&&(t["delete"](e.pointerId),t.size<2&&(s=-1,l="auto"));};this.addEventListener("pointerdown",function(s){return function(s){if("touch"===s.pointerType)if(t.set(s.pointerId,[new DOMPoint(s.clientX,s.clientY)]),2===t.size){var _ref107=_toConsumableArray(t.values()),_s463=_ref107[0],_n336=_ref107[1],_o263=_s463[_s463.length-1],_l235=_n336[_n336.length-1];e=ze(_o263,_l235),i=De(_o263,_l235);}else e=null;}(s);}),this.addEventListener("pointermove",function(t){return h(t);}),this.addEventListener("pointerup",function(t){return a(t);}),this.addEventListener("pointercancel",function(t){return a(t);}),this.addEventListener("pointerout",function(t){return a(t);}),this.addEventListener("pointerleave",function(t){return a(t);});}},{key:"setArtwork",value:function setArtwork(t){for(var _i774=0,_arr33=_toConsumableArray(this["#workspaces"].children);_i774<_arr33.length;_i774++){var _t1032=_arr33[_i774];_t1032!==this["#whitespace"]&&_t1032.remove();}var e=qi(_templateObject10());var _iterator669=_createForOfIteratorHelper(t.attributes),_step669;try{for(_iterator669.s();!(_step669=_iterator669.n()).done;){var _step669$value=_step669.value,_i775=_step669$value.name,_s464=_step669$value.value;"transform"===_i775?e.setAttribute("data-bx-transform",_s464):e.setAttribute(_i775,_s464);}}catch(err){_iterator669.e(err);}finally{_iterator669.f();}for(;t.firstChild;){e.appendChild(t.firstChild);}this["#workspaces"].append(e);var _iterator670=_createForOfIteratorHelper(this.masterWorkspace.querySelectorAll("style[data-bx-fonts]")),_step670;try{for(_iterator670.s();!(_step670=_iterator670.n()).done;){var _t1033=_step670.value;_t1033.replaceWith(_t1033);}}catch(err){_iterator670.e(err);}finally{_iterator670.f();}this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null,this.undoManager.clear(),this.dispatchEvent(new CustomEvent("artworkchange"));}},{key:"setDefaultArtwork",value:function setDefaultArtwork(){var t=Ma('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500"></svg>');this.setArtwork(t);}},{key:"insertBitmap",value:function(){var _insertBitmap=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee95(t){var e,_yield$qa,i,s,n,o,l,h,_t1034,a,r,_args96=arguments;return regeneratorRuntime.wrap(function _callee95$(_context96){while(1){switch(_context96.prev=_context96.next){case 0:e=_args96.length>1&&_args96[1]!==undefined?_args96[1]:"boardCenter";_context96.next=3;return qa(t);case 3:_yield$qa=_context96.sent;i=_yield$qa.width;s=_yield$qa.height;n=zi("svg:image");n.setAttribute("href",t),n.setAttribute("width",i),n.setAttribute("height",s);l=this.currentContainer||this.currentWorkspace,h=jt(l).inverse();if("boardCenter"===e){_t1034=this.getBoundingClientRect();o=new DOMPoint(_t1034.left+_t1034.width/2,_t1034.top+_t1034.height/2);}else"pointer"===e&&(o=this.Qs.pointerClientPoint);a=o.matrixTransform(h);l.append(n);r=Ci(n);n.setAttribute("x",a.x-r.width/2),n.setAttribute("y",a.y-r.height/2),this.selectedElements=[n];case 14:case"end":return _context96.stop();}}},_callee95,this);}));function insertBitmap(_x118){return _insertBitmap.apply(this,arguments);}return insertBitmap;}()},{key:"insertBitmapIntoBBox",value:function insertBitmapIntoBBox(t,e){var _this377=this;return new Promise(/*#__PURE__*/function(){var _ref108=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee96(i){var s,n,o,_yield$qa2,l,h,a,r,d,c,p,u,x,b,m,g;return regeneratorRuntime.wrap(function _callee96$(_context97){while(1){switch(_context97.prev=_context97.next){case 0:s=_this377.currentContainer||_this377.currentWorkspace;n=_this377.geometryPrecision;o=_this377.transformPrecision;_context97.next=5;return qa(t);case 5:_yield$qa2=_context97.sent;l=_yield$qa2.width;h=_yield$qa2.height;a=l/h;r=e.width/a;d=new DOMPoint(0,0);c=new DOMPoint(l,0);p=new DOMPoint(0,h);u=new DOMPoint(e.x,e.y);x=new DOMPoint(e.x+e.width,e.y);b=new DOMPoint(e.x,e.y+r);m=jt(s).inverse().multiply(Ht(d,c,p,u,x,b));g=zi("svg:image");g.setAttribute("href",t),g.setAttribute("width",l),g.setAttribute("height",h),g.setAttribute("transform",m.toString()),s.append(g),mh(g,{geometryPrecision:n,transformPrecision:o}),_this377.selectedTextRange=null,_this377.selectedElements=[g],i(g);case 19:case"end":return _context97.stop();}}},_callee96);}));return function(_x119){return _ref108.apply(this,arguments);};}());}},{key:"insertArtworkIntoBBox",value:function insertArtworkIntoBBox(t,e){var i=this.currentWorkspace,s=this.extractArtwork(),n=jt(this["#vector-canvas"]).inverse(),o=Ue(e,n),l=zi("svg:g");su(t,s);{var _e778=null;if(t.hasAttribute("viewBox")?_e778=Bt.fromString(t.getAttribute("viewBox")):t.width.baseVal.unitType!==SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&t.height.baseVal.unitType!==SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e778=new Bt(0,0,t.width.baseVal.value,t.height.baseVal.value)),_e778){var _i776=t.getAttribute("preserveAspectRatio")||"xMidYMid meet",_$t$fromString=$t.fromString(_i776),_s465=_$t$fromString.align,_n337=_$t$fromString.meetOrSlice,_h181=o.width/_e778.width,_a146=o.height/_e778.height;"none"!==_s465&&"meet"===_n337?_h181>_a146?_h181=_a146:_a146>_h181&&(_a146=_h181):"none"!==_s465&&"slice"===_n337&&(_h181<_a146?_h181=_a146:_a146<_h181&&(_a146=_h181));var _r90=o.x-_e778.x*_h181,_d71=o.y-_e778.y*_a146;_s465.includes("xMid")&&(_r90+=(o.width-_e778.width*_h181)/2),_s465.includes("xMax")&&(_r90+=o.width-_e778.width*_h181),_s465.includes("YMid")&&(_d71+=(o.height-_e778.height*_a146)/2),_s465.includes("YMax")&&(_d71+=o.height-_e778.height*_a146);var _c58=new DOMMatrix();_c58.translateSelf(_r90,_d71),_c58.scaleSelf(_h181,_a146),_c58=Rt(_c58,this.transformPrecision),l.setAttribute("transform",_c58);}}var _iterator671=_createForOfIteratorHelper(t.style),_step671;try{for(_iterator671.s();!(_step671=_iterator671.n()).done;){var _e781=_step671.value;"shape-rendering"===_e781&&l.style.setProperty(_e781,t.style.getPropertyValue(_e781));}}catch(err){_iterator671.e(err);}finally{_iterator671.f();}for(var _i777=0,_arr34=_toConsumableArray(t.children);_i777<_arr34.length;_i777++){var _e779=_arr34[_i777];if("defs"===_e779.localName)for(var _i778=0,_arr35=_toConsumableArray(_e779.children);_i778<_arr35.length;_i778++){var _t1035=_arr35[_i778];if("style"===_t1035.localName&&_t1035.hasAttribute("data-bx-fonts")){var _e780=_t1035.getAttribute("data-bx-fonts");!1===this.workspaces.querySelector("style[data-bx-fonts=\"".concat(_e780,"\"]"))&&this.defs.append(_t1035);}else this.maybeCreateDefsForMasterWorkspace(),this.defs.append(_t1035);}l.append(_e779);}return i.append(l),l;}},{key:"insertArtwork",value:function insertArtwork(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"boardCenter";var i=this.currentContainer||this.currentWorkspace,s=[],n=this.extractArtwork();su(t,n);var _iterator672=_createForOfIteratorHelper(t.style),_step672;try{for(_iterator672.s();!(_step672=_iterator672.n()).done;){var _e785=_step672.value;"shape-rendering"===_e785&&i.style.setProperty(_e785,t.style.getPropertyValue(_e785));}}catch(err){_iterator672.e(err);}finally{_iterator672.f();}for(var _i779=0,_arr36=_toConsumableArray(t.children);_i779<_arr36.length;_i779++){var _e782=_arr36[_i779];if("defs"===_e782.localName)for(var _i780=0,_arr37=_toConsumableArray(_e782.children);_i780<_arr37.length;_i780++){var _t1036=_arr37[_i780];if("style"===_t1036.localName&&_t1036.hasAttribute("data-bx-fonts")){var _e783=_t1036.getAttribute("data-bx-fonts");null===this.workspaces.querySelector("style[data-bx-fonts=\"".concat(_e783,"\"]"))&&this.defs.append(_t1036);}else this.maybeCreateDefsForMasterWorkspace(),this.defs.append(_t1036);}else if(f.includes(_e782.localName)){var _t1037=Vt(i,this.currentWorkspace),_n338=Nt(_e782),_o264=new DOMMatrix();_o264.multiplySelf(_t1037.inverse()),_o264.multiplySelf(_n338),_o264=Rt(_o264,this.transformPrecision),_o264.isIdentity?_e782.removeAttribute("transform"):_e782.setAttribute("transform",_o264.toString()),i.append(_e782),s.push(_e782);}else i.append(_e782);}if("original"!==e){var _t1038=s.map(function(t){return Mi(t);});_t1038=_t1038.filter(function(t){return t.width>0||t.height>0;});var _i781,_n339=Ne(_t1038);if("boardCenter"===e){var _t1039=this.getBoundingClientRect();_i781=new DOMPoint(_t1039.left+_t1039.width/2,_t1039.top+_t1039.height/2);}else _i781="belowOriginal"===e?new DOMPoint(_n339.x+_n339.width/2+15,_n339.y+_n339.height/2+15):this.Qs.pointerClientPoint;var _o265=_i781.x-(_n339.x+_n339.width/2),_l236=_i781.y-(_n339.y+_n339.height/2);var _iterator673=_createForOfIteratorHelper(s),_step673;try{for(_iterator673.s();!(_step673=_iterator673.n()).done;){var _t1040=_step673.value;var _e784=jt(_t1040),_i782=_e784.inverse(),_s466=Nt(_t1040);_s466.multiplySelf(_i782),_s466.translateSelf(_o265,_l236),_s466.multiplySelf(_e784),_s466=Rt(_s466,this.transformPrecision),_t1040.setAttribute("transform",_s466.toString());}}catch(err){_iterator673.e(err);}finally{_iterator673.f();}}this.selectedElements=s;}},{key:"extractArtwork",value:function extractArtwork(){this.collectGarbage();var t=zi("svg:svg"),e=this.masterWorkspace;var _iterator674=_createForOfIteratorHelper(e.attributes),_step674;try{for(_iterator674.s();!(_step674=_iterator674.n()).done;){var _step674$value=_step674.value,_i786=_step674$value.name,_s473=_step674$value.value;"data-bx-workspace"!==_i786&&("data-bx-transform"===_i786?t.setAttribute("transform",_s473):t.setAttribute(_i786,_s473));}}catch(err){_iterator674.e(err);}finally{_iterator674.f();}var _iterator675=_createForOfIteratorHelper(e.childNodes),_step675;try{for(_iterator675.s();!(_step675=_iterator675.n()).done;){var _i787=_step675.value;t.append(_i787.cloneNode(!0));}}catch(err){_iterator675.e(err);}finally{_iterator675.f();}if("symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")){var _e786=this.currentWorkspace,_i783=t.querySelector("symbol#".concat(CSS.escape(_e786.id)));var _iterator676=_createForOfIteratorHelper(_i783.attributes),_step676;try{for(_iterator676.s();!(_step676=_iterator676.n()).done;){var _step676$value=_step676.value,_t1041=_step676$value.name,_s467=_step676$value.value;!1===_e786.hasAttribute(_t1041)&&_i783.removeAttribute(_t1041);}}catch(err){_iterator676.e(err);}finally{_iterator676.f();}var _iterator677=_createForOfIteratorHelper(_e786.attributes),_step677;try{for(_iterator677.s();!(_step677=_iterator677.n()).done;){var _step677$value=_step677.value,_t1042=_step677$value.name,_s468=_step677$value.value;"data-bx-workspace"!==_t1042&&_i783.setAttribute(_t1042,_s468);}}catch(err){_iterator677.e(err);}finally{_iterator677.f();}_i783.innerHTML=_e786.innerHTML;}if("pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")){var _e787=this.currentWorkspace,_i784=t.querySelector("pattern#".concat(CSS.escape(_e787.id)));var _iterator678=_createForOfIteratorHelper(_i784.attributes),_step678;try{for(_iterator678.s();!(_step678=_iterator678.n()).done;){var _step678$value=_step678.value,_t1043=_step678$value.name,_s469=_step678$value.value;!1===_e787.hasAttribute(_t1043)&&_i784.removeAttribute(_t1043);}}catch(err){_iterator678.e(err);}finally{_iterator678.f();}var _iterator679=_createForOfIteratorHelper(_e787.attributes),_step679;try{for(_iterator679.s();!(_step679=_iterator679.n()).done;){var _step679$value=_step679.value,_t1044=_step679$value.name,_s470=_step679$value.value;"data-bx-workspace"!==_t1044&&_i784.setAttribute(_t1044,_s470);}}catch(err){_iterator679.e(err);}finally{_iterator679.f();}_i784.innerHTML=_e787.innerHTML;}if("marker"===this.currentWorkspace.getAttribute("data-bx-workspace")){var _e788=this.currentWorkspace,_i785=t.querySelector("marker#".concat(CSS.escape(_e788.id)));var _iterator680=_createForOfIteratorHelper(_i785.attributes),_step680;try{for(_iterator680.s();!(_step680=_iterator680.n()).done;){var _step680$value=_step680.value,_t1045=_step680$value.name,_s471=_step680$value.value;!1===_e788.hasAttribute(_t1045)&&_i785.removeAttribute(_t1045);}}catch(err){_iterator680.e(err);}finally{_iterator680.f();}var _iterator681=_createForOfIteratorHelper(_e788.attributes),_step681;try{for(_iterator681.s();!(_step681=_iterator681.n()).done;){var _step681$value=_step681.value,_t1046=_step681$value.name,_s472=_step681$value.value;"data-bx-workspace"!==_t1046&&_i785.setAttribute(_t1046,_s472);}}catch(err){_iterator681.e(err);}finally{_iterator681.f();}_i785.innerHTML=_e788.innerHTML;}return t;}},{key:"extractArtworkWithSelectedElements",value:function extractArtworkWithSelectedElements(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[0,0,0,0];return this.extractArtworkWithElements(this.outermostSelectedElements,t);}},{key:"extractArtworkWithViewBoxElements",value:function extractArtworkWithViewBoxElements(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var e=jt(this.currentWorkspace).inverse(),i=[],s=new DOMRect(),n=t||this.currentWorkspace;if(n.hasAttribute("viewBox")){s=Bt.fromString(n.getAttribute("viewBox")).toRect();var _iterator682=_createForOfIteratorHelper(this.currentWorkspace.children),_step682;try{for(_iterator682.s();!(_step682=_iterator682.n()).done;){var _t1047=_step682.value;if([].concat(_toConsumableArray(m),["svg","g","a","use"]).includes(_t1047.localName)){var _n340=Mi(_t1047);_n340=Ue(_n340,e),He(s,_n340)&&i.push(_t1047);}}}catch(err){_iterator682.e(err);}finally{_iterator682.f();}}var o=this.extractArtworkWithElements(i);o.setAttribute("viewBox","".concat(s.x," ").concat(s.y," ").concat(s.width," ").concat(s.height)),o.setAttribute("width",s.width),o.setAttribute("height",s.height);var _iterator683=_createForOfIteratorHelper(this.currentWorkspace.attributes),_step683;try{for(_iterator683.s();!(_step683=_iterator683.n()).done;){var _step683$value=_step683.value,_t1048=_step683$value.name,_e789=_step683$value.value;(F.includes(_t1048)||"style"===_t1048)&&o.setAttribute(_t1048,_e789);}}catch(err){_iterator683.e(err);}finally{_iterator683.f();}return o;}},{key:"extractArtworkWithElements",value:function extractArtworkWithElements(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[0,0,0,0];this.collectGarbage(),t=Bi(t);var i=this.Fc(t),s=[];var _iterator684=_createForOfIteratorHelper(i),_step684;try{for(_iterator684.s();!(_step684=_iterator684.n()).done;){var _t1050=_step684.value;var _e791=this.currentWorkspace.querySelector("#".concat(CSS.escape(_t1050)));_e791||this.currentWorkspace===this.masterWorkspace||(_e791=this.masterWorkspace.querySelector("#".concat(CSS.escape(_t1050)))),_e791&&s.push(_e791);}}catch(err){_iterator684.e(err);}finally{_iterator684.f();}s=s.filter(function(e){var _iterator685=_createForOfIteratorHelper(t),_step685;try{for(_iterator685.s();!(_step685=_iterator685.n()).done;){var _i788=_step685.value;if(_i788.contains(e)||_i788===e)return!1;}}catch(err){_iterator685.e(err);}finally{_iterator685.f();}var _iterator686=_createForOfIteratorHelper(s),_step686;try{for(_iterator686.s();!(_step686=_iterator686.n()).done;){var _t1049=_step686.value;if(_t1049.contains(e)&&_t1049!==e)return!1;}}catch(err){_iterator686.e(err);}finally{_iterator686.f();}return!0;});var n=zi("svg:svg"),o=zi("svg:defs");n.append(o);var _iterator687=_createForOfIteratorHelper(s),_step687;try{for(_iterator687.s();!(_step687=_iterator687.n()).done;){var _t1051=_step687.value;_t1051.closest("defs")?o.append(_t1051.cloneNode(!0)):n.append(_t1051.cloneNode(!0));}}catch(err){_iterator687.e(err);}finally{_iterator687.f();}var _iterator688=_createForOfIteratorHelper(t),_step688;try{for(_iterator688.s();!(_step688=_iterator688.n()).done;){var _e792=_step688.value;var _t1052=_e792.cloneNode(!0),_i790=Vt(_e792,this.currentWorkspace);_i790=Rt(_i790,this.transformPrecision),_i790.isIdentity?_t1052.removeAttribute("transform"):_t1052.setAttribute("transform",_i790.toString()),n.append(_t1052);}}catch(err){_iterator688.e(err);}finally{_iterator688.f();}var _iterator689=_createForOfIteratorHelper(this["#workspaces"].querySelectorAll("style")),_step689;try{for(_iterator689.s();!(_step689=_iterator689.n()).done;){var _t1053=_step689.value;o.append(_t1053.cloneNode(!0));}}catch(err){_iterator689.e(err);}finally{_iterator689.f();}this.Js.offscreenBoard.setArtwork(n),new Hp(n).collect({colors:"none",gradients:"none",patterns:"none",markers:"none",symbols:"none",filters:"none",fonts:"all",clipPaths:"none",masks:"none"}),this.Js.offscreenBoard.clear(),0===o.childElementCount&&o.remove();{var _i789=t.map(function(t){return Mi(t);}),_s474=Ne(_i789);_s474=Ue(_s474,jt(this.currentWorkspace).inverse()),_s474=Fe(_s474,this.mc);var _e790=_slicedToArray(e,4),_o266=_e790[0],_l237=_e790[1],_h182=_e790[2],_a147=_e790[3],_r91=_s474.x-_a147,_d72=_s474.y-_o266,_c59=_s474.width+_a147+_l237,_p49=_s474.height+_o266+_h182;n.setAttribute("viewBox","".concat(_r91," ").concat(_d72," ").concat(_c59," ").concat(_p49)),n.setAttribute("width",_c59),n.setAttribute("height",_p49);}return n;}},{key:"extractArtworkWithSymbols",value:function extractArtworkWithSymbols(t){t=Bi(t);var e=this.Fc(t),i=[];var _iterator690=_createForOfIteratorHelper(e),_step690;try{for(_iterator690.s();!(_step690=_iterator690.n()).done;){var _t1055=_step690.value;var _e793=this.currentWorkspace.querySelector("#".concat(CSS.escape(_t1055)));_e793||this.currentWorkspace===this.masterWorkspace||(_e793=this.masterWorkspace.querySelector("#".concat(CSS.escape(_t1055)))),_e793&&i.push(_e793);}}catch(err){_iterator690.e(err);}finally{_iterator690.f();}i=i.filter(function(e){var _iterator691=_createForOfIteratorHelper(t),_step691;try{for(_iterator691.s();!(_step691=_iterator691.n()).done;){var _i791=_step691.value;if(_i791.contains(e)||_i791===e)return!1;}}catch(err){_iterator691.e(err);}finally{_iterator691.f();}var _iterator692=_createForOfIteratorHelper(i),_step692;try{for(_iterator692.s();!(_step692=_iterator692.n()).done;){var _t1054=_step692.value;if(_t1054.contains(e)&&_t1054!==e)return!1;}}catch(err){_iterator692.e(err);}finally{_iterator692.f();}return!0;});var s=zi("svg:svg"),n=zi("svg:defs");s.append(n);var _iterator693=_createForOfIteratorHelper(i),_step693;try{for(_iterator693.s();!(_step693=_iterator693.n()).done;){var _t1056=_step693.value;_t1056.closest("defs")?n.append(_t1056.cloneNode(!0)):s.append(_t1056.cloneNode(!0));}}catch(err){_iterator693.e(err);}finally{_iterator693.f();}var _iterator694=_createForOfIteratorHelper(t),_step694;try{for(_iterator694.s();!(_step694=_iterator694.n()).done;){var _e794=_step694.value;var _t1057=_e794.cloneNode(!0);n.append(_t1057);}}catch(err){_iterator694.e(err);}finally{_iterator694.f();}return this.Js.offscreenBoard.setArtwork(s),new Hp(s).collect({colors:"all",gradients:"all",patterns:"all",markers:"all",symbols:"none",filters:"all",fonts:"all",clipPaths:"all",masks:"all"}),this.Js.offscreenBoard.clear(),s;}},{key:"collectGarbage",value:function collectGarbage(){var t=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",{});new Hp(this["#workspaces"]).collect(t);}},{key:"editSymbol",value:function editSymbol(t){var e=this.masterWorkspace.querySelector("symbol#".concat(CSS.escape(t)));if(null===e)return;if(this.currentWorkspace.id===t)return;this.undoManager.checkpoint("Edit Symbol"),"pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editPatternEnd(!1):"marker"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editMarkerEnd(!1):"symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")&&this.editSymbolEnd(!1);var i=qi(_templateObject11(),e.innerHTML);var _iterator695=_createForOfIteratorHelper(e.attributes),_step695;try{for(_iterator695.s();!(_step695=_iterator695.n()).done;){var _step695$value=_step695.value,_t1058=_step695$value.name,_s475=_step695$value.value;i.setAttribute(_t1058,_s475);}}catch(err){_iterator695.e(err);}finally{_iterator695.f();}this["#workspaces"].append(i),this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}},{key:"editSymbolEnd",value:function editSymbolEnd(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if("symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")){t&&this.undoManager.checkpoint("Edit Symbol");var _e795=this.currentWorkspace,_i792=this.masterWorkspace.querySelector("symbol#".concat(CSS.escape(_e795.id)));var _iterator696=_createForOfIteratorHelper(_i792.attributes),_step696;try{for(_iterator696.s();!(_step696=_iterator696.n()).done;){var _step696$value=_step696.value,_t1059=_step696$value.name,_s476=_step696$value.value;!1===_e795.hasAttribute(_t1059)&&_i792.removeAttribute(_t1059);}}catch(err){_iterator696.e(err);}finally{_iterator696.f();}var _iterator697=_createForOfIteratorHelper(_e795.attributes),_step697;try{for(_iterator697.s();!(_step697=_iterator697.n()).done;){var _step697$value=_step697.value,_t1060=_step697$value.name,_s477=_step697$value.value;"data-bx-workspace"!==_t1060&&_i792.setAttribute(_t1060,_s477);}}catch(err){_iterator697.e(err);}finally{_iterator697.f();}_e795.remove(),_i792.innerHTML=_e795.innerHTML,this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}}},{key:"editPattern",value:function editPattern(t){var e=this.masterWorkspace.querySelector("pattern#".concat(CSS.escape(t)));if(null===e)return;if(this.currentWorkspace.id===t)return;this.undoManager.checkpoint("Edit Pattern"),"pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editPatternEnd(!1):"marker"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editMarkerEnd(!1):"symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")&&this.editSymbolEnd(!1);var i=qi(_templateObject12(),e.innerHTML);var _iterator698=_createForOfIteratorHelper(e.attributes),_step698;try{for(_iterator698.s();!(_step698=_iterator698.n()).done;){var _step698$value=_step698.value,_t1061=_step698$value.name,_s478=_step698$value.value;i.setAttribute(_t1061,_s478);}}catch(err){_iterator698.e(err);}finally{_iterator698.f();}this["#workspaces"].append(i),this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}},{key:"editPatternEnd",value:function editPatternEnd(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if("pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")){t&&this.undoManager.checkpoint("Edit Pattern");var _e796=this.currentWorkspace,_i793=this.masterWorkspace.querySelector("pattern#".concat(CSS.escape(_e796.id)));var _iterator699=_createForOfIteratorHelper(_i793.attributes),_step699;try{for(_iterator699.s();!(_step699=_iterator699.n()).done;){var _step699$value=_step699.value,_t1062=_step699$value.name,_s479=_step699$value.value;!1===_e796.hasAttribute(_t1062)&&_i793.removeAttribute(_t1062);}}catch(err){_iterator699.e(err);}finally{_iterator699.f();}var _iterator700=_createForOfIteratorHelper(_e796.attributes),_step700;try{for(_iterator700.s();!(_step700=_iterator700.n()).done;){var _step700$value=_step700.value,_t1063=_step700$value.name,_s480=_step700$value.value;"data-bx-workspace"!==_t1063&&_i793.setAttribute(_t1063,_s480);}}catch(err){_iterator700.e(err);}finally{_iterator700.f();}_e796.remove(),_i793.innerHTML=_e796.innerHTML,this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}}},{key:"editMarker",value:function editMarker(t){var e=this.masterWorkspace.querySelector("marker#".concat(CSS.escape(t)));if(null===e)return;if(this.currentWorkspace.id===t)return;this.undoManager.checkpoint("Edit Marker"),"pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editPatternEnd(!1):"marker"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editMarkerEnd(!1):"symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")&&this.editSymbolEnd(!1);var i=qi(_templateObject13(),e.innerHTML);var _iterator701=_createForOfIteratorHelper(e.attributes),_step701;try{for(_iterator701.s();!(_step701=_iterator701.n()).done;){var _step701$value=_step701.value,_t1064=_step701$value.name,_s481=_step701$value.value;i.setAttribute(_t1064,_s481);}}catch(err){_iterator701.e(err);}finally{_iterator701.f();}this["#workspaces"].append(i),this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}},{key:"editMarkerEnd",value:function editMarkerEnd(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if("marker"===this.currentWorkspace.getAttribute("data-bx-workspace")){t&&this.undoManager.checkpoint("Edit marker");var _e797=this.currentWorkspace,_i794=this.masterWorkspace.querySelector("marker#".concat(CSS.escape(_e797.id)));var _iterator702=_createForOfIteratorHelper(_i794.attributes),_step702;try{for(_iterator702.s();!(_step702=_iterator702.n()).done;){var _step702$value=_step702.value,_t1065=_step702$value.name,_s482=_step702$value.value;!1===_e797.hasAttribute(_t1065)&&_i794.removeAttribute(_t1065);}}catch(err){_iterator702.e(err);}finally{_iterator702.f();}var _iterator703=_createForOfIteratorHelper(_e797.attributes),_step703;try{for(_iterator703.s();!(_step703=_iterator703.n()).done;){var _step703$value=_step703.value,_t1066=_step703$value.name,_s483=_step703$value.value;"data-bx-workspace"!==_t1066&&_i794.setAttribute(_t1066,_s483);}}catch(err){_iterator703.e(err);}finally{_iterator703.f();}_e797.remove(),_i794.innerHTML=_e797.innerHTML,this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}}},{key:"zoomIn",value:function zoomIn(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;t&&this.xc?this.Gc(.2,this.Qs.pointerClientPoint):this.Gc(.2);}},{key:"zoomOut",value:function zoomOut(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;t&&this.xc?this.Gc(-.2,this.Qs.pointerClientPoint):this.Gc(-.2);}},{key:"zoomToFitAllViews",value:function zoomToFitAllViews(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"top-left";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=this.currentWorkspace,n=null;{var _t1067=[];if(s.hasAttribute("viewBox")){var _e798=Bt.fromString(this.currentWorkspace.getAttribute("viewBox")).toRect();_t1067.push(_e798);}var _iterator704=_createForOfIteratorHelper(s.querySelectorAll(":scope > view, :scope > defs > view")),_step704;try{for(_iterator704.s();!(_step704=_iterator704.n()).done;){var _e799=_step704.value;_t1067.push(_e799.viewBox.baseVal);}}catch(err){_iterator704.e(err);}finally{_iterator704.f();}_t1067.length>0&&(n=Ne(_t1067));}n&&this.zoomToArea(n,t,e,i);}},{key:"canZoomToFitAllViews",value:function canZoomToFitAllViews(){var t=this.currentWorkspace;if(t.hasAttribute("viewBox")){var _t1068=Bt.fromString(this.currentWorkspace.getAttribute("viewBox"));if(_t1068.width>0&&_t1068.height>0)return!0;}var _iterator705=_createForOfIteratorHelper(t.querySelectorAll(":scope > view, :scope > defs > view")),_step705;try{for(_iterator705.s();!(_step705=_iterator705.n()).done;){var _e800=_step705.value;if(_e800.viewBox.baseVal.width>0&&_e800.viewBox.baseVal.height>0)return!0;}}catch(err){_iterator705.e(err);}finally{_iterator705.f();}return!1;}},{key:"zoomToFitAllObjects",value:function zoomToFitAllObjects(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"top-left";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=DOMRect.fromRect(this.currentWorkspace.getBBox());this.zoomToArea(s,t,e,i);}},{key:"canZoomToFitAllObjects",value:function canZoomToFitAllObjects(){var t=this.currentWorkspace.getBBox();return t.width>0&&t.height>0;}},{key:"zoomToFitSelectedObjects",value:function zoomToFitSelectedObjects(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"top-left";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=[];var _iterator706=_createForOfIteratorHelper(this.selectedObjectElements),_step706;try{for(_iterator706.s();!(_step706=_iterator706.n()).done;){var _t1069=_step706.value;var _e801=Vt(_t1069,this.vectorCanvas),_i795=Ci(_t1069);_i795=Ue(_i795,_e801),s.push(_i795);}}catch(err){_iterator706.e(err);}finally{_iterator706.f();}var n=s.length>0?Ne(s):new DOMRect();this.zoomToArea(n,t,e,i);}},{key:"canZoomToFitSelectedObjects",value:function canZoomToFitSelectedObjects(){if(0===this.selectedObjectElements.length)return!1;{var _t1070=this.selectedObjectElements.map(function(t){return t.getBBox();}),_e802=_t1070.length>0?Ne(_t1070):new DOMRect();return _e802.width>0&&_e802.height>0;}}},{key:"getZoomArea",value:function getZoomArea(){var t=this.getBoundingClientRect(),e=jt(this.currentWorkspace).inverse();return Ue(t,e);}},{key:"zoomToArea",value:function zoomToArea(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"top-left";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:20;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;var n=jt(this["#vector-layer"]).inverse(),o=Ue(this.getBoundingClientRect(),n),l=DOMRect.fromRect(t);if(o.x+=i,o.y+=i,o.width-=2*i,o.height-=2*i,this.showManualGuides&&(o.x+=uu,o.y+=uu,o.width-=uu,o.height-=uu),l.width>0&&l.height>0){var _t1071=o.width/l.width,_i796=o.height/l.height;_t1071>_i796?_t1071=_i796:_i796>_t1071&&(_i796=_t1071),!1===s&&(_t1071>1||_i796>1)&&(_t1071=1,_i796=1);var _n341=o.x-l.x*_t1071,_h183=o.y-l.y*_i796;"center"===e&&(_n341+=(o.width-l.width*_t1071)/2,_h183+=(o.height-l.height*_i796)/2);var _a148=new DOMMatrix();_a148.translateSelf(_n341,_h183),_a148.scaleSelf(_t1071,_i796),this["#vector-canvas"].setAttribute("transform",_a148),this.bc(),this.dispatchEvent(new CustomEvent("zoomchange"));}}},{key:"Rc",value:function Rc(){var t=null;this.currentWorkspace&&this.currentWorkspace.hasAttribute("viewBox")&&(t=Bt.fromString(this.currentWorkspace.getAttribute("viewBox"))),t&&t.width>0&&t.height>0?this.zoomToFitAllViews("top-left"):this.zoomToFitAllObjects("top-left");}},{key:"Gc",value:function Gc(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:.3;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(null===e){var _t1072=this.getBoundingClientRect();e=new DOMPoint(_t1072.x+_t1072.width/2,_t1072.y+_t1072.height/2);}var i=Nt(this["#vector-canvas"]),s=jt(this["#vector-layer"]).inverse(),n=e.matrixTransform(s);if(i.a>0){100*(i.a+t*i.a)<au?t=(au-100*i.a)/(100*i.a):100*(i.a+t*i.a)>ru&&(t=(ru-100*i.a)/(100*i.a));var _e803=new DOMMatrix();_e803.scaleSelf(1+t,1+t,1,n.x,n.y),_e803.multiplySelf(i),this["#vector-canvas"].setAttribute("transform",_e803),this.bc(),this.dispatchEvent(new CustomEvent("zoomchange"));}}},{key:"Vn",value:function Vn(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i,s=this.currentWorkspace;{var _t1073=[];if(s.hasAttribute("viewBox")){var _e804=Bt.fromString(this.currentWorkspace.getAttribute("viewBox")).toRect();_t1073.push(_e804);}var _iterator707=_createForOfIteratorHelper(s.querySelectorAll(":scope > view, :scope > defs > view")),_step707;try{for(_iterator707.s();!(_step707=_iterator707.n()).done;){var _e805=_step707.value;_t1073.push(_e805.viewBox.baseVal);}}catch(err){_iterator707.e(err);}finally{_iterator707.f();}i=_t1073.length>0?Ne(_t1073):new DOMRect();}if(!1===this.Dc||!1===this.showViews||0===i.width||0===i.height){var _i797=new DOMMatrix();_i797.translateSelf(t,e),_i797.multiplySelf(Nt(this["#vector-canvas"])),this["#vector-canvas"].setAttribute("transform",_i797);}else{var _s484=Ue(i,jt(this["#vector-canvas"]));_s484=Fe(_s484,0);var _n342=DOMRect.fromRect(_s484);_n342.x+=t,_n342.y+=e,_n342=Fe(_n342,0);var _o267=DOMRect.fromRect(this.getBoundingClientRect());this.showManualGuides&&(_o267.x+=uu,_o267.y+=uu,_o267.width-=uu,_o267.height-=uu,_o267=Fe(_o267,0)),je(_o267,_s484)?(_n342.width<_o267.width&&(_n342.x<_o267.x?_n342.x=_o267.x:_n342.x+_n342.width>_o267.x+_o267.width&&(_n342.x=_o267.x+_o267.width-_n342.width)),_n342.height<_o267.height&&(_n342.y<_o267.y?_n342.y=_o267.y:_n342.y+_n342.height>_o267.y+_o267.height&&(_n342.y=_o267.y+_o267.height-_n342.height))):!1===He(_o267,_s484)&&(_n342.x+_n342.width<_o267.x?_n342.x=_o267.x-_n342.width:_n342.x>_o267.x+_o267.width&&(_n342.x=_o267.x+_o267.width),_n342.y+_n342.height<_o267.y?_n342.y=_o267.y-_n342.height:_n342.y>_o267.y+_o267.height&&(_n342.y=_o267.y+_o267.height));var _l238=_n342.x-_s484.x,_h184=_n342.y-_s484.y,_a149=new DOMMatrix();_a149.translateSelf(_l238,_h184),_a149.multiplySelf(Nt(this["#vector-canvas"])),this["#vector-canvas"].setAttribute("transform",_a149);}this.bc(),this.dispatchEvent(new CustomEvent("zoomchange"));}},{key:"showPixelCanvas",value:function showPixelCanvas(){var t=this.getBoundingClientRect();this["#pixel-canvas"].hidden=!1,this["#pixel-canvas"].style.left=-t.x+"px",this["#pixel-canvas"].style.top=-t.y+"px",this["#pixel-canvas"].style.width=t.x+t.width+"px",this["#pixel-canvas"].style.height=t.y+t.height+"px",this["#pixel-canvas"].setAttribute("width",t.x+t.width),this["#pixel-canvas"].setAttribute("height",t.y+t.height);}},{key:"hidePixelCanvas",value:function hidePixelCanvas(){var t=this["#pixel-canvas"];t.hidden=!0,t.getContext("2d").clearRect(0,0,t.width,t.height);}},{key:"Lc",value:function Lc(){this["#vector-layer"].setAttribute("width",screen.width+"px"),this["#vector-layer"].setAttribute("height",screen.height+"px"),this["#vector-layer"].setAttribute("viewBox","0 0 ".concat(screen.width," ").concat(screen.height));}},{key:"kc",value:function kc(){!0===this.yc?(this["#manual-guides-hud"].enabled=!0,this["#rulers"].setAttribute("enabled","")):(this["#manual-guides-hud"].enabled=!1,this["#rulers"].removeAttribute("enabled")),!0===this.Sc?this["#smart-guides-hud"].enabled=!0:this["#smart-guides-hud"].enabled=!1,!0===this._c?this["#grid-hud"].enabled=!0:this["#grid-hud"].enabled=!1;}},{key:"Ec",value:function Ec(){document.fonts.clear();var _iterator708=_createForOfIteratorHelper(this.vc.getFonts()),_step708;try{for(_iterator708.s();!(_step708=_iterator708.n()).done;){var _t1074=_step708.value;_t1074.load(),document.fonts.add(_t1074);}}catch(err){_iterator708.e(err);}finally{_iterator708.f();}}},{key:"bc",value:function bc(){this["#grippie-fe-offset"].dx.baseVal=1/this.scale,this["#grippie-fe-offset"].dy.baseVal=1/this.scale,this["#grippie-fe-blur"].stdDeviationX.baseVal=1/this.scale,this["#grippie-fe-blur"].stdDeviationY.baseVal=1/this.scale;}},{key:"Pc",value:function Pc(){var t=this.currentWorkspace;if(t){var _e806=[];this.Mc?this["#vector-canvas"].setAttribute("data-outlines",this.zc?"above":"below"):this["#vector-canvas"].removeAttribute("data-outlines"),t.hasAttribute("viewBox")&&_e806.push(Bt.fromString(t.getAttribute("viewBox")));var _iterator709=_createForOfIteratorHelper(t.querySelectorAll(":scope > view, :scope > defs > view")),_step709;try{for(_iterator709.s();!(_step709=_iterator709.n()).done;){var _i800=_step709.value;_e806.push(_i800.viewBox.baseVal);}}catch(err){_iterator709.e(err);}finally{_iterator709.f();}if(this["#background-outlines"].childElementCount!==_e806.length){for(;this["#background-outlines"].childElementCount<_e806.length;){var _t1075=zi("svg:rect");this["#background-outlines"].append(_t1075);}for(;this["#background-outlines"].childElementCount>_e806.length;){this["#background-outlines"].lastElementChild.remove();}}if(this["#foreground-outlines"].childElementCount!==_e806.length){for(;this["#foreground-outlines"].childElementCount<_e806.length;){var _t1076=zi("svg:rect");this["#foreground-outlines"].append(_t1076);}for(;this["#foreground-outlines"].childElementCount>_e806.length;){this["#foreground-outlines"].lastElementChild.remove();}}for(var _t1077=0;_t1077<_e806.length;_t1077+=1){var _i798=_e806[_t1077];for(var _i799=0,_arr38=[this["#background-outlines"].children[_t1077],this["#foreground-outlines"].children[_t1077]];_i799<_arr38.length;_i799++){var _e807=_arr38[_i799];_e807.x.baseVal.value=_i798.x,_e807.y.baseVal.value=_i798.y,_e807.width.baseVal.value=_i798.width,_e807.height.baseVal.value=_i798.height;}}}}},{key:"maybeCreateDefsForMasterWorkspace",value:function maybeCreateDefsForMasterWorkspace(){var t=this.defs;return null===t&&(t=zi("svg:defs"),this.masterWorkspace.prepend(t)),t;}},{key:"maybeCreateDefsForCurrentWorkspace",value:function maybeCreateDefsForCurrentWorkspace(){var t=this.currentWorkspace.querySelector(":scope > defs");return null===t&&(t=zi("svg:defs"),this.currentWorkspace.prepend(t)),t;}},{key:"maybeCreateGridForCurrentWorkspace",value:function maybeCreateGridForCurrentWorkspace(){var t=this.currentWorkspace.querySelector(":scope > defs");null===t&&(t=qi(_templateObject14()),this.currentWorkspace.append(t));var e=t.querySelector(":scope > bx-grid");return null===e&&(e=qi(_templateObject15()),t.append(e)),e;}},{key:"generateUniqueID",value:function generateUniqueID(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;for(var _s485=i;_s485<Infinity;_s485+=1){var _i801=t+"-"+_s485;if(!this["#workspaces"].querySelector("#".concat(CSS.escape(_i801)))){if(!e)return _i801;if(!e.querySelector("#".concat(CSS.escape(_i801))))return _i801;}}}},{key:"Fc",value:function Fc(t){t=Bi(t);var e=new Set();var _iterator710=_createForOfIteratorHelper(t),_step710;try{for(_iterator710.s();!(_step710=_iterator710.n()).done;){var _i802=_step710.value;var _iterator711=_createForOfIteratorHelper(this.Uc(_i802)),_step711;try{for(_iterator711.s();!(_step711=_iterator711.n()).done;){var _t1078=_step711.value;e.add(_t1078);}}catch(err){_iterator711.e(err);}finally{_iterator711.f();}}}catch(err){_iterator710.e(err);}finally{_iterator710.f();}return _toConsumableArray(e);}},{key:"Uc",value:function Uc(t){var _this378=this;var e=new Set();var i=["fill","stroke","filter","clip-path","mask","marker-mid","marker-start","marker-end"];var s=function s(t){var n=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT),o=null;for(;o=n.nextNode();){var _t1079=getComputedStyle(o);var _iterator712=_createForOfIteratorHelper(i),_step712;try{for(_iterator712.s();!(_step712=_iterator712.n()).done;){var _n343=_step712.value;var _i804=_t1079.getPropertyValue(_n343);if(_i804&&_i804.startsWith('url("#')){var _t1081=_i804.substring(6,_i804.length-2);if(!1===e.has(_t1081)){e.add(_t1081);var _i805=_this378.currentWorkspace.querySelector("#"+CSS.escape(_t1081));_i805||_this378.currentWorkspace===_this378.masterWorkspace||(_i805=_this378.masterWorkspace.querySelector("#"+CSS.escape(_t1081))),_i805&&s(_i805);}else e.add(_t1081);}}}catch(err){_iterator712.e(err);}finally{_iterator712.f();}if(o.href&&o.href.baseVal&&"#"===o.href.baseVal[0]){var _t1080=o.href.baseVal.substring(1,o.href.baseVal.length);if(!1===e.has(_t1080)){e.add(_t1080);var _i803=_this378.currentWorkspace.querySelector("#"+CSS.escape(_t1080));_i803||_this378.currentWorkspace===_this378.masterWorkspace||(_i803=_this378.masterWorkspace.querySelector("#"+CSS.escape(_t1080))),_i803&&s(_i803);}else e.add(_t1080);}}};return s(t),_toConsumableArray(e);}},{key:"getComputedViewportWidth",value:function getComputedViewportWidth(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.currentWorkspace;var e=t.getAttribute("data-bx-workspace"),i=null;if("master"===e){var _e808=null;if(""!==t.style.width?_e808=t.style.width:t.hasAttribute("width")&&(_e808=t.getAttribute("width")),null!==_e808){var _t1082=Et.fromString(_e808),_s486=qp.fromString(_e808);_t1082&&_t1082.isAbsolute?i=_t1082:_s486&&(i=new Et(_s486.value,"px"));}}else if("pattern"===e||"symbol"===e){var _e809=null;if(""!==t.style.width?_e809=t.style.width:t.hasAttribute("width")&&(_e809=t.getAttribute("width")),null!==_e809){var _t1083=Et.fromString(_e809),_s487=qp.fromString(_e809);_t1083&&_t1083.isAbsolute?i=new qp(_t1083.toLength("px").value):_s487&&(i=_s487);}}else if("marker"===e&&(i=new qp(3),t.hasAttribute("markerWidth"))){var _e810=t.getAttribute("markerWidth"),_s488=qp.fromString(_e810),_n344=Et.fromString(_e810),_o268=Kp.fromString(_e810);_s488?i=_s488:_n344?i=_n344.isAbsolute?new qp(_n344.toLength("px").value):null:_o268&&(i=null);}return i;}},{key:"getComputedViewportHeight",value:function getComputedViewportHeight(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.currentWorkspace;var e=t.getAttribute("data-bx-workspace"),i=null;if("master"===e){var _e811=null;if(""!==t.style.height?_e811=t.style.height:t.hasAttribute("height")&&(_e811=t.getAttribute("height")),null!==_e811){var _t1084=Et.fromString(_e811),_s489=qp.fromString(_e811);_t1084&&_t1084.isAbsolute?i=_t1084:_s489&&(i=new Et(_s489.value,"px"));}}else if("pattern"===e||"symbol"===e){var _e812=null;if(""!==t.style.height?_e812=t.style.height:t.hasAttribute("height")&&(_e812=t.getAttribute("height")),null!==_e812){var _t1085=Et.fromString(_e812),_s490=qp.fromString(_e812);_t1085&&_t1085.isAbsolute?i=new qp(_t1085.toLength("px").value):_s490&&(i=_s490);}}else if("marker"===e&&(i=new qp(3),t.hasAttribute("markerHeight"))){var _e813=t.getAttribute("markerHeight"),_s491=qp.fromString(_e813),_n345=Et.fromString(_e813),_o269=Kp.fromString(_e813);_s491?i=_s491:_n345?i=_n345.isAbsolute?new qp(_n345.toLength("px").value):null:_o269&&(i=null);}return i;}},{key:"getElementsFromPoint",value:function getElementsFromPoint(t,e){return this._shadowRoot.elementsFromPoint(t,e);}},{key:"getHitWorkspaceElements",value:function getHitWorkspaceElements(t,e){var i=[];var _iterator713=_createForOfIteratorHelper(c),_step713;try{for(_iterator713.s();!(_step713=_iterator713.n()).done;){var _step713$value=_slicedToArray(_step713.value,2),_s492=_step713$value[0],_n346=_step713$value[1];var _o270=this._shadowRoot.elementFromPoint(t+_s492,e+_n346);if(_o270.getRootNode()!==this._shadowRoot&&(_o270=null),_o270){if("tspan"===_o270.localName||"textPath"===_o270.localName)_o270=_o270.closest("text");else if("a"===_o270.localName){var _t1086=_o270.closest("text");_t1086&&(_o270=_t1086);}!i.includes(_o270)&&this.currentWorkspace.contains(_o270)&&i.push(_o270);}}}catch(err){_iterator713.e(err);}finally{_iterator713.f();}return Bi(i);}},{key:"getWorkspaceElementFromPoint",value:function getWorkspaceElementFromPoint(t,e){var i=this._shadowRoot.elementFromPoint(t,e);if(i.getRootNode()!==this._shadowRoot&&(i=null),i){if("tspan"===i.localName||"textPath"===i.localName)i=i.closest("text");else if("a"===i.localName){var _t1087=i.closest("text");_t1087&&(i=_t1087);}!1===this.currentWorkspace.contains(i)&&(i=null);}return i;}},{key:"getBoundingClientRect",value:function getBoundingClientRect(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=_get(_getPrototypeOf(mu.prototype),"getBoundingClientRect",this).call(this);if(t&&(i=new DOMRect(i.x+uu,i.y+uu,i.width-uu,i.height-uu)),e){var _t1088=this.Js.primaryPanelsDock,_e814=this.Js.secondaryPanelsDock;null!==_t1088.value&&(i.width-=_t1088.width-_t1088.getBoundingClientRect().width),null!==_e814.value&&(i.height-=_e814.height);}return i;}},{key:"selectAll",value:function selectAll(){var t=[],e=this.currentContainer||this.currentWorkspace;var _iterator714=_createForOfIteratorHelper(e.children),_step714;try{for(_iterator714.s();!(_step714=_iterator714.n()).done;){var _i806=_step714.value;this.isSelectableElement(_i806)&&t.push(_i806);}}catch(err){_iterator714.e(err);}finally{_iterator714.f();}this.selectedElements=[].concat(t);}},{key:"deselectAll",value:function deselectAll(){this.selectedElements=[],this.currentContainer=null,this.selectedTextRange=null;}},{key:"captureVisibleCanvasArea",value:function captureVisibleCanvasArea(){var _this379=this;return new Promise(/*#__PURE__*/function(){var _ref109=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee97(t){var e,i,s,_t1089,_e815,_iterator715,_step715,_i807,_e816,_s493,_i808,_arr39,_t1090,n,_e817,_i809,_s494,_o271,_l239;return regeneratorRuntime.wrap(function _callee97$(_context98){while(1){switch(_context98.prev=_context98.next){case 0:e=_this379["#vector-layer"].getBoundingClientRect(),i=_this379["#vector-layer"].cloneNode();i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),i.setAttribute("width",e.width+"px"),i.setAttribute("height",e.height+"px");s=_this379["#vector-canvas"].cloneNode();_t1089=zi("svg:g"),_e815=[_this379["#background-rect"]].concat(_toConsumableArray(_this379["#background-outlines"].children),_toConsumableArray(_this379["#foreground-outlines"].children));_iterator715=_createForOfIteratorHelper(_e815);try{for(_iterator715.s();!(_step715=_iterator715.n()).done;){_i807=_step715.value;_e816=getComputedStyle(_i807),_s493=_i807.cloneNode();for(_i808=0,_arr39=["fill","stroke","vector-effect"];_i808<_arr39.length;_i808++){_t1090=_arr39[_i808];_s493.style.setProperty(_t1090,_e816.getPropertyValue(_t1090));}_t1089.append(_s493);}}catch(err){_iterator715.e(err);}finally{_iterator715.f();}s.append(_t1089);s.append(_this379["#workspaces"].cloneNode(!0)),s.querySelector("#whitespace").remove(),i.append(s);n=Jp(i,"xml");_e817=zi("canvas"),_i809=_e817.getContext("2d"),_s494=new Blob([n],{type:"image/svg+xml;charset=utf-8"}),_o271=URL.createObjectURL(_s494),_l239=new Image();_l239.src=_o271,_l239.addEventListener("load",function(){_e817.width=_l239.naturalWidth,_e817.height=_l239.naturalHeight,_i809.fillStyle="rgba(0, 0, 0, 0)",_i809.fillRect(0,0,_l239.naturalWidth,_l239.naturalHeight),_i809.drawImage(_l239,0,0),URL.revokeObjectURL(_o271),t(_i809);});case 11:case"end":return _context98.stop();}}},_callee97);}));return function(_x120){return _ref109.apply(this,arguments);};}());}},{key:"isSelectableElement",value:function isSelectableElement(t){return!1!==f.includes(t.localName)&&t.parentElement!==this["#workspaces"]&&!1!==this.currentWorkspace.contains(t)&&!t.closest("defs")&&(!t.closest("text")||"text"===t.localName);}},{key:"isPointOverBoard",value:function isPointOverBoard(t,e){var i=this._shadowRoot.elementFromPoint(t,e);return(i.getRootNode()!==this._shadowRoot||i===this["#rulers"])&&(i=null),null!==i;}},{key:"isPointOverRuler",value:function isPointOverRuler(t,e){return this._shadowRoot.elementFromPoint(t,e)===this["#rulers"];}}]);return mu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(mu,"_shadowTemplate",Yi(_templateObject196()));_defineProperty(mu,"_shadowStyleSheet",Wi(_templateObject197()));customElements.define("bx-board",mu);var gu=/*#__PURE__*/function(_HTMLElement59){_inherits(gu,_HTMLElement59);var _super65=_createSuper(gu);function gu(){_classCallCheck(this,gu);return _super65.apply(this,arguments);}_createClass(gu,[{key:"connectedCallback",value:function connectedCallback(){if(this.Js=Ai(this,"bx-editor"),!this._shadowRoot){this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,gu._shadowStyleSheet],this._shadowRoot.append(document.importNode(gu._shadowTemplate.content,!0));var _iterator716=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll("[id]")),_step716;try{for(_iterator716.s();!(_step716=_iterator716.n()).done;){var _t1091=_step716.value;this["#"+_t1091.id]=_t1091;}}catch(err){_iterator716.e(err);}finally{_iterator716.f();}}}},{key:"setArtwork",value:function setArtwork(t){this["#main"].append(t);}},{key:"clear",value:function clear(){this["#main"].innerHTML="";var _iterator717=_createForOfIteratorHelper(this.Js.board.workspaces.querySelectorAll("style[data-bx-fonts]")),_step717;try{for(_iterator717.s();!(_step717=_iterator717.n()).done;){var _t1092=_step717.value;_t1092.setAttribute("_bx-redraw",""),_t1092.removeAttribute("_bx-redraw");}}catch(err){_iterator717.e(err);}finally{_iterator717.f();}}}]);return gu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(gu,"_shadowTemplate",Yi(_templateObject198()));_defineProperty(gu,"_shadowStyleSheet",Wi(_templateObject199()));customElements.define("bx-offscreenboard",gu);var fu=10;var wu=/*#__PURE__*/function(_HTMLElement60){_inherits(wu,_HTMLElement60);var _super66=_createSuper(wu);_createClass(wu,[{key:"grabbing",get:function get(){return this.hasAttribute("grabbing");}}]);function wu(){var _this380;_classCallCheck(this,wu);_this380=_super66.call(this),_this380.Nc=null,_this380.Vc=null,_this380._shadowRoot=_this380.attachShadow({mode:"closed"}),_this380._shadowRoot.adoptedStyleSheets=[wu._shadowStyleSheet],_this380._shadowRoot.append(document.importNode(wu._shadowTemplate.content,!0));var _iterator718=_createForOfIteratorHelper(_this380._shadowRoot.querySelectorAll("[id]")),_step718;try{for(_iterator718.s();!(_step718=_iterator718.n()).done;){var _t1093=_step718.value;_this380["#"+_t1093.id]=_t1093;}}catch(err){_iterator718.e(err);}finally{_iterator718.f();}_this380.addEventListener("pointerenter",function(){return _this380["#lens"].style.display=null;}),_this380.addEventListener("pointerleave",function(){return _this380["#lens"].style.display="none";}),_this380.addEventListener("pointermove",function(){return _this380.jc();}),_this380.addEventListener("click",function(t){return _this380["do"](t);}),_this380.addEventListener("keydown",function(t){return _this380.vn(t);});return _this380;}_createClass(wu,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app");}},{key:"grab",value:function grab(){var _this381=this;return new Promise(/*#__PURE__*/function(){var _ref110=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee98(t){return regeneratorRuntime.wrap(function _callee98$(_context99){while(1){switch(_context99.prev=_context99.next){case 0:_this381.Vc&&_this381.Vc(null);_context99.prev=1;_this381.Vc=t;_this381.Hc=_this381.Qs.currentEditor.board;_this381.Yc=_this381.Hc.getBoundingClientRect();_this381.setAttribute("tabindex","0");_this381.setAttribute("grabbing","");_this381.focus();_context99.next=10;return _this381.Hc.captureVisibleCanvasArea();case 10:_this381.Nc=_context99.sent;_this381.Wc();_this381.jc();_context99.next=18;break;case 15:_context99.prev=15;_context99.t0=_context99["catch"](1);console.log("Failed to grab color",_context99.t0),_this381.Vc(null),_this381.Vc=null,_this381.removeAttribute("grabbing");case 18:case"end":return _context99.stop();}}},_callee98,null,[[1,15]]);}));return function(_x121){return _ref110.apply(this,arguments);};}());}},{key:"Wc",value:function Wc(){if(0===this["#grid"].childElementCount)for(var _t1094=0;_t1094<fu;_t1094+=1){for(var _e818=0;_e818<fu;_e818+=1){var _i810=zi("svg:rect");_i810.setAttribute("width",10),_i810.setAttribute("height",10),_i810.setAttribute("x",11*_e818),_i810.setAttribute("y",11*_t1094),_i810.style.fill="transparent",this["#grid"].append(_i810),4===_e818&&4===_t1094&&_i810.setAttribute("id","center-rect");}}}},{key:"jc",value:function jc(){var _this$Qs$pointerClien=this.Qs.pointerClientPoint,t=_this$Qs$pointerClien.x,e=_this$Qs$pointerClien.y;if(this["#lens"].style.left=t+15+"px",this["#lens"].style.top=e+15+"px",!1===this.xc())this["#lens"].setAttribute("offscreen","");else if(this["#lens"].removeAttribute("offscreen"),this.Nc){var _i811=[],_s495=this.Nc.getImageData(t-this.Yc.left-fu/2+1,e-this.Yc.top-fu/2+1,fu,fu);for(var _t1095=0,_e819=_s495.data.length;_t1095<_e819;_t1095+=4){var _e820=_s495.data[_t1095],_n347=_s495.data[_t1095+1],_o272=_s495.data[_t1095+2],_l240=_s495.data[_t1095+3]/255;_i811.push("rgba(".concat(_e820,", ").concat(_n347,", ").concat(_o272,", ").concat(_l240,")"));}for(var _t1096=0;_t1096<_i811.length;_t1096+=1){this["#grid"].children[_t1096].style.fill=_i811[_t1096];}}}},{key:"vn",value:function vn(t){"Escape"===t.key&&(this.Vc&&(this.Vc(null),this.Vc=null),this.removeAttribute("grabbing"));}},{key:"do",value:function _do(t){var e=null;if(this.Nc&&this.xc()){var _this$Qs$pointerClien2=this.Qs.pointerClientPoint,_t1097=_this$Qs$pointerClien2.x,_i812=_this$Qs$pointerClien2.y,_s496=this.Nc.getImageData(_t1097-this.Yc.left,_i812-this.Yc.top,1,1),_s496$data=_slicedToArray(_s496.data,4),_n348=_s496$data[0],_o273=_s496$data[1],_l241=_s496$data[2],_h185=_s496$data[3];e="rgba(".concat(_n348,", ").concat(_o273,", ").concat(_l241,", ").concat(_h185/255,")");}this.Vc(e),this.Vc=null,this.removeAttribute("grabbing");}},{key:"xc",value:function xc(){this.style.pointerEvents="none";var _this$Qs$pointerClien3=this.Qs.pointerClientPoint,t=_this$Qs$pointerClien3.x,e=_this$Qs$pointerClien3.y,i=this.Hc.isPointOverBoard(t,e);return this.style.pointerEvents=null,i;}}]);return wu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(wu,"_shadowTemplate",Yi(_templateObject200()));_defineProperty(wu,"_shadowStyleSheet",Wi(_templateObject201()));customElements.define("bx-colorgrabber",wu);var vu=/*#__PURE__*/function(_HTMLElement61){_inherits(vu,_HTMLElement61);var _super67=_createSuper(vu);function vu(){var _this382;_classCallCheck(this,vu);_this382=_super67.call(this),_this382._shadowRoot=_this382.attachShadow({mode:"closed"}),_this382._shadowRoot.adoptedStyleSheets=[vu._shadowStyleSheet],_this382._shadowRoot.append(document.importNode(vu._shadowTemplate.content,!0));var _iterator719=_createForOfIteratorHelper(_this382._shadowRoot.querySelectorAll("[id]")),_step719;try{for(_iterator719.s();!(_step719=_iterator719.n()).done;){var _t1098=_step719.value;_this382["#"+_t1098.id]=_t1098;}}catch(err){_iterator719.e(err);}finally{_iterator719.f();}return _this382;}return vu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(vu,"_shadowTemplate",Yi(_templateObject202()));_defineProperty(vu,"_shadowStyleSheet",Wi(_templateObject203()));customElements.define("bx-tooltip",vu);var yu=/*#__PURE__*/function(_HTMLElement62){_inherits(yu,_HTMLElement62);var _super68=_createSuper(yu);_createClass(yu,[{key:"grabbing",get:function get(){return this.hasAttribute("grabbing");}}]);function yu(){var _this383;_classCallCheck(this,yu);_this383=_super68.call(this),_this383.Vc=null,_this383._shadowRoot=_this383.attachShadow({mode:"closed"}),_this383._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,yu._shadowStyleSheet],_this383._shadowRoot.append(document.importNode(yu._shadowTemplate.content,!0));var _iterator720=_createForOfIteratorHelper(_this383._shadowRoot.querySelectorAll("[id]")),_step720;try{for(_iterator720.s();!(_step720=_iterator720.n()).done;){var _t1099=_step720.value;_this383["#"+_t1099.id]=_t1099;}}catch(err){_iterator720.e(err);}finally{_iterator720.f();}_this383.addEventListener("pointerenter",function(){return _this383["#tooltip"].hidden=!1;}),_this383.addEventListener("pointerleave",function(){return _this383["#tooltip"].hidden=!0;}),_this383.addEventListener("pointermove",function(){return _this383.qc();}),_this383.addEventListener("click",function(t){return _this383["do"](t);}),_this383.addEventListener("keydown",function(t){return _this383.vn(t);});return _this383;}_createClass(yu,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");}},{key:"grab",value:function grab(){var _this384=this;return new Promise(/*#__PURE__*/function(){var _ref111=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee99(t){return regeneratorRuntime.wrap(function _callee99$(_context100){while(1){switch(_context100.prev=_context100.next){case 0:_this384.Vc&&_this384.Vc(null);_this384.Vc=t;_this384.setAttribute("tabindex","0");_this384.setAttribute("grabbing","");_this384.qc();_this384.focus();_context100.next=8;return Qi(200);case 8:_this384.focus();case 9:case"end":return _context100.stop();}}},_callee99);}));return function(_x122){return _ref111.apply(this,arguments);};}());}},{key:"qc",value:function qc(){if(this.Xc())this["#tooltip"].hidden=!0;else{var _this$Qs$pointerClien4=this.Qs.pointerClientPoint,_t1100=_this$Qs$pointerClien4.x,_e821=_this$Qs$pointerClien4.y;this["#tooltip"].hidden=!1,this["#tooltip"].style.left=_t1100+15+"px",this["#tooltip"].style.top=_e821+15+"px";}}},{key:"vn",value:function vn(t){"Escape"===t.key&&this.Vc&&(t.preventDefault(),this.Vc(null),this.Vc=null,this.removeAttribute("grabbing"));}},{key:"do",value:function _do(t){var e=this.Xc();this.Vc(e),this.Vc=null,this.removeAttribute("grabbing");}},{key:"Xc",value:function Xc(){this.style.pointerEvents="none";var _this$Qs$pointerClien5=this.Qs.pointerClientPoint,t=_this$Qs$pointerClien5.x,e=_this$Qs$pointerClien5.y,i=this.Js.board.getWorkspaceElementFromPoint(t,e);return this.style.pointerEvents=null,i;}}]);return yu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(yu,"_shadowTemplate",Yi(_templateObject204()));_defineProperty(yu,"_shadowStyleSheet",Wi(_templateObject205()));customElements.define("bx-objectgrabber",yu);var ku=Symbol();var Su=/*#__PURE__*/function(_HTMLElement63){_inherits(Su,_HTMLElement63);var _super69=_createSuper(Su);_createClass(Su,[{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Su(){var _this385;_classCallCheck(this,Su);_this385=_super69.call(this),_this385.zr=!1,_this385.Zc=Zi(_this385.qs,80,_assertThisInitialized(_this385)),_this385.Kc=Zi(_this385.qs,1e3,_assertThisInitialized(_this385)),_this385._shadowRoot=_this385.attachShadow({mode:"closed"}),_this385._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Su._shadowStyleSheet],_this385._shadowRoot.append(document.importNode(Su._shadowTemplate.content,!0));var _iterator721=_createForOfIteratorHelper(_this385._shadowRoot.querySelectorAll("[id]")),_step721;try{for(_iterator721.s();!(_step721=_iterator721.n()).done;){var _t1101=_step721.value;_this385["#"+_t1101.id]=_t1101;}}catch(err){_iterator721.e(err);}finally{_iterator721.f();}_this385["#items"].addEventListener("pointerdown",function(t){return _this385.Qc(t);}),_this385["#items"].addEventListener("click",function(t){return _this385.Jc(t);}),_this385["#items"].addEventListener("contextmenu",function(t){return _this385.tp(t);}),_this385["#items"].addEventListener("keydown",function(t){return _this385.ep(t);});return _this385;}_createClass(Su,[{key:"connectedCallback",value:function connectedCallback(){var _this386=this;this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this.Pn=this.Js.board,this.zr=this.Qs.getConfig("bx-editorbreadcrumb:showIds",!1),this.qs(),this.ip(),$s.addEventListener("sizechange",this.sp=function(){return _this386.ip();}),this.Qs.addEventListener("configchange",this.ln=function(t){_this386.hn(t);}),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this386.Zc();}),this.Pn.addEventListener("currentcontainerchange",this.np=function(){_this386.Zc();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this386.Kc();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.sp),this.Qs.removeEventListener("configchange",this.ln),this.Pn.removeEventListener("selectedelementschange",this.Qo),this.Pn.removeEventListener("currentcontainerchange",this.np),this.Pn.removeEventListener("workspacemutation",this.rn);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"size"===t&&this.ip();}},{key:"hn",value:function hn(t){var _t$detail6=t.detail,e=_t$detail6.key,i=_t$detail6.value;"bx-editorbreadcrumb:showIds"===e&&(this.zr=this.Qs.getConfig("bx-editorbreadcrumb:showIds",!1),this.qs());}},{key:"Qc",value:function Qc(t){t.target.closest(".item")&&t.preventDefault();}},{key:"Jc",value:function Jc(t){var e=this.Js.board,i=t.target.closest(".item");if(i){var _t1102=i[ku];_t1102===e.currentWorkspace?(e.currentContainer=null,e.selectedElements=[]):_t1102===e.masterWorkspace?("symbol"===e.currentWorkspace.getAttribute("data-bx-workspace")?e.editSymbolEnd():"pattern"===e.currentWorkspace.getAttribute("data-bx-workspace")?e.editPatternEnd():"marker"===e.currentWorkspace.getAttribute("data-bx-workspace")&&e.editMarkerEnd(),e.currentContainer=null,e.selectedElements=[]):(_t1102.parentElement===e.currentWorkspace?e.currentContainer=null:e.currentContainer=_t1102.parentElement,e.selectedElements=[_t1102]);}}},{key:"tp",value:function(){var _tp=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee100(t){return regeneratorRuntime.wrap(function _callee100$(_context101){while(1){switch(_context101.prev=_context101.next){case 0:t.preventDefault();_context101.next=3;return this.Qs.openContextMenu([{label:"Show IDs",value:"show-ids",disabled:!1,toggled:this.zr}]);case 3:_context101.t0=_context101.sent;_context101.t1="show-ids"===_context101.t0;if(!_context101.t1){_context101.next=7;break;}this.Qs.setConfig("bx-editorbreadcrumb:showIds",!this.zr),this.qs();case 7:case"end":return _context101.stop();}}},_callee100,this);}));function tp(_x123){return _tp.apply(this,arguments);}return tp;}()},{key:"ep",value:function ep(t){var e=this["#items"].querySelector(":focus");e&&("Enter"!==t.code&&"Space"!==t.code||e.click());}},{key:"qs",value:function qs(){var t=this.Js.board,e=[],i=null;if(e.push(t.masterWorkspace),t.currentWorkspace!==t.masterWorkspace&&e.push(t.currentWorkspace),t.currentContainer){var _i813=[];for(var _e822=t.currentContainer;_e822!==t.currentWorkspace;_e822=_e822.parentElement){_i813.unshift(_e822);}e=[].concat(_toConsumableArray(e),_i813);}t.selectedElements.length>0?(e.push(t.selectedElements[0]),i=t.selectedElements[0]):t.currentContainer||(i=t.currentWorkspace),this["#items"].innerHTML="";var _iterator722=_createForOfIteratorHelper(e),_step722;try{for(_iterator722.s();!(_step722=_iterator722.n()).done;){var _t1103=_step722.value;var _e823=U(_t1103),_s497=N(_t1103),_n349=_t1103.querySelector(":scope > bx-title"),_o274=Fi(_t1103),_l242="";this.zr?_t1103.id?_l242="#"+_t1103.id:(_l242=Gi(_t1103,"developer"),_l242=hi(_l242)):(_l242=_n349?_n349.textContent:Gi(_t1103),_e823&&_s497?_l242+=" (clipped, masked)":_e823?_l242+=" (clipped)":_s497&&(_l242+=" (masked)"));var _h186=Yi(_templateObject16(),_o274,_l242);i===_t1103?(_h186.setAttribute("data-selected",""),_h186.setAttribute("part","toggled-item")):_h186.setAttribute("tabindex","0"),_h186[ku]=_t1103,this["#items"].append(_h186);}}catch(err){_iterator722.e(err);}finally{_iterator722.f();}this["#items"].firstElementChild.part.add("first-item"),this["#items"].lastElementChild.part.add("last-item");}},{key:"ip",value:function ip(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return Su;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Su,"observedAttributes",["size"]);_defineProperty(Su,"_shadowTemplate",Yi(_templateObject206()));_defineProperty(Su,"_shadowStyleSheet",Wi(_templateObject207()));customElements.define("bx-editorbreadcrumb",Su);var _u=/*#__PURE__*/function(_na4){_inherits(_u,_na4);var _super70=_createSuper(_u);function _u(){var _this387;_classCallCheck(this,_u);_this387=_super70.call(this),_this387["#selection-shape-buttons"].addEventListener("toggle",function(){_this387.op();}),_this387["#selection-mode-buttons"].addEventListener("toggle",function(){_this387.lp();}),_this387["#preserve-stroke-width-checkbox"].addEventListener("toggle",function(){_this387.hp();}),_this387["#preserve-rect-radii-checkbox"].addEventListener("toggle",function(){_this387.ap();}),_this387["#preserve-rotation-checkbox"].addEventListener("toggle",function(){_this387.rp();}),_this387["#preserve-aspect-ratio-checkbox"].addEventListener("toggle",function(){_this387.dp();});return _this387;}_createClass(_u,[{key:"tn",value:function tn(){var t=this.Qs.getConfig("bx-transformsettings:selectionShape","rect"),e=this.Qs.getConfig("bx-transformsettings:selectionMode","contain"),i=this.Qs.getConfig("bx-transformsettings:preserveStrokeWidth",!0),s=this.Qs.getConfig("bx-transformsettings:preserveRectRadii",!0),n=this.Qs.getConfig("bx-transformsettings:preserveRotation",!0),o=this.Qs.getConfig("bx-transformsettings:preserveAspectRatio",!1);"rect-contain"===e&&(e="contain"),this["#selection-shape-buttons"].value=t,this["#selection-mode-buttons"].value=e,this["#preserve-stroke-width-checkbox"].toggled=i,this["#preserve-rect-radii-checkbox"].toggled=s,this["#preserve-rotation-checkbox"].toggled=n,this["#preserve-aspect-ratio-checkbox"].toggled=o;}},{key:"op",value:function op(){var t=this["#selection-shape-buttons"].value;this.Qs.setConfig("bx-transformsettings:selectionShape",t);}},{key:"lp",value:function lp(){var t=this["#selection-mode-buttons"].value;this.Qs.setConfig("bx-transformsettings:selectionMode",t);}},{key:"hp",value:function hp(){var t=this["#preserve-stroke-width-checkbox"].toggled;this.Qs.setConfig("bx-transformsettings:preserveStrokeWidth",t);}},{key:"ap",value:function ap(){var t=this["#preserve-rect-radii-checkbox"].toggled;this.Qs.setConfig("bx-transformsettings:preserveRectRadii",t);}},{key:"rp",value:function rp(){var t=this["#preserve-rotation-checkbox"].toggled;this.Qs.setConfig("bx-transformsettings:preserveRotation",t);}},{key:"dp",value:function dp(){var t=this["#preserve-aspect-ratio-checkbox"].toggled;this.Qs.setConfig("bx-transformsettings:preserveAspectRatio",t);}}]);return _u;}(na);_defineProperty(_u,"_shadowTemplate",Yi(_templateObject208()));_defineProperty(_u,"_shadowStyleSheet",Wi(_templateObject209()));customElements.define("bx-transformsettings",_u);var Cu=/*#__PURE__*/function(_na5){_inherits(Cu,_na5);var _super71=_createSuper(Cu);function Cu(){var _this388;_classCallCheck(this,Cu);_this388=_super71.call(this),_this388["#selection-shape-buttons"].addEventListener("toggle",function(){return _this388.op();});return _this388;}_createClass(Cu,[{key:"tn",value:function tn(){this["#selection-shape-buttons"].value=this.Qs.getConfig("bx-editsettings:selectionShape","rect");}},{key:"op",value:function op(){this.Qs.setConfig("bx-editsettings:selectionShape",this["#selection-shape-buttons"].value);}}]);return Cu;}(na);_defineProperty(Cu,"_shadowTemplate",Yi(_templateObject210()));_defineProperty(Cu,"_shadowStyleSheet",Wi(_templateObject211()));customElements.define("bx-editsettings",Cu);var Mu=/*#__PURE__*/function(_na6){_inherits(Mu,_na6);var _super72=_createSuper(Mu);function Mu(){var _this389;_classCallCheck(this,Mu);_this389=_super72.call(this),_this389["#style-picker"].addEventListener("change",function(){return _this389.io();});return _this389;}_createClass(Mu,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-quadbeziersettings:style");}},{key:"io",value:function io(){this.Qs.setConfig("bx-quadbeziersettings:style",this["#style-picker"].value);}}]);return Mu;}(na);_defineProperty(Mu,"_shadowTemplate",Yi(_templateObject212()));customElements.define("bx-quadbeziersettings",Mu);var Pu=/*#__PURE__*/function(_na7){_inherits(Pu,_na7);var _super73=_createSuper(Pu);function Pu(){var _this390;_classCallCheck(this,Pu);_this390=_super73.call(this),_this390["#style-picker"].addEventListener("change",function(){return _this390.io();});return _this390;}_createClass(Pu,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-cubicbeziersettings:style");}},{key:"io",value:function io(){this.Qs.setConfig("bx-cubicbeziersettings:style",this["#style-picker"].value);}}]);return Pu;}(na);_defineProperty(Pu,"_shadowTemplate",Yi(_templateObject213()));customElements.define("bx-cubicbeziersettings",Pu);var Du=/*#__PURE__*/function(_na8){_inherits(Du,_na8);var _super74=_createSuper(Du);function Du(){var _this391;_classCallCheck(this,Du);_this391=_super74.call(this),_this391["#style-picker"].addEventListener("change",function(){return _this391.io();});return _this391;}_createClass(Du,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-arcsettings:style");}},{key:"io",value:function io(){this.Qs.setConfig("bx-arcsettings:style",this["#style-picker"].value);}}]);return Du;}(na);_defineProperty(Du,"_shadowTemplate",Yi(_templateObject214()));customElements.define("bx-arcsettings",Du);var zu=/*#__PURE__*/function(_na9){_inherits(zu,_na9);var _super75=_createSuper(zu);function zu(){var _this392;_classCallCheck(this,zu);_this392=_super75.call(this),_this392["#smoothing-slider"].addEventListener("change",function(){return _this392.cp();}),_this392["#smoothing-input"].addEventListener("change",function(){return _this392.pp();}),_this392["#style-picker"].addEventListener("change",function(){return _this392.io();});return _this392;}_createClass(zu,[{key:"tn",value:function tn(){var t=this.Qs.getConfig("bx-freehandsettings:smoothing",.5),e=this.Qs.getConfig("bx-freehandsettings:style");this["#smoothing-slider"].value=t,this["#smoothing-input"].value=t,this["#style-picker"].value=e;}},{key:"cp",value:function cp(){this["#smoothing-input"].value=this["#smoothing-slider"].value,this.Qs.setConfig("bx-freehandsettings:smoothing",this["#smoothing-slider"].value);}},{key:"pp",value:function pp(){this["#smoothing-slider"].value=this["#smoothing-input"].value,this.Qs.setConfig("bx-freehandsettings:smoothing",this["#smoothing-slider"].value);}},{key:"io",value:function io(){this.Qs.setConfig("bx-freehandsettings:style",this["#style-picker"].value);}}]);return zu;}(na);_defineProperty(zu,"_shadowTemplate",Yi(_templateObject215()));_defineProperty(zu,"_shadowStyleSheet",Wi(_templateObject216()));customElements.define("bx-freehandsettings",zu);var Ou=/*#__PURE__*/function(_na10){_inherits(Ou,_na10);var _super76=_createSuper(Ou);function Ou(){var _this393;_classCallCheck(this,Ou);_this393=_super76.call(this),_this393["#move-objects-checkbox"].addEventListener("toggle",function(){return _this393.up();}),_this393["#show-ids-checkbox"].addEventListener("toggle",function(){return _this393.xp();});return _this393;}_createClass(Ou,[{key:"tn",value:function tn(){this["#move-objects-checkbox"].toggled=this.Qs.getConfig("bx-viewsettings:moveObjects",!1),this["#show-ids-checkbox"].toggled=this.Qs.getConfig("bx-viewsettings:showIds",!1);}},{key:"up",value:function up(){this.Qs.setConfig("bx-viewsettings:moveObjects",this["#move-objects-checkbox"].toggled);}},{key:"xp",value:function xp(){this.Qs.setConfig("bx-viewsettings:showIds",this["#show-ids-checkbox"].toggled);}}]);return Ou;}(na);_defineProperty(Ou,"_shadowTemplate",Yi(_templateObject217()));customElements.define("bx-viewsettings",Ou);var Eu=/*#__PURE__*/function(_na11){_inherits(Eu,_na11);var _super77=_createSuper(Eu);function Eu(){var _this394;_classCallCheck(this,Eu);_this394=_super77.call(this),_this394["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this394.bp();}),_this394["#r-grippie"].addEventListener("pointerdown",function(t){return _this394.ml(t);}),_this394["#r-box"].addEventListener("changestart",function(t){return _this394.mp(t);}),_this394["#style-picker"].addEventListener("change",function(){return _this394.io();});return _this394;}_createClass(Eu,[{key:"tn",value:function tn(){this.gp=this.Qs.getConfig("bx-rectsettings:drawingMode","planar"),this.fp=this.Qs.getConfig("bx-rectsettings:r",0),this.wp=this.Qs.getConfig("bx-rectsettings:style"),this.vp(),this.yp(),this.kp();}},{key:"bp",value:function bp(){this.Qs.setConfig("bx-rectsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"ml",value:function ml(t){var _this395=this;var e,_i814,s=jt(this["#geometry-preview-shape"]).inverse();this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s).x-_this395["#geometry-preview-shape"].x.baseVal.value;_this395.fp=K(n,0,30,0),_this395.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i814=function i(){_this395["#geometry-preview"].removeEventListener("pointermove",e),_this395["#geometry-preview"].removeEventListener("lostpointercapture",_i814),_this395.Qs.setConfig("bx-rectsettings:r",_this395.fp);});}},{key:"mp",value:function mp(){var _this396=this;var t,_e824;this["#r-box"].addEventListener("change",t=function t(_t1104){_this396.fp=K(_t1104.target.value,0,Infinity,0),_this396.yp();}),this["#r-box"].addEventListener("changeend",_e824=function e(){_this396["#r-box"].removeEventListener("change",t),_this396["#r-box"].removeEventListener("changeend",_e824),_this396.Qs.setConfig("bx-rectsettings:r",_this396.fp);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-rectsettings:style",this["#style-picker"].value);}},{key:"vp",value:function vp(){this["#drawing-mode-buttons"].value=this.gp;}},{key:"yp",value:function yp(){this.no(),this.Sp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.height-10,e=t,i=this["#geometry-preview"].viewBox.baseVal.width/2-e/2,s=K(this.fp,0,30,0);this["#geometry-preview-shape"].x.baseVal.value=i,this["#geometry-preview-shape"].y.baseVal.value=5,this["#geometry-preview-shape"].width.baseVal.value=e,this["#geometry-preview-shape"].height.baseVal.value=t,this["#geometry-preview-shape"].rx.baseVal.value=s,this["#geometry-preview-shape"].ry.baseVal.value=s,this["#r-grippie"].setAttribute("cx",i+s),this["#r-grippie"].setAttribute("cy",5);}},{key:"Sp",value:function Sp(){this["#r-slider"].value=this.fp,this["#r-input"].value=this.fp;}},{key:"kp",value:function kp(){this["#style-picker"].value=this.wp;}}]);return Eu;}(na);_defineProperty(Eu,"_shadowTemplate",Yi(_templateObject218()));_defineProperty(Eu,"_shadowStyleSheet",Wi(_templateObject219()));customElements.define("bx-rectsettings",Eu);var Tu=/*#__PURE__*/function(_na12){_inherits(Tu,_na12);var _super78=_createSuper(Tu);function Tu(){var _this397;_classCallCheck(this,Tu);_this397=_super78.call(this),_this397["#style-picker"].addEventListener("change",function(){return _this397.io();});return _this397;}_createClass(Tu,[{key:"tn",value:function tn(){this.kp();}},{key:"io",value:function io(){this.Qs.setConfig("bx-circlesettings:style",this["#style-picker"].value);}},{key:"kp",value:function kp(){this["#style-picker"].value=this.Qs.getConfig("bx-circlesettings:style");}}]);return Tu;}(na);_defineProperty(Tu,"_shadowTemplate",Yi(_templateObject220()));customElements.define("bx-circlesettings",Tu);var Au=/*#__PURE__*/function(_na13){_inherits(Au,_na13);var _super79=_createSuper(Au);function Au(){var _this398;_classCallCheck(this,Au);_this398=_super79.call(this),_this398["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this398.bp();}),_this398["#style-picker"].addEventListener("change",function(){return _this398.io();});return _this398;}_createClass(Au,[{key:"tn",value:function tn(){this.vp(),this.kp();}},{key:"bp",value:function bp(){this.Qs.setConfig("bx-ellipsesettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"io",value:function io(){this.Qs.setConfig("bx-ellipsesettings:style",this["#style-picker"].value);}},{key:"vp",value:function vp(){this["#drawing-mode-buttons"].value=this.Qs.getConfig("bx-ellipsesettings:drawingMode","planar");}},{key:"kp",value:function kp(){this["#style-picker"].value=this.Qs.getConfig("bx-ellipsesettings:style");}}]);return Au;}(na);_defineProperty(Au,"_shadowTemplate",Yi(_templateObject221()));_defineProperty(Au,"_shadowStyleSheet",Wi(_templateObject222()));customElements.define("bx-ellipsesettings",Au);var $u=Number.MAX_SAFE_INTEGER;var Iu=/*#__PURE__*/function(_na14){_inherits(Iu,_na14);var _super80=_createSuper(Iu);function Iu(){var _this399;_classCallCheck(this,Iu);_this399=_super80.call(this),_this399["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this399.bp();}),_this399["#r1-grippie"].addEventListener("pointerdown",function(t){return _this399.Il(t);}),_this399["#r1-box"].addEventListener("changestart",function(t){return _this399._p(t);}),_this399["#style-picker"].addEventListener("change",function(){return _this399.io();});return _this399;}_createClass(Iu,[{key:"tn",value:function tn(){this.gp=this.Qs.getConfig("bx-ringsettings:drawingMode","polar"),this.Cp=this.Qs.getConfig("bx-ringsettings:r1",.6),this.wp=this.Qs.getConfig("bx-ringsettings:style"),this.vp(),this.yp(),this.kp();}},{key:"bp",value:function bp(){this.Qs.setConfig("bx-ringsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"Il",value:function Il(t){var _this400=this;var e,_i815,s=jt(this["#geometry-preview-shape"]).inverse(),n=ul(this["#geometry-preview-shape"]),_n$values=_slicedToArray(n.values,6),o=_n$values[0],l=_n$values[1],h=_n$values[2],a=_n$values[3],r=_n$values[4],d=_n$values[5],c=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,p=new DOMPoint(o,l),u=p,x=new DOMPoint(o,l-$u);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_Oe43=Oe(u,x,n,!1),_Oe44=_slicedToArray(_Oe43,1),o=_Oe44[0],l=De(p,o),h=K(l/c,0,1,2);_this400.Cp=h,_this400.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i815=function i(){_this400["#geometry-preview"].removeEventListener("pointermove",e),_this400["#geometry-preview"].removeEventListener("lostpointercapture",_i815),_this400.Qs.setConfig("bx-ringsettings:r1",_this400.Cp);});}},{key:"_p",value:function _p(){var _this401=this;var t,_e825;this["#r1-box"].addEventListener("change",t=function t(_t1105){_this401.Cp=K(_t1105.target.value/100,0,1,2),_this401.yp();}),this["#r1-box"].addEventListener("changeend",_e825=function e(){_this401["#r1-box"].removeEventListener("change",t),_this401["#r1-box"].removeEventListener("changeend",_e825),_this401.Qs.setConfig("bx-ringsettings:r1",_this401.Cp);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-ringsettings:style",this["#style-picker"].value);}},{key:"vp",value:function vp(){this["#drawing-mode-buttons"].value=this.gp;}},{key:"yp",value:function yp(){this.no(),this.Sp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.width/2,e=this["#geometry-preview"].viewBox.baseVal.height/2,i=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,s=this.Cp*i;xl(this["#geometry-preview-shape"],{type:"ring",values:[t,e,s,s,i,i]}),this["#r1-grippie"].cx.baseVal.value=t,this["#r1-grippie"].cy.baseVal.value=e-s;}},{key:"Sp",value:function Sp(){var t=this["#geometry-preview"].viewBox.baseVal.height-10,e=(this.Cp,K(100*this.Cp,0,100,0));this["#r1-slider"].value=e,this["#r1-input"].value=e;}},{key:"kp",value:function kp(){this["#style-picker"].value=this.wp;}}]);return Iu;}(na);_defineProperty(Iu,"_shadowTemplate",Yi(_templateObject223()));_defineProperty(Iu,"_shadowStyleSheet",Wi(_templateObject224()));customElements.define("bx-ringsettings",Iu);var Lu=Number.MAX_SAFE_INTEGER;var Bu=/*#__PURE__*/function(_na15){_inherits(Bu,_na15);var _super81=_createSuper(Bu);function Bu(){var _this402;_classCallCheck(this,Bu);_this402=_super81.call(this),_this402["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this402.bp();}),_this402["#r1-grippie"].addEventListener("pointerdown",function(t){return _this402.Il(t);}),_this402["#r1-box"].addEventListener("changestart",function(t){return _this402._p(t);}),_this402["#style-picker"].addEventListener("change",function(){return _this402.io();});return _this402;}_createClass(Bu,[{key:"tn",value:function tn(){this.gp=this.Qs.getConfig("bx-piesettings:drawingMode","polar"),this.Cp=this.Qs.getConfig("bx-piesettings:r1",0),this.wp=this.Qs.getConfig("bx-piesettings:style"),this.vp(),this.yp(),this.kp();}},{key:"bp",value:function bp(){this.Qs.setConfig("bx-piesettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"Il",value:function Il(t){var _this403=this;var e,_i816,s=jt(this["#geometry-preview-shape"]).inverse(),n=ul(this["#geometry-preview-shape"]),_n$values2=_slicedToArray(n.values,6),o=_n$values2[0],l=_n$values2[1],h=_n$values2[2],a=_n$values2[3],r=_n$values2[4],d=_n$values2[5],c=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,p=new DOMPoint(o,l),u=p,x=new DOMPoint(o,l-Lu);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_Oe45=Oe(u,x,n,!1),_Oe46=_slicedToArray(_Oe45,1),o=_Oe46[0],l=De(p,o),h=K(l/c,0,1,2);_this403.Cp=h,_this403.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i816=function i(){_this403["#geometry-preview"].removeEventListener("pointermove",e),_this403["#geometry-preview"].removeEventListener("lostpointercapture",_i816),_this403.Qs.setConfig("bx-piesettings:r1",_this403.Cp);});}},{key:"_p",value:function _p(){var _this404=this;var t,_e826;this["#r1-box"].addEventListener("change",t=function t(_t1106){_this404.Cp=K(_t1106.target.value/100,0,1,2),_this404.yp();}),this["#r1-box"].addEventListener("changeend",_e826=function e(){_this404["#r1-box"].removeEventListener("change",t),_this404["#r1-box"].removeEventListener("changeend",_e826),_this404.Qs.setConfig("bx-piesettings:r1",_this404.Cp);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-piesettings:style",this["#style-picker"].value);}},{key:"vp",value:function vp(){this["#drawing-mode-buttons"].value=this.gp;}},{key:"yp",value:function yp(){this.no(),this.Sp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.width/2,e=this["#geometry-preview"].viewBox.baseVal.height/2,i=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,s=this.Cp*i;xl(this["#geometry-preview-shape"],{type:"pie",values:[t,e,s,i,90,360]}),this["#r1-grippie"].cx.baseVal.value=t,this["#r1-grippie"].cy.baseVal.value=e-s;}},{key:"Sp",value:function Sp(){var t=this["#geometry-preview"].viewBox.baseVal.height-10,e=(this.Cp,K(100*this.Cp,0,100,0));this["#r1-slider"].value=e,this["#r1-input"].value=e;}},{key:"kp",value:function kp(){this["#style-picker"].value=this.wp;}}]);return Bu;}(na);_defineProperty(Bu,"_shadowTemplate",Yi(_templateObject225()));_defineProperty(Bu,"_shadowStyleSheet",Wi(_templateObject226()));customElements.define("bx-piesettings",Bu);var Ru=Math.abs,Gu=Math.sin,Fu=Math.cos;var Uu=/*#__PURE__*/function(_na16){_inherits(Uu,_na16);var _super82=_createSuper(Uu);function Uu(){var _this405;_classCallCheck(this,Uu);_this405=_super82.call(this),_this405["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this405.bp();}),_this405["#arch-grippie"].addEventListener("pointerdown",function(t){return _this405.yl(t);}),_this405["#hollow-grippie"].addEventListener("pointerdown",function(t){return _this405.kl(t);}),_this405["#arch-box"].addEventListener("changestart",function(t){return _this405.Mp(t);}),_this405["#hollow-box"].addEventListener("changestart",function(t){return _this405.Pp(t);}),_this405["#style-picker"].addEventListener("change",function(){return _this405.io();});return _this405;}_createClass(Uu,[{key:"tn",value:function tn(){this.gp=this.Qs.getConfig("bx-crescentsettings:drawingMode","polar"),this.Dp=this.Qs.getConfig("bx-crescentsettings:arch",300),this.zp=this.Qs.getConfig("bx-crescentsettings:hollow",.7),this.wp=this.Qs.getConfig("bx-crescentsettings:style"),this.vp(),this.yp(),this.kp();}},{key:"yl",value:function yl(t){var _this406=this;var e,_i817,s=ul(this["#geometry-preview-shape"]),n=jt(this["#geometry-preview-shape"]).inverse(),_s$values=_slicedToArray(s.values,5),o=_s$values[0],l=_s$values[1],h=_s$values[2],a=_s$values[3],r=_s$values[4];this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),i=We(e,new DOMPoint(o,l),h),s=new DOMPoint(o,l),a=new DOMPoint(o+h,l),r=Ie(s,i,a);_this406.Dp=r<0&&r>=-90?1:r<-90&&r>=-180?359:K(Ru(2*r),1,359,0),_this406.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i817=function i(){_this406["#geometry-preview"].removeEventListener("pointermove",e),_this406["#geometry-preview"].removeEventListener("lostpointercapture",_i817),_this406.Qs.setConfig("bx-crescentsettings:arch",_this406.Dp);});}},{key:"kl",value:function kl(t){var _this407=this;var e,_i818,s=ul(this["#geometry-preview-shape"]),n=jt(this["#geometry-preview-shape"]).inverse(),_s$values2=_slicedToArray(s.values,5),o=_s$values2[0],l=_s$values2[1],h=_s$values2[2],a=_s$values2[3],r=_s$values2[4],d=new DOMPoint(o-h,l),c=new DOMPoint(o+h,l);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),_Oe47=Oe(d,c,e,!1),_Oe48=_slicedToArray(_Oe47,1),i=_Oe48[0];r=(i.x-d.x)/(2*h),r=K(r,0,1,4),_this407.zp=r,_this407.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i818=function i(){_this407["#geometry-preview"].removeEventListener("pointermove",e),_this407["#geometry-preview"].removeEventListener("lostpointercapture",_i818),_this407.Qs.setConfig("bx-crescentsettings:hollow",_this407.zp);});}},{key:"Mp",value:function Mp(){var _this408=this;var t,_e827;this["#arch-box"].addEventListener("change",t=function t(_t1107){_this408.Dp=K(_t1107.target.value,1,359,0),_this408.yp();}),this["#arch-box"].addEventListener("changeend",_e827=function e(){_this408["#arch-box"].removeEventListener("change",t),_this408["#arch-box"].removeEventListener("changeend",_e827),_this408.Qs.setConfig("bx-crescentsettings:arch",_this408.Dp);});}},{key:"Pp",value:function Pp(){var _this409=this;var t,_e828;this["#hollow-box"].addEventListener("change",t=function t(_t1108){_this409.zp=K(_t1108.target.value/100,0,1,2),_this409.yp();}),this["#hollow-box"].addEventListener("changeend",_e828=function e(){_this409["#hollow-box"].removeEventListener("change",t),_this409["#hollow-box"].removeEventListener("changeend",_e828),_this409.Qs.setConfig("bx-crescentsettings:hollow",_this409.zp);});}},{key:"bp",value:function bp(){this.Qs.setConfig("bx-crescentsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"io",value:function io(){this.Qs.setConfig("bx-crescentsettings:style",this["#style-picker"].value);}},{key:"vp",value:function vp(){this["#drawing-mode-buttons"].value=this.gp;}},{key:"yp",value:function yp(){this.no(),this.Sp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.width/2,e=this["#geometry-preview"].viewBox.baseVal.height/2,i=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,s=this.Dp,n=this.zp;xl(this["#geometry-preview-shape"],{type:"crescent",values:[t,e,i,s,n]});{var _n350=Le(90-s/2),_o275=Ge(_n350);this["#arch-grippie"].cx.baseVal.value=t+i*Gu(_o275),this["#arch-grippie"].cy.baseVal.value=e+i*-Fu(_o275);}this["#hollow-grippie"].cx.baseVal.value=t-i+2*i*n,this["#hollow-grippie"].cy.baseVal.value=e;}},{key:"Sp",value:function Sp(){var t=K(this.Dp,1,359,0),e=K(100*this.zp,0,100,0);this["#arch-slider"].value=t,this["#arch-input"].value=t,this["#hollow-slider"].value=e,this["#hollow-input"].value=e;}},{key:"kp",value:function kp(){this["#style-picker"].value=this.wp;}}]);return Uu;}(na);_defineProperty(Uu,"_shadowTemplate",Yi(_templateObject227()));_defineProperty(Uu,"_shadowStyleSheet",Wi(_templateObject228()));customElements.define("bx-crescentsettings",Uu);var Nu=Math.abs;var Vu=/*#__PURE__*/function(_na17){_inherits(Vu,_na17);var _super83=_createSuper(Vu);function Vu(){var _this410;_classCallCheck(this,Vu);_this410=_super83.call(this),_this410["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this410.bp();}),_this410["#shift-grippie"].addEventListener("pointerdown",function(t){return _this410.Cl(t);}),_this410["#corner-grippie"].addEventListener("pointerdown",function(t){return _this410.Ml(t);}),_this410["#shift-box"].addEventListener("changestart",function(t){return _this410.Op(t);}),_this410["#corner-box"].addEventListener("changestart",function(t){return _this410.Ep(t);}),_this410["#style-picker"].addEventListener("change",function(){return _this410.io();});return _this410;}_createClass(Vu,[{key:"tn",value:function tn(){this.gp=this.Qs.getConfig("bx-trianglesettings:drawingMode","polar"),this.un=this.Qs.getConfig("bx-trianglesettings:shift",.5),this.Tp=this.Qs.getConfig("bx-trianglesettings:corner",0),this.wp=this.Qs.getConfig("bx-trianglesettings:style"),this.vp(),this.yp(),this.kp();}},{key:"Cl",value:function Cl(t){var _this411=this;var e,_i819,s=ul(this["#geometry-preview-shape"]),n=jt(this["#geometry-preview-shape"]).inverse(),_s$values3=_slicedToArray(s.values,6),o=_s$values3[0],l=_s$values3[1],h=_s$values3[2],a=_s$values3[3],r=_s$values3[4],d=_s$values3[5],c=new DOMPoint(o,l),p=new DOMPoint(o+h,l);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),_Oe49=Oe(c,p,e,!1),_Oe50=_slicedToArray(_Oe49,1),i=_Oe50[0];r=(i.x-c.x)/h,r=K(r,0,1,4),_this411.Qs.modKeys.shift&&(r=[0,.5,1].reduce(function(t,e){return Nu(e-r)<Nu(t-r)?e:t;})),_this411.un=r,_this411.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i819=function i(){_this411["#geometry-preview"].removeEventListener("pointermove",e),_this411["#geometry-preview"].removeEventListener("lostpointercapture",_i819),_this411.Qs.setConfig("bx-trianglesettings:shift",_this411.un);});}},{key:"Ml",value:function Ml(t){var _this412=this;var e,_i820,s=ul(this["#geometry-preview-shape"]),n=jt(this["#geometry-preview-shape"]).inverse(),_s$values4=_slicedToArray(s.values,6),o=_s$values4[0],l=_s$values4[1],h=_s$values4[2],a=_s$values4[3],r=_s$values4[4],d=_s$values4[5],c=new DOMPoint(o+h*r,l),p=new DOMPoint(o+h,l+a),u=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),x=new DOMPoint(u.x,u.y);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);x=e.matrixTransform(n);var _Oe51=Oe(p,c,x,!1),_Oe52=_slicedToArray(_Oe51,1),i=_Oe52[0],s=new X(p,i),o=new X(p,c),l=s.length/o.length;_this412.Tp=K(l,0,.5,4),_this412.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i820=function i(){_this412["#geometry-preview"].removeEventListener("pointermove",e),_this412["#geometry-preview"].removeEventListener("lostpointercapture",_i820),_this412.Qs.setConfig("bx-trianglesettings:corner",_this412.Tp);});}},{key:"Op",value:function Op(){var _this413=this;var t,_e829;this["#shift-box"].addEventListener("change",t=function t(_t1109){_this413.un=K((_t1109.target.value+50)/100,0,1,2),_this413.yp();}),this["#shift-box"].addEventListener("changeend",_e829=function e(){_this413["#shift-box"].removeEventListener("change",t),_this413["#shift-box"].removeEventListener("changeend",_e829),_this413.Qs.setConfig("bx-trianglesettings:shift",_this413.un);});}},{key:"Ep",value:function Ep(){var _this414=this;var t,_e830;this["#corner-box"].addEventListener("change",t=function t(_t1110){_this414.Tp=K(_t1110.target.value/200,0,1,2),_this414.yp();}),this["#corner-box"].addEventListener("changeend",_e830=function e(){_this414["#corner-box"].removeEventListener("change",t),_this414["#corner-box"].removeEventListener("changeend",_e830),_this414.Qs.setConfig("bx-trianglesettings:corner",_this414.Tp);});}},{key:"bp",value:function bp(){this.Qs.setConfig("bx-trianglesettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"io",value:function io(){this.Qs.setConfig("bx-trianglesettings:style",this["#style-picker"].value);}},{key:"vp",value:function vp(){this["#drawing-mode-buttons"].value=this.gp;}},{key:"yp",value:function yp(){this.no(),this.Sp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.height-10,e=t,i=this["#geometry-preview"].viewBox.baseVal.width/2-e/2,s=this.un,n=this.Tp;xl(this["#geometry-preview-shape"],{type:"triangle",values:[i,5,e,t,s,n]});{var _o276=new DOMPoint(i+e*s,5),_l243=new DOMPoint(i+e,5+t),_h187=Ee(_l243,_o276,n);this["#corner-grippie"].cx.baseVal.value=_h187.x,this["#corner-grippie"].cy.baseVal.value=_h187.y;}{var _t1111=new DOMPoint(i+e*s,5);this["#shift-grippie"].setAttribute("cx",_t1111.x),this["#shift-grippie"].setAttribute("cy",_t1111.y);}}},{key:"Sp",value:function Sp(){var t=K(200*this.Tp,0,100,0),e=K(100*(this.un-.5),-50,50,0);this["#corner-slider"].value=t,this["#corner-input"].value=t,this["#shift-slider"].value=e,this["#shift-input"].value=e;}},{key:"kp",value:function kp(){this["#style-picker"].value=this.wp;}}]);return Vu;}(na);_defineProperty(Vu,"_shadowTemplate",Yi(_templateObject229()));_defineProperty(Vu,"_shadowStyleSheet",Wi(_templateObject230()));customElements.define("bx-trianglesettings",Vu);var ju=/*#__PURE__*/function(_na18){_inherits(ju,_na18);var _super84=_createSuper(ju);function ju(){var _this415;_classCallCheck(this,ju);_this415=_super84.call(this),_this415["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this415.bp();}),_this415["#corner-grippie"].addEventListener("pointerdown",function(t){return _this415.Ml(t);}),_this415["#arms-box"].addEventListener("changestart",function(t){return _this415.Ap(t);}),_this415["#corner-box"].addEventListener("changestart",function(t){return _this415.Ep(t);}),_this415["#style-picker"].addEventListener("change",function(){return _this415.io();});return _this415;}_createClass(ju,[{key:"tn",value:function tn(){this.gp=this.Qs.getConfig("bx-ngonsettings:drawingMode","polar"),this.$p=this.Qs.getConfig("bx-ngonsettings:arms",5),this.Tp=this.Qs.getConfig("bx-ngonsettings:corner",0),this.wp=this.Qs.getConfig("bx-ngonsettings:style"),this.vp(),this.yp(),this.kp();}},{key:"bp",value:function bp(){this.Qs.setConfig("bx-ngonsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"Ml",value:function Ml(t){var _this416=this;var e,_i821,s=ul(this["#geometry-preview-shape"]),n=jt(this["#geometry-preview-shape"]).inverse(),_s$values5=_slicedToArray(s.values,6),o=_s$values5[0],l=_s$values5[1],h=_s$values5[2],a=_s$values5[3],r=_s$values5[4],d=_s$values5[5],c=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),p=new DOMPoint(c.x,c.y),u=Dl(0,o,l,h,a,r),x=Dl(1,o,l,h,a,r);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);p=e.matrixTransform(n);var _Oe53=Oe(u,x,p,!1),_Oe54=_slicedToArray(_Oe53,1),i=_Oe54[0],s=new X(u,i),o=new X(u,x),l=s.length/o.length;_this416.Tp=K(l,0,.5,2),_this416.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i821=function i(){_this416["#geometry-preview"].removeEventListener("pointermove",e),_this416["#geometry-preview"].removeEventListener("lostpointercapture",_i821),_this416.Qs.setConfig("bx-ngonsettings:corner",_this416.Tp);});}},{key:"Ap",value:function Ap(){var _this417=this;var t,_e831;this["#arms-box"].addEventListener("change",t=function t(_t1112){_this417.$p=K(_t1112.target.value,4,Infinity,0),_this417.yp();}),this["#arms-box"].addEventListener("changeend",_e831=function e(){_this417["#arms-box"].removeEventListener("change",t),_this417["#arms-box"].removeEventListener("changeend",_e831),_this417.Qs.setConfig("bx-ngonsettings:arms",_this417.$p);});}},{key:"Ep",value:function Ep(){var _this418=this;var t,_e832;this["#corner-box"].addEventListener("change",t=function t(_t1113){_this418.Tp=K(_t1113.target.value/200,0,1,2),_this418.yp();}),this["#corner-box"].addEventListener("changeend",_e832=function e(){_this418["#corner-box"].removeEventListener("change",t),_this418["#corner-box"].removeEventListener("changeend",_e832),_this418.Qs.setConfig("bx-ngonsettings:corner",_this418.Tp);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-ngonsettings:style",this["#style-picker"].value);}},{key:"vp",value:function vp(){this["#drawing-mode-buttons"].value=this.gp;}},{key:"yp",value:function yp(){this.no(),this.Sp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.width/2,e=this["#geometry-preview"].viewBox.baseVal.height/2,i=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,s=i;xl(this["#geometry-preview-shape"],{type:"n-gon",values:[t,e,i,s,this.$p,this.Tp]});{var _n351=Dl(0,t,e,i,s,this.$p),_o277=Dl(1,t,e,i,s,this.$p),_l244=Ee(_n351,_o277,this.Tp);this["#corner-grippie"].cx.baseVal.value=_l244.x,this["#corner-grippie"].cy.baseVal.value=_l244.y;}}},{key:"Sp",value:function Sp(){var t=Z(200*this.Tp,0);this["#arms-slider"].value=this.$p,this["#arms-input"].value=this.$p,this["#corner-slider"].value=t,this["#corner-input"].value=t;}},{key:"kp",value:function kp(){this["#style-picker"].value=this.wp;}}]);return ju;}(na);_defineProperty(ju,"_shadowTemplate",Yi(_templateObject231()));_defineProperty(ju,"_shadowStyleSheet",Wi(_templateObject232()));customElements.define("bx-ngonsettings",ju);var Hu=Math.sin,Yu=Math.cos,Wu=Math.PI;var qu=/*#__PURE__*/function(_na19){_inherits(qu,_na19);var _super85=_createSuper(qu);function qu(){var _this419;_classCallCheck(this,qu);_this419=_super85.call(this),_this419["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this419.bp();}),_this419["#depth-grippie"].addEventListener("pointerdown",function(t){return _this419.Tl(t);}),_this419["#depth-box"].addEventListener("changestart",function(t){return _this419.Ip(t);}),_this419["#arms-box"].addEventListener("changestart",function(t){return _this419.Ap(t);}),_this419["#style-picker"].addEventListener("change",function(){return _this419.io();});return _this419;}_createClass(qu,[{key:"tn",value:function tn(){this.gp=this.Qs.getConfig("bx-starsettings:drawingMode","polar"),this.Lp=this.Qs.getConfig("bx-starsettings:depth",.4),this.$p=this.Qs.getConfig("bx-starsettings:arms",5),this.wp=this.Qs.getConfig("bx-starsettings:style"),this.vp(),this.yp(),this.kp();}},{key:"bp",value:function bp(){this.Qs.setConfig("bx-starsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"Tl",value:function Tl(t){var _this420=this;var e,_i822,s=jt(this["#geometry-preview-shape"]).inverse(),n=ul(this["#geometry-preview-shape"]),_n$values3=_slicedToArray(n.values,6),o=_n$values3[0],l=_n$values3[1],h=_n$values3[2],a=_n$values3[3],r=_n$values3[4],d=_n$values3[5],c=new DOMPoint(o,l);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(s),i=2*Wu*(1/d/2)-Wu/2,n=c,r=new DOMPoint(h*Yu(i)+o,a*Hu(i)+l),_Oe55=Oe(n,r,e,!1),_Oe56=_slicedToArray(_Oe55,1),p=_Oe56[0],u=new X(n,p).length/new X(n,r).length;_this420.Lp=K(u,0,1,2),_this420.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i822=function i(){_this420["#geometry-preview"].removeEventListener("pointermove",e),_this420["#geometry-preview"].removeEventListener("lostpointercapture",_i822),_this420.Qs.setConfig("bx-starsettings:depth",_this420.Lp);});}},{key:"Ip",value:function Ip(){var _this421=this;var t,_e833;this["#depth-box"].addEventListener("change",t=function t(_t1114){_this421.Lp=K(_t1114.target.value/100,0,1,2),_this421.yp();}),this["#depth-box"].addEventListener("changeend",_e833=function e(){_this421["#depth-box"].removeEventListener("change",t),_this421["#depth-box"].removeEventListener("changeend",_e833),_this421.Qs.setConfig("bx-starsettings:depth",_this421.Lp);});}},{key:"Ap",value:function Ap(){var _this422=this;var t,_e834;this["#arms-box"].addEventListener("change",t=function t(_t1115){_this422.$p=K(_t1115.target.value,4,Infinity,0),_this422.yp();}),this["#arms-box"].addEventListener("changeend",_e834=function e(){_this422["#arms-box"].removeEventListener("change",t),_this422["#arms-box"].removeEventListener("changeend",_e834),_this422.Qs.setConfig("bx-starsettings:arms",_this422.$p);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-starsettings:style",this["#style-picker"].value);}},{key:"vp",value:function vp(){this["#drawing-mode-buttons"].value=this.gp;}},{key:"yp",value:function yp(){this.no(),this.Sp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.width/2,e=this["#geometry-preview"].viewBox.baseVal.height/2,i=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,s=i,n=zl(1,t,e,i,s,this.Lp,this.$p);xl(this["#geometry-preview-shape"],{type:"star",values:[t,e,i,s,this.Lp,this.$p]}),this["#depth-grippie"].cx.baseVal.value=n.x,this["#depth-grippie"].cy.baseVal.value=n.y;}},{key:"Sp",value:function Sp(){var t=Z(100*this.Lp,0);this["#depth-slider"].value=t,this["#depth-input"].value=t,this["#arms-slider"].value=this.$p,this["#arms-input"].value=this.$p;}},{key:"kp",value:function kp(){this["#style-picker"].value=this.wp;}}]);return qu;}(na);_defineProperty(qu,"_shadowTemplate",Yi(_templateObject233()));_defineProperty(qu,"_shadowStyleSheet",Wi(_templateObject234()));customElements.define("bx-starsettings",qu);var Xu=Math.sin,Zu=Math.cos,Ku=Math.tan,Qu=Number.MAX_SAFE_INTEGER;var Ju=/*#__PURE__*/function(_na20){_inherits(Ju,_na20);var _super86=_createSuper(Ju);function Ju(){var _this423;_classCallCheck(this,Ju);_this423=_super86.call(this),_this423["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this423.bp();}),_this423["#r1-grippie"].addEventListener("pointerdown",function(t){return _this423.Il(t);}),_this423["#r2-grippie"].addEventListener("pointerdown",function(t){return _this423.Ll(t);}),_this423["#r3-grippie"].addEventListener("pointerdown",function(t){return _this423.Bl(t);}),_this423["#splay-grippie"].addEventListener("pointerdown",function(t){return _this423.Gl(t);}),_this423["#r1-box"].addEventListener("changestart",function(t){return _this423._p(t);}),_this423["#r2-box"].addEventListener("changestart",function(t){return _this423.Bp(t);}),_this423["#r3-box"].addEventListener("changestart",function(t){return _this423.Rp(t);}),_this423["#splay-box"].addEventListener("changestart",function(t){return _this423.Gp(t);}),_this423["#teeth-box"].addEventListener("changestart",function(t){return _this423.Fp(t);}),_this423["#style-picker"].addEventListener("change",function(){return _this423.io();});return _this423;}_createClass(Ju,[{key:"tn",value:function tn(){this.gp=this.Qs.getConfig("bx-cogsettings:drawingMode","polar"),this.Cp=this.Qs.getConfig("bx-cogsettings:r1",.3),this.Up=this.Qs.getConfig("bx-cogsettings:r2",.65),this.Np=this.Qs.getConfig("bx-cogsettings:r3",1),this.Vp=this.Qs.getConfig("bx-cogsettings:splay",.38),this.jp=this.Qs.getConfig("bx-cogsettings:teeth",8),this.wp=this.Qs.getConfig("bx-cogsettings:style"),this.vp(),this.yp(),this.kp();}},{key:"bp",value:function bp(){this.Qs.setConfig("bx-cogsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"Il",value:function Il(t){var _this424=this;var e,_i823,s=jt(this["#geometry-preview-shape"]).inverse(),n=ul(this["#geometry-preview-shape"]),_n$values4=_slicedToArray(n.values,7),o=_n$values4[0],l=_n$values4[1],h=_n$values4[2],a=_n$values4[3],r=_n$values4[4],d=_n$values4[5],c=_n$values4[6],p=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,u=new DOMMatrix().translateSelf(o,l).rotateSelf(360/c/2).translateSelf(-o,-l),x=new DOMPoint(o,l),b=x,m=new DOMPoint(o,l-Qu).matrixTransform(u);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_Oe57=Oe(b,m,n,!1),_Oe58=_slicedToArray(_Oe57,1),o=_Oe58[0],l=De(x,o),h=K(l/p,0,1,2);_this424.Cp=h,_this424.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i823=function i(){_this424["#geometry-preview"].removeEventListener("pointermove",e),_this424["#geometry-preview"].removeEventListener("lostpointercapture",_i823),_this424.Qs.setConfig("bx-cogsettings:r1",_this424.Cp);});}},{key:"Ll",value:function Ll(t){var _this425=this;var e,_i824,s=jt(this["#geometry-preview-shape"]).inverse(),n=ul(this["#geometry-preview-shape"]),_n$values5=_slicedToArray(n.values,7),o=_n$values5[0],l=_n$values5[1],h=_n$values5[2],a=_n$values5[3],r=_n$values5[4],d=_n$values5[5],c=_n$values5[6],p=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,u=new DOMMatrix().translateSelf(o,l).rotateSelf(360/c/2).translateSelf(-o,-l),x=new DOMPoint(o,l),b=x,m=new DOMPoint(o,l-Qu).matrixTransform(u);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_Oe59=Oe(b,m,n,!1),_Oe60=_slicedToArray(_Oe59,1),o=_Oe60[0],l=De(x,o),h=K(l/p,0,1,2);_this425.Up=h,_this425.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i824=function i(){_this425["#geometry-preview"].removeEventListener("pointermove",e),_this425["#geometry-preview"].removeEventListener("lostpointercapture",_i824),_this425.Qs.setConfig("bx-cogsettings:r2",_this425.Up);});}},{key:"Bl",value:function Bl(t){var _this426=this;var e,_i825,s=jt(this["#geometry-preview-shape"]).inverse(),n=ul(this["#geometry-preview-shape"]),_n$values6=_slicedToArray(n.values,5),o=_n$values6[0],l=_n$values6[1],h=_n$values6[2],a=_n$values6[3],r=_n$values6[4],d=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,c=new DOMPoint(o,l),p=c,u=new DOMPoint(o,l-Qu);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_Oe61=Oe(p,u,n,!1),_Oe62=_slicedToArray(_Oe61,1),o=_Oe62[0],l=De(c,o),h=K(l/d,0,1,2);_this426.Np=h,_this426.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i825=function i(){_this426["#geometry-preview"].removeEventListener("pointermove",e),_this426["#geometry-preview"].removeEventListener("lostpointercapture",_i825),_this426.Qs.setConfig("bx-cogsettings:r3",_this426.Np);});}},{key:"Gl",value:function Gl(t){var _this427=this;var e,_i826,_ul$values43=_slicedToArray(ul(this["#geometry-preview-shape"]).values,7),s=_ul$values43[0],n=_ul$values43[1],o=_ul$values43[2],l=_ul$values43[3],h=_ul$values43[4],a=_ul$values43[5],r=_ul$values43[6],d=jt(this["#geometry-preview-shape"]).inverse(),c=function c(t){var e=360/r,i=e/4,o=Ku(Ge(i-t*i))*h,l=Ge(e-90);return new DOMPoint(s+h*Zu(l)-Xu(l)*o,n+h*Xu(l)+Zu(l)*o);},p=c(0),u=c(1);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,s=new DOMPoint(e,i).matrixTransform(d),_Oe63=Oe(p,u,s,!1),_Oe64=_slicedToArray(_Oe63,1),n=_Oe64[0],o=De(p,n)/De(p,u);_this427.Vp=K(o,0,1,3),_this427.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i826=function i(){_this427["#geometry-preview"].removeEventListener("pointermove",e),_this427["#geometry-preview"].removeEventListener("lostpointercapture",_i826),_this427.Qs.setConfig("bx-cogsettings:splay",_this427.Vp);});}},{key:"_p",value:function _p(){var _this428=this;var t,_e835;this["#r1-box"].addEventListener("change",t=function t(_t1116){_this428.Cp=K(_t1116.target.value/100,0,1,2),_this428.yp();}),this["#r1-box"].addEventListener("changeend",_e835=function e(){_this428["#r1-box"].removeEventListener("change",t),_this428["#r1-box"].removeEventListener("changeend",_e835),_this428.Qs.setConfig("bx-cogsettings:r1",_this428.Cp);});}},{key:"Bp",value:function Bp(){var _this429=this;var t,_e836;this["#r2-box"].addEventListener("change",t=function t(_t1117){_this429.Up=K(_t1117.target.value/100,0,1,2),_this429.yp();}),this["#r2-box"].addEventListener("changeend",_e836=function e(){_this429["#r2-box"].removeEventListener("change",t),_this429["#r2-box"].removeEventListener("changeend",_e836),_this429.Qs.setConfig("bx-cogsettings:r2",_this429.Up);});}},{key:"Rp",value:function Rp(){var _this430=this;var t,_e837;this["#r3-box"].addEventListener("change",t=function t(_t1118){_this430.Np=K(_t1118.target.value/100,0,1,2),_this430.yp();}),this["#r3-box"].addEventListener("changeend",_e837=function e(){_this430["#r3-box"].removeEventListener("change",t),_this430["#r3-box"].removeEventListener("changeend",_e837),_this430.Qs.setConfig("bx-cogsettings:r3",_this430.Np);});}},{key:"Gp",value:function Gp(){var _this431=this;var t,_e838;this["#splay-box"].addEventListener("change",t=function t(_t1119){_this431.Vp=K(_t1119.target.value/100,0,1,3),_this431.yp();}),this["#splay-box"].addEventListener("changeend",_e838=function e(){_this431["#splay-box"].removeEventListener("change",t),_this431["#splay-box"].removeEventListener("changeend",_e838),_this431.Qs.setConfig("bx-cogsettings:splay",_this431.Vp);});}},{key:"Fp",value:function Fp(){var _this432=this;var t,_e839;this["#teeth-box"].addEventListener("change",t=function t(_t1120){_this432.jp=K(_t1120.target.value,4,Infinity,0),_this432.yp();}),this["#teeth-box"].addEventListener("changeend",_e839=function e(){_this432["#teeth-box"].removeEventListener("change",t),_this432["#teeth-box"].removeEventListener("changeend",_e839),_this432.Qs.setConfig("bx-cogsettings:teeth",_this432.jp);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-cogsettings:style",this["#style-picker"].value);}},{key:"vp",value:function vp(){this["#drawing-mode-buttons"].value=this.gp;}},{key:"yp",value:function yp(){this.no(),this.Sp();}},{key:"no",value:function no(){var t=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,e=this["#geometry-preview"].viewBox.baseVal.width/2,i=this["#geometry-preview"].viewBox.baseVal.height/2,s=this.Cp*t,n=this.Up*t,o=this.Np*t;xl(this["#geometry-preview-shape"],{type:"cog",values:[e,i,s,n,o,this.Vp,this.jp]});{var _t1121=360/this.jp,_s498=_t1121/4,_n352=Ku(Ge(_s498-this.Vp*_s498))*o,_l245=Ge(_t1121-90);this["#splay-grippie"].cx.baseVal.value=e+o*Zu(_l245)-Xu(_l245)*_n352,this["#splay-grippie"].cy.baseVal.value=i+o*Xu(_l245)+Zu(_l245)*_n352;}{var _t1122=new DOMMatrix().translate(e,i).rotate(360/this.jp/2).translate(-e,-i),_n353=new DOMPoint(e,i-s).matrixTransform(_t1122);this["#r1-grippie"].cx.baseVal.value=_n353.x,this["#r1-grippie"].cy.baseVal.value=_n353.y;}{var _t1123=new DOMMatrix().translate(e,i).rotate(360/this.jp/2).translate(-e,-i),_s499=new DOMPoint(e,i-n).matrixTransform(_t1123);this["#r2-grippie"].cx.baseVal.value=_s499.x,this["#r2-grippie"].cy.baseVal.value=_s499.y;}{var _t1124=new DOMPoint(e,i-o);this["#r3-grippie"].cx.baseVal.value=_t1124.x,this["#r3-grippie"].cy.baseVal.value=_t1124.y;}}},{key:"Sp",value:function Sp(){var t=Z(100*this.Cp,0),e=Z(100*this.Up,0),i=Z(100*this.Np,0),s=Z(100*this.Vp,0);this["#r1-slider"].value=t,this["#r1-input"].value=t,this["#r2-slider"].value=e,this["#r2-input"].value=e,this["#r3-slider"].value=i,this["#r3-input"].value=i,this["#splay-slider"].value=s,this["#splay-input"].value=s,this["#teeth-slider"].value=this.jp,this["#teeth-input"].value=this.jp;}},{key:"kp",value:function kp(){this["#style-picker"].value=this.wp;}}]);return Ju;}(na);_defineProperty(Ju,"_shadowTemplate",Yi(_templateObject235()));_defineProperty(Ju,"_shadowStyleSheet",Wi(_templateObject236()));customElements.define("bx-cogsettings",Ju);var tx=/*#__PURE__*/function(_na21){_inherits(tx,_na21);var _super87=_createSuper(tx);function tx(){var _this433;_classCallCheck(this,tx);_this433=_super87.call(this),_this433["#base-thickness-grippie"].addEventListener("pointerdown",function(t){return _this433.jl(t);}),_this433["#head-size-grippie"].addEventListener("pointerdown",function(t){return _this433.Hl(t);}),_this433["#head-inset-grippie"].addEventListener("pointerdown",function(t){return _this433.Yl(t);}),_this433["#base-thickness-box"].addEventListener("changestart",function(){return _this433.Hp();}),_this433["#head-thickness-box"].addEventListener("changestart",function(){return _this433.Yp();}),_this433["#head-length-box"].addEventListener("changestart",function(){return _this433.Wp();}),_this433["#head-inset-box"].addEventListener("changestart",function(){return _this433.qp();}),_this433["#style-picker"].addEventListener("change",function(){return _this433.io();});return _this433;}_createClass(tx,[{key:"tn",value:function tn(){this.Xp=this.Qs.getConfig("bx-arrowsettings:baseThickness",10),this.Zp=this.Qs.getConfig("bx-arrowsettings:headThickness",40),this.Kp=this.Qs.getConfig("bx-arrowsettings:headLength",40),this.Qp=this.Qs.getConfig("bx-arrowsettings:headInset",0),this.wp=this.Qs.getConfig("bx-arrowsettings:style"),this.yp(),this.kp();}},{key:"jl",value:function jl(t){var _this434=this;if(1!==t.buttons)return;var e,_i827,s=ul(this["#geometry-preview-shape"]),_s$values6=_slicedToArray(s.values,7),n=_s$values6[0],o=_s$values6[1],l=_s$values6[2],h=_s$values6[3],a=_s$values6[4],r=_s$values6[5],d=_s$values6[6],c=a,_Ol4=Ol.apply(void 0,_toConsumableArray(s.values)),p=_Ol4.maxBaseThickness;p=Z(p,0),this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(_e840){var i=_e840.clientY-t.clientY;a=c-2*i,a=K(a,1,p,0),_this434.Xp=a,_this434.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i827=function i(){_this434["#geometry-preview"].removeEventListener("pointermove",e),_this434["#geometry-preview"].removeEventListener("lostpointercapture",_i827),_this434.Qs.setConfig("bx-arrowsettings:baseThickness",a);});}},{key:"Hl",value:function Hl(t){var _this435=this;if(1!==t.buttons)return;var e,_i828,s=ul(this["#geometry-preview-shape"]),_s$values7=_slicedToArray(s.values,7),n=_s$values7[0],o=_s$values7[1],l=_s$values7[2],h=_s$values7[3],a=_s$values7[4],r=_s$values7[5],d=_s$values7[6],c=a,p=h,u=r;this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(_e841){var i=_e841.clientX-t.clientX,s=_e841.clientY-t.clientY;h=p+2*s,h=K(h,a,60,0),r=u-i,r=K(r,1,l,0);{var _Ol5=Ol(n,o,l,h,a,r,d),_t1125=_Ol5.maxBaseThickness;_t1125=Z(_t1125,0),(a>_t1125||a<c)&&(a=_t1125);}_this435.Kp=r,_this435.Zp=h,_this435.Xp=a,_this435.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i828=function i(){_this435["#geometry-preview"].removeEventListener("pointermove",e),_this435["#geometry-preview"].removeEventListener("lostpointercapture",_i828),_this435.Qs.setConfig("bx-arrowsettings:baseThickness",_this435.Xp),_this435.Qs.setConfig("bx-arrowsettings:headThickness",_this435.Zp),_this435.Qs.setConfig("bx-arrowsettings:headLength",_this435.Kp);});}},{key:"Yl",value:function Yl(t){var _this436=this;if(1!==t.buttons)return;var e,_i829,s=ul(this["#geometry-preview-shape"]),_s$values8=_slicedToArray(s.values,7),n=_s$values8[0],o=_s$values8[1],l=_s$values8[2],h=_s$values8[3],a=_s$values8[4],r=_s$values8[5],d=_s$values8[6],c=d,_Ol6=Ol.apply(void 0,_toConsumableArray(s.values)),p=_Ol6.maxHeadInset;p=Z(p,0),this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(_e842){var i=_e842.clientX-t.clientX;d=c+i,d=K(d,0,p,0),_this436.Qp=d,_this436.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i829=function i(){_this436["#geometry-preview"].removeEventListener("pointermove",e),_this436["#geometry-preview"].removeEventListener("lostpointercapture",_i829),_this436.Qs.setConfig("bx-arrowsettings:headInset",d);});}},{key:"Hp",value:function Hp(){var _this437=this;var t,_e843,i=ul(this["#geometry-preview-shape"]),_Ol7=Ol.apply(void 0,_toConsumableArray(i.values)),s=_Ol7.maxBaseThickness;s=Z(s,0),this["#base-thickness-box"].addEventListener("change",t=function t(_t1126){_this437.Xp=K(_t1126.target.value,1,s,0),_this437.yp();}),this["#base-thickness-box"].addEventListener("changeend",_e843=function e(){_this437["#base-thickness-box"].removeEventListener("change",t),_this437["#base-thickness-box"].removeEventListener("changeend",_e843),_this437.Qs.setConfig("bx-arrowsettings:baseThickness",_this437.Xp);});}},{key:"Yp",value:function Yp(){var _this438=this;var t,_e844,i=ul(this["#geometry-preview-shape"]),_Ol8=Ol.apply(void 0,_toConsumableArray(i.values)),s=_Ol8.minHeadThickness;s=Z(s,0),this["#head-thickness-box"].addEventListener("change",t=function t(_t1127){_this438.Zp=K(_t1127.target.value,s,60,0),_this438.yp();}),this["#head-thickness-box"].addEventListener("changeend",_e844=function e(){_this438["#head-thickness-box"].removeEventListener("change",t),_this438["#head-thickness-box"].removeEventListener("changeend",_e844),_this438.Qs.setConfig("bx-arrowsettings:headThickness",_this438.Zp);});}},{key:"Wp",value:function Wp(){var _this439=this;var t,_e845,i=ul(this["#geometry-preview-shape"]),_Ol9=Ol.apply(void 0,_toConsumableArray(i.values)),s=_Ol9.minHeadLength;s=Z(s,0),this["#head-length-box"].addEventListener("change",t=function t(_t1128){_this439.Kp=K(_t1128.target.value,s,136,0),_this439.yp();}),this["#head-length-box"].addEventListener("changeend",_e845=function e(){_this439["#head-length-box"].removeEventListener("change",t),_this439["#head-length-box"].removeEventListener("changeend",_e845),_this439.Qs.setConfig("bx-arrowsettings:headLength",_this439.Kp);});}},{key:"qp",value:function qp(){var _this440=this;var t,_e846,i=ul(this["#geometry-preview-shape"]),_Ol10=Ol.apply(void 0,_toConsumableArray(i.values)),s=_Ol10.maxHeadInset;s=Z(s,0),this["#head-inset-box"].addEventListener("change",t=function t(_t1129){_this440.Qp=K(_t1129.target.value,0,s,0),_this440.yp();}),this["#head-inset-box"].addEventListener("changeend",_e846=function e(){_this440["#head-inset-box"].removeEventListener("change",t),_this440["#head-inset-box"].removeEventListener("changeend",_e846),_this440.Qs.setConfig("bx-arrowsettings:headInset",_this440.Qp);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-arrowsettings:style",this["#style-picker"].value);}},{key:"yp",value:function yp(){this.no(),this.Sp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.width-10,e=this.Zp,i=this["#geometry-preview"].viewBox.baseVal.height/2-e/2,s=this.Qp;s>this.Kp&&(s=this.Kp),xl(this["#geometry-preview-shape"],{type:"arrow",values:[5,i,t,e,this.Xp,this.Kp,s]}),this["#base-thickness-grippie"].cx.baseVal.value=5+(t-this.Kp+s)/2,this["#base-thickness-grippie"].cy.baseVal.value=i+e/2-this.Xp/2,this["#head-size-grippie"].cx.baseVal.value=t-this.Kp+5,this["#head-size-grippie"].cy.baseVal.value=i+e,this["#head-inset-grippie"].cx.baseVal.value=5+t-this.Kp+s,this["#head-inset-grippie"].cy.baseVal.value=i+e/2-this.Xp/2;}},{key:"Sp",value:function Sp(){this["#base-thickness-input"].value=this.Xp,this["#base-thickness-slider"].value=this.Xp,this["#head-thickness-input"].value=this.Zp,this["#head-thickness-slider"].value=this.Zp,this["#head-length-input"].value=this.Kp,this["#head-length-slider"].value=this.Kp,this["#head-inset-input"].value=this.Qp,this["#head-inset-slider"].value=this.Qp;}},{key:"kp",value:function kp(){this["#style-picker"].value=this.wp;}}]);return tx;}(na);_defineProperty(tx,"_shadowTemplate",Yi(_templateObject237()));_defineProperty(tx,"_shadowStyleSheet",Wi(_templateObject238()));customElements.define("bx-arrowsettings",tx);var ex=Math.min,ix=Math.abs;var sx=/*#__PURE__*/function(_na22){_inherits(sx,_na22);var _super88=_createSuper(sx);function sx(){var _this441;_classCallCheck(this,sx);_this441=_super88.call(this),_this441["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this441.bp();}),_this441["#thickness-grippie"].addEventListener("pointerdown",function(t){return _this441.Jp(t);}),_this441["#shift-grippie"].addEventListener("pointerdown",function(t){return _this441.Cl(t);}),_this441["#thickness-box"].addEventListener("changestart",function(){return _this441.tu();}),_this441["#shift-box"].addEventListener("changestart",function(){return _this441.Op();}),_this441["#style-picker"].addEventListener("change",function(){return _this441.io();});return _this441;}_createClass(sx,[{key:"tn",value:function tn(){this.gp=this.Qs.getConfig("bx-crosssettings:drawingMode","polar"),this.eu=this.Qs.getConfig("bx-crosssettings:thickness",.2),this.un=this.Qs.getConfig("bx-crosssettings:shift",.5),this.wp=this.Qs.getConfig("bx-crosssettings:style"),this.vp(),this.yp(),this.kp();}},{key:"bp",value:function bp(){this.Qs.setConfig("bx-crosssettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"Jp",value:function Jp(t){var _this442=this;if(1!==t.buttons)return;var e,_i830,s=ul(this["#geometry-preview-shape"]),_s$values9=_slicedToArray(s.values,5),n=_s$values9[0],o=_s$values9[1],l=_s$values9[2],h=_s$values9[3],a=_s$values9[4],r=this["#geometry-preview"].getBoundingClientRect(),d=new DOMPoint(r.x+r.width/2,r.y+r.height*this.un),c=Z(El.apply(void 0,_toConsumableArray(s.values)).maxHorizontalArmThickness/h,2);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new X(e,d);a=ex(i.x,i.y),a=a/l*2,a=K(a,.01,c,2),_this442.eu=a,_this442.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i830=function i(){_this442["#geometry-preview"].removeEventListener("pointermove",e),_this442["#geometry-preview"].removeEventListener("lostpointercapture",_i830),_this442.Qs.setConfig("bx-crosssettings:thickness",a);});}},{key:"Cl",value:function Cl(t){var _this443=this;if(1!==t.buttons)return;var e,_i831,s=ul(this["#geometry-preview-shape"]),_s$values10=_slicedToArray(s.values,7),n=_s$values10[0],o=_s$values10[1],l=_s$values10[2],h=_s$values10[3],a=_s$values10[4],r=_s$values10[5],d=_s$values10[6],c=this["#geometry-preview"].getBoundingClientRect(),p=new DOMPoint(c.x+c.width/2,c.y+c.height/2),_El3=El.apply(void 0,_toConsumableArray(s.values)),u=_El3.minShift,x=_El3.maxShift;this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new X(p,e);d=i.y/h+.5,d=K(d,u,x,2),_this443.un=d,_this443.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i831=function i(){_this443["#geometry-preview"].removeEventListener("pointermove",e),_this443["#geometry-preview"].removeEventListener("lostpointercapture",_i831),_this443.Qs.setConfig("bx-crosssettings:shift",d);});}},{key:"tu",value:function tu(){var _this444=this;var t,_e847,i=ul(this["#geometry-preview-shape"]),_i$values=_slicedToArray(i.values,4),s=_i$values[0],n=_i$values[1],o=_i$values[2],l=_i$values[3],h=El.apply(void 0,_toConsumableArray(i.values)).maxHorizontalArmThickness;h=Z(h/l,2),this["#thickness-box"].addEventListener("change",t=function t(_t1130){var e=_t1130.target.value/100;_this444.eu=K(e,.01,h,2),_this444.yp();}),this["#thickness-box"].addEventListener("changeend",_e847=function e(){_this444["#thickness-box"].removeEventListener("change",t),_this444["#thickness-box"].removeEventListener("changeend",_e847),_this444.Qs.setConfig("bx-crosssettings:thickness",_this444.eu);});}},{key:"Op",value:function Op(){var _this445=this;var t,_e848,i=ul(this["#geometry-preview-shape"]),_i$values2=_slicedToArray(i.values,4),s=_i$values2[0],n=_i$values2[1],o=_i$values2[2],l=_i$values2[3],_El4=El.apply(void 0,_toConsumableArray(i.values)),h=_El4.minShift,a=_El4.maxShift;this["#shift-box"].addEventListener("change",t=function t(_t1131){var e=(_t1131.target.value+50)/100;_this445.un=K(e,h,a,2),_this445.yp();}),this["#shift-box"].addEventListener("changeend",_e848=function e(){_this445["#shift-box"].removeEventListener("change",t),_this445["#shift-box"].removeEventListener("changeend",_e848),_this445.Qs.setConfig("bx-crosssettings:shift",_this445.un);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-crosssettings:style",this["#style-picker"].value);}},{key:"vp",value:function vp(){this["#drawing-mode-buttons"].value=this.gp;}},{key:"yp",value:function yp(){this.no(),this.Sp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.height-10,e=t,i=this["#geometry-preview"].viewBox.baseVal.width/2-e/2,s=this["#geometry-preview"].viewBox.baseVal.height/2-t/2;xl(this["#geometry-preview-shape"],{type:"cross",values:[i,s,e,t,this.eu*e,this.eu*t,this.un]}),this["#thickness-grippie"].cx.baseVal.value=i+e/2-this.eu*e/2,this["#thickness-grippie"].cy.baseVal.value=s+t*this.un-this.eu*t/2,this["#shift-grippie"].cx.baseVal.value=i+e/2,this["#shift-grippie"].cy.baseVal.value=s+t*this.un;}},{key:"Sp",value:function Sp(){var t=ul(this["#geometry-preview-shape"]),_t$values16=_slicedToArray(t.values,4),e=_t$values16[0],i=_t$values16[1],s=_t$values16[2],n=_t$values16[3],_El5=El.apply(void 0,_toConsumableArray(t.values)),o=_El5.minShift,l=_El5.maxShift,h=_El5.maxHorizontalArmThickness,a=Z(h/n*100,0),r=Z(100*this.eu,0),d=Z(100*this.un-50,0),c=Z(100*o-50,0),p=Z(100*l-50,0);this["#thickness-input"].max=a,this["#thickness-input"].value=r,this["#thickness-slider"].max=a,this["#thickness-slider"].value=r,this["#shift-input"].min=c,this["#shift-input"].max=p,this["#shift-input"].value=d,this["#shift-slider"].min=c,this["#shift-slider"].max=p,this["#shift-slider"].value=d;}},{key:"kp",value:function kp(){this["#style-picker"].value=this.wp;}}]);return sx;}(na);_defineProperty(sx,"_shadowTemplate",Yi(_templateObject239()));_defineProperty(sx,"_shadowStyleSheet",Wi(_templateObject240()));customElements.define("bx-crosssettings",sx);var nx=/*#__PURE__*/function(_na23){_inherits(nx,_na23);var _super89=_createSuper(nx);function nx(){var _this446;_classCallCheck(this,nx);_this446=_super89.call(this),_this446["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this446.bp();}),_this446["#start-angle-grippie"].addEventListener("pointerdown",function(t){return _this446.Kl(t);}),_this446["#end-angle-grippie"].addEventListener("pointerdown",function(t){return _this446.Ql(t);}),_this446["#r1-box"].addEventListener("changestart",function(){return _this446._p();}),_this446["#start-angle-input"].addEventListener("changestart",function(){return _this446.iu();}),_this446["#end-angle-input"].addEventListener("changestart",function(){return _this446.su();}),_this446["#style-picker"].addEventListener("change",function(){return _this446.io();});return _this446;}_createClass(nx,[{key:"tn",value:function tn(){this.gp=this.Qs.getConfig("bx-spiralsettings:drawingMode","polar"),this.Cp=this.Qs.getConfig("bx-spiralsettings:r1",0),this.nu=this.Qs.getConfig("bx-spiralsettings:startAngle",0),this.ou=this.Qs.getConfig("bx-spiralsettings:endAngle",1080),this.wp=this.Qs.getConfig("bx-spiralsettings:style"),this.vp(),this.yp(),this.kp();}},{key:"bp",value:function bp(){this.Qs.setConfig("bx-spiralsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"Kl",value:function Kl(t){var _this447=this;var e,_i832,s=jt(this["#geometry-preview-shape"]).inverse(),n=ul(this["#geometry-preview-shape"]),_n$values7=_slicedToArray(n.values,6),o=_n$values7[0],l=_n$values7[1],h=_n$values7[2],a=_n$values7[3],r=_n$values7[4],d=_n$values7[5],c=new DOMPoint(o,l),p=new DOMPoint(t.clientX,t.clientY).matrixTransform(s);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(s),i=Ie(c,p,e);p=e,r+=i,_this447.nu=K(r,0,_this447.ou,0),_this447.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i832=function i(){_this447["#geometry-preview"].removeEventListener("pointermove",e),_this447["#geometry-preview"].removeEventListener("lostpointercapture",_i832),_this447.Qs.setConfig("bx-spiralsettings:startAngle",_this447.nu);});}},{key:"Ql",value:function Ql(t){var _this448=this;var e,_i833,s=ul(this["#geometry-preview-shape"]),n=jt(this["#geometry-preview-shape"]).inverse(),_s$values11=_slicedToArray(s.values,6),o=_s$values11[0],l=_s$values11[1],h=_s$values11[2],a=_s$values11[3],r=_s$values11[4],d=_s$values11[5],c=new DOMPoint(o,l),p=new DOMPoint(t.clientX,t.clientY).matrixTransform(n);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),i=Ie(c,p,e);p=e,d+=i,_this448.ou=K(d,_this448.nu,Infinity,0),_this448.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i833=function i(){_this448["#geometry-preview"].removeEventListener("pointermove",e),_this448["#geometry-preview"].removeEventListener("lostpointercapture",_i833),_this448.Qs.setConfig("bx-spiralsettings:endAngle",_this448.ou);});}},{key:"_p",value:function _p(){var _this449=this;var t,_e849;this["#r1-box"].addEventListener("change",t=function t(_t1132){_this449.Cp=K(_t1132.target.value/100,0,1,2),_this449.no(),_this449.lu();}),this["#r1-box"].addEventListener("changeend",_e849=function e(){_this449["#r1-box"].removeEventListener("change",t),_this449["#r1-box"].removeEventListener("changeend",_e849),_this449.Qs.setConfig("bx-spiralsettings:r1",_this449.Cp);});}},{key:"iu",value:function iu(){var _this450=this;var t,_e850;this["#start-angle-input"].addEventListener("change",t=function t(_t1133){_this450.nu=K(_t1133.target.value,0,_this450.ou,2),_this450.no();}),this["#start-angle-input"].addEventListener("changeend",_e850=function e(){_this450["#start-angle-input"].removeEventListener("change",t),_this450["#start-angle-input"].removeEventListener("changeend",_e850),_this450.Qs.setConfig("bx-spiralsettings:startAngle",_this450.nu),_this450.hu();});}},{key:"su",value:function su(){var _this451=this;var t,_e851;this["#end-angle-input"].addEventListener("change",t=function t(_t1134){_this451.ou=K(_t1134.target.value,_this451.nu,Infinity,2),_this451.no();}),this["#end-angle-input"].addEventListener("changeend",_e851=function e(){_this451["#end-angle-input"].removeEventListener("change",t),_this451["#end-angle-input"].removeEventListener("changeend",_e851),_this451.Qs.setConfig("bx-spiralsettings:endAngle",_this451.ou),_this451.hu();});}},{key:"io",value:function io(){this.Qs.setConfig("bx-spiralsettings:style",this["#style-picker"].value);}},{key:"vp",value:function vp(){this["#drawing-mode-buttons"].value=this.gp;}},{key:"yp",value:function yp(){this.no(),this.lu(),this.hu();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.width/2,e=this["#geometry-preview"].viewBox.baseVal.height/2,i=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,s=this.Cp*i;xl(this["#geometry-preview-shape"],{type:"spiral",values:[t,e,s,i,this.nu,this.ou]});{var _Tl5=Tl(t,e,s,i,this.nu,this.ou),_Tl6=_slicedToArray(_Tl5,2),_n354=_Tl6[0],_o278=_Tl6[1];this["#start-angle-grippie"].cx.baseVal.value=_n354.x,this["#start-angle-grippie"].cy.baseVal.value=_n354.y,this["#end-angle-grippie"].cx.baseVal.value=_o278.x,this["#end-angle-grippie"].cy.baseVal.value=_o278.y;}}},{key:"lu",value:function lu(){var t=this["#geometry-preview"].viewBox.baseVal.height-10,e=(this.Cp,K(100*this.Cp,0,100,0));this["#r1-slider"].value=e,this["#r1-input"].value=e;}},{key:"hu",value:function hu(){this["#start-angle-input"].value=this.nu,this["#start-angle-input"].max=this.ou,this["#end-angle-input"].value=this.ou,this["#end-angle-input"].min=this.nu;}},{key:"kp",value:function kp(){this["#style-picker"].value=this.wp;}}]);return nx;}(na);_defineProperty(nx,"_shadowTemplate",Yi(_templateObject241()));_defineProperty(nx,"_shadowStyleSheet",Wi(_templateObject242()));customElements.define("bx-spiralsettings",nx);var ox=/*#__PURE__*/function(_na24){_inherits(ox,_na24);var _super90=_createSuper(ox);function ox(){var _this452;_classCallCheck(this,ox);_this452=_super90.call(this),_this452["#style-picker"].addEventListener("change",function(){return _this452.io();});return _this452;}_createClass(ox,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-linesettings:style");}},{key:"io",value:function io(){this.Qs.setConfig("bx-linesettings:style",this["#style-picker"].value);}}]);return ox;}(na);_defineProperty(ox,"_shadowTemplate",Yi(_templateObject243()));customElements.define("bx-linesettings",ox);var lx=/*#__PURE__*/function(_na25){_inherits(lx,_na25);var _super91=_createSuper(lx);function lx(){var _this453;_classCallCheck(this,lx);_this453=_super91.call(this),_this453["#style-picker"].addEventListener("change",function(){return _this453.io();});return _this453;}_createClass(lx,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-polylinesettings:style");}},{key:"io",value:function io(){this.Qs.setConfig("bx-polylinesettings:style",this["#style-picker"].value);}}]);return lx;}(na);_defineProperty(lx,"_shadowTemplate",Yi(_templateObject244()));customElements.define("bx-polylinesettings",lx);var hx=/*#__PURE__*/function(_na26){_inherits(hx,_na26);var _super92=_createSuper(hx);function hx(){var _this454;_classCallCheck(this,hx);_this454=_super92.call(this),_this454["#style-picker"].addEventListener("change",function(){return _this454.io();});return _this454;}_createClass(hx,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-polygonsettings:style");}},{key:"io",value:function io(){this.Qs.setConfig("bx-polygonsettings:style",this["#style-picker"].value);}}]);return hx;}(na);_defineProperty(hx,"_shadowTemplate",Yi(_templateObject245()));customElements.define("bx-polygonsettings",hx);var ax=/*#__PURE__*/function(_HTMLElement64){_inherits(ax,_HTMLElement64);var _super93=_createSuper(ax);_createClass(ax,[{key:"value",get:function get(){var t=this["#buttons"].querySelector("x-button[toggled]");return t?t.getAttribute("value"):null;},set:function set(t){var e=this["#popovers"].querySelector("x-popover[opened]");if(e){var _t1135=e.id.replace("-popover","-button"),_i834=this["#buttons"].querySelector("x-button[id=\"".concat(_t1135,"\"]"));e.close(),_i834.removeAttribute("expanded");}var _iterator723=_createForOfIteratorHelper(this["#buttons"].children),_step723;try{for(_iterator723.s();!(_step723=_iterator723.n()).done;){var _e852=_step723.value;_e852.getAttribute("value")===t?_e852.setAttribute("toggled",""):_e852.removeAttribute("toggled");}}catch(err){_iterator723.e(err);}finally{_iterator723.f();}}}]);function ax(){var _this455;_classCallCheck(this,ax);_this455=_super93.call(this),_this455.au=!0,_this455.ru=null,_this455._shadowRoot=_this455.attachShadow({mode:"closed"}),_this455._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,ax._shadowStyleSheet],_this455._shadowRoot.append(document.importNode(ax._shadowTemplate.content,!0));var _iterator724=_createForOfIteratorHelper(_this455._shadowRoot.querySelectorAll("[id]")),_step724;try{for(_iterator724.s();!(_step724=_iterator724.n()).done;){var _t1136=_step724.value;_this455["#"+_t1136.id]=_t1136;}}catch(err){_iterator724.e(err);}finally{_iterator724.f();}_this455["#buttons"].addEventListener("toggle",function(t){return _this455.du(t);}),_this455["#buttons"].addEventListener("pointerdown",function(t){return _this455.cu(t);}),_this455["#buttons"].addEventListener("pointerover",function(t){return _this455.pu(t);}),_this455["#buttons"].addEventListener("pointerout",function(t){return _this455.uu(t);});return _this455;}_createClass(ax,[{key:"connectedCallback",value:function connectedCallback(){var _this456=this;this.Qs=Ai(this,"#app"),this.au=this.Qs.getConfig("bx-uisettings:showDockTooltips",!0),this.Qs.addEventListener("configchange",this.ln=function(t){return _this456.hn(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Qs.removeEventListener("configchange",this.ln);}},{key:"hn",value:function hn(t){var _t$detail7=t.detail,e=_t$detail7.key,i=_t$detail7.value;"bx-uisettings:showDockTooltips"===e&&(this.au=null===i||i);}},{key:"du",value:function du(t){this.value=this["#buttons"].value,this.dispatchEvent(new CustomEvent("toggle"));}},{key:"cu",value:function cu(t){var e=t.target.closest("x-button");if(e&&e.toggled){var _t1137=e.id.replace("button","popover"),_i835=this["#popovers"].querySelector("x-popover[id=\"".concat(_t1137,"\"]"));if(_i835){var _t1138=_i835.firstElementChild;_i835.opened?(_i835.close(),_t1138.enabled=!1,e.removeAttribute("expanded")):(_t1138.enabled=!0,_i835.open(e,3),e.setAttribute("expanded","")),this.qc();}}}},{key:"pu",value:function(){var _pu=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee101(t){var e;return regeneratorRuntime.wrap(function _callee101$(_context102){while(1){switch(_context102.prev=_context102.next){case 0:e=t.target.closest("x-button");_context102.t0=e!==this.ru;if(!_context102.t0){_context102.next=9;break;}this.ru=e;_context102.t1="touch"===t.pointerType;if(!_context102.t1){_context102.next=8;break;}_context102.next=8;return Qi(400);case 8:this.qc();case 9:case"end":return _context102.stop();}}},_callee101,this);}));function pu(_x124){return _pu.apply(this,arguments);}return pu;}()},{key:"uu",value:function uu(t){t.target.closest("x-button")&&(this.ru=null,this.qc());}},{key:"qc",value:function qc(){if(this.au&&this.ru&&!1===this.ru.expanded){this["#tooltip"].hidden=!1,this["#tooltip"].textContent=this.ru.getAttribute("data-tooltip");var _t1139=this["#buttons"].getBoundingClientRect(),_e853=this.ru.getBoundingClientRect(),_i836=this["#tooltip"].getBoundingClientRect(),_s500=_e853.top-_t1139.top+_e853.height/2-_i836.height/2,_n355=_e853.right+4;this["#tooltip"].style.top=_s500+"px",this["#tooltip"].style.left=_n355+"px";}else this["#tooltip"].hidden=!0;}}]);return ax;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ax,"_shadowTemplate",Yi(_templateObject246()));_defineProperty(ax,"_shadowStyleSheet",Wi(_templateObject247()));customElements.define("bx-toolsdock",ax);var rx=/*#__PURE__*/function(_HTMLElement65){_inherits(rx,_HTMLElement65);var _super94=_createSuper(rx);_createClass(rx,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"width",get:function get(){return this.Fs;}}]);function rx(){var _this457;_classCallCheck(this,rx);_this457=_super94.call(this),_this457.Fs=0,_this457.au=!0,_this457.ru=null,_this457.xu=null,_this457._shadowRoot=_this457.attachShadow({mode:"closed"}),_this457._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,rx._shadowStyleSheet],_this457._shadowRoot.append(document.importNode(rx._shadowTemplate.content,!0));var _iterator725=_createForOfIteratorHelper(_this457._shadowRoot.querySelectorAll("[id]")),_step725;try{for(_iterator725.s();!(_step725=_iterator725.n()).done;){var _t1140=_step725.value;_this457["#"+_t1140.id]=_t1140;}}catch(err){_iterator725.e(err);}finally{_iterator725.f();}_this457.bu(),_this457["#buttons"].addEventListener("toggle",function(t){return _this457.du(t);}),_this457["#buttons"].addEventListener("pointerover",function(t){return _this457.pu(t);}),_this457["#buttons"].addEventListener("pointerout",function(t){return _this457.uu(t);}),_this457["#main"].addEventListener("transitionend",function(t){return _this457.mu(t);}),_this457["#resize-grippie"].addEventListener("pointerdown",function(t){return _this457.gu(t);});return _this457;}_createClass(rx,[{key:"connectedCallback",value:function(){var _connectedCallback2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee102(){var _this458=this;return regeneratorRuntime.wrap(function _callee102$(_context103){while(1){switch(_context103.prev=_context103.next){case 0:this.Qs=Ai(this,"#app");this.au=this.Qs.getConfig("bx-uisettings:showDockTooltips",!0);this.Fs=this.Qs.getConfig("bx-primarypanelsdock:width",318);$s.addEventListener("sizechange",this.sp=function(){return _this458.fu();});window.addEventListener("resize",this.wu=function(){return _this458.fu();});this.Qs.addEventListener("configchange",this.ln=function(t){return _this458.hn(t);});_context103.next=8;return $s.whenThemeReady;case 8:this.fu();case 9:case"end":return _context103.stop();}}},_callee102,this);}));function connectedCallback(){return _connectedCallback2.apply(this,arguments);}return connectedCallback;}()},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.sp),window.removeEventListener("resize",this.wu),this.Qs.removeEventListener("configchange",this.ln);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"value"===t&&this.vu(e);}},{key:"hn",value:function hn(t){var _t$detail8=t.detail,e=_t$detail8.key,i=_t$detail8.value;"bx-uisettings:showDockTooltips"===e?(this.au=null===i||i,this.qc()):"bx-primarypanelsdock:width"===e&&(this.Fs=null===i?318:i,this.fu());}},{key:"vu",value:function vu(t){if(this["#buttons"].value=this.value,null===this.value)this.qc(),this.setAttribute("animating",""),this.dispatchEvent(new CustomEvent("collapse"));else{this.qc(),null===t&&this.setAttribute("animating","");var _iterator726=_createForOfIteratorHelper(this.children),_step726;try{for(_iterator726.s();!(_step726=_iterator726.n()).done;){var _t1141=_step726.value;_t1141.enabled=_t1141.id===this.value;}}catch(err){_iterator726.e(err);}finally{_iterator726.f();}null===this.xu&&this.dispatchEvent(new CustomEvent("expand"));}this.xu=this.value;}},{key:"du",value:function du(t){this.value=this["#buttons"].value,this.dispatchEvent(new CustomEvent("toggle"));}},{key:"pu",value:function(){var _pu2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee103(t){var e;return regeneratorRuntime.wrap(function _callee103$(_context104){while(1){switch(_context104.prev=_context104.next){case 0:e=t.target.closest("x-button");_context104.t0=e!==this.ru;if(!_context104.t0){_context104.next=9;break;}this.ru=e;_context104.t1="touch"===t.pointerType;if(!_context104.t1){_context104.next=8;break;}_context104.next=8;return Qi(400);case 8:this.qc();case 9:case"end":return _context104.stop();}}},_callee103,this);}));function pu(_x125){return _pu2.apply(this,arguments);}return pu;}()},{key:"uu",value:function uu(t){t.target.closest("x-button")&&(this.ru=null,this.qc());}},{key:"mu",value:function mu(t){this.removeAttribute("animating");var _iterator727=_createForOfIteratorHelper(this.children),_step727;try{for(_iterator727.s();!(_step727=_iterator727.n()).done;){var _t1142=_step727.value;_t1142.enabled=_t1142.id===this.value;}}catch(err){_iterator727.e(err);}finally{_iterator727.f();}}},{key:"gu",value:function gu(t){var _this459=this;if(1!==t.buttons)return;this["#resize-grippie"].setPointerCapture(t.pointerId);var e,_i837,s=this["#buttons"].clientWidth,n=this.Fs-s;t.preventDefault(),this["#resize-grippie"].addEventListener("pointermove",e=function e(_e854){var i=n-(_e854.clientX-t.clientX);_this459.Fs=i+s,_this459.fu(),_this459.dispatchEvent(new CustomEvent("resize"));}),this["#resize-grippie"].addEventListener("lostpointercapture",_i837=function i(){_this459["#resize-grippie"].removeEventListener("pointermove",e),_this459["#resize-grippie"].removeEventListener("lostpointercapture",_i837),_this459.Qs.setConfig("bx-primarypanelsdock:width",_this459.Fs);});}},{key:"bu",value:function bu(){var t="";var _iterator728=_createForOfIteratorHelper(this.children),_step728;try{for(_iterator728.s();!(_step728=_iterator728.n()).done;){var _e855=_step728.value;var _i838=_e855.getAttribute("name");t+="\n        <x-button id=\"".concat(_e855.id,"-button\" skin=\"dock\" value=\"").concat(_e855.id,"\" data-tooltip=\"").concat(_i838,"\">\n          <x-icon name=\"").concat(_e855.id,"\"></x-icon>\n        </x-button>\n        ");}}catch(err){_iterator728.e(err);}finally{_iterator728.f();}this["#buttons"].innerHTML=t;}},{key:"fu",value:function fu(){this.Fs<318?this.Fs=318:this.Fs>window.innerWidth-38&&(this.Fs=window.innerWidth-38);var t=this["#buttons"].clientWidth;0===t&&(t=parseFloat(getComputedStyle(this["#buttons"].firstElementChild).width));var e=this.Fs-t;this["#main"].style.right=t+"px",this["#main"].style.width=e+"px",this["#main"].style.transform="translateX(".concat(e+1,"px)");}},{key:"qc",value:function qc(){if(this.au&&this.ru&&!1===this.ru.toggled){this["#tooltip"].hidden=!1,this["#tooltip"].textContent=this.ru.getAttribute("data-tooltip");var _t1143=this["#buttons"].getBoundingClientRect(),_e856=this.ru.getBoundingClientRect(),_i839=this["#tooltip"].getBoundingClientRect(),_s501=_e856.top-_t1143.top+_e856.height/2-_i839.height/2,_n356=_e856.width+4;this["#tooltip"].style.top=_s501+"px",this["#tooltip"].style.right=_n356+"px";}else this["#tooltip"].hidden=!0;}}]);return rx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(rx,"observedAttributes",["value"]);_defineProperty(rx,"_shadowTemplate",Yi(_templateObject248()));_defineProperty(rx,"_shadowStyleSheet",Wi(_templateObject249()));customElements.define("bx-primarypanelsdock",rx);var dx=/*#__PURE__*/function(_HTMLElement66){_inherits(dx,_HTMLElement66);var _super95=_createSuper(dx);_createClass(dx,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"height",get:function get(){return this.Us;}}]);function dx(){var _this460;_classCallCheck(this,dx);_this460=_super95.call(this),_this460.Us=0,_this460._shadowRoot=_this460.attachShadow({mode:"closed"}),_this460._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,dx._shadowStyleSheet],_this460._shadowRoot.append(document.importNode(dx._shadowTemplate.content,!0));var _iterator729=_createForOfIteratorHelper(_this460._shadowRoot.querySelectorAll("[id]")),_step729;try{for(_iterator729.s();!(_step729=_iterator729.n()).done;){var _t1144=_step729.value;_this460["#"+_t1144.id]=_t1144;}}catch(err){_iterator729.e(err);}finally{_iterator729.f();}_this460.bu(),_this460.addEventListener("transitionend",function(t){return _this460.mu(t);}),_this460["#buttons"].addEventListener("toggle",function(){return _this460.du();}),_this460["#resize-grippie"].addEventListener("pointerdown",function(t){return _this460.gu(t);});return _this460;}_createClass(dx,[{key:"connectedCallback",value:function(){var _connectedCallback3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee104(){var _this461=this;return regeneratorRuntime.wrap(function _callee104$(_context105){while(1){switch(_context105.prev=_context105.next){case 0:this.Qs=Ai(this,"#app");this.Js=Ai(this,"bx-editor");this.Us=this.Qs.getConfig("bx-secondarypanelsdock:height",250);_context105.next=5;return customElements.whenDefined("bx-primarypanelsdock");case 5:window.addEventListener("resize",this.nn=function(){_this461.yu();});this.Qs.addEventListener("configchange",this.ln=function(t){_this461.hn(t);});this.Js.primaryPanelsDock.addEventListener("expand",this.ku=function(){_this461.Su();});this.Js.primaryPanelsDock.addEventListener("collapse",this._u=function(){_this461.Su();});this.Js.primaryPanelsDock.addEventListener("resize",this.Cu=function(){_this461.Su();});case 10:case"end":return _context105.stop();}}},_callee104,this);}));function connectedCallback(){return _connectedCallback3.apply(this,arguments);}return connectedCallback;}()},{key:"disconnectedCallback",value:function disconnectedCallback(){window.removeEventListener("resize",this.nn),this.Qs.removeEventListener("configchange",this.ln),this.Js.primaryPanelsDock.removeEventListener("expand",this.ku),this.Js.primaryPanelsDock.removeEventListener("collapse",this._u),this.Js.primaryPanelsDock.removeEventListener("resize",this.Cu);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"value"===t&&this.vu();}},{key:"hn",value:function hn(t){var _t$detail9=t.detail,e=_t$detail9.key,i=_t$detail9.value;"bx-secondarypanelsdock:height"===e&&(this.Us=null===i?250:i,this.yu());}},{key:"vu",value:function vu(){var t=this.value;if(this["#buttons"].value=t,null!==this.value){var _iterator730=_createForOfIteratorHelper(this.children),_step730;try{for(_iterator730.s();!(_step730=_iterator730.n()).done;){var _t1145=_step730.value;_t1145.enabled=_t1145.id===this.value;}}catch(err){_iterator730.e(err);}finally{_iterator730.f();}this.yu();}"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"mu",value:function mu(t){if(null===this.value){var _iterator731=_createForOfIteratorHelper(this.children),_step731;try{for(_iterator731.s();!(_step731=_iterator731.n()).done;){var _t1146=_step731.value;_t1146.enabled=!1;}}catch(err){_iterator731.e(err);}finally{_iterator731.f();}this.yu();}}},{key:"du",value:function du(){this.value!==this["#buttons"].value&&(this.value=this["#buttons"].value,this.vu());var _iterator732=_createForOfIteratorHelper(this["#buttons"].children),_step732;try{for(_iterator732.s();!(_step732=_iterator732.n()).done;){var _t1147=_step732.value;_t1147.toggled?_t1147.part.add("toggled-button"):_t1147.part.remove("toggled-button");}}catch(err){_iterator732.e(err);}finally{_iterator732.f();}}},{key:"gu",value:function gu(t){var _this462=this;if(1!==t.buttons)return;this["#resize-grippie"].setPointerCapture(t.pointerId);var e,_i840,s=this.clientHeight,n=s;t.preventDefault(),this["#resize-grippie"].addEventListener("pointermove",e=function e(_e857){n=s-(_e857.clientY-t.clientY),n<30?n=0:n>window.innerHeight-32&&(n=window.innerHeight-32),_this462.style.height=n+"px";}),this["#resize-grippie"].addEventListener("lostpointercapture",_i840=function i(){_this462["#resize-grippie"].removeEventListener("pointermove",e),_this462["#resize-grippie"].removeEventListener("lostpointercapture",_i840),0===n?_this462.value=null:_this462.Qs.setConfig("bx-secondarypanelsdock:height",n);});}},{key:"bu",value:function bu(){var t="";var _iterator733=_createForOfIteratorHelper(this.children),_step733;try{for(_iterator733.s();!(_step733=_iterator733.n()).done;){var _e858=_step733.value;if(!1===_e858.hasAttribute("hidden")){var _i841=_e858.getAttribute("name");t+="\n          <x-button id=\"".concat(_e858.id,"-button\" value=\"").concat(_e858.id,"\" part=\"button\">\n            <x-label>").concat(_i841,"</x-label>\n          </x-button>\n        ");}}}catch(err){_iterator733.e(err);}finally{_iterator733.f();}this["#buttons"].innerHTML=t;}},{key:"Su",value:function Su(){if(null===this.Js.primaryPanelsDock.value)this.style.width=null;else{var _t1148=this.Js.toolsDock.clientWidth,_e859=this.Js.primaryPanelsDock.width;this.style.width="calc(100% - ".concat(_t1148+_e859,"px)");}}},{key:"yu",value:function yu(){var t=0;null!==this.value&&(t=this.Us,t>window.innerHeight-32&&(t=window.innerHeight-32)),this.style.height=t+"px";}}]);return dx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(dx,"observedAttributes",["value"]);_defineProperty(dx,"_shadowTemplate",Yi(_templateObject250()));_defineProperty(dx,"_shadowStyleSheet",Wi(_templateObject251()));customElements.define("bx-secondarypanelsdock",dx);var cx=Symbol();var px=/*#__PURE__*/function(_HTMLElement67){_inherits(px,_HTMLElement67);var _super96=_createSuper(px);_createClass(px,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function px(){var _this463;_classCallCheck(this,px);_this463=_super96.call(this),_this463._a=Xi(_this463.qs,200,_assertThisInitialized(_this463)),_this463._shadowRoot=_this463.attachShadow({mode:"closed"}),_this463._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,px._shadowStyleSheet],_this463._shadowRoot.append(document.importNode(px._shadowTemplate.content,!0));var _iterator734=_createForOfIteratorHelper(_this463._shadowRoot.querySelectorAll("[id]")),_step734;try{for(_iterator734.s();!(_step734=_iterator734.n()).done;){var _t1149=_step734.value;_this463["#"+_t1149.id]=_t1149;}}catch(err){_iterator734.e(err);}finally{_iterator734.f();}_this463.addEventListener("keydown",function(t){return _this463.vn(t);}),_this463["#popover"].addEventListener("open",function(){return _this463.Mu();}),_this463["#items"].addEventListener("click",function(t){return _this463.Jc(t);}),_this463["#items"].addEventListener("dblclick",function(t){return _this463.Pu(t);}),_this463["#manage-button"].addEventListener("click",function(){return _this463.Du();}),_this463["#developer-mode-button"].addEventListener("toggle",function(){return _this463.zu();});return _this463;}_createClass(px,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this.Ou=Ai(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.sn():"value"===t&&this.vu());}},{key:"tn",value:function tn(){var _this464=this;this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-solidcolorselect:developerMode",!1),this["#popover"].style.width=this["#button"].clientWidth+"px",this.qs(),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this464.sl(t.detail);}),this.Ou.addEventListener("resize",this.Eu=function(){_this464.Tu();});}},{key:"sn",value:function sn(){this["#button"].collapse(),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Ou.removeEventListener("resize",this.Eu);}},{key:"vu",value:function vu(){this.Au(),this.$u();}},{key:"sl",value:function sl(){this._a();}},{key:"Tu",value:function Tu(){this["#popover"].style.width=this["#button"].clientWidth+"px";}},{key:"Jc",value:function Jc(t){var e=t.target.closest(".item");if(e){var _t1150=e.getAttribute("data-value");_t1150===this.value&&!0!==this.mixed||(this.value=_t1150,this.dispatchEvent(new CustomEvent("change")));}}},{key:"Pu",value:function Pu(t){var e=t.target.closest(".item");if(e){this["#button"].collapse();var _t1151=e.getAttribute("data-value");this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.editColor(_t1151);}}},{key:"Du",value:function Du(){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("colors-browser");}},{key:"zu",value:function zu(){var t=this["#developer-mode-button"].toggled;this.Qs.setConfig("bx-solidcolorselect:developerMode",t),this.Au(),this.Iu(),this.Lu();}},{key:"vn",value:function vn(t){var e=eo.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Bu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Ru());}},{key:"qs",value:function qs(){this.Au(),this.Gu(),this.Lu();}},{key:"Au",value:function Au(){if(null===this.value)this["#button-thumbnail"].setAttribute("hidden",""),this["#button-label"].textContent="Ad hoc";else{var _t1152=this.Js.board.masterWorkspace.querySelector("#"+this.value),_e860=Ao(_t1152);this["#button-thumbnail"].removeAttribute("hidden"),this["#button-thumbnail-inner"].setAttribute("style","background: ".concat(_e860,";")),this["#button-label"].textContent=this.Fu(_t1152,this["#developer-mode-button"].toggled);}}},{key:"Gu",value:function Gu(){var t=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("linearGradient, radialGradient")).filter(function(t){return _o(t);});this["#items"].innerHTML="";var _iterator735=_createForOfIteratorHelper(t),_step735;try{for(_iterator735.s();!(_step735=_iterator735.n()).done;){var _e861=_step735.value;var _t1153=Ao(_e861),_i842=Yi(_templateObject17(),_e861.id,_t1153,_e861.id);_i842[cx]=_e861,this["#items"].append(_i842);}}catch(err){_iterator735.e(err);}finally{_iterator735.f();}this.$u(),this.Iu();}},{key:"$u",value:function $u(){var _iterator736=_createForOfIteratorHelper(this["#items"].children),_step736;try{for(_iterator736.s();!(_step736=_iterator736.n()).done;){var _t1154=_step736.value;_t1154.getAttribute("data-value")===this.value?_t1154.setAttribute("data-selected",""):_t1154.removeAttribute("data-selected");}}catch(err){_iterator736.e(err);}finally{_iterator736.f();}}},{key:"Iu",value:function Iu(){var _iterator737=_createForOfIteratorHelper(this["#items"].children),_step737;try{for(_iterator737.s();!(_step737=_iterator737.n()).done;){var _t1155=_step737.value;var _e862=_t1155[cx];_t1155.querySelector(".label").textContent=this.Fu(_e862,this["#developer-mode-button"].toggled);}}catch(err){_iterator737.e(err);}finally{_iterator737.f();}}},{key:"Lu",value:function Lu(){this["#items"].querySelector(":scope > .item")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"Bu",value:function Bu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.previousElementSibling?e=t.previousElementSibling:this["#items"].lastElementChild!==t&&(e=this["#items"].lastElementChild):this["#items"].lastElementChild&&(e=this["#items"].lastElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Ru",value:function Ru(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.nextElementSibling?e=t.nextElementSibling:this["#items"].firstElementChild!==t&&(e=this["#items"].firstElementChild):this["#items"].firstElementChild&&(e=this["#items"].firstElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Mu",value:function Mu(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"Fu",value:function Fu(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i="";if(e)i=t.hasAttribute("id")?"#"+t.id:"<color>";else{var _e863=t.querySelector(":scope > bx-title");i=_e863?_e863.textContent:"Color";}return i;}}]);return px;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(px,"observedAttributes",["enabled","value"]);_defineProperty(px,"_shadowTemplate",Yi(_templateObject252()));_defineProperty(px,"_shadowStyleSheet",Wi(_templateObject253()));customElements.define("bx-colorselect",px);var ux=Symbol();var xx=/*#__PURE__*/function(_HTMLElement68){_inherits(xx,_HTMLElement68);var _super97=_createSuper(xx);_createClass(xx,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function xx(){var _this465;_classCallCheck(this,xx);_this465=_super97.call(this),_this465._a=Xi(_this465.qs,200,_assertThisInitialized(_this465)),_this465._shadowRoot=_this465.attachShadow({mode:"closed"}),_this465._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,xx._shadowStyleSheet],_this465._shadowRoot.append(document.importNode(xx._shadowTemplate.content,!0));var _iterator738=_createForOfIteratorHelper(_this465._shadowRoot.querySelectorAll("[id]")),_step738;try{for(_iterator738.s();!(_step738=_iterator738.n()).done;){var _t1156=_step738.value;_this465["#"+_t1156.id]=_t1156;}}catch(err){_iterator738.e(err);}finally{_iterator738.f();}_this465.addEventListener("keydown",function(t){return _this465.vn(t);}),_this465["#popover"].addEventListener("open",function(){return _this465.Mu();}),_this465["#items"].addEventListener("click",function(t){return _this465.Jc(t);}),_this465["#items"].addEventListener("dblclick",function(t){return _this465.Pu(t);}),_this465["#manage-button"].addEventListener("click",function(){return _this465.Du();}),_this465["#developer-mode-button"].addEventListener("toggle",function(){return _this465.zu();});return _this465;}_createClass(xx,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this.Ou=Ai(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.sn():"value"===t&&this.vu());}},{key:"tn",value:function tn(){var _this466=this;this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-gradientselect:developerMode",!1),this["#popover"].style.width=this["#button"].clientWidth+"px",this.qs(),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this466.sl(t.detail);}),this.Ou.addEventListener("resize",this.Eu=function(){_this466.Tu();});}},{key:"sn",value:function sn(){this["#button"].collapse(),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Ou.removeEventListener("resize",this.Eu);}},{key:"vu",value:function vu(){this.Au(),this.$u();}},{key:"sl",value:function sl(){this._a();}},{key:"Tu",value:function Tu(){this["#popover"].style.width=this["#button"].clientWidth+"px";}},{key:"Jc",value:function Jc(t){var e=t.target.closest(".item");if(e){var _t1157=e.getAttribute("data-value");_t1157===this.value&&!0!==this.mixed||(this.value=_t1157,this.dispatchEvent(new CustomEvent("change")));}}},{key:"Pu",value:function Pu(t){var e=t.target.closest(".item");if(e){this["#button"].collapse();var _t1158=e.getAttribute("data-value");this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.editGradient(_t1158);}}},{key:"Du",value:function Du(){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("gradients-browser");}},{key:"zu",value:function zu(){var t=this["#developer-mode-button"].toggled;this.Qs.setConfig("bx-gradientselect:developerMode",t),this.Au(),this.Iu(),this.Lu();}},{key:"vn",value:function vn(t){var e=eo.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Bu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Ru());}},{key:"qs",value:function qs(){this.Au(),this.Gu(),this.Lu();}},{key:"Au",value:function Au(){if(null===this.value)this["#button-thumbnail"].setAttribute("hidden",""),this["#button-label"].textContent="Ad hoc";else{var _t1159=this.Js.board.masterWorkspace.querySelector("#"+this.value),_e864=Do(_t1159),_i843="";if(0===_e864.length)_i843="background: transparent";else if(1===_e864.length){_i843="background: ".concat(To(_e864[0]));}else if(_e864.length>1){_i843="background-image: linear-gradient(90deg, "+_e864.map(function(t){return"".concat(To(t)," ").concat(100*t.offset.baseVal,"%");}).join(", ")+")";}this["#button-thumbnail"].removeAttribute("hidden"),this["#button-thumbnail-inner"].setAttribute("style",_i843),this["#button-label"].textContent=this.Uu(_t1159,this["#developer-mode-button"].toggled);}}},{key:"Gu",value:function Gu(){var t=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("linearGradient, radialGradient")).filter(function(t){return Mo(t);});this["#items"].innerHTML="";var _iterator739=_createForOfIteratorHelper(t),_step739;try{for(_iterator739.s();!(_step739=_iterator739.n()).done;){var _e865=_step739.value;var _t1160=Do(_e865),_i844="";if(0===_t1160.length)_i844="background: transparent";else if(1===_t1160.length){_i844="background: ".concat(To(_t1160[0]));}else if(_t1160.length>1){_i844="background-image: linear-gradient(90deg, "+_t1160.map(function(t){return"".concat(To(t)," ").concat(100*t.offset.baseVal,"%");}).join(", ")+")";}var _s502=Yi(_templateObject18(),_e865.id,_i844,_e865.id);_s502[ux]=_e865,this["#items"].append(_s502);}}catch(err){_iterator739.e(err);}finally{_iterator739.f();}this.$u(),this.Iu();}},{key:"$u",value:function $u(){var _iterator740=_createForOfIteratorHelper(this["#items"].children),_step740;try{for(_iterator740.s();!(_step740=_iterator740.n()).done;){var _t1161=_step740.value;_t1161.getAttribute("data-value")===this.value?_t1161.setAttribute("data-selected",""):_t1161.removeAttribute("data-selected");}}catch(err){_iterator740.e(err);}finally{_iterator740.f();}}},{key:"Iu",value:function Iu(){var _iterator741=_createForOfIteratorHelper(this["#items"].children),_step741;try{for(_iterator741.s();!(_step741=_iterator741.n()).done;){var _t1162=_step741.value;var _e866=_t1162[ux];_t1162.querySelector(".label").textContent=this.Uu(_e866,this["#developer-mode-button"].toggled);}}catch(err){_iterator741.e(err);}finally{_iterator741.f();}}},{key:"Lu",value:function Lu(){this["#items"].querySelector(":scope > .item")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"Bu",value:function Bu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.previousElementSibling?e=t.previousElementSibling:this["#items"].lastElementChild!==t&&(e=this["#items"].lastElementChild):this["#items"].lastElementChild&&(e=this["#items"].lastElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Ru",value:function Ru(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.nextElementSibling?e=t.nextElementSibling:this["#items"].firstElementChild!==t&&(e=this["#items"].firstElementChild):this["#items"].firstElementChild&&(e=this["#items"].firstElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Mu",value:function Mu(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"Uu",value:function Uu(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i="";if(e)i=t.hasAttribute("id")?"#"+t.id:"<gradient>";else{var _e867=t.querySelector(":scope > bx-title");i=_e867?_e867.textContent:"Gradient";}return i;}}]);return xx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(xx,"observedAttributes",["enabled","value"]);_defineProperty(xx,"_shadowTemplate",Yi(_templateObject254()));_defineProperty(xx,"_shadowStyleSheet",Wi(_templateObject255()));customElements.define("bx-gradientselect",xx);var bx=Symbol();var mx=/*#__PURE__*/function(_HTMLElement69){_inherits(mx,_HTMLElement69);var _super98=_createSuper(mx);_createClass(mx,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function mx(){var _this467;_classCallCheck(this,mx);_this467=_super98.call(this),_this467._a=Xi(_this467.qs,200,_assertThisInitialized(_this467)),_this467.Nu=Zi(_this467.Vu,2e3,_assertThisInitialized(_this467)),_this467._shadowRoot=_this467.attachShadow({mode:"closed"}),_this467._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,mx._shadowStyleSheet],_this467._shadowRoot.append(document.importNode(mx._shadowTemplate.content,!0));var _iterator742=_createForOfIteratorHelper(_this467._shadowRoot.querySelectorAll("[id]")),_step742;try{for(_iterator742.s();!(_step742=_iterator742.n()).done;){var _t1163=_step742.value;_this467["#"+_t1163.id]=_t1163;}}catch(err){_iterator742.e(err);}finally{_iterator742.f();}_this467.addEventListener("keydown",function(t){return _this467.vn(t);}),_this467["#popover"].addEventListener("open",function(){return _this467.Mu();}),_this467["#items"].addEventListener("click",function(t){return _this467.Jc(t);}),_this467["#items"].addEventListener("dblclick",function(t){return _this467.Pu(t);}),_this467["#manage-button"].addEventListener("click",function(t){return _this467.Du(t);}),_this467["#developer-mode-button"].addEventListener("toggle",function(){return _this467.zu();});return _this467;}_createClass(mx,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this.Ou=Ai(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.sn():"value"===t&&this.vu());}},{key:"tn",value:function tn(){var _this468=this;this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-patternselect:developerMode",!1),this["#popover"].style.width=this["#button"].clientWidth+"px",this.qs(),this.Vu(),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this468.sl(t.detail);}),this.Ou.addEventListener("resize",this.Eu=function(){_this468.Tu();});}},{key:"sn",value:function sn(){this["#mirror"].innerHTML="",this["#button"].collapse(),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Ou.removeEventListener("resize",this.Eu);}},{key:"vu",value:function vu(){this.Au(),this.$u();}},{key:"sl",value:function sl(){this._a(),this.Nu();}},{key:"Tu",value:function Tu(){this["#popover"].style.width=this["#button"].clientWidth+"px";}},{key:"Jc",value:function Jc(t){var e=t.target.closest(".item");if(e){var _t1164=e.getAttribute("data-value");_t1164!==this.value&&(this.value=_t1164,this.dispatchEvent(new CustomEvent("change")));}}},{key:"Pu",value:function Pu(t){var e=t.target.closest(".item");if(e){this["#button"].collapse();var _t1165=e.getAttribute("data-value");this.Js.board.editPattern(_t1165);}}},{key:"Du",value:function Du(t){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("patterns-browser");}},{key:"zu",value:function zu(){var t=this["#developer-mode-button"].toggled;this.Qs.setConfig("bx-patternselect:developerMode",t),this.Au(),this.Iu();}},{key:"vn",value:function vn(t){var e=eo.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Bu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Ru());}},{key:"qs",value:function qs(){this.Au(),this.Gu();}},{key:"Au",value:function Au(){if(null===this.value)this["#button-thumbnail"].setAttribute("hidden",""),this["#button-label"].textContent="";else{var _t1166=this.Js.board.masterWorkspace.querySelector("#"+this.value);this["#button-thumbnail"].removeAttribute("hidden"),this["#button-thumbnail"].style.fill="url(#".concat(this.value,")"),this["#button-label"].textContent=this.ju(_t1166,this["#developer-mode-button"].toggled);}}},{key:"Gu",value:function Gu(){var t=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("pattern")).filter(function(t){return!1===t.hasAttribute("href");});this["#items"].innerHTML="";var _iterator743=_createForOfIteratorHelper(t),_step743;try{for(_iterator743.s();!(_step743=_iterator743.n()).done;){var _e868=_step743.value;var _t1167=Yi(_templateObject19(),_e868.id,_e868.id,_e868.id);_t1167[bx]=_e868,this["#items"].append(_t1167);}}catch(err){_iterator743.e(err);}finally{_iterator743.f();}this.$u(),this.Iu();}},{key:"$u",value:function $u(){var _iterator744=_createForOfIteratorHelper(this["#items"].children),_step744;try{for(_iterator744.s();!(_step744=_iterator744.n()).done;){var _t1168=_step744.value;_t1168.getAttribute("data-value")===this.value?_t1168.setAttribute("data-selected",""):_t1168.removeAttribute("data-selected");}}catch(err){_iterator744.e(err);}finally{_iterator744.f();}}},{key:"Iu",value:function Iu(){var _iterator745=_createForOfIteratorHelper(this["#items"].children),_step745;try{for(_iterator745.s();!(_step745=_iterator745.n()).done;){var _t1169=_step745.value;var _e869=_t1169[bx];_t1169.querySelector(".label").textContent=this.ju(_e869,this["#developer-mode-button"].toggled);}}catch(err){_iterator745.e(err);}finally{_iterator745.f();}}},{key:"Vu",value:function Vu(){this["#mirror"].innerHTML=this.Js.board.masterWorkspace.innerHTML;}},{key:"Bu",value:function Bu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.previousElementSibling?e=t.previousElementSibling:this["#items"].lastElementChild!==t&&(e=this["#items"].lastElementChild):this["#items"].lastElementChild&&(e=this["#items"].lastElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Ru",value:function Ru(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.nextElementSibling?e=t.nextElementSibling:this["#items"].firstElementChild!==t&&(e=this["#items"].firstElementChild):this["#items"].firstElementChild&&(e=this["#items"].firstElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Mu",value:function Mu(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"ju",value:function ju(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i="";if(e)i=t.hasAttribute("id")?"#"+t.id:"<pattern>";else{var _e870;_e870=this.Js.board.currentWorkspace.id===t.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):t.querySelector(":scope > bx-title"),i=_e870?_e870.textContent:"Pattern";}return i;}}]);return mx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(mx,"observedAttributes",["enabled","value"]);_defineProperty(mx,"_shadowTemplate",Yi(_templateObject256()));_defineProperty(mx,"_shadowStyleSheet",Wi(_templateObject257()));customElements.define("bx-patternselect",mx);var gx=/*#__PURE__*/function(_HTMLElement70){_inherits(gx,_HTMLElement70);var _super99=_createSuper(gx);_createClass(gx,[{key:"type",get:function get(){return this.hasAttribute("type")?this.getAttribute("type"):"rect";},set:function set(t){this.setAttribute("type",t);}},{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"#000000";},set:function set(t){this.setAttribute("value",t);}},{key:"format",get:function get(){return this.hasAttribute("format")?this.getAttribute("format"):"hex";},set:function set(t){t?this.setAttribute("format",t):this.removeAttribute("format");}},{key:"formatSelect",get:function get(){return this.hasAttribute("formatselect");},set:function set(t){t?this.setAttribute("formatselect",""):this.removeAttribute("formatselect");}},{key:"alphaSlider",get:function get(){return this.hasAttribute("alphaslider");},set:function set(t){t?this.setAttribute("alphaslider",""):this.removeAttribute("alphaslider");}}]);function gx(){var _this469;_classCallCheck(this,gx);_this469=_super99.call(this),_this469.Hu=!1,_this469._shadowRoot=_this469.attachShadow({mode:"closed"}),_this469._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,gx._shadowStyleSheet],_this469._shadowRoot.append(document.importNode(gx._shadowTemplate.content,!0));var _iterator746=_createForOfIteratorHelper(_this469._shadowRoot.querySelectorAll("[id]")),_step746;try{for(_iterator746.s();!(_step746=_iterator746.n()).done;){var _t1170=_step746.value;_this469["#"+_t1170.id]=_t1170;}}catch(err){_iterator746.e(err);}finally{_iterator746.f();}_this469["#pickers"].addEventListener("change",function(t){return _this469.Yu(t);}),_this469["#pickers"].addEventListener("changestart",function(t){return _this469.Wu(t);}),_this469["#pickers"].addEventListener("changeend",function(t){return _this469.qu(t);}),_this469["#input"].addEventListener("click",function(t){return _this469.Xu(t);}),_this469["#input"].addEventListener("change",function(t){return _this469.Zu(t);}),_this469["#input"].addEventListener("keydown",function(t){return _this469.Ku(t);}),_this469["#format-select"].addEventListener("change",function(t){return _this469.Qu(t);}),_this469["#grab-button"].addEventListener("toggle",function(){return _this469.Wn();});return _this469;}_createClass(gx,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ai(this,"bx-editor"),this.Ju=Ai(this,"x-popover"),this.tx();}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("type"===t?this.ix():"value"===t?this.sx():"format"===t?this.nx():"alphaslider"===t&&this.ox());}},{key:"sx",value:function sx(){this["#pickers"].querySelector(":scope > :not([hidden])").setAttribute("value",this.value),this["#input"].value=go(this.value,this.format),this["#input"].matches(":focus")&&this["#input"].selectAll();}},{key:"ix",value:function ix(){this.tx();}},{key:"nx",value:function nx(){this["#input"].value=go(this.value,this.format),this["#format-select"].value=this.format;}},{key:"ox",value:function ox(){this.alphaSlider?(this["#rect-picker"].setAttribute("alphaslider",""),this["#wheel-picker"].setAttribute("alphaslider",""),this["#bars-picker"].setAttribute("alphaslider","")):(this["#rect-picker"].removeAttribute("alphaslider"),this["#wheel-picker"].removeAttribute("alphaslider"),this["#bars-picker"].removeAttribute("alphaslider"));}},{key:"Wu",value:function Wu(t){this.Hu=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));}},{key:"Yu",value:function Yu(t){this.value=t.target.value,this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}},{key:"qu",value:function qu(t){this.Hu=!1,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}));}},{key:"Xu",value:function Xu(t){t.detail>=2&&"hex"===this.format&&this["#input"].selectAll();}},{key:"Zu",value:function Zu(t){!1===this.Hu&&(null!==this["#input"].error?(this["#input"].value=go(this.value,this.format),this["#input"].matches(":focus")&&this["#input"].selectAll()):(this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.value=this["#input"].value,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))));}},{key:"Ku",value:function Ku(t){"Enter"!==t.code&&"Space"!==t.code||this.closest("x-popover")&&t.stopPropagation();}},{key:"Qu",value:function Qu(t){this.format=this["#format-select"].value,this.dispatchEvent(new CustomEvent("formatchange",{bubbles:!0}));}},{key:"Wn",value:function(){var _Wn2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee105(){var t,e;return regeneratorRuntime.wrap(function _callee105$(_context106){while(1){switch(_context106.prev=_context106.next){case 0:t=null!==this.Ju&&!0===this.Ju.modal;t&&(this.Ju.modal=!1);_context106.next=4;return this.Js.colorGrabber.grab();case 4:e=_context106.sent;this["#grab-button"].toggled=!1,t&&(this.Ju.modal=!0),null!==e&&(this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.value=e,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})));case 6:case"end":return _context106.stop();}}},_callee105,this);}));function Wn(){return _Wn2.apply(this,arguments);}return Wn;}()},{key:"tx",value:function tx(){"rect"===this.type?(this["#rect-picker"].hidden=!1,this["#rect-picker"].setAttribute("value",this.value),this["#wheel-picker"].hidden=!0,this["#bars-picker"].hidden=!0):"wheel"===this.type?(this["#rect-picker"].hidden=!0,this["#wheel-picker"].hidden=!1,this["#wheel-picker"].value=this.value,this["#bars-picker"].hidden=!0):"bars"===this.type&&(this["#rect-picker"].hidden=!0,this["#wheel-picker"].hidden=!0,this["#bars-picker"].value=this.value,this["#bars-picker"].hidden=!1);}}]);return gx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(gx,"observedAttributes",["type","value","format","alphaslider"]);_defineProperty(gx,"_shadowTemplate",Yi(_templateObject258()));_defineProperty(gx,"_shadowStyleSheet",Wi(_templateObject259()));customElements.define("bx-colorpicker",gx);var fx=/*#__PURE__*/function(_HTMLElement71){_inherits(fx,_HTMLElement71);var _super100=_createSuper(fx);_createClass(fx,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value").split(" "):["fill","stroke","markers"];},set:function set(t){this.setAttribute("value",t.join(" "));}},{key:"context",get:function get(){return this.getAttribute("context");},set:function set(t){this.setAttribute("context",t);}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function fx(){var _this470;_classCallCheck(this,fx);_this470=_super100.call(this),_this470._shadowRoot=_this470.attachShadow({mode:"closed"}),_this470._shadowRoot.adoptedStyleSheets=[fx._shadowStyleSheet],_this470._shadowRoot.append(document.importNode(fx._shadowTemplate.content,!0));var _iterator747=_createForOfIteratorHelper(_this470._shadowRoot.querySelectorAll("[id]")),_step747;try{for(_iterator747.s();!(_step747=_iterator747.n()).done;){var _t1171=_step747.value;_this470["#"+_t1171.id]=_t1171;}}catch(err){_iterator747.e(err);}finally{_iterator747.f();}_this470.addEventListener("pointerdown",function(t){return _this470.wo(t);}),_this470._shadowRoot.addEventListener("pointerdown",function(t){return _this470.lx(t);}),_this470.addEventListener("keydown",function(t){return _this470.vn(t);});return _this470;}_createClass(fx,[{key:"connectedCallback",value:function connectedCallback(){var _this471=this;$s.addEventListener("sizechange",this.sp=function(){return _this471.ip();}),this.ip(),this.setAttribute("tabindex",this.disabled?"-1":"0"),this.setAttribute("role","switch"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled);}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.sp);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.sx():"context"===t?this.hx():"disabled"===t?this.ux():"size"===t&&this.ip());}},{key:"sx",value:function sx(){var _this$value5=_slicedToArray(this.value,3),t=_this$value5[0],e=_this$value5[1],i=_this$value5[2];this["#".concat(t,"-thumb")].setAttribute("data-socket","1"),this["#".concat(e,"-thumb")].setAttribute("data-socket","2"),this["#".concat(i,"-thumb")].setAttribute("data-socket","3");}},{key:"hx",value:function hx(){var _iterator748=_createForOfIteratorHelper(this["#thumbs"].children),_step748;try{for(_iterator748.s();!(_step748=_iterator748.n()).done;){var _t1172=_step748.value;_t1172.getAttribute("data-value")===this.context?(_t1172.setAttribute("data-toggled",""),_t1172.part.add("toggled-thumb")):(_t1172.removeAttribute("data-toggled"),_t1172.part.remove("toggled-thumb"));}}catch(err){_iterator748.e(err);}finally{_iterator748.f();}}},{key:"ux",value:function ux(){this.setAttribute("tabindex",this.disabled?"-1":"0"),this.setAttribute("aria-disabled",this.disabled);}},{key:"wo",value:function wo(t){t.preventDefault(),this.focus(),this.blur();}},{key:"ip",value:function ip(){var t=$s.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"xx",value:function xx(t){var e=t.getBoundingClientRect(),i=this.getBoundingClientRect();if(e.left-i.left<e.width/2)return 1;{var _t1173=e.width/2;for(var _s503=1;_s503<=3;_s503+=1){if(e.left-i.left>=_t1173&&e.left-i.left<_t1173+e.width)return _s503>this["#thumbs"].childElementCount?this["#thumbs"].childElementCount:_s503+1;_t1173+=e.width;}}}},{key:"lx",value:function lx(t){var _this472=this;if(1!==t.buttons)return;var e,_i847;this.setPointerCapture(t.pointerId);var s=t.target,n=new DOMPoint(t.clientX,t.clientY),o=null,l=null;this.mx(9999999),this.addEventListener("pointermove",e=function e(_e871){var i=new DOMPoint(_e871.clientX,_e871.clientY),h=_e871.timeStamp-t.timeStamp;if(null===o&&(De(n,i)>=3||h>80)&&(o=s,l=parseFloat(getComputedStyle(o).left),o.style.transition="none",o.setAttribute("data-dragged",""),o.part.add("dragged-thumb")),o){var _i845=_e871.clientX-t.clientX,_s504=0,_n357=_this472["#thumbs"].clientWidth-o.clientWidth,_h188=K(l+_i845,_s504,_n357);o.style.left="".concat(_h188,"px");var _a150=o.getAttribute("data-socket"),_r92=_this472.xx(o).toString();if(_r92!==_a150){o.setAttribute("data-socket",_r92);var _iterator749=_createForOfIteratorHelper(_this472["#thumbs"].children),_step749;try{for(_iterator749.s();!(_step749=_iterator749.n()).done;){var _t1174=_step749.value;_t1174!==o&&_t1174.getAttribute("data-socket")===_r92&&_t1174.setAttribute("data-socket",_a150);}}catch(err){_iterator749.e(err);}finally{_iterator749.f();}}}}),this.addEventListener("lostpointercapture",_i847=function i(){if(_this472.removeEventListener("pointermove",e),_this472.removeEventListener("lostpointercapture",_i847),_this472.mx(500),o)o.style.transition=null,o.style.left=null,o.removeAttribute("data-dragged"),o.part.remove("dragged-thumb");else{var _t1175=s,_e872=_this472["#thumbs"].querySelector(".thumb[data-toggled]"),_i846=_toConsumableArray(_this472["#thumbs"].children).find(function(i){return i!==_t1175&&i!==_e872;});if(_t1175!==_e872){var _s505=_t1175.getAttribute("data-socket"),_n358=_e872.getAttribute("data-socket");"1"===_n358?"2"===_s505?(_t1175.setAttribute("data-socket","1"),_e872.setAttribute("data-socket","2")):"3"===_s505&&(_i846.setAttribute("data-socket","1"),_t1175.setAttribute("data-socket","2"),_e872.setAttribute("data-socket","3")):"2"===_n358?"1"===_s505?(_e872.setAttribute("data-socket","1"),_t1175.setAttribute("data-socket","2")):"3"===_s505&&(_t1175.setAttribute("data-socket","2"),_e872.setAttribute("data-socket","3")):"3"===_n358&&("1"===_s505?(_e872.setAttribute("data-socket","1"),_t1175.setAttribute("data-socket","2"),_i846.setAttribute("data-socket","3")):"2"===_s505&&(_e872.setAttribute("data-socket","2"),_t1175.setAttribute("data-socket","3")));}}_this472.gx();});}},{key:"vn",value:function vn(t){"Enter"===t.code||"Space"===t.code?(t.preventDefault(),t.stopPropagation(),this.wx(),this.gx()):"ArrowRight"===t.code?(t.preventDefault(),t.stopPropagation(),this.wx(!1),this.gx()):"ArrowLeft"===t.code&&(t.preventDefault(),t.stopPropagation(),this.vx(!1),this.gx());}},{key:"gx",value:function gx(){var t=[this["#thumbs"].querySelector('[data-socket="1"]').getAttribute("data-value"),this["#thumbs"].querySelector('[data-socket="2"]').getAttribute("data-value"),this["#thumbs"].querySelector('[data-socket="3"]').getAttribute("data-value")];!1===Je(this.value,t,!0)&&(this.value=t,this.dispatchEvent(new CustomEvent("change")));}},{key:"wx",value:function wx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;this.mx(500);var e=this["#thumbs"].querySelector(".thumb[data-toggled]");"1"===e.getAttribute("data-socket")?(this["#thumbs"].querySelector('.thumb[data-socket="2"]').setAttribute("data-socket","1"),e.setAttribute("data-socket","2")):"2"===e.getAttribute("data-socket")?(this["#thumbs"].querySelector('.thumb[data-socket="3"]').setAttribute("data-socket","2"),e.setAttribute("data-socket","3")):"3"===e.getAttribute("data-socket")&&t&&(this["#thumbs"].querySelector('.thumb[data-socket="2"]').setAttribute("data-socket","3"),this["#thumbs"].querySelector('.thumb[data-socket="1"]').setAttribute("data-socket","2"),e.setAttribute("data-socket","1"));}},{key:"vx",value:function vx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;this.mx(500);var e=this["#thumbs"].querySelector(".thumb[data-toggled]");"3"===e.getAttribute("data-socket")?(this["#thumbs"].querySelector('.thumb[data-socket="2"]').setAttribute("data-socket","3"),e.setAttribute("data-socket","2")):"2"===e.getAttribute("data-socket")?(this["#thumbs"].querySelector('.thumb[data-socket="1"]').setAttribute("data-socket","2"),e.setAttribute("data-socket","1")):"1"===e.getAttribute("data-socket")&&t&&(this["#thumbs"].querySelector('.thumb[data-socket="2"]').setAttribute("data-socket","1"),this["#thumbs"].querySelector('.thumb[data-socket="3"]').setAttribute("data-socket","2"),e.setAttribute("data-socket","3"));}},{key:"mx",value:function mx(){var _this473=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:500;clearTimeout(this.yx),this["#thumbs"].setAttribute("data-animate",""),this.yx=setTimeout(function(){_this473["#thumbs"].removeAttribute("data-animate","");},t);}}]);return fx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(fx,"observedAttributes",["value","context","disabled","size"]);_defineProperty(fx,"_shadowTemplate",Yi(_templateObject260()));_defineProperty(fx,"_shadowStyleSheet",Wi(_templateObject261()));customElements.define("bx-paintorderswitch",fx);var wx=/*#__PURE__*/function(_HTMLElement72){_inherits(wx,_HTMLElement72);var _super101=_createSuper(wx);_createClass(wx,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"context",get:function get(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";},set:function set(t){"fill"!==t&&"stroke"!==t||this.setAttribute("context",t);}}]);function wx(){var _this474;_classCallCheck(this,wx);_this474=_super101.call(this),_this474._a=Xi(_this474.qs,200,_assertThisInitialized(_this474)),_this474.kx=!1,_this474._shadowRoot=_this474.attachShadow({mode:"closed"}),_this474._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,wx._shadowStyleSheet],_this474._shadowRoot.append(document.importNode(wx._shadowTemplate.content,!0));var _iterator750=_createForOfIteratorHelper(_this474._shadowRoot.querySelectorAll("[id]")),_step750;try{for(_iterator750.s();!(_step750=_iterator750.n()).done;){var _t1176=_step750.value;_this474["#"+_t1176.id]=_t1176;}}catch(err){_iterator750.e(err);}finally{_iterator750.f();}_this474["#paint-type-buttons"].addEventListener("toggle",function(t){return _this474.Sx(t);}),_this474["#color-select"].addEventListener("change",function(){return _this474._x();}),_this474["#color-unlink-button"].addEventListener("click",function(){return _this474.Cx();}),_this474["#gradient-select"].addEventListener("change",function(){return _this474.Mx();}),_this474["#gradient-unlink-button"].addEventListener("click",function(){return _this474.Px();}),_this474["#color-picker"].addEventListener("changestart",function(t){return _this474.Dx(t);}),_this474["#color-picker"].addEventListener("formatchange",function(t){return _this474.zx(t);}),_this474["#color-picker-type-buttons"].addEventListener("toggle",function(t){return _this474.Ox(t);}),_this474["#color-picker-hint"].addEventListener("click",function(t){return _this474.Ex(t);}),_this474["#stop-opacity-section"].addEventListener("changestart",function(){return _this474.Tx();}),_this474["#pattern-select"].addEventListener("change",function(){return _this474.Ax();}),_this474["#spread-method-buttons"].addEventListener("toggle",function(t){return _this474.$x(t);}),_this474["#paint-order-switch"].addEventListener("change",function(){return _this474.Ix();});return _this474;}_createClass(wx,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.sn():"context"===t&&this["#paint-order-switch"].setAttribute("context",this.context));}},{key:"tn",value:function tn(){var _this475=this;var t=this.Qs,e=this.Js.board;this["#color-picker"].type=t.getConfig("bx-paintinspector#".concat(this.id,":colorPickerType"),"rect"),this["#color-picker"].format=t.getConfig("bx-paintinspector#".concat(this.id,":colorPickerFormat"),"hex"),this["#color-picker-type-buttons"].value=this["#color-picker"].type,this.qs(),e.addEventListener("selectedelementschange",this.Qo=function(){_this475._a();}),e.addEventListener("selectedtextrangechange",this.Wh=function(){_this475.qs();}),e.addEventListener("workspacemutation",this.rn=function(t){_this475._a();}),e.addEventListener("currentworkspacechange",this.Lx=function(){_this475.qs();}),e.linearGradientHud.addEventListener("selectedstopschange",this.Bx=function(){_this475._a();}),e.radialGradientHud.addEventListener("selectedstopschange",this.Rx=function(){_this475._a();});}},{key:"sn",value:function sn(){var t=this.Js.board;this["#color-select"].enabled=!1,this["#gradient-select"].enabled=!1,this["#pattern-select"].enabled=!1,t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("selectedtextrangechange",this.Wh),t.removeEventListener("workspacemutation",this.rn),t.removeEventListener("currentworkspacechange",this.Lx),t.linearGradientHud.removeEventListener("selectedstopschange",this.Bx),t.radialGradientHud.removeEventListener("selectedstopschange",this.Rx);}},{key:"Sx",value:function Sx(t){var e=this["#paint-type-buttons"].value;"solid"===e?this.Gx():"linear-gradient"===e?this.Fx():"radial-gradient"===e?this.Ux():"pattern"===e?this.Nx():"inherit"===e?this.Vx():"none"===e&&this.jx();}},{key:"Gx",value:function Gx(){var t=this.Js.board,e=this.Hx(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange,n="#bada55";t.undoManager.checkpoint("Paint type");var _iterator751=_createForOfIteratorHelper(i),_step751;try{for(_iterator751.s();!(_step751=_iterator751.n()).done;){var _t1178=_step751.value;ci(_t1178,s);}}catch(err){_iterator751.e(err);}finally{_iterator751.f();}{var _t1177=e[0];if("text"===_t1177.localName){var _e873=_t1177.querySelectorAll("tspan"),_i849=ui(s,_t1177),_n359=_i849.length>0?_i849:_e873;_n359.length>0&&(_t1177=_n359[0]);}var _i848=qo(_t1177,this.context);if("solid"===_i848)n=getComputedStyle(_t1177)[this.context];else if("linearGradient"===_i848||"radialGradient"===_i848){var _e874=Xo(_t1177,this.context),_i850=Do(_e874);_i850[0]&&(n=To(_i850[0]));}}var _iterator752=_createForOfIteratorHelper(e),_step752;try{for(_iterator752.s();!(_step752=_iterator752.n()).done;){var _t1179=_step752.value;if("text"===_t1179.localName&&_t1179.querySelector("tspan")){var _e875=_t1179.querySelectorAll("tspan"),_i851=ui(s,_t1179),_o279=_i851.length>0&&!s.collapsed?_i851:_e875;var _iterator754=_createForOfIteratorHelper(_o279),_step754;try{for(_iterator754.s();!(_step754=_iterator754.n()).done;){var _t1180=_step754.value;_t1180.style[this.context]=n;}}catch(err){_iterator754.e(err);}finally{_iterator754.f();}}else _t1179.style[this.context]=n,ya(this.context,_t1179);}}catch(err){_iterator752.e(err);}finally{_iterator752.f();}var _iterator753=_createForOfIteratorHelper(i),_step753;try{for(_iterator753.s();!(_step753=_iterator753.n()).done;){var _t1181=_step753.value;pi(_t1181,s);}}catch(err){_iterator753.e(err);}finally{_iterator753.f();}}},{key:"Fx",value:function Fx(){var _this476=this;var t=this.Js.board,e=this.Hx(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange,n=t.geometryPrecision;t.undoManager.checkpoint("Paint type"),t.collectGarbage();var o=function o(e){var i=null,s=qo(e,_this476.context);if("linearGradient"===s||"radialGradient"===s){var _s506=Ko(t.masterWorkspace,getComputedStyle(e)[_this476.context]),_n360=ko(_s506);if(_n360)i=_n360;else{i=zi("linearGradient");var _iterator755=_createForOfIteratorHelper(Do(_s506)),_step755;try{for(_iterator755.s();!(_step755=_iterator755.n()).done;){var _t1182=_step755.value;i.append(_t1182.cloneNode());}}catch(err){_iterator755.e(err);}finally{_iterator755.f();}}}else if("solid"===s){var _t1183="",_s507=Xo(e,_this476.context);_t1183=_s507?Ao(_s507):getComputedStyle(e)[_this476.context];var _xo3=xo(_t1183,"hsla"),_xo4=_slicedToArray(_xo3,4),_n361=_xo4[0],_o280=_xo4[1],_l246=_xo4[2],_h189=_xo4[3],_a151=_l246-20<0?0:_l246-20,_r93=bo([_n361,_o280,_l246,_h189],"hsla","rgba"),_d73=bo([_n361,_o280,_a151,_h189],"hsla","rgba");i=Di("\n          <linearGradient>\n            <stop offset=\"0\" style=\"stop-color: ".concat(_r93,"\"></stop>\n            <stop offset=\"1\" style=\"stop-color: ").concat(_d73,"\"></stop>\n          </linearGradient>\n        "));}else i=Di('\n          <linearGradient>\n            <stop offset="0" style="stop-color: #bada55"></stop>\n            <stop offset="1" style="stop-color: #758d29"></stop>\n          </linearGradient>\n        ');return i;};var _iterator756=_createForOfIteratorHelper(i),_step756;try{for(_iterator756.s();!(_step756=_iterator756.n()).done;){var _t1188=_step756.value;ci(_t1188,s);}}catch(err){_iterator756.e(err);}finally{_iterator756.f();}if(s&&!1===s.collapsed){var _e876=s.startContainer.closest("text"),_i852=_e876.querySelectorAll("tspan"),_l247=ui(s,_e876),_h190=_l247.length>0?_l247:_i852,_a152=_h190[0];if("linearGradient"===qo(_a152,this.context)){var _e877=Ko(t.masterWorkspace,getComputedStyle(_a152)[this.context]);var _iterator757=_createForOfIteratorHelper(_h190),_step757;try{for(_iterator757.s();!(_step757=_iterator757.n()).done;){var _t1184=_step757.value;_t1184!==_a152&&(_t1184.style[this.context]="url(#".concat(_e877.id,")"));}}catch(err){_iterator757.e(err);}finally{_iterator757.f();}}else{var _i853=o(_a152);var _iterator758=_createForOfIteratorHelper(_h190),_step758;try{for(_iterator758.s();!(_step758=_iterator758.n()).done;){var _s508=_step758.value;var _o281=Ci(_e876),_l248=Z(_o281.x+_o281.width/2,n),_h191=Z(_o281.y,n),_a153=Z(_o281.x+_o281.width/2,n),_r94=Z(_o281.y+_o281.height,n),_d74=zi("svg:linearGradient");if(_d74.setAttribute("gradientUnits","userSpaceOnUse"),_d74.setAttribute("x1",_l248),_d74.setAttribute("y1",_h191),_d74.setAttribute("x2",_a153),_d74.setAttribute("y2",_r94),_i853.isConnected)_d74.setAttribute("id",t.generateUniqueID(_i853.id)),_d74.setAttribute("href","#"+_i853.id);else{_d74.setAttribute("id",t.generateUniqueID("gradient"));var _iterator759=_createForOfIteratorHelper(Eo(_i853)),_step759;try{for(_iterator759.s();!(_step759=_iterator759.n()).done;){var _t1185=_step759.value;_d74.append(_t1185.cloneNode());}}catch(err){_iterator759.e(err);}finally{_iterator759.f();}}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_d74),_s508.style[this.context]="url(#".concat(_d74.id,")");}}catch(err){_iterator758.e(err);}finally{_iterator758.f();}}}else{var _i854=e[0];"text"===_i854.localName&&_i854.querySelector("tspan")&&(_i854=_i854.querySelector("tspan"));var _s509=o(_i854);var _iterator760=_createForOfIteratorHelper(e),_step760;try{for(_iterator760.s();!(_step760=_iterator760.n()).done;){var _i855=_step760.value;var _e878=!1;if("linearGradient"===qo(_i855,this.context)){var _n362=Ko(t.masterWorkspace,getComputedStyle(_i855)[this.context]);ko(_n362)===_s509&&(_e878=!0);}if(!1===_e878){var _e879=Ci(_i855),_o282="use"===_i855.localName?"objectBoundingBox":"userSpaceOnUse",_l249="use"===_i855.localName?.5:Z(_e879.x+_e879.width/2,n),_h192="use"===_i855.localName?0:Z(_e879.y,n),_a154="use"===_i855.localName?.5:Z(_e879.x+_e879.width/2,n),_r95="use"===_i855.localName?1:Z(_e879.y+_e879.height,n),_d75=zi("svg:linearGradient");if(_d75.setAttribute("gradientUnits",_o282),_d75.setAttribute("x1",_l249),_d75.setAttribute("y1",_h192),_d75.setAttribute("x2",_a154),_d75.setAttribute("y2",_r95),_s509.isConnected)_d75.setAttribute("id",t.generateUniqueID(_s509.id)),_d75.setAttribute("href","#"+_s509.id);else{_d75.setAttribute("id",t.generateUniqueID("gradient"));var _iterator761=_createForOfIteratorHelper(Eo(_s509)),_step761;try{for(_iterator761.s();!(_step761=_iterator761.n()).done;){var _t1186=_step761.value;_d75.append(_t1186.cloneNode());}}catch(err){_iterator761.e(err);}finally{_iterator761.f();}}if(t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_d75),"text"===_i855.localName&&_i855.querySelector("tspan")){var _iterator762=_createForOfIteratorHelper(_i855.querySelectorAll("tspan")),_step762;try{for(_iterator762.s();!(_step762=_iterator762.n()).done;){var _t1187=_step762.value;_t1187.style[this.context]="url(#".concat(_d75.id,")"),ya(this.context,_t1187);}}catch(err){_iterator762.e(err);}finally{_iterator762.f();}}else _i855.style[this.context]="url(#".concat(_d75.id,")"),ya(this.context,_i855);}}}catch(err){_iterator760.e(err);}finally{_iterator760.f();}}var _iterator763=_createForOfIteratorHelper(i),_step763;try{for(_iterator763.s();!(_step763=_iterator763.n()).done;){var _t1189=_step763.value;pi(_t1189,s);}}catch(err){_iterator763.e(err);}finally{_iterator763.f();}}},{key:"Ux",value:function Ux(){var _this477=this;var t=this.Js.board,e=this.Hx(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange,n=t.geometryPrecision;t.undoManager.checkpoint("Paint type"),t.collectGarbage();var o=function o(e){var i=null,s=qo(e,_this477.context);if("linearGradient"===s||"radialGradient"===s){var _s510=Ko(t.masterWorkspace,getComputedStyle(e)[_this477.context]),_n363=ko(_s510);if(_n363)i=_n363;else{i=zi("radialGradient");var _iterator764=_createForOfIteratorHelper(Do(_s510)),_step764;try{for(_iterator764.s();!(_step764=_iterator764.n()).done;){var _t1190=_step764.value;i.append(_t1190.cloneNode());}}catch(err){_iterator764.e(err);}finally{_iterator764.f();}}}else if("solid"===s){var _t1191="",_s511=Xo(e,_this477.context);_t1191=_s511?Ao(_s511):getComputedStyle(e)[_this477.context];var _xo5=xo(_t1191,"hsla"),_xo6=_slicedToArray(_xo5,4),_n364=_xo6[0],_o283=_xo6[1],_l250=_xo6[2],_h193=_xo6[3],_a155=_l250-20<0?0:_l250-20,_r96=bo([_n364,_o283,_l250,_h193],"hsla","rgba"),_d76=bo([_n364,_o283,_a155,_h193],"hsla","rgba");i=Di("\n          <radialGradient>\n            <stop offset=\"0\" style=\"stop-color: ".concat(_r96,"\"></stop>\n            <stop offset=\"1\" style=\"stop-color: ").concat(_d76,"\"></stop>\n          </radialGradient>\n        "));}else i=Di('\n          <radialGradient>\n            <stop offset="0" style="stop-color: #bada55"></stop>\n            <stop offset="1" style="stop-color: #758d29"></stop>\n          </radialGradient>\n        ');return i;};var _iterator765=_createForOfIteratorHelper(i),_step765;try{for(_iterator765.s();!(_step765=_iterator765.n()).done;){var _t1196=_step765.value;ci(_t1196,s);}}catch(err){_iterator765.e(err);}finally{_iterator765.f();}if(s&&!1===s.collapsed){var _e880=s.startContainer.closest("text"),_i856=_e880.querySelectorAll("tspan"),_l251=ui(s,_e880),_h194=_l251.length>0?_l251:_i856,_a156=_h194[0];if("radialGradient"===qo(_a156,this.context)){var _e881=Ko(t.masterWorkspace,getComputedStyle(_a156)[this.context]);var _iterator766=_createForOfIteratorHelper(_h194),_step766;try{for(_iterator766.s();!(_step766=_iterator766.n()).done;){var _t1192=_step766.value;_t1192!==_a156&&(_t1192.style[this.context]="url(#".concat(_e881.id,")"));}}catch(err){_iterator766.e(err);}finally{_iterator766.f();}}else{var _i857=o(_a156);var _iterator767=_createForOfIteratorHelper(_h194),_step767;try{for(_iterator767.s();!(_step767=_iterator767.n()).done;){var _s512=_step767.value;var _o284=Ci(_e880),_l252=Z(_o284.x+_o284.width/2,n),_h195=Z(_o284.y+_o284.height/2,n),_a157=Z(_o284.width/2,n),_r97=zi("svg:radialGradient");if(_r97.setAttribute("gradientUnits","userSpaceOnUse"),_r97.setAttribute("cx",_l252),_r97.setAttribute("cy",_h195),_r97.setAttribute("r",_a157),_i857.isConnected)_r97.setAttribute("id",t.generateUniqueID(_i857.id)),_r97.setAttribute("href","#"+_i857.id);else{_r97.setAttribute("id",t.generateUniqueID("gradient"));var _iterator768=_createForOfIteratorHelper(Eo(_i857)),_step768;try{for(_iterator768.s();!(_step768=_iterator768.n()).done;){var _t1193=_step768.value;_r97.append(_t1193.cloneNode());}}catch(err){_iterator768.e(err);}finally{_iterator768.f();}}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_r97),_s512.style[this.context]="url(#".concat(_r97.id,")");}}catch(err){_iterator767.e(err);}finally{_iterator767.f();}}}else{var _i858=e[0];"text"===_i858.localName&&_i858.querySelector("tspan")&&(_i858=_i858.querySelector("tspan"));var _s513=o(_i858);var _iterator769=_createForOfIteratorHelper(e),_step769;try{for(_iterator769.s();!(_step769=_iterator769.n()).done;){var _i859=_step769.value;var _e882=!1;if("radialGradient"===qo(_i859,this.context)){var _n365=Ko(t.masterWorkspace,getComputedStyle(_i859)[this.context]);ko(_n365)===_s513&&(_e882=!0);}if(!1===_e882){var _e883=Ci(_i859),_o285="use"===_i859.localName?"objectBoundingBox":"userSpaceOnUse",_l253="use"===_i859.localName?.5:Z(_e883.x+_e883.width/2,n),_h196="use"===_i859.localName?.5:Z(_e883.y+_e883.height/2,n),_a158="use"===_i859.localName?.5:Z(_e883.width/2,n),_r98=zi("svg:radialGradient");if(_r98.setAttribute("gradientUnits",_o285),_r98.setAttribute("cx",_l253),_r98.setAttribute("cy",_h196),_r98.setAttribute("r",_a158),_s513.isConnected)_r98.setAttribute("id",t.generateUniqueID(_s513.id)),_r98.setAttribute("href","#"+_s513.id);else{_r98.setAttribute("id",t.generateUniqueID("gradient"));var _iterator770=_createForOfIteratorHelper(Eo(_s513)),_step770;try{for(_iterator770.s();!(_step770=_iterator770.n()).done;){var _t1194=_step770.value;_r98.append(_t1194.cloneNode());}}catch(err){_iterator770.e(err);}finally{_iterator770.f();}}if(t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_r98),"text"===_i859.localName&&_i859.querySelector("tspan")){var _iterator771=_createForOfIteratorHelper(_i859.querySelectorAll("tspan")),_step771;try{for(_iterator771.s();!(_step771=_iterator771.n()).done;){var _t1195=_step771.value;_t1195.style[this.context]="url(#".concat(_r98.id,")"),ya(this.context,_t1195);}}catch(err){_iterator771.e(err);}finally{_iterator771.f();}}else _i859.style[this.context]="url(#".concat(_r98.id,")"),ya(this.context,_i859);}}}catch(err){_iterator769.e(err);}finally{_iterator769.f();}}var _iterator772=_createForOfIteratorHelper(i),_step772;try{for(_iterator772.s();!(_step772=_iterator772.n()).done;){var _t1197=_step772.value;pi(_t1197,s);}}catch(err){_iterator772.e(err);}finally{_iterator772.f();}}},{key:"Nx",value:function Nx(){var _this478=this;var t=this.Js.board,e=this.Hx(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange;t.geometryPrecision;t.undoManager.checkpoint("Paint type"),t.collectGarbage();var n=function n(e){var i=null;if("pattern"===qo(e,_this478.context)){var _s514=getComputedStyle(e)[_this478.context];i=Ko(t.masterWorkspace,_s514),i=Go(i);}else{var _e884=t.masterWorkspace.querySelector("pattern:not([href])");i=_e884||Di('\n            <pattern x="0" y="0" width="25" height="25" patternUnits="userSpaceOnUse" viewBox="0 0 100 100">\n              <rect x="0" y="0" width="50" height="100" style="fill: black;"></rect>\n            </pattern>\n          ');}return i;};var _iterator773=_createForOfIteratorHelper(i),_step773;try{for(_iterator773.s();!(_step773=_iterator773.n()).done;){var _t1201=_step773.value;ci(_t1201,s);}}catch(err){_iterator773.e(err);}finally{_iterator773.f();}if(s&&!1===s.collapsed){var _e885=s.startContainer.closest("text"),_i860=_e885.querySelectorAll("tspan"),_o286=ui(s,_e885),_l254=_o286.length>0?_o286:_i860,_h197=_l254[0];if("pattern"===qo(_h197,this.context)){var _e886=Ko(t.masterWorkspace,getComputedStyle(_h197)[this.context]);var _iterator774=_createForOfIteratorHelper(_l254),_step774;try{for(_iterator774.s();!(_step774=_iterator774.n()).done;){var _t1198=_step774.value;_t1198!==_h197&&(_t1198.style[this.context]="url(#".concat(_e886.id,")"));}}catch(err){_iterator774.e(err);}finally{_iterator774.f();}}else{var _i861=n(_h197);!1===_i861.isConnected&&(_i861.id=t.generateUniqueID("pattern"),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_i861));var _s515=zi("svg:pattern");_s515.setAttribute("id",t.generateUniqueID(_i861.id)),_s515.setAttribute("href","#"+_i861.id),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_s515);var _iterator775=_createForOfIteratorHelper(_l254),_step775;try{for(_iterator775.s();!(_step775=_iterator775.n()).done;){var _t1199=_step775.value;_t1199.style[this.context]="url(#".concat(_s515.id,")");}}catch(err){_iterator775.e(err);}finally{_iterator775.f();}Wo(_s515,_e885,t.transformPrecision);}}else{var _i862=e[0];"text"===_i862.localName&&_i862.querySelector("tspan")&&(_i862=_i862.querySelector("tspan"));var _s516=n(_i862);!1===_s516.isConnected&&(_s516.id=t.generateUniqueID("pattern"),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_s516));var _iterator776=_createForOfIteratorHelper(e),_step776;try{for(_iterator776.s();!(_step776=_iterator776.n()).done;){var _i863=_step776.value;var _e887=!1;if("pattern"===qo(_i863,this.context)){var _n366=Ko(t.masterWorkspace,getComputedStyle(_i863)[this.context]);Go(_n366)===_s516&&(_e887=!0);}if(!1===_e887){var _e888=zi("svg:pattern");if(_e888.setAttribute("id",t.generateUniqueID(_s516.id)),_e888.setAttribute("href","#"+_s516.id),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_e888),"text"===_i863.localName&&_i863.querySelector("tspan")){var _iterator777=_createForOfIteratorHelper(_i863.querySelectorAll("tspan")),_step777;try{for(_iterator777.s();!(_step777=_iterator777.n()).done;){var _t1200=_step777.value;_t1200.style[this.context]="url(#".concat(_e888.id,")"),ya(this.context,_t1200);}}catch(err){_iterator777.e(err);}finally{_iterator777.f();}}else _i863.style[this.context]="url(#".concat(_e888.id,")"),ya(this.context,_i863);Wo(_e888,_i863,t.transformPrecision);}}}catch(err){_iterator776.e(err);}finally{_iterator776.f();}}var _iterator778=_createForOfIteratorHelper(i),_step778;try{for(_iterator778.s();!(_step778=_iterator778.n()).done;){var _t1202=_step778.value;pi(_t1202,s);}}catch(err){_iterator778.e(err);}finally{_iterator778.f();}}},{key:"Vx",value:function Vx(){var t=this.Js.board,e=this.Hx(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange;t.undoManager.checkpoint("Paint type");var _iterator779=_createForOfIteratorHelper(i),_step779;try{for(_iterator779.s();!(_step779=_iterator779.n()).done;){var _t1203=_step779.value;ci(_t1203,s);}}catch(err){_iterator779.e(err);}finally{_iterator779.f();}var _iterator780=_createForOfIteratorHelper(e),_step780;try{for(_iterator780.s();!(_step780=_iterator780.n()).done;){var _t1204=_step780.value;if("text"===_t1204.localName&&_t1204.querySelector("tspan")){var _e889=_t1204.querySelectorAll("tspan"),_i864=ui(s,_t1204),_n367=_i864.length>0&&!s.collapsed?_i864:_e889;_t1204.style[this.context]="inherit",ya(this.context,_t1204);var _iterator781=_createForOfIteratorHelper(_n367),_step781;try{for(_iterator781.s();!(_step781=_iterator781.n()).done;){var _t1205=_step781.value;_t1205.style[this.context]="inherit",ya(this.context,_t1205);}}catch(err){_iterator781.e(err);}finally{_iterator781.f();}}else _t1204.style[this.context]="inherit",ya(this.context,_t1204);}}catch(err){_iterator780.e(err);}finally{_iterator780.f();}}},{key:"jx",value:function jx(){var t=this.Js.board,e=this.Hx(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange;t.undoManager.checkpoint("Paint type");var _iterator782=_createForOfIteratorHelper(i),_step782;try{for(_iterator782.s();!(_step782=_iterator782.n()).done;){var _t1206=_step782.value;ci(_t1206,s);}}catch(err){_iterator782.e(err);}finally{_iterator782.f();}var _iterator783=_createForOfIteratorHelper(e),_step783;try{for(_iterator783.s();!(_step783=_iterator783.n()).done;){var _t1207=_step783.value;if("text"===_t1207.localName&&_t1207.querySelector("tspan")){var _e890=_t1207.querySelectorAll("tspan"),_i865=ui(s,_t1207),_n368=_i865.length>0&&!s.collapsed?_i865:_e890;var _iterator785=_createForOfIteratorHelper(_n368),_step785;try{for(_iterator785.s();!(_step785=_iterator785.n()).done;){var _t1208=_step785.value;_t1208.style[this.context]="none";}}catch(err){_iterator785.e(err);}finally{_iterator785.f();}}else _t1207.style[this.context]="none",ya(this.context,_t1207);}}catch(err){_iterator783.e(err);}finally{_iterator783.f();}var _iterator784=_createForOfIteratorHelper(i),_step784;try{for(_iterator784.s();!(_step784=_iterator784.n()).done;){var _t1209=_step784.value;pi(_t1209,s);}}catch(err){_iterator784.e(err);}finally{_iterator784.f();}}},{key:"$x",value:function $x(t){var e=this.Js.board,i=e.selectedTextRange,s=this["#spread-method-buttons"].querySelector("x-button[toggled]"),n=[];e.undoManager.checkpoint("Spread Method");var _iterator786=_createForOfIteratorHelper(this.Hx()),_step786;try{for(_iterator786.s();!(_step786=_iterator786.n()).done;){var _t1211=_step786.value;if("text"===_t1211.localName){var _e892=bi(_t1211);if(i&&i.intersectsNode(_t1211)){var _iterator787=_createForOfIteratorHelper(_e892),_step787;try{for(_iterator787.s();!(_step787=_iterator787.n()).done;){var _t1212=_step787.value;i.intersectsNode(_t1212)&&!n.includes(_t1212.parentElement)&&n.push(_t1212.parentElement);}}catch(err){_iterator787.e(err);}finally{_iterator787.f();}}else{var _iterator788=_createForOfIteratorHelper(_e892),_step788;try{for(_iterator788.s();!(_step788=_iterator788.n()).done;){var _t1213=_step788.value;!1===n.includes(_t1213.parentElement)&&n.push(_t1213.parentElement);}}catch(err){_iterator788.e(err);}finally{_iterator788.f();}}}else n.push(_t1211);}}catch(err){_iterator786.e(err);}finally{_iterator786.f();}for(var _i866=0,_n369=n;_i866<_n369.length;_i866++){var _t1210=_n369[_i866];var _e891=qo(_t1210,this.context);if("linearGradient"===_e891||"radialGradient"===_e891){Xo(_t1210,this.context).setAttribute("spreadMethod",s.value);}}}},{key:"_x",value:function _x(){var t=this.Js.board,e=this.Hx(),i=e.filter(function(t){return"text"===t.localName;}),s=this["#color-select"].value,n=t.selectedTextRange;t.undoManager.checkpoint("Paint color");var _iterator789=_createForOfIteratorHelper(i),_step789;try{for(_iterator789.s();!(_step789=_iterator789.n()).done;){var _t1217=_step789.value;ci(_t1217,n);}}catch(err){_iterator789.e(err);}finally{_iterator789.f();}if(n&&!1===n.collapsed){var _t1214=n.startContainer.closest("text"),_e893=[];{var _i867=_t1214.querySelectorAll("tspan"),_s517=ui(n,_t1214);_e893=_s517.length>0?_s517:_i867;}var _iterator790=_createForOfIteratorHelper(_e893),_step790;try{for(_iterator790.s();!(_step790=_iterator790.n()).done;){var _t1215=_step790.value;_t1215.style[this.context]="url(#".concat(s,")"),ya(this.context,_t1215);}}catch(err){_iterator790.e(err);}finally{_iterator790.f();}}else{var _iterator791=_createForOfIteratorHelper(e),_step791;try{for(_iterator791.s();!(_step791=_iterator791.n()).done;){var _t1216=_step791.value;if(_t1216.style[this.context]="url(#".concat(s,")"),ya(this.context,_t1216),"text"===_t1216.localName&&_t1216.querySelector("tspan")){var _iterator792=_createForOfIteratorHelper(_t1216.querySelectorAll("tspan")),_step792;try{for(_iterator792.s();!(_step792=_iterator792.n()).done;){var _e894=_step792.value;_e894.style[this.context]="url(#".concat(s,")"),ya(this.context,_e894);}}catch(err){_iterator792.e(err);}finally{_iterator792.f();}}}}catch(err){_iterator791.e(err);}finally{_iterator791.f();}}var _iterator793=_createForOfIteratorHelper(i),_step793;try{for(_iterator793.s();!(_step793=_iterator793.n()).done;){var _t1218=_step793.value;pi(_t1218,n);}}catch(err){_iterator793.e(err);}finally{_iterator793.f();}t.collectGarbage();}},{key:"Cx",value:function Cx(){var t=this.Js.board,e=this.Hx(),i=e.filter(function(t){return"text"===t.localName;}),s=this["#color-select"].value,n=t.masterWorkspace.querySelector("#"+s),o=Ao(n),l=t.selectedTextRange;t.undoManager.checkpoint("Unlink color"),t.collectGarbage();var _iterator794=_createForOfIteratorHelper(i),_step794;try{for(_iterator794.s();!(_step794=_iterator794.n()).done;){var _t1222=_step794.value;ci(_t1222,l);}}catch(err){_iterator794.e(err);}finally{_iterator794.f();}if(l&&!1===l.collapsed){var _t1219=l.startContainer.closest("text"),_e895=[];{var _i868=_t1219.querySelectorAll("tspan"),_s518=ui(l,_t1219);_e895=_s518.length>0?_s518:_i868;}var _iterator795=_createForOfIteratorHelper(_e895),_step795;try{for(_iterator795.s();!(_step795=_iterator795.n()).done;){var _t1220=_step795.value;_t1220.style[this.context]=o,ya(this.context,_t1220);}}catch(err){_iterator795.e(err);}finally{_iterator795.f();}}else{var _iterator796=_createForOfIteratorHelper(e),_step796;try{for(_iterator796.s();!(_step796=_iterator796.n()).done;){var _t1221=_step796.value;if(_t1221.style[this.context]=o,ya(this.context,_t1221),"text"===_t1221.localName&&_t1221.querySelector("tspan")){var _iterator797=_createForOfIteratorHelper(_t1221.querySelectorAll("tspan")),_step797;try{for(_iterator797.s();!(_step797=_iterator797.n()).done;){var _e896=_step797.value;_e896.style[this.context]=o,ya(this.context,_e896);}}catch(err){_iterator797.e(err);}finally{_iterator797.f();}}}}catch(err){_iterator796.e(err);}finally{_iterator796.f();}}var _iterator798=_createForOfIteratorHelper(i),_step798;try{for(_iterator798.s();!(_step798=_iterator798.n()).done;){var _t1223=_step798.value;pi(_t1223,l);}}catch(err){_iterator798.e(err);}finally{_iterator798.f();}}},{key:"Mx",value:function Mx(){var t=this.Js.board,e=this.Hx(),i=e.filter(function(t){return"text"===t.localName;}),s=this["#gradient-select"].value,n=t.masterWorkspace.querySelector("#"+CSS.escape(s)),o=oi(this["#paint-type-buttons"].value),l=t.selectedTextRange,h=t.geometryPrecision;t.undoManager.checkpoint("Gradient");var _iterator799=_createForOfIteratorHelper(i),_step799;try{for(_iterator799.s();!(_step799=_iterator799.n()).done;){var _t1231=_step799.value;ci(_t1231,l);}}catch(err){_iterator799.e(err);}finally{_iterator799.f();}if(l&&!1===l.collapsed){var _e897=l.startContainer.closest("text"),_i869=[],_s519=null;{var _t1224=_e897.querySelectorAll("tspan"),_s520=ui(l,_e897);_i869=_s520.length>0?_s520:_t1224;}{var _e898=qo(_i869[0],this.context);if("linearGradient"===_e898||"radialGradient"===_e898){var _e899=getComputedStyle(_i869[0])[this.context];_s519=Ko(t.masterWorkspace,_e899);}}if(_s519&&ko(_s519)===n){var _iterator800=_createForOfIteratorHelper(_i869),_step800;try{for(_iterator800.s();!(_step800=_iterator800.n()).done;){var _t1225=_step800.value;_t1225!==_i869[0]&&(_t1225.style[this.context]="url(#".concat(_s519.id,")"));}}catch(err){_iterator800.e(err);}finally{_iterator800.f();}}else{var _s521=Ci(_e897);var _iterator801=_createForOfIteratorHelper(_i869),_step801;try{for(_iterator801.s();!(_step801=_iterator801.n()).done;){var _e900=_step801.value;var _i870=zi("svg:".concat(o));if(_i870.setAttribute("id",t.generateUniqueID(n.id)),_i870.setAttribute("href","#"+n.id),_i870.setAttribute("gradientUnits","userSpaceOnUse"),"linearGradient"===o){var _t1226=Z(_s521.x+_s521.width/2,h),_e901=Z(_s521.y,h),_n370=Z(_s521.x+_s521.width/2,h),_o287=Z(_s521.y+_s521.height,h);_i870.setAttribute("x1",_t1226),_i870.setAttribute("y1",_e901),_i870.setAttribute("x2",_n370),_i870.setAttribute("y2",_o287);}else if("radialGradient"===o){var _t1227=Z(_s521.x+_s521.width/2,h),_e902=Z(_s521.y+_s521.height/2,h),_n371=Z(_s521.width/2,h);_i870.setAttribute("cx",_t1227),_i870.setAttribute("cy",_e902),_i870.setAttribute("r",_n371);}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_i870),_e900.style[this.context]="url(#".concat(_i870.id,")"),ya(this.context,_e900);}}catch(err){_iterator801.e(err);}finally{_iterator801.f();}}}else{var _iterator802=_createForOfIteratorHelper(e),_step802;try{for(_iterator802.s();!(_step802=_iterator802.n()).done;){var _i871=_step802.value;if(qo(_i871,this.context)===o){var _e904=Ko(t.masterWorkspace,getComputedStyle(_i871)[this.context]);if(ko(_e904)===n)continue;}var _e903=Ci(_i871),_s522=zi("svg:".concat(o));if(_s522.setAttribute("id",t.generateUniqueID(n.id)),_s522.setAttribute("href","#"+n.id),_s522.setAttribute("gradientUnits","use"===_i871.localName?"objectBoundingBox":"userSpaceOnUse"),"linearGradient"===o){var _t1228="use"===_i871.localName?.5:Z(_e903.x+_e903.width/2,h),_n372="use"===_i871.localName?0:Z(_e903.y,h),_o288="use"===_i871.localName?.5:Z(_e903.x+_e903.width/2,h),_l255="use"===_i871.localName?1:Z(_e903.y+_e903.height,h);_s522.setAttribute("x1",_t1228),_s522.setAttribute("y1",_n372),_s522.setAttribute("x2",_o288),_s522.setAttribute("y2",_l255);}else if("radialGradient"===o){var _t1229="use"===_i871.localName?.5:Z(_e903.x+_e903.width/2,h),_n373="use"===_i871.localName?.5:Z(_e903.y+_e903.height/2,h),_o289="use"===_i871.localName?.5:Z(_e903.width/2,h);_s522.setAttribute("cx",_t1229),_s522.setAttribute("cy",_n373),_s522.setAttribute("r",_o289);}if(t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_s522),_i871.style[this.context]="url(#".concat(_s522.id,")"),ya(this.context,_i871),"text"===_i871.localName&&_i871.querySelector("tspan")){var _iterator803=_createForOfIteratorHelper(_i871.querySelectorAll("tspan")),_step803;try{for(_iterator803.s();!(_step803=_iterator803.n()).done;){var _t1230=_step803.value;_t1230.style[this.context]="url(#".concat(_s522.id,")"),ya(this.context,_t1230);}}catch(err){_iterator803.e(err);}finally{_iterator803.f();}}}}catch(err){_iterator802.e(err);}finally{_iterator802.f();}}var _iterator804=_createForOfIteratorHelper(i),_step804;try{for(_iterator804.s();!(_step804=_iterator804.n()).done;){var _t1232=_step804.value;pi(_t1232,l);}}catch(err){_iterator804.e(err);}finally{_iterator804.f();}t.collectGarbage();}},{key:"Px",value:function Px(){var t=this.Js.board,e=t.selectedTextRange,i=t.geometryPrecision,s=[];t.undoManager.checkpoint("Unlink gradient"),t.collectGarbage();var _iterator805=_createForOfIteratorHelper(this.Hx()),_step805;try{for(_iterator805.s();!(_step805=_iterator805.n()).done;){var _t1238=_step805.value;if("text"===_t1238.localName){var _i874=bi(_t1238);if(e&&e.intersectsNode(_t1238)){"backward"===e.direction&&_i874.reverse();var _iterator807=_createForOfIteratorHelper(_i874),_step807;try{for(_iterator807.s();!(_step807=_iterator807.n()).done;){var _t1239=_step807.value;e.intersectsNode(_t1239)&&!1===s.includes(_t1239.parentElement)&&s.push(_t1239.parentElement);}}catch(err){_iterator807.e(err);}finally{_iterator807.f();}}else{var _iterator808=_createForOfIteratorHelper(_i874),_step808;try{for(_iterator808.s();!(_step808=_iterator808.n()).done;){var _t1240=_step808.value;!1===s.includes(_t1240.parentElement)&&s.push(_t1240.parentElement);}}catch(err){_iterator808.e(err);}finally{_iterator808.f();}}}else s.push(_t1238);}}catch(err){_iterator805.e(err);}finally{_iterator805.f();}for(var _i872=0,_s523=s;_i872<_s523.length;_i872++){var _e905=_s523[_i872];var _s524=qo(_e905,this.context),_n374=null;if("linearGradient"===_s524||"radialGradient"===_s524){_n374=Ko(t.masterWorkspace,getComputedStyle(_e905)[this.context]);{var _o290=zi("svg:".concat(_s524));_o290.setAttribute("id",t.generateUniqueID("gradient"));var _iterator806=_createForOfIteratorHelper(Do(_n374)),_step806;try{for(_iterator806.s();!(_step806=_iterator806.n()).done;){var _t1237=_step806.value;_o290.append(_t1237.cloneNode());}}catch(err){_iterator806.e(err);}finally{_iterator806.f();}{var _t1233=[],_l256=[];"linearGradient"===_s524?_t1233=["x1","x2","y1","y2","gradientUnits","gradientTransform","spreadMethod"]:"radialGradient"===_s524&&(_t1233=["cx","cy","r","fx","fy","fr","gradientUnits","gradientTransform","spreadMethod"]);for(var _i873=0,_t1234=_t1233;_i873<_t1234.length;_i873++){var _e906=_t1234[_i873];var _t1235=zo(_n374,_e906);null!==_t1235&&(_o290.setAttribute(_e906,_t1235),_l256.push(_e906));}if(0===_l256.length){var _t1236=Ci(_e905);if(_o290.setAttribute("gradientUnits","userSpaceOnUse"),"linearGradient"===_s524){var _e907=Z(_t1236.x,i),_s525=Z(_t1236.y,i),_n375=Z(_t1236.x+_t1236.width,i),_l257=Z(_t1236.y,i);_o290.setAttribute("x1",_e907),_o290.setAttribute("y1",_s525),_o290.setAttribute("x2",_n375),_o290.setAttribute("y2",_l257);}else if("radialGradient"===_s524){var _e908=Z(_t1236.x+_t1236.width/2,i),_s526=Z(_t1236.y+_t1236.height/2,i),_n376=Z(_t1236.width/2,i);_o290.setAttribute("cx",_e908),_o290.setAttribute("cy",_s526),_o290.setAttribute("r",_n376);}}}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_o290),_e905.style[this.context]="url(#".concat(_o290.id,")"),ya(this.context,_e905);}}}t.collectGarbage();}},{key:"zx",value:function zx(){this.Qs.setConfig("bx-paintinspector#".concat(this.id,":colorPickerFormat"),this["#color-picker"].format);}},{key:"Ox",value:function Ox(t){this["#color-picker"].type=t.detail.value,this.Qs.setConfig("bx-paintinspector#".concat(this.id,":colorPickerType"),this["#color-picker"].type);}},{key:"Dx",value:function Dx(t){var _this479=this;var e,_i876,s=this.Js.board,n=[].concat(_toConsumableArray(s.linearGradientHud.selectedStops),_toConsumableArray(s.radialGradientHud.selectedStops));if(s.undoManager.checkpoint("Change color"),n.length>0)this["#color-picker"].addEventListener("change",e=function e(){var _iterator809=_createForOfIteratorHelper(n),_step809;try{for(_iterator809.s();!(_step809=_iterator809.n()).done;){var _t1241=_step809.value;_t1241.style.stopColor=_this479["#color-picker"].value,ya("stop-color",_t1241);}}catch(err){_iterator809.e(err);}finally{_iterator809.f();}}),this["#color-picker"].addEventListener("changeend",_i876=function i(){_this479["#color-picker"].removeEventListener("change",e),_this479["#color-picker"].removeEventListener("changeend",_i876);});else{var _t1242=this.Hx(),_n377=_t1242.filter(function(t){return"text"===t.localName;}),_o291=s.selectedTextRange,_l258=[],_h198=null;null!==this["#color-select"].value&&(_h198=s.masterWorkspace.querySelector("#"+this["#color-select"].value));var _iterator810=_createForOfIteratorHelper(_n377),_step810;try{for(_iterator810.s();!(_step810=_iterator810.n()).done;){var _t1246=_step810.value;ci(_t1246,_o291);}}catch(err){_iterator810.e(err);}finally{_iterator810.f();}var _iterator811=_createForOfIteratorHelper(_t1242),_step811;try{for(_iterator811.s();!(_step811=_iterator811.n()).done;){var _e909=_step811.value;if("text"===_e909.localName&&_e909.querySelector("tspan")){var _t1247=_e909.querySelectorAll("tspan"),_i877=ui(_o291,_e909),_s527=_i877.length>0&&!_o291.collapsed?_i877:_t1247;_l258.push.apply(_l258,_toConsumableArray(_s527));}else _l258.push(_e909);}}catch(err){_iterator811.e(err);}finally{_iterator811.f();}this["#color-picker"].addEventListener("change",e=function e(){if(_h198){$o(_h198,_this479["#color-picker"].value);var _iterator812=_createForOfIteratorHelper(_l258),_step812;try{for(_iterator812.s();!(_step812=_iterator812.n()).done;){var _t1243=_step812.value;_t1243.style[_this479.context]="url(#".concat(_h198.id,")"),ya(_this479.context,_t1243);}}catch(err){_iterator812.e(err);}finally{_iterator812.f();}}else{var _iterator813=_createForOfIteratorHelper(_l258),_step813;try{for(_iterator813.s();!(_step813=_iterator813.n()).done;){var _t1244=_step813.value;_t1244.style[_this479.context]=_this479["#color-picker"].value,ya(_this479.context,_t1244);}}catch(err){_iterator813.e(err);}finally{_iterator813.f();}}}),this["#color-picker"].addEventListener("changeend",_i876=function _i875(){_this479["#color-picker"].removeEventListener("change",e),_this479["#color-picker"].removeEventListener("changeend",_i876);var _iterator814=_createForOfIteratorHelper(_n377),_step814;try{for(_iterator814.s();!(_step814=_iterator814.n()).done;){var _t1245=_step814.value;pi(_t1245,_o291);}}catch(err){_iterator814.e(err);}finally{_iterator814.f();}});}}},{key:"Ex",value:function Ex(t){0===t.button&&"edit-tool-span"===t.target.id&&this.Js.toggleTool("edit-tool");}},{key:"Tx",value:function Tx(){var _this480=this;var t,_e910,i=this.Js.board,s=[].concat(_toConsumableArray(i.linearGradientHud.selectedStops),_toConsumableArray(i.radialGradientHud.selectedStops));i.undoManager.checkpoint("Stop opacity"),this.kx=!0,this["#stop-opacity-section"].addEventListener("change",t=function t(_t1249){_t1249.target===_this480["#stop-opacity-slider"]?_this480["#stop-opacity-input"].value=_this480["#stop-opacity-slider"].value:_t1249.target===_this480["#stop-opacity-input"]&&(_this480["#stop-opacity-slider"].value=_this480["#stop-opacity-input"].value),_this480["#stop-opacity-slider"].mixed=!1,_this480["#stop-opacity-input"].mixed=!1;var _iterator815=_createForOfIteratorHelper(s),_step815;try{for(_iterator815.s();!(_step815=_iterator815.n()).done;){var _t1248=_step815.value;_t1248.style.setProperty("stop-opacity",_this480["#stop-opacity-slider"].value);}}catch(err){_iterator815.e(err);}finally{_iterator815.f();}}),this["#stop-opacity-section"].addEventListener("changeend",_e910=function e(){_this480["#stop-opacity-section"].removeEventListener("change",t),_this480["#stop-opacity-section"].removeEventListener("changeend",_e910);var _iterator816=_createForOfIteratorHelper(s),_step816;try{for(_iterator816.s();!(_step816=_iterator816.n()).done;){var _t1250=_step816.value;ya("stop-opacity",_t1250);}}catch(err){_iterator816.e(err);}finally{_iterator816.f();}_this480.kx=!1;});}},{key:"Ax",value:function Ax(){var t=this.Js.board,e=this.Hx(),i=e.filter(function(t){return"text"===t.localName;}),s=this["#pattern-select"].value,n=t.masterWorkspace.querySelector("#"+CSS.escape(s)),o=t.selectedTextRange;t.geometryPrecision;t.undoManager.checkpoint("Pattern");var _iterator817=_createForOfIteratorHelper(i),_step817;try{for(_iterator817.s();!(_step817=_iterator817.n()).done;){var _t1251=_step817.value;ci(_t1251,o);}}catch(err){_iterator817.e(err);}finally{_iterator817.f();}var _iterator818=_createForOfIteratorHelper(e),_step818;try{for(_iterator818.s();!(_step818=_iterator818.n()).done;){var _i878=_step818.value;if("text"===_i878.localName&&_i878.querySelectorAll("tspan").length>0){var _e911=_i878.querySelectorAll("tspan"),_s528=ui(o,_i878),_l259=_s528.length>0&&!o.collapsed?_s528:_e911,_h199=Xo(_l259[0],this.context),_a159=_h199&&"pattern"===_h199.localName?_h199:null;if(_a159&&Yo([_a159,n])){var _iterator820=_createForOfIteratorHelper(_l259),_step820;try{for(_iterator820.s();!(_step820=_iterator820.n()).done;){var _t1252=_step820.value;_t1252.style[this.context]="url(#".concat(_a159.id,")");}}catch(err){_iterator820.e(err);}finally{_iterator820.f();}}else{var _e912=zi("svg:pattern");_e912.setAttribute("id",t.generateUniqueID(n.id)),_e912.setAttribute("href","#"+n.id),n.hasAttribute("patternTransform")&&_e912.setAttribute("patternTransform",""),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_e912);var _iterator821=_createForOfIteratorHelper(_l259),_step821;try{for(_iterator821.s();!(_step821=_iterator821.n()).done;){var _t1253=_step821.value;_t1253.style[this.context]="url(#".concat(_e912.id,")");}}catch(err){_iterator821.e(err);}finally{_iterator821.f();}Wo(_e912,_i878,t.transformPrecision);}}else{if("pattern"===qo(_i878,this.context)){var _e914=getComputedStyle(_i878)[this.context],_s529=Ko(t.masterWorkspace,_e914);if(Yo([_s529,n]))continue;}var _e913=zi("svg:pattern");_e913.setAttribute("id",t.generateUniqueID(n.id)),_e913.setAttribute("href","#"+n.id),n.hasAttribute("patternTransform")&&_e913.setAttribute("patternTransform",""),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_e913),_i878.style[this.context]="url(#".concat(_e913.id,")"),ya(this.context,_i878),Wo(_e913,_i878,t.transformPrecision);}}}catch(err){_iterator818.e(err);}finally{_iterator818.f();}var _iterator819=_createForOfIteratorHelper(i),_step819;try{for(_iterator819.s();!(_step819=_iterator819.n()).done;){var _t1254=_step819.value;pi(_t1254,o);}}catch(err){_iterator819.e(err);}finally{_iterator819.f();}t.collectGarbage();}},{key:"Ix",value:function Ix(){var t=this.Js.board,e=this.Hx(),i=t.selectedTextRange;t.undoManager.checkpoint("Paint order");var _iterator822=_createForOfIteratorHelper(e),_step822;try{for(_iterator822.s();!(_step822=_iterator822.n()).done;){var _t1255=_step822.value;if("text"===_t1255.localName){ci(_t1255,i);var _e915=_t1255.querySelectorAll("tspan"),_s530=ui(i,_t1255),_n378=_s530.length>0&&!i.collapsed?_s530:_e915;if(_n378.length>0){var _iterator823=_createForOfIteratorHelper(_n378),_step823;try{for(_iterator823.s();!(_step823=_iterator823.n()).done;){var _t1256=_step823.value;_t1256.style.paintOrder=this["#paint-order-switch"].value.join(" ");}}catch(err){_iterator823.e(err);}finally{_iterator823.f();}}else _t1255.style.paintOrder=this["#paint-order-switch"].value.join(" "),ya("paint-order",_t1255);pi(_t1255,i);}else _t1255.style.paintOrder=this["#paint-order-switch"].value.join(" "),ya("paint-order",_t1255);}}catch(err){_iterator822.e(err);}finally{_iterator822.f();}}},{key:"qs",value:function qs(){var _this481=this;var t=this.Js.board,e=[].concat(_toConsumableArray(t.linearGradientHud.selectedStops),_toConsumableArray(t.radialGradientHud.selectedStops)),i=[],s=null,n=null,o=null;{var _l260=t.selectedTextRange;var _iterator824=_createForOfIteratorHelper(this.Hx()),_step824;try{for(_iterator824.s();!(_step824=_iterator824.n()).done;){var _t1258=_step824.value;if("text"===_t1258.localName){var _e916=bi(_t1258);if(_l260&&_l260.intersectsNode(_t1258)){"backward"===_l260.direction&&_e916.reverse();var _iterator825=_createForOfIteratorHelper(_e916),_step825;try{for(_iterator825.s();!(_step825=_iterator825.n()).done;){var _t1259=_step825.value;_l260.intersectsNode(_t1259)&&!1===i.includes(_t1259.parentElement)&&i.push(_t1259.parentElement);}}catch(err){_iterator825.e(err);}finally{_iterator825.f();}}else{var _iterator826=_createForOfIteratorHelper(_e916),_step826;try{for(_iterator826.s();!(_step826=_iterator826.n()).done;){var _t1260=_step826.value;!1===i.includes(_t1260.parentElement)&&i.push(_t1260.parentElement);}}catch(err){_iterator826.e(err);}finally{_iterator826.f();}}}else i.push(_t1258);}}catch(err){_iterator824.e(err);}finally{_iterator824.f();}if(i.length>0&&(s=i[0]),e.length>0){var _t1257=e[0].closest("linearGradient, radialGradient"),_n379=i.find(function(e){return Xo(e,_this481.context)===_t1257;});_n379&&(s=_n379);}s&&(n=qo(s,this.context),o=Xo(s,this.context));}if(this["#section-heading"].disabled=!s,this["#inherit-paint-button"].hidden="symbol"!==t.currentWorkspace.getAttribute("data-bx-workspace"),s){var _e917=n;"symbol"===t.currentWorkspace.getAttribute("data-bx-workspace")&&"inherit"===s.style[this.context]&&(_e917="inherit");var _o292=Zo(i,this.context);if(this["#paint-type-heading"].disabled=!1,"solid"===_e917){var _iterator827=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step827;try{for(_iterator827.s();!(_step827=_iterator827.n()).done;){var _t1261=_step827.value;_t1261.disabled=!1,"solid"===_t1261.value?(_t1261.toggled=!0,_t1261.mixed=_o292):(_t1261.toggled=!1,_t1261.mixed=!1);}}catch(err){_iterator827.e(err);}finally{_iterator827.f();}}else if("linearGradient"===_e917){var _iterator828=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step828;try{for(_iterator828.s();!(_step828=_iterator828.n()).done;){var _t1262=_step828.value;_t1262.disabled=!1,"linear-gradient"===_t1262.value?(_t1262.toggled=!0,_t1262.mixed=_o292):(_t1262.toggled=!1,_t1262.mixed=!1);}}catch(err){_iterator828.e(err);}finally{_iterator828.f();}}else if("radialGradient"===_e917){var _iterator829=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step829;try{for(_iterator829.s();!(_step829=_iterator829.n()).done;){var _t1263=_step829.value;_t1263.disabled=!1,"radial-gradient"===_t1263.value?(_t1263.toggled=!0,_t1263.mixed=_o292):(_t1263.toggled=!1,_t1263.mixed=!1);}}catch(err){_iterator829.e(err);}finally{_iterator829.f();}}else if("pattern"===_e917){var _iterator830=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step830;try{for(_iterator830.s();!(_step830=_iterator830.n()).done;){var _t1264=_step830.value;_t1264.disabled=!1,"pattern"===_t1264.value?(_t1264.toggled=!0,_t1264.mixed=_o292):(_t1264.toggled=!1,_t1264.mixed=!1);}}catch(err){_iterator830.e(err);}finally{_iterator830.f();}}else if("inherit"===_e917){var _iterator831=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step831;try{for(_iterator831.s();!(_step831=_iterator831.n()).done;){var _t1265=_step831.value;_t1265.disabled=!1,"inherit"===_t1265.value?(_t1265.toggled=!0,_t1265.mixed=_o292):(_t1265.toggled=!1,_t1265.mixed=!1);}}catch(err){_iterator831.e(err);}finally{_iterator831.f();}}else if("none"===_e917){var _iterator832=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step832;try{for(_iterator832.s();!(_step832=_iterator832.n()).done;){var _t1266=_step832.value;_t1266.disabled=!1,"none"===_t1266.value?(_t1266.toggled=!0,_t1266.mixed=_o292):(_t1266.toggled=!1,_t1266.mixed=!1);}}catch(err){_iterator832.e(err);}finally{_iterator832.f();}}}else{this["#paint-type-heading"].disabled=!0;var _iterator833=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step833;try{for(_iterator833.s();!(_step833=_iterator833.n()).done;){var _t1267=_step833.value;_t1267.disabled=!0,_t1267.toggled=!1,_t1267.mixed=!1;}}catch(err){_iterator833.e(err);}finally{_iterator833.f();}}if("solid"===n?(this["#color-select-section"].hidden=!1,this["#color-select"].enabled=!0,this["#color-select"].mixed=Zo(i,this.context),this["#color-select"].value=o?o.id:null,this["#color-unlink-button"].hidden=null===o):(this["#color-select-section"].hidden=!0,this["#color-select"].enabled=!1),"linearGradient"===n||"radialGradient"===n){var _t1268=ko(o);this["#gradient-select-section"].hidden=!1,this["#gradient-select"].enabled=!0,this["#gradient-select"].mixed=Zo(i,this.context),this["#gradient-select"].value=_t1268?_t1268.id:null,this["#gradient-unlink-button"].hidden=!1===this.Yx();}else this["#gradient-select-section"].hidden=!0,this["#gradient-select"].enabled=!1;if("pattern"===n){var _e918=_toConsumableArray(t.masterWorkspace.querySelectorAll("pattern"));_e918=_e918.filter(function(t){return!1===t.hasAttribute("href");});var _s531=Go(o);this["#pattern-select-section"].hidden=!1,this["#pattern-select"].enabled=!0,this["#pattern-select"].mixed=Zo(i,this.context),this["#pattern-select"].value=_s531?_s531.id:null;}else this["#pattern-select-section"].hidden=!0,this["#pattern-select"].mixed=!1,this["#pattern-select"].enabled=!1;if("solid"===n){var _t1269=getComputedStyle(s)[this.context],_e919=Zo(i,this.context);if(!1===wo(_t1269)){var _e920=no.fromString(_t1269),_i879=this.Js.board.masterWorkspace.querySelector(_e920.value);_t1269=Ao(_i879);}this["#color-section"].hidden=!1,this["#color-section"].style.marginTop="11px",this["#color-section-heading"].hidden=!0,this["#color-picker"].hidden=!1,this["#color-picker"].value=_t1269,this["#color-picker"].mixed=_e919,this["#color-picker-type-buttons"].hidden=!1,this["#color-picker-hint"].hidden=!0;}else if("linearGradient"===n||"radialGradient"===n){var _e921=Zo(i,this.context),_s532=t["".concat(n,"Hud")].selectedStops;this["#color-section"].hidden=!1,this["#color-section"].style.marginTop=null,this["#color-section-heading"].hidden=!1,this["#color-section-heading"].textContent="Stop color",0===_s532.length?(this["#color-picker"].hidden=!0,this["#color-picker-type-buttons"].hidden=!0,this["#color-picker-hint"].hidden=!1):(this["#color-picker"].hidden=!1,this["#color-picker"].mixed=_e921,this["#color-picker"].value=getComputedStyle(_s532[0]).stopColor||"#000",this["#color-picker-type-buttons"].hidden=!1,this["#color-picker-hint"].hidden=!0);}else this["#color-section"].hidden=!0;if(!1===this.kx)if("linearGradient"===n||"radialGradient"===n){var _e922=t["".concat(n,"Hud")].selectedStops;if(0===_e922.length)this["#stop-opacity-section"].hidden=!0;else{var _t1270=_e922.map(function(t){return getComputedStyle(t).stopOpacity;}),_i880=!1===ei(_t1270,_t1270[0]);this["#stop-opacity-section"].hidden=!1,this["#stop-opacity-slider"].value=_t1270[0],this["#stop-opacity-input"].mixed=_i880,this["#stop-opacity-input"].value=_t1270[0];}}else this["#stop-opacity-section"].hidden=!0;if("linearGradient"===n||"radialGradient"===n){this["#spread-method-section"].hidden=!1;var _t1271=o,_e923=!1;var _iterator834=_createForOfIteratorHelper(i),_step834;try{for(_iterator834.s();!(_step834=_iterator834.n()).done;){var _s533=_step834.value;var _i881=Xo(_s533,this.context);_i881&&_i881.localName.endsWith("Gradient")&&_i881.spreadMethod.baseVal!==_t1271.spreadMethod.baseVal&&(_e923=!0);}}catch(err){_iterator834.e(err);}finally{_iterator834.f();}_t1271.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_REPEAT?(this["#repeat-spread-method-button"].toggled=!0,this["#repeat-spread-method-button"].mixed=_e923,this["#pad-spread-method-button"].toggled=!1,this["#pad-spread-method-button"].mixed=!1,this["#reflect-spread-method-button"].toggled=!1,this["#reflect-spread-method-button"].mixed=!1):_t1271.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_PAD?(this["#repeat-spread-method-button"].toggled=!1,this["#repeat-spread-method-button"].mixed=!1,this["#pad-spread-method-button"].toggled=!0,this["#pad-spread-method-button"].mixed=_e923,this["#reflect-spread-method-button"].toggled=!1,this["#reflect-spread-method-button"].mixed=!1):_t1271.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_REFLECT&&(this["#repeat-spread-method-button"].toggled=!1,this["#repeat-spread-method-button"].mixed=!1,this["#pad-spread-method-button"].toggled=!1,this["#pad-spread-method-button"].mixed=!1,this["#reflect-spread-method-button"].toggled=!0,this["#reflect-spread-method-button"].mixed=_e923);}else this["#spread-method-section"].hidden=!0;if(s){if("none"===n)this["#paint-order-section"].hidden=!0;else{var _t1272=getComputedStyle(s).paintOrder;if("normal"===_t1272)_t1272=["fill","stroke","markers"];else{_t1272=_t1272.split(" ");for(var _i882=0,_arr40=["fill","stroke","markers"];_i882<_arr40.length;_i882++){var _e924=_arr40[_i882];!1===_t1272.includes(_e924)&&_t1272.push(_e924);}}this["#paint-order-section"].hidden=!1,this["#paint-order-switch"].value=_t1272;}}else this["#paint-order-section"].hidden=!0;}},{key:"Yx",value:function Yx(){var _this482=this;var t=this.Js.board,e=t.selectedTextRange,i=[];var _iterator835=_createForOfIteratorHelper(this.Hx()),_step835;try{for(_iterator835.s();!(_step835=_iterator835.n()).done;){var _t1273=_step835.value;if("text"===_t1273.localName){var _s534=bi(_t1273);if(e&&e.intersectsNode(_t1273)){"backward"===e.direction&&_s534.reverse();var _iterator836=_createForOfIteratorHelper(_s534),_step836;try{for(_iterator836.s();!(_step836=_iterator836.n()).done;){var _t1274=_step836.value;e.intersectsNode(_t1274)&&!1===i.includes(_t1274.parentElement)&&i.push(_t1274.parentElement);}}catch(err){_iterator836.e(err);}finally{_iterator836.f();}}else{var _iterator837=_createForOfIteratorHelper(_s534),_step837;try{for(_iterator837.s();!(_step837=_iterator837.n()).done;){var _t1275=_step837.value;!1===i.includes(_t1275.parentElement)&&i.push(_t1275.parentElement);}}catch(err){_iterator837.e(err);}finally{_iterator837.f();}}}else i.push(_t1273);}}catch(err){_iterator835.e(err);}finally{_iterator835.f();}return i=i.filter(function(e){var i=qo(e,_this482.context);if("linearGradient"===i||"radialGradient"===i){var _i883=Ko(t.masterWorkspace,getComputedStyle(e)[_this482.context]);if(ko(_i883))return!0;}return!1;}),i.length>0;}},{key:"Hx",value:function Hx(){var t=[],e=function e(i){var _iterator838=_createForOfIteratorHelper(i),_step838;try{for(_iterator838.s();!(_step838=_iterator838.n()).done;){var _s535=_step838.value;w.includes(_s535.localName)||"use"===_s535.localName?t.push(_s535):"g"!==_s535.localName&&"a"!==_s535.localName||e(_s535.children);}}catch(err){_iterator838.e(err);}finally{_iterator838.f();}};return e(this.Js.board.outermostSelectedElements),t;}}]);return wx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(wx,"observedAttributes",["enabled","context"]);_defineProperty(wx,"_shadowTemplate",Yi(_templateObject262()));_defineProperty(wx,"_shadowStyleSheet",Wi(_templateObject263()));customElements.define("bx-paintinspector",wx);var vx=Number.parseFloat;var yx=/*#__PURE__*/function(_HTMLElement73){_inherits(yx,_HTMLElement73);var _super102=_createSuper(yx);_createClass(yx,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function yx(){var _this483;_classCallCheck(this,yx);_this483=_super102.call(this),_this483._a=Xi(_this483.qs,200,_assertThisInitialized(_this483)),_this483.Wx=!1,_this483._shadowRoot=_this483.attachShadow({mode:"closed"}),_this483._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,yx._shadowStyleSheet],_this483._shadowRoot.append(document.importNode(yx._shadowTemplate.content,!0));var _iterator839=_createForOfIteratorHelper(_this483._shadowRoot.querySelectorAll("[id]")),_step839;try{for(_iterator839.s();!(_step839=_iterator839.n()).done;){var _t1276=_step839.value;_this483["#"+_t1276.id]=_t1276;}}catch(err){_iterator839.e(err);}finally{_iterator839.f();}_this483["#opacity-section"].addEventListener("changestart",function(){return _this483.qx();}),_this483["#rule-buttons"].addEventListener("toggle",function(t){return _this483.Xx(t);});return _this483;}_createClass(yx,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ai(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this484=this;this["#fill-paint-inspector"].enabled=!0,this._a(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this484.Jo();}),this.Js.board.addEventListener("selectedtextrangechange",this.Wh=function(){_this484.qh();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this484.sl(t);});}},{key:"sn",value:function sn(){this["#fill-paint-inspector"].enabled=!1,this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("selectedtextrangechange",this.Wh),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){this._a();}},{key:"qh",value:function qh(){this._a();}},{key:"sl",value:function sl(t){this._a();}},{key:"qx",value:function qx(){var _this485=this;this.Js.board.undoManager.checkpoint("Fill opacity");var t,_e925,i=this.Hx(),s=i.filter(function(t){return"text"===t.localName;}),n=this.Js.board.selectedTextRange,o=[];var _iterator840=_createForOfIteratorHelper(s),_step840;try{for(_iterator840.s();!(_step840=_iterator840.n()).done;){var _t1281=_step840.value;ci(_t1281,n);}}catch(err){_iterator840.e(err);}finally{_iterator840.f();}var _iterator841=_createForOfIteratorHelper(i),_step841;try{for(_iterator841.s();!(_step841=_iterator841.n()).done;){var _t1282=_step841.value;if("text"===_t1282.localName){var _e926=_t1282.querySelectorAll("tspan"),_i884=ui(n,_t1282),_s536=_i884.length>0&&!n.collapsed?_i884:_e926;o.push.apply(o,_toConsumableArray(_s536));}else o.push(_t1282);}}catch(err){_iterator841.e(err);}finally{_iterator841.f();}this.Wx=!0,this["#opacity-section"].addEventListener("change",t=function t(_t1278){_t1278.target===_this485["#opacity-slider"]?_this485["#opacity-input"].value=_this485["#opacity-slider"].value:_t1278.target===_this485["#opacity-input"]&&(_this485["#opacity-slider"].value=_this485["#opacity-input"].value),_this485["#opacity-slider"].mixed=!1,_this485["#opacity-input"].mixed=!1;var _iterator842=_createForOfIteratorHelper(o),_step842;try{for(_iterator842.s();!(_step842=_iterator842.n()).done;){var _t1277=_step842.value;_t1277.style.setProperty("fill-opacity",_this485["#opacity-slider"].value);}}catch(err){_iterator842.e(err);}finally{_iterator842.f();}}),this["#opacity-section"].addEventListener("changeend",_e925=function e(){_this485["#opacity-section"].removeEventListener("change",t),_this485["#opacity-section"].removeEventListener("changeend",_e925),_this485.Wx=!1;var _iterator843=_createForOfIteratorHelper(o),_step843;try{for(_iterator843.s();!(_step843=_iterator843.n()).done;){var _t1279=_step843.value;ya("fill-opacity",_t1279);}}catch(err){_iterator843.e(err);}finally{_iterator843.f();}var _iterator844=_createForOfIteratorHelper(s),_step844;try{for(_iterator844.s();!(_step844=_iterator844.n()).done;){var _t1280=_step844.value;pi(_t1280,n);}}catch(err){_iterator844.e(err);}finally{_iterator844.f();}});}},{key:"Xx",value:function Xx(t){var e=this.Hx(),i=e.filter(function(t){return"text"===t.localName;}),s=this.Js.board.selectedTextRange,n=[];this.Js.board.undoManager.checkpoint("Fill rule");var _iterator845=_createForOfIteratorHelper(i),_step845;try{for(_iterator845.s();!(_step845=_iterator845.n()).done;){var _t1284=_step845.value;ci(_t1284,s);}}catch(err){_iterator845.e(err);}finally{_iterator845.f();}var _iterator846=_createForOfIteratorHelper(e),_step846;try{for(_iterator846.s();!(_step846=_iterator846.n()).done;){var _t1285=_step846.value;if("text"===_t1285.localName&&_t1285.querySelector("tspan")){var _e927=_t1285.querySelectorAll("tspan"),_i886=ui(s,_t1285),_o293=_i886.length>0&&!s.collapsed?_i886:_e927;n.push.apply(n,_toConsumableArray(_o293));}else n.push(_t1285);}}catch(err){_iterator846.e(err);}finally{_iterator846.f();}for(var _i885=0,_n380=n;_i885<_n380.length;_i885++){var _t1283=_n380[_i885];_t1283.style.setProperty("fill-rule",this["#rule-buttons"].value),_t1283.hasAttribute("d")&&_t1283.setAttribute("d",_t1283.getAttribute("d"));}var _iterator847=_createForOfIteratorHelper(i),_step847;try{for(_iterator847.s();!(_step847=_iterator847.n()).done;){var _t1286=_step847.value;pi(_t1286,s);}}catch(err){_iterator847.e(err);}finally{_iterator847.f();}}},{key:"qs",value:function qs(){var t=[],e=this.Js.board.selectedTextRange,i=Symbol();var _iterator848=_createForOfIteratorHelper(this.Hx()),_step848;try{for(_iterator848.s();!(_step848=_iterator848.n()).done;){var _i888=_step848.value;if("text"===_i888.localName){var _s539=bi(_i888);if(e&&e.intersectsNode(_i888)){"backward"===e.direction&&_s539.reverse();var _iterator851=_createForOfIteratorHelper(_s539),_step851;try{for(_iterator851.s();!(_step851=_iterator851.n()).done;){var _i889=_step851.value;e.intersectsNode(_i889)&&!1===t.includes(_i889.parentElement)&&t.push(_i889.parentElement);}}catch(err){_iterator851.e(err);}finally{_iterator851.f();}}else{var _iterator852=_createForOfIteratorHelper(_s539),_step852;try{for(_iterator852.s();!(_step852=_iterator852.n()).done;){var _e931=_step852.value;!1===t.includes(_e931.parentElement)&&t.push(_e931.parentElement);}}catch(err){_iterator852.e(err);}finally{_iterator852.f();}}}else t.push(_i888);}}catch(err){_iterator848.e(err);}finally{_iterator848.f();}for(var _i887=0,_t1287=t;_i887<_t1287.length;_i887++){var _e928=_t1287[_i887];_e928[i]=getComputedStyle(_e928);}var s=t[0],n=t.slice(1);if(this["#panel-heading"].disabled=void 0===s,!1===this.Wx)if(s){var _t1288=s[i].fillOpacity,_e929=Z(vx(_t1288),2),_o294=!1;var _iterator849=_createForOfIteratorHelper(n),_step849;try{for(_iterator849.s();!(_step849=_iterator849.n()).done;){var _t1289=_step849.value;var _s537=_t1289[i].fillOpacity;if(Z(vx(_s537),2)!==_e929){_o294=!0;break;}}}catch(err){_iterator849.e(err);}finally{_iterator849.f();}this["#opacity-section-heading"].disabled=!1,this["#opacity-slider"].disabled=!1,this["#opacity-slider"].value=_e929,this["#opacity-slider"].mixed=_o294,this["#opacity-input"].disabled=!1,this["#opacity-input"].value=_e929;}else this["#opacity-section-heading"].disabled=!0,this["#opacity-slider"].disabled=!0,this["#opacity-slider"].value=1,this["#opacity-slider"].mixed=!1,this["#opacity-input"].disabled=!0,this["#opacity-input"].value=1;if(s){var _t1290=!1,_e930=s[i].fillRule;var _iterator850=_createForOfIteratorHelper(n),_step850;try{for(_iterator850.s();!(_step850=_iterator850.n()).done;){var _s538=_step850.value;_s538[i].fillRule!==_e930&&(_t1290=!0);}}catch(err){_iterator850.e(err);}finally{_iterator850.f();}this["#rule-section-heading"].disabled=!1,this["#non-zero-rule-button"].disabled=!1,this["#even-odd-rule-button"].disabled=!1,"evenodd"===_e930?(this["#non-zero-rule-button"].toggled=!1,this["#non-zero-rule-button"].mixed=!1,this["#even-odd-rule-button"].toggled=!0,this["#even-odd-rule-button"].mixed=_t1290):"nonzero"===_e930&&(this["#non-zero-rule-button"].toggled=!0,this["#non-zero-rule-button"].mixed=_t1290,this["#even-odd-rule-button"].toggled=!1,this["#even-odd-rule-button"].mixed=!1);}else this["#rule-section-heading"].disabled=!0,this["#non-zero-rule-button"].disabled=!0,this["#non-zero-rule-button"].toggled=!1,this["#non-zero-rule-button"].mixed=!1,this["#even-odd-rule-button"].disabled=!0,this["#even-odd-rule-button"].toggled=!1,this["#even-odd-rule-button"].mixed=!1;}},{key:"Hx",value:function Hx(){var t=[],e=function e(i){var _iterator853=_createForOfIteratorHelper(i),_step853;try{for(_iterator853.s();!(_step853=_iterator853.n()).done;){var _s540=_step853.value;w.includes(_s540.localName)||"use"===_s540.localName?t.push(_s540):"g"!==_s540.localName&&"a"!==_s540.localName||e(_s540.children);}}catch(err){_iterator853.e(err);}finally{_iterator853.f();}};return e(this.Js.board.outermostSelectedElements),t;}}]);return yx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(yx,"observedAttributes",["enabled"]);_defineProperty(yx,"_shadowTemplate",Yi(_templateObject264()));_defineProperty(yx,"_shadowStyleSheet",Wi(_templateObject265()));customElements.define("bx-fillpanel",yx);var kx=/*#__PURE__*/function(_HTMLElement74){_inherits(kx,_HTMLElement74);var _super103=_createSuper(kx);_createClass(kx,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function kx(){var _this486;_classCallCheck(this,kx);_this486=_super103.call(this),_this486._a=Xi(_this486.qs,200,_assertThisInitialized(_this486)),_this486.Zx=Zi(_this486.Kx,600,_assertThisInitialized(_this486)),_this486._shadowRoot=_this486.attachShadow({mode:"closed",delegatesFocus:!0}),_this486._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,kx._shadowStyleSheet],_this486._shadowRoot.append(document.importNode(kx._shadowTemplate.content,!0));var _iterator854=_createForOfIteratorHelper(_this486._shadowRoot.querySelectorAll("[id]")),_step854;try{for(_iterator854.s();!(_step854=_iterator854.n()).done;){var _t1291=_step854.value;_this486["#"+_t1291.id]=_t1291;}}catch(err){_iterator854.e(err);}finally{_iterator854.f();}_this486.addEventListener("keydown",function(t){return _this486.vn(t);}),_this486["#button"].addEventListener("pointerdown",function(t){return _this486.Qx(t);}),_this486["#popover"].addEventListener("open",function(){return _this486.Mu();}),_this486["#items"].addEventListener("click",function(t){return _this486.Jc(t);}),_this486["#items"].addEventListener("dblclick",function(t){return _this486.Pu(t);}),_this486["#clear-button"].addEventListener("click",function(t){return _this486.Jx(t);}),_this486["#manage-button"].addEventListener("click",function(t){return _this486.Du(t);});return _this486;}_createClass(kx,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.sn():"value"===t&&this.vu());}},{key:"tn",value:function tn(){var _this487=this;this.qs(),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this487.sl(t.detail);});}},{key:"sn",value:function sn(){this["#button"].collapse(),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"vu",value:function vu(){this.Au(),this.tb(),this.$u();}},{key:"sl",value:function sl(){this._a();}},{key:"Qx",value:function Qx(t){t.preventDefault();}},{key:"Jc",value:function Jc(t){var e=t.target.closest(".item");if(e){var _t1292=e.getAttribute("data-value");_t1292!==this.value&&(this.value=_t1292,this.dispatchEvent(new CustomEvent("change")));}}},{key:"Pu",value:function Pu(t){var e=t.target.closest(".item");if(e){this["#button"].collapse();var _t1293=e.getAttribute("data-value");this.Js.board.editMarker(_t1293);}}},{key:"Jx",value:function Jx(t){0===t.button&&null!==this.value&&(this.value=null,this.dispatchEvent(new CustomEvent("change")));}},{key:"Du",value:function Du(t){0===t.button&&(this["#button"].collapse(),this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("markers-browser"));}},{key:"vn",value:function vn(t){var e=eo.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Bu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Ru());}},{key:"qs",value:function qs(){this.Au(),this.tb(),this.Gu();}},{key:"Au",value:function Au(){if(null===this.value)this["#button-thumbnail"].setAttribute("hidden","");else{this["#button-thumbnail"].removeAttribute("hidden");var _t1294=this["#items"].querySelector(":scope > [data-value=\"".concat(this.value,"\"]"));this["#button-thumbnail"].innerHTML=_t1294.innerHTML;}}},{key:"tb",value:function tb(){this["#clear-button"].disabled=null===this.value;}},{key:"Gu",value:function Gu(){var t=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("marker")),e="";var _iterator855=_createForOfIteratorHelper(t),_step855;try{for(_iterator855.s();!(_step855=_iterator855.n()).done;){var _i890=_step855.value;var _t1295=_i890.hasAttribute("viewBox")?"viewBox=\"".concat(_i890.getAttribute("viewBox"),"\""):"";e+="\n        <div class=\"item\" data-value=\"".concat(_i890.id,"\">\n          <svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"xMidYMid\" ").concat(_t1295,">\n            ").concat(_i890.innerHTML,"\n          </svg>\n          <div class=\"label\">#").concat(_i890.id,"</div>\n        </div>\n      ");}}catch(err){_iterator855.e(err);}finally{_iterator855.f();}this["#items"].innerHTML=e,this["#placeholder"].hidden=this["#items"].childElementCount>0,this.$u();}},{key:"$u",value:function $u(){var _iterator856=_createForOfIteratorHelper(this["#items"].children),_step856;try{for(_iterator856.s();!(_step856=_iterator856.n()).done;){var _t1296=_step856.value;_t1296.getAttribute("data-value")===this.value?_t1296.setAttribute("data-selected",""):_t1296.removeAttribute("data-selected");}}catch(err){_iterator856.e(err);}finally{_iterator856.f();}}},{key:"Bu",value:function Bu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.previousElementSibling?e=t.previousElementSibling:this["#items"].lastElementChild!==t&&(e=this["#items"].lastElementChild):this["#items"].lastElementChild&&(e=this["#items"].lastElementChild),e&&(this.value=e.getAttribute("data-value"),this.Zx());}},{key:"Ru",value:function Ru(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.nextElementSibling?e=t.nextElementSibling:this["#items"].firstElementChild!==t&&(e=this["#items"].firstElementChild):this["#items"].firstElementChild&&(e=this["#items"].firstElementChild),e&&(this.value=e.getAttribute("data-value"),this.Zx());}},{key:"Mu",value:function Mu(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"Kx",value:function Kx(){this.dispatchEvent(new CustomEvent("change"));}}]);return kx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(kx,"observedAttributes",["enabled","value"]);_defineProperty(kx,"_shadowTemplate",Yi(_templateObject266()));_defineProperty(kx,"_shadowStyleSheet",Wi(_templateObject267()));customElements.define("bx-markerselect",kx);var Sx=Math.abs,_x=Number.parseFloat,Cx=["none","2px","4px","5px","8px","10px","20px","30px","1px, 4px","5px, 10px"],Mx=Cx.map(function(t){return"\n    <x-menuitem value=\"".concat(t,"\">\n      <svg viewBox=\"0 0 100 20\" preserveAspectRatio=\"none\" style=\"width: 195px; height: 20px; display: block;\">\n        <path\n          d=\"M 0 10 L 100 10\"\n          style=\"stroke-dasharray: ").concat(t,"; stroke: currentColor; vector-effect: non-scaling-stroke;\">\n        </path>\n      </svg>\n    </x-menuitem>\n  ");}).join("");var Px=/*#__PURE__*/function(_HTMLElement75){_inherits(Px,_HTMLElement75);var _super104=_createSuper(Px);_createClass(Px,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Px(){var _this488;_classCallCheck(this,Px);_this488=_super104.call(this),_this488._a=Xi(_this488.qs,200,_assertThisInitialized(_this488)),_this488.Wx=!1,_this488.eb=!1,_this488.ib=!1,_this488.sb=!1,_this488.nb=!1,_this488._shadowRoot=_this488.attachShadow({mode:"closed"}),_this488._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Px._shadowStyleSheet],_this488._shadowRoot.append(document.importNode(Px._shadowTemplate.content,!0));var _iterator857=_createForOfIteratorHelper(_this488._shadowRoot.querySelectorAll("[id]")),_step857;try{for(_iterator857.s();!(_step857=_iterator857.n()).done;){var _t1297=_step857.value;_this488["#"+_t1297.id]=_t1297;}}catch(err){_iterator857.e(err);}finally{_iterator857.f();}_this488["#opacity-section"].addEventListener("changestart",function(){return _this488.qx();}),_this488["#width-box"].addEventListener("changestart",function(){return _this488.ob();}),_this488["#non-scaling-stroke-checkbox"].addEventListener("toggle",function(){return _this488.lb();}),_this488["#line-cap-buttons"].addEventListener("toggle",function(){return _this488.hb();}),_this488["#line-join-buttons"].addEventListener("toggle",function(){return _this488.ab();}),_this488["#miter-limit-box"].addEventListener("changestart",function(){return _this488.rb();}),_this488["#dash-array-select"].addEventListener("change",function(){return _this488.cb();}),_this488["#dash-array-inputs"].addEventListener("changestart",function(t){return _this488.pb(t);}),_this488["#dash-offset-box"].addEventListener("changestart",function(){return _this488.ub();}),_this488["#marker-start-select"].addEventListener("change",function(t){return _this488.xb(t);}),_this488["#marker-mid-select"].addEventListener("change",function(t){return _this488.xb(t);}),_this488["#marker-end-select"].addEventListener("change",function(t){return _this488.xb(t);});return _this488;}_createClass(Px,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ai(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this489=this;this["#stroke-paint-inspector"].enabled=!0,this._a(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this489.Jo();}),this.Js.board.addEventListener("selectedtextrangechange",this.Wh=function(){_this489.qh();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this489.sl(t);});}},{key:"sn",value:function sn(){this["#stroke-paint-inspector"].enabled=!1,this["#marker-start-select"].enabled=!1,this["#marker-mid-select"].enabled=!1,this["#marker-end-select"].enabled=!1,this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("selectedtextrangechange",this.Wh),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){this._a();}},{key:"qh",value:function qh(){this._a();}},{key:"sl",value:function sl(t){this._a();}},{key:"qx",value:function qx(){var _this490=this;this.Js.board.undoManager.checkpoint("Stroke opacity");var t,_e932,i=this.Hx(),s=i.filter(function(t){return"text"===t.localName;}),n=this.Js.board.selectedTextRange,o=[];var _iterator858=_createForOfIteratorHelper(s),_step858;try{for(_iterator858.s();!(_step858=_iterator858.n()).done;){var _t1302=_step858.value;ci(_t1302,n);}}catch(err){_iterator858.e(err);}finally{_iterator858.f();}var _iterator859=_createForOfIteratorHelper(i),_step859;try{for(_iterator859.s();!(_step859=_iterator859.n()).done;){var _t1303=_step859.value;if("text"===_t1303.localName){var _e933=_t1303.querySelectorAll("tspan"),_i891=ui(n,_t1303),_s541=_i891.length>0&&!n.collapsed?_i891:_e933;o.push.apply(o,_toConsumableArray(_s541));}else o.push(_t1303);}}catch(err){_iterator859.e(err);}finally{_iterator859.f();}this.Wx=!0,this["#opacity-section"].addEventListener("change",t=function t(_t1299){_t1299.target===_this490["#opacity-slider"]?_this490["#opacity-input"].value=_this490["#opacity-slider"].value:_t1299.target===_this490["#opacity-input"]&&(_this490["#opacity-slider"].value=_this490["#opacity-input"].value),_this490["#opacity-slider"].mixed=!1,_this490["#opacity-input"].mixed=!1;var _iterator860=_createForOfIteratorHelper(o),_step860;try{for(_iterator860.s();!(_step860=_iterator860.n()).done;){var _t1298=_step860.value;_t1298.style.setProperty("stroke-opacity",_this490["#opacity-slider"].value);}}catch(err){_iterator860.e(err);}finally{_iterator860.f();}}),this["#opacity-section"].addEventListener("changeend",_e932=function e(){_this490["#opacity-section"].removeEventListener("change",t),_this490["#opacity-section"].removeEventListener("changeend",_e932),_this490.Wx=!1;var _iterator861=_createForOfIteratorHelper(o),_step861;try{for(_iterator861.s();!(_step861=_iterator861.n()).done;){var _t1300=_step861.value;ya("stroke-opacity",_t1300);}}catch(err){_iterator861.e(err);}finally{_iterator861.f();}var _iterator862=_createForOfIteratorHelper(s),_step862;try{for(_iterator862.s();!(_step862=_iterator862.n()).done;){var _t1301=_step862.value;pi(_t1301,n);}}catch(err){_iterator862.e(err);}finally{_iterator862.f();}});}},{key:"ob",value:function ob(){var _this491=this;this.Js.board.undoManager.checkpoint("Stroke width");var t,_e934,i=this.Hx(),s=i.filter(function(t){return"text"===t.localName;}),n=this.Js.board.selectedTextRange,o=[],l=Symbol();var _iterator863=_createForOfIteratorHelper(s),_step863;try{for(_iterator863.s();!(_step863=_iterator863.n()).done;){var _t1308=_step863.value;ci(_t1308,n);}}catch(err){_iterator863.e(err);}finally{_iterator863.f();}var _iterator864=_createForOfIteratorHelper(i),_step864;try{for(_iterator864.s();!(_step864=_iterator864.n()).done;){var _t1309=_step864.value;var _e935=Vt(_t1309,this.Js.board.masterWorkspace),_Fl19=Fl(_e935),_i892=_Fl19.scaleX,_s542=_Fl19.scaleY,_h200=(Sx(_i892)+Sx(_s542))/2;if("text"===_t1309.localName&&_t1309.querySelector("tspan")){var _e936=_t1309.querySelectorAll("tspan"),_i893=ui(n,_t1309),_s543=_i893.length>0&&!n.collapsed?_i893:_e936;var _iterator868=_createForOfIteratorHelper(_s543),_step868;try{for(_iterator868.s();!(_step868=_iterator868.n()).done;){var _t1310=_step868.value;var _e937=getComputedStyle(_t1310).getPropertyValue("vector-effect");_t1310[l]="non-scaling-stroke"===_e937?1:_h200,o.push(_t1310);}}catch(err){_iterator868.e(err);}finally{_iterator868.f();}}else{var _e938=getComputedStyle(_t1309).getPropertyValue("vector-effect");_t1309[l]="non-scaling-stroke"===_e938?1:_h200,o.push(_t1309);}}}catch(err){_iterator864.e(err);}finally{_iterator864.f();}this.eb=!0,this["#width-section"].addEventListener("change",t=function t(_t1305){_t1305.target===_this491["#width-slider"]?_this491["#width-input"].value=_this491["#width-slider"].value:_t1305.target===_this491["#width-input"]&&(_this491["#width-slider"].value=_this491["#width-input"].value),_this491["#width-slider"].mixed=!1,_this491["#width-input"].mixed=!1;var _iterator865=_createForOfIteratorHelper(o),_step865;try{for(_iterator865.s();!(_step865=_iterator865.n()).done;){var _t1304=_step865.value;_t1304.style.setProperty("stroke-width",_this491["#width-input"].value/_t1304[l]+"px");}}catch(err){_iterator865.e(err);}finally{_iterator865.f();}}),this["#width-section"].addEventListener("changeend",_e934=function e(){_this491["#width-section"].removeEventListener("change",t),_this491["#width-section"].removeEventListener("changeend",_e934),_this491.eb=!1;var _iterator866=_createForOfIteratorHelper(o),_step866;try{for(_iterator866.s();!(_step866=_iterator866.n()).done;){var _t1306=_step866.value;ya("stroke-width",_t1306);}}catch(err){_iterator866.e(err);}finally{_iterator866.f();}var _iterator867=_createForOfIteratorHelper(s),_step867;try{for(_iterator867.s();!(_step867=_iterator867.n()).done;){var _t1307=_step867.value;pi(_t1307,n);}}catch(err){_iterator867.e(err);}finally{_iterator867.f();}});}},{key:"rb",value:function rb(){var _this492=this;this.Js.board.undoManager.checkpoint("Miter limit");var t,_e939,i=this.Hx(),s=i.filter(function(t){return"text"===t.localName;}),n=this.Js.board.selectedTextRange,o=[];var _iterator869=_createForOfIteratorHelper(s),_step869;try{for(_iterator869.s();!(_step869=_iterator869.n()).done;){var _t1315=_step869.value;ci(_t1315,n);}}catch(err){_iterator869.e(err);}finally{_iterator869.f();}var _iterator870=_createForOfIteratorHelper(i),_step870;try{for(_iterator870.s();!(_step870=_iterator870.n()).done;){var _t1316=_step870.value;if("text"===_t1316.localName&&_t1316.querySelector("tspan")){var _e940=_t1316.querySelectorAll("tspan"),_i894=ui(n,_t1316),_s544=_i894.length>0&&!n.collapsed?_i894:_e940;var _iterator874=_createForOfIteratorHelper(_s544),_step874;try{for(_iterator874.s();!(_step874=_iterator874.n()).done;){var _t1317=_step874.value;o.push(_t1317);}}catch(err){_iterator874.e(err);}finally{_iterator874.f();}}else o.push(_t1316);}}catch(err){_iterator870.e(err);}finally{_iterator870.f();}o=o.filter(function(t){return"miter"===getComputedStyle(t).getPropertyValue("stroke-linejoin");}),this.sb=!0,this["#miter-limit-box"].addEventListener("change",t=function t(_t1312){_t1312.target===_this492["#miter-limit-slider"]?_this492["#miter-limit-input"].value=_this492["#miter-limit-slider"].value:_t1312.target===_this492["#width-input"]&&(_this492["#miter-limit-slider"].value=_this492["#miter-limit-input"].value),_this492["#miter-limit-slider"].mixed=!1,_this492["#miter-limit-input"].mixed=!1;var _iterator871=_createForOfIteratorHelper(o),_step871;try{for(_iterator871.s();!(_step871=_iterator871.n()).done;){var _t1311=_step871.value;_t1311.style.setProperty("stroke-miterlimit",_this492["#miter-limit-input"].value);}}catch(err){_iterator871.e(err);}finally{_iterator871.f();}}),this["#miter-limit-box"].addEventListener("changeend",_e939=function e(){_this492["#miter-limit-box"].removeEventListener("change",t),_this492["#miter-limit-box"].removeEventListener("changeend",_e939),_this492.sb=!1;var _iterator872=_createForOfIteratorHelper(o),_step872;try{for(_iterator872.s();!(_step872=_iterator872.n()).done;){var _t1313=_step872.value;ya("stroke-miterlimit",_t1313);}}catch(err){_iterator872.e(err);}finally{_iterator872.f();}var _iterator873=_createForOfIteratorHelper(s),_step873;try{for(_iterator873.s();!(_step873=_iterator873.n()).done;){var _t1314=_step873.value;pi(_t1314,n);}}catch(err){_iterator873.e(err);}finally{_iterator873.f();}});}},{key:"ub",value:function ub(){var _this493=this;this.Js.board.undoManager.checkpoint("Dash offset");var t,_e941,i=this.Hx(),s=i.filter(function(t){return"text"===t.localName;}),n=this.Js.board.selectedTextRange,o=[];var _iterator875=_createForOfIteratorHelper(s),_step875;try{for(_iterator875.s();!(_step875=_iterator875.n()).done;){var _t1322=_step875.value;ci(_t1322,n);}}catch(err){_iterator875.e(err);}finally{_iterator875.f();}var _iterator876=_createForOfIteratorHelper(i),_step876;try{for(_iterator876.s();!(_step876=_iterator876.n()).done;){var _t1323=_step876.value;if("text"===_t1323.localName&&_t1323.querySelector("tspan")){var _e942=_t1323.querySelectorAll("tspan"),_i895=ui(n,_t1323),_s545=_i895.length>0&&!n.collapsed?_i895:_e942;var _iterator880=_createForOfIteratorHelper(_s545),_step880;try{for(_iterator880.s();!(_step880=_iterator880.n()).done;){var _t1324=_step880.value;o.push(_t1324);}}catch(err){_iterator880.e(err);}finally{_iterator880.f();}}else o.push(_t1323);}}catch(err){_iterator876.e(err);}finally{_iterator876.f();}this.nb=!0,this["#dash-offset-box"].addEventListener("change",t=function t(_t1319){_t1319.target===_this493["#dash-offset-slider"]?_this493["#dash-offset-input"].value=_this493["#dash-offset-slider"].value:_t1319.target===_this493["#width-input"]&&(_this493["#dash-offset-slider"].value=_this493["#dash-offset-input"].value),_this493["#dash-offset-slider"].mixed=!1,_this493["#dash-offset-input"].mixed=!1;var _iterator877=_createForOfIteratorHelper(o),_step877;try{for(_iterator877.s();!(_step877=_iterator877.n()).done;){var _t1318=_step877.value;_t1318.style.setProperty("stroke-dashoffset",_this493["#dash-offset-input"].value+"px");}}catch(err){_iterator877.e(err);}finally{_iterator877.f();}}),this["#dash-offset-box"].addEventListener("changeend",_e941=function e(){_this493["#dash-offset-box"].removeEventListener("change",t),_this493["#dash-offset-box"].removeEventListener("changeend",_e941),_this493.nb=!1;var _iterator878=_createForOfIteratorHelper(o),_step878;try{for(_iterator878.s();!(_step878=_iterator878.n()).done;){var _t1320=_step878.value;ya("stroke-dashoffset",_t1320);}}catch(err){_iterator878.e(err);}finally{_iterator878.f();}var _iterator879=_createForOfIteratorHelper(s),_step879;try{for(_iterator879.s();!(_step879=_iterator879.n()).done;){var _t1321=_step879.value;pi(_t1321,n);}}catch(err){_iterator879.e(err);}finally{_iterator879.f();}});}},{key:"cb",value:function cb(){this.Js.board.undoManager.checkpoint("Dash array");var t=this.Hx(),e=t.filter(function(t){return"text"===t.localName;}),i=this.Js.board.selectedTextRange,s=[];var _iterator881=_createForOfIteratorHelper(e),_step881;try{for(_iterator881.s();!(_step881=_iterator881.n()).done;){var _t1326=_step881.value;ci(_t1326,i);}}catch(err){_iterator881.e(err);}finally{_iterator881.f();}var _iterator882=_createForOfIteratorHelper(t),_step882;try{for(_iterator882.s();!(_step882=_iterator882.n()).done;){var _e943=_step882.value;if("text"===_e943.localName&&_e943.querySelector("tspan")){var _t1327=_e943.querySelectorAll("tspan"),_n381=ui(i,_e943),_o295=_n381.length>0&&!i.collapsed?_n381:_t1327;var _iterator884=_createForOfIteratorHelper(_o295),_step884;try{for(_iterator884.s();!(_step884=_iterator884.n()).done;){var _t1328=_step884.value;s.push(_t1328);}}catch(err){_iterator884.e(err);}finally{_iterator884.f();}}else s.push(_e943);}}catch(err){_iterator882.e(err);}finally{_iterator882.f();}for(var _i896=0,_s546=s;_i896<_s546.length;_i896++){var _t1325=_s546[_i896];_t1325.style.setProperty("stroke-dasharray",this["#dash-array-select"].value),ya("stroke-dasharray",_t1325);}var _iterator883=_createForOfIteratorHelper(e),_step883;try{for(_iterator883.s();!(_step883=_iterator883.n()).done;){var _t1329=_step883.value;pi(_t1329,i);}}catch(err){_iterator883.e(err);}finally{_iterator883.f();}}},{key:"pb",value:function pb(t){var _this494=this;this.Js.board.undoManager.checkpoint("Dash array");var e,_i897,s=this.Hx(),n=s.filter(function(t){return"text"===t.localName;}),o=this.Js.board.selectedTextRange,l=t.target,h=_toConsumableArray(this["#dash-array-inputs"].querySelectorAll("x-numberinput")),a=[];var _iterator885=_createForOfIteratorHelper(n),_step885;try{for(_iterator885.s();!(_step885=_iterator885.n()).done;){var _t1333=_step885.value;ci(_t1333,o);}}catch(err){_iterator885.e(err);}finally{_iterator885.f();}var _iterator886=_createForOfIteratorHelper(s),_step886;try{for(_iterator886.s();!(_step886=_iterator886.n()).done;){var _t1334=_step886.value;if("text"===_t1334.localName&&_t1334.querySelector("tspan")){var _e944=_t1334.querySelectorAll("tspan"),_i898=ui(o,_t1334),_s547=_i898.length>0&&!o.collapsed?_i898:_e944;var _iterator890=_createForOfIteratorHelper(_s547),_step890;try{for(_iterator890.s();!(_step890=_iterator890.n()).done;){var _t1335=_step890.value;a.push(_t1335);}}catch(err){_iterator890.e(err);}finally{_iterator890.f();}}else a.push(_t1334);}}catch(err){_iterator886.e(err);}finally{_iterator886.f();}this.ib=!0,l.addEventListener("change",e=function e(t){l.mixed=!1;var e=h.map(function(t){return t.value;}).join(" ").trim();var _iterator887=_createForOfIteratorHelper(a),_step887;try{for(_iterator887.s();!(_step887=_iterator887.n()).done;){var _t1330=_step887.value;_t1330.style.setProperty("stroke-dasharray",e);}}catch(err){_iterator887.e(err);}finally{_iterator887.f();}}),l.addEventListener("changeend",_i897=function i(){l.removeEventListener("change",e),l.removeEventListener("changeend",_i897),_this494.ib=!1;var _iterator888=_createForOfIteratorHelper(a),_step888;try{for(_iterator888.s();!(_step888=_iterator888.n()).done;){var _t1331=_step888.value;ya("stroke-dasharray",_t1331);}}catch(err){_iterator888.e(err);}finally{_iterator888.f();}var _iterator889=_createForOfIteratorHelper(n),_step889;try{for(_iterator889.s();!(_step889=_iterator889.n()).done;){var _t1332=_step889.value;pi(_t1332,o);}}catch(err){_iterator889.e(err);}finally{_iterator889.f();}});}},{key:"lb",value:function lb(){this.Js.board.undoManager.checkpoint("Non-scaling stroke");var t=this.Hx(),e=t.filter(function(t){return"text"===t.localName;}),i=this["#non-scaling-stroke-checkbox"].toggled?"non-scaling-stroke":"none",s=this.Js.board.selectedTextRange,n=[];var _iterator891=_createForOfIteratorHelper(e),_step891;try{for(_iterator891.s();!(_step891=_iterator891.n()).done;){var _t1337=_step891.value;ci(_t1337,s);}}catch(err){_iterator891.e(err);}finally{_iterator891.f();}var _iterator892=_createForOfIteratorHelper(t),_step892;try{for(_iterator892.s();!(_step892=_iterator892.n()).done;){var _e945=_step892.value;if("text"===_e945.localName&&_e945.querySelector("tspan")&&s&&_e945.contains(s.commonAncestorContainer)){var _t1338=_e945.querySelectorAll("tspan"),_i900=ui(s,_e945),_o296=s.collapsed?_t1338:_i900;n.push.apply(n,_toConsumableArray(_o296));}else n.push(_e945);}}catch(err){_iterator892.e(err);}finally{_iterator892.f();}for(var _i899=0,_n382=n;_i899<_n382.length;_i899++){var _t1336=_n382[_i899];_t1336.style.setProperty("vector-effect",i),ya("vector-effect",_t1336);}var _iterator893=_createForOfIteratorHelper(e),_step893;try{for(_iterator893.s();!(_step893=_iterator893.n()).done;){var _t1339=_step893.value;pi(_t1339,s);}}catch(err){_iterator893.e(err);}finally{_iterator893.f();}}},{key:"hb",value:function hb(){this.Js.board.undoManager.checkpoint("Line cap");var t=this.Hx(),e=t.filter(function(t){return"text"===t.localName;}),i=this.Js.board.selectedTextRange,s=[];var _iterator894=_createForOfIteratorHelper(e),_step894;try{for(_iterator894.s();!(_step894=_iterator894.n()).done;){var _t1341=_step894.value;ci(_t1341,i);}}catch(err){_iterator894.e(err);}finally{_iterator894.f();}var _iterator895=_createForOfIteratorHelper(t),_step895;try{for(_iterator895.s();!(_step895=_iterator895.n()).done;){var _e946=_step895.value;if("text"===_e946.localName&&_e946.querySelector("tspan")){var _t1342=_e946.querySelectorAll("tspan"),_n383=ui(i,_e946),_o297=_n383.length>0&&!i.collapsed?_n383:_t1342;s.push.apply(s,_toConsumableArray(_o297));}else s.push(_e946);}}catch(err){_iterator895.e(err);}finally{_iterator895.f();}for(var _i901=0,_s548=s;_i901<_s548.length;_i901++){var _t1340=_s548[_i901];_t1340.style.setProperty("stroke-linecap",this["#line-cap-buttons"].value),ya("stroke-linecap",_t1340);}var _iterator896=_createForOfIteratorHelper(e),_step896;try{for(_iterator896.s();!(_step896=_iterator896.n()).done;){var _t1343=_step896.value;pi(_t1343,i);}}catch(err){_iterator896.e(err);}finally{_iterator896.f();}}},{key:"ab",value:function ab(){this.Js.board.undoManager.checkpoint("Line join");var t=this.Hx(),e=t.filter(function(t){return"text"===t.localName;}),i=this.Js.board.selectedTextRange,s=[];var _iterator897=_createForOfIteratorHelper(e),_step897;try{for(_iterator897.s();!(_step897=_iterator897.n()).done;){var _t1345=_step897.value;ci(_t1345,i);}}catch(err){_iterator897.e(err);}finally{_iterator897.f();}var _iterator898=_createForOfIteratorHelper(t),_step898;try{for(_iterator898.s();!(_step898=_iterator898.n()).done;){var _e947=_step898.value;if("text"===_e947.localName&&_e947.querySelector("tspan")){var _t1346=_e947.querySelectorAll("tspan"),_n384=ui(i,_e947),_o298=_n384.length>0&&!i.collapsed?_n384:_t1346;s.push.apply(s,_toConsumableArray(_o298));}else s.push(_e947);}}catch(err){_iterator898.e(err);}finally{_iterator898.f();}for(var _i902=0,_s549=s;_i902<_s549.length;_i902++){var _t1344=_s549[_i902];_t1344.style.setProperty("stroke-linejoin",this["#line-join-buttons"].value),ya("stroke-linejoin",_t1344);}var _iterator899=_createForOfIteratorHelper(e),_step899;try{for(_iterator899.s();!(_step899=_iterator899.n()).done;){var _t1347=_step899.value;pi(_t1347,i);}}catch(err){_iterator899.e(err);}finally{_iterator899.f();}}},{key:"xb",value:function xb(t){this.Js.board.undoManager.checkpoint("Marker");var e=t.target,i=this.bb(),s="marker-"+e.dataset.position;var _iterator900=_createForOfIteratorHelper(i),_step900;try{for(_iterator900.s();!(_step900=_iterator900.n()).done;){var _t1348=_step900.value;_t1348.style.setProperty(s,null===e.value?"none":"url(\"#".concat(e.value,"\")")),ya(s,_t1348);}}catch(err){_iterator900.e(err);}finally{_iterator900.f();}}},{key:"qs",value:function qs(){var t=this.Js.board,e=[],i=[],s=Symbol(),n=Symbol();{var _o299=t.selectedTextRange;var _iterator901=_createForOfIteratorHelper(this.Hx()),_step901;try{for(_iterator901.s();!(_step901=_iterator901.n()).done;){var _t1349=_step901.value;if("text"===_t1349.localName){var _s550=bi(_t1349);if(_o299&&_o299.intersectsNode(_t1349)){"backward"===_o299.direction&&_s550.reverse();var _iterator903=_createForOfIteratorHelper(_s550),_step903;try{for(_iterator903.s();!(_step903=_iterator903.n()).done;){var _t1350=_step903.value;_o299.intersectsNode(_t1350)&&(e.includes(_t1350.parentElement)||e.push(_t1350.parentElement),i.includes(_t1350.parentElement)||i.push(_t1350.parentElement));}}catch(err){_iterator903.e(err);}finally{_iterator903.f();}}else{var _iterator904=_createForOfIteratorHelper(_s550),_step904;try{for(_iterator904.s();!(_step904=_iterator904.n()).done;){var _t1351=_step904.value;!1===e.includes(_t1351.parentElement)&&e.push(_t1351.parentElement);}}catch(err){_iterator904.e(err);}finally{_iterator904.f();}i.push(_t1349);}}else e.push(_t1349),i.push(_t1349);}}catch(err){_iterator901.e(err);}finally{_iterator901.f();}var _iterator902=_createForOfIteratorHelper(new Set([].concat(e,i))),_step902;try{for(_iterator902.s();!(_step902=_iterator902.n()).done;){var _o300=_step902.value;var _e948=Vt(_o300,t.masterWorkspace),_Fl20=Fl(_e948),_i903=_Fl20.scaleX,_l261=_Fl20.scaleY;_o300[s]=getComputedStyle(_o300),_o300[n]=(Sx(_i903)+Sx(_l261))/2;}}catch(err){_iterator902.e(err);}finally{_iterator902.f();}}{var _t1352=e[0],_i904=e.slice(1);this["#panel-heading"].disabled=void 0===_t1352;}if(!1===this.Wx){var _t1353=e[0],_i905=e.slice(1);if(_t1353){var _e949=_t1353[s].strokeOpacity,_n385=Z(_x(_e949),2),_o301=!1;var _iterator905=_createForOfIteratorHelper(_i905),_step905;try{for(_iterator905.s();!(_step905=_iterator905.n()).done;){var _t1354=_step905.value;var _e950=_t1354[s].strokeOpacity;if(Z(_x(_e950),2)!==_n385){_o301=!0;break;}}}catch(err){_iterator905.e(err);}finally{_iterator905.f();}this["#opacity-section-heading"].disabled=!1,this["#opacity-slider"].disabled=!1,this["#opacity-slider"].value=_n385,this["#opacity-slider"].mixed=_o301,this["#opacity-input"].disabled=!1,this["#opacity-input"].value=_n385;}else this["#opacity-section-heading"].disabled=!0,this["#opacity-slider"].disabled=!0,this["#opacity-slider"].value=1,this["#opacity-slider"].mixed=!1,this["#opacity-input"].disabled=!0,this["#opacity-input"].value=1;}if(!1===this.eb&&!1===t.transformHud.isScaling){{var _t1355=e[0],_i906=e.slice(1);if(_t1355){var _e951=!1,_o302="non-scaling-stroke"===_t1355[s].getPropertyValue("vector-effect"),_l262=_x(_t1355[s].getPropertyValue("stroke-width")),_h201=Z(_t1355[n]*_l262,3);var _iterator906=_createForOfIteratorHelper(_i906),_step906;try{for(_iterator906.s();!(_step906=_iterator906.n()).done;){var _t1356=_step906.value;var _i907=_x(_t1356[s].getPropertyValue("stroke-width"));if(_h201!==Z(_t1356[n]*_i907,3)){_e951=!0;break;}}}catch(err){_iterator906.e(err);}finally{_iterator906.f();}this["#width-slider"].value=_o302?_l262:_h201,this["#width-slider"].disabled=!1,this["#width-slider"].mixed=_e951,this["#width-input"].value=_o302?_l262:_h201,this["#width-input"].disabled=!1;}else this["#width-slider"].value=0,this["#width-slider"].disabled=!0,this["#width-slider"].mixed=!1,this["#width-input"].value=0,this["#width-input"].disabled=!0;}{var _t1357=i[0],_e952=i.slice(1);if(_t1357){var _i908=_t1357[s].getPropertyValue("vector-effect"),_n386=!1;var _iterator907=_createForOfIteratorHelper(_e952),_step907;try{for(_iterator907.s();!(_step907=_iterator907.n()).done;){var _t1358=_step907.value;if(_t1358[s].getPropertyValue("vector-effect")!==_i908){_n386=!0;break;}}}catch(err){_iterator907.e(err);}finally{_iterator907.f();}this["#non-scaling-stroke-checkbox"].disabled=!1,this["#non-scaling-stroke-checkbox"].toggled="non-scaling-stroke"===_i908,this["#non-scaling-stroke-checkbox"].mixed=_n386;}else this["#non-scaling-stroke-checkbox"].disabled=!0,this["#non-scaling-stroke-checkbox"].toggled=!1,this["#non-scaling-stroke-checkbox"].mixed=!1;}this["#width-section-heading"].disabled=this["#width-slider"].disabled||this["#non-scaling-stroke-checkbox"].disabled;}if(!1===this.sb){{var _t1359=e[0],_i909=e.slice(1);if(this["#line-section-heading"].disabled=void 0===_t1359,this["#line-cap-box-heading"].disabled=void 0===_t1359,this["#line-join-box-heading"].disabled=void 0===_t1359,_t1359){var _iterator908=_createForOfIteratorHelper(this["#line-cap-buttons"].children),_step908;try{for(_iterator908.s();!(_step908=_iterator908.n()).done;){var _t1360=_step908.value;_t1360.disabled=!1;}}catch(err){_iterator908.e(err);}finally{_iterator908.f();}var _iterator909=_createForOfIteratorHelper(this["#line-join-buttons"].children),_step909;try{for(_iterator909.s();!(_step909=_iterator909.n()).done;){var _t1361=_step909.value;_t1361.disabled=!1;}}catch(err){_iterator909.e(err);}finally{_iterator909.f();}var _e953=_t1359[s].getPropertyValue("stroke-linecap"),_n387=_t1359[s].getPropertyValue("stroke-linejoin"),_o303=!1,_l263=!1;var _iterator910=_createForOfIteratorHelper(_i909),_step910;try{for(_iterator910.s();!(_step910=_iterator910.n()).done;){var _t1362=_step910.value;var _i910=_t1362[s].getPropertyValue("stroke-linecap"),_h202=_t1362[s].getPropertyValue("stroke-linejoin");_i910!==_e953&&(_o303=!0),_h202!==_n387&&(_l263=!0);}}catch(err){_iterator910.e(err);}finally{_iterator910.f();}var _iterator911=_createForOfIteratorHelper(this["#line-cap-buttons"].children),_step911;try{for(_iterator911.s();!(_step911=_iterator911.n()).done;){var _t1363=_step911.value;_t1363.value===_e953?(_t1363.toggled=!0,_t1363.mixed=_o303):(_t1363.toggled=!1,_t1363.mixed=!1);}}catch(err){_iterator911.e(err);}finally{_iterator911.f();}var _iterator912=_createForOfIteratorHelper(this["#line-join-buttons"].children),_step912;try{for(_iterator912.s();!(_step912=_iterator912.n()).done;){var _t1364=_step912.value;_t1364.value===_n387?(_t1364.toggled=!0,_t1364.mixed=_l263):(_t1364.toggled=!1,_t1364.mixed=!1);}}catch(err){_iterator912.e(err);}finally{_iterator912.f();}}else{var _iterator913=_createForOfIteratorHelper(this["#line-cap-buttons"].children),_step913;try{for(_iterator913.s();!(_step913=_iterator913.n()).done;){var _t1365=_step913.value;_t1365.disabled=!0,_t1365.toggled=!1,_t1365.mixed=!1;}}catch(err){_iterator913.e(err);}finally{_iterator913.f();}var _iterator914=_createForOfIteratorHelper(this["#line-join-buttons"].children),_step914;try{for(_iterator914.s();!(_step914=_iterator914.n()).done;){var _t1366=_step914.value;_t1366.disabled=!0,_t1366.toggled=!1,_t1366.mixed=!1;}}catch(err){_iterator914.e(err);}finally{_iterator914.f();}}}{var _t1367=e[0],_i911=e.slice(1),_n388=_t1367?_t1367[s].getPropertyValue("stroke-linejoin"):null;if(_t1367&&"miter"===_n388){var _e954=_t1367[s].getPropertyValue("stroke-miterlimit"),_n389=!1;var _iterator915=_createForOfIteratorHelper(_i911),_step915;try{for(_iterator915.s();!(_step915=_iterator915.n()).done;){var _t1368=_step915.value;if(_t1368[s].getPropertyValue("stroke-miterlimit")!==_e954){_n389=!0;break;}}}catch(err){_iterator915.e(err);}finally{_iterator915.f();}this["#miter-limit-heading"].disabled=!1,this["#miter-limit-slider"].value=_x(_e954),this["#miter-limit-slider"].mixed=_n389,this["#miter-limit-slider"].disabled=!1,this["#miter-limit-input"].value=_x(_e954),this["#miter-limit-input"].mixed=_n389,this["#miter-limit-input"].disabled=!1;}else this["#miter-limit-heading"].disabled=!0,this["#miter-limit-slider"].value=0,this["#miter-limit-slider"].mixed=!1,this["#miter-limit-slider"].disabled=!0,this["#miter-limit-input"].value=0,this["#miter-limit-input"].mixed=!1,this["#miter-limit-input"].disabled=!0;}}if(!1===this.nb){var _t1369=e[0],_i912=e.slice(1);if(this["#dash-section-heading"].disabled=void 0===_t1369,this["#dash-array-box-heading"].disabled=void 0===_t1369,this["#dash-array-select"].disabled=void 0===_t1369,_t1369){var _iterator916=_createForOfIteratorHelper(this["#dash-array-inputs"].children),_step916;try{for(_iterator916.s();!(_step916=_iterator916.n()).done;){var _t1371=_step916.value;var _iterator917=_createForOfIteratorHelper(_t1371.children),_step917;try{for(_iterator917.s();!(_step917=_iterator917.n()).done;){var _e956=_step917.value;_e956.disabled=!1;}}catch(err){_iterator917.e(err);}finally{_iterator917.f();}}}catch(err){_iterator916.e(err);}finally{_iterator916.f();}var _e955=this["#dash-array-inputs"].querySelectorAll("x-numberinput"),_i913=_t1369[s].getPropertyValue("stroke-dasharray"),_n390=[];"none"!==_i913&&(_n390=_i913.split(",").map(function(t){return _x(t.trim());}));for(var _t1370=0;_t1370<6;_t1370+=1){var _i914=void 0===_n390[_t1370]?null:_n390[_t1370],_s551=_e955[_t1370];_s551.value=_i914,_s551.disabled=_t1370>_n390.length;}Cx.includes(_i913)?this["#dash-array-select"].value=_i913:this["#dash-array-select"].value=null;}else{var _iterator918=_createForOfIteratorHelper(this["#dash-array-inputs"].children),_step918;try{for(_iterator918.s();!(_step918=_iterator918.n()).done;){var _t1372=_step918.value;var _iterator919=_createForOfIteratorHelper(_t1372.children),_step919;try{for(_iterator919.s();!(_step919=_iterator919.n()).done;){var _e957=_step919.value;_e957.disabled=!0;}}catch(err){_iterator919.e(err);}finally{_iterator919.f();}}}catch(err){_iterator918.e(err);}finally{_iterator918.f();}}if(_t1369){var _e958=_t1369[s].getPropertyValue("stroke-dashoffset"),_n391=!1;var _iterator920=_createForOfIteratorHelper(_i912),_step920;try{for(_iterator920.s();!(_step920=_iterator920.n()).done;){var _t1373=_step920.value;if(_t1373[s].getPropertyValue("stroke-dashoffset")!==_e958){_n391=!0;break;}}}catch(err){_iterator920.e(err);}finally{_iterator920.f();}this["#dash-offset-heading"].disabled=!1,this["#dash-offset-slider"].disabled=!1,this["#dash-offset-slider"].mixed=_n391,this["#dash-offset-slider"].value=_x(_e958),this["#dash-offset-input"].disabled=!1,this["#dash-offset-input"].mixed=_n391,this["#dash-offset-input"].value=_x(_e958);}else this["#dash-offset-heading"].disabled=!0,this["#dash-offset-slider"].disabled=!0,this["#dash-offset-slider"].mixed=!1,this["#dash-offset-input"].disabled=!0,this["#dash-offset-input"].mixed=!1;}{var _t1374=this.bb();if(0===_t1374.length)this["#marker-section-heading"].disabled=!0,this["#marker-start-heading"].disabled=!0,this["#marker-start-select"].enabled=!1,this["#marker-start-select"].value=null,this["#marker-mid-heading"].disabled=!0,this["#marker-mid-select"].enabled=!1,this["#marker-mid-select"].value=null,this["#marker-end-heading"].disabled=!0,this["#marker-end-select"].enabled=!1,this["#marker-end-select"].value=null;else{var _t1375=_toArray(_t1374),_e959=_t1375[0],_i915=_t1375.slice(1),_n392=function _n392(t,e){var i=t[s].getPropertyValue("marker-".concat(e)),n=no.fromString(i);return"none"===i?null:n.value.substring(1);},_o304=_n392(_e959,"start"),_l264=_n392(_e959,"mid"),_h203=_n392(_e959,"end"),_a160=!1,_r99=!1,_d77=!1;var _iterator921=_createForOfIteratorHelper(_i915),_step921;try{for(_iterator921.s();!(_step921=_iterator921.n()).done;){var _t1376=_step921.value;var _e960=_n392(_t1376,"start"),_i916=_n392(_t1376,"mid"),_s552=_n392(_t1376,"end");_e960!==_o304&&(_a160=!0),_i916!==_l264&&(_r99=!0),_s552!==_h203&&(_d77=!0);}}catch(err){_iterator921.e(err);}finally{_iterator921.f();}this["#marker-section-heading"].disabled=!1,this["#marker-start-heading"].disabled=!1,this["#marker-start-select"].enabled=!0,this["#marker-start-select"].mixed=_a160,this["#marker-start-select"].value=_o304,this["#marker-mid-heading"].disabled=!1,this["#marker-mid-select"].enabled=!0,this["#marker-mid-select"].mixed=_r99,this["#marker-mid-select"].value=_l264,this["#marker-end-heading"].disabled=!1,this["#marker-end-select"].enabled=!0,this["#marker-end-select"].mixed=_d77,this["#marker-end-select"].value=_h203;}}}},{key:"Hx",value:function Hx(){var t=[],e=function e(i){var _iterator922=_createForOfIteratorHelper(i),_step922;try{for(_iterator922.s();!(_step922=_iterator922.n()).done;){var _s553=_step922.value;w.includes(_s553.localName)||"use"===_s553.localName?t.push(_s553):"g"!==_s553.localName&&"a"!==_s553.localName||e(_s553.children);}}catch(err){_iterator922.e(err);}finally{_iterator922.f();}};return e(this.Js.board.outermostSelectedElements),t;}},{key:"bb",value:function bb(){var t=[];return function(e){var _iterator923=_createForOfIteratorHelper(e),_step923;try{for(_iterator923.s();!(_step923=_iterator923.n()).done;){var _i917=_step923.value;z.includes(_i917.localName)&&t.push(_i917);}}catch(err){_iterator923.e(err);}finally{_iterator923.f();}}(this.Js.board.outermostSelectedElements),t;}}]);return Px;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Px,"observedAttributes",["enabled"]);_defineProperty(Px,"_shadowTemplate",Yi(_templateObject268(),Mx));_defineProperty(Px,"_shadowStyleSheet",Wi(_templateObject269()));customElements.define("bx-strokepanel",Px);var Dx={"drop-shadow":1,"inner-shadow":1,"point-light":1,"spot-light":1,outline:1,"gaussian-blur":1,"motion-blur":1,warp:1,pixelete:1,morphology:1,"black-and-white":1,grayscale:1,sepia:1,saturate:1,"hue-rotate":1,invert:1,brightness:1,contrast:1,posterize:1,duotone:1,"x-ray":1};var zx=function zx(t){var e=null;return"drop-shadow"===t?e={offsetX:10,offsetY:10,blurRadius:0,spread:.5,color:"rgba(0,0,0,0.3)"}:"inner-shadow"===t?e={offsetX:0,offsetY:0,blurRadius:10,choke:.5,color:"rgba(0,0,0,0.7)"}:"point-light"===t?e={sourceX:.5,sourceY:.5,sourceZ:.5,specularExponent:70,specularConstant:1,diffuseConstant:.2,ambientConstant:0,color:"#ffffff"}:"spot-light"===t?e={sourceX:.5,sourceY:.5,sourceZ:1,targetX:.5,targetY:.5,targetZ:0,coneAngle:20,color:"#ffffff",specularExponent:30,specularConstant:2,diffuseConstant:.1,ambientConstant:0}:"outline"===t?e={width:4,color:"#bada55"}:"gaussian-blur"===t?e={radius:5}:"motion-blur"===t?e={distance:5,orientation:"horizontal"}:"warp"===t?e={amount:50,frequency:.1}:"pixelete"===t?e={pixelSize:10}:"morphology"===t?e={operator:"dilate",radius:4}:"black-and-white"===t?e={balance:0}:"grayscale"===t||"sepia"===t?e={amount:1}:"saturate"===t?e={amount:.5}:"hue-rotate"===t?e={angle:90}:"invert"===t?e={amount:1}:"brightness"===t?e={amount:1.5}:"contrast"===t?e={amount:.7}:"posterize"===t?e={channels:["r"],amount:3,saturation:.9}:"duotone"===t?e={shadowsColor:"rgb(189,11,145)",highlightsColor:"rgb(252,187,13)",gamma:1}:"x-ray"===t&&(e={}),e&&(e.name=t),e;},Ox=function Ox(t){var e=null;if(t.hasAttribute("data-bx-preset")){var _t$getAttribute$split=t.getAttribute("data-bx-preset").split(" "),_t$getAttribute$split2=_toArray(_t$getAttribute$split),_i918=_t$getAttribute$split2[0],_s554=_t$getAttribute$split2[1],_n393=_t$getAttribute$split2.slice(2);if("drop-shadow"===_i918){var _ref112=_toConsumableArray(_n393),_t1377=_ref112[0],_s555=_ref112[1],_o305=_ref112[2],_l265=_ref112[3],_h204=_ref112[4];e={name:_i918,offsetX:parseFloat(_t1377),offsetY:parseFloat(_s555),blurRadius:parseFloat(_o305),spread:parseFloat(_l265),color:_h204};}else if("inner-shadow"===_i918){var _ref113=_toConsumableArray(_n393),_t1378=_ref113[0],_s556=_ref113[1],_o306=_ref113[2],_l266=_ref113[3],_h205=_ref113[4];e={name:_i918,offsetX:parseFloat(_t1378),offsetY:parseFloat(_s556),blurRadius:parseFloat(_o306),choke:parseFloat(_l266),color:_h205};}else if("point-light"===_i918){var _ref114=_toConsumableArray(_n393),_t1379=_ref114[0],_s557=_ref114[1],_o307=_ref114[2],_l267=_ref114[3],_h206=_ref114[4],_a161=_ref114[5],_r100=_ref114[6],_d78=_ref114[7];e={name:_i918,sourceX:parseFloat(_t1379),sourceY:parseFloat(_s557),sourceZ:parseFloat(_o307),specularExponent:parseFloat(_l267),specularConstant:parseFloat(_h206),diffuseConstant:parseFloat(_a161),ambientConstant:parseFloat(_r100),color:_d78};}else if("spot-light"===_i918){var _ref115=_toConsumableArray(_n393),_t1380=_ref115[0],_s558=_ref115[1],_o308=_ref115[2],_l268=_ref115[3],_h207=_ref115[4],_a162=_ref115[5],_r101=_ref115[6],_d79=_ref115[7],_c60=_ref115[8],_p50=_ref115[9],_u42=_ref115[10],_x126=_ref115[11];e={name:_i918,sourceX:parseFloat(_t1380),sourceY:parseFloat(_s558),sourceZ:parseFloat(_o308),targetX:parseFloat(_l268),targetY:parseFloat(_h207),targetZ:parseFloat(_a162),coneAngle:parseFloat(_r101),color:_d79,specularExponent:parseFloat(_c60),specularConstant:parseFloat(_p50),diffuseConstant:parseFloat(_u42),ambientConstant:parseFloat(_x126)};}else if("outline"===_i918){var _ref116=_toConsumableArray(_n393),_t1381=_ref116[0],_s559=_ref116[1];e={name:_i918,width:parseFloat(_t1381),color:_s559};}else if("gaussian-blur"===_i918){var _ref117=_toConsumableArray(_n393),_t1382=_ref117[0];e={name:_i918,radius:parseFloat(_t1382)};}else if("motion-blur"===_i918){var _ref118=_toConsumableArray(_n393),_t1383=_ref118[0],_s560=_ref118[1];e={name:_i918,distance:parseFloat(_t1383),orientation:_s560};}else if("warp"===_i918){var _ref119=_toConsumableArray(_n393),_t1384=_ref119[0],_s561=_ref119[1];e={name:_i918,amount:parseFloat(_t1384),frequency:parseFloat(_s561)};}else if("pixelete"===_i918){var _ref120=_toConsumableArray(_n393),_t1385=_ref120[0];e={name:_i918,pixelSize:parseFloat(_t1385)};}else if("morphology"===_i918){var _ref121=_toConsumableArray(_n393),_t1386=_ref121[0],_s562=_ref121[1];e={name:_i918,operator:_t1386,radius:parseFloat(_s562)};}else if("black-and-white"===_i918){var _ref122=_toConsumableArray(_n393),_t1387=_ref122[0];e={name:_i918,balance:parseFloat(_t1387)};}else if("grayscale"===_i918){var _ref123=_toConsumableArray(_n393),_t1388=_ref123[0];e={name:_i918,amount:parseFloat(_t1388)};}else if("sepia"===_i918){var _ref124=_toConsumableArray(_n393),_t1389=_ref124[0];e={name:_i918,amount:parseFloat(_t1389)};}else if("saturate"===_i918){var _ref125=_toConsumableArray(_n393),_t1390=_ref125[0];e={name:_i918,amount:parseFloat(_t1390)};}else if("hue-rotate"===_i918){var _ref126=_toConsumableArray(_n393),_t1391=_ref126[0];e={name:_i918,angle:parseFloat(_t1391)};}else if("invert"===_i918){var _ref127=_toConsumableArray(_n393),_t1392=_ref127[0];e={name:_i918,amount:parseFloat(_t1392)};}else if("brightness"===_i918){var _ref128=_toConsumableArray(_n393),_t1393=_ref128[0];e={name:_i918,amount:parseFloat(_t1393)};}else if("contrast"===_i918){var _ref129=_toConsumableArray(_n393),_t1394=_ref129[0];e={name:_i918,amount:parseFloat(_t1394)};}else if("posterize"===_i918){var _ref130=_toConsumableArray(_n393),_t1395=_ref130[0],_s563=_ref130[1],_o309=_ref130[2];e={name:_i918,amount:parseInt(_s563),channels:_t1395.split(""),saturation:parseFloat(_o309)};}else if("duotone"===_i918){var _ref131=_toConsumableArray(_n393),_t1396=_ref131[0],_s564=_ref131[1],_o310=_ref131[2];e={name:_i918,shadowsColor:_t1396,highlightsColor:_s564,gamma:parseFloat(_o310)};}else"x-ray"===_i918&&(e={name:_i918});}return e;},Ex=function Ex(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;var s=Dx[e.name];if("drop-shadow"===e.name){var _n394=e.offsetX,_o311=e.offsetY,_l269=e.blurRadius,_h208=e.spread,_a163=e.color;_n394=Z(_n394,3),_o311=Z(_o311,3),_l269=Z(_l269,3),_h208=Z(_h208,3),_a163=si(_a163," ",""),t.setAttribute("data-bx-preset","drop-shadow ".concat(s," ").concat(_n394," ").concat(_o311," ").concat(_l269," ").concat(_h208," ").concat(_a163)),_h208*=2,i?(t.querySelector(":scope > feGaussianBlur").setAttribute("stdDeviation",_l269),t.querySelector(":scope > feOffset").setAttribute("dx",_n394),t.querySelector(":scope > feOffset").setAttribute("dy",_o311),t.querySelector(":scope > feComponentTransfer > feFuncA").setAttribute("slope",_h208),t.querySelector(":scope > feFlood").setAttribute("flood-color",_a163),t.querySelector(":scope > feFlood").removeAttribute("x"),t.querySelector(":scope > feFlood").removeAttribute("y")):t.innerHTML="\n        <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"".concat(_l269,"\"/>\n        <feOffset dx=\"").concat(_n394,"\" dy=\"").concat(_o311,"\"/>\n        <feComponentTransfer result=\"offsetblur\">\n          <feFuncA id=\"spread-ctrl\" type=\"linear\" slope=\"").concat(_h208,"\"/>\n        </feComponentTransfer>\n        <feFlood flood-color=\"").concat(_a163,"\"/>\n        <feComposite in2=\"offsetblur\" operator=\"in\"/>\n        <feMerge>\n          <feMergeNode/>\n          <feMergeNode in=\"SourceGraphic\"/>\n        </feMerge>\n      ");}else if("inner-shadow"===e.name){var _n395=e.offsetX,_o312=e.offsetY,_l270=e.blurRadius,_h209=e.choke,_a164=e.color;_n395=Z(_n395,3),_o312=Z(_o312,3),_l270=Z(_l270,3),_h209=Z(_h209,3),_a164=si(_a164," ",""),t.setAttribute("data-bx-preset","inner-shadow ".concat(s," ").concat(_n395," ").concat(_o312," ").concat(_l270," ").concat(_h209," ").concat(_a164)),_h209*=2,i?(t.querySelector(":scope > feOffset").setAttribute("dx",_n395),t.querySelector(":scope > feOffset").setAttribute("dy",_o312),t.querySelector(":scope > feGaussianBlur").setAttribute("stdDeviation",_l270),t.querySelector(":scope > feComponentTransfer > feFuncA").setAttribute("slope",_h209),t.querySelector(":scope > feFlood").setAttribute("flood-color",_a164)):t.innerHTML="\n        <feOffset dx=\"".concat(_n395,"\" dy=\"").concat(_o312,"\"/>\n        <feGaussianBlur stdDeviation=\"").concat(_l270,"\"/>\n        <feComposite operator=\"out\" in=\"SourceGraphic\"/>\n        <feComponentTransfer result=\"choke\">\n          <feFuncA type=\"linear\" slope=\"").concat(_h209,"\"/>\n        </feComponentTransfer>\n        <feFlood flood-color=\"").concat(_a164,"\" result=\"color\"/>\n        <feComposite operator=\"in\" in=\"color\" in2=\"choke\" result=\"shadow\"/>\n        <feComposite operator=\"over\" in=\"shadow\" in2=\"SourceGraphic\"/>\n      ");}else if("point-light"===e.name){var _n396=e.sourceX,_o313=e.sourceY,_l271=e.sourceZ,_h210=e.specularExponent,_a165=e.specularConstant,_r102=e.diffuseConstant,_d80=e.ambientConstant,_c61=e.color;_n396=Z(_n396,3),_o313=Z(_o313,3),_l271=Z(_l271,3),_h210=Z(_h210,3),_a165=Z(_a165,3),_r102=Z(_r102,3),_d80=Z(_d80,3),_c61=si(_c61," ",""),t.setAttribute("data-bx-preset",["point-light",s,_n396,_o313,_l271,_h210,_a165,_r102,_d80,_c61].join(" ")),i?(t.querySelector(":scope > feSpecularLighting").setAttribute("specularExponent",_h210),t.querySelector(":scope > feSpecularLighting").setAttribute("specularConstant",_a165),t.querySelector(":scope > feSpecularLighting").setAttribute("lighting-color",_c61),t.querySelector(":scope > feSpecularLighting > fePointLight").setAttribute("x",_n396),t.querySelector(":scope > feSpecularLighting > fePointLight").setAttribute("y",_o313),t.querySelector(":scope > feSpecularLighting > fePointLight").setAttribute("z",_l271),t.querySelector(":scope > feDiffuseLighting").setAttribute("diffuseConstant",_r102),t.querySelector(":scope > feDiffuseLighting").setAttribute("lighting-color",_c61),t.querySelector(":scope > feDiffuseLighting > fePointLight").setAttribute("x",_n396),t.querySelector(":scope > feDiffuseLighting > fePointLight").setAttribute("y",_o313),t.querySelector(":scope > feDiffuseLighting > fePointLight").setAttribute("z",_l271),t.querySelector(":scope > feComposite").setAttribute("k2",_d80)):(t.setAttribute("primitiveUnits","objectBoundingBox"),t.innerHTML="\n        <feSpecularLighting result=\"specular-lighting\" lighting-color=\"".concat(_c61,"\"\n          specularConstant=\"").concat(_a165,"\" specularExponent=\"").concat(_h210,"\">\n          <fePointLight x=\"").concat(_n396,"\" y=\"").concat(_o313,"\" z=\"").concat(_l271,"\"></fePointLight>\n        </feSpecularLighting>\n        <feDiffuseLighting result=\"diffuse-lighting\" lighting-color=\"").concat(_c61,"\" diffuseConstant=\"").concat(_r102,"\">\n          <fePointLight x=\"").concat(_n396,"\" y=\"").concat(_o313,"\" z=\"").concat(_l271,"\"></fePointLight>\n        </feDiffuseLighting>\n        <feMerge result=\"lighting\">\n          <feMergeNode in=\"diffuse-lighting\"></feMergeNode>\n          <feMergeNode in=\"specular-lighting\"></feMergeNode>\n        </feMerge>\n        <feComposite in=\"SourceGraphic\" in2=\"lighting\" operator=\"arithmetic\"\n          k1=\"1\" k2=\"").concat(_d80,"\" k3=\"0\" k4=\"0\"></feComposite>\n      "));}else if("spot-light"===e.name){var _n397=Z(e.sourceX,3),_o314=Z(e.sourceY,3),_l272=Z(e.sourceZ,3),_h211=Z(e.targetX,3),_a166=Z(e.targetY,3),_r103=Z(e.targetZ,3),_d81=Z(e.coneAngle,3),_c62=Z(e.specularExponent,3),_p51=Z(e.specularConstant,3),_u43=Z(e.diffuseConstant,3),_x127=Z(e.ambientConstant,3),_b37=si(e.color," ","");t.setAttribute("data-bx-preset",["spot-light",s,_n397,_o314,_l272,_h211,_a166,_r103,_d81,_b37,_c62,_p51,_u43,_x127].join(" ")),i?(t.querySelector(":scope > feSpecularLighting").setAttribute("specularExponent",_c62),t.querySelector(":scope > feSpecularLighting").setAttribute("specularConstant",_p51),t.querySelector(":scope > feSpecularLighting").setAttribute("lighting-color",_b37),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("x",_n397),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("y",_o314),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("z",_l272),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("pointsAtX",_h211),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("pointsAtY",_a166),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("pointsAtZ",_r103),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("limitingConeAngle",_d81),t.querySelector(":scope > feDiffuseLighting").setAttribute("diffuseConstant",_u43),t.querySelector(":scope > feDiffuseLighting").setAttribute("lighting-color",_b37),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("x",_n397),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("y",_o314),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("z",_l272),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("pointsAtX",_h211),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("pointsAtY",_a166),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("pointsAtZ",_r103),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("limitingConeAngle",_d81),t.querySelector(":scope > feComposite").setAttribute("k2",_x127)):(t.setAttribute("primitiveUnits","objectBoundingBox"),t.innerHTML="\n        <feSpecularLighting result=\"specular-lighting\" lighting-color=\"".concat(_b37,"\"\n          specularConstant=\"").concat(_p51,"\" specularExponent=\"").concat(_c62,"\">\n          <feSpotLight x=\"").concat(_n397,"\" y=\"").concat(_o314,"\" z=\"").concat(_l272,"\" limitingConeAngle=\"").concat(_d81,"\"\n            pointsAtX=\"").concat(_h211,"\" pointsAtY=\"").concat(_a166,"\" pointsAtZ=\"").concat(_r103,"\"></feSpotLight>\n        </feSpecularLighting>\n        <feDiffuseLighting result=\"diffuse-lighting\" lighting-color=\"").concat(_b37,"\" diffuseConstant=\"").concat(_u43,"\">\n          <feSpotLight x=\"").concat(_n397,"\" y=\"").concat(_o314,"\" z=\"").concat(_l272,"\" limitingConeAngle=\"").concat(_d81,"\"\n            pointsAtX=\"").concat(_h211,"\" pointsAtY=\"").concat(_a166,"\" pointsAtZ=\"").concat(_r103,"\"></feSpotLight>\n        </feDiffuseLighting>\n        <feMerge result=\"lighting\">\n          <feMergeNode in=\"diffuse-lighting\"></feMergeNode>\n          <feMergeNode in=\"specular-lighting\"></feMergeNode>\n        </feMerge>\n        <feComposite in=\"SourceGraphic\" in2=\"lighting\" operator=\"arithmetic\"\n          k1=\"1\" k2=\"").concat(_x127,"\" k3=\"0\" k4=\"0\"></feComposite>\n      "));}else if("outline"===e.name){var _n398=e.width,_o315=si(e.color," ","");_n398=Z(_n398,3),t.setAttribute("data-bx-preset","outline ".concat(s," ").concat(_n398," ").concat(_o315)),i?(t.querySelector(":scope > feMorphology").setAttribute("radius","".concat(_n398)),t.querySelector(":scope > feFlood").setAttribute("flood-color","".concat(_o315))):t.innerHTML="\n        <feMorphology in=\"SourceAlpha\" result=\"dilated\" operator=\"dilate\" radius=\"".concat(_n398,"\"></feMorphology>\n        <feFlood flood-color=\"").concat(_o315,"\" result=\"flood\"></feFlood>\n        <feComposite in=\"flood\" in2=\"dilated\" operator=\"in\" result=\"outline\"></feComposite>\n        <feMerge>\n          <feMergeNode in=\"outline\" />\n          <feMergeNode in=\"SourceGraphic\" />\n        </feMerge>\n      ");}else if("gaussian-blur"===e.name){var _n399=e.radius;_n399=Z(_n399,3),t.setAttribute("data-bx-preset","gaussian-blur ".concat(s," ").concat(_n399)),i?t.querySelector(":scope > feGaussianBlur").setAttribute("stdDeviation","".concat(_n399," ").concat(_n399)):(t.setAttribute("color-interpolation-filters","sRGB"),t.innerHTML="<feGaussianBlur stdDeviation=\"".concat(_n399," ").concat(_n399,"\" edgeMode=\"none\" >"));}else if("motion-blur"===e.name){var _n400=e.distance,_o316=e.orientation,_l273="horizontal"===_o316?"".concat(_n400," 0"):"0 ".concat(_n400);_n400=Z(_n400,3),t.setAttribute("data-bx-preset","motion-blur ".concat(s," ").concat(_n400," ").concat(_o316)),i?t.querySelector(":scope > feGaussianBlur").setAttribute("stdDeviation","".concat(_l273)):(t.setAttribute("color-interpolation-filters","sRGB"),t.innerHTML="<feGaussianBlur stdDeviation=\"".concat(_l273,"\" edgeMode=\"none\">"));}else if("warp"===e.name){var _n401=e.amount,_o317=e.frequency;_n401=Z(_n401,1),_o317=Z(_o317,3),t.setAttribute("data-bx-preset","warp ".concat(s," ").concat(_n401," ").concat(_o317)),i?(t.querySelector(":scope > feTurbulence").setAttribute("baseFrequency",_o317/10),t.querySelector(":scope > feDisplacementMap").setAttribute("scale",_n401)):t.innerHTML="\n        <feComponentTransfer>\n          <feFuncR type=\"table\" tableValues=\"1 0.5\"/>\n        </feComponentTransfer>\n        <feMerge result=\"a\">\n          <feMergeNode/>\n          <feMergeNode in=\"SourceGraphic\"/>\n        </feMerge>\n        <feTurbulence type=\"fractalNoise\" baseFrequency=\"".concat(_o317/10,"\" numOctaves=\"1\" result=\"warp\" />\n        <feDisplacementMap xChannelSelector=\"R\" yChannelSelector=\"G\" scale=\"").concat(_n401,"\" in=\"a\" in2=\"warp\"  />\n      ");}else if("pixelete"===e.name){var _n402=e.pixelSize;_n402=Z(_n402,3),t.setAttribute("data-bx-preset","pixelete ".concat(s," ").concat(_n402)),i?(t.querySelector(":scope > feComposite").setAttribute("width",_n402),t.querySelector(":scope > feComposite").setAttribute("height",_n402),t.querySelector(":scope > feMorphology").setAttribute("radius",_n402/2)):t.innerHTML="\n        <feFlood height=\"2\" width=\"2\"/>\n        <feComposite width=\"".concat(_n402,"\" height=\"").concat(_n402,"\"></feComposite>\n        <feTile result=\"a\"/>\n        <feComposite in=\"SourceGraphic\" in2=\"a\" operator=\"in\"/>\n        <feMorphology operator=\"dilate\" radius=\"").concat(_n402/2,"\"></feMorphology>\n      ");}else if("morphology"===e.name){var _n403=e.operator,_o318=e.radius;_o318=Z(_o318,3),t.setAttribute("data-bx-preset","morphology ".concat(s," ").concat(_n403," ").concat(_o318)),i?(t.querySelector(":scope > feMorphology").setAttribute("operator",_n403),t.querySelector(":scope > feMorphology").setAttribute("radius",_o318)):t.innerHTML="\n        <feMorphology operator=\"".concat(_n403,"\" radius=\"").concat(_o318,"\"></feMorphology>\n      ");}else if("black-and-white"===e.name){var _n404=e.balance;t.setAttribute("data-bx-preset","black-and-white ".concat(s," ").concat(_n404));var _o319=Z((-1*_n404+1)/2*250,1),_l274="0 ".repeat(_o319)+"1 ".repeat(255-_o319);i?(t.querySelector("feFuncR").setAttribute("tableValues",_l274),t.querySelector("feFuncG").setAttribute("tableValues",_l274),t.querySelector("feFuncB").setAttribute("tableValues",_l274)):(t.setAttribute("color-interpolation-filters","sRGB"),t.innerHTML="\n        <feColorMatrix type=\"saturate\" values=\"0\"></feColorMatrix>\n\n        <feComponentTransfer>\n          <feFuncR type=\"discrete\" tableValues=\"".concat(_l274,"\"/>\n          <feFuncG type=\"discrete\" tableValues=\"").concat(_l274,"\"/>\n          <feFuncB type=\"discrete\" tableValues=\"").concat(_l274,"\"/>\n        </feComponentTransfer>\n      "));}else if("grayscale"===e.name){var _n405=e.amount,_o320=[.2126+.7874*[1-_n405],.7152-.7152*[1-_n405],.0722-.0722*[1-_n405],0,0,.2126-.2126*[1-_n405],.7152+.2848*[1-_n405],.0722-.0722*[1-_n405],0,0,.2126-.2126*[1-_n405],.7152-.7152*[1-_n405],.0722+.9278*[1-_n405],0,0,0,0,0,1,0];_o320=_o320.map(function(t){return Z(t,3);}).join(" "),t.setAttribute("data-bx-preset","grayscale ".concat(s," ").concat(_n405)),i?t.querySelector(":scope > feColorMatrix").setAttribute("values",_o320):t.innerHTML="<feColorMatrix type=\"matrix\" values=\"".concat(_o320,"\"/>");}else if("sepia"===e.name){var _n406=e.amount,_o321=[.393+.607*[1-_n406],.769-.769*[1-_n406],.189-.189*[1-_n406],0,0,.349-.349*[1-_n406],.686+.314*[1-_n406],.168-.168*[1-_n406],0,0,.272-.272*[1-_n406],.534-.534*[1-_n406],.131+.869*[1-_n406],0,0,0,0,0,1,0];_o321=_o321.map(function(t){return Z(t,3);}).join(" "),t.setAttribute("data-bx-preset","sepia ".concat(s," ").concat(_n406)),i?t.querySelector(":scope > feColorMatrix").setAttribute("values",_o321):t.innerHTML="<feColorMatrix type=\"matrix\" values=\"".concat(_o321,"\"/>");}else if("saturate"===e.name){var _n407=e.amount;_n407=Z(_n407,3),t.setAttribute("data-bx-preset","saturate ".concat(s," ").concat(_n407)),i?t.querySelector(":scope > feColorMatrix").setAttribute("values",_n407):t.innerHTML="<feColorMatrix type=\"saturate\" values=\"".concat(_n407,"\"/>");}else if("hue-rotate"===e.name){var _n408=e.angle;_n408=Z(_n408,0),t.setAttribute("data-bx-preset","hue-rotate ".concat(s," ").concat(_n408)),i?t.querySelector(":scope > feColorMatrix").setAttribute("values",_n408):t.innerHTML="<feColorMatrix type=\"hueRotate\" values=\"".concat(_n408,"\"/>");}else if("invert"===e.name){var _n409=e.amount;if(_n409=Z(_n409,3),t.setAttribute("data-bx-preset","invert ".concat(s," ").concat(_n409)),i){var _iterator924=_createForOfIteratorHelper(t.querySelector(":scope > feComponentTransfer").children),_step924;try{for(_iterator924.s();!(_step924=_iterator924.n()).done;){var _e961=_step924.value;_e961.setAttribute("tableValues","".concat(_n409," ").concat(1-_n409));}}catch(err){_iterator924.e(err);}finally{_iterator924.f();}}else t.innerHTML="\n        <feComponentTransfer>\n          <feFuncR type=\"table\" tableValues=\"".concat(_n409," ").concat(1-_n409,"\"/>\n          <feFuncG type=\"table\" tableValues=\"").concat(_n409," ").concat(1-_n409,"\"/>\n          <feFuncB type=\"table\" tableValues=\"").concat(_n409," ").concat(1-_n409,"\"/>\n        </feComponentTransfer>\n      ");}else if("brightness"===e.name){var _n410=e.amount;if(_n410=Z(_n410,3),t.setAttribute("data-bx-preset","brightness ".concat(s," ").concat(_n410)),i){var _iterator925=_createForOfIteratorHelper(t.querySelector(":scope > feComponentTransfer").children),_step925;try{for(_iterator925.s();!(_step925=_iterator925.n()).done;){var _e962=_step925.value;_e962.setAttribute("slope","".concat(_n410));}}catch(err){_iterator925.e(err);}finally{_iterator925.f();}}else t.innerHTML="\n        <feComponentTransfer>\n          <feFuncR type=\"linear\" slope=\"".concat(_n410,"\"/>\n          <feFuncG type=\"linear\" slope=\"").concat(_n410,"\"/>\n          <feFuncB type=\"linear\" slope=\"").concat(_n410,"\"/>\n        </feComponentTransfer>\n      ");}else if("contrast"===e.name){var _n411=e.amount;if(_n411=Z(_n411,3),t.setAttribute("data-bx-preset","contrast ".concat(s," ").concat(_n411)),i){var _iterator926=_createForOfIteratorHelper(t.querySelector(":scope > feComponentTransfer").children),_step926;try{for(_iterator926.s();!(_step926=_iterator926.n()).done;){var _e963=_step926.value;_e963.setAttribute("slope","".concat(_n411)),_e963.setAttribute("intercept",""+(-.5*_n411+.5));}}catch(err){_iterator926.e(err);}finally{_iterator926.f();}}else t.innerHTML="\n        <feComponentTransfer>\n          <feFuncR type=\"linear\" slope=\"".concat(_n411,"\" intercept=\"").concat(-.5*_n411+.5,"\"/>\n          <feFuncG type=\"linear\" slope=\"").concat(_n411,"\" intercept=\"").concat(-.5*_n411+.5,"\"/>\n          <feFuncB type=\"linear\" slope=\"").concat(_n411,"\" intercept=\"").concat(-.5*_n411+.5,"\"/>\n        </feComponentTransfer>\n      ");}else if("posterize"===e.name){var _n412=e.channels,_o322=e.amount,_l275=e.saturation;t.setAttribute("data-bx-preset","posterize ".concat(s," ").concat(_n412.join("")," ").concat(_o322," ").concat(_l275));var _h212=[0],_a167=1/_o322,_r104=0;for(var _t1397=1;_t1397<_o322;_t1397+=1){_r104+=_a167,_h212.push(_r104);}_h212.push(1),_h212=_h212.map(function(t){return Z(t,3);});var _d82=_n412.includes("r")?_h212:[],_c63=_n412.includes("g")?_h212:[],_p52=_n412.includes("b")?_h212:[];i?(t.querySelector(":scope > feColorMatrix").setAttribute("values",_l275),t.querySelector(":scope > feComponentTransfer>  feFuncR").setAttribute("tableValues",_d82.join(" ")),t.querySelector(":scope > feComponentTransfer>  feFuncG").setAttribute("tableValues",_c63.join(" ")),t.querySelector(":scope > feComponentTransfer>  feFuncB").setAttribute("tableValues",_p52.join(" "))):t.innerHTML="\n        <feColorMatrix type=\"saturate\" values=\"".concat(_l275,"\"/>\n        <feComponentTransfer>\n          <feFuncR type=\"discrete\" tableValues=\"").concat(_d82.join(" "),"\" />\n          <feFuncG type=\"discrete\" tableValues=\"").concat(_c63.join(" "),"\" />\n          <feFuncB type=\"discrete\" tableValues=\"").concat(_p52.join(" "),"\" />\n        </feComponentTransfer>\n      ");}else if("duotone"===e.name){var _n413=e.shadowsColor,_o323=e.highlightsColor,_l276=e.gamma,_xo7=xo(_n413,"rgba"),_xo8=_slicedToArray(_xo7,3),_h213=_xo8[0],_a168=_xo8[1],_r105=_xo8[2],_xo9=xo(_o323,"rgba"),_xo10=_slicedToArray(_xo9,3),_d83=_xo10[0],_c64=_xo10[1],_p53=_xo10[2],_u44=Z(_h213/255,3),_x128=Z(_a168/255,3),_b38=Z(_r105/255,3),_m36=Z(_d83/255,3),_g31=Z(_c64/255,3),_f22=Z(_p53/255,3);_n413=si(_n413," ",""),_o323=si(_o323," ",""),t.setAttribute("data-bx-preset","duotone ".concat(s," ").concat(_n413," ").concat(_o323," ").concat(_l276)),i?(t.children[1].children[0].setAttribute("amplitude",_l276),t.children[1].children[1].setAttribute("amplitude",_l276),t.children[1].children[2].setAttribute("amplitude",_l276),t.children[2].children[0].setAttribute("tableValues","".concat(_u44," ").concat(_m36)),t.children[2].children[1].setAttribute("tableValues","".concat(_x128," ").concat(_g31)),t.children[2].children[2].setAttribute("tableValues","".concat(_b38," ").concat(_f22))):t.innerHTML="\n        <feColorMatrix\n          type=\"matrix\" result=\"grayscale\" values=\"1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 0 0 0 1 0\">\n        </feColorMatrix>\n        <feComponentTransfer color-interpolation-filters=\"sRGB\">\n          <feFuncR type=\"gamma\" exponent=\"1.5\" amplitude=\"".concat(_l276,"\" offset=\"0\"></feFuncR>\n          <feFuncG type=\"gamma\" exponent=\"1.5\" amplitude=\"").concat(_l276,"\" offset=\"0\"></feFuncG>\n          <feFuncB type=\"gamma\" exponent=\"1.5\" amplitude=\"").concat(_l276,"\" offset=\"0\"></feFuncB>\n        </feComponentTransfer>\n        <feComponentTransfer color-interpolation-filters=\"sRGB\" result=\"duotone\">\n          <feFuncR type=\"table\" tableValues=\"").concat(_u44," ").concat(_m36,"\"></feFuncR>\n          <feFuncG type=\"table\" tableValues=\"").concat(_x128," ").concat(_g31,"\"></feFuncG>\n          <feFuncB type=\"table\" tableValues=\"").concat(_b38," ").concat(_f22,"\"></feFuncB>\n          <feFuncA type=\"table\" tableValues=\"0 1\"></feFuncA>\n        </feComponentTransfer>\n      ");}else"x-ray"===e.name&&(t.setAttribute("data-bx-preset","x-ray ".concat(s)),i?t.querySelector("feColorMatrix").setAttribute("values","-1 0 0 0 0 0 -1 0 0 0 0 0 -1 0 0 1 1 1 0 0"):t.innerHTML='\n        <feColorMatrix type="matrix" values="-1 0 0 0 0 0 -1 0 0 0 0 0 -1 0 0 1 1 1 0 0"/>\n      ');!1===i&&("pixelete"===e.name?(t.setAttribute("x","0"),t.setAttribute("y","0"),t.setAttribute("width","100%"),t.setAttribute("height","100%")):(t.setAttribute("x","-500%"),t.setAttribute("y","-500%"),t.setAttribute("width","1000%"),t.setAttribute("height","1000%")));},Tx=Symbol(),Ax="/images/logos/logo-full.svg";var $x=/*#__PURE__*/function(_HTMLElement76){_inherits($x,_HTMLElement76);var _super105=_createSuper($x);_createClass($x,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"none";},set:function set(t){this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function $x(){var _this495;_classCallCheck(this,$x);_this495=_super105.call(this),_this495._a=Xi(_this495.qs,200,_assertThisInitialized(_this495)),_this495._shadowRoot=_this495.attachShadow({mode:"closed"}),_this495._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,$x._shadowStyleSheet],_this495._shadowRoot.append(document.importNode($x._shadowTemplate.content,!0));var _iterator927=_createForOfIteratorHelper(_this495._shadowRoot.querySelectorAll("[id]")),_step927;try{for(_iterator927.s();!(_step927=_iterator927.n()).done;){var _t1398=_step927.value;_this495["#"+_t1398.id]=_t1398;}}catch(err){_iterator927.e(err);}finally{_iterator927.f();}_this495.addEventListener("keydown",function(t){return _this495.vn(t);}),_this495["#popover"].addEventListener("open",function(){return _this495.Mu();}),_this495["#items"].addEventListener("click",function(t){return _this495.Jc(t);}),_this495["#items"].addEventListener("dblclick",function(t){return _this495.Pu(t);}),_this495["#manage-button"].addEventListener("click",function(){return _this495.Du();}),_this495["#developer-mode-button"].addEventListener("toggle",function(){return _this495.zu();});return _this495;}_createClass($x,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this.Ou=Ai(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.sn():"value"===t&&this.vu());}},{key:"tn",value:function tn(){var _this496=this;this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-filterselect:developerMode",!1),this["#expand-button"].disabled=!1,this["#popover"].style.width=this["#expand-button"].clientWidth+"px",this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this496.sl(t.detail);}),this.Ou.addEventListener("resize",this.Eu=function(){_this496.Tu();}),this.qs();}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("workspacemutation",this.rn),this.Ou.removeEventListener("resize",this.Eu),this["#expand-button"].collapse(),this["#expand-button"].disabled=!0,this["#custom-filters-mirror"].innerHTML="";}},{key:"vu",value:function vu(){this.mb(),this.$u();}},{key:"sl",value:function sl(){this._a();}},{key:"Tu",value:function Tu(){this["#popover"].style.width=this["#expand-button"].clientWidth+"px";}},{key:"Jc",value:function Jc(t){var e=t.target.closest(".item");if(e){var _t1399=e.getAttribute("data-value");_t1399===this.value&&!0!==this.mixed||(this.value=_t1399,this.dispatchEvent(new CustomEvent("change")));}}},{key:"Pu",value:function Pu(t){var e=t.target.closest(".item");if(e){var _t1400=e.getAttribute("data-value");this["#expand-button"].collapse(),_t1400.startsWith("#")&&(this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.editFilter(_t1400.substring(1)));}}},{key:"Du",value:function Du(){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("filters-browser");}},{key:"zu",value:function zu(){var t=this["#developer-mode-button"].toggled;this.Qs.setConfig("bx-filterselect:developerMode",t),this.mb(),this.Iu(),this.Lu();}},{key:"vn",value:function vn(t){var e=eo.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Bu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Ru());}},{key:"qs",value:function qs(){this.mb(),this.Gu(),this.Lu(),this.gb();}},{key:"mb",value:function mb(){if("none"===this.value)this["#expand-button-thumbnail-img"].style.filter="none",this["#expand-button-label"].textContent="None";else if(this.value.startsWith("#")){var _t1401=this.Js.board.masterWorkspace.querySelector(this.value),_e964=this["#developer-mode-button"].toggled;this["#expand-button-thumbnail-img"].style.filter="url("+this.value+")",this["#expand-button-label"].textContent=this.fb(_t1401,_e964);}else{var _t1402=this.value;this["#expand-button-thumbnail-img"].style.filter="url(#"+_t1402+"-filter)",this["#expand-button-label"].textContent=u[_t1402];}}},{key:"Gu",value:function Gu(){var t=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("filter")).filter(function(t){return!1===t.hasAttribute("data-bx-preset");});this["#custom-items"].innerHTML="";var _iterator928=_createForOfIteratorHelper(t),_step928;try{for(_iterator928.s();!(_step928=_iterator928.n()).done;){var _e965=_step928.value;var _t1403=Yi(_templateObject20(),_e965.id,Ax,_e965.id,_e965.id);_t1403[Tx]=_e965,this["#custom-items"].append(_t1403);}}catch(err){_iterator928.e(err);}finally{_iterator928.f();}this.$u(),this.Iu();}},{key:"$u",value:function $u(){for(var _i919=0,_arr41=[this["#none-item"]].concat(_toConsumableArray(this["#custom-items"].children),_toConsumableArray(this["#preset-items"].children));_i919<_arr41.length;_i919++){var _t1404=_arr41[_i919];_t1404.getAttribute("data-value")===this.value?_t1404.setAttribute("data-selected",""):_t1404.removeAttribute("data-selected");}}},{key:"Iu",value:function Iu(){var _iterator929=_createForOfIteratorHelper(this["#custom-items"].children),_step929;try{for(_iterator929.s();!(_step929=_iterator929.n()).done;){var _t1405=_step929.value;var _e966=_t1405[Tx];_t1405.querySelector(".label").textContent=this.fb(_e966,this["#developer-mode-button"].toggled);}}catch(err){_iterator929.e(err);}finally{_iterator929.f();}}},{key:"Lu",value:function Lu(){this["#custom-items"].querySelector(":scope > .item")?this["#custom-items-placeholder"].hidden=!0:this["#custom-items-placeholder"].hidden=!1;}},{key:"gb",value:function gb(){if(this["#custom-filters-mirror"].innerHTML=this.Js.board.defs.innerHTML,0===this["#preset-filters-mirror"].childElementCount){var _iterator930=_createForOfIteratorHelper(this["#preset-items"].children),_step930;try{for(_iterator930.s();!(_step930=_iterator930.n()).done;){var _t1406=_step930.value;if("hr"!==_t1406.localName){var _e967=_t1406.dataset.value,_i920=zx(_e967),_s565=zi("svg:filter");_s565.id="".concat(_i920.name,"-filter"),Ex(_s565,_i920),this["#preset-filters-mirror"].append(_s565),_t1406.querySelector("img").style.filter="url(#"+_s565.id+")";}}}catch(err){_iterator930.e(err);}finally{_iterator930.f();}}}},{key:"Bu",value:function Bu(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item")),e=this["#items"].querySelector(".item[data-selected]"),i=null;if(e){var _s566=t.indexOf(e);t[_s566-1]?i=t[_s566-1]:t[t.length-1]!==e&&(i=t[t.length-1]);}else t.length>0&&(i=t[t.length-1]);i&&(i.scrollIntoViewIfNeeded(),this.value=i.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Ru",value:function Ru(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item")),e=this["#items"].querySelector(".item[data-selected]"),i=null;if(e){var _s567=t.indexOf(e);t[_s567+1]?i=t[_s567+1]:t[0]!==e&&(i=t[0]);}else t.length>0&&(i=t[0]);i&&(i.scrollIntoViewIfNeeded(),this.value=i.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Mu",value:function Mu(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"fb",value:function fb(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i="";if(e)i=t.hasAttribute("id")?"#"+t.id:"<filter>";else{var _e968=t.querySelector(":scope > bx-title");i=_e968?_e968.textContent:"Filter";}return i;}}]);return $x;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty($x,"observedAttributes",["enabled","value"]);_defineProperty($x,"_shadowTemplate",Yi(_templateObject270(),Ax,Ax,Ax,u["drop-shadow"],Ax,u["inner-shadow"],Ax,u["point-light"],Ax,u["spot-light"],Ax,u.outline,Ax,u["gaussian-blur"],Ax,u["motion-blur"],Ax,u.warp,Ax,u.pixelete,Ax,u.morphology,Ax,u["black-and-white"],Ax,u.grayscale,Ax,u.sepia,Ax,u.saturate,Ax,u["hue-rotate"],Ax,u.invert,Ax,u.brightness,Ax,u.contrast,Ax,u.posterize,Ax,u.duotone,Ax,u["x-ray"]));_defineProperty($x,"_shadowStyleSheet",Wi(_templateObject271()));customElements.define("bx-filterselect",$x);var Ix=function Ix(t){var e=document.createNodeIterator(Oi(t),NodeFilter.SHOW_ELEMENT),i=null,s=[];for(;i=e.nextNode();){if(D.includes(i.localName)){var _e969=getComputedStyle(i).filter,_n414=no.fromString(_e969);if(_n414){_n414.value.substring(1)===t.id&&!1===s.includes(i)&&s.push(i);}}}return s;},Lx=function Lx(t){var e=null,i=getComputedStyle(t).getPropertyValue("filter");if(i&&i.startsWith('url("#')){var _s568=i.substring(6,i.length-2);_s568&&(e=Oi(t).querySelector("filter#"+_s568));}return e;},Bx=function Bx(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;if(!1===i){var _i921=[];var _iterator931=_createForOfIteratorHelper(t),_step931;try{for(_iterator931.s();!(_step931=_iterator931.n()).done;){var _s569=_step931.value;if(D.includes(_s569.localName))if("text"===_s569.localName){if(e&&e.intersectsNode(_s569)){var _t1407=bi(_s569);"backward"===e.direction&&_t1407.reverse();var _iterator932=_createForOfIteratorHelper(_t1407),_step932;try{for(_iterator932.s();!(_step932=_iterator932.n()).done;){var _s570=_step932.value;e.intersectsNode(_s570)&&(_i921.includes(_s570.parentElement)||_i921.push(_s570.parentElement));}}catch(err){_iterator932.e(err);}finally{_iterator932.f();}}else _i921.push(_s569);}else _i921.push(_s569);}}catch(err){_iterator931.e(err);}finally{_iterator931.f();}return _i921;}if(!0===i){var _i922=e,_s571=[],_n415=[];var _iterator933=_createForOfIteratorHelper(t),_step933;try{for(_iterator933.s();!(_step933=_iterator933.n()).done;){var _e970=_step933.value;if("text"===_e970.localName&&_i922&&_e970.contains(_i922.commonAncestorContainer)){ci(_e970,_i922),_s571.push(_e970);var _t1408=_e970.querySelectorAll("tspan"),_o324=ui(_i922,_e970),_l277=_i922.collapsed?_t1408:_o324;_n415.push.apply(_n415,_toConsumableArray(_l277));}else D.includes(_e970.localName)&&_n415.push(_e970);}}catch(err){_iterator933.e(err);}finally{_iterator933.f();}return[_n415,_s571];}},Rx=function Rx(t){var e=t.closest("filter"),i=new DOMRect(),s=t.viewportElement,n=s.createSVGLength(),o=s.createSVGLength(),l=s.createSVGLength(),h=s.createSVGLength();return n.valueAsString=t.hasAttribute("x")?t.getAttribute("x"):"0%",o.valueAsString=t.hasAttribute("y")?t.getAttribute("y"):"0%",l.valueAsString=t.hasAttribute("width")?t.getAttribute("width"):"100%",h.valueAsString=t.hasAttribute("height")?t.getAttribute("height"):"100%","objectBoundingBox"===e.getAttribute("primitiveUnits")?(n.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.x=n.valueInSpecifiedUnits:i.x=100*n.valueInSpecifiedUnits,o.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.y=o.valueInSpecifiedUnits:i.y=100*o.valueInSpecifiedUnits,l.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.width=l.valueInSpecifiedUnits:i.width=100*l.valueInSpecifiedUnits,h.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.height=h.valueInSpecifiedUnits:i.height=100*h.valueInSpecifiedUnits):(n.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.x=n.valueInSpecifiedUnits/100*s.viewBox.baseVal.width:i.x=n.value,o.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.y=o.valueInSpecifiedUnits/100*s.viewBox.baseVal.height:i.y=o.value,l.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.width=l.valueInSpecifiedUnits/100*s.viewBox.baseVal.width:i.width=l.value,h.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.height=h.valueInSpecifiedUnits/100*s.viewBox.baseVal.height:i.height=h.value),i;};var Gx=/*#__PURE__*/function(_HTMLElement77){_inherits(Gx,_HTMLElement77);var _super106=_createSuper(Gx);function Gx(){var _this497;_classCallCheck(this,Gx);_this497=_super106.call(this),_this497.wb=!1,_this497.vb=!1,_this497.yb=!1,_this497.kb=!1,_this497._a=Xi(_this497.qs,200,_assertThisInitialized(_this497)),_this497._shadowRoot=_this497.attachShadow({mode:"closed"}),_this497._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Gx._shadowStyleSheet],_this497._shadowRoot.append(document.importNode(Gx._shadowTemplate.content,!0));var _iterator934=_createForOfIteratorHelper(_this497._shadowRoot.querySelectorAll("[id]")),_step934;try{for(_iterator934.s();!(_step934=_iterator934.n()).done;){var _t1409=_step934.value;_this497["#"+_t1409.id]=_t1409;}}catch(err){_iterator934.e(err);}finally{_iterator934.f();}_this497["#offset-section"].addEventListener("changestart",function(){return _this497.Sb(event);}),_this497["#blur-radius-box"].addEventListener("changestart",function(){return _this497._b(event);}),_this497["#spread-box"].addEventListener("changestart",function(){return _this497.Cb(event);}),_this497["#color-select"].addEventListener("changestart",function(){return _this497.Mb();});return _this497;}_createClass(Gx,[{key:"connectedCallback",value:function connectedCallback(){var _this498=this;this.Js=Ai(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this498._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this498._a();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Sb",value:function Sb(t){var _this499=this;var e,_i924;this.Js.board.undoManager.checkpoint("Drop shadow offset"),this.vb=!0;var _this$Js$board=this.Js.board,s=_this$Js$board.outermostSelectedElements,n=_this$Js$board.selectedTextRange,_Bx=Bx(s,n,!0),_Bx2=_slicedToArray(_Bx,2),o=_Bx2[0],l=_Bx2[1];this["#offset-section"].addEventListener("change",e=function e(t){var _iterator935=_createForOfIteratorHelper(o),_step935;try{for(_iterator935.s();!(_step935=_iterator935.n()).done;){var _t1410=_step935.value;var _e971=Lx(_t1410),_i923=_e971?Ox(_e971):null;_i923&&"drop-shadow"===_i923.name&&(_i923.offsetX=_this499["#offset-x-input"].value,_i923.offsetY=_this499["#offset-y-input"].value,Ex(_e971,_i923,!0));}}catch(err){_iterator935.e(err);}finally{_iterator935.f();}}),this["#offset-section"].addEventListener("changeend",_i924=function i(){_this499["#offset-section"].removeEventListener("change",e),_this499["#offset-section"].removeEventListener("changeend",_i924),_this499.vb=!1;var _iterator936=_createForOfIteratorHelper(l),_step936;try{for(_iterator936.s();!(_step936=_iterator936.n()).done;){var _t1411=_step936.value;pi(_t1411,n);}}catch(err){_iterator936.e(err);}finally{_iterator936.f();}});}},{key:"_b",value:function _b(t){var _this500=this;var e,_i926;this.Js.board.undoManager.checkpoint("Drop shadow blur radius"),this.wb=!0;var _this$Js$board2=this.Js.board,s=_this$Js$board2.outermostSelectedElements,n=_this$Js$board2.selectedTextRange,_Bx3=Bx(s,n,!0),_Bx4=_slicedToArray(_Bx3,2),o=_Bx4[0],l=_Bx4[1];this["#blur-radius-box"].addEventListener("change",e=function e(t){t.target===_this500["#blur-radius-slider"]?_this500["#blur-radius-input"].value=_this500["#blur-radius-slider"].value:t.target===_this500["#blur-radius-input"]&&(_this500["#blur-radius-slider"].value=_this500["#blur-radius-input"].value);var _iterator937=_createForOfIteratorHelper(o),_step937;try{for(_iterator937.s();!(_step937=_iterator937.n()).done;){var _t1412=_step937.value;var _e972=Lx(_t1412),_i925=_e972?Ox(_e972):null;_i925&&"drop-shadow"===_i925.name&&(_i925.blurRadius=_this500["#blur-radius-input"].value,Ex(_e972,_i925,!0));}}catch(err){_iterator937.e(err);}finally{_iterator937.f();}}),this["#blur-radius-box"].addEventListener("changeend",_i926=function i(){_this500["#blur-radius-box"].removeEventListener("change",e),_this500["#blur-radius-box"].removeEventListener("changeend",_i926),_this500.wb=!1;var _iterator938=_createForOfIteratorHelper(l),_step938;try{for(_iterator938.s();!(_step938=_iterator938.n()).done;){var _t1413=_step938.value;pi(_t1413,n);}}catch(err){_iterator938.e(err);}finally{_iterator938.f();}});}},{key:"Cb",value:function Cb(t){var _this501=this;var e,_i928;this.Js.board.undoManager.checkpoint("Drop shadow spread"),this.yb=!0;var _this$Js$board3=this.Js.board,s=_this$Js$board3.outermostSelectedElements,n=_this$Js$board3.selectedTextRange,_Bx5=Bx(s,n,!0),_Bx6=_slicedToArray(_Bx5,2),o=_Bx6[0],l=_Bx6[1];this["#spread-box"].addEventListener("change",e=function e(t){t.target===_this501["#spread-slider"]?_this501["#spread-input"].value=_this501["#spread-slider"].value:t.target===_this501["#spread-input"]&&(_this501["#spread-slider"].value=_this501["#spread-input"].value);var _iterator939=_createForOfIteratorHelper(o),_step939;try{for(_iterator939.s();!(_step939=_iterator939.n()).done;){var _t1414=_step939.value;var _e973=Lx(_t1414),_i927=_e973?Ox(_e973):null;_i927&&"drop-shadow"===_i927.name&&(_i927.spread=_this501["#spread-input"].value/100,Ex(_e973,_i927,!0));}}catch(err){_iterator939.e(err);}finally{_iterator939.f();}}),this["#spread-box"].addEventListener("changeend",_i928=function i(){_this501["#spread-box"].removeEventListener("change",e),_this501["#spread-box"].removeEventListener("changeend",_i928),_this501.yb=!1;var _iterator940=_createForOfIteratorHelper(l),_step940;try{for(_iterator940.s();!(_step940=_iterator940.n()).done;){var _t1415=_step940.value;pi(_t1415,n);}}catch(err){_iterator940.e(err);}finally{_iterator940.f();}});}},{key:"Mb",value:function Mb(){var _this502=this;var t,_e975;this.Js.board.undoManager.checkpoint("Drop shadow color"),this.kb=!0;var _this$Js$board4=this.Js.board,i=_this$Js$board4.outermostSelectedElements,s=_this$Js$board4.selectedTextRange,_Bx7=Bx(i,s,!0),_Bx8=_slicedToArray(_Bx7,2),n=_Bx8[0],o=_Bx8[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator941=_createForOfIteratorHelper(n),_step941;try{for(_iterator941.s();!(_step941=_iterator941.n()).done;){var _t1416=_step941.value;var _e974=Lx(_t1416),_i929=_e974?Ox(_e974):null;_i929&&"drop-shadow"===_i929.name&&(_i929.color=_this502["#color-select"].value,Ex(_e974,_i929,!0));}}catch(err){_iterator941.e(err);}finally{_iterator941.f();}}),this["#color-select"].addEventListener("changeend",_e975=function e(){_this502["#color-select"].removeEventListener("change",t),_this502["#color-select"].removeEventListener("changeend",_e975),_this502.kb=!1;var _iterator942=_createForOfIteratorHelper(o),_step942;try{for(_iterator942.s();!(_step942=_iterator942.n()).done;){var _t1417=_step942.value;pi(_t1417,s);}}catch(err){_iterator942.e(err);}finally{_iterator942.f();}});}},{key:"qs",value:function qs(){if(!(this.wb||this.vb||this.yb||this.kb)){var _t1418=this.Js.board,_e976=Bx(_t1418.outermostSelectedElements,_t1418.selectedTextRange).map(function(t){return Lx(t);}).map(function(t){return t?Ox(t):null;}),_e977=_toArray(_e976),_i930=_e977[0],_s572=_e977.slice(1);if(_i930&&"drop-shadow"===_i930.name){var _t1419=!1,_e978=!1,_n416=!1,_o325=!1;var _iterator943=_createForOfIteratorHelper(_s572),_step943;try{for(_iterator943.s();!(_step943=_iterator943.n()).done;){var _l278=_step943.value;null!==_l278&&"drop-shadow"===_l278.name&&(_l278.offsetX!==_i930.offsetX&&(_t1419=!0),_l278.offsetY!==_i930.offsetY&&(_e978=!0),_l278.blurRadius!==_i930.blurRadius&&(_n416=!0),_l278.spread!==_i930.spread&&(_o325=!0));}}catch(err){_iterator943.e(err);}finally{_iterator943.f();}this["#offset-x-input"].mixed=_t1419,this["#offset-x-input"].disabled=!1,this["#offset-x-input"].value=_i930.offsetX,this["#offset-y-input"].mixed=_e978,this["#offset-y-input"].disabled=!1,this["#offset-y-input"].value=_i930.offsetY,this["#blur-radius-input"].mixed=_n416,this["#blur-radius-input"].disabled=!1,this["#blur-radius-input"].value=_i930.blurRadius,this["#blur-radius-slider"].disabled=!1,this["#blur-radius-slider"].value=_i930.blurRadius,this["#spread-input"].mixed=_o325,this["#spread-input"].disabled=!1,this["#spread-input"].value=100*_i930.spread,this["#spread-slider"].disabled=!1,this["#spread-slider"].value=100*_i930.spread,this["#color-select"].disabled=!1,this["#color-select"].value=_i930.color;}else this["#offset-x-input"].mixed=!1,this["#offset-x-input"].disabled=!0,this["#offset-x-input"].value=0,this["#offset-y-input"].mixed=!1,this["#offset-y-input"].disabled=!0,this["#offset-y-input"].value=0,this["#blur-radius-input"].mixed=!1,this["#blur-radius-input"].disabled=!0,this["#blur-radius-input"].value=0,this["#blur-radius-slider"].disabled=!0,this["#blur-radius-slider"].value=0,this["#spread-input"].mixed=!1,this["#spread-input"].disabled=!0,this["#spread-input"].value=0,this["#spread-slider"].disabled=!0,this["#spread-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="rgba(0,0,0,0)";}}}]);return Gx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Gx,"_shadowTemplate",Yi(_templateObject272()));_defineProperty(Gx,"_shadowStyleSheet",Wi(_templateObject273()));customElements.define("bx-dropshadowfilterinspector",Gx);var Fx=/*#__PURE__*/function(_HTMLElement78){_inherits(Fx,_HTMLElement78);var _super107=_createSuper(Fx);function Fx(){var _this503;_classCallCheck(this,Fx);_this503=_super107.call(this),_this503.wb=!1,_this503.Pb=!1,_this503.vb=!1,_this503.kb=!1,_this503._a=Xi(_this503.qs,200,_assertThisInitialized(_this503)),_this503._shadowRoot=_this503.attachShadow({mode:"closed"}),_this503._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Fx._shadowStyleSheet],_this503._shadowRoot.append(document.importNode(Fx._shadowTemplate.content,!0));var _iterator944=_createForOfIteratorHelper(_this503._shadowRoot.querySelectorAll("[id]")),_step944;try{for(_iterator944.s();!(_step944=_iterator944.n()).done;){var _t1420=_step944.value;_this503["#"+_t1420.id]=_t1420;}}catch(err){_iterator944.e(err);}finally{_iterator944.f();}_this503["#offset-section"].addEventListener("changestart",function(){return _this503.Sb(event);}),_this503["#blur-radius-box"].addEventListener("changestart",function(){return _this503._b(event);}),_this503["#choke-box"].addEventListener("changestart",function(){return _this503.Db(event);}),_this503["#color-select"].addEventListener("changestart",function(){return _this503.Mb();});return _this503;}_createClass(Fx,[{key:"connectedCallback",value:function connectedCallback(){var _this504=this;this.Js=Ai(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this504._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this504._a();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Sb",value:function Sb(t){var _this505=this;var e,_i932;this.Js.board.undoManager.checkpoint("Inner shadow offset"),this.vb=!0;var _this$Js$board5=this.Js.board,s=_this$Js$board5.outermostSelectedElements,n=_this$Js$board5.selectedTextRange,_Bx9=Bx(s,n,!0),_Bx10=_slicedToArray(_Bx9,2),o=_Bx10[0],l=_Bx10[1];this["#offset-section"].addEventListener("change",e=function e(t){var _iterator945=_createForOfIteratorHelper(o),_step945;try{for(_iterator945.s();!(_step945=_iterator945.n()).done;){var _t1421=_step945.value;var _e979=Lx(_t1421),_i931=_e979?Ox(_e979):null;_i931&&"inner-shadow"===_i931.name&&(_i931.offsetX=_this505["#offset-x-input"].value,_i931.offsetY=_this505["#offset-y-input"].value,Ex(_e979,_i931,!0));}}catch(err){_iterator945.e(err);}finally{_iterator945.f();}}),this["#offset-section"].addEventListener("changeend",_i932=function i(){_this505["#offset-section"].removeEventListener("change",e),_this505["#offset-section"].removeEventListener("changeend",_i932),_this505.vb=!1;var _iterator946=_createForOfIteratorHelper(l),_step946;try{for(_iterator946.s();!(_step946=_iterator946.n()).done;){var _t1422=_step946.value;pi(_t1422,n);}}catch(err){_iterator946.e(err);}finally{_iterator946.f();}});}},{key:"_b",value:function _b(t){var _this506=this;var e,_i934;this.Js.board.undoManager.checkpoint("Inner shadow blur radius"),this.wb=!0;var _this$Js$board6=this.Js.board,s=_this$Js$board6.outermostSelectedElements,n=_this$Js$board6.selectedTextRange,_Bx11=Bx(s,n,!0),_Bx12=_slicedToArray(_Bx11,2),o=_Bx12[0],l=_Bx12[1];this["#blur-radius-box"].addEventListener("change",e=function e(t){t.target===_this506["#blur-radius-slider"]?_this506["#blur-radius-input"].value=_this506["#blur-radius-slider"].value:t.target===_this506["#blur-radius-input"]&&(_this506["#blur-radius-slider"].value=_this506["#blur-radius-input"].value);var _iterator947=_createForOfIteratorHelper(o),_step947;try{for(_iterator947.s();!(_step947=_iterator947.n()).done;){var _t1423=_step947.value;var _e980=Lx(_t1423),_i933=_e980?Ox(_e980):null;_i933&&"inner-shadow"===_i933.name&&(_i933.blurRadius=_this506["#blur-radius-input"].value,Ex(_e980,_i933,!0));}}catch(err){_iterator947.e(err);}finally{_iterator947.f();}}),this["#blur-radius-box"].addEventListener("changeend",_i934=function i(){_this506["#blur-radius-box"].removeEventListener("change",e),_this506["#blur-radius-box"].removeEventListener("changeend",_i934),_this506.wb=!1;var _iterator948=_createForOfIteratorHelper(l),_step948;try{for(_iterator948.s();!(_step948=_iterator948.n()).done;){var _t1424=_step948.value;pi(_t1424,n);}}catch(err){_iterator948.e(err);}finally{_iterator948.f();}});}},{key:"Db",value:function Db(t){var _this507=this;var e,_i936;this.Js.board.undoManager.checkpoint("Inner shadow choke"),this.Pb=!0;var _this$Js$board7=this.Js.board,s=_this$Js$board7.outermostSelectedElements,n=_this$Js$board7.selectedTextRange,_Bx13=Bx(s,n,!0),_Bx14=_slicedToArray(_Bx13,2),o=_Bx14[0],l=_Bx14[1];this["#choke-box"].addEventListener("change",e=function e(t){t.target===_this507["#choke-slider"]?_this507["#choke-input"].value=_this507["#choke-slider"].value:t.target===_this507["#choke-input"]&&(_this507["#choke-slider"].value=_this507["#choke-input"].value);var _iterator949=_createForOfIteratorHelper(o),_step949;try{for(_iterator949.s();!(_step949=_iterator949.n()).done;){var _t1425=_step949.value;var _e981=Lx(_t1425),_i935=_e981?Ox(_e981):null;_i935&&"inner-shadow"===_i935.name&&(_i935.choke=_this507["#choke-input"].value/100,Ex(_e981,_i935,!0));}}catch(err){_iterator949.e(err);}finally{_iterator949.f();}}),this["#choke-box"].addEventListener("changeend",_i936=function i(){_this507["#choke-box"].removeEventListener("change",e),_this507["#choke-box"].removeEventListener("changeend",_i936),_this507.Pb=!1;var _iterator950=_createForOfIteratorHelper(l),_step950;try{for(_iterator950.s();!(_step950=_iterator950.n()).done;){var _t1426=_step950.value;pi(_t1426,n);}}catch(err){_iterator950.e(err);}finally{_iterator950.f();}});}},{key:"Mb",value:function Mb(){var _this508=this;var t,_e983;this.Js.board.undoManager.checkpoint("Inner shadow color"),this.kb=!0;var _this$Js$board8=this.Js.board,i=_this$Js$board8.outermostSelectedElements,s=_this$Js$board8.selectedTextRange,_Bx15=Bx(i,s,!0),_Bx16=_slicedToArray(_Bx15,2),n=_Bx16[0],o=_Bx16[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator951=_createForOfIteratorHelper(n),_step951;try{for(_iterator951.s();!(_step951=_iterator951.n()).done;){var _t1427=_step951.value;var _e982=Lx(_t1427),_i937=_e982?Ox(_e982):null;_i937&&"inner-shadow"===_i937.name&&(_i937.color=_this508["#color-select"].value,Ex(_e982,_i937,!0));}}catch(err){_iterator951.e(err);}finally{_iterator951.f();}}),this["#color-select"].addEventListener("changeend",_e983=function e(){_this508["#color-select"].removeEventListener("change",t),_this508["#color-select"].removeEventListener("changeend",_e983),_this508.kb=!1;var _iterator952=_createForOfIteratorHelper(o),_step952;try{for(_iterator952.s();!(_step952=_iterator952.n()).done;){var _t1428=_step952.value;pi(_t1428,s);}}catch(err){_iterator952.e(err);}finally{_iterator952.f();}});}},{key:"qs",value:function qs(){if(!(this.wb||this.Pb||this.vb||this.kb)){var _t1429=this.Js.board,_e984=Bx(_t1429.outermostSelectedElements,_t1429.selectedTextRange).map(function(t){return Lx(t);}).map(function(t){return t?Ox(t):null;}),_e985=_toArray(_e984),_i938=_e985[0],_s573=_e985.slice(1);if(_i938&&"inner-shadow"===_i938.name){var _t1430=!1,_e986=!1,_n417=!1,_o326=!1;var _iterator953=_createForOfIteratorHelper(_s573),_step953;try{for(_iterator953.s();!(_step953=_iterator953.n()).done;){var _l279=_step953.value;null!==_l279&&"inner-shadow"===_l279.name&&(_l279.offsetX!==_i938.offsetX&&(_t1430=!0),_l279.offsetY!==_i938.offsetY&&(_e986=!0),_l279.blurRadius!==_i938.blurRadius&&(_n417=!0),_l279.choke!==_i938.choke&&(_o326=!0));}}catch(err){_iterator953.e(err);}finally{_iterator953.f();}this["#offset-x-input"].mixed=_t1430,this["#offset-x-input"].disabled=!1,this["#offset-x-input"].value=_i938.offsetX,this["#offset-y-input"].mixed=_e986,this["#offset-y-input"].disabled=!1,this["#offset-y-input"].value=_i938.offsetY,this["#blur-radius-input"].mixed=_n417,this["#blur-radius-input"].disabled=!1,this["#blur-radius-input"].value=_i938.blurRadius,this["#blur-radius-slider"].disabled=!1,this["#blur-radius-slider"].value=_i938.blurRadius,this["#choke-input"].mixed=_o326,this["#choke-input"].disabled=!1,this["#choke-input"].value=100*_i938.choke,this["#choke-slider"].disabled=!1,this["#choke-slider"].value=100*_i938.choke,this["#color-select"].disabled=!1,this["#color-select"].value=_i938.color;}else this["#offset-x-input"].mixed=!1,this["#offset-x-input"].disabled=!0,this["#offset-x-input"].value=0,this["#offset-y-input"].mixed=!1,this["#offset-y-input"].disabled=!0,this["#offset-y-input"].value=0,this["#blur-radius-input"].mixed=!1,this["#blur-radius-input"].disabled=!0,this["#blur-radius-input"].value=0,this["#blur-radius-slider"].disabled=!0,this["#blur-radius-slider"].value=0,this["#choke-input"].mixed=!1,this["#choke-input"].disabled=!0,this["#choke-input"].value=0,this["#choke-slider"].disabled=!0,this["#choke-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="rgba(0,0,0,0)";}}}]);return Fx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Fx,"_shadowTemplate",Yi(_templateObject274()));_defineProperty(Fx,"_shadowStyleSheet",Wi(_templateObject275()));customElements.define("bx-innershadowfilterinspector",Fx);var Ux=/*#__PURE__*/function(_HTMLElement79){_inherits(Ux,_HTMLElement79);var _super108=_createSuper(Ux);function Ux(){var _this509;_classCallCheck(this,Ux);_this509=_super108.call(this),_this509.zb=!1,_this509.Ob=!1,_this509.Eb=!1,_this509.Tb=!1,_this509.Ab=!1,_this509.kb=!1,_this509._a=Xi(_this509.qs,200,_assertThisInitialized(_this509)),_this509._shadowRoot=_this509.attachShadow({mode:"closed"}),_this509._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Ux._shadowStyleSheet],_this509._shadowRoot.append(document.importNode(Ux._shadowTemplate.content,!0));var _iterator954=_createForOfIteratorHelper(_this509._shadowRoot.querySelectorAll("[id]")),_step954;try{for(_iterator954.s();!(_step954=_iterator954.n()).done;){var _t1431=_step954.value;_this509["#"+_t1431.id]=_t1431;}}catch(err){_iterator954.e(err);}finally{_iterator954.f();}_this509["#source-section"].addEventListener("changestart",function(t){return _this509.$b(t);}),_this509["#specular-exponent-box"].addEventListener("changestart",function(t){return _this509.Ib(t);}),_this509["#specular-constant-box"].addEventListener("changestart",function(t){return _this509.Lb(t);}),_this509["#diffuse-constant-box"].addEventListener("changestart",function(t){return _this509.Bb(t);}),_this509["#ambient-constant-box"].addEventListener("changestart",function(t){return _this509.Rb(t);}),_this509["#color-select"].addEventListener("changestart",function(t){return _this509.Mb(t);});return _this509;}_createClass(Ux,[{key:"connectedCallback",value:function connectedCallback(){var _this510=this;this.Js=Ai(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this510._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this510._a();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"$b",value:function $b(t){var _this511=this;var e,_i940;this.Js.board.undoManager.checkpoint("Point light source position"),this.zb=!0;var _this$Js$board9=this.Js.board,s=_this$Js$board9.outermostSelectedElements,n=_this$Js$board9.selectedTextRange,_Bx17=Bx(s,n,!0),_Bx18=_slicedToArray(_Bx17,2),o=_Bx18[0],l=_Bx18[1],h=t.target.dataset.param;this["#source-section"].addEventListener("change",e=function e(t){var _iterator955=_createForOfIteratorHelper(o),_step955;try{for(_iterator955.s();!(_step955=_iterator955.n()).done;){var _t1432=_step955.value;var _e987=Lx(_t1432),_i939=_e987?Ox(_e987):null;_i939&&"point-light"===_i939.name&&("x"===h?_i939.sourceX=_this511["#source-x-input"].value/100:"y"===h?_i939.sourceY=_this511["#source-y-input"].value/100:"z"===h&&(_i939.sourceZ=_this511["#source-z-input"].value/100),Ex(_e987,_i939,!0));}}catch(err){_iterator955.e(err);}finally{_iterator955.f();}}),this["#source-section"].addEventListener("changeend",_i940=function i(){_this511["#source-section"].removeEventListener("change",e),_this511["#source-section"].removeEventListener("changeend",_i940),_this511.zb=!1;var _iterator956=_createForOfIteratorHelper(l),_step956;try{for(_iterator956.s();!(_step956=_iterator956.n()).done;){var _t1433=_step956.value;pi(_t1433,n);}}catch(err){_iterator956.e(err);}finally{_iterator956.f();}});}},{key:"Ib",value:function Ib(t){var _this512=this;var e,_i942;this.Js.board.undoManager.checkpoint("Point light specular exponent"),this.Ob=!0;var _this$Js$board10=this.Js.board,s=_this$Js$board10.outermostSelectedElements,n=_this$Js$board10.selectedTextRange,_Bx19=Bx(s,n,!0),_Bx20=_slicedToArray(_Bx19,2),o=_Bx20[0],l=_Bx20[1];this["#specular-exponent-box"].addEventListener("change",e=function e(t){t.target===_this512["#specular-exponent-slider"]?_this512["#specular-exponent-input"].value=_this512["#specular-exponent-slider"].value:t.target===_this512["#specular-exponent-input"]&&(_this512["#specular-exponent-slider"].value=_this512["#specular-exponent-input"].value);var _iterator957=_createForOfIteratorHelper(o),_step957;try{for(_iterator957.s();!(_step957=_iterator957.n()).done;){var _t1434=_step957.value;var _e988=Lx(_t1434),_i941=_e988?Ox(_e988):null;_i941&&"point-light"===_i941.name&&(_i941.specularExponent=_this512["#specular-exponent-input"].value,Ex(_e988,_i941,!0));}}catch(err){_iterator957.e(err);}finally{_iterator957.f();}}),this["#specular-exponent-box"].addEventListener("changeend",_i942=function i(){_this512["#specular-exponent-box"].removeEventListener("change",e),_this512["#specular-exponent-box"].removeEventListener("changeend",_i942),_this512.Ob=!1;var _iterator958=_createForOfIteratorHelper(l),_step958;try{for(_iterator958.s();!(_step958=_iterator958.n()).done;){var _t1435=_step958.value;pi(_t1435,n);}}catch(err){_iterator958.e(err);}finally{_iterator958.f();}});}},{key:"Lb",value:function Lb(t){var _this513=this;var e,_i944;this.Js.board.undoManager.checkpoint("Point light specular constant"),this.Eb=!0;var _this$Js$board11=this.Js.board,s=_this$Js$board11.outermostSelectedElements,n=_this$Js$board11.selectedTextRange,_Bx21=Bx(s,n,!0),_Bx22=_slicedToArray(_Bx21,2),o=_Bx22[0],l=_Bx22[1];this["#specular-constant-box"].addEventListener("change",e=function e(t){t.target===_this513["#specular-constant-slider"]?_this513["#specular-constant-input"].value=_this513["#specular-constant-slider"].value:t.target===_this513["#specular-constant-input"]&&(_this513["#specular-constant-slider"].value=_this513["#specular-constant-input"].value);var _iterator959=_createForOfIteratorHelper(o),_step959;try{for(_iterator959.s();!(_step959=_iterator959.n()).done;){var _t1436=_step959.value;var _e989=Lx(_t1436),_i943=_e989?Ox(_e989):null;_i943&&"point-light"===_i943.name&&(_i943.specularConstant=_this513["#specular-constant-input"].value,Ex(_e989,_i943,!0));}}catch(err){_iterator959.e(err);}finally{_iterator959.f();}}),this["#specular-constant-box"].addEventListener("changeend",_i944=function i(){_this513["#specular-constant-box"].removeEventListener("change",e),_this513["#specular-constant-box"].removeEventListener("changeend",_i944),_this513.Eb=!1;var _iterator960=_createForOfIteratorHelper(l),_step960;try{for(_iterator960.s();!(_step960=_iterator960.n()).done;){var _t1437=_step960.value;pi(_t1437,n);}}catch(err){_iterator960.e(err);}finally{_iterator960.f();}});}},{key:"Bb",value:function Bb(t){var _this514=this;var e,_i946;this.Js.board.undoManager.checkpoint("Point light diffuse constant"),this.Tb=!0;var _this$Js$board12=this.Js.board,s=_this$Js$board12.outermostSelectedElements,n=_this$Js$board12.selectedTextRange,_Bx23=Bx(s,n,!0),_Bx24=_slicedToArray(_Bx23,2),o=_Bx24[0],l=_Bx24[1];this["#diffuse-constant-box"].addEventListener("change",e=function e(t){t.target===_this514["#diffuse-constant-slider"]?_this514["#diffuse-constant-input"].value=_this514["#diffuse-constant-slider"].value:t.target===_this514["#diffuse-constant-input"]&&(_this514["#diffuse-constant-slider"].value=_this514["#diffuse-constant-input"].value);var _iterator961=_createForOfIteratorHelper(o),_step961;try{for(_iterator961.s();!(_step961=_iterator961.n()).done;){var _t1438=_step961.value;var _e990=Lx(_t1438),_i945=_e990?Ox(_e990):null;_i945&&"point-light"===_i945.name&&(_i945.diffuseConstant=_this514["#diffuse-constant-input"].value,Ex(_e990,_i945,!0));}}catch(err){_iterator961.e(err);}finally{_iterator961.f();}}),this["#diffuse-constant-box"].addEventListener("changeend",_i946=function i(){_this514["#diffuse-constant-box"].removeEventListener("change",e),_this514["#diffuse-constant-box"].removeEventListener("changeend",_i946),_this514.Tb=!1;var _iterator962=_createForOfIteratorHelper(l),_step962;try{for(_iterator962.s();!(_step962=_iterator962.n()).done;){var _t1439=_step962.value;pi(_t1439,n);}}catch(err){_iterator962.e(err);}finally{_iterator962.f();}});}},{key:"Rb",value:function Rb(t){var _this515=this;var e,_i948;this.Js.board.undoManager.checkpoint("Point light ambient constant"),this.Ab=!0;var _this$Js$board13=this.Js.board,s=_this$Js$board13.outermostSelectedElements,n=_this$Js$board13.selectedTextRange,_Bx25=Bx(s,n,!0),_Bx26=_slicedToArray(_Bx25,2),o=_Bx26[0],l=_Bx26[1];this["#ambient-constant-box"].addEventListener("change",e=function e(t){t.target===_this515["#ambient-constant-slider"]?_this515["#ambient-constant-input"].value=_this515["#ambient-constant-slider"].value:t.target===_this515["#ambient-constant-input"]&&(_this515["#ambient-constant-slider"].value=_this515["#ambient-constant-input"].value);var _iterator963=_createForOfIteratorHelper(o),_step963;try{for(_iterator963.s();!(_step963=_iterator963.n()).done;){var _t1440=_step963.value;var _e991=Lx(_t1440),_i947=_e991?Ox(_e991):null;_i947&&"point-light"===_i947.name&&(_i947.ambientConstant=_this515["#ambient-constant-input"].value,Ex(_e991,_i947,!0));}}catch(err){_iterator963.e(err);}finally{_iterator963.f();}}),this["#ambient-constant-box"].addEventListener("changeend",_i948=function i(){_this515["#ambient-constant-box"].removeEventListener("change",e),_this515["#ambient-constant-box"].removeEventListener("changeend",_i948),_this515.Ab=!1;var _iterator964=_createForOfIteratorHelper(l),_step964;try{for(_iterator964.s();!(_step964=_iterator964.n()).done;){var _t1441=_step964.value;pi(_t1441,n);}}catch(err){_iterator964.e(err);}finally{_iterator964.f();}});}},{key:"Mb",value:function Mb(){var _this516=this;var t,_e993;this.Js.board.undoManager.checkpoint("Point light color"),this.kb=!0;var _this$Js$board14=this.Js.board,i=_this$Js$board14.outermostSelectedElements,s=_this$Js$board14.selectedTextRange,_Bx27=Bx(i,s,!0),_Bx28=_slicedToArray(_Bx27,2),n=_Bx28[0],o=_Bx28[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator965=_createForOfIteratorHelper(n),_step965;try{for(_iterator965.s();!(_step965=_iterator965.n()).done;){var _t1442=_step965.value;var _e992=Lx(_t1442),_i949=_e992?Ox(_e992):null;_i949&&"point-light"===_i949.name&&(_i949.color=_this516["#color-select"].value,Ex(_e992,_i949,!0));}}catch(err){_iterator965.e(err);}finally{_iterator965.f();}}),this["#color-select"].addEventListener("changeend",_e993=function e(){_this516["#color-select"].removeEventListener("change",t),_this516["#color-select"].removeEventListener("changeend",_e993),_this516.kb=!1;var _iterator966=_createForOfIteratorHelper(o),_step966;try{for(_iterator966.s();!(_step966=_iterator966.n()).done;){var _t1443=_step966.value;pi(_t1443,s);}}catch(err){_iterator966.e(err);}finally{_iterator966.f();}});}},{key:"qs",value:function qs(){if(!1===this.zb&&!1===this.Ob&&!1===this.Eb&&!1===this.Tb&&!1===this.Ab&&!1===this.kb){var _t1444=this.Js.board,_e994=Bx(_t1444.outermostSelectedElements,_t1444.selectedTextRange).map(function(t){return Lx(t);}).map(function(t){return t?Ox(t):null;}),_e995=_toArray(_e994),_i950=_e995[0],_s574=_e995.slice(1);if(_i950&&"point-light"===_i950.name){var _t1445=!1,_e996=!1,_n418=!1,_o327=!1,_l280=!1,_h214=!1,_a169=!1;var _iterator967=_createForOfIteratorHelper(_s574),_step967;try{for(_iterator967.s();!(_step967=_iterator967.n()).done;){var _r106=_step967.value;null!==_r106&&"point-light"===_r106.name&&(_r106.sourceX!==_i950.sourceX&&(_t1445=!0),_r106.sourceY!==_i950.sourceY&&(_e996=!0),_r106.sourceZ!==_i950.sourceZ&&(_n418=!0),_r106.specularExponent!==_i950.specularExponent&&(_o327=!0),_r106.specularConstant!==_i950.specularConstant&&(_l280=!0),_r106.diffuseConstant!==_i950.diffuseConstant&&(_h214=!0),_r106.ambientConstant!==_i950.ambientConstant&&(_a169=!0));}}catch(err){_iterator967.e(err);}finally{_iterator967.f();}this["#source-x-input"].mixed=_t1445,this["#source-x-input"].disabled=!1,this["#source-x-input"].value=Z(100*_i950.sourceX,3),this["#source-y-input"].mixed=_e996,this["#source-y-input"].disabled=!1,this["#source-y-input"].value=Z(100*_i950.sourceY,3),this["#source-z-input"].mixed=_n418,this["#source-z-input"].disabled=!1,this["#source-z-input"].value=Z(100*_i950.sourceZ,3),this["#specular-exponent-input"].mixed=_o327,this["#specular-exponent-input"].disabled=!1,this["#specular-exponent-input"].value=_i950.specularExponent,this["#specular-exponent-slider"].disabled=!1,this["#specular-exponent-slider"].value=_i950.specularExponent,this["#specular-constant-input"].mixed=_l280,this["#specular-constant-input"].disabled=!1,this["#specular-constant-input"].value=_i950.specularConstant,this["#specular-constant-slider"].disabled=!1,this["#specular-constant-slider"].value=_i950.specularConstant,this["#diffuse-constant-input"].mixed=_h214,this["#diffuse-constant-input"].disabled=!1,this["#diffuse-constant-input"].value=_i950.diffuseConstant,this["#diffuse-constant-slider"].disabled=!1,this["#diffuse-constant-slider"].value=_i950.diffuseConstant,this["#ambient-constant-input"].mixed=_a169,this["#ambient-constant-input"].disabled=!1,this["#ambient-constant-input"].value=_i950.ambientConstant,this["#ambient-constant-slider"].disabled=!1,this["#ambient-constant-slider"].value=_i950.ambientConstant,this["#color-select"].disabled=!1,this["#color-select"].value=_i950.color;}else this["#source-x-input"].mixed=!1,this["#source-x-input"].disabled=!0,this["#source-x-input"].value=0,this["#source-y-input"].mixed=!1,this["#source-y-input"].disabled=!0,this["#source-y-input"].value=0,this["#source-z-input"].mixed=!1,this["#source-z-input"].disabled=!0,this["#source-z-input"].value=0,this["#specular-exponent-input"].mixed=!1,this["#specular-exponent-input"].disabled=!0,this["#specular-exponent-input"].value=0,this["#specular-exponent-slider"].disabled=!0,this["#specular-exponent-slider"].value=0,this["#specular-constant-input"].mixed=!1,this["#specular-constant-input"].disabled=!0,this["#specular-constant-input"].value=0,this["#specular-constant-slider"].disabled=!0,this["#specular-constant-slider"].value=0,this["#diffuse-constant-input"].mixed=!1,this["#diffuse-constant-input"].disabled=!0,this["#diffuse-constant-input"].value=0,this["#diffuse-constant-slider"].disabled=!0,this["#diffuse-constant-slider"].value=0,this["#ambient-constant-input"].mixed=!1,this["#ambient-constant-input"].disabled=!0,this["#ambient-constant-input"].value=0,this["#ambient-constant-slider"].disabled=!0,this["#ambient-constant-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="#ffffff";}}}]);return Ux;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ux,"_shadowTemplate",Yi(_templateObject276()));_defineProperty(Ux,"_shadowStyleSheet",Wi(_templateObject277()));customElements.define("bx-pointlightfilterinspector",Ux);var Nx=/*#__PURE__*/function(_HTMLElement80){_inherits(Nx,_HTMLElement80);var _super109=_createSuper(Nx);function Nx(){var _this517;_classCallCheck(this,Nx);_this517=_super109.call(this),_this517.zb=!1,_this517.Gb=!1,_this517.Fb=!1,_this517.Ob=!1,_this517.Eb=!1,_this517.Tb=!1,_this517.Ab=!1,_this517.kb=!1,_this517._a=Xi(_this517.qs,200,_assertThisInitialized(_this517)),_this517._shadowRoot=_this517.attachShadow({mode:"closed"}),_this517._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Nx._shadowStyleSheet],_this517._shadowRoot.append(document.importNode(Nx._shadowTemplate.content,!0));var _iterator968=_createForOfIteratorHelper(_this517._shadowRoot.querySelectorAll("[id]")),_step968;try{for(_iterator968.s();!(_step968=_iterator968.n()).done;){var _t1446=_step968.value;_this517["#"+_t1446.id]=_t1446;}}catch(err){_iterator968.e(err);}finally{_iterator968.f();}_this517["#source-section"].addEventListener("changestart",function(t){return _this517.$b(t);}),_this517["#target-section"].addEventListener("changestart",function(t){return _this517.Ub(t);}),_this517["#cone-angle-box"].addEventListener("changestart",function(t){return _this517.Nb(t);}),_this517["#specular-exponent-box"].addEventListener("changestart",function(t){return _this517.Ib(t);}),_this517["#specular-constant-box"].addEventListener("changestart",function(t){return _this517.Lb(t);}),_this517["#diffuse-constant-box"].addEventListener("changestart",function(t){return _this517.Bb(t);}),_this517["#ambient-constant-box"].addEventListener("changestart",function(t){return _this517.Rb(t);}),_this517["#color-select"].addEventListener("changestart",function(t){return _this517.Mb(t);});return _this517;}_createClass(Nx,[{key:"connectedCallback",value:function connectedCallback(){var _this518=this;this.Js=Ai(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this518._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this518._a();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"$b",value:function $b(t){var _this519=this;var e,_i952;this.Js.board.undoManager.checkpoint("Spot light source position"),this.zb=!0;var _this$Js$board15=this.Js.board,s=_this$Js$board15.outermostSelectedElements,n=_this$Js$board15.selectedTextRange,_Bx29=Bx(s,n,!0),_Bx30=_slicedToArray(_Bx29,2),o=_Bx30[0],l=_Bx30[1],h=t.target.dataset.param;this["#source-section"].addEventListener("change",e=function e(t){var _iterator969=_createForOfIteratorHelper(o),_step969;try{for(_iterator969.s();!(_step969=_iterator969.n()).done;){var _t1447=_step969.value;var _e997=Lx(_t1447),_i951=_e997?Ox(_e997):null;_i951&&"spot-light"===_i951.name&&("x"===h?_i951.sourceX=_this519["#source-x-input"].value/100:"y"===h?_i951.sourceY=_this519["#source-y-input"].value/100:"z"===h&&(_i951.sourceZ=_this519["#source-z-input"].value/100),Ex(_e997,_i951,!0));}}catch(err){_iterator969.e(err);}finally{_iterator969.f();}}),this["#source-section"].addEventListener("changeend",_i952=function i(){_this519["#source-section"].removeEventListener("change",e),_this519["#source-section"].removeEventListener("changeend",_i952),_this519.zb=!1;var _iterator970=_createForOfIteratorHelper(l),_step970;try{for(_iterator970.s();!(_step970=_iterator970.n()).done;){var _t1448=_step970.value;pi(_t1448,n);}}catch(err){_iterator970.e(err);}finally{_iterator970.f();}});}},{key:"Ub",value:function Ub(t){var _this520=this;var e,_i954;this.Js.board.undoManager.checkpoint("Spot light target position"),this.Gb=!0;var _this$Js$board16=this.Js.board,s=_this$Js$board16.outermostSelectedElements,n=_this$Js$board16.selectedTextRange,_Bx31=Bx(s,n,!0),_Bx32=_slicedToArray(_Bx31,2),o=_Bx32[0],l=_Bx32[1],h=t.target.dataset.param;this["#target-section"].addEventListener("change",e=function e(t){var _iterator971=_createForOfIteratorHelper(o),_step971;try{for(_iterator971.s();!(_step971=_iterator971.n()).done;){var _t1449=_step971.value;var _e998=Lx(_t1449),_i953=_e998?Ox(_e998):null;_i953&&"spot-light"===_i953.name&&("x"===h?_i953.targetX=_this520["#target-x-input"].value/100:"y"===h?_i953.targetY=_this520["#target-y-input"].value/100:"z"===h&&(_i953.targetZ=_this520["#target-z-input"].value/100),Ex(_e998,_i953,!0));}}catch(err){_iterator971.e(err);}finally{_iterator971.f();}}),this["#target-section"].addEventListener("changeend",_i954=function i(){_this520["#target-section"].removeEventListener("change",e),_this520["#target-section"].removeEventListener("changeend",_i954),_this520.Gb=!1;var _iterator972=_createForOfIteratorHelper(l),_step972;try{for(_iterator972.s();!(_step972=_iterator972.n()).done;){var _t1450=_step972.value;pi(_t1450,n);}}catch(err){_iterator972.e(err);}finally{_iterator972.f();}});}},{key:"Nb",value:function Nb(t){var _this521=this;var e,_i956;this.Js.board.undoManager.checkpoint("Spot light cone angle"),this.Fb=!0;var _this$Js$board17=this.Js.board,s=_this$Js$board17.outermostSelectedElements,n=_this$Js$board17.selectedTextRange,_Bx33=Bx(s,n,!0),_Bx34=_slicedToArray(_Bx33,2),o=_Bx34[0],l=_Bx34[1];this["#cone-angle-box"].addEventListener("change",e=function e(t){t.target===_this521["#cone-angle-slider"]?_this521["#cone-angle-input"].value=_this521["#cone-angle-slider"].value:t.target===_this521["#cone-angle-input"]&&(_this521["#cone-angle-slider"].value=_this521["#cone-angle-input"].value);var _iterator973=_createForOfIteratorHelper(o),_step973;try{for(_iterator973.s();!(_step973=_iterator973.n()).done;){var _t1451=_step973.value;var _e999=Lx(_t1451),_i955=_e999?Ox(_e999):null;_i955&&"spot-light"===_i955.name&&(_i955.coneAngle=_this521["#cone-angle-input"].value,Ex(_e999,_i955,!0));}}catch(err){_iterator973.e(err);}finally{_iterator973.f();}}),this["#cone-angle-box"].addEventListener("changeend",_i956=function i(){_this521["#cone-angle-box"].removeEventListener("change",e),_this521["#cone-angle-box"].removeEventListener("changeend",_i956),_this521.Fb=!1;var _iterator974=_createForOfIteratorHelper(l),_step974;try{for(_iterator974.s();!(_step974=_iterator974.n()).done;){var _t1452=_step974.value;pi(_t1452,n);}}catch(err){_iterator974.e(err);}finally{_iterator974.f();}});}},{key:"Ib",value:function Ib(t){var _this522=this;var e,_i958;this.Js.board.undoManager.checkpoint("Spot light specular exponent"),this.Ob=!0;var _this$Js$board18=this.Js.board,s=_this$Js$board18.outermostSelectedElements,n=_this$Js$board18.selectedTextRange,_Bx35=Bx(s,n,!0),_Bx36=_slicedToArray(_Bx35,2),o=_Bx36[0],l=_Bx36[1];this["#specular-exponent-box"].addEventListener("change",e=function e(t){t.target===_this522["#specular-exponent-slider"]?_this522["#specular-exponent-input"].value=_this522["#specular-exponent-slider"].value:t.target===_this522["#specular-exponent-input"]&&(_this522["#specular-exponent-slider"].value=_this522["#specular-exponent-input"].value);var _iterator975=_createForOfIteratorHelper(o),_step975;try{for(_iterator975.s();!(_step975=_iterator975.n()).done;){var _t1453=_step975.value;var _e1000=Lx(_t1453),_i957=_e1000?Ox(_e1000):null;_i957&&"spot-light"===_i957.name&&(_i957.specularExponent=_this522["#specular-exponent-input"].value,Ex(_e1000,_i957,!0));}}catch(err){_iterator975.e(err);}finally{_iterator975.f();}}),this["#specular-exponent-box"].addEventListener("changeend",_i958=function i(){_this522["#specular-exponent-box"].removeEventListener("change",e),_this522["#specular-exponent-box"].removeEventListener("changeend",_i958),_this522.Ob=!1;var _iterator976=_createForOfIteratorHelper(l),_step976;try{for(_iterator976.s();!(_step976=_iterator976.n()).done;){var _t1454=_step976.value;pi(_t1454,n);}}catch(err){_iterator976.e(err);}finally{_iterator976.f();}});}},{key:"Lb",value:function Lb(t){var _this523=this;var e,_i960;this.Js.board.undoManager.checkpoint("Spot light specular constant"),this.Eb=!0;var _this$Js$board19=this.Js.board,s=_this$Js$board19.outermostSelectedElements,n=_this$Js$board19.selectedTextRange,_Bx37=Bx(s,n,!0),_Bx38=_slicedToArray(_Bx37,2),o=_Bx38[0],l=_Bx38[1];this["#specular-constant-box"].addEventListener("change",e=function e(t){t.target===_this523["#specular-constant-slider"]?_this523["#specular-constant-input"].value=_this523["#specular-constant-slider"].value:t.target===_this523["#specular-constant-input"]&&(_this523["#specular-constant-slider"].value=_this523["#specular-constant-input"].value);var _iterator977=_createForOfIteratorHelper(o),_step977;try{for(_iterator977.s();!(_step977=_iterator977.n()).done;){var _t1455=_step977.value;var _e1001=Lx(_t1455),_i959=_e1001?Ox(_e1001):null;_i959&&"spot-light"===_i959.name&&(_i959.specularConstant=_this523["#specular-constant-input"].value,Ex(_e1001,_i959,!0));}}catch(err){_iterator977.e(err);}finally{_iterator977.f();}}),this["#specular-constant-box"].addEventListener("changeend",_i960=function i(){_this523["#specular-constant-box"].removeEventListener("change",e),_this523["#specular-constant-box"].removeEventListener("changeend",_i960),_this523.Eb=!1;var _iterator978=_createForOfIteratorHelper(l),_step978;try{for(_iterator978.s();!(_step978=_iterator978.n()).done;){var _t1456=_step978.value;pi(_t1456,n);}}catch(err){_iterator978.e(err);}finally{_iterator978.f();}});}},{key:"Bb",value:function Bb(t){var _this524=this;var e,_i962;this.Js.board.undoManager.checkpoint("Spot light diffuse constant"),this.Tb=!0;var _this$Js$board20=this.Js.board,s=_this$Js$board20.outermostSelectedElements,n=_this$Js$board20.selectedTextRange,_Bx39=Bx(s,n,!0),_Bx40=_slicedToArray(_Bx39,2),o=_Bx40[0],l=_Bx40[1];this["#diffuse-constant-box"].addEventListener("change",e=function e(t){t.target===_this524["#diffuse-constant-slider"]?_this524["#diffuse-constant-input"].value=_this524["#diffuse-constant-slider"].value:t.target===_this524["#diffuse-constant-input"]&&(_this524["#diffuse-constant-slider"].value=_this524["#diffuse-constant-input"].value);var _iterator979=_createForOfIteratorHelper(o),_step979;try{for(_iterator979.s();!(_step979=_iterator979.n()).done;){var _t1457=_step979.value;var _e1002=Lx(_t1457),_i961=_e1002?Ox(_e1002):null;_i961&&"spot-light"===_i961.name&&(_i961.diffuseConstant=_this524["#diffuse-constant-input"].value,Ex(_e1002,_i961,!0));}}catch(err){_iterator979.e(err);}finally{_iterator979.f();}}),this["#diffuse-constant-box"].addEventListener("changeend",_i962=function i(){_this524["#diffuse-constant-box"].removeEventListener("change",e),_this524["#diffuse-constant-box"].removeEventListener("changeend",_i962),_this524.Tb=!1;var _iterator980=_createForOfIteratorHelper(l),_step980;try{for(_iterator980.s();!(_step980=_iterator980.n()).done;){var _t1458=_step980.value;pi(_t1458,n);}}catch(err){_iterator980.e(err);}finally{_iterator980.f();}});}},{key:"Rb",value:function Rb(t){var _this525=this;var e,_i964;this.Js.board.undoManager.checkpoint("Spot light ambient constant"),this.Ab=!0;var _this$Js$board21=this.Js.board,s=_this$Js$board21.outermostSelectedElements,n=_this$Js$board21.selectedTextRange,_Bx41=Bx(s,n,!0),_Bx42=_slicedToArray(_Bx41,2),o=_Bx42[0],l=_Bx42[1];this["#ambient-constant-box"].addEventListener("change",e=function e(t){t.target===_this525["#ambient-constant-slider"]?_this525["#ambient-constant-input"].value=_this525["#ambient-constant-slider"].value:t.target===_this525["#ambient-constant-input"]&&(_this525["#ambient-constant-slider"].value=_this525["#ambient-constant-input"].value);var _iterator981=_createForOfIteratorHelper(o),_step981;try{for(_iterator981.s();!(_step981=_iterator981.n()).done;){var _t1459=_step981.value;var _e1003=Lx(_t1459),_i963=_e1003?Ox(_e1003):null;_i963&&"spot-light"===_i963.name&&(_i963.ambientConstant=_this525["#ambient-constant-input"].value,Ex(_e1003,_i963,!0));}}catch(err){_iterator981.e(err);}finally{_iterator981.f();}}),this["#ambient-constant-box"].addEventListener("changeend",_i964=function i(){_this525["#ambient-constant-box"].removeEventListener("change",e),_this525["#ambient-constant-box"].removeEventListener("changeend",_i964),_this525.Ab=!1;var _iterator982=_createForOfIteratorHelper(l),_step982;try{for(_iterator982.s();!(_step982=_iterator982.n()).done;){var _t1460=_step982.value;pi(_t1460,n);}}catch(err){_iterator982.e(err);}finally{_iterator982.f();}});}},{key:"Mb",value:function Mb(){var _this526=this;var t,_e1005;this.Js.board.undoManager.checkpoint("Spot light color"),this.kb=!0;var _this$Js$board22=this.Js.board,i=_this$Js$board22.outermostSelectedElements,s=_this$Js$board22.selectedTextRange,_Bx43=Bx(i,s,!0),_Bx44=_slicedToArray(_Bx43,2),n=_Bx44[0],o=_Bx44[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator983=_createForOfIteratorHelper(n),_step983;try{for(_iterator983.s();!(_step983=_iterator983.n()).done;){var _t1461=_step983.value;var _e1004=Lx(_t1461),_i965=_e1004?Ox(_e1004):null;_i965&&"spot-light"===_i965.name&&(_i965.color=_this526["#color-select"].value,Ex(_e1004,_i965,!0));}}catch(err){_iterator983.e(err);}finally{_iterator983.f();}}),this["#color-select"].addEventListener("changeend",_e1005=function e(){_this526["#color-select"].removeEventListener("change",t),_this526["#color-select"].removeEventListener("changeend",_e1005),_this526.kb=!1;var _iterator984=_createForOfIteratorHelper(o),_step984;try{for(_iterator984.s();!(_step984=_iterator984.n()).done;){var _t1462=_step984.value;pi(_t1462,s);}}catch(err){_iterator984.e(err);}finally{_iterator984.f();}});}},{key:"qs",value:function qs(){if(!1===this.zb&&!1===this.Gb&&!1===this.Fb&&!1===this.Ob&&!1===this.Eb&&!1===this.Tb&&!1===this.Ab&&!1===this.kb){var _t1463=this.Js.board,_e1006=Bx(_t1463.outermostSelectedElements,_t1463.selectedTextRange).map(function(t){return Lx(t);}).map(function(t){return t?Ox(t):null;}),_e1007=_toArray(_e1006),_i966=_e1007[0],_s575=_e1007.slice(1);if(_i966&&"spot-light"===_i966.name){var _t1464=!1,_e1008=!1,_n419=!1,_o328=!1,_l281=!1,_h215=!1,_a170=!1,_r107=!1,_d84=!1,_c65=!1,_p54=!1;var _iterator985=_createForOfIteratorHelper(_s575),_step985;try{for(_iterator985.s();!(_step985=_iterator985.n()).done;){var _u45=_step985.value;null!==_u45&&"spot-light"===_u45.name&&(_u45.sourceX!==_i966.sourceX&&(_t1464=!0),_u45.sourceY!==_i966.sourceY&&(_e1008=!0),_u45.sourceZ!==_i966.sourceZ&&(_n419=!0),_u45.targetX!==_i966.targetX&&(_o328=!0),_u45.targetY!==_i966.targetY&&(_l281=!0),_u45.targetZ!==_i966.targetZ&&(_h215=!0),_u45.coneAngle!==_i966.coneAngle&&(_a170=!0),_u45.specularExponent!==_i966.specularExponent&&(_r107=!0),_u45.specularConstant!==_i966.specularConstant&&(_d84=!0),_u45.diffuseConstant!==_i966.diffuseConstant&&(_c65=!0),_u45.ambientConstant!==_i966.ambientConstant&&(_p54=!0));}}catch(err){_iterator985.e(err);}finally{_iterator985.f();}this["#source-x-input"].mixed=_t1464,this["#source-x-input"].disabled=!1,this["#source-x-input"].value=Z(100*_i966.sourceX,3),this["#source-y-input"].mixed=_e1008,this["#source-y-input"].disabled=!1,this["#source-y-input"].value=Z(100*_i966.sourceY,3),this["#source-z-input"].mixed=_n419,this["#source-z-input"].disabled=!1,this["#source-z-input"].value=Z(100*_i966.sourceZ,3),this["#target-x-input"].mixed=_o328,this["#target-x-input"].disabled=!1,this["#target-x-input"].value=Z(100*_i966.targetX,3),this["#target-y-input"].mixed=_l281,this["#target-y-input"].disabled=!1,this["#target-y-input"].value=Z(100*_i966.targetY,3),this["#target-z-input"].mixed=_h215,this["#target-z-input"].disabled=!1,this["#target-z-input"].value=Z(100*_i966.targetZ,3),this["#cone-angle-input"].mixed=_a170,this["#cone-angle-input"].disabled=!1,this["#cone-angle-input"].value=_i966.coneAngle,this["#cone-angle-slider"].disabled=!1,this["#cone-angle-slider"].value=_i966.coneAngle,this["#specular-exponent-input"].mixed=_r107,this["#specular-exponent-input"].disabled=!1,this["#specular-exponent-input"].value=_i966.specularExponent,this["#specular-exponent-slider"].disabled=!1,this["#specular-exponent-slider"].value=_i966.specularExponent,this["#specular-constant-input"].mixed=_d84,this["#specular-constant-input"].disabled=!1,this["#specular-constant-input"].value=_i966.specularConstant,this["#specular-constant-slider"].disabled=!1,this["#specular-constant-slider"].value=_i966.specularConstant,this["#diffuse-constant-input"].mixed=_c65,this["#diffuse-constant-input"].disabled=!1,this["#diffuse-constant-input"].value=_i966.diffuseConstant,this["#diffuse-constant-slider"].disabled=!1,this["#diffuse-constant-slider"].value=_i966.diffuseConstant,this["#ambient-constant-input"].mixed=_p54,this["#ambient-constant-input"].disabled=!1,this["#ambient-constant-input"].value=_i966.ambientConstant,this["#ambient-constant-slider"].disabled=!1,this["#ambient-constant-slider"].value=_i966.ambientConstant,this["#color-select"].disabled=!1,this["#color-select"].value=_i966.color;}else this["#source-x-input"].mixed=!1,this["#source-x-input"].disabled=!0,this["#source-x-input"].value=0,this["#source-y-input"].mixed=!1,this["#source-y-input"].disabled=!0,this["#source-y-input"].value=0,this["#source-z-input"].mixed=!1,this["#source-z-input"].disabled=!0,this["#source-z-input"].value=0,this["#target-x-input"].mixed=!1,this["#target-x-input"].disabled=!0,this["#target-x-input"].value=0,this["#target-y-input"].mixed=!1,this["#target-y-input"].disabled=!0,this["#target-y-input"].value=0,this["#target-z-input"].mixed=!1,this["#target-z-input"].disabled=!0,this["#target-z-input"].value=0,this["#cone-angle-input"].mixed=!1,this["#cone-angle-input"].disabled=!0,this["#cone-angle-input"].value=0,this["#cone-angle-slider"].disabled=!0,this["#cone-angle-slider"].value=0,this["#specular-exponent-input"].mixed=!1,this["#specular-exponent-input"].disabled=!0,this["#specular-exponent-input"].value=0,this["#specular-exponent-slider"].disabled=!0,this["#specular-exponent-slider"].value=0,this["#specular-constant-input"].mixed=!1,this["#specular-constant-input"].disabled=!0,this["#specular-constant-input"].value=0,this["#specular-constant-slider"].disabled=!0,this["#specular-constant-slider"].value=0,this["#diffuse-constant-input"].mixed=!1,this["#diffuse-constant-input"].disabled=!0,this["#diffuse-constant-input"].value=0,this["#diffuse-constant-slider"].disabled=!0,this["#diffuse-constant-slider"].value=0,this["#ambient-constant-input"].mixed=!1,this["#ambient-constant-input"].disabled=!0,this["#ambient-constant-input"].value=0,this["#ambient-constant-slider"].disabled=!0,this["#ambient-constant-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="#ffffff";}}}]);return Nx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Nx,"_shadowTemplate",Yi(_templateObject278()));_defineProperty(Nx,"_shadowStyleSheet",Wi(_templateObject279()));customElements.define("bx-spotlightfilterinspector",Nx);var Vx=/*#__PURE__*/function(_HTMLElement81){_inherits(Vx,_HTMLElement81);var _super110=_createSuper(Vx);function Vx(){var _this527;_classCallCheck(this,Vx);_this527=_super110.call(this),_this527.eb=!1,_this527.kb=!1,_this527._a=Xi(_this527.qs,200,_assertThisInitialized(_this527)),_this527._shadowRoot=_this527.attachShadow({mode:"closed"}),_this527._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Vx._shadowStyleSheet],_this527._shadowRoot.append(document.importNode(Vx._shadowTemplate.content,!0));var _iterator986=_createForOfIteratorHelper(_this527._shadowRoot.querySelectorAll("[id]")),_step986;try{for(_iterator986.s();!(_step986=_iterator986.n()).done;){var _t1465=_step986.value;_this527["#"+_t1465.id]=_t1465;}}catch(err){_iterator986.e(err);}finally{_iterator986.f();}_this527["#width-box"].addEventListener("changestart",function(){return _this527.ob(event);}),_this527["#color-select"].addEventListener("changestart",function(){return _this527.Mb();});return _this527;}_createClass(Vx,[{key:"connectedCallback",value:function connectedCallback(){var _this528=this;this.Js=Ai(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this528._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this528._a();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"ob",value:function ob(t){var _this529=this;var e,_i968;this.Js.board.undoManager.checkpoint("Outline width"),this.eb=!0;var _this$Js$board23=this.Js.board,s=_this$Js$board23.outermostSelectedElements,n=_this$Js$board23.selectedTextRange,_Bx45=Bx(s,n,!0),_Bx46=_slicedToArray(_Bx45,2),o=_Bx46[0],l=_Bx46[1];this["#width-box"].addEventListener("change",e=function e(t){t.target===_this529["#width-slider"]?_this529["#width-input"].value=_this529["#width-slider"].value:t.target===_this529["#width-input"]&&(_this529["#width-slider"].value=_this529["#width-input"].value);var _iterator987=_createForOfIteratorHelper(o),_step987;try{for(_iterator987.s();!(_step987=_iterator987.n()).done;){var _t1466=_step987.value;var _e1009=Lx(_t1466),_i967=_e1009?Ox(_e1009):null;_i967&&"outline"===_i967.name&&(_i967.width=_this529["#width-input"].value,Ex(_e1009,_i967,!0));}}catch(err){_iterator987.e(err);}finally{_iterator987.f();}}),this["#width-box"].addEventListener("changeend",_i968=function i(){_this529["#width-box"].removeEventListener("change",e),_this529["#width-box"].removeEventListener("changeend",_i968),_this529.eb=!1;var _iterator988=_createForOfIteratorHelper(l),_step988;try{for(_iterator988.s();!(_step988=_iterator988.n()).done;){var _t1467=_step988.value;pi(_t1467,n);}}catch(err){_iterator988.e(err);}finally{_iterator988.f();}});}},{key:"Mb",value:function Mb(){var _this530=this;var t,_e1011;this.Js.board.undoManager.checkpoint("Outline color"),this.kb=!0;var _this$Js$board24=this.Js.board,i=_this$Js$board24.outermostSelectedElements,s=_this$Js$board24.selectedTextRange,_Bx47=Bx(i,s,!0),_Bx48=_slicedToArray(_Bx47,2),n=_Bx48[0],o=_Bx48[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator989=_createForOfIteratorHelper(n),_step989;try{for(_iterator989.s();!(_step989=_iterator989.n()).done;){var _t1468=_step989.value;var _e1010=Lx(_t1468),_i969=_e1010?Ox(_e1010):null;_i969&&"outline"===_i969.name&&(_i969.color=_this530["#color-select"].value,Ex(_e1010,_i969,!0));}}catch(err){_iterator989.e(err);}finally{_iterator989.f();}}),this["#color-select"].addEventListener("changeend",_e1011=function e(){_this530["#color-select"].removeEventListener("change",t),_this530["#color-select"].removeEventListener("changeend",_e1011),_this530.kb=!1;var _iterator990=_createForOfIteratorHelper(o),_step990;try{for(_iterator990.s();!(_step990=_iterator990.n()).done;){var _t1469=_step990.value;pi(_t1469,s);}}catch(err){_iterator990.e(err);}finally{_iterator990.f();}});}},{key:"qs",value:function qs(){if(!this.eb&&!this.kb){var _t1470=this.Js.board,_e1012=Bx(_t1470.outermostSelectedElements,_t1470.selectedTextRange).map(function(t){return Lx(t);}).map(function(t){return t?Ox(t):null;}),_e1013=_toArray(_e1012),_i970=_e1013[0],_s576=_e1013.slice(1);if(_i970&&"outline"===_i970.name){var _t1471=!1;var _iterator991=_createForOfIteratorHelper(_s576),_step991;try{for(_iterator991.s();!(_step991=_iterator991.n()).done;){var _e1014=_step991.value;null!==_e1014&&"outline"===_e1014.name&&_e1014.width!==_i970.width&&(_t1471=!0);}}catch(err){_iterator991.e(err);}finally{_iterator991.f();}this["#width-input"].mixed=_t1471,this["#width-input"].disabled=!1,this["#width-input"].value=_i970.width,this["#width-slider"].disabled=!1,this["#width-slider"].value=_i970.width,this["#color-select"].disabled=!1,this["#color-select"].value=_i970.color;}else this["#width-input"].mixed=!1,this["#width-input"].disabled=!0,this["#width-input"].value=0,this["#width-slider"].disabled=!0,this["#width-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="rgba(0,0,0,0)";}}}]);return Vx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Vx,"_shadowTemplate",Yi(_templateObject280()));_defineProperty(Vx,"_shadowStyleSheet",Wi(_templateObject281()));customElements.define("bx-outlinefilterinspector",Vx);var jx=/*#__PURE__*/function(_HTMLElement82){_inherits(jx,_HTMLElement82);var _super111=_createSuper(jx);function jx(){var _this531;_classCallCheck(this,jx);_this531=_super111.call(this),_this531.Vb=!1,_this531._a=Xi(_this531.qs,200,_assertThisInitialized(_this531)),_this531._shadowRoot=_this531.attachShadow({mode:"closed"}),_this531._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,jx._shadowStyleSheet],_this531._shadowRoot.append(document.importNode(jx._shadowTemplate.content,!0));var _iterator992=_createForOfIteratorHelper(_this531._shadowRoot.querySelectorAll("[id]")),_step992;try{for(_iterator992.s();!(_step992=_iterator992.n()).done;){var _t1472=_step992.value;_this531["#"+_t1472.id]=_t1472;}}catch(err){_iterator992.e(err);}finally{_iterator992.f();}_this531["#radius-box"].addEventListener("changestart",function(){return _this531.jb(event);});return _this531;}_createClass(jx,[{key:"connectedCallback",value:function connectedCallback(){var _this532=this;this.Js=Ai(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this532._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this532._a();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"jb",value:function jb(t){var _this533=this;var e,_i972;this.Js.board.undoManager.checkpoint("Gaussian blur radius"),this.Vb=!0;var _this$Js$board25=this.Js.board,s=_this$Js$board25.outermostSelectedElements,n=_this$Js$board25.selectedTextRange,_Bx49=Bx(s,n,!0),_Bx50=_slicedToArray(_Bx49,2),o=_Bx50[0],l=_Bx50[1];this["#radius-box"].addEventListener("change",e=function e(t){t.target===_this533["#radius-slider"]?_this533["#radius-input"].value=_this533["#radius-slider"].value:t.target===_this533["#radius-input"]&&(_this533["#radius-slider"].value=_this533["#radius-input"].value);var _iterator993=_createForOfIteratorHelper(o),_step993;try{for(_iterator993.s();!(_step993=_iterator993.n()).done;){var _t1473=_step993.value;var _e1015=Lx(_t1473),_i971=_e1015?Ox(_e1015):null;_i971&&"gaussian-blur"===_i971.name&&(_i971.radius=_this533["#radius-input"].value,Ex(_e1015,_i971,!0));}}catch(err){_iterator993.e(err);}finally{_iterator993.f();}}),this["#radius-box"].addEventListener("changeend",_i972=function i(){_this533["#radius-box"].removeEventListener("change",e),_this533["#radius-box"].removeEventListener("changeend",_i972),_this533.Vb=!1;var _iterator994=_createForOfIteratorHelper(l),_step994;try{for(_iterator994.s();!(_step994=_iterator994.n()).done;){var _t1474=_step994.value;pi(_t1474,n);}}catch(err){_iterator994.e(err);}finally{_iterator994.f();}});}},{key:"qs",value:function qs(){if(!1===this.Vb){var _t1475=this.Js.board,_e1016=Bx(_t1475.outermostSelectedElements,_t1475.selectedTextRange).map(function(t){return Lx(t);}).map(function(t){return t?Ox(t):null;}),_e1017=_toArray(_e1016),_i973=_e1017[0],_s577=_e1017.slice(1);if(_i973&&"gaussian-blur"===_i973.name){var _t1476=!1;var _iterator995=_createForOfIteratorHelper(_s577),_step995;try{for(_iterator995.s();!(_step995=_iterator995.n()).done;){var _e1018=_step995.value;null!==_e1018&&"gaussian-blur"===_e1018.name&&_e1018.radius!==_i973.radius&&(_t1476=!0);}}catch(err){_iterator995.e(err);}finally{_iterator995.f();}this["#radius-input"].mixed=_t1476,this["#radius-input"].disabled=!1,this["#radius-input"].value=_i973.radius,this["#radius-slider"].disabled=!1,this["#radius-slider"].value=_i973.radius;}else this["#radius-input"].mixed=!1,this["#radius-input"].disabled=!0,this["#radius-input"].value=0,this["#radius-slider"].disabled=!0,this["#radius-slider"].value=0;}}}]);return jx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(jx,"_shadowTemplate",Yi(_templateObject282()));_defineProperty(jx,"_shadowStyleSheet",Wi(_templateObject283()));customElements.define("bx-gaussianblurfilterinspector",jx);var Hx=/*#__PURE__*/function(_HTMLElement83){_inherits(Hx,_HTMLElement83);var _super112=_createSuper(Hx);function Hx(){var _this534;_classCallCheck(this,Hx);_this534=_super112.call(this),_this534.Hb=!1,_this534._a=Xi(_this534.qs,200,_assertThisInitialized(_this534)),_this534._shadowRoot=_this534.attachShadow({mode:"closed"}),_this534._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Hx._shadowStyleSheet],_this534._shadowRoot.append(document.importNode(Hx._shadowTemplate.content,!0));var _iterator996=_createForOfIteratorHelper(_this534._shadowRoot.querySelectorAll("[id]")),_step996;try{for(_iterator996.s();!(_step996=_iterator996.n()).done;){var _t1477=_step996.value;_this534["#"+_t1477.id]=_t1477;}}catch(err){_iterator996.e(err);}finally{_iterator996.f();}_this534["#orientation-buttons"].addEventListener("toggle",function(){return _this534.Yb();}),_this534["#distance-box"].addEventListener("changestart",function(){return _this534.Wb(event);});return _this534;}_createClass(Hx,[{key:"connectedCallback",value:function connectedCallback(){var _this535=this;this.Js=Ai(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this535._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this535._a();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Yb",value:function Yb(){this.Js.board.undoManager.checkpoint("Motion blur orientation");var _this$Js$board26=this.Js.board,t=_this$Js$board26.outermostSelectedElements,e=_this$Js$board26.selectedTextRange,_Bx51=Bx(t,e,!0),_Bx52=_slicedToArray(_Bx51,2),i=_Bx52[0],s=_Bx52[1];var _iterator997=_createForOfIteratorHelper(i),_step997;try{for(_iterator997.s();!(_step997=_iterator997.n()).done;){var _t1478=_step997.value;var _e1019=Lx(_t1478),_i974=_e1019?Ox(_e1019):null;_i974&&"motion-blur"===_i974.name&&(_i974.orientation=this["#orientation-buttons"].value,Ex(_e1019,_i974,!0));}}catch(err){_iterator997.e(err);}finally{_iterator997.f();}var _iterator998=_createForOfIteratorHelper(s),_step998;try{for(_iterator998.s();!(_step998=_iterator998.n()).done;){var _t1479=_step998.value;pi(_t1479,e);}}catch(err){_iterator998.e(err);}finally{_iterator998.f();}}},{key:"Wb",value:function Wb(t){var _this536=this;var e,_i976;this.Js.board.undoManager.checkpoint("Motion blur distance"),this.Hb=!0;var _this$Js$board27=this.Js.board,s=_this$Js$board27.outermostSelectedElements,n=_this$Js$board27.selectedTextRange,_Bx53=Bx(s,n,!0),_Bx54=_slicedToArray(_Bx53,2),o=_Bx54[0],l=_Bx54[1];this["#distance-box"].addEventListener("change",e=function e(t){t.target===_this536["#distance-slider"]?_this536["#distance-input"].value=_this536["#distance-slider"].value:t.target===_this536["#distance-input"]&&(_this536["#distance-slider"].value=_this536["#distance-input"].value);var _iterator999=_createForOfIteratorHelper(o),_step999;try{for(_iterator999.s();!(_step999=_iterator999.n()).done;){var _t1480=_step999.value;var _e1020=Lx(_t1480),_i975=_e1020?Ox(_e1020):null;_i975&&"motion-blur"===_i975.name&&(_i975.distance=_this536["#distance-input"].value,Ex(_e1020,_i975,!0));}}catch(err){_iterator999.e(err);}finally{_iterator999.f();}}),this["#distance-box"].addEventListener("changeend",_i976=function i(){_this536["#distance-box"].removeEventListener("change",e),_this536["#distance-box"].removeEventListener("changeend",_i976),_this536.Hb=!1;var _iterator1000=_createForOfIteratorHelper(l),_step1000;try{for(_iterator1000.s();!(_step1000=_iterator1000.n()).done;){var _t1481=_step1000.value;pi(_t1481,n);}}catch(err){_iterator1000.e(err);}finally{_iterator1000.f();}});}},{key:"qs",value:function qs(){if(!1===this.Hb){var _t1482=this.Js.board,_e1021=Bx(_t1482.outermostSelectedElements,_t1482.selectedTextRange).map(function(t){return Lx(t);}).map(function(t){return t?Ox(t):null;}),_e1022=_toArray(_e1021),_i977=_e1022[0],_s578=_e1022.slice(1);if(_i977&&"motion-blur"===_i977.name){var _t1483=!1;var _iterator1001=_createForOfIteratorHelper(_s578),_step1001;try{for(_iterator1001.s();!(_step1001=_iterator1001.n()).done;){var _e1023=_step1001.value;null!==_e1023&&"motion-blur"===_e1023.name&&_e1023.distance!==_i977.distance&&(_t1483=!0);}}catch(err){_iterator1001.e(err);}finally{_iterator1001.f();}this["#orientation-buttons"].value=_i977.orientation,this["#distance-input"].mixed=_t1483,this["#distance-input"].disabled=!1,this["#distance-input"].value=_i977.distance,this["#distance-slider"].disabled=!1,this["#distance-slider"].value=_i977.distance;}else this["#distance-input"].mixed=!1,this["#distance-input"].disabled=!0,this["#distance-input"].value=0,this["#distance-slider"].disabled=!0,this["#distance-slider"].value=0;}}}]);return Hx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Hx,"_shadowTemplate",Yi(_templateObject284()));_defineProperty(Hx,"_shadowStyleSheet",Wi(_templateObject285()));customElements.define("bx-motionblurfilterinspector",Hx);var Yx=/*#__PURE__*/function(_HTMLElement84){_inherits(Yx,_HTMLElement84);var _super113=_createSuper(Yx);function Yx(){var _this537;_classCallCheck(this,Yx);_this537=_super113.call(this),_this537._a=Xi(_this537.qs,200,_assertThisInitialized(_this537)),_this537.qb=!1,_this537.Xb=!1,_this537._shadowRoot=_this537.attachShadow({mode:"closed"}),_this537._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Yx._shadowStyleSheet],_this537._shadowRoot.append(document.importNode(Yx._shadowTemplate.content,!0));var _iterator1002=_createForOfIteratorHelper(_this537._shadowRoot.querySelectorAll("[id]")),_step1002;try{for(_iterator1002.s();!(_step1002=_iterator1002.n()).done;){var _t1484=_step1002.value;_this537["#"+_t1484.id]=_t1484;}}catch(err){_iterator1002.e(err);}finally{_iterator1002.f();}_this537["#amount-box"].addEventListener("changestart",function(){return _this537.Zb(event);}),_this537["#frequency-box"].addEventListener("changestart",function(){return _this537.Kb(event);});return _this537;}_createClass(Yx,[{key:"connectedCallback",value:function connectedCallback(){var _this538=this;this.Js=Ai(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this538._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this538._a();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Zb",value:function Zb(t){var _this539=this;var e,_i979;this.Js.board.undoManager.checkpoint("Warp amount"),this.qb=!0;var _this$Js$board28=this.Js.board,s=_this$Js$board28.outermostSelectedElements,n=_this$Js$board28.selectedTextRange,_Bx55=Bx(s,n,!0),_Bx56=_slicedToArray(_Bx55,2),o=_Bx56[0],l=_Bx56[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this539["#amount-slider"]?_this539["#amount-input"].value=_this539["#amount-slider"].value:t.target===_this539["#amount-input"]&&(_this539["#amount-slider"].value=_this539["#amount-input"].value);var _iterator1003=_createForOfIteratorHelper(o),_step1003;try{for(_iterator1003.s();!(_step1003=_iterator1003.n()).done;){var _t1485=_step1003.value;var _e1024=Lx(_t1485),_i978=_e1024?Ox(_e1024):null;_i978&&"warp"===_i978.name&&(_i978.amount=_this539["#amount-input"].value,Ex(_e1024,_i978,!0));}}catch(err){_iterator1003.e(err);}finally{_iterator1003.f();}}),this["#amount-box"].addEventListener("changeend",_i979=function i(){_this539["#amount-box"].removeEventListener("change",e),_this539["#amount-box"].removeEventListener("changeend",_i979),_this539.qb=!1;var _iterator1004=_createForOfIteratorHelper(l),_step1004;try{for(_iterator1004.s();!(_step1004=_iterator1004.n()).done;){var _t1486=_step1004.value;pi(_t1486,n);}}catch(err){_iterator1004.e(err);}finally{_iterator1004.f();}});}},{key:"Kb",value:function Kb(t){var _this540=this;var e,_i981;this.Js.board.undoManager.checkpoint("Warp frequency"),this.Xb=!0;var _this$Js$board29=this.Js.board,s=_this$Js$board29.outermostSelectedElements,n=_this$Js$board29.selectedTextRange,_Bx57=Bx(s,n,!0),_Bx58=_slicedToArray(_Bx57,2),o=_Bx58[0],l=_Bx58[1];this["#frequency-box"].addEventListener("change",e=function e(t){t.target===_this540["#frequency-slider"]?_this540["#frequency-input"].value=_this540["#frequency-slider"].value:t.target===_this540["#frequency-input"]&&(_this540["#frequency-slider"].value=_this540["#frequency-input"].value);var _iterator1005=_createForOfIteratorHelper(o),_step1005;try{for(_iterator1005.s();!(_step1005=_iterator1005.n()).done;){var _t1487=_step1005.value;var _e1025=Lx(_t1487),_i980=_e1025?Ox(_e1025):null;_i980&&"warp"===_i980.name&&(_i980.frequency=_this540["#frequency-input"].value,Ex(_e1025,_i980,!0));}}catch(err){_iterator1005.e(err);}finally{_iterator1005.f();}}),this["#frequency-box"].addEventListener("changeend",_i981=function i(){_this540["#frequency-box"].removeEventListener("change",e),_this540["#frequency-box"].removeEventListener("changeend",_i981),_this540.Xb=!1;var _iterator1006=_createForOfIteratorHelper(l),_step1006;try{for(_iterator1006.s();!(_step1006=_iterator1006.n()).done;){var _t1488=_step1006.value;pi(_t1488,n);}}catch(err){_iterator1006.e(err);}finally{_iterator1006.f();}});}},{key:"qs",value:function qs(){if(!1===this.qb&&!1===this.Xb){var _t1489=this.Js.board,_e1026=Bx(_t1489.outermostSelectedElements,_t1489.selectedTextRange).map(function(t){return Lx(t);}).map(function(t){return t?Ox(t):null;}),_e1027=_toArray(_e1026),_i982=_e1027[0],_s579=_e1027.slice(1);if(_i982&&"warp"===_i982.name){var _t1490=!1;var _iterator1007=_createForOfIteratorHelper(_s579),_step1007;try{for(_iterator1007.s();!(_step1007=_iterator1007.n()).done;){var _e1028=_step1007.value;null!==_e1028&&"warp"===_e1028.name&&(_e1028.amount!==_i982.amount&&(_t1490=!0),_e1028.frequency,_i982.frequency);}}catch(err){_iterator1007.e(err);}finally{_iterator1007.f();}this["#amount-input"].mixed=_t1490,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i982.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i982.amount,this["#frequency-input"].mixed=_t1490,this["#frequency-input"].disabled=!1,this["#frequency-input"].value=_i982.frequency,this["#frequency-slider"].disabled=!1,this["#frequency-slider"].value=_i982.frequency;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0,this["#frequency-input"].mixed=!1,this["#frequency-input"].disabled=!0,this["#frequency-input"].value=0,this["#frequency-slider"].disabled=!0,this["#frequency-slider"].value=0;}}}]);return Yx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Yx,"_shadowTemplate",Yi(_templateObject286()));_defineProperty(Yx,"_shadowStyleSheet",Wi(_templateObject287()));customElements.define("bx-warpfilterinspector",Yx);var Wx=/*#__PURE__*/function(_HTMLElement85){_inherits(Wx,_HTMLElement85);var _super114=_createSuper(Wx);function Wx(){var _this541;_classCallCheck(this,Wx);_this541=_super114.call(this),_this541.Qb=!1,_this541._a=Xi(_this541.qs,200,_assertThisInitialized(_this541)),_this541._shadowRoot=_this541.attachShadow({mode:"closed"}),_this541._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Wx._shadowStyleSheet],_this541._shadowRoot.append(document.importNode(Wx._shadowTemplate.content,!0));var _iterator1008=_createForOfIteratorHelper(_this541._shadowRoot.querySelectorAll("[id]")),_step1008;try{for(_iterator1008.s();!(_step1008=_iterator1008.n()).done;){var _t1491=_step1008.value;_this541["#"+_t1491.id]=_t1491;}}catch(err){_iterator1008.e(err);}finally{_iterator1008.f();}_this541["#pixel-size-box"].addEventListener("changestart",function(){return _this541.Jb(event);});return _this541;}_createClass(Wx,[{key:"connectedCallback",value:function connectedCallback(){var _this542=this;this.Js=Ai(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this542._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this542._a();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Jb",value:function Jb(t){var _this543=this;var e,_i984;this.Js.board.undoManager.checkpoint("Pixelete pixel size"),this.Qb=!0;var _this$Js$board30=this.Js.board,s=_this$Js$board30.outermostSelectedElements,n=_this$Js$board30.selectedTextRange,_Bx59=Bx(s,n,!0),_Bx60=_slicedToArray(_Bx59,2),o=_Bx60[0],l=_Bx60[1];this["#pixel-size-box"].addEventListener("change",e=function e(t){t.target===_this543["#pixel-size-slider"]?_this543["#pixel-size-input"].value=_this543["#pixel-size-slider"].value:t.target===_this543["#pixel-size-input"]&&(_this543["#pixel-size-slider"].value=_this543["#pixel-size-input"].value);var _iterator1009=_createForOfIteratorHelper(o),_step1009;try{for(_iterator1009.s();!(_step1009=_iterator1009.n()).done;){var _t1492=_step1009.value;var _e1029=Lx(_t1492),_i983=_e1029?Ox(_e1029):null;_i983&&"pixelete"===_i983.name&&(_i983.pixelSize=_this543["#pixel-size-input"].value,Ex(_e1029,_i983,!0));}}catch(err){_iterator1009.e(err);}finally{_iterator1009.f();}}),this["#pixel-size-box"].addEventListener("changeend",_i984=function i(){_this543["#pixel-size-box"].removeEventListener("change",e),_this543["#pixel-size-box"].removeEventListener("changeend",_i984),_this543.Qb=!1;var _iterator1010=_createForOfIteratorHelper(l),_step1010;try{for(_iterator1010.s();!(_step1010=_iterator1010.n()).done;){var _t1493=_step1010.value;pi(_t1493,n);}}catch(err){_iterator1010.e(err);}finally{_iterator1010.f();}});}},{key:"qs",value:function qs(){if(!1===this.Qb){var _t1494=this.Js.board,_e1030=Bx(_t1494.outermostSelectedElements,_t1494.selectedTextRange).map(function(t){return Lx(t);}).map(function(t){return t?Ox(t):null;}),_e1031=_toArray(_e1030),_i985=_e1031[0],_s580=_e1031.slice(1);if(_i985&&"pixelete"===_i985.name){var _t1495=!1;var _iterator1011=_createForOfIteratorHelper(_s580),_step1011;try{for(_iterator1011.s();!(_step1011=_iterator1011.n()).done;){var _e1032=_step1011.value;null!==_e1032&&"pixelete"===_e1032.name&&_e1032.pixelSize!==_i985.pixelSize&&(_t1495=!0);}}catch(err){_iterator1011.e(err);}finally{_iterator1011.f();}this["#pixel-size-input"].mixed=_t1495,this["#pixel-size-input"].disabled=!1,this["#pixel-size-input"].value=_i985.pixelSize,this["#pixel-size-slider"].disabled=!1,this["#pixel-size-slider"].value=_i985.pixelSize;}else this["#pixel-size-input"].mixed=!1,this["#pixel-size-input"].disabled=!0,this["#pixel-size-input"].value=0,this["#pixel-size-slider"].disabled=!0,this["#pixel-size-slider"].value=0;}}}]);return Wx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Wx,"_shadowTemplate",Yi(_templateObject288()));_defineProperty(Wx,"_shadowStyleSheet",Wi(_templateObject289()));customElements.define("bx-pixeletefilterinspector",Wx);var qx=/*#__PURE__*/function(_HTMLElement86){_inherits(qx,_HTMLElement86);var _super115=_createSuper(qx);function qx(){var _this544;_classCallCheck(this,qx);_this544=_super115.call(this),_this544.Vb=!1,_this544._a=Xi(_this544.qs,200,_assertThisInitialized(_this544)),_this544._shadowRoot=_this544.attachShadow({mode:"closed"}),_this544._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,qx._shadowStyleSheet],_this544._shadowRoot.append(document.importNode(qx._shadowTemplate.content,!0));var _iterator1012=_createForOfIteratorHelper(_this544._shadowRoot.querySelectorAll("[id]")),_step1012;try{for(_iterator1012.s();!(_step1012=_iterator1012.n()).done;){var _t1496=_step1012.value;_this544["#"+_t1496.id]=_t1496;}}catch(err){_iterator1012.e(err);}finally{_iterator1012.f();}_this544["#operator-buttons"].addEventListener("toggle",function(){return _this544.tm();}),_this544["#radius-box"].addEventListener("changestart",function(){return _this544.jb(event);});return _this544;}_createClass(qx,[{key:"connectedCallback",value:function connectedCallback(){var _this545=this;this.Js=Ai(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this545._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this545._a();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"tm",value:function tm(){this.Js.board.undoManager.checkpoint("Morphology operator");var _this$Js$board31=this.Js.board,t=_this$Js$board31.outermostSelectedElements,e=_this$Js$board31.selectedTextRange,_Bx61=Bx(t,e,!0),_Bx62=_slicedToArray(_Bx61,2),i=_Bx62[0],s=_Bx62[1];var _iterator1013=_createForOfIteratorHelper(i),_step1013;try{for(_iterator1013.s();!(_step1013=_iterator1013.n()).done;){var _t1497=_step1013.value;var _e1033=Lx(_t1497),_i986=_e1033?Ox(_e1033):null;_i986&&"morphology"===_i986.name&&(_i986.operator=this["#operator-buttons"].value,Ex(_e1033,_i986,!0));}}catch(err){_iterator1013.e(err);}finally{_iterator1013.f();}var _iterator1014=_createForOfIteratorHelper(s),_step1014;try{for(_iterator1014.s();!(_step1014=_iterator1014.n()).done;){var _t1498=_step1014.value;pi(_t1498,e);}}catch(err){_iterator1014.e(err);}finally{_iterator1014.f();}}},{key:"jb",value:function jb(t){var _this546=this;var e,_i988;this.Js.board.undoManager.checkpoint("Morphology radius"),this.Vb=!0;var _this$Js$board32=this.Js.board,s=_this$Js$board32.outermostSelectedElements,n=_this$Js$board32.selectedTextRange,_Bx63=Bx(s,n,!0),_Bx64=_slicedToArray(_Bx63,2),o=_Bx64[0],l=_Bx64[1];this["#radius-box"].addEventListener("change",e=function e(t){t.target===_this546["#radius-slider"]?_this546["#radius-input"].value=_this546["#radius-slider"].value:t.target===_this546["#radius-input"]&&(_this546["#radius-slider"].value=_this546["#radius-input"].value);var _iterator1015=_createForOfIteratorHelper(o),_step1015;try{for(_iterator1015.s();!(_step1015=_iterator1015.n()).done;){var _t1499=_step1015.value;var _e1034=Lx(_t1499),_i987=_e1034?Ox(_e1034):null;_i987&&"morphology"===_i987.name&&(_i987.radius=_this546["#radius-input"].value,Ex(_e1034,_i987,!0));}}catch(err){_iterator1015.e(err);}finally{_iterator1015.f();}}),this["#radius-box"].addEventListener("changeend",_i988=function i(){_this546["#radius-box"].removeEventListener("change",e),_this546["#radius-box"].removeEventListener("changeend",_i988),_this546.Vb=!1;var _iterator1016=_createForOfIteratorHelper(l),_step1016;try{for(_iterator1016.s();!(_step1016=_iterator1016.n()).done;){var _t1500=_step1016.value;pi(_t1500,n);}}catch(err){_iterator1016.e(err);}finally{_iterator1016.f();}});}},{key:"qs",value:function qs(){if(!1===this.Vb){var _t1501=this.Js.board,_e1035=Bx(_t1501.outermostSelectedElements,_t1501.selectedTextRange).map(function(t){return Lx(t);}).map(function(t){return t?Ox(t):null;}),_e1036=_toArray(_e1035),_i989=_e1036[0],_s581=_e1036.slice(1);if(_i989&&"morphology"===_i989.name){var _t1502=!1;var _iterator1017=_createForOfIteratorHelper(_s581),_step1017;try{for(_iterator1017.s();!(_step1017=_iterator1017.n()).done;){var _e1037=_step1017.value;null!==_e1037&&"morphology"===_e1037.name&&_e1037.radius!==_i989.radius&&(_t1502=!0);}}catch(err){_iterator1017.e(err);}finally{_iterator1017.f();}this["#operator-buttons"].value=_i989.operator,this["#radius-input"].mixed=_t1502,this["#radius-input"].disabled=!1,this["#radius-input"].value=_i989.radius,this["#radius-slider"].disabled=!1,this["#radius-slider"].value=_i989.radius;}else this["#radius-input"].mixed=!1,this["#radius-input"].disabled=!0,this["#radius-input"].value=0,this["#radius-slider"].disabled=!0,this["#radius-slider"].value=0;}}}]);return qx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(qx,"_shadowTemplate",Yi(_templateObject290()));_defineProperty(qx,"_shadowStyleSheet",Wi(_templateObject291()));customElements.define("bx-morphologyfilterinspector",qx);var Xx=/*#__PURE__*/function(_HTMLElement87){_inherits(Xx,_HTMLElement87);var _super116=_createSuper(Xx);function Xx(){var _this547;_classCallCheck(this,Xx);_this547=_super116.call(this),_this547.im=!1,_this547._a=Xi(_this547.qs,200,_assertThisInitialized(_this547)),_this547._shadowRoot=_this547.attachShadow({mode:"closed"}),_this547._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Xx._shadowStyleSheet],_this547._shadowRoot.append(document.importNode(Xx._shadowTemplate.content,!0));var _iterator1018=_createForOfIteratorHelper(_this547._shadowRoot.querySelectorAll("[id]")),_step1018;try{for(_iterator1018.s();!(_step1018=_iterator1018.n()).done;){var _t1503=_step1018.value;_this547["#"+_t1503.id]=_t1503;}}catch(err){_iterator1018.e(err);}finally{_iterator1018.f();}_this547["#balance-box"].addEventListener("changestart",function(){return _this547.sm(event);});return _this547;}_createClass(Xx,[{key:"connectedCallback",value:function connectedCallback(){var _this548=this;this.Js=Ai(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this548._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this548._a();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"sm",value:function sm(t){var _this549=this;var e,_i991;this.Js.board.undoManager.checkpoint("Black and white balance"),this.im=!0;var _this$Js$board33=this.Js.board,s=_this$Js$board33.outermostSelectedElements,n=_this$Js$board33.selectedTextRange,_Bx65=Bx(s,n,!0),_Bx66=_slicedToArray(_Bx65,2),o=_Bx66[0],l=_Bx66[1];this["#balance-box"].addEventListener("change",e=function e(t){t.target===_this549["#balance-slider"]?_this549["#balance-input"].value=_this549["#balance-slider"].value:t.target===_this549["#balance-input"]&&(_this549["#balance-slider"].value=_this549["#balance-input"].value);var _iterator1019=_createForOfIteratorHelper(o),_step1019;try{for(_iterator1019.s();!(_step1019=_iterator1019.n()).done;){var _t1504=_step1019.value;var _e1038=Lx(_t1504),_i990=_e1038?Ox(_e1038):null;_i990&&"black-and-white"===_i990.name&&(_i990.balance=_this549["#balance-input"].value,Ex(_e1038,_i990,!0));}}catch(err){_iterator1019.e(err);}finally{_iterator1019.f();}}),this["#balance-box"].addEventListener("changeend",_i991=function i(){_this549["#balance-box"].removeEventListener("change",e),_this549["#balance-box"].removeEventListener("changeend",_i991),_this549.im=!1;var _iterator1020=_createForOfIteratorHelper(l),_step1020;try{for(_iterator1020.s();!(_step1020=_iterator1020.n()).done;){var _t1505=_step1020.value;pi(_t1505,n);}}catch(err){_iterator1020.e(err);}finally{_iterator1020.f();}});}},{key:"qs",value:function qs(){if(!1===this.im){var _t1506=this.Js.board,_e1039=Bx(_t1506.outermostSelectedElements,_t1506.selectedTextRange).map(function(t){return Lx(t);}).map(function(t){return t?Ox(t):null;}),_e1040=_toArray(_e1039),_i992=_e1040[0],_s582=_e1040.slice(1);if(_i992&&"black-and-white"===_i992.name){var _t1507=!1;var _iterator1021=_createForOfIteratorHelper(_s582),_step1021;try{for(_iterator1021.s();!(_step1021=_iterator1021.n()).done;){var _e1041=_step1021.value;null!==_e1041&&"black-and-white"===_e1041.name&&_e1041.balance!==_i992.balance&&(_t1507=!0);}}catch(err){_iterator1021.e(err);}finally{_iterator1021.f();}this["#balance-input"].mixed=_t1507,this["#balance-input"].disabled=!1,this["#balance-input"].value=_i992.balance,this["#balance-slider"].disabled=!1,this["#balance-slider"].value=_i992.balance;}else this["#balance-input"].mixed=!1,this["#balance-input"].disabled=!0,this["#balance-input"].value=0,this["#balance-slider"].disabled=!0,this["#balance-slider"].value=0;}}}]);return Xx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Xx,"_shadowTemplate",Yi(_templateObject292()));_defineProperty(Xx,"_shadowStyleSheet",Wi(_templateObject293()));customElements.define("bx-blackandwhitefilterinspector",Xx);var Zx=/*#__PURE__*/function(_HTMLElement88){_inherits(Zx,_HTMLElement88);var _super117=_createSuper(Zx);function Zx(){var _this550;_classCallCheck(this,Zx);_this550=_super117.call(this),_this550.qb=!1,_this550._a=Xi(_this550.qs,200,_assertThisInitialized(_this550)),_this550._shadowRoot=_this550.attachShadow({mode:"closed"}),_this550._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Zx._shadowStyleSheet],_this550._shadowRoot.append(document.importNode(Zx._shadowTemplate.content,!0));var _iterator1022=_createForOfIteratorHelper(_this550._shadowRoot.querySelectorAll("[id]")),_step1022;try{for(_iterator1022.s();!(_step1022=_iterator1022.n()).done;){var _t1508=_step1022.value;_this550["#"+_t1508.id]=_t1508;}}catch(err){_iterator1022.e(err);}finally{_iterator1022.f();}_this550["#amount-box"].addEventListener("changestart",function(){return _this550.Zb(event);});return _this550;}_createClass(Zx,[{key:"connectedCallback",value:function connectedCallback(){var _this551=this;this.Js=Ai(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this551._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this551._a();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Zb",value:function Zb(t){var _this552=this;var e,_i994;this.Js.board.undoManager.checkpoint("Grayscale amount"),this.qb=!0;var _this$Js$board34=this.Js.board,s=_this$Js$board34.outermostSelectedElements,n=_this$Js$board34.selectedTextRange,_Bx67=Bx(s,n,!0),_Bx68=_slicedToArray(_Bx67,2),o=_Bx68[0],l=_Bx68[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this552["#amount-slider"]?_this552["#amount-input"].value=_this552["#amount-slider"].value:t.target===_this552["#amount-input"]&&(_this552["#amount-slider"].value=_this552["#amount-input"].value);var _iterator1023=_createForOfIteratorHelper(o),_step1023;try{for(_iterator1023.s();!(_step1023=_iterator1023.n()).done;){var _t1509=_step1023.value;var _e1042=Lx(_t1509),_i993=_e1042?Ox(_e1042):null;_i993&&"grayscale"===_i993.name&&(_i993.amount=_this552["#amount-input"].value,Ex(_e1042,_i993,!0));}}catch(err){_iterator1023.e(err);}finally{_iterator1023.f();}}),this["#amount-box"].addEventListener("changeend",_i994=function i(){_this552["#amount-box"].removeEventListener("change",e),_this552["#amount-box"].removeEventListener("changeend",_i994),_this552.qb=!1;var _iterator1024=_createForOfIteratorHelper(l),_step1024;try{for(_iterator1024.s();!(_step1024=_iterator1024.n()).done;){var _t1510=_step1024.value;pi(_t1510,n);}}catch(err){_iterator1024.e(err);}finally{_iterator1024.f();}});}},{key:"qs",value:function qs(){if(!1===this.qb){var _t1511=this.Js.board,_e1043=Bx(_t1511.outermostSelectedElements,_t1511.selectedTextRange).map(function(t){return Lx(t);}).map(function(t){return t?Ox(t):null;}),_e1044=_toArray(_e1043),_i995=_e1044[0],_s583=_e1044.slice(1);if(_i995&&"grayscale"===_i995.name){var _t1512=!1;var _iterator1025=_createForOfIteratorHelper(_s583),_step1025;try{for(_iterator1025.s();!(_step1025=_iterator1025.n()).done;){var _e1045=_step1025.value;null!==_e1045&&"grayscale"===_e1045.name&&_e1045.amount!==_i995.amount&&(_t1512=!0);}}catch(err){_iterator1025.e(err);}finally{_iterator1025.f();}this["#amount-input"].mixed=_t1512,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i995.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i995.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return Zx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Zx,"_shadowTemplate",Yi(_templateObject294()));_defineProperty(Zx,"_shadowStyleSheet",Wi(_templateObject295()));customElements.define("bx-grayscalefilterinspector",Zx);var Kx=/*#__PURE__*/function(_HTMLElement89){_inherits(Kx,_HTMLElement89);var _super118=_createSuper(Kx);function Kx(){var _this553;_classCallCheck(this,Kx);_this553=_super118.call(this),_this553.qb=!1,_this553._a=Xi(_this553.qs,200,_assertThisInitialized(_this553)),_this553._shadowRoot=_this553.attachShadow({mode:"closed"}),_this553._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Kx._shadowStyleSheet],_this553._shadowRoot.append(document.importNode(Kx._shadowTemplate.content,!0));var _iterator1026=_createForOfIteratorHelper(_this553._shadowRoot.querySelectorAll("[id]")),_step1026;try{for(_iterator1026.s();!(_step1026=_iterator1026.n()).done;){var _t1513=_step1026.value;_this553["#"+_t1513.id]=_t1513;}}catch(err){_iterator1026.e(err);}finally{_iterator1026.f();}_this553["#amount-box"].addEventListener("changestart",function(){return _this553.Zb(event);});return _this553;}_createClass(Kx,[{key:"connectedCallback",value:function connectedCallback(){var _this554=this;this.Js=Ai(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this554._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this554._a();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Zb",value:function Zb(t){var _this555=this;var e,_i997;this.Js.board.undoManager.checkpoint("Sepia amount"),this.qb=!0;var _this$Js$board35=this.Js.board,s=_this$Js$board35.outermostSelectedElements,n=_this$Js$board35.selectedTextRange,_Bx69=Bx(s,n,!0),_Bx70=_slicedToArray(_Bx69,2),o=_Bx70[0],l=_Bx70[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this555["#amount-slider"]?_this555["#amount-input"].value=_this555["#amount-slider"].value:t.target===_this555["#amount-input"]&&(_this555["#amount-slider"].value=_this555["#amount-input"].value);var _iterator1027=_createForOfIteratorHelper(o),_step1027;try{for(_iterator1027.s();!(_step1027=_iterator1027.n()).done;){var _t1514=_step1027.value;var _e1046=Lx(_t1514),_i996=_e1046?Ox(_e1046):null;_i996&&"sepia"===_i996.name&&(_i996.amount=_this555["#amount-input"].value,Ex(_e1046,_i996,!0));}}catch(err){_iterator1027.e(err);}finally{_iterator1027.f();}}),this["#amount-box"].addEventListener("changeend",_i997=function i(){_this555["#amount-box"].removeEventListener("change",e),_this555["#amount-box"].removeEventListener("changeend",_i997),_this555.qb=!1;var _iterator1028=_createForOfIteratorHelper(l),_step1028;try{for(_iterator1028.s();!(_step1028=_iterator1028.n()).done;){var _t1515=_step1028.value;pi(_t1515,n);}}catch(err){_iterator1028.e(err);}finally{_iterator1028.f();}});}},{key:"qs",value:function qs(){if(!1===this.qb){var _t1516=this.Js.board,_e1047=Bx(_t1516.outermostSelectedElements,_t1516.selectedTextRange).map(function(t){return Lx(t);}).map(function(t){return t?Ox(t):null;}),_e1048=_toArray(_e1047),_i998=_e1048[0],_s584=_e1048.slice(1);if(_i998&&"sepia"===_i998.name){var _t1517=!1;var _iterator1029=_createForOfIteratorHelper(_s584),_step1029;try{for(_iterator1029.s();!(_step1029=_iterator1029.n()).done;){var _e1049=_step1029.value;null!==_e1049&&"sepia"===_e1049.name&&_e1049.amount!==_i998.amount&&(_t1517=!0);}}catch(err){_iterator1029.e(err);}finally{_iterator1029.f();}this["#amount-input"].mixed=_t1517,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i998.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i998.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return Kx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Kx,"_shadowTemplate",Yi(_templateObject296()));_defineProperty(Kx,"_shadowStyleSheet",Wi(_templateObject297()));customElements.define("bx-sepiafilterinspector",Kx);var Qx=/*#__PURE__*/function(_HTMLElement90){_inherits(Qx,_HTMLElement90);var _super119=_createSuper(Qx);function Qx(){var _this556;_classCallCheck(this,Qx);_this556=_super119.call(this),_this556.qb=!1,_this556._a=Xi(_this556.qs,200,_assertThisInitialized(_this556)),_this556._shadowRoot=_this556.attachShadow({mode:"closed"}),_this556._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Qx._shadowStyleSheet],_this556._shadowRoot.append(document.importNode(Qx._shadowTemplate.content,!0));var _iterator1030=_createForOfIteratorHelper(_this556._shadowRoot.querySelectorAll("[id]")),_step1030;try{for(_iterator1030.s();!(_step1030=_iterator1030.n()).done;){var _t1518=_step1030.value;_this556["#"+_t1518.id]=_t1518;}}catch(err){_iterator1030.e(err);}finally{_iterator1030.f();}_this556["#amount-box"].addEventListener("changestart",function(){return _this556.Zb(event);});return _this556;}_createClass(Qx,[{key:"connectedCallback",value:function connectedCallback(){var _this557=this;this.Js=Ai(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this557._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this557._a();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Zb",value:function Zb(t){var _this558=this;var e,_i1000;this.Js.board.undoManager.checkpoint("Saturate amount"),this.qb=!0;var _this$Js$board36=this.Js.board,s=_this$Js$board36.outermostSelectedElements,n=_this$Js$board36.selectedTextRange,_Bx71=Bx(s,n,!0),_Bx72=_slicedToArray(_Bx71,2),o=_Bx72[0],l=_Bx72[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this558["#amount-slider"]?_this558["#amount-input"].value=_this558["#amount-slider"].value:t.target===_this558["#amount-input"]&&(_this558["#amount-slider"].value=_this558["#amount-input"].value);var _iterator1031=_createForOfIteratorHelper(o),_step1031;try{for(_iterator1031.s();!(_step1031=_iterator1031.n()).done;){var _t1519=_step1031.value;var _e1050=Lx(_t1519),_i999=_e1050?Ox(_e1050):null;_i999&&"saturate"===_i999.name&&(_i999.amount=_this558["#amount-input"].value,Ex(_e1050,_i999,!0));}}catch(err){_iterator1031.e(err);}finally{_iterator1031.f();}}),this["#amount-box"].addEventListener("changeend",_i1000=function i(){_this558["#amount-box"].removeEventListener("change",e),_this558["#amount-box"].removeEventListener("changeend",_i1000),_this558.qb=!1;var _iterator1032=_createForOfIteratorHelper(l),_step1032;try{for(_iterator1032.s();!(_step1032=_iterator1032.n()).done;){var _t1520=_step1032.value;pi(_t1520,n);}}catch(err){_iterator1032.e(err);}finally{_iterator1032.f();}});}},{key:"qs",value:function qs(){if(!1===this.qb){var _t1521=this.Js.board,_e1051=Bx(_t1521.outermostSelectedElements,_t1521.selectedTextRange).map(function(t){return Lx(t);}).map(function(t){return t?Ox(t):null;}),_e1052=_toArray(_e1051),_i1001=_e1052[0],_s585=_e1052.slice(1);if(_i1001&&"saturate"===_i1001.name){var _t1522=!1;var _iterator1033=_createForOfIteratorHelper(_s585),_step1033;try{for(_iterator1033.s();!(_step1033=_iterator1033.n()).done;){var _e1053=_step1033.value;null!==_e1053&&"saturate"===_e1053.name&&_e1053.amount!==_i1001.amount&&(_t1522=!0);}}catch(err){_iterator1033.e(err);}finally{_iterator1033.f();}this["#amount-input"].mixed=_t1522,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1001.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1001.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return Qx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Qx,"_shadowTemplate",Yi(_templateObject298()));_defineProperty(Qx,"_shadowStyleSheet",Wi(_templateObject299()));customElements.define("bx-saturatefilterinspector",Qx);var Jx=/*#__PURE__*/function(_HTMLElement91){_inherits(Jx,_HTMLElement91);var _super120=_createSuper(Jx);function Jx(){var _this559;_classCallCheck(this,Jx);_this559=_super120.call(this),_this559.nm=!1,_this559._a=Xi(_this559.qs,200,_assertThisInitialized(_this559)),_this559._shadowRoot=_this559.attachShadow({mode:"closed"}),_this559._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Jx._shadowStyleSheet],_this559._shadowRoot.append(document.importNode(Jx._shadowTemplate.content,!0));var _iterator1034=_createForOfIteratorHelper(_this559._shadowRoot.querySelectorAll("[id]")),_step1034;try{for(_iterator1034.s();!(_step1034=_iterator1034.n()).done;){var _t1523=_step1034.value;_this559["#"+_t1523.id]=_t1523;}}catch(err){_iterator1034.e(err);}finally{_iterator1034.f();}_this559["#angle-box"].addEventListener("changestart",function(){return _this559.Jn(event);});return _this559;}_createClass(Jx,[{key:"connectedCallback",value:function connectedCallback(){var _this560=this;this.Js=Ai(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this560._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this560._a();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Jn",value:function Jn(t){var _this561=this;var e,_i1003;this.Js.board.undoManager.checkpoint("Hue rotate angle"),this.nm=!0;var _this$Js$board37=this.Js.board,s=_this$Js$board37.outermostSelectedElements,n=_this$Js$board37.selectedTextRange,_Bx73=Bx(s,n,!0),_Bx74=_slicedToArray(_Bx73,2),o=_Bx74[0],l=_Bx74[1];this["#angle-box"].addEventListener("change",e=function e(t){t.target===_this561["#angle-slider"]?_this561["#angle-input"].value=_this561["#angle-slider"].value:t.target===_this561["#angle-input"]&&(_this561["#angle-slider"].value=_this561["#angle-input"].value);var _iterator1035=_createForOfIteratorHelper(o),_step1035;try{for(_iterator1035.s();!(_step1035=_iterator1035.n()).done;){var _t1524=_step1035.value;var _e1054=Lx(_t1524),_i1002=_e1054?Ox(_e1054):null;_i1002&&"hue-rotate"===_i1002.name&&(_i1002.angle=_this561["#angle-input"].value,Ex(_e1054,_i1002,!0));}}catch(err){_iterator1035.e(err);}finally{_iterator1035.f();}}),this["#angle-box"].addEventListener("changeend",_i1003=function i(){_this561["#angle-box"].removeEventListener("change",e),_this561["#angle-box"].removeEventListener("changeend",_i1003),_this561.nm=!1;var _iterator1036=_createForOfIteratorHelper(l),_step1036;try{for(_iterator1036.s();!(_step1036=_iterator1036.n()).done;){var _t1525=_step1036.value;pi(_t1525,n);}}catch(err){_iterator1036.e(err);}finally{_iterator1036.f();}});}},{key:"qs",value:function qs(){if(!1===this.nm){var _t1526=this.Js.board,_e1055=Bx(_t1526.outermostSelectedElements,_t1526.selectedTextRange).map(function(t){return Lx(t);}).map(function(t){return t?Ox(t):null;}),_e1056=_toArray(_e1055),_i1004=_e1056[0],_s586=_e1056.slice(1);if(_i1004&&"hue-rotate"===_i1004.name){var _t1527=!1;var _iterator1037=_createForOfIteratorHelper(_s586),_step1037;try{for(_iterator1037.s();!(_step1037=_iterator1037.n()).done;){var _e1057=_step1037.value;null!==_e1057&&"hue-rotate"===_e1057.name&&_e1057.angle!==_i1004.angle&&(_t1527=!0);}}catch(err){_iterator1037.e(err);}finally{_iterator1037.f();}this["#angle-input"].mixed=_t1527,this["#angle-input"].disabled=!1,this["#angle-input"].value=_i1004.angle,this["#angle-slider"].disabled=!1,this["#angle-slider"].value=_i1004.angle;}else this["#angle-input"].mixed=!1,this["#angle-input"].disabled=!0,this["#angle-input"].value=0,this["#angle-slider"].disabled=!0,this["#angle-slider"].value=0;}}}]);return Jx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Jx,"_shadowTemplate",Yi(_templateObject300()));_defineProperty(Jx,"_shadowStyleSheet",Wi(_templateObject301()));customElements.define("bx-huerotatefilterinspector",Jx);var tb=/*#__PURE__*/function(_HTMLElement92){_inherits(tb,_HTMLElement92);var _super121=_createSuper(tb);function tb(){var _this562;_classCallCheck(this,tb);_this562=_super121.call(this),_this562.qb=!1,_this562._a=Xi(_this562.qs,200,_assertThisInitialized(_this562)),_this562._shadowRoot=_this562.attachShadow({mode:"closed"}),_this562._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,tb._shadowStyleSheet],_this562._shadowRoot.append(document.importNode(tb._shadowTemplate.content,!0));var _iterator1038=_createForOfIteratorHelper(_this562._shadowRoot.querySelectorAll("[id]")),_step1038;try{for(_iterator1038.s();!(_step1038=_iterator1038.n()).done;){var _t1528=_step1038.value;_this562["#"+_t1528.id]=_t1528;}}catch(err){_iterator1038.e(err);}finally{_iterator1038.f();}_this562["#amount-box"].addEventListener("changestart",function(){return _this562.Zb(event);});return _this562;}_createClass(tb,[{key:"connectedCallback",value:function connectedCallback(){var _this563=this;this.Js=Ai(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this563._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this563._a();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Zb",value:function Zb(t){var _this564=this;var e,_i1006;this.Js.board.undoManager.checkpoint("Invert amount"),this.qb=!0;var _this$Js$board38=this.Js.board,s=_this$Js$board38.outermostSelectedElements,n=_this$Js$board38.selectedTextRange,_Bx75=Bx(s,n,!0),_Bx76=_slicedToArray(_Bx75,2),o=_Bx76[0],l=_Bx76[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this564["#amount-slider"]?_this564["#amount-input"].value=_this564["#amount-slider"].value:t.target===_this564["#amount-input"]&&(_this564["#amount-slider"].value=_this564["#amount-input"].value);var _iterator1039=_createForOfIteratorHelper(o),_step1039;try{for(_iterator1039.s();!(_step1039=_iterator1039.n()).done;){var _t1529=_step1039.value;var _e1058=Lx(_t1529),_i1005=_e1058?Ox(_e1058):null;_i1005&&"invert"===_i1005.name&&(_i1005.amount=_this564["#amount-input"].value,Ex(_e1058,_i1005,!0));}}catch(err){_iterator1039.e(err);}finally{_iterator1039.f();}}),this["#amount-box"].addEventListener("changeend",_i1006=function i(){_this564["#amount-box"].removeEventListener("change",e),_this564["#amount-box"].removeEventListener("changeend",_i1006),_this564.qb=!1;var _iterator1040=_createForOfIteratorHelper(l),_step1040;try{for(_iterator1040.s();!(_step1040=_iterator1040.n()).done;){var _t1530=_step1040.value;pi(_t1530,n);}}catch(err){_iterator1040.e(err);}finally{_iterator1040.f();}});}},{key:"qs",value:function qs(){if(!1===this.qb){var _t1531=this.Js.board,_e1059=Bx(_t1531.outermostSelectedElements,_t1531.selectedTextRange).map(function(t){return Lx(t);}).map(function(t){return t?Ox(t):null;}),_e1060=_toArray(_e1059),_i1007=_e1060[0],_s587=_e1060.slice(1);if(_i1007&&"invert"===_i1007.name){var _t1532=!1;var _iterator1041=_createForOfIteratorHelper(_s587),_step1041;try{for(_iterator1041.s();!(_step1041=_iterator1041.n()).done;){var _e1061=_step1041.value;null!==_e1061&&"invert"===_e1061.name&&_e1061.amount!==_i1007.amount&&(_t1532=!0);}}catch(err){_iterator1041.e(err);}finally{_iterator1041.f();}this["#amount-input"].mixed=_t1532,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1007.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1007.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return tb;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(tb,"_shadowTemplate",Yi(_templateObject302()));_defineProperty(tb,"_shadowStyleSheet",Wi(_templateObject303()));customElements.define("bx-invertfilterinspector",tb);var eb=/*#__PURE__*/function(_HTMLElement93){_inherits(eb,_HTMLElement93);var _super122=_createSuper(eb);function eb(){var _this565;_classCallCheck(this,eb);_this565=_super122.call(this),_this565.qb=!1,_this565._a=Xi(_this565.qs,200,_assertThisInitialized(_this565)),_this565._shadowRoot=_this565.attachShadow({mode:"closed"}),_this565._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,eb._shadowStyleSheet],_this565._shadowRoot.append(document.importNode(eb._shadowTemplate.content,!0));var _iterator1042=_createForOfIteratorHelper(_this565._shadowRoot.querySelectorAll("[id]")),_step1042;try{for(_iterator1042.s();!(_step1042=_iterator1042.n()).done;){var _t1533=_step1042.value;_this565["#"+_t1533.id]=_t1533;}}catch(err){_iterator1042.e(err);}finally{_iterator1042.f();}_this565["#amount-box"].addEventListener("changestart",function(){return _this565.Zb(event);});return _this565;}_createClass(eb,[{key:"connectedCallback",value:function connectedCallback(){var _this566=this;this.Js=Ai(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this566._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this566._a();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Zb",value:function Zb(t){var _this567=this;var e,_i1009;this.Js.board.undoManager.checkpoint("Brightness amount"),this.qb=!0;var _this$Js$board39=this.Js.board,s=_this$Js$board39.outermostSelectedElements,n=_this$Js$board39.selectedTextRange,_Bx77=Bx(s,n,!0),_Bx78=_slicedToArray(_Bx77,2),o=_Bx78[0],l=_Bx78[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this567["#amount-slider"]?_this567["#amount-input"].value=_this567["#amount-slider"].value:t.target===_this567["#amount-input"]&&(_this567["#amount-slider"].value=_this567["#amount-input"].value);var _iterator1043=_createForOfIteratorHelper(o),_step1043;try{for(_iterator1043.s();!(_step1043=_iterator1043.n()).done;){var _t1534=_step1043.value;var _e1062=Lx(_t1534),_i1008=_e1062?Ox(_e1062):null;_i1008&&"brightness"===_i1008.name&&(_i1008.amount=_this567["#amount-input"].value,Ex(_e1062,_i1008,!0));}}catch(err){_iterator1043.e(err);}finally{_iterator1043.f();}}),this["#amount-box"].addEventListener("changeend",_i1009=function i(){_this567["#amount-box"].removeEventListener("change",e),_this567["#amount-box"].removeEventListener("changeend",_i1009),_this567.qb=!1;var _iterator1044=_createForOfIteratorHelper(l),_step1044;try{for(_iterator1044.s();!(_step1044=_iterator1044.n()).done;){var _t1535=_step1044.value;pi(_t1535,n);}}catch(err){_iterator1044.e(err);}finally{_iterator1044.f();}});}},{key:"qs",value:function qs(){if(!1===this.qb){var _t1536=this.Js.board,_e1063=Bx(_t1536.outermostSelectedElements,_t1536.selectedTextRange).map(function(t){return Lx(t);}).map(function(t){return t?Ox(t):null;}),_e1064=_toArray(_e1063),_i1010=_e1064[0],_s588=_e1064.slice(1);if(_i1010&&"brightness"===_i1010.name){var _t1537=!1;var _iterator1045=_createForOfIteratorHelper(_s588),_step1045;try{for(_iterator1045.s();!(_step1045=_iterator1045.n()).done;){var _e1065=_step1045.value;null!==_e1065&&"brightness"===_e1065.name&&_e1065.amount!==_i1010.amount&&(_t1537=!0);}}catch(err){_iterator1045.e(err);}finally{_iterator1045.f();}this["#amount-input"].mixed=_t1537,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1010.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1010.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return eb;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(eb,"_shadowTemplate",Yi(_templateObject304()));_defineProperty(eb,"_shadowStyleSheet",Wi(_templateObject305()));customElements.define("bx-brightnessfilterinspector",eb);var ib=/*#__PURE__*/function(_HTMLElement94){_inherits(ib,_HTMLElement94);var _super123=_createSuper(ib);function ib(){var _this568;_classCallCheck(this,ib);_this568=_super123.call(this),_this568.qb=!1,_this568._a=Xi(_this568.qs,200,_assertThisInitialized(_this568)),_this568._shadowRoot=_this568.attachShadow({mode:"closed"}),_this568._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,ib._shadowStyleSheet],_this568._shadowRoot.append(document.importNode(ib._shadowTemplate.content,!0));var _iterator1046=_createForOfIteratorHelper(_this568._shadowRoot.querySelectorAll("[id]")),_step1046;try{for(_iterator1046.s();!(_step1046=_iterator1046.n()).done;){var _t1538=_step1046.value;_this568["#"+_t1538.id]=_t1538;}}catch(err){_iterator1046.e(err);}finally{_iterator1046.f();}_this568["#amount-box"].addEventListener("changestart",function(){return _this568.Zb(event);});return _this568;}_createClass(ib,[{key:"connectedCallback",value:function connectedCallback(){var _this569=this;this.Js=Ai(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this569._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this569._a();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Zb",value:function Zb(t){var _this570=this;var e,_i1012;this.Js.board.undoManager.checkpoint("Contrast amount"),this.qb=!0;var _this$Js$board40=this.Js.board,s=_this$Js$board40.outermostSelectedElements,n=_this$Js$board40.selectedTextRange,_Bx79=Bx(s,n,!0),_Bx80=_slicedToArray(_Bx79,2),o=_Bx80[0],l=_Bx80[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this570["#amount-slider"]?_this570["#amount-input"].value=_this570["#amount-slider"].value:t.target===_this570["#amount-input"]&&(_this570["#amount-slider"].value=_this570["#amount-input"].value);var _iterator1047=_createForOfIteratorHelper(o),_step1047;try{for(_iterator1047.s();!(_step1047=_iterator1047.n()).done;){var _t1539=_step1047.value;var _e1066=Lx(_t1539),_i1011=_e1066?Ox(_e1066):null;_i1011&&"contrast"===_i1011.name&&(_i1011.amount=_this570["#amount-input"].value,Ex(_e1066,_i1011,!0));}}catch(err){_iterator1047.e(err);}finally{_iterator1047.f();}}),this["#amount-box"].addEventListener("changeend",_i1012=function i(){_this570["#amount-box"].removeEventListener("change",e),_this570["#amount-box"].removeEventListener("changeend",_i1012),_this570.qb=!1;var _iterator1048=_createForOfIteratorHelper(l),_step1048;try{for(_iterator1048.s();!(_step1048=_iterator1048.n()).done;){var _t1540=_step1048.value;pi(_t1540,n);}}catch(err){_iterator1048.e(err);}finally{_iterator1048.f();}});}},{key:"qs",value:function qs(){if(!1===this.qb){var _t1541=this.Js.board,_e1067=Bx(_t1541.outermostSelectedElements,_t1541.selectedTextRange).map(function(t){return Lx(t);}).map(function(t){return t?Ox(t):null;}),_e1068=_toArray(_e1067),_i1013=_e1068[0],_s589=_e1068.slice(1);if(_i1013&&"contrast"===_i1013.name){var _t1542=!1;var _iterator1049=_createForOfIteratorHelper(_s589),_step1049;try{for(_iterator1049.s();!(_step1049=_iterator1049.n()).done;){var _e1069=_step1049.value;null!==_e1069&&"contrast"===_e1069.name&&_e1069.amount!==_i1013.amount&&(_t1542=!0);}}catch(err){_iterator1049.e(err);}finally{_iterator1049.f();}this["#amount-input"].mixed=_t1542,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1013.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1013.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return ib;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ib,"_shadowTemplate",Yi(_templateObject306()));_defineProperty(ib,"_shadowStyleSheet",Wi(_templateObject307()));customElements.define("bx-contrastfilterinspector",ib);var sb=/*#__PURE__*/function(_HTMLElement95){_inherits(sb,_HTMLElement95);var _super124=_createSuper(sb);function sb(){var _this571;_classCallCheck(this,sb);_this571=_super124.call(this),_this571.qb=!1,_this571.om=!1,_this571._a=Xi(_this571.qs,200,_assertThisInitialized(_this571)),_this571._shadowRoot=_this571.attachShadow({mode:"closed"}),_this571._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,sb._shadowStyleSheet],_this571._shadowRoot.append(document.importNode(sb._shadowTemplate.content,!0));var _iterator1050=_createForOfIteratorHelper(_this571._shadowRoot.querySelectorAll("[id]")),_step1050;try{for(_iterator1050.s();!(_step1050=_iterator1050.n()).done;){var _t1543=_step1050.value;_this571["#"+_t1543.id]=_t1543;}}catch(err){_iterator1050.e(err);}finally{_iterator1050.f();}_this571["#channels-buttons"].addEventListener("toggle",function(t){return _this571.lm(t);}),_this571["#amount-box"].addEventListener("changestart",function(t){return _this571.Zb(t);}),_this571["#saturation-box"].addEventListener("changestart",function(t){return _this571.hm(t);});return _this571;}_createClass(sb,[{key:"connectedCallback",value:function connectedCallback(){var _this572=this;this.Js=Ai(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this572._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this572._a();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"lm",value:function lm(t){this.Js.board.undoManager.checkpoint("Posterize channels");var _this$Js$board41=this.Js.board,e=_this$Js$board41.outermostSelectedElements,i=_this$Js$board41.selectedTextRange,_Bx81=Bx(e,i,!0),_Bx82=_slicedToArray(_Bx81,2),s=_Bx82[0],n=_Bx82[1];var _iterator1051=_createForOfIteratorHelper(s),_step1051;try{for(_iterator1051.s();!(_step1051=_iterator1051.n()).done;){var _t1544=_step1051.value;var _e1070=Lx(_t1544),_i1014=_e1070?Ox(_e1070):null;_i1014&&"posterize"===_i1014.name&&(_i1014.channels=this["#channels-buttons"].value,Ex(_e1070,_i1014,!0));}}catch(err){_iterator1051.e(err);}finally{_iterator1051.f();}}},{key:"Zb",value:function Zb(t){var _this573=this;var e,_i1016;this.Js.board.undoManager.checkpoint("Posterize amount"),this.qb=!0;var _this$Js$board42=this.Js.board,s=_this$Js$board42.outermostSelectedElements,n=_this$Js$board42.selectedTextRange,_Bx83=Bx(s,n,!0),_Bx84=_slicedToArray(_Bx83,2),o=_Bx84[0],l=_Bx84[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this573["#amount-slider"]?_this573["#amount-input"].value=_this573["#amount-slider"].value:t.target===_this573["#amount-input"]&&(_this573["#amount-slider"].value=_this573["#amount-input"].value);var _iterator1052=_createForOfIteratorHelper(o),_step1052;try{for(_iterator1052.s();!(_step1052=_iterator1052.n()).done;){var _t1545=_step1052.value;var _e1071=Lx(_t1545),_i1015=_e1071?Ox(_e1071):null;_i1015&&"posterize"===_i1015.name&&(_i1015.amount=_this573["#amount-input"].value,Ex(_e1071,_i1015,!0));}}catch(err){_iterator1052.e(err);}finally{_iterator1052.f();}}),this["#amount-box"].addEventListener("changeend",_i1016=function i(){_this573["#amount-box"].removeEventListener("change",e),_this573["#amount-box"].removeEventListener("changeend",_i1016),_this573.qb=!1;var _iterator1053=_createForOfIteratorHelper(l),_step1053;try{for(_iterator1053.s();!(_step1053=_iterator1053.n()).done;){var _t1546=_step1053.value;pi(_t1546,n);}}catch(err){_iterator1053.e(err);}finally{_iterator1053.f();}});}},{key:"hm",value:function hm(t){var _this574=this;var e,_i1018;this.Js.board.undoManager.checkpoint("Posterize saturation"),this.om=!0;var _this$Js$board43=this.Js.board,s=_this$Js$board43.outermostSelectedElements,n=_this$Js$board43.selectedTextRange,_Bx85=Bx(s,n,!0),_Bx86=_slicedToArray(_Bx85,2),o=_Bx86[0],l=_Bx86[1];this["#saturation-box"].addEventListener("change",e=function e(t){t.target===_this574["#saturation-slider"]?_this574["#saturation-input"].value=_this574["#saturation-slider"].value:t.target===_this574["#saturation-input"]&&(_this574["#saturation-slider"].value=_this574["#saturation-input"].value);var _iterator1054=_createForOfIteratorHelper(o),_step1054;try{for(_iterator1054.s();!(_step1054=_iterator1054.n()).done;){var _t1547=_step1054.value;var _e1072=Lx(_t1547),_i1017=_e1072?Ox(_e1072):null;_i1017&&"posterize"===_i1017.name&&(_i1017.saturation=_this574["#saturation-input"].value,Ex(_e1072,_i1017,!0));}}catch(err){_iterator1054.e(err);}finally{_iterator1054.f();}}),this["#saturation-box"].addEventListener("changeend",_i1018=function i(){_this574["#saturation-box"].removeEventListener("change",e),_this574["#saturation-box"].removeEventListener("changeend",_i1018),_this574.om=!1;var _iterator1055=_createForOfIteratorHelper(l),_step1055;try{for(_iterator1055.s();!(_step1055=_iterator1055.n()).done;){var _t1548=_step1055.value;pi(_t1548,n);}}catch(err){_iterator1055.e(err);}finally{_iterator1055.f();}});}},{key:"qs",value:function qs(){if(!1===this.qb&&!1===this.om){var _t1549=this.Js.board,_e1073=Bx(_t1549.outermostSelectedElements,_t1549.selectedTextRange).map(function(t){return Lx(t);}).map(function(t){return t?Ox(t):null;}),_e1074=_toArray(_e1073),_i1019=_e1074[0],_s590=_e1074.slice(1);if(_i1019&&"posterize"===_i1019.name){var _t1550=!1,_e1075=!1,_n420=!1;var _iterator1056=_createForOfIteratorHelper(_s590),_step1056;try{for(_iterator1056.s();!(_step1056=_iterator1056.n()).done;){var _o329=_step1056.value;null!==_o329&&"posterize"===_o329.name&&(!1===compareArrays(_o329.channels,_i1019.channels)&&(_t1550=!0),_o329.amount!==_i1019.amount&&(_e1075=!0),_o329.saturation!==_i1019.saturation&&(_n420=!0));}}catch(err){_iterator1056.e(err);}finally{_iterator1056.f();}this["#channels-buttons"].mixed=_t1550,this["#channels-buttons"].disabled=!1,this["#channels-buttons"].value=_i1019.channels,this["#amount-input"].mixed=_e1075,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1019.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1019.amount,this["#saturation-input"].mixed=_n420,this["#saturation-input"].disabled=!1,this["#saturation-input"].value=_i1019.saturation,this["#saturation-slider"].disabled=!1,this["#saturation-slider"].value=_i1019.saturation;}else this["#channels-buttons"].mixed=!1,this["#channels-buttons"].disabled=!0,this["#channels-buttons"].value=[],this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0,this["#saturation-input"].mixed=!1,this["#saturation-input"].disabled=!0,this["#saturation-input"].value=0,this["#saturation-slider"].disabled=!0,this["#saturation-slider"].value=0;}}}]);return sb;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(sb,"_shadowTemplate",Yi(_templateObject308()));_defineProperty(sb,"_shadowStyleSheet",Wi(_templateObject309()));customElements.define("bx-posterizefilterinspector",sb);var nb=/*#__PURE__*/function(_HTMLElement96){_inherits(nb,_HTMLElement96);var _super125=_createSuper(nb);function nb(){var _this575;_classCallCheck(this,nb);_this575=_super125.call(this),_this575.am=!1,_this575.rm=!1,_this575.dm=!1,_this575._a=Xi(_this575.qs,200,_assertThisInitialized(_this575)),_this575._shadowRoot=_this575.attachShadow({mode:"closed"}),_this575._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,nb._shadowStyleSheet],_this575._shadowRoot.append(document.importNode(nb._shadowTemplate.content,!0));var _iterator1057=_createForOfIteratorHelper(_this575._shadowRoot.querySelectorAll("[id]")),_step1057;try{for(_iterator1057.s();!(_step1057=_iterator1057.n()).done;){var _t1551=_step1057.value;_this575["#"+_t1551.id]=_t1551;}}catch(err){_iterator1057.e(err);}finally{_iterator1057.f();}_this575["#shadows-color-select"].addEventListener("changestart",function(){return _this575.pm();}),_this575["#highlights-color-select"].addEventListener("changestart",function(){return _this575.um();}),_this575["#gamma-box"].addEventListener("changestart",function(){return _this575.xm(event);});return _this575;}_createClass(nb,[{key:"connectedCallback",value:function connectedCallback(){var _this576=this;this.Js=Ai(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this576._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this576._a();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"pm",value:function pm(){var _this577=this;var t,_e1077;this.Js.board.undoManager.checkpoint("Duotone shadows color"),this.am=!0;var _this$Js$board44=this.Js.board,i=_this$Js$board44.outermostSelectedElements,s=_this$Js$board44.selectedTextRange,_Bx87=Bx(i,s,!0),_Bx88=_slicedToArray(_Bx87,2),n=_Bx88[0],o=_Bx88[1];this["#shadows-color-select"].addEventListener("change",t=function t(){var _iterator1058=_createForOfIteratorHelper(n),_step1058;try{for(_iterator1058.s();!(_step1058=_iterator1058.n()).done;){var _t1552=_step1058.value;var _e1076=Lx(_t1552),_i1020=_e1076?Ox(_e1076):null;_i1020&&"duotone"===_i1020.name&&(_i1020.shadowsColor=_this577["#shadows-color-select"].value,Ex(_e1076,_i1020,!0));}}catch(err){_iterator1058.e(err);}finally{_iterator1058.f();}}),this["#shadows-color-select"].addEventListener("changeend",_e1077=function e(){_this577["#shadows-color-select"].removeEventListener("change",t),_this577["#shadows-color-select"].removeEventListener("changeend",_e1077),_this577.am=!1;var _iterator1059=_createForOfIteratorHelper(o),_step1059;try{for(_iterator1059.s();!(_step1059=_iterator1059.n()).done;){var _t1553=_step1059.value;pi(_t1553,s);}}catch(err){_iterator1059.e(err);}finally{_iterator1059.f();}});}},{key:"um",value:function um(){var _this578=this;var t,_e1079;this.Js.board.undoManager.checkpoint("Duotone highlights color"),this.rm=!0;var _this$Js$board45=this.Js.board,i=_this$Js$board45.outermostSelectedElements,s=_this$Js$board45.selectedTextRange,_Bx89=Bx(i,s,!0),_Bx90=_slicedToArray(_Bx89,2),n=_Bx90[0],o=_Bx90[1];this["#highlights-color-select"].addEventListener("change",t=function t(){var _iterator1060=_createForOfIteratorHelper(n),_step1060;try{for(_iterator1060.s();!(_step1060=_iterator1060.n()).done;){var _t1554=_step1060.value;var _e1078=Lx(_t1554),_i1021=_e1078?Ox(_e1078):null;_i1021&&"duotone"===_i1021.name&&(_i1021.highlightsColor=_this578["#highlights-color-select"].value,Ex(_e1078,_i1021,!0));}}catch(err){_iterator1060.e(err);}finally{_iterator1060.f();}}),this["#highlights-color-select"].addEventListener("changeend",_e1079=function e(){_this578["#highlights-color-select"].removeEventListener("change",t),_this578["#highlights-color-select"].removeEventListener("changeend",_e1079),_this578.rm=!1;var _iterator1061=_createForOfIteratorHelper(o),_step1061;try{for(_iterator1061.s();!(_step1061=_iterator1061.n()).done;){var _t1555=_step1061.value;pi(_t1555,s);}}catch(err){_iterator1061.e(err);}finally{_iterator1061.f();}});}},{key:"xm",value:function xm(t){var _this579=this;var e,_i1023;this.Js.board.undoManager.checkpoint("Duotone gamma"),this.dm=!0;var _this$Js$board46=this.Js.board,s=_this$Js$board46.outermostSelectedElements,n=_this$Js$board46.selectedTextRange,_Bx91=Bx(s,n,!0),_Bx92=_slicedToArray(_Bx91,2),o=_Bx92[0],l=_Bx92[1];this["#gamma-box"].addEventListener("change",e=function e(t){t.target===_this579["#gamma-slider"]?_this579["#gamma-input"].value=_this579["#gamma-slider"].value:t.target===_this579["#gamma-input"]&&(_this579["#gamma-slider"].value=_this579["#gamma-input"].value);var _iterator1062=_createForOfIteratorHelper(o),_step1062;try{for(_iterator1062.s();!(_step1062=_iterator1062.n()).done;){var _t1556=_step1062.value;var _e1080=Lx(_t1556),_i1022=_e1080?Ox(_e1080):null;_i1022&&"duotone"===_i1022.name&&(_i1022.gamma=_this579["#gamma-input"].value,Ex(_e1080,_i1022,!0));}}catch(err){_iterator1062.e(err);}finally{_iterator1062.f();}}),this["#gamma-box"].addEventListener("changeend",_i1023=function i(){_this579["#gamma-box"].removeEventListener("change",e),_this579["#gamma-box"].removeEventListener("changeend",_i1023),_this579.dm=!1;var _iterator1063=_createForOfIteratorHelper(l),_step1063;try{for(_iterator1063.s();!(_step1063=_iterator1063.n()).done;){var _t1557=_step1063.value;pi(_t1557,n);}}catch(err){_iterator1063.e(err);}finally{_iterator1063.f();}});}},{key:"qs",value:function qs(){if(!this.am&&!this.rm&&!this.dm){var _t1558=this.Js.board,_e1081=Bx(_t1558.outermostSelectedElements,_t1558.selectedTextRange).map(function(t){return Lx(t);}).map(function(t){return t?Ox(t):null;}),_e1082=_toArray(_e1081),_i1024=_e1082[0],_s591=_e1082.slice(1);if(_i1024&&"duotone"===_i1024.name){var _t1559=!1;var _iterator1064=_createForOfIteratorHelper(_s591),_step1064;try{for(_iterator1064.s();!(_step1064=_iterator1064.n()).done;){var _e1083=_step1064.value;null!==_e1083&&"duotone"===_e1083.name&&_e1083.gamma!==_i1024.gamma&&(_t1559=!0);}}catch(err){_iterator1064.e(err);}finally{_iterator1064.f();}this["#shadows-color-select"].disabled=!1,this["#shadows-color-select"].value=_i1024.shadowsColor,this["#highlights-color-select"].disabled=!1,this["#highlights-color-select"].value=_i1024.highlightsColor,this["#gamma-input"].mixed=_t1559,this["#gamma-input"].disabled=!1,this["#gamma-input"].value=_i1024.gamma,this["#gamma-slider"].disabled=!1,this["#gamma-slider"].value=_i1024.gamma;}else this["#shadows-color-select"].disabled=!0,this["#shadows-color-select"].value="rgb(0,0,0)",this["#highlights-color-select"].disabled=!0,this["#highlights-color-select"].value="rgb(0,0,0)",this["#gamma-input"].mixed=!1,this["#gamma-input"].disabled=!0,this["#gamma-input"].value=0,this["#gamma-slider"].disabled=!0,this["#gamma-slider"].value=0;}}}]);return nb;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(nb,"_shadowTemplate",Yi(_templateObject310()));_defineProperty(nb,"_shadowStyleSheet",Wi(_templateObject311()));customElements.define("bx-duotonefilterinspector",nb);var ob=Number.parseFloat;var lb=/*#__PURE__*/function(_HTMLElement97){_inherits(lb,_HTMLElement97);var _super126=_createSuper(lb);_createClass(lb,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"#filter-settings",get:function get(){return this["#filter-settings-wrapper"].firstElementChild;}}]);function lb(){var _this580;_classCallCheck(this,lb);_this580=_super126.call(this),_this580._a=Xi(_this580.qs,200,_assertThisInitialized(_this580)),_this580.Wx=!1,_this580._shadowRoot=_this580.attachShadow({mode:"closed"}),_this580._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,lb._shadowStyleSheet],_this580._shadowRoot.append(document.importNode(lb._shadowTemplate.content,!0));var _iterator1065=_createForOfIteratorHelper(_this580._shadowRoot.querySelectorAll("[id]")),_step1065;try{for(_iterator1065.s();!(_step1065=_iterator1065.n()).done;){var _t1560=_step1065.value;_this580["#"+_t1560.id]=_t1560;}}catch(err){_iterator1065.e(err);}finally{_iterator1065.f();}_this580["#filter-select"].addEventListener("change",function(){return _this580.bm();}),_this580["#filter-convert-button"].addEventListener("click",function(){return _this580.gm();}),_this580["#filter-edit-button"].addEventListener("click",function(){return _this580.fm();}),_this580["#blend-mode-select"].addEventListener("change",function(){return _this580.wm();}),_this580["#isolation-checkbox"].addEventListener("toggle",function(){return _this580.vm();}),_this580["#opacity-box"].addEventListener("changestart",function(t){return _this580.qx(t);}),_this580["#clip-button"].addEventListener("toggle",function(){return _this580.ym();}),_this580["#mask-button"].addEventListener("toggle",function(){return _this580.km();});return _this580;}_createClass(lb,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this581=this;var t=this.Js.board;this.qs(),t.addEventListener("selectedelementschange",this.Qo=function(){_this581.Jo();}),t.addEventListener("selectedtextrangechange",this.Wh=function(){_this581.qh();}),t.addEventListener("workspacemutation",this.rn=function(t){_this581.sl(t.detail);});}},{key:"sn",value:function sn(){var t=this.Js.board;this["#filter-select"].enabled=!1,this.Sm(null),t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("selectedtextrangechange",this.Wh),t.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){this._a();}},{key:"qh",value:function qh(){this._a();}},{key:"sl",value:function sl(t){this._a();}},{key:"bm",value:function bm(){var t=this.Js.board;if(this.Js.board.undoManager.checkpoint("Apply filter"),"none"===this["#filter-select"].value){var _iterator1066=_createForOfIteratorHelper(this._m()),_step1066;try{for(_iterator1066.s();!(_step1066=_iterator1066.n()).done;){var _t1561=_step1066.value;_t1561.style.filter="none";}}catch(err){_iterator1066.e(err);}finally{_iterator1066.f();}}else if(this["#filter-select"].value.startsWith("#")){var _t1562=this.Js.board.masterWorkspace.querySelector(this["#filter-select"].value),_e1084=this._m(),_i1025=this.Js.board.selectedTextRange;var _iterator1067=_createForOfIteratorHelper(_e1084),_step1067;try{for(_iterator1067.s();!(_step1067=_iterator1067.n()).done;){var _s592=_step1067.value;if("text"===_s592.localName&&_i1025&&_s592.contains(_i1025.commonAncestorContainer)){ci(_s592,_i1025);var _e1085=_s592.querySelectorAll("tspan"),_n421=ui(_i1025,_s592),_o330=_i1025.collapsed?_e1085:_n421;var _iterator1068=_createForOfIteratorHelper(_o330),_step1068;try{for(_iterator1068.s();!(_step1068=_iterator1068.n()).done;){var _e1086=_step1068.value;_e1086.style.setProperty("filter","url(#".concat(_t1562.id,")"));}}catch(err){_iterator1068.e(err);}finally{_iterator1068.f();}pi(_s592,_i1025);}else _s592.style.setProperty("filter","url(#".concat(_t1562.id,")")),ya("filter",_s592);}}catch(err){_iterator1067.e(err);}finally{_iterator1067.f();}_e1084.find(function(t){return"image"===t.localName;})&&(_t1562.previousElementSibling?_t1562.previousElementSibling.after(_t1562):_t1562.nextElementSibling?_t1562.nextElementSibling.before(_t1562):_t1562.parentElement.append(_t1562));}else{var _e1087=zi("svg:filter"),_i1026=zx(this["#filter-select"].value),_s593=this.Js.board.selectedTextRange;_e1087.id=t.generateUniqueID("".concat(_i1026.name,"-filter")),Ex(_e1087,_i1026),t.defs.append(_e1087);var _iterator1069=_createForOfIteratorHelper(this._m()),_step1069;try{for(_iterator1069.s();!(_step1069=_iterator1069.n()).done;){var _t1563=_step1069.value;if("text"===_t1563.localName&&_s593&&_t1563.contains(_s593.commonAncestorContainer)){ci(_t1563,_s593);var _i1027=_t1563.querySelectorAll("tspan"),_n422=ui(_s593,_t1563),_o331=_s593.collapsed?_i1027:_n422;var _iterator1070=_createForOfIteratorHelper(_o331),_step1070;try{for(_iterator1070.s();!(_step1070=_iterator1070.n()).done;){var _t1564=_step1070.value;_t1564.style.setProperty("filter","url(#".concat(_e1087.id,")"));}}catch(err){_iterator1070.e(err);}finally{_iterator1070.f();}pi(_t1563,_s593);}else _t1563.style.setProperty("filter","url(#".concat(_e1087.id,")")),ya("filter",_t1563);}}catch(err){_iterator1069.e(err);}finally{_iterator1069.f();}}this.Js.board.collectGarbage();}},{key:"gm",value:function gm(){var t=this["#filter-select"].value,e=[];var _iterator1071=_createForOfIteratorHelper(this.Js.board.selectedObjectElements),_step1071;try{for(_iterator1071.s();!(_step1071=_iterator1071.n()).done;){var _i1029=_step1071.value;var _s594=no.fromString(getComputedStyle(_i1029).filter);if(_s594&&"#"===_s594.value[0]){var _i1030=this.Js.board.masterWorkspace.querySelector(_s594.value),_n423=Ox(_i1030);_n423&&_n423.name===t&&e.push(_i1030);}}}catch(err){_iterator1071.e(err);}finally{_iterator1071.f();}if(e.length>0){this.Js.board.undoManager.checkpoint("Convert to custom filter");var _iterator1072=_createForOfIteratorHelper(e),_step1072;try{for(_iterator1072.s();!(_step1072=_iterator1072.n()).done;){var _i1028=_step1072.value;{var _e1088=_i1028.querySelector(":scope > title");_e1088||(_e1088=zi("svg:bx-title"),_i1028.prepend(_e1088)),_e1088.textContent=u[t];}_i1028.removeAttribute("data-bx-preset");}}catch(err){_iterator1072.e(err);}finally{_iterator1072.f();}}}},{key:"fm",value:function fm(){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.editFilter(this["#filter-select"].value.substring(1));}},{key:"wm",value:function wm(){this.Js.board.undoManager.checkpoint("Blend mode");var t=this.Js.board.selectedTextRange,e=this["#blend-mode-select"].value;var _iterator1073=_createForOfIteratorHelper(this._m()),_step1073;try{for(_iterator1073.s();!(_step1073=_iterator1073.n()).done;){var _i1031=_step1073.value;if("text"===_i1031.localName&&t&&_i1031.contains(t.commonAncestorContainer)){ci(_i1031,t);var _s595=_i1031.querySelectorAll("tspan"),_n424=ui(t,_i1031),_o332=t.collapsed?_s595:_n424;var _iterator1074=_createForOfIteratorHelper(_o332),_step1074;try{for(_iterator1074.s();!(_step1074=_iterator1074.n()).done;){var _t1565=_step1074.value;_t1565.style.setProperty("mix-blend-mode",e);}}catch(err){_iterator1074.e(err);}finally{_iterator1074.f();}pi(_i1031,t);}else _i1031.style.setProperty("mix-blend-mode",e),ya("mix-blend-mode",_i1031);}}catch(err){_iterator1073.e(err);}finally{_iterator1073.f();}}},{key:"vm",value:function vm(){this.Js.board.undoManager.checkpoint("Isolate");var t=this.Js.board.selectedTextRange,e=this["#isolation-checkbox"].toggled?"isolate":"auto";var _iterator1075=_createForOfIteratorHelper(this._m()),_step1075;try{for(_iterator1075.s();!(_step1075=_iterator1075.n()).done;){var _i1032=_step1075.value;if("text"===_i1032.localName&&t&&_i1032.contains(t.commonAncestorContainer)){ci(_i1032,t);var _s596=_i1032.querySelectorAll("tspan"),_n425=ui(t,_i1032),_o333=t.collapsed?_s596:_n425;var _iterator1076=_createForOfIteratorHelper(_o333),_step1076;try{for(_iterator1076.s();!(_step1076=_iterator1076.n()).done;){var _t1566=_step1076.value;_t1566.style.setProperty("isolation",e);}}catch(err){_iterator1076.e(err);}finally{_iterator1076.f();}pi(_i1032,t);}else _i1032.style.setProperty("isolation",e),ya("isolation",_i1032);}}catch(err){_iterator1075.e(err);}finally{_iterator1075.f();}}},{key:"qx",value:function qx(){var _this582=this;this.Js.board.undoManager.checkpoint("Opacity");var t,_e1089,i=this._m(),s=this.Js.board.selectedTextRange,n=[],o=[];var _iterator1077=_createForOfIteratorHelper(i),_step1077;try{for(_iterator1077.s();!(_step1077=_iterator1077.n()).done;){var _t1571=_step1077.value;if("text"===_t1571.localName&&s&&_t1571.contains(s.commonAncestorContainer)){ci(_t1571,s),n.push(_t1571);var _e1090=_t1571.querySelectorAll("tspan"),_i1033=ui(s,_t1571),_l282=s.collapsed?_e1090:_i1033;o.push.apply(o,_toConsumableArray(_l282));}else o.push(_t1571);}}catch(err){_iterator1077.e(err);}finally{_iterator1077.f();}this.Wx=!0,this["#opacity-section"].addEventListener("change",t=function t(_t1568){_t1568.target===_this582["#opacity-slider"]?_this582["#opacity-input"].value=_this582["#opacity-slider"].value:_t1568.target===_this582["#opacity-input"]&&(_this582["#opacity-slider"].value=_this582["#opacity-input"].value),_this582["#opacity-slider"].mixed=!1,_this582["#opacity-input"].mixed=!1;var _iterator1078=_createForOfIteratorHelper(o),_step1078;try{for(_iterator1078.s();!(_step1078=_iterator1078.n()).done;){var _t1567=_step1078.value;_t1567.style.setProperty("opacity",_this582["#opacity-slider"].value);}}catch(err){_iterator1078.e(err);}finally{_iterator1078.f();}}),this["#opacity-section"].addEventListener("changeend",_e1089=function e(){_this582["#opacity-section"].removeEventListener("change",t),_this582["#opacity-section"].removeEventListener("changeend",_e1089),_this582.Wx=!1;var _iterator1079=_createForOfIteratorHelper(o),_step1079;try{for(_iterator1079.s();!(_step1079=_iterator1079.n()).done;){var _t1569=_step1079.value;ya("opacity",_t1569);}}catch(err){_iterator1079.e(err);}finally{_iterator1079.f();}var _iterator1080=_createForOfIteratorHelper(n),_step1080;try{for(_iterator1080.s();!(_step1080=_iterator1080.n()).done;){var _t1570=_step1080.value;pi(_t1570,s);}}catch(err){_iterator1080.e(err);}finally{_iterator1080.f();}});}},{key:"ym",value:function ym(){this["#clip-button"].toggled?this.Qs.execCommand("clip"):this.Qs.execCommand("unclip");}},{key:"km",value:function km(){this["#mask-button"].toggled?this.Qs.execCommand("mask"):this.Qs.execCommand("unmask");}},{key:"Sm",value:function Sm(t){var e=this["#filter-settings-wrapper"].firstElementChild;if(t!==(e?e.dataset.name:null)){var _e1091="";"drop-shadow"===t?_e1091='<bx-dropshadowfilterinspector data-name="drop-shadow"/>':"inner-shadow"===t?_e1091='<bx-innershadowfilterinspector data-name="inner-shadow"/>':"point-light"===t?_e1091='<bx-pointlightfilterinspector data-name="point-light"/>':"spot-light"===t?_e1091='<bx-spotlightfilterinspector data-name="spot-light"/>':"outline"===t?_e1091='<bx-outlinefilterinspector data-name="outline"/>':"gaussian-blur"===t?_e1091='<bx-gaussianblurfilterinspector data-name="gaussian-blur"/>':"motion-blur"===t?_e1091='<bx-motionblurfilterinspector data-name="motion-blur"/>':"warp"===t?_e1091='<bx-warpfilterinspector data-name="warp"/>':"pixelete"===t?_e1091='<bx-pixeletefilterinspector data-name="pixelete"/>':"morphology"===t?_e1091='<bx-morphologyfilterinspector data-name="morphology"/>':"black-and-white"===t?_e1091='<bx-blackandwhitefilterinspector data-name="black-and-white"/>':"grayscale"===t?_e1091='<bx-grayscalefilterinspector data-name="grayscale"/>':"sepia"===t?_e1091='<bx-sepiafilterinspector data-name="sepia"/>':"saturate"===t?_e1091='<bx-saturatefilterinspector data-name="saturate"/>':"hue-rotate"===t?_e1091='<bx-huerotatefilterinspector data-name="hue-rotate"/>':"invert"===t?_e1091='<bx-invertfilterinspector data-name="invert"/>':"brightness"===t?_e1091='<bx-brightnessfilterinspector data-name="brightness"/>':"contrast"===t?_e1091='<bx-contrastfilterinspector data-name="contrast"/>':"posterize"===t?_e1091='<bx-posterizefilterinspector data-name="posterize"/>':"duotone"===t?_e1091='<bx-duotonefilterinspector data-name="duotone"/>':"x-ray"===t&&(_e1091=""),this["#filter-settings-wrapper"].innerHTML=_e1091;}}},{key:"_m",value:function _m(){var t=[];var _iterator1081=_createForOfIteratorHelper(this.Js.board.outermostSelectedElements),_step1081;try{for(_iterator1081.s();!(_step1081=_iterator1081.n()).done;){var _e1092=_step1081.value;D.includes(_e1092.localName)&&t.push(_e1092);}}catch(err){_iterator1081.e(err);}finally{_iterator1081.f();}return t;}},{key:"qs",value:function qs(){var t=[],e=Symbol();var _iterator1082=_createForOfIteratorHelper(this._m()),_step1082;try{for(_iterator1082.s();!(_step1082=_iterator1082.n()).done;){var _e1096=_step1082.value;if("text"===_e1096.localName){var _i1041=this.Js.board.selectedTextRange;if(_i1041&&_i1041.intersectsNode(_e1096)){var _s602=bi(_e1096);"backward"===_i1041.direction&&_s602.reverse();var _iterator1086=_createForOfIteratorHelper(_s602),_step1086;try{for(_iterator1086.s();!(_step1086=_iterator1086.n()).done;){var _e1097=_step1086.value;_i1041.intersectsNode(_e1097)&&(t.includes(_e1097.parentElement)||t.push(_e1097.parentElement));}}catch(err){_iterator1086.e(err);}finally{_iterator1086.f();}}else t.push(_e1096);}else t.push(_e1096);}}catch(err){_iterator1082.e(err);}finally{_iterator1082.f();}for(var _i1034=0,_t1572=t;_i1034<_t1572.length;_i1034++){var _i1035=_t1572[_i1034];_i1035[e]=getComputedStyle(_i1035);}if(this["#panel-heading"].disabled=0===t.length,0===t.length)this["#filter-section-heading"].disabled=!0,this["#filter-select"].value="none",this["#filter-select"].enabled=!1,this["#filter-select"].mixed=!1,this["#filter-convert-button"].hidden=!0,this["#filter-edit-button"].hidden=!0,this["#filter-settings-wrapper"].innerHTML="";else{var _e1093=t.map(function(t){return Lx(t);}),_e1094=_toArray(_e1093),_i1036=_e1094[0],_s597=_e1094.slice(1),_e1093$map=_e1093.map(function(t){return t?Ox(t):null;}),_e1093$map2=_toArray(_e1093$map),_n426=_e1093$map2[0],_o334=_e1093$map2.slice(1),_l283=!1;!!_i1036&&getComputedStyle(_i1036).display;var _iterator1083=_createForOfIteratorHelper(_o334),_step1083;try{for(_iterator1083.s();!(_step1083=_iterator1083.n()).done;){var _t1573=_step1083.value;if(null===_n426){if(null!==_t1573){_l283=!0;break;}}else if(null===_t1573||_t1573.name!==_n426.name){_l283=!0;break;}}}catch(err){_iterator1083.e(err);}finally{_iterator1083.f();}_n426?(this["#filter-section-heading"].disabled=!1,this["#filter-select"].value=_n426.name,this["#filter-select"].enabled=!0,this["#filter-select"].mixed=_l283,this["#filter-convert-button"].hidden=!1,this["#filter-edit-button"].hidden=!0,this.Sm(_n426.name)):_i1036?(this["#filter-section-heading"].disabled=!1,this["#filter-select"].value="#"+_i1036.id,this["#filter-select"].enabled=!0,this["#filter-select"].mixed=_l283,this["#filter-convert-button"].hidden=!0,this["#filter-edit-button"].hidden=!1,this.Sm(null)):(this["#filter-section-heading"].disabled=!1,this["#filter-select"].value="none",this["#filter-select"].enabled=!0,this["#filter-select"].mixed=_l283,this["#filter-convert-button"].hidden=!0,this["#filter-edit-button"].hidden=!0,this.Sm(null));}{var _i1037=t[0],_s598=t.slice(1);if(_i1037){var _t1574=_i1037[e],_n427=_t1574.getPropertyValue("mix-blend-mode"),_o335=_t1574.getPropertyValue("isolation"),_l284=!1,_h216=!1;var _iterator1084=_createForOfIteratorHelper(_s598),_step1084;try{for(_iterator1084.s();!(_step1084=_iterator1084.n()).done;){var _t1575=_step1084.value;var _i1038=_t1575[e],_s599=_i1038.getPropertyValue("mix-blend-mode"),_a171=_i1038.getPropertyValue("isolation");_s599!==_n427&&(_l284=!0),_a171!==_o335&&(_h216=!0);}}catch(err){_iterator1084.e(err);}finally{_iterator1084.f();}this["#blend-mode-section-heading"].disabled=!1,this["#blend-mode-select"].value=_i1037[e].getPropertyValue("mix-blend-mode"),this["#blend-mode-select"].disabled=!1,this["#blend-mode-select"].mixed=_l284,this["#isolation-checkbox"].toggled="isolate"===_o335,this["#isolation-checkbox"].disabled=!1,this["#isolation-checkbox"].mixed=_h216,this["#isolation-label"].disabled=!1;}else this["#blend-mode-section-heading"].disabled=!0,this["#blend-mode-select"].value="normal",this["#blend-mode-select"].disabled=!0,this["#blend-mode-select"].mixed=!1,this["#isolation-checkbox"].disabled=!0,this["#isolation-checkbox"].toggled=!1,this["#isolation-checkbox"].mixed=!1,this["#isolation-label"].disabled=!0;}if(!1===this.Wx){var _i1039=t[0],_s600=t.slice(1),_n428=_i1039?Z(ob(_i1039[e].opacity),2):1,_o336=!1;var _iterator1085=_createForOfIteratorHelper(_s600),_step1085;try{for(_iterator1085.s();!(_step1085=_iterator1085.n()).done;){var _t1576=_step1085.value;(_t1576?Z(ob(_t1576[e].opacity),2):1)!==_n428&&(_o336=!0);}}catch(err){_iterator1085.e(err);}finally{_iterator1085.f();}_i1039?(this["#opacity-section-heading"].disabled=!1,this["#opacity-slider"].value=_n428,this["#opacity-slider"].disabled=!1,this["#opacity-slider"].mixed=_o336,this["#opacity-input"].value=_n428,this["#opacity-input"].disabled=!1,this["#opacity-input"].mixed=_o336):(this["#opacity-section-heading"].disabled=!0,this["#opacity-slider"].value=1,this["#opacity-slider"].disabled=!0,this["#opacity-slider"].mixed=!1,this["#opacity-input"].value=1,this["#opacity-input"].disabled=!0,this["#opacity-input"].mixed=!1);}{var _t1577=this.Qs.isCommandEnabled("clip"),_e1095=this.Qs.isCommandEnabled("unclip"),_i1040=this.Qs.isCommandEnabled("mask"),_s601=this.Qs.isCommandEnabled("unmask");this["#clip-button"].toggled=!0===_e1095,this["#clip-button"].disabled=!1===_t1577&&!1===_e1095,this["#mask-button"].toggled=!0===_s601,this["#mask-button"].disabled=!1===_i1040&&!1===_s601,this["#cover-section-heading"].disabled=this["#clip-button"].disabled&&this["#mask-button"].disabled;}}}]);return lb;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(lb,"observedAttributes",["enabled"]);_defineProperty(lb,"_shadowTemplate",Yi(_templateObject312()));_defineProperty(lb,"_shadowStyleSheet",Wi(_templateObject313()));customElements.define("bx-compositingpanel",lb);var hb=/*#__PURE__*/function(_HTMLElement98){_inherits(hb,_HTMLElement98);var _super127=_createSuper(hb);_createClass(hb,[{key:"value",get:function get(){return this._t;},set:function set(t){t!==this._t&&(this._t=t,this.$u());}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function hb(){var _this583;_classCallCheck(this,hb);_this583=_super127.call(this),_this583.tabIndex=0,_this583._t=null,_this583.Zx=Zi(_this583.Kx,600,_assertThisInitialized(_this583)),_this583._shadowRoot=_this583.attachShadow({mode:"closed"}),_this583._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,hb._shadowStyleSheet],_this583._shadowRoot.append(document.importNode(hb._shadowTemplate.content,!0));var _iterator1087=_createForOfIteratorHelper(_this583._shadowRoot.querySelectorAll("[id]")),_step1087;try{for(_iterator1087.s();!(_step1087=_iterator1087.n()).done;){var _t1578=_step1087.value;_this583["#"+_t1578.id]=_t1578;}}catch(err){_iterator1087.e(err);}finally{_iterator1087.f();}_this583.addEventListener("keydown",function(t){return _this583.vn(t);}),_this583["#items"].addEventListener("pointerdown",function(t){return _this583.Qc(t);}),_this583["#sort-select"].addEventListener("change",function(){return _this583.Cm();}),_this583["#filter-input"].addEventListener("input",function(){return _this583.Mm();}),_this583["#manage-button"].addEventListener("click",function(){return _this583.Du();}),_this583.enabled&&_this583.tn();return _this583;}_createClass(hb,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");}},{key:"tn",value:function tn(){this.Pm=this.Qs.getConfig("bx-fontfamilypicker:sort","alphabetical"),this["#sort-select"].value=this.Pm,this.qs(),this.Mu();}},{key:"sn",value:function sn(){}},{key:"Qc",value:function Qc(t){t.target.closest(".item")&&this.Dm(t);}},{key:"Dm",value:function Dm(t){this["#embedded-items"].children,this["#google-fonts-items"].children;var e=t.target.closest(".item").getAttribute("data-family");e!==this.value&&(this.value=e,this.dispatchEvent(new CustomEvent("change")));}},{key:"Cm",value:function(){var _Cm=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee106(){return regeneratorRuntime.wrap(function _callee106$(_context107){while(1){switch(_context107.prev=_context107.next){case 0:this.Qs.setConfig("bx-fontfamilypicker:sort",this["#sort-select"].value);this.Pm=this["#sort-select"].value;_context107.next=4;return this.zm();case 4:this.$u();this.Om();this.Em();case 7:case"end":return _context107.stop();}}},_callee106,this);}));function Cm(){return _Cm.apply(this,arguments);}return Cm;}()},{key:"Mm",value:function Mm(){this.Om(),this.Em();}},{key:"Du",value:function Du(){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("fonts-browser");}},{key:"vn",value:function vn(t){var e=eo.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Bu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Ru());}},{key:"Bu",value:function Bu(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item:not([hidden])")),e=this["#items"].querySelector(".item[data-selected]");if(e){var _i1042=t.indexOf(e),_s603=t[_i1042-1];_s603&&(_s603.scrollIntoViewIfNeeded(),this.value=_s603.getAttribute("data-family"),this.Zx());}}},{key:"Ru",value:function Ru(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item:not([hidden])")),e=this["#items"].querySelector(".item[data-selected]");if(e){var _i1043=t.indexOf(e),_s604=t[_i1043+1];_s604&&(_s604.scrollIntoViewIfNeeded(),this.value=_s604.getAttribute("data-family"),this.Zx());}}},{key:"Mu",value:function Mu(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"Kx",value:function Kx(){this.dispatchEvent(new CustomEvent("change"));}},{key:"qs",value:function(){var _qs=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee107(){return regeneratorRuntime.wrap(function _callee107$(_context108){while(1){switch(_context108.prev=_context108.next){case 0:this.Tm();_context108.next=3;return this.zm();case 3:this.$u();this.Om();this.Em();case 6:case"end":return _context108.stop();}}},_callee107,this);}));function qs(){return _qs.apply(this,arguments);}return qs;}()},{key:"Tm",value:function Tm(){var t=document.createDocumentFragment(),e=this.Js.board.fontsManager.getFamilies();var _iterator1088=_createForOfIteratorHelper(e),_step1088;try{for(_iterator1088.s();!(_step1088=_iterator1088.n()).done;){var _i1044=_step1088.value;var _e1098=Yi(_templateObject21(),_i1044,_i1044,_i1044);t.append(_e1098);}}catch(err){_iterator1088.e(err);}finally{_iterator1088.f();}this["#embedded-items"].innerHTML="",this["#embedded-items"].append(t);}},{key:"zm",value:function(){var _zm=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee111(){var _this584=this;return regeneratorRuntime.wrap(function _callee111$(_context112){while(1){switch(_context112.prev=_context112.next){case 0:return _context112.abrupt("return",new Promise(/*#__PURE__*/function(){var _ref132=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee110(t){var _t1579,_e1099,_i1045,_iterator1089,_step1089,_s605,_e1101;return regeneratorRuntime.wrap(function _callee110$(_context111){while(1){switch(_context111.prev=_context111.next){case 0:if(!(0===_this584["#google-fonts-items"].children.length||_this584["#google-fonts-items"].getAttribute("data-sort")!==_this584.Pm)){_context111.next=11;break;}_t1579=document.createDocumentFragment();_context111.next=4;return function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"alphabetical";return new Promise(/*#__PURE__*/function(){var _ref133=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee108(e){var i;return regeneratorRuntime.wrap(function _callee108$(_context109){while(1){switch(_context109.prev=_context109.next){case 0:_context109.next=2;return Sr();case 2:i=_context109.sent;"alphabetical"===t?e(i.items.map(function(t){return t.family;})):"popularity"!==t&&"trending"!==t&&"date"!==t||e(i.sortedFamilies[t]);case 4:case"end":return _context109.stop();}}},_callee108);}));return function(_x130){return _ref133.apply(this,arguments);};}());}(_this584.Pm);case 4:_e1099=_context111.sent;_context111.next=7;return new Promise(/*#__PURE__*/function(){var _ref134=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee109(t){var _e1100,_i1046;return regeneratorRuntime.wrap(function _callee109$(_context110){while(1){switch(_context110.prev=_context110.next){case 0:if(!kr){_context110.next=4;break;}t(kr);_context110.next=11;break;case 4:_context110.next=6;return fetch("metadata/fonts/google-fonts-thumbnails.json");case 6:_e1100=_context110.sent;_context110.next=9;return _e1100.json();case 9:_i1046=_context110.sent;kr=_i1046,t(_i1046);case 11:case"end":return _context110.stop();}}},_callee109);}));return function(_x131){return _ref134.apply(this,arguments);};}());case 7:_i1045=_context111.sent;_iterator1089=_createForOfIteratorHelper(_e1099);try{for(_iterator1089.s();!(_step1089=_iterator1089.n()).done;){_s605=_step1089.value;_e1101=Yi(_templateObject22(),_s605,_i1045[_s605]);_t1579.append(_e1101);}}catch(err){_iterator1089.e(err);}finally{_iterator1089.f();}_this584["#google-fonts-items"].innerHTML="",_this584["#google-fonts-items"].append(_t1579),_this584["#google-fonts-items"].setAttribute("data-sort",_this584.Pm);case 11:t();case 12:case"end":return _context111.stop();}}},_callee110);}));return function(_x129){return _ref132.apply(this,arguments);};}()));case 1:case"end":return _context112.stop();}}},_callee111);}));function zm(){return _zm.apply(this,arguments);}return zm;}()},{key:"$u",value:function $u(){var t=this["#items"].querySelector(".item[data-selected]"),e=this["#items"].querySelector(".item[data-family=\"".concat(this.value,"\"]"));t!==e&&(t&&(t.removeAttribute("data-selected"),"img"===t.firstElementChild.localName&&t.firstElementChild.part.remove("selected-thumbnail")),e&&(e.setAttribute("data-selected",""),"img"===e.firstElementChild.localName&&e.firstElementChild.part.add("selected-thumbnail")));}},{key:"Om",value:function Om(){var t=this["#filter-input"].value,e=this["#embedded-items"].children,i=this["#google-fonts-items"].children,s=[];var _iterator1090=_createForOfIteratorHelper(e),_step1090;try{for(_iterator1090.s();!(_step1090=_iterator1090.n()).done;){var _i1047=_step1090.value;var _e1102=_i1047.getAttribute("data-family");_i1047.hidden=!1===_e1102.toLowerCase().startsWith(t.toLowerCase()),s.push(_e1102);}}catch(err){_iterator1090.e(err);}finally{_iterator1090.f();}var _iterator1091=_createForOfIteratorHelper(i),_step1091;try{for(_iterator1091.s();!(_step1091=_iterator1091.n()).done;){var _e1103=_step1091.value;var _i1048=_e1103.getAttribute("data-family");_e1103.hidden=!_i1048.toLowerCase().startsWith(t.toLowerCase())||s.includes(_i1048);}}catch(err){_iterator1091.e(err);}finally{_iterator1091.f();}}},{key:"Em",value:function Em(){var t=null===this["#embedded-items"].querySelector(".item:not([hidden])"),e=null===this["#google-fonts-items"].querySelector(".item:not([hidden])");this["#embedded-items-placeholder"].hidden=!t,this["#google-fonts-items-placeholder"].hidden=!e;}}]);return hb;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(hb,"observedAttributes",["enabled"]);_defineProperty(hb,"_shadowTemplate",Yi(_templateObject314()));_defineProperty(hb,"_shadowStyleSheet",Wi(_templateObject315()));customElements.define("bx-fontfamilypicker",hb);var ab=Math.abs,rb=Number.parseFloat,db=Object.entries;var cb=/*#__PURE__*/function(_HTMLElement99){_inherits(cb,_HTMLElement99);var _super128=_createSuper(cb);_createClass(cb,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function cb(){var _this585;_classCallCheck(this,cb);_this585=_super128.call(this),_this585._a=Xi(_this585.qs,200,_assertThisInitialized(_this585)),_this585.Am=!1,_this585.$m=!1,_this585.Im=!1,_this585.Lm=!1,_this585.Bm=!1,_this585.Rm=!1,_this585._shadowRoot=_this585.attachShadow({mode:"closed"}),_this585._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,cb._shadowStyleSheet],_this585._shadowRoot.append(document.importNode(cb._shadowTemplate.content,!0));var _iterator1092=_createForOfIteratorHelper(_this585._shadowRoot.querySelectorAll("[id]")),_step1092;try{for(_iterator1092.s();!(_step1092=_iterator1092.n()).done;){var _t1580=_step1092.value;_this585["#"+_t1580.id]=_t1580;}}catch(err){_iterator1092.e(err);}finally{_iterator1092.f();}_this585["#font-family-popover"].addEventListener("open",function(){return _this585.Gm();}),_this585["#font-family-popover"].addEventListener("close",function(){return _this585.Fm();}),_this585["#font-family-picker"].addEventListener("change",function(){return _this585.Um();}),_this585["#font-weight-select"].addEventListener("change",function(){return _this585.Nm();}),_this585["#font-style-button"].addEventListener("toggle",function(){return _this585.Vm();}),_this585["#font-size-box"].addEventListener("changestart",function(){return _this585.jm();}),_this585["#text-decoration-buttons"].addEventListener("toggle",function(t){return _this585.Hm(t);}),_this585["#text-transform-buttons"].addEventListener("toggle",function(t){return _this585.Ym(t);}),_this585["#text-anchor-buttons"].addEventListener("toggle",function(){return _this585.Wm();}),_this585["#text-on-path-button"].addEventListener("toggle",function(){return _this585.qm();}),_this585["#path-start-offset-slider"].addEventListener("changestart",function(){return _this585.Xm();}),_this585["#path-start-offset-input"].addEventListener("changestart",function(){return _this585.Xm();}),_this585["#letter-spacing-slider"].addEventListener("changestart",function(){return _this585.Zm();}),_this585["#letter-spacing-input"].addEventListener("changestart",function(){return _this585.Zm();}),_this585["#word-spacing-slider"].addEventListener("changestart",function(){return _this585.Km();}),_this585["#word-spacing-input"].addEventListener("changestart",function(){return _this585.Km();}),_this585["#line-spacing-slider"].addEventListener("changestart",function(){return _this585.Qm();}),_this585["#line-spacing-input"].addEventListener("changestart",function(){return _this585.Qm();});return _this585;}_createClass(cb,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this.Ou=Ai(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this586=this;this.qs();var t=this.Js.board;this["#font-family-picker"].enabled=!0,this["#font-family-popover"].style.width=this["#font-family-button"].clientWidth+"px",t.addEventListener("selectedelementschange",this.Qo=function(){_this586.Jo();}),t.addEventListener("selectedtextrangechange",this.Wh=function(){_this586.qh();}),t.addEventListener("workspacemutation",this.rn=function(t){_this586.sl(t.detail);}),this.Ou.addEventListener("resize",this.Eu=function(){_this586.Tu();});}},{key:"sn",value:function sn(){var t=this.Js.board;this["#font-family-button"].collapse(),t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("selectedtextrangechange",this.Wh),t.removeEventListener("workspacemutation",this.rn),this.Ou.removeEventListener("resize",this.Eu);}},{key:"Jo",value:function Jo(){this._a();}},{key:"qh",value:function qh(){this._a();}},{key:"sl",value:function sl(t){this._a();}},{key:"Tu",value:function Tu(){this["#font-family-popover"].style.width=this["#font-family-button"].clientWidth+"px";}},{key:"Gm",value:function(){var _Gm=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee112(){return regeneratorRuntime.wrap(function _callee112$(_context113){while(1){switch(_context113.prev=_context113.next){case 0:this["#font-family-picker"].enabled=!0;_context113.next=3;return Qi(10);case 3:this["#font-family-picker"].focus();case 4:case"end":return _context113.stop();}}},_callee112,this);}));function Gm(){return _Gm.apply(this,arguments);}return Gm;}()},{key:"Fm",value:function(){var _Fm=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee113(){return regeneratorRuntime.wrap(function _callee113$(_context114){while(1){switch(_context114.prev=_context114.next){case 0:this["#font-family-picker"].enabled=!1;_context114.next=3;return Qi(200);case 3:this.Js.board.collectGarbage();"bx-chromeapp"!==this.Qs.localName&&this.Js.board.fontsManager.embedLinkedFonts();case 5:case"end":return _context114.stop();}}},_callee113,this);}));function Fm(){return _Fm.apply(this,arguments);}return Fm;}()},{key:"Um",value:function(){var _Um=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee114(){var t,e,i,s,_t1581,_iterator1093,_step1093,_step1093$value,_i1049,_n429,_t1582,_o337,_e1104,_i1050,_l285,_t1583,_i1051,_iterator1094,_step1094,_s606,_t1584,_n430,_o338,_iterator1095,_step1095,_t1585;return regeneratorRuntime.wrap(function _callee114$(_context115){while(1){switch(_context115.prev=_context115.next){case 0:t=this.Js.board,e=this["#font-family-picker"].value,i=t.fontsManager.getFamilies(),s=[];if(!(this.Am=!0,!1===i.includes(e))){_context115.next=49;break;}_context115.next=4;return Sr();case 4:_t1581=_context115.sent.items.find(function(t){return t.family===e;});if(!_t1581){_context115.next=49;break;}_iterator1093=_createForOfIteratorHelper(db(_t1581.urls));_context115.prev=7;_iterator1093.s();case 9:if((_step1093=_iterator1093.n()).done){_context115.next=31;break;}_step1093$value=_slicedToArray(_step1093.value,2),_i1049=_step1093$value[0],_n429=_step1093$value[1];_t1582=void 0,_o337={weight:_i1049.substring(0,3),style:_i1049.includes("italic")?"italic":"normal"};if(!("bx-chromeapp"!==this.Qs.localName)){_context115.next=16;break;}_t1582="url("+_n429+")";_context115.next=27;break;case 16:_context115.next=18;return fetch(_n429);case 18:_e1104=_context115.sent;_context115.next=21;return _e1104.blob();case 21:_i1050=_context115.sent;_context115.next=24;return Na(_i1050);case 24:_context115.t0=_context115.sent;_context115.t1='url("'+_context115.t0;_t1582=_context115.t1+'")';case 27:_l285=new FontFace(e,_t1582,_o337);_l285.src=_t1582,s.push(_l285);case 29:_context115.next=9;break;case 31:_context115.next=36;break;case 33:_context115.prev=33;_context115.t2=_context115["catch"](7);_iterator1093.e(_context115.t2);case 36:_context115.prev=36;_iterator1093.f();return _context115.finish(36);case 39:_context115.prev=39;_context115.next=42;return Promise.all(s.map(function(t){return t.load();}));case 42:_context115.next=49;break;case 44:_context115.prev=44;_context115.t3=_context115["catch"](39);_context115.next=48;return Qi(100);case 48:return _context115.abrupt("return",void this.Qs.openMessageDialog({message:"Can't load the chosen font family",detail:_context115.t3.message,buttons:["OK"]}));case 49:this.Js.board.undoManager.checkpoint("Font family"),s.length>0&&this.Js.board.fontsManager.addFonts(s);_t1583=this.Gd(),_i1051=this.Js.board.selectedTextRange;_iterator1094=_createForOfIteratorHelper(_t1583);try{for(_iterator1094.s();!(_step1094=_iterator1094.n()).done;){_s606=_step1094.value;ci(_s606,_i1051);_t1584=_s606.querySelectorAll("tspan"),_n430=ui(_i1051,_s606),_o338=_n430.length>0&&!_i1051.collapsed?_n430:_t1584;_iterator1095=_createForOfIteratorHelper(_o338);try{for(_iterator1095.s();!(_step1095=_iterator1095.n()).done;){_t1585=_step1095.value;_t1585.style.fontFamily="\"".concat(e,"\"");}}catch(err){_iterator1095.e(err);}finally{_iterator1095.f();}pi(_s606,_i1051);}}catch(err){_iterator1094.e(err);}finally{_iterator1094.f();}this.Am=!1;case 54:case"end":return _context115.stop();}}},_callee114,this,[[7,33,36,39],[39,44]]);}));function Um(){return _Um.apply(this,arguments);}return Um;}()},{key:"Nm",value:function Nm(){this.Js.board.undoManager.checkpoint("Font weight");var t=this.Gd(),e=this["#font-weight-select"].value,i=this.Js.board.selectedTextRange;var _iterator1096=_createForOfIteratorHelper(t),_step1096;try{for(_iterator1096.s();!(_step1096=_iterator1096.n()).done;){var _s607=_step1096.value;ci(_s607,i);var _t1586=_s607.querySelectorAll("tspan"),_n431=ui(i,_s607),_o339=_n431.length>0&&!i.collapsed?_n431:_t1586;var _iterator1097=_createForOfIteratorHelper(_o339),_step1097;try{for(_iterator1097.s();!(_step1097=_iterator1097.n()).done;){var _t1587=_step1097.value;_t1587.style.setProperty("font-weight",e);}}catch(err){_iterator1097.e(err);}finally{_iterator1097.f();}pi(_s607,i);}}catch(err){_iterator1096.e(err);}finally{_iterator1096.f();}}},{key:"Vm",value:function Vm(){this.Js.board.undoManager.checkpoint("Font style");var t=this.Gd(),e=this["#font-style-button"].toggled?"italic":"normal",i=this.Js.board.selectedTextRange;var _iterator1098=_createForOfIteratorHelper(t),_step1098;try{for(_iterator1098.s();!(_step1098=_iterator1098.n()).done;){var _s608=_step1098.value;ci(_s608,i);var _t1588=_s608.querySelectorAll("tspan"),_n432=ui(i,_s608),_o340=_n432.length>0&&!i.collapsed?_n432:_t1588;var _iterator1099=_createForOfIteratorHelper(_o340),_step1099;try{for(_iterator1099.s();!(_step1099=_iterator1099.n()).done;){var _t1589=_step1099.value;_t1589.style.setProperty("font-style",e);}}catch(err){_iterator1099.e(err);}finally{_iterator1099.f();}pi(_s608,i);}}catch(err){_iterator1098.e(err);}finally{_iterator1098.f();}}},{key:"jm",value:function jm(){var _this587=this;this.Js.board.undoManager.checkpoint("Font size");var t,_e1106,i=Symbol(),s=Symbol(),n=this.Gd(),o=this.Js.board.selectedTextRange;var _iterator1100=_createForOfIteratorHelper(n),_step1100;try{for(_iterator1100.s();!(_step1100=_iterator1100.n()).done;){var _t1594=_step1100.value;ci(_t1594,o);var _e1107=_t1594.querySelectorAll("tspan"),_n434=ui(o,_t1594),_l286=_n434.length>0&&!o.collapsed?_n434:_e1107;_t1594[i]=_l286,_t1594[s]=Fl(Vt(_t1594,this.Js.board.currentWorkspace).inverse()).scaleY;}}catch(err){_iterator1100.e(err);}finally{_iterator1100.f();}this.$m=!0,this["#font-size-box"].addEventListener("change",t=function t(_t1592){_t1592.target===_this587["#font-size-slider"]?_this587["#font-size-input"].value=_this587["#font-size-slider"].value:_t1592.target===_this587["#font-size-input"]&&(_this587["#font-size-slider"].value=_this587["#font-size-input"].value),_this587["#font-size-input"].mixed=!1,_this587["#font-size-slider"].mixed=!1;var _iterator1101=_createForOfIteratorHelper(n),_step1101;try{for(_iterator1101.s();!(_step1101=_iterator1101.n()).done;){var _t1590=_step1101.value;var _e1105=_t1590[i],_n433=_t1590[s],_o341=_this587["#font-size-input"].value*_n433;if(_e1105.length>0){var _iterator1102=_createForOfIteratorHelper(_e1105),_step1102;try{for(_iterator1102.s();!(_step1102=_iterator1102.n()).done;){var _t1591=_step1102.value;_t1591.style.setProperty("font-size",_o341);}}catch(err){_iterator1102.e(err);}finally{_iterator1102.f();}}else _t1590.style.setProperty("font-size",_o341);}}catch(err){_iterator1101.e(err);}finally{_iterator1101.f();}}),this["#font-size-box"].addEventListener("changeend",_e1106=function e(){_this587["#font-size-box"].removeEventListener("change",t),_this587["#font-size-box"].removeEventListener("changeend",_e1106);var _iterator1103=_createForOfIteratorHelper(n),_step1103;try{for(_iterator1103.s();!(_step1103=_iterator1103.n()).done;){var _t1593=_step1103.value;pi(_t1593,o);}}catch(err){_iterator1103.e(err);}finally{_iterator1103.f();}_this587.$m=!1;});}},{key:"Hm",value:function Hm(t){this.Js.board.undoManager.checkpoint("Text decoration");var e=t.detail,i=this.Gd(),s=this.Js.board.selectedTextRange;var _iterator1104=_createForOfIteratorHelper(i),_step1104;try{for(_iterator1104.s();!(_step1104=_iterator1104.n()).done;){var _t1595=_step1104.value;ci(_t1595,s);var _i1052=[];if(s&&_t1595.contains(s.commonAncestorContainer)){var _e1108=_t1595.querySelectorAll("tspan"),_n435=ui(s,_t1595),_o342=s.collapsed?_e1108:_n435;_i1052.push.apply(_i1052,_toConsumableArray(_o342));}else _i1052.push(_t1595);for(var _i1054=0,_i1053=_i1052;_i1054<_i1053.length;_i1054++){var _t1596=_i1053[_i1054];var _i1055=getComputedStyle(_t1596).getPropertyValue("text-decoration"),_s609=_i1055.includes("underline"),_n436=_i1055.includes("line-through"),_o343=_i1055.includes("overline");"underline"===e.value?_s609=e.toggled:"line-through"===e.value?_n436=e.toggled:"overline"===e.value&&(_o343=e.toggled);var _l287=[];_s609&&_l287.push("underline"),_n436&&_l287.push("line-through"),_o343&&_l287.push("overline"),0===_l287.length?_t1596.style.removeProperty("text-decoration"):_t1596.style.setProperty("text-decoration",_l287.join(" "));}pi(_t1595,s);}}catch(err){_iterator1104.e(err);}finally{_iterator1104.f();}}},{key:"Ym",value:function Ym(t){this.Js.board.undoManager.checkpoint("Text transform");var e=this.Gd(),i=this["#text-transform-buttons"].value||"none",s=this.Js.board.selectedTextRange;var _iterator1105=_createForOfIteratorHelper(e),_step1105;try{for(_iterator1105.s();!(_step1105=_iterator1105.n()).done;){var _t1597=_step1105.value;ci(_t1597,s);var _e1109=_t1597.querySelectorAll("tspan"),_n437=ui(s,_t1597),_o344=_n437.length>0&&!s.collapsed?_n437:_e1109;var _iterator1106=_createForOfIteratorHelper(_o344),_step1106;try{for(_iterator1106.s();!(_step1106=_iterator1106.n()).done;){var _t1598=_step1106.value;_t1598.style.setProperty("text-transform",i);}}catch(err){_iterator1106.e(err);}finally{_iterator1106.f();}pi(_t1597,s);}}catch(err){_iterator1105.e(err);}finally{_iterator1105.f();}}},{key:"Wm",value:function Wm(){this.Js.board.undoManager.checkpoint("Text anchor");var t=this.Gd(),e=this["#text-anchor-buttons"].value||"start";var _iterator1107=_createForOfIteratorHelper(t),_step1107;try{for(_iterator1107.s();!(_step1107=_iterator1107.n()).done;){var _i1056=_step1107.value;!1===(null!==_i1056.querySelector("textPath"))&&(_i1056.style.setProperty("text-anchor",e),ya("text-anchor",_i1056));}}catch(err){_iterator1107.e(err);}finally{_iterator1107.f();}}},{key:"qm",value:function(){var _qm=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee115(){var t,e,i,_s610,_n438,_o345,_o346,_e1110,_i1057,_iterator1108,_step1108,_e1111,_i1058,_s611,_n439,_o347,_l288,_h217,_a172,_r108,_d85,_s612,_n440,_s613,_o348,_l289,_i1059,_o349,_l290,_h218,_a173,_c66,_p55,_Fl21,_u46;return regeneratorRuntime.wrap(function _callee115$(_context116){while(1){switch(_context116.prev=_context116.next){case 0:t=this.Js.board,e=!1,i=Ki(function(){return t.undoManager.checkpoint("Put text on path");});if(!(2===t.outermostSelectedElements.length)){_context116.next=20;break;}_s610=t.outermostSelectedElements.find(function(t){return"text"===t.localName;}),_n438=t.outermostSelectedElements.find(function(t){return x.includes(t.localName);});if(!(_s610&&_n438)){_context116.next=20;break;}if(!(null!==_s610.querySelector("textPath"))){_context116.next=8;break;}e=!1;_context116.next=20;break;case 8:if(!("path"===_n438.localName)){_context116.next=12;break;}e=!0;_context116.next=20;break;case 12:_o345=Gi(_n438).toLowerCase();_context116.next=15;return this.Qs.openMessageDialog({message:"Convert ".concat(_o345," to path?"),detail:"This shape must be converted to path before you put a text on it.",buttons:["Convert","Cancel"]});case 15:_context116.t0=_context116.sent;if(!(0!==_context116.t0)){_context116.next=18;break;}return _context116.abrupt("return",void(this["#text-on-path-button"].toggled=!this["#text-on-path-button"].toggled));case 18:_o346=ra(_n438,this.Js.board.geometryPrecision);i(),_n438.replaceWith(_o346),t.selectedElements=[_s610,_o346],e=!0;case 20:if(!(i(),e)){_context116.next=25;break;}_e1110=t.outermostSelectedElements.find(function(t){return"text"===t.localName;}),_i1057=t.outermostSelectedElements.find(function(t){return"path"===t.localName;});!1===_i1057.hasAttribute("id")&&_i1057.setAttribute("id",this.Js.board.generateUniqueID("path")),_e1110.removeAttribute("transform"),_e1110.innerHTML="<textPath href=\"#".concat(_i1057.id,"\">").concat(_e1110.innerHTML,"</textPath>");_context116.next=57;break;case 25:_iterator1108=_createForOfIteratorHelper(this.Gd());_context116.prev=26;_iterator1108.s();case 28:if((_step1108=_iterator1108.n()).done){_context116.next=49;break;}_e1111=_step1108.value;_i1058=_e1111.querySelector("textPath");_s611=getComputedStyle(_e1111);_n439=rb(_s611.fontSize);_o347=kp.fromString(_s611.fontFamily).items[0];_l288=Lp(_s611.fontWeight);_h217=_s611.fontStyle;_a172=t.fontsManager.getMatchedFont(_o347,_l288,_h217);if(!_a172){_context116.next=43;break;}_context116.next=40;return Fp(_a172);case 40:_context116.t1=_context116.sent;_context116.next=44;break;case 43:_context116.t1=1;case 44:_r108=_context116.t1;_d85=Ci(_e1111);if(_i1058){_s612=_i1058.href.baseVal.trim(),_n440=_s612.length>1?_s612.substring(1):null;if(null!==_n440){_s613=t.workspaces.querySelector("#"+CSS.escape(_n440)),_o348=_d85.x,_l289=_d85.y+_d85.height*_r108;_s613.remove(),_e1111.innerHTML=_i1058.innerHTML,_e1111.setAttribute("x",_o348),_e1111.setAttribute("y",_l289);}}else{_i1059=Nt(_e1111),_o349=new DOMPoint(_d85.x,_d85.y+_d85.height*_r108),_l290=new DOMPoint(_d85.x+_d85.width/2,_d85.y),_h218=new DOMPoint(_d85.x+_d85.width,_d85.y+_d85.height*_r108);_o349=_o349.matrixTransform(_i1059),_l290=_l290.matrixTransform(_i1059),_h218=_h218.matrixTransform(_i1059);_a173="M ".concat(_o349.x," ").concat(_o349.y," Q ").concat(_l290.x," ").concat(_l290.y," ").concat(_h218.x," ").concat(_h218.y),_c66=t.generateUniqueID("text-path"),_p55=qi(_templateObject23(),_c66,_a173);t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_p55),"start"!==_s611.textAnchor&&(_e1111.style.setProperty("text-anchor","start"),ya("text-anchor",_e1111)),_e1111.innerHTML="<textPath href=\"#".concat(_c66,"\">").concat(_e1111.innerHTML,"</textPath>");_Fl21=Fl(_i1059),_u46=_Fl21.scaleY;_e1111.style.fontSize=Z(_n439*_u46,2),_e1111.removeAttribute("transform"),_e1111.removeAttribute("x"),_e1111.removeAttribute("y");}case 47:_context116.next=28;break;case 49:_context116.next=54;break;case 51:_context116.prev=51;_context116.t2=_context116["catch"](26);_iterator1108.e(_context116.t2);case 54:_context116.prev=54;_iterator1108.f();return _context116.finish(54);case 57:t.selectedElements=_toConsumableArray(t.selectedElements);case 58:case"end":return _context116.stop();}}},_callee115,this,[[26,51,54,57]]);}));function qm(){return _qm.apply(this,arguments);}return qm;}()},{key:"Xm",value:function Xm(){var _this588=this;var t,_e1112,i=this.Js.board,s=this.Gd().map(function(t){return t.querySelector("textPath");}).filter(function(t){return null!==t;});i.undoManager.checkpoint("Text path start offset"),this.Im=!0,this["#path-start-offset-box"].addEventListener("change",t=function t(_t1600){_t1600.target===_this588["#path-start-offset-slider"]?_this588["#path-start-offset-input"].value=_this588["#path-start-offset-slider"].value:_t1600.target===_this588["#path-start-offset-input"]&&(_this588["#path-start-offset-slider"].value=_this588["#path-start-offset-input"].value),_this588["#path-start-offset-slider"].mixed=!1,_this588["#path-start-offset-input"].mixed=!1;var _iterator1109=_createForOfIteratorHelper(s),_step1109;try{for(_iterator1109.s();!(_step1109=_iterator1109.n()).done;){var _t1599=_step1109.value;_t1599.startOffset.baseVal.value=_this588["#path-start-offset-input"].value;}}catch(err){_iterator1109.e(err);}finally{_iterator1109.f();}}),this["#path-start-offset-box"].addEventListener("changeend",_e1112=function e(){_this588["#path-start-offset-box"].removeEventListener("change",t),_this588["#path-start-offset-box"].removeEventListener("changeend",_e1112),_this588.Im=!1;});}},{key:"Zm",value:function Zm(){var _this589=this;var t,_e1114,i=this.Js.board,s=this.Gd(),n=i.selectedTextRange,o=Symbol();i.undoManager.checkpoint("Letter spacing");var _iterator1110=_createForOfIteratorHelper(s),_step1110;try{for(_iterator1110.s();!(_step1110=_iterator1110.n()).done;){var _t1605=_step1110.value;ci(_t1605,n);var _e1115=_t1605.querySelectorAll("tspan"),_i1060=ui(n,_t1605),_s614=_i1060.length>0&&!n.collapsed?_i1060:_e1115;_t1605[o]=_s614;}}catch(err){_iterator1110.e(err);}finally{_iterator1110.f();}this.Lm=!0,this["#letter-spacing-box"].addEventListener("change",t=function t(_t1603){_t1603.target===_this589["#letter-spacing-slider"]?_this589["#letter-spacing-input"].value=_this589["#letter-spacing-slider"].value:_t1603.target===_this589["#letter-spacing-input"]&&(_this589["#letter-spacing-slider"].value=_this589["#letter-spacing-input"].value),_this589["#letter-spacing-slider"].mixed=!1,_this589["#letter-spacing-input"].mixed=!1;var _iterator1111=_createForOfIteratorHelper(s),_step1111;try{for(_iterator1111.s();!(_step1111=_iterator1111.n()).done;){var _t1601=_step1111.value;var _e1113=_t1601[o];if(_e1113.length>0){var _iterator1112=_createForOfIteratorHelper(_e1113),_step1112;try{for(_iterator1112.s();!(_step1112=_iterator1112.n()).done;){var _t1602=_step1112.value;_t1602.style.setProperty("letter-spacing",_this589["#letter-spacing-input"].value);}}catch(err){_iterator1112.e(err);}finally{_iterator1112.f();}}else _t1601.style.setProperty("letter-spacing",_this589["#letter-spacing-input"].value);}}catch(err){_iterator1111.e(err);}finally{_iterator1111.f();}}),this["#letter-spacing-box"].addEventListener("changeend",_e1114=function e(){_this589["#letter-spacing-box"].removeEventListener("change",t),_this589["#letter-spacing-box"].removeEventListener("changeend",_e1114);var _iterator1113=_createForOfIteratorHelper(s),_step1113;try{for(_iterator1113.s();!(_step1113=_iterator1113.n()).done;){var _t1604=_step1113.value;pi(_t1604,i.selectedTextRange);}}catch(err){_iterator1113.e(err);}finally{_iterator1113.f();}_this589.Lm=!1;});}},{key:"Km",value:function Km(){var _this590=this;var t,_e1117,i=this.Js.board,s=this.Gd(),n=i.selectedTextRange,o=Symbol();i.undoManager.checkpoint("Word spacing");var _iterator1114=_createForOfIteratorHelper(s),_step1114;try{for(_iterator1114.s();!(_step1114=_iterator1114.n()).done;){var _t1610=_step1114.value;ci(_t1610,n);var _e1118=_t1610.querySelectorAll("tspan"),_i1061=ui(n,_t1610),_s615=_i1061.length>0&&!n.collapsed?_i1061:_e1118;_t1610[o]=_s615;}}catch(err){_iterator1114.e(err);}finally{_iterator1114.f();}this.Bm=!0,this["#word-spacing-box"].addEventListener("change",t=function t(_t1608){_t1608.target===_this590["#word-spacing-slider"]?_this590["#word-spacing-input"].value=_this590["#word-spacing-slider"].value:_t1608.target===_this590["#word-spacing-input"]&&(_this590["#word-spacing-slider"].value=_this590["#word-spacing-input"].value),_this590["#word-spacing-slider"].mixed=!1,_this590["#word-spacing-input"].mixed=!1;var _iterator1115=_createForOfIteratorHelper(s),_step1115;try{for(_iterator1115.s();!(_step1115=_iterator1115.n()).done;){var _t1606=_step1115.value;var _e1116=_t1606[o];if(_e1116.length>0){var _iterator1116=_createForOfIteratorHelper(_e1116),_step1116;try{for(_iterator1116.s();!(_step1116=_iterator1116.n()).done;){var _t1607=_step1116.value;_t1607.style.setProperty("word-spacing",_this590["#word-spacing-slider"].value);}}catch(err){_iterator1116.e(err);}finally{_iterator1116.f();}}else _t1606.style.setProperty("word-spacing",_this590["#word-spacing-slider"].value);}}catch(err){_iterator1115.e(err);}finally{_iterator1115.f();}}),this["#word-spacing-box"].addEventListener("changeend",_e1117=function e(){_this590["#word-spacing-box"].removeEventListener("change",t),_this590["#word-spacing-box"].removeEventListener("changeend",_e1117);var _iterator1117=_createForOfIteratorHelper(s),_step1117;try{for(_iterator1117.s();!(_step1117=_iterator1117.n()).done;){var _t1609=_step1117.value;pi(_t1609,i.selectedTextRange);}}catch(err){_iterator1117.e(err);}finally{_iterator1117.f();}_this590.Bm=!1;});}},{key:"Qm",value:function Qm(){var _this591=this;var t,_e1120,i=this.Js.board,s=this.Gd(),n=(i.selectedTextRange,Symbol());i.undoManager.checkpoint("Line spacing");var _iterator1118=_createForOfIteratorHelper(s),_step1118;try{for(_iterator1118.s();!(_step1118=_iterator1118.n()).done;){var _t1613=_step1118.value;_t1613[n]=[];var _iterator1121=_createForOfIteratorHelper(_t1613.querySelectorAll("tspan")),_step1121;try{for(_iterator1121.s();!(_step1121=_iterator1121.n()).done;){var _e1121=_step1121.value;wi(_e1121)&&_t1613[n].push(_e1121);}}catch(err){_iterator1121.e(err);}finally{_iterator1121.f();}}}catch(err){_iterator1118.e(err);}finally{_iterator1118.f();}this.Rm=!0,this["#line-spacing-box"].addEventListener("change",t=function t(_t1612){_t1612.target===_this591["#line-spacing-slider"]?_this591["#line-spacing-input"].value=_this591["#line-spacing-slider"].value:_t1612.target===_this591["#line-spacing-input"]&&(_this591["#line-spacing-slider"].value=_this591["#line-spacing-input"].value),_this591["#line-spacing-slider"].mixed=!1,_this591["#line-spacing-input"].mixed=!1;var _iterator1119=_createForOfIteratorHelper(s),_step1119;try{for(_iterator1119.s();!(_step1119=_iterator1119.n()).done;){var _t1611=_step1119.value;var _iterator1120=_createForOfIteratorHelper(_t1611[n]),_step1120;try{for(_iterator1120.s();!(_step1120=_iterator1120.n()).done;){var _e1119=_step1120.value;_e1119.setAttribute("dy",_this591["#line-spacing-slider"].value+1+"em");}}catch(err){_iterator1120.e(err);}finally{_iterator1120.f();}}}catch(err){_iterator1119.e(err);}finally{_iterator1119.f();}}),this["#line-spacing-box"].addEventListener("changeend",_e1120=function e(){_this591["#line-spacing-box"].removeEventListener("change",t),_this591["#line-spacing-box"].removeEventListener("changeend",_e1120),_this591.Rm=!1;});}},{key:"qs",value:function qs(){var _this592=this;var t=[],e=[],i=this.Gd(),s=Symbol();{var _n441=this.Js.board.selectedTextRange;var _iterator1122=_createForOfIteratorHelper(i),_step1122;try{for(_iterator1122.s();!(_step1122=_iterator1122.n()).done;){var _s616=_step1122.value;var _i1062=bi(_s616);if(_n441&&_n441.intersectsNode(_s616)){"backward"===_n441.direction&&_i1062.reverse();var _iterator1124=_createForOfIteratorHelper(_i1062),_step1124;try{for(_iterator1124.s();!(_step1124=_iterator1124.n()).done;){var _s617=_step1124.value;if(_n441.intersectsNode(_s617)){var _i1063=_s617.closest("tspan, text");t.includes(_s617.parentElement)||t.push(_s617.parentElement),e.includes(_i1063)||e.push(_i1063);}}}catch(err){_iterator1124.e(err);}finally{_iterator1124.f();}}else{var _iterator1125=_createForOfIteratorHelper(_i1062),_step1125;try{for(_iterator1125.s();!(_step1125=_iterator1125.n()).done;){var _e1122=_step1125.value;t.includes(_e1122.parentElement)||t.push(_e1122.parentElement);}}catch(err){_iterator1125.e(err);}finally{_iterator1125.f();}e.push(_s616);}}}catch(err){_iterator1122.e(err);}finally{_iterator1122.f();}var _iterator1123=_createForOfIteratorHelper(new Set([].concat(t,e))),_step1123;try{for(_iterator1123.s();!(_step1123=_iterator1123.n()).done;){var _i1064=_step1123.value;_i1064[s]=getComputedStyle(_i1064);}}catch(err){_iterator1123.e(err);}finally{_iterator1123.f();}}if(!1===this.$m&&!1===this.Am){var _e1123=t[0],_i1065=t.slice(1),_n442=function _n442(t){var e=_this592.Js.board.fontsManager.getWeights(t),i=[];return 0===e.length&&(e=["400","700"]),1===e.length&&"400"===e[0]&&(e.push("700"),i.push("700")),[e,i];};if(_e1123){var _t1614=_e1123[s],_o350=kp.fromString(_t1614.getPropertyValue("font-family")).items[0],_l291=Et.fromString(_t1614.getPropertyValue("font-size")).value,_h219=(_t1614.getPropertyValue("font-variant"),_t1614.getPropertyValue("font-style")),_a174=Lp(_t1614.getPropertyValue("font-weight")),_n443=_n442(_o350),_n444=_slicedToArray(_n443,2),_r109=_n444[0],_d86=_n444[1],_c67=Rp(_a174,_r109),_p56=Vt(_e1123.closest("text"),this.Js.board.currentWorkspace),_Fl22=Fl(_p56),_u47=_Fl22.scaleY,_x132=Z(_l291*ab(_u47),2),_b39=!1,_m37=!1,_g32=!1;var _iterator1126=_createForOfIteratorHelper(_i1065),_step1126;try{for(_iterator1126.s();!(_step1126=_iterator1126.n()).done;){var _t1615=_step1126.value;var _e1124=_t1615[s],_i1066=_e1124.getPropertyValue("font-family"),_o351=kp.fromString(_i1066).items[0],_a175=Et.fromString(_e1124.getPropertyValue("font-size")).value,_r110=(_e1124.getPropertyValue("font-variant"),_e1124.getPropertyValue("font-style")),_d87=Lp(_e1124.getPropertyValue("font-weight")),_n445=_n442(_o351),_n446=_slicedToArray(_n445,1),_p57=_n446[0],_u48=Rp(_d87,_p57);_a175!==_l291&&(_b39=!0),_u48!==_c67&&(_m37=!0),_r110!==_h219&&(_g32=!0);}}catch(err){_iterator1126.e(err);}finally{_iterator1126.f();}this["#panel-heading"].disabled=!1,this["#font-section-heading"].disabled=!1,this["#font-family-heading"].disabled=!1,this["#font-family-button"].disabled=!1,this["#font-family-label"].textContent=_o350,this["#font-family-label"].style.fontFamily='"'+_o350+'"',this["#font-family-picker"].enabled=!0,this["#font-family-picker"].value=_o350,this["#font-face-heading"].disabled=!1;var _iterator1127=_createForOfIteratorHelper(this["#font-weight-menu"].children),_step1127;try{for(_iterator1127.s();!(_step1127=_iterator1127.n()).done;){var _t1616=_step1127.value;if(_r109.includes(_t1616.value)){var _e1125="".concat(_t1616.value," - ").concat(Bp(_t1616.value));_d86.includes(_t1616.value)&&(_e1125+=" (synthesized)"),_t1616.firstElementChild.textContent=_e1125,_t1616.hidden=!1;}else _t1616.hidden=!0;}}catch(err){_iterator1127.e(err);}finally{_iterator1127.f();}this["#font-weight-select"].disabled=!1,this["#font-weight-select"].value=_c67,this["#font-weight-select"].mixed=_m37,this["#font-style-button"].toggled="italic"===_h219,this["#font-style-button"].mixed=_g32,this["#font-style-button"].disabled=!1,this["#font-size-heading"].disabled=!1,this["#font-size-slider"].disabled=!1,this["#font-size-slider"].value=_x132,this["#font-size-slider"].mixed=_b39,this["#font-size-input"].disabled=!1,this["#font-size-input"].value=_x132,this["#font-size-input"].mixed=_b39;}else this["#panel-heading"].disabled=!0,this["#font-section-heading"].disabled=!0,this["#font-family-heading"].disabled=!0,this["#font-family-button"].disabled=!0,this["#font-family-button"].mixed=!1,this["#font-family-label"].textContent="System",this["#font-family-label"].style.fontFamily=null,this["#font-family-picker"].enabled=!1,this["#font-family-picker"].value=null,this["#font-face-heading"].disabled=!0,this["#font-weight-select"].disabled=!0,this["#font-style-button"].disabled=!0,this["#font-style-button"].mixed=!1,this["#font-size-heading"].disabled=!0,this["#font-size-slider"].value=13,this["#font-size-slider"].mixed=!1,this["#font-size-slider"].disabled=!0,this["#font-size-input"].disabled=!0,this["#font-size-input"].value=13,this["#font-size-input"].mixed=!1;}this["#text-section-heading"].disabled=0===i.length;{var _t1617=e[0],_i1067=e.slice(1);if(_t1617){var _e1126=_t1617[s].getPropertyValue("text-decoration"),_n447=!1,_o352=!1,_l292=!1;var _iterator1128=_createForOfIteratorHelper(_i1067),_step1128;try{for(_iterator1128.s();!(_step1128=_iterator1128.n()).done;){var _t1618=_step1128.value;var _i1068=_t1618[s].getPropertyValue("text-decoration");_e1126!==_i1068&&(_e1126.includes("underline")!==_i1068.includes("underline")&&(_n447=!0),_e1126.includes("line-through")!==_i1068.includes("line-through")&&(_o352=!0),_e1126.includes("overline")!==_i1068.includes("overline")&&(_l292=!0));}}catch(err){_iterator1128.e(err);}finally{_iterator1128.f();}this["#text-decoration-heading"].disabled=!1,this["#underline-button"].disabled=!1,this["#underline-button"].mixed=_n447,this["#underline-button"].toggled=_e1126.includes("underline"),this["#line-through-button"].disabled=!1,this["#line-through-button"].mixed=_o352,this["#line-through-button"].toggled=_e1126.includes("line-through"),this["#overline-button"].disabled=!1,this["#overline-button"].mixed=_l292,this["#overline-button"].toggled=_e1126.includes("overline");}else this["#text-decoration-heading"].disabled=!0,this["#underline-button"].disabled=!0,this["#underline-button"].mixed=!1,this["#underline-button"].toggled=!1,this["#line-through-button"].disabled=!0,this["#line-through-button"].mixed=!1,this["#line-through-button"].toggled=!1,this["#overline-button"].disabled=!0,this["#overline-button"].mixed=!1,this["#overline-button"].toggled=!1;}{var _e1127=t[0],_i1069=t.slice(1);if(_e1127){var _t1619=_e1127[s].getPropertyValue("text-transform"),_n448=!1;var _iterator1129=_createForOfIteratorHelper(_i1069),_step1129;try{for(_iterator1129.s();!(_step1129=_iterator1129.n()).done;){var _e1128=_step1129.value;_e1128[s].getPropertyValue("text-transform")!==_t1619&&(_n448=!0);}}catch(err){_iterator1129.e(err);}finally{_iterator1129.f();}this["#text-transform-heading"].disabled=!1,this["#capitalize-button"].disabled=!1,this["#capitalize-button"].mixed=_n448,this["#capitalize-button"].toggled="capitalize"===_t1619,this["#uppercase-button"].disabled=!1,this["#uppercase-button"].toggled="uppercase"===_t1619,this["#uppercase-button"].mixed=_n448,this["#lowercase-button"].disabled=!1,this["#lowercase-button"].toggled="lowercase"===_t1619,this["#lowercase-button"].mixed=_n448;}else this["#text-transform-heading"].disabled=!0,this["#capitalize-button"].disabled=!0,this["#capitalize-button"].toggled=!1,this["#capitalize-button"].mixed=!1,this["#uppercase-button"].disabled=!0,this["#uppercase-button"].toggled=!1,this["#uppercase-button"].mixed=!1,this["#lowercase-button"].disabled=!0,this["#lowercase-button"].toggled=!1,this["#lowercase-button"].mixed=!1;}{var _i1070=_toArray(i),_t1620=_i1070[0],_e1129=_i1070.slice(1),_s618=i.filter(function(t){return null!==t.querySelector("textPath");});if(_t1620&&_s618.length<i.length){var _i1071=getComputedStyle(_t1620).getPropertyValue("text-anchor"),_s619=!1;var _iterator1130=_createForOfIteratorHelper(_e1129),_step1130;try{for(_iterator1130.s();!(_step1130=_iterator1130.n()).done;){var _t1621=_step1130.value;getComputedStyle(_t1621).getPropertyValue("text-anchor")!==_i1071&&(_s619=!0);}}catch(err){_iterator1130.e(err);}finally{_iterator1130.f();}this["#text-anchor-heading"].disabled=!1,this["#text-anchor-buttons"].value=_i1071,this["#start-text-anchor-button"].disabled=!1,this["#start-text-anchor-button"].mixed=_s619,this["#middle-text-anchor-button"].disabled=!1,this["#middle-text-anchor-button"].mixed=_s619,this["#end-text-anchor-button"].disabled=!1,this["#end-text-anchor-button"].mixed=_s619;}else this["#text-anchor-heading"].disabled=!0,this["#text-anchor-buttons"].value=null,this["#start-text-anchor-button"].disabled=!0,this["#start-text-anchor-button"].mixed=!1,this["#middle-text-anchor-button"].disabled=!0,this["#middle-text-anchor-button"].mixed=!1,this["#end-text-anchor-button"].disabled=!0,this["#end-text-anchor-button"].mixed=!1;}if(!this.Im){if(0===i.length)this["#text-on-path-button"].toggled=!1,this["#text-on-path-button"].disabled=!0;else{var _t1622=!1,_e1130=null!==i[0].querySelector("textPath");var _iterator1131=_createForOfIteratorHelper(i),_step1131;try{for(_iterator1131.s();!(_step1131=_iterator1131.n()).done;){var _s620=_step1131.value;if(null!==_s620.querySelector("textPath")!==_e1130){_t1622=!0;break;}}}catch(err){_iterator1131.e(err);}finally{_iterator1131.f();}this["#text-on-path-button"].toggled=_e1130,this["#text-on-path-button"].disabled=!1,this["#text-on-path-button"].mixed=_t1622;}{var _t1623=i.map(function(t){return t.querySelector("textPath");}).filter(function(t){return null!==t;});if(0===_t1623.length)this["#path-start-offset-heading"].disabled=!0,this["#path-start-offset-slider"].value=0,this["#path-start-offset-slider"].disabled=!0,this["#path-start-offset-input"].value=0,this["#path-start-offset-input"].disabled=!0;else{var _t1624=_toArray(_t1623),_e1131=_t1624[0],_i1072=_t1624.slice(1),_s621=_e1131.startOffset.baseVal.value,_n449=!1;var _iterator1132=_createForOfIteratorHelper(_i1072),_step1132;try{for(_iterator1132.s();!(_step1132=_iterator1132.n()).done;){var _t1625=_step1132.value;_t1625.startOffset.baseVal.value!==_s621&&(_n449=!0);}}catch(err){_iterator1132.e(err);}finally{_iterator1132.f();}this["#path-start-offset-heading"].disabled=!1,this["#path-start-offset-slider"].value=_s621,this["#path-start-offset-slider"].disabled=!1,this["#path-start-offset-slider"].mixed=_n449,this["#path-start-offset-input"].value=_s621,this["#path-start-offset-input"].disabled=!1,this["#path-start-offset-input"].mixed=_n449;}}this["#path-section-heading"].disabled=this["#text-on-path-button"].disabled&&this["#path-start-offset-heading"].disabled;}if(!this.Lm&&!this.Bm&&!this.Rm){{var _e1132=t[0],_i1073=t.slice(1);if(_e1132){var _t1626=_e1132[s].getPropertyValue("letter-spacing"),_n450=_e1132[s].getPropertyValue("word-spacing");_t1626="normal"===_t1626?0:rb(_t1626),_n450="normal"===_n450?0:rb(_n450);var _o353=!1,_l293=!1;var _iterator1133=_createForOfIteratorHelper(_i1073),_step1133;try{for(_iterator1133.s();!(_step1133=_iterator1133.n()).done;){var _e1133=_step1133.value;var _i1074=_e1133[s].getPropertyValue("letter-spacing"),_h220=_e1133[s].getPropertyValue("word-spacing");_i1074="normal"===_i1074?0:rb(_i1074),_h220="normal"===_h220?0:rb(_h220),_i1074!==_t1626&&(_o353=!0),_h220!==_n450&&(_l293=!0);}}catch(err){_iterator1133.e(err);}finally{_iterator1133.f();}this["#letter-spacing-heading"].disabled=!1,this["#letter-spacing-slider"].value=Z(_t1626,2),this["#letter-spacing-slider"].mixed=_o353,this["#letter-spacing-slider"].disabled=!1,this["#letter-spacing-input"].value=Z(_t1626,2),this["#letter-spacing-input"].mixed=_o353,this["#letter-spacing-input"].disabled=!1,this["#word-spacing-heading"].disabled=!1,this["#word-spacing-slider"].value=Z(_n450,2),this["#word-spacing-slider"].mixed=_l293,this["#word-spacing-slider"].disabled=!1,this["#word-spacing-input"].value=Z(_n450,2),this["#word-spacing-input"].mixed=_l293,this["#word-spacing-input"].disabled=!1;}else this["#letter-spacing-heading"].disabled=!0,this["#letter-spacing-slider"].value=0,this["#letter-spacing-slider"].mixed=!1,this["#letter-spacing-slider"].disabled=!0,this["#letter-spacing-input"].value=0,this["#letter-spacing-input"].mixed=!1,this["#letter-spacing-input"].disabled=!0,this["#word-spacing-heading"].disabled=!0,this["#word-spacing-slider"].value=0,this["#word-spacing-slider"].mixed=!1,this["#word-spacing-slider"].disabled=!0,this["#word-spacing-input"].value=0,this["#word-spacing-input"].mixed=!1,this["#word-spacing-input"].disabled=!0;}{var _t1627=i.filter(function(t){return vi(t);}),_t1628=_toArray(_t1627),_e1134=_t1628[0],_s622=_t1628.slice(1);if(_e1134){var _t1629=yi(_e1134),_i1075=!1;var _iterator1134=_createForOfIteratorHelper(_s622),_step1134;try{for(_iterator1134.s();!(_step1134=_iterator1134.n()).done;){var _e1135=_step1134.value;if(yi(_e1135)!==_t1629){_i1075=!0;break;}}}catch(err){_iterator1134.e(err);}finally{_iterator1134.f();}this["#line-spacing-heading"].disabled=!1,this["#line-spacing-slider"].value=_t1629,this["#line-spacing-slider"].mixed=_i1075,this["#line-spacing-slider"].disabled=!1,this["#line-spacing-input"].value=_t1629,this["#line-spacing-input"].mixed=_i1075,this["#line-spacing-input"].disabled=!1;}else this["#line-spacing-heading"].disabled=!0,this["#line-spacing-slider"].value=0,this["#line-spacing-slider"].mixed=!1,this["#line-spacing-slider"].disabled=!0,this["#line-spacing-input"].value=0,this["#line-spacing-input"].mixed=!1,this["#line-spacing-input"].disabled=!0;}this["#spacing-section-heading"].disabled=this["#letter-spacing-heading"].disabled&&this["#word-spacing-heading"].disabled&&this["#line-spacing-heading"].disabled;}}},{key:"Gd",value:function Gd(){var t=[],e=function e(i){var _iterator1135=_createForOfIteratorHelper(i),_step1135;try{for(_iterator1135.s();!(_step1135=_iterator1135.n()).done;){var _s623=_step1135.value;"text"===_s623.localName?t.push(_s623):"g"!==_s623.localName&&"a"!==_s623.localName||e(_s623.children);}}catch(err){_iterator1135.e(err);}finally{_iterator1135.f();}};return e(this.Js.board.outermostSelectedElements),t;}}]);return cb;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(cb,"observedAttributes",["enabled"]);_defineProperty(cb,"_shadowTemplate",Yi(_templateObject316()));_defineProperty(cb,"_shadowStyleSheet",Wi(_templateObject317()));customElements.define("bx-typographypanel",cb);var pb=/*#__PURE__*/function(_HTMLElement100){_inherits(pb,_HTMLElement100);var _super129=_createSuper(pb);_createClass(pb,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function pb(){var _this593;_classCallCheck(this,pb);_this593=_super129.call(this),_this593._shadowRoot=_this593.attachShadow({mode:"closed"}),_this593._shadowRoot.append(document.importNode(_this593.constructor._shadowTemplate.content,!0)),_this593._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,pb._shadowStyleSheet,_this593.constructor._shadowStyleSheet];var _iterator1136=_createForOfIteratorHelper(_this593._shadowRoot.querySelectorAll("[id]")),_step1136;try{for(_iterator1136.s();!(_step1136=_iterator1136.n()).done;){var _t1630=_step1136.value;_this593["#"+_t1630.id]=_t1630;}}catch(err){_iterator1136.e(err);}finally{_iterator1136.f();}_this593.setAttribute("extends","bx-geometryinspector");return _this593;}_createClass(pb,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this.Jm=Ai(this,"bx-geometrypanel");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){}},{key:"sn",value:function sn(){}}]);return pb;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(pb,"observedAttributes",["enabled"]);_defineProperty(pb,"_shadowStyleSheet",Wi(_templateObject318()));var ub=Math.pow;var xb=/*#__PURE__*/function(_pb){_inherits(xb,_pb);var _super130=_createSuper(xb);function xb(){var _this594;_classCallCheck(this,xb);_this594=_super130.call(this),_this594.tg=!1,_this594.eg=!1,_this594.ig=!1,_this594.sg=!1,_this594._a=Xi(_this594.qs,200,_assertThisInitialized(_this594)),_this594["#base-thickness-section"].addEventListener("changestart",function(){return _this594.Hp();}),_this594["#head-thickness-section"].addEventListener("changestart",function(){return _this594.Yp();}),_this594["#head-length-section"].addEventListener("changestart",function(){return _this594.Wp();}),_this594["#head-inset-section"].addEventListener("changestart",function(){return _this594.qp();}),_this594["#head-thickness-input"].validate=function(){return null;},_this594["#head-length-input"].validate=function(){return null;};return _this594;}_createClass(xb,[{key:"tn",value:function tn(){var _this595=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this595._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this595._a();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this595._a();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"Hp",value:function Hp(){var _this596=this;var t,_e1136,i=this.Js.board,s=i.selectedElements[0],n=ul(s),o=i.geometryPrecision,_this$Jm=this.Jm,l=_this$Jm.displaySpace,h=_this$Jm.displayUnit,_Ol11=Ol.apply(void 0,_toConsumableArray(n.values)),a=_Ol11.minBaseThickness,r=_Ol11.maxBaseThickness,_n$values8=_slicedToArray(n.values,7),d=_n$values8[0],c=_n$values8[1],p=_n$values8[2],u=_n$values8[3],x=_n$values8[4],b=_n$values8[5],m=_n$values8[6],g=qt("px",h),f=g.inverse(),w=Vt(s,i.vectorCanvas);"viewport"===l&&(w=Wt(i.currentWorkspace).multiply(w));var v=w.inverse();i.undoManager.checkpoint("Arrow base thickness"),this.tg=!0,this["#base-thickness-section"].addEventListener("change",t=function t(_t1631){_t1631.target===_this596["#base-thickness-slider"]?_this596["#base-thickness-input"].value=_this596["#base-thickness-slider"].value:_t1631.target===_this596["#base-thickness-input"]&&(_this596["#base-thickness-slider"].value=_this596["#base-thickness-input"].value);var e=new X(new DOMPoint(d,c+u/2),new DOMPoint(d,c));e=e.matrixTransform(w),e=e.matrixTransform(g),e.length=_t1631.target.value,e=e.matrixTransform(f),e=e.matrixTransform(v),x=K(e.length,a,r,o),xl(s,{type:"arrow",values:[d,c,p,u,x,b,m]});}),this["#base-thickness-section"].addEventListener("changeend",_e1136=function e(){_this596["#base-thickness-section"].removeEventListener("change",t),_this596["#base-thickness-section"].removeEventListener("changeend",_e1136),_this596.tg=!1;});}},{key:"Yp",value:function Yp(){var _this597=this;var t,_e1137,i=this.Js.board,s=i.selectedElements[0],n=ul(s),o=i.geometryPrecision,_n$values9=_slicedToArray(n.values,7),l=_n$values9[0],h=_n$values9[1],a=_n$values9[2],r=_n$values9[3],d=_n$values9[4],c=_n$values9[5],p=_n$values9[6],u=h,x=r,b=Ol(l,h,a,r,d,c,p),m=qt("px",this.Jm.displayUnit),g=m.inverse(),f=Vt(s,i.vectorCanvas);"viewport"===this.Jm.displaySpace&&(f=Wt(i.currentWorkspace).multiply(f));var w=f.inverse();i.undoManager.checkpoint("Arrow head thickness"),this.eg=!0,this["#head-thickness-section"].addEventListener("change",t=function t(_t1632){_t1632.target===_this597["#head-thickness-slider"]?_this597["#head-thickness-input"].value=_this597["#head-thickness-slider"].value:_t1632.target===_this597["#head-thickness-input"]&&(_this597["#head-thickness-slider"].value=_this597["#head-thickness-input"].value);var e=new X(new DOMPoint(l+a-c,h),new DOMPoint(l+a-c,h+1e3));e=e.matrixTransform(f),e=e.matrixTransform(m),e.length=_t1632.target.value,e=e.matrixTransform(g),e=e.matrixTransform(w),r=K(e.length,b.minHeadThickness,b.maxHeadThickness,o),h=Z(u-(r-x)/2,o),xl(s,{type:"arrow",values:[l,h,a,r,d,c,p]});}),this["#head-thickness-section"].addEventListener("changeend",_e1137=function e(){_this597["#head-thickness-section"].removeEventListener("change",t),_this597["#head-thickness-section"].removeEventListener("changeend",_e1137),_this597.eg=!1;});}},{key:"Wp",value:function Wp(){var _this598=this;var t,_e1138,i=this.Js.board,s=i.selectedElements[0],n=ul(s),_Ol12=Ol.apply(void 0,_toConsumableArray(n.values)),o=_Ol12.minHeadLength,l=_Ol12.maxHeadLength,h=i.geometryPrecision,_n$values10=_slicedToArray(n.values,7),a=_n$values10[0],r=_n$values10[1],d=_n$values10[2],c=_n$values10[3],p=_n$values10[4],u=_n$values10[5],x=_n$values10[6],b=qt("px",this.Jm.displayUnit),m=b.inverse(),g=Vt(s,i.vectorCanvas);"viewport"===this.Jm.displaySpace&&(g=Wt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Arrow head length"),this.ig=!0,this["#head-length-section"].addEventListener("change",t=function t(_t1633){_t1633.target===_this598["#head-length-slider"]?_this598["#head-length-input"].value=_this598["#head-length-slider"].value:_t1633.target===_this598["#head-length-input"]&&(_this598["#head-length-slider"].value=_this598["#head-length-input"].value);var e=new X(new DOMPoint(a+d-1e3,r+c/2),new DOMPoint(a+d,r+c/2));e=e.matrixTransform(g),e=e.matrixTransform(b),e.length=_t1633.target.value,e=e.matrixTransform(m),e=e.matrixTransform(f),u=K(e.length,o,l,h),xl(s,{type:"arrow",values:[a,r,d,c,p,u,x]});}),this["#head-length-section"].addEventListener("changeend",_e1138=function e(){_this598["#head-length-section"].removeEventListener("change",t),_this598["#head-length-section"].removeEventListener("changeend",_e1138),_this598.ig=!1;});}},{key:"qp",value:function qp(){var _this599=this;var t,_e1139,i=this.Js.board,s=i.selectedElements[0],n=ul(s),_Ol13=Ol.apply(void 0,_toConsumableArray(n.values)),o=_Ol13.minHeadInset,l=_Ol13.maxHeadInset,h=i.geometryPrecision,_n$values11=_slicedToArray(n.values,7),a=_n$values11[0],r=_n$values11[1],d=_n$values11[2],c=_n$values11[3],p=_n$values11[4],u=_n$values11[5],x=_n$values11[6],b=qt("px",this.Jm.displayUnit),m=b.inverse(),g=Vt(s,i.vectorCanvas);"viewport"===this.Jm.displaySpace&&(g=Wt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Arrow head inset"),this.sg=!0,this["#head-inset-section"].addEventListener("change",t=function t(_t1634){_t1634.target===_this599["#head-inset-slider"]?_this599["#head-inset-input"].value=_this599["#head-inset-slider"].value:_t1634.target===_this599["#head-inset-input"]&&(_this599["#head-inset-slider"].value=_this599["#head-inset-input"].value);var e=new X(new DOMPoint(a+d-u,r+c/2-p/2),new DOMPoint(a+d-u+1e3,r+c/2-p/2));e=e.matrixTransform(g),e=e.matrixTransform(b),e.length=_t1634.target.value,e=e.matrixTransform(m),e=e.matrixTransform(f),x=K(e.length,o,l,h),xl(s,{type:"arrow",values:[a,r,d,c,p,u,x]});}),this["#head-inset-section"].addEventListener("changeend",_e1139=function e(){_this599["#head-inset-section"].removeEventListener("change",t),_this599["#head-inset-section"].removeEventListener("changeend",_e1139),_this599.sg=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements,i=null,s=null;if(1===e.length&&"path"===e[0].localName&&(i=e[0],s=ul(i)),s&&"arrow"===s.type){var _this$Jm2=this.Jm,_e1140=_this$Jm2.displayUnit,_n451=_this$Jm2.displaySpace,_o354=_this$Jm2.displayPrecision,_s$values12=_slicedToArray(s.values,7),_l294=_s$values12[0],_h221=_s$values12[1],_a176=_s$values12[2],_r111=_s$values12[3],_d88=_s$values12[4],_c68=_s$values12[5],_p58=_s$values12[6],_u49=Ol.apply(void 0,_toConsumableArray(s.values)),_x133=1/ub(10,_o354-1),_b40=_e1140?" "+_e1140:"",_m38=Vt(i,t.vectorCanvas),_g33=qt("px",_e1140);if("viewport"===_n451&&(_m38=Wt(t.currentWorkspace).multiply(_m38)),!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),!1===this.tg){var _t1635=new X(new DOMPoint(_l294,_h221+_r111/2-_d88/2),new DOMPoint(_l294,_h221+_r111/2+_d88/2)).matrixTransform(_m38).matrixTransform(_g33).length,_e1141=new X(new DOMPoint(_l294,_h221+_r111/2-_u49.minBaseThickness/2),new DOMPoint(_l294,_h221+_r111/2+_u49.minBaseThickness/2)).matrixTransform(_m38).matrixTransform(_g33).length,_i1076=new X(new DOMPoint(_l294,_h221+_r111/2-_u49.maxBaseThickness/2),new DOMPoint(_l294,_h221+_r111/2+_u49.maxBaseThickness/2)).matrixTransform(_m38).matrixTransform(_g33).length;this["#base-thickness-slider"].min=Z(_e1141,_o354),this["#base-thickness-slider"].max=Z(_i1076,_o354),this["#base-thickness-slider"].value=Z(_t1635,_o354),this["#base-thickness-slider"].step=_x133,this["#base-thickness-input"].min=Z(_e1141,_o354),this["#base-thickness-input"].max=Z(_i1076,_o354),this["#base-thickness-input"].value=Z(_t1635,_o354),this["#base-thickness-input"].step=_x133,this["#base-thickness-input"].suffix=_b40;}if(!1===this.eg){var _t1636=new X(new DOMPoint(_l294+_a176-_c68,_h221),new DOMPoint(_l294+_a176-_c68,_h221+_r111)).matrixTransform(_m38).matrixTransform(_g33).length,_i1077=new X(new DOMPoint(0,0),new DOMPoint(0,_u49.minHeadThickness)).matrixTransform(_m38).matrixTransform(_g33).length,_s624=new Et(_t1636,_e1140||"px");_s624=_s624.toLength("px"),_s624.value=Math.max(2*_s624.value,100),_s624=_s624.toLength(_e1140||"px"),this["#head-thickness-slider"].min=Z(_i1077,_o354),this["#head-thickness-slider"].max=Z(_s624.value,_o354),this["#head-thickness-slider"].value=Z(_t1636,_o354),this["#head-thickness-slider"].step=_x133,this["#head-thickness-input"].min=Z(_i1077,_o354),this["#head-thickness-input"].value=Z(_t1636,_o354),this["#head-thickness-input"].suffix=_b40,this["#head-thickness-input"].step=_x133;}if(!1===this.ig){var _t1637=new X(new DOMPoint(_l294+_a176-_c68,_h221+_r111/2),new DOMPoint(_l294+_a176,_h221+_r111/2)).matrixTransform(_m38).matrixTransform(_g33).length,_e1142=new X(new DOMPoint(0,0),new DOMPoint(_u49.minHeadLength,0)).matrixTransform(_m38).matrixTransform(_g33).length,_i1078=new X(new DOMPoint(0,0),new DOMPoint(_u49.maxHeadLength,0)).matrixTransform(_m38).matrixTransform(_g33).length;this["#head-length-slider"].min=Z(_e1142,_o354),this["#head-length-slider"].max=Z(_i1078,_o354),this["#head-length-slider"].value=Z(_t1637,_o354),this["#head-length-slider"].step=_x133,this["#head-length-input"].min=Z(_e1142,_o354),this["#head-length-input"].max=Z(_i1078,_o354),this["#head-length-input"].value=Z(_t1637,_o354),this["#head-length-input"].suffix=_b40,this["#head-length-input"].step=_x133;}if(!1===this.sg){var _t1638=new X(new DOMPoint(_l294+_a176-_c68,_h221+_r111/2-_d88/2),new DOMPoint(_l294+_a176-_c68+_p58,_h221+_r111/2-_d88/2)).matrixTransform(_m38).matrixTransform(_g33).length,_e1143=new X(new DOMPoint(_l294+_a176-_c68,_h221+_r111/2-_d88/2),new DOMPoint(_l294+_a176-_c68+_u49.minHeadInset,_h221+_r111/2-_d88/2)).matrixTransform(_m38).matrixTransform(_g33).length,_i1079=new X(new DOMPoint(_l294+_a176-_c68,_h221+_r111/2-_d88/2),new DOMPoint(_l294+_a176-_c68+_u49.maxHeadInset,_h221+_r111/2-_d88/2)).matrixTransform(_m38).matrixTransform(_g33).length;this["#head-inset-slider"].min=Z(_e1143,_o354),this["#head-inset-slider"].max=Z(_i1079,_o354),this["#head-inset-slider"].value=Z(_t1638,_o354),this["#head-inset-slider"].step=_x133,this["#head-inset-input"].min=0,this["#head-inset-input"].max=Infinity,this["#head-inset-input"].value=Z(_t1638,_o354),this["#head-inset-input"].step=_x133,this["#head-inset-input"].suffix=_b40;}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return xb;}(pb);_defineProperty(xb,"_shadowTemplate",Yi(_templateObject319()));_defineProperty(xb,"_shadowStyleSheet",Wi(_templateObject320()));customElements.define("bx-arrowgeometryinspector",xb);var bb=Math.pow;var mb=/*#__PURE__*/function(_pb2){_inherits(mb,_pb2);var _super131=_createSuper(mb);function mb(){var _this600;_classCallCheck(this,mb);_this600=_super131.call(this),_this600.og=!1,_this600.lg=!1,_this600._a=Xi(_this600.qs,200,_assertThisInitialized(_this600)),_this600["#dx-input"].addEventListener("changestart",function(t){return _this600.hg(t);}),_this600["#dy-input"].addEventListener("changestart",function(t){return _this600.hg(t);}),_this600["#rotation-box"].addEventListener("changestart",function(){return _this600.ag();});return _this600;}_createClass(mb,[{key:"tn",value:function tn(){var _this601=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this601._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this601._a();}),this.Js.board.charHud.addEventListener("selectedcharchange",this.rg=function(){_this601._a();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this601._a();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.charHud.removeEventListener("selectedcharchange",this.rg),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"hg",value:function hg(t){var _this602=this;var e,_i1081,s,n,o,l=this.Js.board,_this$Jm3=this.Jm,h=_this$Jm3.displaySpace,a=_this$Jm3.displayUnit,_l$charHud$selectedCh=l.charHud.selectedChar,r=_l$charHud$selectedCh.textElement,d=_l$charHud$selectedCh.charIndex,c=t.target,p=[],u=[];this.og=!0,l.undoManager.checkpoint("Character delta"),ci(r);{var _t1639=0;var _iterator1137=_createForOfIteratorHelper(bi(r)),_step1137;try{for(_iterator1137.s();!(_step1137=_iterator1137.n()).done;){var _e1144=_step1137.value;var _i1080=0;var _iterator1138=_createForOfIteratorHelper(_e1144.textContent),_step1138;try{for(_iterator1138.s();!(_step1138=_iterator1138.n()).done;){var _l295=_step1138.value;if(_t1639===d){s=_e1144.parentNode,n=_e1144,o=_i1080;break;}_t1639+=1,_i1080+=1;}}catch(err){_iterator1138.e(err);}finally{_iterator1138.f();}if(s)break;}}catch(err){_iterator1137.e(err);}finally{_iterator1137.f();}}for(var _t1640=0;_t1640<n.textContent.length;_t1640+=1){p[_t1640]=void 0!==s.dx.baseVal[_t1640]?s.dx.baseVal[_t1640].value:0,u[_t1640]=void 0!==s.dy.baseVal[_t1640]?s.dy.baseVal[_t1640].value:0;}var x=qt("px",a),b=x.inverse(),m=Vt(s,l.vectorCanvas);"viewport"===h&&(m=Wt(l.currentWorkspace).multiply(m));var g=m.inverse(),f=new DOMPoint(0,0);f=f.matrixTransform(m),f=f.matrixTransform(x),c.addEventListener("change",e=function e(t){var e=new DOMPoint(_this602["#dx-input"].value+f.x,_this602["#dy-input"].value+f.y).matrixTransform(b);e=e.matrixTransform(g),e=Me(e,l.geometryPrecision),p[o]=e.x,u[o]=e.y,s.setAttribute("dx",p.join(" ")),s.setAttribute("dy",u.join(" "));}),c.addEventListener("changeend",_i1081=function i(){c.removeEventListener("change",e),c.removeEventListener("changeend",_i1081),pi(r),_this602.og=!1;});}},{key:"ag",value:function ag(){var _this603=this;var t,_e1146,i,s,n,o=this.Js.board,_o$charHud$selectedCh=o.charHud.selectedChar,l=_o$charHud$selectedCh.textElement,h=_o$charHud$selectedCh.charIndex,a=[];this.lg=!0,o.undoManager.checkpoint("Character delta"),ci(l);{var _t1641=0;var _iterator1139=_createForOfIteratorHelper(bi(l)),_step1139;try{for(_iterator1139.s();!(_step1139=_iterator1139.n()).done;){var _e1145=_step1139.value;var _o355=0;var _iterator1140=_createForOfIteratorHelper(_e1145.textContent),_step1140;try{for(_iterator1140.s();!(_step1140=_iterator1140.n()).done;){var _l296=_step1140.value;if(_t1641===h){i=_e1145.parentNode,s=_e1145,n=_o355;break;}_t1641+=1,_o355+=1;}}catch(err){_iterator1140.e(err);}finally{_iterator1140.f();}if(i)break;}}catch(err){_iterator1139.e(err);}finally{_iterator1139.f();}for(var _t1642=0;_t1642<s.textContent.length;_t1642+=1){a[_t1642]=void 0!==i.rotate.baseVal[_t1642]?i.rotate.baseVal[_t1642].value:0;}}this["#rotation-box"].addEventListener("change",t=function t(_t1643){_t1643.target===_this603["#rotation-slider"]?_this603["#rotation-input"].value=_this603["#rotation-slider"].value:_t1643.target===_this603["#rotation-input"]&&(_this603["#rotation-slider"].value=_this603["#rotation-input"].value),_this603.Qs.modKeys.shift&&(_this603["#rotation-input"].value=Be(_this603["#rotation-slider"].value,15),_this603["#rotation-slider"].value=_this603["#rotation-input"].value),a[n]=Z(_this603["#rotation-input"].value,o.geometryPrecision),i.setAttribute("rotate",a.join(" "));}),this["#rotation-box"].addEventListener("changeend",_e1146=function e(){_this603["#rotation-box"].removeEventListener("change",t),_this603["#rotation-box"].removeEventListener("changeend",_e1146),pi(l),_this603.lg=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board;if(!1===this.og&&!1===this.lg)if(t.charHud.selectedChar){var _t$charHud$selectedCh=t.charHud.selectedChar,_e1147=_t$charHud$selectedCh.textElement,_i1082=_t$charHud$selectedCh.charIndex,_this$Jm4=this.Jm,_s625=_this$Jm4.displayUnit,_n452=_this$Jm4.displaySpace,_o356=_this$Jm4.displayPrecision,_l297=_i(_e1147),_h222=_l297.dx[_i1082],_a177=_l297.dy[_i1082],_r112=_l297.rotate[_i1082],_d89=_s625?" "+_s625:"",_c69=1/bb(10,_o356-1),_p59=qt("px",_s625),_u50=Vt(_e1147,t.vectorCanvas);"viewport"===_n452&&(_u50=Wt(t.currentWorkspace).multiply(_u50));var _x134=new DOMPoint(0,0);_x134=_x134.matrixTransform(_u50),_x134=_x134.matrixTransform(_p59);var _b41=new DOMPoint(_h222,_a177);_b41=_b41.matrixTransform(_u50),_b41=_b41.matrixTransform(_p59),_h222=_b41.x-_x134.x,_a177=_b41.y-_x134.y,!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#dx-input"].value=Z(_h222,_o356),this["#dx-input"].suffix=_d89,this["#dx-input"].step=_c69,this["#dy-input"].value=Z(_a177,_o356),this["#dy-input"].suffix=_d89,this["#dy-input"].step=_c69,this["#rotation-input"].value=Z(_r112,1),this["#rotation-slider"].value=Z(_r112,1);}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return mb;}(pb);_defineProperty(mb,"_shadowTemplate",Yi(_templateObject321()));_defineProperty(mb,"_shadowStyleSheet",Wi(_templateObject322()));customElements.define("bx-chargeometryinspector",mb);var gb=Math.pow;var fb=/*#__PURE__*/function(_pb3){_inherits(fb,_pb3);var _super132=_createSuper(fb);function fb(){var _this604;_classCallCheck(this,fb);_this604=_super132.call(this),_this604.dg=!1,_this604.cg=!1,_this604.Vb=!1,_this604._a=Xi(_this604.qs,200,_assertThisInitialized(_this604)),_this604["#cx-input"].addEventListener("changestart",function(){return _this604.pg();}),_this604["#cy-input"].addEventListener("changestart",function(){return _this604.ug();}),_this604["#radius-input"].addEventListener("changestart",function(){return _this604.xg();});return _this604;}_createClass(fb,[{key:"tn",value:function tn(){var _this605=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this605._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this605._a();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this605._a();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"pg",value:function pg(){var _this606=this;var t,_e1148,i=this.Js.board,s=i.selectedElements[0],_this$Jm5=this.Jm,n=_this$Jm5.displaySpace,o=_this$Jm5.displayUnit,l=i.geometryPrecision,h=qt(o,"px"),a=Vt(s,i.vectorCanvas);"viewport"===n&&(a=Wt(i.currentWorkspace).multiply(a));var r=a.inverse();i.undoManager.checkpoint("Circle center"),this.dg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1644){var e=new DOMPoint(_this606["#cx-input"].value,_this606["#cy-input"].value);e=e.matrixTransform(h),e=e.matrixTransform(r),e=Me(e,l),s.setAttribute("cx",e.x),s.setAttribute("cy",e.y);}),this["#cx-input"].addEventListener("changeend",_e1148=function e(){_this606["#cx-input"].removeEventListener("change",t),_this606["#cx-input"].removeEventListener("changeend",_e1148),_this606.dg=!1;});}},{key:"ug",value:function ug(){var _this607=this;var t,_e1149,i=this.Js.board,s=i.selectedElements[0],_this$Jm6=this.Jm,n=_this$Jm6.displaySpace,o=_this$Jm6.displayUnit,l=i.geometryPrecision,h=qt(o,"px"),a=Vt(s,i.currentWorkspace);"viewport"===n&&(a=Wt(i.currentWorkspace).multiply(a));var r=a.inverse();i.undoManager.checkpoint("Circle center"),this.cg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1645){var e=new DOMPoint(_this607["#cx-input"].value,_this607["#cy-input"].value);e=e.matrixTransform(h),e=e.matrixTransform(r),e=Me(e,l),s.setAttribute("cx",e.x),s.setAttribute("cy",e.y);}),this["#cy-input"].addEventListener("changeend",_e1149=function e(){_this607["#cy-input"].removeEventListener("change",t),_this607["#cy-input"].removeEventListener("changeend",_e1149),_this607.cg=!1;});}},{key:"xg",value:function xg(){var _this608=this;var t,_e1150,i=this.Js.board,s=i.selectedElements[0],_this$Jm7=this.Jm,n=_this$Jm7.displaySpace,o=_this$Jm7.displayUnit,l=i.geometryPrecision,h=qt(o,"px"),a=Vt(s,i.currentWorkspace);"viewport"===n&&(a=Wt(i.currentWorkspace).multiply(a));var r=a.inverse();i.undoManager.checkpoint("Circle radius"),this.Vb=!0;var d=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value);d=d.matrixTransform(a),d=d.matrixTransform(h);var c=new DOMPoint(s.cx.baseVal.value+100,s.cy.baseVal.value);c=c.matrixTransform(a),c=c.matrixTransform(h),this["#radius-input"].addEventListener("change",t=function t(_t1646){var e=new X(d,c);e.length=_this608["#radius-input"].value,e=e.matrixTransform(h),e=e.matrixTransform(r);var i=Z(e.length,l);s.setAttribute("r",i);}),this["#radius-input"].addEventListener("changeend",_e1150=function e(){_this608["#radius-input"].removeEventListener("change",t),_this608["#radius-input"].removeEventListener("changeend",_e1150),_this608.Vb=!1;});}},{key:"qs",value:function qs(){if(!1===this.dg&&!1===this.cg&&!1===this.Vb){var _t1647=this.Js.board,_e1151=_t1647.outermostSelectedElements;if(0===_e1151.length||"circle"!==_e1151[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _this$Jm8=this.Jm,_i1083=_this$Jm8.displayUnit,_s626=_this$Jm8.displaySpace,_n453=_this$Jm8.displayPrecision,_o357=_e1151[0],_l298=Vt(_o357,_t1647.currentWorkspace),_h223=qt("px",_i1083),_a178=_i1083?" "+_i1083:"",_r113=1/gb(10,_n453-1);"viewport"===_s626&&(_l298=Wt(_t1647.currentWorkspace).multiply(_l298));var _d90=new DOMPoint(_o357.cx.baseVal.value,_o357.cy.baseVal.value);_d90=_d90.matrixTransform(_l298),_d90=_d90.matrixTransform(_h223),_d90=Me(_d90,_n453);var _c70=new DOMPoint(_o357.cx.baseVal.value+_o357.r.baseVal.value,_o357.cy.baseVal.value);_c70=_c70.matrixTransform(_l298),_c70=_c70.matrixTransform(_h223);var _p60=new X(_d90,_c70).length;_p60=Z(_p60,_n453),this["#cx-input"].value=_d90.x,this["#cx-input"].suffix=_a178,this["#cx-input"].step=_r113,this["#cy-input"].value=_d90.y,this["#cy-input"].suffix=_a178,this["#cy-input"].step=_r113,this["#radius-input"].value=_p60,this["#radius-input"].suffix=_a178,this["#radius-input"].step=_r113;}}}}]);return fb;}(pb);_defineProperty(fb,"_shadowTemplate",Yi(_templateObject323()));_defineProperty(fb,"_shadowStyleSheet",Wi(_templateObject324()));customElements.define("bx-circlegeometryinspector",fb);var wb=Math.pow;var vb=/*#__PURE__*/function(_pb4){_inherits(vb,_pb4);var _super133=_createSuper(vb);function vb(){var _this609;_classCallCheck(this,vb);_this609=_super133.call(this),_this609.dg=!1,_this609.cg=!1,_this609.bg=!1,_this609.mg=!1,_this609.gg=!1,_this609.fg=!1,_this609.wg=!1,_this609._a=Xi(_this609.qs,200,_assertThisInitialized(_this609)),_this609["#cx-input"].addEventListener("changestart",function(){return _this609.pg();}),_this609["#cy-input"].addEventListener("changestart",function(){return _this609.ug();}),_this609["#r1-input"].addEventListener("changestart",function(){return _this609.vg();}),_this609["#r2-input"].addEventListener("changestart",function(){return _this609.yg();}),_this609["#r3-input"].addEventListener("changestart",function(){return _this609.kg();}),_this609["#splay-section"].addEventListener("changestart",function(){return _this609.Gp();}),_this609["#teeth-section"].addEventListener("changestart",function(){return _this609.Fp();});return _this609;}_createClass(vb,[{key:"tn",value:function tn(){var _this610=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this610._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this610._a();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this610._a();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"pg",value:function pg(){var _this611=this;var t,_e1152,i=this.Js.board,s=i.selectedElements[0],_ul$values44=_slicedToArray(ul(s).values,7),n=_ul$values44[0],o=_ul$values44[1],l=_ul$values44[2],h=_ul$values44[3],a=_ul$values44[4],r=_ul$values44[5],d=_ul$values44[6],_this$Jm9=this.Jm,c=_this$Jm9.displaySpace,p=_this$Jm9.displayUnit,u=i.geometryPrecision,x=qt(p,"px"),b=Vt(s,i.vectorCanvas);"viewport"===c&&(b=Wt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog center"),this.dg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1648){var e=new DOMPoint(_this611["#cx-input"].value,_this611["#cy-input"].value);e=e.matrixTransform(x),e=e.matrixTransform(m),e=Me(e,u),n=e.x,o=e.y,xl(s,{type:"cog",values:[n,o,l,h,a,r,d]});}),this["#cx-input"].addEventListener("changeend",_e1152=function e(){_this611["#cx-input"].removeEventListener("change",t),_this611["#cx-input"].removeEventListener("changeend",_e1152),_this611.dg=!1;});}},{key:"ug",value:function ug(){var _this612=this;var t,_e1153,i=this.Js.board,s=i.selectedElements[0],_ul$values45=_slicedToArray(ul(s).values,7),n=_ul$values45[0],o=_ul$values45[1],l=_ul$values45[2],h=_ul$values45[3],a=_ul$values45[4],r=_ul$values45[5],d=_ul$values45[6],_this$Jm10=this.Jm,c=_this$Jm10.displaySpace,p=_this$Jm10.displayUnit,u=i.geometryPrecision,x=qt(p,"px"),b=Vt(s,i.currentWorkspace);"viewport"===c&&(b=Wt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog center"),this.cg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1649){var e=new DOMPoint(_this612["#cx-input"].value,_this612["#cy-input"].value);e=e.matrixTransform(x),e=e.matrixTransform(m),e=Me(e,u),n=e.x,o=e.y,xl(s,{type:"cog",values:[n,o,l,h,a,r,d]});}),this["#cy-input"].addEventListener("changeend",_e1153=function e(){_this612["#cy-input"].removeEventListener("change",t),_this612["#cy-input"].removeEventListener("changeend",_e1153),_this612.cg=!1;});}},{key:"vg",value:function vg(){var _this613=this;var t,_e1154,i=this.Js.board,s=i.selectedElements[0],_ul$values46=_slicedToArray(ul(s).values,7),n=_ul$values46[0],o=_ul$values46[1],l=_ul$values46[2],h=_ul$values46[3],a=_ul$values46[4],r=_ul$values46[5],d=_ul$values46[6],_this$Jm11=this.Jm,c=_this$Jm11.displaySpace,p=_this$Jm11.displayUnit,u=i.geometryPrecision,x=qt(p,"px"),b=Vt(s,i.currentWorkspace);"viewport"===c&&(b=Wt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog radius"),this.bg=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r1-input"].addEventListener("change",t=function t(_t1650){var e=new X(g,f);e.length=_this613["#r1-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),l=Z(e.length,u),xl(s,{type:"cog",values:[n,o,l,h,a,r,d]});}),this["#r1-input"].addEventListener("changeend",_e1154=function e(){_this613["#r1-input"].removeEventListener("change",t),_this613["#r1-input"].removeEventListener("changeend",_e1154),_this613.bg=!1;});}},{key:"yg",value:function yg(){var _this614=this;var t,_e1155,i=this.Js.board,s=i.selectedElements[0],_ul$values47=_slicedToArray(ul(s).values,7),n=_ul$values47[0],o=_ul$values47[1],l=_ul$values47[2],h=_ul$values47[3],a=_ul$values47[4],r=_ul$values47[5],d=_ul$values47[6],_this$Jm12=this.Jm,c=_this$Jm12.displaySpace,p=_this$Jm12.displayUnit,u=i.geometryPrecision,x=qt(p,"px"),b=Vt(s,i.currentWorkspace);"viewport"===c&&(b=Wt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog radius"),this.mg=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r2-input"].addEventListener("change",t=function t(_t1651){var e=new X(g,f);e.length=_this614["#r2-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),h=Z(e.length,u),xl(s,{type:"cog",values:[n,o,l,h,a,r,d]});}),this["#r2-input"].addEventListener("changeend",_e1155=function e(){_this614["#r2-input"].removeEventListener("change",t),_this614["#r2-input"].removeEventListener("changeend",_e1155),_this614.mg=!1;});}},{key:"kg",value:function kg(){var _this615=this;var t,_e1156,i=this.Js.board,s=i.selectedElements[0],_ul$values48=_slicedToArray(ul(s).values,7),n=_ul$values48[0],o=_ul$values48[1],l=_ul$values48[2],h=_ul$values48[3],a=_ul$values48[4],r=_ul$values48[5],d=_ul$values48[6],_this$Jm13=this.Jm,c=_this$Jm13.displaySpace,p=_this$Jm13.displayUnit,u=i.geometryPrecision,x=qt(p,"px"),b=Vt(s,i.currentWorkspace);"viewport"===c&&(b=Wt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog radius"),this.gg=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r3-input"].addEventListener("change",t=function t(_t1652){var e=new X(g,f);e.length=_this615["#r3-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),a=Z(e.length,u),xl(s,{type:"cog",values:[n,o,l,h,a,r,d]});}),this["#r3-input"].addEventListener("changeend",_e1156=function e(){_this615["#r3-input"].removeEventListener("change",t),_this615["#r3-input"].removeEventListener("changeend",_e1156),_this615.gg=!1;});}},{key:"Gp",value:function Gp(){var _this616=this;var t,_e1157,i=this.Js.board,s=i.selectedElements[0],n=ul(s),o=i.geometryPrecision,_n$values12=_slicedToArray(n.values,7),l=_n$values12[0],h=_n$values12[1],a=_n$values12[2],r=_n$values12[3],d=_n$values12[4],c=_n$values12[5],p=_n$values12[6];i.undoManager.checkpoint("Cog splay"),this.fg=!0,this["#splay-section"].addEventListener("change",t=function t(_t1653){_t1653.target===_this616["#splay-slider"]?_this616["#splay-input"].value=_this616["#splay-slider"].value:_t1653.target===_this616["#splay-input"]&&(_this616["#splay-slider"].value=_this616["#splay-input"].value),c=(100-_this616["#splay-input"].value)/100,c=Z(c,o),xl(s,{type:"cog",values:[l,h,a,r,d,c,p]});}),this["#splay-section"].addEventListener("changeend",_e1157=function e(){_this616["#splay-section"].removeEventListener("change",t),_this616["#splay-section"].removeEventListener("changeend",_e1157),_this616.fg=!1;});}},{key:"Fp",value:function Fp(){var _this617=this;var t,_e1158,i=this.Js.board,s=i.selectedElements[0],n=ul(s),_n$values13=_slicedToArray(n.values,7),o=_n$values13[0],l=_n$values13[1],h=_n$values13[2],a=_n$values13[3],r=_n$values13[4],d=_n$values13[5],c=_n$values13[6];i.undoManager.checkpoint("Cog teeth"),this.wg=!0,this["#teeth-section"].addEventListener("change",t=function t(_t1654){_t1654.target===_this617["#teeth-slider"]?_this617["#teeth-input"].value=_this617["#teeth-slider"].value:_t1654.target===_this617["#teeth-input"]&&(_this617["#teeth-slider"].value=_this617["#teeth-input"].value),c=_this617["#teeth-input"].value,xl(s,{type:"cog",values:[o,l,h,a,r,d,c]});}),this["#teeth-section"].addEventListener("changeend",_e1158=function e(){_this617["#teeth-section"].removeEventListener("change",t),_this617["#teeth-section"].removeEventListener("changeend",_e1158),_this617.wg=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _i1084=e[0],_s627=ul(_i1084);if(_s627&&"cog"===_s627.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _s627$values=_slicedToArray(_s627.values,7),_i1085=_s627$values[0],_n454=_s627$values[1],_o358=_s627$values[2],_l299=_s627$values[3],_h224=_s627$values[4],_a179=_s627$values[5],_r114=_s627$values[6],_this$Jm14=this.Jm,_d91=_this$Jm14.displayUnit,_c71=_this$Jm14.displaySpace,_p61=_this$Jm14.displayPrecision,_u51=e[0],_x135=Vt(_u51,t.currentWorkspace),_b42=qt("px",_d91),_m39=_d91?" "+_d91:"",_g34=1/wb(10,_p61-1);"viewport"===_c71&&(_x135=Wt(t.currentWorkspace).multiply(_x135));var _f23=new DOMPoint(_i1085,_n454);if(_f23=_f23.matrixTransform(_x135),_f23=_f23.matrixTransform(_b42),_f23=Me(_f23,_p61),!1===this.dg&&(this["#cx-input"].value=_f23.x,this["#cx-input"].suffix=_m39,this["#cx-input"].step=_g34),!1===this.cg&&(this["#cy-input"].value=_f23.y,this["#cy-input"].suffix=_m39,this["#cy-input"].step=_g34),!1===this.bg){var _t1655=new DOMPoint(_i1085+_o358,_n454);_t1655=_t1655.matrixTransform(_x135),_t1655=_t1655.matrixTransform(_b42),this["#r1-input"].value=Z(new X(_f23,_t1655).length,_p61),this["#r1-input"].suffix=_m39,this["#r1-input"].step=_g34;}if(!1===this.mg){var _t1656=new DOMPoint(_i1085+_l299,_n454);_t1656=_t1656.matrixTransform(_x135),_t1656=_t1656.matrixTransform(_b42),this["#r2-input"].value=Z(new X(_f23,_t1656).length,_p61),this["#r2-input"].suffix=_m39,this["#r2-input"].step=_g34;}if(!1===this.gg){var _t1657=new DOMPoint(_i1085+_h224,_n454);_t1657=_t1657.matrixTransform(_x135),_t1657=_t1657.matrixTransform(_b42),this["#r3-input"].value=Z(new X(_f23,_t1657).length,_p61),this["#r3-input"].suffix=_m39,this["#r3-input"].step=_g34;}if(!1===this.fg){var _t1658=Z(100-100*_a179,_p61);this["#splay-slider"].value=_t1658,this["#splay-input"].value=_t1658;}!1===this.wg&&(this["#teeth-slider"].value=Z(_r114,0),this["#teeth-input"].value=Z(_r114,0));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return vb;}(pb);_defineProperty(vb,"_shadowTemplate",Yi(_templateObject325()));_defineProperty(vb,"_shadowStyleSheet",Wi(_templateObject326()));customElements.define("bx-coggeometryinspector",vb);var yb=Math.abs,kb=Math.min,Sb=Math.pow;var _b=/*#__PURE__*/function(_pb5){_inherits(_b,_pb5);var _super134=_createSuper(_b);function _b(){var _this618;_classCallCheck(this,_b);_this618=_super134.call(this),_this618.dg=!1,_this618.cg=!1,_this618.Sg=!1,_this618._g=!1,_this618.Cg=!1,_this618._a=Xi(_this618.qs,200,_assertThisInitialized(_this618)),_this618["#cx-input"].addEventListener("changestart",function(){_this618.pg();}),_this618["#cy-input"].addEventListener("changestart",function(){_this618.ug();}),_this618["#horizontal-arm-thickness-input"].addEventListener("changestart",function(){_this618.Mg();}),_this618["#vertical-arm-thickness-input"].addEventListener("changestart",function(){_this618.Pg();}),_this618["#shift-section"].addEventListener("changestart",function(){_this618.Op();}),_this618["#horizontal-arm-thickness-input"].validate=function(){return null;},_this618["#vertical-arm-thickness-input"].validate=function(){return null;},_this618["#shift-input"].validate=function(){return null;};return _this618;}_createClass(_b,[{key:"tn",value:function tn(){var _this619=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this619._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this619._a();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this619._a();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"pg",value:function pg(){var _this620=this;var t,_e1159,i=this.Js.board,s=i.selectedElements[0],_ul$values49=_slicedToArray(ul(s).values,7),n=_ul$values49[0],o=_ul$values49[1],l=_ul$values49[2],h=_ul$values49[3],a=_ul$values49[4],r=_ul$values49[5],d=_ul$values49[6],_this$Jm15=this.Jm,c=_this$Jm15.displaySpace,p=_this$Jm15.displayUnit,u=i.geometryPrecision,x=qt(p,"px"),b=Vt(s,i.vectorCanvas);"viewport"===c&&(b=Wt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cross center"),this.dg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1659){var e=new DOMPoint(_this620["#cx-input"].value,_this620["#cy-input"].value);e=e.matrixTransform(x),e=e.matrixTransform(m),e=Me(e,u);var i=Z(e.x-l/2,u),n=Z(e.y-h*d,u);xl(s,{type:"cross",values:[i,n,l,h,a,r,d]});}),this["#cx-input"].addEventListener("changeend",_e1159=function e(){_this620["#cx-input"].removeEventListener("change",t),_this620["#cx-input"].removeEventListener("changeend",_e1159),_this620.dg=!1;});}},{key:"ug",value:function ug(){var _this621=this;var t,_e1160,i=this.Js.board,s=i.selectedElements[0],_ul$values50=_slicedToArray(ul(s).values,7),n=_ul$values50[0],o=_ul$values50[1],l=_ul$values50[2],h=_ul$values50[3],a=_ul$values50[4],r=_ul$values50[5],d=_ul$values50[6],_this$Jm16=this.Jm,c=_this$Jm16.displaySpace,p=_this$Jm16.displayUnit,u=i.geometryPrecision,x=qt(p,"px"),b=Vt(s,i.currentWorkspace);"viewport"===c&&(b=Wt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cross center"),this.cg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1660){var e=new DOMPoint(_this621["#cx-input"].value,_this621["#cy-input"].value);e=e.matrixTransform(x),e=e.matrixTransform(m),e=Me(e,u);var i=Z(e.x-l/2,u),n=Z(e.y-h*d,u);xl(s,{type:"cross",values:[i,n,l,h,a,r,d]});}),this["#cy-input"].addEventListener("changeend",_e1160=function e(){_this621["#cy-input"].removeEventListener("change",t),_this621["#cy-input"].removeEventListener("changeend",_e1160),_this621.cg=!1;});}},{key:"Mg",value:function Mg(){var _this622=this;var t,_e1161,i=this.Js.board,s=i.selectedElements[0],n=ul(s),o=i.geometryPrecision,_n$values14=_slicedToArray(n.values,7),l=_n$values14[0],h=_n$values14[1],a=_n$values14[2],r=_n$values14[3],d=_n$values14[4],c=_n$values14[5],p=_n$values14[6],_this$Jm17=this.Jm,u=_this$Jm17.displaySpace,x=_this$Jm17.displayUnit,b=qt(x,"px"),m=qt("px",x),g=Vt(s,i.currentWorkspace);"viewport"===u&&(g=Wt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Cross horizontal arm thickness"),this.Sg=!0,this["#horizontal-arm-thickness-input"].addEventListener("change",t=function t(_t1661){var e=new X(0,100);e=e.matrixTransform(g),e=e.matrixTransform(m),e.length=_this622["#horizontal-arm-thickness-input"].value,e=e.matrixTransform(b),e=e.matrixTransform(f),d=Z(e.length,o),xl(s,{type:"cross",values:[l,h,a,r,d,c,p]});}),this["#horizontal-arm-thickness-input"].addEventListener("changeend",_e1161=function e(){_this622["#horizontal-arm-thickness-input"].removeEventListener("change",t),_this622["#horizontal-arm-thickness-input"].removeEventListener("changeend",_e1161),_this622.Sg=!1;});}},{key:"Pg",value:function Pg(){var _this623=this;var t,_e1162,i=this.Js.board,s=i.selectedElements[0],n=ul(s),o=i.geometryPrecision,_n$values15=_slicedToArray(n.values,7),l=_n$values15[0],h=_n$values15[1],a=_n$values15[2],r=_n$values15[3],d=_n$values15[4],c=_n$values15[5],p=_n$values15[6],_this$Jm18=this.Jm,u=_this$Jm18.displaySpace,x=_this$Jm18.displayUnit,b=qt(x,"px"),m=qt("px",x),g=Vt(s,i.currentWorkspace);"viewport"===u&&(g=Wt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Cross vertical arm thickness"),this._g=!0,this["#vertical-arm-thickness-input"].addEventListener("change",t=function t(_t1662){var e=new X(100,0);e=e.matrixTransform(g),e=e.matrixTransform(m),e.length=_this623["#vertical-arm-thickness-input"].value,e=e.matrixTransform(b),e=e.matrixTransform(f),c=Z(e.length,o),xl(s,{type:"cross",values:[l,h,a,r,d,c,p]});}),this["#vertical-arm-thickness-input"].addEventListener("changeend",_e1162=function e(){_this623["#vertical-arm-thickness-input"].removeEventListener("change",t),_this623["#vertical-arm-thickness-input"].removeEventListener("changeend",_e1162),_this623._g=!1;});}},{key:"Op",value:function Op(){var _this624=this;var t,_e1163,i=this.Js.board,s=i.selectedElements[0],n=ul(s),o=i.geometryPrecision,_n$values16=_slicedToArray(n.values,7),l=_n$values16[0],h=_n$values16[1],a=_n$values16[2],r=_n$values16[3],d=_n$values16[4],c=_n$values16[5],p=_n$values16[6],_this$Jm19=this.Jm,u=_this$Jm19.displaySpace,x=_this$Jm19.displayUnit,b=qt(x,"px"),m=qt("px",x),g=Vt(s,i.currentWorkspace);"viewport"===u&&(g=Wt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Cross shift"),this.Cg=!0,this["#shift-section"].addEventListener("change",t=function t(_t1663){_t1663.target===_this624["#shift-slider"]?_this624["#shift-input"].value=_this624["#shift-slider"].value:_t1663.target===_this624["#shift-input"]&&(_this624["#shift-slider"].value=_this624["#shift-input"].value);var e=new X(0,100);e=e.matrixTransform(g),e=e.matrixTransform(m),e.length=yb(_this624["#shift-input"].value),e=e.matrixTransform(b),e=e.matrixTransform(f),p=e.length*(_this624["#shift-input"].value<0?-1:1),p=p/r+.5,p=Z(p,o),xl(s,{type:"cross",values:[l,h,a,r,d,c,p]});}),this["#shift-section"].addEventListener("changeend",_e1163=function e(){_this624["#shift-section"].removeEventListener("change",t),_this624["#shift-section"].removeEventListener("changeend",_e1163),_this624.Cg=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _i1086=e[0],_s628=ul(_i1086);if(_s628&&"cross"===_s628.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _s628$values=_slicedToArray(_s628.values,7),_i1087=_s628$values[0],_n455=_s628$values[1],_o359=_s628$values[2],_l300=_s628$values[3],_h225=_s628$values[4],_a180=_s628$values[5],_r115=_s628$values[6],_this$Jm20=this.Jm,_d92=_this$Jm20.displayUnit,_c72=_this$Jm20.displaySpace,_p62=_this$Jm20.displayPrecision,_u52=e[0],_x136=Vt(_u52,t.currentWorkspace),_b43=qt("px",_d92),_m40=_d92?" "+_d92:"",_g35=1/Sb(10,_p62-1);"viewport"===_c72&&(_x136=Wt(t.currentWorkspace).multiply(_x136));var _f24=new DOMPoint(_i1087+_o359/2,_n455+_l300*_r115);if(_f24=_f24.matrixTransform(_x136),_f24=_f24.matrixTransform(_b43),_f24=Me(_f24,_p62),!1===this.dg&&(this["#cx-input"].value=_f24.x,this["#cx-input"].suffix=_m40,this["#cx-input"].step=_g35),!1===this.cg&&(this["#cy-input"].value=_f24.y,this["#cy-input"].suffix=_m40,this["#cy-input"].step=_g35),!1===this.Sg){var _t1664=new X(0,_h225);_t1664=_t1664.matrixTransform(_x136),_t1664=_t1664.matrixTransform(_b43);var _e1164=new X(0,2*kb(_l300*_r115,_l300-_l300*_r115));_e1164=_e1164.matrixTransform(_x136),_e1164=_e1164.matrixTransform(_b43),this["#horizontal-arm-thickness-input"].max=Z(_e1164.length,_p62),this["#horizontal-arm-thickness-input"].value=Z(_t1664.length,_p62),this["#horizontal-arm-thickness-input"].step=_g35,this["#horizontal-arm-thickness-input"].suffix=_m40;}if(!1===this._g){var _t1665=new X(_a180,0);_t1665=_t1665.matrixTransform(_x136),_t1665=_t1665.matrixTransform(_b43);var _e1165=new X(_o359,0);_e1165=_e1165.matrixTransform(_x136),_e1165=_e1165.matrixTransform(_b43),this["#vertical-arm-thickness-input"].max=Z(_e1165.length,_p62),this["#vertical-arm-thickness-input"].value=Z(_t1665.length,_p62),this["#vertical-arm-thickness-input"].step=_g35,this["#vertical-arm-thickness-input"].suffix=_m40;}if(!1===this.Cg){var _t1666=new X(0,(_r115-.5)*_l300);_t1666=_t1666.matrixTransform(_x136),_t1666=_t1666.matrixTransform(_b43);var _e1166=new X(0,_l300/2-_h225/2);_e1166=_e1166.matrixTransform(_x136),_e1166=_e1166.matrixTransform(_b43);var _i1088=Z(_t1666.length,_p62);_i1088*=_r115<.5?-1:1;var _s629=-Z(_e1166.length,_p62),_n456=Z(_e1166.length,_p62);this["#shift-slider"].min=_s629,this["#shift-slider"].max=_n456,this["#shift-slider"].step=_g35,this["#shift-slider"].value=_i1088,this["#shift-input"].min=_s629,this["#shift-input"].max=_n456,this["#shift-input"].step=_g35,this["#shift-input"].value=_i1088,this["#shift-input"].suffix=_m40;}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return _b;}(pb);_defineProperty(_b,"_shadowTemplate",Yi(_templateObject327()));_defineProperty(_b,"_shadowStyleSheet",Wi(_templateObject328()));customElements.define("bx-crossgeometryinspector",_b);var Cb=Math.pow;var Mb=/*#__PURE__*/function(_pb6){_inherits(Mb,_pb6);var _super135=_createSuper(Mb);function Mb(){var _this625;_classCallCheck(this,Mb);_this625=_super135.call(this),_this625.dg=!1,_this625.cg=!1,_this625.Dg=!1,_this625.zg=!1,_this625._a=Xi(_this625.qs,200,_assertThisInitialized(_this625)),_this625["#cx-input"].addEventListener("changestart",function(){return _this625.pg();}),_this625["#cy-input"].addEventListener("changestart",function(){return _this625.ug();}),_this625["#rx-input"].addEventListener("changestart",function(){return _this625.Og();}),_this625["#ry-input"].addEventListener("changestart",function(){return _this625.Eg();}),_this625["#aspect-ratio-button"].addEventListener("toggle",function(){return _this625.Tg();});return _this625;}_createClass(Mb,[{key:"tn",value:function tn(){var _this626=this;this["#aspect-ratio-button"].toggled=app.getConfig("bx-ellipsegeometry:preserveAspectRatio",!1),this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off",this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this626._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this626._a();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this626._a();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"pg",value:function pg(){var _this627=this;var t,_e1167,i=this.Js.board,s=i.selectedElements[0],_this$Jm21=this.Jm,n=_this$Jm21.displaySpace,o=_this$Jm21.displayUnit,l=i.geometryPrecision,h=qt(o,"px"),a=Vt(s,i.vectorCanvas);"viewport"===n&&(a=Wt(i.currentWorkspace).multiply(a));var r=a.inverse();i.undoManager.checkpoint("Ellipse center"),this.dg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1667){var e=new DOMPoint(_this627["#cx-input"].value,_this627["#cy-input"].value);e=e.matrixTransform(h),e=e.matrixTransform(r),e=Me(e,l),s.setAttribute("cx",e.x),s.setAttribute("cy",e.y);}),this["#cx-input"].addEventListener("changeend",_e1167=function e(){_this627["#cx-input"].removeEventListener("change",t),_this627["#cx-input"].removeEventListener("changeend",_e1167),_this627.dg=!1;});}},{key:"ug",value:function ug(){var _this628=this;var t,_e1168,i=this.Js.board,s=i.selectedElements[0],_this$Jm22=this.Jm,n=_this$Jm22.displaySpace,o=_this$Jm22.displayUnit,l=i.geometryPrecision,h=qt(o,"px"),a=Vt(s,i.currentWorkspace);"viewport"===n&&(a=Wt(i.currentWorkspace).multiply(a));var r=a.inverse();i.undoManager.checkpoint("Ellipse center"),this.cg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1668){var e=new DOMPoint(_this628["#cx-input"].value,_this628["#cy-input"].value);e=e.matrixTransform(h),e=e.matrixTransform(r),e=Me(e,l),s.setAttribute("cx",e.x),s.setAttribute("cy",e.y);}),this["#cy-input"].addEventListener("changeend",_e1168=function e(){_this628["#cy-input"].removeEventListener("change",t),_this628["#cy-input"].removeEventListener("changeend",_e1168),_this628.cg=!1;});}},{key:"Og",value:function Og(){var _this629=this;var t,_e1169,i=this.Js.board,s=i.selectedElements[0],_this$Jm23=this.Jm,n=_this$Jm23.displaySpace,o=_this$Jm23.displayUnit,l=i.geometryPrecision,h=this["#ry-input"].value/this["#rx-input"].value,a=qt(o,"px"),r=Vt(s,i.currentWorkspace);"viewport"===n&&(r=Wt(i.currentWorkspace).multiply(r));var d=r.inverse();i.undoManager.checkpoint("Ellipse radius X"),this.Dg=!0;var c=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value);c=c.matrixTransform(r),c=c.matrixTransform(a);var p=new DOMPoint(s.cx.baseVal.value+100,s.cy.baseVal.value);p=p.matrixTransform(r),p=p.matrixTransform(a),this["#rx-input"].addEventListener("change",t=function t(_t1670){var e=new X(c,p);e.length=_this629["#rx-input"].value,e=e.matrixTransform(a),e=e.matrixTransform(d);var i=Z(e.length,l);if(s.setAttribute("rx",i),_this629["#aspect-ratio-button"].toggled){var _t1669=Z(i*h,l);s.setAttribute("ry",_t1669);}}),this["#rx-input"].addEventListener("changeend",_e1169=function e(){_this629["#rx-input"].removeEventListener("change",t),_this629["#rx-input"].removeEventListener("changeend",_e1169),_this629.Dg=!1;});}},{key:"Eg",value:function Eg(){var _this630=this;var t,_e1170,i=this.Js.board,s=i.selectedElements[0],_this$Jm24=this.Jm,n=_this$Jm24.displaySpace,o=_this$Jm24.displayUnit,l=i.geometryPrecision,h=this["#rx-input"].value/this["#ry-input"].value,a=qt(o,"px"),r=Vt(s,i.currentWorkspace);"viewport"===n&&(r=Wt(i.currentWorkspace).multiply(r));var d=r.inverse();i.undoManager.checkpoint("Ellipse radius Y"),this.zg=!0;var c=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value);c=c.matrixTransform(r),c=c.matrixTransform(a);var p=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value+100);p=p.matrixTransform(r),p=p.matrixTransform(a),this["#ry-input"].addEventListener("change",t=function t(_t1672){var e=new X(c,p);e.length=_this630["#ry-input"].value,e=e.matrixTransform(a),e=e.matrixTransform(d);var i=Z(e.length,l);if(s.setAttribute("ry",i),_this630["#aspect-ratio-button"].toggled){var _t1671=Z(i*h,l);s.setAttribute("rx",_t1671);}}),this["#ry-input"].addEventListener("changeend",_e1170=function e(){_this630["#ry-input"].removeEventListener("change",t),_this630["#ry-input"].removeEventListener("changeend",_e1170),_this630.zg=!1;});}},{key:"Tg",value:function Tg(){this.Qs.setConfig("bx-ellipsegeometry:preserveAspectRatio",this["#aspect-ratio-button"].toggled),this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off";}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"ellipse"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _this$Jm25=this.Jm,_i1089=_this$Jm25.displayUnit,_s630=_this$Jm25.displaySpace,_n457=_this$Jm25.displayPrecision,_o360=e[0],_l301=Vt(_o360,t.currentWorkspace),_h226=qt("px",_i1089),_a181=_i1089?" "+_i1089:"",_r116=1/Cb(10,_n457-1);"viewport"===_s630&&(_l301=Wt(t.currentWorkspace).multiply(_l301));var _d93=new DOMPoint(_o360.cx.baseVal.value,_o360.cy.baseVal.value);_d93=_d93.matrixTransform(_l301),_d93=_d93.matrixTransform(_h226),_d93=Me(_d93,_n457);var _c73=new DOMPoint(_o360.cx.baseVal.value+_o360.rx.baseVal.value,_o360.cy.baseVal.value);_c73=_c73.matrixTransform(_l301),_c73=_c73.matrixTransform(_h226);var _p63=new DOMPoint(_o360.cx.baseVal.value,_o360.cy.baseVal.value+_o360.ry.baseVal.value);_p63=_p63.matrixTransform(_l301),_p63=_p63.matrixTransform(_h226);var _u53=Z(new X(_d93,_c73).length,_n457),_x137=Z(new X(_d93,_p63).length,_n457);!1===this.dg&&(this["#cx-input"].value=_d93.x,this["#cx-input"].suffix=_a181,this["#cx-input"].step=_r116),!1===this.cg&&(this["#cy-input"].value=_d93.y,this["#cy-input"].suffix=_a181,this["#cy-input"].step=_r116),!1===this.Dg&&(this["#rx-input"].value=_u53,this["#rx-input"].suffix=_a181,this["#rx-input"].step=_r116),!1===this.zg&&(this["#ry-input"].value=_x137,this["#ry-input"].suffix=_a181,this["#ry-input"].step=_r116);}}}]);return Mb;}(pb);_defineProperty(Mb,"_shadowTemplate",Yi(_templateObject329()));_defineProperty(Mb,"_shadowStyleSheet",Wi(_templateObject330()));customElements.define("bx-ellipsegeometryinspector",Mb);var Pb=Math.pow;var Db=/*#__PURE__*/function(_pb7){_inherits(Db,_pb7);var _super136=_createSuper(Db);function Db(){var _this631;_classCallCheck(this,Db);_this631=_super136.call(this),_this631.Ag=!1,_this631.$g=!1,_this631.eb=!1,_this631.Ig=!1,_this631._a=Xi(_this631.qs,200,_assertThisInitialized(_this631)),_this631["#x-input"].addEventListener("changestart",function(){return _this631.Lg();}),_this631["#y-input"].addEventListener("changestart",function(){return _this631.Bg();}),_this631["#width-input"].addEventListener("changestart",function(){return _this631.Rg();}),_this631["#height-input"].addEventListener("changestart",function(){return _this631.Gg();}),_this631["#aspect-ratio-button"].addEventListener("toggle",function(){return _this631.Tg();});return _this631;}_createClass(Db,[{key:"tn",value:function tn(){var _this632=this;this.qs(),this["#aspect-ratio-button"].toggled=this.Qs.getConfig("bx-gridgeometry:preserveAspectRatio",!1),this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this632._a();}),this.Js.board.gridHud.addEventListener("selectedchange",this.Fg=function(){_this632._a();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this632._a();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.gridHud.removeEventListener("selectedchange",this.Fg),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"Lg",value:function Lg(){var _this633=this;var t,_e1171,i=this.Js.board,s=i.maybeCreateGridForCurrentWorkspace(),_this$Jm26=this.Jm,n=_this$Jm26.displaySpace,o=_this$Jm26.displayUnit,l=qt(o,"px"),h=new DOMMatrix();"viewport"===n&&(h=Wt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Grid X"),this.Ag=!0,this["#x-input"].addEventListener("change",t=function t(_t1673){var e=new DOMRect(_this633["#x-input"].value,_this633["#y-input"].value,_this633["#width-input"].value,_this633["#height-input"].value);e=Ue(e,l),e=Ue(e,h),s.setAttribute("x",Z(e.x,i.geometryPrecision)),i.gridHud.requestImmidiateUpdate();}),this["#x-input"].addEventListener("changeend",_e1171=function e(){_this633["#x-input"].removeEventListener("change",t),_this633["#x-input"].removeEventListener("changeend",_e1171),_this633.Ag=!1;});}},{key:"Bg",value:function Bg(){var _this634=this;var t,_e1172,i=this.Js.board,s=i.maybeCreateGridForCurrentWorkspace(),_this$Jm27=this.Jm,n=_this$Jm27.displaySpace,o=_this$Jm27.displayUnit,l=qt(o,"px"),h=new DOMMatrix();"viewport"===n&&(h=Wt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Grid Y"),this.$g=!0,this["#y-input"].addEventListener("change",t=function t(_t1674){var e=new DOMRect(_this634["#x-input"].value,_this634["#y-input"].value,_this634["#width-input"].value,_this634["#height-input"].value);e=Ue(e,l),e=Ue(e,h),s.setAttribute("y",Z(e.y,i.geometryPrecision)),i.gridHud.requestImmidiateUpdate();}),this["#y-input"].addEventListener("changeend",_e1172=function e(){_this634["#y-input"].removeEventListener("change",t),_this634["#y-input"].removeEventListener("changeend",_e1172),_this634.$g=!1;});}},{key:"Rg",value:function Rg(){var _this635=this;var t,_e1173,i=this.Js.board,s=i.maybeCreateGridForCurrentWorkspace(),n=this["#height-input"].value/this["#width-input"].value,_this$Jm28=this.Jm,o=_this$Jm28.displaySpace,l=_this$Jm28.displayUnit,h=_this$Jm28.displayPrecision,a=qt(l,"px"),r=new DOMMatrix();"viewport"===o&&(r=Wt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Grid width"),this.eb=!0,this["#width-input"].addEventListener("change",t=function t(_t1675){var e=new DOMRect(0,0,_this635["#width-input"].value,_this635["#height-input"].value);!1===_this635["#aspect-ratio-button"].toggled?(e=Ue(e,a),e=Ue(e,r),s.setAttribute("width",Z(e.width,i.geometryPrecision))):!0===_this635["#aspect-ratio-button"].toggled&&(e.height=e.width*n,_this635["#height-input"].value=Z(e.height,h),e=Ue(e,a),e=Ue(e,r),s.setAttribute("width",Z(e.width,i.geometryPrecision)),s.setAttribute("height",Z(e.height,i.geometryPrecision))),i.gridHud.requestImmidiateUpdate();}),this["#width-input"].addEventListener("changeend",_e1173=function e(){_this635["#width-input"].removeEventListener("change",t),_this635["#width-input"].removeEventListener("changeend",_e1173),_this635.eb=!1;});}},{key:"Gg",value:function Gg(){var _this636=this;var t,_e1174,i=this.Js.board,s=i.maybeCreateGridForCurrentWorkspace(),n=this["#width-input"].value/this["#height-input"].value,_this$Jm29=this.Jm,o=_this$Jm29.displaySpace,l=_this$Jm29.displayUnit,h=_this$Jm29.displayPrecision,a=qt(l,"px"),r=new DOMMatrix();"viewport"===o&&(r=Wt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Grid height"),this.Ig=!0,this["#height-input"].addEventListener("change",t=function t(_t1676){var e=new DOMRect(0,0,_this636["#width-input"].value,_this636["#height-input"].value);!1===_this636["#aspect-ratio-button"].toggled?(e=Ue(e,a),e=Ue(e,r),s.setAttribute("height",Z(e.height,i.geometryPrecision))):!0===_this636["#aspect-ratio-button"].toggled&&(e.width=e.height*n,_this636["#width-input"].value=Z(e.width,h),e=Ue(e,a),e=Ue(e,r),s.setAttribute("width",Z(e.width,i.geometryPrecision)),s.setAttribute("height",Z(e.height,i.geometryPrecision))),i.gridHud.requestImmidiateUpdate();}),this["#height-input"].addEventListener("changeend",_e1174=function e(){_this636["#height-input"].removeEventListener("change",t),_this636["#height-input"].removeEventListener("changeend",_e1174),_this636.Ig=!1;});}},{key:"Tg",value:function Tg(){this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-gridgeometry:preserveAspectRatio",this["#aspect-ratio-button"].toggled);}},{key:"qs",value:function qs(){var t=this.Js.board;if(!1===this.Ag&&!1===this.$g&&!1===this.eb&&!1===this.Ig)if(t.gridHud.enabled&&t.gridHud.selected){var _e1175=t.currentWorkspace.querySelector(":scope > defs > bx-grid"),_this$Jm30=this.Jm,_i1090=_this$Jm30.displayUnit,_s631=_this$Jm30.displaySpace,_n458=_this$Jm30.displayPrecision,_o361=_i1090?" "+_i1090:"",_l302=1/Pb(10,_n458-1),_h227=qt("px",_i1090),_a182=new DOMMatrix();"viewport"===_s631&&(_a182=Wt(t.currentWorkspace).multiply(_a182));var _r117=new DOMRect(0,0,100,100);for(var _i1091=0,_arr42=["x","y","width","height"];_i1091<_arr42.length;_i1091++){var _t1677=_arr42[_i1091];_e1175&&_e1175.hasAttribute(_t1677)&&(_r117[_t1677]=qp.fromString(_e1175.getAttribute(_t1677)).value);}_r117=Ue(_r117,_a182),_r117=Ue(_r117,_h227),_r117=Fe(_r117,_n458),!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#x-input"].value=_r117.x,this["#x-input"].suffix=_o361,this["#x-input"].step=_l302,this["#y-input"].value=_r117.y,this["#y-input"].suffix=_o361,this["#y-input"].step=_l302,this["#width-input"].value=_r117.width,this["#width-input"].suffix=_o361,this["#width-input"].step=_l302,this["#height-input"].value=_r117.height,this["#height-input"].suffix=_o361,this["#height-input"].step=_l302;}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return Db;}(pb);_defineProperty(Db,"_shadowTemplate",Yi(_templateObject331()));_defineProperty(Db,"_shadowStyleSheet",Wi(_templateObject332()));customElements.define("bx-gridgeometryinspector",Db);var zb=Math.pow;var Ob=/*#__PURE__*/function(_pb8){_inherits(Ob,_pb8);var _super137=_createSuper(Ob);function Ob(){var _this637;_classCallCheck(this,Ob);_this637=_super137.call(this),_this637.Ag=!1,_this637.$g=!1,_this637._a=Xi(_this637.qs,200,_assertThisInitialized(_this637)),_this637["#x-input"].addEventListener("changestart",function(){return _this637.Lg();}),_this637["#y-input"].addEventListener("changestart",function(){return _this637.Bg();}),_this637["#orientation-buttons"].addEventListener("toggle",function(){return _this637.Yb();});return _this637;}_createClass(Ob,[{key:"tn",value:function tn(){var _this638=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this638._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this638._a();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this638._a();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"Lg",value:function Lg(){var _this639=this;var t,_e1176,i=this.Js.board,s=i.selectedElements.find(function(t){return"bx-guide"===t.localName;}),_this$Jm31=this.Jm,n=_this$Jm31.displaySpace,o=_this$Jm31.displayUnit,l=qt(o,"px"),h=new DOMMatrix();"viewport"===n&&(h=Wt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Guide X"),this.Ag=!0,this["#x-input"].addEventListener("change",t=function t(_t1678){var e=new DOMPoint(_this639["#x-input"].value,_this639["#y-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(h),e=Me(e,i.geometryPrecision),s.setAttribute("x",e.x),i.manualGuidesHud.requestImmidiateUpdate();}),this["#x-input"].addEventListener("changeend",_e1176=function e(){_this639["#x-input"].removeEventListener("change",t),_this639["#x-input"].removeEventListener("changeend",_e1176),_this639.Ag=!1;});}},{key:"Bg",value:function Bg(){var _this640=this;var t,_e1177,i=this.Js.board,s=i.selectedElements.find(function(t){return"bx-guide"===t.localName;}),_this$Jm32=this.Jm,n=_this$Jm32.displaySpace,o=_this$Jm32.displayUnit,l=qt(o,"px"),h=new DOMMatrix();"viewport"===n&&(h=Wt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Guide Y"),this.$g=!0,this["#y-input"].addEventListener("change",t=function t(_t1679){var e=new DOMPoint(_this640["#x-input"].value,_this640["#y-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(h),e=Me(e,i.geometryPrecision),s.setAttribute("y",e.y),i.manualGuidesHud.requestImmidiateUpdate();}),this["#y-input"].addEventListener("changeend",_e1177=function e(){_this640["#y-input"].removeEventListener("change",t),_this640["#y-input"].removeEventListener("changeend",_e1177),_this640.$g=!1;});}},{key:"Yb",value:function Yb(){var t=this.Js.board,e=this["#orientation-buttons"].value,i=t.selectedElements.filter(function(t){return"bx-guide"===t.localName;});if(i.length>0){t.undoManager.checkpoint("Guide orientation");var _iterator1141=_createForOfIteratorHelper(i),_step1141;try{for(_iterator1141.s();!(_step1141=_iterator1141.n()).done;){var _t1680=_step1141.value;var _i1092=qp.fromString(_t1680.getAttribute("angle")).value;"horizontal"===e?_i1092%180!=90&&_t1680.setAttribute("angle","90"):"vertical"===e&&_i1092%180!=0&&_t1680.setAttribute("angle","0");}}catch(err){_iterator1141.e(err);}finally{_iterator1141.f();}}}},{key:"qs",value:function qs(){if(!1===this.Ag&&!1===this.$g){var _t1681=this.Js.board,_e1178=_t1681.selectedElements.filter(function(t){return"bx-guide"===t.localName;});if(0===_e1178.length)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _this$Jm33=this.Jm,_i1093=_this$Jm33.displayUnit,_s632=_this$Jm33.displaySpace,_n459=_this$Jm33.displayPrecision,_o362=_e1178[0],_l303=qp.fromString(_o362.getAttribute("angle")).value,_h228=_i1093?" "+_i1093:"",_a183=1/zb(10,_n459-1),_r118=qt("px",_i1093),_d94=new DOMMatrix();"viewport"===_s632&&(_d94=Wt(_t1681.currentWorkspace).multiply(_d94));var _c74=qp.fromString(_o362.getAttribute("x")).value,_p64=qp.fromString(_o362.getAttribute("y")).value,_u54=new DOMPoint(_c74,_p64);_u54=_u54.matrixTransform(_d94),_u54=_u54.matrixTransform(_r118),_u54=Me(_u54,_n459),this["#x-input"].value=_u54.x,this["#x-input"].suffix=_h228,this["#x-input"].step=_a183,this["#y-input"].value=_u54.y,this["#y-input"].suffix=_h228,this["#y-input"].step=_a183,this["#orientation-buttons"].value=_l303%180==90?"horizontal":"vertical";}}}}]);return Ob;}(pb);_defineProperty(Ob,"_shadowTemplate",Yi(_templateObject333()));_defineProperty(Ob,"_shadowStyleSheet",Wi(_templateObject334()));customElements.define("bx-guidegeometryinspector",Ob);var Eb=/*#__PURE__*/function(_pb9){_inherits(Eb,_pb9);var _super138=_createSuper(Eb);function Eb(){var _this641;_classCallCheck(this,Eb);_this641=_super138.call(this),_this641._a=Xi(_this641.qs,200,_assertThisInitialized(_this641));return _this641;}_createClass(Eb,[{key:"tn",value:function tn(){var _this642=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this642._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this642._a();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"qs",value:function(){var _qs2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee116(){var t,_e1179,_i1094,_s633;return regeneratorRuntime.wrap(function _callee116$(_context117){while(1){switch(_context117.prev=_context117.next){case 0:t=this.Js.board.outermostSelectedElements[0];if(!t){_context117.next=14;break;}if(!("image"===t.localName)){_context117.next=11;break;}_context117.next=5;return createImageBitmap(t);case 5:_e1179=_context117.sent;_i1094=_e1179.width;_s633=_e1179.height;_e1179.close(),this["#natural-width-input"].value=_i1094,this["#natural-height-input"].value=_s633,!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));_context117.next=12;break;case 11:!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));case 12:_context117.next=15;break;case 14:!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));case 15:case"end":return _context117.stop();}}},_callee116,this);}));function qs(){return _qs2.apply(this,arguments);}return qs;}()}]);return Eb;}(pb);_defineProperty(Eb,"_shadowTemplate",Yi(_templateObject335()));_defineProperty(Eb,"_shadowStyleSheet",Wi(_templateObject336()));customElements.define("bx-imagegeometryinspector",Eb);var Tb=Math.pow;var Ab=/*#__PURE__*/function(_pb10){_inherits(Ab,_pb10);var _super139=_createSuper(Ab);function Ab(){var _this643;_classCallCheck(this,Ab);_this643=_super139.call(this),_this643.Ug=!1,_this643.Ng=!1,_this643.Vg=!1,_this643.jg=!1,_this643.Hg=!1,_this643._a=Xi(_this643.qs,200,_assertThisInitialized(_this643)),_this643["#x1-input"].addEventListener("changestart",function(){return _this643.Yg();}),_this643["#y1-input"].addEventListener("changestart",function(){return _this643.Wg();}),_this643["#x2-input"].addEventListener("changestart",function(){return _this643.qg();}),_this643["#y2-input"].addEventListener("changestart",function(){return _this643.Xg();}),_this643["#length-input"].addEventListener("changestart",function(){return _this643.Zg();});return _this643;}_createClass(Ab,[{key:"tn",value:function tn(){var _this644=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this644._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this644._a();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this644._a();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"Yg",value:function Yg(){var _this645=this;var t,_e1180,i=this.Js.board,s=i.selectedElements[0],_this$Jm34=this.Jm,n=_this$Jm34.displaySpace,o=_this$Jm34.displayUnit,l=qt(o,"px"),h=Vt(s,i.vectorCanvas);"viewport"===n&&(h=Wt(i.currentWorkspace).multiply(h));var a=h.inverse();i.undoManager.checkpoint("Line X1"),this.Ug=!0,this["#x1-input"].addEventListener("change",t=function t(_t1682){var e=new DOMPoint(_this645["#x1-input"].value,_this645["#y1-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(a),e=Me(e,i.geometryPrecision),s.setAttribute("x1",e.x),s.setAttribute("y1",e.y);}),this["#x1-input"].addEventListener("changeend",_e1180=function e(){_this645["#x1-input"].removeEventListener("change",t),_this645["#x1-input"].removeEventListener("changeend",_e1180),_this645.Ug=!1;});}},{key:"Wg",value:function Wg(){var _this646=this;var t,_e1181,i=this.Js.board,s=i.selectedElements[0],_this$Jm35=this.Jm,n=_this$Jm35.displaySpace,o=_this$Jm35.displayUnit,l=qt(o,"px"),h=Vt(s,i.vectorCanvas);"viewport"===n&&(h=Wt(i.currentWorkspace).multiply(h));var a=h.inverse();i.undoManager.checkpoint("Line Y1"),this.Ng=!0,this["#y1-input"].addEventListener("change",t=function t(_t1683){var e=new DOMPoint(_this646["#x1-input"].value,_this646["#y1-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(a),e=Me(e,i.geometryPrecision),s.setAttribute("x1",e.x),s.setAttribute("y1",e.y);}),this["#y1-input"].addEventListener("changeend",_e1181=function e(){_this646["#y1-input"].removeEventListener("change",t),_this646["#y1-input"].removeEventListener("changeend",_e1181),_this646.Ng=!1;});}},{key:"qg",value:function qg(){var _this647=this;var t,_e1182,i=this.Js.board,s=i.selectedElements[0],_this$Jm36=this.Jm,n=_this$Jm36.displaySpace,o=_this$Jm36.displayUnit,l=qt(o,"px"),h=Vt(s,i.vectorCanvas);"viewport"===n&&(h=Wt(i.currentWorkspace).multiply(h));var a=h.inverse();i.undoManager.checkpoint("Line X2"),this.Vg=!0,this["#x2-input"].addEventListener("change",t=function t(_t1684){var e=new DOMPoint(_this647["#x2-input"].value,_this647["#y2-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(a),e=Me(e,i.geometryPrecision),s.setAttribute("x2",e.x),s.setAttribute("y2",e.y);}),this["#x2-input"].addEventListener("changeend",_e1182=function e(){_this647["#x2-input"].removeEventListener("change",t),_this647["#x2-input"].removeEventListener("changeend",_e1182),_this647.Vg=!1;});}},{key:"Xg",value:function Xg(){var _this648=this;var t,_e1183,i=this.Js.board,s=i.selectedElements[0],_this$Jm37=this.Jm,n=_this$Jm37.displaySpace,o=_this$Jm37.displayUnit,l=qt(o,"px"),h=Vt(s,i.vectorCanvas);"viewport"===n&&(h=Wt(i.currentWorkspace).multiply(h));var a=h.inverse();i.undoManager.checkpoint("Line Y2"),this.jg=!0,this["#y2-input"].addEventListener("change",t=function t(_t1685){var e=new DOMPoint(_this648["#x2-input"].value,_this648["#y2-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(a),e=Me(e,i.geometryPrecision),s.setAttribute("x2",e.x),s.setAttribute("y2",e.y);}),this["#y2-input"].addEventListener("changeend",_e1183=function e(){_this648["#y2-input"].removeEventListener("change",t),_this648["#y2-input"].removeEventListener("changeend",_e1183),_this648.jg=!1;});}},{key:"Zg",value:function Zg(){var _this649=this;var t,_e1184,i=this.Js.board,s=i.selectedElements[0],_this$Jm38=this.Jm,n=_this$Jm38.displaySpace,o=_this$Jm38.displayUnit,l=qt("px",o),h=Vt(s,i.vectorCanvas);"viewport"===n&&(h=Wt(i.currentWorkspace).multiply(h));var a=h.inverse();i.undoManager.checkpoint("Line length"),this.Hg=!0;var r=new DOMPoint(s.x1.baseVal.value,s.y1.baseVal.value),d=new DOMPoint(s.x2.baseVal.value,s.y2.baseVal.value);this["#length-input"].addEventListener("change",t=function t(_t1686){console.log("change");var e=new X(r,d);e=e.matrixTransform(h),e=e.matrixTransform(l),e.length=_this649["#length-input"].value,e=e.matrixTransform(l.inverse()),e=e.matrixTransform(a);var n=e.transformPoint(r);n=Me(n,i.geometryPrecision),s.setAttribute("x2",n.x),s.setAttribute("y2",n.y);}),this["#length-input"].addEventListener("changeend",_e1184=function e(){_this649["#length-input"].removeEventListener("change",t),_this649["#length-input"].removeEventListener("changeend",_e1184),_this649.Hg=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"line"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _i1095=e[0],_this$Jm39=this.Jm,_s634=_this$Jm39.displayUnit,_n460=_this$Jm39.displaySpace,_o363=_this$Jm39.displayPrecision,_l304=Vt(_i1095,t.currentWorkspace),_h229=qt("px",_s634),_a184=_s634?" "+_s634:"",_r119=1/Tb(10,_o363-1);"viewport"===_n460&&(_l304=Wt(t.currentWorkspace).multiply(_l304));var _d95=new DOMPoint(_i1095.x1.baseVal.value,_i1095.y1.baseVal.value);_d95=_d95.matrixTransform(_l304),_d95=_d95.matrixTransform(_h229);var _c75=new DOMPoint(_i1095.x2.baseVal.value,_i1095.y2.baseVal.value);_c75=_c75.matrixTransform(_l304),_c75=_c75.matrixTransform(_h229);var _p65=new X(_d95,_c75).length;_d95=Me(_d95,_o363),_c75=Me(_c75,_o363),_p65=Z(_p65,_o363),!1===this.Ug&&(this["#x1-input"].value=_d95.x,this["#x1-input"].suffix=_a184,this["#x1-input"].step=_r119),!1===this.Ng&&(this["#y1-input"].value=_d95.y,this["#y1-input"].suffix=_a184,this["#y1-input"].step=_r119),!1===this.Vg&&(this["#x2-input"].value=_c75.x,this["#x2-input"].suffix=_a184,this["#x2-input"].step=_r119),!1===this.jg&&(this["#y2-input"].value=_c75.y,this["#y2-input"].suffix=_a184,this["#y2-input"].step=_r119),!1===this.Hg&&(this["#length-input"].value=_p65,this["#length-input"].suffix=_a184,this["#length-input"].step=_r119);}}}]);return Ab;}(pb);_defineProperty(Ab,"_shadowTemplate",Yi(_templateObject337()));_defineProperty(Ab,"_shadowStyleSheet",Wi(_templateObject338()));customElements.define("bx-linegeometryinspector",Ab);var $b={ArrowRight:{xMinYMin:"xMidYMin",xMidYMin:"xMaxYMin",xMinYMid:"xMidYMid",xMidYMid:"xMaxYMid",xMinYMax:"xMidYMax",xMidYMax:"xMaxYMax"},ArrowLeft:{xMaxYMin:"xMidYMin",xMidYMin:"xMinYMin",xMaxYMid:"xMidYMid",xMidYMid:"xMinYMid",xMaxYMax:"xMidYMax",xMidYMax:"xMinYMax"},ArrowDown:{xMinYMin:"xMinYMid",xMinYMid:"xMinYMax",xMidYMin:"xMidYMid",xMidYMid:"xMidYMax",xMaxYMin:"xMaxYMid",xMaxYMid:"xMaxYMax"},ArrowUp:{xMinYMax:"xMinYMid",xMinYMid:"xMinYMin",xMidYMax:"xMidYMid",xMidYMid:"xMidYMin",xMaxYMax:"xMaxYMid",xMaxYMid:"xMaxYMin"}};var Ib=/*#__PURE__*/function(_HTMLElement101){_inherits(Ib,_HTMLElement101);var _super140=_createSuper(Ib);_createClass(Ib,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"none";},set:function set(t){this.setAttribute("value",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function Ib(){var _this650;_classCallCheck(this,Ib);_this650=_super140.call(this),_this650._shadowRoot=_this650.attachShadow({mode:"closed",delegatesFocus:!0}),_this650._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Ib._shadowStyleSheet],_this650._shadowRoot.append(document.importNode(Ib._shadowTemplate.content,!0));var _iterator1142=_createForOfIteratorHelper(_this650._shadowRoot.querySelectorAll("[id]")),_step1142;try{for(_iterator1142.s();!(_step1142=_iterator1142.n()).done;){var _t1687=_step1142.value;_this650["#"+_t1687.id]=_t1687;}}catch(err){_iterator1142.e(err);}finally{_iterator1142.f();}_this650.addEventListener("pointerdown",function(t){return _this650.wo(t);}),_this650["#buttons"].addEventListener("click",function(t){return _this650.Kg(t);}),_this650["#buttons"].addEventListener("keydown",function(t){return _this650.vn(t);},!0);return _this650;}_createClass(Ib,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.Qg():"disabled"===t&&this.ux());}},{key:"connectedCallback",value:function connectedCallback(){this.setAttribute("aria-disabled",this.disabled),this.qs();}},{key:"ux",value:function ux(){this.setAttribute("aria-disabled",this.disabled);}},{key:"wo",value:function wo(t){!1===this.matches(":focus")&&(t.preventDefault(),this.focus(),this.blur());}},{key:"Kg",value:function Kg(t){var e=t.target.closest("x-button");if(e&&!1===e.toggled){var _t1688=this["#buttons"].querySelector("x-button[toggled]");_t1688&&(_t1688.toggled=!1),e.toggled=!0,this.setAttribute("value",e?e.value:"none"),this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0}));}}},{key:"vn",value:function vn(t){var e=t.key;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(e)){t.preventDefault(),t.stopImmediatePropagation();var _i1096=this["#buttons"].querySelector("x-button:focus"),_s635=$b[e][_i1096.value],_n461=this["#buttons"].querySelector("x-button[value=\"".concat(_s635,"\"]"));_n461&&_n461.focus();}}},{key:"qs",value:function qs(){this.Qg();}},{key:"Qg",value:function Qg(){var _iterator1143=_createForOfIteratorHelper(this["#buttons"].children),_step1143;try{for(_iterator1143.s();!(_step1143=_iterator1143.n()).done;){var _t1689=_step1143.value;_t1689.toggled=_t1689.value===this.value;}}catch(err){_iterator1143.e(err);}finally{_iterator1143.f();}}}]);return Ib;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ib,"observedAttributes",["value","disabled"]);_defineProperty(Ib,"_shadowTemplate",Yi(_templateObject339()));_defineProperty(Ib,"_shadowStyleSheet",Wi(_templateObject340()));customElements.define("bx-alignbuttons",Ib);var Lb=Number.isFinite;var Bb=/*#__PURE__*/function(_pb11){_inherits(Bb,_pb11);var _super141=_createSuper(Bb);function Bb(){var _this651;_classCallCheck(this,Bb);_this651=_super141.call(this),_this651.Jg=!1,_this651.tf=!1,_this651.ef=!1,_this651["if"]=!1,_this651.sf=!1,_this651.nf=!1,_this651.lf=!1,_this651.hf=!1,_this651.af=!1,_this651.rf=null,_this651.df=null,_this651.cf=0,_this651.pf=Xi(_this651.qs,100,_assertThisInitialized(_this651)),_this651["#viewport-width-input"].addEventListener("changestart",function(){return _this651.uf();}),_this651["#viewport-height-input"].addEventListener("changestart",function(){return _this651.xf();}),_this651["#viewport-lock-button"].addEventListener("toggle",function(){return _this651.bf();}),_this651["#viewport-units-select"].addEventListener("change",function(){return _this651.mf();}),_this651["#viewbox-x-input"].addEventListener("changestart",function(t){return _this651.gf(t);}),_this651["#viewbox-y-input"].addEventListener("changestart",function(t){return _this651.ff(t);}),_this651["#viewbox-width-input"].addEventListener("changestart",function(t){return _this651.wf(t);}),_this651["#viewbox-height-input"].addEventListener("changestart",function(t){return _this651.vf(t);}),_this651["#viewbox-switch"].addEventListener("toggle",function(){return _this651.yf();}),_this651["#viewbox-lock-button"].addEventListener("toggle",function(){return _this651.kf();}),_this651["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this651.Sf();}),_this651["#align-buttons"].addEventListener("toggle",function(){return _this651._f();}),_this651["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this651.Cf();}),_this651["#ref-x-input"].addEventListener("changestart",function(){return _this651.Mf();}),_this651["#ref-y-input"].addEventListener("changestart",function(){return _this651.Pf();}),_this651["#orient-switch"].addEventListener("toggle",function(){return _this651.Df();}),_this651["#orient-box"].addEventListener("changestart",function(){return _this651.zf();});return _this651;}_createClass(Bb,[{key:"tn",value:function tn(){var _this652=this;this.qs(),this["#viewport-lock-button"].toggled=app.getConfig("bx-markergeometryinspector:lockViewport",!1),this["#viewport-lock-icon"].name=this["#viewport-lock-button"].toggled?"lock-on":"lock-off",this["#viewbox-lock-button"].toggled=app.getConfig("bx-markergeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this652.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this652.sl(t.detail);});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"sl",value:function sl(t){this.pf();}},{key:"uf",value:function uf(){var _this653=this;var t,_e1185,i=this.Js.board,s=i.geometryPrecision,n=null;this["#viewport-lock-button"].toggled&&null!==this["#viewport-width-input"].value&&null!==this["#viewport-height-input"].value&&(n=this["#viewport-height-input"].value/this["#viewport-width-input"].value,!1===Lb(n)&&(n=1)),i.undoManager.checkpoint("Viewport width"),this.Jg=!0,this["#viewport-width-input"].addEventListener("change",t=function t(){if(null===_this653["#viewport-width-input"].value)i.currentWorkspace.removeAttribute("markerWidth");else{var _t1690=Z(_this653["#viewport-width-input"].value,s);if(i.currentWorkspace.setAttribute("markerWidth",_t1690),null!==n){var _t1691=Z(_this653["#viewport-width-input"].value*n,s);i.currentWorkspace.setAttribute("markerHeight",_t1691);}}}),this["#viewport-width-input"].addEventListener("changeend",_e1185=function e(){_this653["#viewport-width-input"].removeEventListener("change",t),_this653["#viewport-width-input"].removeEventListener("changeend",_e1185),_this653.Jg=!1;});}},{key:"xf",value:function xf(){var _this654=this;var t,_e1186,i=this.Js.board,s=i.geometryPrecision,n=null;this["#viewport-lock-button"].toggled&&null!==this["#viewport-height-input"].value&&null!==this["#viewport-width-input"].value&&(n=this["#viewport-width-input"].value/this["#viewport-height-input"].value,!1===Lb(n)&&(n=1)),i.undoManager.checkpoint("Viewport height"),this.tf=!0,this["#viewport-height-input"].addEventListener("change",t=function t(){if(null===_this654["#viewport-height-input"].value)i.currentWorkspace.removeAttribute("markerHeight");else{var _t1692=Z(_this654["#viewport-height-input"].value,s);if(i.currentWorkspace.setAttribute("markerHeight",_t1692),null!==n){var _t1693=Z(_this654["#viewport-height-input"].value*n,s);i.currentWorkspace.setAttribute("markerWidth",_t1693);}}}),this["#viewport-height-input"].addEventListener("changeend",_e1186=function e(){_this654["#viewport-height-input"].removeEventListener("change",t),_this654["#viewport-height-input"].removeEventListener("changeend",_e1186),_this654.tf=!1;});}},{key:"bf",value:function bf(){var t=this["#viewport-lock-button"].toggled;this.Qs.setConfig("bx-markergeometryinspector:lockViewport",t),this["#viewport-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"mf",value:function mf(){var t=this.Js.board,e=this["#viewport-units-select"].value;t.undoManager.checkpoint("Marker units"),"userSpaceOnUse"===e?t.currentWorkspace.setAttribute("markerUnits","userSpaceOnUse"):t.currentWorkspace.setAttribute("markerUnits","strokeWidth");}},{key:"yf",value:function yf(){var t=this.Js.board;t.undoManager.checkpoint("View box"),this["#viewbox-switch"].toggled?this.rf?t.currentWorkspace.setAttribute("viewBox",this.rf):t.currentWorkspace.setAttribute("viewBox","0 0 500 500"):(this.rf=t.currentWorkspace.getAttribute("viewBox"),t.currentWorkspace.removeAttribute("viewBox"));}},{key:"gf",value:function gf(t){var _this655=this;var e,_i1097,s=this.Js.board.currentWorkspace,n=Bt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.ef=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){n.x=_this655["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-x-input"].addEventListener("changeend",_i1097=function i(){_this655["#viewbox-x-input"].removeEventListener("change",e),_this655["#viewbox-x-input"].removeEventListener("changeend",_i1097),_this655.ef=!1;});}},{key:"ff",value:function ff(t){var _this656=this;var e,_i1098,s=this.Js.board.currentWorkspace,n=Bt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this["if"]=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){n.y=_this656["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-y-input"].addEventListener("changeend",_i1098=function i(){_this656["#viewbox-y-input"].removeEventListener("change",e),_this656["#viewbox-y-input"].removeEventListener("changeend",_i1098),_this656["if"]=!1;});}},{key:"wf",value:function wf(t){var _this657=this;var e,_i1099,_this$Js$board47=this.Js.board,s=_this$Js$board47.geometryPrecision,n=_this$Js$board47.currentWorkspace,o=Bt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===Lb(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.sf=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){o.width=_this657["#viewbox-width-input"].value,null!==l&&(o.height=Z(_this657["#viewbox-width-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-width-input"].addEventListener("changeend",_i1099=function i(){_this657["#viewbox-width-input"].removeEventListener("change",e),_this657["#viewbox-width-input"].removeEventListener("changeend",_i1099),_this657.sf=!1;});}},{key:"vf",value:function vf(t){var _this658=this;var e,_i1100,_this$Js$board48=this.Js.board,s=_this$Js$board48.geometryPrecision,n=_this$Js$board48.currentWorkspace,o=Bt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===Lb(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.nf=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){o.height=_this658["#viewbox-height-input"].value,null!==l&&(o.width=Z(_this658["#viewbox-height-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-height-input"].addEventListener("changeend",_i1100=function i(){_this658["#viewbox-height-input"].removeEventListener("change",e),_this658["#viewbox-height-input"].removeEventListener("changeend",_i1100),_this658.nf=!1;});}},{key:"kf",value:function kf(){var t=this["#viewbox-lock-button"].toggled;this.Qs.setConfig("bx-markergeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"Sf",value:function Sf(){var t=this.Js.board.currentWorkspace;this.Js.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.df?t.setAttribute("preserveAspectRatio",this.df):t.removeAttribute("preserveAspectRatio"):(this.df=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"_f",value:function _f(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s636=e;"none"!==_s636&&"slice"===i&&(_s636+=" slice"),t.setAttribute("preserveAspectRatio",_s636);}}},{key:"Cf",value:function Cf(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s637=e;"none"!==_s637&&"slice"===i&&(_s637+=" slice"),t.setAttribute("preserveAspectRatio",_s637);}}},{key:"Mf",value:function Mf(){var _this659=this;var t,_e1187,i=this["#ref-x-input"],s=this.Js.board;s.undoManager.checkpoint("Marker reference point"),this.lf=!0,i.addEventListener("change",t=function t(){s.currentWorkspace.setAttribute("refX",i.value);}),i.addEventListener("changeend",_e1187=function e(){i.removeEventListener("change",t),i.removeEventListener("changeend",_e1187),_this659.lf=!1;});}},{key:"Pf",value:function Pf(){var _this660=this;var t,_e1188,i=this["#ref-y-input"],s=this.Js.board;s.undoManager.checkpoint("Marker reference point"),this.hf=!0,i.addEventListener("change",t=function t(){s.currentWorkspace.setAttribute("refY",i.value);}),i.addEventListener("changeend",_e1188=function e(){i.removeEventListener("change",t),i.removeEventListener("changeend",_e1188),_this660.hf=!1;});}},{key:"Df",value:function Df(){var t=this.Js.board;if(t.undoManager.checkpoint("Marker orient"),this["#orient-switch"].toggled)t.currentWorkspace.setAttribute("orient",this.cf);else{var _Uc=Uc(t.currentWorkspace),_Uc2=_slicedToArray(_Uc,2),_e1189=_Uc2[1];this.cf=_e1189,t.currentWorkspace.setAttribute("orient","auto");}}},{key:"zf",value:function zf(){var _this661=this;var t,_e1190,i=this.Js.board;i.undoManager.checkpoint("Marker orient"),this.af=!0,this["#orient-box"].addEventListener("change",t=function t(_t1694){_t1694.target===_this661["#orient-slider"]?_this661["#orient-input"].value=_this661["#orient-slider"].value:_t1694.target===_this661["#object-rotation-input"]&&(_this661["#orient-slider"].value=_this661["#orient-input"].value),_this661.Qs.modKeys.shift&&(_this661["#orient-input"].value=Be(_this661["#orient-slider"].value,15),_this661["#orient-slider"].value=_this661["#orient-input"].value),i.currentWorkspace.setAttribute("orient",_this661["#orient-input"].value+"deg");}),this["#orient-box"].addEventListener("changeend",_e1190=function e(){_this661["#orient-box"].removeEventListener("change",t),_this661["#orient-box"].removeEventListener("changeend",_e1190),_this661.af=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.currentWorkspace,i=t.currentContainer,s=t.selectedElements,n=t.gridHud,o=this.Jm.displayPrecision;if("marker"!==e.getAttribute("data-bx-workspace")||s.length>0||0===s.length&&null!==i||n.selected)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));{var _i1101=t.getComputedViewportWidth(),_s638=t.getComputedViewportHeight();null!==_i1101&&null!==_s638?(!1===this.Jg&&(this["#viewport-width-input"].value=Z(_i1101.value,o)),!1===this.tf&&(this["#viewport-height-input"].value=Z(_s638.value,o)),this["#viewport-lock-button"].disabled=!1):null!==_i1101&&null===_s638?(!1===this.Jg&&(this["#viewport-width-input"].value=Z(_i1101.value,o)),!1===this.tf&&(this["#viewport-height-input"].value=null),this["#viewport-lock-button"].disabled=!0):null===_i1101&&null!==_s638?(!1===this.Jg&&(this["#viewport-width-input"].value=null),!1===this.tf&&(this["#viewport-height-input"].value=Z(_s638.value,o)),this["#viewport-lock-button"].disabled=!0):null===_i1101&&null===_s638&&(!1===this.Jg&&(this["#viewport-width-input"].value=null),!1===this.tf&&(this["#viewport-height-input"].value=null),this["#viewport-lock-button"].disabled=!0),this["#viewport-units-select"].value=e.getAttribute("markerUnits")||"strokeWidth";}if(e.hasAttribute("viewBox")){var _Bt$fromString3=Bt.fromString(e.getAttribute("viewBox")),_t1695=_Bt$fromString3.x,_i1102=_Bt$fromString3.y,_s639=_Bt$fromString3.width,_n462=_Bt$fromString3.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-switch"].toggled=!0,this["#viewbox-lock-button"].disabled=!1,!1===this.ef&&(this["#viewbox-x-input"].value=Z(_t1695,o),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this["if"]&&(this["#viewbox-y-input"].value=Z(_i1102,o),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.sf&&(this["#viewbox-width-input"].value=Z(_s639,o),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.nf&&(this["#viewbox-height-input"].value=Z(_n462,o),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}else this["#viewbox-heading"].disabled=!0,this["#viewbox-switch"].toggled=!1,this["#viewbox-lock-button"].disabled=!0,this["#viewbox-x-input"].value=0,this["#viewbox-x-input"].disabled=!0,this["#viewbox-x-label"].disabled=!0,this["#viewbox-y-input"].value=0,this["#viewbox-y-input"].disabled=!0,this["#viewbox-y-label"].disabled=!0,this["#viewbox-width-input"].value=0,this["#viewbox-width-input"].disabled=!0,this["#viewbox-width-label"].disabled=!0,this["#viewbox-height-input"].value=0,this["#viewbox-height-input"].disabled=!0,this["#viewbox-height-label"].disabled=!0;if(!1===e.hasAttribute("viewBox"))this["#preserve-aspect-ratio-heading"].disabled=!0,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!0,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0;else{var _t1696=e.getAttribute("preserveAspectRatio")||"xMidYMid meet",_$t$fromString2=$t.fromString(_t1696),_i1103=_$t$fromString2.align,_s640=_$t$fromString2.meetOrSlice;"none"===_i1103?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1103,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s640,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}if(!1===this.lf&&!1===this.hf){var _t1697=Fc(e);this["#ref-x-input"].value=Z(_t1697.x,2),this["#ref-y-input"].value=Z(_t1697.y,2);}if(!1===this.af){var _Uc3=Uc(e),_Uc4=_slicedToArray(_Uc3,2),_t1698=_Uc4[0],_i1104=_Uc4[1];this["#orient-section"].hidden=!1,_t1698===SVGMarkerElement.SVG_MARKER_ORIENT_AUTO?(this["#orient-switch"].toggled=!1,this["#orient-input"].disabled=!0,this["#orient-input"].value=null,this["#orient-slider"].disabled=!0,this["#orient-slider"].value=0):(this["#orient-switch"].toggled=!0,this["#orient-input"].disabled=!1,this["#orient-input"].value=_i1104,this["#orient-slider"].disabled=!1,this["#orient-slider"].value=_i1104);}}}}]);return Bb;}(pb);_defineProperty(Bb,"_shadowTemplate",Yi(_templateObject341()));_defineProperty(Bb,"_shadowStyleSheet",Wi(_templateObject342()));customElements.define("bx-markergeometryinspector",Bb);var Rb=/*#__PURE__*/function(_pb12){_inherits(Rb,_pb12);var _super142=_createSuper(Rb);function Rb(){var _this662;_classCallCheck(this,Rb);_this662=_super142.call(this),_this662.Of=!1,_this662.Ef=!1,_this662._a=Xi(_this662.qs,200,_assertThisInitialized(_this662)),_this662["#arms-section"].addEventListener("changestart",function(){return _this662.Ap();}),_this662["#corner-section"].addEventListener("changestart",function(){return _this662.Ep();});return _this662;}_createClass(Rb,[{key:"tn",value:function tn(){var _this663=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this663._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this663._a();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Ap",value:function Ap(){var _this664=this;var t,_e1191,i=this.Js.board,s=[],n=Symbol();var _iterator1144=_createForOfIteratorHelper(i.selectedElements),_step1144;try{for(_iterator1144.s();!(_step1144=_iterator1144.n()).done;){var _t1701=_step1144.value;if("path"===_t1701.localName){var _e1192=ul(_t1701);_e1192&&"n-gon"===_e1192.type&&(_t1701[n]=_e1192,s.push(_t1701));}}}catch(err){_iterator1144.e(err);}finally{_iterator1144.f();}i.undoManager.checkpoint("N-gon arms"),this.Of=!0,this["#arms-section"].addEventListener("change",t=function t(_t1700){_t1700.target===_this664["#arms-slider"]?_this664["#arms-input"].value=_this664["#arms-slider"].value:_t1700.target===_this664["#arms-input"]&&(_this664["#arms-slider"].value=_this664["#arms-input"].value);var _iterator1145=_createForOfIteratorHelper(s),_step1145;try{for(_iterator1145.s();!(_step1145=_iterator1145.n()).done;){var _t1699=_step1145.value;_t1699[n].values[4]=_this664["#arms-slider"].value,xl(_t1699,_t1699[n]);}}catch(err){_iterator1145.e(err);}finally{_iterator1145.f();}}),this["#arms-section"].addEventListener("changeend",_e1191=function e(){_this664["#arms-section"].removeEventListener("change",t),_this664["#arms-section"].removeEventListener("changeend",_e1191),_this664.Of=!1;});}},{key:"Ep",value:function Ep(){var _this665=this;var t,_e1193,i=this.Js.board,s=[],n=Symbol();var _iterator1146=_createForOfIteratorHelper(i.selectedElements),_step1146;try{for(_iterator1146.s();!(_step1146=_iterator1146.n()).done;){var _t1704=_step1146.value;if("path"===_t1704.localName){var _e1194=ul(_t1704);_e1194&&"n-gon"===_e1194.type&&(_t1704[n]=_e1194,s.push(_t1704));}}}catch(err){_iterator1146.e(err);}finally{_iterator1146.f();}i.undoManager.checkpoint("N-gon corner"),this.Ef=!0,this["#corner-section"].addEventListener("change",t=function t(_t1703){_t1703.target===_this665["#corner-slider"]?_this665["#corner-input"].value=_this665["#corner-slider"].value:_t1703.target===_this665["#corner-input"]&&(_this665["#corner-slider"].value=_this665["#corner-input"].value);var e=Z(_this665["#corner-slider"].value/200,3);var _iterator1147=_createForOfIteratorHelper(s),_step1147;try{for(_iterator1147.s();!(_step1147=_iterator1147.n()).done;){var _t1702=_step1147.value;_t1702[n].values[5]=e,xl(_t1702,_t1702[n]);}}catch(err){_iterator1147.e(err);}finally{_iterator1147.f();}}),this["#corner-section"].addEventListener("changeend",_e1193=function e(){_this665["#corner-section"].removeEventListener("change",t),_this665["#corner-section"].removeEventListener("changeend",_e1193),_this665.Ef=!1;});}},{key:"qs",value:function qs(){if(!1===this.Of&&!1===this.Ef){var _t1705=this.Js.board.outermostSelectedElements;if(0===_t1705.length||"path"!==_t1705[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _e1195=ul(_t1705[0]);if(_e1195&&"n-gon"===_e1195.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _e1195$values=_slicedToArray(_e1195.values,6),_t1706=_e1195$values[0],_i1105=_e1195$values[1],_s641=_e1195$values[2],_n463=_e1195$values[3],_o364=_e1195$values[4],_l305=_e1195$values[5],_h230=K(200*_l305,0,100,0);this["#arms-slider"].value=Z(_o364,0),this["#arms-input"].value=Z(_o364,0),this["#corner-slider"].value=_h230,this["#corner-input"].value=_h230;}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}}]);return Rb;}(pb);_defineProperty(Rb,"_shadowTemplate",Yi(_templateObject343()));_defineProperty(Rb,"_shadowStyleSheet",Wi(_templateObject344()));customElements.define("bx-ngongeometryinspector",Rb);var Gb=Math.pow;var Fb=/*#__PURE__*/function(_pb13){_inherits(Fb,_pb13);var _super143=_createSuper(Fb);function Fb(){var _this666;_classCallCheck(this,Fb);_this666=_super143.call(this),_this666.Ag=!1,_this666.$g=!1,_this666.Ug=!1,_this666.Ng=!1,_this666.Vg=!1,_this666.jg=!1,_this666._a=Xi(_this666.qs,200,_assertThisInitialized(_this666)),_this666["#x-input"].addEventListener("changestart",function(){return _this666.Lg();}),_this666["#y-input"].addEventListener("changestart",function(){return _this666.Bg();}),_this666["#x1-input"].addEventListener("changestart",function(){return _this666.Yg();}),_this666["#y1-input"].addEventListener("changestart",function(){return _this666.Wg();}),_this666["#x2-input"].addEventListener("changestart",function(){return _this666.qg();}),_this666["#y2-input"].addEventListener("changestart",function(){return _this666.Xg();});return _this666;}_createClass(Fb,[{key:"tn",value:function tn(){var _this667=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this667._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this667._a();}),this.Js.board.pathHud.addEventListener("selectednodeschange",this.Tf=function(){_this667.qs();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this667._a();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.pathHud.removeEventListener("selectednodeschange",this.Tf),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"Lg",value:function Lg(){var _this668=this;var t,_e1196,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=nt(n.getPathData({normalize:!0})),l=s.index,h=o[l].type,_this$Jm40=this.Jm,a=_this$Jm40.displaySpace,r=_this$Jm40.displayUnit,d=qt(r,"px"),c=Vt(n,i.vectorCanvas);"viewport"===a&&(c=Wt(i.currentWorkspace).multiply(c));var p=c.inverse();i.undoManager.checkpoint("Node X"),this.Ag=!0,this["#x-input"].addEventListener("change",t=function t(_t1707){var e=new DOMPoint(_this668["#x-input"].value,_this668["#y-input"].value);e=e.matrixTransform(d),e=e.matrixTransform(p),o[l].values["C"===h?4:0]=Z(e.x,i.geometryPrecision),o[l].values["C"===h?5:1]=Z(e.y,i.geometryPrecision),n.setPathData(o);}),this["#x-input"].addEventListener("changeend",_e1196=function e(){_this668["#x-input"].removeEventListener("change",t),_this668["#x-input"].removeEventListener("changeend",_e1196),_this668.Ag=!1;});}},{key:"Bg",value:function Bg(){var _this669=this;var t,_e1197,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=nt(n.getPathData({normalize:!0})),l=s.index,h=o[l].type,_this$Jm41=this.Jm,a=_this$Jm41.displaySpace,r=_this$Jm41.displayUnit,d=qt(r,"px"),c=Vt(n,i.vectorCanvas);"viewport"===a&&(c=Wt(i.currentWorkspace).multiply(c));var p=c.inverse();i.undoManager.checkpoint("Node Y"),this.$g=!0,this["#y-input"].addEventListener("change",t=function t(_t1708){var e=new DOMPoint(_this669["#x-input"].value,_this669["#y-input"].value);e=e.matrixTransform(d),e=e.matrixTransform(p),o[l].values["C"===h?4:0]=Z(e.x,i.geometryPrecision),o[l].values["C"===h?5:1]=Z(e.y,i.geometryPrecision),n.setPathData(o);}),this["#y-input"].addEventListener("changeend",_e1197=function e(){_this669["#y-input"].removeEventListener("change",t),_this669["#y-input"].removeEventListener("changeend",_e1197),_this669.$g=!1;});}},{key:"Yg",value:function Yg(){var _this670=this;var t,_e1198,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=nt(n.getPathData({normalize:!0})),l=s.index,_this$Jm42=this.Jm,h=_this$Jm42.displaySpace,a=_this$Jm42.displayUnit,r=qt(a,"px"),d=Vt(n,i.vectorCanvas);"viewport"===h&&(d=Wt(i.currentWorkspace).multiply(d));var c=d.inverse();i.undoManager.checkpoint("Node X1"),this.Ug=!0,this["#x1-input"].addEventListener("change",t=function t(_t1709){var e=new DOMPoint(_this670["#x1-input"].value,_this670["#y1-input"].value);e=e.matrixTransform(r),e=e.matrixTransform(c),o[l+1].values[0]=Z(e.x,i.geometryPrecision),o[l+1].values[1]=Z(e.y,i.geometryPrecision),n.setPathData(o);}),this["#x1-input"].addEventListener("changeend",_e1198=function e(){_this670["#x1-input"].removeEventListener("change",t),_this670["#x1-input"].removeEventListener("changeend",_e1198),_this670.Ug=!1;});}},{key:"Wg",value:function Wg(){var _this671=this;var t,_e1199,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=nt(n.getPathData({normalize:!0})),l=s.index,_this$Jm43=this.Jm,h=_this$Jm43.displaySpace,a=_this$Jm43.displayUnit,r=qt(a,"px"),d=Vt(n,i.vectorCanvas);"viewport"===h&&(d=Wt(i.currentWorkspace).multiply(d));var c=d.inverse();i.undoManager.checkpoint("Node Y1"),this.Ng=!0,this["#y1-input"].addEventListener("change",t=function t(_t1710){var e=new DOMPoint(_this671["#x1-input"].value,_this671["#y1-input"].value);e=e.matrixTransform(r),e=e.matrixTransform(c),o[l+1].values[0]=Z(e.x,i.geometryPrecision),o[l+1].values[1]=Z(e.y,i.geometryPrecision),n.setPathData(o);}),this["#y1-input"].addEventListener("changeend",_e1199=function e(){_this671["#y1-input"].removeEventListener("change",t),_this671["#y1-input"].removeEventListener("changeend",_e1199),_this671.Ng=!1;});}},{key:"qg",value:function qg(){var _this672=this;var t,_e1200,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=nt(n.getPathData({normalize:!0})),l=s.index,_this$Jm44=this.Jm,h=_this$Jm44.displaySpace,a=_this$Jm44.displayUnit,r=qt(a,"px"),d=Vt(n,i.vectorCanvas);"viewport"===h&&(d=Wt(i.currentWorkspace).multiply(d));var c=d.inverse();i.undoManager.checkpoint("Node X2"),this.Vg=!0,this["#x2-input"].addEventListener("change",t=function t(_t1711){var e=new DOMPoint(_this672["#x2-input"].value,_this672["#y2-input"].value);e=e.matrixTransform(r),e=e.matrixTransform(c),o[l].values[2]=Z(e.x,i.geometryPrecision),o[l].values[3]=Z(e.y,i.geometryPrecision),n.setPathData(o);}),this["#x2-input"].addEventListener("changeend",_e1200=function e(){_this672["#x2-input"].removeEventListener("change",t),_this672["#x2-input"].removeEventListener("changeend",_e1200),_this672.Vg=!1;});}},{key:"Xg",value:function Xg(){var _this673=this;var t,_e1201,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=nt(n.getPathData({normalize:!0})),l=s.index,_this$Jm45=this.Jm,h=_this$Jm45.displaySpace,a=_this$Jm45.displayUnit,r=qt(a,"px"),d=Vt(n,i.vectorCanvas);"viewport"===h&&(d=Wt(i.currentWorkspace).multiply(d));var c=d.inverse();i.undoManager.checkpoint("Node Y2"),this.jg=!0,this["#y2-input"].addEventListener("change",t=function t(_t1712){var e=new DOMPoint(_this673["#x2-input"].value,_this673["#y2-input"].value);e=e.matrixTransform(r),e=e.matrixTransform(c),o[l].values[2]=Z(e.x,i.geometryPrecision),o[l].values[3]=Z(e.y,i.geometryPrecision),n.setPathData(o);}),this["#y2-input"].addEventListener("changeend",_e1201=function e(){_this673["#y2-input"].removeEventListener("change",t),_this673["#y2-input"].removeEventListener("changeend",_e1201),_this673.jg=!1;});}},{key:"qs",value:function qs(){if(!1===this.Ag&&!1===this.$g&&!1===this.Ug&&!1===this.Ng&&!1===this.Vg&&!1===this.jg){var _t1713=this.Js.board;if(1===_t1713.pathHud.selectedNodes.length){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _e1202=_t1713.pathHud.selectedNodes[0],_i1106=_e1202.path,_s642=_e1202.index,_n464=nt(_i1106.getPathData({normalize:!0})),_o365=_n464[_s642],_l306=_n464[_s642+1]||null,_this$Jm46=this.Jm,_h231=_this$Jm46.displaySpace,_a185=_this$Jm46.displayUnit,_r120=_this$Jm46.displayPrecision,_d96=Vt(_i1106,_t1713.currentWorkspace),_c76=qt("px",_a185),_p66=_a185?" "+_a185:"",_u55=1/Gb(10,_r120-1);"viewport"===_h231&&(_d96=Wt(_t1713.currentWorkspace).multiply(_d96));{var _t1714="C"===_o365.type?new DOMPoint(_o365.values[4],_o365.values[5]):new DOMPoint(_o365.values[0],_o365.values[1]);_t1714=_t1714.matrixTransform(_d96),_t1714=_t1714.matrixTransform(_c76),this["#x-input"].value=Z(_t1714.x,_r120),this["#x-input"].suffix=_p66,this["#x-input"].step=_u55,this["#y-input"].value=Z(_t1714.y,_r120),this["#y-input"].suffix=_p66,this["#y-input"].step=_u55;}if(_l306&&"C"===_l306.type){var _t1715=new DOMPoint(_l306.values[0],_l306.values[1]);_t1715=_t1715.matrixTransform(_d96),_t1715=_t1715.matrixTransform(_c76),this["#control-point-1-section"].hidden=!1,this["#x1-input"].value=Z(_t1715.x,_r120),this["#x1-input"].suffix=_p66,this["#x1-input"].step=_u55,this["#y1-input"].value=Z(_t1715.y,_r120),this["#y1-input"].suffix=_p66,this["#y1-input"].step=_u55;}else this["#control-point-1-section"].hidden=!0;if("C"===_o365.type){var _t1716=new DOMPoint(_o365.values[2],_o365.values[3]);_t1716=_t1716.matrixTransform(_d96),_t1716=_t1716.matrixTransform(_c76),this["#control-point-2-section"].hidden=!1,this["#x2-input"].value=Z(_t1716.x,_r120),this["#x2-input"].suffix=_p66,this["#x2-input"].step=_u55,this["#y2-input"].value=Z(_t1716.y,_r120),this["#y2-input"].suffix=_p66,this["#y2-input"].step=_u55;}else this["#control-point-2-section"].hidden=!0;}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return Fb;}(pb);_defineProperty(Fb,"_shadowTemplate",Yi(_templateObject345()));_defineProperty(Fb,"_shadowStyleSheet",Wi(_templateObject346()));customElements.define("bx-nodegeometryinspector",Fb);var Ub=Math.min,Nb=Math.max,Vb=Math.pow;var jb=/*#__PURE__*/function(_pb14){_inherits(jb,_pb14);var _super144=_createSuper(jb);function jb(){var _this674;_classCallCheck(this,jb);_this674=_super144.call(this),_this674.Ag=!1,_this674.$g=!1,_this674.eb=!1,_this674.Ig=!1,_this674.Af=!1,_this674.$f=!1,_this674.lg=!1,_this674._a=Xi(_this674.qs,200,_assertThisInitialized(_this674)),_this674["#x-input"].addEventListener("changestart",function(){return _this674.Lg();}),_this674["#y-input"].addEventListener("changestart",function(){return _this674.Bg();}),_this674["#width-input"].addEventListener("changestart",function(){return _this674.Rg();}),_this674["#height-input"].addEventListener("changestart",function(){return _this674.Gg();}),_this674["#aspect-ratio-button"].addEventListener("toggle",function(){return _this674.Tg();}),_this674["#origin-x-input"].addEventListener("changestart",function(){return _this674.If();}),_this674["#origin-y-input"].addEventListener("changestart",function(){return _this674.Lf();}),_this674["#rotation-section"].addEventListener("changestart",function(){return _this674.ag();});return _this674;}_createClass(jb,[{key:"tn",value:function tn(){var _this675=this;var t=this.Qs,e=this.Js.board;this["#aspect-ratio-button"].toggled=t.getConfig("bx-objectgeometry:preserveAspectRatio",!1),this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off",this.qs(),e.addEventListener("selectedelementschange",this.Qo=function(){_this675._a();}),e.addEventListener("workspacemutation",this.rn=function(){_this675._a();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this675._a();});}},{key:"sn",value:function sn(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"Lg",value:function Lg(){var _this676=this;var t,_e1204,i=this.Js.board,s=i.outermostSelectedObjectElements,n=[],_this$Jm47=this.Jm,o=_this$Jm47.displaySpace,l=_this$Jm47.displayUnit,h=Symbol();this.Ag=!0;var _iterator1148=_createForOfIteratorHelper(s),_step1148;try{for(_iterator1148.s();!(_step1148=_iterator1148.n()).done;){var _t1719=_step1148.value;var _e1205=Vt(_t1719,i.vectorCanvas);"viewport"===o&&(_e1205=Wt(i.currentWorkspace).multiply(_e1205));var _s644=_e1205.inverse(),_a186=Nt(_t1719),_r121=qt(l,"px"),_d97=Ci(_t1719);_t1719[h]={userToDisplayTransform:_e1205,displayToUserTransform:_s644,userTransform:_a186,unitTransform:_r121},n.push(Ue(_d97,_e1205));}}catch(err){_iterator1148.e(err);}finally{_iterator1148.f();}var a=Ne(n).x;i.undoManager.checkpoint("X"),this["#x-input"].addEventListener("change",t=function t(){var _iterator1149=_createForOfIteratorHelper(s),_step1149;try{for(_iterator1149.s();!(_step1149=_iterator1149.n()).done;){var _t1717=_step1149.value;var _t1717$h=_t1717[h],_e1203=_t1717$h.userToDisplayTransform,_i1107=_t1717$h.displayToUserTransform,_s643=_t1717$h.userTransform,_n465=_t1717$h.unitTransform,_o366=_this676["#x-input"].value*_n465.a,_l307=DOMMatrix.fromMatrix(_s643);_l307.multiplySelf(_i1107),_l307.translateSelf(_o366-a,0),_l307.multiplySelf(_e1203),_t1717.setAttribute("transform",_l307.toString());}}catch(err){_iterator1149.e(err);}finally{_iterator1149.f();}}),this["#x-input"].addEventListener("changeend",_e1204=function e(){_this676["#x-input"].removeEventListener("change",t),_this676["#x-input"].removeEventListener("changeend",_e1204),_this676.Ag=!1;var _iterator1150=_createForOfIteratorHelper(s),_step1150;try{for(_iterator1150.s();!(_step1150=_iterator1150.n()).done;){var _t1718=_step1150.value;mh(_t1718,{geometryPrecision:i.geometryPrecision,transformPrecision:i.transformPrecision});}}catch(err){_iterator1150.e(err);}finally{_iterator1150.f();}});}},{key:"Bg",value:function Bg(){var _this677=this;var t,_e1207,i=this.Js.board,s=i.outermostSelectedObjectElements,n=[],_this$Jm48=this.Jm,o=_this$Jm48.displaySpace,l=_this$Jm48.displayUnit,h=Symbol();this.$g=!0;var _iterator1151=_createForOfIteratorHelper(s),_step1151;try{for(_iterator1151.s();!(_step1151=_iterator1151.n()).done;){var _t1722=_step1151.value;var _e1208=Vt(_t1722,i.vectorCanvas);"viewport"===o&&(_e1208=Wt(i.currentWorkspace).multiply(_e1208));var _s646=_e1208.inverse(),_a187=Nt(_t1722),_r122=qt(l,"px"),_d98=Ci(_t1722);_t1722[h]={userToDisplayTransform:_e1208,displayToUserTransform:_s646,userTransform:_a187,unitTransform:_r122},n.push(Ue(_d98,_e1208));}}catch(err){_iterator1151.e(err);}finally{_iterator1151.f();}var a=Ne(n).y;i.undoManager.checkpoint("Y"),this["#y-input"].addEventListener("change",t=function t(){var _iterator1152=_createForOfIteratorHelper(s),_step1152;try{for(_iterator1152.s();!(_step1152=_iterator1152.n()).done;){var _t1720=_step1152.value;var _t1720$h=_t1720[h],_e1206=_t1720$h.userToDisplayTransform,_i1108=_t1720$h.displayToUserTransform,_s645=_t1720$h.userTransform,_n466=_t1720$h.unitTransform,_o367=_this677["#y-input"].value*_n466.d,_l308=DOMMatrix.fromMatrix(_s645);_l308.multiplySelf(_i1108),_l308.translateSelf(0,_o367-a),_l308.multiplySelf(_e1206),_t1720.setAttribute("transform",_l308.toString());}}catch(err){_iterator1152.e(err);}finally{_iterator1152.f();}}),this["#y-input"].addEventListener("changeend",_e1207=function e(){_this677["#y-input"].removeEventListener("change",t),_this677["#y-input"].removeEventListener("changeend",_e1207),_this677.$g=!1;var _iterator1153=_createForOfIteratorHelper(s),_step1153;try{for(_iterator1153.s();!(_step1153=_iterator1153.n()).done;){var _t1721=_step1153.value;mh(_t1721,{geometryPrecision:i.geometryPrecision,transformPrecision:i.transformPrecision});}}catch(err){_iterator1153.e(err);}finally{_iterator1153.f();}});}},{key:"Rg",value:function Rg(){var _this678=this;var t=this.Js.board,e=t.outermostSelectedObjectElements,_this$Jm49=this.Jm,i=_this$Jm49.displaySpace,s=_this$Jm49.displayUnit,n=qt(s,"px");if(this.eb=!0,t.undoManager.checkpoint("Width"),1===e.length){var _s647=e[0],_o368=Ci(_s647),_l309=Nt(_s647),_h232=Vt(_s647,t.vectorCanvas);"viewport"===i&&(_h232=Wt(t.currentWorkspace).multiply(_h232));var _a188,_r124,_d99=De(new DOMPoint(_o368.x,_o368.y).matrixTransform(_h232),new DOMPoint(_o368.x+_o368.width,_o368.y).matrixTransform(_h232));this["#width-input"].addEventListener("change",_a188=function _a188(){var t=_this678["#width-input"].value*n.a/_d99,e=1;_this678["#aspect-ratio-button"].toggled&&(e=t);var i=-_o368.x*(t-1),h=-_o368.y*(e-1),a=DOMMatrix.fromMatrix(_l309);a.translateSelf(i,h),a.scaleSelf(t,e),_s647.setAttribute("transform",a.toString());}),this["#width-input"].addEventListener("changeend",_r124=function _r123(){_this678["#width-input"].removeEventListener("change",_a188),_this678["#width-input"].removeEventListener("changeend",_r124),_this678.eb=!1,mh(_s647,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});});}else{var _s648,_o371,_l310=[],_h233=Symbol();var _iterator1154=_createForOfIteratorHelper(e),_step1154;try{for(_iterator1154.s();!(_step1154=_iterator1154.n()).done;){var _s650=_step1154.value;var _e1210=Nt(_s650),_n468=Vt(_s650,t.vectorCanvas);"viewport"===i&&(_n468=Wt(t.currentWorkspace).multiply(_n468));var _o372=_n468.inverse(),_a190=Ue(Ci(_s650),_n468);_s650[_h233]={userTransform:_e1210,userToDisplayTransform:_n468,displayToUserTransform:_o372},_l310.push(_a190);}}catch(err){_iterator1154.e(err);}finally{_iterator1154.f();}var _a189=Ne(_l310),_r125=_a189.width;this["#width-input"].addEventListener("change",_s648=function _s648(){var t=_this678["#width-input"].value*n.a;var _iterator1155=_createForOfIteratorHelper(e),_step1155;try{for(_iterator1155.s();!(_step1155=_iterator1155.n()).done;){var _i1109=_step1155.value;var _i1109$_h=_i1109[_h233],_e1209=_i1109$_h.userTransform,_s649=_i1109$_h.userToDisplayTransform,_n467=_i1109$_h.displayToUserTransform,_o370=t/_r125,_l311=1;_this678["#aspect-ratio-button"].toggled&&(_l311=_o370);var _d100=-_a189.x*(_o370-1),_c77=-_a189.y*(_l311-1),_p67=DOMMatrix.fromMatrix(_e1209);_p67.multiplySelf(_n467),_p67.translateSelf(_d100,_c77),_p67.scaleSelf(_o370,_l311),_p67.multiplySelf(_s649),_i1109.setAttribute("transform",_p67.toString());}}catch(err){_iterator1155.e(err);}finally{_iterator1155.f();}}),this["#width-input"].addEventListener("changeend",_o371=function _o369(){_this678["#width-input"].removeEventListener("change",_s648),_this678["#width-input"].removeEventListener("changeend",_o371),_this678.eb=!1;var _iterator1156=_createForOfIteratorHelper(e),_step1156;try{for(_iterator1156.s();!(_step1156=_iterator1156.n()).done;){var _i1110=_step1156.value;mh(_i1110,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});}}catch(err){_iterator1156.e(err);}finally{_iterator1156.f();}});}}},{key:"Gg",value:function Gg(){var _this679=this;var t=this.Js.board,e=t.outermostSelectedObjectElements,_this$Jm50=this.Jm,i=_this$Jm50.displaySpace,s=_this$Jm50.displayUnit,n=qt(s,"px");if(this.Ig=!0,t.undoManager.checkpoint("Height"),1===e.length){var _s651=e[0],_o373=Ci(_s651),_l312=Nt(_s651),_h234=Vt(_s651,t.vectorCanvas);"viewport"===i&&(_h234=Wt(t.currentWorkspace).multiply(_h234));var _a191,_r127,_d101=De(new DOMPoint(_o373.x,_o373.y).matrixTransform(_h234),new DOMPoint(_o373.x,_o373.y+_o373.height).matrixTransform(_h234));this["#height-input"].addEventListener("change",_a191=function _a191(){var t=1,e=_this679["#height-input"].value*n.d/_d101;_this679["#aspect-ratio-button"].toggled&&(t=e);var i=-_o373.x*(t-1),h=-_o373.y*(e-1),a=DOMMatrix.fromMatrix(_l312);a.translateSelf(i,h),a.scaleSelf(t,e),_s651.setAttribute("transform",a.toString());}),this["#height-input"].addEventListener("changeend",_r127=function _r126(){_this679["#height-input"].removeEventListener("change",_a191),_this679["#height-input"].removeEventListener("changeend",_r127),_this679.Ig=!1,mh(_s651,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});});}else{var _s652,_o376,_l313=[],_h235=Symbol();var _iterator1157=_createForOfIteratorHelper(e),_step1157;try{for(_iterator1157.s();!(_step1157=_iterator1157.n()).done;){var _s654=_step1157.value;var _e1212=Nt(_s654),_n470=Vt(_s654,t.vectorCanvas);"viewport"===i&&(_n470=Wt(t.currentWorkspace).multiply(_n470));var _o377=_n470.inverse(),_a193=Ue(Ci(_s654),_n470);_s654[_h235]={userTransform:_e1212,userToDisplayTransform:_n470,displayToUserTransform:_o377},_l313.push(_a193);}}catch(err){_iterator1157.e(err);}finally{_iterator1157.f();}var _a192=Ne(_l313),_r128=_a192.height;this["#height-input"].addEventListener("change",_s652=function _s652(){var t=_this679["#height-input"].value*n.d;var _iterator1158=_createForOfIteratorHelper(e),_step1158;try{for(_iterator1158.s();!(_step1158=_iterator1158.n()).done;){var _i1111=_step1158.value;var _i1111$_h=_i1111[_h235],_e1211=_i1111$_h.userTransform,_s653=_i1111$_h.userToDisplayTransform,_n469=_i1111$_h.displayToUserTransform,_o375=1,_l314=t/_r128;_this679["#aspect-ratio-button"].toggled&&(_o375=_l314);var _d102=-_a192.x*(_o375-1),_c78=-_a192.y*(_l314-1),_p68=DOMMatrix.fromMatrix(_e1211);_p68.multiplySelf(_n469),_p68.translateSelf(_d102,_c78),_p68.scaleSelf(_o375,_l314),_p68.multiplySelf(_s653),_i1111.setAttribute("transform",_p68.toString());}}catch(err){_iterator1158.e(err);}finally{_iterator1158.f();}}),this["#height-input"].addEventListener("changeend",_o376=function _o374(){_this679["#height-input"].removeEventListener("change",_s652),_this679["#height-input"].removeEventListener("changeend",_o376),_this679.Ig=!1;var _iterator1159=_createForOfIteratorHelper(e),_step1159;try{for(_iterator1159.s();!(_step1159=_iterator1159.n()).done;){var _i1112=_step1159.value;mh(_i1112,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});}}catch(err){_iterator1159.e(err);}finally{_iterator1159.f();}});}}},{key:"Tg",value:function Tg(){var t=this["#aspect-ratio-button"].toggled;this.Qs.setConfig("bx-objectgeometry:preserveAspectRatio",t),this["#aspect-ratio-icon"].name=t?"lock-on":"lock-off";}},{key:"If",value:function If(){var _this680=this;var t,_e1213,i=this.Js.board,s=i.outermostSelectedObjectElements,_this$Jm51=this.Jm,n=_this$Jm51.displaySpace,o=_this$Jm51.displayUnit,l=qt(o,"px"),h=new DOMMatrix();"viewport"===n&&(h=Wt(i.currentWorkspace));var a=jt(i.vectorCanvas).inverse(),r=h.multiply(a),d=Jt(s).matrixTransform(r),c=Symbol(),p=Symbol();var _iterator1160=_createForOfIteratorHelper(s),_step1160;try{for(_iterator1160.s();!(_step1160=_iterator1160.n()).done;){var _t1724=_step1160.value;var _e1214=Vt(_t1724,i.vectorCanvas);_e1214=h.multiply(_e1214),_t1724[c]=_e1214.inverse(),_t1724[p]=Ci(_t1724);}}catch(err){_iterator1160.e(err);}finally{_iterator1160.f();}i.undoManager.checkpoint("Origin X"),this.Af=!0,this.Js.board.transformHud.enabled&&(this.Js.board.transformHud.mode="rotate-and-skew"),this["#origin-x-input"].addEventListener("change",t=function t(){var t=_this680["#origin-x-input"].value*l.a,e=new DOMPoint(t,d.y);var _iterator1161=_createForOfIteratorHelper(s),_step1161;try{for(_iterator1161.s();!(_step1161=_iterator1161.n()).done;){var _t1723=_step1161.value;var _s655=e.matrixTransform(_t1723[c]),_n471=he(_s655,_t1723[p]);Zt(_t1723,_n471,Nb(i.geometryPrecision,6));}}catch(err){_iterator1161.e(err);}finally{_iterator1161.f();}}),this["#origin-x-input"].addEventListener("changeend",_e1213=function e(){_this680["#origin-x-input"].removeEventListener("change",t),_this680["#origin-x-input"].removeEventListener("changeend",_e1213),_this680.Af=!1;});}},{key:"Lf",value:function Lf(){var _this681=this;var t,_e1215,i=this.Js.board,s=i.outermostSelectedObjectElements,_this$Jm52=this.Jm,n=_this$Jm52.displaySpace,o=_this$Jm52.displayUnit,l=qt(o,"px"),h=new DOMMatrix();"viewport"===n&&(h=Wt(i.currentWorkspace));var a=jt(i.vectorCanvas).inverse(),r=h.multiply(a),d=Jt(s).matrixTransform(r),c=Symbol(),p=Symbol();var _iterator1162=_createForOfIteratorHelper(s),_step1162;try{for(_iterator1162.s();!(_step1162=_iterator1162.n()).done;){var _t1726=_step1162.value;var _e1216=Vt(_t1726,i.vectorCanvas);_e1216=h.multiply(_e1216),_t1726[c]=_e1216.inverse(),_t1726[p]=Ci(_t1726);}}catch(err){_iterator1162.e(err);}finally{_iterator1162.f();}i.undoManager.checkpoint("Origin Y"),this.$f=!0,this.Js.board.transformHud.enabled&&(this.Js.board.transformHud.mode="rotate-and-skew"),this["#origin-y-input"].addEventListener("change",t=function t(){var t=_this681["#origin-y-input"].value*l.d,e=new DOMPoint(d.x,t);var _iterator1163=_createForOfIteratorHelper(s),_step1163;try{for(_iterator1163.s();!(_step1163=_iterator1163.n()).done;){var _t1725=_step1163.value;var _s656=e.matrixTransform(_t1725[c]),_n472=he(_s656,_t1725[p]);Zt(_t1725,_n472,Nb(i.geometryPrecision,6));}}catch(err){_iterator1163.e(err);}finally{_iterator1163.f();}}),this["#origin-y-input"].addEventListener("changeend",_e1215=function e(){_this681["#origin-y-input"].removeEventListener("change",t),_this681["#origin-y-input"].removeEventListener("changeend",_e1215),_this681.$f=!1;});}},{key:"ag",value:function ag(){var _this682=this;var t,_e1217,i=this.Js.board,s=i.outermostSelectedObjectElements,n=s.length>1?0:Z(te(s[0]),2),o=Jt(s),l=!1,h=Symbol();var _iterator1164=_createForOfIteratorHelper(s),_step1164;try{for(_iterator1164.s();!(_step1164=_iterator1164.n()).done;){var _t1730=_step1164.value;var _e1218=Nt(_t1730),_i1114=jt(_t1730),_s658=_i1114.inverse();_t1730[h]={clientToUserTransform:_i1114,userToClientTransform:_s658,userTransform:_e1218};}}catch(err){_iterator1164.e(err);}finally{_iterator1164.f();}this.Js.board.transformHud.enabled&&(this.Js.board.transformHud.mode="rotate-and-skew"),this.lg=!0,this["#rotation-section"].addEventListener("change",t=function t(_t1728){!1===l&&(l=!0,i.undoManager.checkpoint("Rotation")),_t1728.target===_this682["#rotation-slider"]?_this682["#rotation-input"].value=_this682["#rotation-slider"].value:_t1728.target===_this682["#rotation-input"]&&(_this682["#rotation-slider"].value=_this682["#rotation-input"].value),_this682.Qs.modKeys.shift&&(_this682["#rotation-input"].value=Be(_this682["#rotation-slider"].value,15),_this682["#rotation-slider"].value=_this682["#rotation-input"].value);var e=_this682["#rotation-input"].value-n;var _iterator1165=_createForOfIteratorHelper(s),_step1165;try{for(_iterator1165.s();!(_step1165=_iterator1165.n()).done;){var _t1727=_step1165.value;var _t1727$h=_t1727[h],_i1113=_t1727$h.clientToUserTransform,_s657=_t1727$h.userToClientTransform,_n473=_t1727$h.userTransform,_l315=DOMMatrix.fromMatrix(_n473);_l315.multiplySelf(_s657),_l315.translateSelf(o.x,o.y),_l315.rotateSelf(e),_l315.translateSelf(-o.x,-o.y),_l315.multiplySelf(_i1113),_t1727.setAttribute("transform",_l315.toString());}}catch(err){_iterator1165.e(err);}finally{_iterator1165.f();}}),this["#rotation-section"].addEventListener("changeend",_e1217=function e(){if(_this682["#rotation-section"].removeEventListener("change",t),_this682["#rotation-section"].removeEventListener("changeend",_e1217),_this682.lg=!1,l){var _iterator1166=_createForOfIteratorHelper(s),_step1166;try{for(_iterator1166.s();!(_step1166=_iterator1166.n()).done;){var _t1729=_step1166.value;mh(_t1729,{geometryPrecision:i.geometryPrecision,transformPrecision:i.transformPrecision});}}catch(err){_iterator1166.e(err);}finally{_iterator1166.f();}}});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedObjectElements;if(0===e.length)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else if(1===e.length){var _this$Jm53=this.Jm,_i1115=_this$Jm53.displaySpace,_s659=_this$Jm53.displayUnit,_n474=_this$Jm53.displayPrecision,_o378=e[0],_l316=Ci(_o378),_h236=_s659?" "+_s659:"",_a194=1/Vb(10,_n474-1),_r129=Vt(_o378,t.vectorCanvas),_d103=qt("px",_s659);"viewport"===_i1115&&(_r129=Wt(t.currentWorkspace).multiply(_r129));var _c79=[new DOMPoint(_l316.x,_l316.y),new DOMPoint(_l316.x+_l316.width,_l316.y),new DOMPoint(_l316.x+_l316.width,_l316.y+_l316.height),new DOMPoint(_l316.x,_l316.y+_l316.height)];_c79=_c79.map(function(t){return t.matrixTransform(_r129);}),_c79=_c79.map(function(t){return t.matrixTransform(_d103);});var _p69=Xt(_o378),_u56=le(_p69,_l316).matrixTransform(_r129);_u56=_u56.matrixTransform(_d103);var _x138=Ub.apply(void 0,_toConsumableArray(_c79.map(function(t){return t.x;}))),_b44=Ub.apply(void 0,_toConsumableArray(_c79.map(function(t){return t.y;}))),_m41=De(_c79[0],_c79[1]),_g36=De(_c79[1],_c79[2]),_f25=_u56.x,_w20=_u56.y,_v16=te(_o378);!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),!1===this.Ag&&(this["#x-input"].value=Z(_x138,_n474),this["#x-input"].suffix=_h236,this["#x-input"].step=_a194),!1===this.$g&&(this["#y-input"].value=Z(_b44,_n474),this["#y-input"].suffix=_h236,this["#y-input"].step=_a194),!1===this.eb&&(this["#width-input"].value=Z(_m41,_n474),this["#width-input"].suffix=_h236,this["#width-input"].step=_a194),!1===this.Ig&&(this["#height-input"].value=Z(_g36,_n474),this["#height-input"].suffix=_h236,this["#height-input"].step=_a194),!1===this.Af&&(this["#origin-x-input"].value=Z(_f25,_n474),this["#origin-x-input"].suffix=_h236,this["#origin-x-input"].step=_a194),!1===this.$f&&(this["#origin-y-input"].value=Z(_w20,_n474),this["#origin-y-input"].suffix=_h236,this["#origin-y-input"].step=_a194),!1===this.lg&&(this["#rotation-slider"].value=Z(_v16,1),this["#rotation-input"].value=Z(_v16,1));}else{var _this$Jm54=this.Jm,_i1116=_this$Jm54.displaySpace,_s660=_this$Jm54.displayUnit,_n475=_this$Jm54.displayPrecision,_o379=_s660?" "+_s660:"",_l317=1/Vb(10,_n475-1),_h237=qt("px",_s660),_a195=new DOMMatrix();"viewport"===_i1116&&(_a195=Wt(t.currentWorkspace));var _r130=e.map(function(e){var i=Vt(e,t.vectorCanvas);i=_a195.multiply(i);var s=Ci(e);return s=Ue(s,i),s=Ue(s,_h237),s;}),_d104=jt(t.vectorCanvas).inverse(),_c80=_a195.multiply(_d104),_p70=Ne(_r130),_u57=Jt(e,!1).matrixTransform(_c80);_u57=_u57.matrixTransform(_h237);var _x139=_p70.x,_b45=_p70.y,_m42=_p70.width,_g37=_p70.height,_f26=_u57.x,_w21=_u57.y;!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),!1===this.Ag&&(this["#x-input"].value=Z(_x139,_n475),this["#x-input"].suffix=_o379,this["#x-input"].step=_l317),!1===this.$g&&(this["#y-input"].value=Z(_b45,_n475),this["#y-input"].suffix=_o379,this["#y-input"].step=_l317),!1===this.eb&&(this["#width-input"].value=Z(_m42,_n475),this["#width-input"].suffix=_o379,this["#width-input"].step=_l317),!1===this.Ig&&(this["#height-input"].value=Z(_g37,_n475),this["#height-input"].suffix=_o379,this["#height-input"].step=_l317),!1===this.Af&&(this["#origin-x-input"].value=Z(_f26,_n475),this["#origin-x-input"].suffix=_o379,this["#origin-x-input"].step=_l317),!1===this.$f&&(this["#origin-y-input"].value=Z(_w21,_n475),this["#origin-y-input"].suffix=_o379,this["#origin-y-input"].step=_l317),!1===this.lg&&(this["#rotation-slider"].value=0,this["#rotation-input"].value=0);}}}]);return jb;}(pb);_defineProperty(jb,"_shadowTemplate",Yi(_templateObject347()));_defineProperty(jb,"_shadowStyleSheet",Wi(_templateObject348()));customElements.define("bx-objectgeometryinspector",jb);var Hb=/*#__PURE__*/function(_pb15){_inherits(Hb,_pb15);var _super145=_createSuper(Hb);function Hb(){var _this683;_classCallCheck(this,Hb);_this683=_super145.call(this),_this683.ef=!1,_this683["if"]=!1,_this683.sf=!1,_this683.nf=!1,_this683.rf=null,_this683.df=null,_this683.pf=Xi(_this683.qs,100,_assertThisInitialized(_this683)),_this683["#viewbox-x-input"].addEventListener("changestart",function(t){return _this683.gf(t);}),_this683["#viewbox-y-input"].addEventListener("changestart",function(t){return _this683.ff(t);}),_this683["#viewbox-width-input"].addEventListener("changestart",function(t){return _this683.wf(t);}),_this683["#viewbox-height-input"].addEventListener("changestart",function(t){return _this683.vf(t);}),_this683["#viewbox-switch"].addEventListener("toggle",function(){return _this683.yf();}),_this683["#viewbox-lock-button"].addEventListener("toggle",function(){return _this683.kf();}),_this683["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this683.Sf();}),_this683["#align-buttons"].addEventListener("toggle",function(){return _this683._f();}),_this683["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this683.Cf();});return _this683;}_createClass(Hb,[{key:"tn",value:function tn(){var _this684=this;this.qs(),this["#viewbox-lock-button"].toggled=app.getConfig("bx-patterngeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this684.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this684.sl(t.detail);});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"sl",value:function sl(t){this.pf();}},{key:"yf",value:function yf(){var t=this.Js.board;t.undoManager.checkpoint("View box"),this["#viewbox-switch"].toggled?this.rf?t.currentWorkspace.setAttribute("viewBox",this.rf):t.currentWorkspace.setAttribute("viewBox","0 0 500 500"):(this.rf=t.currentWorkspace.getAttribute("viewBox"),t.currentWorkspace.removeAttribute("viewBox"));}},{key:"gf",value:function gf(t){var _this685=this;var e,_i1117,s=this.Js.board.currentWorkspace,n=Bt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.ef=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){n.x=_this685["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-x-input"].addEventListener("changeend",_i1117=function i(){_this685["#viewbox-x-input"].removeEventListener("change",e),_this685["#viewbox-x-input"].removeEventListener("changeend",_i1117),_this685.ef=!1;});}},{key:"ff",value:function ff(t){var _this686=this;var e,_i1118,s=this.Js.board.currentWorkspace,n=Bt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this["if"]=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){n.y=_this686["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-y-input"].addEventListener("changeend",_i1118=function i(){_this686["#viewbox-y-input"].removeEventListener("change",e),_this686["#viewbox-y-input"].removeEventListener("changeend",_i1118),_this686["if"]=!1;});}},{key:"wf",value:function wf(t){var _this687=this;var e,_i1119,_this$Js$board49=this.Js.board,s=_this$Js$board49.geometryPrecision,n=_this$Js$board49.currentWorkspace,o=Bt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.sf=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){o.width=_this687["#viewbox-width-input"].value,null!==l&&(o.height=Z(_this687["#viewbox-width-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-width-input"].addEventListener("changeend",_i1119=function i(){_this687["#viewbox-width-input"].removeEventListener("change",e),_this687["#viewbox-width-input"].removeEventListener("changeend",_i1119),_this687.sf=!1;});}},{key:"vf",value:function vf(t){var _this688=this;var e,_i1120,_this$Js$board50=this.Js.board,s=_this$Js$board50.geometryPrecision,n=_this$Js$board50.currentWorkspace,o=Bt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.nf=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){o.height=_this688["#viewbox-height-input"].value,null!==l&&(o.width=Z(_this688["#viewbox-height-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-height-input"].addEventListener("changeend",_i1120=function i(){_this688["#viewbox-height-input"].removeEventListener("change",e),_this688["#viewbox-height-input"].removeEventListener("changeend",_i1120),_this688.nf=!1;});}},{key:"kf",value:function kf(){var t=this["#viewbox-lock-button"].toggled;this.Qs.setConfig("bx-patterngeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"Sf",value:function Sf(){var t=this.Js.board.currentWorkspace;this.Js.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.df?t.setAttribute("preserveAspectRatio",this.df):t.removeAttribute("preserveAspectRatio"):(this.df=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"_f",value:function _f(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s661=e;"none"!==_s661&&"slice"===i&&(_s661+=" slice"),t.setAttribute("preserveAspectRatio",_s661);}}},{key:"Cf",value:function Cf(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s662=e;"none"!==_s662&&"slice"===i&&(_s662+=" slice"),t.setAttribute("preserveAspectRatio",_s662);}}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.currentWorkspace,i=t.currentContainer,s=t.selectedElements,n=t.gridHud,o=this.Jm.displayPrecision;if("pattern"!==e.getAttribute("data-bx-workspace")||s.length>0||0===s.length&&null!==i||n.selected)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{if(!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),e.hasAttribute("viewBox")){var _Bt$fromString4=Bt.fromString(e.getAttribute("viewBox")),_t1731=_Bt$fromString4.x,_i1121=_Bt$fromString4.y,_s663=_Bt$fromString4.width,_n476=_Bt$fromString4.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-switch"].toggled=!0,this["#viewbox-lock-button"].disabled=!1,!1===this.ef&&(this["#viewbox-x-input"].value=Z(_t1731,o),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this["if"]&&(this["#viewbox-y-input"].value=Z(_i1121,o),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.sf&&(this["#viewbox-width-input"].value=Z(_s663,o),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.nf&&(this["#viewbox-height-input"].value=Z(_n476,o),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}else this["#viewbox-heading"].disabled=!0,this["#viewbox-switch"].toggled=!1,this["#viewbox-lock-button"].disabled=!0,this["#viewbox-x-input"].value=0,this["#viewbox-x-input"].disabled=!0,this["#viewbox-x-label"].disabled=!0,this["#viewbox-y-input"].value=0,this["#viewbox-y-input"].disabled=!0,this["#viewbox-y-label"].disabled=!0,this["#viewbox-width-input"].value=0,this["#viewbox-width-input"].disabled=!0,this["#viewbox-width-label"].disabled=!0,this["#viewbox-height-input"].value=0,this["#viewbox-height-input"].disabled=!0,this["#viewbox-height-label"].disabled=!0;if(!1===e.hasAttribute("viewBox"))this["#preserve-aspect-ratio-heading"].disabled=!0,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!0,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0;else{var _t1732=e.getAttribute("preserveAspectRatio")||"xMidYMid meet",_$t$fromString3=$t.fromString(_t1732),_i1122=_$t$fromString3.align,_s664=_$t$fromString3.meetOrSlice;"none"===_i1122?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1122,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s664,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}}}}]);return Hb;}(pb);_defineProperty(Hb,"_shadowTemplate",Yi(_templateObject349()));_defineProperty(Hb,"_shadowStyleSheet",Wi(_templateObject350()));customElements.define("bx-patterngeometryinspector",Hb);var Yb=Math.pow;var Wb=/*#__PURE__*/function(_pb16){_inherits(Wb,_pb16);var _super146=_createSuper(Wb);function Wb(){var _this689;_classCallCheck(this,Wb);_this689=_super146.call(this),_this689.bg=!1,_this689.mg=!1,_this689.Bf=!1,_this689.Rf=!1,_this689._a=Xi(_this689.qs,200,_assertThisInitialized(_this689)),_this689["#r1-input"].addEventListener("changestart",function(){return _this689.vg();}),_this689["#r2-input"].addEventListener("changestart",function(){return _this689.yg();}),_this689["#start-angle-section"].addEventListener("changestart",function(){return _this689.iu();}),_this689["#end-angle-section"].addEventListener("changestart",function(){return _this689.su();});return _this689;}_createClass(Wb,[{key:"tn",value:function tn(){var _this690=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this690._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this690._a();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this690._a();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"vg",value:function vg(){var _this691=this;var t,_e1219,i=this.Js.board,s=i.outermostSelectedElements[0],_ul$values51=_slicedToArray(ul(s).values,6),n=_ul$values51[0],o=_ul$values51[1],l=_ul$values51[2],h=_ul$values51[3],a=_ul$values51[4],r=_ul$values51[5],_this$Jm55=this.Jm,d=_this$Jm55.displaySpace,c=_this$Jm55.displayUnit,p=i.geometryPrecision,u=qt(c,"px"),x=Vt(s,i.currentWorkspace);"viewport"===d&&(x=Wt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Pie inner radius"),this.bg=!0;var m=new DOMPoint(n,o);m=m.matrixTransform(x),m=m.matrixTransform(u);var g=new DOMPoint(n+100,o);g=g.matrixTransform(x),g=g.matrixTransform(u),this["#r1-input"].addEventListener("change",t=function t(_t1733){var e=new X(m,g);e.length=_this691["#r1-input"].value,e=e.matrixTransform(u),e=e.matrixTransform(b),l=Z(e.length,p),xl(s,{type:"pie",values:[n,o,l,h,a,r]});}),this["#r1-input"].addEventListener("changeend",_e1219=function e(){_this691["#r1-input"].removeEventListener("change",t),_this691["#r1-input"].removeEventListener("changeend",_e1219),_this691.bg=!1;});}},{key:"yg",value:function yg(){var _this692=this;var t,_e1220,i=this.Js.board,s=i.outermostSelectedElements[0],_ul$values52=_slicedToArray(ul(s).values,6),n=_ul$values52[0],o=_ul$values52[1],l=_ul$values52[2],h=_ul$values52[3],a=_ul$values52[4],r=_ul$values52[5],_this$Jm56=this.Jm,d=_this$Jm56.displaySpace,c=_this$Jm56.displayUnit,p=i.geometryPrecision,u=qt(c,"px"),x=Vt(s,i.currentWorkspace);"viewport"===d&&(x=Wt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Pie outer radius"),this.mg=!0;var m=new DOMPoint(n,o);m=m.matrixTransform(x),m=m.matrixTransform(u);var g=new DOMPoint(n+100,o);g=g.matrixTransform(x),g=g.matrixTransform(u),this["#r2-input"].addEventListener("change",t=function t(_t1734){var e=new X(m,g);e.length=_this692["#r2-input"].value,e=e.matrixTransform(u),e=e.matrixTransform(b),h=Z(e.length,p),xl(s,{type:"pie",values:[n,o,l,h,a,r]});}),this["#r2-input"].addEventListener("changeend",_e1220=function e(){_this692["#r2-input"].removeEventListener("change",t),_this692["#r2-input"].removeEventListener("changeend",_e1220),_this692.mg=!1;});}},{key:"iu",value:function iu(){var _this693=this;var t,_e1221,i=this.Js.board,s=[],n=Symbol();var _iterator1167=_createForOfIteratorHelper(i.outermostSelectedElements),_step1167;try{for(_iterator1167.s();!(_step1167=_iterator1167.n()).done;){var _t1737=_step1167.value;if("path"===_t1737.localName){var _e1222=ul(_t1737);_e1222&&"pie"===_e1222.type&&(_t1737[n]=_e1222,s.push(_t1737));}}}catch(err){_iterator1167.e(err);}finally{_iterator1167.f();}i.undoManager.checkpoint("Pie start angle"),this.Bf=!0,this["#start-angle-section"].addEventListener("change",t=function t(_t1736){_t1736.target===_this693["#start-angle-slider"]?_this693["#start-angle-input"].value=_this693["#start-angle-slider"].value:_t1736.target===_this693["#start-angle-input"]&&(_this693["#start-angle-slider"].value=_this693["#start-angle-input"].value);var _iterator1168=_createForOfIteratorHelper(s),_step1168;try{for(_iterator1168.s();!(_step1168=_iterator1168.n()).done;){var _t1735=_step1168.value;_t1735[n].values[4]=_this693["#start-angle-slider"].value,xl(_t1735,_t1735[n]);}}catch(err){_iterator1168.e(err);}finally{_iterator1168.f();}}),this["#start-angle-section"].addEventListener("changeend",_e1221=function e(){_this693["#start-angle-section"].removeEventListener("change",t),_this693["#start-angle-section"].removeEventListener("changeend",_e1221),_this693.Bf=!1;});}},{key:"su",value:function su(){var _this694=this;var t,_e1223,i=this.Js.board,s=[],n=Symbol();var _iterator1169=_createForOfIteratorHelper(i.outermostSelectedElements),_step1169;try{for(_iterator1169.s();!(_step1169=_iterator1169.n()).done;){var _t1740=_step1169.value;if("path"===_t1740.localName){var _e1224=ul(_t1740);_e1224&&"pie"===_e1224.type&&(_t1740[n]=_e1224,s.push(_t1740));}}}catch(err){_iterator1169.e(err);}finally{_iterator1169.f();}i.undoManager.checkpoint("Pie end angle"),this.Rf=!0,this["#end-angle-section"].addEventListener("change",t=function t(_t1739){_t1739.target===_this694["#end-angle-slider"]?_this694["#end-angle-input"].value=_this694["#end-angle-slider"].value:_t1739.target===_this694["#end-angle-input"]&&(_this694["#end-angle-slider"].value=_this694["#end-angle-input"].value);var _iterator1170=_createForOfIteratorHelper(s),_step1170;try{for(_iterator1170.s();!(_step1170=_iterator1170.n()).done;){var _t1738=_step1170.value;_t1738[n].values[5]=_this694["#end-angle-slider"].value,xl(_t1738,_t1738[n]);}}catch(err){_iterator1170.e(err);}finally{_iterator1170.f();}}),this["#end-angle-section"].addEventListener("changeend",_e1223=function e(){_this694["#end-angle-section"].removeEventListener("change",t),_this694["#end-angle-section"].removeEventListener("changeend",_e1223),_this694.Rf=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _i1123=ul(e[0]);if(_i1123&&"pie"===_i1123.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _i1123$values=_slicedToArray(_i1123.values,6),_s665=_i1123$values[0],_n477=_i1123$values[1],_o380=_i1123$values[2],_l318=_i1123$values[3],_h238=_i1123$values[4],_a196=_i1123$values[5],_this$Jm57=this.Jm,_r131=_this$Jm57.displayUnit,_d105=_this$Jm57.displaySpace,_c81=_this$Jm57.displayPrecision,_p71=e[0],_u58=Vt(_p71,t.currentWorkspace),_x140=qt("px",_r131),_b46=_r131?" "+_r131:"",_m43=1/Yb(10,_c81-1);"viewport"===_d105&&(_u58=Wt(t.currentWorkspace).multiply(_u58));var _g38=new DOMPoint(_s665,_n477);_g38=_g38.matrixTransform(_u58),_g38=_g38.matrixTransform(_x140),_g38=Me(_g38,_c81);var _f27=new DOMPoint(_s665+_o380,_n477);_f27=_f27.matrixTransform(_u58),_f27=_f27.matrixTransform(_x140);var _w22=new DOMPoint(_s665+_l318,_n477);_w22=_w22.matrixTransform(_u58),_w22=_w22.matrixTransform(_x140),!1===this.bg&&(this["#r1-input"].max=Z(new X(_g38,_w22).length,_c81),this["#r1-input"].value=Z(new X(_g38,_f27).length,_c81),this["#r1-input"].suffix=_b46,this["#r1-input"].step=_m43),!1===this.mg&&(this["#r2-input"].min=Z(new X(_g38,_f27).length,_c81),this["#r2-input"].value=Z(new X(_g38,_w22).length,_c81),this["#r2-input"].suffix=_b46,this["#r2-input"].step=_m43),!1===this.Bf&&(this["#start-angle-slider"].value=Z(_h238,2),this["#start-angle-input"].value=Z(_h238,2)),!1===this.Rf&&(this["#end-angle-slider"].value=Z(_a196,2),this["#end-angle-input"].value=Z(_a196,2));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return Wb;}(pb);_defineProperty(Wb,"_shadowTemplate",Yi(_templateObject351()));_defineProperty(Wb,"_shadowStyleSheet",Wi(_templateObject352()));customElements.define("bx-piegeometryinspector",Wb);var qb=Math.min,Xb=Math.pow;var Zb=/*#__PURE__*/function(_pb17){_inherits(Zb,_pb17);var _super147=_createSuper(Zb);function Zb(){var _this695;_classCallCheck(this,Zb);_this695=_super147.call(this),_this695.dg=!1,_this695.cg=!1,_this695.bg=!1,_this695.mg=!1,_this695.gg=!1,_this695.Gf=!1,_this695._a=Xi(_this695.qs,200,_assertThisInitialized(_this695)),_this695["#r1-input"].addEventListener("changestart",function(){return _this695.vg();}),_this695["#r2-input"].addEventListener("changestart",function(){return _this695.yg();}),_this695["#r3-input"].addEventListener("changestart",function(){return _this695.kg();}),_this695["#r4-input"].addEventListener("changestart",function(){return _this695.Ff();}),_this695["#r1-input"].validate=function(){return null;},_this695["#r2-input"].validate=function(){return null;},_this695["#r3-input"].validate=function(){return null;},_this695["#r4-input"].validate=function(){return null;};return _this695;}_createClass(Zb,[{key:"tn",value:function tn(){var _this696=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this696._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this696._a();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this696._a();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"vg",value:function vg(){var _this697=this;var t,_e1225,i=this.Js.board,s=i.outermostSelectedElements[0],_this$Jm58=this.Jm,n=_this$Jm58.displaySpace,o=_this$Jm58.displayUnit,l=i.geometryPrecision,h=qt(o,"px"),a=Vt(s,i.vectorCanvas);"viewport"===n&&(a=Wt(i.currentWorkspace).multiply(a));var r=a.inverse();i.undoManager.checkpoint("Top left corner radius"),this.bg=!0,"rect"===s.localName&&(s=this.Uf(s));var d=ul(s),_d$values=_slicedToArray(d.values,8),c=_d$values[0],p=_d$values[1],u=_d$values[2],x=_d$values[3],b=_d$values[4],m=_d$values[5],g=_d$values[6],f=_d$values[7];this["#r1-input"].addEventListener("change",t=function t(_t1741){var e=new X(100,100);e=e.matrixTransform(a),e=e.matrixTransform(h),e.length=_this697["#r1-input"].value,e=e.matrixTransform(h),e=e.matrixTransform(r),b=Z(e.length,l),xl(s,{type:"rect",values:[c,p,u,x,b,m,g,f]},l);}),this["#r1-input"].addEventListener("changeend",_e1225=function e(){_this697["#r1-input"].removeEventListener("change",t),_this697["#r1-input"].removeEventListener("changeend",_e1225),_this697["#r1-input"].value===_this697["#r2-input"].value&&_this697["#r1-input"].value===_this697["#r3-input"].value&&_this697["#r1-input"].value===_this697["#r4-input"].value&&_this697.Nf(s),_this697.bg=!1;});}},{key:"yg",value:function yg(){var _this698=this;var t,_e1226,i=this.Js.board,s=i.outermostSelectedElements[0],_this$Jm59=this.Jm,n=_this$Jm59.displaySpace,o=_this$Jm59.displayUnit,l=i.geometryPrecision,h=qt(o,"px"),a=Vt(s,i.vectorCanvas);"viewport"===n&&(a=Wt(i.currentWorkspace).multiply(a));var r=a.inverse();i.undoManager.checkpoint("Top right corner radius"),this.mg=!0,"rect"===s.localName&&(s=this.Uf(s));var d=ul(s),_d$values2=_slicedToArray(d.values,8),c=_d$values2[0],p=_d$values2[1],u=_d$values2[2],x=_d$values2[3],b=_d$values2[4],m=_d$values2[5],g=_d$values2[6],f=_d$values2[7];this["#r2-input"].addEventListener("change",t=function t(_t1742){var e=new X(-100,100);e=e.matrixTransform(a),e=e.matrixTransform(h),e.length=_this698["#r2-input"].value,e=e.matrixTransform(h),e=e.matrixTransform(r),m=Z(e.length,l),xl(s,{type:"rect",values:[c,p,u,x,b,m,g,f]},l);}),this["#r2-input"].addEventListener("changeend",_e1226=function e(){_this698["#r2-input"].removeEventListener("change",t),_this698["#r2-input"].removeEventListener("changeend",_e1226),_this698["#r1-input"].value===_this698["#r2-input"].value&&_this698["#r1-input"].value===_this698["#r3-input"].value&&_this698["#r1-input"].value===_this698["#r4-input"].value&&_this698.Nf(s),_this698.mg=!1;});}},{key:"kg",value:function kg(){var _this699=this;var t,_e1227,i=this.Js.board,s=i.outermostSelectedElements[0],_this$Jm60=this.Jm,n=_this$Jm60.displaySpace,o=_this$Jm60.displayUnit,l=i.geometryPrecision,h=qt(o,"px"),a=Vt(s,i.vectorCanvas);"viewport"===n&&(a=Wt(i.currentWorkspace).multiply(a));var r=a.inverse();i.undoManager.checkpoint("Bottom right corner radius"),this.gg=!0,"rect"===s.localName&&(s=this.Uf(s));var d=ul(s),_d$values3=_slicedToArray(d.values,8),c=_d$values3[0],p=_d$values3[1],u=_d$values3[2],x=_d$values3[3],b=_d$values3[4],m=_d$values3[5],g=_d$values3[6],f=_d$values3[7];this["#r3-input"].addEventListener("change",t=function t(_t1743){var e=new X(-100,-100);e=e.matrixTransform(a),e=e.matrixTransform(h),e.length=_this699["#r3-input"].value,e=e.matrixTransform(h),e=e.matrixTransform(r),g=Z(e.length,l),xl(s,{type:"rect",values:[c,p,u,x,b,m,g,f]},l);}),this["#r3-input"].addEventListener("changeend",_e1227=function e(){_this699["#r3-input"].removeEventListener("change",t),_this699["#r3-input"].removeEventListener("changeend",_e1227),_this699["#r1-input"].value===_this699["#r2-input"].value&&_this699["#r1-input"].value===_this699["#r3-input"].value&&_this699["#r1-input"].value===_this699["#r4-input"].value&&_this699.Nf(s),_this699.gg=!1;});}},{key:"Ff",value:function Ff(){var _this700=this;var t,_e1228,i=this.Js.board,s=i.outermostSelectedElements[0],_this$Jm61=this.Jm,n=_this$Jm61.displaySpace,o=_this$Jm61.displayUnit,l=i.geometryPrecision,h=qt(o,"px"),a=Vt(s,i.vectorCanvas);"viewport"===n&&(a=Wt(i.currentWorkspace).multiply(a));var r=a.inverse();i.undoManager.checkpoint("Bottom left corner radius"),this.Gf=!0,"rect"===s.localName&&(s=this.Uf(s));var d=ul(s),_d$values4=_slicedToArray(d.values,8),c=_d$values4[0],p=_d$values4[1],u=_d$values4[2],x=_d$values4[3],b=_d$values4[4],m=_d$values4[5],g=_d$values4[6],f=_d$values4[7];this["#r4-input"].addEventListener("change",t=function t(_t1744){var e=new X(100,-100);e=e.matrixTransform(a),e=e.matrixTransform(h),e.length=_this700["#r4-input"].value,e=e.matrixTransform(h),e=e.matrixTransform(r),f=Z(e.length,l),xl(s,{type:"rect",values:[c,p,u,x,b,m,g,f]},l);}),this["#r4-input"].addEventListener("changeend",_e1228=function e(){_this700["#r4-input"].removeEventListener("change",t),_this700["#r4-input"].removeEventListener("changeend",_e1228),_this700["#r1-input"].value===_this700["#r2-input"].value&&_this700["#r1-input"].value===_this700["#r3-input"].value&&_this700["#r1-input"].value===_this700["#r4-input"].value&&_this700.Nf(s),_this700.Gf=!1;});}},{key:"Uf",value:function Uf(t){var e=this.Js.board,i=zi("svg:path");var _iterator1171=_createForOfIteratorHelper(t.attributes),_step1171;try{for(_iterator1171.s();!(_step1171=_iterator1171.n()).done;){var _e1229=_step1171.value;!1===["x","y","width","height","rx","ry"].includes(_e1229.name)&&i.setAttribute(_e1229.name,_e1229.value);}}catch(err){_iterator1171.e(err);}finally{_iterator1171.f();}return xl(i,{type:"rect",values:[t.x.baseVal.value,t.y.baseVal.value,t.width.baseVal.value,t.height.baseVal.value,t.rx.baseVal.value,t.rx.baseVal.value,t.rx.baseVal.value,t.rx.baseVal.value]}),i.innerHTML=t.innerHTML,t.replaceWith(i),e.selectedElements=e.selectedElements.map(function(e){return e===t?i:e;}),i;}},{key:"Nf",value:function Nf(t){var e=this.Js.board,i=zi("svg:rect"),s=ul(t),_s$values13=_slicedToArray(s.values,8),n=_s$values13[0],o=_s$values13[1],l=_s$values13[2],h=_s$values13[3],a=_s$values13[4],r=_s$values13[5],d=_s$values13[6],c=_s$values13[7];var _iterator1172=_createForOfIteratorHelper(t.attributes),_step1172;try{for(_iterator1172.s();!(_step1172=_iterator1172.n()).done;){var _e1230=_step1172.value;"d"!==_e1230.name&&"data-bx-shape"!==_e1230.name&&i.setAttribute(_e1230.name,_e1230.value);}}catch(err){_iterator1172.e(err);}finally{_iterator1172.f();}return i.setAttribute("x",n),i.setAttribute("y",o),i.setAttribute("width",l),i.setAttribute("height",h),i.setAttribute("rx",a),i.setAttribute("ry",a),i.innerHTML=t.innerHTML,t.replaceWith(i),e.selectedElements=e.selectedElements.map(function(e){return e===t?i:e;}),i;}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements[0];if(e){if("rect"===e.localName){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _this$Jm62=this.Jm,_i1124=_this$Jm62.displayUnit,_s666=_this$Jm62.displaySpace,_n478=_this$Jm62.displayPrecision,_o381=Vt(e,t.currentWorkspace),_l319=qt("px",_i1124),_h239=_i1124?" "+_i1124:"",_a197=1/Xb(10,_n478-1);"viewport"===_s666&&(_o381=Wt(t.currentWorkspace).multiply(_o381));var _r132=new X(100,100);_r132.length=e.rx.baseVal.value,_r132=_r132.matrixTransform(_o381),_r132=_r132.matrixTransform(_l319);var _d106=new X(e.width.baseVal.value,0);_d106=_d106.matrixTransform(_o381),_d106=_d106.matrixTransform(_l319);var _c82=new X(0,e.height.baseVal.value);_c82=_c82.matrixTransform(_o381),_c82=_c82.matrixTransform(_l319);var _p72=Z(_r132.length,_n478),_u59=Z(qb(_d106.length/2,_c82.length/2),_n478);for(var _i1125=0,_arr43=[this["#r1-input"],this["#r2-input"],this["#r3-input"],this["#r4-input"]];_i1125<_arr43.length;_i1125++){var _t1745=_arr43[_i1125];_t1745.max=_u59,_t1745.value=_p72,_t1745.step=_a197,_t1745.suffix=_h239;}}else if("path"===e.localName){var _i1126=ul(e);if(_i1126&&"rect"===_i1126.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _i1126$values=_slicedToArray(_i1126.values,8),_s667=_i1126$values[0],_n479=_i1126$values[1],_o382=_i1126$values[2],_l320=_i1126$values[3],_h240=_i1126$values[4],_a198=_i1126$values[5],_r133=_i1126$values[6],_d107=_i1126$values[7],_this$Jm63=this.Jm,_c83=_this$Jm63.displayUnit,_p73=_this$Jm63.displaySpace,_u60=_this$Jm63.displayPrecision,_x141=Vt(e,t.currentWorkspace),_b47=qt("px",_c83),_m44=_c83?" "+_c83:"",_g39=1/Xb(10,_u60-1);"viewport"===_p73&&(_x141=Wt(t.currentWorkspace).multiply(_x141));var _f28=new X(_o382,0);_f28=_f28.matrixTransform(_x141),_f28=_f28.matrixTransform(_b47);var _w23=new X(0,_l320);_w23=_w23.matrixTransform(_x141),_w23=_w23.matrixTransform(_b47);var _v17=Z(qb(_f28.length/2,_w23.length/2),_u60);if(!1===this.bg){var _t1746=new X(100,100);_t1746.length=_h240,_t1746=_t1746.matrixTransform(_x141),_t1746=_t1746.matrixTransform(_b47);var _e1231=Z(_t1746.length,_u60);this["#r1-input"].max=_v17,this["#r1-input"].value=_e1231,this["#r1-input"].step=_g39,this["#r1-input"].suffix=_m44;}if(!1===this.mg){var _t1747=new X(-100,100);_t1747.length=_a198,_t1747=_t1747.matrixTransform(_x141),_t1747=_t1747.matrixTransform(_b47);var _e1232=Z(_t1747.length,_u60);this["#r2-input"].max=_v17,this["#r2-input"].value=_e1232,this["#r2-input"].step=_g39,this["#r2-input"].suffix=_m44;}if(!1===this.gg){var _t1748=new X(-100,-100);_t1748.length=_r133,_t1748=_t1748.matrixTransform(_x141),_t1748=_t1748.matrixTransform(_b47);var _e1233=Z(_t1748.length,_u60);this["#r3-input"].max=_v17,this["#r3-input"].value=_e1233,this["#r3-input"].step=_g39,this["#r3-input"].suffix=_m44;}if(!1===this.Gf){var _t1749=new X(100,-100);_t1749.length=_d107,_t1749=_t1749.matrixTransform(_x141),_t1749=_t1749.matrixTransform(_b47);var _e1234=Z(_t1749.length,_u60);this["#r4-input"].max=_v17,this["#r4-input"].value=_e1234,this["#r4-input"].step=_g39,this["#r4-input"].suffix=_m44;}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return Zb;}(pb);_defineProperty(Zb,"_shadowTemplate",Yi(_templateObject353()));_defineProperty(Zb,"_shadowStyleSheet",Wi(_templateObject354()));customElements.define("bx-rectgeometryinspector",Zb);var Kb=Math.min,Qb=Math.max,Jb=Math.pow;var tm=/*#__PURE__*/function(_pb18){_inherits(tm,_pb18);var _super148=_createSuper(tm);function tm(){var _this701;_classCallCheck(this,tm);_this701=_super148.call(this),_this701.dg=!1,_this701.cg=!1,_this701.Vf=!1,_this701.jf=!1,_this701.Hf=!1,_this701.Yf=!1,_this701._a=Xi(_this701.qs,200,_assertThisInitialized(_this701)),_this701["#cx-input"].addEventListener("changestart",function(){return _this701.pg();}),_this701["#cy-input"].addEventListener("changestart",function(){return _this701.ug();}),_this701["#r1x-input"].addEventListener("changestart",function(){return _this701.Wf();}),_this701["#r1y-input"].addEventListener("changestart",function(){return _this701.qf();}),_this701["#r1-aspect-ratio-button"].addEventListener("toggle",function(){return _this701.Xf();}),_this701["#r2x-input"].addEventListener("changestart",function(){return _this701.Zf();}),_this701["#r2y-input"].addEventListener("changestart",function(){return _this701.Kf();}),_this701["#r2-aspect-ratio-button"].addEventListener("toggle",function(){return _this701.Qf();}),_this701["#r1x-input"].validate=function(){return null;},_this701["#r1y-input"].validate=function(){return null;},_this701["#r2x-input"].validate=function(){return null;},_this701["#r2y-input"].validate=function(){return null;};return _this701;}_createClass(tm,[{key:"tn",value:function tn(){var _this702=this;this["#r1-aspect-ratio-button"].toggled=app.getConfig("bx-ringgeometry:preserveR1AspectRatio",!1),this["#r2-aspect-ratio-button"].toggled=app.getConfig("bx-ringgeometry:preserveR2AspectRatio",!1),this["#r1-aspect-ratio-icon"].name=this["#r1-aspect-ratio-button"].toggled?"lock-on":"lock-off",this["#r2-aspect-ratio-icon"].name=this["#r2-aspect-ratio-button"].toggled?"lock-on":"lock-off",this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this702._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this702._a();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this702._a();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"pg",value:function pg(){var _this703=this;var t,_e1235,i=this.Js.board,s=i.outermostSelectedElements[0],_ul$values53=_slicedToArray(ul(s).values,6),n=_ul$values53[0],o=_ul$values53[1],l=_ul$values53[2],h=_ul$values53[3],a=_ul$values53[4],r=_ul$values53[5],_this$Jm64=this.Jm,d=_this$Jm64.displaySpace,c=_this$Jm64.displayUnit,p=i.geometryPrecision,u=qt(c,"px"),x=Vt(s,i.vectorCanvas);"viewport"===d&&(x=Wt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Ring center"),this.dg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1750){var e=new DOMPoint(_this703["#cx-input"].value,_this703["#cy-input"].value);e=e.matrixTransform(u),e=e.matrixTransform(b),e=Me(e,p),n=e.x,o=e.y,xl(s,{type:"ring",values:[n,o,l,h,a,r]});}),this["#cx-input"].addEventListener("changeend",_e1235=function e(){_this703["#cx-input"].removeEventListener("change",t),_this703["#cx-input"].removeEventListener("changeend",_e1235),_this703.dg=!1;});}},{key:"ug",value:function ug(){var _this704=this;var t,_e1236,i=this.Js.board,s=i.outermostSelectedElements[0],_ul$values54=_slicedToArray(ul(s).values,6),n=_ul$values54[0],o=_ul$values54[1],l=_ul$values54[2],h=_ul$values54[3],a=_ul$values54[4],r=_ul$values54[5],_this$Jm65=this.Jm,d=_this$Jm65.displaySpace,c=_this$Jm65.displayUnit,p=i.geometryPrecision,u=qt(c,"px"),x=Vt(s,i.currentWorkspace);"viewport"===d&&(x=Wt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Ring center"),this.cg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1751){var e=new DOMPoint(_this704["#cx-input"].value,_this704["#cy-input"].value);e=e.matrixTransform(u),e=e.matrixTransform(b),e=Me(e,p),n=e.x,o=e.y,xl(s,{type:"ring",values:[n,o,l,h,a,r]});}),this["#cy-input"].addEventListener("changeend",_e1236=function e(){_this704["#cy-input"].removeEventListener("change",t),_this704["#cy-input"].removeEventListener("changeend",_e1236),_this704.cg=!1;});}},{key:"Wf",value:function Wf(){var _this705=this;var t,_e1237,i=this.Js.board,s=i.outermostSelectedElements[0],_ul$values55=_slicedToArray(ul(s).values,6),n=_ul$values55[0],o=_ul$values55[1],l=_ul$values55[2],h=_ul$values55[3],a=_ul$values55[4],r=_ul$values55[5],_this$Jm66=this.Jm,d=_this$Jm66.displaySpace,c=_this$Jm66.displayUnit,p=i.geometryPrecision,u=this["#r1y-input"].value/this["#r1x-input"].value||1,x=qt(c,"px"),b=Vt(s,i.currentWorkspace);"viewport"===d&&(b=Wt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Ring radius X"),this.Vf=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r1x-input"].addEventListener("change",t=function t(_t1752){var e=new X(g,f);e.length=_this705["#r1x-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),l=Z(e.length,p),_this705["#r1-aspect-ratio-button"].toggled&&(h=Z(l*u,p)),xl(s,{type:"ring",values:[n,o,l,h,a,r]});}),this["#r1x-input"].addEventListener("changeend",_e1237=function e(){_this705["#r1x-input"].removeEventListener("change",t),_this705["#r1x-input"].removeEventListener("changeend",_e1237),_this705.Vf=!1;});}},{key:"qf",value:function qf(){var _this706=this;var t,_e1238,i=this.Js.board,s=i.outermostSelectedElements[0],_ul$values56=_slicedToArray(ul(s).values,6),n=_ul$values56[0],o=_ul$values56[1],l=_ul$values56[2],h=_ul$values56[3],a=_ul$values56[4],r=_ul$values56[5],_this$Jm67=this.Jm,d=_this$Jm67.displaySpace,c=_this$Jm67.displayUnit,p=i.geometryPrecision,u=this["#r1x-input"].value/this["#r1y-input"].value||1,x=qt(c,"px"),b=Vt(s,i.currentWorkspace);"viewport"===d&&(b=Wt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Ring radius Y"),this.jf=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n,o+100);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r1y-input"].addEventListener("change",t=function t(_t1753){var e=new X(g,f);e.length=_this706["#r1y-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),h=Z(e.length,p),_this706["#r1-aspect-ratio-button"].toggled&&(l=Z(h*u,p)),xl(s,{type:"ring",values:[n,o,l,h,a,r]});}),this["#r1y-input"].addEventListener("changeend",_e1238=function e(){_this706["#r1y-input"].removeEventListener("change",t),_this706["#r1y-input"].removeEventListener("changeend",_e1238),_this706.jf=!1;});}},{key:"Xf",value:function Xf(){this.Qs.setConfig("bx-ringgeometry:preserveR1AspectRatio",this["#r1-aspect-ratio-button"].toggled),this["#r1-aspect-ratio-icon"].name=this["#r1-aspect-ratio-button"].toggled?"lock-on":"lock-off",this.qs();}},{key:"Zf",value:function Zf(){var _this707=this;var t,_e1239,i=this.Js.board,s=i.outermostSelectedElements[0],_ul$values57=_slicedToArray(ul(s).values,6),n=_ul$values57[0],o=_ul$values57[1],l=_ul$values57[2],h=_ul$values57[3],a=_ul$values57[4],r=_ul$values57[5],_this$Jm68=this.Jm,d=_this$Jm68.displaySpace,c=_this$Jm68.displayUnit,p=i.geometryPrecision,u=this["#r2y-input"].value/this["#r2x-input"].value||1,x=qt(c,"px"),b=Vt(s,i.currentWorkspace);"viewport"===d&&(b=Wt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Ring radius X"),this.Hf=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r2x-input"].addEventListener("change",t=function t(_t1754){var e=new X(g,f);e.length=_this707["#r2x-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),a=Z(e.length,p),_this707["#r2-aspect-ratio-button"].toggled&&(r=Z(a*u,p)),xl(s,{type:"ring",values:[n,o,l,h,a,r]});}),this["#r2x-input"].addEventListener("changeend",_e1239=function e(){_this707["#r2x-input"].removeEventListener("change",t),_this707["#r2x-input"].removeEventListener("changeend",_e1239),_this707.Hf=!1;});}},{key:"Kf",value:function Kf(){var _this708=this;var t,_e1240,i=this.Js.board,s=i.outermostSelectedElements[0],_ul$values58=_slicedToArray(ul(s).values,6),n=_ul$values58[0],o=_ul$values58[1],l=_ul$values58[2],h=_ul$values58[3],a=_ul$values58[4],r=_ul$values58[5],_this$Jm69=this.Jm,d=_this$Jm69.displaySpace,c=_this$Jm69.displayUnit,p=i.geometryPrecision,u=this["#r2x-input"].value/this["#r2y-input"].value||1,x=qt(c,"px"),b=Vt(s,i.currentWorkspace);"viewport"===d&&(b=Wt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Ring radius Y"),this.Yf=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n,o+100);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r2y-input"].addEventListener("change",t=function t(_t1755){var e=new X(g,f);e.length=_this708["#r2y-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),r=Z(e.length,p),_this708["#r2-aspect-ratio-button"].toggled&&(a=Z(r*u,p)),xl(s,{type:"ring",values:[n,o,l,h,a,r]});}),this["#r2y-input"].addEventListener("changeend",_e1240=function e(){_this708["#r2y-input"].removeEventListener("change",t),_this708["#r2y-input"].removeEventListener("changeend",_e1240),_this708.Yf=!1;});}},{key:"Qf",value:function Qf(){this.Qs.setConfig("bx-ringgeometry:preserveR2AspectRatio",this["#r2-aspect-ratio-button"].toggled),this["#r2-aspect-ratio-icon"].name=this["#r2-aspect-ratio-button"].toggled?"lock-on":"lock-off",this.qs();}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _i1127=ul(e[0]);if(_i1127&&"ring"===_i1127.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _i1127$values=_slicedToArray(_i1127.values,6),_s668=_i1127$values[0],_n480=_i1127$values[1],_o383=_i1127$values[2],_l321=_i1127$values[3],_h241=_i1127$values[4],_a199=_i1127$values[5],_this$Jm70=this.Jm,_r134=_this$Jm70.displayUnit,_d108=_this$Jm70.displaySpace,_c84=_this$Jm70.displayPrecision,_p74=e[0],_u61=Vt(_p74,t.currentWorkspace),_x142=qt("px",_r134),_b48=_r134?" "+_r134:"",_m45=1/Jb(10,_c84-1);"viewport"===_d108&&(_u61=Wt(t.currentWorkspace).multiply(_u61));var _g40=new DOMPoint(_s668,_n480);if(_g40=_g40.matrixTransform(_u61),_g40=_g40.matrixTransform(_x142),_g40=Me(_g40,_c84),!1===this.dg&&(this["#cx-input"].value=_g40.x,this["#cx-input"].suffix=_b48,this["#cx-input"].step=_m45),!1===this.cg&&(this["#cy-input"].value=_g40.y,this["#cy-input"].suffix=_b48,this["#cy-input"].step=_m45),!1===this.Vf){var _t1756=this["#r1-aspect-ratio-button"].toggled?Kb(_h241,_a199*(_o383/_l321)):_h241,_e1241=new DOMPoint(_s668+_o383,_n480);_e1241=_e1241.matrixTransform(_u61),_e1241=_e1241.matrixTransform(_x142);var _i1128=new DOMPoint(_s668+_t1756,_n480);_i1128=_i1128.matrixTransform(_u61),_i1128=_i1128.matrixTransform(_x142),this["#r1x-input"].max=Z(new X(_g40,_i1128).length,_c84),this["#r1x-input"].value=Z(new X(_g40,_e1241).length,_c84),this["#r1x-input"].suffix=_b48,this["#r1x-input"].step=_m45;}if(!1===this.jf){var _t1757=this["#r1-aspect-ratio-button"].toggled?Kb(_a199,_h241*(_l321/_o383)):_a199,_e1242=new DOMPoint(_s668,_n480+_l321);_e1242=_e1242.matrixTransform(_u61),_e1242=_e1242.matrixTransform(_x142);var _i1129=new DOMPoint(_s668,_n480+_t1757);_i1129=_i1129.matrixTransform(_u61),_i1129=_i1129.matrixTransform(_x142),this["#r1y-input"].max=Z(new X(_g40,_i1129).length,_c84),this["#r1y-input"].value=Z(new X(_g40,_e1242).length,_c84),this["#r1y-input"].suffix=_b48,this["#r1y-input"].step=_m45;}if(!1===this.Hf){var _t1758=this["#r2-aspect-ratio-button"].toggled?Qb(_o383,_l321*(_h241/_a199)):_o383,_e1243=new DOMPoint(_s668+_h241,_n480);_e1243=_e1243.matrixTransform(_u61),_e1243=_e1243.matrixTransform(_x142);var _i1130=new DOMPoint(_s668+_t1758,_n480);_i1130=_i1130.matrixTransform(_u61),_i1130=_i1130.matrixTransform(_x142),this["#r2x-input"].min=Z(new X(_g40,_i1130).length,_c84),this["#r2x-input"].value=Z(new X(_g40,_e1243).length,_c84),this["#r2x-input"].suffix=_b48,this["#r2x-input"].step=_m45;}if(!1===this.Yf){var _t1759=this["#r2-aspect-ratio-button"].toggled?Qb(_l321,_o383*(_a199/_h241)):_l321,_e1244=new DOMPoint(_s668,_n480+_a199);_e1244=_e1244.matrixTransform(_u61),_e1244=_e1244.matrixTransform(_x142);var _i1131=new DOMPoint(_s668,_n480+_t1759);_i1131=_i1131.matrixTransform(_u61),_i1131=_i1131.matrixTransform(_x142),this["#r2y-input"].min=Z(new X(_g40,_i1131).length,_c84),this["#r2y-input"].value=Z(new X(_g40,_e1244).length,_c84),this["#r2y-input"].suffix=_b48,this["#r2y-input"].step=_m45;}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return tm;}(pb);_defineProperty(tm,"_shadowTemplate",Yi(_templateObject355()));_defineProperty(tm,"_shadowStyleSheet",Wi(_templateObject356()));customElements.define("bx-ringgeometryinspector",tm);var em=Math.pow;var im=/*#__PURE__*/function(_pb19){_inherits(im,_pb19);var _super149=_createSuper(im);function im(){var _this709;_classCallCheck(this,im);_this709=_super149.call(this),_this709.dg=!1,_this709.cg=!1,_this709.bg=!1,_this709.mg=!1,_this709.Bf=!1,_this709.Rf=!1,_this709._a=Xi(_this709.qs,200,_assertThisInitialized(_this709)),_this709["#cx-input"].addEventListener("changestart",function(){return _this709.pg();}),_this709["#cy-input"].addEventListener("changestart",function(){return _this709.ug();}),_this709["#r1-input"].addEventListener("changestart",function(){return _this709.vg();}),_this709["#r2-input"].addEventListener("changestart",function(){return _this709.yg();}),_this709["#start-angle-input"].addEventListener("changestart",function(){return _this709.Jf();}),_this709["#end-angle-input"].addEventListener("changestart",function(){return _this709.tw();});return _this709;}_createClass(im,[{key:"tn",value:function tn(){var _this710=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this710._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this710._a();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this710._a();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"pg",value:function pg(){var _this711=this;var t,_e1245,i=this.Js.board,s=i.outermostSelectedElements[0],_ul$values59=_slicedToArray(ul(s).values,6),n=_ul$values59[0],o=_ul$values59[1],l=_ul$values59[2],h=_ul$values59[3],a=_ul$values59[4],r=_ul$values59[5],_this$Jm71=this.Jm,d=_this$Jm71.displaySpace,c=_this$Jm71.displayUnit,p=i.geometryPrecision,u=qt(c,"px"),x=Vt(s,i.vectorCanvas);"viewport"===d&&(x=Wt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Spiral center"),this.dg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1760){var e=new DOMPoint(_this711["#cx-input"].value,_this711["#cy-input"].value);e=e.matrixTransform(u),e=e.matrixTransform(b),e=Me(e,p),n=e.x,o=e.y,xl(s,{type:"spiral",values:[n,o,l,h,a,r]});}),this["#cx-input"].addEventListener("changeend",_e1245=function e(){_this711["#cx-input"].removeEventListener("change",t),_this711["#cx-input"].removeEventListener("changeend",_e1245),_this711.dg=!1;});}},{key:"ug",value:function ug(){var _this712=this;var t,_e1246,i=this.Js.board,s=i.outermostSelectedElements[0],_ul$values60=_slicedToArray(ul(s).values,6),n=_ul$values60[0],o=_ul$values60[1],l=_ul$values60[2],h=_ul$values60[3],a=_ul$values60[4],r=_ul$values60[5],_this$Jm72=this.Jm,d=_this$Jm72.displaySpace,c=_this$Jm72.displayUnit,p=i.geometryPrecision,u=qt(c,"px"),x=Vt(s,i.currentWorkspace);"viewport"===d&&(x=Wt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Spiral center"),this.cg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1761){var e=new DOMPoint(_this712["#cx-input"].value,_this712["#cy-input"].value);e=e.matrixTransform(u),e=e.matrixTransform(b),e=Me(e,p),n=e.x,o=e.y,xl(s,{type:"spiral",values:[n,o,l,h,a,r]});}),this["#cy-input"].addEventListener("changeend",_e1246=function e(){_this712["#cy-input"].removeEventListener("change",t),_this712["#cy-input"].removeEventListener("changeend",_e1246),_this712.cg=!1;});}},{key:"vg",value:function vg(){var _this713=this;var t,_e1247,i=this.Js.board,s=i.outermostSelectedElements[0],_ul$values61=_slicedToArray(ul(s).values,6),n=_ul$values61[0],o=_ul$values61[1],l=_ul$values61[2],h=_ul$values61[3],a=_ul$values61[4],r=_ul$values61[5],_this$Jm73=this.Jm,d=_this$Jm73.displaySpace,c=_this$Jm73.displayUnit,p=i.geometryPrecision,u=qt(c,"px"),x=Vt(s,i.currentWorkspace);"viewport"===d&&(x=Wt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Spiral inner radius"),this.bg=!0;var m=new DOMPoint(n,o);m=m.matrixTransform(x),m=m.matrixTransform(u);var g=new DOMPoint(n+100,o);g=g.matrixTransform(x),g=g.matrixTransform(u),this["#r1-input"].addEventListener("change",t=function t(_t1762){var e=new X(m,g);e.length=_this713["#r1-input"].value,e=e.matrixTransform(u),e=e.matrixTransform(b),l=Z(e.length,p),xl(s,{type:"spiral",values:[n,o,l,h,a,r]});}),this["#r1-input"].addEventListener("changeend",_e1247=function e(){_this713["#r1-input"].removeEventListener("change",t),_this713["#r1-input"].removeEventListener("changeend",_e1247),_this713.bg=!1;});}},{key:"yg",value:function yg(){var _this714=this;var t,_e1248,i=this.Js.board,s=i.outermostSelectedElements[0],_ul$values62=_slicedToArray(ul(s).values,6),n=_ul$values62[0],o=_ul$values62[1],l=_ul$values62[2],h=_ul$values62[3],a=_ul$values62[4],r=_ul$values62[5],_this$Jm74=this.Jm,d=_this$Jm74.displaySpace,c=_this$Jm74.displayUnit,p=i.geometryPrecision,u=qt(c,"px"),x=Vt(s,i.currentWorkspace);"viewport"===d&&(x=Wt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Spiral outer radius"),this.mg=!0;var m=new DOMPoint(n,o);m=m.matrixTransform(x),m=m.matrixTransform(u);var g=new DOMPoint(n+100,o);g=g.matrixTransform(x),g=g.matrixTransform(u),this["#r2-input"].addEventListener("change",t=function t(_t1763){var e=new X(m,g);e.length=_this714["#r2-input"].value,e=e.matrixTransform(u),e=e.matrixTransform(b),h=Z(e.length,p),xl(s,{type:"spiral",values:[n,o,l,h,a,r]});}),this["#r2-input"].addEventListener("changeend",_e1248=function e(){_this714["#r2-input"].removeEventListener("change",t),_this714["#r2-input"].removeEventListener("changeend",_e1248),_this714.mg=!1;});}},{key:"Jf",value:function Jf(){var _this715=this;var t,_e1249,i=this.Js.board,s=[],n=Symbol();var _iterator1173=_createForOfIteratorHelper(i.outermostSelectedElements),_step1173;try{for(_iterator1173.s();!(_step1173=_iterator1173.n()).done;){var _t1766=_step1173.value;if("path"===_t1766.localName){var _e1250=ul(_t1766);_e1250&&"spiral"===_e1250.type&&(_t1766[n]=_e1250,s.push(_t1766));}}}catch(err){_iterator1173.e(err);}finally{_iterator1173.f();}i.undoManager.checkpoint("Spiral start angle"),this.Bf=!0,this["#start-angle-input"].addEventListener("change",t=function t(_t1765){var _iterator1174=_createForOfIteratorHelper(s),_step1174;try{for(_iterator1174.s();!(_step1174=_iterator1174.n()).done;){var _t1764=_step1174.value;_t1764[n].values[4]=_this715["#start-angle-input"].value,xl(_t1764,_t1764[n]);}}catch(err){_iterator1174.e(err);}finally{_iterator1174.f();}}),this["#start-angle-input"].addEventListener("changeend",_e1249=function e(){_this715["#start-angle-input"].removeEventListener("change",t),_this715["#start-angle-input"].removeEventListener("changeend",_e1249),_this715.Bf=!1;});}},{key:"tw",value:function tw(){var _this716=this;var t,_e1251,i=this.Js.board,s=[],n=Symbol();var _iterator1175=_createForOfIteratorHelper(i.outermostSelectedElements),_step1175;try{for(_iterator1175.s();!(_step1175=_iterator1175.n()).done;){var _t1769=_step1175.value;if("path"===_t1769.localName){var _e1252=ul(_t1769);_e1252&&"spiral"===_e1252.type&&(_t1769[n]=_e1252,s.push(_t1769));}}}catch(err){_iterator1175.e(err);}finally{_iterator1175.f();}i.undoManager.checkpoint("Spiral end angle"),this.Rf=!0,this["#end-angle-input"].addEventListener("change",t=function t(_t1768){var _iterator1176=_createForOfIteratorHelper(s),_step1176;try{for(_iterator1176.s();!(_step1176=_iterator1176.n()).done;){var _t1767=_step1176.value;_t1767[n].values[5]=_this716["#end-angle-input"].value,xl(_t1767,_t1767[n]);}}catch(err){_iterator1176.e(err);}finally{_iterator1176.f();}}),this["#end-angle-input"].addEventListener("changeend",_e1251=function e(){_this716["#end-angle-input"].removeEventListener("change",t),_this716["#end-angle-input"].removeEventListener("changeend",_e1251),_this716.Rf=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _i1132=ul(e[0]);if(_i1132&&"spiral"===_i1132.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _i1132$values=_slicedToArray(_i1132.values,6),_s669=_i1132$values[0],_n481=_i1132$values[1],_o384=_i1132$values[2],_l322=_i1132$values[3],_h242=_i1132$values[4],_a200=_i1132$values[5],_this$Jm75=this.Jm,_r135=_this$Jm75.displayUnit,_d109=_this$Jm75.displaySpace,_c85=_this$Jm75.displayPrecision,_p75=e[0],_u62=Vt(_p75,t.currentWorkspace),_x143=qt("px",_r135),_b49=_r135?" "+_r135:"",_m46=1/em(10,_c85-1);"viewport"===_d109&&(_u62=Wt(t.currentWorkspace).multiply(_u62));var _g41=new DOMPoint(_s669,_n481);_g41=_g41.matrixTransform(_u62),_g41=_g41.matrixTransform(_x143),_g41=Me(_g41,_c85);var _f29=new DOMPoint(_s669+_o384,_n481);_f29=_f29.matrixTransform(_u62),_f29=_f29.matrixTransform(_x143);var _w24=new DOMPoint(_s669+_l322,_n481);_w24=_w24.matrixTransform(_u62),_w24=_w24.matrixTransform(_x143),!1===this.dg&&(this["#cx-input"].value=_g41.x,this["#cx-input"].suffix=_b49,this["#cx-input"].step=_m46),!1===this.cg&&(this["#cy-input"].value=_g41.y,this["#cy-input"].suffix=_b49,this["#cy-input"].step=_m46),!1===this.bg&&(this["#r1-input"].max=Z(new X(_g41,_w24).length,_c85),this["#r1-input"].value=Z(new X(_g41,_f29).length,_c85),this["#r1-input"].suffix=_b49,this["#r1-input"].step=_m46),!1===this.mg&&(this["#r2-input"].min=Z(new X(_g41,_f29).length,_c85),this["#r2-input"].value=Z(new X(_g41,_w24).length,_c85),this["#r2-input"].suffix=_b49,this["#r2-input"].step=_m46),!1===this.Bf&&(this["#start-angle-input"].max=Z(_a200,2),this["#start-angle-input"].value=Z(_h242,2)),!1===this.Rf&&(this["#end-angle-input"].min=Z(_h242,2),this["#end-angle-input"].value=Z(_a200,2));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return im;}(pb);_defineProperty(im,"_shadowTemplate",Yi(_templateObject357()));_defineProperty(im,"_shadowStyleSheet",Wi(_templateObject358()));customElements.define("bx-spiralgeometryinspector",im);var sm=/*#__PURE__*/function(_pb20){_inherits(sm,_pb20);var _super150=_createSuper(sm);function sm(){var _this717;_classCallCheck(this,sm);_this717=_super150.call(this),_this717.Of=!1,_this717.ew=!1,_this717._a=Xi(_this717.qs,200,_assertThisInitialized(_this717)),_this717["#arms-section"].addEventListener("changestart",function(){return _this717.Ap();}),_this717["#depth-section"].addEventListener("changestart",function(){return _this717.Ip();});return _this717;}_createClass(sm,[{key:"tn",value:function tn(){var _this718=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this718._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this718._a();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Ap",value:function Ap(){var _this719=this;var t,_e1253,i=this.Js.board,s=[],n=Symbol();var _iterator1177=_createForOfIteratorHelper(i.outermostSelectedElements),_step1177;try{for(_iterator1177.s();!(_step1177=_iterator1177.n()).done;){var _t1772=_step1177.value;if("path"===_t1772.localName){var _e1254=ul(_t1772);_e1254&&"star"===_e1254.type&&(_t1772[n]=_e1254,s.push(_t1772));}}}catch(err){_iterator1177.e(err);}finally{_iterator1177.f();}i.undoManager.checkpoint("Star arms"),this.Of=!0,this["#arms-section"].addEventListener("change",t=function t(_t1771){_t1771.target===_this719["#arms-slider"]?_this719["#arms-input"].value=_this719["#arms-slider"].value:_t1771.target===_this719["#arms-input"]&&(_this719["#arms-slider"].value=_this719["#arms-input"].value);var _iterator1178=_createForOfIteratorHelper(s),_step1178;try{for(_iterator1178.s();!(_step1178=_iterator1178.n()).done;){var _t1770=_step1178.value;_t1770[n].values[5]=_this719["#arms-input"].value,xl(_t1770,_t1770[n]);}}catch(err){_iterator1178.e(err);}finally{_iterator1178.f();}}),this["#arms-section"].addEventListener("changeend",_e1253=function e(){_this719["#arms-section"].removeEventListener("change",t),_this719["#arms-section"].removeEventListener("changeend",_e1253),_this719.Of=!1;});}},{key:"Ip",value:function Ip(){var _this720=this;var t,_e1255,i=this.Js.board,s=[],n=Symbol();var _iterator1179=_createForOfIteratorHelper(i.outermostSelectedElements),_step1179;try{for(_iterator1179.s();!(_step1179=_iterator1179.n()).done;){var _t1775=_step1179.value;if("path"===_t1775.localName){var _e1256=ul(_t1775);_e1256&&"star"===_e1256.type&&(_t1775[n]=_e1256,s.push(_t1775));}}}catch(err){_iterator1179.e(err);}finally{_iterator1179.f();}i.undoManager.checkpoint("Star depth"),this.ew=!0,this["#depth-section"].addEventListener("change",t=function t(_t1774){_t1774.target===_this720["#depth-slider"]?_this720["#depth-input"].value=_this720["#depth-slider"].value:_t1774.target===_this720["#depth-input"]&&(_this720["#depth-slider"].value=_this720["#depth-input"].value);var _iterator1180=_createForOfIteratorHelper(s),_step1180;try{for(_iterator1180.s();!(_step1180=_iterator1180.n()).done;){var _t1773=_step1180.value;_t1773[n].values[4]=_this720["#depth-slider"].value,xl(_t1773,_t1773[n]);}}catch(err){_iterator1180.e(err);}finally{_iterator1180.f();}}),this["#depth-section"].addEventListener("changeend",_e1255=function e(){_this720["#depth-section"].removeEventListener("change",t),_this720["#depth-section"].removeEventListener("changeend",_e1255),_this720.ew=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board.outermostSelectedElements;if(!1===this.Of&&!1===this.ew)if(0===t.length||"path"!==t[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _e1257=ul(t[0]);if(_e1257&&"star"===_e1257.type){t[0];var _e1257$values=_slicedToArray(_e1257.values,6),_i1133=_e1257$values[0],_s670=_e1257$values[1],_n482=_e1257$values[2],_o385=_e1257$values[3],_l323=_e1257$values[4],_h243=_e1257$values[5];!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#arms-slider"].value=Z(_h243,0),this["#arms-input"].value=Z(_h243,0),this["#depth-slider"].value=Z(_l323,this.Jm.displayPrecision),this["#depth-input"].value=Z(_l323,this.Jm.displayPrecision);}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return sm;}(pb);_defineProperty(sm,"_shadowTemplate",Yi(_templateObject359()));_defineProperty(sm,"_shadowStyleSheet",Wi(_templateObject360()));customElements.define("bx-stargeometryinspector",sm);var nm=Number.isFinite;var om=/*#__PURE__*/function(_pb21){_inherits(om,_pb21);var _super151=_createSuper(om);function om(){var _this721;_classCallCheck(this,om);_this721=_super151.call(this),_this721.Jg=!1,_this721.tf=!1,_this721.ef=!1,_this721["if"]=!1,_this721.sf=!1,_this721.nf=!1,_this721.rf=null,_this721.df=null,_this721.pf=Xi(_this721.qs,100,_assertThisInitialized(_this721)),_this721["#viewport-width-input"].addEventListener("changestart",function(){return _this721.uf();}),_this721["#viewport-height-input"].addEventListener("changestart",function(){return _this721.xf();}),_this721["#viewport-lock-button"].addEventListener("toggle",function(){return _this721.bf();}),_this721["#viewport-units-select"].addEventListener("change",function(){return _this721.mf();}),_this721["#viewbox-x-input"].addEventListener("changestart",function(t){return _this721.gf(t);}),_this721["#viewbox-y-input"].addEventListener("changestart",function(t){return _this721.ff(t);}),_this721["#viewbox-width-input"].addEventListener("changestart",function(t){return _this721.wf(t);}),_this721["#viewbox-height-input"].addEventListener("changestart",function(t){return _this721.vf(t);}),_this721["#viewbox-switch"].addEventListener("toggle",function(){return _this721.yf();}),_this721["#viewbox-lock-button"].addEventListener("toggle",function(){return _this721.kf();}),_this721["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this721.Sf();}),_this721["#align-buttons"].addEventListener("toggle",function(){return _this721._f();}),_this721["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this721.Cf();});return _this721;}_createClass(om,[{key:"tn",value:function tn(){var _this722=this;this.qs(),this["#viewport-lock-button"].toggled=app.getConfig("bx-svggeometryinspector:lockViewport",!1),this["#viewport-lock-icon"].name=this["#viewport-lock-button"].toggled?"lock-on":"lock-off",this["#viewbox-lock-button"].toggled=app.getConfig("bx-svggeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this722.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this722.sl(t.detail);});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"sl",value:function sl(t){this.pf();}},{key:"uf",value:function uf(){var _this723=this;var t,_e1258,i=this.Js.board,s=i.geometryPrecision,n=null,o=this["#viewport-units-select"].value;this["#viewport-lock-button"].toggled&&null!==this["#viewport-width-input"].value&&null!==this["#viewport-height-input"].value&&(n=this["#viewport-height-input"].value/this["#viewport-width-input"].value,!1===nm(n)&&(n=1)),i.undoManager.checkpoint("Viewport width"),this.Jg=!0,this["#viewport-width-input"].addEventListener("change",t=function t(){if(null===_this723["#viewport-width-input"].value)_this723.iw(null);else{var _t1776=new Et(Z(_this723["#viewport-width-input"].value,s),o);if(_this723.iw(_t1776),null!==n){var _t1777=new Et(Z(_this723["#viewport-width-input"].value*n,s),o);_this723.sw(_t1777);}}}),this["#viewport-width-input"].addEventListener("changeend",_e1258=function e(){_this723["#viewport-width-input"].removeEventListener("change",t),_this723["#viewport-width-input"].removeEventListener("changeend",_e1258),_this723.Jg=!1;});}},{key:"xf",value:function xf(){var _this724=this;var t,_e1259,i=this.Js.board,s=i.geometryPrecision,n=null,o=this["#viewport-units-select"].value;this["#viewport-lock-button"].toggled&&null!==this["#viewport-height-input"].value&&null!==this["#viewport-width-input"].value&&(n=this["#viewport-width-input"].value/this["#viewport-height-input"].value,!1===nm(n)&&(n=1)),i.undoManager.checkpoint("Viewport height"),this.tf=!0,this["#viewport-height-input"].addEventListener("change",t=function t(){if(null===_this724["#viewport-height-input"].value)_this724.sw(null);else{var _t1778=new Et(Z(_this724["#viewport-height-input"].value,s),o);if(_this724.sw(_t1778),null!==n){var _t1779=new Et(Z(_this724["#viewport-height-input"].value*n,s),o);_this724.iw(_t1779);}}}),this["#viewport-height-input"].addEventListener("changeend",_e1259=function e(){_this724["#viewport-height-input"].removeEventListener("change",t),_this724["#viewport-height-input"].removeEventListener("changeend",_e1259),_this724.tf=!1;});}},{key:"bf",value:function bf(){var t=this["#viewport-lock-button"].toggled;this.Qs.setConfig("bx-svggeometryinspector:lockViewport",t),this["#viewport-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"mf",value:function mf(){var t=this.Js.board,e=t.getComputedViewportWidth(),i=t.getComputedViewportHeight(),s=!!e&&e.unit!==this["#viewport-units-select"].value,n=!!i&&i.unit!==this["#viewport-units-select"].value;(s||n)&&(t.undoManager.checkpoint("Viewport units"),s&&(e=e.toLength(this["#viewport-units-select"].value),e.value=Z(e.value,this.Js.board.geometryPrecision),this.iw(e)),n&&(i=i.toLength(this["#viewport-units-select"].value),i.value=Z(i.value,this.Js.board.geometryPrecision),this.sw(i)));}},{key:"yf",value:function yf(){var t=this.Js.board;t.undoManager.checkpoint("View box"),this["#viewbox-switch"].toggled?this.rf?t.currentWorkspace.setAttribute("viewBox",this.rf):t.currentWorkspace.setAttribute("viewBox","0 0 500 500"):(this.rf=t.currentWorkspace.getAttribute("viewBox"),t.currentWorkspace.removeAttribute("viewBox"));}},{key:"gf",value:function gf(t){var _this725=this;var e,_i1134,s=this.Js.board.currentWorkspace,n=Bt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.ef=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){null!==_this725["#viewbox-x-input"].value&&(n.x=_this725["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height)));}),this["#viewbox-x-input"].addEventListener("changeend",_i1134=function i(){_this725["#viewbox-x-input"].removeEventListener("change",e),_this725["#viewbox-x-input"].removeEventListener("changeend",_i1134),_this725.ef=!1,_this725.qs();});}},{key:"ff",value:function ff(t){var _this726=this;var e,_i1135,s=this.Js.board.currentWorkspace,n=Bt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this["if"]=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){null!==_this726["#viewbox-y-input"].value&&(n.y=_this726["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height)));}),this["#viewbox-y-input"].addEventListener("changeend",_i1135=function i(){_this726["#viewbox-y-input"].removeEventListener("change",e),_this726["#viewbox-y-input"].removeEventListener("changeend",_i1135),_this726["if"]=!1,_this726.qs();});}},{key:"wf",value:function wf(t){var _this727=this;var e,_i1136,_this$Js$board51=this.Js.board,s=_this$Js$board51.geometryPrecision,n=_this$Js$board51.currentWorkspace,o=Bt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===nm(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.sf=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){null!==_this727["#viewbox-width-input"].value&&(o.width=_this727["#viewbox-width-input"].value,null!==l&&(o.height=Z(_this727["#viewbox-width-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height)));}),this["#viewbox-width-input"].addEventListener("changeend",_i1136=function i(){_this727["#viewbox-width-input"].removeEventListener("change",e),_this727["#viewbox-width-input"].removeEventListener("changeend",_i1136),_this727.sf=!1,_this727.qs();});}},{key:"vf",value:function vf(t){var _this728=this;var e,_i1137,_this$Js$board52=this.Js.board,s=_this$Js$board52.geometryPrecision,n=_this$Js$board52.currentWorkspace,o=Bt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===nm(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.nf=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){null!==_this728["#viewbox-height-input"].value&&(o.height=_this728["#viewbox-height-input"].value,null!==l&&(o.width=Z(_this728["#viewbox-height-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height)));}),this["#viewbox-height-input"].addEventListener("changeend",_i1137=function i(){_this728["#viewbox-height-input"].removeEventListener("change",e),_this728["#viewbox-height-input"].removeEventListener("changeend",_i1137),_this728.nf=!1,_this728.qs();});}},{key:"kf",value:function kf(){var t=this["#viewbox-lock-button"].toggled;this.Qs.setConfig("bx-svggeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"Sf",value:function Sf(){var t=this.Js.board.currentWorkspace;this.Js.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.df?t.setAttribute("preserveAspectRatio",this.df):t.removeAttribute("preserveAspectRatio"):(this.df=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"_f",value:function _f(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s671=e;"none"!==_s671&&"slice"===i&&(_s671+=" slice"),t.setAttribute("preserveAspectRatio",_s671);}}},{key:"Cf",value:function Cf(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s672=e;"none"!==_s672&&"slice"===i&&(_s672+=" slice"),t.setAttribute("preserveAspectRatio",_s672);}}},{key:"iw",value:function iw(t){var e=this.Js.board.currentWorkspace;e.style.width=null,t?e.setAttribute("width",t.toString()):e.removeAttribute("width");}},{key:"sw",value:function sw(t){var e=this.Js.board.currentWorkspace;e.style.height=null,t?e.setAttribute("height",t.toString()):e.removeAttribute("height");}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.currentWorkspace,i=t.currentContainer,s=t.selectedElements,n=t.gridHud,o=this.Jm.displayPrecision;if("master"!==e.getAttribute("data-bx-workspace")||s.length>0||0===s.length&&null!==i||n.selected)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));{var _e1260=t.getComputedViewportWidth(),_i1138=t.getComputedViewportHeight();null!==_e1260&&null!==_i1138?(_i1138=_i1138.toLength(_e1260.unit),!1===this.Jg&&(this["#viewport-width-input"].value=Z(_e1260.value,o),this["#viewport-width-input"].suffix=" "+_e1260.unit),!1===this.tf&&(this["#viewport-height-input"].value=Z(_i1138.value,o),this["#viewport-height-input"].suffix=" "+_e1260.unit),this["#viewport-lock-button"].disabled=!1,this["#viewport-units-select"].value=_e1260.unit):null!==_e1260&&null===_i1138?(!1===this.Jg&&(this["#viewport-width-input"].value=Z(_e1260.value,o),this["#viewport-width-input"].suffix=" "+_e1260.unit),!1===this.tf&&(this["#viewport-height-input"].value=null,this["#viewport-height-input"].suffix=""),this["#viewport-lock-button"].disabled=!0,this["#viewport-units-select"].value=_e1260.unit):null===_e1260&&null!==_i1138?(!1===this.Jg&&(this["#viewport-width-input"].value=null,this["#viewport-width-input"].suffix=""),!1===this.tf&&(this["#viewport-height-input"].value=Z(_i1138.value,o),this["#viewport-height-input"].suffix=" "+_i1138.unit),this["#viewport-lock-button"].disabled=!0,this["#viewport-units-select"].value=_i1138.unit):null===_e1260&&null===_i1138&&(!1===this.Jg&&(this["#viewport-width-input"].value=null,this["#viewport-width-input"].suffix=""),!1===this.tf&&(this["#viewport-height-input"].value=null,this["#viewport-height-input"].suffix=""),this["#viewport-lock-button"].disabled=!0);}if(e.hasAttribute("viewBox")){var _Bt$fromString5=Bt.fromString(e.getAttribute("viewBox")),_t1780=_Bt$fromString5.x,_i1139=_Bt$fromString5.y,_s673=_Bt$fromString5.width,_n483=_Bt$fromString5.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-switch"].toggled=!0,this["#viewbox-lock-button"].disabled=!1,!1===this.ef&&(this["#viewbox-x-input"].value=Z(_t1780,o),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this["if"]&&(this["#viewbox-y-input"].value=Z(_i1139,o),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.sf&&(this["#viewbox-width-input"].value=Z(_s673,o),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.nf&&(this["#viewbox-height-input"].value=Z(_n483,o),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}else this["#viewbox-heading"].disabled=!0,this["#viewbox-switch"].toggled=!1,this["#viewbox-lock-button"].disabled=!0,this["#viewbox-x-input"].value=0,this["#viewbox-x-input"].disabled=!0,this["#viewbox-x-label"].disabled=!0,this["#viewbox-y-input"].value=0,this["#viewbox-y-input"].disabled=!0,this["#viewbox-y-label"].disabled=!0,this["#viewbox-width-input"].value=0,this["#viewbox-width-input"].disabled=!0,this["#viewbox-width-label"].disabled=!0,this["#viewbox-height-input"].value=0,this["#viewbox-height-input"].disabled=!0,this["#viewbox-height-label"].disabled=!0;if(!1===e.hasAttribute("viewBox"))this["#preserve-aspect-ratio-heading"].disabled=!0,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!0,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0;else{var _t1781=e.getAttribute("preserveAspectRatio")||"xMidYMid meet",_$t$fromString4=$t.fromString(_t1781),_i1140=_$t$fromString4.align,_s674=_$t$fromString4.meetOrSlice;"none"===_i1140?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1140,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s674,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}}}}]);return om;}(pb);_defineProperty(om,"_shadowTemplate",Yi(_templateObject361()));_defineProperty(om,"_shadowStyleSheet",Wi(_templateObject362()));customElements.define("bx-svggeometryinspector",om);var lm=/*#__PURE__*/function(_pb22){_inherits(lm,_pb22);var _super152=_createSuper(lm);function lm(){var _this729;_classCallCheck(this,lm);_this729=_super152.call(this),_this729.ef=!1,_this729["if"]=!1,_this729.sf=!1,_this729.nf=!1,_this729.rf=null,_this729.df=null,_this729.pf=Xi(_this729.qs,100,_assertThisInitialized(_this729)),_this729["#viewbox-x-input"].addEventListener("changestart",function(t){return _this729.gf(t);}),_this729["#viewbox-y-input"].addEventListener("changestart",function(t){return _this729.ff(t);}),_this729["#viewbox-width-input"].addEventListener("changestart",function(t){return _this729.wf(t);}),_this729["#viewbox-height-input"].addEventListener("changestart",function(t){return _this729.vf(t);}),_this729["#viewbox-switch"].addEventListener("toggle",function(){return _this729.yf();}),_this729["#viewbox-lock-button"].addEventListener("toggle",function(){return _this729.kf();}),_this729["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this729.Sf();}),_this729["#align-buttons"].addEventListener("toggle",function(){return _this729._f();}),_this729["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this729.Cf();});return _this729;}_createClass(lm,[{key:"tn",value:function tn(){var _this730=this;this.qs(),this["#viewbox-lock-button"].toggled=app.getConfig("bx-symbolgeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this730.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this730.sl(t.detail);});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"sl",value:function sl(t){this.pf();}},{key:"yf",value:function yf(){var t=this.Js.board;t.undoManager.checkpoint("View box"),this["#viewbox-switch"].toggled?this.rf?t.currentWorkspace.setAttribute("viewBox",this.rf):t.currentWorkspace.setAttribute("viewBox","0 0 500 500"):(this.rf=t.currentWorkspace.getAttribute("viewBox"),t.currentWorkspace.removeAttribute("viewBox"));}},{key:"gf",value:function gf(t){var _this731=this;var e,_i1141,s=this.Js.board.currentWorkspace,n=Bt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.ef=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){n.x=_this731["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-x-input"].addEventListener("changeend",_i1141=function i(){_this731["#viewbox-x-input"].removeEventListener("change",e),_this731["#viewbox-x-input"].removeEventListener("changeend",_i1141),_this731.ef=!1;});}},{key:"ff",value:function ff(t){var _this732=this;var e,_i1142,s=this.Js.board.currentWorkspace,n=Bt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this["if"]=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){n.y=_this732["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-y-input"].addEventListener("changeend",_i1142=function i(){_this732["#viewbox-y-input"].removeEventListener("change",e),_this732["#viewbox-y-input"].removeEventListener("changeend",_i1142),_this732["if"]=!1;});}},{key:"wf",value:function wf(t){var _this733=this;var e,_i1143,_this$Js$board53=this.Js.board,s=_this$Js$board53.geometryPrecision,n=_this$Js$board53.currentWorkspace,o=Bt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.sf=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){o.width=_this733["#viewbox-width-input"].value,null!==l&&(o.height=Z(_this733["#viewbox-width-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-width-input"].addEventListener("changeend",_i1143=function i(){_this733["#viewbox-width-input"].removeEventListener("change",e),_this733["#viewbox-width-input"].removeEventListener("changeend",_i1143),_this733.sf=!1;});}},{key:"vf",value:function vf(t){var _this734=this;var e,_i1144,_this$Js$board54=this.Js.board,s=_this$Js$board54.geometryPrecision,n=_this$Js$board54.currentWorkspace,o=Bt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.nf=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){o.height=_this734["#viewbox-height-input"].value,null!==l&&(o.width=Z(_this734["#viewbox-height-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-height-input"].addEventListener("changeend",_i1144=function i(){_this734["#viewbox-height-input"].removeEventListener("change",e),_this734["#viewbox-height-input"].removeEventListener("changeend",_i1144),_this734.nf=!1;});}},{key:"kf",value:function kf(){var t=this["#viewbox-lock-button"].toggled;this.Qs.setConfig("bx-symbolgeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"Sf",value:function Sf(){var t=this.Js.board.currentWorkspace;this.Js.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.df?t.setAttribute("preserveAspectRatio",this.df):t.removeAttribute("preserveAspectRatio"):(this.df=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"_f",value:function _f(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s675=e;"none"!==_s675&&"slice"===i&&(_s675+=" slice"),t.setAttribute("preserveAspectRatio",_s675);}}},{key:"Cf",value:function Cf(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s676=e;"none"!==_s676&&"slice"===i&&(_s676+=" slice"),t.setAttribute("preserveAspectRatio",_s676);}}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.currentWorkspace,i=t.currentContainer,s=t.selectedElements,n=t.gridHud,o=this.Jm.displayPrecision;if("symbol"!==e.getAttribute("data-bx-workspace")||s.length>0||0===s.length&&null!==i||n.selected)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{if(!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),e.hasAttribute("viewBox")){var _Bt$fromString6=Bt.fromString(e.getAttribute("viewBox")),_t1782=_Bt$fromString6.x,_i1145=_Bt$fromString6.y,_s677=_Bt$fromString6.width,_n484=_Bt$fromString6.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-switch"].toggled=!0,this["#viewbox-lock-button"].disabled=!1,!1===this.ef&&(this["#viewbox-x-input"].value=Z(_t1782,o),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this["if"]&&(this["#viewbox-y-input"].value=Z(_i1145,o),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.sf&&(this["#viewbox-width-input"].value=Z(_s677,o),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.nf&&(this["#viewbox-height-input"].value=Z(_n484,o),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}else this["#viewbox-heading"].disabled=!0,this["#viewbox-switch"].toggled=!1,this["#viewbox-lock-button"].disabled=!0,this["#viewbox-x-input"].value=0,this["#viewbox-x-input"].disabled=!0,this["#viewbox-x-label"].disabled=!0,this["#viewbox-y-input"].value=0,this["#viewbox-y-input"].disabled=!0,this["#viewbox-y-label"].disabled=!0,this["#viewbox-width-input"].value=0,this["#viewbox-width-input"].disabled=!0,this["#viewbox-width-label"].disabled=!0,this["#viewbox-height-input"].value=0,this["#viewbox-height-input"].disabled=!0,this["#viewbox-height-label"].disabled=!0;if(!1===e.hasAttribute("viewBox"))this["#preserve-aspect-ratio-heading"].disabled=!0,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!0,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0;else{var _t1783=e.getAttribute("preserveAspectRatio")||"xMidYMid meet",_$t$fromString5=$t.fromString(_t1783),_i1146=_$t$fromString5.align,_s678=_$t$fromString5.meetOrSlice;"none"===_i1146?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1146,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s678,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}}}}]);return lm;}(pb);_defineProperty(lm,"_shadowTemplate",Yi(_templateObject363()));_defineProperty(lm,"_shadowStyleSheet",Wi(_templateObject364()));customElements.define("bx-symbolgeometryinspector",lm);var hm=/*#__PURE__*/function(_pb23){_inherits(hm,_pb23);var _super153=_createSuper(hm);function hm(){var _this735;_classCallCheck(this,hm);_this735=_super153.call(this),_this735.nw=!1,_this735.ow=!1,_this735._a=Xi(_this735.qs,200,_assertThisInitialized(_this735)),_this735["#arch-section"].addEventListener("changestart",function(){return _this735.Mp();}),_this735["#hollow-section"].addEventListener("changestart",function(){return _this735.Pp();});return _this735;}_createClass(hm,[{key:"tn",value:function tn(){var _this736=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this736._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this736._a();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Mp",value:function Mp(){var _this737=this;var t,_e1261,i=this.Js.board,s=[],n=Symbol();var _iterator1181=_createForOfIteratorHelper(i.outermostSelectedElements),_step1181;try{for(_iterator1181.s();!(_step1181=_iterator1181.n()).done;){var _t1786=_step1181.value;if("path"===_t1786.localName){var _e1262=ul(_t1786);_e1262&&"crescent"===_e1262.type&&(_t1786[n]=_e1262,s.push(_t1786));}}}catch(err){_iterator1181.e(err);}finally{_iterator1181.f();}i.undoManager.checkpoint("Crescent arch"),this.nw=!0,this["#arch-section"].addEventListener("change",t=function t(_t1785){_t1785.target===_this737["#arch-slider"]?_this737["#arch-input"].value=_this737["#arch-slider"].value:_t1785.target===_this737["#arch-input"]&&(_this737["#arch-slider"].value=_this737["#arch-input"].value);var _iterator1182=_createForOfIteratorHelper(s),_step1182;try{for(_iterator1182.s();!(_step1182=_iterator1182.n()).done;){var _t1784=_step1182.value;_t1784[n].values[3]=_this737["#arch-slider"].value,xl(_t1784,_t1784[n],i.geometryPrecision);}}catch(err){_iterator1182.e(err);}finally{_iterator1182.f();}}),this["#arch-section"].addEventListener("changeend",_e1261=function e(){_this737["#arch-section"].removeEventListener("change",t),_this737["#arch-section"].removeEventListener("changeend",_e1261),_this737.nw=!1;});}},{key:"Pp",value:function Pp(){var _this738=this;var t,_e1263,i=this.Js.board,s=[],n=Symbol();var _iterator1183=_createForOfIteratorHelper(i.outermostSelectedElements),_step1183;try{for(_iterator1183.s();!(_step1183=_iterator1183.n()).done;){var _t1789=_step1183.value;if("path"===_t1789.localName){var _e1264=ul(_t1789);_e1264&&"crescent"===_e1264.type&&(_t1789[n]=_e1264,s.push(_t1789));}}}catch(err){_iterator1183.e(err);}finally{_iterator1183.f();}i.undoManager.checkpoint("Crescent hollow"),this.ow=!0,this["#hollow-section"].addEventListener("change",t=function t(_t1788){_t1788.target===_this738["#hollow-slider"]?_this738["#hollow-input"].value=_this738["#hollow-slider"].value:_t1788.target===_this738["#hollow-input"]&&(_this738["#hollow-slider"].value=_this738["#hollow-input"].value);var _iterator1184=_createForOfIteratorHelper(s),_step1184;try{for(_iterator1184.s();!(_step1184=_iterator1184.n()).done;){var _t1787=_step1184.value;_t1787[n].values[4]=_this738["#hollow-slider"].value/100,xl(_t1787,_t1787[n],i.geometryPrecision);}}catch(err){_iterator1184.e(err);}finally{_iterator1184.f();}}),this["#hollow-section"].addEventListener("changeend",_e1263=function e(){_this738["#hollow-section"].removeEventListener("change",t),_this738["#hollow-section"].removeEventListener("changeend",_e1263),_this738.ow=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board.outermostSelectedElements;if(!1===this.nw&&!1===this.ow)if(0===t.length||"path"!==t[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _e1265=ul(t[0]);if(_e1265&&"crescent"===_e1265.type){t[0];var _e1265$values=_slicedToArray(_e1265.values,5),_i1147=_e1265$values[0],_s679=_e1265$values[1],_n485=_e1265$values[2],_o386=_e1265$values[3],_l324=_e1265$values[4];!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#arch-slider"].value=Z(_o386,0),this["#arch-input"].value=Z(_o386,0),this["#hollow-slider"].value=Z(100*_l324,2),this["#hollow-input"].value=Z(100*_l324,2);}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return hm;}(pb);_defineProperty(hm,"_shadowTemplate",Yi(_templateObject365()));_defineProperty(hm,"_shadowStyleSheet",Wi(_templateObject366()));customElements.define("bx-crescentgeometryinspector",hm);var am=/*#__PURE__*/function(_pb24){_inherits(am,_pb24);var _super154=_createSuper(am);function am(){var _this739;_classCallCheck(this,am);_this739=_super154.call(this),_this739.Cg=!1,_this739.Ef=!1,_this739._a=Xi(_this739.qs,200,_assertThisInitialized(_this739)),_this739["#shift-section"].addEventListener("changestart",function(){return _this739.Op();}),_this739["#corner-section"].addEventListener("changestart",function(){return _this739.Ep();});return _this739;}_createClass(am,[{key:"tn",value:function tn(){var _this740=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this740._a();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this740._a();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Op",value:function Op(){var _this741=this;var t,_e1266,i=this.Js.board,s=[],n=Symbol();var _iterator1185=_createForOfIteratorHelper(i.outermostSelectedElements),_step1185;try{for(_iterator1185.s();!(_step1185=_iterator1185.n()).done;){var _t1792=_step1185.value;if("path"===_t1792.localName){var _e1267=ul(_t1792);_e1267&&"triangle"===_e1267.type&&(_t1792[n]=_e1267,s.push(_t1792));}}}catch(err){_iterator1185.e(err);}finally{_iterator1185.f();}i.undoManager.checkpoint("Triangle shift"),this.Cg=!0,this["#shift-section"].addEventListener("change",t=function t(_t1791){_t1791.target===_this741["#shift-slider"]?_this741["#shift-input"].value=_this741["#shift-slider"].value:_t1791.target===_this741["#shift-input"]&&(_this741["#shift-slider"].value=_this741["#shift-input"].value);var _iterator1186=_createForOfIteratorHelper(s),_step1186;try{for(_iterator1186.s();!(_step1186=_iterator1186.n()).done;){var _t1790=_step1186.value;_t1790[n].values[4]=_this741["#shift-slider"].value,xl(_t1790,_t1790[n]);}}catch(err){_iterator1186.e(err);}finally{_iterator1186.f();}}),this["#shift-section"].addEventListener("changeend",_e1266=function e(){_this741["#shift-section"].removeEventListener("change",t),_this741["#shift-section"].removeEventListener("changeend",_e1266),_this741.Cg=!1;});}},{key:"Ep",value:function Ep(){var _this742=this;var t,_e1268,i=this.Js.board,s=[],n=Symbol();var _iterator1187=_createForOfIteratorHelper(i.outermostSelectedElements),_step1187;try{for(_iterator1187.s();!(_step1187=_iterator1187.n()).done;){var _t1795=_step1187.value;if("path"===_t1795.localName){var _e1269=ul(_t1795);_e1269&&"triangle"===_e1269.type&&(_t1795[n]=_e1269,s.push(_t1795));}}}catch(err){_iterator1187.e(err);}finally{_iterator1187.f();}i.undoManager.checkpoint("Triangle corner"),this.Ef=!0,this["#corner-section"].addEventListener("change",t=function t(_t1794){_t1794.target===_this742["#corner-slider"]?_this742["#corner-input"].value=_this742["#corner-slider"].value:_t1794.target===_this742["#corner-input"]&&(_this742["#corner-slider"].value=_this742["#corner-input"].value);var _iterator1188=_createForOfIteratorHelper(s),_step1188;try{for(_iterator1188.s();!(_step1188=_iterator1188.n()).done;){var _t1793=_step1188.value;_t1793[n].values[5]=_this742["#corner-slider"].value,xl(_t1793,_t1793[n]);}}catch(err){_iterator1188.e(err);}finally{_iterator1188.f();}}),this["#corner-section"].addEventListener("changeend",_e1268=function e(){_this742["#corner-section"].removeEventListener("change",t),_this742["#corner-section"].removeEventListener("changeend",_e1268),_this742.Ef=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board.outermostSelectedElements;if(!1===this.Cg&&!1===this.Ef)if(0===t.length||"path"!==t[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _e1270=ul(t[0]);if(_e1270&&"triangle"===_e1270.type){t[0];var _e1270$values=_slicedToArray(_e1270.values,6),_i1148=_e1270$values[0],_s680=_e1270$values[1],_n486=_e1270$values[2],_o387=_e1270$values[3],_l325=_e1270$values[4],_h244=_e1270$values[5];!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#shift-slider"].value=Z(_l325,2),this["#shift-input"].value=Z(_l325,2),this["#corner-slider"].value=Z(_h244,2),this["#corner-input"].value=Z(_h244,2);}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return am;}(pb);_defineProperty(am,"_shadowTemplate",Yi(_templateObject367()));_defineProperty(am,"_shadowStyleSheet",Wi(_templateObject368()));customElements.define("bx-trianglegeometryinspector",am);var rm=/*#__PURE__*/function(_pb25){_inherits(rm,_pb25);var _super155=_createSuper(rm);function rm(){var _this743;_classCallCheck(this,rm);_this743=_super155.call(this),_this743.ef=!1,_this743["if"]=!1,_this743.sf=!1,_this743.nf=!1,_this743.df=null,_this743.pf=Xi(_this743.qs,100,_assertThisInitialized(_this743)),_this743["#viewbox-x-input"].addEventListener("changestart",function(t){return _this743.gf(t);}),_this743["#viewbox-y-input"].addEventListener("changestart",function(t){return _this743.ff(t);}),_this743["#viewbox-width-input"].addEventListener("changestart",function(t){return _this743.wf(t);}),_this743["#viewbox-height-input"].addEventListener("changestart",function(t){return _this743.vf(t);}),_this743["#viewbox-lock-button"].addEventListener("toggle",function(){return _this743.kf();}),_this743["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this743.Sf();}),_this743["#align-buttons"].addEventListener("toggle",function(){return _this743._f();}),_this743["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this743.Cf();});return _this743;}_createClass(rm,[{key:"tn",value:function tn(){var _this744=this;this.qs(),this["#viewbox-lock-button"].toggled=app.getConfig("bx-viewgeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this744.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this744.sl(t.detail);});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"sl",value:function sl(t){this.pf();}},{key:"gf",value:function gf(t){var _this745=this;var e,_i1149,s=this.Js.board.outermostSelectedElements[0],n=Bt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.ef=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){n.x=_this745["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-x-input"].addEventListener("changeend",_i1149=function i(){_this745["#viewbox-x-input"].removeEventListener("change",e),_this745["#viewbox-x-input"].removeEventListener("changeend",_i1149),_this745.ef=!1;});}},{key:"ff",value:function ff(t){var _this746=this;var e,_i1150,s=this.Js.board.outermostSelectedElements[0],n=Bt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this["if"]=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){n.y=_this746["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-y-input"].addEventListener("changeend",_i1150=function i(){_this746["#viewbox-y-input"].removeEventListener("change",e),_this746["#viewbox-y-input"].removeEventListener("changeend",_i1150),_this746["if"]=!1;});}},{key:"wf",value:function wf(t){var _this747=this;var e,_i1151,s=this.Js.board.outermostSelectedElements[0],n=Bt.fromString(s.getAttribute("viewBox")||"0 0 0 0"),o=this.Js.board.geometryPrecision,l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.sf=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){n.width=_this747["#viewbox-width-input"].value,null!==l&&(n.height=Z(_this747["#viewbox-width-input"].value*l,o)),s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-width-input"].addEventListener("changeend",_i1151=function i(){_this747["#viewbox-width-input"].removeEventListener("change",e),_this747["#viewbox-width-input"].removeEventListener("changeend",_i1151),_this747.sf=!1;});}},{key:"vf",value:function vf(t){var _this748=this;var e,_i1152,s=this.Js.board.outermostSelectedElements[0],n=Bt.fromString(s.getAttribute("viewBox")||"0 0 0 0"),o=this.Js.board.geometryPrecision,l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.nf=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){n.height=_this748["#viewbox-height-input"].value,null!==l&&(n.width=Z(_this748["#viewbox-height-input"].value*l,o)),s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-height-input"].addEventListener("changeend",_i1152=function i(){_this748["#viewbox-height-input"].removeEventListener("change",e),_this748["#viewbox-height-input"].removeEventListener("changeend",_i1152),_this748.nf=!1;});}},{key:"kf",value:function kf(){var t=this["#viewbox-lock-button"].toggled;this.Qs.setConfig("bx-viewgeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"Sf",value:function Sf(){var t=this.Js.board.outermostSelectedElements[0];this.Js.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.df?t.setAttribute("preserveAspectRatio",this.df):t.removeAttribute("preserveAspectRatio"):(this.df=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"_f",value:function _f(){var t=this.Js.board.outermostSelectedElements[0],e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s681=e;"none"!==_s681&&"slice"===i&&(_s681+=" slice"),t.setAttribute("preserveAspectRatio",_s681);}}},{key:"Cf",value:function Cf(){var t=this.Js.board.outermostSelectedElements[0],e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s682=e;"none"!==_s682&&"slice"===i&&(_s682+=" slice"),t.setAttribute("preserveAspectRatio",_s682);}}},{key:"qs",value:function qs(){var t=this.Js.board.outermostSelectedElements;if(1===t.length&&"view"===t[0].localName){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _e1271=t[0],_i1153=this.Jm.displayPrecision;{var _Bt$fromString7=Bt.fromString(_e1271.getAttribute("viewBox")||"0 0 0 0"),_t1796=_Bt$fromString7.x,_s683=_Bt$fromString7.y,_n487=_Bt$fromString7.width,_o388=_Bt$fromString7.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-lock-button"].disabled=!1,!1===this.ef&&(this["#viewbox-x-input"].value=Z(_t1796,_i1153),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this["if"]&&(this["#viewbox-y-input"].value=Z(_s683,_i1153),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.sf&&(this["#viewbox-width-input"].value=Z(_n487,_i1153),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.nf&&(this["#viewbox-height-input"].value=Z(_o388,_i1153),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}{var _t1797=_e1271.getAttribute("preserveAspectRatio")||"xMidYMid meet",_$t$fromString6=$t.fromString(_t1797),_i1154=_$t$fromString6.align,_s684=_$t$fromString6.meetOrSlice;"none"===_i1154?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1154,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s684,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return rm;}(pb);_defineProperty(rm,"_shadowTemplate",Yi(_templateObject369()));_defineProperty(rm,"_shadowStyleSheet",Wi(_templateObject370()));customElements.define("bx-viewgeometryinspector",rm);var dm=/*#__PURE__*/function(_HTMLElement102){_inherits(dm,_HTMLElement102);var _super156=_createSuper(dm);_createClass(dm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"displaySpace",get:function get(){var t=this.Js.board;if("master"===t.currentWorkspace.getAttribute("data-bx-workspace")){if("viewport"===this["#space-buttons"].value){var _e1272=t.getComputedViewportWidth(),_i1155=t.getComputedViewportHeight();return _e1272&&_i1155?"viewport":"canvas";}return"canvas";}return"canvas";}},{key:"displayUnit",get:function get(){var t=this.displaySpace;if("canvas"===t)return"";if("viewport"===t){return this.Js.board.getComputedViewportWidth().unit;}}},{key:"displayPrecision",get:function get(){var t=this.displayUnit;return"px"===t||"pt"===t||"q"===t||""===t?1:"mm"===t?2:"cm"===t||"in"===t||"pc"===t?3:void 0;}}]);function dm(){var _this749;_classCallCheck(this,dm);_this749=_super156.call(this),_this749._a=Xi(_this749.qs,200,_assertThisInitialized(_this749)),_this749._shadowRoot=_this749.attachShadow({mode:"closed"}),_this749._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,dm._shadowStyleSheet],_this749._shadowRoot.append(document.importNode(dm._shadowTemplate.content,!0));var _iterator1189=_createForOfIteratorHelper(_this749._shadowRoot.querySelectorAll("[id]")),_step1189;try{for(_iterator1189.s();!(_step1189=_iterator1189.n()).done;){var _t1798=_step1189.value;_this749["#"+_t1798.id]=_t1798;}}catch(err){_iterator1189.e(err);}finally{_iterator1189.f();}_this749["#inspectors"].addEventListener("hiddenchange",function(){return _this749._a();}),_this749["#space-buttons"].addEventListener("toggle",function(){return _this749.lw();});return _this749;}_createClass(dm,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this750=this;this.qs(),this["#space-buttons"].value=this.Qs.getConfig("bx-geometrypanel:space","canvas");var _iterator1190=_createForOfIteratorHelper(this["#inspectors"].children),_step1190;try{for(_iterator1190.s();!(_step1190=_iterator1190.n()).done;){var _t1799=_step1190.value;_t1799.enabled=!0;}}catch(err){_iterator1190.e(err);}finally{_iterator1190.f();}this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this750._a();}),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this750.qs();}),this.Js.board.gridHud.addEventListener("selectedchange",this.Fg=function(){_this750.qs();});}},{key:"sn",value:function sn(){var _iterator1191=_createForOfIteratorHelper(this["#inspectors"].children),_step1191;try{for(_iterator1191.s();!(_step1191=_iterator1191.n()).done;){var _t1800=_step1191.value;_t1800.enabled=!1;}}catch(err){_iterator1191.e(err);}finally{_iterator1191.f();}this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.gridHud.removeEventListener("selectedchange",this.Fg);}},{key:"lw",value:function lw(){this.Qs.setConfig("bx-geometrypanel:space",this["#space-buttons"].value),this.dispatchEvent(new CustomEvent("spacebuttonstoggle"));}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements,i=t.gridHud.selected;{var _t1801=this["#inspectors"].querySelectorAll(":scope > *:not([hidden]):not(hr)"),_e1273=_t1801[_t1801.length-1],_i1156=this["#inspectors"].querySelectorAll(":scope > hr"),_s685=[];var _iterator1192=_createForOfIteratorHelper(_t1801),_step1192;try{for(_iterator1192.s();!(_step1192=_iterator1192.n()).done;){var _i1157=_step1192.value;_i1157.nextElementSibling&&_i1157!==_e1273&&_s685.push(_i1157.nextElementSibling);}}catch(err){_iterator1192.e(err);}finally{_iterator1192.f();}var _iterator1193=_createForOfIteratorHelper(_i1156),_step1193;try{for(_iterator1193.s();!(_step1193=_iterator1193.n()).done;){var _t1802=_step1193.value;_t1802.hidden=!1===_s685.includes(_t1802);}}catch(err){_iterator1193.e(err);}finally{_iterator1193.f();}}0===e.length&&!1===i?this["#footer"].hidden=!0:"master"===t.currentWorkspace.getAttribute("data-bx-workspace")&&null!==t.getComputedViewportWidth()&&null!==t.getComputedViewportHeight()?this["#footer"].hidden=!1:this["#footer"].hidden=!0;}}]);return dm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(dm,"observedAttributes",["enabled"]);_defineProperty(dm,"_shadowTemplate",Yi(_templateObject371()));_defineProperty(dm,"_shadowStyleSheet",Wi(_templateObject372()));customElements.define("bx-geometrypanel",dm);var cm=/*#__PURE__*/function(_HTMLElement103){_inherits(cm,_HTMLElement103);var _super157=_createSuper(cm);_createClass(cm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function cm(){var _this751;_classCallCheck(this,cm);_this751=_super157.call(this),_this751.cr=Xi(_this751.qs,500,_assertThisInitialized(_this751)),_this751._shadowRoot=_this751.attachShadow({mode:"closed"}),_this751._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,cm._shadowStyleSheet],_this751._shadowRoot.append(document.importNode(cm._shadowTemplate.content,!0));var _iterator1194=_createForOfIteratorHelper(_this751._shadowRoot.querySelectorAll("[id]")),_step1194;try{for(_iterator1194.s();!(_step1194=_iterator1194.n()).done;){var _t1803=_step1194.value;_this751["#"+_t1803.id]=_t1803;}}catch(err){_iterator1194.e(err);}finally{_iterator1194.f();}_this751["#title-input"].addEventListener("change",function(){return _this751.hw();}),_this751["#desc-editor"].addEventListener("change",function(){return _this751.aw();}),_this751["#language-select"].addEventListener("change",function(){return _this751.rw();}),_this751["#role-select"].addEventListener("change",function(){return _this751.dw();}),_this751["#tab-index-slider"].addEventListener("changestart",function(t){return _this751.cw(t);}),_this751["#tab-index-input"].addEventListener("changestart",function(t){return _this751.cw(t);}),_this751["#link-button"].addEventListener("toggle",function(t){return _this751.pw(t);}),_this751["#link-input"].addEventListener("change",function(){return _this751.uw();}),_this751["#link-target-checkbox"].addEventListener("toggle",function(){return _this751.xw();}),_this751["#id-input"].addEventListener("change",function(){return _this751.bw();}),_this751["#classes-input"].addEventListener("change",function(){return _this751.mw();}),_this751["#id-input"].validate=function(){var t=_this751["#id-input"].value.trim();""===t||Vi(t)?_this751["#id-input"].error=null:_this751["#id-input"].error="";};return _this751;}_createClass(cm,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this752=this;var t=this.Js.board;this.qs(),t.addEventListener("selectedelementschange",this.Qo=function(){_this752.qs();}),t.addEventListener("workspacemutation",this.rn=function(){_this752.cr();});}},{key:"sn",value:function sn(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"hw",value:function hw(){var t=this.Js.board,e=this["#title-input"].value.trim(),i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Title");var _iterator1195=_createForOfIteratorHelper(i),_step1195;try{for(_iterator1195.s();!(_step1195=_iterator1195.n()).done;){var _t1804=_step1195.value;var _i1158=_t1804.querySelector(":scope > bx-title");""===e?_i1158&&_i1158.remove():(null===_i1158&&(_i1158=zi("svg:bx-title"),_t1804.prepend(_i1158)),_i1158.innerHTML=e);}}catch(err){_iterator1195.e(err);}finally{_iterator1195.f();}}},{key:"aw",value:function aw(){var t=this.Js.board,e=this["#desc-editor"].value,i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Description");var _iterator1196=_createForOfIteratorHelper(i),_step1196;try{for(_iterator1196.s();!(_step1196=_iterator1196.n()).done;){var _t1805=_step1196.value;var _i1159=_t1805.querySelector(":scope > desc");""===e.trim()?_i1159&&_i1159.remove():(null===_i1159&&(_i1159=zi("svg:desc"),_t1805.prepend(_i1159)),_i1159.innerHTML=e);}}catch(err){_iterator1196.e(err);}finally{_iterator1196.f();}}},{key:"rw",value:function rw(){var t=this.Js.board,e=this["#language-select"].value,i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Language");var _iterator1197=_createForOfIteratorHelper(i),_step1197;try{for(_iterator1197.s();!(_step1197=_iterator1197.n()).done;){var _t1806=_step1197.value;""===e?_t1806.removeAttribute("lang"):_t1806.setAttribute("lang",e);var _iterator1198=_createForOfIteratorHelper(_t1806.querySelectorAll("[lang]")),_step1198;try{for(_iterator1198.s();!(_step1198=_iterator1198.n()).done;){var _e1274=_step1198.value;_e1274.removeAttribute("lang");}}catch(err){_iterator1198.e(err);}finally{_iterator1198.f();}}}catch(err){_iterator1197.e(err);}finally{_iterator1197.f();}}},{key:"dw",value:function dw(){var t=this.Js.board,e=this["#role-select"].value,i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Role");var _iterator1199=_createForOfIteratorHelper(i),_step1199;try{for(_iterator1199.s();!(_step1199=_iterator1199.n()).done;){var _t1807=_step1199.value;""===e?_t1807.removeAttribute("role"):_t1807.setAttribute("role",e);}}catch(err){_iterator1199.e(err);}finally{_iterator1199.f();}}},{key:"cw",value:function cw(t){var _this753=this;var e,_i1160,s=this.Js.board,n=t.target,o=[];s.outermostSelectedElements.length>0?o=_toConsumableArray(s.outermostSelectedElements):null===s.currentContainer&&(o=[s.currentWorkspace]),s.undoManager.checkpoint("Tab index"),n.addEventListener("change",e=function e(){if(n===_this753["#tab-index-input"]){var _t1808=Z(_this753["#tab-index-input"].value,0);_this753["#tab-index-input"].value=_t1808,_this753["#tab-index-slider"].value=_t1808;}else n===_this753["#tab-index-slider"]&&(_this753["#tab-index-input"].value=_this753["#tab-index-slider"].value);var t=_this753["#tab-index-input"].value;var _iterator1200=_createForOfIteratorHelper(o),_step1200;try{for(_iterator1200.s();!(_step1200=_iterator1200.n()).done;){var _e1275=_step1200.value;-1===t?_e1275.removeAttribute("tabindex"):_e1275.setAttribute("tabindex",t);}}catch(err){_iterator1200.e(err);}finally{_iterator1200.f();}}),n.addEventListener("changeend",_i1160=function i(){n.removeEventListener("change",e),n.removeEventListener("changeend",_i1160);});}},{key:"pw",value:function pw(t){var e=this.Js.board;if(this["#link-button"].toggled){if(e.undoManager.checkpoint("Link"),this.Qs.modKeys.ctrl){var _t1809=_toConsumableArray(e.outermostSelectedElements);_t1809=Bi(_t1809);var _i1161=[];var _iterator1201=_createForOfIteratorHelper(_t1809),_step1201;try{for(_iterator1201.s();!(_step1201=_iterator1201.n()).done;){var _e1276=_step1201.value;var _t1810=zi("svg:a");_e1276.after(_t1810),_t1810.append(_e1276),_i1161.push(_t1810);}}catch(err){_iterator1201.e(err);}finally{_iterator1201.f();}e.selectedElements=_i1161;}else{var _t1811=document.createDocumentFragment(),_i1162=_toConsumableArray(e.outermostSelectedElements),_s686=zi("svg:a");_i1162[0].after(_s686),_i1162=Bi(_i1162);var _iterator1202=_createForOfIteratorHelper(_i1162),_step1202;try{for(_iterator1202.s();!(_step1202=_iterator1202.n()).done;){var _e1277=_step1202.value;var _i1163=Vt(_e1277,_s686);_e1277.setAttribute("transform",_i1163.toString()),_t1811.append(_e1277);}}catch(err){_iterator1202.e(err);}finally{_iterator1202.f();}_s686.append(_t1811);var _iterator1203=_createForOfIteratorHelper(_s686.children),_step1203;try{for(_iterator1203.s();!(_step1203=_iterator1203.n()).done;){var _t1812=_step1203.value;mh(_t1812,{geometryPrecision:e.geometryPrecision,transformPrecision:e.transformPrecision});}}catch(err){_iterator1203.e(err);}finally{_iterator1203.f();}e.selectedElements=[_s686];}}else{e.undoManager.checkpoint("Unlink");var _t1813=_toConsumableArray(e.outermostSelectedElements),_i1164=[];var _iterator1204=_createForOfIteratorHelper(_t1813),_step1204;try{for(_iterator1204.s();!(_step1204=_iterator1204.n()).done;){var _s687=_step1204.value;if("a"===_s687.localName){var _t1814=_s687,_n488=document.createDocumentFragment();for(var _i1165=0,_arr44=_toConsumableArray(_t1814.children);_i1165<_arr44.length;_i1165++){var _s688=_arr44[_i1165];if("title"!==_s688.localName&&"desc"!==_s688.localName){if(e.isSelectableElement(_s688)){var _n489=Vt(_s688,_t1814.parentElement);_s688.setAttribute("transform",_n489.toString()),mh(_s688,{geometryPrecision:e.geometryPrecision,transformPrecision:e.transformPrecision}),_i1164.push(_s688);}var _iterator1205=_createForOfIteratorHelper(_t1814.attributes),_step1205;try{for(_iterator1205.s();!(_step1205=_iterator1205.n()).done;){var _step1205$value=_step1205.value,_e1278=_step1205$value.name,_i1166=_step1205$value.value;F.includes(_e1278)&&!1===_s688.hasAttribute(_e1278)&&_s688.setAttribute(_e1278,_i1166);}}catch(err){_iterator1205.e(err);}finally{_iterator1205.f();}var _iterator1206=_createForOfIteratorHelper(_t1814.style),_step1206;try{for(_iterator1206.s();!(_step1206=_iterator1206.n()).done;){var _e1279=_step1206.value;var _i1167=_t1814.style.getPropertyValue(_e1279);""===_s688.style.getPropertyValue(_e1279)&&_s688.style.setProperty(_e1279,_i1167);}}catch(err){_iterator1206.e(err);}finally{_iterator1206.f();}_n488.append(_s688);}}_t1814.before(_n488),_t1814.remove();}else _i1164.push(_s687);}}catch(err){_iterator1204.e(err);}finally{_iterator1204.f();}e.selectedElements=[].concat(_i1164);}}},{key:"uw",value:function uw(){this.Js.board.undoManager.checkpoint("Link URL");var t=this["#link-input"].value.trim();var _iterator1207=_createForOfIteratorHelper(this.Js.board.outermostSelectedElements),_step1207;try{for(_iterator1207.s();!(_step1207=_iterator1207.n()).done;){var _e1280=_step1207.value;"a"===_e1280.localName&&(0===t.length?_e1280.removeAttribute("_href"):_e1280.setAttribute("_href",t));}}catch(err){_iterator1207.e(err);}finally{_iterator1207.f();}}},{key:"xw",value:function xw(){this.Js.board.undoManager.checkpoint("Link target");var _iterator1208=_createForOfIteratorHelper(this.Js.board.outermostSelectedElements),_step1208;try{for(_iterator1208.s();!(_step1208=_iterator1208.n()).done;){var _t1815=_step1208.value;"a"===_t1815.localName&&(this["#link-target-checkbox"].toggled?(_t1815.setAttribute("target","_blank"),_t1815.setAttribute("rel","noreferrer")):(_t1815.removeAttribute("target"),_t1815.removeAttribute("rel")));}}catch(err){_iterator1208.e(err);}finally{_iterator1208.f();}}},{key:"bw",value:function bw(){if(null===this["#id-input"].error){var _t1816=this.Js.board,_e1281=_t1816.outermostSelectedElements[0]||_t1816.currentWorkspace,_i1168=_e1281.id,_s689=this["#id-input"].value.trim();if(_i1168!==_s689){_t1816.undoManager.checkpoint("ID"),""===_s689?_e1281.removeAttribute("id"):_e1281.setAttribute("id",_s689);{var _e1282=document.createNodeIterator(_t1816.workspaces,NodeFilter.SHOW_ELEMENT),_n490=null;for(;_n490=_e1282.nextNode();){_n490.href&&_n490.href.baseVal==="#"+_i1168&&(""===_s689?_n490.removeAttribute("href"):_n490.setAttribute("href","#"+_s689));for(var _i1169=0,_arr45=["fill","stroke"];_i1169<_arr45.length;_i1169++){var _t1817=_arr45[_i1169];var _e1283=getComputedStyle(_n490).getPropertyValue(_t1817);if(_e1283&&_e1283.startsWith("url(")){_e1283.substring(6,_e1283.length-2)===_i1168&&(""===_s689?_n490.style.removeProperty(_t1817):_n490.style.setProperty(_t1817,"url(#".concat(_s689,")")));}}}}}}}},{key:"mw",value:function mw(){var t=this.Js.board,e=this["#classes-input"].value,i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Class");var _iterator1209=_createForOfIteratorHelper(i),_step1209;try{for(_iterator1209.s();!(_step1209=_iterator1209.n()).done;){var _t1818=_step1209.value;0===e.length?_t1818.removeAttribute("class"):_t1818.setAttribute("class",e.join(" "));}}catch(err){_iterator1209.e(err);}finally{_iterator1209.f();}}},{key:"qs",value:function qs(){var t=this.Js.board,e=[];t.outermostSelectedElements.length>0?e=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(e=[t.currentWorkspace]);{var _t1819="",_i1170=!1;if(e.length>0){var _e1284=e,_e1285=_toArray(_e1284),_s690=_e1285[0],_n491=_e1285.slice(1),_o389=_s690.querySelector(":scope > bx-title");_o389&&(_t1819=_o389.innerHTML);var _iterator1210=_createForOfIteratorHelper(_n491),_step1210;try{for(_iterator1210.s();!(_step1210=_iterator1210.n()).done;){var _e1286=_step1210.value;var _s691=_e1286.querySelector(":scope > bx-title");if(_s691&&_s691.innerHTML!==_t1819){_i1170=!0;break;}}}catch(err){_iterator1210.e(err);}finally{_iterator1210.f();}}this["#title-heading"].disabled=0===e.length,this["#title-input"].value=_t1819,this["#title-input"].mixed=_i1170,this["#title-input"].disabled=0===e.length;}{var _t1820="",_i1171=!1;if(e.length>0){var _e1287=e,_e1288=_toArray(_e1287),_s692=_e1288[0],_n492=_e1288.slice(1),_o390=_s692.querySelector(":scope > desc");_o390&&(_t1820=_o390.innerHTML);var _iterator1211=_createForOfIteratorHelper(_n492),_step1211;try{for(_iterator1211.s();!(_step1211=_iterator1211.n()).done;){var _e1289=_step1211.value;var _s693=_e1289.querySelector(":scope > desc");if(_s693&&_s693.innerHTML!==_t1820){_i1171=!0;break;}}}catch(err){_iterator1211.e(err);}finally{_iterator1211.f();}}this["#desc-heading"].disabled=0===e.length,this["#desc-editor"].value=_t1820,this["#desc-editor"].mixed=_i1171,this["#desc-editor"].disabled=0===e.length;}{var _t1821="",_i1172=!1;if(e.length>0){var _e1290=e,_e1291=_toArray(_e1290),_s694=_e1291[0],_n493=_e1291.slice(1),_this$gw=this.gw(_s694),_this$gw2=_slicedToArray(_this$gw,2),_o391=_this$gw2[0],_l326=_this$gw2[1];if(_t1821=_o391,_i1172=_l326,!1===_i1172){var _iterator1212=_createForOfIteratorHelper(_n493),_step1212;try{for(_iterator1212.s();!(_step1212=_iterator1212.n()).done;){var _t1822=_step1212.value;var _this$gw3=this.gw(_t1822),_this$gw4=_slicedToArray(_this$gw3,2),_e1292=_this$gw4[0],_s695=_this$gw4[1];if(_e1292!==_o391||_s695){_i1172=!0;break;}}}catch(err){_iterator1212.e(err);}finally{_iterator1212.f();}}}this["#language-heading"].disabled=0===e.length,this["#language-select"].value=_t1821,this["#language-select"].mixed=_i1172,this["#language-select"].disabled=0===e.length;}{var _t1823="",_i1173=!1;if(e.length>0){var _e1293=e,_e1294=_toArray(_e1293),_s696=_e1294[0],_n494=_e1294.slice(1);_t1823=_s696.getAttribute("role")||"";var _iterator1213=_createForOfIteratorHelper(_n494),_step1213;try{for(_iterator1213.s();!(_step1213=_iterator1213.n()).done;){var _e1295=_step1213.value;if((_e1295.getAttribute("role")||"")!==_t1823){_i1173=!0;break;}}}catch(err){_iterator1213.e(err);}finally{_iterator1213.f();}}this["#role-heading"].disabled=0===e.length,this["#role-select"].value=_t1823,this["#role-select"].mixed=_i1173,this["#role-select"].disabled=0===e.length;}{var _t1824=-1,_i1174=!1;if(e.length>0){var _e1296=e,_e1297=_toArray(_e1296),_s697=_e1297[0],_n495=_e1297.slice(1);_t1824=_s697.tabIndex;var _iterator1214=_createForOfIteratorHelper(_n495),_step1214;try{for(_iterator1214.s();!(_step1214=_iterator1214.n()).done;){var _t1825=_step1214.value;if(_t1825.tabIndex!==_s697.tabIndex){_i1174=!0;break;}}}catch(err){_iterator1214.e(err);}finally{_iterator1214.f();}}this["#tab-index-heading"].disabled=0===e.length,this["#tab-index-slider"].value=_t1824,this["#tab-index-slider"].disabled=0===e.length,this["#tab-index-input"].value=_t1824,this["#tab-index-input"].mixed=_i1174,this["#tab-index-input"].disabled=0===e.length;}{var _t1826=_toConsumableArray(this.Js.board.outermostSelectedObjectElements);if(0===_t1826.length)this["#link-section-heading"].disabled=!0,this["#link-button"].disabled=!0,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1;else if(1===_t1826.length){var _e1298=_t1826[0];"a"===_e1298.localName?(this["#link-section-heading"].disabled=!1,this["#link-button"].disabled=!1,this["#link-button"].toggled=!0,this["#link-input"].disabled=!1,this["#link-input"].value=_e1298.hasAttribute("_href")?_e1298.getAttribute("_href"):"",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!1,this["#link-target-checkbox"].toggled=_e1298.hasAttribute("target"),this["#link-target-checkbox"].mixed=!1):_e1298.closest("a")||_e1298.querySelector("a")?(this["#link-section-heading"].disabled=!0,this["#link-button"].disabled=!0,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1):(this["#link-section-heading"].disabled=!1,this["#link-button"].disabled=!1,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1);}else{var _e1299=_t1826.filter(function(t){return"a"===t.localName;}),_i1175=_t1826.filter(function(t){return"a"!==t.localName;}),_s698=_i1175.filter(function(t){return t.closest("a")||t.querySelector("a");});_i1175.length>0&&0===_e1299.length&&0===_s698.length?(this["#link-section-heading"].disabled=!1,this["#link-button"].disabled=!1,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1):_e1299.length>0&&0===_i1175.length&&0===_s698.length?(this["#link-section-heading"].disabled=!1,this["#link-button"].disabled=!1,this["#link-button"].toggled=!0,this["#link-input"].disabled=!1,this["#link-input"].value=_t1826[0].hasAttribute("_href")?_t1826[0].getAttribute("_href"):"",this["#link-input"].mixed=void 0!==_t1826.find(function(e){return e.getAttribute("_href")!==_t1826[0].getAttribute("_href");}),this["#link-target-checkbox"].disabled=!1,this["#link-target-checkbox"].toggled="_blank"===_t1826[0].getAttribute("target"),this["#link-target-checkbox"].mixed=void 0!==_t1826.find(function(e){return e.getAttribute("target")!==_t1826[0].getAttribute("target");})):(this["#link-section-heading"].disabled=!0,this["#link-button"].disabled=!0,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1);}}{var _t1827="",_i1176=!1;if(e.length>0){var _e1300=e,_e1301=_toArray(_e1300),_s699=_e1301[0],_n496=_e1301.slice(1);_t1827=_s699.id;var _iterator1215=_createForOfIteratorHelper(_n496),_step1215;try{for(_iterator1215.s();!(_step1215=_iterator1215.n()).done;){var _t1828=_step1215.value;if(_t1828.id!==_s699.id){_i1176=!0;break;}}}catch(err){_iterator1215.e(err);}finally{_iterator1215.f();}}this["#id-heading"].disabled=1!==e.length,this["#id-input"].value=_t1827,this["#id-input"].mixed=_i1176,this["#id-input"].disabled=1!==e.length;}{var _t1829=[],_i1177=!1;if(e.length>0){var _e1302=e,_e1303=_toArray(_e1302),_s700=_e1303[0],_n497=_e1303.slice(1),_o392=_toConsumableArray(_s700.classList);_t1829=_o392;var _iterator1216=_createForOfIteratorHelper(_n497),_step1216;try{for(_iterator1216.s();!(_step1216=_iterator1216.n()).done;){var _t1830=_step1216.value;var _e1304=_toConsumableArray(_t1830.classList);if(!1===Je(_o392,_e1304)){_i1177=!0;break;}}}catch(err){_iterator1216.e(err);}finally{_iterator1216.f();}}if(!1===Je(_t1829,this["#classes-input"].value)){var _e1305="";var _iterator1217=_createForOfIteratorHelper(_t1829),_step1217;try{for(_iterator1217.s();!(_step1217=_iterator1217.n()).done;){var _i1178=_step1217.value;_e1305+="\n            <x-tag value=\"".concat(_i1178,"\">\n              <x-label>").concat(_i1178,"</x-label>\n            </x-tag>\n          ");}}catch(err){_iterator1217.e(err);}finally{_iterator1217.f();}this["#classes-input"].innerHTML=_e1305;}this["#classes-heading"].disabled=0===e.length,this["#classes-input"].mixed=_i1177,this["#classes-input"].disabled=0===e.length;}this["#accessibility-heading"].disabled=this["#title-heading"].disabled&&this["#desc-heading"].disabled&&this["#language-heading"].disabled&&this["#role-heading"].disabled&&this["#tab-index-heading"].disabled,this["#scripting-heading"].disabled=this["#id-heading"].disabled&&this["#classes-heading"].disabled,this["#panel-heading"].disabled=this["#accessibility-heading"].disabled&&this["#scripting-heading"].disabled;}},{key:"gw",value:function gw(t){var e="",i=!1,s=this.Js.board.workspaces;for(var _i1179=t;_i1179!==s;_i1179=_i1179.parentElement){if(_i1179.hasAttribute("lang")){e=_i1179.getAttribute("lang").trim();break;}}var _iterator1218=_createForOfIteratorHelper(t.querySelectorAll("*[lang]")),_step1218;try{for(_iterator1218.s();!(_step1218=_iterator1218.n()).done;){var _s701=_step1218.value;_s701.getAttribute("lang").trim()!==e&&(i=!0);}}catch(err){_iterator1218.e(err);}finally{_iterator1218.f();}return[e,i];}}]);return cm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(cm,"observedAttributes",["enabled"]);_defineProperty(cm,"_shadowTemplate",Yi(_templateObject373()));_defineProperty(cm,"_shadowStyleSheet",Wi(_templateObject374()));customElements.define("bx-metapanel",cm);var pm=/*#__PURE__*/function(_HTMLElement104){_inherits(pm,_HTMLElement104);var _super158=_createSuper(pm);_createClass(pm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function pm(){var _this754;_classCallCheck(this,pm);_this754=_super158.call(this),_this754._a=Xi(_this754.qs,200,_assertThisInitialized(_this754)),_this754._shadowRoot=_this754.attachShadow({mode:"closed"}),_this754._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,pm._shadowStyleSheet],_this754._shadowRoot.append(document.importNode(pm._shadowTemplate.content,!0));var _iterator1219=_createForOfIteratorHelper(_this754._shadowRoot.querySelectorAll("[id]")),_step1219;try{for(_iterator1219.s();!(_step1219=_iterator1219.n()).done;){var _t1831=_step1219.value;_this754["#"+_t1831.id]=_t1831;}}catch(err){_iterator1219.e(err);}finally{_iterator1219.f();}_this754["#reorient-button"].addEventListener("click",function(){return _this754.Qs.execCommand("reorient");}),_this754["#reverse-button"].addEventListener("click",function(){return _this754.Qs.execCommand("reverse");}),_this754["#shape-to-path-button"].addEventListener("click",function(){return _this754.Qs.execCommand("shapeToPath");}),_this754["#stroke-to-path-button"].addEventListener("click",function(){return _this754.Qs.execCommand("strokeToPath");}),_this754["#unite-button"].addEventListener("click",function(t){return _this754.Qs.execCommand("unite");}),_this754["#intersect-button"].addEventListener("click",function(t){return _this754.Qs.execCommand("intersect");}),_this754["#subtract-button"].addEventListener("click",function(t){return _this754.Qs.execCommand("subtract");}),_this754["#exclude-button"].addEventListener("click",function(t){return _this754.Qs.execCommand("exclude");}),_this754["#join-paths-button"].addEventListener("click",function(){return _this754.Qs.execCommand("joinPaths");}),_this754["#split-path-button"].addEventListener("click",function(){return _this754.Qs.execCommand("splitPath");}),_this754["#close-path-button"].addEventListener("click",function(){return _this754.Qs.execCommand("closePath");}),_this754["#open-path-button"].addEventListener("click",function(){return _this754.Qs.execCommand("openPath");}),_this754["#inset-path-button"].addEventListener("click",function(){return _this754.Qs.execCommand("insetPath");}),_this754["#outset-path-button"].addEventListener("click",function(){return _this754.Qs.execCommand("outsetPath");}),_this754["#simplify-path-button"].addEventListener("click",function(){return _this754.Qs.execCommand("simplifyPath");}),_this754["#complexify-path-button"].addEventListener("click",function(){return _this754.Qs.execCommand("complexifyPath");}),_this754["#join-nodes-button"].addEventListener("click",function(){return _this754.Qs.execCommand("joinNodes");}),_this754["#split-node-button"].addEventListener("click",function(){return _this754.Qs.execCommand("splitNode");}),_this754["#delete-node-button"].addEventListener("click",function(){return _this754.Qs.execCommand("deleteNode");}),_this754["#break-node-button"].addEventListener("click",function(){return _this754.Qs.execCommand("breakNode");});return _this754;}_createClass(pm,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ai(this,"bx-editor"),this.Qs=Ai(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this755=this;this.qs();var t=this.Js.board;t.addEventListener("selectedelementschange",this.Qo=function(){_this755.Jo();}),t.addEventListener("workspacemutation",this.rn=function(t){_this755.sl(t.detail);}),t.pathHud.addEventListener("selectednodeschange",this.Tf=function(){_this755.qs();});}},{key:"sn",value:function sn(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn),t.pathHud.removeEventListener("selectednodeschange",this.Tf);}},{key:"Jo",value:function Jo(){this._a();}},{key:"sl",value:function sl(t){this._a();}},{key:"qs",value:function qs(){{var _t1832=this.Qs.isCommandEnabled("reorient"),_e1306=this.Qs.isCommandEnabled("reverse");this["#reorient-button"].disabled=!_t1832,this["#reverse-button"].disabled=!_e1306;}{var _t1833=this.Qs.isCommandEnabled("shapeToPath"),_e1307=this.Qs.isCommandEnabled("strokeToPath");this["#shape-to-path-button"].disabled=!_t1833,this["#stroke-to-path-button"].disabled=!_e1307,this["#convert-section-heading"].disabled=!(_e1307||_t1833);}{var _t1834=this.Qs.isCommandEnabled("unite"),_e1308=this.Qs.isCommandEnabled("subtract"),_i1180=this.Qs.isCommandEnabled("intersect"),_s702=this.Qs.isCommandEnabled("exclude");this["#unite-button"].disabled=!_t1834,this["#subtract-button"].disabled=!_e1308,this["#intersect-button"].disabled=!_i1180,this["#exclude-button"].disabled=!_s702,this["#boolops-section-heading"].disabled=!(_t1834||_e1308||_i1180||_s702);}{var _t1835=this.Qs.isCommandEnabled("openPath"),_e1309=this.Qs.isCommandEnabled("closePath"),_i1181=this.Qs.isCommandEnabled("joinPaths"),_s703=this.Qs.isCommandEnabled("splitPath"),_n498=this.Qs.isCommandEnabled("insetPath"),_o393=this.Qs.isCommandEnabled("outsetPath"),_l327=this.Qs.isCommandEnabled("simplifyPath"),_h245=this.Qs.isCommandEnabled("complexifyPath");this["#open-path-button"].disabled=!_t1835,this["#close-path-button"].disabled=!_e1309,this["#join-paths-button"].disabled=!_i1181,this["#split-path-button"].disabled=!_s703,this["#inset-path-button"].disabled=!_n498,this["#outset-path-button"].disabled=!_o393,this["#simplify-path-button"].disabled=!_l327,this["#complexify-path-button"].disabled=!_h245,this["#path-section-heading"].disabled=!(_t1835||_e1309||_i1181||_s703||_n498||_o393||_l327||_h245);}{var _t1836=this.Qs.isCommandEnabled("joinNodes"),_e1310=this.Qs.isCommandEnabled("splitNode"),_i1182=this.Qs.isCommandEnabled("deleteNode"),_s704=this.Qs.isCommandEnabled("breakNode");this["#join-nodes-button"].disabled=!_t1836,this["#split-node-button"].disabled=!_e1310,this["#delete-node-button"].disabled=!_i1182,this["#break-node-button"].disabled=!_s704,this["#node-section-heading"].disabled=!(_t1836||_e1310||_i1182||_s704);}this["#panel-heading"].disabled=null===this._shadowRoot.querySelector("x-button:not([disabled]");}}]);return pm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(pm,"observedAttributes",["enabled"]);_defineProperty(pm,"_shadowTemplate",Yi(_templateObject375()));_defineProperty(pm,"_shadowStyleSheet",Wi(_templateObject376()));customElements.define("bx-shapepanel",pm);var um=/*#__PURE__*/function(_HTMLElement105){_inherits(um,_HTMLElement105);var _super159=_createSuper(um);_createClass(um,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function um(){var _this756;_classCallCheck(this,um);_this756=_super159.call(this),_this756.fw=Xi(_this756.qs,250,_assertThisInitialized(_this756)),_this756.ww=Xi(_this756.qs,2e3,_assertThisInitialized(_this756)),_this756._shadowRoot=_this756.attachShadow({mode:"closed"}),_this756._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,um._shadowStyleSheet],_this756._shadowRoot.append(document.importNode(um._shadowTemplate.content,!0));var _iterator1220=_createForOfIteratorHelper(_this756._shadowRoot.querySelectorAll("[id]")),_step1220;try{for(_iterator1220.s();!(_step1220=_iterator1220.n()).done;){var _t1837=_step1220.value;_this756["#"+_t1837.id]=_t1837;}}catch(err){_iterator1220.e(err);}finally{_iterator1220.f();}_this756["#align-to-select"].addEventListener("change",function(){return _this756.yw();}),_this756["#align-as-group-button"].addEventListener("toggle",function(){return _this756.kw();}),_this756["#align-buttons"].addEventListener("click",function(t){return _this756.Sw(t);}),_this756["#rotate-buttons"].addEventListener("click",function(t){return _this756._w(t);}),_this756["#flip-buttons"].addEventListener("click",function(t){return _this756.Cw(t);}),_this756["#transform-buttons"].addEventListener("click",function(t){return _this756.Mw(t);}),_this756["#order-buttons-1"].addEventListener("click",function(t){return _this756.Pw(t);}),_this756["#order-buttons-2"].addEventListener("click",function(t){return _this756.Pw(t);}),_this756["#group-buttons"].addEventListener("click",function(t){return _this756.Dw(t);}),_this756["#distance-buttons"].addEventListener("toggle",function(){return _this756.zw();}),_this756["#distribute-buttons-box"].addEventListener("click",function(t){return _this756.Ow(t);});return _this756;}_createClass(um,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this757=this;var t=this.Js.board;this.Qs.addEventListener("modkeyschange",this.Xa=function(){return _this757.Fd();}),t.addEventListener("selectedelementschange",this.Qo=function(){return _this757.qs();}),t.addEventListener("workspacemutation",this.rn=function(){return _this757.sl();}),this.Ew=this.Qs.getConfig("bx-arrangementpanel:alignTo","default-view"),this.Tw=this.Qs.getConfig("bx-arrangementpanel:alignAsGroup",!0),this.Aw=this.Qs.getConfig("bx-arrangementpanel:distance","auto"),"view-box"===this.Ew&&(this.Ew="nearest-view"),this.qs();}},{key:"sn",value:function sn(){var t=this.Js.board;this.Qs.removeEventListener("modkeyschange",this.Xa),t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"sl",value:function sl(){this.Qs.isPointerDown?this.ww():this.fw();}},{key:"Fd",value:function Fd(){var t=this.Qs.modKeys.shift?"outside":"inside";this["#move-buttons"].setAttribute("data-side",t);var _iterator1221=_createForOfIteratorHelper(this["#move-buttons"].querySelectorAll("x-button")),_step1221;try{for(_iterator1221.s();!(_step1221=_iterator1221.n()).done;){var _e1311=_step1221.value;_e1311.value="outside"===t?_e1311.value.replace("inside","outside"):_e1311.value.replace("outside","inside");}}catch(err){_iterator1221.e(err);}finally{_iterator1221.f();}}},{key:"yw",value:function yw(){this.Ew=this["#align-to-select"].value,this.Qs.setConfig("bx-arrangementpanel:alignTo",this.Ew),this.qs();}},{key:"kw",value:function kw(){this.Tw=this["#align-as-group-button"].toggled,this.Qs.setConfig("bx-arrangementpanel:alignAsGroup",this.Tw),this.qs();}},{key:"Sw",value:function Sw(t){var e=t.target.closest("x-button");if(e){var _t1838=this.Js.board,_i1183=this["#align-to-select"].value,_s705=this["#align-as-group-button"].toggled;if(_t1838.undoManager.checkpoint("Align"),"default-view"===_i1183){var _i1184=jt(_t1838.vectorCanvas),_n499=Bt.fromString(_t1838.currentWorkspace.getAttribute("viewBox")).toRect(),_o394=Ue(_n499,_i1184);this.$w(_t1838.outermostSelectedObjectElements,_o394,e.value,_s705);}else if("nearest-view"===_i1183){var _i1185=jt(_t1838.vectorCanvas),_n500=[Bt.fromString(_t1838.currentWorkspace.getAttribute("viewBox")).toRect()];var _iterator1222=_createForOfIteratorHelper(_t1838.currentWorkspace.querySelectorAll(":scope > view, :scope > defs > view")),_step1222;try{for(_iterator1222.s();!(_step1222=_iterator1222.n()).done;){var _e1312=_step1222.value;_n500.push(Bt.fromString(_e1312.getAttribute("viewBox")).toRect());}}catch(err){_iterator1222.e(err);}finally{_iterator1222.f();}if(!0===_s705||1===_t1838.outermostSelectedObjectElements){var _o395=Ne(_t1838.outermostSelectedObjectElements.map(function(t){return Mi(t);}));_o395=Ue(_o395,_i1185.inverse());var _l328=Ye(_n500,_o395),_h246=Ue(_l328,_i1185);this.$w(_t1838.outermostSelectedObjectElements,_h246,e.value,_s705);}else{var _iterator1223=_createForOfIteratorHelper(_t1838.outermostSelectedObjectElements),_step1223;try{for(_iterator1223.s();!(_step1223=_iterator1223.n()).done;){var _s706=_step1223.value;var _t1839=Ue(Mi(_s706),_i1185.inverse()),_o396=Ye(_n500,_t1839),_l329=Ue(_o396,_i1185);this.$w([_s706],_l329,e.value,!1);}}catch(err){_iterator1223.e(err);}finally{_iterator1223.f();}}}else if("first-selected"===_i1183){var _t1838$outermostSelec=_toArray(_t1838.outermostSelectedObjectElements),_i1186=_t1838$outermostSelec[0],_n501=_t1838$outermostSelec.slice(1),_o397=Mi(_i1186);this.$w(_n501,_o397,e.value,_s705);}else if("last-selected"===_i1183){var _reverse=_toConsumableArray(_t1838.outermostSelectedObjectElements).reverse(),_reverse2=_toArray(_reverse),_i1187=_reverse2[0],_n502=_reverse2.slice(1),_o398=Mi(_i1187);this.$w(_n502,_o398,e.value,_s705);}else if("selection"===_i1183){jt(_t1838.vectorCanvas);var _i1188=Ne(_t1838.outermostSelectedObjectElements.map(function(t){return Mi(t);}));this.$w(_t1838.outermostSelectedObjectElements,_i1188,e.value,!1);}}}},{key:"_w",value:function _w(t){var e=t.target.closest("x-button");e&&this.Qs.execCommand(e.value);}},{key:"Cw",value:function Cw(t){var e=t.target.closest("x-button");e&&this.Qs.execCommand(e.value);}},{key:"Mw",value:function Mw(t){var e=t.target.closest("x-button");e&&this.Qs.execCommand(e.value);}},{key:"Pw",value:function Pw(t){var e=t.target.closest("x-button");e&&this.Qs.execCommand(e.value);}},{key:"Dw",value:function Dw(t){var e=t.target.closest("x-button");e&&this.Qs.execCommand(e.value);}},{key:"zw",value:function zw(){"auto"===this["#distance-buttons"].value&&(this["#distance-input"].value=0),this.Aw=this["#distance-buttons"].value,this.Qs.setConfig("bx-arrangementpanel:distance",this.Aw),this.qs();}},{key:"Ow",value:function Ow(t){var e=t.target.closest("x-button");if(e){var _t1840=this.Js.board,_i1189=_toConsumableArray(_t1840.outermostSelectedObjectElements),_s707=Symbol();var _iterator1224=_createForOfIteratorHelper(_i1189),_step1224;try{for(_iterator1224.s();!(_step1224=_iterator1224.n()).done;){var _t1843=_step1224.value;_t1843[_s707]=Mi(_t1843);}}catch(err){_iterator1224.e(err);}finally{_iterator1224.f();}if(_t1840.undoManager.checkpoint("Distribute"),"horizontal"===e.value){_i1189.sort(function(t,e){var i=t[_s707],n=e[_s707];return i.x+i.width/2-(n.x+n.width/2);});var _e1313=_i1189.map(function(t){return t[_s707];}),_n503=Ne(_e1313).width;var _iterator1225=_createForOfIteratorHelper(_i1189),_step1225;try{for(_iterator1225.s();!(_step1225=_iterator1225.n()).done;){var _t1841=_step1225.value;_n503-=_t1841[_s707].width;}}catch(err){_iterator1225.e(err);}finally{_iterator1225.f();}if(_n503<=0||"manual"===this["#distance-buttons"].value){var _e1314=0;"manual"===this["#distance-buttons"].value&&(_e1314=this["#distance-input"].value*this.Js.board.scale);var _n504=_i1189[0],_o399=null;var _iterator1226=_createForOfIteratorHelper(_i1189),_step1226;try{for(_iterator1226.s();!(_step1226=_iterator1226.n()).done;){var _l330=_step1226.value;if(_l330!==_n504){var _i1190=Nt(_l330),_n505=jt(_l330),_h247=_n505.inverse(),_a201=-(_l330[_s707].left-_o399[_s707].right)+_e1314,_r136=_i1190.multiply(_h247);_r136.translateSelf(_a201,0),_r136.multiplySelf(_n505),_l330.setAttribute("transform",_r136.toString()),mh(_l330,{geometryPrecision:_t1840.geometryPrecision,transformPrecision:_t1840.transformPrecision}),_l330[_s707]=Mi(_l330);}_o399=_l330;}}catch(err){_iterator1226.e(err);}finally{_iterator1226.f();}}else{var _e1315=_i1189[0],_o400=_i1189[_i1189.length-1],_l331=null,_h248=_n503/(_i1189.length-1);var _iterator1227=_createForOfIteratorHelper(_i1189),_step1227;try{for(_iterator1227.s();!(_step1227=_iterator1227.n()).done;){var _n506=_step1227.value;if(_n506!==_e1315&&_n506!==_o400){var _e1316=Nt(_n506),_i1191=jt(_n506),_o401=_i1191.inverse(),_a202=-(_n506[_s707].left-_l331[_s707].right)+_h248,_r137=_e1316.multiply(_o401);_r137.translateSelf(_a202,0),_r137.multiplySelf(_i1191),_n506.setAttribute("transform",_r137.toString()),mh(_n506,{geometryPrecision:_t1840.geometryPrecision,transformPrecision:_t1840.transformPrecision}),_n506[_s707]=Mi(_n506);}_l331=_n506;}}catch(err){_iterator1227.e(err);}finally{_iterator1227.f();}}}else if("vertical"===e.value){_i1189.sort(function(t,e){var i=t[_s707],n=e[_s707];return i.y+i.height/2-(n.y+n.height/2);});var _e1317=_i1189.map(function(t){return t[_s707];}),_n507=Ne(_e1317).height;var _iterator1228=_createForOfIteratorHelper(_i1189),_step1228;try{for(_iterator1228.s();!(_step1228=_iterator1228.n()).done;){var _t1842=_step1228.value;_n507-=_t1842[_s707].height;}}catch(err){_iterator1228.e(err);}finally{_iterator1228.f();}if(_n507<=0||"manual"===this["#distance-buttons"].value){var _e1318=0;"manual"===this["#distance-buttons"].value&&(_e1318=this["#distance-input"].value*this.Js.board.scale);var _n508=_i1189[0],_o402=null;var _iterator1229=_createForOfIteratorHelper(_i1189),_step1229;try{for(_iterator1229.s();!(_step1229=_iterator1229.n()).done;){var _l332=_step1229.value;if(_l332!==_n508){var _i1192=Nt(_l332),_n509=jt(_l332),_h249=_n509.inverse(),_a203=-(_l332[_s707].top-_o402[_s707].bottom)+_e1318,_r138=_i1192.multiply(_h249);_r138.translateSelf(0,_a203),_r138.multiplySelf(_n509),_l332.setAttribute("transform",_r138.toString()),mh(_l332,{geometryPrecision:_t1840.geometryPrecision,transformPrecision:_t1840.transformPrecision}),_l332[_s707]=Mi(_l332);}_o402=_l332;}}catch(err){_iterator1229.e(err);}finally{_iterator1229.f();}}else{var _e1319=_i1189[0],_o403=_i1189[_i1189.length-1],_l333=null,_h250=_n507/(_i1189.length-1);var _iterator1230=_createForOfIteratorHelper(_i1189),_step1230;try{for(_iterator1230.s();!(_step1230=_iterator1230.n()).done;){var _n510=_step1230.value;if(_n510!==_e1319&&_n510!==_o403){var _e1320=Nt(_n510),_i1193=jt(_n510),_o404=_i1193.inverse(),_a204=-(_n510[_s707].top-_l333[_s707].bottom)+_h250,_r139=_e1320.multiply(_o404);_r139.translateSelf(0,_a204),_r139.multiplySelf(_i1193),_n510.setAttribute("transform",_r139.toString()),mh(_n510,{geometryPrecision:_t1840.geometryPrecision,transformPrecision:_t1840.transformPrecision}),_n510[_s707]=Mi(_n510);}_l333=_n510;}}catch(err){_iterator1230.e(err);}finally{_iterator1230.f();}}}else if("centers-horizontal"===e.value){var _e1321=_toConsumableArray(_i1189).sort(function(t,e){var i=t[_s707],n=e[_s707];return i.x+i.width/2-(n.x+n.width/2);}),_n511=_e1321[0],_o405=_e1321[_e1321.length-1],_l334=0;if("manual"===this["#distance-buttons"].value)_l334=this["#distance-input"].value*this.Js.board.scale;else{_l334=(_o405[_s707].x+_o405[_s707].width/2-(_n511[_s707].x+_n511[_s707].width/2))/(_e1321.length-1);}var _h251=_l334;var _iterator1231=_createForOfIteratorHelper(_e1321),_step1231;try{for(_iterator1231.s();!(_step1231=_iterator1231.n()).done;){var _i1194=_step1231.value;if(_i1194!==_n511&&(_i1194!==_o405||"auto"!==this["#distance-buttons"].value)){var _e1322=Nt(_i1194),_o406=jt(_i1194),_a205=_o406.inverse(),_r140=-(_i1194[_s707].x+_i1194[_s707].width/2-(_n511[_s707].x+_n511[_s707].width/2))+_h251,_d110=_e1322.multiply(_a205);_d110.translateSelf(_r140,0),_d110.multiplySelf(_o406),_i1194.setAttribute("transform",_d110.toString()),mh(_i1194,{geometryPrecision:_t1840.geometryPrecision,transformPrecision:_t1840.transformPrecision}),_h251+=_l334,_i1194[_s707]=Mi(_i1194);}}}catch(err){_iterator1231.e(err);}finally{_iterator1231.f();}}else if("centers-vertical"===e.value){var _e1323=_toConsumableArray(_i1189).sort(function(t,e){var i=t[_s707],n=e[_s707];return i.y+i.height/2-(n.y+n.height/2);}),_n512=_e1323[0],_o407=_e1323[_e1323.length-1],_l335=0;if("manual"===this["#distance-buttons"].value)_l335=this["#distance-input"].value*this.Js.board.scale;else{_l335=(_o407[_s707].y+_o407[_s707].height/2-(_n512[_s707].y+_n512[_s707].height/2))/(_e1323.length-1);}var _h252=_l335;var _iterator1232=_createForOfIteratorHelper(_e1323),_step1232;try{for(_iterator1232.s();!(_step1232=_iterator1232.n()).done;){var _i1195=_step1232.value;if(_i1195!==_n512&&(_i1195!==_o407||"auto"!==this["#distance-buttons"].value)){var _e1324=Nt(_i1195),_o408=jt(_i1195),_a206=_o408.inverse(),_r141=-(_i1195[_s707].y+_i1195[_s707].height/2-(_n512[_s707].y+_n512[_s707].height/2))+_h252,_d111=_e1324.multiply(_a206);_d111.translateSelf(0,_r141),_d111.multiplySelf(_o408),_i1195.setAttribute("transform",_d111.toString()),mh(_i1195,{geometryPrecision:_t1840.geometryPrecision,transformPrecision:_t1840.transformPrecision}),_h252+=_l335,_i1195[_s707]=Mi(_i1195);}}}catch(err){_iterator1232.e(err);}finally{_iterator1232.f();}}}}},{key:"$w",value:function $w(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;if(!1===s){var _iterator1233=_createForOfIteratorHelper(t),_step1233;try{for(_iterator1233.s();!(_step1233=_iterator1233.n()).done;){var _s708=_step1233.value;var _t1844=Nt(_s708),_n513=jt(_s708),_o409=_n513.inverse(),_l336=Mi(_s708),_h253=0,_a207=0,_r142=1,_d112=1,_c86=0,_p76=0;if("move-left-inside"===i)_h253=e.x-_l336.x;else if("move-left-outside"===i)_h253=e.x-_l336.x-_l336.width;else if("move-right-inside"===i)_h253=e.x+e.width-_l336.x-_l336.width;else if("move-right-outside"===i)_h253=e.x+e.width-_l336.x;else if("move-top-inside"===i)_a207=e.y-_l336.y;else if("move-top-outside"===i)_a207=e.y-_l336.y-_l336.height;else if("move-bottom-inside"===i)_a207=e.y+e.height-_l336.y-_l336.height;else if("move-bottom-outside"===i)_a207=e.y+e.height-_l336.y;else if("center"===i)_h253=e.x-_l336.x+e.width/2-_l336.width/2,_a207=e.y-_l336.y+e.height/2-_l336.height/2;else if("horizontal-center"===i)_h253=e.x-_l336.x+e.width/2-_l336.width/2;else if("vertical-center"===i)_a207=e.y-_l336.y+e.height/2-_l336.height/2;else if("stretch"===i)_r142=e.width/_l336.width,_d112=e.height/_l336.height,_h253=e.x-_l336.x*_r142,_a207=e.y-_l336.y*_d112;else if("horizontal-stretch"===i)_r142=e.width/_l336.width,_h253=e.x-_l336.x*_r142;else if("vertical-stretch"===i)_d112=e.height/_l336.height,_a207=e.y-_l336.y*_d112;else if("fit"===i){var _t1845=min(e.width/_l336.width,e.height/_l336.height);_r142=_t1845,_d112=_t1845,_h253=e.x-_l336.x+e.width/2-_l336.width/2,_a207=e.y-_l336.y+e.height/2-_l336.height/2,_c86=_l336.x+_l336.width/2,_p76=_l336.y+_l336.height/2;}else"horizontal-fit"===i?(_r142=e.width/_l336.width,_d112=_r142,_h253=e.x-_l336.x,_c86=_l336.x,_p76=_l336.y):"vertical-fit"===i&&(_d112=e.height/_l336.height,_r142=_d112,_a207=e.y-_l336.y,_c86=_l336.x,_p76=_l336.y);var _u63=_t1844.multiply(_o409);_u63.translateSelf(_h253,_a207),_u63.scaleSelf(_r142,_d112,1,_c86,_p76),_u63.multiplySelf(_n513),_s708.setAttribute("transform",_u63.toString()),mh(_s708,{geometryPrecision:this.Js.board.geometryPrecision,transformPrecision:this.Js.board.transformPrecision});}}catch(err){_iterator1233.e(err);}finally{_iterator1233.f();}}else if(!0===s){var _s709=t.map(function(t){return Mi(t);}),_n514=Ne(_s709),_o410=0,_l337=0,_h254=1,_a208=1,_r143=0,_d113=0;if("move-left-inside"===i)_o410=e.x-_n514.x;else if("move-left-outside"===i)_o410=e.x-_n514.x-_n514.width;else if("move-right-inside"===i)_o410=e.x+e.width-_n514.x-_n514.width;else if("move-right-outside"===i)_o410=e.x+e.width-_n514.x;else if("move-top-inside"===i)_l337=e.y-_n514.y;else if("move-top-outside"===i)_l337=e.y-_n514.y-_n514.height;else if("move-bottom-inside"===i)_l337=e.y+e.height-_n514.y-_n514.height;else if("move-bottom-outside"===i)_l337=e.y+e.height-_n514.y;else if("center"===i)_o410=e.x-_n514.x+e.width/2-_n514.width/2,_l337=e.y-_n514.y+e.height/2-_n514.height/2;else if("horizontal-center"===i)_o410=e.x-_n514.x+e.width/2-_n514.width/2;else if("vertical-center"===i)_l337=e.y-_n514.y+e.height/2-_n514.height/2;else if("stretch"===i)_h254=e.width/_n514.width,_a208=e.height/_n514.height,_o410=e.x-_n514.x*_h254,_l337=e.y-_n514.y*_a208;else if("horizontal-stretch"===i)_h254=e.width/_n514.width,_o410=e.x-_n514.x*_h254;else if("vertical-stretch"===i)_a208=e.height/_n514.height,_l337=e.y-_n514.y*_a208;else if("fit"===i){var _t1846=min(e.width/_n514.width,e.height/_n514.height);_h254=_t1846,_a208=_t1846,_o410=e.x-_n514.x+e.width/2-_n514.width/2,_l337=e.y-_n514.y+e.height/2-_n514.height/2,_r143=_n514.x+_n514.width/2,_d113=_n514.y+_n514.height/2;}else"horizontal-fit"===i?(_h254=e.width/_n514.width,_a208=_h254,_o410=e.x-_n514.x,_r143=_n514.x,_d113=_n514.y):"vertical-fit"===i&&(_a208=e.height/_n514.height,_h254=_a208,_l337=e.y-_n514.y,_r143=_n514.x,_d113=_n514.y);var _iterator1234=_createForOfIteratorHelper(t),_step1234;try{for(_iterator1234.s();!(_step1234=_iterator1234.n()).done;){var _e1325=_step1234.value;var _t1847=Nt(_e1325),_i1196=jt(_e1325),_s710=_i1196.inverse(),_n515=_t1847.multiply(_s710);_n515.translateSelf(_o410,_l337),_n515.scaleSelf(_h254,_a208,1,_r143,_d113),_n515.multiplySelf(_i1196),_e1325.setAttribute("transform",_n515.toString()),mh(_e1325,{geometryPrecision:this.Js.board.geometryPrecision,transformPrecision:this.Js.board.transformPrecision});}}catch(err){_iterator1234.e(err);}finally{_iterator1234.f();}}}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedObjectElements;if(this["#panel-heading"].disabled=0===t.outermostSelectedObjectElements.length,0===e.length){this["#align-section-heading"].disabled=!0,this["#align-options-heading"].disabled=!0,this["#align-to-select"].value=this.Ew,this["#align-to-select"].disabled=!0,this["#align-as-group-button"].toggled=this.Tw,this["#align-as-group-button"].disabled=!0;var _iterator1235=_createForOfIteratorHelper(this["#align-buttons"].querySelectorAll("x-button")),_step1235;try{for(_iterator1235.s();!(_step1235=_iterator1235.n()).done;){var _t1848=_step1235.value;_t1848.disabled=!0;}}catch(err){_iterator1235.e(err);}finally{_iterator1235.f();}}else{this["#align-section-heading"].disabled=!1,this["#align-options-heading"].disabled=!1,this["#align-to-select"].value=this.Ew,this["#align-to-select"].disabled=!1,this["#align-as-group-button"].toggled=this.Tw,this["#align-as-group-button"].disabled=!1;var _i1197=!0;if("default-view"===this.Ew)_i1197=t.currentWorkspace.hasAttribute("viewBox");else if("nearest-view"===this.Ew){if(t.currentWorkspace.hasAttribute("viewBox"))_i1197=!0;else{_i1197=t.currentWorkspace.querySelectorAll(":scope > view, :scope > defs > view").length>0;}}else"first-selected"===this.Ew||"last-selected"===this.Ew?_i1197=e.length>=2:"selection"===this.Ew&&(_i1197=e.length>=2&&!1===this.Tw);var _iterator1236=_createForOfIteratorHelper(this["#align-buttons"].querySelectorAll("x-button")),_step1236;try{for(_iterator1236.s();!(_step1236=_iterator1236.n()).done;){var _t1849=_step1236.value;_t1849.disabled=!1===_i1197;}}catch(err){_iterator1236.e(err);}finally{_iterator1236.f();}}this["#rotate-counterclockwise-button"].disabled=!this.Qs.isCommandEnabled("rotateCounterclockwise"),this["#rotate-clockwise-button"].disabled=!this.Qs.isCommandEnabled("rotateClockwise"),this["#flip-horizontally-button"].disabled=!this.Qs.isCommandEnabled("flipX"),this["#flip-vertically-button"].disabled=!this.Qs.isCommandEnabled("flipY"),this["#remove-transform-button"].disabled=!this.Qs.isCommandEnabled("removeTransform"),this["#reduce-transform-button"].disabled=!this.Qs.isCommandEnabled("reduceTransform"),this["#transform-heading"].disabled=this["#rotate-counterclockwise-button"].disabled&&this["#rotate-clockwise-button"].disabled&&this["#flip-horizontally-button"].disabled&&this["#flip-vertically-button"].disabled&&this["#remove-transform-button"].disabled&&this["#reduce-transform-button"].disabled,this["#raise-button"].disabled=!this.Qs.isCommandEnabled("raise"),this["#front-button"].disabled=this["#raise-button"].disabled,this["#lower-button"].disabled=!this.Qs.isCommandEnabled("lower"),this["#back-button"].disabled=this["#lower-button"].disabled,this["#order-section-heading"].disabled=this["#front-button"].disabled&&this["#raise-button"].disabled&&this["#lower-button"].disabled&&this["#back-button"].disabled,this["#group-button"].disabled=!this.Qs.isCommandEnabled("group"),this["#ungroup-button"].disabled=!this.Qs.isCommandEnabled("ungroup"),this["#group-section-heading"].disabled=this["#group-button"].disabled&&this["#ungroup-button"].disabled,e.length<=1?(this["#distribute-heading"].disabled=!0,this["#distribute-distance-heading"].disabled=!0,this["#distance-buttons"].value=null,this["#auto-distance-button"].disabled=!0,this["#manual-distance-button"].disabled=!0,this["#distance-input"].disabled=!0,this["#distribute-actions-heading"].disabled=!0,this["#distribute-horizontally-button"].disabled=!0,this["#distribute-vertically-button"].disabled=!0,this["#distribute-centers-horizontally-button"].disabled=!0,this["#distribute-centers-vertically-button"].disabled=!0):(this["#distribute-heading"].disabled=!1,this["#distribute-distance-heading"].disabled=!1,this["#distance-buttons"].value=this.Aw,this["#auto-distance-button"].disabled=!1,this["#manual-distance-button"].disabled=!1,this["#distance-input"].disabled="auto"===this["#distance-buttons"].value,"auto"===this["#distance-buttons"].value&&e.length<=2?(this["#distribute-actions-heading"].disabled=!0,this["#distribute-horizontally-button"].disabled=!0,this["#distribute-vertically-button"].disabled=!0,this["#distribute-centers-horizontally-button"].disabled=!0,this["#distribute-centers-vertically-button"].disabled=!0):(this["#distribute-actions-heading"].disabled=!1,this["#distribute-horizontally-button"].disabled=!1,this["#distribute-vertically-button"].disabled=!1,this["#distribute-centers-horizontally-button"].disabled=!1,this["#distribute-centers-vertically-button"].disabled=!1));}}]);return um;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(um,"observedAttributes",["enabled"]);_defineProperty(um,"_shadowTemplate",Yi(_templateObject377()));_defineProperty(um,"_shadowStyleSheet",Wi(_templateObject378()));customElements.define("bx-arrangementpanel",um);var xm=Symbol();var bm=/*#__PURE__*/function(_HTMLElement106){_inherits(bm,_HTMLElement106);var _super160=_createSuper(bm);_createClass(bm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function bm(){var _this758;_classCallCheck(this,bm);_this758=_super160.call(this),_this758.Iw=!1,_this758.Lw=null,_this758._a=Xi(_this758.qs,200,_assertThisInitialized(_this758)),_this758.Bw=Zi(_this758.Rw,250,_assertThisInitialized(_this758)),_this758._shadowRoot=_this758.attachShadow({mode:"closed"}),_this758._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,bm._shadowStyleSheet],_this758._shadowRoot.append(document.importNode(bm._shadowTemplate.content,!0));var _iterator1237=_createForOfIteratorHelper(_this758._shadowRoot.querySelectorAll("[id]")),_step1237;try{for(_iterator1237.s();!(_step1237=_iterator1237.n()).done;){var _t1850=_step1237.value;_this758["#"+_t1850.id]=_t1850;}}catch(err){_iterator1237.e(err);}finally{_iterator1237.f();}_this758["#main"].addEventListener("pointerdown",function(t){return _this758.Gw(t);}),_this758["#main"].addEventListener("click",function(t){return _this758.Fw(t);}),_this758["#main"].addEventListener("contextmenu",function(t){return _this758.Uw(t);}),_this758["#main"].addEventListener("keydown",function(t){return _this758.vn(t);}),_this758["#context-menu"].addEventListener("click",function(t){return _this758.Nw(t);}),_this758["#add-menu"].addEventListener("click",function(t){return _this758.Vw(t);}),_this758["#developer-mode-button"].addEventListener("toggle",function(){return _this758.zu();}),_this758["#filter-input"].addEventListener("input",function(){return _this758.Mm();});return _this758;}_createClass(bm,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this759=this;var t=this.Js.board;this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-objectsbrowser:developerMode",!1),this.jw(),this._a(),t.addEventListener("artworkchange",this.mr=function(){_this759.qs();}),t.addEventListener("selectedelementschange",this.Qo=function(){_this759.Jo();}),t.addEventListener("workspacemutation",this.rn=function(t){_this759.sl(t);}),t.addEventListener("currentworkspacechange",this.Lx=function(){_this759.Hw();});}},{key:"sn",value:function sn(){var t=this.Js.board;t.removeEventListener("artworkchange",this.mr),t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn),t.removeEventListener("currentworkspacechange",this.Lx);}},{key:"Jo",value:function Jo(){this.Yw();}},{key:"sl",value:function sl(t){var e=t.detail;var _iterator1238=_createForOfIteratorHelper(e),_step1238;try{for(_iterator1238.s();!(_step1238=_iterator1238.n()).done;){var _t1851=_step1238.value;this.Ww(_t1851);}}catch(err){_iterator1238.e(err);}finally{_iterator1238.f();}}},{key:"Hw",value:function Hw(){this._a();}},{key:"Uw",value:function Uw(t){var e=t.target.closest(".item");if(e){var _i1198=e[xm];t.preventDefault(),this.Lw=e,this["#context-menu"].open(t.clientX,t.clientY),"g"===_i1198.localName?(this["#ungroup-menu-item"].disabled=!1,this["#enter-group-menu-item"].disabled=!1):(this["#ungroup-menu-item"].disabled=!0,this["#enter-group-menu-item"].disabled=!0);}}},{key:"Nw",value:function Nw(t){var e=t.target.closest("x-menuitem");if(e)if("enterGroup"===e.value){var _t1852=this.Lw[xm];this.Js.board.currentContainer=_t1852,this.Js.board.selectedElements=[];}else this.Qs.execCommand(e.value);}},{key:"Gw",value:function Gw(t){t.target.closest(".item")&&(t.target.closest(".arrow-button")||t.target.closest(".lock-button")||t.target.closest(".visibility-button")||this.Dm(t));}},{key:"Dm",value:function Dm(t){var _this760=this;var e=this.Js.board,_this$Qs$modKeys11=this.Qs.modKeys,i=_this$Qs$modKeys11.ctrl,s=_this$Qs$modKeys11.shift,n=t.target.closest(".item"),o=new DOMPoint(t.clientX,t.clientY);if(1===t.buttons||!0!==n.hasAttribute("data-selected"))if(!0===i){var _t1853=n[xm],_i1199=_t1853.parentElement.closest("g, a");e.selectedElements.includes(_t1853)?e.selectedElements=e.selectedElements.filter(function(e){return e!==_t1853;}):(e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_t1853]),1===e.selectedElements.length&&(e.currentContainer=_i1199===e.currentWorkspace?null:_i1199));}else if(!0===s){var _t1854=e.selectedElements.map(function(t){return _this760.qw(t);});_t1854=_t1854.filter(function(t){return null!==t&&!1===t.hidden;});var _i1200=_t1854.map(function(t){return t[xm];}),_s711=_i1200[_i1200.length-1]||null;if(_s711){var _t1855=this.Xw(!0),_i1201=_t1855.find(function(t){return t[xm]===_s711;}),_o411=_t1855.indexOf(_i1201),_l338=_t1855.indexOf(n),_h255=[];if(_l338>_o411?_h255=_toConsumableArray(_t1855).slice(_o411,_l338+1):_l338<_o411&&(_h255=_toConsumableArray(_t1855).slice(_l338,_o411+1).reverse()),_h255=_h255.filter(function(t){return!1===t.hasAttribute("data-selected");}),_h255.length>0){var _t1856=_h255.map(function(t){return t[xm];});e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),_toConsumableArray(_t1856));}}}else{var _i1203,_s712,_l340,_h256=n[xm],_a209=_h256.parentElement.closest("g, a"),_r144=!1;n.setPointerCapture(t.pointerId),!1===n.hasAttribute("data-selected")&&(e.selectedElements=[_h256],e.currentContainer=_a209===e.currentWorkspace?null:_a209),n.addEventListener("pointermove",_i1203=function _i1202(t){var e=new DOMPoint(t.clientX,t.clientY);De(o,e)>=3&&(n.removeEventListener("pointermove",_i1203),n.removeEventListener("pointerup",_s712),n.removeEventListener("lostpointercapture",_l340),_this760.Zw(t),_r144=!0);}),n.addEventListener("pointerup",_s712=function _s712(){!1===_r144&&(e.selectedElements=[_h256],e.currentContainer=_a209===e.currentWorkspace?null:_a209);}),n.addEventListener("lostpointercapture",_l340=function _l339(){n.removeEventListener("pointermove",_i1203),n.removeEventListener("pointerup",_s712),n.removeEventListener("lostpointercapture",_l340);});}}},{key:"Zw",value:function Zw(){var _this761=this;var t,_e1329,i=this.Xw(!0),s=null,n="start",o=i.filter(function(t){return t.hasAttribute("data-selected");}),l=this.Js.board;this["#main"].addEventListener("pointermove",t=function t(_t1858){var e=_this761._shadowRoot.elementFromPoint(_t1858.clientX,_t1858.clientY);if(e.getRootNode()!==_this761._shadowRoot&&(e=null),s=e?e.closest(".item"):null,s){var _e1326=s.querySelector(".main").getBoundingClientRect();if(n=_t1858.clientY<_e1326.y+_e1326.height/2?"start":"end",s.hasAttribute("data-expanded")&&"end"===n&&(s.querySelector(".item:not([hidden])")?(s=s.querySelector(".item:not([hidden])"),n="start",_e1326=s.querySelector(".main").getBoundingClientRect()):n="inside"),_this761.Kw(o,s,n)){var _t1857=s.offsetTop;for(var _e1327=s.offsetParent;null!==_e1327&&_e1327!==_this761["#main"];_e1327=_e1327.offsetParent){_t1857+=_e1327.offsetTop;}"end"!==n&&"inside"!==n||(_t1857+=_e1326.height);var _i1204=24*parseInt(s.getAttribute("data-depth"))+16;"inside"===n&&(_i1204+=24);var _o412=_e1326.width-_i1204-4;_this761["#drop-marker"].hidden=!1,_this761["#drop-marker"].style.top=_t1857+"px",_this761["#drop-marker"].style.width=_o412+"px",_this761["#drop-marker"].style.marginLeft=_i1204+"px";}else s=null,_this761["#drop-marker"].hidden=!0;}else _this761["#drop-marker"].hidden=!0;}),this["#main"].addEventListener("lostpointercapture",_e1329=function e(){if(_this761["#main"].removeEventListener("pointermove",t),_this761["#main"].removeEventListener("lostpointercapture",_e1329),_this761["#drop-marker"].hidden=!0,s){l.undoManager.checkpoint("Move elements");var _t1859=s[xm],_e1328=Bi(l.outermostSelectedElements),_i1205=document.createDocumentFragment();var _iterator1239=_createForOfIteratorHelper(_e1328),_step1239;try{for(_iterator1239.s();!(_step1239=_iterator1239.n()).done;){var _s713=_step1239.value;_s713.setAttribute("transform",Vt(_s713,_t1859.parentElement)),_i1205.append(_s713);}}catch(err){_iterator1239.e(err);}finally{_iterator1239.f();}"start"===n?_t1859.before(_i1205):"end"===n?_t1859.after(_i1205):"inside"===n&&_t1859.append(_i1205);var _iterator1240=_createForOfIteratorHelper(_e1328),_step1240;try{for(_iterator1240.s();!(_step1240=_iterator1240.n()).done;){var _t1860=_step1240.value;mh(_t1860,{geometryPrecision:l.geometryPrecision,transformPrecision:l.transformPrecision});}}catch(err){_iterator1240.e(err);}finally{_iterator1240.f();}var _o413=l.selectedElements[0].closest("g, a");l.currentContainer=_o413===l.currentWorkspace?null:_o413;}});}},{key:"Fw",value:function Fw(t){t.target.closest(".item")&&(t.target.closest(".arrow-button")?this.Qw(t):t.target.closest(".lock-button")?this.Jw(t):t.target.closest(".visibility-button")?this.tv(t):this.ev(t));}},{key:"ev",value:function ev(t){var _this$Qs$modKeys12=this.Qs.modKeys,e=_this$Qs$modKeys12.ctrl,i=_this$Qs$modKeys12.shift;if(!1===e&&!1===i&&2===t.detail){var _e1330=t.target.closest(".item");this.iv(_e1330);}}},{key:"Qw",value:function Qw(t){var e=t.target.closest(".item");e.hasAttribute("data-expanded")?this.sv(e):this.nv(e);}},{key:"Jw",value:function Jw(t){this.Js.board.undoManager.checkpoint("Lock");var e=t.target.closest(".item")[xm],i=getComputedStyle(e).pointerEvents;i="none"===i?"auto":"none",e.style.pointerEvents=i,ya("pointer-events",e);{var _t1861=function _t1861(e){var _iterator1241=_createForOfIteratorHelper(e),_step1241;try{for(_iterator1241.s();!(_step1241=_iterator1241.n()).done;){var _s714=_step1241.value;g.includes(_s714.localName)&&(_s714.removeAttribute("pointer-events"),_s714.style.removeProperty("pointer-events"),getComputedStyle(_s714).pointerEvents!==i&&(_s714.style.pointerEvents=i),"g"!==_s714.localName&&"a"!==_s714.localName||_t1861(_s714.children));}}catch(err){_iterator1241.e(err);}finally{_iterator1241.f();}};_t1861(e.children);}}},{key:"tv",value:function tv(t){this.Js.board.undoManager.checkpoint("Visibility");var e=t.target.closest(".item")[xm],i=getComputedStyle(e).visibility;i="hidden"===i?"visible":"hidden",e.style.visibility=i,ya("visibility",e);{var _t1862=function _t1862(e){var _iterator1242=_createForOfIteratorHelper(e),_step1242;try{for(_iterator1242.s();!(_step1242=_iterator1242.n()).done;){var _s715=_step1242.value;g.includes(_s715.localName)&&(_s715.removeAttribute("visibility"),_s715.style.removeProperty("visibility"),getComputedStyle(_s715).visibility!==i&&(_s715.style.visibility=i),"g"!==_s715.localName&&"a"!==_s715.localName||_t1862(_s715.children));}}catch(err){_iterator1242.e(err);}finally{_iterator1242.f();}};_t1862(e.children);}}},{key:"Mm",value:function Mm(){this.Bw();}},{key:"zu",value:function zu(){this.Qs.setConfig("bx-objectsbrowser:developerMode",this["#developer-mode-button"].toggled),this["#filter-input"].value.trim().length>0&&(this["#filter-input"].value="",this.Rw()),this.ov(),this["#main"].focus();}},{key:"Vw",value:function(){var _Vw=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee117(t){var e,_t1863,_i1206,_s716,_n516,_o414,_l341,_e1331,_i1207,_s717,_t1864,_o415,_t1865,_e1332,_o416,_t1866,_e1333,_o417,_t1867,_e1334,_o418,_t1868,_e1335,_t1869,_t1870,_t1871,_t1872,_t1873,_t1874,_t1875,_t1876,_e1336,_i1208,_t1877,_t1878,_e1337,_e1338;return regeneratorRuntime.wrap(function _callee117$(_context118){while(1){switch(_context118.prev=_context118.next){case 0:e=t.target.closest("x-menuitem");if(!e){_context118.next=27;break;}_t1863=this.Js.board,_i1206=e.value,_s716=_t1863.geometryPrecision,_n516=_t1863.transformPrecision,_o414=null,_l341=null;_t1863.undoManager.checkpoint("Add object");_e1331=_t1863.getBoundingClientRect(),_i1207=this.getBoundingClientRect(),_s717=new DOMRect(_e1331.x,_e1331.y,_i1207.x-_e1331.x,_e1331.height);_o414=new DOMPoint(_s717.x+_s717.width/2,_s717.y+_s717.height/2);if(!("g"===_i1206)){_context118.next=10;break;}_l341=qi(_templateObject24());_context118.next=22;break;case 10:if(!("a"===_i1206)){_context118.next=14;break;}_l341=qi(_templateObject25());_context118.next=22;break;case 14:if(!("image"===_i1206)){_context118.next=21;break;}_context118.next=17;return Xa("images/cornell-box.jpg");case 17:_t1864=_context118.sent;_l341=qi(_templateObject26(),_o414.x-50,_o414.y-50,_t1864);_context118.next=22;break;case 21:if("rect"===_i1206)_l341=qi(_templateObject27(),_o414.x-50,_o414.y-50,100,100);else if("circle"===_i1206)_l341=qi(_templateObject28(),_o414.x,_o414.y);else if("ellipse"===_i1206)_l341=qi(_templateObject29(),_o414.x,_o414.y);else if("line"===_i1206)_l341=qi(_templateObject30(),_o414.x-50,_o414.y-50,_o414.x+50,_o414.y+50);else if("polyline"===_i1206){_o415=_o414,_t1865=_o415.x,_e1332=_o415.y;_l341=qi(_templateObject31(),_t1865-50,_e1332-50,_t1865+50,_e1332+50);}else if("polygon"===_i1206){_o416=_o414,_t1866=_o416.x,_e1333=_o416.y;_l341=qi(_templateObject32(),_t1866-50,_e1333-50,_t1866+50,_e1333+50);}else if("path"===_i1206){_o417=_o414,_t1867=_o417.x,_e1334=_o417.y;_l341=qi(_templateObject33(),_t1867-50,_e1334-50,_t1867+100,_e1334-50,_t1867-100,_e1334+50,_t1867+50,_e1334+50);}else if("text"===_i1206){_o418=_o414,_t1868=_o418.x,_e1335=_o418.y;_l341=qi(_templateObject34(),_t1868,_e1335);}else if("ring"===_i1206){_l341=qi(_templateObject35());_t1869={type:"ring",values:[_o414.x,_o414.y,30,30,50,50]};xl(_l341,_t1869,_s716);}else if("pie"===_i1206){_l341=qi(_templateObject36());_t1870={type:"pie",values:[_o414.x,_o414.y,0,50,90,360]};xl(_l341,_t1870,_s716);}else if("crescent"===_i1206){_l341=qi(_templateObject37());_t1871={type:"crescent",values:[_o414.x-50,_o414.y-50,.5,0]};xl(_l341,_t1871,_s716);}else if("triangle"===_i1206){_l341=qi(_templateObject38());_t1872={type:"triangle",values:[_o414.x-50,_o414.y-50,100,100,.5,0]};xl(_l341,_t1872,_s716);}else if("n-gon"===_i1206){_l341=qi(_templateObject39());_t1873={type:"n-gon",values:[_o414.x,_o414.y,50,50,5,0]};xl(_l341,_t1873,_s716);}else if("star"===_i1206){_l341=qi(_templateObject40());_t1874={type:"star",values:[_o414.x,_o414.y,50,50,.4,5]};xl(_l341,_t1874,_s716);}else if("cog"===_i1206){_l341=qi(_templateObject41());_t1875={type:"cog",values:[_o414.x,_o414.y,1/3*50,2/3*50,50,.375,8]};xl(_l341,_t1875,_s716);}else if("cross"===_i1206){_l341=qi(_templateObject42());_t1876={type:"cross",values:[_o414.x-50,_o414.y-50,100,100,20,20,.5]};xl(_l341,_t1876,_s716);}case 22:_e1336=_t1863.currentContainer||_t1863.currentWorkspace,_i1208=_toConsumableArray(_e1336.children).reverse().find(function(e){return _t1863.selectedElements.includes(e);});if(_i1208){_t1877=this.qw(_i1208);_t1877&&_t1877.hasAttribute("data-expanded")?_i1208.append(_l341):_i1208.after(_l341);}else _e1336.append(_l341);if("g"!==_l341.localName&&"a"!==_l341.localName){_t1878=jt(_l341).inverse(),_e1337=Nt(_l341).multiply(_t1878);_l341.setAttribute("transform",_e1337.toString()),mh(_l341,{geometryPrecision:_s716,transformPrecision:_n516});}_e1338=_l341.parentElement.closest("g, a");_t1863.selectedElements=[_l341],_t1863.currentContainer=_e1338===_t1863.currentWorkspace?null:_e1338;case 27:case"end":return _context118.stop();}}},_callee117,this);}));function Vw(_x144){return _Vw.apply(this,arguments);}return Vw;}()},{key:"vn",value:function vn(t){var e=eo.fromEvent(t);if(e.matches("Enter")){var _t1879=this.Xw(!0),_e1339=_t1879.find(function(t){return t.hasAttribute("data-selected");});_t1879.find(function(t){return t.hasAttribute("data-edited");})?this["#main"].focus():_e1339&&this.iv(_e1339);}else if(e.matches("Backspace")||e.matches("Delete")){this.Xw(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.stopPropagation(),t.preventDefault(),this.Qs.execCommand("delete"));}else if(e.matches("ArrowUp")){this.Xw(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.preventDefault(),t.stopPropagation(),this.Bu());}else if(e.matches("ArrowDown")){this.Xw(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.preventDefault(),t.stopPropagation(),this.Ru());}else if(e.matches("Shift","ArrowUp")){this.Xw(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.stopPropagation(),this.Bu(!0));}else if(e.matches("Shift","ArrowDown")){this.Xw(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.stopPropagation(),this.Ru(!0));}else if(e.matches("ArrowRight")){var _e1340=this.Xw(!0),_i1209=_e1340.filter(function(t){return t.hasAttribute("data-selected");});_e1340.find(function(t){return t.hasAttribute("data-edited");})||1!==_i1209.length||!0!==_i1209[0].hasAttribute("data-expandable")||!1!==_i1209[0].hasAttribute("data-expanded")||(t.preventDefault(),t.stopPropagation(),this.nv(_i1209[0]));}else if(e.matches("ArrowLeft")){var _e1341=this.Xw(!0),_i1210=_e1341.filter(function(t){return t.hasAttribute("data-selected");});_e1341.find(function(t){return t.hasAttribute("data-edited");})||1!==_i1210.length||!0!==_i1210[0].hasAttribute("data-expandable")||!0!==_i1210[0].hasAttribute("data-expanded")||(t.preventDefault(),t.stopPropagation(),this.sv(_i1210[0]));}}},{key:"iv",value:function iv(t){var _this762=this;{var _e1342=this["#items"].querySelector(".item[data-edited]");if(_e1342){if(_e1342===t)return;this.lv();}}var e=t.querySelector(".label"),i=t[xm],s=i.querySelector(":scope > bx-title"),n=this["#developer-mode-button"].toggled?"Object ID":"Object title",o="";!0===this["#developer-mode-button"].toggled&&i.id?o="#"+i.id:!1===this["#developer-mode-button"].toggled&&s&&(o=s.textContent);var l=Yi(_templateObject43(),o,n);e.after(l),l.selectAll(),e.hidden=!0,t.setAttribute("data-edited",""),l.addEventListener("input",function(){null!==l.error?t.setAttribute("data-invalid",""):t.removeAttribute("data-invalid");}),l.addEventListener("focusout",function(){t.removeAttribute("data-invalid"),_this762.lv();}),l.validate=function(){var t=null;if(_this762["#developer-mode-button"].toggled){var _e1343=l.value.trim();if(_e1343.startsWith("#")&&(_e1343=_e1343.substring(1)),_e1343.length>0)if(Vi(_e1343)){!1===(null===_this762.Js.board.workspaces.querySelector("#"+CSS.escape(_e1343)))&&(t="Non-unique ID");}else t="Invalid ID";}l.error=t;};}},{key:"lv",value:function lv(){var t=this["#items"].querySelector(".item[data-edited]");if(t){var _e1344=t.querySelector(".label"),_i1211=t.querySelector("x-input"),_s718=t[xm];if(_i1211.remove(),_e1344.hidden=!1,t.removeAttribute("data-edited"),null===_i1211.error)if(this["#developer-mode-button"].toggled){var _t1880=_i1211.value.trim().toLowerCase();"#"===_t1880?_t1880="":_t1880.startsWith("#")&&(_t1880=_t1880.substring(1)),_s718.getAttribute("id")!==_t1880&&(this.Js.board.undoManager.checkpoint("Object ID"),""===_t1880?_s718.removeAttribute("id"):_s718.setAttribute("id",_t1880));}else{var _t1881=_s718.querySelector(":scope > bx-title"),_e1345=_i1211.value.trim();if(_t1881){_t1881.textContent!==_e1345&&(this.Js.board.undoManager.checkpoint("Object title"),""===_e1345?_t1881.remove():_t1881.textContent=_e1345);}else""!==_e1345&&(this.Js.board.undoManager.checkpoint("Object title"),_t1881=zi("svg:bx-title"),_t1881.textContent=_e1345,_s718.prepend(_t1881));}}}},{key:"nv",value:function nv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;if(t.hasAttribute("data-expanded"))return;var i=parseInt(t.getAttribute("data-depth")),s=t.querySelector(".children"),n=t[xm],o=this.Js.board.outermostSelectedElements,l=this["#filter-input"].value.trim().toLowerCase();if(0===s.childElementCount){var _iterator1243=_createForOfIteratorHelper(n.children),_step1243;try{for(_iterator1243.s();!(_step1243=_iterator1243.n()).done;){var _t1882=_step1243.value;if(g.includes(_t1882.localName)){var _e1346=this.hv(_t1882,i+1);o.includes(_t1882)&&_e1346.setAttribute("data-selected",""),!1===this.av(_t1882,l)&&(_e1346.hidden=!0),s.append(_e1346);}}}catch(err){_iterator1243.e(err);}finally{_iterator1243.f();}}if(t.setAttribute("data-expanded",""),e){var _t1883=getComputedStyle(s).marginTop,_e1347="0px";"0px"===_t1883&&(_t1883="-"+getComputedStyle(s).height),s.animate({marginTop:[_t1883,_e1347]},{duration:250,easing:"ease"});}}},{key:"sv",value:function(){var _sv=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee118(t){var e,i,s,n,_t1884,_args119=arguments;return regeneratorRuntime.wrap(function _callee118$(_context119){while(1){switch(_context119.prev=_context119.next){case 0:e=_args119.length>1&&_args119[1]!==undefined?_args119[1]:!0;i=t.querySelector(".children"),s=getComputedStyle(i).marginTop,n="-"+getComputedStyle(i).height;if(!(t.removeAttribute("data-expanded"),e)){_context119.next=6;break;}_t1884=i.animate({marginTop:[s,n]},{duration:250,easing:"ease"});_context119.next=6;return _t1884.finished;case 6:!1===t.hasAttribute("data-expanded")&&(i.innerHTML="");case 7:case"end":return _context119.stop();}}},_callee118);}));function sv(_x145){return _sv.apply(this,arguments);}return sv;}()},{key:"rv",value:function rv(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var _iterator1244=_createForOfIteratorHelper(this["#items"].children),_step1244;try{for(_iterator1244.s();!(_step1244=_iterator1244.n()).done;){var _e1348=_step1244.value;this.sv(_e1348,t);}}catch(err){_iterator1244.e(err);}finally{_iterator1244.f();}}},{key:"hv",value:function hv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;Gi(t);var i=Fi(t),s=Yi(_templateObject44(),e,24*e,i);return s[xm]=t,"g"!==t.localName&&"a"!==t.localName||s.setAttribute("data-expandable",""),this.dv(s),this.cv(s),s;}},{key:"qw",value:function qw(t){var e=this.Xw();var _iterator1245=_createForOfIteratorHelper(e),_step1245;try{for(_iterator1245.s();!(_step1245=_iterator1245.n()).done;){var _i1212=_step1245.value;if(_i1212[xm]===t)return _i1212;}}catch(err){_iterator1245.e(err);}finally{_iterator1245.f();}return null;}},{key:"Bu",value:function Bu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.Js.board,i=this.Xw(!0),s=i.filter(function(t){return t.hasAttribute("data-selected");});if(s.length>0){var _n517=s[0],_o419=i.indexOf(_n517);if(i[_o419-1]){var _s719=i[_o419-1][xm],_n518=_s719.parentElement.closest("g, a");t?e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_s719]):(e.selectedElements=[_s719],e.currentContainer=_n518===e.currentWorkspace?null:_n518);}}}},{key:"Ru",value:function Ru(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.Js.board,i=this.Xw(!0),s=i.filter(function(t){return t.hasAttribute("data-selected");});if(s.length>0){var _n519=s[s.length-1],_o420=i.indexOf(_n519);if(i[_o420+1]){var _s720=i[_o420+1][xm],_n520=_s720.parentElement.closest("g, a");t?e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_s720]):(e.selectedElements=[_s720],e.currentContainer=_n520===e.currentWorkspace?null:_n520);}}}},{key:"Kw",value:function Kw(t,e,i){var _iterator1246=_createForOfIteratorHelper(t),_step1246;try{for(_iterator1246.s();!(_step1246=_iterator1246.n()).done;){var _i1213=_step1246.value;if(_i1213.contains(e))return!1;}}catch(err){_iterator1246.e(err);}finally{_iterator1246.f();}if(1===t.length){var _s721=this.Xw(!0),_n521=t[0],_o421=_s721.indexOf(e);if("start"===i){var _t1885=_s721[_o421-1];if(_t1885===_n521&&_t1885.getAttribute("data-depth")===_n521.getAttribute("data-depth"))return!1;}else if("end"===i){if(_s721[_o421+1]===_n521&&e.getAttribute("data-depth")===_n521.getAttribute("data-depth"))return!1;}}return!0;}},{key:"Xw",value:function Xw(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=[],i=function i(s){var _iterator1247=_createForOfIteratorHelper(s),_step1247;try{for(_iterator1247.s();!(_step1247=_iterator1247.n()).done;){var _n522=_step1247.value;t&&_n522.hasAttribute("hidden")||(e.push(_n522),_n522.hasAttribute("data-expanded")&&i(_n522.querySelector(".children").children));}}catch(err){_iterator1247.e(err);}finally{_iterator1247.f();}};return i(this["#items"].children),e;}},{key:"qs",value:function qs(){var t=this.Js.board,e=document.createDocumentFragment();var _iterator1248=_createForOfIteratorHelper(t.currentWorkspace.children),_step1248;try{for(_iterator1248.s();!(_step1248=_iterator1248.n()).done;){var _i1214=_step1248.value;if(g.includes(_i1214.localName)){var _t1886=this.hv(_i1214,0);e.append(_t1886);}}}catch(err){_iterator1248.e(err);}finally{_iterator1248.f();}this["#items"].innerHTML="",this["#items"].append(e),this.Yw();}},{key:"cv",value:function cv(t){if(!1===this["#developer-mode-button"].toggled){var _e1349=t.querySelector(".label"),_i1215=t[xm],_s722=_i1215.querySelector(":scope > bx-title");_s722?(_e1349.textContent=_s722.textContent,_e1349.setAttribute("data-custom","")):(_e1349.textContent=Gi(_i1215),_e1349.removeAttribute("data-custom"));}else{var _e1350=t[xm],_i1216=t.querySelector(".label");_e1350.id?(_i1216.textContent="#"+_e1350.id,_i1216.setAttribute("data-custom","")):(_i1216.textContent=Gi(_e1350,"developer"),_i1216.removeAttribute("data-custom"));}}},{key:"dv",value:function dv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=t[xm],_getComputedStyle6=getComputedStyle(i),s=_getComputedStyle6.visibility,n=_getComputedStyle6.pointerEvents;if("none"===n?t.setAttribute("data-locked",""):t.removeAttribute("data-locked"),"hidden"===s?t.setAttribute("data-hidden",""):t.removeAttribute("data-hidden"),e){var _iterator1249=_createForOfIteratorHelper(t.querySelector(".children").children),_step1249;try{for(_iterator1249.s();!(_step1249=_iterator1249.n()).done;){var _e1351=_step1249.value;this.dv(_e1351,!0);}}catch(err){_iterator1249.e(err);}finally{_iterator1249.f();}}}},{key:"Yw",value:function Yw(){var t=this.Js.board.selectedElements,e=this.Js.board.currentWorkspace;var _iterator1250=_createForOfIteratorHelper(t),_step1250;try{for(_iterator1250.s();!(_step1250=_iterator1250.n()).done;){var _i1217=_step1250.value;var _t1887=[];for(var _s723=_i1217.parentElement;_s723!==e;_s723=_s723.parentElement){_t1887.push(_s723);}_t1887.reverse();for(var _i1218=0,_t1888=_t1887;_i1218<_t1888.length;_i1218++){var _e1352=_t1888[_i1218];var _t1889=this.qw(_e1352);_t1889&&this.nv(_t1889,!1);}}}catch(err){_iterator1250.e(err);}finally{_iterator1250.f();}var _iterator1251=_createForOfIteratorHelper(this.Xw()),_step1251;try{for(_iterator1251.s();!(_step1251=_iterator1251.n()).done;){var _e1353=_step1251.value;t.includes(_e1353[xm])?(_e1353.setAttribute("data-selected",""),$i(_e1353)):_e1353.removeAttribute("data-selected");}}catch(err){_iterator1251.e(err);}finally{_iterator1251.f();}}},{key:"Rw",value:function Rw(){var _this763=this;var t=this["#filter-input"].value.trim().toLowerCase();if(0===t.length){this.rv(!1);var _iterator1252=_createForOfIteratorHelper(this["#items"].querySelectorAll(".item[hidden]")),_step1252;try{for(_iterator1252.s();!(_step1252=_iterator1252.n()).done;){var _t1890=_step1252.value;_t1890.hidden=!1;}}catch(err){_iterator1252.e(err);}finally{_iterator1252.f();}}else{var _e1354=function _e1354(i){var s=!0;var _iterator1253=_createForOfIteratorHelper(i),_step1253;try{for(_iterator1253.s();!(_step1253=_iterator1253.n()).done;){var _n523=_step1253.value;if(_this763.av(_n523[xm],t)){if(_n523.hidden=!1,s=!1,_n523.hasAttribute("data-expandable")){_this763.nv(_n523,!1),_e1354(_n523.querySelector(".children").children)&&_this763.sv(_n523,!1);}}else _n523.hidden=!0;}}catch(err){_iterator1253.e(err);}finally{_iterator1253.f();}return s;};_e1354(this["#items"].children);}}},{key:"ov",value:function ov(){var _iterator1254=_createForOfIteratorHelper(this.Xw()),_step1254;try{for(_iterator1254.s();!(_step1254=_iterator1254.n()).done;){var _t1891=_step1254.value;this.cv(_t1891);}}catch(err){_iterator1254.e(err);}finally{_iterator1254.f();}}},{key:"Ww",value:function Ww(t){var _this764=this;if("attributes"===t.type&&"style"===t.attributeName){var _e1355=t.target,_i1219=this.Xw().find(function(t){return t[xm]===_e1355;});_i1219&&this.dv(_i1219,!0);}if(this["#developer-mode-button"].toggled){if("attributes"===t.type&&"id"===t.attributeName){var _e1356=this.Xw(),_i1220=t.target;var _iterator1255=_createForOfIteratorHelper(_e1356),_step1255;try{for(_iterator1255.s();!(_step1255=_iterator1255.n()).done;){var _t1892=_step1255.value;if(_t1892[xm]===_i1220){this.cv(_t1892);break;}}}catch(err){_iterator1255.e(err);}finally{_iterator1255.f();}}}else if("childList"===t.type)if("bx-title"===t.target.localName){var _e1357=this.Xw(),_i1221=t.target.parentElement;var _iterator1256=_createForOfIteratorHelper(_e1357),_step1256;try{for(_iterator1256.s();!(_step1256=_iterator1256.n()).done;){var _t1893=_step1256.value;if(_t1893[xm]===_i1221){this.cv(_t1893);break;}}}catch(err){_iterator1256.e(err);}finally{_iterator1256.f();}}else{var _e1358=this.Xw();for(var _i1222=0,_arr46=[].concat(_toConsumableArray(t.removedNodes),_toConsumableArray(t.addedNodes));_i1222<_arr46.length;_i1222++){var _i1223=_arr46[_i1222];if("bx-title"===_i1223.localName){(function(){var i=t.target,s=_e1358.find(function(t){return t[xm]===i;});s&&_this764.cv(s);})();}}}if("childList"===t.type){if(t.removedNodes.length>0){var _e1359=this.Xw();var _iterator1257=_createForOfIteratorHelper(_e1359),_step1257;try{for(_iterator1257.s();!(_step1257=_iterator1257.n()).done;){var _i1224=_step1257.value;_toConsumableArray(t.removedNodes).includes(_i1224[xm])&&_i1224.remove();}}catch(err){_iterator1257.e(err);}finally{_iterator1257.f();}}if(t.addedNodes.length>0){var _e1360=this.Xw(),_i1225=null;var _iterator1258=_createForOfIteratorHelper(_e1360),_step1258;try{for(_iterator1258.s();!(_step1258=_iterator1258.n()).done;){var _s725=_step1258.value;if(_s725[xm]===t.target){_i1225=_s725;break;}}}catch(err){_iterator1258.e(err);}finally{_iterator1258.f();}if(_i1225&&_i1225.hasAttribute("data-expanded")||t.target===this.Js.board.currentWorkspace){var _s724=null,_n524=null;if(t.previousSibling){var _loop24=function _loop24(_i1226){if(_i1226.localName&&g.includes(_i1226.localName)){var _t1894=_e1360.find(function(t){return t[xm]===_i1226;});if(_t1894){_s724=_t1894;return"break";}}};for(var _i1226=t.previousSibling;_i1226;_i1226=_i1226.previousElementSibling){var _ret=_loop24(_i1226);if(_ret==="break")break;}}if(null===_s724&&t.nextSibling){var _loop25=function _loop25(_i1227){if(_i1227.localName&&g.includes(_i1227.localName)){var _t1895=_e1360.find(function(t){return t[xm]===_i1227;});if(_t1895){_n524=_t1895;return"break";}}};for(var _i1227=t.nextSibling;_i1227;_i1227=_i1227.nextElementSibling){var _ret2=_loop25(_i1227);if(_ret2==="break")break;}}var _o422=_i1225?parseInt(_i1225.getAttribute("data-depth"))+1:0,_l342=document.createDocumentFragment();var _iterator1259=_createForOfIteratorHelper(t.addedNodes),_step1259;try{var _loop26=function _loop26(){var e=_step1259.value;if(e.localName&&g.includes(e.localName)){if(_toConsumableArray((_i1225||_this764["#items"]).children).find(function(t){return t[xm]===e;}));else{var _t1896=_this764.hv(e,_o422);_this764.Js.board.selectedElements.includes(e)&&_t1896.setAttribute("data-selected",""),_l342.append(_t1896);}}};for(_iterator1259.s();!(_step1259=_iterator1259.n()).done;){_loop26();}}catch(err){_iterator1259.e(err);}finally{_iterator1259.f();}_s724?_s724.after(_l342):_n524?_n524.before(_l342):_i1225?_i1225.querySelector(".children").append(_l342):this["#items"].append(_l342);}}}}},{key:"jw",value:function(){var _jw=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee119(){var _t1897,_e1361,_i1228,_s726,_n525,_iterator1260,_step1260,_t1898;return regeneratorRuntime.wrap(function _callee119$(_context120){while(1){switch(_context120.prev=_context120.next){case 0:if(!(!1===this.Iw)){_context120.next=14;break;}this.Iw=!0;_context120.next=4;return fetch($s.iconset);case 4:_t1897=_context120.sent;_context120.next=7;return _t1897.text();case 7:_e1361=_context120.sent;_i1228=qi(_templateObject45(),_e1361);_s726=document.createDocumentFragment();_n525=["arrow","lock-on","visibility-hidden"];_iterator1260=_createForOfIteratorHelper(_i1228.querySelectorAll("symbol"));try{for(_iterator1260.s();!(_step1260=_iterator1260.n()).done;){_t1898=_step1260.value;_t1898.id&&(_t1898.id.startsWith("object-")||_n525.includes(_t1898.id))&&_s726.append(_t1898);}}catch(err){_iterator1260.e(err);}finally{_iterator1260.f();}_i1228.style.display="none",_i1228.innerHTML="",_i1228.append(_s726),this._shadowRoot.append(_i1228);case 14:case"end":return _context120.stop();}}},_callee119,this);}));function jw(){return _jw.apply(this,arguments);}return jw;}()},{key:"av",value:function av(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;var n=!1;if(""!==e){if(this["#developer-mode-button"].toggled){if(t.id)-1!==("#"+t.id.toLowerCase()).indexOf(e)&&(n=!0);else{-1!==Gi(t,"developer").toLowerCase().indexOf(e)&&(n=!0);}}else{var _i1229=t.querySelector(":scope > bx-title"),_s727="";_s727=_i1229&&_i1229.textContent.trim().length>0?_i1229.textContent.trim():Gi(t,"designer"),-1!==_s727.toLowerCase().indexOf(e)&&(n=!0);}if(!1===n&&!0===s&&("g"===t.localName||"a"===t.localName)){var _iterator1261=_createForOfIteratorHelper(t.children),_step1261;try{for(_iterator1261.s();!(_step1261=_iterator1261.n()).done;){var _i1230=_step1261.value;if(g.includes(_i1230.localName)&&this.av(_i1230,e)){n=!0;break;}}}catch(err){_iterator1261.e(err);}finally{_iterator1261.f();}}return!1===n&&!0===i&&("g"!==t.parentElement.localName&&"a"!==t.parentElement.localName||t.parentElement!==this.Js.board.currentWorkspace&&this.av(t.parentElement,e,!1,!1)&&(n=!0)),n;}n=!0;}}]);return bm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(bm,"observedAttributes",["enabled"]);_defineProperty(bm,"_shadowTemplate",Yi(_templateObject379()));_defineProperty(bm,"_shadowStyleSheet",Wi(_templateObject380()));customElements.define("bx-objectsbrowser",bm);var mm=/*#__PURE__*/function(_HTMLElement107){_inherits(mm,_HTMLElement107);var _super161=_createSuper(mm);_createClass(mm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function mm(){var _this765;_classCallCheck(this,mm);_this765=_super161.call(this),_this765._shadowRoot=_this765.attachShadow({mode:"closed"}),_this765._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,mm._shadowStyleSheet],_this765._shadowRoot.append(document.importNode(mm._shadowTemplate.content,!0));var _iterator1262=_createForOfIteratorHelper(_this765._shadowRoot.querySelectorAll("[id]")),_step1262;try{for(_iterator1262.s();!(_step1262=_iterator1262.n()).done;){var _t1899=_step1262.value;_this765["#"+_t1899.id]=_t1899;}}catch(err){_iterator1262.e(err);}finally{_iterator1262.f();}return _this765;}_createClass(mm,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){this["#objects-browser"].enabled=!0;}},{key:"sn",value:function sn(){this["#objects-browser"].enabled=!1;}}]);return mm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(mm,"observedAttributes",["enabled"]);_defineProperty(mm,"_shadowTemplate",Yi(_templateObject381()));_defineProperty(mm,"_shadowStyleSheet",Wi(_templateObject382()));customElements.define("bx-objectspanel",mm);var gm=Symbol(),fm=Symbol();var wm=/*#__PURE__*/function(_HTMLElement108){_inherits(wm,_HTMLElement108);var _super162=_createSuper(wm);_createClass(wm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function wm(){var _temp43,_this766;_classCallCheck(this,wm);(_temp43=_this766=_super162.call(this),_defineProperty(_assertThisInitialized(_this766),"ommands",{selectAll:{enabled:function enabled(){return _this766.pv();},exec:function exec(){return _this766.uv();}},deselectAll:{enabled:function enabled(){return _this766.xv();},exec:function exec(){return _this766.bv();}}}),_temp43),_this766.mv=Zi(_this766.qs,500,_assertThisInitialized(_this766)),_this766.gv=0,_this766._shadowRoot=_this766.attachShadow({mode:"closed"}),_this766._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,wm._shadowStyleSheet],_this766._shadowRoot.append(document.importNode(wm._shadowTemplate.content,!0));var _iterator1263=_createForOfIteratorHelper(_this766._shadowRoot.querySelectorAll("[id]")),_step1263;try{for(_iterator1263.s();!(_step1263=_iterator1263.n()).done;){var _t1900=_step1263.value;_this766["#"+_t1900.id]=_t1900;}}catch(err){_iterator1263.e(err);}finally{_iterator1263.f();}_this766.addEventListener("keydown",function(t){return _this766.vn(t);}),_this766["#items"].addEventListener("scroll",function(){return _this766.fv();}),_this766["#items"].addEventListener("contextmenu",function(t){return _this766.tp(t);}),_this766["#items"].addEventListener("pointerdown",function(t){return _this766.Qc(t);}),_this766["#items"].addEventListener("click",function(t){return _this766.Jc(t);}),_this766["#search-input"].addEventListener("input",function(){return _this766.wv();}),_this766["#developer-mode-button"].addEventListener("toggle",function(){return _this766.zu();}),_this766["#add-menu"].addEventListener("click",function(t){return _this766.Vw(t);}),_this766["#add-menu"].addEventListener("open",function(){return _this766.vv();}),_this766["#color-picker"].addEventListener("changestart",function(t){return _this766.Dx(t);});return _this766;}_createClass(wm,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this["#items"].scrollTop=this.gv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"selectColors",value:function selectColors(t){var e=_toConsumableArray(this["#items"].children).filter(function(e){return t.includes(e[gm].id);});this.yv(e,!0);}},{key:"tn",value:function tn(){var _this767=this;window.addEventListener("resize",this.nn=function(){_this767.kv();}),this.Qs.addEventListener("configchange",this.ln=function(t){_this767.hn(t);}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this767.sl(t);}),this.Js.board.addEventListener("artworkchange",this.mr=function(t){_this767.Sv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.gv,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-colorsbrowser:developerMode",!1),this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",jp),this.qs();}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("artworkchange",this.mr),this.Cv(),this["#items"].remove();}},{key:"hn",value:function hn(t){var _t$detail10=t.detail,e=_t$detail10.key,i=_t$detail10.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",jp),this.Mv());}},{key:"kv",value:function kv(){this.Cv();}},{key:"sl",value:function sl(t){var e=t.detail,i="debounced",s=!1;var _iterator1264=_createForOfIteratorHelper(e),_step1264;try{for(_iterator1264.s();!(_step1264=_iterator1264.n()).done;){var _t1901=_step1264.value;var _e1362=_t1901.target.nodeName,_n526=_t1901.addedNodes[0]?_t1901.addedNodes[0].nodeName:null,_o423=_t1901.removedNodes[0]?_t1901.removedNodes[0].nodeName:null,_l343=_t1901.attributeName;if("linearGradient"===_e1362||"radialGradient"===_e1362){if("bx-title"===_n526||"bx-title"===_o423){i="now";break;}if("id"===_l343){i="now",s=!0;break;}if("data-bx-pinned"===_l343){i="now";break;}}else if("bx-title"===_e1362){if(_n526||_o423){i="now";break;}}else if("linearGradient"===_n526||"radialGradient"===_n526||"linearGradient"===_o423||"radialGradient"===_o423){i="now",s=!0;break;}}}catch(err){_iterator1264.e(err);}finally{_iterator1264.f();}!0===s&&this.Cv(),"now"===i?this.qs():"debounced"===i&&this.mv();}},{key:"Sv",value:function Sv(){this.Cv(),this.qs();}},{key:"fv",value:function fv(){this.gv=this["#items"].scrollTop,this.Cv();}},{key:"tp",value:function(){var _tp2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee120(t){var e,_i1231,_s728,_n527;return regeneratorRuntime.wrap(function _callee120$(_context121){while(1){switch(_context121.prev=_context121.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context121.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.yv([e]);_i1231=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[gm];});_s728=e[gm];_context121.next=7;return this.Qs.openContextMenu([{label:"Edit Color",value:"edit",disabled:1!==_i1231.length},{label:"Edit Color ID",value:"edit-id",disabled:1!==_i1231.length},{label:"Edit Color Title",value:"edit-title",disabled:1!==_i1231.length},{type:"separator"},{label:"Duplicate Color"+(_i1231.length>1?"s":""),value:"duplicate",disabled:0===_i1231.length},{label:"Delete Color"+(_i1231.length>1?"s":""),value:"delete",disabled:0===_i1231.length},{type:"separator"},{label:"Pin Color"+(_i1231.length>1?"s":""),value:"pin",disabled:void 0===_i1231.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Color"+(_i1231.length>1?"s":""),value:"unpin",disabled:void 0===_i1231.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Color Users",value:"select-users",disabled:1!==_i1231.length}]);case 7:_n527=_context121.sent;"edit"===_n527?this.editColor(_s728.id):"edit-id"===_n527?this.Pv(_s728.id,"id"):"edit-title"===_n527?this.Pv(_s728.id,"title"):"duplicate"===_n527?this.Dv():"delete"===_n527?this.zv():"pin"===_n527?this.Ov():"unpin"===_n527?this.Ev():"select-users"===_n527&&this.Tv(_s728.id);case 9:case"end":return _context121.stop();}}},_callee120,this);}));function tp(_x146){return _tp2.apply(this,arguments);}return tp;}()},{key:"Jc",value:function Jc(t){t.target.closest(".item")&&this.ev(t);}},{key:"ev",value:function ev(t){var _this$Qs$modKeys13=this.Qs.modKeys,e=_this$Qs$modKeys13.ctrl,i=_this$Qs$modKeys13.shift;if(!1===e&&!1===i){var _e1363=t.target.closest(".item"),_i1232=t.target.closest(".thumbnail"),_s729=t.target.closest(".counter-button"),_n528=t.target.closest(".pin-button"),_o424=_e1363[gm].id;_s729?this.Tv(_o424):_n528?_n528.toggled?this.Av(_o424):this.$v(_o424):_i1232?t.detail%2==0&&this.editColor(_o424):t.detail%2==0&&this.Pv(_o424);}}},{key:"Qc",value:function Qc(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1364=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1364&&this.yv([]);}else t.target.closest(".item")&&this.Dm(t);}},{key:"Dm",value:function Dm(t){var _this768=this;var _this$Qs$modKeys14=this.Qs.modKeys,e=_this$Qs$modKeys14.ctrl,i=_this$Qs$modKeys14.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(this.Cv(),!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[fm]=Date.now());else if(!0===i){var _t1902=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1365=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1365.length>0){var _i1233=_t1902.indexOf(s),_n529=_e1365.sort(function(t,e){return e[fm]-t[fm];})[0],_o425=_t1902.indexOf(_n529),_l344=[];if(_i1233>_o425?_l344=_toConsumableArray(_t1902).slice(_o425,_i1233+1):_i1233<_o425&&(_l344=_toConsumableArray(_t1902).slice(_i1233,_o425+1).reverse()),_l344=_l344.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l344.length>0){var _iterator1265=_createForOfIteratorHelper(_l344),_step1265;try{for(_iterator1265.s();!(_step1265=_iterator1265.n()).done;){var _t1903=_step1265.value;_t1903.setAttribute("data-selected",""),_t1903[fm]=Date.now();}}catch(err){_iterator1265.e(err);}finally{_iterator1265.f();}}}}else{var _t1906,_e1367,_i1234=!1;window.addEventListener("pointermove",_t1906=function _t1904(o){var l=new DOMPoint(o.clientX,o.clientY);if(De(n,l)>=3){if(window.removeEventListener("pointermove",_t1906),window.removeEventListener("pointerup",_e1367),!1===s.hasAttribute("data-selected")){var _iterator1266=_createForOfIteratorHelper(_this768["#items"].children),_step1266;try{for(_iterator1266.s();!(_step1266=_iterator1266.n()).done;){var _t1905=_step1266.value;_t1905===s?(_t1905.setAttribute("data-selected",""),_t1905[fm]=Date.now()):_t1905.removeAttribute("data-selected");}}catch(err){_iterator1266.e(err);}finally{_iterator1266.f();}}_this768.Zw(o),_i1234=!0;}}),window.addEventListener("pointerup",_e1367=function _e1366(){if(window.removeEventListener("pointermove",_t1906),window.removeEventListener("pointerup",_e1367),!1===_i1234){var _iterator1267=_createForOfIteratorHelper(_this768["#items"].children),_step1267;try{for(_iterator1267.s();!(_step1267=_iterator1267.n()).done;){var _t1907=_step1267.value;_t1907===s?(_t1907.setAttribute("data-selected",""),_t1907[fm]=Date.now()):_t1907.removeAttribute("data-selected");}}catch(err){_iterator1267.e(err);}finally{_iterator1267.f();}}});}}},{key:"Zw",value:function Zw(t){var _this769=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,h="start",a=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===a&&(a=setInterval(function(){return _this769["#items"].scrollTop+=r;},10));},c=function c(){null!==a&&(clearInterval(a),a=null);},p=function p(){var t=_this769.Qs.pointerClientPoint,e=_this769._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this769._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1368=l.getBoundingClientRect();if(h=t.y<_e1368.y+_e1368.height/2?"start":"end",_this769.Kw(n,l,h)){var _t1908=l.offsetTop-_this769["#items"].scrollTop;"end"===h&&(_t1908+=_e1368.height),_this769["#drop-indicator"].hidden=!1,_this769["#drop-indicator"].style.top=_t1908-1+"px";}else l=null,_this769["#drop-indicator"].hidden=!0;}else _this769["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s731){function s(_x147){return _s731.apply(this,arguments);}s.toString=function(){return _s731.toString();};return s;}(function(t){if(_this769["#items"].removeEventListener("pointermove",e),_this769["#items"].removeEventListener("scroll",i),_this769["#items"].removeEventListener("lostpointercapture",s),_this769["#items"].style.cursor=null,_this769["#drop-indicator"].hidden=!0,c(),_this769.Js.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1369=n[0][gm],_i1235=_this769.Js.board.getWorkspaceElementFromPoint(t.clientX,t.clientY),_s730=_this769.Qs.modKeys.shift;_i1235&&w.includes(_i1235.localName)&&(_s730?(_this769.Js.board.undoManager.checkpoint("Apply gradient stroke"),_i1235.style.stroke="url(#".concat(_e1369.id,")")):(_this769.Js.board.undoManager.checkpoint("Apply gradient fill"),_i1235.style.fill="url(#".concat(_e1369.id,")")),_this769.Iv());}}else if(l){_this769.Js.board.undoManager.checkpoint("Rearrange gradients");var _t1909=document.createDocumentFragment(),_e1370=l[gm];var _iterator1268=_createForOfIteratorHelper(n),_step1268;try{for(_iterator1268.s();!(_step1268=_iterator1268.n()).done;){var _i1236=_step1268.value;_i1236[gm]!==_e1370&&_t1909.append(_i1236[gm]);}}catch(err){_iterator1268.e(err);}finally{_iterator1268.f();}"start"===h?_e1370.before(_t1909):_e1370.after(_t1909);}}));}},{key:"vn",value:function vn(t){if(this["#search-input"].matches(":focus")||this["#color-picker-popover"].opened)return;var e=eo.fromEvent(t);if(e.matches("Enter")){var _t1910=this["#items"].querySelector(".item[data-label-edited]"),_e1371=this["#items"].querySelector(".item[data-selected]");_t1910?this.focus():_e1371&&this.Pv(_e1371[gm].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.zv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu()||this.Lv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru()||this.Bv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru(!0));}}},{key:"zu",value:function zu(){this.Qs.setConfig("bx-colorsbrowser:developerMode",this["#developer-mode-button"].toggled),this.ov(),this.focus();}},{key:"Vw",value:function Vw(t){var e=t.target.closest("x-menuitem");e&&("add-color"===e.value?this.Rv():"add-color-from-fill"===e.value?this.Gv("fill"):"add-color-from-stroke"===e.value?this.Gv("stroke"):"add-color-from-library"===e.value&&(this.Js.togglePrimaryPanel("library-panel"),this.Js.libraryPanel.toggleBrowser("colors-library-browser")));}},{key:"vv",value:function vv(){var t=this.Hx(),e=!1,i=!1;if(t.length>0){var _iterator1269=_createForOfIteratorHelper(t),_step1269;try{for(_iterator1269.s();!(_step1269=_iterator1269.n()).done;){var _i1237=_step1269.value;var _t1911=getComputedStyle(_i1237);if(wo(_t1911.fill)){e=!0;break;}{var _i1238=no.fromString(_t1911.fill);if(_i1238&&"#"===_i1238.value[0]){var _t1912=this.Js.board.masterWorkspace.querySelector(_i1238.value);if(_t1912&&_o(_t1912)){e=!0;break;}}}}}catch(err){_iterator1269.e(err);}finally{_iterator1269.f();}var _iterator1270=_createForOfIteratorHelper(t),_step1270;try{for(_iterator1270.s();!(_step1270=_iterator1270.n()).done;){var _e1372=_step1270.value;var _t1913=getComputedStyle(_e1372);if(wo(_t1913.stroke)){i=!0;break;}{var _e1373=no.fromString(_t1913.stroke);if(_e1373&&"#"===_e1373.value[0]){var _t1914=this.Js.board.masterWorkspace.querySelector(_e1373.value);if(_t1914&&_o(_t1914)){i=!0;break;}}}}}catch(err){_iterator1270.e(err);}finally{_iterator1270.f();}}this["#add-color-from-fill-menu-item"].disabled=!1===e,this["#add-color-from-stroke-menu-item"].disabled=!1===i;}},{key:"wv",value:function wv(){this.Fv(),this.Lu();}},{key:"Dx",value:function Dx(t){var _this770=this;var e,_i1239,s=this["#items"].querySelector(".item[data-selected]"),n=s.querySelector(".thumbnail-inner"),o=s[gm];this.Js.board.undoManager.checkpoint("Change color"),this["#color-picker"].addEventListener("change",e=function e(){$o(o,_this770["#color-picker"].value),n.style.background=_this770["#color-picker"].value;}),this["#color-picker"].addEventListener("changeend",_i1239=function i(){_this770["#color-picker"].removeEventListener("change",e),_this770["#color-picker"].removeEventListener("changeend",_i1239);});}},{key:"editColor",value:function(){var _editColor=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee121(t){var e,_t1915,_i1240;return regeneratorRuntime.wrap(function _callee121$(_context122){while(1){switch(_context122.prev=_context122.next){case 0:e=_toConsumableArray(this["#items"].children).find(function(e){return e[gm].id===t;});if(!e){_context122.next=8;break;}this.yv([e]);_t1915=e.getBoundingClientRect(),_i1240=new DOMPoint(_t1915.left,_t1915.top+_t1915.height/2);_context122.next=6;return Qi(10);case 6:this["#color-picker-popover"].open(_i1240);this["#color-picker"].value=Ao(e[gm]);case 8:case"end":return _context122.stop();}}},_callee121,this);}));function editColor(_x148){return _editColor.apply(this,arguments);}return editColor;}()},{key:"Cv",value:function Cv(){this["#color-picker-popover"].opened&&this["#color-picker-popover"].close();}},{key:"Pv",value:function Pv(t){var _this771=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[gm].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t1916=this["#items"].querySelector(".item[data-label-edited]");if(_t1916){if(_t1916===i)return;this.Uv();}}this.yv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[gm],l=this["#developer-mode-button"].toggled?"Color ID":"Color title",h=o.querySelector(":scope > bx-title"),a="";!0===this["#developer-mode-button"].toggled&&o.id?a="#"+o.id:!1===this["#developer-mode-button"].toggled&&h&&(a=h.textContent);var r=Yi(_templateObject46(),a,l);n.after(r),r.selectAll(),Qi(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this771.Uv();}),r.validate=function(){var t=null;if(_this771["#developer-mode-button"].toggled){var _e1374=r.value.trim();if(_e1374.startsWith("#")&&(_e1374=_e1374.substring(1)),0===_e1374.length)t="Color must have ID";else if(Vi(_e1374)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1374)))&&o.id!==_e1374&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"Uv",value:function Uv(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1375=this.Js.board,_i1241=t.querySelector(".label"),_s732=t.querySelector("x-input"),_n530=t[gm];if(_s732.remove(),_i1241.hidden=!1,t.removeAttribute("data-label-edited"),null===_s732.error)if(this["#developer-mode-button"].toggled){var _t1917=_n530.getAttribute("id").trim(),_i1242=_s732.value.trim().toLowerCase();if(_i1242.startsWith("#")&&(_i1242=_i1242.substring(1)),_t1917!==_i1242){_e1375.undoManager.checkpoint("Gradient ID");var _s733=document.createNodeIterator(_e1375.workspaces,NodeFilter.SHOW_ELEMENT),_n531=null;for(;_n531=_s733.nextNode();){"linearGradient"!==_n531.localName&&"radialGradient"!==_n531.localName||(_n531.id===_t1917&&_n531.setAttribute("id",_i1242),_n531.href.baseVal==="#"+_t1917&&_n531.setAttribute("href","#"+_i1242));{var _e1376=getComputedStyle(_n531);for(var _i1243=0,_arr47=["fill","stroke"];_i1243<_arr47.length;_i1243++){var _s734=_arr47[_i1243];var _o426=_e1376.getPropertyValue(_s734);if(_o426&&_o426.startsWith("url(")){_o426.substring(6,_o426.length-2)===_t1917&&_n531.style.setProperty(_s734,"url(#".concat(_i1242,")"));}}}}}}else{var _t1918=_n530.querySelector(":scope > bx-title"),_i1244=_s732.value.trim();if(_t1918){_t1918.textContent!==_i1244&&(_e1375.undoManager.checkpoint("Color title"),""===_i1244?_t1918.remove():_t1918.textContent=_i1244);}else""!==_i1244&&(_e1375.undoManager.checkpoint("Color title"),_t1918=zi("svg:bx-title"),_t1918.textContent=_i1244,_n530.prepend(_t1918));}}}},{key:"Av",value:function Av(t){this.Js.board.undoManager.checkpoint("Pin Color"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"$v",value:function $v(t){this.Js.board.undoManager.checkpoint("Unpin Color"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"yv",value:function yv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1271=_createForOfIteratorHelper(this["#items"].children),_step1271;try{for(_iterator1271.s();!(_step1271=_iterator1271.n()).done;){var _e1377=_step1271.value;t.includes(_e1377)?(_e1377.setAttribute("data-selected",""),_e1377[fm]=Date.now()):_e1377.removeAttribute("data-selected");}}catch(err){_iterator1271.e(err);}finally{_iterator1271.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}this.Cv();}},{key:"Bu",value:function Bu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1245=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s735=e[0],_n532=_i1245.indexOf(_s735),_o427=_i1245[_n532-1];if(_o427){if(_o427.scrollIntoViewIfNeeded(),t)_o427.setAttribute("data-selected",""),_o427[fm]=Date.now();else{var _iterator1272=_createForOfIteratorHelper(_i1245),_step1272;try{for(_iterator1272.s();!(_step1272=_iterator1272.n()).done;){var _t1919=_step1272.value;_t1919===_o427?(_t1919.setAttribute("data-selected",""),_t1919[fm]=Date.now()):_t1919.removeAttribute("data-selected");}}catch(err){_iterator1272.e(err);}finally{_iterator1272.f();}}return this.Cv(),!0;}}return!1;}},{key:"Ru",value:function Ru(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1246=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s736=e[e.length-1],_n533=_i1246.indexOf(_s736),_o428=_i1246[_n533+1];if(_o428){if(_o428.scrollIntoViewIfNeeded(),t)_o428.setAttribute("data-selected",""),_o428[fm]=Date.now();else{var _iterator1273=_createForOfIteratorHelper(_i1246),_step1273;try{for(_iterator1273.s();!(_step1273=_iterator1273.n()).done;){var _t1920=_step1273.value;_t1920===_o428?(_t1920.setAttribute("data-selected",""),_t1920[fm]=Date.now()):_t1920.removeAttribute("data-selected");}}catch(err){_iterator1273.e(err);}finally{_iterator1273.f();}}return this.Cv(),!0;}}return!1;}},{key:"Lv",value:function Lv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1274=_createForOfIteratorHelper(t),_step1274;try{for(_iterator1274.s();!(_step1274=_iterator1274.n()).done;){var _i1247=_step1274.value;_i1247===e?(_i1247.setAttribute("data-selected",""),_i1247[fm]=Date.now()):_i1247.removeAttribute("data-selected");}}catch(err){_iterator1274.e(err);}finally{_iterator1274.f();}return this.Cv(),!0;}return!1;}},{key:"Bv",value:function Bv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1275=_createForOfIteratorHelper(t),_step1275;try{for(_iterator1275.s();!(_step1275=_iterator1275.n()).done;){var _i1248=_step1275.value;_i1248===e?(_i1248.setAttribute("data-selected",""),_i1248[fm]=Date.now()):_i1248.removeAttribute("data-selected");}}catch(err){_iterator1275.e(err);}finally{_iterator1275.f();}return this.Cv(),!0;}return!1;}},{key:"uv",value:function uv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.yv(t,!1);}},{key:"bv",value:function bv(){this.yv([],!1);}},{key:"pv",value:function pv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#color-picker-popover"].opened||null;}},{key:"xv",value:function xv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#color-picker-popover"].opened||null;}},{key:"Rv",value:function Rv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add Color");var i=zi("svg:linearGradient");if(i.setAttribute("id",t.generateUniqueID("color")),i.setAttribute("data-bx-pinned","true"),i.innerHTML='<stop style="stop-color: #d8d8d8;"></stop>',e.length>0){e[e.length-1][gm].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[gm]===i;});this.yv([s]);}},{key:"Gv",value:function Gv(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"fill";var e=this.Js.board,i=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"),s=this.Hx(),n=[];var _iterator1276=_createForOfIteratorHelper(s),_step1276;try{for(_iterator1276.s();!(_step1276=_iterator1276.n()).done;){var _i1250=_step1276.value;var _s738=getComputedStyle(_i1250),_o430=null;if(!0===wo(_s738[t]))_o430=_s738[t];else{var _i1251=no.fromString(_s738[t]);if(_i1251&&"#"===_i1251.value[0]){var _t1922=e.masterWorkspace.querySelector(_i1251.value);_t1922&&_o(_t1922)&&(_o430=Ao(_t1922));}}null!==_o430&&n.push(_o430);}}catch(err){_iterator1276.e(err);}finally{_iterator1276.f();}if(n=ti(n),n.length>0){e.undoManager.checkpoint(1===n.length?"Add color":"Add colors");var _t1921=[],_s737=i.length>0?i[i.length-1][gm]:null;var _iterator1277=_createForOfIteratorHelper(n),_step1277;try{for(_iterator1277.s();!(_step1277=_iterator1277.n()).done;){var _i1249=_step1277.value;var _n534=zi("svg:linearGradient");_n534.setAttribute("id",e.generateUniqueID("color")),_n534.setAttribute("data-bx-pinned","true"),_n534.innerHTML="<stop style=\"stop-color: ".concat(_i1249,"\"></stop>"),_t1921.push(_n534),_s737?_s737.after(_n534):(e.maybeCreateDefsForMasterWorkspace(),e.defs.append(_n534)),_s737=_n534;}}catch(err){_iterator1277.e(err);}finally{_iterator1277.f();}this.qs();var _o429=_toConsumableArray(this["#items"].children).filter(function(e){return _t1921.includes(e[gm]);});this.yv(_o429);}}},{key:"Dv",value:function Dv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"),i=e.length>0?e[e.length-1]:null,s=i?i[gm]:null,n=document.createDocumentFragment(),o=[];t.undoManager.checkpoint("Duplicate colors");var _iterator1278=_createForOfIteratorHelper(e),_step1278;try{for(_iterator1278.s();!(_step1278=_iterator1278.n()).done;){var _i1252=_step1278.value;var _e1378=t.generateUniqueID("color"),_s739=Ao(_i1252[gm]),_l345=qi(_templateObject47(),_e1378,_s739);n.append(_l345),o.push(_l345);}}catch(err){_iterator1278.e(err);}finally{_iterator1278.f();}s.after(n);{this.qs();var _t1923=_toConsumableArray(this["#items"].children).filter(function(t){return o.includes(t[gm]);});this.yv(_t1923);}}},{key:"zv",value:function(){var _zv=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee122(){var t,e,i,_iterator1279,_step1279,_step1279$value,_t1927,_s744,_iterator1281,_step1281,_n536,_t1924,_s740,_i1253,_s741,_i1254,_i1255,_arr48,_n535,_o431,_l346,_h257,_i1256,_s742,_iterator1280,_step1280,_t1926,_i1257,_s743,_t1925;return regeneratorRuntime.wrap(function _callee122$(_context123){while(1){switch(_context123.prev=_context123.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[gm];}),i=[];_iterator1279=_createForOfIteratorHelper(this.Nv());try{for(_iterator1279.s();!(_step1279=_iterator1279.n()).done;){_step1279$value=_slicedToArray(_step1279.value,2),_t1927=_step1279$value[0],_s744=_step1279$value[1];_iterator1281=_createForOfIteratorHelper(_s744);try{for(_iterator1281.s();!(_step1281=_iterator1281.n()).done;){_n536=_step1281.value;e.includes(_n536)&&!1===i.includes(_t1927)&&i.push(_t1927);}}catch(err){_iterator1281.e(err);}finally{_iterator1281.f();}}}catch(err){_iterator1279.e(err);}finally{_iterator1279.f();}if(!(0!==e.length)){_context123.next=19;break;}if(!(i.length>0)){_context123.next=12;break;}_t1924="Delete ";1===e.length?_t1924+="a color":_t1924+="".concat(e.length," colors"),_t1924+=" applied to ",1===i.length?_t1924+="1 object?":_t1924+="".concat(i.length," objects?");_context123.next=9;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t1924,detail:"Deleting a color also removes it from all objects it was applied to."});case 9:_s740=_context123.sent;if(!(-1===_s740||1===_s740)){_context123.next=12;break;}return _context123.abrupt("return");case 12:t.undoManager.checkpoint("Delete colors"),this.Ru()||this.Bu();_i1253=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),_s741=null;for(;_s741=_i1253.nextNode();){if(w.includes(_s741.localName)){_i1254=getComputedStyle(_s741);for(_i1255=0,_arr48=["fill","stroke"];_i1255<_arr48.length;_i1255++){_n535=_arr48[_i1255];_o431=no.fromString(_i1254[_n535]),_l346=_o431?t.masterWorkspace.querySelector(_o431.value):null,_h257=_l346&&["linearGradient","radialGradient"].includes(_l346.localName)?_l346:null;e.includes(_h257)&&(_s741.style[_n535]="#000000",_s741.removeAttribute(_n535));}}}_i1256=_toConsumableArray(t.masterWorkspace.querySelectorAll("linearGradient, radialGradient")),_s742=[];_iterator1280=_createForOfIteratorHelper(_i1256);try{for(_iterator1280.s();!(_step1280=_iterator1280.n()).done;){_t1926=_step1280.value;e.includes(_t1926)&&_s742.push(_t1926);}}catch(err){_iterator1280.e(err);}finally{_iterator1280.f();}for(_i1257=0,_s743=_s742;_i1257<_s743.length;_i1257++){_t1925=_s743[_i1257];_t1925.remove();}case 19:case"end":return _context123.stop();}}},_callee122,this);}));function zv(){return _zv.apply(this,arguments);}return zv;}()},{key:"Ov",value:function Ov(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[gm];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin color"+e.length>1?"s":"");var _iterator1282=_createForOfIteratorHelper(e),_step1282;try{for(_iterator1282.s();!(_step1282=_iterator1282.n()).done;){var _t1928=_step1282.value;_t1928.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1282.e(err);}finally{_iterator1282.f();}}}},{key:"Ev",value:function Ev(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[gm];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin color"+e.length>1?"s":"");var _iterator1283=_createForOfIteratorHelper(e),_step1283;try{for(_iterator1283.s();!(_step1283=_iterator1283.n()).done;){var _t1929=_step1283.value;_t1929.removeAttribute("data-bx-pinned");}}catch(err){_iterator1283.e(err);}finally{_iterator1283.f();}}}},{key:"Kw",value:function Kw(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s745=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_n537=t[0],_o432=_s745.indexOf(e);if("start"===i){if(_s745[_o432-1]===_n537)return!1;}else if("end"===i){if(_s745[_o432+1]===_n537)return!1;}}return!0;}},{key:"Tv",value:function Tv(t){var e=this.Js.board,i=document.createNodeIterator(e.currentWorkspace,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(w.includes(s.localName)){var _i1258=getComputedStyle(s);for(var _i1259=0,_arr49=["fill","stroke"];_i1259<_arr49.length;_i1259++){var _o433=_arr49[_i1259];var _l347=no.fromString(_i1258[_o433]),_h258=_l347?e.masterWorkspace.querySelector(_l347.value):null,_a210=_h258&&["linearGradient","radialGradient"].includes(_h258.localName)?_h258:null;if(_a210&&_a210.id===t){var _t1930=s.closest("text");_t1930?!1===n.includes(_t1930)&&n.push(_t1930):n.push(s);break;}}}}e.selectedElements=[].concat(n);}},{key:"Nv",value:function Nv(){var t=this.Js.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(w.includes(s.localName)){var _i1260=getComputedStyle(s);for(var _i1261=0,_arr50=["fill","stroke"];_i1261<_arr50.length;_i1261++){var _n538=_arr50[_i1261];var _o434=no.fromString(_i1260[_n538]),_l348=_o434?t.masterWorkspace.querySelector(_o434.value):null,_h259=_l348&&"linearGradient"==_l348.localName?_l348:null;_h259&&_o(_h259)&&(!1===e.has(s)?e.set(s,[_h259]):e.get(s).push(_h259));}}}return e;}},{key:"Hx",value:function Hx(){var t=["circle","ellipse","line","path","polygon","polyline","rect","text","use"],e=[],i=function i(s){var _iterator1284=_createForOfIteratorHelper(s),_step1284;try{for(_iterator1284.s();!(_step1284=_iterator1284.n()).done;){var _n539=_step1284.value;t.includes(_n539.localName)?e.push(_n539):"g"!==_n539.localName&&"a"!==_n539.localName||i(_n539.children);}}catch(err){_iterator1284.e(err);}finally{_iterator1284.f();}};return i(this.Js.board.outermostSelectedElements),e;}},{key:"qs",value:function qs(){{var _t1931=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("linearGradient, radialGradient")).filter(function(t){return _o(t);}),_e1379=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[gm];}),_i1262=document.createDocumentFragment();var _iterator1285=_createForOfIteratorHelper(_t1931),_step1285;try{for(_iterator1285.s();!(_step1285=_iterator1285.n()).done;){var _s746=_step1285.value;var _t1932=_s746.querySelector(":scope > stop"),_n540=getComputedStyle(_t1932).stopColor,_o435=Yi(_templateObject48(),_n540,_s746.id);_o435[gm]=_s746,_e1379.includes(_s746)&&(_o435.setAttribute("data-selected",""),_o435[fm]=Date.now()),this.Vv(_o435),this.jv(_o435),_i1262.append(_o435);}}catch(err){_iterator1285.e(err);}finally{_iterator1285.f();}this["#items"].innerHTML="",this["#items"].append(_i1262);}this.Iv(),this.Mv(),this.Lu();}},{key:"Fv",value:function Fv(){var _iterator1286=_createForOfIteratorHelper(this["#items"].children),_step1286;try{for(_iterator1286.s();!(_step1286=_iterator1286.n()).done;){var _t1933=_step1286.value;this.jv(_t1933);}}catch(err){_iterator1286.e(err);}finally{_iterator1286.f();}}},{key:"ov",value:function ov(){this["#search-input"].value="";var _iterator1287=_createForOfIteratorHelper(this["#items"].children),_step1287;try{for(_iterator1287.s();!(_step1287=_iterator1287.n()).done;){var _t1934=_step1287.value;this.Vv(_t1934),this.jv(_t1934);}}catch(err){_iterator1287.e(err);}finally{_iterator1287.f();}this.Lu();}},{key:"Lu",value:function Lu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"jv",value:function jv(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Vv",value:function Vv(t){var e=t[gm],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<color>",i.removeAttribute("data-custom"));else{var _t1935;_t1935=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t1935?(i.textContent=_t1935.textContent,i.setAttribute("data-custom","")):(i.textContent="Color",i.removeAttribute("data-custom"));}}},{key:"Iv",value:function Iv(){var t=this.Nv();var _iterator1288=_createForOfIteratorHelper(this["#items"].children),_step1288;try{for(_iterator1288.s();!(_step1288=_iterator1288.n()).done;){var _e1380=_step1288.value;var _i1263=_e1380.querySelector(".counter-button"),_s747=0;var _iterator1289=_createForOfIteratorHelper(t),_step1289;try{for(_iterator1289.s();!(_step1289=_iterator1289.n()).done;){var _step1289$value=_slicedToArray(_step1289.value,2),_i1264=_step1289$value[0],_n541=_step1289$value[1];_n541.includes(_e1380[gm])&&(_s747+=1);}}catch(err){_iterator1289.e(err);}finally{_iterator1289.f();}0===_s747?(_i1263.setAttribute("hidden",""),_i1263.firstElementChild.textContent="0"):(_i1263.setAttribute("title",1===_s747?"Select 1 color user":"Select ".concat(_s747," color users")),_i1263.removeAttribute("hidden"),_i1263.firstElementChild.textContent=_s747);}}catch(err){_iterator1288.e(err);}finally{_iterator1288.f();}}},{key:"Mv",value:function Mv(){if("unpinned"===this._v.colors){var _iterator1290=_createForOfIteratorHelper(this["#items"].children),_step1290;try{for(_iterator1290.s();!(_step1290=_iterator1290.n()).done;){var _t1936=_step1290.value;var _e1381=_t1936[gm],_i1265=_t1936.lastElementChild;_i1265.hidden=!1,_i1265.toggled=_e1381.hasAttribute("data-bx-pinned");}}catch(err){_iterator1290.e(err);}finally{_iterator1290.f();}}else{var _iterator1291=_createForOfIteratorHelper(this["#items"].children),_step1291;try{for(_iterator1291.s();!(_step1291=_iterator1291.n()).done;){var _t1937=_step1291.value;_t1937.lastElementChild.hidden=!0;}}catch(err){_iterator1291.e(err);}finally{_iterator1291.f();}}}}]);return wm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(wm,"observedAttributes",["enabled"]);_defineProperty(wm,"_shadowTemplate",Yi(_templateObject383()));_defineProperty(wm,"_shadowStyleSheet",Wi(_templateObject384()));customElements.define("bx-colorsbrowser",wm);var vm=Symbol(),ym=Symbol();var km=/*#__PURE__*/function(_HTMLElement109){_inherits(km,_HTMLElement109);var _super163=_createSuper(km);_createClass(km,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"selectedStops",get:function get(){return _toConsumableArray(this.Fh);},set:function set(t){this.Fh=_toConsumableArray(t),this.Hv(),this.Yv(),this.Wv(),this.qv();}}]);function km(){var _this772;_classCallCheck(this,km);_this772=_super163.call(this),_this772.tabIndex=0,_this772.Xv=!1,_this772.Zv=!1,_this772.Fh=[],_this772._shadowRoot=_this772.attachShadow({mode:"closed"}),_this772._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,km._shadowStyleSheet],_this772._shadowRoot.append(document.importNode(km._shadowTemplate.content,!0));var _iterator1292=_createForOfIteratorHelper(_this772._shadowRoot.querySelectorAll("[id]")),_step1292;try{for(_iterator1292.s();!(_step1292=_iterator1292.n()).done;){var _t1938=_step1292.value;_this772["#"+_t1938.id]=_t1938;}}catch(err){_iterator1292.e(err);}finally{_iterator1292.f();}_this772.addEventListener("keydown",function(t){return _this772.vn(t);}),_this772["#gradient-slider"].addEventListener("contextmenu",function(t){return _this772.Kv(t);}),_this772["#gradient-slider"].addEventListener("pointerdown",function(t){return _this772.Qv(t);}),_this772["#gradient-slider"].addEventListener("dblclick",function(t){return _this772.Jv(t);}),_this772["#stop-color-picker"].addEventListener("changestart",function(t){return _this772.Dx(t);}),_this772["#stop-offset-section"].addEventListener("changestart",function(){return _this772.ty();});return _this772;}_createClass(km,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this.ey=Ai(this,"bx-gradientsbrowser");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this773=this;{var _t1939=this.ey.selectedGradients[0],_e1382=[];if(_t1939[ym]&&(_e1382=_t1939[ym].filter(function(e){return _t1939.contains(e);})),0===_e1382.length){var _i1266=Eo(_t1939);_i1266.length>0&&(_e1382=[_i1266[0]]);}this.Fh=_e1382;}this.focus(),this.qs(),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this773.sl(t);}),this.ey.addEventListener("selectedgradientschange",this.iy=function(){_this773.qs();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("workspacemutation",this.rn),this.ey.removeEventListener("selectedgradientschange",this.iy);var t=this.ey.selectedGradients[0];t&&(t[ym]=_toConsumableArray(this.selectedStops)),this["#gradient-slider"].removeAttribute("data-dragging"),this.Fh=[],this.Xv=!1,this.Zv=!1;}},{key:"sl",value:function sl(t){var _this774=this;var _iterator1293=_createForOfIteratorHelper(t.detail),_step1293;try{for(_iterator1293.s();!(_step1293=_iterator1293.n()).done;){var _e1383=_step1293.value;if("childList"===_e1383.type&&["linearGradient","radialGradient"].includes(_e1383.target.nodeName)){(function(){var t=_this774.ey.selectedGradients[0];_this774.Fh=_this774.Fh.filter(function(e){return t.contains(e);});})();}}}catch(err){_iterator1293.e(err);}finally{_iterator1293.f();}this.qs();}},{key:"vn",value:function vn(t){var e=eo.fromEvent(t);t.stopPropagation(),0!==this.Fh.length&&null===this._shadowRoot.activeElement&&(e.matches("Backspace")||e.matches("Delete")?this.ca():e.matches("Tab")?(t.preventDefault(),this.pa()):e.matches("Shift","Tab")?(t.preventDefault(),this.ua()):e.matches("ArrowLeft")?this.ba(-.01):e.matches("ArrowRight")?this.ba(.01):e.matches("Shift","ArrowLeft")?this.ba(-.1):e.matches("Shift","ArrowRight")&&this.ba(.1));}},{key:"Kv",value:function(){var _Kv=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee123(t){var e,i,s,_e1384,_i1267;return regeneratorRuntime.wrap(function _callee123$(_context124){while(1){switch(_context124.prev=_context124.next){case 0:t.preventDefault(),t.target.matches(".marker")?!1===t.target.hasAttribute("data-selected")&&(this.selectedStops=[t.target[vm]]):this.selectedStops=[];e=this.ey.selectedGradients[0];i=Eo(e);_context124.next=5;return this.Qs.openContextMenu([{value:"add-stop",label:"Add stop",disabled:!1},{value:"duplicate-stops",label:1===this.selectedStops.length?"Duplicate stop":"Duplicate stops",disabled:0===this.selectedStops.length},{value:"delete-stops",label:1===this.selectedStops.length?"Delete stop":"Delete stops",disabled:0===this.selectedStops.length},{value:"swap-stops",label:"Swap stops",disabled:2!==this.selectedStops.length},{type:"separator"},{label:"Reverse gradient",value:"reverse-gradient",disabled:i.length<=1},{label:"Harmonize gradient",value:"harmonize-gradient",disabled:i.length<1}]);case 5:s=_context124.sent;if("add-stop"===s){_e1384=this["#track"].getBoundingClientRect(),_i1267=(t.clientX-_e1384.x)/_e1384.width;_i1267=K(_i1267,0,1,3),this.sy(_i1267);}else"duplicate-stops"===s?this.ny():"delete-stops"===s?this.ca():"reverse-gradient"===s?this.oy():"harmonize-gradient"===s&&this.ly();case 7:case"end":return _context124.stop();}}},_callee123,this);}));function Kv(_x149){return _Kv.apply(this,arguments);}return Kv;}()},{key:"Qv",value:function Qv(t){1===t.buttons&&(t.target.closest(".marker")?this.hy(t):this.selectedStops=[]);}},{key:"Jv",value:function Jv(t){if(t.target===this["#gradient-slider"]||t.target===this["#markers"]){var _e1385=this["#track"].getBoundingClientRect(),_i1268=(t.clientX-_e1385.x)/_e1385.width;_i1268=K(_i1268,0,1,3),this.sy(_i1268);}}},{key:"hy",value:function hy(t){var _this775=this;if(1!==t.buttons)return;var e,_i1271,s=this.Js.board,n=this.ey.selectedGradients[0],o=Eo(n),l=t.target.closest(".marker"),h=this["#track"].getBoundingClientRect(),a=l.getBoundingClientRect(),r=new DOMPoint(t.clientX,t.clientY),d=r,_ref135=(t.clientX,a.x,a.width,this.Qs.modKeys),c=_ref135.alt,p=_ref135.shift,u=Symbol();!1===p?!1===this.selectedStops.includes(l[vm])&&(this.selectedStops=[l[vm]]):!0===p&&!1===this.selectedStops.includes(l[vm])&&(this.selectedStops=[].concat(_toConsumableArray(this.selectedStops),[l[vm]]));var x=_toConsumableArray(this["#markers"].querySelectorAll(":scope > .marker[data-selected]")),b=Math.max.apply(Math,_toConsumableArray(x.map(function(t){return-t[vm].offset.baseVal;}))),m=Math.min.apply(Math,_toConsumableArray(x.map(function(t){return 1-t[vm].offset.baseVal;})));var _iterator1294=_createForOfIteratorHelper(x),_step1294;try{for(_iterator1294.s();!(_step1294=_iterator1294.n()).done;){var _t1943=_step1294.value;_t1943[vm][u]=_t1943[vm].offset.baseVal;}}catch(err){_iterator1294.e(err);}finally{_iterator1294.f();}this["#gradient-slider"].setPointerCapture(t.pointerId),this["#gradient-slider"].addEventListener("pointermove",e=function e(_e1388){{var _i1269=new DOMPoint(_e1388.clientX,_e1388.clientY),_s748=_e1388.timeStamp-t.timeStamp;if(!0===Ce(d,_i1269,0))return;if(d=_i1269,De(r,_i1269)<3&&_s748<80)return;}!1===_this775.Xv&&(_this775.Xv=!0,s.undoManager.checkpoint("Move gradient stop"),_this775["#gradient-slider"].setAttribute("data-dragging",""));{var _i1270=(_e1388.clientX-t.clientX)/h.width;_i1270=K(_i1270,b,m,3);var _iterator1295=_createForOfIteratorHelper(x),_step1295;try{for(_iterator1295.s();!(_step1295=_iterator1295.n()).done;){var _t1940=_step1295.value;var _e1386=_t1940[vm],_s749=_e1386[u];_s749+=_i1270,_s749=K(_s749,0,1,3),_t1940.style.left=100*_s749+"%",_e1386.setAttribute("offset",_s749);}}catch(err){_iterator1295.e(err);}finally{_iterator1295.f();}}{var _t1941=o.map(function(t){return t.offset.baseVal;});if(!1===Q(_t1941,!0)){var _t1942=_toConsumableArray(o).sort(function(t,e){return t.offset.baseVal-e.offset.baseVal;});var _iterator1296=_createForOfIteratorHelper(_t1942),_step1296;try{for(_iterator1296.s();!(_step1296=_iterator1296.n()).done;){var _e1387=_step1296.value;n.append(_e1387);}}catch(err){_iterator1296.e(err);}finally{_iterator1296.f();}o=Eo(n);}}_this775.py();}),this["#gradient-slider"].addEventListener("lostpointercapture",_i1271=function i(){_this775["#gradient-slider"].removeEventListener("pointermove",e),_this775["#gradient-slider"].removeEventListener("lostpointercapture",_i1271),_this775.Xv=!1,_this775["#gradient-slider"].removeAttribute("data-dragging");});}},{key:"Dx",value:function Dx(t){var _this776=this;var e,_i1272,s=this.Js.board,n=this.selectedStops;s.undoManager.checkpoint("Change gradient stop color"),this["#stop-color-picker"].addEventListener("change",e=function e(){var _iterator1297=_createForOfIteratorHelper(n),_step1297;try{for(_iterator1297.s();!(_step1297=_iterator1297.n()).done;){var _t1944=_step1297.value;_t1944.style.stopColor=_this776["#stop-color-picker"].value;}}catch(err){_iterator1297.e(err);}finally{_iterator1297.f();}}),this["#stop-color-picker"].addEventListener("changeend",_i1272=function i(){_this776["#stop-color-picker"].removeEventListener("change",e),_this776["#stop-color-picker"].removeEventListener("changeend",_i1272);var _iterator1298=_createForOfIteratorHelper(n),_step1298;try{for(_iterator1298.s();!(_step1298=_iterator1298.n()).done;){var _t1945=_step1298.value;ya("stop-color",_t1945);}}catch(err){_iterator1298.e(err);}finally{_iterator1298.f();}});}},{key:"ty",value:function ty(){var _this777=this;this.Js.board.undoManager.checkpoint("Stop offset"),this.Zv=!0;var t,_e1390,i=this.ey.selectedGradients[0],s=Eo(i),n=this.selectedStops;this["#stop-offset-section"].addEventListener("change",t=function t(_t1949){_t1949.target===_this777["#stop-offset-slider"]?_this777["#stop-offset-input"].value=_this777["#stop-offset-slider"].value:_t1949.target===_this777["#width-input"]&&(_this777["#stop-offset-slider"].value=_this777["#stop-offset-input"].value),_this777["#stop-offset-slider"].mixed=!1,_this777["#stop-offset-input"].mixed=!1;var _iterator1299=_createForOfIteratorHelper(n),_step1299;try{for(_iterator1299.s();!(_step1299=_iterator1299.n()).done;){var _t1948=_step1299.value;_t1948.setAttribute("offset",_this777["#stop-offset-input"].value);}}catch(err){_iterator1299.e(err);}finally{_iterator1299.f();}{var _t1946=s.map(function(t){return t.offset.baseVal;});if(!1===Q(_t1946,!0)){var _t1947=_toConsumableArray(s).sort(function(t,e){return t.offset.baseVal-e.offset.baseVal;});var _iterator1300=_createForOfIteratorHelper(_t1947),_step1300;try{for(_iterator1300.s();!(_step1300=_iterator1300.n()).done;){var _e1389=_step1300.value;i.append(_e1389);}}catch(err){_iterator1300.e(err);}finally{_iterator1300.f();}s=Eo(i);}}_this777.uy(),_this777.Yv();}),this["#stop-offset-section"].addEventListener("changeend",_e1390=function e(){_this777["#stop-offset-section"].removeEventListener("change",t),_this777["#stop-offset-section"].removeEventListener("changeend",_e1390),_this777.Zv=!1;});}},{key:"sy",value:function sy(t){this.Js.board.undoManager.checkpoint("Add gradient stop");var e=this.ey.selectedGradients[0],i=Eo(e),s=null;for(var _e1391=0;_e1391<i.length;_e1391+=1){var _n542=i[_e1391];if(_n542.offset.baseVal<t)s=_e1391;else if(_n542.offset.baseVal>t)break;}var n=zi("svg:stop");if(n.setAttribute("offset",t),i.length>0?n.style.stopColor=Oo(e,t):n.style.stopColor="#ff0000",null===s){var _t1950=_toConsumableArray(e.children).find(function(t){return"stop"===t.localName;});_t1950?_t1950.before(n):e.append(n);}else i[s].after(n);this.selectedStops=[n];}},{key:"pa",value:function pa(){var t=this.ey.selectedGradients[0],e=Eo(t),i=this.selectedStops;if(i.length>0){var _t1951=i[i.length-1],_s750=e.indexOf(_t1951),_n543=e[_s750<e.length-1?_s750+1:0];this.selectedStops=[_n543];}}},{key:"ua",value:function ua(){var t=this.ey.selectedGradients[0],e=Eo(t),i=this.selectedStops;if(i.length>0){var _t1952=i[i.length-1],_s751=e.indexOf(_t1952),_n544=e[_s751>0?_s751-1:e.length-1];this.selectedStops=[_n544];}}},{key:"ca",value:function ca(){var t=this.selectedStops;if(this.selectedStops=[],t.length>0){this.Js.board.undoManager.checkpoint("Delete gradient stop(s)");var _iterator1301=_createForOfIteratorHelper(t),_step1301;try{for(_iterator1301.s();!(_step1301=_iterator1301.n()).done;){var _e1392=_step1301.value;_e1392.remove();}}catch(err){_iterator1301.e(err);}finally{_iterator1301.f();}}}},{key:"ny",value:function ny(){this.Js.board.undoManager.checkpoint("Duplicate stops");var t=[];var _iterator1302=_createForOfIteratorHelper(this["#markers"].querySelectorAll(":scope > .marker[data-selected]")),_step1302;try{for(_iterator1302.s();!(_step1302=_iterator1302.n()).done;){var _e1393=_step1302.value;var _i1273=_e1393[vm],_s752=zi("svg:stop");_s752.setAttribute("offset",_i1273.offset.baseVal),_s752.style.stopColor=To(_i1273),_i1273.after(_s752),t.push(_s752);}}catch(err){_iterator1302.e(err);}finally{_iterator1302.f();}this.selectedStops=[].concat(_toConsumableArray(this.selectedStops),t);}},{key:"ba",value:function ba(t){var e=this.ey.selectedGradients[0],i=Eo(e),s=_toConsumableArray(this["#markers"].querySelectorAll(":scope > .marker[data-selected]")),n=Math.max.apply(Math,_toConsumableArray(s.map(function(t){return-t[vm].offset.baseVal;}))),o=Math.min.apply(Math,_toConsumableArray(s.map(function(t){return 1-t[vm].offset.baseVal;})));if(0!==t){if(t>0){if(0===o)return;}else if(t<0&&0===n)return;this.Js.board.undoManager.checkpoint("Move gradient stop"),t=K(t,n,o,3);var _iterator1303=_createForOfIteratorHelper(s),_step1303;try{for(_iterator1303.s();!(_step1303=_iterator1303.n()).done;){var _e1394=_step1303.value;var _i1275=_e1394[vm],_s753=_i1275.offset.baseVal;_s753+=t,_s753=K(_s753,0,1,3),_e1394.style.left=100*_s753+"%",_i1275.setAttribute("offset",_s753);}}catch(err){_iterator1303.e(err);}finally{_iterator1303.f();}{var _t1953=i.map(function(t){return t.offset.baseVal;});if(!1===Q(_t1953,!0)){var _t1954=_toConsumableArray(i).sort(function(t,e){return t.offset.baseVal-e.offset.baseVal;});var _iterator1304=_createForOfIteratorHelper(_t1954),_step1304;try{for(_iterator1304.s();!(_step1304=_iterator1304.n()).done;){var _i1274=_step1304.value;e.append(_i1274);}}catch(err){_iterator1304.e(err);}finally{_iterator1304.f();}i=Eo(e);}}this.py();}}},{key:"oy",value:function oy(){this.Js.board.undoManager.checkpoint("Reverse gradient");var t=this.ey.selectedGradients[0],e=Eo(t);var _iterator1305=_createForOfIteratorHelper(_toConsumableArray(e).reverse()),_step1305;try{for(_iterator1305.s();!(_step1305=_iterator1305.n()).done;){var _i1276=_step1305.value;_i1276.offset.baseVal=1-_i1276.offset.baseVal,t.append(_i1276);}}catch(err){_iterator1305.e(err);}finally{_iterator1305.f();}}},{key:"ly",value:function ly(){this.Js.board.undoManager.checkpoint("Harmonize gradient");var t=this.ey.selectedGradients[0],e=Eo(t);for(var _t1955=0;_t1955<e.length;_t1955+=1){e[_t1955].setAttribute("offset",_t1955/(e.length-1));}}},{key:"qs",value:function qs(){this.uy(),this.Yv(),this.Wv(),this.qv();}},{key:"uy",value:function uy(){var t=this.ey.selectedGradients[0];if(t){var _e1395=Eo(t),_i1277=_e1395.map(function(t){return Z(100*t.offset.baseVal,3);}),_s754=_e1395.map(function(t){return To(t);});if(0===_e1395.length?(this["#left-gradient-slider-edge"].style.background="transparent",this["#right-gradient-slider-edge"].style.background="transparent",this["#track"].style.backgroundImage="linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0) 100%)"):1===_e1395.length?(this["#left-gradient-slider-edge"].style.background=_s754[0],this["#right-gradient-slider-edge"].style.background=_s754[0],this["#track"].style.backgroundImage="linear-gradient(90deg, ".concat(_s754[0]," 0%, ").concat(_s754[0]," 100%)")):(this["#left-gradient-slider-edge"].style.background=_s754[0],this["#right-gradient-slider-edge"].style.background=_s754[_s754.length-1],this["#track"].style.backgroundImage="linear-gradient(90deg, "+_e1395.map(function(t,e){return"".concat(_s754[e]," ").concat(_i1277[e],"%");}).join(", ")+")"),!1===this.Xv){this["#markers"].innerHTML="";for(var _t1956=0;_t1956<_e1395.length;_t1956+=1){var _s755=_e1395[_t1956],_n545=_i1277[_t1956],_o436=zi("div");_o436[vm]=_s755,_o436.setAttribute("class","marker"),_o436.style.left=_n545+"%",this["#markers"].append(_o436);}this.Hv(),this.py();}}}},{key:"Hv",value:function Hv(){var t=this.selectedStops;var _iterator1306=_createForOfIteratorHelper(this["#markers"].children),_step1306;try{for(_iterator1306.s();!(_step1306=_iterator1306.n()).done;){var _e1396=_step1306.value;t.includes(_e1396[vm])?_e1396.setAttribute("data-selected",""):_e1396.removeAttribute("data-selected");}}catch(err){_iterator1306.e(err);}finally{_iterator1306.f();}}},{key:"py",value:function py(){var t=_toConsumableArray(this["#markers"].children),e=[];{(function(){var i=[],s=Symbol();var _iterator1307=_createForOfIteratorHelper(t),_step1307;try{for(_iterator1307.s();!(_step1307=_iterator1307.n()).done;){var _e1397=_step1307.value;_e1397[s]=_e1397.getBoundingClientRect();}}catch(err){_iterator1307.e(err);}finally{_iterator1307.f();}var _iterator1308=_createForOfIteratorHelper(t),_step1308;try{var _loop27=function _loop27(){var n=_step1308.value;var o=[],l=function l(e){var _iterator1310=_createForOfIteratorHelper(t),_step1310;try{for(_iterator1310.s();!(_step1310=_iterator1310.n()).done;){var _n546=_step1310.value;if(_n546!==e){var _t1957=!o.includes(_n546)&&!i.includes(_n546),_h260=_n546[s].left<=e[s].right&&e[s].left<=_n546[s].right;_t1957&&_h260&&(o.push(_n546),i.push(_n546),l(_n546));}}}catch(err){_iterator1310.e(err);}finally{_iterator1310.f();}};l(n),o.length>0&&e.push(Bi(o));};for(_iterator1308.s();!(_step1308=_iterator1308.n()).done;){_loop27();}}catch(err){_iterator1308.e(err);}finally{_iterator1308.f();}var _iterator1309=_createForOfIteratorHelper(t),_step1309;try{for(_iterator1309.s();!(_step1309=_iterator1309.n()).done;){var _s756=_step1309.value;i.includes(_s756)||e.push([_s756]);}}catch(err){_iterator1309.e(err);}finally{_iterator1309.f();}})();}for(var _i1278=0,_e1398=e;_i1278<_e1398.length;_i1278++){var _t1958=_e1398[_i1278];var _e1399=100/_t1958.length;for(var _i1279=0;_i1279<_t1958.length;_i1279+=1){var _s757=_t1958[_i1279];_s757.style.height=_e1399+"%",_s757.style.top=_e1399*_i1279+"%";}}}},{key:"Yv",value:function Yv(){!1===this.Xv&&(0===this.selectedStops.length?this["#stop-color-section"].hidden=!0:1===this.selectedStops.length&&(this["#stop-color-section"].hidden=!1,this["#stop-color-picker"].value=To(this.selectedStops[0])));}},{key:"Wv",value:function Wv(){if(!1===this.Zv)if(0===this.selectedStops.length)this["#stop-offset-section"].hidden=!0;else{var _t1959=this.selectedStops.map(function(t){return t.offset.baseVal;}),_e1400=!(_t1959.length<=1)&&!ei(_t1959,_t1959[0]);this["#stop-offset-section"].hidden=!1,this["#stop-offset-slider"].mixed=_e1400,this["#stop-offset-slider"].value=Z(_t1959[0],3),this["#stop-offset-input"].mixed=_e1400,this["#stop-offset-input"].value=Z(_t1959[0],3);}}},{key:"qv",value:function qv(){0===this.selectedStops.length?this["#placeholder-section"].hidden=!1:this["#placeholder-section"].hidden=!0;}}]);return km;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(km,"observedAttributes",["enabled"]);_defineProperty(km,"_shadowTemplate",Yi(_templateObject385()));_defineProperty(km,"_shadowStyleSheet",Wi(_templateObject386()));customElements.define("bx-gradientinspector",km);var Sm=Symbol(),_m=Symbol();var Cm=/*#__PURE__*/function(_HTMLElement110){_inherits(Cm,_HTMLElement110);var _super164=_createSuper(Cm);_createClass(Cm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"selectedGradients",get:function get(){return _toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[Sm];});}}]);function Cm(){var _temp44,_this778;_classCallCheck(this,Cm);(_temp44=_this778=_super164.call(this),_defineProperty(_assertThisInitialized(_this778),"commands",{selectAll:{enabled:function enabled(){return _this778.pv();},exec:function exec(){return _this778.uv();}},deselectAll:{enabled:function enabled(){return _this778.xv();},exec:function exec(){return _this778.bv();}}}),_temp44),_this778.mv=Zi(_this778.qs,500,_assertThisInitialized(_this778)),_this778.gv=0,_this778._shadowRoot=_this778.attachShadow({mode:"closed"}),_this778._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Cm._shadowStyleSheet],_this778._shadowRoot.append(document.importNode(Cm._shadowTemplate.content,!0));var _iterator1311=_createForOfIteratorHelper(_this778._shadowRoot.querySelectorAll("[id]")),_step1311;try{for(_iterator1311.s();!(_step1311=_iterator1311.n()).done;){var _t1960=_step1311.value;_this778["#"+_t1960.id]=_t1960;}}catch(err){_iterator1311.e(err);}finally{_iterator1311.f();}_this778.addEventListener("keydown",function(t){return _this778.vn(t);}),_this778["#items"].addEventListener("scroll",function(){return _this778.fv();}),_this778["#items"].addEventListener("contextmenu",function(t){return _this778.tp(t);}),_this778["#items"].addEventListener("pointerdown",function(t){return _this778.Qc(t);}),_this778["#items"].addEventListener("click",function(t){return _this778.Jc(t);}),_this778["#search-input"].addEventListener("input",function(){return _this778.wv();}),_this778["#developer-mode-button"].addEventListener("toggle",function(){return _this778.zu();}),_this778["#add-menu"].addEventListener("click",function(t){return _this778.Vw(t);}),_this778["#add-menu"].addEventListener("open",function(){return _this778.vv();}),_this778["#gradient-inspector-popover"].addEventListener("close",function(){return _this778["#gradient-inspector"].enabled=!1;});return _this778;}_createClass(Cm,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this["#items"].scrollTop=this.gv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this779=this;window.addEventListener("resize",this.nn=function(){_this779.kv();}),this.Qs.addEventListener("configchange",this.ln=function(t){_this779.hn(t);}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this779.sl(t);}),this.Js.board.addEventListener("artworkchange",this.mr=function(t){_this779.Sv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.gv,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-gradientsbrowser:developerMode",!1),this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",jp),this.qs();}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("artworkchange",this.mr),this.xy(),this["#items"].remove();}},{key:"hn",value:function hn(t){var _t$detail11=t.detail,e=_t$detail11.key,i=_t$detail11.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",jp),this.Mv());}},{key:"kv",value:function kv(){this.xy();}},{key:"sl",value:function sl(t){var e=t.detail,i="debounced",s=!1;var _iterator1312=_createForOfIteratorHelper(e),_step1312;try{for(_iterator1312.s();!(_step1312=_iterator1312.n()).done;){var _t1961=_step1312.value;var _e1401=_t1961.target.nodeName,_n547=_t1961.addedNodes[0]?_t1961.addedNodes[0].nodeName:null,_o437=_t1961.removedNodes[0]?_t1961.removedNodes[0].nodeName:null,_l349=_t1961.attributeName;if("linearGradient"===_e1401||"radialGradient"===_e1401){if("bx-title"===_n547||"bx-title"===_o437){i="now";break;}if("id"===_l349){i="now",s=!0;break;}if("data-bx-pinned"===_l349){i="now";break;}}else if("bx-title"===_e1401){if(_n547||_o437){i="now";break;}}else if("linearGradient"===_n547||"radialGradient"===_n547||"linearGradient"===_o437||"radialGradient"===_o437){i="now",s=!0;break;}}}catch(err){_iterator1312.e(err);}finally{_iterator1312.f();}!0===s&&this.xy(),"now"===i?this.qs():"debounced"===i&&this.mv();}},{key:"Sv",value:function Sv(){this.xy(),this.qs();}},{key:"fv",value:function fv(){this.gv=this["#items"].scrollTop,this.xy();}},{key:"tp",value:function(){var _tp3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee124(t){var e,_i1280,_s758,_n548;return regeneratorRuntime.wrap(function _callee124$(_context125){while(1){switch(_context125.prev=_context125.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context125.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.yv([e]);_i1280=this.selectedGradients;_s758=e[Sm];_context125.next=7;return this.Qs.openContextMenu([{label:"Edit Gradient",value:"edit",disabled:1!==_i1280.length},{label:"Edit Gradient ID",value:"edit-id",disabled:1!==_i1280.length},{label:"Edit Gradient Title",value:"edit-title",disabled:1!==_i1280.length},{type:"separator"},{label:"Duplicate Gradient"+(_i1280.length>1?"s":""),value:"duplicate",disabled:0===_i1280.length},{label:"Delete Gradient"+(_i1280.length>1?"s":""),value:"delete",disabled:0===_i1280.length},{type:"separator"},{label:"Pin Gradient"+(_i1280.length>1?"s":""),value:"pin",disabled:void 0===_i1280.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Gradient"+(_i1280.length>1?"s":""),value:"unpin",disabled:void 0===_i1280.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Gradient Users",value:"select-users",disabled:1!==_i1280.length}]);case 7:_n548=_context125.sent;"edit"===_n548?this.editGradient(_s758.id):"edit-id"===_n548?this.Pv(_s758.id,"id"):"edit-title"===_n548?this.Pv(_s758.id,"title"):"duplicate"===_n548?this.Dv():"delete"===_n548?this.zv():"pin"===_n548?this.Ov():"unpin"===_n548?this.Ev():"select-users"===_n548&&this.by(_s758.id);case 9:case"end":return _context125.stop();}}},_callee124,this);}));function tp(_x150){return _tp3.apply(this,arguments);}return tp;}()},{key:"Jc",value:function Jc(t){t.target.closest(".item")&&this.ev(t);}},{key:"ev",value:function ev(t){var _this$Qs$modKeys15=this.Qs.modKeys,e=_this$Qs$modKeys15.ctrl,i=_this$Qs$modKeys15.shift;if(!1===e&&!1===i){var _e1402=t.target.closest(".item"),_i1281=t.target.closest(".thumbnail"),_s759=t.target.closest(".counter-button"),_n549=t.target.closest(".pin-button"),_o438=_e1402[Sm].id;_s759?this.by(_o438):_n549?_n549.toggled?this.my(_o438):this.gy(_o438):_i1281?t.detail%2==0&&this.editGradient(_o438):t.detail%2==0&&this.Pv(_o438);}}},{key:"Qc",value:function Qc(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1403=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1403&&this.yv([]);}else t.target.closest(".item")&&this.Dm(t);}},{key:"Dm",value:function Dm(t){var _this780=this;var _this$Qs$modKeys16=this.Qs.modKeys,e=_this$Qs$modKeys16.ctrl,i=_this$Qs$modKeys16.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(this.xy(),!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[_m]=Date.now()),this.dispatchEvent(new CustomEvent("selectedgradientschange"));else if(!0===i){var _t1962=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1404=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1404.length>0){var _i1282=_t1962.indexOf(s),_n550=_e1404.sort(function(t,e){return e[_m]-t[_m];})[0],_o439=_t1962.indexOf(_n550),_l350=[];if(_i1282>_o439?_l350=_toConsumableArray(_t1962).slice(_o439,_i1282+1):_i1282<_o439&&(_l350=_toConsumableArray(_t1962).slice(_i1282,_o439+1).reverse()),_l350=_l350.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l350.length>0){var _iterator1313=_createForOfIteratorHelper(_l350),_step1313;try{for(_iterator1313.s();!(_step1313=_iterator1313.n()).done;){var _t1963=_step1313.value;_t1963.setAttribute("data-selected",""),_t1963[_m]=Date.now(),this.dispatchEvent(new CustomEvent("selectedgradientschange"));}}catch(err){_iterator1313.e(err);}finally{_iterator1313.f();}}}}else{var _t1966,_e1406,_i1283=!1;window.addEventListener("pointermove",_t1966=function _t1964(o){var l=new DOMPoint(o.clientX,o.clientY);if(De(n,l)>=3){if(window.removeEventListener("pointermove",_t1966),window.removeEventListener("pointerup",_e1406),!1===s.hasAttribute("data-selected")){var _iterator1314=_createForOfIteratorHelper(_this780["#items"].children),_step1314;try{for(_iterator1314.s();!(_step1314=_iterator1314.n()).done;){var _t1965=_step1314.value;_t1965===s?(_t1965.setAttribute("data-selected",""),_t1965[_m]=Date.now()):_t1965.removeAttribute("data-selected"),_this780.dispatchEvent(new CustomEvent("selectedgradientschange"));}}catch(err){_iterator1314.e(err);}finally{_iterator1314.f();}}_this780.Zw(o),_i1283=!0;}}),window.addEventListener("pointerup",_e1406=function _e1405(){if(window.removeEventListener("pointermove",_t1966),window.removeEventListener("pointerup",_e1406),!1===_i1283){var _iterator1315=_createForOfIteratorHelper(_this780["#items"].children),_step1315;try{for(_iterator1315.s();!(_step1315=_iterator1315.n()).done;){var _t1967=_step1315.value;_t1967===s?(_t1967.setAttribute("data-selected",""),_t1967[_m]=Date.now()):_t1967.removeAttribute("data-selected"),_this780.dispatchEvent(new CustomEvent("selectedgradientschange"));}}catch(err){_iterator1315.e(err);}finally{_iterator1315.f();}}});}}},{key:"Zw",value:function Zw(t){var _this781=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,h="start",a=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===a&&(a=setInterval(function(){return _this781["#items"].scrollTop+=r;},10));},c=function c(){null!==a&&(clearInterval(a),a=null);},p=function p(){var t=_this781.Qs.pointerClientPoint,e=_this781._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this781._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1407=l.getBoundingClientRect();if(h=t.y<_e1407.y+_e1407.height/2?"start":"end",_this781.Kw(n,l,h)){var _t1968=l.offsetTop-_this781["#items"].scrollTop;"end"===h&&(_t1968+=_e1407.height),_this781["#drop-indicator"].hidden=!1,_this781["#drop-indicator"].style.top=_t1968-1+"px";}else l=null,_this781["#drop-indicator"].hidden=!0;}else _this781["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s761){function s(_x151){return _s761.apply(this,arguments);}s.toString=function(){return _s761.toString();};return s;}(function(t){if(_this781["#items"].removeEventListener("pointermove",e),_this781["#items"].removeEventListener("scroll",i),_this781["#items"].removeEventListener("lostpointercapture",s),_this781["#items"].style.cursor=null,_this781["#drop-indicator"].hidden=!0,c(),_this781.Js.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1408=n[0][Sm],_i1284=_this781.Js.board.getWorkspaceElementFromPoint(t.clientX,t.clientY),_s760=_this781.Qs.modKeys.shift;_i1284&&w.includes(_i1284.localName)&&(_s760?(_this781.Js.board.undoManager.checkpoint("Apply gradient stroke"),_i1284.style.stroke="url(#".concat(_e1408.id,")")):(_this781.Js.board.undoManager.checkpoint("Apply gradient fill"),_i1284.style.fill="url(#".concat(_e1408.id,")")),_this781.Iv());}}else if(l){_this781.Js.board.undoManager.checkpoint("Rearrange gradients");var _t1969=document.createDocumentFragment(),_e1409=l[Sm];var _iterator1316=_createForOfIteratorHelper(n),_step1316;try{for(_iterator1316.s();!(_step1316=_iterator1316.n()).done;){var _i1285=_step1316.value;_i1285[Sm]!==_e1409&&_t1969.append(_i1285[Sm]);}}catch(err){_iterator1316.e(err);}finally{_iterator1316.f();}"start"===h?_e1409.before(_t1969):_e1409.after(_t1969);}}));}},{key:"vn",value:function vn(t){if(this["#search-input"].matches(":focus")||this["#gradient-inspector-popover"].opened)return;var e=eo.fromEvent(t);if(e.matches("Enter")){var _t1970=this["#items"].querySelector(".item[data-label-edited]"),_e1410=this["#items"].querySelector(".item[data-selected]");_t1970?this.focus():_e1410&&this.Pv(_e1410[Sm].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.zv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu()||this.Lv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru()||this.Bv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru(!0));}}},{key:"zu",value:function zu(){this.Qs.setConfig("bx-gradientsbrowser:developerMode",this["#developer-mode-button"].toggled),this.ov(),this.focus();}},{key:"Vw",value:function Vw(t){var e=t.target.closest("x-menuitem");e&&("add-gradient"===e.value?this.Rv():"add-gradient-from-fill"===e.value?this.wy("fill"):"add-gradient-from-stroke"===e.value&&this.wy("stroke"));}},{key:"vv",value:function vv(){var t=this.Js.board.selectedObjectElements,e=null,i=null;if(1===t.length){var _s762=getComputedStyle(t[0]),_n551=no.fromString(_s762.fill),_o440=no.fromString(_s762.stroke);if(_n551&&"#"===_n551.value[0]){var _t1971=this.Js.board.masterWorkspace.querySelector(_n551.value);!_t1971||"linearGradient"!==_t1971.localName&&"radialGradient"!==_t1971.localName||!1!==_o(_t1971)||(e=_t1971);}if(_o440&&"#"===_o440.value[0]){var _t1972=this.Js.board.masterWorkspace.querySelector(_o440.value);!_t1972||"linearGradient"!==_t1972.localName&&"radialGradient"!==_t1972.localName||!1!==_o(_t1972)||(i=_t1972);}}this["#add-gradient-from-fill-menu-item"].disabled=null===e,this["#add-gradient-from-stroke-menu-item"].disabled=null===i;}},{key:"wv",value:function wv(){this.Fv(),this.Lu();}},{key:"editGradient",value:function(){var _editGradient=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee125(t){var e,_t1973,_i1286;return regeneratorRuntime.wrap(function _callee125$(_context126){while(1){switch(_context126.prev=_context126.next){case 0:e=_toConsumableArray(this["#items"].children).find(function(e){return e[Sm].id===t;});if(!e){_context126.next=8;break;}this.yv([e]);_t1973=e.getBoundingClientRect(),_i1286=new DOMPoint(_t1973.left,_t1973.top+_t1973.height/2);_context126.next=6;return Qi(10);case 6:this["#gradient-inspector-popover"].open(_i1286);this["#gradient-inspector"].enabled=!0;case 8:case"end":return _context126.stop();}}},_callee125,this);}));function editGradient(_x152){return _editGradient.apply(this,arguments);}return editGradient;}()},{key:"xy",value:function xy(){this["#gradient-inspector-popover"].opened&&(this["#gradient-inspector-popover"].close(),this["#gradient-inspector"].enabled=!1);}},{key:"Pv",value:function Pv(t){var _this782=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[Sm].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t1974=this["#items"].querySelector(".item[data-label-edited]");if(_t1974){if(_t1974===i)return;this.Uv();}}this.yv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[Sm],l=this["#developer-mode-button"].toggled?"Gradient ID":"Gradient title",h=o.querySelector(":scope > bx-title"),a="";!0===this["#developer-mode-button"].toggled&&o.id?a="#"+o.id:!1===this["#developer-mode-button"].toggled&&h&&(a=h.textContent);var r=Yi(_templateObject49(),a,l);n.after(r),r.selectAll(),Qi(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this782.Uv();}),r.validate=function(){var t=null;if(_this782["#developer-mode-button"].toggled){var _e1411=r.value.trim();if(_e1411.startsWith("#")&&(_e1411=_e1411.substring(1)),0===_e1411.length)t="Gradient must have ID";else if(Vi(_e1411)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1411)))&&o.id!==_e1411&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"Uv",value:function Uv(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1412=this.Js.board,_i1287=t.querySelector(".label"),_s763=t.querySelector("x-input"),_n552=t[Sm];if(_s763.remove(),_i1287.hidden=!1,t.removeAttribute("data-label-edited"),null===_s763.error)if(this["#developer-mode-button"].toggled){var _t1975=_n552.getAttribute("id").trim(),_i1288=_s763.value.trim().toLowerCase();if(_i1288.startsWith("#")&&(_i1288=_i1288.substring(1)),_t1975!==_i1288){_e1412.undoManager.checkpoint("Gradient ID");var _s764=document.createNodeIterator(_e1412.workspaces,NodeFilter.SHOW_ELEMENT),_n553=null;for(;_n553=_s764.nextNode();){"linearGradient"!==_n553.localName&&"radialGradient"!==_n553.localName||(_n553.id===_t1975&&_n553.setAttribute("id",_i1288),_n553.href.baseVal==="#"+_t1975&&_n553.setAttribute("href","#"+_i1288));{var _e1413=getComputedStyle(_n553);for(var _i1289=0,_arr51=["fill","stroke"];_i1289<_arr51.length;_i1289++){var _s765=_arr51[_i1289];var _o441=_e1413.getPropertyValue(_s765);if(_o441&&_o441.startsWith("url(")){_o441.substring(6,_o441.length-2)===_t1975&&_n553.style.setProperty(_s765,"url(#".concat(_i1288,")"));}}}}}}else{var _t1976=_n552.querySelector(":scope > bx-title"),_i1290=_s763.value.trim();if(_t1976){_t1976.textContent!==_i1290&&(_e1412.undoManager.checkpoint("Gradient title"),""===_i1290?_t1976.remove():_t1976.textContent=_i1290);}else""!==_i1290&&(_e1412.undoManager.checkpoint("Gradient title"),_t1976=zi("svg:bx-title"),_t1976.textContent=_i1290,_n552.prepend(_t1976));}}}},{key:"my",value:function my(t){this.Js.board.undoManager.checkpoint("Pin Gradient"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"gy",value:function gy(t){this.Js.board.undoManager.checkpoint("Unpin Gradient"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"yv",value:function yv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1317=_createForOfIteratorHelper(this["#items"].children),_step1317;try{for(_iterator1317.s();!(_step1317=_iterator1317.n()).done;){var _e1414=_step1317.value;t.includes(_e1414)?(_e1414.setAttribute("data-selected",""),_e1414[_m]=Date.now()):_e1414.removeAttribute("data-selected");}}catch(err){_iterator1317.e(err);}finally{_iterator1317.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}this.xy(),this.dispatchEvent(new CustomEvent("selectedgradientschange"));}},{key:"Bu",value:function Bu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1291=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s766=e[0],_n554=_i1291.indexOf(_s766),_o442=_i1291[_n554-1];if(_o442){if(_o442.scrollIntoViewIfNeeded(),t)_o442.setAttribute("data-selected",""),_o442[_m]=Date.now();else{var _iterator1318=_createForOfIteratorHelper(_i1291),_step1318;try{for(_iterator1318.s();!(_step1318=_iterator1318.n()).done;){var _t1977=_step1318.value;_t1977===_o442?(_t1977.setAttribute("data-selected",""),_t1977[_m]=Date.now()):_t1977.removeAttribute("data-selected");}}catch(err){_iterator1318.e(err);}finally{_iterator1318.f();}}return this.xy(),this.dispatchEvent(new CustomEvent("selectedgradientschange")),!0;}}return!1;}},{key:"Ru",value:function Ru(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1292=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s767=e[e.length-1],_n555=_i1292.indexOf(_s767),_o443=_i1292[_n555+1];if(_o443){if(_o443.scrollIntoViewIfNeeded(),t)_o443.setAttribute("data-selected",""),_o443[_m]=Date.now();else{var _iterator1319=_createForOfIteratorHelper(_i1292),_step1319;try{for(_iterator1319.s();!(_step1319=_iterator1319.n()).done;){var _t1978=_step1319.value;_t1978===_o443?(_t1978.setAttribute("data-selected",""),_t1978[_m]=Date.now()):_t1978.removeAttribute("data-selected");}}catch(err){_iterator1319.e(err);}finally{_iterator1319.f();}}return this.xy(),this.dispatchEvent(new CustomEvent("selectedgradientschange")),!0;}}return!1;}},{key:"Lv",value:function Lv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1320=_createForOfIteratorHelper(t),_step1320;try{for(_iterator1320.s();!(_step1320=_iterator1320.n()).done;){var _i1293=_step1320.value;_i1293===e?(_i1293.setAttribute("data-selected",""),_i1293[_m]=Date.now()):_i1293.removeAttribute("data-selected");}}catch(err){_iterator1320.e(err);}finally{_iterator1320.f();}return this.xy(),this.dispatchEvent(new CustomEvent("selectedgradientschange")),!0;}return!1;}},{key:"Bv",value:function Bv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1321=_createForOfIteratorHelper(t),_step1321;try{for(_iterator1321.s();!(_step1321=_iterator1321.n()).done;){var _i1294=_step1321.value;_i1294===e?(_i1294.setAttribute("data-selected",""),_i1294[_m]=Date.now()):_i1294.removeAttribute("data-selected");}}catch(err){_iterator1321.e(err);}finally{_iterator1321.f();}return this.xy(),this.dispatchEvent(new CustomEvent("selectedgradientschange")),!0;}return!1;}},{key:"uv",value:function uv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.yv(t,!1);}},{key:"bv",value:function bv(){this.yv([],!1);}},{key:"pv",value:function pv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#gradient-inspector-popover"].opened||null;}},{key:"xv",value:function xv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#gradient-inspector-popover"].opened||null;}},{key:"Rv",value:function Rv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add gradient");var i=zi("svg:linearGradient");if(i.setAttribute("id",t.generateUniqueID("gradient")),i.setAttribute("data-bx-pinned","true"),e.length>0){e[e.length-1][Sm].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[Sm]===i;});this.yv([s]);}},{key:"wy",value:function wy(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"fill";var e=this.Js.board,i=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"),s=e.selectedObjectElements[0],n=no.fromString(getComputedStyle(s)[t]),o=e.masterWorkspace.querySelector(n.value);e.undoManager.checkpoint("Add gradient");var l=zi("svg:linearGradient");l.setAttribute("id",e.generateUniqueID("gradient")),l.setAttribute("data-bx-pinned","true");var _iterator1322=_createForOfIteratorHelper(Do(o)),_step1322;try{for(_iterator1322.s();!(_step1322=_iterator1322.n()).done;){var _t1979=_step1322.value;var _e1415=zi("svg:stop");_e1415.offset.baseVal=_t1979.offset.baseVal,_e1415.style.stopColor=To(_t1979),l.append(_e1415);}}catch(err){_iterator1322.e(err);}finally{_iterator1322.f();}if(i.length>0){i[i.length-1][Sm].after(l);}else e.maybeCreateDefsForMasterWorkspace(),e.defs.append(l);this.qs();var h=_toConsumableArray(this["#items"].children).find(function(t){return t[Sm]===l;});this.yv([h]);}},{key:"Dv",value:function Dv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"),i=e.length>0?e[e.length-1]:null,s=i?i[Sm]:null,n=document.createDocumentFragment(),o=[];t.undoManager.checkpoint("Duplicate gradient"+(e.length>1?"s":""));var _iterator1323=_createForOfIteratorHelper(e),_step1323;try{for(_iterator1323.s();!(_step1323=_iterator1323.n()).done;){var _i1295=_step1323.value;var _e1416=zi("svg:linearGradient");_e1416.setAttribute("id",t.generateUniqueID("gradient"));var _iterator1324=_createForOfIteratorHelper(Do(_i1295[Sm])),_step1324;try{for(_iterator1324.s();!(_step1324=_iterator1324.n()).done;){var _t1981=_step1324.value;var _i1296=zi("svg:stop");_i1296.offset.baseVal=_t1981.offset.baseVal,_i1296.style.stopColor=To(_t1981),_e1416.append(_i1296);}}catch(err){_iterator1324.e(err);}finally{_iterator1324.f();}n.append(_e1416),o.push(_e1416);}}catch(err){_iterator1323.e(err);}finally{_iterator1323.f();}s.after(n);{this.qs();var _t1980=_toConsumableArray(this["#items"].children).filter(function(t){return o.includes(t[Sm]);});this.yv(_t1980);}}},{key:"zv",value:function(){var _zv2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee126(){var t,e,i,_iterator1325,_step1325,_step1325$value,_t1985,_s772,_iterator1327,_step1327,_n557,_t1982,_s768,_i1297,_s769,_i1298,_i1299,_arr52,_n556,_o444,_l351,_h261,_a211,_i1300,_s770,_iterator1326,_step1326,_t1984,_i1301,_s771,_t1983;return regeneratorRuntime.wrap(function _callee126$(_context127){while(1){switch(_context127.prev=_context127.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[Sm];}),i=[];_iterator1325=_createForOfIteratorHelper(this.vy());try{for(_iterator1325.s();!(_step1325=_iterator1325.n()).done;){_step1325$value=_slicedToArray(_step1325.value,2),_t1985=_step1325$value[0],_s772=_step1325$value[1];_iterator1327=_createForOfIteratorHelper(_s772);try{for(_iterator1327.s();!(_step1327=_iterator1327.n()).done;){_n557=_step1327.value;e.includes(_n557)&&!1===i.includes(_t1985)&&i.push(_t1985);}}catch(err){_iterator1327.e(err);}finally{_iterator1327.f();}}}catch(err){_iterator1325.e(err);}finally{_iterator1325.f();}if(!(0!==e.length)){_context127.next=19;break;}if(!(i.length>0)){_context127.next=12;break;}_t1982="Delete ";1===e.length?_t1982+="a gradient":_t1982+="".concat(e.length," gradients"),_t1982+=" applied to ",1===i.length?_t1982+="1 object?":_t1982+="".concat(i.length," objects?");_context127.next=9;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t1982,detail:"Deleting a gradient also removes it from all objects it was applied to."});case 9:_s768=_context127.sent;if(!(-1===_s768||1===_s768)){_context127.next=12;break;}return _context127.abrupt("return");case 12:t.undoManager.checkpoint("Delete gradients"),this.Ru()||this.Bu();_i1297=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),_s769=null;for(;_s769=_i1297.nextNode();){if(w.includes(_s769.localName)){_i1298=getComputedStyle(_s769);for(_i1299=0,_arr52=["fill","stroke"];_i1299<_arr52.length;_i1299++){_n556=_arr52[_i1299];_o444=no.fromString(_i1298[_n556]),_l351=_o444?t.masterWorkspace.querySelector(_o444.value):null,_h261=_l351&&["linearGradient","radialGradient"].includes(_l351.localName)?_l351:null,_a211=_h261?ko(_h261):null;e.includes(_a211)&&(_s769.style[_n556]="#000000",_s769.removeAttribute(_n556));}}}_i1300=_toConsumableArray(t.masterWorkspace.querySelectorAll("linearGradient, radialGradient")),_s770=[];_iterator1326=_createForOfIteratorHelper(_i1300);try{for(_iterator1326.s();!(_step1326=_iterator1326.n()).done;){_t1984=_step1326.value;(e.includes(_t1984)||e.includes(ko(_t1984)))&&_s770.push(_t1984);}}catch(err){_iterator1326.e(err);}finally{_iterator1326.f();}for(_i1301=0,_s771=_s770;_i1301<_s771.length;_i1301++){_t1983=_s771[_i1301];_t1983.remove();}case 19:case"end":return _context127.stop();}}},_callee126,this);}));function zv(){return _zv2.apply(this,arguments);}return zv;}()},{key:"Ov",value:function Ov(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[Sm];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin gradient"+e.length>1?"s":"");var _iterator1328=_createForOfIteratorHelper(e),_step1328;try{for(_iterator1328.s();!(_step1328=_iterator1328.n()).done;){var _t1986=_step1328.value;_t1986.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1328.e(err);}finally{_iterator1328.f();}}}},{key:"Ev",value:function Ev(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[Sm];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin gradient"+e.length>1?"s":"");var _iterator1329=_createForOfIteratorHelper(e),_step1329;try{for(_iterator1329.s();!(_step1329=_iterator1329.n()).done;){var _t1987=_step1329.value;_t1987.removeAttribute("data-bx-pinned");}}catch(err){_iterator1329.e(err);}finally{_iterator1329.f();}}}},{key:"Kw",value:function Kw(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s773=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_n558=t[0],_o445=_s773.indexOf(e);if("start"===i){if(_s773[_o445-1]===_n558)return!1;}else if("end"===i){if(_s773[_o445+1]===_n558)return!1;}}return!0;}},{key:"by",value:function by(t){var e=this.Js.board,i=document.createNodeIterator(e.currentWorkspace,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(w.includes(s.localName)){var _i1302=getComputedStyle(s);for(var _i1303=0,_arr53=["fill","stroke"];_i1303<_arr53.length;_i1303++){var _o446=_arr53[_i1303];var _l352=no.fromString(_i1302[_o446]),_h262=_l352?e.masterWorkspace.querySelector(_l352.value):null,_a212=_h262&&["linearGradient","radialGradient"].includes(_h262.localName)?_h262:null,_r145=_a212?ko(_a212):null;if(_r145&&_r145.id===t){var _t1988=s.closest("text");_t1988?!1===n.includes(_t1988)&&n.push(_t1988):n.push(s);break;}}}}e.selectedElements=[].concat(n);}},{key:"vy",value:function vy(){var t=this.Js.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(w.includes(s.localName)){var _i1304=getComputedStyle(s);for(var _i1305=0,_arr54=["fill","stroke"];_i1305<_arr54.length;_i1305++){var _n559=_arr54[_i1305];var _o447=no.fromString(_i1304[_n559]),_l353=_o447?t.masterWorkspace.querySelector(_o447.value):null,_h263=_l353&&["linearGradient","radialGradient"].includes(_l353.localName)?_l353:null,_a213=_h263?ko(_h263):null;_a213&&(!1===e.has(s)?e.set(s,[_a213]):e.get(s).push(_a213));}}}return e;}},{key:"qs",value:function qs(){{var _t1989=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("linearGradient, radialGradient")).filter(function(t){return Mo(t);}),_e1417=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[Sm];}),_i1306=document.createDocumentFragment();var _iterator1330=_createForOfIteratorHelper(_t1989),_step1330;try{for(_iterator1330.s();!(_step1330=_iterator1330.n()).done;){var _s774=_step1330.value;var _t1990=Do(_s774),_n560="";if(0===_t1990.length)_n560="background: transparent";else if(1===_t1990.length){_n560="background: ".concat(To(_t1990[0]));}else if(_t1990.length>1){_n560="background-image: linear-gradient(90deg, "+_t1990.map(function(t){return"".concat(To(t)," ").concat(100*t.offset.baseVal,"%");}).join(", ")+")";}var _o448=Yi(_templateObject50(),_n560,_s774.id);_o448[Sm]=_s774,_e1417.includes(_s774)&&(_o448.setAttribute("data-selected",""),_o448[_m]=Date.now()),this.Vv(_o448),this.jv(_o448),_i1306.append(_o448);}}catch(err){_iterator1330.e(err);}finally{_iterator1330.f();}this["#items"].innerHTML="",this["#items"].append(_i1306);}this.Iv(),this.Mv(),this.Lu();}},{key:"Fv",value:function Fv(){var _iterator1331=_createForOfIteratorHelper(this["#items"].children),_step1331;try{for(_iterator1331.s();!(_step1331=_iterator1331.n()).done;){var _t1991=_step1331.value;this.jv(_t1991);}}catch(err){_iterator1331.e(err);}finally{_iterator1331.f();}}},{key:"ov",value:function ov(){this["#search-input"].value="";var _iterator1332=_createForOfIteratorHelper(this["#items"].children),_step1332;try{for(_iterator1332.s();!(_step1332=_iterator1332.n()).done;){var _t1992=_step1332.value;this.Vv(_t1992),this.jv(_t1992);}}catch(err){_iterator1332.e(err);}finally{_iterator1332.f();}this.Lu();}},{key:"Lu",value:function Lu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"jv",value:function jv(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Vv",value:function Vv(t){var e=t[Sm],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<gradient>",i.removeAttribute("data-custom"));else{var _t1993;_t1993=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t1993?(i.textContent=_t1993.textContent,i.setAttribute("data-custom","")):(i.textContent="Gradient",i.removeAttribute("data-custom"));}}},{key:"Iv",value:function Iv(){var t=this.vy();var _iterator1333=_createForOfIteratorHelper(this["#items"].children),_step1333;try{for(_iterator1333.s();!(_step1333=_iterator1333.n()).done;){var _e1418=_step1333.value;var _i1307=_e1418.querySelector(".counter-button"),_s775=0;var _iterator1334=_createForOfIteratorHelper(t),_step1334;try{for(_iterator1334.s();!(_step1334=_iterator1334.n()).done;){var _step1334$value=_slicedToArray(_step1334.value,2),_i1308=_step1334$value[0],_n561=_step1334$value[1];_n561.includes(_e1418[Sm])&&(_s775+=1);}}catch(err){_iterator1334.e(err);}finally{_iterator1334.f();}0===_s775?(_i1307.setAttribute("hidden",""),_i1307.firstElementChild.textContent="0"):(_i1307.setAttribute("title",1===_s775?"Select 1 gradient user":"Select ".concat(_s775," gradient users")),_i1307.removeAttribute("hidden"),_i1307.firstElementChild.textContent=_s775);}}catch(err){_iterator1333.e(err);}finally{_iterator1333.f();}}},{key:"Mv",value:function Mv(){if("unpinned"===this._v.gradients){var _iterator1335=_createForOfIteratorHelper(this["#items"].children),_step1335;try{for(_iterator1335.s();!(_step1335=_iterator1335.n()).done;){var _t1994=_step1335.value;var _e1419=_t1994[Sm],_i1309=_t1994.lastElementChild;_i1309.hidden=!1,_i1309.toggled=_e1419.hasAttribute("data-bx-pinned");}}catch(err){_iterator1335.e(err);}finally{_iterator1335.f();}}else{var _iterator1336=_createForOfIteratorHelper(this["#items"].children),_step1336;try{for(_iterator1336.s();!(_step1336=_iterator1336.n()).done;){var _t1995=_step1336.value;_t1995.lastElementChild.hidden=!0;}}catch(err){_iterator1336.e(err);}finally{_iterator1336.f();}}}}]);return Cm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Cm,"observedAttributes",["enabled"]);_defineProperty(Cm,"_shadowTemplate",Yi(_templateObject387()));_defineProperty(Cm,"_shadowStyleSheet",Wi(_templateObject388()));customElements.define("bx-gradientsbrowser",Cm);var Mm=Symbol(),Pm=Symbol();var Dm=/*#__PURE__*/function(_HTMLElement111){_inherits(Dm,_HTMLElement111);var _super165=_createSuper(Dm);_createClass(Dm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Dm(){var _temp45,_this783;_classCallCheck(this,Dm);(_temp45=_this783=_super165.call(this),_defineProperty(_assertThisInitialized(_this783),"commands",{selectAll:{enabled:function enabled(){return null===_this783._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this783.uv();}},deselectAll:{enabled:function enabled(){return null===_this783._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this783.bv();}}}),_temp45),_this783.yy=Zi(_this783.qs,2e3,_assertThisInitialized(_this783)),_this783.gv=0,_this783._shadowRoot=_this783.attachShadow({mode:"closed"}),_this783._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Dm._shadowStyleSheet],_this783._shadowRoot.append(document.importNode(Dm._shadowTemplate.content,!0));var _iterator1337=_createForOfIteratorHelper(_this783._shadowRoot.querySelectorAll("[id]")),_step1337;try{for(_iterator1337.s();!(_step1337=_iterator1337.n()).done;){var _t1996=_step1337.value;_this783["#"+_t1996.id]=_t1996;}}catch(err){_iterator1337.e(err);}finally{_iterator1337.f();}_this783.addEventListener("keydown",function(t){return _this783.vn(t);}),_this783["#items"].addEventListener("scroll",function(){return _this783.fv();}),_this783["#items"].addEventListener("contextmenu",function(t){return _this783.tp(t);}),_this783["#items"].addEventListener("pointerdown",function(t){return _this783.Qc(t);}),_this783["#items"].addEventListener("click",function(t){return _this783.Jc(t);}),_this783["#search-input"].addEventListener("input",function(){return _this783.wv();}),_this783["#developer-mode-button"].addEventListener("toggle",function(){return _this783.zu();}),_this783["#add-menu"].addEventListener("click",function(t){return _this783.Vw(t);}),_this783["#add-menu"].addEventListener("open",function(){return _this783.vv();});return _this783;}_createClass(Dm,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this["#items"].scrollTop=this.gv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this784=this;this.Qs.addEventListener("configchange",this.ln=function(t){_this784.hn(t);}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this784.sl(t);}),this.Js.board.addEventListener("artworkchange",this.mr=function(t){_this784.Sv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.gv,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-patternsbrowser:developerMode",!1),this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",jp),this.qs();}},{key:"sn",value:function sn(){this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("artworkchange",this.mr),this["#items"].remove();}},{key:"hn",value:function hn(t){var _t$detail12=t.detail,e=_t$detail12.key,i=_t$detail12.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",jp),this.Mv());}},{key:"sl",value:function sl(t){var e=t.detail,i="debounced";var _iterator1338=_createForOfIteratorHelper(e),_step1338;try{for(_iterator1338.s();!(_step1338=_iterator1338.n()).done;){var _t1997=_step1338.value;var _e1420=_t1997.target.nodeName,_s776=_t1997.addedNodes[0]?_t1997.addedNodes[0].nodeName:null,_n562=_t1997.removedNodes[0]?_t1997.removedNodes[0].nodeName:null,_o449=_t1997.attributeName;if("pattern"===_e1420){if("bx-title"===_s776||"bx-title"===_n562){i="now";break;}if("id"===_o449){i="now";break;}if("data-bx-pinned"===_o449){i="now";break;}}else if("bx-title"===_e1420){if(_s776||_n562){i="now";break;}}else if("pattern"===_s776||"pattern"===_n562){i="now";break;}}}catch(err){_iterator1338.e(err);}finally{_iterator1338.f();}"now"===i?this.qs():"debounced"===i&&this.yy();}},{key:"Sv",value:function Sv(){this.qs();}},{key:"fv",value:function fv(){this.gv=this["#items"].scrollTop;}},{key:"tp",value:function(){var _tp4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee127(t){var e,_i1310,_s777,_n563;return regeneratorRuntime.wrap(function _callee127$(_context128){while(1){switch(_context128.prev=_context128.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context128.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.yv([e]);_i1310=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[Mm];});_s777=e[Mm];_context128.next=7;return this.Qs.openContextMenu([{label:"Edit Pattern",value:"edit",disabled:1!==_i1310.length||this.Js.board.currentWorkspace.id===_s777.id},{label:"Edit Pattern ID",value:"edit-id",disabled:1!==_i1310.length},{label:"Edit Pattern Title",value:"edit-title",disabled:1!==_i1310.length},{type:"separator"},{label:"Delete Pattern"+(_i1310.length>1?"s":""),value:"delete",disabled:0===_i1310.length},{type:"separator"},{label:"Pin Pattern"+(_i1310.length>1?"s":""),value:"pin",disabled:void 0===_i1310.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Pattern"+(_i1310.length>1?"s":""),value:"unpin",disabled:void 0===_i1310.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Pattern Users",value:"select-users",disabled:1!==_i1310.length}]);case 7:_n563=_context128.sent;"edit"===_n563?this.Js.board.editPattern(_s777.id):"edit-id"===_n563?this.Pv(_s777.id,"id"):"edit-title"===_n563?this.Pv(_s777.id,"title"):"delete"===_n563?this.zv():"pin"===_n563?this.Ov():"unpin"===_n563?this.Ev():"select-users"===_n563&&this.ky(_s777.id);case 9:case"end":return _context128.stop();}}},_callee127,this);}));function tp(_x153){return _tp4.apply(this,arguments);}return tp;}()},{key:"Jc",value:function Jc(t){t.target.closest(".item")&&this.ev(t);}},{key:"ev",value:function ev(t){var _this$Qs$modKeys17=this.Qs.modKeys,e=_this$Qs$modKeys17.ctrl,i=_this$Qs$modKeys17.shift;if(!1===e&&!1===i){var _e1421=t.target.closest(".item"),_i1311=t.target.closest(".thumbnail"),_s778=t.target.closest(".counter-button"),_n564=t.target.closest(".pin-button"),_o450=_e1421[Mm].id;_s778?this.ky(_o450):_n564?_n564.toggled?this.Sy(_o450):this._y(_o450):_i1311?t.detail%2==0&&this.Js.board.editPattern(_o450):t.detail%2==0&&this.Pv(_o450);}}},{key:"Qc",value:function Qc(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1422=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1422&&this.yv([]);}else t.target.closest(".item")&&this.Dm(t);}},{key:"Dm",value:function Dm(t){var _this785=this;var _this$Qs$modKeys18=this.Qs.modKeys,e=_this$Qs$modKeys18.ctrl,i=_this$Qs$modKeys18.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[Pm]=Date.now());else if(!0===i){var _t1998=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1423=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1423.length>0){var _i1312=_t1998.indexOf(s),_n565=_e1423.sort(function(t,e){return e[Pm]-t[Pm];})[0],_o451=_t1998.indexOf(_n565),_l354=[];if(_i1312>_o451?_l354=_toConsumableArray(_t1998).slice(_o451,_i1312+1):_i1312<_o451&&(_l354=_toConsumableArray(_t1998).slice(_i1312,_o451+1).reverse()),_l354=_l354.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l354.length>0){var _iterator1339=_createForOfIteratorHelper(_l354),_step1339;try{for(_iterator1339.s();!(_step1339=_iterator1339.n()).done;){var _t1999=_step1339.value;_t1999.setAttribute("data-selected",""),_t1999[Pm]=Date.now();}}catch(err){_iterator1339.e(err);}finally{_iterator1339.f();}}}}else{var _t2002,_e1425,_i1313=!1;window.addEventListener("pointermove",_t2002=function _t2000(o){var l=new DOMPoint(o.clientX,o.clientY);if(De(n,l)>=3){if(window.removeEventListener("pointermove",_t2002),window.removeEventListener("pointerup",_e1425),!1===s.hasAttribute("data-selected")){var _iterator1340=_createForOfIteratorHelper(_this785["#items"].children),_step1340;try{for(_iterator1340.s();!(_step1340=_iterator1340.n()).done;){var _t2001=_step1340.value;_t2001===s?(_t2001.setAttribute("data-selected",""),_t2001[Pm]=Date.now()):_t2001.removeAttribute("data-selected");}}catch(err){_iterator1340.e(err);}finally{_iterator1340.f();}}_this785.Zw(o),_i1313=!0;}}),window.addEventListener("pointerup",_e1425=function _e1424(){if(window.removeEventListener("pointermove",_t2002),window.removeEventListener("pointerup",_e1425),!1===_i1313){var _iterator1341=_createForOfIteratorHelper(_this785["#items"].children),_step1341;try{for(_iterator1341.s();!(_step1341=_iterator1341.n()).done;){var _t2003=_step1341.value;_t2003===s?(_t2003.setAttribute("data-selected",""),_t2003[Pm]=Date.now()):_t2003.removeAttribute("data-selected");}}catch(err){_iterator1341.e(err);}finally{_iterator1341.f();}}});}}},{key:"Zw",value:function Zw(t){var _this786=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,h="start",a=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===a&&(a=setInterval(function(){return _this786["#items"].scrollTop+=r;},10));},c=function c(){null!==a&&(clearInterval(a),a=null);},p=function p(){var t=_this786.Qs.pointerClientPoint,e=_this786._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this786._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1426=l.getBoundingClientRect();if(h=t.y<_e1426.y+_e1426.height/2?"start":"end",_this786.Kw(n,l,h)){var _t2004=l.offsetTop-_this786["#items"].scrollTop;"end"===h&&(_t2004+=_e1426.height),_this786["#drop-indicator"].hidden=!1,_this786["#drop-indicator"].style.top=_t2004-1+"px";}else l=null,_this786["#drop-indicator"].hidden=!0;}else _this786["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s780){function s(_x154){return _s780.apply(this,arguments);}s.toString=function(){return _s780.toString();};return s;}(function(t){if(_this786["#items"].removeEventListener("pointermove",e),_this786["#items"].removeEventListener("scroll",i),_this786["#items"].removeEventListener("lostpointercapture",s),_this786["#items"].style.cursor=null,_this786["#drop-indicator"].hidden=!0,c(),_this786.Js.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1427=n[0][Mm],_i1314=_this786.Js.board.getWorkspaceElementFromPoint(t.clientX,t.clientY),_s779=_this786.Qs.modKeys.shift;_i1314&&w.includes(_i1314.localName)&&(_s779?(_this786.Js.board.undoManager.checkpoint("Apply pattern stroke"),_i1314.style.stroke="url(#".concat(_e1427.id,")")):(_this786.Js.board.undoManager.checkpoint("Apply pattern fill"),_i1314.style.fill="url(#".concat(_e1427.id,")")),_this786.Iv());}}else if(l){_this786.Js.board.undoManager.checkpoint("Rearrange patterns");var _t2005=document.createDocumentFragment(),_e1428=l[Mm];var _iterator1342=_createForOfIteratorHelper(n),_step1342;try{for(_iterator1342.s();!(_step1342=_iterator1342.n()).done;){var _i1315=_step1342.value;_i1315[Mm]!==_e1428&&_t2005.append(_i1315[Mm]);}}catch(err){_iterator1342.e(err);}finally{_iterator1342.f();}"start"===h?_e1428.before(_t2005):_e1428.after(_t2005);}}));}},{key:"vn",value:function vn(t){if(this["#search-input"].matches(":focus"))return;var e=eo.fromEvent(t);if(e.matches("Enter")){var _t2006=this["#items"].querySelector(".item[data-label-edited]"),_e1429=this["#items"].querySelector(".item[data-selected]");_t2006?this.focus():_e1429&&this.Pv(_e1429[Mm].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.zv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu()||this.Lv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru()||this.Bv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru(!0));}}},{key:"zu",value:function zu(){this.Qs.setConfig("bx-patternsbrowser:developerMode",this["#developer-mode-button"].toggled),this.ov(),this.focus();}},{key:"Vw",value:function Vw(t){var e=t.target.closest("x-menuitem");e&&("add-pattern"===e.value?this.Rv():"add-pattern-from-objects"===e.value&&this.Cy());}},{key:"vv",value:function vv(){var t=this.Js.board.selectedObjectElements;this["#add-pattern-from-objects-menu-item"].disabled=0===t.length;}},{key:"wv",value:function wv(){this.Fv(),this.Lu();}},{key:"Pv",value:function Pv(t){var _this787=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[Mm].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t2007=this["#items"].querySelector(".item[data-label-edited]");if(_t2007){if(_t2007===i)return;this.Uv();}}this.yv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[Mm],l=this["#developer-mode-button"].toggled?"Pattern ID":"Pattern title",h=(s.currentWorkspace.id===o.id?s.currentWorkspace:o).querySelector(":scope > bx-title"),a="";!0===this["#developer-mode-button"].toggled&&o.id?a="#"+o.id:!1===this["#developer-mode-button"].toggled&&h&&(a=h.textContent);var r=Yi(_templateObject51(),a,l);n.after(r),r.selectAll(),Qi(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this787.Uv();}),r.validate=function(){var t=null;if(_this787["#developer-mode-button"].toggled){var _e1430=r.value.trim();if(_e1430.startsWith("#")&&(_e1430=_e1430.substring(1)),0===_e1430.length)t="Pattern must have ID";else if(Vi(_e1430)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1430)))&&o.id!==_e1430&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"Uv",value:function Uv(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1431=this.Js.board,_i1316=t.querySelector(".label"),_s781=t.querySelector("x-input"),_n566=t[Mm];if(_s781.remove(),_i1316.hidden=!1,t.removeAttribute("data-label-edited"),null===_s781.error)if(this["#developer-mode-button"].toggled){var _t2008=_n566.getAttribute("id").trim(),_i1317=_s781.value.trim().toLowerCase();if(_i1317.startsWith("#")&&(_i1317=_i1317.substring(1)),_t2008!==_i1317){_e1431.undoManager.checkpoint("Pattern ID");var _s782=document.createNodeIterator(_e1431.workspaces,NodeFilter.SHOW_ELEMENT),_n567=null;for(;_n567=_s782.nextNode();){"pattern"===_n567.localName?(_n567.id===_t2008&&_n567.setAttribute("id",_i1317),_n567.href.baseVal==="#"+_t2008&&_n567.setAttribute("href","#"+_i1317)):"g"===_n567.localName&&"pattern"===_n567.getAttribute("data-bx-workspace")&&_n567.id===_t2008&&_n567.setAttribute("id",_i1317);{var _e1432=getComputedStyle(_n567);for(var _i1318=0,_arr55=["fill","stroke"];_i1318<_arr55.length;_i1318++){var _s783=_arr55[_i1318];var _o452=_e1432.getPropertyValue(_s783);if(_o452&&_o452.startsWith("url(")){_o452.substring(6,_o452.length-2)===_t2008&&_n567.style.setProperty(_s783,"url(#".concat(_i1317,")"));}}}}}}else{var _t2009=_e1431.currentWorkspace.id===_n566.id?_e1431.currentWorkspace:_n566,_i1319=_t2009.querySelector(":scope > bx-title"),_o453=_s781.value.trim();if(_i1319){_i1319.textContent!==_o453&&(_e1431.undoManager.checkpoint("Pattern title"),""===_o453?_i1319.remove():_i1319.textContent=_o453);}else""!==_o453&&(_e1431.undoManager.checkpoint("Pattern title"),_i1319=zi("svg:bx-title"),_i1319.textContent=_o453,_t2009.prepend(_i1319));}}}},{key:"Sy",value:function Sy(t){this.Js.board.undoManager.checkpoint("Pin Pattern"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"_y",value:function _y(t){this.Js.board.undoManager.checkpoint("Unpin Pattern"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"yv",value:function yv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1343=_createForOfIteratorHelper(this["#items"].children),_step1343;try{for(_iterator1343.s();!(_step1343=_iterator1343.n()).done;){var _e1433=_step1343.value;t.includes(_e1433)?(_e1433.setAttribute("data-selected",""),_e1433[Pm]=Date.now()):_e1433.removeAttribute("data-selected");}}catch(err){_iterator1343.e(err);}finally{_iterator1343.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}}},{key:"Bu",value:function Bu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1320=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s784=e[0],_n568=_i1320.indexOf(_s784),_o454=_i1320[_n568-1];if(_o454){if(_o454.scrollIntoViewIfNeeded(),t)_o454.setAttribute("data-selected",""),_o454[Pm]=Date.now();else{var _iterator1344=_createForOfIteratorHelper(_i1320),_step1344;try{for(_iterator1344.s();!(_step1344=_iterator1344.n()).done;){var _t2010=_step1344.value;_t2010===_o454?(_t2010.setAttribute("data-selected",""),_t2010[Pm]=Date.now()):_t2010.removeAttribute("data-selected");}}catch(err){_iterator1344.e(err);}finally{_iterator1344.f();}}return!0;}}return!1;}},{key:"Ru",value:function Ru(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1321=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s785=e[e.length-1],_n569=_i1321.indexOf(_s785),_o455=_i1321[_n569+1];if(_o455){if(_o455.scrollIntoViewIfNeeded(),t)_o455.setAttribute("data-selected",""),_o455[Pm]=Date.now();else{var _iterator1345=_createForOfIteratorHelper(_i1321),_step1345;try{for(_iterator1345.s();!(_step1345=_iterator1345.n()).done;){var _t2011=_step1345.value;_t2011===_o455?(_t2011.setAttribute("data-selected",""),_t2011[Pm]=Date.now()):_t2011.removeAttribute("data-selected");}}catch(err){_iterator1345.e(err);}finally{_iterator1345.f();}}return!0;}}return!1;}},{key:"Lv",value:function Lv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1346=_createForOfIteratorHelper(t),_step1346;try{for(_iterator1346.s();!(_step1346=_iterator1346.n()).done;){var _i1322=_step1346.value;_i1322===e?(_i1322.setAttribute("data-selected",""),_i1322[Pm]=Date.now()):_i1322.removeAttribute("data-selected");}}catch(err){_iterator1346.e(err);}finally{_iterator1346.f();}return!0;}return!1;}},{key:"Bv",value:function Bv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1347=_createForOfIteratorHelper(t),_step1347;try{for(_iterator1347.s();!(_step1347=_iterator1347.n()).done;){var _i1323=_step1347.value;_i1323===e?(_i1323.setAttribute("data-selected",""),_i1323[Pm]=Date.now()):_i1323.removeAttribute("data-selected");}}catch(err){_iterator1347.e(err);}finally{_iterator1347.f();}return!0;}return!1;}},{key:"uv",value:function uv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.yv(t,!1);}},{key:"bv",value:function bv(){this.yv([],!1);}},{key:"Rv",value:function Rv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add pattern");var i=zi("svg:pattern");if(i.setAttribute("id",t.generateUniqueID("pattern")),i.setAttribute("viewBox","0 0 100 100"),i.setAttribute("patternUnits","userSpaceOnUse"),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("width","100"),i.setAttribute("height","100"),i.setAttribute("data-bx-pinned","true"),e.length>0){e[e.length-1][Mm].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[Mm]===i;});this.yv([s]);}},{key:"Cy",value:function Cy(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add pattern");var i=Ne(t.outermostSelectedObjectElements.map(function(t){return Mi(t);}));i=Ue(i,jt(t.currentWorkspace).inverse());var s=-i.x,n=-i.y,o=Z(i.width,4),l=Z(i.height,4),h=zi("svg:pattern");h.setAttribute("id",t.generateUniqueID("pattern")),h.setAttribute("viewBox","0 0 ".concat(o," ").concat(l)),h.setAttribute("patternUnits","userSpaceOnUse"),h.setAttribute("preserveAspectRatio","none"),h.setAttribute("width","100"),h.setAttribute("height","100"),h.setAttribute("data-bx-pinned","true");var _iterator1348=_createForOfIteratorHelper(Bi(t.outermostSelectedObjectElements)),_step1348;try{for(_iterator1348.s();!(_step1348=_iterator1348.n()).done;){var _e1434=_step1348.value;var _i1324=new DOMMatrix();_i1324.translateSelf(s,n),_i1324.multiplySelf(Vt(_e1434,t.currentWorkspace)),_e1434.setAttribute("transform",_i1324),h.append(_e1434);}}catch(err){_iterator1348.e(err);}finally{_iterator1348.f();}if(t.selectedElements=[],t.selectedTextRange=null,t.currentContainer=null,e.length>0){e[e.length-1][Mm].after(h);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(h);this.qs();var a=_toConsumableArray(this["#items"].children).find(function(t){return t[Mm]===h;});this.yv([a]);}},{key:"zv",value:function(){var _zv3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee128(){var t,e,i,_iterator1349,_step1349,_step1349$value,_t2015,_s790,_iterator1351,_step1351,_n571,_t2012,_s786,_i1325,_s787,_i1326,_i1327,_arr56,_n570,_o456,_l355,_h264,_a214,_i1328,_s788,_iterator1350,_step1350,_t2014,_i1329,_s789,_t2013;return regeneratorRuntime.wrap(function _callee128$(_context129){while(1){switch(_context129.prev=_context129.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[Mm];}),i=[];_iterator1349=_createForOfIteratorHelper(this.My());try{for(_iterator1349.s();!(_step1349=_iterator1349.n()).done;){_step1349$value=_slicedToArray(_step1349.value,2),_t2015=_step1349$value[0],_s790=_step1349$value[1];_iterator1351=_createForOfIteratorHelper(_s790);try{for(_iterator1351.s();!(_step1351=_iterator1351.n()).done;){_n571=_step1351.value;e.includes(_n571)&&!1===i.includes(_t2015)&&i.push(_t2015);}}catch(err){_iterator1351.e(err);}finally{_iterator1351.f();}}}catch(err){_iterator1349.e(err);}finally{_iterator1349.f();}if(!(0!==e.length)){_context129.next=19;break;}if(!(i.length>0)){_context129.next=12;break;}_t2012="Delete ";1===e.length?_t2012+="a pattern":_t2012+="".concat(e.length," patterns"),_t2012+=" applied to ",1===i.length?_t2012+="1 object?":_t2012+="".concat(i.length," objects?");_context129.next=9;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t2012,detail:"Deleting a pattern also removes it from all objects it was applied to."});case 9:_s786=_context129.sent;if(!(-1===_s786||1===_s786)){_context129.next=12;break;}return _context129.abrupt("return");case 12:t.undoManager.checkpoint("Delete patterns"),this.Ru()||this.Bu(),"pattern"===t.currentWorkspace.getAttribute("data-bx-workspace")&&e.find(function(e){return e.id===t.currentWorkspace.id;})&&t.editPatternEnd(!1);_i1325=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),_s787=null;for(;_s787=_i1325.nextNode();){if(w.includes(_s787.localName)){_i1326=getComputedStyle(_s787);for(_i1327=0,_arr56=["fill","stroke"];_i1327<_arr56.length;_i1327++){_n570=_arr56[_i1327];_o456=no.fromString(_i1326[_n570]),_l355=_o456?t.masterWorkspace.querySelector(_o456.value):null,_h264=_l355&&"pattern"===_l355.localName?_l355:null,_a214=_h264?Go(_h264):null;e.includes(_a214)&&(_s787.style[_n570]="#000000",_s787.removeAttribute(_n570));}}}_i1328=_toConsumableArray(t.masterWorkspace.querySelectorAll("pattern")),_s788=[];_iterator1350=_createForOfIteratorHelper(_i1328);try{for(_iterator1350.s();!(_step1350=_iterator1350.n()).done;){_t2014=_step1350.value;(e.includes(_t2014)||e.includes(Go(_t2014)))&&_s788.push(_t2014);}}catch(err){_iterator1350.e(err);}finally{_iterator1350.f();}for(_i1329=0,_s789=_s788;_i1329<_s789.length;_i1329++){_t2013=_s789[_i1329];_t2013.remove();}case 19:case"end":return _context129.stop();}}},_callee128,this);}));function zv(){return _zv3.apply(this,arguments);}return zv;}()},{key:"Ov",value:function Ov(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[Mm];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin pattern"+e.length>1?"s":"");var _iterator1352=_createForOfIteratorHelper(e),_step1352;try{for(_iterator1352.s();!(_step1352=_iterator1352.n()).done;){var _t2016=_step1352.value;_t2016.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1352.e(err);}finally{_iterator1352.f();}}}},{key:"Ev",value:function Ev(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[Mm];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin pattern"+e.length>1?"s":"");var _iterator1353=_createForOfIteratorHelper(e),_step1353;try{for(_iterator1353.s();!(_step1353=_iterator1353.n()).done;){var _t2017=_step1353.value;_t2017.removeAttribute("data-bx-pinned");}}catch(err){_iterator1353.e(err);}finally{_iterator1353.f();}}}},{key:"Kw",value:function Kw(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s791=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_n572=t[0],_o457=_s791.indexOf(e);if("start"===i){if(_s791[_o457-1]===_n572)return!1;}else if("end"===i){if(_s791[_o457+1]===_n572)return!1;}}return!0;}},{key:"ky",value:function ky(t){var e=this.Js.board,i=document.createNodeIterator(e.currentWorkspace,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(w.includes(s.localName)){var _i1330=getComputedStyle(s);for(var _i1331=0,_arr57=["fill","stroke"];_i1331<_arr57.length;_i1331++){var _o458=_arr57[_i1331];var _l356=no.fromString(_i1330[_o458]),_h265=_l356?e.masterWorkspace.querySelector(_l356.value):null,_a215=_h265&&"pattern"===_h265.localName?_h265:null,_r146=_a215?Go(_a215):null;if(_r146&&_r146.id===t){var _t2018=s.closest("text");_t2018?!1===n.includes(_t2018)&&n.push(_t2018):n.push(s);break;}}}}e.selectedElements=[].concat(n);}},{key:"My",value:function My(){var t=this.Js.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(w.includes(s.localName)){var _i1332=getComputedStyle(s);for(var _i1333=0,_arr58=["fill","stroke"];_i1333<_arr58.length;_i1333++){var _n573=_arr58[_i1333];var _o459=no.fromString(_i1332[_n573]),_l357=_o459?t.masterWorkspace.querySelector(_o459.value):null,_h266=_l357&&"pattern"===_l357.localName?_l357:null,_a216=_h266?Go(_h266):null;_a216&&(!1===e.has(s)?e.set(s,[_a216]):e.get(s).push(_a216));}}}return e;}},{key:"qs",value:function qs(){{var _t2019=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("pattern")).filter(function(t){return Uo(t);}),_e1435=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[Mm];}),_i1334=document.createDocumentFragment();var _iterator1354=_createForOfIteratorHelper(_t2019),_step1354;try{for(_iterator1354.s();!(_step1354=_iterator1354.n()).done;){var _s792=_step1354.value;var _t2020=Yi(_templateObject52(),_s792.id,_s792.id);_t2020[Mm]=_s792,_e1435.includes(_s792)&&(_t2020.setAttribute("data-selected",""),_t2020[Pm]=Date.now()),this.Vv(_t2020),this.jv(_t2020),_i1334.append(_t2020);}}catch(err){_iterator1354.e(err);}finally{_iterator1354.f();}this["#items"].innerHTML="",this["#items"].append(_i1334);}this["#mirror-svg"].innerHTML=this.Js.board.masterWorkspace.innerHTML,this.Iv(),this.Mv(),this.Lu();}},{key:"Fv",value:function Fv(){var _iterator1355=_createForOfIteratorHelper(this["#items"].children),_step1355;try{for(_iterator1355.s();!(_step1355=_iterator1355.n()).done;){var _t2021=_step1355.value;this.jv(_t2021);}}catch(err){_iterator1355.e(err);}finally{_iterator1355.f();}}},{key:"ov",value:function ov(){this["#search-input"].value="";var _iterator1356=_createForOfIteratorHelper(this["#items"].children),_step1356;try{for(_iterator1356.s();!(_step1356=_iterator1356.n()).done;){var _t2022=_step1356.value;this.Vv(_t2022),this.jv(_t2022);}}catch(err){_iterator1356.e(err);}finally{_iterator1356.f();}this.Lu();}},{key:"Lu",value:function Lu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"jv",value:function jv(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Vv",value:function Vv(t){var e=t[Mm],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<pattern>",i.removeAttribute("data-custom"));else{var _t2023;_t2023=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t2023?(i.textContent=_t2023.textContent,i.setAttribute("data-custom","")):(i.textContent="Pattern",i.removeAttribute("data-custom"));}}},{key:"Iv",value:function Iv(){var t=this.My();var _iterator1357=_createForOfIteratorHelper(this["#items"].children),_step1357;try{for(_iterator1357.s();!(_step1357=_iterator1357.n()).done;){var _e1436=_step1357.value;var _i1335=_e1436.querySelector(".counter-button"),_s793=0;var _iterator1358=_createForOfIteratorHelper(t),_step1358;try{for(_iterator1358.s();!(_step1358=_iterator1358.n()).done;){var _step1358$value=_slicedToArray(_step1358.value,2),_i1336=_step1358$value[0],_n574=_step1358$value[1];_n574.includes(_e1436[Mm])&&(_s793+=1);}}catch(err){_iterator1358.e(err);}finally{_iterator1358.f();}0===_s793?(_i1335.setAttribute("hidden",""),_i1335.firstElementChild.textContent="0"):(_i1335.setAttribute("title",1===_s793?"Select 1 pattern user":"Select ".concat(_s793," pattern users")),_i1335.removeAttribute("hidden"),_i1335.firstElementChild.textContent=_s793);}}catch(err){_iterator1357.e(err);}finally{_iterator1357.f();}}},{key:"Mv",value:function Mv(){if("unpinned"===this._v.patterns){var _iterator1359=_createForOfIteratorHelper(this["#items"].children),_step1359;try{for(_iterator1359.s();!(_step1359=_iterator1359.n()).done;){var _t2024=_step1359.value;var _e1437=_t2024[Mm],_i1337=_t2024.lastElementChild;_i1337.hidden=!1,_i1337.toggled=_e1437.hasAttribute("data-bx-pinned");}}catch(err){_iterator1359.e(err);}finally{_iterator1359.f();}}else{var _iterator1360=_createForOfIteratorHelper(this["#items"].children),_step1360;try{for(_iterator1360.s();!(_step1360=_iterator1360.n()).done;){var _t2025=_step1360.value;_t2025.lastElementChild.hidden=!0;}}catch(err){_iterator1360.e(err);}finally{_iterator1360.f();}}}}]);return Dm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Dm,"observedAttributes",["enabled"]);_defineProperty(Dm,"_shadowTemplate",Yi(_templateObject389()));_defineProperty(Dm,"_shadowStyleSheet",Wi(_templateObject390()));customElements.define("bx-patternsbrowser",Dm);var zm=Symbol(),Om=Symbol();var Em=/*#__PURE__*/function(_HTMLElement112){_inherits(Em,_HTMLElement112);var _super166=_createSuper(Em);_createClass(Em,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Em(){var _temp46,_this788;_classCallCheck(this,Em);(_temp46=_this788=_super166.call(this),_defineProperty(_assertThisInitialized(_this788),"commands",{selectAll:{enabled:function enabled(){return null===_this788._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this788.uv();}},deselectAll:{enabled:function enabled(){return null===_this788._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this788.bv();}}}),_temp46),_this788.yy=Zi(_this788.qs,2e3,_assertThisInitialized(_this788)),_this788.gv=0,_this788._shadowRoot=_this788.attachShadow({mode:"closed"}),_this788._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Em._shadowStyleSheet],_this788._shadowRoot.append(document.importNode(Em._shadowTemplate.content,!0));var _iterator1361=_createForOfIteratorHelper(_this788._shadowRoot.querySelectorAll("[id]")),_step1361;try{for(_iterator1361.s();!(_step1361=_iterator1361.n()).done;){var _t2026=_step1361.value;_this788["#"+_t2026.id]=_t2026;}}catch(err){_iterator1361.e(err);}finally{_iterator1361.f();}_this788.addEventListener("keydown",function(t){return _this788.vn(t);}),_this788["#items"].addEventListener("scroll",function(){return _this788.fv();}),_this788["#items"].addEventListener("contextmenu",function(t){return _this788.tp(t);}),_this788["#items"].addEventListener("pointerdown",function(t){return _this788.Qc(t);}),_this788["#items"].addEventListener("click",function(t){return _this788.Jc(t);}),_this788["#search-input"].addEventListener("input",function(){return _this788.wv();}),_this788["#developer-mode-button"].addEventListener("toggle",function(){return _this788.zu();}),_this788["#add-menu"].addEventListener("click",function(t){return _this788.Vw(t);}),_this788["#add-menu"].addEventListener("open",function(){return _this788.vv();});return _this788;}_createClass(Em,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this["#items"].scrollTop=this.gv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this789=this;this.Qs.addEventListener("configchange",this.ln=function(t){_this789.hn(t);}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this789.sl(t);}),this.Js.board.addEventListener("artworkchange",this.mr=function(t){_this789.Sv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.gv,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-markersbrowser:developerMode",!1),this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",jp),this.qs();}},{key:"sn",value:function sn(){this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("artworkchange",this.mr),this["#items"].remove();}},{key:"hn",value:function hn(t){var _t$detail13=t.detail,e=_t$detail13.key,i=_t$detail13.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",jp),this.Mv());}},{key:"sl",value:function sl(t){var e=t.detail,i="debounced";var _iterator1362=_createForOfIteratorHelper(e),_step1362;try{for(_iterator1362.s();!(_step1362=_iterator1362.n()).done;){var _t2027=_step1362.value;var _e1438=_t2027.target.nodeName,_s794=_t2027.addedNodes[0]?_t2027.addedNodes[0].nodeName:null,_n575=_t2027.removedNodes[0]?_t2027.removedNodes[0].nodeName:null,_o460=_t2027.attributeName;if("marker"===_e1438){if("bx-title"===_s794||"bx-title"===_n575){i="now";break;}if("id"===_o460){i="now";break;}if("data-bx-pinned"===_o460){i="now";break;}}else if("bx-title"===_e1438){if(_s794||_n575){i="now";break;}}else if("marker"===_s794||"marker"===_n575){i="now";break;}}}catch(err){_iterator1362.e(err);}finally{_iterator1362.f();}"now"===i?this.qs():"debounced"===i&&this.yy();}},{key:"Sv",value:function Sv(){this.qs();}},{key:"fv",value:function fv(){this.gv=this["#items"].scrollTop;}},{key:"tp",value:function(){var _tp5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee129(t){var e,_i1338,_s795,_n576;return regeneratorRuntime.wrap(function _callee129$(_context130){while(1){switch(_context130.prev=_context130.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context130.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.yv([e]);_i1338=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[zm];});_s795=e[zm];_context130.next=7;return this.Qs.openContextMenu([{label:"Edit Marker",value:"edit",disabled:1!==_i1338.length||this.Js.board.currentWorkspace.id===_s795.id},{label:"Edit Marker ID",value:"edit-id",disabled:1!==_i1338.length},{label:"Edit Marker Title",value:"edit-title",disabled:1!==_i1338.length},{type:"separator"},{label:"Delete Marker"+(_i1338.length>1?"s":""),value:"delete",disabled:0===_i1338.length},{type:"separator"},{label:"Pin Marker"+(_i1338.length>1?"s":""),value:"pin",disabled:void 0===_i1338.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Marker"+(_i1338.length>1?"s":""),value:"unpin",disabled:void 0===_i1338.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Marker Users",value:"select-users",disabled:1!==_i1338.length}]);case 7:_n576=_context130.sent;"edit"===_n576?this.Js.board.editMarker(_s795.id):"edit-id"===_n576?this.Pv(_s795.id,"id"):"edit-title"===_n576?this.Pv(_s795.id,"title"):"delete"===_n576?this.zv():"pin"===_n576?this.Ov():"unpin"===_n576?this.Ev():"select-users"===_n576&&this.Py(_s795.id);case 9:case"end":return _context130.stop();}}},_callee129,this);}));function tp(_x155){return _tp5.apply(this,arguments);}return tp;}()},{key:"Jc",value:function Jc(t){t.target.closest(".item")&&this.ev(t);}},{key:"ev",value:function ev(t){var _this$Qs$modKeys19=this.Qs.modKeys,e=_this$Qs$modKeys19.ctrl,i=_this$Qs$modKeys19.shift;if(!1===e&&!1===i){var _e1439=t.target.closest(".item"),_i1339=t.target.closest(".thumbnail"),_s796=t.target.closest(".counter-button"),_n577=t.target.closest(".pin-button"),_o461=_e1439[zm].id;_s796?this.Py(_o461):_n577?_n577.toggled?this.Dy(_o461):this.zy(_o461):_i1339?t.detail%2==0&&this.Js.board.editMarker(_o461):t.detail%2==0&&this.Pv(_o461);}}},{key:"Qc",value:function Qc(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1440=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1440&&this.yv([]);}else t.target.closest(".item")&&this.Dm(t);}},{key:"Dm",value:function Dm(t){var _this790=this;var _this$Qs$modKeys20=this.Qs.modKeys,e=_this$Qs$modKeys20.ctrl,i=_this$Qs$modKeys20.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[Om]=Date.now());else if(!0===i){var _t2028=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1441=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1441.length>0){var _i1340=_t2028.indexOf(s),_n578=_e1441.sort(function(t,e){return e[Om]-t[Om];})[0],_o462=_t2028.indexOf(_n578),_l358=[];if(_i1340>_o462?_l358=_toConsumableArray(_t2028).slice(_o462,_i1340+1):_i1340<_o462&&(_l358=_toConsumableArray(_t2028).slice(_i1340,_o462+1).reverse()),_l358=_l358.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l358.length>0){var _iterator1363=_createForOfIteratorHelper(_l358),_step1363;try{for(_iterator1363.s();!(_step1363=_iterator1363.n()).done;){var _t2029=_step1363.value;_t2029.setAttribute("data-selected",""),_t2029[Om]=Date.now();}}catch(err){_iterator1363.e(err);}finally{_iterator1363.f();}}}}else{var _t2032,_e1443,_i1341=!1;window.addEventListener("pointermove",_t2032=function _t2030(o){var l=new DOMPoint(o.clientX,o.clientY);if(De(n,l)>=3){if(window.removeEventListener("pointermove",_t2032),window.removeEventListener("pointerup",_e1443),!1===s.hasAttribute("data-selected")){var _iterator1364=_createForOfIteratorHelper(_this790["#items"].children),_step1364;try{for(_iterator1364.s();!(_step1364=_iterator1364.n()).done;){var _t2031=_step1364.value;_t2031===s?(_t2031.setAttribute("data-selected",""),_t2031[Om]=Date.now()):_t2031.removeAttribute("data-selected");}}catch(err){_iterator1364.e(err);}finally{_iterator1364.f();}}_this790.Zw(o),_i1341=!0;}}),window.addEventListener("pointerup",_e1443=function _e1442(){if(window.removeEventListener("pointermove",_t2032),window.removeEventListener("pointerup",_e1443),!1===_i1341){var _iterator1365=_createForOfIteratorHelper(_this790["#items"].children),_step1365;try{for(_iterator1365.s();!(_step1365=_iterator1365.n()).done;){var _t2033=_step1365.value;_t2033===s?(_t2033.setAttribute("data-selected",""),_t2033[Om]=Date.now()):_t2033.removeAttribute("data-selected");}}catch(err){_iterator1365.e(err);}finally{_iterator1365.f();}}});}}},{key:"Zw",value:function Zw(t){var _this791=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,h="start",a=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===a&&(a=setInterval(function(){return _this791["#items"].scrollTop+=r;},10));},c=function c(){null!==a&&(clearInterval(a),a=null);},p=function p(){var t=_this791.Qs.pointerClientPoint,e=_this791._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this791._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1444=l.getBoundingClientRect();if(h=t.y<_e1444.y+_e1444.height/2?"start":"end",_this791.Kw(n,l,h)){var _t2034=l.offsetTop-_this791["#items"].scrollTop;"end"===h&&(_t2034+=_e1444.height),_this791["#drop-indicator"].hidden=!1,_this791["#drop-indicator"].style.top=_t2034-1+"px";}else l=null,_this791["#drop-indicator"].hidden=!0;}else _this791["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s797){function s(_x156){return _s797.apply(this,arguments);}s.toString=function(){return _s797.toString();};return s;}(function(t){if(_this791["#items"].removeEventListener("pointermove",e),_this791["#items"].removeEventListener("scroll",i),_this791["#items"].removeEventListener("lostpointercapture",s),_this791["#items"].style.cursor=null,_this791["#drop-indicator"].hidden=!0,c(),_this791.Js.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1445=n[0][zm],_i1342=_this791.Js.board.getWorkspaceElementFromPoint(t.clientX,t.clientY);_i1342&&z.includes(_i1342.localName)&&(_this791.Js.board.undoManager.checkpoint("Apply marker"),_i1342.style.markerMid="url(#".concat(_e1445.id,")"),_this791.Iv());}}else if(l){_this791.Js.board.undoManager.checkpoint("Rearrange markers");var _t2035=document.createDocumentFragment(),_e1446=l[zm];var _iterator1366=_createForOfIteratorHelper(n),_step1366;try{for(_iterator1366.s();!(_step1366=_iterator1366.n()).done;){var _i1343=_step1366.value;_i1343[zm]!==_e1446&&_t2035.append(_i1343[zm]);}}catch(err){_iterator1366.e(err);}finally{_iterator1366.f();}"start"===h?_e1446.before(_t2035):_e1446.after(_t2035);}}));}},{key:"vn",value:function vn(t){if(this["#search-input"].matches(":focus"))return;var e=eo.fromEvent(t);if(e.matches("Enter")){var _t2036=this["#items"].querySelector(".item[data-label-edited]"),_e1447=this["#items"].querySelector(".item[data-selected]");_t2036?this.focus():_e1447&&this.Pv(_e1447[zm].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.zv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu()||this.Lv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru()||this.Bv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru(!0));}}},{key:"zu",value:function zu(){this.Qs.setConfig("bx-markersbrowser:developerMode",this["#developer-mode-button"].toggled),this.ov(),this.focus();}},{key:"Vw",value:function Vw(t){var e=t.target.closest("x-menuitem");e&&("add-marker"===e.value?this.Rv():"add-marker-from-objects"===e.value&&this.Cy());}},{key:"vv",value:function vv(){var t=this.Js.board.selectedObjectElements;this["#add-marker-from-objects-menu-item"].disabled=0===t.length;}},{key:"wv",value:function wv(){this.Fv(),this.Lu();}},{key:"Pv",value:function Pv(t){var _this792=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[zm].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t2037=this["#items"].querySelector(".item[data-label-edited]");if(_t2037){if(_t2037===i)return;this.Uv();}}this.yv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[zm],l=this["#developer-mode-button"].toggled?"Marker ID":"Marker title",h=(s.currentWorkspace.id===o.id?s.currentWorkspace:o).querySelector(":scope > bx-title"),a="";!0===this["#developer-mode-button"].toggled&&o.id?a="#"+o.id:!1===this["#developer-mode-button"].toggled&&h&&(a=h.textContent);var r=Yi(_templateObject53(),a,l);n.after(r),r.selectAll(),Qi(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this792.Uv();}),r.validate=function(){var t=null;if(_this792["#developer-mode-button"].toggled){var _e1448=r.value.trim();if(_e1448.startsWith("#")&&(_e1448=_e1448.substring(1)),0===_e1448.length)t="Marker must have ID";else if(Vi(_e1448)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1448)))&&o.id!==_e1448&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"Uv",value:function Uv(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1449=this.Js.board,_i1344=t.querySelector(".label"),_s798=t.querySelector("x-input"),_n579=t[zm];if(_s798.remove(),_i1344.hidden=!1,t.removeAttribute("data-label-edited"),null===_s798.error)if(this["#developer-mode-button"].toggled){var _t2038=_n579.getAttribute("id").trim(),_i1345=_s798.value.trim().toLowerCase();if(_i1345.startsWith("#")&&(_i1345=_i1345.substring(1)),_t2038!==_i1345){_e1449.undoManager.checkpoint("Marker ID");var _s799=document.createNodeIterator(_e1449.workspaces,NodeFilter.SHOW_ELEMENT),_n580=null;for(;_n580=_s799.nextNode();){"marker"===_n580.localName?_n580.id===_t2038&&_n580.setAttribute("id",_i1345):"g"===_n580.localName&&"marker"===_n580.getAttribute("data-bx-workspace")&&_n580.id===_t2038&&_n580.setAttribute("id",_i1345);{var _e1450=getComputedStyle(_n580);for(var _i1346=0,_arr59=["marker-start","marker-mid","marker-end"];_i1346<_arr59.length;_i1346++){var _s800=_arr59[_i1346];var _o463=_e1450.getPropertyValue(_s800);if(_o463&&_o463.startsWith("url(")){_o463.substring(6,_o463.length-2)===_t2038&&_n580.style.setProperty(_s800,"url(#".concat(_i1345,")"));}}}}}}else{var _t2039=_e1449.currentWorkspace.id===_n579.id?_e1449.currentWorkspace:_n579,_i1347=_t2039.querySelector(":scope > bx-title"),_o464=_s798.value.trim();if(_i1347){_i1347.textContent!==_o464&&(_e1449.undoManager.checkpoint("Marker title"),""===_o464?_i1347.remove():_i1347.textContent=_o464);}else""!==_o464&&(_e1449.undoManager.checkpoint("Marker title"),_i1347=zi("svg:bx-title"),_i1347.textContent=_o464,_t2039.prepend(_i1347));}}}},{key:"Dy",value:function Dy(t){this.Js.board.undoManager.checkpoint("Pin Marker"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"zy",value:function zy(t){this.Js.board.undoManager.checkpoint("Unpin Marker"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"yv",value:function yv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1367=_createForOfIteratorHelper(this["#items"].children),_step1367;try{for(_iterator1367.s();!(_step1367=_iterator1367.n()).done;){var _e1451=_step1367.value;t.includes(_e1451)?(_e1451.setAttribute("data-selected",""),_e1451[Om]=Date.now()):_e1451.removeAttribute("data-selected");}}catch(err){_iterator1367.e(err);}finally{_iterator1367.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}}},{key:"Bu",value:function Bu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1348=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s801=e[0],_n581=_i1348.indexOf(_s801),_o465=_i1348[_n581-1];if(_o465){if(_o465.scrollIntoViewIfNeeded(),t)_o465.setAttribute("data-selected",""),_o465[Om]=Date.now();else{var _iterator1368=_createForOfIteratorHelper(_i1348),_step1368;try{for(_iterator1368.s();!(_step1368=_iterator1368.n()).done;){var _t2040=_step1368.value;_t2040===_o465?(_t2040.setAttribute("data-selected",""),_t2040[Om]=Date.now()):_t2040.removeAttribute("data-selected");}}catch(err){_iterator1368.e(err);}finally{_iterator1368.f();}}return!0;}}return!1;}},{key:"Ru",value:function Ru(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1349=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s802=e[e.length-1],_n582=_i1349.indexOf(_s802),_o466=_i1349[_n582+1];if(_o466){if(_o466.scrollIntoViewIfNeeded(),t)_o466.setAttribute("data-selected",""),_o466[Om]=Date.now();else{var _iterator1369=_createForOfIteratorHelper(_i1349),_step1369;try{for(_iterator1369.s();!(_step1369=_iterator1369.n()).done;){var _t2041=_step1369.value;_t2041===_o466?(_t2041.setAttribute("data-selected",""),_t2041[Om]=Date.now()):_t2041.removeAttribute("data-selected");}}catch(err){_iterator1369.e(err);}finally{_iterator1369.f();}}return!0;}}return!1;}},{key:"Lv",value:function Lv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1370=_createForOfIteratorHelper(t),_step1370;try{for(_iterator1370.s();!(_step1370=_iterator1370.n()).done;){var _i1350=_step1370.value;_i1350===e?(_i1350.setAttribute("data-selected",""),_i1350[Om]=Date.now()):_i1350.removeAttribute("data-selected");}}catch(err){_iterator1370.e(err);}finally{_iterator1370.f();}return!0;}return!1;}},{key:"Bv",value:function Bv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1371=_createForOfIteratorHelper(t),_step1371;try{for(_iterator1371.s();!(_step1371=_iterator1371.n()).done;){var _i1351=_step1371.value;_i1351===e?(_i1351.setAttribute("data-selected",""),_i1351[Om]=Date.now()):_i1351.removeAttribute("data-selected");}}catch(err){_iterator1371.e(err);}finally{_iterator1371.f();}return!0;}return!1;}},{key:"uv",value:function uv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.yv(t,!1);}},{key:"bv",value:function bv(){this.yv([],!1);}},{key:"Rv",value:function Rv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add marker");var i=zi("svg:marker");if(i.setAttribute("id",t.generateUniqueID("marker")),i.setAttribute("viewBox","0 0 100 100"),i.setAttribute("overflow","visible"),i.setAttribute("orient","auto"),i.setAttribute("refX","50"),i.setAttribute("refY","50"),i.setAttribute("data-bx-pinned","true"),e.length>0){e[e.length-1][zm].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[zm]===i;});this.yv([s]);}},{key:"Cy",value:function Cy(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add marker");var i=Ne(t.outermostSelectedObjectElements.map(function(t){return Mi(t);}));i=Ue(i,jt(t.vectorCanvas).inverse());var s=-i.x,n=-i.y,o=Z(i.width,4),l=Z(i.height,4),h=zi("svg:marker");h.setAttribute("id",t.generateUniqueID("marker")),h.setAttribute("viewBox","0 0 ".concat(o," ").concat(l)),h.setAttribute("overflow","visible"),h.setAttribute("orient","auto"),h.setAttribute("refX",Z(o/2,2)),h.setAttribute("refY",Z(l/2,2)),h.setAttribute("data-bx-pinned","true");var _iterator1372=_createForOfIteratorHelper(Bi(t.outermostSelectedObjectElements)),_step1372;try{for(_iterator1372.s();!(_step1372=_iterator1372.n()).done;){var _e1452=_step1372.value;var _i1352=new DOMMatrix();_i1352.translateSelf(s,n),_i1352.multiplySelf(Vt(_e1452,t.vectorCanvas)),_e1452.setAttribute("transform",_i1352),h.append(_e1452);}}catch(err){_iterator1372.e(err);}finally{_iterator1372.f();}if(t.selectedElements=[],t.selectedTextRange=null,t.currentContainer=null,e.length>0){e[e.length-1][zm].after(h);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(h);this.qs();var a=_toConsumableArray(this["#items"].children).find(function(t){return t[zm]===h;});this.yv([a]);}},{key:"zv",value:function(){var _zv4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee130(){var t,e,i,_iterator1373,_step1373,_step1373$value,_t2044,_s805,_iterator1375,_step1375,_n584,_t2042,_s803,_i1353,_s804,_i1354,_i1355,_arr60,_n583,_o467,_l359,_h267,_iterator1374,_step1374,_t2043;return regeneratorRuntime.wrap(function _callee130$(_context131){while(1){switch(_context131.prev=_context131.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[zm];}),i=[];_iterator1373=_createForOfIteratorHelper(this.Oy());try{for(_iterator1373.s();!(_step1373=_iterator1373.n()).done;){_step1373$value=_slicedToArray(_step1373.value,2),_t2044=_step1373$value[0],_s805=_step1373$value[1];_iterator1375=_createForOfIteratorHelper(_s805);try{for(_iterator1375.s();!(_step1375=_iterator1375.n()).done;){_n584=_step1375.value;e.includes(_n584)&&!1===i.includes(_t2044)&&i.push(_t2044);}}catch(err){_iterator1375.e(err);}finally{_iterator1375.f();}}}catch(err){_iterator1373.e(err);}finally{_iterator1373.f();}if(!(0!==e.length)){_context131.next=17;break;}if(!(i.length>0)){_context131.next=12;break;}_t2042="Delete ";1===e.length?_t2042+="a marker":_t2042+="".concat(e.length," markers"),_t2042+=" applied to ",1===i.length?_t2042+="1 object?":_t2042+="".concat(i.length," objects?");_context131.next=9;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t2042,detail:"Deleting a marker also removes it from all objects it was applied to."});case 9:_s803=_context131.sent;if(!(-1===_s803||1===_s803)){_context131.next=12;break;}return _context131.abrupt("return");case 12:t.undoManager.checkpoint("Delete markers"),this.Ru()||this.Bu(),"marker"===t.currentWorkspace.getAttribute("data-bx-workspace")&&e.find(function(e){return e.id===t.currentWorkspace.id;})&&t.editMarkerEnd(!1);_i1353=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),_s804=null;for(;_s804=_i1353.nextNode();){if(z.includes(_s804.localName)){_i1354=getComputedStyle(_s804);for(_i1355=0,_arr60=["marker-start","marker-mid","marker-end"];_i1355<_arr60.length;_i1355++){_n583=_arr60[_i1355];_o467=no.fromString(_i1354[_n583]),_l359=_o467?t.masterWorkspace.querySelector(_o467.value):null,_h267=_l359&&"marker"===_l359.localName?_l359:null;_h267&&e.includes(_h267)&&(_s804.style.removeProperty(_n583),_s804.removeAttribute(_n583));}}}_iterator1374=_createForOfIteratorHelper(e);try{for(_iterator1374.s();!(_step1374=_iterator1374.n()).done;){_t2043=_step1374.value;_t2043.remove();}}catch(err){_iterator1374.e(err);}finally{_iterator1374.f();}case 17:case"end":return _context131.stop();}}},_callee130,this);}));function zv(){return _zv4.apply(this,arguments);}return zv;}()},{key:"Ov",value:function Ov(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[zm];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin marker"+e.length>1?"s":"");var _iterator1376=_createForOfIteratorHelper(e),_step1376;try{for(_iterator1376.s();!(_step1376=_iterator1376.n()).done;){var _t2045=_step1376.value;_t2045.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1376.e(err);}finally{_iterator1376.f();}}}},{key:"Ev",value:function Ev(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[zm];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin marker"+e.length>1?"s":"");var _iterator1377=_createForOfIteratorHelper(e),_step1377;try{for(_iterator1377.s();!(_step1377=_iterator1377.n()).done;){var _t2046=_step1377.value;_t2046.removeAttribute("data-bx-pinned");}}catch(err){_iterator1377.e(err);}finally{_iterator1377.f();}}}},{key:"Kw",value:function Kw(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s806=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_n585=t[0],_o468=_s806.indexOf(e);if("start"===i){if(_s806[_o468-1]===_n585)return!1;}else if("end"===i){if(_s806[_o468+1]===_n585)return!1;}}return!0;}},{key:"Py",value:function Py(t){var e=this.Js.board,i=document.createNodeIterator(e.currentWorkspace,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(z.includes(s.localName)){var _i1356=getComputedStyle(s);for(var _i1357=0,_arr61=["marker-start","marker-mid","marker-end"];_i1357<_arr61.length;_i1357++){var _o469=_arr61[_i1357];var _l360=no.fromString(_i1356[_o469]),_h268=_l360?e.masterWorkspace.querySelector(_l360.value):null,_a217=_h268&&"marker"===_h268.localName?_h268:null;if(_a217&&_a217.id===t){var _t2047=s.closest("text");_t2047?!1===n.includes(_t2047)&&n.push(_t2047):n.push(s);break;}}}}e.selectedElements=[].concat(n);}},{key:"Oy",value:function Oy(){var t=this.Js.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(z.includes(s.localName)){var _i1358=getComputedStyle(s);for(var _i1359=0,_arr62=["marker-start","marker-mid","marker-end"];_i1359<_arr62.length;_i1359++){var _n586=_arr62[_i1359];var _o470=no.fromString(_i1358[_n586]),_l361=_o470?t.masterWorkspace.querySelector(_o470.value):null,_h269=_l361&&"marker"===_l361.localName?_l361:null;_h269&&(!1===e.has(s)?e.set(s,[_h269]):e.get(s).push(_h269));}}}return e;}},{key:"qs",value:function qs(){{var _t2048=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("marker")),_e1453=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[zm];}),_i1360=document.createDocumentFragment();var _iterator1378=_createForOfIteratorHelper(_t2048),_step1378;try{for(_iterator1378.s();!(_step1378=_iterator1378.n()).done;){var _s807=_step1378.value;var _t2049=_s807.hasAttribute("viewBox")?"viewBox=\"".concat(_s807.getAttribute("viewBox"),"\""):"",_n587=Yi(_templateObject54(),_t2049,_s807.innerHTML,_s807.id);_n587[zm]=_s807,_e1453.includes(_s807)&&(_n587.setAttribute("data-selected",""),_n587[Om]=Date.now()),this.Vv(_n587),this.jv(_n587),_i1360.append(_n587);}}catch(err){_iterator1378.e(err);}finally{_iterator1378.f();}this["#items"].innerHTML="",this["#items"].append(_i1360);}this.Iv(),this.Mv(),this.Lu();}},{key:"Fv",value:function Fv(){var _iterator1379=_createForOfIteratorHelper(this["#items"].children),_step1379;try{for(_iterator1379.s();!(_step1379=_iterator1379.n()).done;){var _t2050=_step1379.value;this.jv(_t2050);}}catch(err){_iterator1379.e(err);}finally{_iterator1379.f();}}},{key:"ov",value:function ov(){this["#search-input"].value="";var _iterator1380=_createForOfIteratorHelper(this["#items"].children),_step1380;try{for(_iterator1380.s();!(_step1380=_iterator1380.n()).done;){var _t2051=_step1380.value;this.Vv(_t2051),this.jv(_t2051);}}catch(err){_iterator1380.e(err);}finally{_iterator1380.f();}this.Lu();}},{key:"Lu",value:function Lu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"jv",value:function jv(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Vv",value:function Vv(t){var e=t[zm],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<marker>",i.removeAttribute("data-custom"));else{var _t2052;_t2052=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t2052?(i.textContent=_t2052.textContent,i.setAttribute("data-custom","")):(i.textContent="Marker",i.removeAttribute("data-custom"));}}},{key:"Iv",value:function Iv(){var t=this.Oy();var _iterator1381=_createForOfIteratorHelper(this["#items"].children),_step1381;try{for(_iterator1381.s();!(_step1381=_iterator1381.n()).done;){var _e1454=_step1381.value;var _i1361=_e1454.querySelector(".counter-button"),_s808=0;var _iterator1382=_createForOfIteratorHelper(t),_step1382;try{for(_iterator1382.s();!(_step1382=_iterator1382.n()).done;){var _step1382$value=_slicedToArray(_step1382.value,2),_i1362=_step1382$value[0],_n588=_step1382$value[1];_n588.includes(_e1454[zm])&&(_s808+=1);}}catch(err){_iterator1382.e(err);}finally{_iterator1382.f();}0===_s808?(_i1361.setAttribute("hidden",""),_i1361.firstElementChild.textContent="0"):(_i1361.setAttribute("title",1===_s808?"Select 1 marker user":"Select ".concat(_s808," marker users")),_i1361.removeAttribute("hidden"),_i1361.firstElementChild.textContent=_s808);}}catch(err){_iterator1381.e(err);}finally{_iterator1381.f();}}},{key:"Mv",value:function Mv(){if("unpinned"===this._v.markers){var _iterator1383=_createForOfIteratorHelper(this["#items"].children),_step1383;try{for(_iterator1383.s();!(_step1383=_iterator1383.n()).done;){var _t2053=_step1383.value;var _e1455=_t2053[zm],_i1363=_t2053.lastElementChild;_i1363.hidden=!1,_i1363.toggled=_e1455.hasAttribute("data-bx-pinned");}}catch(err){_iterator1383.e(err);}finally{_iterator1383.f();}}else{var _iterator1384=_createForOfIteratorHelper(this["#items"].children),_step1384;try{for(_iterator1384.s();!(_step1384=_iterator1384.n()).done;){var _t2054=_step1384.value;_t2054.lastElementChild.hidden=!0;}}catch(err){_iterator1384.e(err);}finally{_iterator1384.f();}}}}]);return Em;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Em,"observedAttributes",["enabled"]);_defineProperty(Em,"_shadowTemplate",Yi(_templateObject391()));_defineProperty(Em,"_shadowStyleSheet",Wi(_templateObject392()));customElements.define("bx-markersbrowser",Em);var Tm=Symbol(),Am=Symbol();var $m=/*#__PURE__*/function(_HTMLElement113){_inherits($m,_HTMLElement113);var _super167=_createSuper($m);_createClass($m,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function $m(){var _temp47,_this793;_classCallCheck(this,$m);(_temp47=_this793=_super167.call(this),_defineProperty(_assertThisInitialized(_this793),"commands",{copy:{enabled:function enabled(){return _this793.Ey();},exec:function exec(){return _this793.Ty();}},selectAll:{enabled:function enabled(){return null===_this793._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this793.uv();}},deselectAll:{enabled:function enabled(){return null===_this793._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this793.bv();}}}),_temp47),_this793.yy=Zi(_this793.qs,2e3,_assertThisInitialized(_this793)),_this793.gv=0,_this793._shadowRoot=_this793.attachShadow({mode:"closed"}),_this793._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,$m._shadowStyleSheet],_this793._shadowRoot.append(document.importNode($m._shadowTemplate.content,!0));var _iterator1385=_createForOfIteratorHelper(_this793._shadowRoot.querySelectorAll("[id]")),_step1385;try{for(_iterator1385.s();!(_step1385=_iterator1385.n()).done;){var _t2055=_step1385.value;_this793["#"+_t2055.id]=_t2055;}}catch(err){_iterator1385.e(err);}finally{_iterator1385.f();}_this793.addEventListener("keydown",function(t){return _this793.vn(t);}),_this793["#items"].addEventListener("scroll",function(){return _this793.fv();}),_this793["#items"].addEventListener("contextmenu",function(t){return _this793.tp(t);}),_this793["#items"].addEventListener("pointerdown",function(t){return _this793.Qc(t);}),_this793["#items"].addEventListener("click",function(t){return _this793.Jc(t);}),_this793["#search-input"].addEventListener("input",function(){return _this793.wv();}),_this793["#developer-mode-button"].addEventListener("toggle",function(){return _this793.zu();}),_this793["#add-menu"].addEventListener("click",function(t){return _this793.Vw(t);}),_this793["#add-menu"].addEventListener("open",function(){return _this793.vv();});return _this793;}_createClass($m,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this["#items"].scrollTop=this.gv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this794=this;this.Qs.addEventListener("configchange",this.ln=function(t){_this794.hn(t);}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this794.sl(t);}),this.Js.board.addEventListener("artworkchange",this.mr=function(t){_this794.Sv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.gv,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-symbolsbrowser:developerMode",!1),this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",jp),this.qs();}},{key:"sn",value:function sn(){this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("artworkchange",this.mr),this["#items"].remove(),this["#mirror-svg"].innerHTML="";}},{key:"hn",value:function hn(t){var _t$detail14=t.detail,e=_t$detail14.key,i=_t$detail14.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",jp),this.Mv());}},{key:"sl",value:function sl(t){var e=t.detail,i="debounced";var _iterator1386=_createForOfIteratorHelper(e),_step1386;try{for(_iterator1386.s();!(_step1386=_iterator1386.n()).done;){var _t2056=_step1386.value;var _e1456=_t2056.target.nodeName,_s809=_t2056.addedNodes[0]?_t2056.addedNodes[0].nodeName:null,_n589=_t2056.removedNodes[0]?_t2056.removedNodes[0].nodeName:null,_o471=_t2056.attributeName;if("symbol"===_e1456){if("bx-title"===_s809||"bx-title"===_n589){i="now";break;}if("id"===_o471){i="now";break;}if("data-bx-pinned"===_o471){i="now";break;}}else if("bx-title"===_e1456){if(_s809||_n589){i="now";break;}}else if("symbol"===_s809||"symbol"===_n589){i="now";break;}}}catch(err){_iterator1386.e(err);}finally{_iterator1386.f();}"now"===i?this.qs():"debounced"===i&&this.yy();}},{key:"Sv",value:function Sv(){this.qs();}},{key:"fv",value:function fv(){this.gv=this["#items"].scrollTop;}},{key:"tp",value:function(){var _tp6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee131(t){var e,_i1364,_s810,_n590;return regeneratorRuntime.wrap(function _callee131$(_context132){while(1){switch(_context132.prev=_context132.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context132.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.yv([e]);_i1364=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[Tm];});_s810=e[Tm];_context132.next=7;return this.Qs.openContextMenu([{label:"Copy Symbol"+(_i1364.length>1?"s":""),value:"copy",disabled:0===_i1364.length},{type:"separator"},{label:"Edit Symbol",value:"edit",disabled:1!==_i1364.length||this.Js.board.currentWorkspace.id===_s810.id},{label:"Edit Symbol ID",value:"edit-id",disabled:1!==_i1364.length},{label:"Edit Symbol Title",value:"edit-title",disabled:1!==_i1364.length},{type:"separator"},{label:"Delete Symbol"+(_i1364.length>1?"s":""),value:"delete",disabled:0===_i1364.length},{type:"separator"},{label:"Pin Symbol"+(_i1364.length>1?"s":""),value:"pin",disabled:void 0===_i1364.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Symbol"+(_i1364.length>1?"s":""),value:"unpin",disabled:void 0===_i1364.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Symbol Instances",value:"select-instances",disabled:1!==_i1364.length}]);case 7:_n590=_context132.sent;"copy"===_n590?this.Ty():"edit"===_n590?this.Js.board.editSymbol(_s810.id):"edit-id"===_n590?this.Pv(_s810.id,"id"):"edit-title"===_n590?this.Pv(_s810.id,"title"):"delete"===_n590?this.zv():"pin"===_n590?this.Ov():"unpin"===_n590?this.Ev():"select-instances"===_n590&&this.Ay(_s810.id);case 9:case"end":return _context132.stop();}}},_callee131,this);}));function tp(_x157){return _tp6.apply(this,arguments);}return tp;}()},{key:"Jc",value:function Jc(t){t.target.closest(".item")&&this.ev(t);}},{key:"ev",value:function ev(t){var _this$Qs$modKeys21=this.Qs.modKeys,e=_this$Qs$modKeys21.ctrl,i=_this$Qs$modKeys21.shift;if(!1===e&&!1===i){var _e1457=t.target.closest(".item"),_i1365=t.target.closest(".thumbnail"),_s811=t.target.closest(".counter-button"),_n591=t.target.closest(".pin-button"),_o472=_e1457[Tm].id;_s811?this.Ay(_o472):_n591?_n591.toggled?this.$y(_o472):this.Iy(_o472):_i1365?t.detail%2==0&&this.Js.board.editSymbol(_o472):t.detail%2==0&&this.Pv(_o472);}}},{key:"Qc",value:function Qc(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1458=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1458&&this.yv([]);}else t.target.closest(".item")&&this.Dm(t);}},{key:"Dm",value:function Dm(t){var _this795=this;var _this$Qs$modKeys22=this.Qs.modKeys,e=_this$Qs$modKeys22.ctrl,i=_this$Qs$modKeys22.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[Am]=Date.now());else if(!0===i){var _t2057=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1459=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1459.length>0){var _i1366=_t2057.indexOf(s),_n592=_e1459.sort(function(t,e){return e[Am]-t[Am];})[0],_o473=_t2057.indexOf(_n592),_l362=[];if(_i1366>_o473?_l362=_toConsumableArray(_t2057).slice(_o473,_i1366+1):_i1366<_o473&&(_l362=_toConsumableArray(_t2057).slice(_i1366,_o473+1).reverse()),_l362=_l362.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l362.length>0){var _iterator1387=_createForOfIteratorHelper(_l362),_step1387;try{for(_iterator1387.s();!(_step1387=_iterator1387.n()).done;){var _t2058=_step1387.value;_t2058.setAttribute("data-selected",""),_t2058[Am]=Date.now();}}catch(err){_iterator1387.e(err);}finally{_iterator1387.f();}}}}else{var _t2061,_e1461,_i1367=!1;window.addEventListener("pointermove",_t2061=function _t2059(o){var l=new DOMPoint(o.clientX,o.clientY);if(De(n,l)>=3){if(window.removeEventListener("pointermove",_t2061),window.removeEventListener("pointerup",_e1461),!1===s.hasAttribute("data-selected")){var _iterator1388=_createForOfIteratorHelper(_this795["#items"].children),_step1388;try{for(_iterator1388.s();!(_step1388=_iterator1388.n()).done;){var _t2060=_step1388.value;_t2060===s?(_t2060.setAttribute("data-selected",""),_t2060[Am]=Date.now()):_t2060.removeAttribute("data-selected");}}catch(err){_iterator1388.e(err);}finally{_iterator1388.f();}}_this795.Zw(o),_i1367=!0;}}),window.addEventListener("pointerup",_e1461=function _e1460(){if(window.removeEventListener("pointermove",_t2061),window.removeEventListener("pointerup",_e1461),!1===_i1367){var _iterator1389=_createForOfIteratorHelper(_this795["#items"].children),_step1389;try{for(_iterator1389.s();!(_step1389=_iterator1389.n()).done;){var _t2062=_step1389.value;_t2062===s?(_t2062.setAttribute("data-selected",""),_t2062[Am]=Date.now()):_t2062.removeAttribute("data-selected");}}catch(err){_iterator1389.e(err);}finally{_iterator1389.f();}}});}}},{key:"Zw",value:function Zw(t){var _this796=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,h="start",a=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===a&&(a=setInterval(function(){return _this796["#items"].scrollTop+=r;},10));},c=function c(){null!==a&&(clearInterval(a),a=null);},p=function p(){var t=_this796.Qs.pointerClientPoint,e=_this796._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this796._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1462=l.getBoundingClientRect();if(h=t.y<_e1462.y+_e1462.height/2?"start":"end",_this796.Kw(n,l,h)){var _t2063=l.offsetTop-_this796["#items"].scrollTop;"end"===h&&(_t2063+=_e1462.height),_this796["#drop-indicator"].hidden=!1,_this796["#drop-indicator"].style.top=_t2063-1+"px";}else l=null,_this796["#drop-indicator"].hidden=!0;}else _this796["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s814){function s(_x158){return _s814.apply(this,arguments);}s.toString=function(){return _s814.toString();};return s;}(function(t){if(_this796["#items"].removeEventListener("pointermove",e),_this796["#items"].removeEventListener("scroll",i),_this796["#items"].removeEventListener("lostpointercapture",s),_this796["#items"].style.cursor=null,_this796["#drop-indicator"].hidden=!0,c(),_this796.Js.board.isPointOverBoard(t.clientX,t.clientY)){var _e1463=_this796.Js.board,_i1368=_toConsumableArray(n).map(function(t){return t[Tm];}),_s812=!1;if("symbol"===_e1463.currentWorkspace.getAttribute("data-bx-workspace")){var _iterator1390=_createForOfIteratorHelper(_i1368),_step1390;try{for(_iterator1390.s();!(_step1390=_iterator1390.n()).done;){var _t2064=_step1390.value;if(_e1463.currentWorkspace.id===_t2064.id){_s812=!0;break;}}}catch(err){_iterator1390.e(err);}finally{_iterator1390.f();}}if(!1===_s812){_e1463.undoManager.checkpoint("Create symbol instance");var _s813=_e1463.currentContainer||_e1463.currentWorkspace,_n593=[];var _iterator1391=_createForOfIteratorHelper(_i1368),_step1391;try{for(_iterator1391.s();!(_step1391=_iterator1391.n()).done;){var _o474=_step1391.value;var _i1369=zi("svg:use");_i1369.setAttribute("href","#"+_o474.id),_o474.hasAttribute("viewBox")?(_i1369.setAttribute("width",_o474.viewBox.baseVal.width),_i1369.setAttribute("height",_o474.viewBox.baseVal.height)):(_i1369.setAttribute("width","100"),_i1369.setAttribute("height","100")),_s813.append(_i1369);var _l363=jt(_i1369).inverse(),_h270=Nt(_i1369);_h270.multiplySelf(_l363),_i1369.setAttribute("transform",_h270.toString());var _a218=Mi(_i1369);_h270.translateSelf(t.clientX-_a218.width/2,t.clientY-_a218.height/2),_i1369.setAttribute("transform",_h270.toString());var _r147=_e1463.geometryPrecision,_d114=_e1463.transformPrecision;mh(_i1369,{geometryPrecision:_r147,transformPrecision:_d114}),_n593.push(_i1369);}}catch(err){_iterator1391.e(err);}finally{_iterator1391.f();}_e1463.selectedElements=_n593,_this796.Iv();}}else if(l){_this796.Js.board.undoManager.checkpoint("Rearrange symbols");var _t2065=document.createDocumentFragment(),_e1464=l[Tm];var _iterator1392=_createForOfIteratorHelper(n),_step1392;try{for(_iterator1392.s();!(_step1392=_iterator1392.n()).done;){var _i1370=_step1392.value;_i1370[Tm]!==_e1464&&_t2065.append(_i1370[Tm]);}}catch(err){_iterator1392.e(err);}finally{_iterator1392.f();}"start"===h?_e1464.before(_t2065):_e1464.after(_t2065);}}));}},{key:"vn",value:function vn(t){if(this["#search-input"].matches(":focus"))return;var e=eo.fromEvent(t);if(e.matches("Enter")){var _t2066=this["#items"].querySelector(".item[data-label-edited]"),_e1465=this["#items"].querySelector(".item[data-selected]");_t2066?this.focus():_e1465&&this.Pv(_e1465[Tm].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.zv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu()||this.Lv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru()||this.Bv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru(!0));}}},{key:"zu",value:function zu(){this.Qs.setConfig("bx-symbolsbrowser:developerMode",this["#developer-mode-button"].toggled),this.ov(),this.focus();}},{key:"Vw",value:function Vw(t){var e=t.target.closest("x-menuitem");e&&("add-symbol"===e.value?this.Rv():"add-symbol-from-objects"===e.value&&this.Cy());}},{key:"vv",value:function vv(){var t=this.Js.board.selectedObjectElements;this["#add-symbol-from-objects-menu-item"].disabled=0===t.length;}},{key:"wv",value:function wv(){this.Fv(),this.Lu();}},{key:"Pv",value:function Pv(t){var _this797=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[Tm].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t2067=this["#items"].querySelector(".item[data-label-edited]");if(_t2067){if(_t2067===i)return;this.Uv();}}this.yv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[Tm],l=this["#developer-mode-button"].toggled?"Symbol ID":"Symbol title",h=(s.currentWorkspace.id===o.id?s.currentWorkspace:o).querySelector(":scope > bx-title"),a="";!0===this["#developer-mode-button"].toggled&&o.id?a="#"+o.id:!1===this["#developer-mode-button"].toggled&&h&&(a=h.textContent);var r=Yi(_templateObject55(),a,l);n.after(r),r.selectAll(),Qi(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this797.Uv();}),r.validate=function(){var t=null;if(_this797["#developer-mode-button"].toggled){var _e1466=r.value.trim();if(_e1466.startsWith("#")&&(_e1466=_e1466.substring(1)),0===_e1466.length)t="Symbol must have ID";else if(Vi(_e1466)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1466)))&&o.id!==_e1466&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"Uv",value:function Uv(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1467=this.Js.board,_i1371=t.querySelector(".label"),_s815=t.querySelector("x-input"),_n594=t[Tm];if(_s815.remove(),_i1371.hidden=!1,t.removeAttribute("data-label-edited"),null===_s815.error)if(this["#developer-mode-button"].toggled){var _t2068=_n594.getAttribute("id").trim(),_i1372=_s815.value.trim().toLowerCase();if(_i1372.startsWith("#")&&(_i1372=_i1372.substring(1)),_t2068!==_i1372){_e1467.undoManager.checkpoint("Symbol ID");var _s816=document.createNodeIterator(_e1467.workspaces,NodeFilter.SHOW_ELEMENT),_n595=null;for(;_n595=_s816.nextNode();){"symbol"===_n595.localName||"g"===_n595.localName&&"symbol"===_n595.getAttribute("data-bx-workspace")?_n595.id===_t2068&&_n595.setAttribute("id",_i1372):"use"===_n595.localName&&_n595.href.baseVal==="#"+_t2068&&_n595.setAttribute("href","#"+_i1372);}}}else{var _t2069=_e1467.currentWorkspace.id===_n594.id?_e1467.currentWorkspace:_n594,_i1373=_t2069.querySelector(":scope > bx-title"),_o475=_s815.value.trim();if(_i1373){_i1373.textContent!==_o475&&(_e1467.undoManager.checkpoint("Symbol title"),""===_o475?_i1373.remove():_i1373.textContent=_o475);}else""!==_o475&&(_e1467.undoManager.checkpoint("Symbol title"),_i1373=zi("svg:bx-title"),_i1373.textContent=_o475,_t2069.prepend(_i1373));}}}},{key:"$y",value:function $y(t){this.Js.board.undoManager.checkpoint("Pin Symbol"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"Iy",value:function Iy(t){this.Js.board.undoManager.checkpoint("Unpin Symbol"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"yv",value:function yv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1393=_createForOfIteratorHelper(this["#items"].children),_step1393;try{for(_iterator1393.s();!(_step1393=_iterator1393.n()).done;){var _e1468=_step1393.value;t.includes(_e1468)?(_e1468.setAttribute("data-selected",""),_e1468[Am]=Date.now()):_e1468.removeAttribute("data-selected");}}catch(err){_iterator1393.e(err);}finally{_iterator1393.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}}},{key:"Bu",value:function Bu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1374=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s817=e[0],_n596=_i1374.indexOf(_s817),_o476=_i1374[_n596-1];if(_o476){if(_o476.scrollIntoViewIfNeeded(),t)_o476.setAttribute("data-selected",""),_o476[Am]=Date.now();else{var _iterator1394=_createForOfIteratorHelper(_i1374),_step1394;try{for(_iterator1394.s();!(_step1394=_iterator1394.n()).done;){var _t2070=_step1394.value;_t2070===_o476?(_t2070.setAttribute("data-selected",""),_t2070[Am]=Date.now()):_t2070.removeAttribute("data-selected");}}catch(err){_iterator1394.e(err);}finally{_iterator1394.f();}}return!0;}}return!1;}},{key:"Ru",value:function Ru(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1375=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s818=e[e.length-1],_n597=_i1375.indexOf(_s818),_o477=_i1375[_n597+1];if(_o477){if(_o477.scrollIntoViewIfNeeded(),t)_o477.setAttribute("data-selected",""),_o477[Am]=Date.now();else{var _iterator1395=_createForOfIteratorHelper(_i1375),_step1395;try{for(_iterator1395.s();!(_step1395=_iterator1395.n()).done;){var _t2071=_step1395.value;_t2071===_o477?(_t2071.setAttribute("data-selected",""),_t2071[Am]=Date.now()):_t2071.removeAttribute("data-selected");}}catch(err){_iterator1395.e(err);}finally{_iterator1395.f();}}return!0;}}return!1;}},{key:"Lv",value:function Lv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1396=_createForOfIteratorHelper(t),_step1396;try{for(_iterator1396.s();!(_step1396=_iterator1396.n()).done;){var _i1376=_step1396.value;_i1376===e?(_i1376.setAttribute("data-selected",""),_i1376[Am]=Date.now()):_i1376.removeAttribute("data-selected");}}catch(err){_iterator1396.e(err);}finally{_iterator1396.f();}return!0;}return!1;}},{key:"Bv",value:function Bv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1397=_createForOfIteratorHelper(t),_step1397;try{for(_iterator1397.s();!(_step1397=_iterator1397.n()).done;){var _i1377=_step1397.value;_i1377===e?(_i1377.setAttribute("data-selected",""),_i1377[Am]=Date.now()):_i1377.removeAttribute("data-selected");}}catch(err){_iterator1397.e(err);}finally{_iterator1397.f();}return!0;}return!1;}},{key:"uv",value:function uv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.yv(t,!1);}},{key:"bv",value:function bv(){this.yv([],!1);}},{key:"Rv",value:function Rv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add symbol");var i=zi("svg:symbol");if(i.setAttribute("id",t.generateUniqueID("symbol")),i.setAttribute("viewBox","0 0 100 100"),i.setAttribute("data-bx-pinned","true"),e.length>0){e[e.length-1][Tm].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[Tm]===i;});this.yv([s]);}},{key:"Cy",value:function Cy(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add symbol");var i=Ne(t.outermostSelectedObjectElements.map(function(t){return Mi(t);}));i=Ue(i,jt(t.vectorCanvas).inverse());var s=-i.x,n=-i.y,o=Z(i.width,4),l=Z(i.height,4),h=zi("svg:symbol");h.setAttribute("id",t.generateUniqueID("symbol")),h.setAttribute("viewBox","0 0 ".concat(o," ").concat(l)),h.setAttribute("data-bx-pinned","true");var _iterator1398=_createForOfIteratorHelper(Bi(t.outermostSelectedObjectElements)),_step1398;try{for(_iterator1398.s();!(_step1398=_iterator1398.n()).done;){var _e1469=_step1398.value;var _i1378=new DOMMatrix();_i1378.translateSelf(s,n),_i1378.multiplySelf(Vt(_e1469,t.vectorCanvas)),_e1469.setAttribute("transform",_i1378),h.append(_e1469);}}catch(err){_iterator1398.e(err);}finally{_iterator1398.f();}if(t.selectedElements=[],t.selectedTextRange=null,t.currentContainer=null,e.length>0){e[e.length-1][Tm].after(h);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(h);this.qs();var a=_toConsumableArray(this["#items"].children).find(function(t){return t[Tm]===h;});this.yv([a]);}},{key:"Ty",value:function Ty(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}),i=(e.map(function(t){return t[Tm];}),e.map(function(t){return t[Tm];})),s=t.extractArtworkWithSymbols(i),n=this.Qs.getConfig("bx-markupsettings:indentation",2),o=Qp(s,"html",n),l={"text/plain":o,"text/html":o,"image/svg+xml":Qp(s,"xml",n)};this.Qs.setClipboardData(l);}},{key:"Ey",value:function Ey(){return _toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).length>0;}},{key:"zv",value:function(){var _zv5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee132(){var t,e,i,s,n,_iterator1399,_step1399,_i1379,_e1471,_o478,_l364,_t2072,_e1470,_iterator1400,_step1400,_t2073,_iterator1401,_step1401,_t2074;return regeneratorRuntime.wrap(function _callee132$(_context133){while(1){switch(_context133.prev=_context133.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}),i=e.map(function(t){return t[Tm];}),s=[],n=[];_iterator1399=_createForOfIteratorHelper(e);try{for(_iterator1399.s();!(_step1399=_iterator1399.n()).done;){_i1379=_step1399.value;_e1471=_i1379[Tm],_o478=document.createNodeIterator(t.workspaces,NodeFilter.SHOW_ELEMENT),_l364=null;for(s.push(_e1471);_l364=_o478.nextNode();){"use"===_l364.localName&&_l364.href.baseVal==="#"+_e1471.id&&n.push(_l364);}}}catch(err){_iterator1399.e(err);}finally{_iterator1399.f();}if(!(0!==i.length)){_context133.next=17;break;}if(!(n.length>0)){_context133.next=12;break;}_t2072="Delete ";1===i.length?_t2072+="a symbol":_t2072+="".concat(i.length," symbols"),_t2072+=" with ",1===n.length?_t2072+="1 instance?":_t2072+="".concat(n.length," instances?");_context133.next=9;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t2072,detail:"Deleting a symbol also removes all its instances."});case 9:_e1470=_context133.sent;if(!(-1===_e1470||1===_e1470)){_context133.next=12;break;}return _context133.abrupt("return");case 12:t.undoManager.checkpoint("Delete symbols"),this.Ru()||this.Bu(),"symbol"===t.currentWorkspace.getAttribute("data-bx-workspace")&&s.find(function(e){return e.id===t.currentWorkspace.id;})&&t.editSymbolEnd(!1);_iterator1400=_createForOfIteratorHelper(n);try{for(_iterator1400.s();!(_step1400=_iterator1400.n()).done;){_t2073=_step1400.value;_t2073.remove();}}catch(err){_iterator1400.e(err);}finally{_iterator1400.f();}_iterator1401=_createForOfIteratorHelper(s);try{for(_iterator1401.s();!(_step1401=_iterator1401.n()).done;){_t2074=_step1401.value;_t2074.remove();}}catch(err){_iterator1401.e(err);}finally{_iterator1401.f();}case 17:case"end":return _context133.stop();}}},_callee132,this);}));function zv(){return _zv5.apply(this,arguments);}return zv;}()},{key:"Ov",value:function Ov(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[Tm];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin symbol"+e.length>1?"s":"");var _iterator1402=_createForOfIteratorHelper(e),_step1402;try{for(_iterator1402.s();!(_step1402=_iterator1402.n()).done;){var _t2075=_step1402.value;_t2075.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1402.e(err);}finally{_iterator1402.f();}}}},{key:"Ev",value:function Ev(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[Tm];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin symbol"+e.length>1?"s":"");var _iterator1403=_createForOfIteratorHelper(e),_step1403;try{for(_iterator1403.s();!(_step1403=_iterator1403.n()).done;){var _t2076=_step1403.value;_t2076.removeAttribute("data-bx-pinned");}}catch(err){_iterator1403.e(err);}finally{_iterator1403.f();}}}},{key:"Kw",value:function Kw(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s819=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_n598=t[0],_o479=_s819.indexOf(e);if("start"===i){if(_s819[_o479-1]===_n598)return!1;}else if("end"===i){if(_s819[_o479+1]===_n598)return!1;}}return!0;}},{key:"Ay",value:function Ay(t){var e=this.Js.board,i=_toConsumableArray(this["#items"].children).find(function(e){return e[Tm].id===t;})[Tm],s=this.Ly().get(i);s&&(e.selectedElements=_toConsumableArray(s));}},{key:"Ly",value:function Ly(){var t=this.Js.board,e=new Map(),i=t.masterWorkspace.querySelectorAll("use");var _iterator1404=_createForOfIteratorHelper(i),_step1404;try{for(_iterator1404.s();!(_step1404=_iterator1404.n()).done;){var _s820=_step1404.value;var _i1380=_s820.href.baseVal,_n599=_i1380?t.masterWorkspace.querySelector(_i1380):null,_o480=_n599&&"symbol"===_n599.localName?_n599:null;_o480&&(!1===e.has(_o480)?e.set(_o480,[_s820]):e.get(_o480).push(_s820));}}catch(err){_iterator1404.e(err);}finally{_iterator1404.f();}return e;}},{key:"qs",value:function qs(){{var _t2077=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("symbol")),_e1472=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[Tm];}),_i1381=document.createDocumentFragment();var _iterator1405=_createForOfIteratorHelper(_t2077),_step1405;try{for(_iterator1405.s();!(_step1405=_iterator1405.n()).done;){var _s821=_step1405.value;var _t2078=Yi(_templateObject56(),_s821.id,_s821.id);_t2078[Tm]=_s821,_e1472.includes(_s821)&&(_t2078.setAttribute("data-selected",""),_t2078[Am]=Date.now()),this.Vv(_t2078),this.jv(_t2078),_i1381.append(_t2078);}}catch(err){_iterator1405.e(err);}finally{_iterator1405.f();}this["#mirror-svg"].innerHTML=this.Js.board.masterWorkspace.innerHTML,this["#items"].innerHTML="",this["#items"].append(_i1381);}this.Iv(),this.Mv(),this.Lu();}},{key:"Fv",value:function Fv(){var _iterator1406=_createForOfIteratorHelper(this["#items"].children),_step1406;try{for(_iterator1406.s();!(_step1406=_iterator1406.n()).done;){var _t2079=_step1406.value;this.jv(_t2079);}}catch(err){_iterator1406.e(err);}finally{_iterator1406.f();}}},{key:"ov",value:function ov(){this["#search-input"].value="";var _iterator1407=_createForOfIteratorHelper(this["#items"].children),_step1407;try{for(_iterator1407.s();!(_step1407=_iterator1407.n()).done;){var _t2080=_step1407.value;this.Vv(_t2080),this.jv(_t2080);}}catch(err){_iterator1407.e(err);}finally{_iterator1407.f();}this.Lu();}},{key:"Lu",value:function Lu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"jv",value:function jv(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Vv",value:function Vv(t){var e=t[Tm],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<symbol>",i.removeAttribute("data-custom"));else{var _t2081;_t2081=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t2081?(i.textContent=_t2081.textContent,i.setAttribute("data-custom","")):(i.textContent="Symbol",i.removeAttribute("data-custom"));}}},{key:"Iv",value:function Iv(){var t=this.Ly();var _iterator1408=_createForOfIteratorHelper(this["#items"].children),_step1408;try{for(_iterator1408.s();!(_step1408=_iterator1408.n()).done;){var _e1473=_step1408.value;var _i1382=_e1473.querySelector(".counter-button"),_s822=0;var _iterator1409=_createForOfIteratorHelper(t),_step1409;try{for(_iterator1409.s();!(_step1409=_iterator1409.n()).done;){var _step1409$value=_slicedToArray(_step1409.value,2),_i1383=_step1409$value[0],_n600=_step1409$value[1];_i1383===_e1473[Tm]&&(_s822+=_n600.length);}}catch(err){_iterator1409.e(err);}finally{_iterator1409.f();}0===_s822?(_i1382.setAttribute("hidden",""),_i1382.firstElementChild.textContent="0"):(_i1382.setAttribute("title",1===_s822?"Select 1 symbol instance":"Select ".concat(_s822," symbol instances")),_i1382.removeAttribute("hidden"),_i1382.firstElementChild.textContent=_s822);}}catch(err){_iterator1408.e(err);}finally{_iterator1408.f();}}},{key:"Mv",value:function Mv(){if("unpinned"===this._v.symbols){var _iterator1410=_createForOfIteratorHelper(this["#items"].children),_step1410;try{for(_iterator1410.s();!(_step1410=_iterator1410.n()).done;){var _t2082=_step1410.value;var _e1474=_t2082[Tm],_i1384=_t2082.lastElementChild;_i1384.hidden=!1,_i1384.toggled=_e1474.hasAttribute("data-bx-pinned");}}catch(err){_iterator1410.e(err);}finally{_iterator1410.f();}}else{var _iterator1411=_createForOfIteratorHelper(this["#items"].children),_step1411;try{for(_iterator1411.s();!(_step1411=_iterator1411.n()).done;){var _t2083=_step1411.value;_t2083.lastElementChild.hidden=!0;}}catch(err){_iterator1411.e(err);}finally{_iterator1411.f();}}}}]);return $m;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty($m,"observedAttributes",["enabled"]);_defineProperty($m,"_shadowTemplate",Yi(_templateObject393()));_defineProperty($m,"_shadowStyleSheet",Wi(_templateObject394()));customElements.define("bx-symbolsbrowser",$m);var Im=40,Lm=16;var Bm=/*#__PURE__*/function(){function Bm(t){_classCallCheck(this,Bm);var e=_toConsumableArray(t.children).filter(function(t){return P.includes(t.localName);});this.By=t,this.Ry=new dagre.graphlib.Graph({directed:!0,multigraph:!0,compound:!1}),this.Ry.setGraph({ranker:"longest-path",rankdir:"TB",align:void 0,ranksep:35,nodesep:35,edgesep:10,marginx:0,marginy:0});{var _i1385=!1,_s823=!1,_n601=e[e.length-1];var _iterator1412=_createForOfIteratorHelper(e),_step1412;try{for(_iterator1412.s();!(_step1412=_iterator1412.n()).done;){var _t2084=_step1412.value;if(this.Ry.setNode(_t2084.result.baseVal,{width:Im,height:Im,type:_t2084.localName,terminal:_t2084===_n601}),"feMerge"===_t2084.localName){var _e1475=_toConsumableArray(_t2084.children).filter(function(t){return"feMergeNode"===t.localName;});var _iterator1413=_createForOfIteratorHelper(_e1475),_step1413;try{for(_iterator1413.s();!(_step1413=_iterator1413.n()).done;){var _n602=_step1413.value;var _o482=_n602.in1.baseVal,_l365=_t2084.result.baseVal,_h271=_e1475.indexOf(_n602)+1,_a219={from:_o482,to:_l365,slot:_h271,width:Lm,height:Lm,minlen:1,weight:1,label:""+_h271,labelpos:"c"};this.Ry.setEdge(_o482,_l365,_a219,"".concat(_o482,"-").concat(_l365,"-").concat(_h271)),"SourceGraphic"===_o482?_i1385=!0:"SourceAlpha"===_o482&&(_s823=!0);}}catch(err){_iterator1413.e(err);}finally{_iterator1413.f();}}else for(var _i1386=0,_arr63=["in1","in2"];_i1386<_arr63.length;_i1386++){var _e1476=_arr63[_i1386];var _n603=_t2084[_e1476]?_t2084[_e1476].baseVal:null,_o483=_t2084.result.baseVal,_l366="in1"===_e1476?1:2,_h272={from:_n603,to:_o483,slot:_l366,width:Lm,height:Lm,minlen:1,weight:1,label:_e1476[2],labelpos:"c"};null!==_n603&&"none"!==_n603&&(this.Ry.setEdge(_n603,_o483,_h272,"".concat(_n603,"-").concat(_o483,"-").concat(_l366)),"SourceGraphic"===_n603?_i1385=!0:"SourceAlpha"===_n603&&(_s823=!0));}}}catch(err){_iterator1412.e(err);}finally{_iterator1412.f();}var _o481=t.hasAttribute("data-bx-details")?t.getAttribute("data-bx-details").split(" "):[];(_i1385||_o481.includes("SourceGraphic"))&&this.Ry.setNode("SourceGraphic",{width:Im,height:Im,type:"SourceGraphic"}),(_s823||_o481.includes("SourceAlpha"))&&this.Ry.setNode("SourceAlpha",{width:Im,height:Im,type:"SourceAlpha"});}dagre.layout(this.Ry);}_createClass(Bm,[{key:"getWidth",value:function getWidth(){var t=this.Ry.graph().width;return isFinite(t)?t:0;}},{key:"getHeight",value:function getHeight(){var t=this.Ry.graph().height;return isFinite(t)?t:0;}},{key:"getNodes",value:function getNodes(){var _this798=this;return this.Ry.nodes().map(function(t){var e=_this798.Ry.node(t);return{name:t,type:e.type,x:e.x,y:e.y,width:e.width,height:e.height,terminal:e.terminal};});}},{key:"getOrderedNodes",value:function getOrderedNodes(){var t=dagre.graphlib.alg.topsort(this.Ry),e=this.getNodes(),i=[];var _iterator1414=_createForOfIteratorHelper(t),_step1414;try{var _loop28=function _loop28(){var s=_step1414.value;var t=e.find(function(t){return t.name===s;});i.push(t);};for(_iterator1414.s();!(_step1414=_iterator1414.n()).done;){_loop28();}}catch(err){_iterator1414.e(err);}finally{_iterator1414.f();}return i;}},{key:"getEdges",value:function getEdges(){var _this799=this;return this.Ry.edges().map(function(t){var e=_this799.Ry.edge(t);return{from:e.from,to:e.to,slot:e.slot,points:e.points,label:{text:e.label,x:e.x,y:e.y,width:e.width,height:e.height}};});}},{key:"getPredecessors",value:function getPredecessors(t){return this.Ry.predecessors(t)||null;}},{key:"getAllPredecessors",value:function getAllPredecessors(t){var _this800=this;var e=[],i=function i(t){var s=_this800.getPredecessors(t);var _iterator1415=_createForOfIteratorHelper(s),_step1415;try{for(_iterator1415.s();!(_step1415=_iterator1415.n()).done;){var _t2085=_step1415.value;e.push(_t2085),i(_t2085);}}catch(err){_iterator1415.e(err);}finally{_iterator1415.f();}};return i(t),e;}},{key:"getGroups",value:function getGroups(){var t=dagre.graphlib.alg.topsort(this.Ry),e=dagre.graphlib.alg.components(this.Ry);e=e.sort(function(e,i){return t.indexOf(e[0])<t.indexOf(i[0])?-1:1;});var _iterator1416=_createForOfIteratorHelper(e),_step1416;try{for(_iterator1416.s();!(_step1416=_iterator1416.n()).done;){var _i1387=_step1416.value;_i1387.sort(function(e,i){return t.indexOf(e)<t.indexOf(i)?-1:1;});}}catch(err){_iterator1416.e(err);}finally{_iterator1416.f();}return e;}},{key:"canConnectNodes",value:function canConnectNodes(t,e){if(t===e)return!1;if("SourceGraphic"===e||"SourceAlpha"===e)return!1;if(this.getAllPredecessors(t).includes(e))return!1;{var _t2086=this.getNodes().find(function(t){return t.name===e;});if("feFlood"===_t2086.type||"feImage"===_t2086.type||"feTurbulence"===_t2086.type)return!1;if("feBlend"===_t2086.type||"feComposite"===_t2086.type||"feDisplacementMap"===_t2086.type){if(this.Ry.inEdges(e).length>=2)return!1;}else if(("feColorMatrix"===_t2086.type||"feComponentTransfer"===_t2086.type||"feConvolveMatrix"===_t2086.type||"feDiffuseLighting"===_t2086.type||"feDropShadow"===_t2086.type||"feGaussianBlur"===_t2086.type||"feMorphology"===_t2086.type||"feOffset"===_t2086.type||"feSpecularLighting"===_t2086.type||"feTile"===_t2086.type)&&this.Ry.inEdges(e).length>=1)return!1;}return!0;}},{key:"connectNodes",value:function connectNodes(t,e){var i=-1;if(this.canConnectNodes(t,e)){var _s824=this.getNodes(),_n604=this.getEdges(),_o484=_s824.find(function(t){return t.name===e;}),_l367=_n604.filter(function(t){return t.to===_o484.name;}).map(function(t){return t.slot;});for(i=1;_l367.includes(i);){i+=1;}var _h273={from:t,to:e,slot:i,width:Lm,height:Lm,minlen:1,weight:1,label:""+i,labelpos:"c"};this.Ry.setEdge(t,e,_h273,"".concat(t,"-").concat(e,"-").concat(i)),dagre.layout(this.Ry);}return i;}}]);return Bm;}();zi("svg:filter");var Rm=/*#__PURE__*/function(_HTMLElement114){_inherits(Rm,_HTMLElement114);var _super168=_createSuper(Rm);function Rm(){var _this801;_classCallCheck(this,Rm);_this801=_super168.call(this),_this801._shadowRoot=_this801.attachShadow({mode:"closed"}),_this801._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Rm._shadowStyleSheet],_this801._shadowRoot.append(document.importNode(Rm._shadowTemplate.content,!0)),_this801._a=Xi(_this801.qs,200,_assertThisInitialized(_this801)),_this801.Gy=!1,_this801.Fy=!1;var _iterator1417=_createForOfIteratorHelper(_this801._shadowRoot.querySelectorAll("[id]")),_step1417;try{for(_iterator1417.s();!(_step1417=_iterator1417.n()).done;){var _t2087=_step1417.value;_this801["#"+_t2087.id]=_t2087;}}catch(err){_iterator1417.e(err);}finally{_iterator1417.f();}_this801["#filter-units-select"].addEventListener("change",function(){return _this801.Uy();}),_this801["#primitive-units-select"].addEventListener("change",function(){return _this801.Ny();}),_this801["#region-x-input"].addEventListener("changestart",function(t){return _this801.Vy(t);}),_this801["#region-y-input"].addEventListener("changestart",function(t){return _this801.jy(t);}),_this801["#region-width-input"].addEventListener("changestart",function(t){return _this801.Hy(t);}),_this801["#region-height-input"].addEventListener("changestart",function(t){return _this801.Yy(t);}),_this801["#region-lock-button"].addEventListener("toggle",function(){return _this801.Wy();});return _this801;}_createClass(Rm,[{key:"connectedCallback",value:function connectedCallback(){var _this802=this;this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this.qy=Ai(this,"bx-filterinspector"),this.Gy=this.Qs.getConfig("bx-filterhostinspector:regionLocked",!1),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this802._a();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Uy",value:function Uy(){this.Js.board.undoManager.checkpoint("Filter units");var t=this.qy.filter;t.setAttribute("filterUnits",this["#filter-units-select"].value),"objectBoundingBox"===this["#filter-units-select"].value?(t.setAttribute("x",this["#region-x-input"].value+"%"),t.setAttribute("y",this["#region-y-input"].value+"%"),t.setAttribute("width",this["#region-width-input"].value+"%"),t.setAttribute("height",this["#region-height-input"].value+"%")):(t.setAttribute("x",this["#region-x-input"].value),t.setAttribute("y",this["#region-y-input"].value),t.setAttribute("width",this["#region-width-input"].value),t.setAttribute("height",this["#region-height-input"].value)),this.qs();}},{key:"Ny",value:function Ny(){this.Js.board.undoManager.checkpoint("Primitive units");var t=this.qy.filter,e=_toConsumableArray(t.children).filter(function(t){return P.includes(t.localName);});var _iterator1418=_createForOfIteratorHelper(e),_step1418;try{for(_iterator1418.s();!(_step1418=_iterator1418.n()).done;){var _t2088=_step1418.value;var _e1477=Rx(_t2088);"objectBoundingBox"===this["#primitive-units-select"].value?(_t2088.hasAttribute("x")&&_t2088.setAttribute("x",_e1477.x+"%"),_t2088.hasAttribute("y")&&_t2088.setAttribute("y",_e1477.y+"%"),_t2088.hasAttribute("width")&&_t2088.setAttribute("width",_e1477.width+"%"),_t2088.hasAttribute("height")&&_t2088.setAttribute("height",_e1477.height+"%")):(_t2088.hasAttribute("x")&&_t2088.setAttribute("x",_e1477.x),_t2088.hasAttribute("y")&&_t2088.setAttribute("y",_e1477.y),_t2088.hasAttribute("width")&&_t2088.setAttribute("width",_e1477.width),_t2088.hasAttribute("height")&&_t2088.setAttribute("height",_e1477.height));}}catch(err){_iterator1418.e(err);}finally{_iterator1418.f();}t.setAttribute("primitiveUnits",this["#primitive-units-select"].value);}},{key:"Vy",value:function Vy(t){var _this803=this;var e,_i1388,s=this.qy.filter;this.Js.board.undoManager.checkpoint("Filter region X"),this.Fy=!0,this["#region-x-input"].addEventListener("change",e=function e(){var t=null===_this803["#region-x-input"].value?0:_this803["#region-x-input"].value;"userSpaceOnUse"===s.getAttribute("filterUnits")?s.setAttribute("x",t):s.setAttribute("x",t+"%");}),this["#region-x-input"].addEventListener("changeend",_i1388=function i(){_this803["#region-x-input"].removeEventListener("change",e),_this803["#region-x-input"].removeEventListener("changeend",_i1388),_this803.Fy=!1,_this803.qs();});}},{key:"jy",value:function jy(t){var _this804=this;var e,_i1389,s=this.qy.filter;this.Js.board.undoManager.checkpoint("Filter region Y"),this.Fy=!0,this["#region-y-input"].addEventListener("change",e=function e(){var t=null===_this804["#region-y-input"].value?0:_this804["#region-y-input"].value;"userSpaceOnUse"===s.getAttribute("filterUnits")?s.setAttribute("y",t):s.setAttribute("y",t+"%");}),this["#region-y-input"].addEventListener("changeend",_i1389=function i(){_this804["#region-y-input"].removeEventListener("change",e),_this804["#region-y-input"].removeEventListener("changeend",_i1389),_this804.Fy=!1,_this804.qs();});}},{key:"Hy",value:function Hy(t){var _this805=this;var e,_i1390,s=this.qy.filter,n=this["#region-lock-button"].toggled,o=this["#region-width-input"].value/this["#region-height-input"].value;this.Js.board.undoManager.checkpoint("Filter region width"),this.Fy=!0,this["#region-width-input"].addEventListener("change",e=function e(){var t=null===_this805["#region-width-input"].value?100:_this805["#region-width-input"].value;if("userSpaceOnUse"===s.getAttribute("filterUnits")){if(s.setAttribute("width",t),n){var _e1478=K(t/o,0,Infinity,2);_this805["#region-height-input"].value=_e1478,s.setAttribute("height",_e1478);}}else if(s.setAttribute("width",t+"%"),n){var _e1479=K(t/o,0,Infinity,2);_this805["#region-height-input"].value=_e1479,s.setAttribute("height",_e1479+"%");}}),this["#region-width-input"].addEventListener("changeend",_i1390=function i(){_this805["#region-width-input"].removeEventListener("change",e),_this805["#region-width-input"].removeEventListener("changeend",_i1390),_this805.Fy=!1,_this805.qs();});}},{key:"Yy",value:function Yy(t){var _this806=this;var e,_i1391,s=this.qy.filter,n=this["#region-lock-button"].toggled,o=this["#region-width-input"].value/this["#region-height-input"].value;this.Js.board.undoManager.checkpoint("Filter region height"),this.Fy=!0,this["#region-height-input"].addEventListener("change",e=function e(){var t=null===_this806["#region-height-input"].value?100:_this806["#region-height-input"].value;if("userSpaceOnUse"===s.getAttribute("filterUnits")){if(s.setAttribute("height",t),n){var _e1480=K(t/o,0,Infinity,2);_this806["#region-width-input"].value=_e1480,s.setAttribute("width",_e1480);}}else if(s.setAttribute("height",t+"%"),n){var _e1481=K(t/o,0,Infinity,2);_this806["#region-width-input"].value=_e1481,s.setAttribute("width",_e1481+"%");}}),this["#region-height-input"].addEventListener("changeend",_i1391=function i(){_this806["#region-height-input"].removeEventListener("change",e),_this806["#region-height-input"].removeEventListener("changeend",_i1391),_this806.Fy=!1,_this806.qs();});}},{key:"Wy",value:function Wy(){this.Gy=this["#region-lock-button"].toggled,this.Qs.setConfig("bx-filterhostinspector:regionLocked",this.Gy),this.qs();}},{key:"qs",value:function qs(){if(this.Fy)return;var t=this.qy.filter;"userSpaceOnUse"===t.getAttribute("filterUnits")?this["#filter-units-select"].value="userSpaceOnUse":this["#filter-units-select"].value="objectBoundingBox","objectBoundingBox"===t.getAttribute("primitiveUnits")?this["#primitive-units-select"].value="objectBoundingBox":this["#primitive-units-select"].value="userSpaceOnUse";{var _e1482=function(t){var e=new DOMRect(),i=t.viewportElement,s=i.createSVGLength(),n=i.createSVGLength(),o=i.createSVGLength(),l=i.createSVGLength();return s.valueAsString=t.hasAttribute("x")?t.getAttribute("x"):"-10%",n.valueAsString=t.hasAttribute("y")?t.getAttribute("y"):"-10%",o.valueAsString=t.hasAttribute("width")?t.getAttribute("width"):"120%",l.valueAsString=t.hasAttribute("height")?t.getAttribute("height"):"120%","userSpaceOnUse"===t.getAttribute("filterUnits")?(s.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.x=s.valueInSpecifiedUnits/100*i.viewBox.baseVal.width:e.x=s.value,n.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.y=n.valueInSpecifiedUnits/100*i.viewBox.baseVal.height:e.y=n.value,o.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.width=o.valueInSpecifiedUnits/100*i.viewBox.baseVal.width:e.width=o.value,l.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.height=l.valueInSpecifiedUnits/100*i.viewBox.baseVal.height:e.height=l.value):(s.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.x=s.valueInSpecifiedUnits:e.x=100*s.valueInSpecifiedUnits,n.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.y=n.valueInSpecifiedUnits:e.y=100*n.valueInSpecifiedUnits,o.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.width=o.valueInSpecifiedUnits:e.width=100*o.valueInSpecifiedUnits,l.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.height=l.valueInSpecifiedUnits:e.height=100*l.valueInSpecifiedUnits),e;}(t),_i1392="userSpaceOnUse"===t.getAttribute("filterUnits")?"":"%";_e1482=Fe(_e1482,this.Js.board.geometryPrecision),this["#region-x-input"].value=_e1482.x,this["#region-x-input"].suffix=_i1392,this["#region-y-input"].value=_e1482.y,this["#region-y-input"].suffix=_i1392,this["#region-width-input"].value=_e1482.width,this["#region-width-input"].suffix=_i1392,this["#region-height-input"].value=_e1482.height,this["#region-height-input"].suffix=_i1392,this["#region-lock-button"].toggled=this.Gy,this["#region-lock-icon"].name=this.Gy?"lock-on":"lock-off";}}}]);return Rm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Rm,"_shadowTemplate",Yi(_templateObject395()));_defineProperty(Rm,"_shadowStyleSheet",Wi(_templateObject396()));customElements.define("bx-filterhostinspector",Rm);var Gm=/*#__PURE__*/function(_HTMLElement115){_inherits(Gm,_HTMLElement115);var _super169=_createSuper(Gm);_createClass(Gm,[{key:"name",get:function get(){return"Connector";}}]);function Gm(){var _this807;_classCallCheck(this,Gm);_this807=_super169.call(this),_this807._a=Xi(_this807.qs,200,_assertThisInitialized(_this807)),_this807._shadowRoot=_this807.attachShadow({mode:"closed"}),_this807._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Gm._shadowStyleSheet],_this807._shadowRoot.append(document.importNode(Gm._shadowTemplate.content,!0));var _iterator1419=_createForOfIteratorHelper(_this807._shadowRoot.querySelectorAll("[id]")),_step1419;try{for(_iterator1419.s();!(_step1419=_iterator1419.n()).done;){var _t2089=_step1419.value;_this807["#"+_t2089.id]=_t2089;}}catch(err){_iterator1419.e(err);}finally{_iterator1419.f();}_this807["#slot-buttons"].addEventListener("toggle",function(){return _this807.Xy();});return _this807;}_createClass(Gm,[{key:"connectedCallback",value:function connectedCallback(){var _this808=this;this.Js=Ai(this,"bx-editor"),this.qy=Ai(this,"bx-filterinspector"),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this808._a();}),this.qy.addEventListener("selectionchange",this.Zy=function(){_this808._a();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("workspacemutation",this.rn),this.qy.removeEventListener("selectionchange",this.Zy);}},{key:"Xy",value:function Xy(){this.Js.board.undoManager.checkpoint("Filter connector input slot");var t=this.qy.filter,_this$qy$getSelection=this.qy.getSelection(),_this$qy$getSelection2=_slicedToArray(_this$qy$getSelection,2),e=_this$qy$getSelection2[0],i=_this$qy$getSelection2[1],s=_toConsumableArray(t.children).filter(function(t){return P.includes(t.localName);}).find(function(t){return t.result.baseVal===i.to;});if("feMerge"===s.localName){var _t2090=_toConsumableArray(s.children).filter(function(t){return"feMergeNode"===t.localName;}),_n605=_t2090.length,_o485=parseInt(this["#slot-buttons"].value),_l368=i.slot,_h274={};for(var _e1483=1;_e1483<=_n605;_e1483+=1){var _i1393=_t2090[_e1483-1];_e1483===_l368?_h274[_o485]=_i1393:_e1483===_o485?_h274[_l368]=_i1393:_h274[_e1483]=_i1393;}for(var _t2091=1;_t2091<=_n605;_t2091+=1){var _e1484=_h274[_t2091];s.append(_e1484);}this.qy.setSelection(e,{from:i.from,to:i.to,slot:_o485});}else{var _t2092=s.in1.baseVal,_n606=s.in2.baseVal;s.setAttribute("in",_n606),s.setAttribute("in2",_t2092),this.qy.setSelection(e,{from:i.from,to:i.to,slot:1===i.slot?2:1});}}},{key:"qs",value:function qs(){var t=this.qy.filter,_this$qy$getSelection3=this.qy.getSelection(),_this$qy$getSelection4=_slicedToArray(_this$qy$getSelection3,2),e=_this$qy$getSelection4[0],i=_this$qy$getSelection4[1],s=_toConsumableArray(t.children).filter(function(t){return P.includes(t.localName);});if(i){var _t2093=s.find(function(t){return t.result.baseVal===i.to;}),_e1485=0;if("feMerge"===_t2093.localName){_e1485=_toConsumableArray(_t2093.children).filter(function(t){return"feMergeNode"===t.localName;}).length;}else _t2093.in1&&_t2093.in2?_e1485=2:_t2093.in1&&!_t2093.in2&&(_e1485=1);for(;this["#slot-buttons"].childElementCount>_e1485;){this["#slot-buttons"].lastElementChild.remove();}for(var _t2094=1;_t2094<=_e1485;_t2094+=1){var _e1486=this["#slot-buttons"].children[_t2094-1];_e1486||(_e1486=Yi(_templateObject57(),_t2094,_t2094),this["#slot-buttons"].append(_e1486));}this["#slot-buttons"].value=""+i.slot;}}}]);return Gm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Gm,"_shadowTemplate",Yi(_templateObject397()));_defineProperty(Gm,"_shadowStyleSheet",Wi(_templateObject398()));customElements.define("bx-filteredgeinspector",Gm);var Fm=Object.getPrototypeOf;var Um=/*#__PURE__*/function(_HTMLElement116){_inherits(Um,_HTMLElement116);var _super170=_createSuper(Um);_createClass(Um,[{key:"name",get:function get(){return"Primitive";}},{key:"primitive",get:function get(){return this.Ky;},set:function set(t){this.Ky=t,this.isConnected&&this.qs();}}]);function Um(){var _this809;_classCallCheck(this,Um);_this809=_super170.call(this);var t=[],e=[];for(var _i1394=_this809.constructor;_i1394!==Um;_i1394=Fm(_i1394)){_i1394.hasOwnProperty("_shadowTemplate")&&t.push(_i1394._shadowTemplate),_i1394.hasOwnProperty("_shadowStyleSheet")&&e.push(_i1394._shadowStyleSheet);}_this809._shadowRoot=_this809.attachShadow({mode:"closed"}),_this809._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Um._shadowStyleSheet].concat(e),_this809._shadowRoot.append(document.importNode(Um._shadowTemplate.content,!0));var _iterator1420=_createForOfIteratorHelper(t.reverse()),_step1420;try{for(_iterator1420.s();!(_step1420=_iterator1420.n()).done;){var _e1487=_step1420.value;var _t2095=document.importNode(_e1487.content,!0),_i1395=_this809._shadowRoot.querySelector("#main");var _iterator1422=_createForOfIteratorHelper(_toConsumableArray(_t2095.children).reverse()),_step1422;try{for(_iterator1422.s();!(_step1422=_iterator1422.n()).done;){var _e1488=_step1422.value;_i1395.prepend(_e1488);}}catch(err){_iterator1422.e(err);}finally{_iterator1422.f();}}}catch(err){_iterator1420.e(err);}finally{_iterator1420.f();}_this809.Ky=null,_this809.Qy=!1,_this809.Jy=!1,_this809._a=Xi(_this809.qs,200,_assertThisInitialized(_this809));var _iterator1421=_createForOfIteratorHelper(_this809._shadowRoot.querySelectorAll("[id]")),_step1421;try{for(_iterator1421.s();!(_step1421=_iterator1421.n()).done;){var _t2096=_step1421.value;_this809["#"+_t2096.id]=_t2096;}}catch(err){_iterator1421.e(err);}finally{_iterator1421.f();}_this809["#subregion-x-input"].addEventListener("changestart",function(t){return _this809.tk(t);}),_this809["#subregion-y-input"].addEventListener("changestart",function(t){return _this809.ek(t);}),_this809["#subregion-width-input"].addEventListener("changestart",function(t){return _this809.ik(t);}),_this809["#subregion-height-input"].addEventListener("changestart",function(t){return _this809.sk(t);}),_this809["#subregion-lock-button"].addEventListener("toggle",function(){return _this809.nk();});return _this809;}_createClass(Um,[{key:"connectedCallback",value:function connectedCallback(){var _this810=this;this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this.Qy=this.Qs.getConfig("".concat(this.localName,":subregionLocked"),!1),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this810.Ky&&_this810.Ky.isConnected&&_this810._a();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"tk",value:function tk(t){var _this811=this;var e,_i1396,s=this.primitive.closest("filter");this.Js.board.undoManager.checkpoint("Filter primitive subregion X"),this.Jy=!0,this["#subregion-x-input"].addEventListener("change",e=function e(){null===_this811["#subregion-x-input"].value?_this811.primitive.removeAttribute("x"):"objectBoundingBox"===s.getAttribute("primitiveUnits")?_this811.primitive.setAttribute("x",_this811["#subregion-x-input"].value+"%"):_this811.primitive.setAttribute("x",_this811["#subregion-x-input"].value);}),this["#subregion-x-input"].addEventListener("changeend",_i1396=function i(){_this811["#subregion-x-input"].removeEventListener("change",e),_this811["#subregion-x-input"].removeEventListener("changeend",_i1396),_this811.Jy=!1;});}},{key:"ek",value:function ek(t){var _this812=this;var e,_i1397,s=this.primitive.closest("filter");this.Js.board.undoManager.checkpoint("Filter primitive subregion Y"),this.Jy=!0,this["#subregion-y-input"].addEventListener("change",e=function e(){null===_this812["#subregion-y-input"].value?_this812.primitive.removeAttribute("y"):"objectBoundingBox"===s.getAttribute("primitiveUnits")?_this812.primitive.setAttribute("y",_this812["#subregion-y-input"].value+"%"):_this812.primitive.setAttribute("y",_this812["#subregion-y-input"].value);}),this["#subregion-y-input"].addEventListener("changeend",_i1397=function i(){_this812["#subregion-y-input"].removeEventListener("change",e),_this812["#subregion-y-input"].removeEventListener("changeend",_i1397),_this812.Jy=!1;});}},{key:"ik",value:function ik(t){var _this813=this;var e,_i1398,s=this.primitive.closest("filter"),n=this["#subregion-lock-button"].toggled,o=this["#subregion-width-input"].value/this["#subregion-height-input"].value;this.Js.board.undoManager.checkpoint("Filter primitive subregion width"),this.Jy=!0,this["#subregion-width-input"].addEventListener("change",e=function e(){if(null===_this813["#subregion-width-input"].value)_this813.primitive.removeAttribute("width");else if("objectBoundingBox"===s.getAttribute("primitiveUnits")){if(_this813.primitive.setAttribute("width",_this813["#subregion-width-input"].value+"%"),n){var _t2097=K(_this813["#subregion-width-input"].value/o,0,Infinity,2);_this813["#subregion-height-input"].value=_t2097,_this813.primitive.setAttribute("height",_t2097+"%");}}else if(_this813.primitive.setAttribute("width",_this813["#subregion-width-input"].value),n){var _t2098=K(_this813["#subregion-width-input"].value/o,0,Infinity,2);_this813["#subregion-height-input"].value=_t2098,_this813.primitive.setAttribute("height",_t2098);}}),this["#subregion-width-input"].addEventListener("changeend",_i1398=function i(){_this813["#subregion-width-input"].removeEventListener("change",e),_this813["#subregion-width-input"].removeEventListener("changeend",_i1398),_this813.Jy=!1;});}},{key:"sk",value:function sk(t){var _this814=this;var e,_i1399,s=this["#subregion-lock-button"].toggled,n=this["#subregion-width-input"].value/this["#subregion-height-input"].value,o=this.primitive.closest("filter");this.Js.board.undoManager.checkpoint("Filter subregion height"),this.Jy=!0,this["#subregion-height-input"].addEventListener("change",e=function e(){if(null===_this814["#subregion-height-input"].value)_this814.primitive.removeAttribute("height");else if("objectBoundingBox"===o.getAttribute("primitiveUnits")){if(_this814.primitive.setAttribute("height",_this814["#subregion-height-input"].value+"%"),s){var _t2099=K(_this814["#subregion-height-input"].value/n,0,Infinity,2);_this814["#subregion-width-input"].value=_t2099,_this814.primitive.setAttribute("width",_t2099+"%");}}else if(_this814.primitive.setAttribute("height",_this814["#subregion-height-input"].value),s){var _t2100=K(_this814["#subregion-height-input"].value/n,0,Infinity,2);_this814["#subregion-width-input"].value=_t2100,_this814.primitive.setAttribute("width",_t2100);}}),this["#subregion-height-input"].addEventListener("changeend",_i1399=function i(){_this814["#subregion-height-input"].removeEventListener("change",e),_this814["#subregion-height-input"].removeEventListener("changeend",_i1399),_this814.Jy=!1;});}},{key:"nk",value:function nk(){this.Qy=this["#subregion-lock-button"].toggled,this.Qs.setConfig("".concat(this.localName,":subregionLocked"),this.Qy),this.qs();}},{key:"qs",value:function qs(){if(!this.Jy)if("SourceAlpha"===this.Ky||"SourceGraphic"===this.Ky)this["#subregion-section"].hidden=!0;else{var _t2101=this.Ky,_e1489=_t2101.closest("filter").primitiveUnits.baseVal===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX?"%":"",_i1400=Rx(_t2101);_i1400=Fe(_i1400,this.Js.board.geometryPrecision),this["#subregion-section"].hidden=!1,this["#subregion-x-input"].value=_t2101.hasAttribute("x")?_i1400.x:null,this["#subregion-x-input"].suffix=_e1489,this["#subregion-y-input"].value=_t2101.hasAttribute("y")?_i1400.y:null,this["#subregion-y-input"].suffix=_e1489,this["#subregion-width-input"].value=_t2101.hasAttribute("width")?_i1400.width:null,this["#subregion-width-input"].suffix=_e1489,this["#subregion-height-input"].value=_t2101.hasAttribute("height")?_i1400.height:null,this["#subregion-height-input"].suffix=_e1489,this["#subregion-lock-button"].toggled=this.Qy,this["#subregion-lock-icon"].name=this.Qy?"lock-on":"lock-off";}}}]);return Um;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Um,"_shadowTemplate",Yi(_templateObject399()));_defineProperty(Um,"_shadowStyleSheet",Wi(_templateObject400()));var Nm=/*#__PURE__*/function(_Um2){_inherits(Nm,_Um2);var _super171=_createSuper(Nm);_createClass(Nm,[{key:"name",get:function get(){return"Blend";}}]);function Nm(){var _this815;_classCallCheck(this,Nm);_this815=_super171.call(this),_this815["#blend-mode-select"].addEventListener("change",function(){return _this815.wm();});return _this815;}_createClass(Nm,[{key:"wm",value:function wm(){this.Js.board.undoManager.checkpoint("Filter blend mode"),this.primitive.setAttribute("mode",this["#blend-mode-select"].value);}},{key:"qs",value:function qs(){this.Jy||(_get(_getPrototypeOf(Nm.prototype),"qs",this).call(this),this.primitive.hasAttribute("mode")?this["#blend-mode-select"].value=this.primitive.getAttribute("mode"):this["#blend-mode-select"].value="normal");}}]);return Nm;}(Um);_defineProperty(Nm,"_shadowTemplate",Yi(_templateObject401()));_defineProperty(Nm,"_shadowStyleSheet",Wi(_templateObject402()));customElements.define("bx-blendprimitiveinspector",Nm);var Vm=/*#__PURE__*/function(_Um3){_inherits(Vm,_Um3);var _super172=_createSuper(Vm);_createClass(Vm,[{key:"name",get:function get(){return"Composite";}}]);function Vm(){var _this816;_classCallCheck(this,Vm);_this816=_super172.call(this),_this816["#operator-select"].addEventListener("change",function(){return _this816.lk();}),_this816["#k1-input"].addEventListener("changestart",function(t){return _this816.hk(t);}),_this816["#k2-input"].addEventListener("changestart",function(t){return _this816.hk(t);}),_this816["#k3-input"].addEventListener("changestart",function(t){return _this816.hk(t);}),_this816["#k4-input"].addEventListener("changestart",function(t){return _this816.hk(t);});return _this816;}_createClass(Vm,[{key:"lk",value:function lk(){this.Js.board.undoManager.checkpoint("Composite operator"),this.primitive.setAttribute("operator",this["#operator-select"].value),this.primitive.removeAttribute("k1"),this.primitive.removeAttribute("k2"),this.primitive.removeAttribute("k3"),this.primitive.removeAttribute("k4"),this.qs();}},{key:"hk",value:function hk(t){var _this817=this;var e,_i1401,s=t.target,n=s.dataset.parameter;this.Js.board.undoManager.checkpoint("Composite ".concat(n," parameter")),s.addEventListener("change",e=function e(){0===s.value?_this817.primitive.removeAttribute(n):_this817.primitive.setAttribute(n,s.value);}),s.addEventListener("changeend",_i1401=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1401);});}},{key:"qs",value:function qs(){this.Jy||(_get(_getPrototypeOf(Vm.prototype),"qs",this).call(this),this.primitive.hasAttribute("operator")?this["#operator-select"].value=this.primitive.getAttribute("operator"):this["#operator-select"].value="over","arithmetic"===this.primitive.getAttribute("operator")?(this["#parameters-section"].hidden=!1,this["#k1-input"].value=Z(this.primitive.k1.baseVal,5),this["#k2-input"].value=Z(this.primitive.k2.baseVal,5),this["#k3-input"].value=Z(this.primitive.k3.baseVal,5),this["#k4-input"].value=Z(this.primitive.k4.baseVal,5)):this["#parameters-section"].hidden=!0);}}]);return Vm;}(Um);_defineProperty(Vm,"_shadowTemplate",Yi(_templateObject403()));_defineProperty(Vm,"_shadowStyleSheet",Wi(_templateObject404()));customElements.define("bx-compositeprimitiveinspector",Vm);customElements.define("bx-mergeprimitiveinspector",/*#__PURE__*/function(_Um4){_inherits(_class3,_Um4);var _super173=_createSuper(_class3);_createClass(_class3,[{key:"name",get:function get(){return"Merge";}}]);function _class3(){_classCallCheck(this,_class3);return _super173.call(this);}return _class3;}(Um));var jm=/*#__PURE__*/function(_Um5){_inherits(jm,_Um5);var _super174=_createSuper(jm);_createClass(jm,[{key:"name",get:function get(){return"Flood";}}]);function jm(){var _this818;_classCallCheck(this,jm);_this818=_super174.call(this),_this818.kb=!1,_this818.Wx=!1,_this818["#color-select"].addEventListener("changestart",function(){return _this818.Mb();}),_this818["#opacity-box"].addEventListener("changestart",function(t){return _this818.qx(t);});return _this818;}_createClass(jm,[{key:"Mb",value:function Mb(){var _this819=this;var t,_e1490;this.Js.board.undoManager.checkpoint("Flood color"),this.kb=!0,this["#color-select"].addEventListener("change",t=function t(){_this819.primitive.style.setProperty("flood-color",_this819["#color-select"].value);}),this["#color-select"].addEventListener("changeend",_e1490=function e(){_this819["#color-select"].removeEventListener("change",t),_this819["#color-select"].removeEventListener("changeend",_e1490),ya("flood-color",_this819.primitive),_this819.kb=!1;});}},{key:"qx",value:function qx(){var _this820=this;var t,_e1491;this.Js.board.undoManager.checkpoint("Flood opacity"),this.Wx=!0,this["#opacity-section"].addEventListener("change",t=function t(_t2102){_t2102.target===_this820["#opacity-slider"]?_this820["#opacity-input"].value=_this820["#opacity-slider"].value:_t2102.target===_this820["#opacity-input"]&&(_this820["#opacity-slider"].value=_this820["#opacity-input"].value),_this820.primitive.style.setProperty("flood-opacity",_this820["#opacity-slider"].value);}),this["#opacity-section"].addEventListener("changeend",_e1491=function e(){_this820["#opacity-section"].removeEventListener("change",t),_this820["#opacity-section"].removeEventListener("changeend",_e1491),ya("flood-opacity",_this820.primitive),_this820.Wx=!1;});}},{key:"qs",value:function qs(){if(this.kb||this.Wx||this.Jy)return;_get(_getPrototypeOf(jm.prototype),"qs",this).call(this);var t=getComputedStyle(this.primitive);this["#color-select"].value=t.floodColor;{var _e1492=Z(parseFloat(t.floodOpacity),2);this["#opacity-slider"].value=_e1492,this["#opacity-input"].value=_e1492;}}}]);return jm;}(Um);_defineProperty(jm,"_shadowTemplate",Yi(_templateObject405()));_defineProperty(jm,"_shadowStyleSheet",Wi(_templateObject406()));customElements.define("bx-floodprimitiveinspector",jm);var Hm=pdfjsLib;Hm.GlobalWorkerOptions.workerSrc="/node_modules/pdfjs-dist/build/pdf.worker.min.js";var Ym=function Ym(t){return new Promise(/*#__PURE__*/function(){var _ref136=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee133(e,i){var s,n,_t2103,_e1493,_e1494,_i1402,_n607,_o486,_l369,_h275,_i1403,_arr64,_e1495,_i1404,_arr65,_t2104,_i1405,_arr66,_t2105,_iterator1423,_step1423,_e1496,_t2106,_e1497,_i1406,_s825,_o487,_e1498,_i1407,_s826,_iterator1424,_step1424,_e1499,_t2107,_i1408,_i1409,_s827,_n608;return regeneratorRuntime.wrap(function _callee133$(_context134){while(1){switch(_context134.prev=_context134.next){case 0:s=null,n=null;_context134.prev=1;_context134.next=4;return Hm.getDocument({data:t}).promise;case 4:s=_context134.sent;_context134.next=10;break;case 7:_context134.prev=7;_context134.t0=_context134["catch"](1);n=_context134.t0;case 10:if(!n){_context134.next=14;break;}i(n);_context134.next=119;break;case 14:if(!(null===s)){_context134.next=18;break;}i("PDF data not found.");_context134.next=119;break;case 18:if(!(1===s.numPages)){_context134.next=27;break;}_context134.next=21;return s.getPage(1);case 21:_e1493=_context134.sent;_context134.next=24;return Wm(_e1493,1);case 24:_t2103=_context134.sent;_context134.next=46;break;case 27:_t2103=qi(_templateObject58());_e1494=0;_i1402=1;case 30:if(!(_i1402<=s.numPages)){_context134.next=45;break;}_context134.next=33;return s.getPage(_i1402);case 33:_n607=_context134.sent;_context134.next=36;return Wm(_n607,1);case 36:_o486=_context134.sent;_l369=_n607.getViewport({scale:1}).viewBox;_h275=qi(_templateObject59(),_e1494,_i1402);if(_t2103.append(_h275),1===_i1402)for(_i1403=0,_arr64=_toConsumableArray(_o486.attributes);_i1403<_arr64.length;_i1403++){_e1495=_arr64[_i1403];_t2103.setAttribute(_e1495.name,_e1495.value);}else for(_i1404=0,_arr65=_toConsumableArray(_o486.attributes);_i1404<_arr65.length;_i1404++){_t2104=_arr65[_i1404];_h275.setAttribute(_t2104.name,_t2104.value);}for(_i1405=0,_arr66=_toConsumableArray(_o486.children);_i1405<_arr66.length;_i1405++){_t2105=_arr66[_i1405];_h275.append(_t2105);}_e1494+=_l369[3],_i1402<s.numPages&&(_e1494+=60);case 42:_i1402+=1;_context134.next=30;break;case 45:_t2103.viewBox.baseVal.height=_e1494,_t2103.height.baseVal.value=_e1494;case 46:_iterator1423=_createForOfIteratorHelper(_t2103.querySelectorAll("style"));_context134.prev=47;_iterator1423.s();case 49:if((_step1423=_iterator1423.n()).done){_context134.next=76;break;}_e1496=_step1423.value;_t2106=_e1496.textContent;case 52:if(!_t2106.includes("url(blob:")){_context134.next=73;break;}_e1497=_t2106.indexOf("url(blob:"),_i1406=_t2106.indexOf(")",_e1497)+1,_s825=_t2106.substring(_e1497,_i1406),_o487=_s825.substring(4,_s825.length-1);_context134.prev=54;_context134.next=57;return fetch(_o487,{mode:"no-cors"});case 57:_e1498=_context134.sent;_context134.next=60;return _e1498.blob();case 60:_i1407=_context134.sent;_context134.next=63;return Na(_i1407);case 63:_s826=_context134.sent;"data:"!==_s826&&(_t2106=_t2106.replace(_o487,_s826));_context134.next=71;break;case 67:_context134.prev=67;_context134.t1=_context134["catch"](54);console.log(_context134.t1);return _context134.abrupt("break",73);case 71:_context134.next=52;break;case 73:_e1496.textContent=_t2106;case 74:_context134.next=49;break;case 76:_context134.next=81;break;case 78:_context134.prev=78;_context134.t2=_context134["catch"](47);_iterator1423.e(_context134.t2);case 81:_context134.prev=81;_iterator1423.f();return _context134.finish(81);case 84:_iterator1424=_createForOfIteratorHelper(_t2103.querySelectorAll("image"));_context134.prev=85;_iterator1424.s();case 87:if((_step1424=_iterator1424.n()).done){_context134.next=110;break;}_e1499=_step1424.value;_t2107=_e1499.getAttribute("xlink:href")||"";if(!_t2107.startsWith("blob:")){_context134.next=108;break;}_i1408=null;_context134.prev=92;_context134.next=95;return fetch(_t2107,{mode:"no-cors"});case 95:_i1409=_context134.sent;_context134.next=98;return _i1409.blob();case 98:_s827=_context134.sent;_context134.next=101;return Na(_s827);case 101:_n608=_context134.sent;"data:"!==_n608&&_e1499.setAttribute("xlink:href",_n608);_context134.next=108;break;case 105:_context134.prev=105;_context134.t3=_context134["catch"](92);console.log("Fetch error",_i1408);case 108:_context134.next=87;break;case 110:_context134.next=115;break;case 112:_context134.prev=112;_context134.t4=_context134["catch"](85);_iterator1424.e(_context134.t4);case 115:_context134.prev=115;_iterator1424.f();return _context134.finish(115);case 118:e(Jp(_t2103,"xml"));case 119:case"end":return _context134.stop();}}},_callee133,null,[[1,7],[47,78,81,84],[54,67],[85,112,115,118],[92,105]]);}));return function(_x159,_x160){return _ref136.apply(this,arguments);};}());},Wm=function Wm(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return new Promise(/*#__PURE__*/function(){var _ref137=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee134(e){var i,s,n,o,h,_loop29,_i1410,_arr67,_i1411,_arr68,_t2108,a,r,d,_t2109,_loop30,_i1412,_arr69,_i1414,_arr70,_e1501;return regeneratorRuntime.wrap(function _callee134$(_context135){while(1){switch(_context135.prev=_context135.next){case 0:i=document.createElementNS(l.svg,"svg");i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");s=t.getViewport({scale:1});_context135.next=5;return t.getOperatorList();case 5:n=_context135.sent;o=new Hm.SVGGraphics(t.commonObjs,t.objs);o.embedFonts=!0;_context135.next=10;return o.getSVG(n,s);case 10:h=_context135.sent;_loop29=function _loop29(){var t=_arr67[_i1410];if(F.includes(t.name)){var _e1500=G.find(function(e){return e.presentationAttributeName===t.name;});i.style.setProperty(_e1500.name,t.value);}else i.setAttribute(t.name,t.value);};for(_i1410=0,_arr67=_toConsumableArray(h.attributes);_i1410<_arr67.length;_i1410++){_loop29();}for(_i1411=0,_arr68=_toConsumableArray(h.childNodes);_i1411<_arr68.length;_i1411++){_t2108=_arr68[_i1411];i.append(_t2108);}a=NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT|NodeFilter.SHOW_COMMENT,r=document.createNodeIterator(i,a),d=null;for(;d=r.nextNode();){if(d.nodeType===Node.ELEMENT_NODE&&("svg"===d.prefix||"xlink"===d.prefix)){_t2109=document.createElementNS(l[d.prefix],d.localName);_loop30=function _loop30(){var e=_arr69[_i1412];if(F.includes(e.name)){var _i1413=G.find(function(t){return t.presentationAttributeName===e.name;});_t2109.style.setProperty(_i1413.name,e.value);}else _t2109.setAttribute(e.name,e.value);};for(_i1412=0,_arr69=_toConsumableArray(d.attributes);_i1412<_arr69.length;_i1412++){_loop30();}for(_i1414=0,_arr70=_toConsumableArray(d.childNodes);_i1414<_arr70.length;_i1414++){_e1501=_arr70[_i1414];_t2109.append(_e1501);}d.replaceWith(_t2109);}}e(i);case 17:case"end":return _context135.stop();}}},_callee134);}));return function(_x161){return _ref137.apply(this,arguments);};}());};var qm=/*#__PURE__*/function(_Um6){_inherits(qm,_Um6);var _super175=_createSuper(qm);_createClass(qm,[{key:"name",get:function get(){return"Image";}}]);function qm(){var _this821;_classCallCheck(this,qm);_this821=_super175.call(this),_this821["#source-href-input"].addEventListener("change",function(){return _this821.ak();}),_this821["#source-import-button"].addEventListener("click",function(){return _this821.rk();});return _this821;}_createClass(qm,[{key:"ak",value:function ak(){this.Js.board.undoManager.checkpoint("Filter image"),this.primitive.setAttribute("href",this["#source-href-input"].value);}},{key:"rk",value:function(){var _rk=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee135(){var t,_e1502,_i1415,_i1416,_s828,_t2110;return regeneratorRuntime.wrap(function _callee135$(_context136){while(1){switch(_context136.prev=_context136.next){case 0:_context136.next=2;return this.Qs.openImageImportDialog();case 2:t=_context136.sent;if(!t){_context136.next=34;break;}if(!("svg"===t.extension||"svgz"===t.extension)){_context136.next=11;break;}_i1415=new Blob([t.data],{type:"image/svg+xml"});_context136.next=8;return Na(_i1415);case 8:_e1502=_context136.sent;_context136.next=33;break;case 11:if(!("pdf"===t.extension||"ai"===t.extension)){_context136.next=32;break;}_i1416=null,_s828=null;_context136.prev=13;_context136.next=16;return Ym(t.data);case 16:_i1416=_context136.sent;_context136.next=22;break;case 19:_context136.prev=19;_context136.t0=_context136["catch"](13);_s828=_context136.t0;case 22:if(!_s828){_context136.next=26;break;}this.Qs.openMessageDialog({buttons:["OK"],message:"Can't import file",detail:"ai"===t.extension?n:_s828.message});_context136.next=30;break;case 26:_t2110=new Blob([_i1416],{type:"image/svg+xml"});_context136.next=29;return Na(_t2110);case 29:_e1502=_context136.sent;case 30:_context136.next=33;break;case 32:_e1502=t.data;case 33:_e1502&&(this.Js.board.undoManager.checkpoint("Filter image"),this.primitive.setAttribute("href",_e1502));case 34:case"end":return _context136.stop();}}},_callee135,this,[[13,19]]);}));function rk(){return _rk.apply(this,arguments);}return rk;}()},{key:"qs",value:function qs(){if(!this.Jy){_get(_getPrototypeOf(qm.prototype),"qs",this).call(this);this.primitive.getAttribute("href");""===this.primitive.href.baseVal?(this["#source-href-input"].value="",this["#source-thumbnail-img"].removeAttribute("src")):(this["#source-href-input"].value=this.primitive.getAttribute("href"),this["#source-thumbnail-img"].src=this.primitive.getAttribute("href"));}}}]);return qm;}(Um);_defineProperty(qm,"_shadowTemplate",Yi(_templateObject407()));_defineProperty(qm,"_shadowStyleSheet",Wi(_templateObject408()));customElements.define("bx-imageprimitiveinspector",qm);customElements.define("bx-tileprimitiveinspector",/*#__PURE__*/function(_Um7){_inherits(_class4,_Um7);var _super176=_createSuper(_class4);_createClass(_class4,[{key:"name",get:function get(){return"Tile";}}]);function _class4(){_classCallCheck(this,_class4);return _super176.call(this);}return _class4;}(Um));var Xm=/*#__PURE__*/function(_Um8){_inherits(Xm,_Um8);var _super177=_createSuper(Xm);_createClass(Xm,[{key:"name",get:function get(){return"Turbulence";}}]);function Xm(){var _this822;_classCallCheck(this,Xm);_this822=_super177.call(this),_this822.dk=!1,_this822.Xb=!1,_this822.ck=!1,_this822.pk=!1,_this822["#type-buttons"].addEventListener("toggle",function(){return _this822.uk();}),_this822["#frequency-x-input"].addEventListener("changestart",function(t){return _this822.xk(t);}),_this822["#frequency-y-input"].addEventListener("changestart",function(t){return _this822.bk(t);}),_this822["#frequency-lock-button"].addEventListener("toggle",function(){return _this822.mk();}),_this822["#frequency-stitch-checkbox"].addEventListener("toggle",function(){return _this822.gk();}),_this822["#octaves-box"].addEventListener("changestart",function(t){return _this822.fk(t);}),_this822["#seed-box"].addEventListener("changestart",function(t){return _this822.wk(t);});return _this822;}_createClass(Xm,[{key:"connectedCallback",value:function connectedCallback(){this.dk=app.getConfig("".concat(this.localName,":frequencyLocked"),!1),_get(_getPrototypeOf(Xm.prototype),"connectedCallback",this).call(this);}},{key:"uk",value:function uk(){this.Js.board.undoManager.checkpoint("Turbulence type"),this.primitive.setAttribute("type",this["#type-buttons"].value);}},{key:"xk",value:function xk(t){var _this823=this;var e,_i1417,s=this["#frequency-lock-button"].toggled,n=this["#frequency-x-input"].value/this["#frequency-y-input"].value;this.Js.board.undoManager.checkpoint("Filter base frequency"),this.Xb=!0,this["#frequency-x-input"].addEventListener("change",e=function e(){null===_this823["#frequency-x-input"].value&&(_this823["#frequency-x-input"].value=0),s&&(Number.isFinite(n)&&0!==n?_this823["#frequency-y-input"].value=K(_this823["#frequency-x-input"].value/n,0,Infinity,2):_this823["#frequency-y-input"].value=_this823["#frequency-x-input"].value);var t=_this823["#frequency-x-input"].value,e=_this823["#frequency-y-input"].value;_this823.primitive.setAttribute("baseFrequency",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#frequency-x-input"].addEventListener("changeend",_i1417=function i(){_this823["#frequency-x-input"].removeEventListener("change",e),_this823["#frequency-x-input"].removeEventListener("changeend",_i1417),_this823.Xb=!1;});}},{key:"bk",value:function bk(t){var _this824=this;var e,_i1418,s=this["#frequency-lock-button"].toggled,n=this["#frequency-x-input"].value/this["#frequency-y-input"].value;this.Js.board.undoManager.checkpoint("Filter base frequency"),this.Xb=!0,this["#frequency-y-input"].addEventListener("change",e=function e(){null===_this824["#frequency-y-input"].value&&(_this824["#frequency-y-input"].value=0),s&&(Number.isFinite(n)&&0!==n?_this824["#frequency-x-input"].value=K(_this824["#frequency-y-input"].value/n,0,Infinity,2):_this824["#frequency-x-input"].value=_this824["#frequency-y-input"].value);var t=_this824["#frequency-x-input"].value,e=_this824["#frequency-y-input"].value;_this824.primitive.setAttribute("baseFrequency",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#frequency-y-input"].addEventListener("changeend",_i1418=function i(){_this824["#frequency-y-input"].removeEventListener("change",e),_this824["#frequency-y-input"].removeEventListener("changeend",_i1418),_this824.Xb=!1;});}},{key:"mk",value:function mk(){this.dk=this["#frequency-lock-button"].toggled,this.Qs.setConfig("".concat(this.localName,":frequencyLocked"),this.dk),this.qs();}},{key:"gk",value:function gk(){this["#frequency-stitch-checkbox"].toggled?this.primitive.setAttribute("stitchTiles","stitch"):this.primitive.removeAttribute("stitchTiles");}},{key:"fk",value:function fk(){var _this825=this;var t,_e1503;this.Js.board.undoManager.checkpoint("Number of octaves"),this.ck=!0,this["#octaves-section"].addEventListener("change",t=function t(_t2111){_t2111.target===_this825["#octaves-slider"]?_this825["#octaves-input"].value=_this825["#octaves-slider"].value:_t2111.target===_this825["#octaves-input"]&&(_this825["#octaves-slider"].value=Math.floor(_this825["#octaves-input"].value)),_this825.primitive.setAttribute("numOctaves",_this825["#octaves-slider"].value);}),this["#octaves-section"].addEventListener("changeend",_e1503=function e(){_this825["#octaves-section"].removeEventListener("change",t),_this825["#octaves-section"].removeEventListener("changeend",_e1503),_this825.ck=!1;});}},{key:"wk",value:function wk(){var _this826=this;var t,_e1504;this.Js.board.undoManager.checkpoint("Seed"),this.pk=!0,this["#seed-section"].addEventListener("change",t=function t(_t2112){_t2112.target===_this826["#seed-slider"]?_this826["#seed-input"].value=_this826["#seed-slider"].value:_t2112.target===_this826["#seed-input"]&&(_this826["#seed-slider"].value=Math.floor(_this826["#seed-input"].value)),_this826.primitive.setAttribute("seed",_this826["#seed-slider"].value);}),this["#seed-section"].addEventListener("changeend",_e1504=function e(){_this826["#seed-section"].removeEventListener("change",t),_this826["#seed-section"].removeEventListener("changeend",_e1504),_this826.pk=!1;});}},{key:"qs",value:function qs(){this.Xb||this.ck||this.pk||this.Jy||(_get(_getPrototypeOf(Xm.prototype),"qs",this).call(this),this.primitive.hasAttribute("type")?this["#type-buttons"].value=this.primitive.getAttribute("type"):this["#type-buttons"].value="turbulence",this["#frequency-x-input"].value=Z(this.primitive.baseFrequencyX.baseVal,2),this["#frequency-y-input"].value=Z(this.primitive.baseFrequencyY.baseVal,2),this["#frequency-lock-button"].toggled=this.dk,this["#frequency-lock-icon"].name=this.dk?"lock-on":"lock-off",this["#frequency-stitch-checkbox"].toggled="stitch"===this.primitive.getAttribute("stitchTiles"),this["#octaves-slider"].value=this.primitive.numOctaves.baseVal,this["#octaves-input"].value=this.primitive.numOctaves.baseVal,this["#seed-slider"].value=this.primitive.seed.baseVal,this["#seed-input"].value=this.primitive.seed.baseVal);}}]);return Xm;}(Um);_defineProperty(Xm,"_shadowTemplate",Yi(_templateObject409()));_defineProperty(Xm,"_shadowStyleSheet",Wi(_templateObject410()));customElements.define("bx-turbulenceprimitiveinspector",Xm);var Zm={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],saturate:1,hueRotate:0,luminanceToAlpha:0};var Km=/*#__PURE__*/function(_Um9){_inherits(Km,_Um9);var _super178=_createSuper(Km);_createClass(Km,[{key:"name",get:function get(){return"Color matrix";}}]);function Km(){var _this827;_classCallCheck(this,Km);_this827=_super178.call(this),_this827.vk=!1,_this827.yk=!1,_this827.kk=!1,_this827["#type-select"].addEventListener("change",function(){return _this827.Sk();}),_this827["#matrix-values-section"].addEventListener("changestart",function(t){return _this827._k(t);}),_this827["#saturate-value-box"].addEventListener("changestart",function(){return _this827.Ck();}),_this827["#hue-rotate-value-box"].addEventListener("changestart",function(){return _this827.Mk();});return _this827;}_createClass(Km,[{key:"Sk",value:function Sk(){this.Js.board.undoManager.checkpoint("Color matrix type"),"matrix"===this["#type-select"].value?(this.primitive.setAttribute("type",this["#type-select"].value),this.primitive.removeAttribute("type")):this.primitive.setAttribute("type",this["#type-select"].value),this.primitive.removeAttribute("values");}},{key:"_k",value:function _k(t){var _this828=this;var e,_i1419,s=t.target,n=_toConsumableArray(this["#matrix-values-section"].querySelectorAll("x-numberinput:not([disabled])")),o=n.indexOf(s);this.Js.board.undoManager.checkpoint("Color matrix values"),this.vk=!0,s.addEventListener("change",e=function e(){null===s.value&&(s.value=Zm.matrix[o]);var t=n.map(function(t){return t.value;});_this828.primitive.setAttribute("values",t.join(" "));}),s.addEventListener("changeend",_i1419=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1419),_this828.vk=!1;});}},{key:"Ck",value:function Ck(){var _this829=this;var t,_e1505;this.Js.board.undoManager.checkpoint("Color matrix value"),this.yk=!0,this["#saturate-value-box"].addEventListener("change",t=function t(_t2113){_t2113.target===_this829["#saturate-value-slider"]?_this829["#saturate-value-input"].value=_this829["#saturate-value-slider"].value:_t2113.target===_this829["#saturate-value-input"]&&(_this829["#saturate-value-slider"].value=_this829["#saturate-value-input"].value),_this829.primitive.setAttribute("values",_this829["#saturate-value-input"].value);}),this["#saturate-value-box"].addEventListener("changeend",_e1505=function e(){_this829["#saturate-value-box"].removeEventListener("change",t),_this829["#saturate-value-box"].removeEventListener("changeend",_e1505),_this829.yk=!1;});}},{key:"Mk",value:function Mk(){var _this830=this;var t,_e1506;this.Js.board.undoManager.checkpoint("Color matrix hue rotate"),this.kk=!0,this["#hue-rotate-value-box"].addEventListener("change",t=function t(_t2114){_t2114.target===_this830["#hue-rotate-value-slider"]?_this830["#hue-rotate-value-input"].value=_this830["#hue-rotate-value-slider"].value:_t2114.target===_this830["#hue-rotate-value-input"]&&(_this830["#hue-rotate-value-slider"].value=_this830["#hue-rotate-value-input"].value),_this830.primitive.setAttribute("values",_this830["#hue-rotate-value-input"].value);}),this["#hue-rotate-value-box"].addEventListener("changeend",_e1506=function e(){_this830["#hue-rotate-value-box"].removeEventListener("change",t),_this830["#hue-rotate-value-box"].removeEventListener("changeend",_e1506),_this830.kk=!1;});}},{key:"qs",value:function qs(){if(this.vk||this.yk||this.kk||this.Jy)return;_get(_getPrototypeOf(Km.prototype),"qs",this).call(this);var t=this.primitive.getAttribute("type");if(!1===["saturate","hueRotate","luminanceToAlpha","matrix"].includes(t)&&(t="matrix"),this["#type-select"].value=t,"matrix"===t){var _t2115=_toConsumableArray(Zm.matrix);for(var _e1507=0;_e1507<this.primitive.values.baseVal.numberOfItems;_e1507+=1){_t2115[_e1507]=Z(this.primitive.values.baseVal[_e1507].value,2);}for(var _e1508=0;_e1508<_t2115.length;_e1508+=1){this["#matrix-".concat(_e1508,"-input")].value=_t2115[_e1508];}this["#matrix-values-section"].hidden=!1;}else this["#matrix-values-section"].hidden=!0;if("saturate"===t){var _t2116=Zm.saturate;this.primitive.values.baseVal.numberOfItems>0&&(_t2116=Z(this.primitive.values.baseVal[0].value,2)),this["#saturate-value-section"].hidden=!1,this["#saturate-value-input"].value=_t2116,this["#saturate-value-slider"].value=_t2116;}else this["#saturate-value-section"].hidden=!0;if("hueRotate"===t){var _t2117=Zm.hueRotate;this.primitive.values.baseVal.numberOfItems>0&&(_t2117=Z(this.primitive.values.baseVal[0].value,0)),this["#hue-rotate-value-section"].hidden=!1,this["#hue-rotate-value-input"].value=_t2117,this["#hue-rotate-value-slider"].value=_t2117;}else this["#hue-rotate-value-section"].hidden=!0;}}]);return Km;}(Um);_defineProperty(Km,"_shadowTemplate",Yi(_templateObject411()));_defineProperty(Km,"_shadowStyleSheet",Wi(_templateObject412()));customElements.define("bx-colormatrixprimitiveinspector",Km);var Qm=/*#__PURE__*/function(_Um10){_inherits(Qm,_Um10);var _super179=_createSuper(Qm);_createClass(Qm,[{key:"name",get:function get(){return"Component transfer";}}]);function Qm(){var _this831;_classCallCheck(this,Qm);_this831=_super179.call(this),_this831.Pk=!1,_this831.Dk=!1,_this831.zk=!1,_this831.Ok=!1,_this831.Ek=!1,_this831.Tk=!1,_this831["#component-buttons"].addEventListener("toggle",function(){return _this831.Ak();}),_this831["#type-select"].addEventListener("change",function(){return _this831.Sk();}),_this831["#linear-slope-box"].addEventListener("changestart",function(){return _this831.$k();}),_this831["#linear-intercept-box"].addEventListener("changestart",function(){return _this831.Ik();}),_this831["#gamma-amplitude-box"].addEventListener("changestart",function(){return _this831.Lk();}),_this831["#gamma-exponent-box"].addEventListener("changestart",function(){return _this831.Bk();}),_this831["#gamma-offset-box"].addEventListener("changestart",function(){return _this831.Rk();}),_this831["#table-values-box"].addEventListener("changestart",function(t){return _this831.Gk(t);});return _this831;}_createClass(Qm,[{key:"Ak",value:function Ak(){this.qs();}},{key:"Sk",value:function Sk(){var t=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function type"),t||(t=zi("svg:"+this["#component-buttons"].value),this.primitive.append(t)),"identity"===this["#type-select"].value?t.removeAttribute("type"):t.setAttribute("type",this["#type-select"].value),"linear"!==this["#type-select"].value&&(t.removeAttribute("slope"),t.removeAttribute("intercept")),"gamma"!==this["#type-select"].value&&(t.removeAttribute("amplitude"),t.removeAttribute("exponent"),t.removeAttribute("offset")),"table"!==this["#type-select"].value&&"discrete"!==this["#type-select"].value&&t.removeAttribute("tableValues");}},{key:"$k",value:function $k(){var _this832=this;var t,_e1509,i=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function slope"),this.Pk=!0,this["#linear-slope-section"].addEventListener("change",t=function t(_t2118){_t2118.target===_this832["#linear-slope-slider"]?_this832["#linear-slope-input"].value=_this832["#linear-slope-slider"].value:_t2118.target===_this832["#linear-slope-input"]&&(_this832["#linear-slope-slider"].value=_this832["#linear-slope-input"].value),1===_this832["#linear-slope-input"].value?i.removeAttribute("slope"):i.setAttribute("slope",_this832["#linear-slope-input"].value);}),this["#linear-slope-section"].addEventListener("changeend",_e1509=function e(){_this832["#linear-slope-section"].removeEventListener("change",t),_this832["#linear-slope-section"].removeEventListener("changeend",_e1509),_this832.Pk=!1;});}},{key:"Ik",value:function Ik(){var _this833=this;var t,_e1510,i=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function intercept"),this.Dk=!0,this["#linear-intercept-section"].addEventListener("change",t=function t(_t2119){_t2119.target===_this833["#linear-intercept-slider"]?_this833["#linear-intercept-input"].value=_this833["#linear-intercept-slider"].value:_t2119.target===_this833["#linear-intercept-input"]&&(_this833["#linear-intercept-slider"].value=_this833["#linear-intercept-input"].value),0===_this833["#linear-intercept-input"].value?i.removeAttribute("intercept"):i.setAttribute("intercept",_this833["#linear-intercept-input"].value);}),this["#linear-intercept-section"].addEventListener("changeend",_e1510=function e(){_this833["#linear-intercept-section"].removeEventListener("change",t),_this833["#linear-intercept-section"].removeEventListener("changeend",_e1510),_this833.Dk=!1;});}},{key:"Lk",value:function Lk(){var _this834=this;var t,_e1511,i=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function amplitude"),this.zk=!0,this["#gamma-amplitude-section"].addEventListener("change",t=function t(_t2120){_t2120.target===_this834["#gamma-amplitude-slider"]?_this834["#gamma-amplitude-input"].value=_this834["#gamma-amplitude-slider"].value:_t2120.target===_this834["#gamma-amplitude-input"]&&(_this834["#gamma-amplitude-slider"].value=_this834["#gamma-amplitude-input"].value),1===_this834["#gamma-amplitude-input"].value?i.removeAttribute("amplitude"):i.setAttribute("amplitude",_this834["#gamma-amplitude-input"].value);}),this["#gamma-amplitude-section"].addEventListener("changeend",_e1511=function e(){_this834["#gamma-amplitude-section"].removeEventListener("change",t),_this834["#gamma-amplitude-section"].removeEventListener("changeend",_e1511),_this834.zk=!1;});}},{key:"Bk",value:function Bk(){var _this835=this;var t,_e1512,i=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function exponent"),this.Ok=!0,this["#gamma-exponent-section"].addEventListener("change",t=function t(_t2121){_t2121.target===_this835["#gamma-exponent-slider"]?_this835["#gamma-exponent-input"].value=_this835["#gamma-exponent-slider"].value:_t2121.target===_this835["#gamma-exponent-input"]&&(_this835["#gamma-exponent-slider"].value=_this835["#gamma-exponent-input"].value),1===_this835["#gamma-exponent-input"].value?i.removeAttribute("exponent"):i.setAttribute("exponent",_this835["#gamma-exponent-input"].value);}),this["#gamma-exponent-section"].addEventListener("changeend",_e1512=function e(){_this835["#gamma-exponent-section"].removeEventListener("change",t),_this835["#gamma-exponent-section"].removeEventListener("changeend",_e1512),_this835.Ok=!1;});}},{key:"Rk",value:function Rk(){var _this836=this;var t,_e1513,i=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function offset"),this.Ek=!0,this["#gamma-offset-section"].addEventListener("change",t=function t(_t2122){_t2122.target===_this836["#gamma-offset-slider"]?_this836["#gamma-offset-input"].value=_this836["#gamma-offset-slider"].value:_t2122.target===_this836["#gamma-offset-input"]&&(_this836["#gamma-offset-slider"].value=_this836["#gamma-offset-input"].value),0===_this836["#gamma-offset-input"].value?i.removeAttribute("offset"):i.setAttribute("offset",_this836["#gamma-offset-input"].value);}),this["#gamma-offset-section"].addEventListener("changeend",_e1513=function e(){_this836["#gamma-offset-section"].removeEventListener("change",t),_this836["#gamma-offset-section"].removeEventListener("changeend",_e1513),_this836.Ek=!1;});}},{key:"Gk",value:function Gk(t){var _this837=this;var e,_i1420,s=this.primitive.querySelector(this["#component-buttons"].value),n=_toConsumableArray(this["#table-values-box"].children),o=t.target;this.Js.board.undoManager.checkpoint("Component transfer function table values"),this.Tk=!0,o.addEventListener("change",e=function e(){var t=n.map(function(t){return t.value;}).filter(function(t){return null!==t;});0===t.length?s.removeAttribute("tableValues"):s.setAttribute("tableValues",t.join(" "));}),o.addEventListener("changeend",_i1420=function i(){o.removeEventListener("change",e),o.removeEventListener("changeend",_i1420),_this837.Tk=!1,_this837.qs();});}},{key:"qs",value:function qs(){if(this.Pk||this.Dk||this.zk||this.Ok||this.Ek||this.Tk||this.Jy)return;_get(_getPrototypeOf(Qm.prototype),"qs",this).call(this);var t=this.primitive.querySelector(this["#component-buttons"].value),e=t?t.getAttribute("type"):"identity";if(!1===["identity","table","discrete","linear","gamma"].includes(e)&&(e="identity"),this["#type-select"].value=e,"linear"===e?(this["#linear-slope-section"].hidden=!1,this["#linear-slope-slider"].value=Z(t.slope.baseVal,2),this["#linear-slope-input"].value=Z(t.slope.baseVal,2)):this["#linear-slope-section"].hidden=!0,"linear"===e?(this["#linear-intercept-section"].hidden=!1,this["#linear-intercept-slider"].value=Z(t.intercept.baseVal,2),this["#linear-intercept-input"].value=Z(t.intercept.baseVal,2)):this["#linear-intercept-section"].hidden=!0,"gamma"===e?(this["#gamma-amplitude-section"].hidden=!1,this["#gamma-amplitude-slider"].value=Z(t.amplitude.baseVal,2),this["#gamma-amplitude-input"].value=Z(t.amplitude.baseVal,2)):this["#gamma-amplitude-section"].hidden=!0,"gamma"===e?(this["#gamma-exponent-section"].hidden=!1,this["#gamma-exponent-slider"].value=t.exponent.baseVal,this["#gamma-exponent-input"].value=t.exponent.baseVal):this["#gamma-exponent-section"].hidden=!0,"gamma"===e?(this["#gamma-offset-section"].hidden=!1,this["#gamma-offset-slider"].value=t.offset.baseVal,this["#gamma-offset-input"].value=t.offset.baseVal):this["#gamma-offset-section"].hidden=!0,"table"===e||"discrete"===e){this["#table-values-section"].hidden=!1;var _e1514=_toConsumableArray(t.tableValues.baseVal).map(function(t){return Z(t.value,2);}),_i1421=Math.max(2,_e1514.length+1);for(;this["#table-values-box"].childElementCount<_i1421;){this["#table-values-box"].append(this["#table-values-box"].lastElementChild.cloneNode());}for(;this["#table-values-box"].childElementCount>_i1421;){this["#table-values-box"].lastElementChild.remove();}for(var _t2123=0;_t2123<_i1421;_t2123+=1){void 0===_e1514[_t2123]?this["#table-values-box"].children[_t2123].value=null:this["#table-values-box"].children[_t2123].value=_e1514[_t2123];}}else this["#table-values-section"].hidden=!0;}}]);return Qm;}(Um);_defineProperty(Qm,"_shadowTemplate",Yi(_templateObject413()));_defineProperty(Qm,"_shadowStyleSheet",Wi(_templateObject414()));customElements.define("bx-componenttransferprimitiveinspector",Qm);var Jm=10;var tg=/*#__PURE__*/function(_Um11){_inherits(tg,_Um11);var _super180=_createSuper(tg);_createClass(tg,[{key:"name",get:function get(){return"Convolve matrix";}}]);function tg(){var _this838;_classCallCheck(this,tg);_this838=_super180.call(this),_this838.Fk=!1,_this838.Uk=!1,_this838.Nk=!1,_this838.Vk=!1,_this838["#target-box"].addEventListener("changestart",function(t){return _this838.jk(t);}),_this838["#kernel-values-table"].addEventListener("changestart",function(t){return _this838.Hk(t);}),_this838["#kernel-row-buttons"].addEventListener("click",function(t){return _this838.Yk(t);}),_this838["#kernel-column-buttons"].addEventListener("click",function(t){return _this838.Wk(t);}),_this838["#divisor-switch"].addEventListener("toggle",function(){return _this838.qk();}),_this838["#divisor-box"].addEventListener("changestart",function(t){return _this838.Xk(t);}),_this838["#bias-box"].addEventListener("changestart",function(t){return _this838.Zk(t);}),_this838["#edge-mode-buttons"].addEventListener("toggle",function(){return _this838.Kk();}),_this838["#preserve-alpha-checkbox"].addEventListener("toggle",function(){return _this838.Qk();});return _this838;}_createClass(tg,[{key:"Hk",value:function Hk(t){var _this839=this;var e,_i1422,s=t.target,n=parseInt(s.dataset.x),o=parseInt(s.dataset.y),_this$Jk=this.Jk(),l=_this$Jk.values,h=_this$Jk.orderX,a=_this$Jk.orderY,r=_this$Jk.targetX,d=_this$Jk.targetY;this.Js.board.undoManager.checkpoint("Convolve matrix value"),this.Fk=!0,s.addEventListener("change",e=function e(){var _ref138;l[o][n]=s.value,_this839.primitive.setAttribute("kernelMatrix","".concat((_ref138=[]).concat.apply(_ref138,_toConsumableArray(l))));}),s.addEventListener("changeend",_i1422=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1422),_this839.Fk=!1;});}},{key:"Yk",value:function Yk(t){var _ref139;var e=t.target.closest("x-button"),_this$Jk2=this.Jk(),i=_this$Jk2.values,s=_this$Jk2.orderX,n=_this$Jk2.orderY,o=_this$Jk2.targetX,l=_this$Jk2.targetY;e===this["#kernel-add-row-button"]?(n+=1,i.push(new Array(s).fill(0))):e===this["#kernel-remove-row-button"]&&(n-=1,i.length=n),this.Js.board.undoManager.checkpoint("Convolve matrix rows"),this.primitive.setAttribute("order","".concat(s," ").concat(n)),this.primitive.setAttribute("kernelMatrix","".concat((_ref139=[]).concat.apply(_ref139,_toConsumableArray(i)))),l>i.length-1&&this.primitive.removeAttribute("targetY");}},{key:"Wk",value:function Wk(t){var _ref140;var e=t.target.closest("x-button"),_this$Jk3=this.Jk(),i=_this$Jk3.values,s=_this$Jk3.orderX,n=_this$Jk3.orderY,o=_this$Jk3.targetX,l=_this$Jk3.targetY;if(e===this["#kernel-add-column-button"]){s+=1;var _iterator1425=_createForOfIteratorHelper(i),_step1425;try{for(_iterator1425.s();!(_step1425=_iterator1425.n()).done;){var _t2124=_step1425.value;_t2124.push(0);}}catch(err){_iterator1425.e(err);}finally{_iterator1425.f();}}else if(e===this["#kernel-remove-column-button"]){s-=1;var _iterator1426=_createForOfIteratorHelper(i),_step1426;try{for(_iterator1426.s();!(_step1426=_iterator1426.n()).done;){var _t2125=_step1426.value;_t2125.pop();}}catch(err){_iterator1426.e(err);}finally{_iterator1426.f();}}this.Js.board.undoManager.checkpoint("Convolve matrix columns"),this.primitive.setAttribute("order","".concat(s," ").concat(n)),this.primitive.setAttribute("kernelMatrix","".concat((_ref140=[]).concat.apply(_ref140,_toConsumableArray(i)))),o>i[0].length-1&&this.primitive.removeAttribute("targetX");}},{key:"jk",value:function jk(t){var _this840=this;var e,_i1423,s=t.target;this.Js.board.undoManager.checkpoint("Convolve matrix target"),this.Uk=!0,this["#target-box"].addEventListener("change",e=function e(){_this840.primitive.setAttribute(s.dataset.name,Math.floor(s.value));var _iterator1427=_createForOfIteratorHelper(_this840["#kernel-values-table"].querySelectorAll("x-numberinput")),_step1427;try{for(_iterator1427.s();!(_step1427=_iterator1427.n()).done;){var _t2126=_step1427.value;parseInt(_t2126.dataset.x)===_this840["#target-x-input"].value&&parseInt(_t2126.dataset.y)===_this840["#target-y-input"].value?_t2126.setAttribute("data-target","true"):_t2126.setAttribute("data-target","false");}}catch(err){_iterator1427.e(err);}finally{_iterator1427.f();}}),this["#target-box"].addEventListener("changeend",_i1423=function i(){_this840["#target-box"].removeEventListener("change",e),_this840["#target-box"].removeEventListener("changeend",_i1423),_this840.Uk=!1;});}},{key:"qk",value:function qk(){if(this.Js.board.undoManager.checkpoint("Convolve matrix divisor"),this["#divisor-switch"].toggled){var _t2127=1,_e1515=0;var _iterator1428=_createForOfIteratorHelper(this.Jk().flatValues),_step1428;try{for(_iterator1428.s();!(_step1428=_iterator1428.n()).done;){var _t2128=_step1428.value;_e1515+=_t2128;}}catch(err){_iterator1428.e(err);}finally{_iterator1428.f();}0!==_e1515&&(_t2127=Z(_e1515,2)),this.primitive.setAttribute("divisor",_t2127);}else this.primitive.removeAttribute("divisor");}},{key:"Xk",value:function Xk(){var _this841=this;var t,_e1516;this.Js.board.undoManager.checkpoint("Convolve matrix divisor"),this.Nk=!0,this["#divisor-section"].addEventListener("change",t=function t(_t2129){_t2129.target===_this841["#divisor-slider"]?_this841["#divisor-input"].value=_this841["#divisor-slider"].value:_t2129.target===_this841["#divisor-input"]&&(_this841["#divisor-slider"].value=_this841["#divisor-input"].value),_this841.primitive.setAttribute("divisor",_this841["#divisor-input"].value);}),this["#divisor-section"].addEventListener("changeend",_e1516=function e(){_this841["#divisor-section"].removeEventListener("change",t),_this841["#divisor-section"].removeEventListener("changeend",_e1516),_this841.Nk=!1;});}},{key:"Zk",value:function Zk(){var _this842=this;var t,_e1517;this.Js.board.undoManager.checkpoint("Convolve matrix bias"),this.Vk=!0,this["#bias-section"].addEventListener("change",t=function t(_t2130){_t2130.target===_this842["#bias-slider"]?_this842["#bias-input"].value=_this842["#bias-slider"].value:_t2130.target===_this842["#bias-input"]&&(_this842["#bias-slider"].value=_this842["#bias-input"].value),_this842.primitive.setAttribute("bias",_this842["#bias-input"].value);}),this["#bias-section"].addEventListener("changeend",_e1517=function e(){_this842["#bias-section"].removeEventListener("change",t),_this842["#bias-section"].removeEventListener("changeend",_e1517),_this842.Vk=!1;});}},{key:"Kk",value:function Kk(){var t=this["#edge-mode-buttons"].value;this.Js.board.undoManager.checkpoint("Convolve matrix edge mode"),"duplicate"===t?(this.primitive.setAttribute("edgeMode",t),this.primitive.removeAttribute("edgeMode")):this.primitive.setAttribute("edgeMode",t);}},{key:"Qk",value:function Qk(){this["#preserve-alpha-checkbox"].toggled?this.primitive.setAttribute("preserveAlpha","true"):(this.primitive.setAttribute("preserveAlpha","false"),this.primitive.removeAttribute("preserveAlpha"));}},{key:"Jk",value:function Jk(){var t=3,e=3,i=1,s=1,n=[],o=[];this.primitive.hasAttribute("order")&&(this.primitive.orderX.baseVal>0&&(t=K(this.primitive.orderX.baseVal,1,Jm)),this.primitive.orderY.baseVal>0&&(e=K(this.primitive.orderY.baseVal,1,Jm))),i=Math.floor(t/2),s=Math.floor(e/2),this.primitive.hasAttribute("targetX")&&this.primitive.targetX.baseVal>=0&&this.primitive.targetX.baseVal<t&&(i=this.primitive.targetX.baseVal),this.primitive.hasAttribute("targetY")&&this.primitive.targetY.baseVal>=0&&this.primitive.targetY.baseVal<e&&(s=this.primitive.targetY.baseVal);for(var _n609=0;_n609<e;_n609+=1){for(var _e1518=0;_e1518<t;_e1518+=1){_e1518===i&&_n609===s?o.push(1):o.push(0);}}if(o.length===this.primitive.kernelMatrix.baseVal.numberOfItems)for(var _t2131=0;_t2131<this.primitive.kernelMatrix.baseVal.numberOfItems;_t2131+=1){o[_t2131]=Z(this.primitive.kernelMatrix.baseVal[_t2131].value,2);}{var _i1424=0;for(var _s829=0;_s829<e;_s829+=1){var _e1519=[];for(var _s830=0;_s830<t;_s830+=1){var _t2132=o[_i1424];_e1519.push(_t2132),_i1424+=1;}n.push(_e1519);}}return{orderX:t,orderY:e,targetX:i,targetY:s,values:n,flatValues:o};}},{key:"qs",value:function qs(){if(this.Fk||this.Uk||this.Nk||this.Vk||this.Jy)return;_get(_getPrototypeOf(tg.prototype),"qs",this).call(this);var _this$Jk4=this.Jk(),t=_this$Jk4.orderX,e=_this$Jk4.orderY,i=_this$Jk4.targetX,s=_this$Jk4.targetY,n=_this$Jk4.values;{var _o488="",_l370=0,_h276=0;var _iterator1429=_createForOfIteratorHelper(n),_step1429;try{for(_iterator1429.s();!(_step1429=_iterator1429.n()).done;){var _t2133=_step1429.value;_o488+='<x-box class="row-box">',_l370=0;var _iterator1430=_createForOfIteratorHelper(_t2133),_step1430;try{for(_iterator1430.s();!(_step1430=_iterator1430.n()).done;){var _e1520=_step1430.value;_o488+="\n            <x-numberinput\n              value=\"".concat(_e1520,"\"\n              data-x=\"").concat(_l370,"\"\n              data-y=\"").concat(_h276,"\"\n              data-target=\"").concat(_l370===i&&_h276===s,"\"\n              step=\"0.01\"\n              style=\"\">\n            </x-numberinput>\n          "),_l370+=1;}}catch(err){_iterator1430.e(err);}finally{_iterator1430.f();}_o488+="</x-box>",_h276+=1;}}catch(err){_iterator1429.e(err);}finally{_iterator1429.f();}this["#kernel-values-table"].style.setProperty("--order-x",t),this["#kernel-values-table"].style.setProperty("--order-y",e),this["#kernel-values-table"].innerHTML=_o488,this["#kernel-add-row-button"].disabled=e>=Jm,this["#kernel-remove-row-button"].disabled=1===e,this["#kernel-add-column-button"].disabled=t>=Jm,this["#kernel-remove-column-button"].disabled=1===t;}if(this["#target-x-label"].disabled=1===t,this["#target-x-input"].max=t-1,this["#target-x-input"].value=i,this["#target-x-input"].disabled=1===t,this["#target-y-label"].disabled=1===e,this["#target-y-input"].max=e-1,this["#target-y-input"].value=s,this["#target-y-input"].disabled=1===e,this.primitive.hasAttribute("divisor")){var _t2134=Z(this.primitive.divisor.baseVal,2);this["#divisor-heading"].disabled=!1,this["#divisor-switch"].toggled=!0,this["#divisor-slider"].disabled=!1,this["#divisor-slider"].value=_t2134,this["#divisor-input"].disabled=!1,this["#divisor-input"].value=_t2134;}else this["#divisor-heading"].disabled=!0,this["#divisor-switch"].toggled=!1,this["#divisor-slider"].disabled=!0,this["#divisor-slider"].value=0,this["#divisor-input"].disabled=!0,this["#divisor-input"].value=null;{var _t2135=Z(this.primitive.bias.baseVal,2);this["#bias-slider"].value=_t2135,this["#bias-input"].value=_t2135;}{var _t2136=this.primitive.getAttribute("edgeMode");!1===["duplicate","wrap","none"].includes(_t2136)&&(_t2136="duplicate"),this["#edge-mode-buttons"].value=_t2136;}this["#preserve-alpha-checkbox"].toggled="true"===this.primitive.getAttribute("preserveAlpha");}}]);return tg;}(Um);_defineProperty(tg,"_shadowTemplate",Yi(_templateObject415(),9,9));_defineProperty(tg,"_shadowStyleSheet",Wi(_templateObject416()));customElements.define("bx-convolvematrixprimitiveinspector",tg);var eg=/*#__PURE__*/function(_Um12){_inherits(eg,_Um12);var _super181=_createSuper(eg);_createClass(eg,[{key:"name",get:function get(){return"Displacement map";}}]);function eg(){var _this843;_classCallCheck(this,eg);_this843=_super181.call(this),_this843.tS=!1,_this843["#scale-box"].addEventListener("changestart",function(){return _this843.eS();}),_this843["#x-channel-buttons"].addEventListener("toggle",function(){return _this843.iS();}),_this843["#y-channel-buttons"].addEventListener("toggle",function(){return _this843.sS();});return _this843;}_createClass(eg,[{key:"iS",value:function iS(){this.Js.board.undoManager.checkpoint("Displacement map X channel"),"A"===this["#x-channel-buttons"].value?this.primitive.removeAttribute("xChannelSelector"):this.primitive.setAttribute("xChannelSelector",this["#x-channel-buttons"].value);}},{key:"sS",value:function sS(){this.Js.board.undoManager.checkpoint("Displacement map Y channel"),"A"===this["#y-channel-buttons"].value?this.primitive.removeAttribute("yChannelSelector"):this.primitive.setAttribute("yChannelSelector",this["#y-channel-buttons"].value);}},{key:"eS",value:function eS(){var _this844=this;var t,_e1521,i=this.primitive.closest("filter");this.Js.board.undoManager.checkpoint("Displacement map scale"),this.tS=!0,this["#scale-section"].addEventListener("change",t=function t(_t2137){_t2137.target===_this844["#scale-slider"]?_this844["#scale-input"].value=_this844["#scale-slider"].value:_t2137.target===_this844["#scale-input"]&&(_this844["#scale-slider"].value=_this844["#scale-input"].value);var e=_this844["#scale-input"].value;i.primitiveUnits.baseVal===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX&&(e=Z(e/100,2)),_this844.primitive.setAttribute("scale",e);}),this["#scale-section"].addEventListener("changeend",_e1521=function e(){_this844["#scale-section"].removeEventListener("change",t),_this844["#scale-section"].removeEventListener("changeend",_e1521),_this844.tS=!1;});}},{key:"qs",value:function qs(){if(!this.tS&&!this.Jy){_get(_getPrototypeOf(eg.prototype),"qs",this).call(this);{var _t2138=this.primitive.closest("filter"),_e1522=this.primitive.scale.baseVal,_i1425="";_t2138.primitiveUnits.baseVal===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX?(_e1522=Z(100*_e1522,2),_i1425="%"):_e1522=Z(_e1522,0),this["#scale-slider"].value=_e1522,this["#scale-input"].value=_e1522,this["#scale-input"].suffix=_i1425;}{var _t2139=this.primitive.getAttribute("xChannelSelector");!1===["R","G","B","A"].includes(_t2139)&&(_t2139="A"),this["#x-channel-buttons"].value=_t2139;}{var _t2140=this.primitive.getAttribute("yChannelSelector");!1===["R","G","B","A"].includes(_t2140)&&(_t2140="A"),this["#y-channel-buttons"].value=_t2140;}}}}]);return eg;}(Um);_defineProperty(eg,"_shadowTemplate",Yi(_templateObject417()));_defineProperty(eg,"_shadowStyleSheet",Wi(_templateObject418()));customElements.define("bx-displacementmapprimitiveinspector",eg);var ig=/*#__PURE__*/function(_Um13){_inherits(ig,_Um13);var _super182=_createSuper(ig);_createClass(ig,[{key:"name",get:function get(){return"Gaussian blur";}}]);function ig(){var _this845;_classCallCheck(this,ig);_this845=_super182.call(this),_this845.nS=!1,_this845.oS=!1,_this845["#deviation-x-input"].addEventListener("changestart",function(){return _this845.lS();}),_this845["#deviation-y-input"].addEventListener("changestart",function(){return _this845.hS();}),_this845["#deviation-lock-button"].addEventListener("toggle",function(){return _this845.aS();});return _this845;}_createClass(ig,[{key:"connectedCallback",value:function connectedCallback(){this.nS=app.getConfig("".concat(this.localName,":deviationLocked"),!1),_get(_getPrototypeOf(ig.prototype),"connectedCallback",this).call(this);}},{key:"lS",value:function lS(){var _this846=this;var t,_e1523,i=this["#deviation-lock-button"].toggled,s=this["#deviation-x-input"].value/this["#deviation-y-input"].value;this.Js.board.undoManager.checkpoint("Filter standard deviation"),this.oS=!0,this["#deviation-x-input"].addEventListener("change",t=function t(){null===_this846["#deviation-x-input"].value&&(_this846["#deviation-x-input"].value=0),i&&(Number.isFinite(s)&&0!==s?_this846["#deviation-y-input"].value=K(_this846["#deviation-x-input"].value/s,0,Infinity,2):_this846["#deviation-y-input"].value=_this846["#deviation-x-input"].value);var t=_this846["#deviation-x-input"].value,e=_this846["#deviation-y-input"].value;_this846.primitive.setAttribute("stdDeviation",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#deviation-x-input"].addEventListener("changeend",_e1523=function e(){_this846["#deviation-x-input"].removeEventListener("change",t),_this846["#deviation-x-input"].removeEventListener("changeend",_e1523),_this846.oS=!1;});}},{key:"hS",value:function hS(){var _this847=this;var t,_e1524,i=this["#deviation-lock-button"].toggled,s=this["#deviation-x-input"].value/this["#deviation-y-input"].value;this.Js.board.undoManager.checkpoint("Filter standard deviation"),this.oS=!0,this["#deviation-y-input"].addEventListener("change",t=function t(){null===_this847["#deviation-y-input"].value&&(_this847["#deviation-y-input"].value=0),i&&(Number.isFinite(s)&&0!==s?_this847["#deviation-x-input"].value=K(_this847["#deviation-y-input"].value/s,0,Infinity,2):_this847["#deviation-x-input"].value=_this847["#deviation-y-input"].value);var t=_this847["#deviation-x-input"].value,e=_this847["#deviation-y-input"].value;_this847.primitive.setAttribute("stdDeviation",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#deviation-y-input"].addEventListener("changeend",_e1524=function e(){_this847["#deviation-y-input"].removeEventListener("change",t),_this847["#deviation-y-input"].removeEventListener("changeend",_e1524),_this847.oS=!1;});}},{key:"aS",value:function aS(){this.nS=this["#deviation-lock-button"].toggled,this.Qs.setConfig("".concat(this.localName,":deviationLocked"),this.nS),this.qs();}},{key:"qs",value:function qs(){this.oS||this.Jy||(_get(_getPrototypeOf(ig.prototype),"qs",this).call(this),this["#deviation-x-input"].value=Z(this.primitive.stdDeviationX.baseVal,2),this["#deviation-y-input"].value=Z(this.primitive.stdDeviationY.baseVal,2),this["#deviation-lock-button"].toggled=this.nS,this["#deviation-lock-icon"].name=this.nS?"lock-on":"lock-off");}}]);return ig;}(Um);_defineProperty(ig,"_shadowTemplate",Yi(_templateObject419()));_defineProperty(ig,"_shadowStyleSheet",Wi(_templateObject420()));customElements.define("bx-gaussianblurprimitiveinspector",ig);var sg=/*#__PURE__*/function(_Um14){_inherits(sg,_Um14);var _super183=_createSuper(sg);_createClass(sg,[{key:"name",get:function get(){return"Morphology";}}]);function sg(){var _this848;_classCallCheck(this,sg);_this848=_super183.call(this),_this848.rS=!1,_this848.Vb=!1,_this848["#operator-buttons"].addEventListener("toggle",function(){return _this848.tm();}),_this848["#radius-x-input"].addEventListener("changestart",function(){return _this848.dS();}),_this848["#radius-y-input"].addEventListener("changestart",function(){return _this848.cS();}),_this848["#radius-lock-button"].addEventListener("toggle",function(){return _this848.pS();});return _this848;}_createClass(sg,[{key:"connectedCallback",value:function connectedCallback(){this.rS=app.getConfig("".concat(this.localName,":radiusLocked"),!1),_get(_getPrototypeOf(sg.prototype),"connectedCallback",this).call(this);}},{key:"tm",value:function tm(){this.Js.board.undoManager.checkpoint("Morphology operator"),"erode"===this["#operator-buttons"].value?this.primitive.removeAttribute("operator"):this.primitive.setAttribute("operator",this["#operator-buttons"].value);}},{key:"dS",value:function dS(t){var _this849=this;var e,_i1426,s=this["#radius-lock-button"].toggled,n=this["#radius-x-input"].value/this["#radius-y-input"].value;this.Js.board.undoManager.checkpoint("Morphology radius"),this.Vb=!0,this["#radius-x-input"].addEventListener("change",e=function e(){null===_this849["#radius-x-input"].value&&(_this849["#radius-x-input"].value=0),s&&(Number.isFinite(n)&&0!==n?_this849["#radius-y-input"].value=K(_this849["#radius-x-input"].value/n,0,Infinity,2):_this849["#radius-y-input"].value=_this849["#radius-x-input"].value);var t=_this849["#radius-x-input"].value,e=_this849["#radius-y-input"].value;_this849.primitive.setAttribute("radius",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#radius-x-input"].addEventListener("changeend",_i1426=function i(){_this849["#radius-x-input"].removeEventListener("change",e),_this849["#radius-x-input"].removeEventListener("changeend",_i1426),_this849.Vb=!1;});}},{key:"cS",value:function cS(t){var _this850=this;var e,_i1427,s=this["#radius-lock-button"].toggled,n=this["#radius-x-input"].value/this["#radius-y-input"].value;this.Js.board.undoManager.checkpoint("Morphology radius"),this.Vb=!0,this["#radius-y-input"].addEventListener("change",e=function e(){null===_this850["#radius-y-input"].value&&(_this850["#radius-y-input"].value=0),s&&(Number.isFinite(n)&&0!==n?_this850["#radius-x-input"].value=K(_this850["#radius-y-input"].value/n,0,Infinity,2):_this850["#radius-x-input"].value=_this850["#radius-y-input"].value);var t=_this850["#radius-x-input"].value,e=_this850["#radius-y-input"].value;_this850.primitive.setAttribute("radius",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#radius-y-input"].addEventListener("changeend",_i1427=function i(){_this850["#radius-y-input"].removeEventListener("change",e),_this850["#radius-y-input"].removeEventListener("changeend",_i1427),_this850.Vb=!1;});}},{key:"pS",value:function pS(){this.rS=this["#radius-lock-button"].toggled,this.Qs.setConfig("".concat(this.localName,":radiusLocked"),this.rS),this.qs();}},{key:"qs",value:function qs(){this.Vb||this.Jy||(_get(_getPrototypeOf(sg.prototype),"qs",this).call(this),this.primitive.hasAttribute("operator")?this["#operator-buttons"].value=this.primitive.getAttribute("operator"):this["#operator-buttons"].value="erode",this["#radius-x-input"].value=Z(this.primitive.radiusX.baseVal,2),this["#radius-y-input"].value=Z(this.primitive.radiusY.baseVal,2),this["#radius-lock-button"].toggled=this.rS,this["#radius-lock-icon"].name=this.rS?"lock-on":"lock-off");}}]);return sg;}(Um);_defineProperty(sg,"_shadowTemplate",Yi(_templateObject421()));_defineProperty(sg,"_shadowStyleSheet",Wi(_templateObject422()));customElements.define("bx-morphologyprimitiveinspector",sg);var ng=/*#__PURE__*/function(_Um15){_inherits(ng,_Um15);var _super184=_createSuper(ng);_createClass(ng,[{key:"name",get:function get(){return"Drop shadow";}}]);function ng(){var _this851;_classCallCheck(this,ng);_this851=_super184.call(this),_this851.nS=!1,_this851.oS=!1,_this851.vb=!1,_this851.kb=!1,_this851.Wx=!1,_this851["#deviation-x-input"].addEventListener("changestart",function(){return _this851.lS();}),_this851["#deviation-y-input"].addEventListener("changestart",function(){return _this851.hS();}),_this851["#deviation-lock-button"].addEventListener("toggle",function(){return _this851.aS();}),_this851["#offset-section"].addEventListener("changestart",function(t){return _this851.Sb(t);}),_this851["#color-select"].addEventListener("changestart",function(){return _this851.Mb();}),_this851["#opacity-box"].addEventListener("changestart",function(t){return _this851.qx(t);});return _this851;}_createClass(ng,[{key:"connectedCallback",value:function connectedCallback(){this.nS=app.getConfig("".concat(this.localName,":deviationLocked"),!1),_get(_getPrototypeOf(ng.prototype),"connectedCallback",this).call(this);}},{key:"lS",value:function lS(){var _this852=this;var t,_e1525,i=this["#deviation-lock-button"].toggled,s=this["#deviation-x-input"].value/this["#deviation-y-input"].value;this.Js.board.undoManager.checkpoint("Filter standard deviation"),this.oS=!0,this["#deviation-x-input"].addEventListener("change",t=function t(){null===_this852["#deviation-x-input"].value&&(_this852["#deviation-x-input"].value=0),i&&(Number.isFinite(s)&&0!==s?_this852["#deviation-y-input"].value=K(_this852["#deviation-x-input"].value/s,0,Infinity,2):_this852["#deviation-y-input"].value=_this852["#deviation-x-input"].value);var t=_this852["#deviation-x-input"].value,e=_this852["#deviation-y-input"].value;_this852.primitive.setAttribute("stdDeviation",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#deviation-x-input"].addEventListener("changeend",_e1525=function e(){_this852["#deviation-x-input"].removeEventListener("change",t),_this852["#deviation-x-input"].removeEventListener("changeend",_e1525),_this852.oS=!1;});}},{key:"hS",value:function hS(){var _this853=this;var t,_e1526,i=this["#deviation-lock-button"].toggled,s=this["#deviation-x-input"].value/this["#deviation-y-input"].value;this.Js.board.undoManager.checkpoint("Filter standard deviation"),this.oS=!0,this["#deviation-y-input"].addEventListener("change",t=function t(){null===_this853["#deviation-y-input"].value&&(_this853["#deviation-y-input"].value=0),i&&(Number.isFinite(s)&&0!==s?_this853["#deviation-x-input"].value=K(_this853["#deviation-y-input"].value/s,0,Infinity,2):_this853["#deviation-x-input"].value=_this853["#deviation-y-input"].value);var t=_this853["#deviation-x-input"].value,e=_this853["#deviation-y-input"].value;_this853.primitive.setAttribute("stdDeviation",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#deviation-y-input"].addEventListener("changeend",_e1526=function e(){_this853["#deviation-y-input"].removeEventListener("change",t),_this853["#deviation-y-input"].removeEventListener("changeend",_e1526),_this853.oS=!1;});}},{key:"aS",value:function aS(){this.nS=this["#deviation-lock-button"].toggled,this.Qs.setConfig("".concat(this.localName,":deviationLocked"),this.nS),this.qs();}},{key:"Sb",value:function Sb(t){var _this854=this;var e,_i1428,s=t.target;this.Js.board.undoManager.checkpoint("Drop shadow offset"),this.vb=!0,s.addEventListener("change",e=function e(){_this854.primitive.setAttribute(s.dataset.name,s.value);}),s.addEventListener("changeend",_i1428=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1428),_this854.vb=!1;});}},{key:"Mb",value:function Mb(){var _this855=this;var t,_e1527;this.Js.board.undoManager.checkpoint("Flood color"),this.kb=!0,this["#color-select"].addEventListener("change",t=function t(){_this855.primitive.style.setProperty("flood-color",_this855["#color-select"].value);}),this["#color-select"].addEventListener("changeend",_e1527=function e(){_this855["#color-select"].removeEventListener("change",t),_this855["#color-select"].removeEventListener("changeend",_e1527),ya("flood-color",_this855.primitive),_this855.kb=!1;});}},{key:"qx",value:function qx(){var _this856=this;var t,_e1528;this.Js.board.undoManager.checkpoint("Flood opacity"),this.Wx=!0,this["#opacity-section"].addEventListener("change",t=function t(_t2141){_t2141.target===_this856["#opacity-slider"]?_this856["#opacity-input"].value=_this856["#opacity-slider"].value:_t2141.target===_this856["#opacity-input"]&&(_this856["#opacity-slider"].value=_this856["#opacity-input"].value),_this856.primitive.style.setProperty("flood-opacity",_this856["#opacity-slider"].value);}),this["#opacity-section"].addEventListener("changeend",_e1528=function e(){_this856["#opacity-section"].removeEventListener("change",t),_this856["#opacity-section"].removeEventListener("changeend",_e1528),ya("flood-opacity",_this856.primitive),_this856.Wx=!1;});}},{key:"qs",value:function qs(){if(this.oS||this.vb||this.kb||this.Wx||this.Jy)return;_get(_getPrototypeOf(ng.prototype),"qs",this).call(this);var t=getComputedStyle(this.primitive);this["#deviation-x-input"].value=Z(this.primitive.stdDeviationX.baseVal,2),this["#deviation-y-input"].value=Z(this.primitive.stdDeviationY.baseVal,2),this["#deviation-lock-button"].toggled=this.nS,this["#deviation-lock-icon"].name=this.nS?"lock-on":"lock-off",this["#offset-x-input"].value=Z(this.primitive.dx.baseVal,2),this["#offset-y-input"].value=Z(this.primitive.dy.baseVal,2),this["#color-select"].value=t.floodColor;{var _e1529=Z(parseFloat(t.floodOpacity),2);this["#opacity-slider"].value=_e1529,this["#opacity-input"].value=_e1529;}}}]);return ng;}(Um);_defineProperty(ng,"_shadowTemplate",Yi(_templateObject423()));_defineProperty(ng,"_shadowStyleSheet",Wi(_templateObject424()));customElements.define("bx-dropshadowprimitiveinspector",ng);var og=/*#__PURE__*/function(_Um16){_inherits(og,_Um16);var _super185=_createSuper(og);_createClass(og,[{key:"name",get:function get(){return"Offset";}}]);function og(){var _this857;_classCallCheck(this,og);_this857=_super185.call(this),_this857.uS=!1,_this857["#delta-section"].addEventListener("changestart",function(t){return _this857.xS(t);});return _this857;}_createClass(og,[{key:"xS",value:function xS(t){var _this858=this;var e,_i1429,s=t.target;this.Js.board.undoManager.checkpoint("Filter offset"),this.uS=!0,s.addEventListener("change",e=function e(){_this858.primitive.setAttribute(s.dataset.name,s.value);}),s.addEventListener("changeend",_i1429=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1429),_this858.uS=!1;});}},{key:"qs",value:function qs(){this.uS||this.Jy||(_get(_getPrototypeOf(og.prototype),"qs",this).call(this),this["#x-input"].value=Z(this.primitive.dx.baseVal,2),this["#y-input"].value=Z(this.primitive.dy.baseVal,2));}}]);return og;}(Um);_defineProperty(og,"_shadowTemplate",Yi(_templateObject425()));_defineProperty(og,"_shadowStyleSheet",Wi(_templateObject426()));customElements.define("bx-offsetprimitiveinspector",og);var lg=/*#__PURE__*/function(_Um17){_inherits(lg,_Um17);var _super186=_createSuper(lg);_createClass(lg,[{key:"name",get:function get(){return"Lighting";}}]);function lg(t){var _this859;_classCallCheck(this,lg);_this859=_super186.call(this),_this859.bS=!1,_this859.kb=!1,_this859.zb=!1,_this859.mS=!1,_this859.gS=!1,_this859.fS=!1,_this859.wS=!1,_this859.vS=!1,_this859["#surface-scale-box"].addEventListener("changestart",function(){return _this859.yS();}),_this859["#color-select"].addEventListener("changestart",function(){return _this859.Mb();}),_this859["#source-type-buttons"].addEventListener("toggle",function(){return _this859.kS();}),_this859["#source-position-subsection"].addEventListener("changestart",function(t){return _this859.$b(t);}),_this859["#source-target-subsection"].addEventListener("changestart",function(t){return _this859.SS(t);}),_this859["#source-cone-box"].addEventListener("changestart",function(){return _this859._S();}),_this859["#source-exponent-box"].addEventListener("changestart",function(){return _this859.CS();}),_this859["#source-azimuth-box"].addEventListener("changestart",function(){return _this859.MS();}),_this859["#source-elevation-box"].addEventListener("changestart",function(){return _this859.PS();});return _this859;}_createClass(lg,[{key:"yS",value:function yS(){var _this860=this;var t,_e1530;this.Js.board.undoManager.checkpoint("Specular lighting surface scale"),this.bS=!0,this["#surface-scale-section"].addEventListener("change",t=function t(_t2142){_t2142.target===_this860["#surface-scale-slider"]?_this860["#surface-scale-input"].value=_this860["#surface-scale-slider"].value:_t2142.target===_this860["#surface-scale-input"]&&(_this860["#surface-scale-slider"].value=_this860["#surface-scale-input"].value),_this860.primitive.setAttribute("surfaceScale",_this860["#surface-scale-input"].value);}),this["#surface-scale-section"].addEventListener("changeend",_e1530=function e(){_this860["#surface-scale-section"].removeEventListener("change",t),_this860["#surface-scale-section"].removeEventListener("changeend",_e1530),_this860.bS=!1;});}},{key:"Mb",value:function Mb(){var _this861=this;var t,_e1531;this.Js.board.undoManager.checkpoint("Flood color"),this.kb=!0,this["#color-select"].addEventListener("change",t=function t(){_this861.primitive.style.setProperty("lighting-color",_this861["#color-select"].value);}),this["#color-select"].addEventListener("changeend",_e1531=function e(){_this861["#color-select"].removeEventListener("change",t),_this861["#color-select"].removeEventListener("changeend",_e1531),ya("lighting-color",_this861.primitive),_this861.kb=!1;});}},{key:"kS",value:function kS(){var t=this.DS(),e=zi("svg:"+this["#source-type-buttons"].value);this.Js.board.undoManager.checkpoint("Light source type"),t?t.replaceWith(e):this.primitive.append(e);}},{key:"$b",value:function $b(t){var _this862=this;var e,_i1430,s=t.target,n=this.DS();this.Js.board.undoManager.checkpoint("Light source position"),this.zb=!0,s.addEventListener("change",e=function e(){n.setAttribute(s.dataset.name,s.value);}),s.addEventListener("changeend",_i1430=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1430),_this862.zb=!1;});}},{key:"SS",value:function SS(t){var _this863=this;var e,_i1431,s=t.target,n=this.DS();this.Js.board.undoManager.checkpoint("Light target position"),this.mS=!0,s.addEventListener("change",e=function e(){n.setAttribute(s.dataset.name,s.value);}),s.addEventListener("changeend",_i1431=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1431),_this863.mS=!1;});}},{key:"_S",value:function _S(){var _this864=this;var t,_e1532,i=this.DS();this.Js.board.undoManager.checkpoint("Light limiting cone angle"),this.gS=!0,this["#source-cone-box"].addEventListener("change",t=function t(_t2143){_t2143.target===_this864["#source-cone-slider"]?_this864["#source-cone-input"].value=_this864["#source-cone-slider"].value:_t2143.target===_this864["#source-cone-input"]&&(_this864["#source-cone-slider"].value=_this864["#source-cone-input"].value),i.setAttribute("limitingConeAngle",_this864["#source-cone-input"].value);}),this["#source-cone-box"].addEventListener("changeend",_e1532=function e(){_this864["#source-cone-box"].removeEventListener("change",t),_this864["#source-cone-box"].removeEventListener("changeend",_e1532),_this864.gS=!1;});}},{key:"CS",value:function CS(){var _this865=this;var t,_e1533,i=this.DS();this.Js.board.undoManager.checkpoint("Spot light exponent"),this.fS=!0,this["#source-exponent-box"].addEventListener("change",t=function t(_t2144){_t2144.target===_this865["#source-exponent-slider"]?_this865["#source-exponent-input"].value=_this865["#source-exponent-slider"].value:_t2144.target===_this865["#source-exponent-input"]&&(_this865["#source-exponent-slider"].value=_this865["#source-exponent-input"].value),i.setAttribute("specularExponent",_this865["#source-exponent-input"].value);}),this["#source-exponent-box"].addEventListener("changeend",_e1533=function e(){_this865["#source-exponent-box"].removeEventListener("change",t),_this865["#source-exponent-box"].removeEventListener("changeend",_e1533),_this865.fS=!1;});}},{key:"MS",value:function MS(){var _this866=this;var t,_e1534,i=this.DS();this.Js.board.undoManager.checkpoint("Light azimuth"),this.wS=!0,this["#source-azimuth-box"].addEventListener("change",t=function t(_t2145){_t2145.target===_this866["#source-azimuth-slider"]?_this866["#source-azimuth-input"].value=_this866["#source-azimuth-slider"].value:_t2145.target===_this866["#source-azimuth-input"]&&(_this866["#source-azimuth-slider"].value=_this866["#source-azimuth-input"].value),i.setAttribute("azimuth",_this866["#source-azimuth-input"].value);}),this["#source-azimuth-box"].addEventListener("changeend",_e1534=function e(){_this866["#source-azimuth-box"].removeEventListener("change",t),_this866["#source-azimuth-box"].removeEventListener("changeend",_e1534),_this866.wS=!1;});}},{key:"PS",value:function PS(){var _this867=this;var t,_e1535,i=this.DS();this.Js.board.undoManager.checkpoint("Light elevation"),this.vS=!0,this["#source-elevation-box"].addEventListener("change",t=function t(_t2146){_t2146.target===_this867["#source-elevation-slider"]?_this867["#source-elevation-input"].value=_this867["#source-elevation-slider"].value:_t2146.target===_this867["#source-elevation-input"]&&(_this867["#source-elevation-slider"].value=_this867["#source-elevation-input"].value),i.setAttribute("elevation",_this867["#source-elevation-input"].value);}),this["#source-elevation-box"].addEventListener("changeend",_e1535=function e(){_this867["#source-elevation-box"].removeEventListener("change",t),_this867["#source-elevation-box"].removeEventListener("changeend",_e1535),_this867.vS=!1;});}},{key:"DS",value:function DS(){return this.primitive.querySelector(":scope > fePointLight, :scope > feSpotLight, :scope > feDistantLight");}},{key:"qs",value:function qs(){if(this.bS||this.kb||this.zb||this.mS||this.gS||this.fS||this.wS||this.vS||this.Jy)return;_get(_getPrototypeOf(lg.prototype),"qs",this).call(this);var t=this.DS();{var _t2147=Z(this.primitive.surfaceScale.baseVal,2);this["#surface-scale-slider"].value=_t2147,this["#surface-scale-input"].value=_t2147;}this["#color-select"].value=getComputedStyle(this.primitive).lightingColor,this["#source-type-buttons"].value=t?t.localName:null,t&&"feDistantLight"!==t.localName?(this["#source-position-subsection"].hidden=!1,this["#source-position-x-input"].value=Z(t.x.baseVal,2),this["#source-position-y-input"].value=Z(t.y.baseVal,2),this["#source-position-z-input"].value=Z(t.z.baseVal,2)):this["#source-position-subsection"].hidden=!0,t&&"feSpotLight"===t.localName?(this["#source-target-subsection"].hidden=!1,this["#source-target-x-input"].value=Z(t.pointsAtX.baseVal,2),this["#source-target-y-input"].value=Z(t.pointsAtY.baseVal,2),this["#source-target-z-input"].value=Z(t.pointsAtZ.baseVal,2)):this["#source-target-subsection"].hidden=!0,t&&"feSpotLight"===t.localName?(this["#source-cone-subsection"].hidden=!1,this["#source-cone-slider"].value=Z(t.limitingConeAngle.baseVal,2),this["#source-cone-input"].value=Z(t.limitingConeAngle.baseVal,2)):this["#source-cone-subsection"].hidden=!0,t&&"feSpotLight"===t.localName?(this["#source-exponent-subsection"].hidden=!1,this["#source-exponent-slider"].value=Z(t.specularExponent.baseVal,2),this["#source-exponent-input"].value=Z(t.specularExponent.baseVal,2)):this["#source-exponent-subsection"].hidden=!0,t&&"feDistantLight"===t.localName?(this["#source-azimuth-subsection"].hidden=!1,this["#source-azimuth-slider"].value=Z(t.azimuth.baseVal,2),this["#source-azimuth-input"].value=Z(t.azimuth.baseVal,2)):this["#source-azimuth-subsection"].hidden=!0,t&&"feDistantLight"===t.localName?(this["#source-elevation-subsection"].hidden=!1,this["#source-elevation-slider"].value=Z(t.elevation.baseVal,2),this["#source-elevation-input"].value=Z(t.elevation.baseVal,2)):this["#source-elevation-subsection"].hidden=!0;}}]);return lg;}(Um);_defineProperty(lg,"_shadowTemplate",Yi(_templateObject427()));_defineProperty(lg,"_shadowStyleSheet",Wi(_templateObject428()));customElements.define("bx-lightingprimitiveinspector",lg);var hg=/*#__PURE__*/function(_lg){_inherits(hg,_lg);var _super187=_createSuper(hg);_createClass(hg,[{key:"name",get:function get(){return"Specular lighting";}}]);function hg(){var _this868;_classCallCheck(this,hg);_this868=_super187.call(this),_this868.zS=!1,_this868.OS=!1,_this868["#constant-box"].addEventListener("changestart",function(){return _this868.ES();}),_this868["#exponent-box"].addEventListener("changestart",function(){return _this868.TS();});return _this868;}_createClass(hg,[{key:"ES",value:function ES(){var _this869=this;var t,_e1536;this.Js.board.undoManager.checkpoint("Specular lighting constant"),this.zS=!0,this["#constant-section"].addEventListener("change",t=function t(_t2148){_t2148.target===_this869["#constant-slider"]?_this869["#constant-input"].value=_this869["#constant-slider"].value:_t2148.target===_this869["#constant-input"]&&(_this869["#constant-slider"].value=_this869["#constant-input"].value),_this869.primitive.setAttribute("specularConstant",_this869["#constant-input"].value);}),this["#constant-section"].addEventListener("changeend",_e1536=function e(){_this869["#constant-section"].removeEventListener("change",t),_this869["#constant-section"].removeEventListener("changeend",_e1536),_this869.zS=!1;});}},{key:"TS",value:function TS(){var _this870=this;var t,_e1537;this.Js.board.undoManager.checkpoint("Specular lighting exponent"),this.OS=!0,this["#exponent-section"].addEventListener("change",t=function t(_t2149){_t2149.target===_this870["#exponent-slider"]?_this870["#exponent-input"].value=_this870["#exponent-slider"].value:_t2149.target===_this870["#exponent-input"]&&(_this870["#exponent-slider"].value=_this870["#exponent-input"].value),_this870.primitive.setAttribute("specularExponent",_this870["#exponent-input"].value);}),this["#exponent-section"].addEventListener("changeend",_e1537=function e(){_this870["#exponent-section"].removeEventListener("change",t),_this870["#exponent-section"].removeEventListener("changeend",_e1537),_this870.OS=!1;});}},{key:"qs",value:function qs(){if(!(this.zS||this.OS||this.Jy)){_get(_getPrototypeOf(hg.prototype),"qs",this).call(this);{var _t2150=Z(this.primitive.specularConstant.baseVal,2);this["#constant-slider"].value=_t2150,this["#constant-input"].value=_t2150;}{var _t2151=Z(this.primitive.specularExponent.baseVal,2);this["#exponent-slider"].value=_t2151,this["#exponent-input"].value=_t2151;}}}}]);return hg;}(lg);_defineProperty(hg,"_shadowTemplate",Yi(_templateObject429()));_defineProperty(hg,"_shadowStyleSheet",Wi(_templateObject430()));customElements.define("bx-specularlightingprimitiveinspector",hg);var ag=/*#__PURE__*/function(_lg2){_inherits(ag,_lg2);var _super188=_createSuper(ag);_createClass(ag,[{key:"name",get:function get(){return"Diffuse lighting";}}]);function ag(){var _this871;_classCallCheck(this,ag);_this871=_super188.call(this),_this871.zS=!1,_this871["#constant-box"].addEventListener("changestart",function(){return _this871.ES();});return _this871;}_createClass(ag,[{key:"ES",value:function ES(){var _this872=this;var t,_e1538;this.primitive.closest("filter");this.Js.board.undoManager.checkpoint("Diffuse lighting constant"),this.zS=!0,this["#constant-section"].addEventListener("change",t=function t(_t2152){_t2152.target===_this872["#constant-slider"]?_this872["#constant-input"].value=_this872["#constant-slider"].value:_t2152.target===_this872["#constant-input"]&&(_this872["#constant-slider"].value=_this872["#constant-input"].value),_this872.primitive.setAttribute("diffuseConstant",_this872["#constant-input"].value);}),this["#constant-section"].addEventListener("changeend",_e1538=function e(){_this872["#constant-section"].removeEventListener("change",t),_this872["#constant-section"].removeEventListener("changeend",_e1538),_this872.zS=!1;});}},{key:"qs",value:function qs(){if(!this.zS&&!this.Jy){_get(_getPrototypeOf(ag.prototype),"qs",this).call(this);{var _t2153=Z(this.primitive.diffuseConstant.baseVal,2);this["#constant-slider"].value=_t2153,this["#constant-input"].value=_t2153;}}}}]);return ag;}(lg);_defineProperty(ag,"_shadowTemplate",Yi(_templateObject431()));_defineProperty(ag,"_shadowStyleSheet",Wi(_templateObject432()));customElements.define("bx-diffuselightingprimitiveinspector",ag);var rg=.1,dg=6e3,cg=450,pg=1.8,ug=20;var xg=/*#__PURE__*/function(_HTMLElement117){_inherits(xg,_HTMLElement117);var _super189=_createSuper(xg);_createClass(xg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"filter",get:function get(){return this.By;},set:function set(t){this.By=t,this.enabled&&this.qs();}}]);function xg(){var _this873;_classCallCheck(this,xg);_this873=_super189.call(this),_this873.tabIndex=1,_this873.By=null,_this873.AS={node:null,edge:null},_this873.$S=Xi(_this873.qs,400,_assertThisInitialized(_this873)),_this873._shadowRoot=_this873.attachShadow({mode:"closed"}),_this873._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,xg._shadowStyleSheet],_this873._shadowRoot.append(document.importNode(xg._shadowTemplate.content,!0));var _iterator1431=_createForOfIteratorHelper(_this873._shadowRoot.querySelectorAll("[id]")),_step1431;try{for(_iterator1431.s();!(_step1431=_iterator1431.n()).done;){var _t2154=_step1431.value;_this873["#"+_t2154.id]=_t2154;}}catch(err){_iterator1431.e(err);}finally{_iterator1431.f();}_this873.addEventListener("keydown",function(t){return _this873.vn(t);}),_this873["#canvas"].addEventListener("wheel",function(t){return _this873.IS(t);}),_this873["#canvas"].addEventListener("pointerdown",function(t){return _this873.LS(t);}),_this873["#canvas"].addEventListener("contextmenu",function(t){return _this873.BS(t);}),_this873["#zoom-button"].addEventListener("click",function(){return _this873.RS();}),_this873["#add-primitive-menu"].addEventListener("click",function(t){return _this873.GS(t);}),_this873["#add-primitive-menu"].addEventListener("open",function(t){return _this873.FS(t);}),_this873["#sidebar-resize-grippie"].addEventListener("pointerdown",function(t){return _this873.US(t);});return _this873;}_createClass(xg,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this874=this;var t=this.Js.board;t.addEventListener("currentworkspacechange",this.Lx=function(){_this874.$S();}),t.addEventListener("workspacemutation",this.rn=function(t){_this874.$S();}),this["#sidebar"].style.width=this.Qs.getConfig("bx-filterinspector:sidebarWidth",180)+"px",this.qs(),this.NS();}},{key:"sn",value:function sn(){var t=this.Js.board;t.removeEventListener("currentworkspacechange",this.Lx),t.removeEventListener("workspacemutation",this.rn),this["#graph-nodes"].innerHTML="",this["#graph-edges"].innerHTML="",this["#sidebar-content"].innerHTML="";}},{key:"vn",value:function vn(t){var e=eo.fromEvent(t);(e.matches("Backspace")||e.matches("Delete"))&&this.matches(":focus")&&(t.stopPropagation(),this.VS());}},{key:"jS",value:function jS(){this.HS();}},{key:"IS",value:function IS(t){t.preventDefault();var e=K(t.wheelDeltaX,-ug,ug,1),i=K(t.wheelDeltaY,-ug,ug,1);if(!t.metaKey&&!t.ctrlKey||t.altKey||t.shiftKey){var _t2155=e/pg,_s831=i/pg;this.YS(_t2155,_s831);}else this.WS(i/cg,t.clientX,t.clientY);}},{key:"LS",value:function LS(t){t.target.closest(".node")?this.qS(t):t.target.closest(".edge")?this.XS(t):this.ZS(t);}},{key:"qS",value:function qS(t){var _this875=this;{var _e1539=t.target.closest(".node"),_i1432=[];var _iterator1432=_createForOfIteratorHelper(this["#graph-edges"].children),_step1432;try{for(_iterator1432.s();!(_step1432=_iterator1432.n()).done;){var _t2156=_step1432.value;_t2156.dataset.to===_e1539.dataset.name&&_i1432.push({from:_t2156.dataset.from,to:_t2156.dataset.to,slot:parseInt(_t2156.dataset.slot)});}}catch(err){_iterator1432.e(err);}finally{_iterator1432.f();}this.setSelection(_e1539.dataset.name,null),this.dispatchEvent(new CustomEvent("selectionchange"));}{var _e1541,_i1434,_s832=t.target.closest(".node"),_n610=new DOMPoint(t.clientX,t.clientY),_o489=_n610;window.addEventListener("pointermove",_e1541=function _e1540(l){var h=new DOMPoint(l.clientX,l.clientY),a=l.timeStamp-t.timeStamp;!0!==Ce(_o489,h,0)&&(_o489=h,De(_n610,h)<3&&a<80||(window.removeEventListener("pointermove",_e1541),window.removeEventListener("pointerup",_i1434),_this875.KS(t,_s832)));}),window.addEventListener("pointerup",_i1434=function _i1433(){window.removeEventListener("pointermove",_e1541),window.removeEventListener("pointerup",_i1434);});}}},{key:"KS",value:function KS(t,e){var _this876=this;var i,s,n=jt(this["#graph-group"]).inverse(),o=Ue(e.getBoundingClientRect(),n),l=new DOMPoint(t.clientX,t.clientY);l=l.matrixTransform(n);var h=qi(_templateObject60());this["#graph-nodes"].append(h),this["#graph-nodes"].append(e);var a=new DOMPoint(o.x+o.width/2,o.y+o.height/2),r=null;var _iterator1433=_createForOfIteratorHelper(this["#graph-edges"].children),_step1433;try{for(_iterator1433.s();!(_step1433=_iterator1433.n()).done;){var _t2165=_step1433.value;_t2165.setAttribute("data-disabled","");}}catch(err){_iterator1433.e(err);}finally{_iterator1433.f();}var _iterator1434=_createForOfIteratorHelper(this["#graph-nodes"].children),_step1434;try{for(_iterator1434.s();!(_step1434=_iterator1434.n()).done;){var _t2166=_step1434.value;_t2166!==e&&_t2166!==h&&!1===this.QS.canConnectNodes(e.dataset.name,_t2166.dataset.name)&&_t2166.setAttribute("data-disabled","");}}catch(err){_iterator1434.e(err);}finally{_iterator1434.f();}window.addEventListener("pointermove",i=function i(t){var i=new DOMPoint(t.clientX,t.clientY);i=i.matrixTransform(n);var s=_this876._shadowRoot.elementFromPoint(t.clientX,t.clientY),o=r,l=null;if(r=s?s.closest(".node"):null,r&&!1===r.hasAttribute("data-disabled")){var _t2157=r.getBoundingClientRect();_t2157=Ue(_t2157,n),l=function(t,e){var i=t.x+t.width,s=t.y+t.height,n=Math.max(t.x,Math.min(i,e.x)),o=Math.max(t.y,Math.min(s,e.y)),l=Math.abs(n-t.x),h=Math.abs(n-i),a=Math.abs(o-t.y),r=Math.abs(o-s),d=Math.min(l,h,a,r);return d===a?new DOMPoint(n,t.y):d===r?new DOMPoint(n,s):d===l?new DOMPoint(t.x,o):new DOMPoint(i,o);}(_t2157,a),r!==o&&(o&&o.removeAttribute("data-highlighted"),r!==e&&r.setAttribute("data-highlighted",""));}else l=new DOMPoint(i.x,i.y),o&&o.removeAttribute("data-highlighted");h.setAttribute("d","M ".concat(a.x," ").concat(a.y," L ").concat(l.x," ").concat(l.y));}),window.addEventListener("pointerup",s=function(_s834){function s(){return _s834.apply(this,arguments);}s.toString=function(){return _s834.toString();};return s;}(function(){window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",s),h.removeAttribute("d");var _iterator1435=_createForOfIteratorHelper(_this876["#graph-edges"].children),_step1435;try{for(_iterator1435.s();!(_step1435=_iterator1435.n()).done;){var _t2163=_step1435.value;_t2163.removeAttribute("data-disabled");}}catch(err){_iterator1435.e(err);}finally{_iterator1435.f();}var _iterator1436=_createForOfIteratorHelper(_this876["#graph-nodes"].children),_step1436;try{for(_iterator1436.s();!(_step1436=_iterator1436.n()).done;){var _t2164=_step1436.value;_t2164.removeAttribute("data-disabled"),_t2164.removeAttribute("data-highlighted");}}catch(err){_iterator1436.e(err);}finally{_iterator1436.f();}if(r){var _t2158=_this876.QS.connectNodes(e.dataset.name,r.dataset.name);if(-1!==_t2158){var _i1435=_this876.QS.getOrderedNodes(),_s833=_i1435.find(function(t){return t.name===e.dataset.name;}),_n611=_i1435.find(function(t){return t.name===r.dataset.name;}),_o490=_toConsumableArray(_this876.filter.children).filter(function(t){return P.includes(t.localName);});if(_this876.Js.board.undoManager.checkpoint("Connect filter primitives"),"SourceGraphic"===_s833.type||"SourceAlpha"===_s833.type){var _t2159=_this876.filter.hasAttribute("data-bx-details")?_this876.filter.getAttribute("data-bx-details").split(" "):[];_t2159.includes(_s833.type)&&(_t2159=_t2159.filter(function(t){return t!==_s833.type;}),0===_t2159.length?_this876.filter.removeAttribute("data-bx-details"):_this876.filter.setAttribute("data-bx-details",_t2159.join(" ")));}{var _e1542=_o490.find(function(t){return t.result.baseVal===_n611.name;});if("feMerge"===_n611.type){_toConsumableArray(_e1542.children).filter(function(t){return"feMergeNode"===t.localName;});var _t2160=zi("svg:feMergeNode");_t2160.setAttribute("in",_s833.name),_e1542.append(_t2160);}else _e1542.setAttribute(1===_t2158?"in":"in2",_s833.name);}{var _t2161=[];var _iterator1437=_createForOfIteratorHelper(_i1435),_step1437;try{var _loop31=function _loop31(){var e=_step1437.value;if("SourceGraphic"!==e.type&&"SourceAlpha"!==e.type){var _i1437=_o490.find(function(t){return t.result.baseVal===e.name;});_t2161.push(_i1437);}};for(_iterator1437.s();!(_step1437=_iterator1437.n()).done;){_loop31();}}catch(err){_iterator1437.e(err);}finally{_iterator1437.f();}for(var _i1436=0,_t2162=_t2161;_i1436<_t2162.length;_i1436++){var _e1543=_t2162[_i1436];_this876.filter.append(_e1543);}}_this876.setSelection(null,{from:_s833.name,to:_n611.name,slot:_t2158});}}}));}},{key:"XS",value:function XS(t){var e=t.target.closest(".edge");{var _t2167={from:e.dataset.from,to:e.dataset.to,slot:parseInt(e.dataset.slot)};this.setSelection(null,_t2167),this.dispatchEvent(new CustomEvent("selectionchange"));}}},{key:"ZS",value:function ZS(){this.setSelection(null,null),this.dispatchEvent(new CustomEvent("selectionchange"));}},{key:"BS",value:function(){var _BS=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee136(t){var _e1544;return regeneratorRuntime.wrap(function _callee136$(_context137){while(1){switch(_context137.prev=_context137.next){case 0:if(!t.target.closest(".node")){_context137.next=8;break;}t.preventDefault();_context137.next=4;return this.Qs.openContextMenu([{value:"duplicate-primitive",label:"Duplicate Primitive",disabled:!1===this.JS()},{value:"delete-primitive",label:"Delete Primitive",disabled:!1},{type:"separator"},{value:"terminal-primitive",label:"Set as Terminal Primitive",disabled:!1===this.t_()}]);case 4:_e1544=_context137.sent;"duplicate-primitive"===_e1544?this.e_():"delete-primitive"===_e1544?this.VS():"terminal-primitive"===_e1544&&this.i_();_context137.next=16;break;case 8:if(!t.target.closest(".edge")){_context137.next=16;break;}t.preventDefault();_context137.next=12;return this.Qs.openContextMenu([{value:"delete-edge",label:"Delete Connector",disabled:!1}]);case 12:_context137.t0=_context137.sent;_context137.t1="delete-edge"===_context137.t0;if(!_context137.t1){_context137.next=16;break;}this.VS();case 16:case"end":return _context137.stop();}}},_callee136,this);}));function BS(_x162){return _BS.apply(this,arguments);}return BS;}()},{key:"RS",value:function RS(){this.NS();}},{key:"GS",value:function(){var _GS=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee137(t){var e,i,_t2168,_t2169,_e1545,_s835,_n612,_t2170;return regeneratorRuntime.wrap(function _callee137$(_context138){while(1){switch(_context138.prev=_context138.next){case 0:e=t.target.closest("x-menuitem"),i=e?e.value:null;if(!i){_context138.next=29;break;}if(!(this.Js.board.undoManager.checkpoint("Add filter primitive"),"SourceGraphic"===i||"SourceAlpha"===i)){_context138.next=7;break;}_t2168=this.filter.hasAttribute("data-bx-details")?this.filter.getAttribute("data-bx-details").split(" "):[];!1===_t2168.includes(i)&&(_t2168.push(i),this.filter.setAttribute("data-bx-details",_t2168.join(" ")),this.s_(),this.NS(),this.setSelection(i,null));_context138.next=29;break;case 7:_e1545=zi("svg:"+i),_s835=li(i).substring(3),_n612=this.n_(_s835);if(!(_t2169="objectBoundingBox"===this.filter.getAttribute("primitiveUnits")?"objectBoundingBox":"userSpaceOnUse",_e1545.setAttribute("result",_n612),"feBlend"===i)){_context138.next=12;break;}_e1545.setAttribute("in","none"),_e1545.setAttribute("in2","none");_context138.next=28;break;case 12:if(!("feComposite"===i)){_context138.next=16;break;}_e1545.setAttribute("in","none"),_e1545.setAttribute("in2","none");_context138.next=28;break;case 16:if(!("feFlood"===i)){_context138.next=20;break;}_e1545.style.floodColor="#d8d8d8";_context138.next=28;break;case 20:if(!("feImage"===i)){_context138.next=27;break;}_context138.next=23;return Xa("images/cornell-box.jpg");case 23:_t2170=_context138.sent;_e1545.setAttribute("href",_t2170);_context138.next=28;break;case 27:"feTile"===i?_e1545.setAttribute("in","none"):"feTurbulence"===i?_e1545.setAttribute("baseFrequency","0.2"):"feColorMatrix"===i?(_e1545.setAttribute("in","none"),_e1545.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 1 0")):"feComponentTransfer"===i||"feConvolveMatrix"===i?_e1545.setAttribute("in","none"):"feDisplacementMap"===i?(_e1545.setAttribute("in","none"),_e1545.setAttribute("in2","none")):"feGaussianBlur"===i?(_e1545.setAttribute("in","none"),_e1545.setAttribute("stdDeviation","userSpaceOnUse"===_t2169?"4":"0.04")):"feMorphology"===i?(_e1545.setAttribute("in","none"),_e1545.setAttribute("radius","userSpaceOnUse"===_t2169?"4":"0.04")):"feDropShadow"===i||"feOffset"===i?_e1545.setAttribute("in","none"):"feSpecularLighting"===i?(_e1545.setAttribute("in","none"),_e1545.setAttribute("lighting-color","#ffffff"),_e1545.setAttribute("specularConstant","1"),_e1545.setAttribute("specularExponent","70"),_e1545.innerHTML='<fePointLight x="0.5" y="0.5" z="0.5"></fePointLight>'):"feDiffuseLighting"===i&&_e1545.setAttribute("in","none");case 28:this.filter.prepend(_e1545),this.s_(),this.NS(),this.setSelection(_n612,null);case 29:case"end":return _context138.stop();}}},_callee137,this);}));function GS(_x163){return _GS.apply(this,arguments);}return GS;}()},{key:"FS",value:function FS(){var t=this.QS.getNodes(),e=t.find(function(t){return"SourceGraphic"===t.type;}),i=t.find(function(t){return"SourceAlpha"===t.type;});this["#source-graphic-menu-item"].disabled=void 0!==e,this["#source-alpha-menu-item"].disabled=void 0!==i;}},{key:"US",value:function US(t){var _this877=this;if(1!==t.buttons)return;this["#sidebar-resize-grippie"].setPointerCapture(t.pointerId);var e,_i1438,s=this["#sidebar"].clientWidth,n=s,o=parseInt(getComputedStyle(this["#sidebar"]).minWidth),l=parseInt(getComputedStyle(this["#sidebar"]).maxWidth);t.preventDefault(),this["#sidebar-resize-grippie"].addEventListener("pointermove",e=function e(_e1546){n=s-(_e1546.clientX-t.clientX),n<o?n=o:n>l&&(n=l),n=Math.ceil(n),_this877["#sidebar"].style.width=n+"px";}),this["#sidebar-resize-grippie"].addEventListener("lostpointercapture",_i1438=function i(){_this877["#sidebar-resize-grippie"].removeEventListener("pointermove",e),_this877["#sidebar-resize-grippie"].removeEventListener("lostpointercapture",_i1438),_this877.Qs.setConfig("bx-filterinspector:sidebarWidth",n);});}},{key:"YS",value:function YS(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=DOMRect.fromRect(this["#main"].getBoundingClientRect()),s=this["#graph-backdrop"].getBBox();s=Ue(s,jt(this["#graph-group"])),s=Fe(s,0);var n=DOMRect.fromRect(s);n.x+=t,n.y+=e,n=Fe(n,0),je(i,s)?(n.width<i.width&&(n.x<i.x?n.x=i.x:n.x+n.width>i.x+i.width&&(n.x=i.x+i.width-n.width)),n.height<i.height&&(n.y<i.y?n.y=i.y:n.y+n.height>i.y+i.height&&(n.y=i.y+i.height-n.height))):!1===He(i,s)&&(n.x+n.width<i.x?n.x=i.x-n.width:n.x>i.x+i.width&&(n.x=i.x+i.width),n.y+n.height<i.y?n.y=i.y-n.height:n.y>i.y+i.height&&(n.y=i.y+i.height));var o=n.x-s.x,l=n.y-s.y,h=new DOMMatrix();h.translateSelf(o,l),h.multiplySelf(Nt(this["#graph-group"])),this["#graph-group"].setAttribute("transform",h);}},{key:"WS",value:function WS(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:.3;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var s=Nt(this["#graph-group"]),n=jt(this["#canvas"]).inverse(),o=new DOMPoint(e,i).matrixTransform(n);if(s.a>0){100*(s.a+t*s.a)<rg?t=(rg-100*s.a)/(100*s.a):100*(s.a+t*s.a)>dg&&(t=(dg-100*s.a)/(100*s.a));var _e1547=new DOMMatrix();_e1547.scaleSelf(1+t,1+t,1,o.x,o.y),_e1547.multiplySelf(s),this["#graph-group"].setAttribute("transform",_e1547);}}},{key:"o_",value:function o_(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;var i=DOMRect.fromRect(this["#main"].getBoundingClientRect());if(i=Ue(i,jt(this["#canvas"]).inverse()),i.x+=e,i.y+=e,i.width-=2*e,i.height-=2*e,t.width>0&&t.height>0){var _e1548=i.width/t.width,_s836=i.height/t.height;_e1548>_s836?_e1548=_s836:_s836>_e1548&&(_s836=_e1548),(_e1548>1||_s836>1)&&(_e1548=1,_s836=1);var _n613=i.x-t.x*_e1548+(i.width-t.width*_e1548)/2,_o491=i.y-t.y*_s836+(i.height-t.height*_s836)/2,_l371=new DOMMatrix();_l371.translateSelf(_n613,_o491),_l371.scaleSelf(_e1548,_s836),this["#graph-group"].setAttribute("transform",_l371);}}},{key:"NS",value:function NS(){this.o_(this["#graph-backdrop"].getBBox());}},{key:"getSelection",value:function getSelection(){var t=_toConsumableArray(this.filter.children).filter(function(t){return P.includes(t.localName);}),e=this.AS.node,i=this.AS.edge;if("SourceGraphic"!==e&&"SourceAlpha"!==e){var _i1439=!1;var _iterator1438=_createForOfIteratorHelper(t),_step1438;try{for(_iterator1438.s();!(_step1438=_iterator1438.n()).done;){var _s837=_step1438.value;if(_s837.result.baseVal===e){_i1439=!0;break;}}}catch(err){_iterator1438.e(err);}finally{_iterator1438.f();}!1===_i1439&&(e=null);}if(i){var _e1549=t.find(function(t){return t.result.baseVal===i.from;}),_s838=t.find(function(t){return t.result.baseVal===i.to;});if(_s838){if("SourceGraphic"===i.from||"SourceAlpha"===i.from){if("feMerge"===_s838.localName){var _t2171=_toConsumableArray(_s838.children).filter(function(t){return"feMergeNode"===t.localName;});void 0!==_t2171[i.slot-1]&&_t2171[i.slot-1].in1.baseVal===i.from||(i=null);}else _s838["in"+i.slot]&&_s838["in"+i.slot].baseVal===i.from||(i=null);}else if(_e1549){if("feMerge"===_s838.localName){var _t2172=_toConsumableArray(_s838.children).filter(function(t){return"feMergeNode"===t.localName;});void 0!==_t2172[i.slot-1]&&_t2172[i.slot-1].in1.baseVal===_e1549.result.baseVal||(i=null);}else _s838["in"+i.slot]&&_s838["in"+i.slot].baseVal===_e1549.result.baseVal||(i=null);}else i=null;}else i=null;}return[e,i];}},{key:"setSelection",value:function setSelection(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.AS={node:t,edge:e},this.qs();}},{key:"l_",value:function l_(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"SourceGraphic";var e=_toConsumableArray(this.filter.children).filter(function(t){return P.includes(t.localName);});var _iterator1439=_createForOfIteratorHelper(e),_step1439;try{for(_iterator1439.s();!(_step1439=_iterator1439.n()).done;){var _i1440=_step1439.value;if("feMerge"===_i1440.localName){var _e1550=_toConsumableArray(_i1440.children).filter(function(t){return"feMergeNode"===t.localName;});var _iterator1440=_createForOfIteratorHelper(_e1550),_step1440;try{for(_iterator1440.s();!(_step1440=_iterator1440.n()).done;){var _i1441=_step1440.value;if(_i1441.in1.baseVal===t)return!0;}}catch(err){_iterator1440.e(err);}finally{_iterator1440.f();}}else{if(_i1440.in1&&_i1440.in1.baseVal===t)return!0;if(_i1440.in2&&_i1440.in2.baseVal===t)return!0;}}}catch(err){_iterator1439.e(err);}finally{_iterator1439.f();}return!1;}},{key:"VS",value:function VS(){var _this$getSelection=this.getSelection(),_this$getSelection2=_slicedToArray(_this$getSelection,2),t=_this$getSelection2[0],e=_this$getSelection2[1],i=_toConsumableArray(this.filter.children).filter(function(t){return P.includes(t.localName);}),s=this.l_("SourceGraphic"),n=this.l_("SourceAlpha");if(t){if(this.Js.board.undoManager.checkpoint("Delete filter primitive"),"SourceGraphic"===t||"SourceAlpha"===t){var _iterator1441=_createForOfIteratorHelper(i),_step1441;try{for(_iterator1441.s();!(_step1441=_iterator1441.n()).done;){var _e1552=_step1441.value;if("feMerge"===_e1552.localName){var _i1442=_toConsumableArray(_e1552.children).filter(function(t){return"feMergeNode"===t.localName;});var _iterator1442=_createForOfIteratorHelper(_i1442),_step1442;try{for(_iterator1442.s();!(_step1442=_iterator1442.n()).done;){var _e1553=_step1442.value;_e1553.in1.baseVal===t&&_e1553.remove();}}catch(err){_iterator1442.e(err);}finally{_iterator1442.f();}}else _e1552.in1&&_e1552.in1.baseVal===t&&_e1552.setAttribute("in","none"),_e1552.in2&&_e1552.in2.baseVal===t&&_e1552.setAttribute("in2","none");}}catch(err){_iterator1441.e(err);}finally{_iterator1441.f();}{var _e1551=this.filter.hasAttribute("data-bx-details")?this.filter.getAttribute("data-bx-details").split(" "):[];_e1551.includes(t)&&(_e1551=_e1551.filter(function(e){return e!==t;})),0===_e1551.length?this.filter.removeAttribute("data-bx-details"):this.filter.setAttribute("data-bx-details",_e1551.join(" "));}}else{var _e1554=i.find(function(e){return e.result.baseVal===t;}),_o492=i.filter(function(t){return t!==_e1554;});_e1554.remove();var _iterator1443=_createForOfIteratorHelper(_o492),_step1443;try{for(_iterator1443.s();!(_step1443=_iterator1443.n()).done;){var _t2174=_step1443.value;if("feMerge"===_t2174.localName){var _i1444=_toConsumableArray(_t2174.children).filter(function(t){return"feMergeNode"===t.localName;});var _iterator1444=_createForOfIteratorHelper(_i1444),_step1444;try{for(_iterator1444.s();!(_step1444=_iterator1444.n()).done;){var _t2175=_step1444.value;_t2175.in1.baseVal===_e1554.result.baseVal&&_t2175.remove();}}catch(err){_iterator1444.e(err);}finally{_iterator1444.f();}}else _t2174.in1&&_t2174.in1.baseVal===_e1554.result.baseVal&&_t2174.setAttribute("in","none"),_t2174.in2&&_t2174.in2.baseVal===_e1554.result.baseVal&&_t2174.setAttribute("in2","none");}}catch(err){_iterator1443.e(err);}finally{_iterator1443.f();}{var _t2173=this.l_("SourceGraphic"),_e1555=this.l_("SourceAlpha");if(_e1555!==n||_t2173!==s){var _i1443=this.filter.hasAttribute("data-bx-details")?this.filter.getAttribute("data-bx-details").split(" "):[];!1===_t2173&&!0===s&&!1===_i1443.includes("SourceGraphic")&&_i1443.push("SourceGraphic"),!1===_e1555&&!0===n&&!1===_i1443.includes("SourceAlpha")&&_i1443.push("SourceAlpha"),this.filter.setAttribute("data-bx-details",_i1443.join(" "));}}}}else if(e){var _iterator1445=_createForOfIteratorHelper(i),_step1445;try{for(_iterator1445.s();!(_step1445=_iterator1445.n()).done;){var _t2177=_step1445.value;if("feMerge"===_t2177.localName){if(_t2177.result.baseVal===e.to){var _i1446=_toConsumableArray(_t2177.children).filter(function(t){return"feMergeNode"===t.localName;}),_s839=null;var _iterator1446=_createForOfIteratorHelper(_i1446),_step1446;try{for(_iterator1446.s();!(_step1446=_iterator1446.n()).done;){var _t2178=_step1446.value;if(_t2178.in1.baseVal===e.from){_s839=_t2178;break;}}}catch(err){_iterator1446.e(err);}finally{_iterator1446.f();}_s839&&(this.Js.board.undoManager.checkpoint("Delete filter connector"),_s839.remove());}}else{if(_t2177.in1&&_t2177.in1.baseVal===e.from&&_t2177.result.baseVal===e.to){this.Js.board.undoManager.checkpoint("Delete filter connector"),_t2177.setAttribute("in","none");break;}if(_t2177.in2&&_t2177.in2.baseVal===e.from&&_t2177.result.baseVal===e.to){this.Js.board.undoManager.checkpoint("Delete filter connector"),_t2177.setAttribute("in2","none");break;}}}}catch(err){_iterator1445.e(err);}finally{_iterator1445.f();}{var _t2176=this.l_("SourceGraphic"),_e1556=this.l_("SourceAlpha");if(_t2176!==s||_e1556!==n){var _i1445=this.filter.hasAttribute("data-bx-details")?this.filter.getAttribute("data-bx-details").split(" "):[];!1===_t2176&&!0===s&&!1===_i1445.includes("SourceGraphic")&&_i1445.push("SourceGraphic"),!1===_e1556&&!0===n&&!1===_i1445.includes("SourceAlpha")&&_i1445.push("SourceAlpha"),this.filter.setAttribute("data-bx-details",_i1445.join(" "));}}}}},{key:"h_",value:function h_(){var _this$getSelection3=this.getSelection(),_this$getSelection4=_slicedToArray(_this$getSelection3,2),t=_this$getSelection4[0],e=_this$getSelection4[1];return!!t||!!e;}},{key:"e_",value:function e_(){this.Js.board.undoManager.checkpoint("Duplicate filter primitive");var _this$getSelection5=this.getSelection(),_this$getSelection6=_slicedToArray(_this$getSelection5,1),t=_this$getSelection6[0],e=_toConsumableArray(this.filter.children).filter(function(t){return P.includes(t.localName);}).find(function(e){return e.result.baseVal===t;}),i=li(e.localName).substring(3),s=e.cloneNode("feMerge"!==e.localName);s.setAttribute("result",this.n_(i)),s.removeAttribute("id"),s.in1&&(s.in1.baseVal="none"),s.in2&&(s.in2.baseVal="none"),this.filter.append(s);}},{key:"JS",value:function JS(){var _this$getSelection7=this.getSelection(),_this$getSelection8=_slicedToArray(_this$getSelection7,1),t=_this$getSelection8[0];return"SourceGraphic"!==t&&"SourceAlpha"!==t;}},{key:"i_",value:function i_(){var _this$getSelection9=this.getSelection(),_this$getSelection10=_slicedToArray(_this$getSelection9,1),t=_this$getSelection10[0],e=_toConsumableArray(this.filter.children).filter(function(t){return P.includes(t.localName);}),i=this.QS.getGroups(),s=i.find(function(e){return e.includes(t);}),n=_toConsumableArray(i).sort(function(t){return t===s?1:-1;});this.Js.board.undoManager.checkpoint("Set terminal filter primitive");{var _t2179=[];var _iterator1447=_createForOfIteratorHelper(n),_step1447;try{for(_iterator1447.s();!(_step1447=_iterator1447.n()).done;){var _i1448=_step1447.value;var _iterator1448=_createForOfIteratorHelper(_i1448),_step1448;try{var _loop32=function _loop32(){var s=_step1448.value;if("SourceGraphic"!==s&&"SourceAlpha"!==s){var _i1449=e.find(function(t){return t.result.baseVal===s;});_t2179.push(_i1449);}};for(_iterator1448.s();!(_step1448=_iterator1448.n()).done;){_loop32();}}catch(err){_iterator1448.e(err);}finally{_iterator1448.f();}}}catch(err){_iterator1447.e(err);}finally{_iterator1447.f();}for(var _i1447=0,_t2180=_t2179;_i1447<_t2180.length;_i1447++){var _e1557=_t2180[_i1447];this.filter.append(_e1557);}}}},{key:"t_",value:function t_(){var _this$getSelection11=this.getSelection(),_this$getSelection12=_slicedToArray(_this$getSelection11,1),t=_this$getSelection12[0],e=this.QS.getGroups();if("SourceGraphic"===t||"SourceAlpha"===t)return!1;{var _i1450=e.flat();if(_i1450=_i1450.filter(function(t){return"SourceGraphic"!==t&&"SourceAlpha"!==t;}),t===_i1450[_i1450.length-1])return!1;}{var _i1451=e.find(function(e){return e.includes(t);});if(_i1451.indexOf(t)!==_i1451.length-1)return!1;}return!0;}},{key:"n_",value:function n_(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"primitive";this.filter;var e=_toConsumableArray(this.filter.children).filter(function(t){return P.includes(t.localName);}).map(function(t){return t.result.baseVal;});for(var _i1452=0;_i1452<Infinity;_i1452+=1){var _s840=t+"-"+_i1452;if(!1===e.includes(_s840))return _s840;}}},{key:"qs",value:function qs(){this.s_(),this.HS();}},{key:"s_",value:function s_(){var _this878=this;(function(t){var e=_toConsumableArray(t.children).filter(function(t){return P.includes(t.localName);}),i=Symbol();{var _t2181=null,_s841={};var _iterator1449=_createForOfIteratorHelper(e),_step1449;try{for(_iterator1449.s();!(_step1449=_iterator1449.n()).done;){var _n614=_step1449.value;if(_n614[i]=[],"feMerge"===_n614.localName){var _e1558=_toConsumableArray(_n614.children).filter(function(t){return"feMergeNode"===t.localName;}),_o493=null,_l372=Symbol();var _iterator1450=_createForOfIteratorHelper(_e1558),_step1450;try{for(_iterator1450.s();!(_step1450=_iterator1450.n()).done;){var _i1453=_step1450.value;["SourceGraphic","SourceAlpha","none"].includes(_i1453.in1.baseVal)?_i1453[_l372]=_i1453.in1.baseVal:_s841[_i1453.in1.baseVal]?_i1453[_l372]=_s841[_i1453.in1.baseVal]:_i1453[_l372]=_o493?_o493[_l372]:_t2181||"SourceGraphic",_o493=_i1453;}}catch(err){_iterator1450.e(err);}finally{_iterator1450.f();}var _iterator1451=_createForOfIteratorHelper(_e1558),_step1451;try{for(_iterator1451.s();!(_step1451=_iterator1451.n()).done;){var _t2182=_step1451.value;var _e1559=_t2182[_l372];_n614[i].push(_e1559);}}catch(err){_iterator1451.e(err);}finally{_iterator1451.f();}}else for(var _i1454=0,_arr71=["in1","in2"];_i1454<_arr71.length;_i1454++){var _e1560=_arr71[_i1454];if(void 0!==_n614[_e1560])if(["SourceGraphic","SourceAlpha","none"].includes(_n614[_e1560].baseVal))_n614[i].push(_n614[_e1560].baseVal);else if(_s841[_n614[_e1560].baseVal]){var _t2183=_s841[_n614[_e1560].baseVal];_n614[i].push(_t2183);}else _t2181?_n614[i].push(_t2181):_n614[i].push("SourceGraphic");}_t2181=_n614,""!==_n614.result.baseVal&&(_s841[_n614.result.baseVal]=_n614);}}catch(err){_iterator1449.e(err);}finally{_iterator1449.f();}}{var _t2184=[];var _iterator1452=_createForOfIteratorHelper(e),_step1452;try{for(_iterator1452.s();!(_step1452=_iterator1452.n()).done;){var _i1455=_step1452.value;var _e1561=_i1455.result.baseVal;""!==_e1561&&(_t2184.includes(_e1561)?_i1455.result.baseVal="":_t2184.push(_i1455.result.baseVal));}}catch(err){_iterator1452.e(err);}finally{_iterator1452.f();}var _iterator1453=_createForOfIteratorHelper(e),_step1453;try{for(_iterator1453.s();!(_step1453=_iterator1453.n()).done;){var _i1456=_step1453.value;if(""===_i1456.result.baseVal){var _e1562=li(_i1456.localName).substring(3);for(var _s842=0;_s842<Infinity;_s842+=1){var _n615="".concat(_e1562,"-").concat(_s842);if(!1===_t2184.includes(_n615)){_i1456.result.baseVal=_n615,_t2184.push(_n615);break;}}}}}catch(err){_iterator1453.e(err);}finally{_iterator1453.f();}}var _iterator1454=_createForOfIteratorHelper(e),_step1454;try{for(_iterator1454.s();!(_step1454=_iterator1454.n()).done;){var _t2185=_step1454.value;var _e1563=_t2185[i].map(function(t){return t.result?t.result.baseVal:t;});if("feMerge"===_t2185.localName){var _i1457=_toConsumableArray(_t2185.children).filter(function(t){return"feMergeNode"===t.localName;});for(var _t2186=0;_t2186<_i1457.length;_t2186+=1){_i1457[_t2186].in1.baseVal!==_e1563[_t2186]&&(_i1457[_t2186].in1.baseVal=_e1563[_t2186]);}}else void 0!==_t2185.in1&&_t2185.in1.baseVal!==_e1563[0]&&(_t2185.in1.baseVal=_e1563[0]),void 0!==_t2185.in2&&_t2185.in2.baseVal!==_e1563[1]&&(_t2185.in2.baseVal=_e1563[1]);}}catch(err){_iterator1454.e(err);}finally{_iterator1454.f();}})(this.filter),this.QS=new Bm(this.filter);var t=this.QS.getNodes(),e=this.QS.getEdges(),_this$getSelection13=this.getSelection(),_this$getSelection14=_slicedToArray(_this$getSelection13,2),i=_this$getSelection14[0],s=_this$getSelection14[1];this["#graph-backdrop"].width.baseVal.value=this.QS.getWidth(),this["#graph-backdrop"].height.baseVal.value=this.QS.getHeight();{var _loop33=function _loop33(){var e=_arr72[_i1458];t.find(function(t){return t.name===e.dataset.name;})||e.remove();};for(var _i1458=0,_arr72=_toConsumableArray(this["#graph-nodes"].children);_i1458<_arr72.length;_i1458++){_loop33();}var _e1564=_toConsumableArray(this["#graph-nodes"].children);var _iterator1455=_createForOfIteratorHelper(t),_step1455;try{var _loop34=function _loop34(){var _step1455$value=_step1455.value,s=_step1455$value.x,n=_step1455$value.y,o=_step1455$value.width,l=_step1455$value.height,h=_step1455$value.name,a=_step1455$value.type,r=_step1455$value.terminal;var t=_e1564.find(function(t){return t.dataset.name===h;});if(!t){var _e1565="";_e1565="SourceGraphic"===a?"filter-source-graphic-hd":"SourceAlpha"===a?"filter-source-alpha-hd":"feDiffuseLighting"===a||"feSpecularLighting"===a?"filter-lighting-hd":"filter-"+li(a).substring(3)+"-hd",t=qi(_templateObject61(),h,_e1565),_this878["#graph-nodes"].append(t);}h===i?t.setAttribute("data-selected",""):t.removeAttribute("data-selected"),r?t.setAttribute("data-terminal",""):t.removeAttribute("data-terminal"),t.setAttribute("transform","translate(".concat(s-o/2,", ").concat(n-l/2,")"));};for(_iterator1455.s();!(_step1455=_iterator1455.n()).done;){_loop34();}}catch(err){_iterator1455.e(err);}finally{_iterator1455.f();}}{var _loop35=function _loop35(){var t=_arr73[_i1459];e.find(function(e){return e.from===t.dataset.from&&e.to===t.dataset.to&&e.slot===parseInt(t.dataset.slot);})||t.remove();};for(var _i1459=0,_arr73=_toConsumableArray(this["#graph-edges"].children);_i1459<_arr73.length;_i1459++){_loop35();}var _t2187=_toConsumableArray(this["#graph-edges"].children);var _iterator1456=_createForOfIteratorHelper(e),_step1456;try{var _loop36=function _loop36(){var n=_step1456.value;var e=n.points,o=n.label,l=n.from,h=n.to,a=n.slot,r=_t2187.find(function(t){return t.dataset.from===l&&t.dataset.to===h&&t.dataset.slot==="".concat(a);}),_e1566=_toArray(e),d=_e1566[0],c=_e1566.slice(1),p="M ".concat(d.x," ").concat(d.y)+c.map(function(t){return" L ".concat(t.x," ").concat(t.y);}).join("");r||(r=qi(_templateObject62(),o.width,o.height,o.height),_this878["#graph-edges"].append(r)),s&&s.from===l&&s.to===h&&s.slot===a?r.setAttribute("data-selected",""):r.removeAttribute("data-selected"),s?s.to===n.to?r.setAttribute("data-labeled",""):r.removeAttribute("data-labeled"):i&&i===h?r.setAttribute("data-labeled",""):r.removeAttribute("data-labeled"),r.setAttribute("data-from",l),r.setAttribute("data-to",h),r.setAttribute("data-slot",a),r.children[0].style.d="path(\"".concat(p,"\")"),r.children[1].style.d="path(\"".concat(p,"\")"),r.children[2].style.x=o.x-o.width/2+"px",r.children[2].style.y=o.y-o.height/2+"px",r.children[2].innerHTML=o.text;};for(_iterator1456.s();!(_step1456=_iterator1456.n()).done;){_loop36();}}catch(err){_iterator1456.e(err);}finally{_iterator1456.f();}}}},{key:"HS",value:function HS(){var t=this["#sidebar-content"].firstElementChild,e=null,_this$getSelection15=this.getSelection(),_this$getSelection16=_slicedToArray(_this$getSelection15,2),i=_this$getSelection16[0],s=_this$getSelection16[1];if(i){if("SourceGraphic"===i||"SourceAlpha"===i)e=i;else{e=_toConsumableArray(this.filter.children).filter(function(t){return P.includes(t.localName);}).find(function(t){return t.result.baseVal===i;});}if(!t||t.primitive!==e)if("SourceAlpha"===e)this["#sidebar-heading"].textContent="Source Alpha",this["#sidebar-content"].innerHTML="<p>This primitive has no options.</p>";else if("SourceGraphic"===e)this["#sidebar-heading"].textContent="Source Graphic",this["#sidebar-content"].innerHTML="<p>This primitive has no options.</p>";else{var _t2188=zi("bx-".concat(e.localName.substring(2).toLowerCase(),"primitiveinspector"));_t2188.primitive=e,this["#sidebar-heading"].textContent=_t2188.name,this["#sidebar-content"].innerHTML="",this["#sidebar-content"].append(_t2188);}}else if(s){if(!t||"bx-filteredgeinspector"!==t.localName){var _t2189=zi("bx-filteredgeinspector");this["#sidebar-heading"].textContent=_t2189.name,this["#sidebar-content"].innerHTML="",this["#sidebar-content"].append(_t2189);}}else if(!t||"bx-filterhostinspector"!==t.localName){var _t2190=zi("bx-filterhostinspector");_t2190.filter=this.filter,this["#sidebar-heading"].textContent="Filter",this["#sidebar-content"].innerHTML="",this["#sidebar-content"].append(_t2190);}}}]);return xg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(xg,"observedAttributes",["enabled"]);_defineProperty(xg,"_shadowTemplate",Yi(_templateObject433()));_defineProperty(xg,"_shadowStyleSheet",Wi(_templateObject434()));customElements.define("bx-filterinspector",xg);var bg=Symbol(),mg=Symbol();var gg=/*#__PURE__*/function(_HTMLElement118){_inherits(gg,_HTMLElement118);var _super190=_createSuper(gg);_createClass(gg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function gg(){var _temp48,_this879;_classCallCheck(this,gg);(_temp48=_this879=_super190.call(this),_defineProperty(_assertThisInitialized(_this879),"commands",{selectAll:{enabled:function enabled(){return _this879.pv();},exec:function exec(){return _this879.uv();}},deselectAll:{enabled:function enabled(){return _this879.xv();},exec:function exec(){return _this879.bv();}}}),_temp48),_this879.yy=Zi(_this879.qs,2e3,_assertThisInitialized(_this879)),_this879.gv=0,_this879._shadowRoot=_this879.attachShadow({mode:"closed"}),_this879._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,gg._shadowStyleSheet],_this879._shadowRoot.append(document.importNode(gg._shadowTemplate.content,!0));var _iterator1457=_createForOfIteratorHelper(_this879._shadowRoot.querySelectorAll("[id]")),_step1457;try{for(_iterator1457.s();!(_step1457=_iterator1457.n()).done;){var _t2191=_step1457.value;_this879["#"+_t2191.id]=_t2191;}}catch(err){_iterator1457.e(err);}finally{_iterator1457.f();}_this879.addEventListener("keydown",function(t){return _this879.vn(t);}),_this879["#items"].addEventListener("scroll",function(){return _this879.fv();}),_this879["#items"].addEventListener("contextmenu",function(t){return _this879.tp(t);}),_this879["#items"].addEventListener("pointerdown",function(t){return _this879.Qc(t);}),_this879["#items"].addEventListener("click",function(t){return _this879.Jc(t);}),_this879["#search-input"].addEventListener("input",function(){return _this879.wv();}),_this879["#developer-mode-button"].addEventListener("toggle",function(){return _this879.zu();}),_this879["#add-menu"].addEventListener("click",function(t){return _this879.Vw(t);}),_this879["#add-menu"].addEventListener("open",function(){return _this879.vv();}),_this879["#filter-inspector-popover"].addEventListener("close",function(){return _this879["#filter-inspector"].enabled=!1;});return _this879;}_createClass(gg,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this["#items"].scrollTop=this.gv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this880=this;window.addEventListener("resize",this.nn=function(){_this880.kv();}),this.Qs.addEventListener("configchange",this.ln=function(t){_this880.hn(t);}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this880.sl(t);}),this.Js.board.addEventListener("artworkchange",this.mr=function(t){_this880.Sv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.gv,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-filtersbrowser:developerMode",!1),this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",jp),this.qs();}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("artworkchange",this.mr),this.a_(),this["#items"].remove(),this["#mirror-svg"].innerHTML="";}},{key:"hn",value:function hn(t){var _t$detail15=t.detail,e=_t$detail15.key,i=_t$detail15.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",jp),this.Mv());}},{key:"kv",value:function kv(){this.a_();}},{key:"sl",value:function sl(t){var e=t.detail,i="debounced",s=!1;var _iterator1458=_createForOfIteratorHelper(e),_step1458;try{for(_iterator1458.s();!(_step1458=_iterator1458.n()).done;){var _t2192=_step1458.value;var _e1567=_t2192.target.nodeName,_n616=_t2192.addedNodes[0]?_t2192.addedNodes[0].nodeName:null,_o494=_t2192.removedNodes[0]?_t2192.removedNodes[0].nodeName:null,_l373=_t2192.attributeName;if("filter"===_e1567){if("bx-title"===_n616||"bx-title"===_o494){i="now";break;}if("id"===_l373){i="now",s=!0;break;}if("data-bx-pinned"===_l373){i="now";break;}}else if("bx-title"===_e1567){if(_n616||_o494){i="now";break;}}else if("filter"===_n616||"filter"===_o494){i="now",s=!0;break;}}}catch(err){_iterator1458.e(err);}finally{_iterator1458.f();}!0===s&&this.a_(),"now"===i?this.qs():"debounced"===i&&this.yy();}},{key:"Sv",value:function Sv(){this.a_(),this.qs();}},{key:"fv",value:function fv(){this.gv=this["#items"].scrollTop,this.a_();}},{key:"tp",value:function(){var _tp7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee138(t){var e,_i1460,_s843,_n617;return regeneratorRuntime.wrap(function _callee138$(_context139){while(1){switch(_context139.prev=_context139.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context139.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.yv([e]);_i1460=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[bg];});_s843=e[bg];_context139.next=7;return this.Qs.openContextMenu([{label:"Edit Filter",value:"edit",disabled:1!==_i1460.length},{label:"Edit Filter ID",value:"edit-id",disabled:1!==_i1460.length},{label:"Edit Filter Title",value:"edit-title",disabled:1!==_i1460.length},{type:"separator"},{label:"Delete Filter"+(_i1460.length>1?"s":""),value:"delete",disabled:0===_i1460.length},{type:"separator"},{label:"Pin Filter"+(_i1460.length>1?"s":""),value:"pin",disabled:void 0===_i1460.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Filter"+(_i1460.length>1?"s":""),value:"unpin",disabled:void 0===_i1460.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Filter Users",value:"select-users",disabled:1!==_i1460.length}]);case 7:_n617=_context139.sent;"edit"===_n617?this.editFilter(_s843.id):"edit-id"===_n617?this.Pv(_s843.id,"id"):"edit-title"===_n617?this.Pv(_s843.id,"title"):"delete"===_n617?this.zv():"pin"===_n617?this.Ov():"unpin"===_n617?this.Ev():"select-users"===_n617&&this.r_(_s843.id);case 9:case"end":return _context139.stop();}}},_callee138,this);}));function tp(_x164){return _tp7.apply(this,arguments);}return tp;}()},{key:"Jc",value:function Jc(t){t.target.closest(".item")&&this.ev(t);}},{key:"ev",value:function ev(t){var _this$Qs$modKeys23=this.Qs.modKeys,e=_this$Qs$modKeys23.ctrl,i=_this$Qs$modKeys23.shift;if(!1===e&&!1===i){var _e1568=t.target.closest(".item"),_i1461=t.target.closest(".thumbnail"),_s844=t.target.closest(".counter-button"),_n618=t.target.closest(".pin-button"),_o495=_e1568[bg].id;_s844?this.r_(_o495):_n618?_n618.toggled?this.d_(_o495):this.c_(_o495):_i1461?t.detail%2==0&&this.editFilter(_o495):t.detail%2==0&&this.Pv(_o495);}}},{key:"Qc",value:function Qc(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1569=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1569&&this.yv([]);}else t.target.closest(".item")&&this.Dm(t);}},{key:"Dm",value:function Dm(t){var _this881=this;var _this$Qs$modKeys24=this.Qs.modKeys,e=_this$Qs$modKeys24.ctrl,i=_this$Qs$modKeys24.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(this.a_(),!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[mg]=Date.now());else if(!0===i){var _t2193=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1570=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1570.length>0){var _i1462=_t2193.indexOf(s),_n619=_e1570.sort(function(t,e){return e[mg]-t[mg];})[0],_o496=_t2193.indexOf(_n619),_l374=[];if(_i1462>_o496?_l374=_toConsumableArray(_t2193).slice(_o496,_i1462+1):_i1462<_o496&&(_l374=_toConsumableArray(_t2193).slice(_i1462,_o496+1).reverse()),_l374=_l374.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l374.length>0){var _iterator1459=_createForOfIteratorHelper(_l374),_step1459;try{for(_iterator1459.s();!(_step1459=_iterator1459.n()).done;){var _t2194=_step1459.value;_t2194.setAttribute("data-selected",""),_t2194[mg]=Date.now();}}catch(err){_iterator1459.e(err);}finally{_iterator1459.f();}}}}else{var _t2197,_e1572,_i1463=!1;window.addEventListener("pointermove",_t2197=function _t2195(o){var l=new DOMPoint(o.clientX,o.clientY);if(De(n,l)>=3){if(window.removeEventListener("pointermove",_t2197),window.removeEventListener("pointerup",_e1572),!1===s.hasAttribute("data-selected")){var _iterator1460=_createForOfIteratorHelper(_this881["#items"].children),_step1460;try{for(_iterator1460.s();!(_step1460=_iterator1460.n()).done;){var _t2196=_step1460.value;_t2196===s?(_t2196.setAttribute("data-selected",""),_t2196[mg]=Date.now()):_t2196.removeAttribute("data-selected");}}catch(err){_iterator1460.e(err);}finally{_iterator1460.f();}}_this881.Zw(o),_i1463=!0;}}),window.addEventListener("pointerup",_e1572=function _e1571(){if(window.removeEventListener("pointermove",_t2197),window.removeEventListener("pointerup",_e1572),!1===_i1463){var _iterator1461=_createForOfIteratorHelper(_this881["#items"].children),_step1461;try{for(_iterator1461.s();!(_step1461=_iterator1461.n()).done;){var _t2198=_step1461.value;_t2198===s?(_t2198.setAttribute("data-selected",""),_t2198[mg]=Date.now()):_t2198.removeAttribute("data-selected");}}catch(err){_iterator1461.e(err);}finally{_iterator1461.f();}}});}}},{key:"Zw",value:function Zw(t){var _this882=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,h="start",a=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===a&&(a=setInterval(function(){return _this882["#items"].scrollTop+=r;},10));},c=function c(){null!==a&&(clearInterval(a),a=null);},p=function p(){var t=_this882.Qs.pointerClientPoint,e=_this882._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this882._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1573=l.getBoundingClientRect();if(h=t.y<_e1573.y+_e1573.height/2?"start":"end",_this882.Kw(n,l,h)){var _t2199=l.offsetTop-_this882["#items"].scrollTop;"end"===h&&(_t2199+=_e1573.height),_this882["#drop-indicator"].hidden=!1,_this882["#drop-indicator"].style.top=_t2199-1+"px";}else l=null,_this882["#drop-indicator"].hidden=!0;}else _this882["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s845){function s(_x165){return _s845.apply(this,arguments);}s.toString=function(){return _s845.toString();};return s;}(function(t){if(_this882["#items"].removeEventListener("pointermove",e),_this882["#items"].removeEventListener("scroll",i),_this882["#items"].removeEventListener("lostpointercapture",s),_this882["#items"].style.cursor=null,_this882["#drop-indicator"].hidden=!0,c(),_this882.Js.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1574=n[0][bg],_i1464=_this882.Js.board.getWorkspaceElementFromPoint(t.clientX,t.clientY);_i1464&&D.includes(_i1464.localName)&&(_this882.Js.board.undoManager.checkpoint("Apply filter"),_i1464.style.setProperty("filter","url(#".concat(_e1574.id,")")),ya("filter",_i1464),"image"===_i1464.localName&&(_e1574.previousElementSibling?_e1574.previousElementSibling.after(_e1574):_e1574.nextElementSibling?_e1574.nextElementSibling.before(_e1574):_e1574.parentElement.append(_e1574)),_this882.Iv());}}else if(l){_this882.Js.board.undoManager.checkpoint("Rearrange filters");var _t2200=document.createDocumentFragment(),_e1575=l[bg];var _iterator1462=_createForOfIteratorHelper(n),_step1462;try{for(_iterator1462.s();!(_step1462=_iterator1462.n()).done;){var _i1465=_step1462.value;_i1465[bg]!==_e1575&&_t2200.append(_i1465[bg]);}}catch(err){_iterator1462.e(err);}finally{_iterator1462.f();}"start"===h?_e1575.before(_t2200):_e1575.after(_t2200);}}));}},{key:"vn",value:function vn(t){if(this["#search-input"].matches(":focus")||this["#filter-inspector-popover"].opened)return;var e=eo.fromEvent(t);if(e.matches("Enter")){var _t2201=this["#items"].querySelector(".item[data-label-edited]"),_e1576=this["#items"].querySelector(".item[data-selected]");_t2201?this.focus():_e1576&&this.Pv(_e1576[bg].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.zv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu()||this.Lv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru()||this.Bv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru(!0));}}},{key:"zu",value:function zu(){this.Qs.setConfig("bx-filtersbrowser:developerMode",this["#developer-mode-button"].toggled),this.ov(),this.focus();}},{key:"Vw",value:function Vw(t){var e=t.target.closest("x-menuitem");e&&"add-filter"===e.value&&this.Rv();}},{key:"vv",value:function vv(){}},{key:"wv",value:function wv(){this.Fv(),this.Lu();}},{key:"editFilter",value:function(){var _editFilter=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee139(t){var e,_t2202,_i1466;return regeneratorRuntime.wrap(function _callee139$(_context140){while(1){switch(_context140.prev=_context140.next){case 0:e=_toConsumableArray(this["#items"].children).find(function(e){return e[bg].id===t;});if(!e){_context140.next=9;break;}this.yv([e]);_t2202=e.getBoundingClientRect(),_i1466=new DOMPoint(_t2202.left,_t2202.top+_t2202.height/2);_context140.next=6;return Qi(10);case 6:this["#filter-inspector-popover"].open(_i1466);this["#filter-inspector"].filter=e[bg];this["#filter-inspector"].enabled=!0;case 9:case"end":return _context140.stop();}}},_callee139,this);}));function editFilter(_x166){return _editFilter.apply(this,arguments);}return editFilter;}()},{key:"a_",value:function a_(){this["#filter-inspector-popover"].opened&&(this["#filter-inspector-popover"].close(),this["#filter-inspector"].enabled=!1);}},{key:"Pv",value:function Pv(t){var _this883=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[bg].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t2203=this["#items"].querySelector(".item[data-label-edited]");if(_t2203){if(_t2203===i)return;this.Uv();}}this.yv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[bg],l=this["#developer-mode-button"].toggled?"Filter ID":"Filter title",h=o.querySelector(":scope > bx-title"),a="";!0===this["#developer-mode-button"].toggled&&o.id?a="#"+o.id:!1===this["#developer-mode-button"].toggled&&h&&(a=h.textContent);var r=Yi(_templateObject63(),a,l);n.after(r),r.selectAll(),Qi(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this883.Uv();}),r.validate=function(){var t=null;if(_this883["#developer-mode-button"].toggled){var _e1577=r.value.trim();if(_e1577.startsWith("#")&&(_e1577=_e1577.substring(1)),0===_e1577.length)t="Filter must have ID";else if(Vi(_e1577)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1577)))&&o.id!==_e1577&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"Uv",value:function Uv(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1578=this.Js.board,_i1467=t.querySelector(".label"),_s846=t.querySelector("x-input"),_n620=t[bg];if(_s846.remove(),_i1467.hidden=!1,t.removeAttribute("data-label-edited"),null===_s846.error)if(this["#developer-mode-button"].toggled){var _t2204=_n620.getAttribute("id").trim(),_i1468=_s846.value.trim().toLowerCase();if(_i1468.startsWith("#")&&(_i1468=_i1468.substring(1)),_t2204!==_i1468){_e1578.undoManager.checkpoint("Filter ID");var _s847=document.createNodeIterator(_e1578.workspaces,NodeFilter.SHOW_ELEMENT),_n621=null;for(;_n621=_s847.nextNode();){"filter"===_n621.localName&&(_n621.id===_t2204&&_n621.setAttribute("id",_i1468),_n621.href.baseVal==="#"+_t2204&&_n621.setAttribute("href","#"+_i1468));{var _e1579=getComputedStyle(_n621).getPropertyValue("filter");if(_e1579&&_e1579.startsWith("url(")){_e1579.substring(6,_e1579.length-2)===_t2204&&_n621.style.setProperty("filter","url(#".concat(_i1468,")"));}}}}}else{var _t2205=_n620.querySelector(":scope > bx-title"),_i1469=_s846.value.trim();if(_t2205){_t2205.textContent!==_i1469&&(_e1578.undoManager.checkpoint("Filter title"),""===_i1469?_t2205.remove():_t2205.textContent=_i1469);}else""!==_i1469&&(_e1578.undoManager.checkpoint("Filter title"),_t2205=zi("svg:bx-title"),_t2205.textContent=_i1469,_n620.prepend(_t2205));}}}},{key:"d_",value:function d_(t){this.Js.board.undoManager.checkpoint("Pin Filter"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"c_",value:function c_(t){this.Js.board.undoManager.checkpoint("Unpin Filter"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"yv",value:function yv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1463=_createForOfIteratorHelper(this["#items"].children),_step1463;try{for(_iterator1463.s();!(_step1463=_iterator1463.n()).done;){var _e1580=_step1463.value;t.includes(_e1580)?(_e1580.setAttribute("data-selected",""),_e1580[mg]=Date.now()):_e1580.removeAttribute("data-selected");}}catch(err){_iterator1463.e(err);}finally{_iterator1463.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}this.a_();}},{key:"Bu",value:function Bu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1470=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s848=e[0],_n622=_i1470.indexOf(_s848),_o497=_i1470[_n622-1];if(_o497){if(_o497.scrollIntoViewIfNeeded(),t)_o497.setAttribute("data-selected",""),_o497[mg]=Date.now();else{var _iterator1464=_createForOfIteratorHelper(_i1470),_step1464;try{for(_iterator1464.s();!(_step1464=_iterator1464.n()).done;){var _t2206=_step1464.value;_t2206===_o497?(_t2206.setAttribute("data-selected",""),_t2206[mg]=Date.now()):_t2206.removeAttribute("data-selected");}}catch(err){_iterator1464.e(err);}finally{_iterator1464.f();}}return this.a_(),!0;}}return!1;}},{key:"Ru",value:function Ru(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1471=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s849=e[e.length-1],_n623=_i1471.indexOf(_s849),_o498=_i1471[_n623+1];if(_o498){if(_o498.scrollIntoViewIfNeeded(),t)_o498.setAttribute("data-selected",""),_o498[mg]=Date.now();else{var _iterator1465=_createForOfIteratorHelper(_i1471),_step1465;try{for(_iterator1465.s();!(_step1465=_iterator1465.n()).done;){var _t2207=_step1465.value;_t2207===_o498?(_t2207.setAttribute("data-selected",""),_t2207[mg]=Date.now()):_t2207.removeAttribute("data-selected");}}catch(err){_iterator1465.e(err);}finally{_iterator1465.f();}}return this.a_(),!0;}}return!1;}},{key:"Lv",value:function Lv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1466=_createForOfIteratorHelper(t),_step1466;try{for(_iterator1466.s();!(_step1466=_iterator1466.n()).done;){var _i1472=_step1466.value;_i1472===e?(_i1472.setAttribute("data-selected",""),_i1472[mg]=Date.now()):_i1472.removeAttribute("data-selected");}}catch(err){_iterator1466.e(err);}finally{_iterator1466.f();}return this.a_(),!0;}return!1;}},{key:"Bv",value:function Bv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1467=_createForOfIteratorHelper(t),_step1467;try{for(_iterator1467.s();!(_step1467=_iterator1467.n()).done;){var _i1473=_step1467.value;_i1473===e?(_i1473.setAttribute("data-selected",""),_i1473[mg]=Date.now()):_i1473.removeAttribute("data-selected");}}catch(err){_iterator1467.e(err);}finally{_iterator1467.f();}return this.a_(),!0;}return!1;}},{key:"uv",value:function uv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.yv(t,!1);}},{key:"bv",value:function bv(){this.yv([],!1);}},{key:"pv",value:function pv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#filter-inspector-popover"].opened||null;}},{key:"xv",value:function xv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#filter-inspector-popover"].opened||null;}},{key:"Rv",value:function Rv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add filter");var i=zi("svg:filter");if(i.setAttribute("id",t.generateUniqueID("filter")),i.setAttribute("data-bx-pinned","true"),i.setAttribute("primitiveUnits","objectBoundingBox"),e.length>0){e[e.length-1][bg].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[bg]===i;});this.yv([s]);}},{key:"zv",value:function(){var _zv6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee140(){var t,e,i,s,n,_iterator1468,_step1468,_e1583,o,_iterator1469,_step1469,_t2211,_iterator1473,_step1473,_e1584,_t2208,_e1581,_iterator1470,_step1470,_t2209,_iterator1472,_step1472,_e1582,_iterator1471,_step1471,_t2210;return regeneratorRuntime.wrap(function _callee140$(_context141){while(1){switch(_context141.prev=_context141.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}),i=e.map(function(t){return t[bg];}),s=[],n=[];_iterator1468=_createForOfIteratorHelper(i);try{for(_iterator1468.s();!(_step1468=_iterator1468.n()).done;){_e1583=_step1468.value;s.push.apply(s,_toConsumableArray(t.workspaces.querySelectorAll("filter[href=\"#".concat(CSS.escape(_e1583.id),"\"]"))));}}catch(err){_iterator1468.e(err);}finally{_iterator1468.f();}o=[].concat(_toConsumableArray(i),s);_iterator1469=_createForOfIteratorHelper(o);try{for(_iterator1469.s();!(_step1469=_iterator1469.n()).done;){_t2211=_step1469.value;_iterator1473=_createForOfIteratorHelper(Ix(_t2211));try{for(_iterator1473.s();!(_step1473=_iterator1473.n()).done;){_e1584=_step1473.value;!1===n.includes(_e1584)&&n.push(_e1584);}}catch(err){_iterator1473.e(err);}finally{_iterator1473.f();}}}catch(err){_iterator1469.e(err);}finally{_iterator1469.f();}if(!(0!==e.length)){_context141.next=20;break;}if(!(n.length>0)){_context141.next=15;break;}_t2208="Delete ";1===i.length?_t2208+="a filter":_t2208+="".concat(i.length," filters"),_t2208+=" applied to ",1===n.length?_t2208+="1 object?":_t2208+="".concat(n.length," objects?");_context141.next=12;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t2208,detail:"Deleting a filter also removes it from all objects it was applied to."});case 12:_e1581=_context141.sent;if(!(-1===_e1581||1===_e1581)){_context141.next=15;break;}return _context141.abrupt("return");case 15:t.undoManager.checkpoint("Delete filters"),this.Ru()||this.Bu();_iterator1470=_createForOfIteratorHelper(n);try{for(_iterator1470.s();!(_step1470=_iterator1470.n()).done;){_t2209=_step1470.value;_iterator1472=_createForOfIteratorHelper(o);try{for(_iterator1472.s();!(_step1472=_iterator1472.n()).done;){_e1582=_step1472.value;getComputedStyle(_t2209).filter==="url(\"#".concat(_e1582.id,"\")")&&(_t2209.style.filter=null,_t2209.removeAttribute("filter"));}}catch(err){_iterator1472.e(err);}finally{_iterator1472.f();}}}catch(err){_iterator1470.e(err);}finally{_iterator1470.f();}_iterator1471=_createForOfIteratorHelper(o);try{for(_iterator1471.s();!(_step1471=_iterator1471.n()).done;){_t2210=_step1471.value;_t2210.remove();}}catch(err){_iterator1471.e(err);}finally{_iterator1471.f();}case 20:case"end":return _context141.stop();}}},_callee140,this);}));function zv(){return _zv6.apply(this,arguments);}return zv;}()},{key:"Ov",value:function Ov(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[bg];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin filter"+e.length>1?"s":"");var _iterator1474=_createForOfIteratorHelper(e),_step1474;try{for(_iterator1474.s();!(_step1474=_iterator1474.n()).done;){var _t2212=_step1474.value;_t2212.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1474.e(err);}finally{_iterator1474.f();}}}},{key:"Ev",value:function Ev(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[bg];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin filter"+e.length>1?"s":"");var _iterator1475=_createForOfIteratorHelper(e),_step1475;try{for(_iterator1475.s();!(_step1475=_iterator1475.n()).done;){var _t2213=_step1475.value;_t2213.removeAttribute("data-bx-pinned");}}catch(err){_iterator1475.e(err);}finally{_iterator1475.f();}}}},{key:"Kw",value:function Kw(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s850=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_n624=t[0],_o499=_s850.indexOf(e);if("start"===i){if(_s850[_o499-1]===_n624)return!1;}else if("end"===i){if(_s850[_o499+1]===_n624)return!1;}}return!0;}},{key:"r_",value:function r_(t){var e=this.Js.board,i=_toConsumableArray(this["#items"].children).find(function(e){return e[bg].id===t;})[bg],s=this.p_().get(i);e.selectedElements=s?_toConsumableArray(s):[];}},{key:"p_",value:function p_(){var t=this.Js.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(D.includes(s.localName)){var _i1474=getComputedStyle(s),_n625=no.fromString(_i1474.filter),_o500=_n625?t.masterWorkspace.querySelector(_n625.value):null,_l375=_o500&&"filter"===_o500.localName?_o500:null;_l375&&(!1===e.has(_l375)&&e.set(_l375,[]),e.get(_l375).push(s));}}return e;}},{key:"qs",value:function qs(){{var _t2214=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("filter")).filter(function(t){return!1===t.hasAttribute("href");}).filter(function(t){return!1===t.hasAttribute("data-bx-preset");}),_e1585=_toConsumableArray(this["#items"].querySelectorAll(".item[data-selected]")).map(function(t){return t[bg];}),_i1475=document.createDocumentFragment();var _iterator1476=_createForOfIteratorHelper(_t2214),_step1476;try{for(_iterator1476.s();!(_step1476=_iterator1476.n()).done;){var _s851=_step1476.value;var _t2215=Yi(_templateObject64(),_s851.id,_s851.id);_t2215[bg]=_s851,_e1585.includes(_s851)&&(_t2215.setAttribute("data-selected",""),_t2215[mg]=Date.now()),this.Vv(_t2215),this.jv(_t2215),_i1475.append(_t2215);}}catch(err){_iterator1476.e(err);}finally{_iterator1476.f();}this["#items"].innerHTML="",this["#items"].append(_i1475),this["#mirror-svg"].innerHTML=this.Js.board.defs.innerHTML;}this.Iv(),this.Mv(),this.Lu();}},{key:"Fv",value:function Fv(){var _iterator1477=_createForOfIteratorHelper(this["#items"].children),_step1477;try{for(_iterator1477.s();!(_step1477=_iterator1477.n()).done;){var _t2216=_step1477.value;this.jv(_t2216);}}catch(err){_iterator1477.e(err);}finally{_iterator1477.f();}}},{key:"ov",value:function ov(){this["#search-input"].value="";var _iterator1478=_createForOfIteratorHelper(this["#items"].children),_step1478;try{for(_iterator1478.s();!(_step1478=_iterator1478.n()).done;){var _t2217=_step1478.value;this.Vv(_t2217),this.jv(_t2217);}}catch(err){_iterator1478.e(err);}finally{_iterator1478.f();}this.Lu();}},{key:"Lu",value:function Lu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"jv",value:function jv(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Vv",value:function Vv(t){var e=t[bg],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<filter>",i.removeAttribute("data-custom"));else{var _t2218;_t2218=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t2218?(i.textContent=_t2218.textContent,i.setAttribute("data-custom","")):(i.textContent="Filter",i.removeAttribute("data-custom"));}}},{key:"Iv",value:function Iv(){var t=this.p_();var _iterator1479=_createForOfIteratorHelper(this["#items"].children),_step1479;try{for(_iterator1479.s();!(_step1479=_iterator1479.n()).done;){var _e1586=_step1479.value;var _i1476=_e1586.querySelector(".counter-button"),_s852=t.get(_e1586[bg]),_n626=_s852?_s852.length:0;0===_n626?(_i1476.setAttribute("hidden",""),_i1476.firstElementChild.textContent="0"):(_i1476.setAttribute("title",1===_n626?"Select 1 filter user":"Select ".concat(_n626," filter users")),_i1476.removeAttribute("hidden"),_i1476.firstElementChild.textContent=_n626);}}catch(err){_iterator1479.e(err);}finally{_iterator1479.f();}}},{key:"Mv",value:function Mv(){if("unpinned"===this._v.filters){var _iterator1480=_createForOfIteratorHelper(this["#items"].children),_step1480;try{for(_iterator1480.s();!(_step1480=_iterator1480.n()).done;){var _t2219=_step1480.value;var _e1587=_t2219[bg],_i1477=_t2219.lastElementChild;_i1477.hidden=!1,_i1477.toggled=_e1587.hasAttribute("data-bx-pinned");}}catch(err){_iterator1480.e(err);}finally{_iterator1480.f();}}else{var _iterator1481=_createForOfIteratorHelper(this["#items"].children),_step1481;try{for(_iterator1481.s();!(_step1481=_iterator1481.n()).done;){var _t2220=_step1481.value;_t2220.lastElementChild.hidden=!0;}}catch(err){_iterator1481.e(err);}finally{_iterator1481.f();}}}}]);return gg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(gg,"observedAttributes",["enabled"]);_defineProperty(gg,"_shadowTemplate",Yi(_templateObject435()));_defineProperty(gg,"_shadowStyleSheet",Wi(_templateObject436()));customElements.define("bx-filtersbrowser",gg);var fg=Symbol(),wg=Symbol(),vg=Symbol();var yg=/*#__PURE__*/function(_HTMLElement119){_inherits(yg,_HTMLElement119);var _super191=_createSuper(yg);_createClass(yg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function yg(){var _temp49,_this884;_classCallCheck(this,yg);(_temp49=_this884=_super191.call(this),_defineProperty(_assertThisInitialized(_this884),"commands",{selectAll:{enabled:function enabled(){return null===_this884._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this884.uv();}},deselectAll:{enabled:function enabled(){return null===_this884._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this884.bv();}}}),_temp49),_this884.yy=Zi(_this884.qs,2e3,_assertThisInitialized(_this884)),_this884.gv=0,_this884.u_=!1,_this884.x_=!1,_this884._shadowRoot=_this884.attachShadow({mode:"closed"}),_this884._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,yg._shadowStyleSheet],_this884._shadowRoot.append(document.importNode(yg._shadowTemplate.content,!0));var _iterator1482=_createForOfIteratorHelper(_this884._shadowRoot.querySelectorAll("[id]")),_step1482;try{for(_iterator1482.s();!(_step1482=_iterator1482.n()).done;){var _t2221=_step1482.value;_this884["#"+_t2221.id]=_t2221;}}catch(err){_iterator1482.e(err);}finally{_iterator1482.f();}_this884.addEventListener("keydown",function(t){return _this884.vn(t);}),_this884["#items"].addEventListener("scroll",function(){return _this884.fv();}),_this884["#items"].addEventListener("pointerdown",function(t){return _this884.Qc(t);}),_this884["#items"].addEventListener("click",function(t){return _this884.Jc(t);}),_this884["#search-input"].addEventListener("input",function(){return _this884.wv();}),_this884["#add-menu"].addEventListener("click",function(t){return _this884.Vw(t);});return _this884;}_createClass(yg,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),this["#items"].scrollTop=this.gv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this885=this;this.Qs.addEventListener("configchange",this.ln=function(t){_this885.hn(t);}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this885.sl(t);}),this.Js.board.addEventListener("artworkchange",this.mr=function(t){_this885.Sv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.gv,this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",jp),this.qs();}},{key:"sn",value:function sn(){this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("workspacemutation",this.rn),this["#items"].remove();}},{key:"hn",value:function hn(t){var _t$detail16=t.detail,e=_t$detail16.key,i=_t$detail16.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",jp),this.Mv());}},{key:"sl",value:function sl(t){var e=t.detail,i="debounced";var _iterator1483=_createForOfIteratorHelper(e),_step1483;try{for(_iterator1483.s();!(_step1483=_iterator1483.n()).done;){var _t2222=_step1483.value;if(_t2222.target.hasAttribute&&_t2222.target.hasAttribute("data-bx-fonts")||_t2222.target.parentElement&&_t2222.target.parentElement.hasAttribute("data-bx-fonts")){i="now";break;}}}catch(err){_iterator1483.e(err);}finally{_iterator1483.f();}"now"===i?this.qs():"debounced"===i&&this.yy();}},{key:"Sv",value:function Sv(){this.qs();}},{key:"fv",value:function fv(){this.gv=this["#items"].scrollTop;}},{key:"Jc",value:function Jc(t){t.target.closest(".arrow-button")?this.Qw(t):t.target.closest(".item")&&this.ev(t);}},{key:"ev",value:function ev(t){var _this$Qs$modKeys25=this.Qs.modKeys,e=_this$Qs$modKeys25.ctrl,i=_this$Qs$modKeys25.shift;if(!1===e&&!1===i){var _e1588=t.target.closest(".item"),_i1478=t.target.closest(".counter-button"),_s853=t.target.closest(".pin-button"),_n627=_e1588.dataset.family;_i1478?this.b_(_n627):_s853?_s853.toggled?this.m_(_n627):this.g_(_n627):_e1588.matches(".family-item")&&t.detail%2==0&&this.f_(_e1588);}}},{key:"Qw",value:function Qw(t){var e=t.target.closest(".item");e.matches(".family-item")&&(e.hasAttribute("data-expanded")?this.sv(e):this.nv(e));}},{key:"Qc",value:function Qc(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1589=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1589&&this.bv();}else t.target.closest(".item")&&this.Dm(t);}},{key:"Dm",value:function Dm(t){var _this886=this;if(t.target.closest(".arrow-button")||1!==t.buttons)return;if(t.target.closest("x-button"))return;if("x-input"===t.target.localName)return;var _this$Qs$modKeys26=this.Qs.modKeys,e=_this$Qs$modKeys26.ctrl,i=_this$Qs$modKeys26.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!1===e&&!1===i){var _t2225,_e1591,_i1479=!1;window.addEventListener("pointermove",_t2225=function _t2223(e){var o=new DOMPoint(e.clientX,e.clientY);if(De(n,o)>=3){if(window.removeEventListener("pointermove",_t2225),!1===s.hasAttribute("data-selected")){var _iterator1484=_createForOfIteratorHelper(_this886["#items"].querySelectorAll(".item")),_step1484;try{for(_iterator1484.s();!(_step1484=_iterator1484.n()).done;){var _t2224=_step1484.value;_t2224===s?(_t2224.setAttribute("data-selected",""),_t2224[vg]=Date.now()):_t2224.removeAttribute("data-selected");}}catch(err){_iterator1484.e(err);}finally{_iterator1484.f();}}_this886.Zw(e),_i1479=!0;}}),window.addEventListener("pointerup",_e1591=function _e1590(){if(window.removeEventListener("pointermove",_t2225),window.removeEventListener("pointerup",_e1591),!1===_i1479){var _iterator1485=_createForOfIteratorHelper(_this886["#items"].querySelectorAll(".item")),_step1485;try{for(_iterator1485.s();!(_step1485=_iterator1485.n()).done;){var _t2226=_step1485.value;_t2226===s?(_t2226.setAttribute("data-selected",""),_t2226[vg]=Date.now()):_t2226.removeAttribute("data-selected");}}catch(err){_iterator1485.e(err);}finally{_iterator1485.f();}}});}else if(!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[vg]=Date.now());else if(!0===i){var _t2227=_toConsumableArray(this["#items"].querySelectorAll(".item"));_t2227=_t2227.filter(function(t){return!t.matches("[hidden], [hidden] > *");});var _e1592=_toConsumableArray(this["#items"].querySelectorAll(".item[data-selected]"));if(_e1592=_e1592.filter(function(t){return!t.matches("[hidden], [hidden] > *");}),_e1592.length>0){var _i1480=_t2227.indexOf(s),_n628=_e1592.sort(function(t,e){return e[vg]-t[vg];})[0],_o501=_t2227.indexOf(_n628),_l376=[];if(_i1480>_o501?_l376=_toConsumableArray(_t2227).slice(_o501,_i1480+1):_i1480<_o501&&(_l376=_toConsumableArray(_t2227).slice(_i1480,_o501+1).reverse()),_l376=_l376.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l376.length>0){var _iterator1486=_createForOfIteratorHelper(_l376),_step1486;try{for(_iterator1486.s();!(_step1486=_iterator1486.n()).done;){var _t2228=_step1486.value;_t2228.setAttribute("data-selected",""),_t2228[vg]=Date.now();}}catch(err){_iterator1486.e(err);}finally{_iterator1486.f();}}}}}},{key:"Zw",value:function Zw(t){var _this887=this;var e=this.Js.board,i=this.w_().filter(function(t){return t.hasAttribute("data-selected");}),s=i.filter(function(t){return t.matches(".family-item");}),n=i.filter(function(t){return t.matches(".font-item");});if(s.length>0&&n.length>0)return;var o,l,_h278,a=null,r="start",d=this["#main"].getBoundingClientRect(),c=null,p=0;this.u_=!0,this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var u=function u(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;p=t,null===c&&(c=setInterval(function(){return _this887["#items"].scrollTop+=p;},10));},x=function x(){null!==c&&(clearInterval(c),c=null);},b=function b(){var t=_this887.Qs.pointerClientPoint,e=_this887._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this887._shadowRoot&&(e=null),a=e?e.closest(".item"):null,a){var _e1593=a.getBoundingClientRect();if(r=t.y<_e1593.y+_e1593.height/2?"start":"end",a.hasAttribute("data-expanded")&&"end"===r&&(a=a.querySelector(".item"),r="start",_e1593=a.getBoundingClientRect()),_this887.Kw(i,a,r)){var _t2229=a.offsetTop-_this887["#items"].scrollTop;if(a.matches(".font-item")){_t2229+=a.closest(".family-item").offsetTop;}"end"===r&&(_t2229+=_e1593.height),_this887["#drop-indicator"].hidden=!1,_this887["#drop-indicator"].style.top=_t2229-1+"px",_this887["#drop-indicator"].style.marginLeft=(a.matches(".font-item")?34:18)+"px";}else a=null,_this887["#drop-indicator"].hidden=!0;}else _this887["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",l=function l(t){b();}),this["#items"].addEventListener("pointermove",o=function o(t){t.clientX>d.left&&t.clientX<d.right&&(t.clientY<d.top+20?u(-3):t.clientY>d.bottom-20?u(3):x()),b();}),this["#items"].addEventListener("lostpointercapture",_h278=function h(t){if(_this887["#items"].removeEventListener("pointermove",o),_this887["#items"].removeEventListener("scroll",l),_this887["#items"].removeEventListener("lostpointercapture",_h278),_this887["#items"].style.cursor=null,_this887["#drop-indicator"].hidden=!0,x(),e.isPointOverBoard(t.clientX,t.clientY)){e.undoManager.checkpoint("Text");var _s854=i[0].querySelector(".label"),_n629=e.currentContainer||e.currentWorkspace,_o502=jt(_n629).inverse(),_l377=new DOMPoint(t.clientX,t.clientY).matrixTransform(_o502),_h277=Z(_l377.x,e.geometryPrecision),_a220=Z(_l377.y,e.geometryPrecision),_getComputedStyle7=getComputedStyle(_s854),_r148=_getComputedStyle7.fontFamily,_d115=_getComputedStyle7.fontSize,_c87=_getComputedStyle7.fontStyle,_p77=_getComputedStyle7.fontWeight;_d115=parseFloat(_d115)/e.scale+"px";var _u64=zi("svg:text");_u64.style.fontFamily=_r148,_u64.style.fontSize=_d115,_u64.style.fontStyle=_c87,_u64.style.fontWeight=_p77,_u64.setAttribute("x",_h277),_u64.setAttribute("y",_a220),_u64.textContent=_s854.textContent,_n629.append(_u64);var _x167=Ci(_u64);_u64.setAttribute("x",_h277-_x167.width/2),_u64.setAttribute("y",_a220+_x167.height/3),e.selectedElements=[_u64],_this887.Iv();}else if(a&&s.length>0){if("start"===r){var _iterator1487=_createForOfIteratorHelper(i),_step1487;try{for(_iterator1487.s();!(_step1487=_iterator1487.n()).done;){var _t2230=_step1487.value;a.before(_t2230);}}catch(err){_iterator1487.e(err);}finally{_iterator1487.f();}}else{var _iterator1488=_createForOfIteratorHelper(i),_step1488;try{for(_iterator1488.s();!(_step1488=_iterator1488.n()).done;){var _t2231=_step1488.value;a.after(_t2231);}}catch(err){_iterator1488.e(err);}finally{_iterator1488.f();}}{var _t2232=_toConsumableArray(_this887["#items"].querySelectorAll(".family-item")).map(function(t){return t.getAttribute("data-family");});e.fontsManager.reorderFamilies(_t2232);}}_this887.u_=!1;});}},{key:"wv",value:function wv(){this.Fv(),this.Lu();}},{key:"Vw",value:function Vw(t){var e=t.target.closest("x-menuitem");e&&("add-from-disk"===e.value?this.v_():"add-from-library"===e.value&&this.y_());}},{key:"v_",value:function(){var _v_=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee141(){var t,e,_iterator1489,_step1489,_i1481,_t2234,_s855,_n630,_i1482,_o503,_l378,_t2233,_iterator1490,_step1490,_e1594;return regeneratorRuntime.wrap(function _callee141$(_context142){while(1){switch(_context142.prev=_context142.next){case 0:_context142.next=2;return Qi(500);case 2:_context142.next=4;return this.Qs.openLocalFontsImportDialog();case 4:t=_context142.sent;e=[];_iterator1489=_createForOfIteratorHelper(t);_context142.prev=7;_iterator1489.s();case 9:if((_step1489=_iterator1489.n()).done){_context142.next=19;break;}_i1481=_step1489.value;_t2234="url("+_i1481.data+")";_s855={};_context142.next=15;return zp(_i1481.data);case 15:_n630=_context142.sent;if(_n630){_i1482=_n630.names.fontFamily.en,_o503=_n630.names.fontSubfamily.en.toLowerCase();_o503=si(_o503," ",""),_o503=si(_o503,"-",""),_o503=si(_o503,"_",""),_o503.includes("italic")?_s855.style="italic":_o503.includes("oblique")&&(_s855.style="oblique"),_o503.includes("thin")?_s855.weight="100":_o503.includes("extralight")?_s855.weight="200":_o503.includes("light")?_s855.weight="300":_o503.includes("medium")?_s855.weight="500":_o503.includes("semibold")?_s855.weight="600":_o503.includes("bold")?_s855.weight="700":_o503.includes("extrabold")?_s855.weight="800":_o503.includes("ultrabold")&&(_s855.weight="900");_l378=new FontFace(_i1482,_t2234,_s855);_l378.src=_t2234,e.push(_l378);}else this.Qs.openMessageDialog({message:"Can't add a font",detail:"Unsupported font format.",buttons:["OK"]});case 17:_context142.next=9;break;case 19:_context142.next=24;break;case 21:_context142.prev=21;_context142.t0=_context142["catch"](7);_iterator1489.e(_context142.t0);case 24:_context142.prev=24;_iterator1489.f();return _context142.finish(24);case 27:if(e.length>0){this.Js.board.undoManager.checkpoint("Add fonts"),this.Js.board.fontsManager.addFonts(e);_t2233=e.map(function(t){return t.family;});_t2233=ti(_t2233);_iterator1490=_createForOfIteratorHelper(_t2233);try{for(_iterator1490.s();!(_step1490=_iterator1490.n()).done;){_e1594=_step1490.value;this.Js.board.fontsManager.pinFamily(_e1594);}}catch(err){_iterator1490.e(err);}finally{_iterator1490.f();}}case 28:case"end":return _context142.stop();}}},_callee141,this,[[7,21,24,27]]);}));function v_(){return _v_.apply(this,arguments);}return v_;}()},{key:"y_",value:function y_(){this.Js.togglePrimaryPanel("library-panel"),this.Js.libraryPanel.toggleBrowser("fonts-library-browser");}},{key:"vn",value:function vn(t){if(this["#search-input"].matches(":focus"))return;var e=eo.fromEvent(t);if(e.matches("Enter")){var _t2235=this["#items"].querySelector(".item[data-family-name-edited]"),_e1595=this["#items"].querySelector(".item[data-selected]");_t2235?this.focus():_e1595&&_e1595.matches(".family-item")&&this.f_(_e1595);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-family-name-edited]")||(t.stopPropagation(),t.preventDefault(),this.zv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-family-name-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-family-name-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru());}else if(e.matches("ArrowRight")){var _e1596=this["#items"].querySelector(".item[data-family-name-edited]"),_i1483=this["#items"].querySelectorAll(".item[data-selected]");!_e1596&&1===_i1483.length&&_i1483[0].matches(".family-item")&&(t.preventDefault(),t.stopPropagation(),this.nv(_i1483[0]));}else if(e.matches("ArrowLeft")){var _e1597=this["#items"].querySelector(".item[data-family-name-edited]"),_i1484=this["#items"].querySelectorAll(".item[data-selected]");!_e1597&&1===_i1484.length&&_i1484[0].matches(".family-item")&&(t.preventDefault(),t.stopPropagation(),this.sv(_i1484[0]));}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-family-name-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-family-name-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru(!0));}}},{key:"featureFamily",value:function featureFamily(t){this["#search-input"].value="",this.Fv(),this.Lu();var _iterator1491=_createForOfIteratorHelper(this["#items"].children),_step1491;try{for(_iterator1491.s();!(_step1491=_iterator1491.n()).done;){var _e1598=_step1491.value;_e1598.dataset.family!==t&&(_e1598.removeAttribute("data-selected"),this.sv(_e1598,!1));}}catch(err){_iterator1491.e(err);}finally{_iterator1491.f();}var _iterator1492=_createForOfIteratorHelper(this["#items"].children),_step1492;try{for(_iterator1492.s();!(_step1492=_iterator1492.n()).done;){var _e1599=_step1492.value;if(_e1599.dataset.family===t){_e1599.setAttribute("data-selected",""),this.nv(_e1599,!1),_e1599.scrollIntoViewIfNeeded(),_e1599[vg]=Date.now();break;}}}catch(err){_iterator1492.e(err);}finally{_iterator1492.f();}}},{key:"nv",value:function(){var _nv=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee142(t){var e,_i1485,_t2236,_e1600,_s856,_args143=arguments;return regeneratorRuntime.wrap(function _callee142$(_context143){while(1){switch(_context143.prev=_context143.next){case 0:e=_args143.length>1&&_args143[1]!==undefined?_args143[1]:!0;if(!(!1===t.hasAttribute("data-expanded"))){_context143.next=11;break;}_i1485=t.querySelector(".font-items");if(!(_i1485.hidden=!1,t.setAttribute("data-expanded",""),e)){_context143.next=11;break;}this.x_=!0;_t2236=getComputedStyle(_i1485).marginTop,_e1600="0px";"0px"===_t2236&&(_t2236="-"+getComputedStyle(_i1485).height);_s856=_i1485.animate({marginTop:[_t2236,_e1600]},{duration:250,easing:"ease"});_context143.next=10;return _s856.finished;case 10:this.x_=!1;case 11:case"end":return _context143.stop();}}},_callee142,this);}));function nv(_x168){return _nv.apply(this,arguments);}return nv;}()},{key:"sv",value:function(){var _sv2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee143(t){var e,_i1486,_t2237,_e1601,_s857,_args144=arguments;return regeneratorRuntime.wrap(function _callee143$(_context144){while(1){switch(_context144.prev=_context144.next){case 0:e=_args144.length>1&&_args144[1]!==undefined?_args144[1]:!0;if(!t.hasAttribute("data-expanded")){_context144.next=10;break;}_i1486=t.querySelector(".font-items");if(!(t.removeAttribute("data-expanded"),e)){_context144.next=9;break;}this.x_=!0;_t2237=getComputedStyle(_i1486).marginTop,_e1601="-"+getComputedStyle(_i1486).height,_s857=_i1486.animate({marginTop:[_t2237,_e1601]},{duration:250,easing:"ease"});_context144.next=8;return _s857.finished;case 8:this.x_=!1;case 9:!1===t.hasAttribute("data-expanded")&&(_i1486.hidden=!0);case 10:case"end":return _context144.stop();}}},_callee143,this);}));function sv(_x169){return _sv2.apply(this,arguments);}return sv;}()},{key:"Ru",value:function Ru(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.w_(),i=e.filter(function(t){return t.hasAttribute("data-selected");});if(i.length>0){var _s858=i[i.length-1],_n631=e.indexOf(_s858),_o504=e[_n631+1];if(_o504){if(_o504.scrollIntoViewIfNeeded(),t)_o504.setAttribute("data-selected",""),_o504[vg]=Date.now();else{var _iterator1493=_createForOfIteratorHelper(e),_step1493;try{for(_iterator1493.s();!(_step1493=_iterator1493.n()).done;){var _t2238=_step1493.value;_t2238===_o504?(_t2238.setAttribute("data-selected",""),_t2238[vg]=Date.now()):_t2238.removeAttribute("data-selected");}}catch(err){_iterator1493.e(err);}finally{_iterator1493.f();}}}else if(!1===t&&_n631===e.length-1&&i.length>1){var _iterator1494=_createForOfIteratorHelper(e),_step1494;try{for(_iterator1494.s();!(_step1494=_iterator1494.n()).done;){var _t2239=_step1494.value;_t2239===_s858?(_t2239.setAttribute("data-selected",""),_t2239[vg]=Date.now()):_t2239.removeAttribute("data-selected");}}catch(err){_iterator1494.e(err);}finally{_iterator1494.f();}}}}},{key:"Bu",value:function Bu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.w_(),i=e.filter(function(t){return t.hasAttribute("data-selected");});if(i.length>0){var _s859=i[0],_n632=e.indexOf(_s859),_o505=e[_n632-1];if(_o505){if(_o505.scrollIntoViewIfNeeded(),t)_o505.setAttribute("data-selected",""),_o505[vg]=Date.now();else{var _iterator1495=_createForOfIteratorHelper(e),_step1495;try{for(_iterator1495.s();!(_step1495=_iterator1495.n()).done;){var _t2240=_step1495.value;_t2240===_o505?(_t2240.setAttribute("data-selected",""),_t2240[vg]=Date.now()):_t2240.removeAttribute("data-selected");}}catch(err){_iterator1495.e(err);}finally{_iterator1495.f();}}}else if(!1===t&&0===_n632&&i.length>1){var _iterator1496=_createForOfIteratorHelper(e),_step1496;try{for(_iterator1496.s();!(_step1496=_iterator1496.n()).done;){var _t2241=_step1496.value;_t2241===_s859?(_t2241.setAttribute("data-selected",""),_t2241[vg]=Date.now()):_t2241.removeAttribute("data-selected");}}catch(err){_iterator1496.e(err);}finally{_iterator1496.f();}}}}},{key:"uv",value:function uv(){var t=this.w_();var _iterator1497=_createForOfIteratorHelper(t),_step1497;try{for(_iterator1497.s();!(_step1497=_iterator1497.n()).done;){var _e1602=_step1497.value;_e1602.setAttribute("data-selected",""),_e1602[vg]=Date.now();}}catch(err){_iterator1497.e(err);}finally{_iterator1497.f();}}},{key:"bv",value:function bv(){var t=this.w_().filter(function(t){return t.hasAttribute("data-selected");});if(t.length>0){var _iterator1498=_createForOfIteratorHelper(t),_step1498;try{for(_iterator1498.s();!(_step1498=_iterator1498.n()).done;){var _e1603=_step1498.value;_e1603.removeAttribute("data-selected");}}catch(err){_iterator1498.e(err);}finally{_iterator1498.f();}}}},{key:"zv",value:function(){var _zv7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee144(){var t,e,i,s,n,o,_e1604,_t2242,_i1487,_s860,_iterator1499,_step1499,_e1606,_iterator1500,_step1500,_e1607,_i1488,_e1605,_t2243;return regeneratorRuntime.wrap(function _callee144$(_context145){while(1){switch(_context145.prev=_context145.next){case 0:t=this.Js.board,e=this.w_(),i=e.filter(function(t){return t.matches(".family-item[data-selected]");}),s=e.filter(function(t){return t.matches(".font-item[data-selected]");}),n=i.map(function(t){return t.getAttribute("data-family");}),o=s.map(function(t){return t[fg];});if(!(o=o.filter(function(t){return!1===n.includes(t.family);}),n.length>0||o.length>0)){_context145.next=18;break;}_e1604=[];if(!(_e1604.length>0)){_context145.next=11;break;}_t2242=1===o.length?"a font":"".concat(o.length," fonts");_i1487=1===_e1604.length?"1 text":"".concat(_e1604.length," texts");_context145.next=8;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:"Delete ".concat(_t2242," applied to ").concat(_i1487,"?"),detail:"Deleting a font also removes it from all texts it was applied to."});case 8:_s860=_context145.sent;if(!(-1===_s860||1===_s860)){_context145.next=11;break;}return _context145.abrupt("return");case 11:t.undoManager.checkpoint("Delete fonts");_iterator1499=_createForOfIteratorHelper(n);try{for(_iterator1499.s();!(_step1499=_iterator1499.n()).done;){_e1606=_step1499.value;t.fontsManager.removeFamily(_e1606);}}catch(err){_iterator1499.e(err);}finally{_iterator1499.f();}_iterator1500=_createForOfIteratorHelper(o);try{for(_iterator1500.s();!(_step1500=_iterator1500.n()).done;){_e1607=_step1500.value;t.fontsManager.removeFont(_e1607);}}catch(err){_iterator1500.e(err);}finally{_iterator1500.f();}for(_i1488=0,_e1605=_e1604;_i1488<_e1605.length;_i1488++){_t2243=_e1605[_i1488];_t2243.style.fontFamily=null;}this.qs();case 18:case"end":return _context145.stop();}}},_callee144,this);}));function zv(){return _zv7.apply(this,arguments);}return zv;}()},{key:"w_",value:function w_(){var t=this["#items"].querySelectorAll(".item");return t=_toConsumableArray(t).filter(function(t){if(t.matches(".family-item"))return!1===t.hidden;if(t.matches(".font-item")){var _e1608=t.closest(".family-item");return!1===_e1608.hidden&&_e1608.hasAttribute("data-expanded");}}),t;}},{key:"Ov",value:function Ov(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),i=_toConsumableArray(t.workspaces.querySelectorAll("style[data-bx-fonts]")),s=e.filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t.dataset.family;}),n=i.filter(function(t){return s.includes(t.dataset.bxFonts);}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(n.length>0){t.undoManager.checkpoint("Pin font"+n.length>1?"s":"");var _iterator1501=_createForOfIteratorHelper(n),_step1501;try{for(_iterator1501.s();!(_step1501=_iterator1501.n()).done;){var _t2244=_step1501.value;_t2244.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1501.e(err);}finally{_iterator1501.f();}}}},{key:"Ev",value:function Ev(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),i=_toConsumableArray(t.workspaces.querySelectorAll("style[data-bx-fonts]")),s=e.filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t.dataset.family;}),n=i.filter(function(t){return s.includes(t.dataset.bxFonts);}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(n.length>0){t.undoManager.checkpoint("Unpin font"+n.length>1?"s":"");var _iterator1502=_createForOfIteratorHelper(n),_step1502;try{for(_iterator1502.s();!(_step1502=_iterator1502.n()).done;){var _t2245=_step1502.value;_t2245.removeAttribute("data-bx-pinned");}}catch(err){_iterator1502.e(err);}finally{_iterator1502.f();}}}},{key:"Kw",value:function Kw(t,e,i){var s=t.filter(function(t){return t.matches(".family-item");}),n=t.filter(function(t){return t.matches(".font-item");}),o=this.w_();if(s.length>0&&n>0)return!1;if(1===n.length){var _t2246=n[0],_s861=o.indexOf(e);if(e===_t2246||e.matches(".family-item"))return!1;if(e.closest(".family-item")!==_t2246.closest(".family-item"))return!1;if("start"===i){if(o[_s861-1]===_t2246)return!1;}else if("end"===i){if(o[_s861+1]===_t2246)return!1;}}else if(1===s.length){if(e===t[0]||e.matches(".font-item"))return!1;var _n633=s[0],_l379=o.indexOf(e);if("start"===i){if(o[_l379-1]===_n633)return!1;}else if("end"===i){if(o[_l379+1]===_n633)return!1;}}else if(s.length>1&&e.matches(".font-item"))return!1;return!0;}},{key:"m_",value:function m_(t){this.Js.board.undoManager.checkpoint("Pin font family"),this.Js.board.workspaces.querySelector("style[data-bx-fonts=\"".concat(t,"\"]")).setAttribute("data-bx-pinned","true");}},{key:"g_",value:function g_(t){this.Js.board.undoManager.checkpoint("Unpin font family"),this.Js.board.workspaces.querySelector("style[data-bx-fonts=\"".concat(t,"\"]")).removeAttribute("data-bx-pinned");}},{key:"f_",value:function f_(t){var _this888=this;{var _e1609=this["#items"].querySelector(".item[data-family-name-edited]");if(_e1609){if(_e1609===t)return;this.k_();}}this.Js.board;var e=t.querySelector(".label"),i=t.getAttribute("data-family"),s=Yi(_templateObject65(),i);e.after(s),s.selectAll(),Qi(10).then(function(){return s.querySelector("x-label").hidden=!1;}),e.hidden=!0,t.setAttribute("data-family-name-edited",""),s.addEventListener("input",function(){null!==s.error?t.setAttribute("data-invalid",""):t.removeAttribute("data-invalid");}),s.addEventListener("focusout",function(){t.removeAttribute("data-invalid"),_this888.k_();}),s.validate=function(){s.error=0===s.value.length?"Family must have name":null;};}},{key:"k_",value:function k_(){var t=this["#items"].querySelector(".item[data-family-name-edited]");if(t){var _e1610=this.Js.board,_i1489=t.querySelector(".label"),_s862=t.querySelector("x-input");if(_s862.remove(),_i1489.hidden=!1,t.removeAttribute("data-family-name-edited"),null===_s862.error){var _i1490=t.getAttribute("data-family"),_n634=_s862.value.trim();_i1490!==_n634&&_e1610.fontsManager.renameFamily(_i1490,_n634);}}}},{key:"b_",value:function b_(t){var e=this.Js.board,i=this.S_()[t];e.selectedElements=i?_toConsumableArray(i):[];}},{key:"S_",value:function S_(){var t={},e=this.Js.board.masterWorkspace.querySelectorAll("text");var _iterator1503=_createForOfIteratorHelper(e),_step1503;try{for(_iterator1503.s();!(_step1503=_iterator1503.n()).done;){var _i1491=_step1503.value;var _e1611=[],_s863=bi(_i1491);var _iterator1504=_createForOfIteratorHelper(_s863),_step1504;try{for(_iterator1504.s();!(_step1504=_iterator1504.n()).done;){var _t2247=_step1504.value;var _i1493=_t2247.closest("text, textPath, tspan, a"),_s865=kp.fromString(getComputedStyle(_i1493).fontFamily);if(_s865&&_s865.items.length>0){var _t2248=_s865.items[0];!1===_e1611.includes(_t2248)&&_e1611.push(_t2248);}}}catch(err){_iterator1504.e(err);}finally{_iterator1504.f();}for(var _i1492=0,_e1612=_e1611;_i1492<_e1612.length;_i1492++){var _s864=_e1612[_i1492];void 0===t[_s864]&&(t[_s864]=[]),t[_s864].push(_i1491);}}}catch(err){_iterator1503.e(err);}finally{_iterator1503.f();}return t;}},{key:"qs",value:function qs(){if(this.u_||this.x_)this.yy();else{{var _t2249=_toConsumableArray(this["#items"].querySelectorAll(".family-item[data-selected]")),_e1613=_toConsumableArray(this["#items"].querySelectorAll(".font-item[data-selected]")),_i1494=_toConsumableArray(this["#items"].querySelectorAll(".family-item[data-expanded]")),_s866=_t2249.map(function(t){return t.getAttribute("data-family");}),_n635=_i1494.map(function(t){return t.getAttribute("data-family");}),_o506=_e1613.map(function(t){return t[fg];}),_l380=document.createDocumentFragment();var _iterator1505=_createForOfIteratorHelper(this.Js.board.fontsManager.getFamilies()),_step1505;try{for(_iterator1505.s();!(_step1505=_iterator1505.n()).done;){var _t2250=_step1505.value;var _e1614=this.Js.board.fontsManager.getFamilyFonts(_t2250),_i1495=Yi(_templateObject66(),_t2250,_t2250,_t2250);_s866.includes(_t2250)&&(_i1495.setAttribute("data-selected",""),_i1495[vg]=Date.now()),_n635.includes(_t2250)&&(_i1495.setAttribute("data-expanded",""),_i1495.querySelector(".font-items").removeAttribute("hidden"));var _iterator1506=_createForOfIteratorHelper(_e1614),_step1506;try{for(_iterator1506.s();!(_step1506=_iterator1506.n()).done;){var _s867=_step1506.value;var _e1615=Gp(_s867),_n636="\n            font-size: 16px;\n            font-family: '".concat(_t2250,"';\n            font-weight: ").concat(_s867.weight,";\n            font-style: ").concat(_s867.style,";\n            font-stetch: ").concat(_s867.stretch,";\n          "),_l381=Yi(_templateObject67(),_n636,_e1615);var _iterator1507=_createForOfIteratorHelper(_o506),_step1507;try{for(_iterator1507.s();!(_step1507=_iterator1507.n()).done;){var _t2251=_step1507.value;if(_s867.family===_t2251.family&&_s867.style===_t2251.style&&_s867.weight===_t2251.weight&&_s867.stretch===_t2251.stretch&&_s867.unicodeRange===_t2251.unicodeRange&&_s867.variant===_t2251.variant&&_s867.featureSettings===_t2251.featureSettings){_l381.setAttribute("data-selected",""),_l381[vg]=Date.now();break;}}}catch(err){_iterator1507.e(err);}finally{_iterator1507.f();}_l381[fg]=_s867,_i1495.querySelector(".font-items").append(_l381);}}catch(err){_iterator1506.e(err);}finally{_iterator1506.f();}_i1495[wg]=_e1614,_l380.append(_i1495),this.jv(_i1495);}}catch(err){_iterator1505.e(err);}finally{_iterator1505.f();}this["#items"].innerHTML="",this["#items"].append(_l380);}this.Iv(),this.Mv(),this.Lu();}}},{key:"Fv",value:function Fv(){var _iterator1508=_createForOfIteratorHelper(this["#items"].children),_step1508;try{for(_iterator1508.s();!(_step1508=_iterator1508.n()).done;){var _t2252=_step1508.value;this.jv(_t2252);}}catch(err){_iterator1508.e(err);}finally{_iterator1508.f();}}},{key:"Lu",value:function Lu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"jv",value:function jv(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Iv",value:function Iv(){var t=this.S_();var _iterator1509=_createForOfIteratorHelper(this["#items"].children),_step1509;try{for(_iterator1509.s();!(_step1509=_iterator1509.n()).done;){var _e1616=_step1509.value;var _i1496=_e1616.querySelector(".counter-button"),_s868=t[_e1616.dataset.family],_n637=_s868?_s868.length:0;0===_n637?(_i1496.setAttribute("hidden",""),_i1496.firstElementChild.textContent="0"):(_i1496.setAttribute("title",1===_n637?"Select 1 font family user":"Select ".concat(_n637," font family users")),_i1496.removeAttribute("hidden"),_i1496.firstElementChild.textContent=_n637);}}catch(err){_iterator1509.e(err);}finally{_iterator1509.f();}}},{key:"Mv",value:function Mv(){if("unpinned"===this._v.fonts){var _iterator1510=_createForOfIteratorHelper(this["#items"].children),_step1510;try{for(_iterator1510.s();!(_step1510=_iterator1510.n()).done;){var _t2253=_step1510.value;var _e1617=_t2253.dataset.family,_i1497=_t2253.querySelector(".pin-button"),_s869=this.Js.board.workspaces.querySelector("style[data-bx-fonts=\"".concat(_e1617,"\"]"));_i1497.hidden=!1,_i1497.toggled=_s869.hasAttribute("data-bx-pinned");}}catch(err){_iterator1510.e(err);}finally{_iterator1510.f();}}else{var _iterator1511=_createForOfIteratorHelper(this["#items"].children),_step1511;try{for(_iterator1511.s();!(_step1511=_iterator1511.n()).done;){var _t2254=_step1511.value;_t2254.querySelector(".pin-button").hidden=!0;}}catch(err){_iterator1511.e(err);}finally{_iterator1511.f();}}}}]);return yg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(yg,"observedAttributes",["enabled"]);_defineProperty(yg,"_shadowTemplate",Yi(_templateObject437()));_defineProperty(yg,"_shadowStyleSheet",Wi(_templateObject438()));customElements.define("bx-fontsbrowser",yg);var kg=/*#__PURE__*/function(_HTMLElement120){_inherits(kg,_HTMLElement120);var _super192=_createSuper(kg);_createClass(kg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function kg(){var _this889;_classCallCheck(this,kg);_this889=_super192.call(this),_this889._shadowRoot=_this889.attachShadow({mode:"closed"}),_this889._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,kg._shadowStyleSheet],_this889._shadowRoot.append(document.importNode(kg._shadowTemplate.content,!0));var _iterator1512=_createForOfIteratorHelper(_this889._shadowRoot.querySelectorAll("[id]")),_step1512;try{for(_iterator1512.s();!(_step1512=_iterator1512.n()).done;){var _t2255=_step1512.value;_this889["#"+_t2255.id]=_t2255;}}catch(err){_iterator1512.e(err);}finally{_iterator1512.f();}var _iterator1513=_createForOfIteratorHelper(_this889["#main"].children),_step1513;try{for(_iterator1513.s();!(_step1513=_iterator1513.n()).done;){var _t2256=_step1513.value;_this889[oi(_t2256.id)]=_t2256;}}catch(err){_iterator1513.e(err);}finally{_iterator1513.f();}_this889["#buttons"].addEventListener("toggle",function(){return _this889.toggleBrowser(_this889["#buttons"].value);});return _this889;}_createClass(kg,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var t=this.Qs.getConfig("bx-defspanel:currentBrowserID","gradients-browser");this.toggleBrowser(t);}},{key:"sn",value:function sn(){this.toggleBrowser(null);}},{key:"editColor",value:function editColor(t){this.toggleBrowser("colors-browser"),this["#colors-browser"].editColor(t);}},{key:"editGradient",value:function editGradient(t){this.toggleBrowser("gradients-browser"),this["#gradients-browser"].editGradient(t);}},{key:"editFilter",value:function editFilter(t){this.toggleBrowser("filters-browser"),this["#filters-browser"].editFilter(t);}},{key:"toggleBrowser",value:function toggleBrowser(t){this["#buttons"].value=t;var _iterator1514=_createForOfIteratorHelper(this["#main"].children),_step1514;try{for(_iterator1514.s();!(_step1514=_iterator1514.n()).done;){var _e1618=_step1514.value;null!==t&&_e1618.id===t?_e1618.enabled=!0:_e1618.enabled=!1;}}catch(err){_iterator1514.e(err);}finally{_iterator1514.f();}null!==t&&this.Qs.setConfig("bx-defspanel:currentBrowserID",t);}}]);return kg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(kg,"observedAttributes",["enabled"]);_defineProperty(kg,"_shadowTemplate",Yi(_templateObject439()));_defineProperty(kg,"_shadowStyleSheet",Wi(_templateObject440()));customElements.define("bx-defspanel",kg);var Sg=Symbol();var _g=/*#__PURE__*/function(_HTMLElement121){_inherits(_g,_HTMLElement121);var _super193=_createSuper(_g);_createClass(_g,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function _g(){var _this890;_classCallCheck(this,_g);_this890=_super193.call(this),_this890.__=null,_this890.gv=0,_this890.C_=!1,_this890._shadowRoot=_this890.attachShadow({mode:"closed"}),_this890._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,_g._shadowStyleSheet],_this890._shadowRoot.append(document.importNode(_g._shadowTemplate.content,!0));var _iterator1515=_createForOfIteratorHelper(_this890._shadowRoot.querySelectorAll("[id]")),_step1515;try{for(_iterator1515.s();!(_step1515=_iterator1515.n()).done;){var _t2257=_step1515.value;_this890["#"+_t2257.id]=_t2257;}}catch(err){_iterator1515.e(err);}finally{_iterator1515.f();}_this890["#items"].addEventListener("scroll",function(){return _this890.fv();}),_this890["#items"].addEventListener("pointerdown",function(t){return _this890.Qc(t);}),_this890["#items"].addEventListener("click",function(t){return _this890.Jc(t);}),_this890["#items"].addEventListener("contextmenu",function(t){return _this890.tp(t);}),_this890["#items"].addEventListener("keydown",function(t){return _this890.ep(t);}),_this890["#add-to-defs-button"].addEventListener("click",function(){return _this890.M_();}),_this890["#add-to-canvas-button"].addEventListener("click",function(){return _this890.P_();}),_this890["#search-input"].addEventListener("input",function(){return _this890.wv();});return _this890;}_createClass(_g,[{key:"connectedCallback",value:function connectedCallback(){if(this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),"bx-chromeapp"!==this.Qs.localName){var _iterator1516=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[target="_blank"]')),_step1516;try{for(_iterator1516.s();!(_step1516=_iterator1516.n()).done;){var _t2258=_step1516.value;_t2258.setAttribute("rel","noopener");}}catch(err){_iterator1516.e(err);}finally{_iterator1516.f();}}this["#items"].scrollTop=this.gv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this891=this;!1===this.C_&&(this.C_=!0,this.Gu()),!1===this["#items"].isConnected&&(this["#main"].prepend(this["#items"]),Qi(10).then(function(){return _this891["#items"].scrollTop=_this891.gv;})),window.addEventListener("resize",this.nn=function(){_this891.kv();});}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this["#items"].remove(),this["#item-popover"].opened&&this["#item-popover"].close(!1);}},{key:"kv",value:function kv(){this["#item-popover"].opened&&this["#item-popover"].close();}},{key:"fv",value:function fv(){this.gv=this["#items"].scrollTop,this["#item-popover"].opened&&this["#item-popover"].close();}},{key:"ep",value:function ep(t){var e=eo.fromEvent(t),i=this["#items"].querySelector(".item[data-selected]");i&&(e.matches("Enter")?this.nv(i):e.matches("ArrowDown")&&i.nextElementSibling?(t.stopPropagation(),t.preventDefault(),this.D_(i.nextElementSibling)):e.matches("ArrowUp")&&i.previousElementSibling&&(t.stopPropagation(),t.preventDefault(),this.D_(i.previousElementSibling)));}},{key:"M_",value:function M_(){var t=this.Js.board,e=this["#items"].querySelector(".item[data-selected]")[Sg],i=document.createDocumentFragment(),s=[];t.undoManager.checkpoint("Add colors from library");var _iterator1517=_createForOfIteratorHelper(e.colors),_step1517;try{for(_iterator1517.s();!(_step1517=_iterator1517.n()).done;){var _n638=_step1517.value;var _e1619=zi("svg:linearGradient");_e1619.setAttribute("data-bx-pinned","true"),_e1619.id=t.generateUniqueID("color",i),_e1619.innerHTML="<stop style=\"stop-color: ".concat(_n638,";\"></stop>"),i.append(_e1619),s.push(_e1619.id);}}catch(err){_iterator1517.e(err);}finally{_iterator1517.f();}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i),this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("colors-browser"),this.Js.defsPanel.colorsBrowser.selectColors(s);}},{key:"P_",value:function(){var _P_=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee145(){var t,e,i,s,n,o,_t2259,_e1620,_e1621,_s870,_n639,_l382;return regeneratorRuntime.wrap(function _callee145$(_context146){while(1){switch(_context146.prev=_context146.next){case 0:t=this.Js.board,e=this["#items"].querySelector(".item[data-selected]"),i=e[Sg],s=t.getBoundingClientRect(!1,!0),n=e.getBoundingClientRect(),o=e.getBoundingClientRect();o.x=s.x+s.width/2-o.width/2,o.y=s.y+s.height/2-o.height/2,this["#item-popover"].close();_t2259=Yi(_templateObject68());_t2259.style.display="flex",_t2259.style.position="fixed",_t2259.style.left=n.left+"px",_t2259.style.top=n.top+"px",_t2259.style.width=n.width+"px",_t2259.style.height=n.height+"px",_t2259.style.zIndex="999999999",_t2259.style.pointerEvents="none",_t2259.style.background="linear-gradient(\n        to right,\n        ".concat(i.colors[0],"  0%, ").concat(i.colors[0],"  25%,\n        ").concat(i.colors[1]," 25%, ").concat(i.colors[1],"  50%,\n        ").concat(i.colors[2]," 50%, ").concat(i.colors[2],"  75%,\n        ").concat(i.colors[3]," 75%, ").concat(i.colors[3]," 100%\n      )"),document.body.append(_t2259);_e1620=_t2259.animate({left:[n.left+"px",o.left+"px"],top:[n.top+"px",o.top+"px"]},{duration:400,easing:"ease"});_context146.next=7;return _e1620.finished;case 7:_t2259.remove();t.undoManager.checkpoint("Add colors from library");_e1621=Z(o.width*(1/4),0),_s870=Z(o.height,0),_n639=qi(_templateObject69(),o.width,o.height,_e1621,_s870,i.colors[0],_e1621,_e1621,_s870,i.colors[1],2*_e1621,_e1621,_s870,i.colors[2],3*_e1621,_e1621,_s870,i.colors[3]),_l382=t.insertArtworkIntoBBox(_n639,o);t.selectedElements=[_l382],t.selectedTextRange=null;case 11:case"end":return _context146.stop();}}},_callee145,this);}));function P_(){return _P_.apply(this,arguments);}return P_;}()},{key:"Qc",value:function Qc(t){var _this892=this;if(0===t.button){var _e1623,_i1498,_s872,_n640=t.target.matches(".item")?t.target:null,_o507=new DOMPoint(t.clientX,t.clientY);_n640&&("touch"!==t.pointerType&&this.D_(_n640),_n640.setPointerCapture(t.pointerId),_n640.addEventListener("pointermove",_e1623=function _e1622(l){var h=new DOMPoint(l.clientX,l.clientY);De(_o507,h)>=5&&(_n640.removeEventListener("pointermove",_e1623),_n640.removeEventListener("pointerup",_i1498),_n640.removeEventListener("pointercancel",_s872),_this892.Zw(_n640,t));}),_n640.addEventListener("pointerup",_i1498=/*#__PURE__*/function(){var _ref141=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee146(t){return regeneratorRuntime.wrap(function _callee146$(_context147){while(1){switch(_context147.prev=_context147.next){case 0:_n640.removeEventListener("pointermove",_e1623),_n640.removeEventListener("pointerup",_i1498),_n640.removeEventListener("pointercancel",_s872);case 1:case"end":return _context147.stop();}}},_callee146);}));return function _i1498(_x170){return _ref141.apply(this,arguments);};}()),_n640.addEventListener("pointercancel",_s872=function _s871(){_n640.removeEventListener("pointermove",_e1623),_n640.removeEventListener("pointerup",_i1498),_n640.removeEventListener("pointercancel",_s872);}));}}},{key:"Zw",value:function Zw(t,e){var i,s,_n641,o,l=this.Js.board,h=t[Sg],a=t.getBoundingClientRect();this["#item-popover"].opened&&this["#item-popover"].close(),t.style.cursor="copy",t.setPointerCapture(e.pointerId),i=Yi(_templateObject70()),i.style.display="flex",i.style.position="fixed",i.style.left=a.left+"px",i.style.top=a.top+"px",i.style.width=a.width+"px",i.style.height=a.height+"px",i.style.zIndex="999999999",i.style.pointerEvents="none",i.style.background="linear-gradient(\n        to right,\n        ".concat(h.colors[0],"  0%, ").concat(h.colors[0],"  25%,\n        ").concat(h.colors[1]," 25%, ").concat(h.colors[1],"  50%,\n        ").concat(h.colors[2]," 50%, ").concat(h.colors[2],"  75%,\n        ").concat(h.colors[3]," 75%, ").concat(h.colors[3]," 100%\n      )"),document.body.append(i),t.addEventListener("pointermove",s=function s(t){var s=t.clientX-e.clientX,n=t.clientY-e.clientY;i.style.left=a.x+s+"px",i.style.top=a.y+n+"px";}),t.addEventListener("pointercancel",_n641=function n(){t.removeEventListener("pointermove",s),t.removeEventListener("pointercancel",_n641),t.removeEventListener("pointerup",o),t.style.cursor=null,i.remove();}),t.addEventListener("pointerup",o=/*#__PURE__*/function(){var _ref142=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee147(e){var _t2260,_e1624,_s873,_n642,_o508;return regeneratorRuntime.wrap(function _callee147$(_context148){while(1){switch(_context148.prev=_context148.next){case 0:if(t.removeEventListener("pointermove",s),t.removeEventListener("pointercancel",_n641),t.removeEventListener("pointerup",o),t.style.cursor=null,l.isPointOverBoard(e.clientX,e.clientY)){_t2260=i.getBoundingClientRect(),_e1624=Z(_t2260.width*(1/4),0),_s873=Z(_t2260.height,0),_n642=qi(_templateObject71(),a.width,a.height,_e1624,_s873,h.colors[0],_e1624,_e1624,_s873,h.colors[1],2*_e1624,_e1624,_s873,h.colors[2],3*_e1624,_e1624,_s873,h.colors[3]);l.undoManager.checkpoint("Add colors from library");_o508=l.insertArtworkIntoBBox(_n642,_t2260);l.selectedElements=[_o508],l.selectedTextRange=null,i.remove();}else i.remove();case 1:case"end":return _context148.stop();}}},_callee147);}));return function o(_x171){return _ref142.apply(this,arguments);};}());}},{key:"Jc",value:function Jc(t){var e=t.target.closest(".item");e&&(this.D_(e),2===t.detail&&this.nv(e));}},{key:"tp",value:function(){var _tp8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee148(t){var e;return regeneratorRuntime.wrap(function _callee148$(_context149){while(1){switch(_context149.prev=_context149.next){case 0:e=t.target.closest(".item");_context149.t0=e;if(!_context149.t0){_context149.next=8;break;}t.preventDefault();this.D_(e);_context149.next=7;return Qi(150);case 7:this.nv(e);case 8:case"end":return _context149.stop();}}},_callee148,this);}));function tp(_x172){return _tp8.apply(this,arguments);}return tp;}()},{key:"wv",value:function wv(){this.z_(),this["#items"].scrollTop=0;}},{key:"D_",value:function D_(t){{var _e1625=this["#items"].querySelector(":scope > .item[data-selected]");_e1625!==t&&(_e1625&&_e1625.removeAttribute("data-selected"),t.setAttribute("data-selected",""),t.scrollIntoViewIfNeeded());}this["#item-popover"].opened&&(this["#item-popover"].close(),this["#items"].focus());}},{key:"nv",value:function nv(t){this.O_();var e=t.getBoundingClientRect(),i=new DOMPoint(e.left,e.top+e.height/2);this["#item-popover"].open(i);}},{key:"Gu",value:function(){var _Gu=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee149(){var _iterator1518,_step1518,_t2261,_e1626;return regeneratorRuntime.wrap(function _callee149$(_context150){while(1){switch(_context150.prev=_context150.next){case 0:_context150.t0=this.__;if(_context150.t0){_context150.next=7;break;}_context150.next=4;return fetch("/metadata/palettes/colorhunt.json");case 4:_context150.next=6;return _context150.sent.json();case 6:this.__=_context150.sent;case 7:if(!(0===this["#items"].childElementCount)){_context150.next=10;break;}_iterator1518=_createForOfIteratorHelper(this.__);try{for(_iterator1518.s();!(_step1518=_iterator1518.n()).done;){_t2261=_step1518.value;_e1626=Yi(_templateObject72(),_t2261.id,_t2261.colors[0],_t2261.colors[0],_t2261.colors[1],_t2261.colors[1],_t2261.colors[2],_t2261.colors[2],_t2261.colors[3],_t2261.colors[3]);_e1626[Sg]=_t2261,this["#items"].append(_e1626);}}catch(err){_iterator1518.e(err);}finally{_iterator1518.f();}case 10:this.z_();case 11:case"end":return _context150.stop();}}},_callee149,this);}));function Gu(){return _Gu.apply(this,arguments);}return Gu;}()},{key:"z_",value:function z_(){var t=this["#search-input"].value.trim();if(""===t){var _iterator1519=_createForOfIteratorHelper(this["#items"].children),_step1519;try{for(_iterator1519.s();!(_step1519=_iterator1519.n()).done;){var _t2262=_step1519.value;_t2262.hidden=!1;}}catch(err){_iterator1519.e(err);}finally{_iterator1519.f();}this["#placeholder"].hidden=!0;}else{var _iterator1520=_createForOfIteratorHelper(this["#items"].children),_step1520;try{for(_iterator1520.s();!(_step1520=_iterator1520.n()).done;){var _e1627=_step1520.value;var _i1499=_e1627[Sg],_s874=!1;var _iterator1521=_createForOfIteratorHelper(_i1499.tags),_step1521;try{for(_iterator1521.s();!(_step1521=_iterator1521.n()).done;){var _e1628=_step1521.value;if(-1!==_e1628.indexOf(t)){_s874=!0;break;}}}catch(err){_iterator1521.e(err);}finally{_iterator1521.f();}_e1627.hidden=!1===_s874;}}catch(err){_iterator1520.e(err);}finally{_iterator1520.f();}null===this["#items"].querySelector(".item:not([hidden])")?(this["#placeholder"].hidden=!1,this["#placeholder"].textContent="No colors found."):this["#placeholder"].hidden=!0;}}},{key:"O_",value:function O_(){var t=this["#items"].querySelector(".item[data-selected]");if(t){var _e1629=t[Sg],_i1500="https://colorhunt.co/palette/".concat(_e1629.id);this["#item-tags-value"].textContent=_e1629.tags.map(function(t){return ni(t);}).join(", "),this["#item-colorhunt-anchor"].setAttribute("href",_i1500);}}}]);return _g;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(_g,"observedAttributes",["enabled"]);_defineProperty(_g,"_shadowTemplate",Yi(_templateObject441(),"https://creativecommons.org/publicdomain/zero/1.0/"));_defineProperty(_g,"_shadowStyleSheet",Wi(_templateObject442()));customElements.define("bx-colorslibrarybrowser",_g);var Cg={"http://scripts.sil.org/OFL":"SIL Open Font License","https://ubuntu.com/legal/font-licence":"Ubuntu Font Licence","http://www.apache.org/licenses/LICENSE-2.0.html":"Apache License"},Mg={"sans-serif":"Sans Serif",serif:"Serif",display:"Display",handwriting:"Handwriting",monospace:"Monospace"},Pg={arabic:"Arabic",bengali:"Bengali","chinese-hongkong":"Chinese (Hong Kong)","chinese-simplified":"Chinese (simplified)","chinese-traditional":"Chinese (traditional)",cyrillic:"Cyrillic","cyrillic-ext":"Cyrillic (extended)",devanagari:"Devanagari",greek:"Greek","greek-ext":"Greek (extended)",gujarati:"Gujarati",gurmukhi:"Gurmukhi",hebrew:"Hebrew",japanese:"Japanese",kannada:"Kannada",khmer:"Khmer",korean:"Korean",latin:"Latin","latin-ext":"Latin (extended)",malayalam:"Malayalam",myanmar:"Myanmar",oriya:"Oriya",sinhala:"Sinhala",tamil:"Tamil",thai:"Thai",telugu:"Telugu",vietnamese:"Vietnamese"},Dg=Symbol();var zg=/*#__PURE__*/function(_HTMLElement122){_inherits(zg,_HTMLElement122);var _super194=_createSuper(zg);_createClass(zg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function zg(){var _this893;_classCallCheck(this,zg);_this893=_super194.call(this),_this893.tc=null,_this893.E_=null,_this893.T_=null,_this893.gv=0,_this893.C_=!1,_this893._shadowRoot=_this893.attachShadow({mode:"closed"}),_this893._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,zg._shadowStyleSheet],_this893._shadowRoot.append(document.importNode(zg._shadowTemplate.content,!0));var _iterator1522=_createForOfIteratorHelper(_this893._shadowRoot.querySelectorAll("[id]")),_step1522;try{for(_iterator1522.s();!(_step1522=_iterator1522.n()).done;){var _t2263=_step1522.value;_this893["#"+_t2263.id]=_t2263;}}catch(err){_iterator1522.e(err);}finally{_iterator1522.f();}_this893["#items"].addEventListener("scroll",function(){return _this893.fv();}),_this893["#items"].addEventListener("pointerdown",function(t){return _this893.Qc(t);}),_this893["#items"].addEventListener("click",function(t){return _this893.Jc(t);}),_this893["#items"].addEventListener("contextmenu",function(t){return _this893.tp(t);}),_this893["#items"].addEventListener("keydown",function(t){return _this893.ep(t);}),_this893["#add-to-defs-button"].addEventListener("click",function(){return _this893.M_();}),_this893["#search-input"].addEventListener("input",function(){return _this893.wv();}),_this893["#sort-select"].addEventListener("change",function(){return _this893.Cm();}),_this893["#category-select"].addEventListener("change",function(){return _this893.A_();}),_this893["#subset-select"].addEventListener("change",function(){return _this893.I_();});return _this893;}_createClass(zg,[{key:"connectedCallback",value:function connectedCallback(){if(this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),"bx-chromeapp"!==this.Qs.localName){var _iterator1523=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[target="_blank"]')),_step1523;try{for(_iterator1523.s();!(_step1523=_iterator1523.n()).done;){var _t2264=_step1523.value;_t2264.setAttribute("rel","noopener");}}catch(err){_iterator1523.e(err);}finally{_iterator1523.f();}}this["#items"].scrollTop=this.gv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this894=this;!1===this.C_&&(this.C_=!0,this.L_(),this.Gu()),!1===this["#items"].isConnected&&(this["#main"].prepend(this["#items"]),Qi(10).then(function(){return _this894["#items"].scrollTop=_this894.gv;})),window.addEventListener("resize",this.nn=function(){_this894.kv();});}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this["#items"].remove(),this["#item-popover"].opened&&this["#item-popover"].close(!1);}},{key:"kv",value:function kv(){this["#item-popover"].opened&&this["#item-popover"].close();}},{key:"fv",value:function fv(){this.gv=this["#items"].scrollTop,this["#item-popover"].opened&&this["#item-popover"].close();}},{key:"ep",value:function ep(t){var e=eo.fromEvent(t),i=this["#items"].querySelector(".item[data-selected]");i&&(e.matches("Enter")?this.nv(i):e.matches("ArrowDown")&&i.nextElementSibling?(t.stopPropagation(),t.preventDefault(),this.D_(i.nextElementSibling)):e.matches("ArrowUp")&&i.previousElementSibling&&(t.stopPropagation(),t.preventDefault(),this.D_(i.previousElementSibling)));}},{key:"M_",value:function(){var _M_=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee150(){var t,e,i,_i1501,_Object$entries6,_Object$entries6$_i,_s875,_n643,_o509,_l383,_h279,_a221,_r149,_d116,_c88;return regeneratorRuntime.wrap(function _callee150$(_context151){while(1){switch(_context151.prev=_context151.next){case 0:t=this["#items"].querySelector(".item[data-selected]")[Dg],e=[],i=null;this["#add-to-defs-button"].disabled=!0;_i1501=0,_Object$entries6=Object.entries(t.urls);case 3:if(!(_i1501<_Object$entries6.length)){_context151.next=32;break;}_Object$entries6$_i=_slicedToArray(_Object$entries6[_i1501],2),_s875=_Object$entries6$_i[0],_n643=_Object$entries6$_i[1];_o509=null;_context151.prev=6;_context151.next=9;return fetch(_n643);case 9:_o509=_context151.sent;_context151.next=16;break;case 12:_context151.prev=12;_context151.t0=_context151["catch"](6);i=_context151.t0;return _context151.abrupt("break",32);case 16:_context151.next=18;return _o509.blob();case 18:_l383=_context151.sent;_context151.next=21;return Na(_l383);case 21:_context151.t1=_context151.sent;_context151.t2="url("+_context151.t1;_h279=_context151.t2+")";_a221=t.family;_r149=_s875.substring(0,3);_d116=_s875.includes("italic")?"italic":"normal";_c88=new FontFace(_a221,_h279,{family:_a221,weight:_r149,style:_d116});_c88.src=_h279,e.push(_c88);case 29:_i1501++;_context151.next=3;break;case 32:if(!i){_context151.next=34;break;}return _context151.abrupt("return",(this.Qs.openMessageDialog({buttons:["OK"],message:"Can't import \"".concat(t.family,"\" font family"),detail:"Unable to connect to Google Fonts server. Please try again later."}),void(this["#add-to-defs-button"].disabled=!1)));case 34:if(!this.Js.board.fontsManager.getFamilies().includes(t.family)){_context151.next=40;break;}_context151.next=37;return this.Qs.openMessageDialog({type:"question",buttons:["Override","Cancel"],message:"Font family already defined",detail:"This font family is already defined, do you want to override the existing definition?"});case 37:_context151.t3=_context151.sent;if(!(0!==_context151.t3)){_context151.next=40;break;}return _context151.abrupt("return",void(this["#add-to-defs-button"].disabled=!1));case 40:this.Js.board.undoManager.checkpoint("Add \"".concat(t.family,"\" font family to defs")),this.Js.board.fontsManager.removeFamily(t.family),this.Js.board.fontsManager.addFonts(e),this.Js.board.fontsManager.pinFamily(t.family),this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("fonts-browser"),this.Js.defsPanel.fontsBrowser.featureFamily(t.family),this["#add-to-defs-button"].disabled=!1;case 41:case"end":return _context151.stop();}}},_callee150,this,[[6,12]]);}));function M_(){return _M_.apply(this,arguments);}return M_;}()},{key:"Qc",value:function Qc(t){var _this895=this;if(0===t.button){var _e1631,_i1502,_s877,_n644=t.target.closest(".item"),_o510=new DOMPoint(t.clientX,t.clientY);_n644&&("touch"!==t.pointerType&&this.D_(_n644),_n644.setPointerCapture(t.pointerId),_n644.addEventListener("pointermove",_e1631=function _e1630(l){var h=new DOMPoint(l.clientX,l.clientY);De(_o510,h)>=5&&(_n644.removeEventListener("pointermove",_e1631),_n644.removeEventListener("pointerup",_i1502),_n644.removeEventListener("pointercancel",_s877),_this895.Zw(_n644,t));}),_n644.addEventListener("pointerup",_i1502=/*#__PURE__*/function(){var _ref143=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee151(t){return regeneratorRuntime.wrap(function _callee151$(_context152){while(1){switch(_context152.prev=_context152.next){case 0:_n644.removeEventListener("pointermove",_e1631),_n644.removeEventListener("pointerup",_i1502),_n644.removeEventListener("pointercancel",_s877);case 1:case"end":return _context152.stop();}}},_callee151);}));return function _i1502(_x173){return _ref143.apply(this,arguments);};}()),_n644.addEventListener("pointercancel",_s877=function _s876(){_n644.removeEventListener("pointermove",_e1631),_n644.removeEventListener("pointerup",_i1502),_n644.removeEventListener("pointercancel",_s877);}));}}},{key:"Zw",value:function Zw(t,e){var _this896=this;var i,s,_n646,o,l=this.Js.board,h=t[Dg],a=t.firstElementChild.getBoundingClientRect(),r=1,d=[],c=new Promise(function(t){return d.push(t);});this["#item-popover"].opened&&this["#item-popover"].close(),t.style.cursor="copy",t.setPointerCapture(e.pointerId),i=t.querySelector("img").cloneNode(!0),i.style.position="fixed",i.style.left=a.left+"px",i.style.top=a.top+"px",i.style.width=a.width+"px",i.style.height=a.height+"px",i.style.zIndex="999999999",i.style.pointerEvents="none",i.style.filter="invert(100%)",document.body.append(i),_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee152(){var t,e,_i1503,_Object$entries7,_Object$entries7$_i,_i1504,_s878,_n645,_o511,_l384,_a222,_r150,_d117,_c89,_iterator1524,_step1524,_i1505;return regeneratorRuntime.wrap(function _callee152$(_context153){while(1){switch(_context153.prev=_context153.next){case 0:t=[],e=null;_i1503=0,_Object$entries7=Object.entries(h.urls);case 2:if(!(_i1503<_Object$entries7.length)){_context153.next=31;break;}_Object$entries7$_i=_slicedToArray(_Object$entries7[_i1503],2),_i1504=_Object$entries7$_i[0],_s878=_Object$entries7$_i[1];_n645=null;_context153.prev=5;_context153.next=8;return fetch(_s878);case 8:_n645=_context153.sent;_context153.next=15;break;case 11:_context153.prev=11;_context153.t0=_context153["catch"](5);e=_context153.t0;return _context153.abrupt("break",31);case 15:_context153.next=17;return _n645.blob();case 17:_o511=_context153.sent;_context153.next=20;return Na(_o511);case 20:_context153.t1=_context153.sent;_context153.t2="url("+_context153.t1;_l384=_context153.t2+")";_a222=h.family;_r150=_i1504.substring(0,3);_d117=_i1504.includes("italic")?"italic":"normal";_c89=new FontFace(_a222,_l384,{family:_a222,weight:_r150,style:_d117});_c89.src=_l384,t.push(_c89);case 28:_i1503++;_context153.next=2;break;case 31:_iterator1524=_createForOfIteratorHelper(d);try{for(_iterator1524.s();!(_step1524=_iterator1524.n()).done;){_i1505=_step1524.value;_i1505(e?null:t);}}catch(err){_iterator1524.e(err);}finally{_iterator1524.f();}case 33:case"end":return _context153.stop();}}},_callee152,null,[[5,11]]);}))(),t.addEventListener("pointermove",s=function s(t){var s=t.clientX-e.clientX,n=t.clientY-e.clientY;s<0&&(r=1+Math.abs(s)/150,r>3&&(r=3)),i.style.top=a.y+n+"px",i.style.left=a.x+s+"px",i.style.transform="scale(".concat(r,")");}),t.addEventListener("pointercancel",_n646=function n(){t.removeEventListener("pointermove",s),t.removeEventListener("pointercancel",_n646),t.removeEventListener("pointerup",o),t.style.cursor=null,i.remove();}),t.addEventListener("pointerup",o=/*#__PURE__*/function(){var _ref145=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee153(e){var a,_t2265,_e1632,_s879,_n647,_o512,_a223,_d118;return regeneratorRuntime.wrap(function _callee153$(_context154){while(1){switch(_context154.prev=_context154.next){case 0:if(!(t.removeEventListener("pointermove",s),t.removeEventListener("pointercancel",_n646),t.removeEventListener("pointerup",o),t.style.cursor=null,!1===l.isPointOverBoard(e.clientX,e.clientY))){_context154.next=2;break;}return _context154.abrupt("return",void i.remove());case 2:_context154.next=4;return c;case 4:a=_context154.sent;if(!(null===a)){_context154.next=10;break;}i.remove();_context154.next=9;return Qi(100);case 9:return _context154.abrupt("return",void _this896.Qs.openMessageDialog({buttons:["OK"],message:"Can't import \"".concat(h.family,"\" font family"),detail:"Unable to connect to Google Fonts server. Please try again later."}));case 10:if(!l.fontsManager.getFamilies().includes(h.family)){_context154.next=16;break;}_context154.next=13;return _this896.Qs.openMessageDialog({type:"question",buttons:["Override","Cancel"],message:"Font family already defined",detail:"This font family is already defined, do you want to override it?"});case 13:_context154.t0=_context154.sent;if(!(0!==_context154.t0)){_context154.next=16;break;}return _context154.abrupt("return",void i.remove());case 16:l.undoManager.checkpoint("Add \"".concat(h.family,"\" font family to defs"));l.fontsManager.removeFamily(h.family);l.fontsManager.addFonts(a);_context154.next=21;return Promise.all(a.map(function(t){return t.load();}));case 21:_t2265=l.currentContainer||l.currentWorkspace,_e1632=i.getBoundingClientRect(),_s879=jt(_t2265).inverse(),_n647=new DOMPoint(_e1632.x,_e1632.y+_e1632.height-4*r).matrixTransform(_s879),_o512=Z(_n647.x,l.geometryPrecision),_a223=Z(_n647.y,l.geometryPrecision),_d118=zi("svg:text");_d118.setAttribute("x",_o512),_d118.setAttribute("y",_a223),_d118.textContent=h.family,_d118.style.whiteSpace="pre",_d118.style.fontSize=20*r*(1/l.scale)+"px",_d118.style.fontFamily="\"".concat(h.family,"\""),_t2265.append(_d118),l.selectedElements=[_d118],l.selectedTextRange=null,i.remove();case 23:case"end":return _context154.stop();}}},_callee153);}));return function o(_x174){return _ref145.apply(this,arguments);};}());}},{key:"Jc",value:function Jc(t){var e=t.target.closest(".item");e&&(this.D_(e),2===t.detail&&this.nv(e));}},{key:"tp",value:function(){var _tp9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee154(t){var e;return regeneratorRuntime.wrap(function _callee154$(_context155){while(1){switch(_context155.prev=_context155.next){case 0:e=t.target.closest(".item");_context155.t0=e;if(!_context155.t0){_context155.next=8;break;}t.preventDefault();this.D_(e);_context155.next=7;return Qi(150);case 7:this.nv(e);case 8:case"end":return _context155.stop();}}},_callee154,this);}));function tp(_x175){return _tp9.apply(this,arguments);}return tp;}()},{key:"wv",value:function wv(){this.z_(),this["#items"].scrollTop=0;}},{key:"Cm",value:function Cm(){this.Qs.setConfig("bx-fontslibrarybrowser:sort",this["#sort-select"].value),this.Gu(!0);}},{key:"A_",value:function A_(){this.Qs.setConfig("bx-fontslibrarybrowser:category",this["#category-select"].value),this.Gu(!0);}},{key:"I_",value:function I_(){this.Qs.setConfig("bx-fontslibrarybrowser:subset",this["#subset-select"].value),this.Gu(!0);}},{key:"D_",value:function D_(t){{var _e1633=this["#items"].querySelector(":scope > .item[data-selected]");_e1633!==t&&(_e1633&&(_e1633.removeAttribute("data-selected"),_e1633.part.remove("selected-item")),t.setAttribute("data-selected",""),t.part.add("selected-item"),t.scrollIntoViewIfNeeded());}this["#item-popover"].opened&&(this["#item-popover"].close(),this["#items"].focus());}},{key:"nv",value:function nv(t){this.O_();var e=t.getBoundingClientRect(),i=new DOMPoint(e.left,e.top+e.height/2);this["#item-popover"].open(i);}},{key:"B_",value:function B_(t){return Mg[t]||t;}},{key:"R_",value:function R_(t){return Pg[t]||t;}},{key:"G_",value:function(){var _G_=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee156(){var _this897=this;return regeneratorRuntime.wrap(function _callee156$(_context157){while(1){switch(_context157.prev=_context157.next){case 0:return _context157.abrupt("return",new Promise(/*#__PURE__*/function(){var _ref146=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee155(t){var _e1634,_iterator1525,_step1525,_t2266;return regeneratorRuntime.wrap(function _callee155$(_context156){while(1){switch(_context156.prev=_context156.next){case 0:if(!_this897.E_){_context156.next=4;break;}t(_this897.E_);_context156.next=17;break;case 4:if(!_this897.T_){_context156.next=8;break;}_this897.T_.push(t);_context156.next=17;break;case 8:_this897.T_=[t];_context156.next=11;return fetch("metadata/fonts/google-fonts-thumbnails.json");case 11:_e1634=_context156.sent;_context156.next=14;return _e1634.json();case 14:_this897.E_=_context156.sent;_iterator1525=_createForOfIteratorHelper(_this897.T_);try{for(_iterator1525.s();!(_step1525=_iterator1525.n()).done;){_t2266=_step1525.value;_t2266(_this897.E_);}}catch(err){_iterator1525.e(err);}finally{_iterator1525.f();}case 17:case"end":return _context156.stop();}}},_callee155);}));return function(_x176){return _ref146.apply(this,arguments);};}()));case 1:case"end":return _context157.stop();}}},_callee156);}));function G_(){return _G_.apply(this,arguments);}return G_;}()},{key:"Gu",value:function(){var _Gu2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee157(){var t,_e1635,_i1506,_s880,_n648,_o513,_l385,_h280,_iterator1526,_step1526,_t2269,_t2267,_iterator1527,_step1527,_i1507,_iterator1528,_step1528,_t2268,_args158=arguments;return regeneratorRuntime.wrap(function _callee157$(_context158){while(1){switch(_context158.prev=_context158.next){case 0:t=_args158.length>0&&_args158[0]!==undefined?_args158[0]:!1;_context158.next=3;return this.G_();case 3:_e1635=_context158.sent;_context158.next=6;return Sr();case 6:_i1506=_context158.sent;_s880=this["#sort-select"].value;_n648=this["#category-select"].value;_o513=this["#subset-select"].value;_l385={};_h280=null;_iterator1526=_createForOfIteratorHelper(_i1506.items);try{for(_iterator1526.s();!(_step1526=_iterator1526.n()).done;){_t2269=_step1526.value;_l385[_t2269.family]=_t2269;}}catch(err){_iterator1526.e(err);}finally{_iterator1526.f();}"alphabetical"===_s880?_h280=_i1506.items.map(function(t){return t.family;}):"popularity"!==_s880&&"trending"!==_s880&&"date"!==_s880||(_h280=_i1506.sortedFamilies[_s880]),_h280=_h280.filter(function(t){var e=_l385[t];return("all"===_n648||e.category===_n648)&&("all"===_o513||!1!==e.subsets.includes(_o513));});_t2267="";_iterator1527=_createForOfIteratorHelper(_h280);try{for(_iterator1527.s();!(_step1527=_iterator1527.n()).done;){_i1507=_step1527.value;_t2267+="\n            <div class=\"item\" part=\"item\" data-name=\"".concat(_i1507,"\">\n              <img src=\"").concat(_e1635[_i1507],"\"></img>\n            </div>\n          ");}}catch(err){_iterator1527.e(err);}finally{_iterator1527.f();}this["#items"].innerHTML=_t2267;_iterator1528=_createForOfIteratorHelper(this["#items"].children);try{for(_iterator1528.s();!(_step1528=_iterator1528.n()).done;){_t2268=_step1528.value;_t2268[Dg]=_l385[_t2268.dataset.name];}}catch(err){_iterator1528.e(err);}finally{_iterator1528.f();}t&&(this["#items"].scrollTop=0);this.z_();case 23:case"end":return _context158.stop();}}},_callee157,this);}));function Gu(){return _Gu2.apply(this,arguments);}return Gu;}()},{key:"z_",value:function z_(){var t=this["#search-input"].value.trim();if(""===t){var _iterator1529=_createForOfIteratorHelper(this["#items"].children),_step1529;try{for(_iterator1529.s();!(_step1529=_iterator1529.n()).done;){var _t2270=_step1529.value;_t2270.hidden=!1;}}catch(err){_iterator1529.e(err);}finally{_iterator1529.f();}this["#placeholder"].hidden=!0;}else{var _iterator1530=_createForOfIteratorHelper(this["#items"].children),_step1530;try{for(_iterator1530.s();!(_step1530=_iterator1530.n()).done;){var _e1636=_step1530.value;var _i1508=-1!==_e1636[Dg].family.toLowerCase().indexOf(t.toLowerCase());_e1636.hidden=!1===_i1508;}}catch(err){_iterator1530.e(err);}finally{_iterator1530.f();}null===this["#items"].querySelector(".item:not([hidden])")?(this["#placeholder"].hidden=!1,this["#placeholder"].textContent="No fonts found."):this["#placeholder"].hidden=!0;}}},{key:"O_",value:function O_(){var _this898=this;var t=this["#items"].querySelector(".item[data-selected]");if(t){var _e1637=t[Dg],_i1509="https://fonts.google.com/specimen/"+si(_e1637.family," ","+");this["#item-family-value"].textContent=_e1637.family,this["#item-weights-value"].textContent=_e1637.faces.filter(function(t){return e=t,!Array.isArray(e)&&e-H(e)+1>=0;var e;}).join(", "),this["#item-subsets-value"].textContent=_e1637.subsets.map(function(t){return _this898.R_(t);}).join(", "),this["#item-category-value"].textContent=this.B_(_e1637.category),this["#item-license-anchor"].href=_e1637.license,this["#item-license-anchor"].textContent=Cg[_e1637.license]?Cg[_e1637.license]:"Custom",this["#item-google-fonts-anchor"].setAttribute("href",_i1509);}}},{key:"L_",value:function L_(){if(this["#sort-select"].value=this.Qs.getConfig("bx-fontslibrarybrowser:sort","popularity"),2===this["#category-menu"].children.length){var _t2271="";for(var _i1510=0,_Object$entries8=Object.entries(Mg);_i1510<_Object$entries8.length;_i1510++){var _Object$entries8$_i=_slicedToArray(_Object$entries8[_i1510],2),_e1638=_Object$entries8$_i[0],_i1511=_Object$entries8$_i[1];_t2271+="<x-menuitem value=\"".concat(_e1638,"\"><x-label>").concat(_i1511,"</x-label></x-menuitem>");}this["#category-menu"].insertAdjacentHTML("beforeend",_t2271);}if(this["#category-select"].value=this.Qs.getConfig("bx-fontslibrarybrowser:category","all"),2===this["#subset-menu"].children.length){var _t2272="";for(var _i1512=0,_Object$entries9=Object.entries(Pg);_i1512<_Object$entries9.length;_i1512++){var _Object$entries9$_i=_slicedToArray(_Object$entries9[_i1512],2),_e1639=_Object$entries9$_i[0],_i1513=_Object$entries9$_i[1];_t2272+="<x-menuitem value=\"".concat(_e1639,"\"><x-label>").concat(_i1513,"</x-label></x-menuitem>");}this["#subset-menu"].insertAdjacentHTML("beforeend",_t2272);}this["#subset-select"].value=this.Qs.getConfig("bx-fontslibrarybrowser:subset","all");}}]);return zg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(zg,"observedAttributes",["enabled"]);_defineProperty(zg,"_shadowTemplate",Yi(_templateObject443()));_defineProperty(zg,"_shadowStyleSheet",Wi(_templateObject444()));customElements.define("bx-fontslibrarybrowser",zg);var Og=Math.abs,Eg=Object.entries,Tg="https://pixabay.com/service/terms/#license",Ag=Symbol();var $g=/*#__PURE__*/function(_HTMLElement123){_inherits($g,_HTMLElement123);var _super195=_createSuper($g);_createClass($g,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function $g(){var _this899;_classCallCheck(this,$g);_this899=_super195.call(this),_this899.C_=!1,_this899.F_=0,_this899.U_=!1,_this899.N_=!1,_this899.gv=0,_this899.V_=Zi(_this899.V_,600,_assertThisInitialized(_this899)),_this899.j_=new Dexie("bx-photoslibrarybrowser"),_this899.j_.version(1).stores({pixabayCache:"requestURL,time"}),_this899._shadowRoot=_this899.attachShadow({mode:"closed"}),_this899._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,$g._shadowStyleSheet],_this899._shadowRoot.append(document.importNode($g._shadowTemplate.content,!0));var _iterator1531=_createForOfIteratorHelper(_this899._shadowRoot.querySelectorAll("[id]")),_step1531;try{for(_iterator1531.s();!(_step1531=_iterator1531.n()).done;){var _t2273=_step1531.value;_this899["#"+_t2273.id]=_t2273;}}catch(err){_iterator1531.e(err);}finally{_iterator1531.f();}_this899["#items"].addEventListener("scroll",function(){return _this899.fv();}),_this899["#items"].addEventListener("pointerdown",function(t){return _this899.Qc(t);}),_this899["#items"].addEventListener("click",function(t){return _this899.Jc(t);}),_this899["#items"].addEventListener("contextmenu",function(t){return _this899.tp(t);}),_this899["#items"].addEventListener("keydown",function(t){return _this899.ep(t);}),_this899["#add-to-canvas-button"].addEventListener("click",function(){return _this899.P_();}),_this899["#search-input"].addEventListener("input",function(){return _this899.V_();}),_this899["#sort-buttons"].addEventListener("toggle",function(){return _this899.H_();}),_this899["#quality-select"].addEventListener("change",function(){return _this899.Y_();}),_this899["#orientation-select"].addEventListener("change",function(){return _this899.W_();}),_this899["#category-select"].addEventListener("change",function(){return _this899.A_();}),_this899["#editors-choice-checkbox"].addEventListener("toggle",function(){return _this899.q_();});return _this899;}_createClass($g,[{key:"connectedCallback",value:function connectedCallback(){if(this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),"bx-chromeapp"!==this.Qs.localName){var _iterator1532=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[target="_blank"]')),_step1532;try{for(_iterator1532.s();!(_step1532=_iterator1532.n()).done;){var _t2274=_step1532.value;_t2274.setAttribute("rel","noopener");}}catch(err){_iterator1532.e(err);}finally{_iterator1532.f();}}this["#items"].scrollTop=this.gv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"X_",value:function X_(t){var _this900=this;return new Promise(/*#__PURE__*/function(){var _ref147=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee158(e){var i,s;return regeneratorRuntime.wrap(function _callee158$(_context159){while(1){switch(_context159.prev=_context159.next){case 0:_context159.next=2;return _this900.j_.pixabayCache.get(t);case 2:i=_context159.sent;s=null;i&&(s=i.response),e(s);case 5:case"end":return _context159.stop();}}},_callee158);}));return function(_x177){return _ref147.apply(this,arguments);};}());}},{key:"Z_",value:function Z_(t,e){this.j_.pixabayCache.put({requestURL:t,response:e,time:Date.now()});}},{key:"K_",value:function K_(){var _this901=this;return new Promise(/*#__PURE__*/function(){var _ref148=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee159(t){var e;return regeneratorRuntime.wrap(function _callee159$(_context160){while(1){switch(_context160.prev=_context160.next){case 0:_context160.next=2;return _this901.j_.pixabayCache.where("time").below(Date.now()-36e5)["delete"]();case 2:e=_context160.sent;e>0&&console.log("Deleted ".concat(e," cached Pixabay responses.")),t();case 4:case"end":return _context160.stop();}}},_callee159);}));return function(_x178){return _ref148.apply(this,arguments);};}());}},{key:"tn",value:function tn(){var _this902=this;window.addEventListener("resize",this.nn=function(){_this902.Q_();}),this.Js.primaryPanelsDock.addEventListener("resize",this.J_=function(){_this902.Q_();}),!1===this.C_&&(this.C_=!0,this.K_(),this.L_(),this.tC()),!1===this["#items"].isConnected&&(this["#main"].prepend(this["#items"]),Qi(10).then(function(){return _this902["#items"].scrollTop=_this902.gv;}));}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Js.primaryPanelsDock.removeEventListener("resize",this.J_),this["#items"].remove(),this["#item-popover"].opened&&this["#item-popover"].close(!1);}},{key:"Q_",value:function Q_(){this["#item-popover"].opened&&this["#item-popover"].close(),!1===this.U_&&!0===this.N_&&this["#items"].clientHeight===this["#items"].scrollHeight&&this.eC();}},{key:"fv",value:function fv(){this.gv=this["#items"].scrollTop,this["#item-popover"].opened&&this["#item-popover"].close(),!1===this.U_&&!0===this.N_&&this["#items"].scrollTop+this["#items"].clientHeight>=this["#items"].scrollHeight-500&&this.eC();}},{key:"Qc",value:function Qc(t){var _this903=this;if(t.target.matches(".item")){var _e1640=t.target;if("touch"!==t.pointerType&&this.D_(_e1640),0===t.button){var _i1515,_s882,_n650,_o514=new DOMPoint(t.clientX,t.clientY);_e1640.setPointerCapture(t.pointerId),_e1640.addEventListener("pointermove",_i1515=function _i1514(l){var h=new DOMPoint(l.clientX,l.clientY);De(_o514,h)>=5&&(_e1640.removeEventListener("pointermove",_i1515),_e1640.removeEventListener("pointerup",_s882),_e1640.removeEventListener("pointercancel",_n650),_this903.Zw(_e1640,t));}),_e1640.addEventListener("pointerup",_s882=function _s881(t){_e1640.removeEventListener("pointermove",_i1515),_e1640.removeEventListener("pointerup",_s882),_e1640.removeEventListener("pointercancel",_n650);}),_e1640.addEventListener("pointercancel",_n650=function _n649(){_e1640.removeEventListener("pointermove",_i1515),_e1640.removeEventListener("pointerup",_s882),_e1640.removeEventListener("pointercancel",_n650);});}}}},{key:"Zw",value:function Zw(t,e){var _this904=this;var i,s,n,o=this.Js.board,l=t.querySelector("img"),h=l.getBoundingClientRect(),a=t[Ag],r=this.iC(l.src,h),d=this.sC(a);this["#item-popover"].opened&&this["#item-popover"].close(),t.style.cursor="copy",t.setPointerCapture(e.pointerId),document.body.append(r),t.addEventListener("pointermove",i=function i(t){var i=t.clientX-e.clientX,s=t.clientY-e.clientY,n=1;i<0&&(n=1+Og(i)/150,n>3&&(n=3)),r.style.top=h.y+s+"px",r.style.left=h.x+i+"px",r.style.transform="scale(".concat(n,")");}),t.addEventListener("pointercancel",s=function(_s883){function s(){return _s883.apply(this,arguments);}s.toString=function(){return _s883.toString();};return s;}(function(){t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,r.remove();})),t.addEventListener("pointerup",n=/*#__PURE__*/function(){var _ref149=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee160(e){var l,_t2275,_e1641,_i1516,_t2276,_yield$qa3,_e1642,_i1517,_s884;return regeneratorRuntime.wrap(function _callee160$(_context161){while(1){switch(_context161.prev=_context161.next){case 0:t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null;l="<desc>Author: https://pixabay.com/users/".concat(a.user,"-").concat(a.user_id,"\nLicense: ").concat(Tg,"\n</desc>");if(!o.isPointOverBoard(e.clientX,e.clientY)){_context161.next=21;break;}_t2275=r.getBoundingClientRect();_context161.next=6;return d;case 6:_e1641=_context161.sent;if(!(null===_e1641)){_context161.next=14;break;}r.remove();_context161.next=11;return Qi(100);case 11:_this904.Qs.openMessageDialog({message:"Import failed",detail:"Can't connect to the Pixabay server. The server is down or you have no internet connection. Please try again later.",buttons:["Close"]});_context161.next=19;break;case 14:o.undoManager.checkpoint("Add photo from library");_context161.next=17;return o.insertBitmapIntoBBox(_e1641,_t2275);case 17:_i1516=_context161.sent;_i1516.innerHTML=l,_this904.selectedElements=[_i1516],_this904.selectedTextRange=null,r.remove();case 19:_context161.next=36;break;case 21:if(!_this904.Qs.isPointOverNewTabDropArea(e.clientX,e.clientY)){_context161.next=35;break;}r.remove();_context161.next=25;return d;case 25:_t2276=_context161.sent;_context161.next=28;return qa(_t2276);case 28:_yield$qa3=_context161.sent;_e1642=_yield$qa3.width;_i1517=_yield$qa3.height;_s884="\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ".concat(_e1642," ").concat(_i1517,"\">\n            <image href=\"").concat(_t2276,"\">").concat(l,"</image>\n          </svg>\n        ");_this904.Qs.openEditorTabWithArtworkFromLibrary(_s884);_context161.next=36;break;case 35:r.remove();case 36:case"end":return _context161.stop();}}},_callee160);}));return function n(_x179){return _ref149.apply(this,arguments);};}());}},{key:"Jc",value:function Jc(t){var e=t.target.closest(".item");e&&(this.D_(e),2===t.detail&&this.nv(e));}},{key:"tp",value:function(){var _tp10=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee161(t){var e;return regeneratorRuntime.wrap(function _callee161$(_context162){while(1){switch(_context162.prev=_context162.next){case 0:e=t.target.closest(".item");_context162.t0=e;if(!_context162.t0){_context162.next=8;break;}t.preventDefault();this.D_(e);_context162.next=7;return Qi(150);case 7:this.nv(e);case 8:case"end":return _context162.stop();}}},_callee161,this);}));function tp(_x180){return _tp10.apply(this,arguments);}return tp;}()},{key:"ep",value:function ep(t){var e=eo.fromEvent(t),i=this["#items"].querySelector(".item[data-selected]");if(i){var _s885=i.getBoundingClientRect();if(e.matches("Enter"))this.nv(i);else if(e.matches("ArrowRight"))i.nextElementSibling&&_s885.top===i.nextElementSibling.getBoundingClientRect().top&&(t.stopPropagation(),t.preventDefault(),this.D_(i.nextElementSibling));else if(e.matches("ArrowLeft"))i.previousElementSibling&&_s885.top===i.previousElementSibling.getBoundingClientRect().top&&(t.stopPropagation(),t.preventDefault(),this.D_(i.previousElementSibling));else if(e.matches("ArrowDown")){for(var _e1643=i.nextElementSibling;_e1643;_e1643=_e1643.nextElementSibling){if(_s885.left===_e1643.getBoundingClientRect().left){t.stopPropagation(),t.preventDefault(),this.D_(_e1643);break;}}}else if(e.matches("ArrowUp"))for(var _e1644=i.previousElementSibling;_e1644;_e1644=_e1644.previousElementSibling){if(_s885.left===_e1644.getBoundingClientRect().left){t.stopPropagation(),t.preventDefault(),this.D_(_e1644);break;}}}}},{key:"P_",value:function(){var _P_2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee162(){var t,e,i,s,n,o,l,_yield$Promise$all,_yield$Promise$all2,h,_t2277;return regeneratorRuntime.wrap(function _callee162$(_context163){while(1){switch(_context163.prev=_context163.next){case 0:t=this["#items"].querySelector(".item[data-selected]"),e=t[Ag],i=this.Js.board.getBoundingClientRect(!1,!0),s=t.firstElementChild.getBoundingClientRect(),n=DOMRect.fromRect(s);n.width*=3,n.height*=3,n.x=i.x+i.width/2-n.width/2,n.y=i.y+i.height/2-n.height/2,this["#item-popover"].close();o=this.iC(t.firstElementChild.src,n);document.body.append(o);l=o.animate({left:[s.left+"px",n.left+"px"],top:[s.top+"px",n.top+"px"],width:[s.width+"px",n.width+"px"],height:[s.height+"px",n.height+"px"]},{duration:400,easing:"ease"});_context163.next=7;return Promise.all([this.sC(e),l.finished]);case 7:_yield$Promise$all=_context163.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,1);h=_yield$Promise$all2[0];if(!(null===h)){_context163.next=14;break;}this.Qs.openMessageDialog({message:"Import failed",detail:"Can't connect to the Pixabay server. The server is down or you have no internet connection. Please try again later.",buttons:["Close"]}),o.remove();_context163.next=19;break;case 14:this.Js.board.undoManager.checkpoint("Add photo from library");_context163.next=17;return this.Js.board.insertBitmapIntoBBox(h,n);case 17:_t2277=_context163.sent;_t2277.innerHTML="<desc>Author: https://pixabay.com/users/".concat(e.user,"-").concat(e.user_id,"\nLicense: ").concat(Tg,"\n</desc>"),this.selectedElements=[_t2277],this.selectedTextRange=null,o.remove();case 19:case"end":return _context163.stop();}}},_callee162,this);}));function P_(){return _P_2.apply(this,arguments);}return P_;}()},{key:"V_",value:function V_(){this.tC();}},{key:"H_",value:function H_(){this.Qs.setConfig("bx-photoslibrarybrowser:sort",this["#sort-buttons"].value),this.tC();}},{key:"Y_",value:function Y_(){this.Qs.setConfig("bx-photoslibrarybrowser:quality",this["#quality-select"].value);}},{key:"W_",value:function W_(){this.Qs.setConfig("bx-photoslibrarybrowser:orientation",this["#orientation-select"].value),this.tC();}},{key:"A_",value:function A_(){this.Qs.setConfig("bx-photoslibrarybrowser:category",this["#category-select"].value),this.tC();}},{key:"q_",value:function q_(){this.Qs.setConfig("bx-photoslibrarybrowser:editorsChoice",this["#editors-choice-checkbox"].toggled),this.tC();}},{key:"D_",value:function D_(t){{var _e1645=this["#items"].querySelector(":scope > .item[data-selected]");_e1645!==t&&(_e1645&&_e1645.removeAttribute("data-selected"),t.setAttribute("data-selected",""),t.scrollIntoViewIfNeeded());}this["#item-popover"].opened&&(this["#item-popover"].close(),this["#items"].focus());}},{key:"nv",value:function nv(t){this.O_();var e=t.getBoundingClientRect(),i=new DOMPoint(e.left,e.top+e.height/2);this["#item-popover"].open(i);}},{key:"hv",value:function hv(t){var e=t.previewURL,i=t.previewWidth,s=t.previewHeight;if(i>110){var _t2278=i/s;i=110,s=i/_t2278;}if(s>90){var _t2279=i/s;s=90,i=s*_t2279;}var n=Yi(_templateObject73(),i,s,o);return n[Ag]=t,"bx-chromeapp"===this.Qs.localName?_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee163(){var e,_t2280,_i1518;return regeneratorRuntime.wrap(function _callee163$(_context164){while(1){switch(_context164.prev=_context164.next){case 0:_context164.prev=0;_context164.next=3;return fetch(t.previewURL,{mode:"cors"});case 3:e=_context164.sent;_context164.next=14;break;case 6:_context164.prev=6;_context164.t0=_context164["catch"](0);console.log("Retrying",_context164.t0);_context164.next=11;return Qi(2e3);case 11:_context164.next=13;return fetch(t.previewURL,{mode:"cors"});case 13:e=_context164.sent;case 14:if(!e){_context164.next=22;break;}_context164.next=17;return e.blob();case 17:_t2280=_context164.sent;_context164.next=20;return Na(_t2280);case 20:_i1518=_context164.sent;n.querySelector("img").setAttribute("src",_i1518);case 22:case"end":return _context164.stop();}}},_callee163,null,[[0,6]]);}))():n.querySelector("img").setAttribute("src",t.previewURL),n;}},{key:"iC",value:function iC(t,e){var i=Yi(_templateObject74());return i.style.position="fixed",i.style.left=e.left+"px",i.style.top=e.top+"px",i.style.width=e.width+"px",i.style.height=e.height+"px",i.style.zIndex="999999999",i.style.pointerEvents="none",i.src=t,i;}},{key:"sC",value:function sC(t){var _this905=this;return new Promise(/*#__PURE__*/function(){var _ref151=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee164(e,i){var s,_e1646,_i1519,_n651,_t2281;return regeneratorRuntime.wrap(function _callee164$(_context165){while(1){switch(_context165.prev=_context165.next){case 0:s=null;_context165.prev=1;_i1519=_this905["#quality-select"].value;"180"===_i1519?_e1646=t.webformatURL.replace("_640","_180"):"340"===_i1519?_e1646=t.webformatURL.replace("_640","_340"):"640"===_i1519?_e1646=t.webformatURL:"960"===_i1519?_e1646=t.webformatURL.replace("_640","_960"):"1280"===_i1519?_e1646=t.largeImageURL:"1920"===_i1519&&(_e1646=t.fullHDURL);_context165.next=6;return fetch(_e1646,{mode:"cors"});case 6:_n651=_context165.sent;if(!_n651.ok){_context165.next=14;break;}_context165.next=10;return _n651.blob();case 10:_t2281=_context165.sent;_context165.next=13;return Na(_t2281);case 13:s=_context165.sent;case 14:_context165.next=19;break;case 16:_context165.prev=16;_context165.t0=_context165["catch"](1);console.log(_context165.t0);case 19:e(s);case 20:case"end":return _context165.stop();}}},_callee164,null,[[1,16]]);}));return function(_x181,_x182){return _ref151.apply(this,arguments);};}());}},{key:"tC",value:function(){var _tC=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee165(){var _t2282;return regeneratorRuntime.wrap(function _callee165$(_context166){while(1){switch(_context166.prev=_context166.next){case 0:this.F_=0,this.U_=!1,this.N_=!0,this.gv=0,this["#items"].innerHTML="",this["#throbber"].hidden=!1,this["#placeholder"].hidden=!0;_t2282=0;case 2:if(!(_t2282<50&&!1===this.U_&&!0===this.N_&&this["#items"].clientHeight===this["#items"].scrollHeight)){_context166.next=8;break;}_context166.next=5;return this.eC();case 5:_t2282+=1;_context166.next=2;break;case 8:case"end":return _context166.stop();}}},_callee165,this);}));function tC(){return _tC.apply(this,arguments);}return tC;}()},{key:"eC",value:function eC(){var _this906=this;return new Promise(/*#__PURE__*/function(){var _ref152=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee166(t){var e,i,s,n,o,l,h,_t2283,_iterator1533,_step1533,_e1647,_i1520;return regeneratorRuntime.wrap(function _callee166$(_context167){while(1){switch(_context167.prev=_context167.next){case 0:_this906.U_=!0;e=_this906["#search-input"].value.trim(),i=_this906.F_+1,s={q:encodeURIComponent(e),response_group:"high_resolution",key:"7905818-d06eb7dad844f6efdf1932a90",per_page:10,page:i,editors_choice:""===e||_this906["#editors-choice-checkbox"].toggled,order:_this906["#sort-buttons"].value,orientation:_this906["#orientation-select"].value,image_type:"photo",safesearch:"bx-macapp"===_this906.Qs.localName};"all"!==_this906["#category-select"].value&&(s.category=_this906["#category-select"].value);n="https://pixabay.com/api/?"+Eg(s).map(function(_ref153){var _ref154=_slicedToArray(_ref153,2),t=_ref154[0],e=_ref154[1];return"".concat(t,"=").concat(e);}).join("&");_context167.next=6;return _this906.X_(n);case 6:o=_context167.sent;l=null;h=null;if(!o){_context167.next=13;break;}l=o;_context167.next=30;break;case 13:_context167.prev=13;_context167.next=16;return fetch(n,{mode:"cors"});case 16:l=_context167.sent;if(!l.ok){_context167.next=23;break;}_context167.next=20;return l.json();case 20:l=_context167.sent;_context167.next=24;break;case 23:l=null,h="Failed to fetch data";case 24:_context167.next=29;break;case 26:_context167.prev=26;_context167.t0=_context167["catch"](13);l=null,h=_context167.t0;case 29:h||_this906.Z_(n,l);case 30:if(h)console.log("Pixabay error:",h),_this906["#throbber"].hidden=!0;else if(l.hits.length>0){_this906.F_=i;_t2283=document.createDocumentFragment();_iterator1533=_createForOfIteratorHelper(l.hits);try{for(_iterator1533.s();!(_step1533=_iterator1533.n()).done;){_e1647=_step1533.value;_i1520=_this906.hv(_e1647);_t2283.append(_i1520);}}catch(err){_iterator1533.e(err);}finally{_iterator1533.f();}_this906["#items"].append(_t2283),_this906["#throbber"].hidden=!0,_this906["#items"].childElementCount===l.totalHits?_this906.N_=!1:_this906.N_=!0;}else _this906.N_=!1,_this906["#throbber"].hidden=!0,0===_this906["#items"].childElementCount&&(_this906["#placeholder"].hidden=!1,_this906["#placeholder"].textContent="No photos found");_this906.U_=!1,t();case 32:case"end":return _context167.stop();}}},_callee166,null,[[13,26]]);}));return function(_x183){return _ref152.apply(this,arguments);};}());}},{key:"L_",value:function L_(){var t=this.Qs.getConfig("bx-photoslibrarybrowser:sort","popular"),e=this.Qs.getConfig("bx-photoslibrarybrowser:quality","640"),i=this.Qs.getConfig("bx-photoslibrarybrowser:orientation","all"),s=this.Qs.getConfig("bx-photoslibrarybrowser:category","all"),n=this.Qs.getConfig("bx-photoslibrarybrowser:editorsChoice",!1);"960"===e&&(e="640"),this["#sort-buttons"].value=t,this["#quality-select"].value=e,this["#orientation-select"].value=i,this["#category-select"].value=s,this["#editors-choice-checkbox"].toggled=n;}},{key:"O_",value:function O_(){var t=this["#items"].querySelector(".item[data-selected]");if(t){var _e1648=t[Ag],_i1521="https://pixabay.com/users/".concat(_e1648.user,"-").concat(_e1648.user_id),_s886=_e1648.pageURL;this["#item-uploader-value"].innerHTML="<a href=\"".concat(_i1521,"\" target=\"_blank\">").concat(_e1648.user,"</a>"),this["#item-pixabay-anchor"].href=_s886;}}}]);return $g;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty($g,"observedAttributes",["enabled"]);_defineProperty($g,"_shadowTemplate",Yi(_templateObject445(),Tg));_defineProperty($g,"_shadowStyleSheet",Wi(_templateObject446()));customElements.define("bx-photoslibrarybrowser",$g);var Ig=Math.abs,Lg=Object.entries,Bg="https://pixabay.com/service/terms/#license",Rg=Symbol();var Gg=/*#__PURE__*/function(_HTMLElement124){_inherits(Gg,_HTMLElement124);var _super196=_createSuper(Gg);_createClass(Gg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Gg(){var _this907;_classCallCheck(this,Gg);_this907=_super196.call(this),_this907.C_=!1,_this907.F_=0,_this907.U_=!1,_this907.N_=!1,_this907.gv=0,_this907.V_=Zi(_this907.V_,600,_assertThisInitialized(_this907)),_this907.j_=new Dexie("bx-vectorslibrarybrowser"),_this907.j_.version(1).stores({pixabayCache:"requestURL,time"}),_this907._shadowRoot=_this907.attachShadow({mode:"closed"}),_this907._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Gg._shadowStyleSheet],_this907._shadowRoot.append(document.importNode(Gg._shadowTemplate.content,!0));var _iterator1534=_createForOfIteratorHelper(_this907._shadowRoot.querySelectorAll("[id]")),_step1534;try{for(_iterator1534.s();!(_step1534=_iterator1534.n()).done;){var _t2284=_step1534.value;_this907["#"+_t2284.id]=_t2284;}}catch(err){_iterator1534.e(err);}finally{_iterator1534.f();}_this907["#items"].addEventListener("scroll",function(){return _this907.fv();}),_this907["#items"].addEventListener("pointerdown",function(t){return _this907.Qc(t);}),_this907["#items"].addEventListener("click",function(t){return _this907.Jc(t);}),_this907["#items"].addEventListener("contextmenu",function(t){return _this907.tp(t);}),_this907["#items"].addEventListener("keydown",function(t){return _this907.ep(t);}),_this907["#add-to-canvas-button"].addEventListener("click",function(){return _this907.P_();}),_this907["#search-input"].addEventListener("input",function(){return _this907.V_();}),_this907["#sort-buttons"].addEventListener("toggle",function(){return _this907.H_();}),_this907["#orientation-select"].addEventListener("change",function(){return _this907.W_();}),_this907["#category-select"].addEventListener("change",function(){return _this907.A_();}),_this907["#editors-choice-checkbox"].addEventListener("toggle",function(){return _this907.q_();});return _this907;}_createClass(Gg,[{key:"connectedCallback",value:function connectedCallback(){if(this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),"bx-chromeapp"!==this.Qs.localName){var _iterator1535=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[target="_blank"]')),_step1535;try{for(_iterator1535.s();!(_step1535=_iterator1535.n()).done;){var _t2285=_step1535.value;_t2285.setAttribute("rel","noopener");}}catch(err){_iterator1535.e(err);}finally{_iterator1535.f();}}this["#items"].scrollTop=this.gv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"X_",value:function X_(t){var _this908=this;return new Promise(/*#__PURE__*/function(){var _ref155=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee167(e){var i,s;return regeneratorRuntime.wrap(function _callee167$(_context168){while(1){switch(_context168.prev=_context168.next){case 0:_context168.next=2;return _this908.j_.pixabayCache.get(t);case 2:i=_context168.sent;s=null;i&&(s=i.response),e(s);case 5:case"end":return _context168.stop();}}},_callee167);}));return function(_x184){return _ref155.apply(this,arguments);};}());}},{key:"Z_",value:function Z_(t,e){this.j_.pixabayCache.put({requestURL:t,response:e,time:Date.now()});}},{key:"K_",value:function K_(){var _this909=this;return new Promise(/*#__PURE__*/function(){var _ref156=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee168(t){var e;return regeneratorRuntime.wrap(function _callee168$(_context169){while(1){switch(_context169.prev=_context169.next){case 0:_context169.next=2;return _this909.j_.pixabayCache.where("time").below(Date.now()-36e5)["delete"]();case 2:e=_context169.sent;e>0&&console.log("Deleted ".concat(e," cached Pixabay responses.")),t();case 4:case"end":return _context169.stop();}}},_callee168);}));return function(_x185){return _ref156.apply(this,arguments);};}());}},{key:"tn",value:function tn(){var _this910=this;window.addEventListener("resize",this.nn=function(){_this910.Q_();}),this.Js.primaryPanelsDock.addEventListener("resize",this.J_=function(){_this910.Q_();}),!1===this.C_&&(this.C_=!0,this.K_(),this.L_(),this.tC()),!1===this["#items"].isConnected&&(this["#main"].prepend(this["#items"]),Qi(10).then(function(){return _this910["#items"].scrollTop=_this910.gv;}));}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Js.primaryPanelsDock.removeEventListener("resize",this.J_),this["#items"].remove(),this["#item-popover"].opened&&this["#item-popover"].close(!1);}},{key:"Q_",value:function Q_(){this["#item-popover"].opened&&this["#item-popover"].close(),!1===this.U_&&!0===this.N_&&this["#items"].clientHeight===this["#items"].scrollHeight&&this.eC();}},{key:"fv",value:function fv(){this.gv=this["#items"].scrollTop,this["#item-popover"].opened&&this["#item-popover"].close(),!1===this.U_&&!0===this.N_&&this["#items"].scrollTop+this["#items"].clientHeight>=this["#items"].scrollHeight-500&&this.eC();}},{key:"Qc",value:function Qc(t){var _this911=this;if(t.target.matches(".item")){var _e1649=t.target;if("touch"!==t.pointerType&&this.D_(_e1649),0===t.button){var _i1523,_s888,_n653,_o515=new DOMPoint(t.clientX,t.clientY);_e1649.setPointerCapture(t.pointerId),_e1649.addEventListener("pointermove",_i1523=function _i1522(l){var h=new DOMPoint(l.clientX,l.clientY);De(_o515,h)>=5&&(_e1649.removeEventListener("pointermove",_i1523),_e1649.removeEventListener("pointerup",_s888),_e1649.removeEventListener("pointercancel",_n653),_this911.Zw(_e1649,t));}),_e1649.addEventListener("pointerup",_s888=function _s887(t){_e1649.removeEventListener("pointermove",_i1523),_e1649.removeEventListener("pointerup",_s888),_e1649.removeEventListener("pointercancel",_n653);}),_e1649.addEventListener("pointercancel",_n653=function _n652(){_e1649.removeEventListener("pointermove",_i1523),_e1649.removeEventListener("pointerup",_s888),_e1649.removeEventListener("pointercancel",_n653);});}}}},{key:"Zw",value:function Zw(t,e){var _this912=this;var i,s,n,o=this.Js.board,l=t.querySelector("img"),h=l.getBoundingClientRect(),a=t[Rg],r=this.iC(l.src,h),d=this.sC(a);this["#item-popover"].opened&&this["#item-popover"].close(),t.style.cursor="copy",t.setPointerCapture(e.pointerId),document.body.append(r),t.addEventListener("pointermove",i=function i(t){var i=t.clientX-e.clientX,s=t.clientY-e.clientY,n=1;i<0&&(n=1+Ig(i)/150,n>3&&(n=3)),r.style.top=h.y+s+"px",r.style.left=h.x+i+"px",r.style.transform="scale(".concat(n,")");}),t.addEventListener("pointercancel",s=function(_s889){function s(){return _s889.apply(this,arguments);}s.toString=function(){return _s889.toString();};return s;}(function(){t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,r.remove();})),t.addEventListener("pointerup",n=/*#__PURE__*/function(){var _ref157=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee169(e){var _t2286,_e1650,_i1524,_s890,_t2287;return regeneratorRuntime.wrap(function _callee169$(_context170){while(1){switch(_context170.prev=_context170.next){case 0:t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null;a.user,a.user_id;if(!o.isPointOverBoard(e.clientX,e.clientY)){_context170.next=19;break;}_t2286=r.getBoundingClientRect();_context170.next=6;return d;case 6:_e1650=_context170.sent;if(!(null===_e1650)){_context170.next=14;break;}r.remove();_context170.next=11;return Qi(100);case 11:_this912.Qs.openMessageDialog({message:"Import failed",detail:"Can't connect to the Pixabay server. The server is down or you have no internet connection. Please try again later.",buttons:["Close"]});_context170.next=17;break;case 14:o.undoManager.checkpoint("Add vectors from library");_i1524=Ma(_e1650),_s890=o.insertArtworkIntoBBox(_i1524,_t2286);o.selectedElements=[_s890],o.selectedTextRange=null,r.remove();case 17:_context170.next=28;break;case 19:if(!_this912.Qs.isPointOverNewTabDropArea(e.clientX,e.clientY)){_context170.next=27;break;}r.remove();_context170.next=23;return d;case 23:_t2287=_context170.sent;_this912.Qs.openEditorTabWithArtworkFromLibrary(_t2287);_context170.next=28;break;case 27:r.remove();case 28:case"end":return _context170.stop();}}},_callee169);}));return function n(_x186){return _ref157.apply(this,arguments);};}());}},{key:"Jc",value:function Jc(t){var e=t.target.closest(".item");e&&(this.D_(e),2===t.detail&&this.nv(e));}},{key:"tp",value:function(){var _tp11=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee170(t){var e;return regeneratorRuntime.wrap(function _callee170$(_context171){while(1){switch(_context171.prev=_context171.next){case 0:e=t.target.closest(".item");_context171.t0=e;if(!_context171.t0){_context171.next=8;break;}t.preventDefault();this.D_(e);_context171.next=7;return Qi(150);case 7:this.nv(e);case 8:case"end":return _context171.stop();}}},_callee170,this);}));function tp(_x187){return _tp11.apply(this,arguments);}return tp;}()},{key:"ep",value:function ep(t){var e=eo.fromEvent(t),i=this["#items"].querySelector(".item[data-selected]");if(i){var _s891=i.getBoundingClientRect();if(e.matches("Enter"))this.nv(i);else if(e.matches("ArrowRight"))i.nextElementSibling&&_s891.top===i.nextElementSibling.getBoundingClientRect().top&&(t.stopPropagation(),t.preventDefault(),this.D_(i.nextElementSibling));else if(e.matches("ArrowLeft"))i.previousElementSibling&&_s891.top===i.previousElementSibling.getBoundingClientRect().top&&(t.stopPropagation(),t.preventDefault(),this.D_(i.previousElementSibling));else if(e.matches("ArrowDown")){for(var _e1651=i.nextElementSibling;_e1651;_e1651=_e1651.nextElementSibling){if(_s891.left===_e1651.getBoundingClientRect().left){t.stopPropagation(),t.preventDefault(),this.D_(_e1651);break;}}}else if(e.matches("ArrowUp"))for(var _e1652=i.previousElementSibling;_e1652;_e1652=_e1652.previousElementSibling){if(_s891.left===_e1652.getBoundingClientRect().left){t.stopPropagation(),t.preventDefault(),this.D_(_e1652);break;}}}}},{key:"P_",value:function(){var _P_3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee171(){var t,e,i,s,n,o,l,h,_yield$Promise$all3,_yield$Promise$all4,a,_e1653,_i1525,_s892;return regeneratorRuntime.wrap(function _callee171$(_context172){while(1){switch(_context172.prev=_context172.next){case 0:t=this.Js.board,e=this["#items"].querySelector(".item[data-selected]"),i=e[Rg],s=t.getBoundingClientRect(!1,!0),n=e.firstElementChild.getBoundingClientRect(),o=DOMRect.fromRect(n);o.width*=3,o.height*=3,o.x=s.x+s.width/2-o.width/2,o.y=s.y+s.height/2-o.height/2,this["#item-popover"].close();l=this.iC(e.firstElementChild.src,o);document.body.append(l);h=l.animate({left:[n.left+"px",o.left+"px"],top:[n.top+"px",o.top+"px"],width:[n.width+"px",o.width+"px"],height:[n.height+"px",o.height+"px"]},{duration:400,easing:"ease"});_context172.next=7;return Promise.all([this.sC(i),h.finished]);case 7:_yield$Promise$all3=_context172.sent;_yield$Promise$all4=_slicedToArray(_yield$Promise$all3,1);a=_yield$Promise$all4[0];if(null===a)this.Qs.openMessageDialog({message:"Import failed",detail:"Can't connect to the Pixabay server. The server is down or you have no internet connection. Please try again later.",buttons:["Close"]}),l.remove();else{t.undoManager.checkpoint("Add vectors from library");_e1653=ghost.getBoundingClientRect(),_i1525=Ma(a),_s892=t.insertArtworkIntoBBox(_i1525,_e1653);t.selectedElements=[_s892],t.selectedTextRange=null,ghost.remove();}case 11:case"end":return _context172.stop();}}},_callee171,this);}));function P_(){return _P_3.apply(this,arguments);}return P_;}()},{key:"V_",value:function V_(){this.tC();}},{key:"H_",value:function H_(){this.Qs.setConfig("bx-vectorslibrarybrowser:sort",this["#sort-buttons"].value),this.tC();}},{key:"W_",value:function W_(){this.Qs.setConfig("bx-vectorslibrarybrowser:orientation",this["#orientation-select"].value),this.tC();}},{key:"A_",value:function A_(){this.Qs.setConfig("bx-vectorslibrarybrowser:category",this["#category-select"].value),this.tC();}},{key:"q_",value:function q_(){this.Qs.setConfig("bx-vectorslibrarybrowser:editorsChoice",this["#editors-choice-checkbox"].toggled),this.tC();}},{key:"D_",value:function D_(t){{var _e1654=this["#items"].querySelector(":scope > .item[data-selected]");_e1654!==t&&(_e1654&&_e1654.removeAttribute("data-selected"),t.setAttribute("data-selected",""),t.scrollIntoViewIfNeeded());}this["#item-popover"].opened&&(this["#item-popover"].close(),this["#items"].focus());}},{key:"nv",value:function nv(t){this.O_();var e=t.getBoundingClientRect(),i=new DOMPoint(e.left,e.top+e.height/2);this["#item-popover"].open(i);}},{key:"hv",value:function hv(t){var e=t.previewURL,i=t.previewWidth,s=t.previewHeight;if(i>110){var _t2288=i/s;i=110,s=i/_t2288;}if(s>90){var _t2289=i/s;s=90,i=s*_t2289;}var n=Yi(_templateObject75(),i,s,o);return n[Rg]=t,"bx-chromeapp"===this.Qs.localName?_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee172(){var e,_t2290,_i1526;return regeneratorRuntime.wrap(function _callee172$(_context173){while(1){switch(_context173.prev=_context173.next){case 0:_context173.prev=0;_context173.next=3;return fetch(t.previewURL,{mode:"cors"});case 3:e=_context173.sent;_context173.next=14;break;case 6:_context173.prev=6;_context173.t0=_context173["catch"](0);console.log("Retrying",_context173.t0);_context173.next=11;return Qi(2e3);case 11:_context173.next=13;return fetch(t.previewURL,{mode:"cors"});case 13:e=_context173.sent;case 14:if(!e){_context173.next=22;break;}_context173.next=17;return e.blob();case 17:_t2290=_context173.sent;_context173.next=20;return Na(_t2290);case 20:_i1526=_context173.sent;n.querySelector("img").setAttribute("src",_i1526);case 22:case"end":return _context173.stop();}}},_callee172,null,[[0,6]]);}))():n.querySelector("img").setAttribute("src",t.previewURL),n;}},{key:"iC",value:function iC(t,e){var i=Yi(_templateObject76());return i.style.position="fixed",i.style.left=e.left+"px",i.style.top=e.top+"px",i.style.width=e.width+"px",i.style.height=e.height+"px",i.style.zIndex="999999999",i.style.pointerEvents="none",i.src=t,i;}},{key:"sC",value:function sC(t){return new Promise(/*#__PURE__*/function(){var _ref159=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee173(e,i){var s,_e1655,_e1656,_t2291;return regeneratorRuntime.wrap(function _callee173$(_context174){while(1){switch(_context174.prev=_context174.next){case 0:s=null;_context174.prev=1;if(!("vector/svg"===t.type)){_context174.next=13;break;}_context174.next=5;return fetch(t.vectorURL,{mode:"cors"});case 5:_e1655=_context174.sent;_context174.t0=_e1655.ok;if(!_context174.t0){_context174.next=11;break;}_context174.next=10;return _e1655.text();case 10:s=_context174.sent;case 11:_context174.next=24;break;case 13:if(!("vector/ai"===t.type)){_context174.next=24;break;}_context174.next=16;return fetch(t.vectorURL,{mode:"cors"});case 16:_e1656=_context174.sent;if(!_e1656.ok){_context174.next=24;break;}_context174.next=20;return _e1656.arrayBuffer();case 20:_t2291=_context174.sent;_context174.next=23;return Ym(_t2291);case 23:s=_context174.sent;case 24:_context174.next=29;break;case 26:_context174.prev=26;_context174.t1=_context174["catch"](1);console.log(_context174.t1);case 29:e(s);case 30:case"end":return _context174.stop();}}},_callee173,null,[[1,26]]);}));return function(_x188,_x189){return _ref159.apply(this,arguments);};}());}},{key:"tC",value:function(){var _tC2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee174(){var _t2292;return regeneratorRuntime.wrap(function _callee174$(_context175){while(1){switch(_context175.prev=_context175.next){case 0:this.F_=0,this.U_=!1,this.N_=!0,this.gv=0,this["#items"].innerHTML="",this["#throbber"].hidden=!1,this["#placeholder"].hidden=!0;_t2292=0;case 2:if(!(_t2292<50&&!1===this.U_&&!0===this.N_&&this["#items"].clientHeight===this["#items"].scrollHeight)){_context175.next=8;break;}_context175.next=5;return this.eC();case 5:_t2292+=1;_context175.next=2;break;case 8:case"end":return _context175.stop();}}},_callee174,this);}));function tC(){return _tC2.apply(this,arguments);}return tC;}()},{key:"eC",value:function eC(){var _this913=this;return new Promise(/*#__PURE__*/function(){var _ref160=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee175(t){var e,i,s,n,o,l,h,_t2293,_iterator1536,_step1536,_e1657,_i1527;return regeneratorRuntime.wrap(function _callee175$(_context176){while(1){switch(_context176.prev=_context176.next){case 0:_this913.U_=!0;e=_this913["#search-input"].value.trim(),i=_this913.F_+1,s={q:encodeURIComponent(e),response_group:"high_resolution",key:"7905818-d06eb7dad844f6efdf1932a90",per_page:10,page:i,editors_choice:""===e||_this913["#editors-choice-checkbox"].toggled,order:_this913["#sort-buttons"].value,orientation:_this913["#orientation-select"].value,image_type:"vector",safesearch:"bx-macapp"===_this913.Qs.localName};"all"!==_this913["#category-select"].value&&(s.category=_this913["#category-select"].value);n="https://pixabay.com/api/?"+Lg(s).map(function(_ref161){var _ref162=_slicedToArray(_ref161,2),t=_ref162[0],e=_ref162[1];return"".concat(t,"=").concat(e);}).join("&");_context176.next=6;return _this913.X_(n);case 6:o=_context176.sent;l=null;h=null;if(!o){_context176.next=13;break;}l=o;_context176.next=30;break;case 13:_context176.prev=13;_context176.next=16;return fetch(n,{mode:"cors"});case 16:l=_context176.sent;if(!l.ok){_context176.next=23;break;}_context176.next=20;return l.json();case 20:l=_context176.sent;_context176.next=24;break;case 23:l=null,h="Failed to fetch data";case 24:_context176.next=29;break;case 26:_context176.prev=26;_context176.t0=_context176["catch"](13);l=null,h=_context176.t0;case 29:h||_this913.Z_(n,l);case 30:if(h)console.log("Pixabay error:",h),_this913["#throbber"].hidden=!0;else if(l.hits.length>0){_this913.F_=i;_t2293=document.createDocumentFragment();_iterator1536=_createForOfIteratorHelper(l.hits);try{for(_iterator1536.s();!(_step1536=_iterator1536.n()).done;){_e1657=_step1536.value;_i1527=_this913.hv(_e1657);_t2293.append(_i1527);}}catch(err){_iterator1536.e(err);}finally{_iterator1536.f();}_this913["#items"].append(_t2293),_this913["#throbber"].hidden=!0,_this913["#items"].childElementCount===l.totalHits?_this913.N_=!1:_this913.N_=!0;}else _this913.N_=!1,_this913["#throbber"].hidden=!0,0===_this913["#items"].childElementCount&&(_this913["#placeholder"].hidden=!1,_this913["#placeholder"].textContent="No vectors found");_this913.U_=!1,t();case 32:case"end":return _context176.stop();}}},_callee175,null,[[13,26]]);}));return function(_x190){return _ref160.apply(this,arguments);};}());}},{key:"L_",value:function L_(){this["#sort-buttons"].value=this.Qs.getConfig("bx-vectorslibrarybrowser:sort","popular"),this["#orientation-select"].value=this.Qs.getConfig("bx-vectorslibrarybrowser:orientation","all"),this["#category-select"].value=this.Qs.getConfig("bx-vectorslibrarybrowser:category","all"),this["#editors-choice-checkbox"].toggled=this.Qs.getConfig("bx-vectorslibrarybrowser:editorsChoice",!1);}},{key:"O_",value:function O_(){var t=this["#items"].querySelector(".item[data-selected]");if(t){var _e1658=t[Rg],_i1528="https://pixabay.com/users/".concat(_e1658.user,"-").concat(_e1658.user_id),_s893=_e1658.pageURL;this["#item-uploader-value"].innerHTML="<a href=\"".concat(_i1528,"\" target=\"_blank\">").concat(_e1658.user,"</a>"),this["#item-pixabay-anchor"].href=_s893;}}}]);return Gg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Gg,"observedAttributes",["enabled"]);_defineProperty(Gg,"_shadowTemplate",Yi(_templateObject447(),Bg));_defineProperty(Gg,"_shadowStyleSheet",Wi(_templateObject448()));customElements.define("bx-vectorslibrarybrowser",Gg);var Fg=/*#__PURE__*/function(_HTMLElement125){_inherits(Fg,_HTMLElement125);var _super197=_createSuper(Fg);_createClass(Fg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Fg(){var _this914;_classCallCheck(this,Fg);_this914=_super197.call(this),_this914._shadowRoot=_this914.attachShadow({mode:"closed"}),_this914._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Fg._shadowStyleSheet],_this914._shadowRoot.append(document.importNode(Fg._shadowTemplate.content,!0));var _iterator1537=_createForOfIteratorHelper(_this914._shadowRoot.querySelectorAll("[id]")),_step1537;try{for(_iterator1537.s();!(_step1537=_iterator1537.n()).done;){var _t2294=_step1537.value;_this914["#"+_t2294.id]=_t2294;}}catch(err){_iterator1537.e(err);}finally{_iterator1537.f();}_this914["#buttons"].addEventListener("toggle",function(){return _this914.toggleBrowser(_this914["#buttons"].value);});return _this914;}_createClass(Fg,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var t=this.Qs.getConfig("bx-librarypanel:currentBrowserID","photos-library-browser");!1===_toConsumableArray(this["#main"].children).map(function(t){return t.id;}).includes(t)&&(t="colors-library-browser"),this.toggleBrowser(t);}},{key:"sn",value:function sn(){this.toggleBrowser(null);}},{key:"toggleBrowser",value:function toggleBrowser(t){this["#buttons"].value=t;var _iterator1538=_createForOfIteratorHelper(this["#main"].children),_step1538;try{for(_iterator1538.s();!(_step1538=_iterator1538.n()).done;){var _e1659=_step1538.value;null!==t&&_e1659.id===t?_e1659.enabled=!0:_e1659.enabled=!1;}}catch(err){_iterator1538.e(err);}finally{_iterator1538.f();}null!==t&&this.Qs.setConfig("bx-librarypanel:currentBrowserID",t);}}]);return Fg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Fg,"observedAttributes",["enabled"]);_defineProperty(Fg,"_shadowTemplate",Yi(_templateObject449()));_defineProperty(Fg,"_shadowStyleSheet",Wi(_templateObject450()));customElements.define("bx-librarypanel",Fg);var Ug=/*#__PURE__*/function(_HTMLElement126){_inherits(Ug,_HTMLElement126);var _super198=_createSuper(Ug);function Ug(){var _this915;_classCallCheck(this,Ug);_this915=_super198.call(this);var t=_this915.constructor.nC,e=_this915.constructor.oC;_this915._shadowRoot=_this915.attachShadow({mode:"closed"}),_this915._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Ug._shadowStyleSheet,_this915.constructor._shadowStyleSheet],_this915._shadowRoot.append(document.importNode(Ug._shadowTemplate.content,!0)),t&&_this915._shadowRoot.querySelector("#main").append(document.importNode(t.content,!0)),e&&_this915._shadowRoot.querySelector("#footer").append(document.importNode(e.content,!0));var _iterator1539=_createForOfIteratorHelper(_this915._shadowRoot.querySelectorAll("[id]")),_step1539;try{for(_iterator1539.s();!(_step1539=_iterator1539.n()).done;){var _t2295=_step1539.value;_this915["#"+_t2295.id]=_t2295;}}catch(err){_iterator1539.e(err);}finally{_iterator1539.f();}_this915.setAttribute("extends","bx-generator"),_this915.setAttribute("tabindex","0");return _this915;}return Ug;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ug,"_shadowTemplate",Yi(_templateObject451()));_defineProperty(Ug,"_shadowStyleSheet",Wi(_templateObject452()));var Ng=function Ng(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return new Promise(function(i,s){var n=document.createElement("script");e&&(n.type="module"),n.src=t,n.onload=function(){i(),n.remove();},n.onerror=function(){s(new Error("Failed to lazy load script with URL "+t)),n.remove();},document.documentElement.appendChild(n);});},Vg={CODE128:"Test value",CODE39:"TEST VALUE",EAN2:"00",EAN5:"00000",EAN8:"0000000",EAN13:"000000000000",UPC:"00000000000",MSI:"0000",MSI10:"0000",MSI11:"0000",MSI1010:"0000",MSI1110:"0000",codabar:"0000",pharmacode:"1000",ITF14:"0000000000000"};var jg=/*#__PURE__*/function(_Ug){_inherits(jg,_Ug);var _super199=_createSuper(jg);function jg(){var _this916;_classCallCheck(this,jg);_this916=_super199.call(this),_this916["#format-select"].addEventListener("change",function(){return _this916.Qu();}),_this916["#value-input"].addEventListener("input",function(){return _this916.lC();}),_this916["#label-switch"].addEventListener("toggle",function(){return _this916.hC();}),_this916["#label-position-buttons"].addEventListener("toggle",function(){return _this916.aC();}),_this916["#generate-button"].addEventListener("click",function(){return _this916.rC();});return _this916;}_createClass(jg,[{key:"connectedCallback",value:function(){var _connectedCallback4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee176(){var t,e,i;return regeneratorRuntime.wrap(function _callee176$(_context177){while(1){switch(_context177.prev=_context177.next){case 0:this.Qs=Ai(this,"#app");this.Js=Ai(this,"bx-editor");_context177.t0=window.JsBarcode;if(_context177.t0){_context177.next=6;break;}_context177.next=6;return Ng("/node_modules/jsbarcode/dist/JsBarcode.all.min.js");case 6:t=this.Qs.getConfig("bx-barcodegenerator:format","CODE128"),e=this.Qs.getConfig("bx-barcodegenerator:showLabel",!0),i=this.Qs.getConfig("bx-barcodegenerator:labelPosition","center");this["#format-select"].value=t,this["#value-input"].value=Vg[t],this["#label-switch"].toggled=e,this["#label-position-buttons"].value=i,this.qs();case 8:case"end":return _context177.stop();}}},_callee176,this);}));function connectedCallback(){return _connectedCallback4.apply(this,arguments);}return connectedCallback;}()},{key:"Qu",value:function Qu(){var t=this["#format-select"].value;this["#value-input"].value=Vg[t],this.Qs.setConfig("bx-barcodegenerator:format",t),this.qs();}},{key:"lC",value:function lC(){this.qs();}},{key:"hC",value:function hC(){this.Qs.setConfig("bx-barcodegenerator:showLabel",this["#label-switch"].toggled),this.qs();}},{key:"aC",value:function aC(){this.Qs.setConfig("bx-barcodegenerator:labelPosition",this["#label-position-buttons"].value),this.qs();}},{key:"rC",value:function rC(){var t=this["#preview"].cloneNode(!0);this.Js.board.undoManager.checkpoint("Generate barcode"),this.Js.board.insertArtwork(t);}},{key:"dC",value:function dC(t,e){var i;return JsBarcode({},e,{format:t,valid:function valid(t){return i=t;}}),i;}},{key:"qs",value:function qs(){var t=this["#format-select"].value,e=this["#value-input"].value,i=this.dC(t,e);if(this["#value-input"].error=i?null:"","EAN8"===t||"EAN13"===t||"UPC"===t?!1===this["#label-position-inset-button"].isConnected&&this["#label-position-buttons"].append(this["#label-position-inset-button"]):("inset"===this["#label-position-buttons"].value&&(this["#label-position-buttons"].value="center"),this["#label-position-inset-button"].toggled=!1,this["#label-position-inset-button"].remove()),this["#label-switch"].toggled?(this["#label-position-label"].disabled=!1,this["#label-position-left-button"].disabled=!1,this["#label-position-center-button"].disabled=!1,this["#label-position-right-button"].disabled=!1,this["#label-position-inset-button"].disabled=!1):(this["#label-position-label"].disabled=!0,this["#label-position-left-button"].disabled=!0,this["#label-position-center-button"].disabled=!0,this["#label-position-right-button"].disabled=!0,this["#label-position-inset-button"].disabled=!0),i){var _i1529=this["#label-switch"].toggled?this["#label-position-buttons"].value:"center";if(JsBarcode(this["#preview"],e,{format:t,textAlign:"inset"===_i1529?"center":_i1529,flat:"inset"!==_i1529,displayValue:this["#label-switch"].toggled}),this["#preview"].firstElementChild.remove(),this["#preview"].childElementCount>1){var _t2296=zi("svg:g");for(var _i1530=0,_arr74=_toConsumableArray(this["#preview"].children);_i1530<_arr74.length;_i1530++){var _e1660=_arr74[_i1530];_t2296.append(_e1660);}this["#preview"].append(_t2296);}}else this["#preview"].innerHTML="";this["#generate-button"].disabled=!1===i;}}]);return jg;}(Ug);_defineProperty(jg,"nC",Yi(_templateObject453()));_defineProperty(jg,"oC",Yi(_templateObject454()));_defineProperty(jg,"_shadowStyleSheet",Wi(_templateObject455()));customElements.define("bx-barcodegenerator",jg);var Hg=["/node_modules/qrcode-generator/qrcode.js","/node_modules/qrcode-generator/qrcode_SJIS.js"],Yg={Numeric:"0000",Alphanumeric:"TEST",Byte:"Test",Kanji:"\u30C6\u30B9\u30C8"};var Wg=/*#__PURE__*/function(_Ug2){_inherits(Wg,_Ug2);var _super200=_createSuper(Wg);function Wg(){var _this917;_classCallCheck(this,Wg);_this917=_super200.call(this),_this917["#mode-select"].addEventListener("change",function(){return _this917.cC();}),_this917["#charset-select"].addEventListener("change",function(){return _this917.pC();}),_this917["#error-correction-buttons"].addEventListener("toggle",function(){return _this917.uC();}),_this917["#value-input"].addEventListener("input",function(){return _this917.lC();}),_this917["#generate-button"].addEventListener("click",function(){return _this917.rC();});return _this917;}_createClass(Wg,[{key:"connectedCallback",value:function(){var _connectedCallback5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee177(){var _iterator1540,_step1540,_t2297,t,e,i,s;return regeneratorRuntime.wrap(function _callee177$(_context178){while(1){switch(_context178.prev=_context178.next){case 0:if(!(this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor"),!window.qrcode)){_context178.next=18;break;}_iterator1540=_createForOfIteratorHelper(Hg);_context178.prev=2;_iterator1540.s();case 4:if((_step1540=_iterator1540.n()).done){_context178.next=10;break;}_t2297=_step1540.value;_context178.next=8;return Ng(_t2297);case 8:_context178.next=4;break;case 10:_context178.next=15;break;case 12:_context178.prev=12;_context178.t0=_context178["catch"](2);_iterator1540.e(_context178.t0);case 15:_context178.prev=15;_iterator1540.f();return _context178.finish(15);case 18:t=this.Qs.getConfig("bx-qrcodegenerator:mode","Byte"),e=this.Qs.getConfig("bx-qrcodegenerator:charset","default"),i=this.Qs.getConfig("bx-qrcodegenerator:errorCorrection","L"),s=Yg[t];this["#mode-select"].value=t,this["#charset-select"].value=e,this["#error-correction-buttons"].value=i,this["#value-input"].value=s,this.qs();case 20:case"end":return _context178.stop();}}},_callee177,this,[[2,12,15,18]]);}));function connectedCallback(){return _connectedCallback5.apply(this,arguments);}return connectedCallback;}()},{key:"cC",value:function cC(){var t=this["#mode-select"].value;this["#value-input"].value=Yg[t],this.Qs.setConfig("bx-qrcodegenerator:mode",t),this.qs();}},{key:"pC",value:function pC(){var t=this["#charset-select"].value;this.Qs.setConfig("bx-qrcodegenerator:charset",t),this.qs();}},{key:"uC",value:function uC(){var t=this["#error-correction-buttons"].value;this.Qs.setConfig("bx-qrcodegenerator:errorCorrection",t),this.qs();}},{key:"lC",value:function lC(){this.qs();}},{key:"rC",value:function rC(){var t=this["#preview"].cloneNode(!0);this.Js.board.undoManager.checkpoint("Generate QR code"),this.Js.board.insertArtwork(t);}},{key:"xC",value:function xC(t,e,i,s){var n=null,o=0,l=null;qrcode.stringToBytes=qrcode.stringToBytesFuncs[e];try{var _e1661=qrcode(0,i);_e1661.addData(s,t),_e1661.make();var _l386=Di(_e1661.createSvgTag());n=_l386.querySelector("path"),o=_l386.viewBox.baseVal.width;}catch(t){l="string"==typeof t?t.replace("illegal char :","Illegal char: "):"Invalid value";}return[n,o,l];}},{key:"qs",value:function qs(){var t=this["#mode-select"].value,e=this["#charset-select"].value,i=this["#error-correction-buttons"].value,s=this["#value-input"].value,_this$xC=this.xC(t,e,i,s),_this$xC2=_slicedToArray(_this$xC,3),n=_this$xC2[0],o=_this$xC2[1],l=_this$xC2[2];this["#charset-subsection"].hidden="Byte"!==t,this["#value-input"].error=l,this["#preview"].innerHTML="",null===l&&(this["#preview"].append(n),this["#preview"].setAttribute("viewBox","0 0 ".concat(o," ").concat(o))),this["#generate-button"].disabled=null!==l;}}]);return Wg;}(Ug);_defineProperty(Wg,"nC",Yi(_templateObject456()));_defineProperty(Wg,"oC",Yi(_templateObject457()));_defineProperty(Wg,"_shadowStyleSheet",Wi(_templateObject458()));customElements.define("bx-qrcodegenerator",Wg);var qg=Math.sin,Xg=Math.cos,Zg=Math.abs,Kg=Math.log,Qg=Math.floor,Jg=Math.PI,tf=[{color:"#d7392e",seats:54},{color:"#7aaa42",seats:32},{color:"#2470b0",seats:50},{color:"#2f2f2f",seats:36}],ef=["#a62a26","#d7392e","#ec6c42","#f4ad60","#7aaa42","#217eda","#2470b0","#542988","#2f2f2f"];var sf=/*#__PURE__*/function(_Ug3){_inherits(sf,_Ug3);var _super201=_createSuper(sf);function sf(){var _this918;_classCallCheck(this,sf);_this918=_super201.call(this),_this918["#hall-radius-box"].addEventListener("changestart",function(){return _this918.mC();}),_this918["#seat-radius-box"].addEventListener("changestart",function(){return _this918.gC();}),_this918["#parties-box"].addEventListener("changestart",function(t){return _this918.fC(t);}),_this918["#parties-box"].addEventListener("click",function(t){return _this918.wC(t);}),_this918["#add-party-button"].addEventListener("click",function(){return _this918.vC();}),_this918["#generate-button"].addEventListener("click",function(){return _this918.rC();});return _this918;}_createClass(sf,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");var t=this.Qs.getConfig("bx-parliamentchartgenerator:hallRadius",.3),e=this.Qs.getConfig("bx-parliamentchartgenerator:seatRadius",.8),i=this.Qs.getConfig("bx-parliamentchartgenerator:parties",tf);this["#hall-radius-slider"].value=Z(100*t,2),this["#hall-radius-input"].value=Z(100*t,2),this["#seat-radius-slider"].value=Z(100*e,2),this["#seat-radius-input"].value=Z(100*e,2),this["#parties-box"].innerHTML="";for(var _t2298=0;_t2298<i.length;_t2298+=1){var _i$_t=i[_t2298],_e1662=_i$_t.seats,_s894=_i$_t.color,_n654=document.importNode(sf.bC.content,!0).firstElementChild;this["#parties-box"].append(_n654),_n654.querySelector("x-colorselect").value=_s894,_n654.querySelector("x-numberinput").value=_e1662;}this.qs();}},{key:"mC",value:function mC(){var _this919=this;var t,_e1663;this["#hall-radius-box"].addEventListener("change",t=function t(_t2299){_t2299.target===_this919["#hall-radius-slider"]?_this919["#hall-radius-input"].value=_this919["#hall-radius-slider"].value:_t2299.target===_this919["#hall-radius-input"]&&(_this919["#hall-radius-slider"].value=_this919["#hall-radius-input"].value),_this919.qs();}),this["#hall-radius-box"].addEventListener("changeend",_e1663=function e(){_this919["#hall-radius-box"].removeEventListener("change",t),_this919["#hall-radius-box"].removeEventListener("changeend",_e1663),_this919.Qs.setConfig("bx-parliamentchartgenerator:hallRadius",_this919["#hall-radius-slider"].value/100);});}},{key:"gC",value:function gC(){var _this920=this;var t,_e1664;this["#seat-radius-box"].addEventListener("change",t=function t(_t2300){_t2300.target===_this920["#seat-radius-slider"]?_this920["#seat-radius-input"].value=_this920["#seat-radius-slider"].value:_t2300.target===_this920["#seat-radius-input"]&&(_this920["#seat-radius-slider"].value=_this920["#seat-radius-input"].value),_this920.qs();}),this["#seat-radius-box"].addEventListener("changeend",_e1664=function e(){_this920["#seat-radius-box"].removeEventListener("change",t),_this920["#seat-radius-box"].removeEventListener("changeend",_e1664),_this920.Qs.setConfig("bx-parliamentchartgenerator:seatRadius",_this920["#seat-radius-slider"].value/100);});}},{key:"fC",value:function fC(t){var _this921=this;var e,_i1531,s=t.target;s.addEventListener("change",e=function e(){_this921.qs();}),s.addEventListener("changeend",_i1531=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1531),_this921.qs();var t=_toConsumableArray(_this921["#parties-box"].children).map(function(t){return{seats:t.querySelector("x-numberinput").value,color:t.querySelector("x-colorselect").value};});_this921.Qs.setConfig("bx-parliamentchartgenerator:parties",t);});}},{key:"wC",value:function wC(t){var e=t.target.closest(".delete-button");if(e){e.closest(".party-box").remove();var _t2301=_toConsumableArray(this["#parties-box"].children).map(function(t){return{seats:t.querySelector("x-numberinput").value,color:t.querySelector("x-colorselect").value};});this.Qs.setConfig("bx-parliamentchartgenerator:parties",_t2301),this.qs();}}},{key:"vC",value:function vC(){var t,e=function(t){var e=t.length;for(;--e;){var _i1532=ll(0,1,5),_s895=Math.floor(_i1532*(e+1)),_n655=t[_s895];t[_s895]=t[e],t[e]=_n655;}return t;}([].concat(ef)),i=_toConsumableArray(this["#parties-box"].querySelectorAll("x-colorselect")).map(function(t){return t.value;}),s=document.importNode(sf.bC.content,!0).firstElementChild;do{t=e.pop();}while(e.length>0&&i.includes(t));this["#parties-box"].append(s),s.querySelector("x-colorselect").value=t,this.qs();}},{key:"rC",value:function rC(){var t=this["#preview"].cloneNode(!0);this.Js.board.undoManager.checkpoint("Parliament chart"),this.Js.board.insertArtwork(t);}},{key:"yC",value:function yC(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:.3;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:.8;var s=100,n=0,o=0,l=[],h=[],a=[],r=[],d=null,c=this.Js.board.geometryPrecision;var _iterator1541=_createForOfIteratorHelper(t),_step1541;try{for(_iterator1541.s();!(_step1541=_iterator1541.n()).done;){var _e1673=_step1541.value;n+=_e1673.seats;}}catch(err){_iterator1541.e(err);}finally{_iterator1541.f();}var p=function p(t,e,i){return Jg*e*i/(t-e)/(1+Jg*(e-1)*e/2/(t-e));},u=function u(t,i,s){var n=p(t,i,s)*i/s-(1-e);return Zg(n);};{var _t2302=Qg(Kg(n)/Kg(2))||1,_e1665=u(n,_t2302,s),_i1533=0;for(u(n,_t2302+1,s)<_e1665&&(_i1533=1),u(n,_t2302-1,s)<_e1665&&_t2302>1&&(_i1533=-1);u(n,_t2302+_i1533,s)<_e1665&&_t2302>0;){_e1665=u(n,_t2302+_i1533,s),_t2302+=_i1533;}o=_t2302||1;}var x=p(n,o,s);for(var _t2303=1;_t2303<=o;_t2303+=1){l[_t2303]=s-(_t2303-1)*x;}{var _t2304=0;for(var _e1667 in l){_t2304+=l[_e1667];}var _e1666=_t2304/(n-2),_i1534=_t2304/(n+2),_s896=_t2304/n,_o516={},_a224=0;for(var _t2305 in l){_o516[_t2305]=Z(l[_t2305]/_s896,0),_a224+=_o516[_t2305];}for(;_a224!==n;){_a224<n?_e1666=_s896:_a224>n&&(_i1534=_s896),_s896=(_e1666+_i1534)/2,_o516={},_a224=0;for(var _t2306 in l){_o516[_t2306]=Z(l[_t2306]/_s896,0),_a224+=_o516[_t2306];}}h=_o516;}{for(var _t2307=1;_t2307<=o;_t2307+=1){var _e1669=[],_n656=s-(_t2307-1)*x,_o517=Jg*_n656/(h[_t2307]-1||1);for(var _s897=0;_s897<=h[_t2307]-1;_s897+=1){var _t2308={x:Z(_n656*Xg(_s897*_o517/_n656-Jg),c),y:Z(_n656*qg(_s897*_o517/_n656-Jg),c),r:Z(i/2*x,c)};_e1669.push(_t2308);}a.push(_e1669);}var _e1668=Array(a.length).fill(0);for(var _i1535=0;_i1535<t.length;_i1535+=1){var _s898=t[_i1535];for(var _t2309=0;_t2309<_s898.seats;_t2309+=1){var _t2310=void 0,_s899=void 0,_n657=void 0;for(var _t2311 in a){_n657=Z((_e1668[_t2311]||0)/a[_t2311].length,10),(!_s899||_n657<_s899)&&(_s899=_n657);}for(var _i1536 in a){if(_n657=Z((_e1668[_i1536]||0)/a[_i1536].length,10),_n657===_s899){_t2310=_i1536;break;}}a[_t2310][_e1668[_t2310]].partyIndex=_i1535,_e1668[_t2310]+=1;}}}for(var _t2312 in a){var _iterator1542=_createForOfIteratorHelper(a[_t2312]),_step1542;try{for(_iterator1542.s();!(_step1542=_iterator1542.n()).done;){var _e1670=_step1542.value;void 0===r[_e1670.partyIndex]&&(r[_e1670.partyIndex]=[]),r[_e1670.partyIndex].push(_e1670);}}catch(err){_iterator1542.e(err);}finally{_iterator1542.f();}}{var _e1671=r[0][0].r/(i/2),_n658="<svg viewBox=\"".concat(-100-_e1671/2," ").concat(-100-_e1671/2," ").concat(200+_e1671," ").concat(s+_e1671,"\">");for(var _e1672=0;_e1672<t.length;_e1672+=1){_n658+="<g style=\"fill: ".concat(t[_e1672].color,"\">");var _iterator1543=_createForOfIteratorHelper(r[_e1672]),_step1543;try{for(_iterator1543.s();!(_step1543=_iterator1543.n()).done;){var _t2313=_step1543.value;_n658+="<circle cx=\"".concat(_t2313.x,"\" cy=\"").concat(_t2313.y,"\" r=\"").concat(_t2313.r,"\"></circle>");}}catch(err){_iterator1543.e(err);}finally{_iterator1543.f();}_n658+="</g>";}_n658+="</svg>",d=qi(_templateObject77(),_n658);}return d;}},{key:"qs",value:function qs(){var _iterator1544=_createForOfIteratorHelper(this["#parties-box"].querySelectorAll(".delete-button")),_step1544;try{for(_iterator1544.s();!(_step1544=_iterator1544.n()).done;){var _t2316=_step1544.value;_t2316.disabled=1===this["#parties-box"].childElementCount;}}catch(err){_iterator1544.e(err);}finally{_iterator1544.f();}{var _t2314=this["#hall-radius-slider"].value/100,_e1674=this["#seat-radius-slider"].value/100,_i1537=[];var _iterator1545=_createForOfIteratorHelper(this["#parties-box"].children),_step1545;try{for(_iterator1545.s();!(_step1545=_iterator1545.n()).done;){var _t2315=_step1545.value;_i1537.push({seats:_t2315.querySelector("x-numberinput").value,color:_t2315.querySelector("x-colorselect").value});}}catch(err){_iterator1545.e(err);}finally{_iterator1545.f();}var _s900=this.yC(_i1537,_t2314,_e1674);this["#preview"].innerHTML=_s900.innerHTML,this["#preview"].setAttribute("viewBox",_s900.getAttribute("viewBox"));}}}]);return sf;}(Ug);_defineProperty(sf,"nC",Yi(_templateObject459()));_defineProperty(sf,"oC",Yi(_templateObject460()));_defineProperty(sf,"bC",Yi(_templateObject461()));_defineProperty(sf,"_shadowStyleSheet",Wi(_templateObject462()));customElements.define("bx-parliamentchartgenerator",sf);var nf=Math.min,of=Math.max,lf=Math.floor,hf=["#247ba0","#70c1b3","#b2dbbf","#f3ffbd","#ff1654"];var af=/*#__PURE__*/function(_Ug4){_inherits(af,_Ug4);var _super202=_createSuper(af);function af(){var _this922;_classCallCheck(this,af);_this922=_super202.call(this),_this922["#width-input"].addEventListener("changestart",function(){return _this922.Rg();}),_this922["#height-input"].addEventListener("changestart",function(){return _this922.Gg();}),_this922["#aspect-ratio-button"].addEventListener("toggle",function(){return _this922.Tg();}),_this922["#cell-size-box"].addEventListener("changestart",function(){return _this922.kC();}),_this922["#variance-box"].addEventListener("changestart",function(){return _this922.SC();}),_this922["#seed-box"].addEventListener("changestart",function(){return _this922.wk();}),_this922["#colors-box"].addEventListener("changestart",function(){return _this922._C();}),_this922["#random-colors-button"].addEventListener("click",function(){return _this922.CC();}),_this922["#generate-button"].addEventListener("click",function(){return _this922.rC();});return _this922;}_createClass(af,[{key:"connectedCallback",value:function(){var _connectedCallback6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee178(){var t,e,i,s,n,o,l,_t2317;return regeneratorRuntime.wrap(function _callee178$(_context179){while(1){switch(_context179.prev=_context179.next){case 0:this.Qs=Ai(this,"#app");this.Js=Ai(this,"bx-editor");_context179.t0=window.Delaunator;if(_context179.t0){_context179.next=6;break;}_context179.next=6;return Ng("/node_modules/delaunator/delaunator.min.js");case 6:_context179.t1=window.chroma;if(_context179.t1){_context179.next=10;break;}_context179.next=10;return Ng("/node_modules/chroma-js/chroma.min.js");case 10:_context179.t2=Math.seedrandom;if(_context179.t2){_context179.next=14;break;}_context179.next=14;return Ng("/node_modules/seedrandom/seedrandom.min.js");case 14:t=this.Qs.getConfig("bx-triangulatedsurfacegenerator:width",500),e=this.Qs.getConfig("bx-triangulatedsurfacegenerator:height",400),i=this.Qs.getConfig("bx-triangulatedsurfacegenerator:cellSize",.2),s=this.Qs.getConfig("bx-triangulatedsurfacegenerator:variance",.75),n=this.Qs.getConfig("bx-triangulatedsurfacegenerator:seed",100),o=this.Qs.getConfig("bx-triangulatedsurfacegenerator:colors",hf),l=this.Qs.getConfig("bx-triangulatedsurfacegenerator:preserveAspectRatio",!1);this["#width-input"].value=t,this["#height-input"].value=e,this["#aspect-ratio-button"].toggled=l,this["#aspect-ratio-icon"].name=l?"lock-on":"lock-off",this["#cell-size-slider"].value=Z(100*i,2),this["#cell-size-input"].value=Z(100*i,2),this["#variance-slider"].value=Z(100*s,2),this["#variance-input"].value=Z(100*s,2),this["#seed-slider"].value=n,this["#seed-input"].value=n;for(_t2317=0;_t2317<5;_t2317+=1){this["#colors-box"].children[_t2317].value=o[_t2317];}this.qs();case 18:case"end":return _context179.stop();}}},_callee178,this);}));function connectedCallback(){return _connectedCallback6.apply(this,arguments);}return connectedCallback;}()},{key:"Rg",value:function Rg(){var _this923=this;var t,_e1675,i=this["#width-input"].value/this["#height-input"].value;this["#width-input"].addEventListener("change",t=function t(){if(_this923["#aspect-ratio-button"].toggled){var _t2318=_this923["#width-input"].value/i;_t2318=K(_t2318,1,Infinity,0),_this923["#height-input"].value=_t2318;}_this923.qs();}),this["#width-input"].addEventListener("changeend",_e1675=function e(){_this923["#width-input"].removeEventListener("change",t),_this923["#width-input"].removeEventListener("changeend",_e1675),_this923.Qs.setConfig("bx-triangulatedsurfacegenerator:width",_this923["#width-input"].value),_this923.Qs.setConfig("bx-triangulatedsurfacegenerator:height",_this923["#height-input"].value);});}},{key:"Gg",value:function Gg(){var _this924=this;var t,_e1676,i=this["#height-input"].value/this["#width-input"].value;this["#height-input"].addEventListener("change",t=function t(){if(_this924["#aspect-ratio-button"].toggled){var _t2319=_this924["#height-input"].value/i;_t2319=K(_t2319,1,Infinity,0),_this924["#width-input"].value=_t2319;}_this924.qs();}),this["#height-input"].addEventListener("changeend",_e1676=function e(){_this924["#height-input"].removeEventListener("change",t),_this924["#height-input"].removeEventListener("changeend",_e1676),_this924.Qs.setConfig("bx-triangulatedsurfacegenerator:width",_this924["#width-input"].value),_this924.Qs.setConfig("bx-triangulatedsurfacegenerator:height",_this924["#height-input"].value);});}},{key:"Tg",value:function Tg(){var t=this["#aspect-ratio-button"].toggled;this.Qs.setConfig("bx-triangulatedsurfacegenerator:preserveAspectRatio",t),this["#aspect-ratio-icon"].name=t?"lock-on":"lock-off";}},{key:"kC",value:function kC(){var _this925=this;var t,_e1677;this["#cell-size-box"].addEventListener("change",t=function t(_t2320){_t2320.target===_this925["#cell-size-slider"]?_this925["#cell-size-input"].value=_this925["#cell-size-slider"].value:_t2320.target===_this925["#cell-size-input"]&&(_this925["#cell-size-slider"].value=_this925["#cell-size-input"].value),_this925.qs();}),this["#cell-size-box"].addEventListener("changeend",_e1677=function e(){_this925["#cell-size-box"].removeEventListener("change",t),_this925["#cell-size-box"].removeEventListener("changeend",_e1677),_this925.Qs.setConfig("bx-triangulatedsurfacegenerator:cellSize",_this925["#cell-size-slider"].value/100);});}},{key:"SC",value:function SC(){var _this926=this;var t,_e1678;this["#variance-box"].addEventListener("change",t=function t(_t2321){_t2321.target===_this926["#variance-slider"]?_this926["#variance-input"].value=_this926["#variance-slider"].value:_t2321.target===_this926["#variance-input"]&&(_this926["#variance-slider"].value=_this926["#variance-input"].value),_this926.qs();}),this["#variance-box"].addEventListener("changeend",_e1678=function e(){_this926["#variance-box"].removeEventListener("change",t),_this926["#variance-box"].removeEventListener("changeend",_e1678),_this926.Qs.setConfig("bx-triangulatedsurfacegenerator:variance",_this926["#variance-slider"].value/100);});}},{key:"wk",value:function wk(){var _this927=this;var t,_e1679;this["#seed-box"].addEventListener("change",t=function t(_t2322){_t2322.target===_this927["#seed-slider"]?_this927["#seed-input"].value=_this927["#seed-slider"].value:_t2322.target===_this927["#seed-input"]&&(_this927["#seed-slider"].value=_this927["#seed-input"].value),_this927.qs();}),this["#seed-box"].addEventListener("changeend",_e1679=function e(){_this927["#seed-box"].removeEventListener("change",t),_this927["#seed-box"].removeEventListener("changeend",_e1679),_this927.Qs.setConfig("bx-triangulatedsurfacegenerator:seed",_this927["#seed-slider"].value);});}},{key:"_C",value:function _C(){var _this928=this;var t,_e1680;this["#colors-box"].addEventListener("change",t=function t(_t2323){_this928.qs();}),this["#colors-box"].addEventListener("changeend",_e1680=function e(){_this928["#colors-box"].removeEventListener("change",t),_this928["#colors-box"].removeEventListener("changeend",_e1680);var i=_toConsumableArray(_this928["#colors-box"].children).map(function(t){return t.value;});_this928.Qs.setConfig("bx-triangulatedsurfacegenerator:colors",i);});}},{key:"CC",value:function(){var _CC=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee179(){var t,e,_t2324;return regeneratorRuntime.wrap(function _callee179$(_context180){while(1){switch(_context180.prev=_context180.next){case 0:_context180.next=2;return fetch("/metadata/palettes/coolors.json");case 2:_context180.next=4;return _context180.sent.json();case 4:t=_context180.sent;e=t[ll(0,t.length-1)];for(_t2324=0;_t2324<5;_t2324+=1){this["#colors-box"].children[_t2324].value=e[_t2324];}this.Qs.setConfig("bx-triangulatedsurfacegenerator:colors",e),this.qs();case 8:case"end":return _context180.stop();}}},_callee179,this);}));function CC(){return _CC.apply(this,arguments);}return CC;}()},{key:"rC",value:function rC(){var t=this["#preview"].cloneNode(!0);t.style.shapeRendering="crispEdges",this.Js.board.undoManager.checkpoint("Generate triangle art"),this.Js.board.insertArtwork(t);}},{key:"MC",value:function MC(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:600;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:400;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:75;var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:.75;var o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:50;s<.02*e&&(s=Z(.02*e));var l=lf((e+4*s)/s),h=lf((i+4*s)/s),a=(l*s-e)/2,r=(h*s-i)/2,d=function d(t,e,i){return(t-e[0])*(i[1]-i[0])/(e[1]-e[0])+i[0];},c=function c(t,e){return nf(of(t,e[0]),e[1]);},p=function p(t){return{x:(t[0][0]+t[1][0]+t[2][0])/3,y:(t[0][1]+t[1][1]+t[2][1])/3};},u=function u(t){return c(d(t,[0,e],[0,1]),[0,1]);},x=function x(t){return c(d(t,[0,i],[0,1]),[0,1]);},b=[],m=[],g="";{var _t2325=s*n/2,_l387=new Math.seedrandom(o);for(var _n659=-a;_n659<e+a;_n659+=s){for(var _e1681=-r;_e1681<i+r;_e1681+=s){var _i1538=_n659+.5*s+(_l387()*_t2325*2-_t2325),_o518=_e1681+.5*s+(_l387()*_t2325*2-_t2325);b.push([lf(_i1538),lf(_o518)]);}}}{var _e1682=Delaunator.from(b).triangles,_i1539=chroma.scale(t).mode("lab");for(var _t2326=0;_t2326<_e1682.length;_t2326+=3){var _s901=[_e1682[_t2326],_e1682[_t2326+1],_e1682[_t2326+2]].map(function(t){return b[t];}),_n660=p(_s901),_o519=_i1539(u(_n660.x)),_l388=_i1539(x(_n660.y)),_h281=chroma.interpolate(_o519,_l388,.5,"lab").css();m.push([_h281,_s901]);}}{var _t2327="";for(var _i1540=0,_m47=m;_i1540<_m47.length;_i1540++){var _m47$_i=_slicedToArray(_m47[_i1540],2),_s902=_m47$_i[0],_m47$_i$=_slicedToArray(_m47$_i[1],3),_n661=_m47$_i$[0],_o520=_m47$_i$[1],_l389=_m47$_i$[2];var _h282=Ve(new DOMRect(0,0,e,i),[new DOMPoint(_n661[0],_n661[1]),new DOMPoint(_o520[0],_o520[1]),new DOMPoint(_l389[0],_l389[1])]);if(_h282.length>1){var _h283=_toArray(_h282),_e1683=_h283[0],_i1541=_h283.slice(1),_n662="M ".concat(_e1683.x," ").concat(_e1683.y);var _iterator1546=_createForOfIteratorHelper(_i1541),_step1546;try{for(_iterator1546.s();!(_step1546=_iterator1546.n()).done;){var _t2328=_step1546.value;_n662+=" L ".concat(_t2328.x," ").concat(_t2328.y);}}catch(err){_iterator1546.e(err);}finally{_iterator1546.f();}_n662+=" Z",_t2327+="<path d=\"".concat(_n662,"\" style=\"fill: ").concat(_s902,";\"></path>");}}g="\n        <svg viewBox=\"0 0 ".concat(e," ").concat(i,"\" style=\"shape-rendering: crispedges;\">\n          <g>").concat(_t2327,"</g>\n        </svg>\n      ");}return qi(_templateObject78(),g);}},{key:"qs",value:function(){var _qs3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee180(){var t,e,i,s,n,o,l;return regeneratorRuntime.wrap(function _callee180$(_context181){while(1){switch(_context181.prev=_context181.next){case 0:t=this["#width-input"].value,e=this["#height-input"].value,i=this["#cell-size-slider"].value/100*nf(t,e),s=this["#variance-slider"].value/100,n=this["#seed-slider"].value,o=_toConsumableArray(this["#colors-box"].children).map(function(t){return t.value;}),l=this.MC(o,t,e,i,s,n);this["#preview"].innerHTML=l.innerHTML,this["#preview"].setAttribute("viewBox","0 0 ".concat(t," ").concat(e));case 2:case"end":return _context181.stop();}}},_callee180,this);}));function qs(){return _qs3.apply(this,arguments);}return qs;}()}]);return af;}(Ug);_defineProperty(af,"nC",Yi(_templateObject463()));_defineProperty(af,"oC",Yi(_templateObject464()));_defineProperty(af,"_shadowStyleSheet",Wi(_templateObject465()));customElements.define("bx-triangulatedsurfacegenerator",af);var rf=/*#__PURE__*/function(_Ug5){_inherits(rf,_Ug5);var _super203=_createSuper(rf);_createClass(rf,[{key:"options",get:function get(){return{width:this["#width-input"].value,height:this["#height-input"].value,columns:this["#columns-input"].value,rows:this["#rows-input"].value,tabSize:this["#tab-size-slider"].value,jitter:this["#jitter-slider"].value,seed:this["#seed-slider"].value,geometryPrecision:this.Js.board.geometryPrecision};}}]);function rf(){var _this929;_classCallCheck(this,rf);_this929=_super203.call(this),_this929.Kc=Zi(_this929.qs,1e3,_assertThisInitialized(_this929)),_this929["#columns-input"].addEventListener("changestart",function(){return _this929.PC();}),_this929["#rows-input"].addEventListener("changestart",function(){return _this929.DC();}),_this929["#width-input"].addEventListener("changestart",function(){return _this929.Rg();}),_this929["#height-input"].addEventListener("changestart",function(){return _this929.Gg();}),_this929["#aspect-ratio-button"].addEventListener("toggle",function(){return _this929.Tg();}),_this929["#tab-size-box"].addEventListener("changestart",function(){return _this929.zC();}),_this929["#jitter-box"].addEventListener("changestart",function(){return _this929.OC();}),_this929["#seed-box"].addEventListener("changestart",function(){return _this929.wk();}),_this929["#generate-button"].addEventListener("click",function(){return _this929.rC();});return _this929;}_createClass(rf,[{key:"connectedCallback",value:function(){var _connectedCallback7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee181(){var _this930=this;var t,e,i,s,n,o,l,h;return regeneratorRuntime.wrap(function _callee181$(_context182){while(1){switch(_context182.prev=_context182.next){case 0:this.Qs=Ai(this,"#app");this.Js=Ai(this,"bx-editor");_context182.t0=Math.seedrandom;if(_context182.t0){_context182.next=6;break;}_context182.next=6;return Ng("/node_modules/seedrandom/seedrandom.min.js");case 6:t=this.Qs.getConfig("bx-jigsawpuzzlegenerator:columns",8),e=this.Qs.getConfig("bx-jigsawpuzzlegenerator:rows",8),i=this.Qs.getConfig("bx-jigsawpuzzlegenerator:width",500),s=this.Qs.getConfig("bx-jigsawpuzzlegenerator:height",400),n=this.Qs.getConfig("bx-jigsawpuzzlegenerator:tabSize",.2),o=this.Qs.getConfig("bx-jigsawpuzzlegenerator:jitter",.02),l=this.Qs.getConfig("bx-jigsawpuzzlegenerator:seed",100),h=this.Qs.getConfig("bx-jigsawpuzzlegenerator:preserveAspectRatio",!1);this["#columns-input"].value=t,this["#rows-input"].value=e,this["#width-input"].value=i,this["#height-input"].value=s,this["#aspect-ratio-button"].toggled=h,this["#aspect-ratio-icon"].name=h?"lock-on":"lock-off",this["#tab-size-slider"].value=Z(100*n,2),this["#tab-size-input"].value=Z(100*n,2),this["#jitter-slider"].value=Z(100*o,2),this["#jitter-input"].value=Z(100*o,2),this["#seed-slider"].value=l,this["#seed-input"].value=l,this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this930.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this930.Kc();});case 8:case"end":return _context182.stop();}}},_callee181,this);}));function connectedCallback(){return _connectedCallback7.apply(this,arguments);}return connectedCallback;}()},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"PC",value:function PC(t){var _this931=this;var _e1684;this["#columns-input"].addEventListener("changeend",_e1684=function e(){_this931["#columns-input"].removeEventListener("changeend",_e1684),_this931.Qs.setConfig("bx-jigsawpuzzlegenerator:columns",_this931["#columns-input"].value),_this931.EC();});}},{key:"DC",value:function DC(t){var _this932=this;var _e1685;this["#rows-input"].addEventListener("changeend",_e1685=function e(){_this932["#rows-input"].removeEventListener("changeend",_e1685),_this932.Qs.setConfig("bx-jigsawpuzzlegenerator:rows",_this932["#rows-input"].value),_this932.EC();});}},{key:"Rg",value:function Rg(){var _this933=this;var t,_e1686,i=this["#width-input"].value/this["#height-input"].value;this["#width-input"].addEventListener("change",t=function t(){if(_this933["#aspect-ratio-button"].toggled){var _t2329=_this933["#width-input"].value/i;_t2329=K(_t2329,1,Infinity,0),_this933["#height-input"].value=_t2329;}_this933.EC();}),this["#width-input"].addEventListener("changeend",_e1686=function e(){_this933["#width-input"].removeEventListener("change",t),_this933["#width-input"].removeEventListener("changeend",_e1686),_this933.Qs.setConfig("bx-jigsawpuzzlegenerator:width",_this933["#width-input"].value),_this933.Qs.setConfig("bx-jigsawpuzzlegenerator:height",_this933["#height-input"].value);});}},{key:"Gg",value:function Gg(){var _this934=this;var t,_e1687,i=this["#height-input"].value/this["#width-input"].value;this["#height-input"].addEventListener("change",t=function t(){if(_this934["#aspect-ratio-button"].toggled){var _t2330=_this934["#height-input"].value/i;_t2330=K(_t2330,1,Infinity,0),_this934["#width-input"].value=_t2330;}_this934.EC();}),this["#height-input"].addEventListener("changeend",_e1687=function e(){_this934["#height-input"].removeEventListener("change",t),_this934["#height-input"].removeEventListener("changeend",_e1687),_this934.Qs.setConfig("bx-jigsawpuzzlegenerator:width",_this934["#width-input"].value),_this934.Qs.setConfig("bx-jigsawpuzzlegenerator:height",_this934["#height-input"].value);});}},{key:"Tg",value:function Tg(){var t=this["#aspect-ratio-button"].toggled;this.Qs.setConfig("bx-jigsawpuzzlegenerator:preserveAspectRatio",t),this["#aspect-ratio-icon"].name=t?"lock-on":"lock-off";}},{key:"zC",value:function zC(){var _this935=this;var t,_e1688;this["#tab-size-box"].addEventListener("change",t=function t(_t2331){_t2331.target===_this935["#tab-size-slider"]?_this935["#tab-size-input"].value=_this935["#tab-size-slider"].value:_t2331.target===_this935["#tab-size-input"]&&(_this935["#tab-size-slider"].value=_this935["#tab-size-input"].value),_this935.EC();}),this["#tab-size-box"].addEventListener("changeend",_e1688=function e(){_this935["#tab-size-box"].removeEventListener("change",t),_this935["#tab-size-box"].removeEventListener("changeend",_e1688),_this935.Qs.setConfig("bx-jigsawpuzzlegenerator:tabSize",_this935["#tab-size-slider"].value/100);});}},{key:"OC",value:function OC(){var _this936=this;var t,_e1689;this["#jitter-box"].addEventListener("change",t=function t(_t2332){_t2332.target===_this936["#jitter-slider"]?_this936["#jitter-input"].value=_this936["#jitter-slider"].value:_t2332.target===_this936["#jitter-input"]&&(_this936["#jitter-slider"].value=_this936["#jitter-input"].value),_this936.EC();}),this["#jitter-box"].addEventListener("changeend",_e1689=function e(){_this936["#jitter-box"].removeEventListener("change",t),_this936["#jitter-box"].removeEventListener("changeend",_e1689),_this936.Qs.setConfig("bx-jigsawpuzzlegenerator:jitter",_this936["#jitter-slider"].value/100);});}},{key:"wk",value:function wk(){var _this937=this;var t,_e1690;this["#seed-box"].addEventListener("change",t=function t(_t2333){_t2333.target===_this937["#seed-slider"]?_this937["#seed-input"].value=_this937["#seed-slider"].value:_t2333.target===_this937["#seed-input"]&&(_this937["#seed-slider"].value=_this937["#seed-input"].value),_this937.EC();}),this["#seed-box"].addEventListener("changeend",_e1690=function e(){_this937["#seed-box"].removeEventListener("change",t),_this937["#seed-box"].removeEventListener("changeend",_e1690),_this937.Qs.setConfig("bx-jigsawpuzzlegenerator:seed",_this937["#seed-slider"].value);});}},{key:"rC",value:function rC(){var t=this["#preview"].cloneNode(!0);this.Js.board.undoManager.checkpoint("Jigsaw puzzle"),this.Js.board.insertArtwork(t);}},{key:"TC",value:function TC(t){var e,i,s,n,o,l,h,a,r,d=t.width,c=t.height,p=t.seed,u=t.tabSize/200,x=t.jitter/100,b=t.columns,m=t.rows,g=new Math.seedrandom(p),f=function f(t,e){return t+g()*(e-t);},w=function w(){o=f(-x,x),v();},v=function v(){var t=a;a=g()>.5,e=a==t?-o:o,i=f(-x,x),s=f(-x,x),n=f(-x,x),o=f(-x,x);},y=function y(){return r?c/m:d/b;},k=function k(){return r?d/b:c/m;},S=function S(t){return Math.round(100*(0+y()*(r?h:l)+y()*t))/100;},_=function _(t){return Math.round(100*(0+k()*(r?l:h)+k()*t*(a?-1:1)))/100;},C=function C(){return S(0);},M=function M(){return _(0);},P=function P(){return S(.2);},D=function D(){return _(e);},z=function z(){return S(.5+i+n);},O=function O(){return _(-u+s);},E=function E(){return S(.5-u+i);},T=function T(){return _(u+s);},A=function A(){return S(.5-2*u+i-n);},$=function $(){return _(3*u+s);},I=function I(){return S(.5+2*u+i-n);},L=function L(){return _(3*u+s);},B=function B(){return S(.5+u+i);},R=function R(){return _(u+s);},G=function G(){return S(.5+i+n);},F=function F(){return _(-u+s);},U=function U(){return S(.8);},N=function N(){return _(o);},V=function V(){return S(1);},j=function j(){return _(0);},H=[],Y=[],W=[];for(r=0,h=0;h<=m;++h){for(l=0,w(),H[h]=[];l<=b;++l){0===h||h===m?H[h].push([{type:"M",values:[C(),M()]},{type:"L",values:[V(),j()]}]):H[h].push([{type:"M",values:[C(),M()]},{type:"C",values:[P(),D(),z(),O(),E(),T()]},{type:"C",values:[A(),$(),I(),L(),B(),R()]},{type:"C",values:[G(),F(),U(),N(),V(),j()]}]),v();}}for(r=1,l=0;l<=b;++l){for(h=0,w(),Y[l]=[];h<=m;++h){0===l||l===b?Y[l].push([{type:"M",values:[M(),C()]},{type:"L",values:[j(),V()]}]):Y[l].push([{type:"M",values:[M(),C()]},{type:"C",values:[D(),P(),O(),z(),T(),E()]},{type:"C",values:[$(),A(),L(),I(),R(),B()]},{type:"C",values:[F(),G(),N(),U(),j(),V()]}]),v();}}for(var _t2334=0;_t2334<b;_t2334+=1){for(var _e1691=0;_e1691<m;_e1691+=1){var _i1542=[].concat(_toConsumableArray(H[_e1691][_t2334]),_toConsumableArray(Y[_t2334+1][_e1691].slice(1)),_toConsumableArray(at(H[_e1691+1][_t2334]).slice(1)),_toConsumableArray(at(Y[_t2334][_e1691]).slice(1)),[{type:"Z"}]);W.push(_i1542);}}return W;}},{key:"qs",value:function qs(){this.EC();}},{key:"EC",value:function EC(){var t=this.TC(this.options),e="";var _iterator1547=_createForOfIteratorHelper(t),_step1547;try{for(_iterator1547.s();!(_step1547=_iterator1547.n()).done;){var _i1543=_step1547.value;e+="<path style=\"fill: white; stroke: black; stroke-width: 1px;\" d=\"".concat(et(_i1543),"\"></path>");}}catch(err){_iterator1547.e(err);}finally{_iterator1547.f();}this["#preview"].innerHTML="<g>".concat(e,"</g>"),this["#preview"].setAttribute("viewBox","0 0 ".concat(this.options.width," ").concat(this.options.height));}}]);return rf;}(Ug);_defineProperty(rf,"nC",Yi(_templateObject466()));_defineProperty(rf,"oC",Yi(_templateObject467()));_defineProperty(rf,"_shadowStyleSheet",Wi(_templateObject468()));customElements.define("bx-jigsawpuzzlegenerator",rf);var df=function df(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"png";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return new Promise(/*#__PURE__*/function(){var _ref163=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee186(s){var _e1692,_n663,_o521,_e1693,_n664,_o522,_e1694,_n665,_o523,_e1695,_n666,_o524;return regeneratorRuntime.wrap(function _callee186$(_context187){while(1){switch(_context187.prev=_context187.next){case 0:if("png"===e){_e1692=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),_n663=URL.createObjectURL(_e1692),_o521=new Image();_o521.src=_n663,_o521.addEventListener("load",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee182(){var t,e,l,h,a,r,d,c,p;return regeneratorRuntime.wrap(function _callee182$(_context183){while(1){switch(_context183.prev=_context183.next){case 0:t=i.background||"rgba(0, 0, 0, 0)",e=i.dpi||96,l=i.colors||0,h=new OffscreenCanvas(_o521.naturalWidth,_o521.naturalHeight),a=h.getContext("2d");a.fillStyle=t,a.fillRect(0,0,_o521.naturalWidth,_o521.naturalHeight),a.drawImage(_o521,0,0);r=a.getImageData(0,0,h.width,h.height),d=UPNG.encode([r.data.buffer],r.width,r.height,l),c=new Uint8Array(d);c=Za(c,e);p=new Blob([c],{type:"image/png"});URL.revokeObjectURL(_n663),s(p);case 6:case"end":return _context183.stop();}}},_callee182);})),{once:!0});}else if("jpeg"===e||"jpg"===e){_e1693=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),_n664=URL.createObjectURL(_e1693),_o522=new Image();_o522.src=_n664,_o522.addEventListener("load",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee183(){var t,e,l,h,a;return regeneratorRuntime.wrap(function _callee183$(_context184){while(1){switch(_context184.prev=_context184.next){case 0:t=i.background||"rgb(255, 255, 255)",e=i.compression||1,l=new OffscreenCanvas(_o522.naturalWidth,_o522.naturalHeight),h=l.getContext("2d");h.fillStyle="white",h.fillRect(0,0,_o522.naturalWidth,_o522.naturalHeight),h.fillStyle=t,h.fillRect(0,0,_o522.naturalWidth,_o522.naturalHeight),h.drawImage(_o522,0,0);_context184.next=4;return l.convertToBlob({type:"image/jpeg",quality:e});case 4:a=_context184.sent;URL.revokeObjectURL(_n664),s(a);case 6:case"end":return _context184.stop();}}},_callee183);})),{once:!0});}else if("gif"===e){_e1694=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),_n665=URL.createObjectURL(_e1694),_o523=new Image();_o523.src=_n665,_o523.addEventListener("load",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee184(){var t,e,n,l,h,a;return regeneratorRuntime.wrap(function _callee184$(_context185){while(1){switch(_context185.prev=_context185.next){case 0:t=i.background?go(i.background,"hex"):"#ffffff",e=i.transparent||!1,n=!1;"floyd-steinberg"===i.dithering?n="FloydSteinberg":"false-floyd-steinberg"===i.dithering?n="FalseFloydSteinberg":"stucki"===i.dithering?n="Stucki":"atkinson"===i.dithering&&(n="Atkinson");l=new OffscreenCanvas(_o523.naturalWidth,_o523.naturalHeight).getContext("2d");l.fillStyle=t,l.fillRect(0,0,_o523.naturalWidth,_o523.naturalHeight),l.drawImage(_o523,0,0);h=l.getImageData(0,0,_o523.naturalWidth,_o523.naturalHeight),a=new GIF({workers:2,quality:1,dither:n,transparent:e?parseInt("0x"+t.substring(1)):null,workerScript:"node_modules/gif.js/dist/gif.worker.js"});a.addFrame(h),a.render(),a.on("finished",function(t){s(t);});case 6:case"end":return _context185.stop();}}},_callee184);})),{once:!0});}else if("webp"===e){_e1695=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),_n666=URL.createObjectURL(_e1695),_o524=new Image();_o524.src=_n666,_o524.addEventListener("load",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee185(){var t,e,l,h,a;return regeneratorRuntime.wrap(function _callee185$(_context186){while(1){switch(_context186.prev=_context186.next){case 0:t=i.background||"rgba(255, 255, 255, 0)",e=i.compression||1,l=new OffscreenCanvas(_o524.naturalWidth,_o524.naturalHeight),h=l.getContext("2d");h.fillStyle=t,h.fillRect(0,0,_o524.naturalWidth,_o524.naturalHeight),h.drawImage(_o524,0,0);_context186.next=4;return l.convertToBlob({type:"image/webp",quality:e});case 4:a=_context186.sent;URL.revokeObjectURL(_n666),s(a);case 6:case"end":return _context186.stop();}}},_callee185);})),{once:!0});}case 1:case"end":return _context187.stop();}}},_callee186);}));return function(_x191){return _ref163.apply(this,arguments);};}());};var cf=/*#__PURE__*/function(_Ug6){_inherits(cf,_Ug6);var _super204=_createSuper(cf);function cf(){var _this938;_classCallCheck(this,cf);_this938=_super204.call(this),_this938["#format-buttons"].addEventListener("toggle",function(){return _this938.AC();}),_this938["#ppu-box"].addEventListener("changestart",function(t){return _this938.$C(t);}),_this938["#colors-mode-buttons"].addEventListener("toggle",function(){return _this938.IC();}),_this938["#colors-slider"].addEventListener("changestart",function(){return _this938.LC();}),_this938["#colors-input"].addEventListener("changestart",function(){return _this938.BC();}),_this938["#compression-slider"].addEventListener("changestart",function(){return _this938.RC();}),_this938["#compression-input"].addEventListener("changestart",function(){return _this938.GC();}),_this938["#background-select"].addEventListener("changeend",function(){return _this938.FC();}),_this938["#background-popover"].addEventListener("close",function(){return _this938.UC();}),_this938["#preview-button"].addEventListener("click",function(){return _this938.NC();}),_this938["#generate-button"].addEventListener("click",function(){return _this938.rC();});return _this938;}_createClass(cf,[{key:"connectedCallback",value:function connectedCallback(){var _this939=this;this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");var t=this.Js.board,e=this.Qs.getConfig("bx-rasterizegenerator:format","png"),i=this.Qs.getConfig("bx-rasterizegenerator:ppu",1),s=this.Qs.getConfig("bx-rasterizegenerator:colorsMode","rgb"),n=this.Qs.getConfig("bx-rasterizegenerator:colors",256),o=this.Qs.getConfig("bx-rasterizegenerator:compression",1),l=this.Qs.getConfig("bx-rasterizegenerator:background","rgb(255, 255, 255)");this["#format-buttons"].value=e,this["#ppu-slider"].value=i,this["#ppu-input"].value=i,this["#colors-mode-buttons"].value=s,this["#colors-slider"].value=n,this["#colors-input"].value=n,this["#compression-slider"].value=o,this["#compression-input"].value=o,this["#background-select"].value=l,this.qs(),t.addEventListener("selectedelementschange",this.Qo=function(){_this939.Jo();}),t.addEventListener("workspacemutation",this.rn=function(){_this939.sl();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){this.VC(),this.qs();}},{key:"sl",value:function sl(){this.VC(),this.qs();}},{key:"AC",value:function AC(){this.Qs.setConfig("bx-rasterizegenerator:format",this["#format-buttons"].value),this.VC(),this.qs();}},{key:"$C",value:function $C(t){var _this940=this;var e,_i1544;this.VC(),this["#ppu-box"].addEventListener("change",e=function e(t){t.target===_this940["#ppu-slider"]?_this940["#ppu-input"].value=_this940["#ppu-slider"].value:t.target===_this940["#ppu-input"]&&(_this940["#ppu-slider"].value=_this940["#ppu-input"].value),_this940.qs();}),this["#ppu-box"].addEventListener("changeend",_i1544=function i(){_this940["#ppu-box"].removeEventListener("change",e),_this940["#ppu-box"].removeEventListener("changeend",_i1544),_this940.Qs.setConfig("bx-rasterizegenerator:ppu",_this940["#ppu-slider"].value);});}},{key:"IC",value:function IC(){this["#colors-box"].hidden="palette"!==this["#colors-mode-buttons"].value,this.Qs.setConfig("bx-rasterizegenerator:colorsMode",this["#colors-mode-buttons"].value),this.VC();}},{key:"LC",value:function LC(){var _this941=this;var t,_e1696;this["#colors-slider"].addEventListener("change",t=function t(){_this941["#colors-input"].value=_this941["#colors-slider"].value;}),this["#colors-slider"].addEventListener("changeend",_e1696=function e(){_this941["#colors-slider"].removeEventListener("change",t),_this941["#colors-slider"].removeEventListener("changeend",_e1696),_this941.Qs.setConfig("bx-rasterizegenerator:colors",_this941["#colors-slider"].value),_this941.VC();});}},{key:"BC",value:function BC(){var _this942=this;var t,_e1697;this["#colors-input"].addEventListener("change",t=function t(){_this942["#colors-slider"].value=_this942["#colors-input"].value;}),this["#colors-input"].addEventListener("changeend",_e1697=function e(){_this942["#colors-input"].removeEventListener("change",t),_this942["#colors-input"].removeEventListener("changeend",_e1697),_this942.Qs.setConfig("bx-rasterizegenerator:colors",_this942["#colors-input"].value),_this942.VC();});}},{key:"RC",value:function RC(){var _this943=this;var t,_e1698;this["#compression-slider"].addEventListener("change",t=function t(){_this943["#compression-input"].value=_this943["#compression-slider"].value,_this943.Qs.setConfig("bx-rasterizegenerator:compression",_this943["#compression-slider"].value);}),this["#compression-slider"].addEventListener("changeend",_e1698=function e(){_this943["#compression-slider"].removeEventListener("change",t),_this943["#compression-slider"].removeEventListener("changeend",_e1698),_this943.VC();});}},{key:"GC",value:function GC(){var _this944=this;var t,_e1699;this["#compression-input"].addEventListener("change",t=function t(){_this944["#compression-slider"].value=_this944["#compression-input"].value,_this944.Qs.setConfig("bx-rasterizegenerator:compression",_this944["#compression-input"].value);}),this["#compression-input"].addEventListener("changeend",_e1699=function e(){_this944["#compression-input"].removeEventListener("change",t),_this944["#compression-input"].removeEventListener("changeend",_e1699),_this944.VC();});}},{key:"FC",value:function FC(){this.jC=!0;}},{key:"UC",value:function UC(){this.jC&&(this.jC=!1,this.Qs.setConfig("bx-rasterizegenerator:background",this["#background-select"].value),this.VC());}},{key:"NC",value:function NC(){this.HC();}},{key:"rC",value:function(){var _rC=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee187(){var t,e,i,s,n,o,l,h,a,r,d,c,_iterator1548,_step1548,_t2335;return regeneratorRuntime.wrap(function _callee187$(_context188){while(1){switch(_context188.prev=_context188.next){case 0:t=this.Js.board,e=this["#format-buttons"].value,i=this["#ppu-input"].value,s=t.extractArtworkWithSelectedElements(),n=t.vectorCanvas.getScreenCTM(),o=Bt.fromString(s.getAttribute("viewBox")).toRect(),l=Ue(o,n),h=_toConsumableArray(t.outermostSelectedElements);s.setAttribute("width",Z(o.width*i,0)+"px"),s.setAttribute("height",Z(o.height*i,0)+"px"),s.setAttribute("preserveAspectRatio","none");a={};"png"===e?a={colors:"rgb"===this["#colors-mode-buttons"].value?0:this["#colors-slider"].value}:"jpeg"===e&&(a={background:this["#background-select"].value,compression:this["#compression-input"].value});r=Qp(s);_context188.next=7;return df(r,e,a);case 7:d=_context188.sent;_context188.next=10;return Na(d);case 10:c=_context188.sent;t.undoManager.checkpoint("Rasterize"),t.insertBitmapIntoBBox(c,l);_iterator1548=_createForOfIteratorHelper(h);try{for(_iterator1548.s();!(_step1548=_iterator1548.n()).done;){_t2335=_step1548.value;_t2335.remove();}}catch(err){_iterator1548.e(err);}finally{_iterator1548.f();}case 14:case"end":return _context188.stop();}}},_callee187,this);}));function rC(){return _rC.apply(this,arguments);}return rC;}()},{key:"HC",value:function(){var _HC=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee188(){var t,e,i,s,n,o,l,h,a,r;return regeneratorRuntime.wrap(function _callee188$(_context189){while(1){switch(_context189.prev=_context189.next){case 0:this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...";t=this["#format-buttons"].value,e=this["#ppu-input"].value,i=this.Js.board.extractArtworkWithSelectedElements(),s=Z(i.viewBox.baseVal.width*e,0),n=Z(i.viewBox.baseVal.height*e,0);i.setAttribute("width",s+"px"),i.setAttribute("height",n+"px"),i.setAttribute("preserveAspectRatio","none");o={};"png"===t?o={colors:"rgb"===this["#colors-mode-buttons"].value?0:this["#colors-slider"].value}:"jpeg"===t&&(o={background:this["#background-select"].value,compression:this["#compression-input"].value});l=Qp(i);_context189.next=8;return df(l,t,o);case 8:h=_context189.sent;_context189.next=11;return Na(h);case 11:a=_context189.sent;r=Z(a.length);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",a),this["#preview"].setAttribute("width",s),this["#preview"].setAttribute("height",n),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Data size: "+Ya(r),this["#preview-section"].scrollIntoViewIfNeeded();case 14:case"end":return _context189.stop();}}},_callee188,this);}));function HC(){return _HC.apply(this,arguments);}return HC;}()},{key:"VC",value:function VC(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var t=this.Js.board,e=null;t.outermostSelectedObjectElements.length>0&&(e=Ne(t.outermostSelectedObjectElements.map(function(e){var i=Vt(e,t.currentWorkspace),s=Ci(e);return Ue(s,i);}))),e&&e.width>0&&e.height>0?(this["#options-heading"].disabled=!1,this["#format-heading"].disabled=!1,this["#png-format-button"].disabled=!1,this["#jpeg-format-button"].disabled=!1,this["#ppu-heading"].disabled=!1,this["#ppu-slider"].disabled=!1,this["#ppu-input"].disabled=!1,this["#colors-heading"].disabled=!1,this["#colors-rgb-button"].disabled=!1,this["#colors-palette-button"].disabled=!1,this["#colors-slider"].disabled=!1,this["#colors-input"].disabled=!1,this["#compression-heading"].disabled=!1,this["#compression-slider"].disabled=!1,this["#compression-input"].disabled=!1,this["#background-heading"].disabled=!1,this["#background-select"].disabled=!1,this["#preview-heading"].disabled=!1,this["#preview-button"].disabled=!1,this["#generate-button"].disabled=!1):(this["#options-heading"].disabled=!0,this["#format-heading"].disabled=!0,this["#png-format-button"].disabled=!0,this["#jpeg-format-button"].disabled=!0,this["#ppu-heading"].disabled=!0,this["#ppu-slider"].disabled=!0,this["#ppu-input"].disabled=!0,this["#colors-heading"].disabled=!0,this["#colors-rgb-button"].disabled=!0,this["#colors-palette-button"].disabled=!0,this["#colors-slider"].disabled=!0,this["#colors-input"].disabled=!0,this["#compression-heading"].disabled=!0,this["#compression-slider"].disabled=!0,this["#compression-input"].disabled=!0,this["#background-heading"].disabled=!0,this["#background-select"].disabled=!0,this["#preview-heading"].disabled=!0,this["#preview-button"].disabled=!0,this["#generate-button"].disabled=!0),"png"===this["#format-buttons"].value?(this["#colors-subsection"].hidden=!1,this["#compression-subsection"].hidden=!0,this["#background-subsection"].hidden=!0,"palette"===this["#colors-mode-buttons"].value?this["#colors-box"].hidden=!1:this["#colors-box"].hidden=!0):"jpeg"===this["#format-buttons"].value&&(this["#colors-subsection"].hidden=!0,this["#compression-subsection"].hidden=!1,this["#background-subsection"].hidden=!1);}}]);return cf;}(Ug);_defineProperty(cf,"nC",Yi(_templateObject469()));_defineProperty(cf,"oC",Yi(_templateObject470()));_defineProperty(cf,"_shadowStyleSheet",Wi(_templateObject471()));customElements.define("bx-rasterizegenerator",cf);var pf=/*#__PURE__*/function(_HTMLElement127){_inherits(pf,_HTMLElement127);var _super205=_createSuper(pf);_createClass(pf,[{key:"value",get:function get(){return Array.isArray(this._t)?_toConsumableArray(this._t):this._t;},set:function set(t){this._t=Array.isArray(t)?_toConsumableArray(t):t,this.qs();}},{key:"suffix",get:function get(){return this.hasAttribute("suffix")?this.getAttribute("suffix"):"";},set:function set(t){this.setAttribute("suffix",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function pf(){var _this945;_classCallCheck(this,pf);_this945=_super205.call(this),_this945._t=[0,0,0,0],_this945._shadowRoot=_this945.attachShadow({mode:"closed"}),_this945._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,pf._shadowStyleSheet],_this945._shadowRoot.append(document.importNode(pf._shadowTemplate.content,!0));var _iterator1549=_createForOfIteratorHelper(_this945._shadowRoot.querySelectorAll("[id]")),_step1549;try{for(_iterator1549.s();!(_step1549=_iterator1549.n()).done;){var _t2336=_step1549.value;_this945["#"+_t2336.id]=_t2336;}}catch(err){_iterator1549.e(err);}finally{_iterator1549.f();}_this945["#top-input"].addEventListener("changestart",function(t){return _this945.YC(t);}),_this945["#right-input"].addEventListener("changestart",function(t){return _this945.WC(t);}),_this945["#bottom-input"].addEventListener("changestart",function(t){return _this945.qC(t);}),_this945["#left-input"].addEventListener("changestart",function(t){return _this945.XC(t);}),_this945["#uniform-button"].addEventListener("toggle",function(){return _this945.ZC();});return _this945;}_createClass(pf,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("suffix"===t?this.KC():"disabled"===t&&this.qs());}},{key:"connectedCallback",value:function connectedCallback(){this.setAttribute("aria-disabled",this.disabled),this.qs();}},{key:"YC",value:function YC(){var _this946=this;var t,_e1700,i=!1===Array.isArray(this.value);this.dispatchEvent(new CustomEvent("changestart")),this["#top-input"].addEventListener("change",t=function t(){i?(_this946._t=_this946["#top-input"].value,_this946["#left-input"].value=_this946["#top-input"].value,_this946["#right-input"].value=_this946["#top-input"].value,_this946["#bottom-input"].value=_this946["#top-input"].value):_this946._t[0]=_this946["#top-input"].value,_this946.dispatchEvent(new CustomEvent("change"));}),this["#top-input"].addEventListener("changeend",_e1700=function e(){_this946["#top-input"].removeEventListener("change",t),_this946["#top-input"].removeEventListener("changeend",_e1700),_this946.dispatchEvent(new CustomEvent("changeend"));});}},{key:"WC",value:function WC(){var _this947=this;var t,_e1701,i=!1===Array.isArray(this.value);this.dispatchEvent(new CustomEvent("changestart")),this["#right-input"].addEventListener("change",t=function t(){i?_this947._t=_this947["#top-input"].value:_this947._t[1]=_this947["#right-input"].value,_this947.dispatchEvent(new CustomEvent("change"));}),this["#right-input"].addEventListener("changeend",_e1701=function e(){_this947["#right-input"].removeEventListener("change",t),_this947["#right-input"].removeEventListener("changeend",_e1701),_this947.dispatchEvent(new CustomEvent("changeend"));});}},{key:"qC",value:function qC(){var _this948=this;var t,_e1702,i=!1===Array.isArray(this.value);this.dispatchEvent(new CustomEvent("changestart")),this["#bottom-input"].addEventListener("change",t=function t(){i?_this948._t=_this948["#bottom-input"].value:_this948._t[2]=_this948["#bottom-input"].value,_this948.dispatchEvent(new CustomEvent("change"));}),this["#bottom-input"].addEventListener("changeend",_e1702=function e(){_this948["#bottom-input"].removeEventListener("change",t),_this948["#bottom-input"].removeEventListener("changeend",_e1702),_this948.dispatchEvent(new CustomEvent("changeend"));});}},{key:"XC",value:function XC(){var _this949=this;var t,_e1703,i=!1===Array.isArray(this.value);this.dispatchEvent(new CustomEvent("changestart")),this["#left-input"].addEventListener("change",t=function t(){i?_this949._t=_this949["#left-input"].value:_this949._t[3]=_this949["#left-input"].value,_this949.dispatchEvent(new CustomEvent("change"));}),this["#left-input"].addEventListener("changeend",_e1703=function e(){_this949["#left-input"].removeEventListener("change",t),_this949["#left-input"].removeEventListener("changeend",_e1703),_this949.dispatchEvent(new CustomEvent("changeend"));});}},{key:"ZC",value:function ZC(){this["#uniform-button"].toggled?this.value=this["#top-input"].value:this.value=[this["#top-input"].value,this["#top-input"].value,this["#top-input"].value,this["#top-input"].value],this.dispatchEvent(new CustomEvent("changestart")),this.dispatchEvent(new CustomEvent("change")),this.dispatchEvent(new CustomEvent("changeend"));}},{key:"KC",value:function KC(){this["#left-input"].suffix=this.suffix,this["#right-input"].suffix=this.suffix,this["#top-input"].suffix=this.suffix,this["#bottom-input"].suffix=this.suffix;}},{key:"qs",value:function qs(){if(Array.isArray(this.value)){var _this$value6=_slicedToArray(this.value,4),_t2337=_this$value6[0],_e1704=_this$value6[1],_i1545=_this$value6[2],_s903=_this$value6[3];this["#top-input"].value=_t2337,this["#top-input"].disabled=this.disabled,this["#right-input"].value=_e1704,this["#right-input"].disabled=this.disabled,this["#bottom-input"].value=_i1545,this["#bottom-input"].disabled=this.disabled,this["#left-input"].value=_s903,this["#left-input"].disabled=this.disabled,this["#uniform-button"].toggled=!1,this["#uniform-button"].disabled=this.disabled;}else this["#top-input"].value=this.value,this["#top-input"].disabled=this.disabled,this["#right-input"].value=this.value,this["#right-input"].disabled=!0,this["#bottom-input"].value=this.value,this["#bottom-input"].disabled=!0,this["#left-input"].value=this.value,this["#left-input"].disabled=!0,this["#uniform-button"].toggled=!0,this["#uniform-button"].disabled=this.disabled;}}]);return pf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(pf,"observedAttributes",["suffix","disabled"]);_defineProperty(pf,"_shadowTemplate",Yi(_templateObject472()));_defineProperty(pf,"_shadowStyleSheet",Wi(_templateObject473()));customElements.define("bx-edgeinput",pf);var uf=Array.isArray;var xf=/*#__PURE__*/function(_Ug7){_inherits(xf,_Ug7);var _super206=_createSuper(xf);function xf(){var _this950;_classCallCheck(this,xf);_this950=_super206.call(this),_this950.QC=Zi(_this950.EC,1e3,_assertThisInitialized(_this950)),_this950["#area-buttons"].addEventListener("toggle",function(){return _this950.JC();}),_this950["#padding-input"].addEventListener("changestart",function(){return _this950.tM();}),_this950["#origin-switch"].addEventListener("toggle",function(){return _this950.eM();}),_this950["#origin-x-input"].addEventListener("changestart",function(){return _this950.If();}),_this950["#origin-y-input"].addEventListener("changestart",function(){return _this950.Lf();}),_this950["#generate-button"].addEventListener("click",function(){return _this950.rC();});return _this950;}_createClass(xf,[{key:"connectedCallback",value:function connectedCallback(){var _this951=this;this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");var t=this.Js.board;t.addEventListener("selectedelementschange",this.Qo=function(){_this951.Jo();}),t.addEventListener("workspacemutation",this.rn=function(){_this951.sl();}),this.iM(!0),this.EC(),this.sM();}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){"selected"===this["#area-buttons"].value&&(this.EC(),this.sM());}},{key:"sl",value:function sl(){this.iM(),this.sM(),this.QC();}},{key:"JC",value:function JC(){this.Qs.setConfig("bx-resizeviewgenerator:area",this["#area-buttons"].value),this.EC(),this.sM();}},{key:"tM",value:function tM(){var _this952=this;var t,_e1705;this["#padding-input"].addEventListener("change",t=function t(){_this952.iM();}),this["#padding-input"].addEventListener("changeend",_e1705=function e(){_this952["#padding-input"].removeEventListener("change",t),_this952["#padding-input"].removeEventListener("changeend",_e1705),_this952.EC(),_this952.Qs.setConfig("bx-resizeviewgenerator:padding",_this952["#padding-input"].value);});}},{key:"eM",value:function eM(){this["#origin-switch"].toggled?this.Qs.setConfig("bx-resizeviewgenerator:origin",[0,0]):this.Qs.setConfig("bx-resizeviewgenerator:origin",null),this.iM(),this.EC();}},{key:"If",value:function If(){var _this953=this;var t,_e1706;this["#origin-x-input"].addEventListener("change",t=function t(){_this953["#preview-x-td"].textContent=_this953["#origin-x-input"].value;}),this["#origin-x-input"].addEventListener("changeend",_e1706=function e(){_this953["#origin-x-input"].removeEventListener("change",t),_this953["#origin-x-input"].removeEventListener("changeend",_e1706);var i=[_this953["#origin-x-input"].value,_this953["#origin-y-input"].value];_this953.Qs.setConfig("bx-resizeviewgenerator:origin",i);});}},{key:"Lf",value:function Lf(){var _this954=this;var t,_e1707;this["#origin-y-input"].addEventListener("change",t=function t(){_this954["#preview-y-td"].textContent=_this954["#origin-y-input"].value;}),this["#origin-y-input"].addEventListener("changeend",_e1707=function e(){_this954["#origin-y-input"].removeEventListener("change",t),_this954["#origin-y-input"].removeEventListener("changeend",_e1707);var i=[_this954["#origin-x-input"].value,_this954["#origin-y-input"].value];_this954.Qs.setConfig("bx-resizeviewgenerator:origin",i);});}},{key:"rC",value:function rC(){var t=this.Js.board,e=[];if("all"===this["#area-buttons"].value){var _iterator1550=_createForOfIteratorHelper(t.currentWorkspace.children),_step1550;try{for(_iterator1550.s();!(_step1550=_iterator1550.n()).done;){var _i1546=_step1550.value;g.includes(_i1546.localName)&&e.push(_i1546);}}catch(err){_iterator1550.e(err);}finally{_iterator1550.f();}}else"selected"===this["#area-buttons"].value&&(e=t.outermostSelectedObjectElements);if(e.length>0){t.undoManager.checkpoint("Resize view");var _i1547=e.map(function(t){return Mi(t);}),_s904=Ue(Ne(_i1547),jt(t.currentWorkspace).inverse()),_n667=this["#padding-input"].value;!1===uf(_n667)&&(_n667=[_n667,_n667,_n667,_n667]);var _n668=_n667,_n669=_slicedToArray(_n668,4),_o525=_n669[0],_l390=_n669[1],_h284=_n669[2],_a225=_n669[3];if(!1===this["#origin-switch"].toggled)_s904.x-=_a225,_s904.y-=_o525,_s904.width+=_a225+_l390,_s904.height+=_o525+_h284,_s904=Fe(_s904,t.geometryPrecision);else{var _i1548=this["#origin-x-input"].value-_s904.x+_a225,_n670=this["#origin-y-input"].value-_s904.y+_o525;_s904.x=this["#origin-x-input"].value,_s904.y=this["#origin-y-input"].value,_s904.width+=_a225+_l390,_s904.height+=_o525+_h284,_s904=Fe(_s904,t.geometryPrecision);var _iterator1551=_createForOfIteratorHelper(e),_step1551;try{for(_iterator1551.s();!(_step1551=_iterator1551.n()).done;){var _s905=_step1551.value;if(g.includes(_s905.localName)){var _e1708=Vt(_s905,t.vectorCanvas),_o526=_e1708.inverse(),_l391=Nt(_s905),_h285=DOMMatrix.fromMatrix(_l391);_h285.multiplySelf(_o526),_h285.translateSelf(_i1548,_n670),_h285.multiplySelf(_e1708),_s905.setAttribute("transform",_h285.toString()),mh(_s905,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});}}}catch(err){_iterator1551.e(err);}finally{_iterator1551.f();}}if(this["#view-select"].value.startsWith("#")){t.currentWorkspace.querySelector(this["#view-select"].value).setAttribute("viewBox","".concat(_s904.x," ").concat(_s904.y," ").concat(_s904.width," ").concat(_s904.height));}else t.currentWorkspace.setAttribute("viewBox","".concat(_s904.x," ").concat(_s904.y," ").concat(_s904.width," ").concat(_s904.height));}}},{key:"iM",value:function iM(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.Js.board,i=e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]");!1===e.currentWorkspace.hasAttribute("viewBox")&&0===i.length?this["#options-heading"].disabled=!0:this["#options-heading"].disabled=!1;{var _t2338=[];e.currentWorkspace.hasAttribute("viewBox")&&_t2338.push(["default","Default view"]);var _iterator1552=_createForOfIteratorHelper(i),_step1552;try{for(_iterator1552.s();!(_step1552=_iterator1552.n()).done;){var _e1710=_step1552.value;var _i1552=_e1710.querySelector(":scope > bx-title"),_s907="#"+_e1710.id;_t2338.push([_s907,_i1552?_i1552.textContent:_s907]);}}catch(err){_iterator1552.e(err);}finally{_iterator1552.f();}{var _e1709="",_i1549=this["#view-select"].value||"default";for(var _i1550=0,_t2339=_t2338;_i1550<_t2339.length;_i1550++){var _t2339$_i=_slicedToArray(_t2339[_i1550],2),_i1551=_t2339$_i[0],_s906=_t2339$_i[1];_e1709+="<x-menuitem value=\"".concat(_i1551,"\"><x-label>").concat(_s906,"</x-label></x-menuitem>");}this["#view-select"].value=null,this["#view-menu"].innerHTML=_e1709,0===_t2338.length?(this["#view-subsection"].hidden=!0,this["#view-select"].value=null):1===_t2338.length?(this["#view-subsection"].hidden=!0,this["#view-select"].value=_t2338[0][0]):(this["#view-subsection"].hidden=!1,void 0!==_t2338.find(function(_ref168){var _ref169=_slicedToArray(_ref168,1),t=_ref169[0];return t===_i1549;})?this["#view-select"].value=_i1549:this["#view-select"].value=_t2338[0][0]);}}if(t){var _t2340=this.Qs.getConfig("bx-resizeviewgenerator:area","all");this["#area-buttons"].value=_t2340;}if(null===this["#view-select"].value?(this["#area-heading"].disabled=!0,this["#all-area-button"].disabled=!0,this["#selected-area-button"].disabled=!0):(this["#area-heading"].disabled=!1,this["#all-area-button"].disabled=!1,this["#selected-area-button"].disabled=!1),t&&(this["#padding-input"].value=this.Qs.getConfig("bx-resizeviewgenerator:padding",0)),null===this["#view-select"].value?(this["#padding-heading"].disabled=!0,this["#padding-input"].disabled=!0):(this["#padding-heading"].disabled=!1,this["#padding-input"].disabled=!1),t){var _t2341=this.Qs.getConfig("bx-resizeviewgenerator:origin",null);this["#origin-switch"].toggled=uf(_t2341),this["#origin-x-input"].value=uf(_t2341)?_t2341[0]:0,this["#origin-y-input"].value=uf(_t2341)?_t2341[1]:0;}null===this["#view-select"].value?(this["#origin-heading"].disabled=!0,this["#origin-switch"].disabled=!0,this["#origin-x-label"].disabled=!0,this["#origin-x-input"].disabled=!0,this["#origin-y-label"].disabled=!0,this["#origin-y-input"].disabled=!0):(this["#origin-heading"].disabled=!1,this["#origin-switch"].disabled=!1,this["#origin-switch"].toggled?(this["#origin-x-label"].disabled=!1,this["#origin-x-input"].disabled=!1,this["#origin-y-label"].disabled=!1,this["#origin-y-input"].disabled=!1,null===this["#origin-x-input"].value&&(this["#origin-x-input"].value=0),null===this["#origin-y-input"].value&&(this["#origin-y-input"].value=0)):(this["#origin-x-label"].disabled=!0,this["#origin-x-input"].disabled=!0,this["#origin-x-input"].value=null,this["#origin-y-label"].disabled=!0,this["#origin-y-input"].disabled=!0,this["#origin-y-input"].value=null));}},{key:"EC",value:function(){var _EC=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee189(){var t,e,_e1711,_i1553,_iterator1553,_step1553,_i1554,_s908,_n671,_o527,_l392,_l393,_l394,_h286,_a226,_r151,_d119,_c90,_p78;return regeneratorRuntime.wrap(function _callee189$(_context190){while(1){switch(_context190.prev=_context190.next){case 0:t=this.Js.board,e=t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]");if(!(!1===t.currentWorkspace.hasAttribute("viewBox")&&0===e.length)){_context190.next=5;break;}this["#preview-section"].hidden=!0,this["#preview"].src="",this["#preview-section-hr"].hidden=!0;_context190.next=21;break;case 5:_e1711=[],_i1553=[];_iterator1553=_createForOfIteratorHelper(t.currentWorkspace.children);try{for(_iterator1553.s();!(_step1553=_iterator1553.n()).done;){_i1554=_step1553.value;g.includes(_i1554.localName)&&_e1711.push(_i1554);}}catch(err){_iterator1553.e(err);}finally{_iterator1553.f();}if(!("all"===this["#area-buttons"].value?_i1553=[].concat(_e1711):"selected"===this["#area-buttons"].value&&(_i1553=t.outermostSelectedObjectElements),0===_i1553.length)){_context190.next=12;break;}this["#preview-section"].hidden=!0,this["#preview"].src="",this["#preview-section-hr"].hidden=!0;_context190.next=21;break;case 12:_s908=t.extractArtworkWithElements(_e1711),_n671=_i1553.map(function(t){return Mi(t);}),_o527=Ne(_n671),_l392=this["#padding-input"].value;!1===uf(_l392)&&(_l392=[_l392,_l392,_l392,_l392]);_l393=_l392,_l394=_slicedToArray(_l393,4),_h286=_l394[0],_a226=_l394[1],_r151=_l394[2],_d119=_l394[3];_o527=Ue(_o527,jt(t.currentWorkspace).inverse()),_o527=Fe(_o527,t.geometryPrecision),_s908.initialViewBox=new DOMRect(_o527.x,_o527.y,_o527.width,_o527.height),_o527.width+=_d119+_a226,_o527.height+=_h286+_r151,_o527.x-=_d119,_o527.y-=_h286,_o527=Fe(_o527,t.geometryPrecision),_s908.setAttribute("viewBox","".concat(_o527.x," ").concat(_o527.y," ").concat(_o527.width," ").concat(_o527.height)),_s908.setAttribute("width",_o527.width),_s908.setAttribute("height",_o527.height);_c90=Qp(_s908);_context190.next=19;return tu(_c90);case 19:_p78=_context190.sent;this["#preview-section"].hidden=!1,this["#preview-section-hr"].hidden=!1,this["#preview"].setAttribute("src",_p78),this["#origin-switch"].toggled?(this["#preview-x-td"].textContent=this["#origin-x-input"].value,this["#preview-y-td"].textContent=this["#origin-y-input"].value):(this["#preview-x-td"].textContent=_o527.x,this["#preview-y-td"].textContent=_o527.y),this["#preview-width-td"].textContent=_o527.width,this["#preview-height-td"].textContent=_o527.height;case 21:case"end":return _context190.stop();}}},_callee189,this);}));function EC(){return _EC.apply(this,arguments);}return EC;}()},{key:"sM",value:function sM(){var t=this.Js.board,e=t.outermostSelectedObjectElements,i=t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]");!1===t.currentWorkspace.hasAttribute("viewBox")&&0===i.length||"selected"===this["#area-buttons"].value&&0===e.length?this["#generate-button"].disabled=!0:this["#generate-button"].disabled=!1;}}]);return xf;}(Ug);_defineProperty(xf,"nC",Yi(_templateObject474()));_defineProperty(xf,"oC",Yi(_templateObject475()));_defineProperty(xf,"_shadowStyleSheet",Wi(_templateObject476()));customElements.define("bx-resizeviewgenerator",xf);var bf={"default":{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:16,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},blackAndWhite:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:2,minColorRatio:0,colorQuantCycles:1,colorSampling:0,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:0,lineFilter:!1,ignoreWhite:!0},grayscale:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:7,minColorRatio:0,colorQuantCycles:1,colorSampling:0,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},posterized:{workingSize:512,blurRadius:5,blurDelta:20,numberOfColors:5,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},curvy:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:16,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:.01,qtres:1,pathOmit:8,rightAngleEnhance:!1,strokeWidth:1,lineFilter:!0,ignoreWhite:!1},sharp:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:16,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:1,qtres:.01,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},detailed:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:64,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:.5,qtres:.5,pathOmit:0,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},smoothed:{workingSize:512,blurRadius:5,blurDelta:64,numberOfColors:16,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1}};var mf=/*#__PURE__*/function(_Ug8){_inherits(mf,_Ug8);var _super207=_createSuper(mf);_createClass(mf,[{key:"options",get:function get(){return{workingSize:this["#working-size-input"].value,blurRadius:this["#blur-radius-input"].value,blurDelta:this["#blur-delta-input"].value,numberOfColors:this["#number-of-colors-input"].value,minColorRatio:this["#min-color-ratio-input"].value,colorQuantCycles:this["#color-quant-cycles-input"].value,colorSampling:parseInt(this["#color-sampling-buttons"].value),ltres:this["#ltres-input"].value,qtres:this["#qtres-input"].value,pathOmit:this["#path-omit-input"].value,rightAngleEnhance:this["#right-angle-enhance-checkbox"].toggled,strokeWidth:this["#stroke-width-input"].value,lineFilter:this["#line-filter-checkbox"].toggled,ignoreWhite:this["#ignore-white-checkbox"].toggled,geometryPrecision:this.Js.board.geometryPrecision};}}]);function mf(){var _this955;_classCallCheck(this,mf);_this955=_super207.call(this),_this955["#preset-select"].addEventListener("change",function(){return _this955.nM();}),_this955["#working-size-box"].addEventListener("changestart",function(){return _this955.oM();}),_this955["#blur-radius-input"].addEventListener("changestart",function(){return _this955.lM();}),_this955["#blur-delta-input"].addEventListener("changestart",function(){return _this955.hM();}),_this955["#number-of-colors-input"].addEventListener("changestart",function(){return _this955.aM();}),_this955["#min-color-ratio-input"].addEventListener("changestart",function(){return _this955.rM();}),_this955["#color-quant-cycles-input"].addEventListener("changestart",function(){return _this955.dM();}),_this955["#color-sampling-buttons"].addEventListener("toggle",function(){return _this955.cM();}),_this955["#ltres-input"].addEventListener("changestart",function(){return _this955.pM();}),_this955["#qtres-input"].addEventListener("changestart",function(){return _this955.uM();}),_this955["#path-omit-input"].addEventListener("changestart",function(){return _this955.xM();}),_this955["#right-angle-enhance-checkbox"].addEventListener("toggle",function(){return _this955.bM();}),_this955["#stroke-width-box"].addEventListener("changestart",function(){return _this955.mM();}),_this955["#line-filter-checkbox"].addEventListener("toggle",function(){return _this955.gM();}),_this955["#ignore-white-checkbox"].addEventListener("toggle",function(){return _this955.fM();}),_this955["#preview-button"].addEventListener("click",function(){return _this955.NC();}),_this955["#generate-button"].addEventListener("click",function(){return _this955.rC();});return _this955;}_createClass(mf,[{key:"connectedCallback",value:function connectedCallback(){var _this956=this;this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");var t=this.Qs,e=this.Js.board,i=t.getConfig("bx-vectorizegenerator:workingSize",512),s=t.getConfig("bx-vectorizegenerator:blurRadius",0),n=t.getConfig("bx-vectorizegenerator:blurDelta",20),o=t.getConfig("bx-vectorizegenerator:numberOfColors",16),l=t.getConfig("bx-vectorizegenerator:minColorRatio",0),h=t.getConfig("bx-vectorizegenerator:colorQuantCycles",3),a=t.getConfig("bx-vectorizegenerator:colorSampling",2),r=t.getConfig("bx-vectorizegenerator:ltres",1),d=t.getConfig("bx-vectorizegenerator:qtres",1),c=t.getConfig("bx-vectorizegenerator:pathOmit",8),p=t.getConfig("bx-vectorizegenerator:rightAngleEnhance",!0),u=t.getConfig("bx-vectorizegenerator:strokeWidth",1),x=t.getConfig("bx-vectorizegenerator:lineFilter",!1),b=t.getConfig("bx-vectorizegenerator:ignoreWhite",!1);this["#working-size-slider"].value=i,this["#working-size-input"].value=i,this["#blur-radius-input"].value=s,this["#blur-delta-input"].value=n,this["#number-of-colors-input"].value=o,this["#min-color-ratio-input"].value=l,this["#color-quant-cycles-input"].value=h,this["#color-sampling-buttons"].value=a+"",this["#ltres-input"].value=r,this["#qtres-input"].value=d,this["#path-omit-input"].value=c,this["#right-angle-enhance-checkbox"].toggled=p,this["#stroke-width-input"].value=u,this["#stroke-width-slider"].value=u,this["#line-filter-checkbox"].toggled=x,this["#ignore-white-checkbox"].toggled=b,e.addEventListener("selectedelementschange",this.Qo=function(){_this956.VC(),_this956.qs();}),e.addEventListener("workspacemutation",this.rn=function(){_this956.VC(),_this956.qs();}),this.qs(),this.wM();}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"nM",value:function nM(){var t=this["#preset-select"].value,e=bf[t];if(this.VC(),e){for(var _i1555=0,_Object$entries10=Object.entries(e);_i1555<_Object$entries10.length;_i1555++){var _Object$entries10$_i=_slicedToArray(_Object$entries10[_i1555],2),_t2342=_Object$entries10$_i[0],_i1556=_Object$entries10$_i[1];this.Qs.setConfig("bx-vectorizegenerator:".concat(_t2342),_i1556);}this["#working-size-slider"].value=e.workingSize,this["#working-size-input"].value=e.workingSize,this["#blur-radius-input"].value=e.blurRadius,this["#blur-delta-input"].value=e.blurDelta,this["#number-of-colors-input"].value=e.numberOfColors,this["#min-color-ratio-input"].value=e.minColorRatio,this["#color-quant-cycles-input"].value=e.colorQuantCycles,this["#color-sampling-buttons"].value=e.colorSampling+"",this["#ltres-input"].value=e.ltres,this["#qtres-input"].value=e.qtres,this["#path-omit-input"].value=e.pathOmit,this["#right-angle-enhance-checkbox"].toggled=e.rightAngleEnhance,this["#stroke-width-input"].value=e.strokeWidth,this["#stroke-width-slider"].value=e.strokeWidth,this["#line-filter-checkbox"].toggled=e.lineFilter,this["#ignore-white-checkbox"].toggled=e.ignoreWhite;}}},{key:"oM",value:function oM(){var _this957=this;var t,_e1712;this.VC(),this["#working-size-box"].addEventListener("change",t=function t(_t2343){_t2343.target===_this957["#working-size-slider"]?_this957["#working-size-input"].value=_this957["#working-size-slider"].value:_t2343.target===_this957["#working-size-input"]&&(_this957["#working-size-slider"].value=_this957["#working-size-input"].value);}),this["#working-size-box"].addEventListener("changeend",_e1712=function e(){_this957["#working-size-box"].removeEventListener("change",t),_this957["#working-size-box"].removeEventListener("changeend",_e1712),_this957.Qs.setConfig("bx-vectorizegenerator:workingSize",_this957["#working-size-slider"].value),_this957.wM();});}},{key:"lM",value:function lM(){var _this958=this;this.VC(),this["#blur-radius-input"].addEventListener("changeend",function(){_this958.Qs.setConfig("bx-vectorizegenerator:blurRadius",_this958["#blur-radius-input"].value),_this958.wM();},{once:!0});}},{key:"hM",value:function hM(){var _this959=this;this.VC(),this["#blur-delta-input"].addEventListener("changeend",function(){_this959.Qs.setConfig("bx-vectorizegenerator:blurDelta",_this959["#blur-delta-input"].value),_this959.wM();},{once:!0});}},{key:"aM",value:function aM(){var _this960=this;this.VC(),this["#number-of-colors-input"].addEventListener("changeend",function(){_this960.Qs.setConfig("bx-vectorizegenerator:numberOfColors",_this960["#number-of-colors-input"].value),_this960.wM();},{once:!0});}},{key:"rM",value:function rM(){var _this961=this;this.VC(),this["#min-color-ratio-input"].addEventListener("changeend",function(){_this961.Qs.setConfig("bx-vectorizegenerator:minColorRatio",_this961["#min-color-ratio-input"].value),_this961.wM();},{once:!0});}},{key:"dM",value:function dM(){var _this962=this;this.VC(),this["#color-quant-cycles-input"].addEventListener("changeend",function(){_this962.Qs.setConfig("bx-vectorizegenerator:colorQuantCycles",_this962["#color-quant-cycles-input"].value),_this962.wM();});}},{key:"cM",value:function cM(){this.VC(),this.Qs.setConfig("bx-vectorizegenerator:colorSampling",this["#color-sampling-buttons"].value),this.wM();}},{key:"pM",value:function pM(){var _this963=this;this.VC(),this["#ltres-input"].addEventListener("changeend",function(){_this963.Qs.setConfig("bx-vectorizegenerator:ltres",_this963["#ltres-input"].value),_this963.wM();},{once:!0});}},{key:"uM",value:function uM(){var _this964=this;this.VC(),this["#qtres-input"].addEventListener("changeend",function(){_this964.Qs.setConfig("bx-vectorizegenerator:qtres",_this964["#qtres-input"].value),_this964.wM();},{once:!0});}},{key:"xM",value:function xM(){var _this965=this;this.VC(),this["#path-omit-input"].addEventListener("changeend",function(){_this965.Qs.setConfig("bx-vectorizegenerator:pathOmit",_this965["#path-omit-input"].value),_this965.wM();},{once:!0});}},{key:"bM",value:function bM(){this.VC(),this.Qs.setConfig("bx-vectorizegenerator:rightAngleEnhance",this["#right-angle-enhance-checkbox"].toggled),this.wM();}},{key:"mM",value:function mM(){var _this966=this;var t,_e1713;this.VC(),this["#stroke-width-box"].addEventListener("change",t=function t(_t2344){_t2344.target===_this966["#stroke-width-slider"]?_this966["#stroke-width-input"].value=_this966["#stroke-width-slider"].value:_t2344.target===_this966["#stroke-width-input"]&&(_this966["#stroke-width-slider"].value=_this966["#stroke-width-input"].value);}),this["#stroke-width-box"].addEventListener("changeend",_e1713=function e(){_this966["#stroke-width-box"].removeEventListener("change",t),_this966["#stroke-width-box"].removeEventListener("changeend",_e1713),_this966.Qs.setConfig("bx-vectorizegenerator:strokeWidth",_this966["#stroke-width-input"].value),_this966.wM();});}},{key:"gM",value:function gM(){this.VC(),this.Qs.setConfig("bx-vectorizegenerator:lineFilter",this["#line-filter-checkbox"].toggled),this.wM();}},{key:"fM",value:function fM(){this.VC(),this.Qs.setConfig("bx-vectorizegenerator:ignoreWhite",this["#ignore-white-checkbox"].toggled),this.wM();}},{key:"NC",value:function NC(){this.HC();}},{key:"rC",value:function(){var _rC2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee190(){var t,e,i,s,n,o,l,h,a,r,d,c,p,_i1557,_arr75,_e1714,_iterator1554,_step1554,_loop37;return regeneratorRuntime.wrap(function _callee190$(_context191){while(1){switch(_context191.prev=_context191.next){case 0:e=this.Js.board;i=e.selectedElements[0];_context191.next=4;return window.createImageBitmap(i);case 4:s=_context191.sent;n=Nt(i);o=i.getBBox();_context191.next=9;return this.vM(s,this.options);case 9:l=_context191.sent;h=Di(l);a=o.width/h.viewBox.baseVal.width;r=o.height/h.viewBox.baseVal.height;d=o.x-h.viewBox.baseVal.x*a;c=o.y-h.viewBox.baseVal.y*r;p=new DOMMatrix();if(p.multiplySelf(n),p.translateSelf(d,c),p.scaleSelf(a,r),p=Rt(p,e.transformPrecision),e.undoManager.checkpoint("Vectorize"),1===h.children.length)t=h.children[0];else{t=zi("svg:g");for(_i1557=0,_arr75=_toConsumableArray(h.children);_i1557<_arr75.length;_i1557++){_e1714=_arr75[_i1557];t.append(_e1714);}}t.setAttribute("transform",p);_iterator1554=_createForOfIteratorHelper(i.style);try{_loop37=function _loop37(){var e=_step1554.value;var s=i.style.getPropertyValue(e),n=G.find(function(t){return t.name===e;});n&&n.appliesTo.includes(t.localName)&&t.style.setProperty(e,s);};for(_iterator1554.s();!(_step1554=_iterator1554.n()).done;){_loop37();}}catch(err){_iterator1554.e(err);}finally{_iterator1554.f();}i.replaceWith(t),e.selectedElements=[t],e.selectedTextRange=null;case 21:case"end":return _context191.stop();}}},_callee190,this);}));function rC(){return _rC2.apply(this,arguments);}return rC;}()},{key:"vM",value:function vM(t,e){return new Promise(function(i){var s=new Worker("/workers/vectorize.js");s.addEventListener("message",function(t){return i(t.data);},!1),s.postMessage([t,e]);});}},{key:"HC",value:function(){var _HC2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee191(){var t,e,i,s;return regeneratorRuntime.wrap(function _callee191$(_context192){while(1){switch(_context192.prev=_context192.next){case 0:this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...";t=this.Js.board.selectedElements[0];_context192.next=4;return window.createImageBitmap(t);case 4:e=_context192.sent;t.getBoundingClientRect();_context192.next=8;return this.vM(e,this.options);case 8:i=_context192.sent;s=Di(i);s.setAttribute("id","preview"),s.setAttribute("part","preview"),this["#preview"].replaceWith(s),this["#preview"]=s,this["#preview-label"].textContent="",this["#preview-label"].hidden=!0,this["#preview-section"].scrollIntoViewIfNeeded();case 11:case"end":return _context192.stop();}}},_callee191,this);}));function HC(){return _HC2.apply(this,arguments);}return HC;}()},{key:"VC",value:function VC(){this["#preview-button"].hidden=!1,this["#preview"].setAttribute("hidden",""),this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var t=null;1===this.Js.board.outermostSelectedObjectElements.length&&"image"===this.Js.board.outermostSelectedObjectElements[0].localName&&(t=this.Js.board.outermostSelectedObjectElements[0]);var e=null===t;this["#options-heading"].disabled=e,this["#preset-heading"].disabled=e,this["#preset-select"].disabled=e,this["#preprocessing-heading"].disabled=e,this["#working-size-heading"].disabled=e,this["#working-size-slider"].disabled=e,this["#working-size-input"].disabled=e,this["#blur-radius-heading"].disabled=e,this["#blur-radius-input"].disabled=e,this["#blur-delta-heading"].disabled=e,this["#blur-delta-input"].disabled=e,this["#color-heading"].disabled=e,this["#number-of-colors-heading"].disabled=e,this["#number-of-colors-input"].disabled=e,this["#min-color-ratio-heading"].disabled=e,this["#min-color-ratio-input"].disabled=e,this["#color-quant-cycles-heading"].disabled=e,this["#color-quant-cycles-input"].disabled=e,this["#color-sampling-heading"].disabled=e;var _iterator1555=_createForOfIteratorHelper(this["#color-sampling-buttons"].children),_step1555;try{for(_iterator1555.s();!(_step1555=_iterator1555.n()).done;){var _t2345=_step1555.value;_t2345.disabled=e;}}catch(err){_iterator1555.e(err);}finally{_iterator1555.f();}this["#tracing-heading"].disabled=e,this["#ltres-heading"].disabled=e,this["#ltres-input"].disabled=e,this["#qtres-heading"].disabled=e,this["#qtres-input"].disabled=e,this["#path-omit-heading"].disabled=e,this["#path-omit-input"].disabled=e,this["#right-angle-enhance-checkbox"].disabled=e,this["#right-angle-enhance-label"].disabled=e,this["#rendering-heading"].disabled=e,this["#stroke-width-heading"].disabled=e,this["#stroke-width-slider"].disabled=e,this["#stroke-width-input"].disabled=e,this["#line-filter-checkbox"].disabled=e,this["#ignore-white-checkbox"].disabled=e,this["#preview-heading"].disabled=e,this["#preview-button"].disabled=e,this["#generate-button"].disabled=null===t;}},{key:"wM",value:function wM(){var t=null;for(var _i1558=0,_Object$entries11=Object.entries(bf);_i1558<_Object$entries11.length;_i1558++){var _Object$entries11$_i=_slicedToArray(_Object$entries11[_i1558],2),_e1715=_Object$entries11$_i[0],_i1559=_Object$entries11$_i[1];if(this["#working-size-input"].value===_i1559.workingSize&&this["#working-size-slider"].value===_i1559.workingSize&&this["#blur-radius-input"].value===_i1559.blurRadius&&this["#blur-delta-input"].value===_i1559.blurDelta&&this["#number-of-colors-input"].value===_i1559.numberOfColors&&this["#min-color-ratio-input"].value===_i1559.minColorRatio&&this["#color-quant-cycles-input"].value===_i1559.colorQuantCycles&&this["#color-sampling-buttons"].value===_i1559.colorSampling+""&&this["#ltres-input"].value===_i1559.ltres&&this["#qtres-input"].value===_i1559.qtres&&this["#path-omit-input"].value===_i1559.pathOmit&&this["#right-angle-enhance-checkbox"].toggled===_i1559.rightAngleEnhance&&this["#stroke-width-input"].value===_i1559.strokeWidth&&this["#line-filter-checkbox"].toggled===_i1559.lineFilter&&this["#ignore-white-checkbox"].toggled===_i1559.ignoreWhite){t=_e1715;break;}}this["#preset-select"].value=t;}}]);return mf;}(Ug);_defineProperty(mf,"nC",Yi(_templateObject477()));_defineProperty(mf,"oC",Yi(_templateObject478()));_defineProperty(mf,"_shadowStyleSheet",Wi(_templateObject479()));customElements.define("bx-vectorizegenerator",mf);var gf=/*#__PURE__*/function(_Ug9){_inherits(gf,_Ug9);var _super208=_createSuper(gf);_createClass(gf,[{key:"options",get:function get(){return{columns:this["#columns-input"].value,rows:this["#rows-input"].value,pixelSize:this["#pixel-size-input"].value/100,pixelShape:this["#pixel-shape-buttons"].value,renderAs:this["#render-as-buttons"].value,geometryPrecision:this.Js.board.geometryPrecision};}}]);function gf(){var _this967;_classCallCheck(this,gf);_this967=_super208.call(this),_this967.Kc=Zi(_this967.qs,1e3,_assertThisInitialized(_this967)),_this967["#columns-input"].addEventListener("changestart",function(){return _this967.PC();}),_this967["#rows-input"].addEventListener("changestart",function(){return _this967.DC();}),_this967["#pixel-size-box"].addEventListener("changestart",function(){return _this967.Jb();}),_this967["#pixel-shape-buttons"].addEventListener("toggle",function(){return _this967.yM();}),_this967["#render-as-buttons"].addEventListener("toggle",function(){return _this967.kM();}),_this967["#generate-button"].addEventListener("click",function(){return _this967.rC();});return _this967;}_createClass(gf,[{key:"connectedCallback",value:function connectedCallback(){var _this968=this;this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");var t=this.Qs.getConfig("bx-pixelategenerator:columns",20),e=this.Qs.getConfig("bx-pixelategenerator:rows",20),i=this.Qs.getConfig("bx-pixelategenerator:pixelSize",.9),s=this.Qs.getConfig("bx-pixelategenerator:pixelShape","rectangle"),n=this.Qs.getConfig("bx-pixelategenerator:renderAs","paths");this["#columns-input"].value=t,this["#rows-input"].value=e,this["#pixel-size-slider"].value=Z(100*i,2),this["#pixel-size-input"].value=Z(100*i,2),this["#pixel-shape-buttons"].value=s,this["#render-as-buttons"].value=n,this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this968.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this968.Kc();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"PC",value:function PC(t){var _this969=this;var e,_i1560,s=this["#rows-input"].value/this["#columns-input"].value;this["#columns-input"].addEventListener("change",e=function e(){_this969["#rows-input"].value=Math.ceil(_this969["#columns-input"].value*s);}),this["#columns-input"].addEventListener("changeend",_i1560=function i(){_this969["#columns-input"].removeEventListener("change",e),_this969["#columns-input"].removeEventListener("changeend",_i1560),_this969.Qs.setConfig("bx-pixelategenerator:columns",_this969["#columns-input"].value),_this969.Qs.setConfig("bx-pixelategenerator:rows",_this969["#rows-input"].value),_this969.qs();});}},{key:"DC",value:function DC(t){var _this970=this;var e,_i1561,s=this["#columns-input"].value/this["#rows-input"].value;this["#rows-input"].addEventListener("change",e=function e(){_this970["#columns-input"].value=Math.ceil(_this970["#rows-input"].value*s);}),this["#rows-input"].addEventListener("changeend",_i1561=function i(){_this970["#rows-input"].removeEventListener("change",e),_this970["#rows-input"].removeEventListener("changeend",_i1561),_this970.Qs.setConfig("bx-pixelategenerator:columns",_this970["#columns-input"].value),_this970.Qs.setConfig("bx-pixelategenerator:rows",_this970["#rows-input"].value),_this970.qs();});}},{key:"Jb",value:function Jb(){var _this971=this;var t,_e1716;this["#pixel-size-box"].addEventListener("change",t=function t(_t2346){_t2346.target===_this971["#pixel-size-slider"]?_this971["#pixel-size-input"].value=_this971["#pixel-size-slider"].value:_t2346.target===_this971["#pixel-size-input"]&&(_this971["#pixel-size-slider"].value=_this971["#pixel-size-input"].value);}),this["#pixel-size-box"].addEventListener("changeend",_e1716=function e(){_this971["#pixel-size-box"].removeEventListener("change",t),_this971["#pixel-size-box"].removeEventListener("changeend",_e1716),_this971.Qs.setConfig("bx-pixelategenerator:pixelSize",_this971["#pixel-size-slider"].value/100),_this971.qs();});}},{key:"yM",value:function yM(){this.Qs.setConfig("bx-pixelategenerator:pixelShape",this["#pixel-shape-buttons"].value),this.qs();}},{key:"kM",value:function kM(){this.Qs.setConfig("bx-pixelategenerator:renderAs",this["#render-as-buttons"].value);}},{key:"rC",value:function(){var _rC3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee192(){var t,e,i,_t2347,_i1562,_s909,s,n,o,l,_iterator1556,_step1556,_loop38;return regeneratorRuntime.wrap(function _callee192$(_context193){while(1){switch(_context193.prev=_context193.next){case 0:t=this.Js.board,e=null,i=this.Js.board.outermostSelectedObjectElements[0];if(!("image"===i.localName)){_context193.next=7;break;}_context193.next=4;return createImageBitmap(i);case 4:e=_context193.sent;_context193.next=15;break;case 7:_t2347=this.Js.board.extractArtworkWithSelectedElements();_i1562=Qp(_t2347);_context193.next=11;return df(_i1562,"png",{colors:0});case 11:_s909=_context193.sent;_context193.next=14;return createImageBitmap(_s909);case 14:e=_context193.sent;case 15:s=i.getBoundingClientRect();_context193.next=18;return this.SM(e,this.options);case 18:n=_context193.sent;o=Ma(n);o.setAttribute("preserveAspectRatio","none"),t.undoManager.checkpoint("Pixelate");l=t.insertArtworkIntoBBox(o,s);_iterator1556=_createForOfIteratorHelper(i.style);try{_loop38=function _loop38(){var t=_step1556.value;var e=i.style.getPropertyValue(t),s=G.find(function(e){return e.name===t;});s&&s.appliesTo.includes("g")&&l.style.setProperty(t,e);};for(_iterator1556.s();!(_step1556=_iterator1556.n()).done;){_loop38();}}catch(err){_iterator1556.e(err);}finally{_iterator1556.f();}t.selectedElements=[l],t.selectedTextRange=null,i.remove();case 25:case"end":return _context193.stop();}}},_callee192,this);}));function rC(){return _rC3.apply(this,arguments);}return rC;}()},{key:"SM",value:function SM(t,e){return new Promise(function(i){var s=new Worker("/workers/pixelate.js");s.addEventListener("message",function(t){return i(t.data);},!1),s.postMessage([t,e]);});}},{key:"qs",value:function(){var _qs4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee193(){var t,_e1717,_i1563,_e1718,_i1564,_s910,_e1719,_iterator1557,_step1557,_e1721,_iterator1558,_step1558,_e1722,_e1720,_i1565;return regeneratorRuntime.wrap(function _callee193$(_context194){while(1){switch(_context194.prev=_context194.next){case 0:t=null;if(!(1===this.Js.board.outermostSelectedObjectElements.length)){_context194.next=18;break;}_e1717=this.Js.board.outermostSelectedObjectElements[0],_i1563=_e1717.getBoundingClientRect();if(!(_i1563.width>=1&&_i1563.height>=1)){_context194.next=18;break;}if(!("image"===_e1717.localName)){_context194.next=10;break;}_context194.next=7;return createImageBitmap(_e1717);case 7:t=_context194.sent;_context194.next=18;break;case 10:_e1718=this.Js.board.extractArtworkWithSelectedElements();_i1564=Qp(_e1718);_context194.next=14;return df(_i1564,"png",{colors:0});case 14:_s910=_context194.sent;_context194.next=17;return createImageBitmap(_s910);case 17:t=_context194.sent;case 18:if(this["#options-heading"].disabled=null===t,this["#columns-heading"].disabled=null===t,this["#columns-input"].disabled=null===t,this["#rows-heading"].disabled=null===t,this["#rows-input"].disabled=null===t,t){_e1719=t.height/t.width;this["#rows-input"].value=Math.floor(this["#columns-input"].value*_e1719);}this["#pixel-size-heading"].disabled=null===t,this["#pixel-size-slider"].disabled=null===t,this["#pixel-size-input"].disabled=null===t,this["#pixel-shape-heading"].disabled=null===t;_iterator1557=_createForOfIteratorHelper(this["#pixel-shape-buttons"].children);try{for(_iterator1557.s();!(_step1557=_iterator1557.n()).done;){_e1721=_step1557.value;_e1721.disabled=null===t;}}catch(err){_iterator1557.e(err);}finally{_iterator1557.f();}this["#render-as-heading"].disabled=null===t;_iterator1558=_createForOfIteratorHelper(this["#render-as-buttons"].children);try{for(_iterator1558.s();!(_step1558=_iterator1558.n()).done;){_e1722=_step1558.value;_e1722.disabled=null===t;}}catch(err){_iterator1558.e(err);}finally{_iterator1558.f();}if(!(null===t)){_context194.next=29;break;}this["#preview-section"].hidden=!0,this["#preview"].innerHTML="",this["#preview-section-hr"].hidden=!0;_context194.next=34;break;case 29:_context194.next=31;return this.SM(t,this.options);case 31:_e1720=_context194.sent;_i1565=Di(_e1720);_i1565.setAttribute("id","preview"),_i1565.setAttribute("part","preview"),this["#preview"].replaceWith(_i1565),this["#preview"]=_i1565,this["#preview-section"].hidden=!1,this["#preview-section-hr"].hidden=!1;case 34:this["#generate-button"].disabled=null===t;case 35:case"end":return _context194.stop();}}},_callee193,this);}));function qs(){return _qs4.apply(this,arguments);}return qs;}()}]);return gf;}(Ug);_defineProperty(gf,"nC",Yi(_templateObject480()));_defineProperty(gf,"oC",Yi(_templateObject481()));_defineProperty(gf,"_shadowStyleSheet",Wi(_templateObject482()));customElements.define("bx-pixelategenerator",gf);var ff=/*#__PURE__*/function(_Ug10){_inherits(ff,_Ug10);var _super209=_createSuper(ff);_createClass(ff,[{key:"options",get:function get(){return{cellSize:this["#cell-size-input"].value/100,variance:this["#variance-input"].value/100,seed:this["#seed-input"].value,renderAs:this["#render-as-buttons"].value,geometryPrecision:this.Js.board.geometryPrecision};}}]);function ff(){var _this972;_classCallCheck(this,ff);_this972=_super209.call(this),_this972.Kc=Zi(_this972.qs,1e3,_assertThisInitialized(_this972)),_this972["#cell-size-box"].addEventListener("changestart",function(){return _this972.kC();}),_this972["#variance-box"].addEventListener("changestart",function(){return _this972.SC();}),_this972["#seed-box"].addEventListener("changestart",function(){return _this972.wk();}),_this972["#render-as-buttons"].addEventListener("toggle",function(){return _this972.kM();}),_this972["#generate-button"].addEventListener("click",function(){return _this972.rC();});return _this972;}_createClass(ff,[{key:"connectedCallback",value:function connectedCallback(){var _this973=this;this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");var t=this.Qs.getConfig("bx-triangulategenerator:cellSize",.1),e=this.Qs.getConfig("bx-triangulategenerator:variance",.75),i=this.Qs.getConfig("bx-triangulategenerator:seed",100),s=this.Qs.getConfig("bx-triangulategenerator:renderAs","paths");this["#cell-size-slider"].value=Z(100*t,2),this["#cell-size-input"].value=Z(100*t,2),this["#variance-slider"].value=Z(100*e,2),this["#variance-input"].value=Z(100*e,2),this["#seed-slider"].value=i,this["#seed-input"].value=i,this["#render-as-buttons"].value=s,this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this973.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this973.Kc();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"kC",value:function kC(){var _this974=this;var t,_e1723;this["#cell-size-box"].addEventListener("change",t=function t(_t2348){_t2348.target===_this974["#cell-size-slider"]?_this974["#cell-size-input"].value=_this974["#cell-size-slider"].value:_t2348.target===_this974["#cell-size-input"]&&(_this974["#cell-size-slider"].value=_this974["#cell-size-input"].value);}),this["#cell-size-box"].addEventListener("changeend",_e1723=function e(){_this974["#cell-size-box"].removeEventListener("change",t),_this974["#cell-size-box"].removeEventListener("changeend",_e1723),_this974.Qs.setConfig("bx-triangulategenerator:cellSize",_this974["#cell-size-slider"].value/100),_this974.qs();});}},{key:"SC",value:function SC(){var _this975=this;var t,_e1724;this["#variance-box"].addEventListener("change",t=function t(_t2349){_t2349.target===_this975["#variance-slider"]?_this975["#variance-input"].value=_this975["#variance-slider"].value:_t2349.target===_this975["#variance-input"]&&(_this975["#variance-slider"].value=_this975["#variance-input"].value);}),this["#variance-box"].addEventListener("changeend",_e1724=function e(){_this975["#variance-box"].removeEventListener("change",t),_this975["#variance-box"].removeEventListener("changeend",_e1724),_this975.Qs.setConfig("bx-triangulategenerator:variance",_this975["#variance-slider"].value/100),_this975.qs();});}},{key:"wk",value:function wk(){var _this976=this;var t,_e1725;this["#seed-box"].addEventListener("change",t=function t(_t2350){_t2350.target===_this976["#seed-slider"]?_this976["#seed-input"].value=_this976["#seed-slider"].value:_t2350.target===_this976["#seed-input"]&&(_this976["#seed-slider"].value=_this976["#seed-input"].value);}),this["#seed-box"].addEventListener("changeend",_e1725=function e(){_this976["#seed-box"].removeEventListener("change",t),_this976["#seed-box"].removeEventListener("changeend",_e1725),_this976.Qs.setConfig("bx-triangulategenerator:seed",_this976["#seed-slider"].value),_this976.qs();});}},{key:"kM",value:function kM(){this.Qs.setConfig("bx-triangulategenerator:renderAs",this["#render-as-buttons"].value);}},{key:"rC",value:function(){var _rC4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee194(){var t,e,i,_t2351,_i1566,_s911,s,n,o,l,_iterator1559,_step1559,_loop39;return regeneratorRuntime.wrap(function _callee194$(_context195){while(1){switch(_context195.prev=_context195.next){case 0:t=this.Js.board,e=null,i=this.Js.board.outermostSelectedObjectElements[0];if(!("image"===i.localName)){_context195.next=7;break;}_context195.next=4;return createImageBitmap(i);case 4:e=_context195.sent;_context195.next=15;break;case 7:_t2351=this.Js.board.extractArtworkWithSelectedElements();_i1566=Qp(_t2351);_context195.next=11;return df(_i1566,"png",{colors:0});case 11:_s911=_context195.sent;_context195.next=14;return createImageBitmap(_s911);case 14:e=_context195.sent;case 15:s=i.getBoundingClientRect();_context195.next=18;return this._M(e,this.options);case 18:n=_context195.sent;o=Ma(n);o.setAttribute("preserveAspectRatio","none"),t.undoManager.checkpoint("Triangulate");l=t.insertArtworkIntoBBox(o,s);_iterator1559=_createForOfIteratorHelper(i.style);try{_loop39=function _loop39(){var t=_step1559.value;var e=i.style.getPropertyValue(t),s=G.find(function(e){return e.name===t;});s&&s.appliesTo.includes("g")&&l.style.setProperty(t,e);};for(_iterator1559.s();!(_step1559=_iterator1559.n()).done;){_loop39();}}catch(err){_iterator1559.e(err);}finally{_iterator1559.f();}t.selectedElements=[l],t.selectedTextRange=null,i.remove();case 25:case"end":return _context195.stop();}}},_callee194,this);}));function rC(){return _rC4.apply(this,arguments);}return rC;}()},{key:"_M",value:function _M(t,e){return new Promise(function(i){var s=new Worker("/workers/triangulate.js");s.addEventListener("message",function(t){return i(t.data);},!1),s.postMessage([t,e]);});}},{key:"qs",value:function(){var _qs5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee195(){var t,_e1726,_i1567,_e1727,_i1568,_s912,_iterator1560,_step1560,_e1729,_e1728,_i1569;return regeneratorRuntime.wrap(function _callee195$(_context196){while(1){switch(_context196.prev=_context196.next){case 0:t=null;if(!(1===this.Js.board.outermostSelectedObjectElements.length)){_context196.next=18;break;}_e1726=this.Js.board.outermostSelectedObjectElements[0],_i1567=_e1726.getBoundingClientRect();if(!(_i1567.width>=1&&_i1567.height>=1)){_context196.next=18;break;}if(!("image"===_e1726.localName)){_context196.next=10;break;}_context196.next=7;return createImageBitmap(_e1726);case 7:t=_context196.sent;_context196.next=18;break;case 10:_e1727=this.Js.board.extractArtworkWithSelectedElements();_i1568=Qp(_e1727);_context196.next=14;return df(_i1568,"png",{colors:0});case 14:_s912=_context196.sent;_context196.next=17;return createImageBitmap(_s912);case 17:t=_context196.sent;case 18:this["#options-heading"].disabled=null===t,this["#cell-size-heading"].disabled=null===t,this["#cell-size-slider"].disabled=null===t,this["#cell-size-input"].disabled=null===t,this["#variance-heading"].disabled=null===t,this["#variance-slider"].disabled=null===t,this["#variance-input"].disabled=null===t,this["#seed-heading"].disabled=null===t,this["#seed-slider"].disabled=null===t,this["#seed-input"].disabled=null===t,this["#render-as-heading"].disabled=null===t;_iterator1560=_createForOfIteratorHelper(this["#render-as-buttons"].children);try{for(_iterator1560.s();!(_step1560=_iterator1560.n()).done;){_e1729=_step1560.value;_e1729.disabled=null===t;}}catch(err){_iterator1560.e(err);}finally{_iterator1560.f();}if(!(null===t)){_context196.next=25;break;}this["#preview-section"].hidden=!0,this["#preview"].innerHTML="",this["#preview-section-hr"].hidden=!0;_context196.next=30;break;case 25:_context196.next=27;return this._M(t,this.options);case 27:_e1728=_context196.sent;_i1569=Di(_e1728);_i1569.setAttribute("id","preview"),_i1569.setAttribute("part","preview"),this["#preview"].replaceWith(_i1569),this["#preview"]=_i1569,this["#preview-section"].hidden=!1,this["#preview-section-hr"].hidden=!1;case 30:this["#generate-button"].disabled=null===t;case 31:case"end":return _context196.stop();}}},_callee195,this);}));function qs(){return _qs5.apply(this,arguments);}return qs;}()}]);return ff;}(Ug);_defineProperty(ff,"nC",Yi(_templateObject483()));_defineProperty(ff,"oC",Yi(_templateObject484()));_defineProperty(ff,"_shadowStyleSheet",Wi(_templateObject485()));customElements.define("bx-triangulategenerator",ff);var wf=/*#__PURE__*/function(_Ug11){_inherits(wf,_Ug11);var _super210=_createSuper(wf);_createClass(wf,[{key:"CM",value:function CM(){var _this978=this;return new Promise(function(t){_this978.isConnected?t():_this978.MM.push(t);});}},{key:"options",get:function get(){return{shapesType:this["#shapes-type-buttons"].value,shapesNumber:this["#shapes-number-input"].value,shapesAlpha:this["#shapes-alpha-input"].value,autoAdjustShapesAlpha:this["#auto-adjust-shapes-alpha-checkbox"].toggled,workingSize:this["#working-size-input"].value,shapesPerIteration:this["#shapes-per-iteration-input"].value,maxMutations:this["#max-mutations-input"].value,seed:this["#seed-input"].value,renderAs:this["#render-as-buttons"].value,overflow:this["#overflow-buttons"].value,geometryPrecision:this.Js.board.geometryPrecision,transformPrecision:this.Js.board.transformPrecision};}}]);function wf(){var _this977;_classCallCheck(this,wf);_this977=_super210.call(this),_this977.PM=null,_this977.DM=null,_this977.MM=[],_this977["#shapes-type-buttons"].addEventListener("toggle",function(){return _this977.zM();}),_this977["#render-as-buttons"].addEventListener("toggle",function(){return _this977.kM();}),_this977["#overflow-buttons"].addEventListener("toggle",function(){return _this977.OM();}),_this977["#shapes-number-box"].addEventListener("changestart",function(){return _this977.EM();}),_this977["#shapes-alpha-box"].addEventListener("changestart",function(){return _this977.TM();}),_this977["#auto-adjust-shapes-alpha-checkbox"].addEventListener("toggle",function(){return _this977.AM();}),_this977["#working-size-box"].addEventListener("changestart",function(){return _this977.oM();}),_this977["#shapes-per-iteration-box"].addEventListener("changestart",function(){return _this977.$M();}),_this977["#max-mutations-box"].addEventListener("changestart",function(){return _this977.IM();}),_this977["#seed-box"].addEventListener("changestart",function(){return _this977.wk();}),_this977["#generate-button"].addEventListener("click",function(){return _this977.rC();});return _this977;}_createClass(wf,[{key:"connectedCallback",value:function connectedCallback(){var _this979=this;this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");var t=this.Qs.getConfig("bx-primitivizegenerator:shapesType",["triangles"]),e=this.Qs.getConfig("bx-primitivizegenerator:renderAs","paths"),i=this.Qs.getConfig("bx-primitivizegenerator:overflow","cut"),s=this.Qs.getConfig("bx-primitivizegenerator:shapesNumber",40),n=this.Qs.getConfig("bx-primitivizegenerator:shapesAlpha",.7),o=this.Qs.getConfig("bx-primitivizegenerator:autoAdjustShapesAlpha",!0),l=this.Qs.getConfig("bx-primitivizegenerator:workingSize",128),h=this.Qs.getConfig("bx-primitivizegenerator:shapesPerIteration",200),a=this.Qs.getConfig("bx-primitivizegenerator:maxMutations",16),r=this.Qs.getConfig("bx-primitivizegenerator:seed",100);this["#shapes-type-buttons"].value=t,this["#render-as-buttons"].value=e,this["#overflow-buttons"].value=i,this["#shapes-number-input"].value=s,this["#shapes-number-slider"].value=s,this["#shapes-alpha-input"].value=n,this["#shapes-alpha-slider"].value=n,this["#auto-adjust-shapes-alpha-checkbox"].toggled=o,this["#working-size-slider"].value=l,this["#working-size-input"].value=l,this["#shapes-per-iteration-slider"].value=h,this["#shapes-per-iteration-input"].value=h,this["#max-mutations-slider"].value=a,this["#max-mutations-input"].value=a,this["#seed-slider"].value=r,this["#seed-input"].value=r,this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this979.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this979.qs();}),this.Js.board.undoManager.addEventListener("undo",this.Mh=function(){_this979.LM();}),this.Js.board.undoManager.addEventListener("redo",this.Ph=function(){_this979.LM();}),this.qs();var _iterator1561=_createForOfIteratorHelper(this.MM),_step1561;try{for(_iterator1561.s();!(_step1561=_iterator1561.n()).done;){var _t2352=_step1561.value;_t2352();}}catch(err){_iterator1561.e(err);}finally{_iterator1561.f();}this.MM=[];}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.undoManager.removeEventListener("undo",this.Mh),this.Js.board.undoManager.removeEventListener("redo",this.Ph),null===Ai(this,"bx-generatorspanel")&&this.LM();}},{key:"BM",value:function(){var _BM=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee197(){var _this980=this;var t,e,i,_i1570,_s913,_n672;return regeneratorRuntime.wrap(function _callee197$(_context198){while(1){switch(_context198.prev=_context198.next){case 0:null!==this.PM&&this.LM();t=this.Js.board,e=null,i=t.outermostSelectedObjectElements[0];if(!("image"===i.localName)){_context198.next=8;break;}_context198.next=5;return createImageBitmap(i);case 5:e=_context198.sent;_context198.next=16;break;case 8:_i1570=t.extractArtworkWithSelectedElements();_s913=Qp(_i1570);_context198.next=12;return df(_s913,"png",{colors:0});case 12:_n672=_context198.sent;_context198.next=15;return createImageBitmap(_n672);case 15:e=_context198.sent;case 16:this.PM=new Worker("/workers/primitivize.js"),this.PM.postMessage([e,this.options]),this.DM=i,this["#progress-bar"].value=0,this.qs(),this["#preview"].innerHTML="",this["#preview"].setAttribute("viewBox","0 0 ".concat(e.width," ").concat(e.height)),this["#preview-section"].scrollIntoViewIfNeeded(),this.PM.addEventListener("message",/*#__PURE__*/function(){var _ref170=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee196(e){var _e$data,s,n,_e1730,_s914,_iterator1562,_step1562,_loop40;return regeneratorRuntime.wrap(function _callee196$(_context197){while(1){switch(_context197.prev=_context197.next){case 0:_e$data=_slicedToArray(e.data,2),s=_e$data[0],n=_e$data[1];if(!n.startsWith("<svg")){_context197.next=5;break;}_this980["#progress-bar"].value=s;_context197.next=19;break;case 5:if(!("</svg>"===n)){_context197.next=18;break;}_context197.next=8;return _this980.CM();case 8:if(!i.isConnected){_context197.next=15;break;}_e1730=_this980["#preview"].cloneNode(!0);_e1730.removeAttribute("id"),t.undoManager.checkpoint("Primitivize");_s914=t.insertArtworkIntoBBox(_e1730,i.getBoundingClientRect());_iterator1562=_createForOfIteratorHelper(i.style);try{_loop40=function _loop40(){var t=_step1562.value;var e=i.style.getPropertyValue(t),n=G.find(function(e){return e.name===t;});n&&n.appliesTo.includes("g")&&_s914.style.setProperty(t,e);};for(_iterator1562.s();!(_step1562=_iterator1562.n()).done;){_loop40();}}catch(err){_iterator1562.e(err);}finally{_iterator1562.f();}t.selectedElements=[_s914],t.selectedTextRange=null,i.remove();case 15:_this980["#preview"].innerHTML="",_this980["#progress-bar"].value=-1,_this980.PM.terminate(),_this980.PM=null,_this980.qs();_context197.next=19;break;case 18:_this980["#progress-bar"].value=s,_this980["#preview"].insertAdjacentHTML("beforeend",n);case 19:case"end":return _context197.stop();}}},_callee196);}));return function(_x192){return _ref170.apply(this,arguments);};}());case 17:case"end":return _context198.stop();}}},_callee197,this);}));function BM(){return _BM.apply(this,arguments);}return BM;}()},{key:"RM",value:function RM(){if(null===this.PM)return;var t=this.Js.board,e=this.DM;if(e.isConnected){var _i1571=this["#preview"].cloneNode(!0);_i1571.removeAttribute("id"),t.undoManager.checkpoint("Primitivize");var _s915=t.insertArtworkIntoBBox(_i1571,e.getBoundingClientRect());var _iterator1563=_createForOfIteratorHelper(e.style),_step1563;try{var _loop41=function _loop41(){var t=_step1563.value;var i=e.style.getPropertyValue(t),n=G.find(function(e){return e.name===t;});n&&n.appliesTo.includes("g")&&_s915.style.setProperty(t,i);};for(_iterator1563.s();!(_step1563=_iterator1563.n()).done;){_loop41();}}catch(err){_iterator1563.e(err);}finally{_iterator1563.f();}t.selectedElements=[_s915],t.selectedTextRange=null,e.remove();}this["#preview"].innerHTML="",this["#progress-bar"].value=-1,this.PM.terminate(),this.PM=null,this.DM=null,this.qs();}},{key:"LM",value:function LM(){null!==this.PM&&(this["#preview"].innerHTML="",this["#progress-bar"].value=-1,this.PM.terminate(),this.PM=null,this.DM=null,this.qs());}},{key:"zM",value:function zM(t){this.Qs.setConfig("bx-primitivizegenerator:shapesType",this["#shapes-type-buttons"].value);}},{key:"kM",value:function kM(){this.Qs.setConfig("bx-primitivizegenerator:renderAs",this["#render-as-buttons"].value);}},{key:"OM",value:function OM(){this.Qs.setConfig("bx-primitivizegenerator:overflow",this["#overflow-buttons"].value);}},{key:"EM",value:function EM(){var _this981=this;var t,_e1731;this["#shapes-number-box"].addEventListener("change",t=function t(_t2353){_t2353.target===_this981["#shapes-number-slider"]?_this981["#shapes-number-input"].value=_this981["#shapes-number-slider"].value:_t2353.target===_this981["#shapes-number-input"]&&(_this981["#shapes-number-slider"].value=_this981["#shapes-number-input"].value);}),this["#shapes-number-box"].addEventListener("changeend",_e1731=function e(){_this981["#shapes-number-box"].removeEventListener("change",t),_this981["#shapes-number-box"].removeEventListener("changeend",_e1731),_this981.Qs.setConfig("bx-primitivizegenerator:shapesNumber",_this981["#shapes-number-input"].value);});}},{key:"TM",value:function TM(){var _this982=this;var t,_e1732;this["#shapes-alpha-box"].addEventListener("change",t=function t(_t2354){_t2354.target===_this982["#shapes-alpha-slider"]?_this982["#shapes-alpha-input"].value=_this982["#shapes-alpha-slider"].value:_t2354.target===_this982["#shapes-alpha-input"]&&(_this982["#shapes-alpha-slider"].value=_this982["#shapes-alpha-input"].value);}),this["#shapes-alpha-box"].addEventListener("changeend",_e1732=function e(){_this982["#shapes-alpha-box"].removeEventListener("change",t),_this982["#shapes-alpha-box"].removeEventListener("changeend",_e1732),_this982.Qs.setConfig("bx-primitivizegenerator:shapesAlpha",_this982["#shapes-alpha-input"].value);});}},{key:"AM",value:function AM(){this.Qs.setConfig("bx-primitivizegenerator:autoAdjustShapesAlpha",this["#auto-adjust-shapes-alpha-checkbox"].toggled);}},{key:"oM",value:function oM(){var _this983=this;var t,_e1733;this["#working-size-box"].addEventListener("change",t=function t(_t2355){_t2355.target===_this983["#working-size-slider"]?_this983["#working-size-input"].value=_this983["#working-size-slider"].value:_t2355.target===_this983["#working-size-input"]&&(_this983["#working-size-slider"].value=_this983["#working-size-input"].value),_this983.qs();}),this["#working-size-box"].addEventListener("changeend",_e1733=function e(){_this983["#working-size-box"].removeEventListener("change",t),_this983["#working-size-box"].removeEventListener("changeend",_e1733),_this983.Qs.setConfig("bx-primitivizegenerator:workingSize",_this983["#working-size-slider"].value);});}},{key:"$M",value:function $M(){var _this984=this;var t,_e1734;this["#shapes-per-iteration-box"].addEventListener("change",t=function t(_t2356){_t2356.target===_this984["#shapes-per-iteration-slider"]?_this984["#shapes-per-iteration-input"].value=_this984["#shapes-per-iteration-slider"].value:_t2356.target===_this984["#shapes-per-iteration-input"]&&(_this984["#shapes-per-iteration-slider"].value=_this984["#shapes-per-iteration-input"].value),_this984.qs();}),this["#shapes-per-iteration-box"].addEventListener("changeend",_e1734=function e(){_this984["#shapes-per-iteration-box"].removeEventListener("change",t),_this984["#shapes-per-iteration-box"].removeEventListener("changeend",_e1734),_this984.Qs.setConfig("bx-primitivizegenerator:shapesPerIteration",_this984["#shapes-per-iteration-slider"].value);});}},{key:"IM",value:function IM(){var _this985=this;var t,_e1735;this["#max-mutations-box"].addEventListener("change",t=function t(_t2357){_t2357.target===_this985["#max-mutations-slider"]?_this985["#max-mutations-input"].value=_this985["#max-mutations-slider"].value:_t2357.target===_this985["#max-mutations-input"]&&(_this985["#max-mutations-slider"].value=_this985["#max-mutations-input"].value),_this985.qs();}),this["#max-mutations-box"].addEventListener("changeend",_e1735=function e(){_this985["#max-mutations-box"].removeEventListener("change",t),_this985["#max-mutations-box"].removeEventListener("changeend",_e1735),_this985.Qs.setConfig("bx-primitivizegenerator:maxMutations",_this985["#max-mutations-slider"].value);});}},{key:"wk",value:function wk(){var _this986=this;var t,_e1736;this["#seed-box"].addEventListener("change",t=function t(_t2358){_t2358.target===_this986["#seed-slider"]?_this986["#seed-input"].value=_this986["#seed-slider"].value:_t2358.target===_this986["#seed-input"]&&(_this986["#seed-slider"].value=_this986["#seed-input"].value),_this986.qs();}),this["#seed-box"].addEventListener("changeend",_e1736=function e(){_this986["#seed-box"].removeEventListener("change",t),_this986["#seed-box"].removeEventListener("changeend",_e1736),_this986.Qs.setConfig("bx-primitivizegenerator:seed",_this986["#seed-slider"].value);});}},{key:"rC",value:function(){var _rC5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee198(){return regeneratorRuntime.wrap(function _callee198$(_context199){while(1){switch(_context199.prev=_context199.next){case 0:this.PM?this.RM():this.BM();case 1:case"end":return _context199.stop();}}},_callee198,this);}));function rC(){return _rC5.apply(this,arguments);}return rC;}()},{key:"qs",value:function(){var _qs6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee199(){var t,e,_iterator1564,_step1564,_t2359,_iterator1565,_step1565,_t2360,_iterator1566,_step1566,_t2361;return regeneratorRuntime.wrap(function _callee199$(_context200){while(1){switch(_context200.prev=_context200.next){case 0:t=null;1===this.Js.board.outermostSelectedObjectElements.length&&(t=this.Js.board.outermostSelectedObjectElements[0]);e=null===t||null!==this.PM;this["#options-heading"].disabled=e,this["#shapes-heading"].disabled=e,this["#algorithm-heading"].disabled=e,this["#rendering-heading"].disabled=e,this["#shapes-type-heading"].disabled=e;_iterator1564=_createForOfIteratorHelper(this["#shapes-type-buttons"].children);try{for(_iterator1564.s();!(_step1564=_iterator1564.n()).done;){_t2359=_step1564.value;_t2359.disabled=e;}}catch(err){_iterator1564.e(err);}finally{_iterator1564.f();}this["#shapes-number-heading"].disabled=e,this["#shapes-number-slider"].disabled=e,this["#shapes-number-input"].disabled=e,this["#shapes-alpha-heading"].disabled=e,this["#shapes-alpha-slider"].disabled=e,this["#shapes-alpha-input"].disabled=e,this["#auto-adjust-shapes-alpha-checkbox"].disabled=e,this["#working-size-heading"].disabled=e,this["#working-size-slider"].disabled=e,this["#working-size-input"].disabled=e,this["#shapes-per-iteration-heading"].disabled=e,this["#shapes-per-iteration-slider"].disabled=e,this["#shapes-per-iteration-input"].disabled=e,this["#max-mutations-heading"].disabled=e,this["#max-mutations-slider"].disabled=e,this["#max-mutations-input"].disabled=e,this["#seed-heading"].disabled=e,this["#seed-slider"].disabled=e,this["#seed-input"].disabled=e,this["#overflow-heading"].disabled=e;_iterator1565=_createForOfIteratorHelper(this["#overflow-buttons"].children);try{for(_iterator1565.s();!(_step1565=_iterator1565.n()).done;){_t2360=_step1565.value;_t2360.disabled=e;}}catch(err){_iterator1565.e(err);}finally{_iterator1565.f();}this["#render-as-heading"].disabled=e;_iterator1566=_createForOfIteratorHelper(this["#render-as-buttons"].children);try{for(_iterator1566.s();!(_step1566=_iterator1566.n()).done;){_t2361=_step1566.value;_t2361.disabled=e;}}catch(err){_iterator1566.e(err);}finally{_iterator1566.f();}this["#preview-section"].hidden=null===this.PM,this["#preview-section-hr"].hidden=null===this.PM,null===this.PM?(this["#generate-label"].textContent="Primitivize",this["#generate-button"].disabled=e):(this["#generate-label"].textContent="Stop",this["#generate-button"].disabled=!1);case 13:case"end":return _context200.stop();}}},_callee199,this);}));function qs(){return _qs6.apply(this,arguments);}return qs;}()}]);return wf;}(Ug);_defineProperty(wf,"nC",Yi(_templateObject486()));_defineProperty(wf,"oC",Yi(_templateObject487()));_defineProperty(wf,"_shadowStyleSheet",Wi(_templateObject488()));customElements.define("bx-primitivizegenerator",wf);var vf=/*#__PURE__*/function(_HTMLElement128){_inherits(vf,_HTMLElement128);var _super211=_createSuper(vf);_createClass(vf,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function vf(){var _this987;_classCallCheck(this,vf);_this987=_super211.call(this),_this987._shadowRoot=_this987.attachShadow({mode:"closed"}),_this987._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,vf._shadowStyleSheet],_this987._shadowRoot.append(document.importNode(vf._shadowTemplate.content,!0));var _iterator1567=_createForOfIteratorHelper(_this987._shadowRoot.querySelectorAll("[id]")),_step1567;try{for(_iterator1567.s();!(_step1567=_iterator1567.n()).done;){var _t2362=_step1567.value;_this987["#"+_t2362.id]=_t2362;}}catch(err){_iterator1567.e(err);}finally{_iterator1567.f();}_this987["#generator-select"].addEventListener("change",function(){return _this987.GM();});return _this987;}_createClass(vf,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app");}},{key:"tn",value:function tn(){this["#generator-select"].value=this.Qs.getConfig("bx-generatorspanel:generator","bx-barcodegenerator"),this.qs();}},{key:"sn",value:function sn(){this["#generator-select"].value=null,this.qs();}},{key:"GM",value:function GM(){this.Qs.setConfig("bx-generatorspanel:generator",this["#generator-select"].value),this.qs();}},{key:"qs",value:function qs(){var t=this["#generator-select"].value;this["#main"].innerHTML=null===t?"":"<".concat(t,"></").concat(t,">");}}]);return vf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(vf,"observedAttributes",["enabled"]);_defineProperty(vf,"_shadowTemplate",Yi(_templateObject489()));_defineProperty(vf,"_shadowStyleSheet",Wi(_templateObject490()));customElements.define("bx-generatorspanel",vf);var yf=/*#__PURE__*/function(_HTMLElement129){_inherits(yf,_HTMLElement129);var _super212=_createSuper(yf);_createClass(yf,[{key:"exportable",get:function get(){return this.hasAttribute("exportable");},set:function set(t){!0===t?this.setAttribute("exportable",""):this.removeAttribute("exportable");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function yf(){var _this988;_classCallCheck(this,yf);_this988=_super212.call(this);var t=_this988.constructor.FM;_this988._shadowRoot=_this988.attachShadow({mode:"closed"}),_this988._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,yf._shadowStyleSheet,_this988.constructor._shadowStyleSheet],_this988._shadowRoot.append(document.importNode(yf._shadowTemplate.content,!0)),t&&_this988._shadowRoot.querySelector("#options-section").append(document.importNode(t.content,!0));var _iterator1568=_createForOfIteratorHelper(_this988._shadowRoot.querySelectorAll("[id]")),_step1568;try{for(_iterator1568.s();!(_step1568=_iterator1568.n()).done;){var _t2363=_step1568.value;_this988["#"+_t2363.id]=_t2363;}}catch(err){_iterator1568.e(err);}finally{_iterator1568.f();}_this988.setAttribute("extends","bx-exportsettings");return _this988;}_createClass(yf,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("disabled"===t?this.qs():"exportable"===t&&this.dispatchEvent(new CustomEvent("exportablechange",{bubbles:!0})));}}]);return yf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(yf,"observedAttributes",["exportable","disabled"]);_defineProperty(yf,"_shadowTemplate",Yi(_templateObject491()));_defineProperty(yf,"_shadowStyleSheet",Wi(_templateObject492()));var kf=Array.isArray;var Sf=/*#__PURE__*/function(_yf){_inherits(Sf,_yf);var _super213=_createSuper(Sf);_createClass(Sf,[{key:"format",get:function get(){return"png";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"margin",get:function get(){var t=[0,0,0,0];return"selection"===this["#area-buttons"].value&&(t=this["#margin-input"].value,!1===kf(t)&&(t=[t,t,t,t])),t;}},{key:"dpi",get:function get(){return this["#dpi-input"].value;}},{key:"colors",get:function get(){return"rgb"===this["#colors-mode-buttons"].value?0:this["#colors-slider"].value;}},{key:"background",get:function get(){return this["#background-select"].value;}}]);function Sf(){var _this989;_classCallCheck(this,Sf);_this989=_super213.call(this),_this989["#area-buttons"].addEventListener("toggle",function(){return _this989.JC();}),_this989["#view-select"].addEventListener("change",function(){return _this989.UM();}),_this989["#width-input"].addEventListener("changestart",function(){return _this989.Rg();}),_this989["#height-input"].addEventListener("changestart",function(){return _this989.Gg();}),_this989["#lock-size-button"].addEventListener("toggle",function(){return _this989.NM();}),_this989["#margin-switch"].addEventListener("toggle",function(){return _this989.VM();}),_this989["#margin-input"].addEventListener("changeend",function(){return _this989.jM();}),_this989["#dpi-slider"].addEventListener("changestart",function(){return _this989.HM();}),_this989["#dpi-input"].addEventListener("changestart",function(){return _this989.YM();}),_this989["#colors-mode-buttons"].addEventListener("toggle",function(){return _this989.IC();}),_this989["#colors-slider"].addEventListener("changestart",function(){return _this989.LC();}),_this989["#colors-input"].addEventListener("changestart",function(){return _this989.BC();}),_this989["#background-select"].addEventListener("changeend",function(){return _this989.FC();}),_this989["#background-popover"].addEventListener("close",function(){return _this989.UC();}),_this989["#preview-button"].addEventListener("click",function(){return _this989.NC();});return _this989;}_createClass(Sf,[{key:"connectedCallback",value:function connectedCallback(){var _this990=this;this.Js=Ai(this,"bx-editor"),this.Qs=Ai(this,"#app");var t=this.Qs,e=this.Js.board;this["#area-buttons"].value=t.getConfig("bx-pngsettings:area","view-box"),this["#lock-size-button"].toggled=t.getConfig("bx-pngsettings:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#margin-input"].value=t.getConfig("bx-pngsettings:margin",null),this["#dpi-slider"].value=t.getConfig("bx-pngsettings:dpi",96),this["#dpi-input"].value=t.getConfig("bx-pngsettings:dpi",96),this["#colors-mode-buttons"].value=this.Qs.getConfig("bx-pngsettings:colorsMode","rgb"),this["#colors-slider"].value=t.getConfig("bx-pngsettings:colors",256),this["#colors-input"].value=t.getConfig("bx-pngsettings:colors",256),this["#background-select"].value=t.getConfig("bx-pngsettings:background","rgba(255, 255, 255, 0)"),this.qs(),e.addEventListener("selectedelementschange",this.Qo=function(){_this990.Jo();}),e.addEventListener("workspacemutation",this.rn=function(t){_this990.sl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.VC(),t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.VC(),this.qs());}},{key:"sl",value:function sl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.VC(),this.qs());}},{key:"JC",value:function JC(){this.VC(),this.qs(),this.Qs.setConfig("bx-pngsettings:area",this["#area-buttons"].value);}},{key:"UM",value:function UM(){if(this.VC(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var _t2364=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);_t2364&&(this.Js.board.selectedElements=[_t2364]);}}else this.qs();}},{key:"Rg",value:function Rg(){var _this991=this;var t,_e1737,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2365=_this991["#width-input"].value/i;_this991["#height-input"].value=K(_t2365,1,Infinity,0);}}),this["#width-input"].addEventListener("changeend",_e1737=function e(){_this991["#width-input"].removeEventListener("change",t),_this991["#width-input"].removeEventListener("changeend",_e1737),_this991.VC();});}},{key:"Gg",value:function Gg(){var _this992=this;var t,_e1738,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2366=i*_this992["#height-input"].value;_this992["#width-input"].value=K(_t2366,1,Infinity,0);}}),this["#height-input"].addEventListener("changeend",_e1738=function e(){_this992["#height-input"].removeEventListener("change",t),_this992["#height-input"].removeEventListener("changeend",_e1738),_this992.VC();});}},{key:"NM",value:function NM(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-pngsettings:lockSize",this["#lock-size-button"].toggled);}},{key:"VM",value:function VM(){var t=this["#margin-switch"].toggled?10:null;this.Qs.setConfig("bx-pngsettings:margin",t),this["#margin-input"].value=t,this.VC(),this.qs(!1);}},{key:"jM",value:function jM(){this.Qs.setConfig("bx-pngsettings:margin",this["#margin-input"].value),this.VC();}},{key:"HM",value:function HM(){var _this993=this;var t,_e1739;this["#dpi-slider"].addEventListener("change",t=function t(){_this993["#dpi-input"].value=_this993["#dpi-slider"].value;}),this["#dpi-slider"].addEventListener("changeend",_e1739=function e(){_this993["#dpi-slider"].removeEventListener("change",t),_this993["#dpi-slider"].removeEventListener("changeend",_e1739),_this993.Qs.setConfig("bx-pngsettings:dpi",_this993["#dpi-slider"].value);});}},{key:"YM",value:function YM(){var _this994=this;var t,_e1740;this["#dpi-input"].addEventListener("change",t=function t(){_this994["#dpi-slider"].value=_this994["#dpi-input"].value;}),this["#dpi-input"].addEventListener("changeend",_e1740=function e(){_this994["#dpi-input"].removeEventListener("change",t),_this994["#dpi-input"].removeEventListener("changeend",_e1740),_this994.Qs.setConfig("bx-pngsettings:dpi",_this994["#dpi-input"].value);});}},{key:"IC",value:function IC(){this["#colors-box"].hidden="palette"!==this["#colors-mode-buttons"].value,this.Qs.setConfig("bx-pngsettings:colorsMode",this["#colors-mode-buttons"].value),this.VC();}},{key:"LC",value:function LC(){var _this995=this;var t,_e1741;this["#colors-slider"].addEventListener("change",t=function t(){_this995["#colors-input"].value=_this995["#colors-slider"].value;}),this["#colors-slider"].addEventListener("changeend",_e1741=function e(){_this995["#colors-slider"].removeEventListener("change",t),_this995["#colors-slider"].removeEventListener("changeend",_e1741),_this995.Qs.setConfig("bx-pngsettings:colors",_this995["#colors-slider"].value),_this995.VC();});}},{key:"BC",value:function BC(){var _this996=this;var t,_e1742;this["#colors-input"].addEventListener("change",t=function t(){_this996["#colors-slider"].value=_this996["#colors-input"].value;}),this["#colors-input"].addEventListener("changeend",_e1742=function e(){_this996["#colors-input"].removeEventListener("change",t),_this996["#colors-input"].removeEventListener("changeend",_e1742),_this996.Qs.setConfig("bx-pngsettings:colors",_this996["#colors-input"].value),_this996.VC();});}},{key:"FC",value:function FC(){this.jC=!0;}},{key:"UC",value:function UC(){this.jC&&(this.jC=!1,this.Qs.setConfig("bx-pngsettings:background",this["#background-select"].value),this.VC());}},{key:"NC",value:function NC(){this.HC();}},{key:"HC",value:function(){var _HC3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee200(){var t,_e1743,_t2367,e,i,s,n,o,l;return regeneratorRuntime.wrap(function _callee200$(_context201){while(1){switch(_context201.prev=_context201.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1743=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2367=this["#view-select"].value.substring(1);_e1743=this.Js.board.currentWorkspace.querySelector("#"+_t2367);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1743);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements(this.margin));t.setAttribute("width",this["#width-input"].value+"px"),t.setAttribute("height",this["#height-input"].value+"px"),t.setAttribute("preserveAspectRatio","none");e=Qp(t);_context201.next=5;return df(e,"png",{dpi:this["#dpi-input"].value,colors:"rgb"===this["#colors-mode-buttons"].value?0:this["#colors-slider"].value,background:this["#background-select"].value});case 5:i=_context201.sent;_context201.next=8;return Na(i);case 8:s=_context201.sent;n=s.substring(0,s.indexOf(",")+1);o=Z((s.length-n.length)*(3/4));l=Ya(o);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",s),this["#preview"].setAttribute("width",this["#width-input"].value),this["#preview"].setAttribute("height",this["#height-input"].value),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+l,this["#preview-section"].scrollIntoViewIfNeeded();case 13:case"end":return _context201.stop();}}},_callee200,this);}));function HC(){return _HC3.apply(this,arguments);}return HC;}()},{key:"VC",value:function VC(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this997=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.Js.board,i=null,s=null;if("selection"===this["#area-buttons"].value)e.outermostSelectedObjectElements.length>0&&(i=Ne(e.outermostSelectedObjectElements.map(function(t){var i=Vt(t,e.currentWorkspace),s=Ci(t);return Ue(s,i);})),0!==i.width&&0!==i.height||(i=null));else if("view-box"===this["#area-buttons"].value){var _t2368=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_t2368.length>0)if("view-tool"===this.Js.toolsDock.value){var _t2369=e.selectedElements.find(function(t){return"view"===t.localName;});_t2369&&(s=_t2369);}else{var _e1744=_t2368.find(function(t){return"#"+t.id===_this997["#view-select"].value;});_e1744&&(s=_e1744);}if(null===s)e.currentWorkspace.hasAttribute("viewBox")&&(i=Bt.fromString(e.currentWorkspace.getAttribute("viewBox")));else{var _t2370=e.currentWorkspace.querySelector("#"+s.id);_t2370.hasAttribute("viewBox")&&(i=Bt.fromString(_t2370.getAttribute("viewBox")),0!==i.width&&0!==i.height||(i=null));}}if(this.exportable=!!i,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2371=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2371.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2371.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _e1745=["default"].concat(_toConsumableArray(_t2371.map(function(t){return"#"+t.id;}))),_i1572=["Default"].concat(_toConsumableArray(_t2371.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_e1745.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_e1745.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2372=0;_t2372<_e1745.length;_t2372+=1){var _s916=this["#view-menu"].children[_t2372];_s916.value=_e1745[_t2372],_s916.firstElementChild.textContent=_i1572[_t2372];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=s?"#"+s.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}t&&(this["#width-heading"].disabled=null===i,this["#width-input"].disabled=null===i,this["#width-input"].value=null===i?100:Z(i.width,0)||1,this["#height-heading"].disabled=null===i,this["#height-input"].disabled=null===i,this["#height-input"].value=null===i?100:Z(i.height,0)||1,this["#lock-size-button"].disabled=null===i),this["#margin-subsection"].hidden="view-box"===this["#area-buttons"].value,this["#margin-heading"].disabled=null===i,this["#margin-switch"].disabled=null===i,this["#margin-switch"].toggled=null!==this["#margin-input"].value,this["#margin-input"].hidden=null===this["#margin-input"].value,this["#margin-input"].disabled=null===i,this["#dpi-heading"].disabled=null===i,this["#dpi-slider"].disabled=null===i,this["#dpi-input"].disabled=null===i,this["#colors-heading"].disabled=null===i,this["#rgb-button"].disabled=null===i,this["#palette-button"].disabled=null===i,this["#palette-button"].toggled?(this["#colors-box"].hidden=!1,this["#colors-slider"].disabled=null===i,this["#colors-input"].disabled=null===i):this["#colors-box"].hidden=!0,this["#background-heading"].disabled=null===i,this["#background-select"].disabled=null===i,this["#preview-heading"].disabled=null===i,this["#preview-button"].disabled=null===i;}}]);return Sf;}(yf);_defineProperty(Sf,"FM",Yi(_templateObject493()));_defineProperty(Sf,"_shadowStyleSheet",Wi(_templateObject494()));customElements.define("bx-pngsettings",Sf);var _f=Array.isArray;var Cf=/*#__PURE__*/function(_yf2){_inherits(Cf,_yf2);var _super214=_createSuper(Cf);_createClass(Cf,[{key:"format",get:function get(){return"jpeg";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"margin",get:function get(){var t=[0,0,0,0];return"selection"===this["#area-buttons"].value&&(t=this["#margin-input"].value,!1===_f(t)&&(t=[t,t,t,t])),t;}},{key:"compression",get:function get(){return this["#compression-input"].value;}},{key:"background",get:function get(){return this["#background-select"].value;}}]);function Cf(){var _this998;_classCallCheck(this,Cf);_this998=_super214.call(this),_this998["#area-buttons"].addEventListener("toggle",function(){return _this998.JC();}),_this998["#view-select"].addEventListener("change",function(){return _this998.UM();}),_this998["#width-input"].addEventListener("changestart",function(){return _this998.Rg();}),_this998["#height-input"].addEventListener("changestart",function(){return _this998.Gg();}),_this998["#lock-size-button"].addEventListener("toggle",function(){return _this998.NM();}),_this998["#margin-switch"].addEventListener("toggle",function(){return _this998.VM();}),_this998["#margin-input"].addEventListener("changeend",function(){return _this998.jM();}),_this998["#compression-slider"].addEventListener("changestart",function(){return _this998.RC();}),_this998["#compression-input"].addEventListener("changestart",function(){return _this998.GC();}),_this998["#background-select"].addEventListener("changeend",function(){return _this998.FC();}),_this998["#background-popover"].addEventListener("close",function(){return _this998.UC();}),_this998["#preview-button"].addEventListener("click",function(){return _this998.NC();});return _this998;}_createClass(Cf,[{key:"connectedCallback",value:function connectedCallback(){var _this999=this;this.Js=Ai(this,"bx-editor"),this.Qs=Ai(this,"#app");var t=this.Qs,e=this.Js.board;this["#area-buttons"].value=t.getConfig("bx-jpegsettings:area","view-box"),this["#lock-size-button"].toggled=t.getConfig("bx-jpegsettings:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#margin-input"].value=t.getConfig("bx-jpegsettings:margin",null),this["#compression-slider"].value=t.getConfig("bx-jpegsettings:compression",1),this["#compression-input"].value=t.getConfig("bx-jpegsettings:compression",1),this["#background-select"].value=t.getConfig("bx-jpegsettings:background","rgb(255, 255, 255)"),this.qs(),e.addEventListener("selectedelementschange",this.Qo=function(){_this999.Jo();}),e.addEventListener("workspacemutation",this.rn=function(t){_this999.sl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.VC(),t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.VC(),this.qs());}},{key:"sl",value:function sl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.VC(),this.qs());}},{key:"JC",value:function JC(){this.VC(),this.qs(),this.Qs.setConfig("bx-jpegsettings:area",this["#area-buttons"].value);}},{key:"UM",value:function UM(){if(this.VC(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"Rg",value:function Rg(){var _this1000=this;var t,_e1746,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2373=_this1000["#width-input"].value/i;_this1000["#height-input"].value=K(_t2373,1,Infinity,0);}}),this["#width-input"].addEventListener("changeend",_e1746=function e(){_this1000["#width-input"].removeEventListener("change",t),_this1000["#width-input"].removeEventListener("changeend",_e1746),_this1000.VC();});}},{key:"Gg",value:function Gg(){var _this1001=this;var t,_e1747,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2374=i*_this1001["#height-input"].value;_this1001["#width-input"].value=K(_t2374,1,Infinity,0);}}),this["#height-input"].addEventListener("changeend",_e1747=function e(){_this1001["#height-input"].removeEventListener("change",t),_this1001["#height-input"].removeEventListener("changeend",_e1747),_this1001.VC();});}},{key:"NM",value:function NM(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-jpegsettings:lockSize",this["#lock-size-button"].toggled);}},{key:"VM",value:function VM(){var t=this["#margin-switch"].toggled?10:null;this.Qs.setConfig("bx-jpegsettings:margin",t),this["#margin-input"].value=t,this.VC(),this.qs(!1);}},{key:"jM",value:function jM(){this.Qs.setConfig("bx-jpegsettings:margin",this["#margin-input"].value),this.VC();}},{key:"RC",value:function RC(){var _this1002=this;var t,_e1748;this["#compression-slider"].addEventListener("change",t=function t(){_this1002["#compression-input"].value=_this1002["#compression-slider"].value,_this1002.Qs.setConfig("bx-jpegsettings:compression",_this1002["#compression-slider"].value);}),this["#compression-slider"].addEventListener("changeend",_e1748=function e(){_this1002["#compression-slider"].removeEventListener("change",t),_this1002["#compression-slider"].removeEventListener("changeend",_e1748),_this1002.VC();});}},{key:"GC",value:function GC(){var _this1003=this;var t,_e1749;this["#compression-input"].addEventListener("change",t=function t(){_this1003["#compression-slider"].value=_this1003["#compression-input"].value,_this1003.Qs.setConfig("bx-jpegsettings:compression",_this1003["#compression-input"].value);}),this["#compression-input"].addEventListener("changeend",_e1749=function e(){_this1003["#compression-input"].removeEventListener("change",t),_this1003["#compression-input"].removeEventListener("changeend",_e1749),_this1003.VC();});}},{key:"FC",value:function FC(){this.jC=!0;}},{key:"UC",value:function UC(){this.jC&&(this.jC=!1,this.Qs.setConfig("bx-jpegsettings:background",this["#background-select"].value),this.VC());}},{key:"NC",value:function NC(){this.HC();}},{key:"HC",value:function(){var _HC4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee201(){var t,_e1750,_t2375,e,i,s,n,o,l;return regeneratorRuntime.wrap(function _callee201$(_context202){while(1){switch(_context202.prev=_context202.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1750=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2375=this["#view-select"].value.substring(1);_e1750=this.Js.board.currentWorkspace.querySelector("#"+_t2375);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1750);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements(this.margin));t.setAttribute("width",this["#width-input"].value+"px"),t.setAttribute("height",this["#height-input"].value+"px"),t.setAttribute("preserveAspectRatio","none");e=Qp(t);_context202.next=5;return df(e,"jpeg",{background:this["#background-select"].value,compression:this["#compression-input"].value});case 5:i=_context202.sent;_context202.next=8;return Na(i);case 8:s=_context202.sent;n=s.substring(0,s.indexOf(",")+1);o=Z((s.length-n.length)*(3/4));l=Ya(o);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",s),this["#preview"].setAttribute("width",this["#width-input"].value),this["#preview"].setAttribute("height",this["#height-input"].value),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+l,this["#preview-section"].scrollIntoViewIfNeeded();case 13:case"end":return _context202.stop();}}},_callee201,this);}));function HC(){return _HC4.apply(this,arguments);}return HC;}()},{key:"VC",value:function VC(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this1004=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.Js.board,i=null,s=null;if("selection"===this["#area-buttons"].value)e.outermostSelectedObjectElements.length>0&&(i=Ne(e.outermostSelectedObjectElements.map(function(t){var i=Vt(t,e.currentWorkspace),s=Ci(t);return Ue(s,i);})),0!==i.width&&0!==i.height||(i=null));else if("view-box"===this["#area-buttons"].value){var _t2376=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_t2376.length>0)if("view-tool"===this.Js.toolsDock.value){var _t2377=e.selectedElements.find(function(t){return"view"===t.localName;});_t2377&&(s=_t2377);}else{var _e1751=_t2376.find(function(t){return"#"+t.id===_this1004["#view-select"].value;});_e1751&&(s=_e1751);}if(null===s)e.currentWorkspace.hasAttribute("viewBox")&&(i=Bt.fromString(e.currentWorkspace.getAttribute("viewBox")));else{var _t2378=e.currentWorkspace.querySelector("#"+s.id);_t2378.hasAttribute("viewBox")&&(i=Bt.fromString(_t2378.getAttribute("viewBox")),0!==i.width&&0!==i.height||(i=null));}}if(this.exportable=!!i,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2379=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2379.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2379.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _e1752=["default"].concat(_toConsumableArray(_t2379.map(function(t){return"#"+t.id;}))),_i1573=["Default"].concat(_toConsumableArray(_t2379.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_e1752.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_e1752.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2380=0;_t2380<_e1752.length;_t2380+=1){var _s917=this["#view-menu"].children[_t2380];_s917.value=_e1752[_t2380],_s917.firstElementChild.textContent=_i1573[_t2380];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=s?"#"+s.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}t&&(this["#width-heading"].disabled=null===i,this["#width-input"].disabled=null===i,this["#width-input"].value=null===i?100:Z(i.width,0)||1,this["#height-heading"].disabled=null===i,this["#height-input"].disabled=null===i,this["#height-input"].value=null===i?100:Z(i.height,0)||1,this["#lock-size-button"].disabled=null===i),this["#margin-subsection"].hidden="view-box"===this["#area-buttons"].value,this["#margin-heading"].disabled=null===i,this["#margin-switch"].disabled=null===i,this["#margin-switch"].toggled=null!==this["#margin-input"].value,this["#margin-input"].hidden=null===this["#margin-input"].value,this["#margin-input"].disabled=null===i,this["#compression-heading"].disabled=null===i,this["#compression-slider"].disabled=null===i,this["#compression-input"].disabled=null===i,this["#background-heading"].disabled=null===i,this["#background-select"].disabled=null===i,this["#preview-heading"].disabled=null===i,this["#preview-button"].disabled=null===i;}}]);return Cf;}(yf);_defineProperty(Cf,"FM",Yi(_templateObject495()));_defineProperty(Cf,"_shadowStyleSheet",Wi(_templateObject496()));customElements.define("bx-jpegsettings",Cf);var Mf=Array.isArray;var Pf=/*#__PURE__*/function(_yf3){_inherits(Pf,_yf3);var _super215=_createSuper(Pf);_createClass(Pf,[{key:"format",get:function get(){return"gif";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"margin",get:function get(){var t=[0,0,0,0];return"selection"===this["#area-buttons"].value&&(t=this["#margin-input"].value,!1===Mf(t)&&(t=[t,t,t,t])),t;}},{key:"dithering",get:function get(){return this["#dithering-select"].value;}},{key:"background",get:function get(){return go(this["#background-select"].value,"hex");}},{key:"transparent",get:function get(){return this["#transparent-checkbox"].toggled;}}]);function Pf(){var _this1005;_classCallCheck(this,Pf);_this1005=_super215.call(this),_this1005["#area-buttons"].addEventListener("toggle",function(){return _this1005.JC();}),_this1005["#view-select"].addEventListener("change",function(){return _this1005.UM();}),_this1005["#width-input"].addEventListener("changestart",function(){return _this1005.Rg();}),_this1005["#height-input"].addEventListener("changestart",function(){return _this1005.Gg();}),_this1005["#lock-size-button"].addEventListener("toggle",function(){return _this1005.NM();}),_this1005["#margin-switch"].addEventListener("toggle",function(){return _this1005.VM();}),_this1005["#margin-input"].addEventListener("changeend",function(){return _this1005.jM();}),_this1005["#dithering-select"].addEventListener("change",function(){return _this1005.WM();}),_this1005["#background-select"].addEventListener("changeend",function(){return _this1005.FC();}),_this1005["#background-popover"].addEventListener("close",function(){return _this1005.UC();}),_this1005["#transparent-checkbox"].addEventListener("toggle",function(){return _this1005.qM();}),_this1005["#preview-button"].addEventListener("click",function(){return _this1005.NC();});return _this1005;}_createClass(Pf,[{key:"connectedCallback",value:function connectedCallback(){var _this1006=this;this.Js=Ai(this,"bx-editor"),this.Qs=Ai(this,"#app");var t=this.Qs,e=this.Js.board;this["#area-buttons"].value=t.getConfig("bx-gifsettings:area","view-box"),this["#lock-size-button"].toggled=t.getConfig("bx-gifsettings:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#margin-input"].value=t.getConfig("bx-gifsettings:margin",null),this["#dithering-select"].value=t.getConfig("bx-gifsettings:dithering","none"),this["#background-select"].value=t.getConfig("bx-gifsettings:background","rgb(255, 255, 255)"),this["#transparent-checkbox"].toggled=t.getConfig("bx-gifsettings:transparent",!0),this.qs(),e.addEventListener("selectedelementschange",this.Qo=function(){_this1006.Jo();}),e.addEventListener("workspacemutation",this.rn=function(t){_this1006.sl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.VC(),t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.VC(),this.qs());}},{key:"sl",value:function sl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.VC(),this.qs());}},{key:"JC",value:function JC(){this.VC(),this.qs(),this.Qs.setConfig("bx-gifsettings:area",this["#area-buttons"].value);}},{key:"UM",value:function UM(){if(this.VC(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"Rg",value:function Rg(){var _this1007=this;var t,_e1753,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2381=_this1007["#width-input"].value/i;_this1007["#height-input"].value=K(_t2381,1,Infinity,0);}}),this["#width-input"].addEventListener("changeend",_e1753=function e(){_this1007["#width-input"].removeEventListener("change",t),_this1007["#width-input"].removeEventListener("changeend",_e1753),_this1007.VC();});}},{key:"Gg",value:function Gg(){var _this1008=this;var t,_e1754,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2382=i*_this1008["#height-input"].value;_this1008["#width-input"].value=K(_t2382,1,Infinity,0);}}),this["#height-input"].addEventListener("changeend",_e1754=function e(){_this1008["#height-input"].removeEventListener("change",t),_this1008["#height-input"].removeEventListener("changeend",_e1754),_this1008.VC();});}},{key:"NM",value:function NM(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-gifsettings:lockSize",this["#lock-size-button"].toggled);}},{key:"VM",value:function VM(){var t=this["#margin-switch"].toggled?10:null;this.Qs.setConfig("bx-gifsettings:margin",t),this["#margin-input"].value=t,this.VC(),this.qs(!1);}},{key:"jM",value:function jM(){this.Qs.setConfig("bx-gifsettings:margin",this["#margin-input"].value),this.VC();}},{key:"WM",value:function WM(){this.Qs.setConfig("bx-gifsettings:dithering",this["#dithering-select"].value),this.VC();}},{key:"FC",value:function FC(){this.Qs.setConfig("bx-gifsettings:background",this["#background-select"].value),this.jC=!0;}},{key:"UC",value:function UC(){this.jC&&(this.jC=!1,this.Qs.setConfig("bx-gifsettings:background",this["#background-select"].value),this.VC());}},{key:"qM",value:function qM(){this.Qs.setConfig("bx-gifsettings:transparent",this["#transparent-checkbox"].value),this.VC();}},{key:"NC",value:function NC(){this.HC();}},{key:"HC",value:function(){var _HC5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee202(){var t,_e1755,_t2383,e,i,s,n,o,l;return regeneratorRuntime.wrap(function _callee202$(_context203){while(1){switch(_context203.prev=_context203.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1755=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2383=this["#view-select"].value.substring(1);_e1755=this.Js.board.currentWorkspace.querySelector("#"+_t2383);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1755);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements(this.margin));t.setAttribute("width",this["#width-input"].value+"px"),t.setAttribute("height",this["#height-input"].value+"px"),t.setAttribute("preserveAspectRatio","none");e=Qp(t);_context203.next=5;return df(e,"gif",{background:this["#background-select"].value,dithering:this["#dithering-select"].value,transparent:this["#transparent-checkbox"].toggled});case 5:i=_context203.sent;_context203.next=8;return Na(i);case 8:s=_context203.sent;n=s.substring(0,s.indexOf(",")+1);o=Z((s.length-n.length)*(3/4));l=Ya(o);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",s),this["#preview"].setAttribute("width",this["#width-input"].value),this["#preview"].setAttribute("height",this["#height-input"].value),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+l,this["#preview-section"].scrollIntoViewIfNeeded();case 13:case"end":return _context203.stop();}}},_callee202,this);}));function HC(){return _HC5.apply(this,arguments);}return HC;}()},{key:"VC",value:function VC(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this1009=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.Js.board,i=null,s=null;if("selection"===this["#area-buttons"].value)e.outermostSelectedObjectElements.length>0&&(i=Ne(e.outermostSelectedObjectElements.map(function(t){var i=Vt(t,e.currentWorkspace),s=Ci(t);return Ue(s,i);})),0!==i.width&&0!==i.height||(i=null));else if("view-box"===this["#area-buttons"].value){var _t2384=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_t2384.length>0)if("view-tool"===this.Js.toolsDock.value){var _t2385=e.selectedElements.find(function(t){return"view"===t.localName;});_t2385&&(s=_t2385);}else{var _e1756=_t2384.find(function(t){return"#"+t.id===_this1009["#view-select"].value;});_e1756&&(s=_e1756);}if(null===s)e.currentWorkspace.hasAttribute("viewBox")&&(i=Bt.fromString(e.currentWorkspace.getAttribute("viewBox")));else{var _t2386=e.currentWorkspace.querySelector("#"+s.id);_t2386.hasAttribute("viewBox")&&(i=Bt.fromString(_t2386.getAttribute("viewBox")),0!==i.width&&0!==i.height||(i=null));}}if(this.exportable=!!i,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2387=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2387.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2387.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _e1757=["default"].concat(_toConsumableArray(_t2387.map(function(t){return"#"+t.id;}))),_i1574=["Default"].concat(_toConsumableArray(_t2387.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_e1757.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_e1757.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2388=0;_t2388<_e1757.length;_t2388+=1){var _s918=this["#view-menu"].children[_t2388];_s918.value=_e1757[_t2388],_s918.firstElementChild.textContent=_i1574[_t2388];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=s?"#"+s.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}t&&(this["#width-heading"].disabled=null===i,this["#width-input"].disabled=null===i,this["#width-input"].value=null===i?100:Z(i.width,0)||1,this["#height-heading"].disabled=null===i,this["#height-input"].disabled=null===i,this["#height-input"].value=null===i?100:Z(i.height,0)||1,this["#lock-size-button"].disabled=null===i),this["#margin-subsection"].hidden="view-box"===this["#area-buttons"].value,this["#margin-heading"].disabled=null===i,this["#margin-switch"].disabled=null===i,this["#margin-switch"].toggled=null!==this["#margin-input"].value,this["#margin-input"].hidden=null===this["#margin-input"].value,this["#margin-input"].disabled=null===i,this["#dithering-heading"].disabled=null===i,this["#dithering-select"].disabled=null===i,this["#background-heading"].disabled=null===i,this["#background-select"].disabled=null===i,this["#transparent-checkbox"].disabled=null===i,this["#preview-heading"].disabled=null===i,this["#preview-button"].disabled=null===i;}}]);return Pf;}(yf);_defineProperty(Pf,"FM",Yi(_templateObject497()));_defineProperty(Pf,"_shadowStyleSheet",Wi(_templateObject498()));customElements.define("bx-gifsettings",Pf);var Df=Array.isArray;var zf=/*#__PURE__*/function(_yf4){_inherits(zf,_yf4);var _super216=_createSuper(zf);_createClass(zf,[{key:"format",get:function get(){return"webp";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"margin",get:function get(){var t=[0,0,0,0];return"selection"===this["#area-buttons"].value&&(t=this["#margin-input"].value,!1===Df(t)&&(t=[t,t,t,t])),t;}},{key:"compression",get:function get(){return this["#compression-input"].value;}},{key:"background",get:function get(){return this["#background-select"].value;}}]);function zf(){var _this1010;_classCallCheck(this,zf);_this1010=_super216.call(this),_this1010["#area-buttons"].addEventListener("toggle",function(){return _this1010.JC();}),_this1010["#view-select"].addEventListener("change",function(){return _this1010.UM();}),_this1010["#width-input"].addEventListener("changestart",function(){return _this1010.Rg();}),_this1010["#height-input"].addEventListener("changestart",function(){return _this1010.Gg();}),_this1010["#lock-size-button"].addEventListener("toggle",function(){return _this1010.NM();}),_this1010["#margin-switch"].addEventListener("toggle",function(){return _this1010.VM();}),_this1010["#margin-input"].addEventListener("changeend",function(){return _this1010.jM();}),_this1010["#compression-slider"].addEventListener("changestart",function(){return _this1010.RC();}),_this1010["#compression-input"].addEventListener("changestart",function(){return _this1010.GC();}),_this1010["#background-select"].addEventListener("changeend",function(){return _this1010.FC();}),_this1010["#background-popover"].addEventListener("close",function(){return _this1010.UC();}),_this1010["#preview-button"].addEventListener("click",function(){return _this1010.NC();});return _this1010;}_createClass(zf,[{key:"connectedCallback",value:function connectedCallback(){var _this1011=this;this.Js=Ai(this,"bx-editor"),this.Qs=Ai(this,"#app");var t=this.Qs,e=this.Js.board;this["#area-buttons"].value=t.getConfig("bx-webpsettings:area","view-box"),this["#lock-size-button"].toggled=t.getConfig("bx-webpsettings:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#margin-input"].value=t.getConfig("bx-webpsettings:margin",null),this["#compression-slider"].value=t.getConfig("bx-webpsettings:compression",1),this["#compression-input"].value=t.getConfig("bx-webpsettings:compression",1),this["#background-select"].value=t.getConfig("bx-webpsettings:background","rgba(255, 255, 255, 0)"),this.qs(),e.addEventListener("selectedelementschange",this.Qo=function(){_this1011.Jo();}),e.addEventListener("workspacemutation",this.rn=function(t){_this1011.sl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.VC(),t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.VC(),this.qs());}},{key:"sl",value:function sl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.VC(),this.qs());}},{key:"JC",value:function JC(){this.VC(),this.qs(),this.Qs.setConfig("bx-webpsettings:area",this["#area-buttons"].value);}},{key:"UM",value:function UM(){if(this.VC(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"Rg",value:function Rg(){var _this1012=this;var t,_e1758,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2389=_this1012["#width-input"].value/i;_this1012["#height-input"].value=K(_t2389,1,Infinity,0);}}),this["#width-input"].addEventListener("changeend",_e1758=function e(){_this1012["#width-input"].removeEventListener("change",t),_this1012["#width-input"].removeEventListener("changeend",_e1758),_this1012.VC();});}},{key:"Gg",value:function Gg(){var _this1013=this;var t,_e1759,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2390=i*_this1013["#height-input"].value;_this1013["#width-input"].value=K(_t2390,1,Infinity,0);}}),this["#height-input"].addEventListener("changeend",_e1759=function e(){_this1013["#height-input"].removeEventListener("change",t),_this1013["#height-input"].removeEventListener("changeend",_e1759),_this1013.VC();});}},{key:"NM",value:function NM(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-webpsettings:lockSize",this["#lock-size-button"].toggled);}},{key:"VM",value:function VM(){var t=this["#margin-switch"].toggled?10:null;this.Qs.setConfig("bx-webpsettings:margin",t),this["#margin-input"].value=t,this.VC(),this.qs(!1);}},{key:"jM",value:function jM(){this.Qs.setConfig("bx-webpsettings:margin",this["#margin-input"].value),this.VC();}},{key:"GC",value:function GC(){var _this1014=this;var t,_e1760;this["#compression-input"].addEventListener("change",t=function t(){_this1014["#compression-slider"].value=_this1014["#compression-input"].value;}),this["#compression-input"].addEventListener("changeend",_e1760=function e(){_this1014["#compression-input"].removeEventListener("change",t),_this1014["#compression-input"].removeEventListener("changeend",_e1760),_this1014.Qs.setConfig("bx-webpsettings:compression",_this1014["#compression-input"].value),_this1014.VC();});}},{key:"RC",value:function RC(){var _this1015=this;var t,_e1761;this["#compression-slider"].addEventListener("change",t=function t(){_this1015["#compression-input"].value=_this1015["#compression-slider"].value;}),this["#compression-slider"].addEventListener("changeend",_e1761=function e(){_this1015["#compression-slider"].removeEventListener("change",t),_this1015["#compression-slider"].removeEventListener("changeend",_e1761),_this1015.Qs.setConfig("bx-webpsettings:compression",_this1015["#compression-slider"].value),_this1015.VC();});}},{key:"FC",value:function FC(){this.jC=!0;}},{key:"UC",value:function UC(){this.jC&&(this.jC=!1,this.Qs.setConfig("bx-webpsettings:background",this["#background-select"].value),this.VC());}},{key:"NC",value:function NC(){this.HC();}},{key:"HC",value:function(){var _HC6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee203(){var t,_e1762,_t2391,e,i,s,n,o,l;return regeneratorRuntime.wrap(function _callee203$(_context204){while(1){switch(_context204.prev=_context204.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1762=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2391=this["#view-select"].value.substring(1);_e1762=this.Js.board.currentWorkspace.querySelector("#"+_t2391);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1762);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements(this.margin));t.setAttribute("width",this["#width-input"].value+"px"),t.setAttribute("height",this["#height-input"].value+"px"),t.setAttribute("preserveAspectRatio","none");e=Qp(t);_context204.next=5;return df(e,"webp",{background:this["#background-select"].value,compression:this["#compression-slider"].value});case 5:i=_context204.sent;_context204.next=8;return Na(i);case 8:s=_context204.sent;n=s.substring(0,s.indexOf(",")+1);o=Z((s.length-n.length)*(3/4));l=Ya(o);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",s),this["#preview"].setAttribute("width",this["#width-input"].value),this["#preview"].setAttribute("height",this["#height-input"].value),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+l,this["#preview-section"].scrollIntoViewIfNeeded();case 13:case"end":return _context204.stop();}}},_callee203,this);}));function HC(){return _HC6.apply(this,arguments);}return HC;}()},{key:"VC",value:function VC(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this1016=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.Js.board,i=null,s=null;if("selection"===this["#area-buttons"].value)e.outermostSelectedObjectElements.length>0&&(i=Ne(e.outermostSelectedObjectElements.map(function(t){var i=Vt(t,e.currentWorkspace),s=Ci(t);return Ue(s,i);})),0!==i.width&&0!==i.height||(i=null));else if("view-box"===this["#area-buttons"].value){var _t2392=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_t2392.length>0)if("view-tool"===this.Js.toolsDock.value){var _t2393=e.selectedElements.find(function(t){return"view"===t.localName;});_t2393&&(s=_t2393);}else{var _e1763=_t2392.find(function(t){return"#"+t.id===_this1016["#view-select"].value;});_e1763&&(s=_e1763);}if(null===s)e.currentWorkspace.hasAttribute("viewBox")&&(i=Bt.fromString(e.currentWorkspace.getAttribute("viewBox")));else{var _t2394=e.currentWorkspace.querySelector("#"+s.id);_t2394.hasAttribute("viewBox")&&(i=Bt.fromString(_t2394.getAttribute("viewBox")),0!==i.width&&0!==i.height||(i=null));}}if(this.exportable=!!i,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2395=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2395.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2395.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _e1764=["default"].concat(_toConsumableArray(_t2395.map(function(t){return"#"+t.id;}))),_i1575=["Default"].concat(_toConsumableArray(_t2395.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_e1764.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_e1764.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2396=0;_t2396<_e1764.length;_t2396+=1){var _s919=this["#view-menu"].children[_t2396];_s919.value=_e1764[_t2396],_s919.firstElementChild.textContent=_i1575[_t2396];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=s?"#"+s.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}t&&(this["#width-heading"].disabled=null===i,this["#width-input"].disabled=null===i,this["#width-input"].value=null===i?100:Z(i.width,0)||1,this["#height-heading"].disabled=null===i,this["#height-input"].disabled=null===i,this["#height-input"].value=null===i?100:Z(i.height,0)||1,this["#lock-size-button"].disabled=null===i),this["#margin-subsection"].hidden="view-box"===this["#area-buttons"].value,this["#margin-heading"].disabled=null===i,this["#margin-switch"].disabled=null===i,this["#margin-switch"].toggled=null!==this["#margin-input"].value,this["#margin-input"].hidden=null===this["#margin-input"].value,this["#margin-input"].disabled=null===i,this["#compression-heading"].disabled=null===i,this["#compression-slider"].disabled=null===i,this["#compression-input"].disabled=null===i,this["#background-heading"].disabled=null===i,this["#background-select"].disabled=null===i,this["#preview-heading"].disabled=null===i,this["#preview-button"].disabled=null===i;}}]);return zf;}(yf);_defineProperty(zf,"FM",Yi(_templateObject499()));_defineProperty(zf,"_shadowStyleSheet",Wi(_templateObject500()));customElements.define("bx-webpsettings",zf);var Of=/*#__PURE__*/function(_yf5){_inherits(Of,_yf5);var _super217=_createSuper(Of);_createClass(Of,[{key:"format",get:function get(){return"svg";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"viewport",get:function get(){return this["#viewport-buttons"].value;}},{key:"convertTextsToPaths",get:function get(){return this["#convert-texts-to-paths-checkbox"].toggled;}},{key:"removeEmbeddedFonts",get:function get(){return this["#remove-embedded-fonts-checkbox"].toggled;}},{key:"removeNonStandardNamespaces",get:function get(){return this["#remove-non-standard-namespaces-checkbox"].toggled;}},{key:"width",get:function get(){var _this$XM=this.XM(),_this$XM2=_slicedToArray(_this$XM,1),t=_this$XM2[0];return t?t.width:0;}},{key:"height",get:function get(){var _this$XM3=this.XM(),_this$XM4=_slicedToArray(_this$XM3,1),t=_this$XM4[0];return t?t.height:0;}}]);function Of(){var _this1017;_classCallCheck(this,Of);_this1017=_super217.call(this),_this1017["#area-buttons"].addEventListener("toggle",function(){_this1017.JC();}),_this1017["#view-select"].addEventListener("change",function(){_this1017.UM();}),_this1017["#viewport-buttons"].addEventListener("toggle",function(){_this1017.ZM();}),_this1017["#convert-texts-to-paths-checkbox"].addEventListener("toggle",function(){_this1017.KM();}),_this1017["#remove-embedded-fonts-checkbox"].addEventListener("toggle",function(){_this1017.QM();}),_this1017["#remove-non-standard-namespaces-checkbox"].addEventListener("toggle",function(){_this1017.JM();}),_this1017["#preview-button"].addEventListener("click",function(){_this1017.NC();});return _this1017;}_createClass(Of,[{key:"connectedCallback",value:function connectedCallback(){var _this1018=this;this.Js=Ai(this,"bx-editor"),this.Qs=Ai(this,"#app");var t=this.Qs,e=this.Js.board,i=t.getConfig("bx-svgsettings:area","view-box"),s=t.getConfig("bx-svgsettings:viewport","responsive"),n=t.getConfig("bx-svgsettings:convertTextsToPaths",!1),o=t.getConfig("bx-svgsettings:removeEmbeddedFonts",!1),l=t.getConfig("bx-svgsettings:removeNonStandardNamespaces",!1);this["#area-buttons"].value=i,this["#viewport-buttons"].value=s,this["#convert-texts-to-paths-checkbox"].toggled=n,this["#remove-embedded-fonts-checkbox"].toggled=o,this["#remove-non-standard-namespaces-checkbox"].toggled=l,this.qs(),e.addEventListener("selectedelementschange",this.Qo=function(){_this1018.Jo();}),e.addEventListener("workspacemutation",this.rn=function(t){_this1018.sl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.VC(),t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.VC(),this.qs());}},{key:"sl",value:function sl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.VC(),this.qs());}},{key:"JC",value:function JC(){var t=this["#area-buttons"].value;this.Qs.setConfig("bx-svgsettings:area",t),this.VC(),this.qs();}},{key:"UM",value:function UM(){if(this.VC(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"ZM",value:function ZM(){var t=this["#viewport-buttons"].value;this.Qs.setConfig("bx-svgsettings:viewport",t),this.VC(),this.qs();}},{key:"KM",value:function KM(){var t=this["#convert-texts-to-paths-checkbox"].toggled;this.Qs.setConfig("bx-svgsettings:convertTextsToPaths",t),this.VC();}},{key:"QM",value:function QM(){var t=this["#remove-embedded-fonts-checkbox"].toggled;this.Qs.setConfig("bx-svgsettings:removeEmbeddedFonts",t),this.VC();}},{key:"JM",value:function JM(){var t=this["#remove-non-standard-namespaces-checkbox"].toggled;this.Qs.setConfig("bx-svgsettings:removeNonStandardNamespaces",t);}},{key:"NC",value:function NC(){this.HC();}},{key:"XM",value:function XM(){var _this1019=this;var t=this.Js.board,e=null,i=null;if("selection"===this["#area-buttons"].value)t.outermostSelectedObjectElements.length>0&&(e=Ne(t.outermostSelectedObjectElements.map(function(e){var i=Vt(e,t.currentWorkspace),s=Ci(e);return Ue(s,i);})),0!==e.width&&0!==e.height||(e=null));else if("view-box"===this["#area-buttons"].value){var _s920=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_s920.length>0)if("view-tool"===this.Js.toolsDock.value){var _e1765=t.selectedElements.find(function(t){return"view"===t.localName;});_e1765&&(i=_e1765);}else{var _t2397=_s920.find(function(t){return"#"+t.id===_this1019["#view-select"].value;});_t2397&&(i=_t2397);}if(null===i)t.currentWorkspace.hasAttribute("viewBox")&&(e=Bt.fromString(t.currentWorkspace.getAttribute("viewBox")));else{var _s921=t.currentWorkspace.querySelector("#"+i.id);_s921.hasAttribute("viewBox")&&(e=Bt.fromString(_s921.getAttribute("viewBox")),0!==e.width&&0!==e.height||(e=null));}}return[e,i];}},{key:"tP",value:function tP(t){var _this1020=this;return new Promise(/*#__PURE__*/function(){var _ref171=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee204(e){var i,_this1020$Js$board,s,n,_iterator1569,_step1569,_e1767,_i1576,_arr76,_e1766;return regeneratorRuntime.wrap(function _callee204$(_context205){while(1){switch(_context205.prev=_context205.next){case 0:_this1020.Js.offscreenBoard.setArtwork(t);_context205.next=3;return Qi(100);case 3:i=new Up(t),_this1020$Js$board=_this1020.Js.board,s=_this1020$Js$board.geometryPrecision,n=_this1020$Js$board.transformPrecision;_iterator1569=_createForOfIteratorHelper(t.querySelectorAll("text"));_context205.prev=5;_iterator1569.s();case 7:if((_step1569=_iterator1569.n()).done){_context205.next=15;break;}_e1767=_step1569.value;_context205.t0=i.canReplaceTextWithPaths(_e1767);if(!_context205.t0){_context205.next=13;break;}_context205.next=13;return i.replaceTextWithPaths(_e1767,s,n);case 13:_context205.next=7;break;case 15:_context205.next=20;break;case 17:_context205.prev=17;_context205.t1=_context205["catch"](5);_iterator1569.e(_context205.t1);case 20:_context205.prev=20;_iterator1569.f();return _context205.finish(20);case 23:for(_i1576=0,_arr76=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1576<_arr76.length;_i1576++){_e1766=_arr76[_i1576];_e1766.remove();}_this1020.Js.offscreenBoard.clear(),e();case 25:case"end":return _context205.stop();}}},_callee204,null,[[5,17,20,23]]);}));return function(_x193){return _ref171.apply(this,arguments);};}());}},{key:"HC",value:function(){var _HC7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee205(){var t,_e1768,_t2398,e,i,s,_this$XM5,_this$XM6,n;return regeneratorRuntime.wrap(function _callee205$(_context206){while(1){switch(_context206.prev=_context206.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1768=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2398=this["#view-select"].value.substring(1);_e1768=this.Js.board.currentWorkspace.querySelector("#"+_t2398);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1768);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements());_context206.t0=this["#convert-texts-to-paths-checkbox"].toggled;if(!_context206.t0){_context206.next=5;break;}_context206.next=5;return this.tP(t);case 5:e=Qp(t);_context206.next=8;return tu(e);case 8:i=_context206.sent;s=Ya(e.length);_this$XM5=this.XM();_this$XM6=_slicedToArray(_this$XM5,1);n=_this$XM6[0];this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",i),this["#preview"].setAttribute("width",n.width),this["#preview"].setAttribute("height",n.height),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+s,this["#preview-section"].scrollIntoViewIfNeeded();case 14:case"end":return _context206.stop();}}},_callee205,this);}));function HC(){return _HC7.apply(this,arguments);}return HC;}()},{key:"VC",value:function VC(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this$XM7=this.XM(),_this$XM8=_slicedToArray(_this$XM7,2),t=_this$XM8[0],e=_this$XM8[1];if(this.exportable=!!t,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2399=_toConsumableArray(this.Js.board.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2399.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2399.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _i1577=["default"].concat(_toConsumableArray(_t2399.map(function(t){return"#"+t.id;}))),_s922=["Default"].concat(_toConsumableArray(_t2399.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_i1577.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_i1577.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2400=0;_t2400<_i1577.length;_t2400+=1){var _e1769=this["#view-menu"].children[_t2400];_e1769.value=_i1577[_t2400],_e1769.firstElementChild.textContent=_s922[_t2400];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=e?"#"+e.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}this["#viewport-heading"].disabled=null===t,this["#responsive-viewport-button"].disabled=null===t,this["#fixed-viewport-button"].disabled=null===t,this["#normalize-heading"].disabled=null===t,this["#convert-texts-to-paths-checkbox"].disabled=null===t,this["#remove-embedded-fonts-checkbox"].disabled=null===t,this["#remove-non-standard-namespaces-checkbox"].disabled=null===t,this["#preview-heading"].disabled=null===t,this["#preview-button"].disabled=null===t;}}]);return Of;}(yf);_defineProperty(Of,"FM",Yi(_templateObject501()));_defineProperty(Of,"_shadowStyleSheet",Wi(_templateObject502()));customElements.define("bx-svgsettings",Of);var Ef=function Ef(t){var e=[];for(var _i1578=0,_s923=t.length;_i1578<_s923;_i1578+=1){e.push(t[_i1578].charCodeAt(0));}var i=new Uint8Array(e);return pako.gzip(i);},Tf=function Tf(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"string";try{var _i1579=null,_s924=pako.inflate(t);if("string"===e){_i1579="";for(var _t2401=0,_e1770=_s924.length;_t2401<_e1770;_t2401+=1){_i1579+=String.fromCharCode(_s924[_t2401]);}}else"blob"===e&&(_i1579=new Blob([_s924],{type:"image/svg+xml"}));return _i1579;}catch(t){return null;}};var Af=/*#__PURE__*/function(_yf6){_inherits(Af,_yf6);var _super218=_createSuper(Af);_createClass(Af,[{key:"format",get:function get(){return"svgz";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"viewport",get:function get(){return this["#viewport-buttons"].value;}},{key:"convertTextsToPaths",get:function get(){return this["#convert-texts-to-paths-checkbox"].toggled;}},{key:"removeEmbeddedFonts",get:function get(){return this["#remove-embedded-fonts-checkbox"].toggled;}},{key:"removeNonStandardNamespaces",get:function get(){return this["#remove-non-standard-namespaces-checkbox"].toggled;}},{key:"width",get:function get(){var _this$XM9=this.XM(),_this$XM10=_slicedToArray(_this$XM9,1),t=_this$XM10[0];return t?t.width:0;}},{key:"height",get:function get(){var _this$XM11=this.XM(),_this$XM12=_slicedToArray(_this$XM11,1),t=_this$XM12[0];return t?t.height:0;}}]);function Af(){var _this1021;_classCallCheck(this,Af);_this1021=_super218.call(this),_this1021["#area-buttons"].addEventListener("toggle",function(){_this1021.JC();}),_this1021["#view-select"].addEventListener("change",function(){_this1021.UM();}),_this1021["#viewport-buttons"].addEventListener("toggle",function(){_this1021.ZM();}),_this1021["#convert-texts-to-paths-checkbox"].addEventListener("toggle",function(){_this1021.KM();}),_this1021["#remove-embedded-fonts-checkbox"].addEventListener("toggle",function(){_this1021.QM();}),_this1021["#remove-non-standard-namespaces-checkbox"].addEventListener("toggle",function(){_this1021.JM();}),_this1021["#preview-button"].addEventListener("click",function(){_this1021.NC();});return _this1021;}_createClass(Af,[{key:"connectedCallback",value:function connectedCallback(){var _this1022=this;this.Js=Ai(this,"bx-editor"),this.Qs=Ai(this,"#app");var t=this.Qs,e=this.Js.board,i=t.getConfig("bx-svgzsettings:area","view-box"),s=t.getConfig("bx-svgzsettings:viewport","responsive"),n=t.getConfig("bx-svgzsettings:convertTextsToPaths",!1),o=t.getConfig("bx-svgzsettings:removeEmbeddedFonts",!1),l=t.getConfig("bx-svgzsettings:removeNonStandardNamespaces",!1);this["#area-buttons"].value=i,this["#viewport-buttons"].value=s,this["#convert-texts-to-paths-checkbox"].toggled=n,this["#remove-embedded-fonts-checkbox"].toggled=o,this["#remove-non-standard-namespaces-checkbox"].toggled=l,this.qs(),e.addEventListener("selectedelementschange",this.Qo=function(){_this1022.Jo();}),e.addEventListener("workspacemutation",this.rn=function(t){_this1022.sl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.VC(),t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.VC(),this.qs());}},{key:"sl",value:function sl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.VC(),this.qs());}},{key:"JC",value:function JC(){var t=this["#area-buttons"].value;this.Qs.setConfig("bx-svgzsettings:area",t),this.VC(),this.qs();}},{key:"UM",value:function UM(){if(this.VC(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"ZM",value:function ZM(){var t=this["#viewport-buttons"].value;this.Qs.setConfig("bx-svgzsettings:viewport",t),this.VC(),this.qs();}},{key:"KM",value:function KM(){var t=this["#convert-texts-to-paths-checkbox"].toggled;this.Qs.setConfig("bx-svgzsettings:convertTextsToPaths",t),this.VC();}},{key:"QM",value:function QM(){var t=this["#remove-embedded-fonts-checkbox"].toggled;this.Qs.setConfig("bx-svgzsettings:removeEmbeddedFonts",t),this.VC();}},{key:"JM",value:function JM(){var t=this["#remove-non-standard-namespaces-checkbox"].toggled;this.Qs.setConfig("bx-svgzsettings:removeNonStandardNamespaces",t);}},{key:"NC",value:function NC(){this.HC();}},{key:"XM",value:function XM(){var _this1023=this;var t=this.Js.board,e=null,i=null;if("selection"===this["#area-buttons"].value)t.outermostSelectedObjectElements.length>0&&(e=Ne(t.outermostSelectedObjectElements.map(function(e){var i=Vt(e,t.currentWorkspace),s=Ci(e);return Ue(s,i);})),0!==e.width&&0!==e.height||(e=null));else if("view-box"===this["#area-buttons"].value){var _s925=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_s925.length>0)if("view-tool"===this.Js.toolsDock.value){var _e1771=t.selectedElements.find(function(t){return"view"===t.localName;});_e1771&&(i=_e1771);}else{var _t2402=_s925.find(function(t){return"#"+t.id===_this1023["#view-select"].value;});_t2402&&(i=_t2402);}if(null===i)t.currentWorkspace.hasAttribute("viewBox")&&(e=Bt.fromString(t.currentWorkspace.getAttribute("viewBox")));else{var _s926=t.currentWorkspace.querySelector("#"+i.id);_s926.hasAttribute("viewBox")&&(e=Bt.fromString(_s926.getAttribute("viewBox")),0!==e.width&&0!==e.height||(e=null));}}return[e,i];}},{key:"tP",value:function tP(t){var _this1024=this;return new Promise(/*#__PURE__*/function(){var _ref172=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee206(e){var i,_this1024$Js$board,s,n,_iterator1570,_step1570,_e1773,_i1580,_arr77,_e1772;return regeneratorRuntime.wrap(function _callee206$(_context207){while(1){switch(_context207.prev=_context207.next){case 0:_this1024.Js.offscreenBoard.setArtwork(t);_context207.next=3;return Qi(100);case 3:i=new Up(t),_this1024$Js$board=_this1024.Js.board,s=_this1024$Js$board.geometryPrecision,n=_this1024$Js$board.transformPrecision;_iterator1570=_createForOfIteratorHelper(t.querySelectorAll("text"));_context207.prev=5;_iterator1570.s();case 7:if((_step1570=_iterator1570.n()).done){_context207.next=15;break;}_e1773=_step1570.value;_context207.t0=i.canReplaceTextWithPaths(_e1773);if(!_context207.t0){_context207.next=13;break;}_context207.next=13;return i.replaceTextWithPaths(_e1773,s,n);case 13:_context207.next=7;break;case 15:_context207.next=20;break;case 17:_context207.prev=17;_context207.t1=_context207["catch"](5);_iterator1570.e(_context207.t1);case 20:_context207.prev=20;_iterator1570.f();return _context207.finish(20);case 23:for(_i1580=0,_arr77=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1580<_arr77.length;_i1580++){_e1772=_arr77[_i1580];_e1772.remove();}_this1024.Js.offscreenBoard.clear(),e();case 25:case"end":return _context207.stop();}}},_callee206,null,[[5,17,20,23]]);}));return function(_x194){return _ref172.apply(this,arguments);};}());}},{key:"HC",value:function(){var _HC8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee207(){var t,_e1774,_t2403,e,i,s,n,_this$XM13,_this$XM14,o;return regeneratorRuntime.wrap(function _callee207$(_context208){while(1){switch(_context208.prev=_context208.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1774=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2403=this["#view-select"].value.substring(1);_e1774=this.Js.board.currentWorkspace.querySelector("#"+_t2403);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1774);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements());_context208.t0=this["#convert-texts-to-paths-checkbox"].toggled;if(!_context208.t0){_context208.next=5;break;}_context208.next=5;return this.tP(t);case 5:e=Qp(t);i=Ef(e);_context208.next=9;return tu(e);case 9:s=_context208.sent;n=Ya(i.length);_this$XM13=this.XM();_this$XM14=_slicedToArray(_this$XM13,1);o=_this$XM14[0];this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",s),this["#preview"].setAttribute("width",o.width),this["#preview"].setAttribute("height",o.height),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+n,this["#preview-section"].scrollIntoViewIfNeeded();case 15:case"end":return _context208.stop();}}},_callee207,this);}));function HC(){return _HC8.apply(this,arguments);}return HC;}()},{key:"VC",value:function VC(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this$XM15=this.XM(),_this$XM16=_slicedToArray(_this$XM15,2),t=_this$XM16[0],e=_this$XM16[1];if(this.exportable=!!t,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2404=_toConsumableArray(this.Js.board.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2404.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2404.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _i1581=["default"].concat(_toConsumableArray(_t2404.map(function(t){return"#"+t.id;}))),_s927=["Default"].concat(_toConsumableArray(_t2404.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_i1581.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_i1581.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2405=0;_t2405<_i1581.length;_t2405+=1){var _e1775=this["#view-menu"].children[_t2405];_e1775.value=_i1581[_t2405],_e1775.firstElementChild.textContent=_s927[_t2405];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=e?"#"+e.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}this["#viewport-heading"].disabled=null===t,this["#responsive-viewport-button"].disabled=null===t,this["#fixed-viewport-button"].disabled=null===t,this["#normalize-heading"].disabled=null===t,this["#convert-texts-to-paths-checkbox"].disabled=null===t,this["#remove-embedded-fonts-checkbox"].disabled=null===t,this["#remove-non-standard-namespaces-checkbox"].disabled=null===t,this["#preview-heading"].disabled=null===t,this["#preview-button"].disabled=null===t;}}]);return Af;}(yf);_defineProperty(Af,"FM",Yi(_templateObject503()));_defineProperty(Af,"_shadowStyleSheet",Wi(_templateObject504()));customElements.define("bx-svgzsettings",Af);var $f=/*#__PURE__*/function(_yf7){_inherits($f,_yf7);var _super219=_createSuper($f);_createClass($f,[{key:"format",get:function get(){return"html";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"convertTextsToPaths",get:function get(){return this["#convert-texts-to-paths-checkbox"].toggled;}},{key:"removeEmbeddedFonts",get:function get(){return this["#remove-embedded-fonts-checkbox"].toggled;}},{key:"width",get:function get(){var _this$XM17=this.XM(),_this$XM18=_slicedToArray(_this$XM17,1),t=_this$XM18[0];return t?t.width:0;}},{key:"height",get:function get(){var _this$XM19=this.XM(),_this$XM20=_slicedToArray(_this$XM19,1),t=_this$XM20[0];return t?t.height:0;}}]);function $f(){var _this1025;_classCallCheck(this,$f);_this1025=_super219.call(this),_this1025["#area-buttons"].addEventListener("toggle",function(){return _this1025.JC();}),_this1025["#view-select"].addEventListener("change",function(){return _this1025.UM();}),_this1025["#convert-texts-to-paths-checkbox"].addEventListener("toggle",function(){return _this1025.KM();}),_this1025["#remove-embedded-fonts-checkbox"].addEventListener("toggle",function(){return _this1025.QM();}),_this1025["#preview-button"].addEventListener("click",function(){return _this1025.NC();});return _this1025;}_createClass($f,[{key:"connectedCallback",value:function connectedCallback(){var _this1026=this;this.Js=Ai(this,"bx-editor"),this.Qs=Ai(this,"#app");var t=this.Qs,e=this.Js.board;this["#area-buttons"].value=t.getConfig("bx-htmlsettings:area","view-box"),this["#convert-texts-to-paths-checkbox"].toggled=t.getConfig("bx-htmlsettings:convertTextsToPaths",!1),this["#remove-embedded-fonts-checkbox"].toggled=t.getConfig("bx-htmlsettings:removeEmbeddedFonts",!1),this.qs(),e.addEventListener("selectedelementschange",this.Qo=function(){_this1026.Jo();}),e.addEventListener("workspacemutation",this.rn=function(t){_this1026.sl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.VC(),t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.VC(),this.qs());}},{key:"sl",value:function sl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.VC(),this.qs());}},{key:"JC",value:function JC(){this.VC(),this.qs(),this.Qs.setConfig("bx-htmlsettings:area",this["#area-buttons"].value);}},{key:"UM",value:function UM(){if(this.VC(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"KM",value:function KM(){this.VC(),this.Qs.setConfig("bx-htmlsettings:convertTextsToPaths",this["#convert-texts-to-paths-checkbox"].toggled);}},{key:"QM",value:function QM(){this.VC(),this.Qs.setConfig("bx-htmlsettings:removeEmbeddedFonts",this["#remove-embedded-fonts-checkbox"].toggled);}},{key:"NC",value:function NC(){this.HC();}},{key:"XM",value:function XM(){var _this1027=this;var t=this.Js.board,e=null,i=null;if("selection"===this["#area-buttons"].value)t.outermostSelectedObjectElements.length>0&&(e=Ne(t.outermostSelectedObjectElements.map(function(e){var i=Vt(e,t.currentWorkspace),s=Ci(e);return Ue(s,i);})),0!==e.width&&0!==e.height||(e=null));else if("view-box"===this["#area-buttons"].value){var _s928=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_s928.length>0)if("view-tool"===this.Js.toolsDock.value){var _e1776=t.selectedElements.find(function(t){return"view"===t.localName;});_e1776&&(i=_e1776);}else{var _t2406=_s928.find(function(t){return"#"+t.id===_this1027["#view-select"].value;});_t2406&&(i=_t2406);}if(null===i)t.currentWorkspace.hasAttribute("viewBox")&&(e=Bt.fromString(t.currentWorkspace.getAttribute("viewBox")));else{var _s929=t.currentWorkspace.querySelector("#"+i.id);_s929.hasAttribute("viewBox")&&(e=Bt.fromString(_s929.getAttribute("viewBox")),0!==e.width&&0!==e.height||(e=null));}}return[e,i];}},{key:"tP",value:function tP(t){var _this1028=this;return new Promise(/*#__PURE__*/function(){var _ref173=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee208(e){var i,_this1028$Js$board,s,n,_iterator1571,_step1571,_e1778,_i1582,_arr78,_e1777;return regeneratorRuntime.wrap(function _callee208$(_context209){while(1){switch(_context209.prev=_context209.next){case 0:_this1028.Js.offscreenBoard.setArtwork(t);_context209.next=3;return Qi(100);case 3:i=new Up(t),_this1028$Js$board=_this1028.Js.board,s=_this1028$Js$board.geometryPrecision,n=_this1028$Js$board.transformPrecision;_iterator1571=_createForOfIteratorHelper(t.querySelectorAll("text"));_context209.prev=5;_iterator1571.s();case 7:if((_step1571=_iterator1571.n()).done){_context209.next=15;break;}_e1778=_step1571.value;_context209.t0=i.canReplaceTextWithPaths(_e1778);if(!_context209.t0){_context209.next=13;break;}_context209.next=13;return i.replaceTextWithPaths(_e1778,s,n);case 13:_context209.next=7;break;case 15:_context209.next=20;break;case 17:_context209.prev=17;_context209.t1=_context209["catch"](5);_iterator1571.e(_context209.t1);case 20:_context209.prev=20;_iterator1571.f();return _context209.finish(20);case 23:for(_i1582=0,_arr78=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1582<_arr78.length;_i1582++){_e1777=_arr78[_i1582];_e1777.remove();}_this1028.Js.offscreenBoard.clear(),e();case 25:case"end":return _context209.stop();}}},_callee208,null,[[5,17,20,23]]);}));return function(_x195){return _ref173.apply(this,arguments);};}());}},{key:"HC",value:function(){var _HC9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee209(){var t,_e1779,_t2407,e,i,s,n,_this$XM21,_this$XM22,o;return regeneratorRuntime.wrap(function _callee209$(_context210){while(1){switch(_context210.prev=_context210.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1779=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2407=this["#view-select"].value.substring(1);_e1779=this.Js.board.currentWorkspace.querySelector("#"+_t2407);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1779);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements());_context210.t0=this["#convert-texts-to-paths-checkbox"].toggled;if(!_context210.t0){_context210.next=5;break;}_context210.next=5;return this.tP(t);case 5:e=Qp(t,"xml");i=Qp(t,"html");_context210.next=9;return tu(e);case 9:s=_context210.sent;n=Ya(i.length);_this$XM21=this.XM();_this$XM22=_slicedToArray(_this$XM21,1);o=_this$XM22[0];this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",s),this["#preview"].setAttribute("width",o.width),this["#preview"].setAttribute("height",o.height),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+n,this["#preview-section"].scrollIntoViewIfNeeded();case 15:case"end":return _context210.stop();}}},_callee209,this);}));function HC(){return _HC9.apply(this,arguments);}return HC;}()},{key:"VC",value:function VC(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this$XM23=this.XM(),_this$XM24=_slicedToArray(_this$XM23,2),t=_this$XM24[0],e=_this$XM24[1];if(this.exportable=!!t,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2408=_toConsumableArray(this.Js.board.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2408.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2408.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _i1583=["default"].concat(_toConsumableArray(_t2408.map(function(t){return"#"+t.id;}))),_s930=["Default"].concat(_toConsumableArray(_t2408.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_i1583.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_i1583.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2409=0;_t2409<_i1583.length;_t2409+=1){var _e1780=this["#view-menu"].children[_t2409];_e1780.value=_i1583[_t2409],_e1780.firstElementChild.textContent=_s930[_t2409];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=e?"#"+e.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}this["#normalize-heading"].disabled=null===t,this["#convert-texts-to-paths-checkbox"].disabled=null===t,this["#remove-embedded-fonts-checkbox"].disabled=null===t,this["#preview-heading"].disabled=null===t,this["#preview-button"].disabled=null===t;}}]);return $f;}(yf);_defineProperty($f,"FM",Yi(_templateObject505()));_defineProperty($f,"_shadowStyleSheet",Wi(_templateObject506()));customElements.define("bx-htmlsettings",$f);var If=/*#__PURE__*/function(_yf8){_inherits(If,_yf8);var _super220=_createSuper(If);_createClass(If,[{key:"format",get:function get(){return"pdf";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"widthUnit",get:function get(){return this["#width-unit-select"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"heightUnit",get:function get(){return this["#height-unit-select"].value;}},{key:"background",get:function get(){return this["#background-select"].value;}},{key:"convertTexts",get:function get(){return this["#convert-texts-checkbox"].toggled;}}]);function If(){var _this1029;_classCallCheck(this,If);_this1029=_super220.call(this),_this1029["#area-buttons"].addEventListener("toggle",function(){return _this1029.JC();}),_this1029["#view-select"].addEventListener("change",function(){return _this1029.UM();}),_this1029["#width-input"].addEventListener("changestart",function(){return _this1029.Rg();}),_this1029["#height-input"].addEventListener("changestart",function(){return _this1029.Gg();}),_this1029["#width-unit-select"].addEventListener("change",function(){return _this1029.eP();}),_this1029["#height-unit-select"].addEventListener("change",function(){return _this1029.iP();}),_this1029["#lock-size-button"].addEventListener("toggle",function(){return _this1029.NM();}),_this1029["#background-select"].addEventListener("changeend",function(){return _this1029.FC();}),_this1029["#background-popover"].addEventListener("close",function(){return _this1029.UC();}),_this1029["#convert-texts-checkbox"].addEventListener("toggle",function(){return _this1029.sP();}),_this1029["#preview-button"].addEventListener("click",function(){return _this1029.NC();});return _this1029;}_createClass(If,[{key:"connectedCallback",value:function connectedCallback(){var _this1030=this;this.Js=Ai(this,"bx-editor"),this.Qs=Ai(this,"#app"),this["#area-buttons"].value=this.Qs.getConfig("bx-pdfoptions:area","view-box"),this["#width-unit-select"].value=this.Qs.getConfig("bx-pdfoptions:widthUnit","cm"),this["#height-unit-select"].value=this.Qs.getConfig("bx-pdfoptions:heightUnit","cm"),this["#lock-size-button"].toggled=this.Qs.getConfig("bx-pdfoptions:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#background-select"].value=this.Qs.getConfig("bx-pdfoptions:background","rgb(255, 255, 255)"),this["#convert-texts-checkbox"].toggled=this.Qs.getConfig("bx-pdfoptions:convertTexts",!1),this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this1030.Jo();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this1030.sl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.VC(),this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.VC(),this.qs());}},{key:"sl",value:function sl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.VC(),this.qs());}},{key:"JC",value:function JC(){this.VC(),this.qs(),this.Qs.setConfig("bx-pdfoptions:area",this["#area-buttons"].value);}},{key:"UM",value:function UM(){if(this.VC(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"Rg",value:function Rg(){var _this1031=this;var t,_e1781,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2410=_this1031["#width-input"].value/i;_this1031["#height-input"].value=K(_t2410,1,Infinity,3);}}),this["#width-input"].addEventListener("changeend",_e1781=function e(){_this1031["#width-input"].removeEventListener("change",t),_this1031["#width-input"].removeEventListener("changeend",_e1781),_this1031.VC();});}},{key:"Gg",value:function Gg(){var _this1032=this;var t,_e1782,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2411=i*_this1032["#height-input"].value;_this1032["#width-input"].value=K(_t2411,1,Infinity,3);}}),this["#height-input"].addEventListener("changeend",_e1782=function e(){_this1032["#height-input"].removeEventListener("change",t),_this1032["#height-input"].removeEventListener("changeend",_e1782),_this1032.VC();});}},{key:"eP",value:function eP(){this.Qs.setConfig("bx-pdfoptions:widthUnit",this["#width-unit-select"].value),this.VC(),"cm"===this["#width-unit-select"].value?this["#width-input"].value=Z(2.54*this["#width-input"].value,3):this["#width-input"].value=Z(this["#width-input"].value/2.54,3);}},{key:"iP",value:function iP(){this.Qs.setConfig("bx-pdfoptions:heightUnit",this["#height-unit-select"].value),this.VC(),"cm"===this["#height-unit-select"].value?this["#height-input"].value=Z(2.54*this["#height-input"].value,3):this["#height-input"].value=Z(this["#height-input"].value/2.54,3);}},{key:"NM",value:function NM(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-pdfoptions:lockSize",this["#lock-size-button"].toggled);}},{key:"FC",value:function FC(){this.jC=!0;}},{key:"UC",value:function UC(){this.jC&&(this.jC=!1,this.Qs.setConfig("bx-pdfoptions:background",this["#background-select"].value),this.VC());}},{key:"sP",value:function sP(){this.VC(),this.Qs.setConfig("bx-pdfoptions:convertTexts",this["#convert-texts-checkbox"].toggled);}},{key:"NC",value:function NC(){this.HC();}},{key:"tP",value:function tP(t){var _this1033=this;return new Promise(/*#__PURE__*/function(){var _ref174=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee210(e){var i,_this1033$Js$board,s,n,_iterator1572,_step1572,_e1784,_i1584,_arr79,_e1783;return regeneratorRuntime.wrap(function _callee210$(_context211){while(1){switch(_context211.prev=_context211.next){case 0:_this1033.Js.offscreenBoard.setArtwork(t);_context211.next=3;return Qi(100);case 3:i=new Up(t),_this1033$Js$board=_this1033.Js.board,s=_this1033$Js$board.geometryPrecision,n=_this1033$Js$board.transformPrecision;_iterator1572=_createForOfIteratorHelper(t.querySelectorAll("text"));_context211.prev=5;_iterator1572.s();case 7:if((_step1572=_iterator1572.n()).done){_context211.next=15;break;}_e1784=_step1572.value;_context211.t0=i.canReplaceTextWithPaths(_e1784);if(!_context211.t0){_context211.next=13;break;}_context211.next=13;return i.replaceTextWithPaths(_e1784,s,n);case 13:_context211.next=7;break;case 15:_context211.next=20;break;case 17:_context211.prev=17;_context211.t1=_context211["catch"](5);_iterator1572.e(_context211.t1);case 20:_context211.prev=20;_iterator1572.f();return _context211.finish(20);case 23:for(_i1584=0,_arr79=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1584<_arr79.length;_i1584++){_e1783=_arr79[_i1584];_e1783.remove();}_this1033.Js.offscreenBoard.clear(),e();case 25:case"end":return _context211.stop();}}},_callee210,null,[[5,17,20,23]]);}));return function(_x196){return _ref174.apply(this,arguments);};}());}},{key:"HC",value:function(){var _HC10=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee211(){var t,_e1785,_t2412,e,i,s,n,o,l;return regeneratorRuntime.wrap(function _callee211$(_context212){while(1){switch(_context212.prev=_context212.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1785=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2412=this["#view-select"].value.substring(1);_e1785=this.Js.board.currentWorkspace.querySelector("#"+_t2412);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1785);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements());e=this["#width-input"].value+this["#width-unit-select"].value,i=this["#height-input"].value+this["#height-unit-select"].value,s=this["#width-input"].value*("cm"===this["#width-unit-select"].value?37.7953:96),n=this["#height-input"].value*("cm"===this["#height-unit-select"].value?37.7953:96);t.setAttribute("width",e);t.setAttribute("height",i);t.setAttribute("preserveAspectRatio","none");t.style.background=this["#background-select"].value;t.insertAdjacentHTML("beforeEnd","<style>@page {size: ".concat(e," ").concat(i,";}</style>"));_context212.t0=this["#convert-texts-checkbox"].toggled;if(!_context212.t0){_context212.next=11;break;}_context212.next=11;return this.tP(t);case 11:o=Qp(t);_context212.next=14;return tu(o);case 14:l=_context212.sent;this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",l),this["#preview"].setAttribute("width",s),this["#preview"].setAttribute("height",n),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="",this["#preview-section"].scrollIntoViewIfNeeded();case 16:case"end":return _context212.stop();}}},_callee211,this);}));function HC(){return _HC10.apply(this,arguments);}return HC;}()},{key:"VC",value:function VC(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this1034=this;var t=this.Js.board,e=null,i=null;if("selection"===this["#area-buttons"].value)t.outermostSelectedObjectElements.length>0&&(e=Ne(t.outermostSelectedObjectElements.map(function(e){var i=Vt(e,t.currentWorkspace),s=Ci(e);return Ue(s,i);})),0!==e.width&&0!==e.height||(e=null));else if("view-box"===this["#area-buttons"].value){var _s931=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_s931.length>0)if("view-tool"===this.Js.toolsDock.value){var _e1786=t.selectedElements.find(function(t){return"view"===t.localName;});_e1786&&(i=_e1786);}else{var _t2413=_s931.find(function(t){return"#"+t.id===_this1034["#view-select"].value;});_t2413&&(i=_t2413);}if(null===i)t.currentWorkspace.hasAttribute("viewBox")&&(e=Bt.fromString(t.currentWorkspace.getAttribute("viewBox")));else{var _s932=t.currentWorkspace.querySelector("#"+i.id);_s932.hasAttribute("viewBox")&&(e=Bt.fromString(_s932.getAttribute("viewBox")),0!==e.width&&0!==e.height||(e=null));}}this.exportable=!!e,this["#options-heading"].disabled=this.disabled,this["#area-heading"].disabled=this.disabled;var _iterator1573=_createForOfIteratorHelper(this["#area-buttons"].children),_step1573;try{for(_iterator1573.s();!(_step1573=_iterator1573.n()).done;){var _t2416=_step1573.value;_t2416.disabled=this.disabled;}}catch(err){_iterator1573.e(err);}finally{_iterator1573.f();}if("selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _e1787=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_e1787.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_e1787.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _t2414=["default"].concat(_toConsumableArray(_e1787.map(function(t){return"#"+t.id;}))),_s933=["Default"].concat(_toConsumableArray(_e1787.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_t2414.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_t2414.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _e1788=0;_e1788<_t2414.length;_e1788+=1){var _i1585=this["#view-menu"].children[_e1788];_i1585.value=_t2414[_e1788],_i1585.firstElementChild.textContent=_s933[_e1788];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=i?"#"+i.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}{var _t2415=100,_i1586=100;null!==e&&(_t2415="cm"===this["#width-unit-select"].value?Z(e.width/37.7953,3):Z(e.width/96,3),_i1586="cm"===this["#height-unit-select"].value?Z(e.height/37.7953,3):Z(e.height/96,3)),this["#width-heading"].disabled=null===e||this.disabled,this["#width-input"].disabled=null===e||this.disabled,this["#width-input"].value=_t2415,this["#width-unit-select"].disabled=null===e||this.disabled,this["#height-heading"].disabled=null===e||this.disabled,this["#height-input"].disabled=null===e||this.disabled,this["#height-input"].value=_i1586,this["#height-unit-select"].disabled=null===e||this.disabled,this["#lock-size-button"].disabled=null===e||this.disabled;}this["#background-heading"].disabled=null===e||this.disabled,this["#background-select"].disabled=null===e||this.disabled,this["#normalize-heading"].disabled=null===e||this.disabled,this["#convert-texts-checkbox"].disabled=null===e||this.disabled,this["#preview-heading"].disabled=null===e||this.disabled,this["#preview-button"].disabled=null===e||this.disabled;}}]);return If;}(yf);_defineProperty(If,"FM",Yi(_templateObject507()));_defineProperty(If,"_shadowStyleSheet",Wi(_templateObject508()));customElements.define("bx-pdfsettings",If);var Lf=function Lf(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var s=0;e>=100?s=.3:e>=30?s=.2:e>=10&&(s=.1);var n=Z((t===i?99.99:9.99)*(1-s),2);return[new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",currencyDisplay:"code"}).format(e*n).replace("USD\xa0",""),0===s?"None":100*s+"%"];},Bf=function Bf(t,i){var s=null,n=!1,o=!1;return t&&(void 0!==t.subscriptionPlanID&&(null===t.cancellationEffectiveDate||new Date(t.cancellationEffectiveDate)-Date.now()>0)&&(s=t.subscriptionPlanID),void 0!==t.subscriptionPlanID&&"deleted"!==t.status||void 0!==t.orgPlanID&&(null===t.orgCancellationEffectiveDate||new Date(t.orgCancellationEffectiveDate)-Date.now()>0)&&(s=t.orgPlanID,n=!0)),null===s&&i&&(Date.now()-new Date(i.metadata.creationTime).getTime())/1e3/60/60/24<15&&(s=e,o=!0),[s,n,o];},Rf=function Rf(t,e,i){var s=new URL(t),n=new URLSearchParams(s.search);return null==i||""===i?n["delete"](e):n.set(e,i),s.search=n.toString(),s.href;};var Gf=/*#__PURE__*/function(_HTMLElement130){_inherits(Gf,_HTMLElement130);var _super221=_createSuper(Gf);_createClass(Gf,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Gf(){var _this1035;_classCallCheck(this,Gf);_this1035=_super221.call(this),_this1035._shadowRoot=_this1035.attachShadow({mode:"closed"}),_this1035._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Gf._shadowStyleSheet],_this1035._shadowRoot.append(document.importNode(Gf._shadowTemplate.content,!0));var _iterator1574=_createForOfIteratorHelper(_this1035._shadowRoot.querySelectorAll("[id]")),_step1574;try{for(_iterator1574.s();!(_step1574=_iterator1574.n()).done;){var t=_step1574.value;_this1035["#"+t.id]=t;}}catch(err){_iterator1574.e(err);}finally{_iterator1574.f();}_this1035["#format-select"].addEventListener("change",function(){return _this1035.Qu();}),_this1035["#main"].addEventListener("exportablechange",function(t){return _this1035.qs();}),_this1035["#export-button"].addEventListener("click",function(t){return _this1035.nP(t);});return _this1035;}_createClass(Gf,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"connectedCallback",value:function connectedCallback(){this.Js=Ai(this,"bx-editor"),this.Qs=Ai(this,"#app"),this["#pdf-menu-item"].hidden=!0===this.Qs.matches("bx-chromeapp");}},{key:"tn",value:function tn(){this["#format-select"].value=this.Qs.getConfig("bx-exportpanel:format","png"),this.oP=null,this.qs();}},{key:"sn",value:function sn(){this["#format-select"].value=null,this.oP=null,this.qs();}},{key:"Qu",value:function Qu(){this.Qs.setConfig("bx-exportpanel:format",this["#format-select"].value),this.oP=null,this.qs();}},{key:"nP",value:function(){var _nP=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee212(){var _this$Qs$checkDiskWri,_this$Qs$checkDiskWri2,_t2417,_i1587,_Bf,_Bf2,_s934,t,i,s,n,_t2418,_t2419,_e1789,_i$margin,_e1790,_o528,_l395,_h287,_a227,_i$margin2,_e1791,_o529,_l396,_h288,_a228,_i$margin3,_e1792,_o530,_l397,_h289,_a229,_i$margin4,_e1793,_o531,_l398,_h290,_a230,_t2420,_e1795,_t2421,_e1796,_i1588,_arr80,_arr80$_i,_e1797,_i1589,_t2422,_e1798,_i1590,_s935,_i1591,_Ue,_s936,_o533,_e1794,_o532,_t2423,_e1800,_e1799,_o534,_t2424,_e1801,_t2425,_e1802,_i1592,_t2426;return regeneratorRuntime.wrap(function _callee212$(_context213){while(1){switch(_context213.prev=_context213.next){case 0:if(!("bx-webapp"===this.Qs.localName)){_context213.next=8;break;}_this$Qs$checkDiskWri=this.Qs.checkDiskWriteAccess(),_this$Qs$checkDiskWri2=_slicedToArray(_this$Qs$checkDiskWri,2),_t2417=_this$Qs$checkDiskWri2[0],_i1587=_this$Qs$checkDiskWri2[1],_Bf=Bf(this.Qs.userSubscription,this.Qs.user),_Bf2=_slicedToArray(_Bf,1),_s934=_Bf2[0];if(!("rejected"===_t2417)){_context213.next=4;break;}return _context213.abrupt("return",void this.Qs.handleWriteAccessRejection(_i1587,"Can't export file"));case 4:if(!("pdf"===this["#format-select"].value&&(null===_s934||_s934===e))){_context213.next=6;break;}return _context213.abrupt("return",void this.Qs.handleWriteAccessRejection("boxy-svg/user-not-subscribed-to-premium-plan","Can't export file"));case 6:if(!this.oP){_context213.next=8;break;}return _context213.abrupt("return",(this.oP=null,void this.qs()));case 8:t=this["#format-select"].value,i=this["#main"].firstElementChild,s=null,n=null;if("view-box"===i.area){if(null===i.viewID)n=this.Js.board.extractArtworkWithViewBoxElements();else{_t2418=this.Js.board.currentWorkspace.querySelector("#"+i.viewID);n=this.Js.board.extractArtworkWithViewBoxElements(_t2418);}}else"selection"===i.area&&(n=this.Js.board.extractArtworkWithSelectedElements(i.margin||[0,0,0,0]));_t2419=null;if("view-box"===i.area){if(null===i.viewID){_t2419=this.Js.board.currentWorkspace.querySelector(":scope > bx-title");}else{_t2419=this.Js.board.currentWorkspace.querySelector("#"+i.viewID).querySelector(":scope > bx-title");}}else{_e1789=this.Js.board.outermostSelectedObjectElements;1===_e1789.length&&(_t2419=_e1789[0].querySelector(":scope > bx-title"));}_t2419&&_t2419.textContent.trim().length>0&&(s=_t2419.textContent);if(!("png"===t)){_context213.next=24;break;}_i$margin=_slicedToArray(i.margin,4),_e1790=_i$margin[0],_o528=_i$margin[1],_l395=_i$margin[2],_h287=_i$margin[3];n.setAttribute("width",i.width+_h287+_o528+"px"),n.setAttribute("height",i.height+_e1790+_l395+"px"),n.setAttribute("preserveAspectRatio","none");_context213.next=18;return df(Qp(n),"png",{dpi:i.dpi,colors:i.colors,background:i.background});case 18:_a227=_context213.sent;_context213.next=21;return Qi(100);case 21:this.Qs.openBitmapExportDialog(_a227,t,s);_context213.next=108;break;case 24:if(!("jpeg"===t)){_context213.next=35;break;}_i$margin2=_slicedToArray(i.margin,4),_e1791=_i$margin2[0],_o529=_i$margin2[1],_l396=_i$margin2[2],_h288=_i$margin2[3];n.setAttribute("width",i.width+_h288+_o529+"px"),n.setAttribute("height",i.height+_e1791+_l396+"px"),n.setAttribute("preserveAspectRatio","none");_context213.next=29;return df(Qp(n),"jpeg",{compression:i.compression,background:i.background});case 29:_a228=_context213.sent;_context213.next=32;return Qi(100);case 32:this.Qs.openBitmapExportDialog(_a228,t,s);_context213.next=108;break;case 35:if(!("gif"===t)){_context213.next=46;break;}_i$margin3=_slicedToArray(i.margin,4),_e1792=_i$margin3[0],_o530=_i$margin3[1],_l397=_i$margin3[2],_h289=_i$margin3[3];n.setAttribute("width",i.width+_h289+_o530+"px"),n.setAttribute("height",i.height+_e1792+_l397+"px"),n.setAttribute("preserveAspectRatio","none");_context213.next=40;return df(Qp(n),"gif",{background:i.background,transparent:i.transparent,dithering:i.dithering});case 40:_a229=_context213.sent;_context213.next=43;return Qi(100);case 43:this.Qs.openBitmapExportDialog(_a229,t,s);_context213.next=108;break;case 46:if(!("webp"===t)){_context213.next=57;break;}_i$margin4=_slicedToArray(i.margin,4),_e1793=_i$margin4[0],_o531=_i$margin4[1],_l398=_i$margin4[2],_h290=_i$margin4[3];n.setAttribute("width",i.width+_h290+_o531+"px"),n.setAttribute("height",i.height+_e1793+_l398+"px"),n.setAttribute("preserveAspectRatio","none");_context213.next=51;return df(Qp(n),"webp",{compression:i.compression,background:i.background});case 51:_a230=_context213.sent;_context213.next=54;return Qi(100);case 54:this.Qs.openBitmapExportDialog(_a230,t,s);_context213.next=108;break;case 57:if(!("svg"===t||"svgz"===t)){_context213.next=73;break;}_context213.t0=i.convertTextsToPaths;if(!_context213.t0){_context213.next=62;break;}_context213.next=62;return this.tP(n);case 62:if(!i.removeEmbeddedFonts){_context213.next=65;break;}_e1795=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT);for(;_t2420=_e1795.nextNode();){"style"===_t2420.localName&&_t2420.hasAttribute("data-bx-fonts")&&_t2420.remove();}case 65:if(i.removeNonStandardNamespaces){_e1796=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT);for(;_t2421=_e1796.nextNode();){_t2421.localName.includes("-")&&"bx-title"!==_t2421.localName&&_t2421.remove();for(_i1588=0,_arr80=_toConsumableArray(_t2421.attributes);_i1588<_arr80.length;_i1588++){_arr80$_i=_arr80[_i1588],_e1797=_arr80$_i.name,_i1589=_arr80$_i.value;_e1797.startsWith("data-bx-")&&_t2421.removeAttribute(_e1797);}}}if("responsive"===i.viewport)n.removeAttribute("width"),n.removeAttribute("height");else if("fixed"===i.viewport){_t2422=this.Js.board,_e1798=null,_i1590=_t2422.getComputedViewportWidth(),_s935=_t2422.getComputedViewportWidth();if(_i1590&&null!==_i1590.unit?_e1798=_i1590.unit:_s935&&null!==_s935.unit&&(_e1798=_s935.unit),null===_e1798)n.setAttribute("width",Z(n.viewBox.baseVal.width,_t2422.geometryPrecision)),n.setAttribute("height",Z(n.viewBox.baseVal.height,_t2422.geometryPrecision));else{_i1591=Wt(_t2422.currentWorkspace).multiply(qt("px",_e1798)),_Ue=Ue(n.viewBox.baseVal,_i1591),_s936=_Ue.width,_o533=_Ue.height;n.setAttribute("width",Z(_s936,_t2422.geometryPrecision)+_e1798),n.setAttribute("height",Z(_o533,_t2422.geometryPrecision)+_e1798);}}_e1794=this.Qs.getConfig("bx-markupsettings:indentation",2),_o532=Qp(n,"xml",_e1794);_context213.next=70;return Qi(100);case 70:this.Qs.openArtworkExportDialog(_o532,t,s);_context213.next=108;break;case 73:if(!("html"===t)){_context213.next=87;break;}_context213.t1=i.convertTextsToPaths;if(!_context213.t1){_context213.next=78;break;}_context213.next=78;return this.tP(n);case 78:if(!i.removeEmbeddedFonts){_context213.next=81;break;}_e1800=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT);for(;_t2423=_e1800.nextNode();){"style"===_t2423.localName&&_t2423.hasAttribute("data-bx-fonts")&&_t2423.remove();}case 81:_e1799=this.Qs.getConfig("bx-markupsettings:indentation",2),_o534=Qp(n,"html",_e1799);_context213.next=84;return Qi(100);case 84:this.Qs.openArtworkExportDialog(_o534,t,s);_context213.next=108;break;case 87:if(!("pdf"===t)){_context213.next=108;break;}_t2424=i.width+i.widthUnit,_e1801=i.height+i.heightUnit;if(!(n.setAttribute("width",_t2424),n.setAttribute("height",_e1801),n.setAttribute("preserveAspectRatio","none"),n.style.background=i.background,n.insertAdjacentHTML("beforeEnd","\n        <style>\n          @page {\n            size: ".concat(_t2424," ").concat(_e1801,";\n          }\n          html,\n          html > body {\n            width: ").concat(_t2424,";\n            height: ").concat(_e1801,";\n            overflow: hidden;\n            margin: 0;\n            padding: 0;\n            -webkit-print-color-adjust: exact !important;\n          }\n        </style>")),"bx-webapp"===this.Qs.localName)){_context213.next=104;break;}_t2425=null,_e1802=null,_i1592=Symbol();this.oP=_i1592,this.qs();_context213.prev=92;_context213.next=95;return this.Qs.convertArtworkToPDF(n);case 95:_t2425=_context213.sent;_context213.next=101;break;case 98:_context213.prev=98;_context213.t2=_context213["catch"](92);_e1802=_context213.t2;case 101:this.oP===_i1592&&(this.oP=null,_e1802?console.log("Server error",_e1802):this.Qs.openPDFExportDialog(_t2425,s),this.qs());_context213.next=108;break;case 104:_t2426=Qp(n,"html");_context213.next=107;return Qi(100);case 107:this.Qs.openPDFExportDialog(_t2426,s);case 108:case"end":return _context213.stop();}}},_callee212,this,[[92,98]]);}));function nP(){return _nP.apply(this,arguments);}return nP;}()},{key:"tP",value:function tP(t){var _this1036=this;return new Promise(/*#__PURE__*/function(){var _ref175=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee213(e){var i,_this1036$Js$board,s,n,_iterator1575,_step1575,_e1804,_i1593,_arr81,_e1803;return regeneratorRuntime.wrap(function _callee213$(_context214){while(1){switch(_context214.prev=_context214.next){case 0:_this1036.Js.offscreenBoard.setArtwork(t);_context214.next=3;return Qi(100);case 3:i=new Up(t),_this1036$Js$board=_this1036.Js.board,s=_this1036$Js$board.geometryPrecision,n=_this1036$Js$board.transformPrecision;_iterator1575=_createForOfIteratorHelper(t.querySelectorAll("text"));_context214.prev=5;_iterator1575.s();case 7:if((_step1575=_iterator1575.n()).done){_context214.next=15;break;}_e1804=_step1575.value;_context214.t0=i.canReplaceTextWithPaths(_e1804);if(!_context214.t0){_context214.next=13;break;}_context214.next=13;return i.replaceTextWithPaths(_e1804,s,n);case 13:_context214.next=7;break;case 15:_context214.next=20;break;case 17:_context214.prev=17;_context214.t1=_context214["catch"](5);_iterator1575.e(_context214.t1);case 20:_context214.prev=20;_iterator1575.f();return _context214.finish(20);case 23:for(_i1593=0,_arr81=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1593<_arr81.length;_i1593++){_e1803=_arr81[_i1593];_e1803.remove();}e();case 25:case"end":return _context214.stop();}}},_callee213,null,[[5,17,20,23]]);}));return function(_x197){return _ref175.apply(this,arguments);};}());}},{key:"qs",value:function(){var _qs7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee214(){var t,e;return regeneratorRuntime.wrap(function _callee214$(_context215){while(1){switch(_context215.prev=_context215.next){case 0:t=this["#format-select"].value;null===t?this["#main"].innerHTML="":null!==this["#main"].firstElementChild&&this["#main"].firstElementChild.localName==="bx-".concat(t,"settings")||(this["#main"].innerHTML="<bx-".concat(t,"settings></bx-").concat(t,"settings>"));e=this["#main"].firstElementChild;e&&(null===this.oP?(e.disabled=!1,this["#export-label"].textContent="Export",this["#export-button"].disabled=!e.exportable,this["#progress-bar"].value=-1):(e.disabled=!0,this["#export-label"].textContent="Stop",this["#export-button"].disabled=!1,this["#progress-bar"].value=null));case 4:case"end":return _context215.stop();}}},_callee214,this);}));function qs(){return _qs7.apply(this,arguments);}return qs;}()}]);return Gf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Gf,"observedAttributes",["enabled"]);_defineProperty(Gf,"_shadowTemplate",Yi(_templateObject509()));_defineProperty(Gf,"_shadowStyleSheet",Wi(_templateObject510()));customElements.define("bx-exportpanel",Gf);var Ff=Symbol();var Uf=/*#__PURE__*/function(_HTMLElement131){_inherits(Uf,_HTMLElement131);var _super222=_createSuper(Uf);_createClass(Uf,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Uf(){var _this1037;_classCallCheck(this,Uf);_this1037=_super222.call(this),_this1037._shadowRoot=_this1037.attachShadow({mode:"closed"}),_this1037._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Uf._shadowStyleSheet],_this1037._shadowRoot.append(document.importNode(Uf._shadowTemplate.content,!0));var _iterator1576=_createForOfIteratorHelper(_this1037._shadowRoot.querySelectorAll("[id]")),_step1576;try{for(_iterator1576.s();!(_step1576=_iterator1576.n()).done;){var t=_step1576.value;_this1037["#"+t.id]=t;}}catch(err){_iterator1576.e(err);}finally{_iterator1576.f();}_this1037["#items"].addEventListener("click",function(t){return _this1037.Jc(t);}),_this1037["#undo-button"].addEventListener("click",function(){return _this1037.lP();}),_this1037["#redo-button"].addEventListener("click",function(){return _this1037.hP();}),_this1037["#clear-button"].addEventListener("click",function(){return _this1037.Jx();}),_this1037["#slider"].addEventListener("changestart",function(){return _this1037.aP();});return _this1037;}_createClass(Uf,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this1038=this;this.Js.board.undoManager.addEventListener("change",this.rP=function(t){_this1038.dP(t);}),this.qs(),this.Mu();}},{key:"sn",value:function sn(){this.Js.board.undoManager.removeEventListener("change",this.rP),this["#items"].innerHTML="";}},{key:"dP",value:function dP(t){this.qs();}},{key:"Jc",value:function Jc(t){var e=t.target.closest(".item"),i=this.Js.board.undoManager;if(e&&!1===e.hasAttribute("data-selected")){var _t2427=Ei(e)+1;if(_t2427<i.position)for(;_t2427<i.position&&i.canUndo();){i.undo();}else if(_t2427>i.position)for(;_t2427>i.position&&i.canRedo();){i.redo();}}}},{key:"lP",value:function lP(){this.Js.board.undoManager.undo();}},{key:"hP",value:function hP(){this.Js.board.undoManager.redo();}},{key:"Jx",value:function(){var _Jx=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee215(){return regeneratorRuntime.wrap(function _callee215$(_context216){while(1){switch(_context216.prev=_context216.next){case 0:_context216.next=2;return this.Qs.openMessageDialog({type:"question",buttons:["Clear","Cancel"],title:"Confirm",message:"Clear history",detail:"This action can't be reverted."});case 2:_context216.t0=_context216.sent;if(!(0===_context216.t0)){_context216.next=5;break;}this.Js.board.undoManager.clear();case 5:case"end":return _context216.stop();}}},_callee215,this);}));function Jx(){return _Jx.apply(this,arguments);}return Jx;}()},{key:"aP",value:function aP(){var _this1039=this;var t,_e1805,i=this.Js.board.undoManager;this["#slider"].addEventListener("change",t=function t(){var t=_this1039["#slider"].value;if(t<i.position)for(;t<i.position&&i.canUndo();){i.undo();}else if(t>i.position)for(;t>i.position&&i.canRedo();){i.redo();}}),this["#slider"].addEventListener("changeend",_e1805=function e(){_this1039["#slider"].removeEventListener("change",t),_this1039["#slider"].removeEventListener("changeend",_e1805);});}},{key:"Mu",value:function Mu(){var t=this["#items"].querySelector(":scope > [data-selected]");t&&$i(t);}},{key:"qs",value:function qs(){var t=this.Js.board.undoManager,e=t.groups.length;for(;this["#items"].childElementCount>e;){this["#items"].lastElementChild.remove();}if(this["#items"].childElementCount<e){var _t2428="";for(var _i1594=this["#items"].childElementCount;_i1594<e;_i1594+=1){_t2428+='<div class="item"></div>';}this["#items"].insertAdjacentHTML("beforeend",_t2428);}{var _i1595=t.position-1;for(var _s937=0;_s937<e;_s937+=1){var _e1806=t.groups[_s937],_n673=this["#items"].children[_s937];_n673[Ff]!==_e1806&&(_n673[Ff]=_e1806,_n673.textContent=_e1806.label),_s937===_i1595?_n673.setAttribute("data-selected",""):_n673.removeAttribute("data-selected");}}this["#undo-button"].disabled=!1===t.canUndo(),this["#redo-button"].disabled=!1===t.canRedo(),this["#clear-button"].disabled=!1===t.canUndo()&&!1===t.canRedo(),0===e?(this["#slider"].disabled=!0,this["#slider"].min=0,this["#slider"].max=1,this["#slider"].value=0):(this["#slider"].disabled=!1,this["#slider"].min=0,this["#slider"].max=e,this["#slider"].value=t.position),this["#placeholder"].hidden=this["#items"].childElementCount>0;}}]);return Uf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Uf,"observedAttributes",["enabled"]);_defineProperty(Uf,"_shadowTemplate",Yi(_templateObject511()));_defineProperty(Uf,"_shadowStyleSheet",Wi(_templateObject512()));customElements.define("bx-historypanel",Uf);G.map(function(t){return t.presentationAttributeName;}).filter(function(t){return t;});var Nf=function Nf(t){var e=t.indexOf("="),i=-1===e?t:t.substring(0,e),s=-1===e?"":t.substring(e+1);return i=i.trim(),s=s.trim(),s.length<2||'"'!==s[0]&&"'"!==s[0]||s[0]!==s[s.length-1]?["",""]:(s=s.substr(1,s.length-2),[i,s]);},Vf=Math.floor,jf=Math.ceil,Hf=Number.isNaN,Yf=Symbol(),Wf='<span class="attribute" spellcheck="false"><span class="name"></span>="<span class="value"></span><span class="ellipsis" hidden>...</span>"</span>';var qf=/*#__PURE__*/function(_HTMLElement132){_inherits(qf,_HTMLElement132);var _super223=_createSuper(qf);_createClass(qf,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"selectedNodes",get:function get(){return this.lh;},set:function set(t){this.lh=t,this.cP();}},{key:"outermostSelectedNodes",get:function get(){return this.pP();}}]);function qf(){var _temp50,_this1040;_classCallCheck(this,qf);(_temp50=_this1040=_super223.call(this),_defineProperty(_assertThisInitialized(_this1040),"commands",{selectAll:{exec:function exec(){return _this1040.Sd();}},deselectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this1040.$d();}}}),_temp50),_this1040.tabIndex=1,_this1040.lh=[],_this1040.uP=[],_this1040.xP=null,_this1040.bP=!1,_this1040.mP=_this1040.mP.bind(_assertThisInitialized(_this1040)),_this1040._shadowRoot=_this1040.attachShadow({mode:"closed"}),_this1040._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,qf._shadowStyleSheet],_this1040._shadowRoot.append(document.importNode(qf._shadowTemplate.content,!0));var _iterator1577=_createForOfIteratorHelper(_this1040._shadowRoot.querySelectorAll("[id]")),_step1577;try{for(_iterator1577.s();!(_step1577=_iterator1577.n()).done;){var t=_step1577.value;_this1040["#"+t.id]=t;}}catch(err){_iterator1577.e(err);}finally{_iterator1577.f();}_this1040.addEventListener("keydown",function(t){return _this1040.vn(t);}),_this1040["#tree"].addEventListener("dragstart",function(t){return _this1040.Zw(t);}),_this1040._shadowRoot.addEventListener("contextmenu",function(t){return _this1040.Ks(t);}),_this1040._shadowRoot.addEventListener("pointerdown",function(t){return _this1040.lx(t);}),_this1040._shadowRoot.addEventListener("click",function(t){return _this1040.gP(t);}),_this1040._shadowRoot.addEventListener("dblclick",function(t){return _this1040.fP(t);});return _this1040;}_createClass(qf,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this1041=this;this.wP();var t=this.Js.board;t.addEventListener("selectedelementschange",this.Qo=function(){_this1041.vP();}),t.addEventListener("currentworkspacechange",this.Lx=function(){_this1041.wP();}),t.addEventListener("workspacemutation",this.rn=function(t){_this1041.sl(t.detail);});}},{key:"sn",value:function sn(){this.uP=[],this["#tree"].innerHTML="";var t=this.Js.board;t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("currentworkspacechange",this.Lx),t.removeEventListener("workspacemutation",this.rn);}},{key:"sl",value:function sl(t){var _this1042=this;var _iterator1578=_createForOfIteratorHelper(t),_step1578;try{var _loop42=function _loop42(){var e=_step1578.value;if("attributes"===e.type){_this1042.uP.find(function(t){return"attributes"===t.type&&t.target===e.target&&t.attributeName===e.attributeName;})||_this1042.uP.push(e);}else if("characterData"===e.type){_this1042.uP.find(function(t){return"characterData"===t.type&&t.target===e.target;})||_this1042.uP.push(e);}else"childList"===e.type&&_this1042.uP.push(e);};for(_iterator1578.s();!(_step1578=_iterator1578.n()).done;){_loop42();}}catch(err){_iterator1578.e(err);}finally{_iterator1578.f();}requestIdleCallback(this.mP);}},{key:"mP",value:function mP(t){var _this1043=this;var _loop43=function _loop43(){var t=_this1043.uP.shift(),e=_toConsumableArray(_this1043["#tree"].querySelectorAll(".item")).find(function(e){return e[Yf]===t.target;});e&&("childList"===t.type?(_this1043.yP(e),_this1043.kP(e,t)):"attributes"===t.type?_this1043.SP(e,t.attributeName,!0):"characterData"===t.type&&_this1043._P(e));};for(;t.timeRemaining()>10&&this.uP.length>0;){_loop43();}this.uP.length>0&&requestIdleCallback(this.mP);}},{key:"cP",value:function cP(){var _iterator1579=_createForOfIteratorHelper(this["#tree"].querySelectorAll(".item:not([hidden])")),_step1579;try{for(_iterator1579.s();!(_step1579=_iterator1579.n()).done;){var t=_step1579.value;this.selectedNodes.includes(t[Yf])?t.setAttribute("data-selected",""):t.removeAttribute("data-selected");}}catch(err){_iterator1579.e(err);}finally{_iterator1579.f();}this.dispatchEvent(new CustomEvent("selectednodeschange"));}},{key:"vP",value:function vP(){var _this1044=this;if(!0===this.bP)return void(this.bP=!1);var t=this.Js.board;if(0===t.selectedElements.length)this.selectedNodes=t.currentContainer?[]:[t.currentWorkspace];else{var _iterator1580=_createForOfIteratorHelper(t.selectedElements),_step1580;try{for(_iterator1580.s();!(_step1580=_iterator1580.n()).done;){var _e1807=_step1580.value;var _i1596=[];for(var _s939=_e1807.parentElement;_s939!==t.workspaces;_s939=_s939.parentElement){"g"!==_s939.localName&&"a"!==_s939.localName||_i1596.push(_s939);}var _s938=this["#tree"];for(;_i1596.length>0;){var _t2429=_i1596.pop();var _iterator1581=_createForOfIteratorHelper(_s938.children),_step1581;try{for(_iterator1581.s();!(_step1581=_iterator1581.n()).done;){var _e1808=_step1581.value;if(_e1808[Yf]===_t2429){this.nv(_e1808),_s938=_e1808.querySelector(".subtree");break;}}}catch(err){_iterator1581.e(err);}finally{_iterator1581.f();}}}}catch(err){_iterator1580.e(err);}finally{_iterator1580.f();}this.selectedNodes=_toConsumableArray(t.selectedElements);}if(this.selectedNodes.length>0){var _t2430=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])"));var _loop44=function _loop44(_e1809){var i=_this1044.selectedNodes[_e1809],s=_t2430.find(function(t){return t[Yf]===i;});if(s){_this1044.CP(s);return"break";}};for(var _e1809=this.selectedNodes.length-1;_e1809>=0;_e1809-=1){var _ret3=_loop44(_e1809);if(_ret3==="break")break;}}}},{key:"lx",value:function lx(t){if(!1===t.target.matches(".icon")&&!1===t.target.matches(".ellipsis")&&t.target!==this["#main"]){var _e1810;_e1810=t.target.matches("#tree, #tree .subtree")?this.MP(t.clientY):t.target.closest("#tree .item");{var _t2431=_e1810[Yf],_i1597=_toConsumableArray(this.selectedNodes),_this$Qs$modKeys27=this.Qs.modKeys,_s940=_this$Qs$modKeys27.ctrl,_n674=_this$Qs$modKeys27.shift;if(_s940||_n674){if(_s940&&!_n674)_i1597=[_t2431];else if(_s940&&_n674)_i1597.includes(_t2431)?_i1597=_i1597.filter(function(e){return e!==_t2431;}):_i1597.push(_t2431);else if(!_s940&&_n674)if(0===_i1597.length)_i1597=[_t2431];else{var _t2432=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s941=_e1810,_n675=_t2432.indexOf(_s941),_o535=_i1597[_i1597.length-1],_l399=_t2432.find(function(t){return t[Yf]===_o535;}),_h291=_t2432.indexOf(_l399);if(_n675<_h291){var _loop45=function _loop45(_e1811){var s=_t2432[_e1811][Yf];_i1597.includes(s)&&(_i1597=_i1597.filter(function(t){return t!==s;})),_i1597.push(s);};for(var _e1811=_h291-1;_e1811>=_n675;_e1811-=1){_loop45(_e1811);}}else if(_n675>_h291){var _loop46=function _loop46(_e1812){var s=_t2432[_e1812][Yf];_i1597.includes(s)&&(_i1597=_i1597.filter(function(t){return t!==s;})),_i1597.push(s);};for(var _e1812=_h291+1;_e1812<=_n675;_e1812+=1){_loop46(_e1812);}}}}else!1===_i1597.includes(_t2431)&&(_i1597=[_t2431]);this.selectedNodes=_i1597;}{var _t2433=this.Js.board,_e1813=this.selectedNodes.filter(function(e){return _t2433.isSelectableElement(e);}),_i1598=_e1813[0],_s942=null;if(_i1598)for(var _e1814=_i1598.parentElement;_e1814!==_t2433.currentWorkspace;_e1814=_e1814.parentElement){if("g"===_e1814.localName||"a"===_e1814.localName){_s942=_e1814;break;}}this.bP=!0,_t2433.currentContainer=_s942,_t2433.selectedElements=_e1813;}}}},{key:"gP",value:function gP(t){if(t.target.matches(".icon")){var _e1815=t.target.closest(".item");0===t.button&&(_e1815.hasAttribute("data-expanded")?this.sv(_e1815):this.nv(_e1815));}else if(t.target.matches(".ellipsis")){var _e1816=t.target.closest(".item"),_i1599=t.target.closest(".attribute").dataset.name;this.PP(_e1816,_i1599);}}},{key:"Zw",value:function Zw(t){var _this1045=this;var e,_i1601,s,n,o=null,l=this["#tree"].querySelector(".item");if(this["#tree"].querySelector("*[contenteditable]"))return;t.dataTransfer.setDragImage(zi("span"),0,0);var h=function h(t,e){var i=_this1045.MP(e),s=null;if(i){if(i.hasAttribute("data-expanded")){var _t2434=i.querySelector(".tag").getBoundingClientRect();s=e<_t2434.y+_t2434.height/2?"beforebegin":"afterbegin";}else{var _n676=i.getBoundingClientRect();for(;null===i.nextElementSibling&&t<_n676.x;){var _t2435=i.parentElement.closest(".item");if(!_t2435||_t2435===l)break;i=_t2435,_n676=i.getBoundingClientRect();}s=e<_n676.y+_n676.height/2?"beforebegin":0===i[Yf].childNodes.length&&t>_n676.x+22&&_this1045.DP(_this1045.pP(),i[Yf],"afterbegin")?"afterbegin":"afterend";}!1===_this1045.DP(_this1045.pP(),i[Yf],s)&&(i=null,s=null);}return[i,s];};window.addEventListener("dragover",e=function e(t){if(s===t.clientX&&n===t.clientY)return;var e=t.clientX,i=t.clientY,_h292=h(e,i),_h293=_slicedToArray(_h292,2),l=_h293[0],a=_h293[1];s=e,n=i,o&&(o.removeAttribute("data-dragover"),o=null),l&&(l.setAttribute("data-dragover",a),o=l);}),window.addEventListener("dragend",_i1601=function i(t){window.removeEventListener("dragover",e),window.removeEventListener("dragend",_i1601),o&&o.removeAttribute("data-dragover");var s=t.clientX,n=t.clientY,_h294=h(s,n),_h295=_slicedToArray(_h294,2),l=_h295[0],a=_h295[1],r=_this1045.Js.board;if(l){r.undoManager.checkpoint("Move element(s)");{var _t2436=document.createDocumentFragment();var _iterator1582=_createForOfIteratorHelper(Bi(_this1045.pP())),_step1582;try{for(_iterator1582.s();!(_step1582=_iterator1582.n()).done;){var _e1817=_step1582.value;_t2436.append(_e1817);}}catch(err){_iterator1582.e(err);}finally{_iterator1582.f();}"beforebegin"===a?l[Yf].before(_t2436):"afterend"===a?l[Yf].after(_t2436):"afterbegin"===a&&(l[Yf].prepend(_t2436),_this1045.nv(l));}{var _t2437=_this1045.selectedNodes.filter(function(t){return r.isSelectableElement(t);})[0],_e1818=null;if(_t2437)for(var _i1600=_t2437.parentElement;_i1600!==r.currentWorkspace;_i1600=_i1600.parentElement){if("g"===_i1600.localName||"a"===_i1600.localName){_e1818=_i1600;break;}}_this1045.bP=!0,r.currentContainer=_e1818,r.selectedTextRange=null;}}});}},{key:"fP",value:function fP(t){var e=t.target.closest(".item");if(e)if("element"===e.getAttribute("data-type")){if(t.target.matches(".attribute, .attribute *")){var _e1819=t.target.closest(".attribute");if(!1===_e1819.hasAttribute("disabled")){var _i1602=t.target.closest(".item"),_s943=_e1819.dataset.name;this.zP(_i1602,_s943);}}else if(t.target.matches(".tag-name, .opening-bracket, .attributes:empty + .closing-bracket")&&!1===t.target.hasAttribute("disabled")){var _e1820=t.target.closest(".item");this.OP(_e1820);}}else"text"===e.getAttribute("data-type")&&t.target.matches(".content")&&this.EP(e);}},{key:"Ks",value:function(){var _Ks2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee216(t){var e,i,_i1603,_t2438,_e1821,_i1605,_iterator1583,_step1583,_step1583$value,_e1822,_i1606,_e1823,_iterator1584,_step1584,_step1584$value,_t2439,_i1607,_iterator1585,_step1585,_e1824,_i1604;return regeneratorRuntime.wrap(function _callee216$(_context217){while(1){switch(_context217.prev=_context217.next){case 0:e=t.target.closest(".item"),i=t.target.matches("[contenteditable]");if(!(e&&"element"===e.getAttribute("data-type")&&!1===i)){_context217.next=7;break;}t.preventDefault();_context217.next=5;return this.Qs.openContextMenu([{label:"Copy outer SVG",value:"copy-outer-svg"},{label:"Add Attribute",value:"add-attribute"}]);case 5:_i1603=_context217.sent;if("add-attribute"===_i1603)this.TP(e);else if("copy-outer-svg"===_i1603){_t2438=null,_e1821=!0;if(this.pP()[0].hasAttribute("data-bx-workspace")){_i1605=this.pP()[0].getAttribute("data-bx-workspace");if("master"===_i1605){_t2438=zi("svg:svg"),_t2438.innerHTML=this.pP()[0].innerHTML;_iterator1583=_createForOfIteratorHelper(this.pP()[0].attributes);try{for(_iterator1583.s();!(_step1583=_iterator1583.n()).done;){_step1583$value=_step1583.value,_e1822=_step1583$value.name,_i1606=_step1583$value.value;"data-bx-workspace"!==_e1822&&_t2438.setAttribute(_e1822,_i1606);}}catch(err){_iterator1583.e(err);}finally{_iterator1583.f();}_e1821=!1;}else{_t2438=zi("svg:svg");_e1823=zi("svg:"+_i1605);_e1823.innerHTML=this.pP()[0].innerHTML,_t2438.append(_e1823);_iterator1584=_createForOfIteratorHelper(this.pP()[0].attributes);try{for(_iterator1584.s();!(_step1584=_iterator1584.n()).done;){_step1584$value=_step1584.value,_t2439=_step1584$value.name,_i1607=_step1584$value.value;"data-bx-workspace"!==_t2439&&_e1823.setAttribute(_t2439,_i1607);}}catch(err){_iterator1584.e(err);}finally{_iterator1584.f();}}}else{_t2438=zi("svg:svg");_iterator1585=_createForOfIteratorHelper(this.pP());try{for(_iterator1585.s();!(_step1585=_iterator1585.n()).done;){_e1824=_step1585.value;_t2438.append(_e1824.cloneNode(!0));}}catch(err){_iterator1585.e(err);}finally{_iterator1585.f();}}eu(_t2438,"xml"),ga(_t2438,2,_e1821?0:1);_i1604=_e1821?_t2438.innerHTML:_t2438.outerHTML;_i1604=si(_i1604,"url(&quot;","url("),_i1604=si(_i1604,"&quot;)",")"),clipboard.writeText(_i1604);}case 7:case"end":return _context217.stop();}}},_callee216,this);}));function Ks(_x198){return _Ks2.apply(this,arguments);}return Ks;}()},{key:"vn",value:function vn(t){var e=eo.fromEvent(t);if(e.matches("Enter")){t.preventDefault(),t.stopPropagation();var _e1825=this["#tree"].querySelectorAll(".item[data-selected]:not([hidden])");if(1===_e1825.length){var _t2440=_e1825[0];"element"===_t2440.getAttribute("data-type")?this.AP(_t2440):"text"===_t2440.getAttribute("data-type")&&this.EP(_t2440);}}else if(e.matches("Backspace")||e.matches("Delete"))t.stopPropagation(),this.$P();else if(e.matches("Tab")){t.preventDefault(),t.stopPropagation();var _e1826=this["#tree"].querySelectorAll(".item[data-selected]:not([hidden])");if(_e1826.length>0){var _t2441=[],_i1608="\n          :scope > .tag > .tag-name:not([disabled]),\n          :scope > .tag > .attributes > .attribute:not([disabled])\n        ";var _iterator1586=_createForOfIteratorHelper(_e1826),_step1586;try{for(_iterator1586.s();!(_step1586=_iterator1586.n()).done;){var _s945=_step1586.value;_t2441=[].concat(_toConsumableArray(_t2441),_toConsumableArray(_s945.querySelectorAll(_i1608)));}}catch(err){_iterator1586.e(err);}finally{_iterator1586.f();}var _s944=_t2441.find(function(t){return t.matches("[contenteditable]");}),_n677=_s944?_t2441.indexOf(_s944):-1,_o536=_t2441[_n677+1]||_t2441[0]||null;if(_o536){var _t2442=_o536.closest(".item");_o536.matches(".attribute")?this.zP(_t2442,_o536.getAttribute("data-name")):_o536.matches(".tag-name")&&this.OP(_t2442);}}}else if(e.matches("Shift","Tab")){t.preventDefault(),t.stopPropagation();var _e1827=this["#tree"].querySelectorAll(".item[data-selected]:not([hidden])");if(_e1827.length>0){var _t2443=[];var _iterator1587=_createForOfIteratorHelper(_e1827),_step1587;try{for(_iterator1587.s();!(_step1587=_iterator1587.n()).done;){var _i1610=_step1587.value;_t2443=[].concat(_toConsumableArray(_t2443),_toConsumableArray(_i1610.querySelectorAll(".tag-name, .attribute")));}}catch(err){_iterator1587.e(err);}finally{_iterator1587.f();}var _i1609=_t2443.find(function(t){return t.matches("[contenteditable]");}),_s946=_i1609?_t2443.indexOf(_i1609):-1,_n678=_t2443[_s946-1]||_t2443[_t2443.length-1]||null;if(_n678){var _t2444=_n678.closest(".item");_n678.matches(".attribute")?this.zP(_t2444,_n678.getAttribute("data-name")):_n678.matches(".tag-name")&&this.OP(_t2444);}}}else e.matches("ArrowLeft")?(t.stopPropagation(),this.IP()):e.matches("ArrowRight")?(t.stopPropagation(),this.LP()):e.matches("ArrowDown")?(t.stopPropagation(),this.Ru(!1)):e.matches("ArrowUp")?(t.stopPropagation(),this.Bu(!1)):e.matches("Shift","ArrowDown")?(t.stopPropagation(),this.Ru(!0)):e.matches("Shift","ArrowUp")&&(t.stopPropagation(),this.Bu(!0));}},{key:"hv",value:function hv(t,e){var i=null;return"element"===t?(i=Yi(_templateObject79(),'<div class="item" data-type="element" draggable="true"><svg class="icon" preserveAspectRatio="none" viewBox="0 0 100 100" width="9px" height="10px"><path d="M 0 0 L 100 50 L 0 100 Z"></path></svg><div class="tag"><span class="opening-bracket">&lt</span><span class="tag-name" spellcheck="false">svg</span><span class="attributes"></span><span class="closing-bracket">&gt</span></div><div class="subtree"></div></div>'),i[Yf]=e,this.yP(i),this.BP(i),this.RP(i)):"text"===t&&(i=Yi(_templateObject80(),'<div class="item" data-type="text"><span class="content" spellcheck="false"></span></div>'),i[Yf]=e,this._P(i)),i;}},{key:"nv",value:function nv(t){if(!1===t.hasAttribute("data-expanded")){var _e1828=t.querySelector(".subtree");var _iterator1588=_createForOfIteratorHelper(t[Yf].childNodes),_step1588;try{for(_iterator1588.s();!(_step1588=_iterator1588.n()).done;){var _i1611=_step1588.value;var _t2445=null;if(_i1611.nodeType===document.ELEMENT_NODE?_t2445="element":_i1611.nodeType===document.TEXT_NODE&&(_t2445="text"),_t2445){var _s947=this.hv(_t2445,_i1611);"text"===_t2445&&wa(_i1611.textContent)&&_s947.setAttribute("hidden",""),_e1828.append(_s947),this.selectedNodes.includes(_i1611)&&_s947.setAttribute("data-selected","");}}}catch(err){_iterator1588.e(err);}finally{_iterator1588.f();}_e1828.childElementCount>0&&t.setAttribute("data-expanded","");}}},{key:"sv",value:function sv(t){t.hasAttribute("data-expanded")&&(t.querySelector(".subtree").innerHTML="",t.removeAttribute("data-expanded"),this.yP(t));}},{key:"LP",value:function LP(){var t=this["#tree"].querySelectorAll(".item[data-selected]");1===t.length&&"element"===t[0].getAttribute("data-type")&&this.nv(t[0]);}},{key:"IP",value:function IP(){var t=this["#tree"].querySelectorAll(".item[data-selected]");1===t.length&&"element"===t[0].getAttribute("data-type")&&this.sv(t[0]);}},{key:"Bu",value:function Bu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.Js.board;if(!1===t){var _t2446=this.selectedNodes.length>0?this.selectedNodes[this.selectedNodes.length-1]:null,_i1612=null;if(_t2446){var _e1829=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s948=_e1829.find(function(e){return e[Yf]===_t2446;}),_n679=_e1829.indexOf(_s948);_e1829[_n679-1]&&(_i1612=_e1829[_n679-1]);}if(_i1612){this.CP(_i1612);var _t2447=_i1612[Yf];this.selectedNodes=[_t2447];var _s949=null,_n680=[];if(e.isSelectableElement(_t2447)){for(var _i1613=_t2447.parentElement;_i1613!==e.currentWorkspace;_i1613=_i1613.parentElement){if("g"===_i1613.localName||"a"===_i1613.localName){_s949=_i1613;break;}}_n680=[_t2447];}this.bP=!0,e.currentContainer=_s949,e.selectedElements=_n680;}}else if(!0===t){var _t2448=_toConsumableArray(this.selectedNodes);if(_t2448.length>0){var _i1614=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s950=_t2448[_t2448.length-1],_n681=_i1614.find(function(t){return t[Yf]===_s950;}),_o537=_i1614.indexOf(_n681);if(_o537>0)for(var _s951=_o537-1;_s951>=0;_s951-=1){var _n682=_i1614[_s951][Yf];if(!1===_t2448.includes(_n682)){this.selectedNodes=[].concat(_toConsumableArray(_t2448),[_n682]),e.isSelectableElement(_n682)&&(this.bP=!0,e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_n682]));break;}}}}}},{key:"Ru",value:function Ru(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.Js.board;if(!1===t){var _t2449=this.selectedNodes.length>0?this.selectedNodes[this.selectedNodes.length-1]:null,_i1615=null;if(_t2449){var _e1830=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s952=_e1830.find(function(e){return e[Yf]===_t2449;}),_n683=_e1830.indexOf(_s952);_e1830[_n683+1]&&(_i1615=_e1830[_n683+1]);}if(_i1615){this.CP(_i1615);var _t2450=_i1615[Yf];this.selectedNodes=[_t2450];var _s953=null,_n684=[];if(e.isSelectableElement(_t2450)){for(var _i1616=_t2450.parentElement;_i1616!==e.currentWorkspace;_i1616=_i1616.parentElement){if("g"===_i1616.localName||"a"===_i1616.localName){_s953=_i1616;break;}}_n684=[_t2450];}this.bP=!0,e.currentContainer=_s953,e.selectedElements=_n684;}}else if(!0===t){var _t2451=_toConsumableArray(this.selectedNodes);if(_t2451.length>0){var _i1617=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s954=_t2451[_t2451.length-1],_n685=_i1617.find(function(t){return t[Yf]===_s954;}),_o538=_i1617.indexOf(_n685);if(_o538<_i1617.length-1)for(var _s955=_o538+1;_s955<_i1617.length;_s955+=1){var _n686=_i1617[_s955][Yf];if(!1===_t2451.includes(_n686)){this.selectedNodes=[].concat(_toConsumableArray(_t2451),[_n686]),e.isSelectableElement(_n686)&&(this.bP=!0,e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_n686]));break;}}}}}},{key:"CP",value:function CP(t){var e=this["#main"].scrollTop,i=t.getBoundingClientRect().top-this["#tree"].getBoundingClientRect().top;if(i-e<0)this["#main"].scrollTop=i;else if(t.hasAttribute("data-expanded")){var _s956=t.querySelector(".tag").getBoundingClientRect().height;i+_s956-e>this["#main"].clientHeight&&(this["#main"].scrollTop=i+_s956-this["#main"].clientHeight);}else i+t.clientHeight-e>this["#main"].clientHeight&&(this["#main"].scrollTop=i+t.clientHeight-this["#main"].clientHeight);}},{key:"$P",value:function $P(){var _this1046=this;var t=this.Js.board,e=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),i=Bi(this.pP());if(i=i.filter(function(t){return"g"!==t.localName||!t.hasAttribute("data-bx-workspace");}),i.length>0){var _loop47=function _loop47(){var t=_this1046["#tree"].querySelector(".item[data-selected]");if(!i.find(function(e){return e.contains(t[Yf]);}))return"break";if(_this1046.Ru(),t===_this1046["#tree"].querySelector(".item[data-selected]"))return"break";};for(t.undoManager.checkpoint("Delete");;){var _ret4=_loop47();if(_ret4==="break")break;}var _loop48=function _loop48(){var t=_this1046["#tree"].querySelector(".item[data-selected]");if(!i.find(function(e){return e.contains(t[Yf]);}))return"break";if(_this1046.Bu(),t===_this1046["#tree"].querySelector(".item[data-selected]"))return"break";};for(;;){var _ret5=_loop48();if(_ret5==="break")break;}var _iterator1589=_createForOfIteratorHelper(i),_step1589;try{var _loop49=function _loop49(){var t=_step1589.value;t.remove();var i=e.find(function(e){return e[Yf]===t;});i&&i.remove();};for(_iterator1589.s();!(_step1589=_iterator1589.n()).done;){_loop49();}}catch(err){_iterator1589.e(err);}finally{_iterator1589.f();}}}},{key:"DP",value:function DP(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"afterend";var s=!0;if(0===t.length)s=!1;else{var _iterator1590=_createForOfIteratorHelper(t),_step1590;try{for(_iterator1590.s();!(_step1590=_iterator1590.n()).done;){var _n687=_step1590.value;if(!1===this.GP(_n687,e,i)){s=!1;break;}}}catch(err){_iterator1590.e(err);}finally{_iterator1590.f();}}return s;}},{key:"GP",value:function GP(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"afterend";if(e.parentNode===this.Js.board.workspaces)return!1;if(t.contains(e))return!1;if("beforebegin"===i){if(!1===this.FP(e.parentNode).includes(t.nodeName))return!1;if(e.previousSibling&&e.previousSibling===t)return!1;}else if("afterend"===i){if(!1===this.FP(e.parentNode).includes(t.nodeName))return!1;if(e.nextSibling&&e.nextSibling===t)return!1;}else if("afterbegin"===i){if(!1===this.FP(e).includes(t.nodeName))return!1;if(e.firstChild&&e.firstChild===t)return!1;}else if("beforeend"===i){if(!1===this.FP(e).includes(t.nodeName))return!1;if(e.lastChild&&e.lastChild===t)return!1;}return!0;}},{key:"Sd",value:function Sd(){var t=this._shadowRoot.querySelector("[contenteditable]"),e=t?t.closest(".item"):null;if(t&&e)if("element"===e.getAttribute("data-type")){if(t.matches(".tag-name")||t.matches(".attribute")){var _e1831=new Range();_e1831.selectNodeContents(t);var _i1618=window.getSelection();_i1618.removeAllRanges(),_i1618.addRange(_e1831);}}else if("text"===e.getAttribute("data-type")){var _e1832=new Range();_e1832.selectNodeContents(t);var _i1619=window.getSelection();_i1619.removeAllRanges(),_i1619.addRange(_e1832);}}},{key:"$d",value:function $d(){var t=window.getSelection();if(t.rangeCount>0){t.getRangeAt(0).collapse(!0);}}},{key:"EP",value:function EP(t){var _this1047=this;var e,i,s,n=t.querySelector(".content"),o=n.textContent,l=t[Yf],h=this.Js.board,a=!0;n.hasAttribute("contenteditable")||(n.setAttribute("contenteditable",""),n.part.add("input"),n.focus(),this.Sd(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0})),n.addEventListener("keydown",e=function e(t){var e=eo.fromEvent(t);(e.matches("Enter")||e.matches("Escape")||e.matches("Backspace")||e.matches("Delete")||e.matches("ArrowLeft")||e.matches("ArrowRight")||e.matches("ArrowUp")||e.matches("ArrowDown")||e.matches("Shift","ArrowLeft")||e.matches("Shift","ArrowRight")||e.matches("Shift","ArrowUp")||e.matches("Shift","ArrowDown"))&&t.stopPropagation(),e.matches("Enter")?(t.preventDefault(),_this1047.focus()):e.matches("Escape")&&(a=!0,_this1047.focus());}),n.addEventListener("input",i=function i(){a=!1;}),n.addEventListener("blur",s=function(_s957){function s(){return _s957.apply(this,arguments);}s.toString=function(){return _s957.toString();};return s;}(function(){if(n.removeEventListener("blur",s),n.removeEventListener("keydown",e),n.removeEventListener("input",i),n.removeAttribute("contenteditable"),n.removeAttribute("data-invalid"),n.part.remove("input"),n.part.remove("invalid-input"),_this1047.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),a)n.textContent=o;else{h.undoManager.checkpoint("Text content");n.textContent;l.textContent=n.textContent;}})));}},{key:"OP",value:function OP(t){var _this1048=this;var e,i,s,n=t.querySelector(".tag-name"),o=n.textContent,l=t[Yf],h=this.Js.board,a=!0;if(n.hasAttribute("contenteditable"))return;n.setAttribute("contenteditable",""),n.part.add("input"),n.focus(),this.Sd(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));var r=function r(t){var e=t;return"title"===t?e="bx-title":t.startsWith("bx:")&&(e=t.replace("bx:","bx-")),e;};n.addEventListener("keydown",e=function e(t){var e=eo.fromEvent(t);(e.matches("Enter")||e.matches("Escape")||e.matches("Backspace")||e.matches("Delete")||e.matches("ArrowLeft")||e.matches("ArrowRight")||e.matches("ArrowUp")||e.matches("ArrowDown")||e.matches("Shift","ArrowLeft")||e.matches("Shift","ArrowRight")||e.matches("Shift","ArrowUp")||e.matches("Shift","ArrowDown"))&&t.stopPropagation(),e.matches("Enter")?(t.preventDefault(),_this1048.focus()):e.matches("Escape")&&(a=!0,_this1048.focus());}),n.addEventListener("input",i=function i(){var t=n.textContent,e=r(t),i=!1;if(l===h.currentWorkspace)i=!0,a=!0;else{(R[l.parentElement.nodeName]||[]).includes(e)?(i=!1,a=e===r(o)):(i=!0,a=!0);}i?(n.setAttribute("data-invalid",""),n.part.add("invalid-input")):(n.removeAttribute("data-invalid"),n.part.remove("invalid-input"));}),n.addEventListener("blur",s=function(_s958){function s(){return _s958.apply(this,arguments);}s.toString=function(){return _s958.toString();};return s;}(function(){if(n.removeEventListener("blur",s),n.removeEventListener("keydown",e),n.removeEventListener("input",i),n.removeAttribute("contenteditable"),n.removeAttribute("data-invalid"),n.part.remove("input"),n.part.remove("invalid-input"),_this1048.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),a)n.textContent=o;else{h.undoManager.checkpoint("Rename element");n.textContent;var _e1833=r(n.textContent),_i1620=zi("svg:".concat(_e1833));var _iterator1591=_createForOfIteratorHelper(l.attributes),_step1591;try{for(_iterator1591.s();!(_step1591=_iterator1591.n()).done;){var _step1591$value=_step1591.value,_t2453=_step1591$value.name,_e1834=_step1591$value.value;_i1620.setAttribute(_t2453,_e1834);}}catch(err){_iterator1591.e(err);}finally{_iterator1591.f();}l.replaceWith(_i1620);for(var _i1621=0,_arr82=_toConsumableArray(l.childNodes);_i1621<_arr82.length;_i1621++){var _t2452=_arr82[_i1621];R[_e1833].includes(_t2452.nodeName)&&_i1620.append(_t2452);}t[Yf]=_i1620,_this1048.selectedNodes=_this1048.selectedNodes.map(function(t){return t===l?_i1620:t;}),h.selectedElements.includes(l)?(_this1048.bP=!0,h.isSelectableElement(_i1620)?h.selectedElements=h.selectedElements.map(function(t){return t===l?_i1620:t;}):h.selectedElements=h.selectedElements.filter(function(t){return t!==l;})):h.isSelectableElement(_i1620)&&(_this1048.bP=!0,h.selectedElements=[].concat(_toConsumableArray(h.selectedElements),[_i1620]));}}));}},{key:"zP",value:function zP(t,e){var _this1049=this;var i,s,_n690,o=this.Js.board,l=t[Yf],h=!0,a=t.querySelector(".attribute[data-name=\"".concat(e,"\"]"));if(!a||a.hasAttribute("contenteditable"))return;var r=e,d=a.innerHTML;this.xP=a,this.PP(t,e),a.innerHTML=a.innerText,a.style.transition="none",a.setAttribute("contenteditable",""),a.part.add("input"),a.focus(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));{var _t2454=a.textContent.indexOf('"'),_e1835=a.textContent.lastIndexOf('"');if(_t2454>=0&&_e1835>=0&&_t2454!==_e1835){var _i1622=new Range();_i1622.setStart(a.firstChild,_t2454+1),_i1622.setEnd(a.firstChild,_e1835);var _s959=window.getSelection();_s959.removeAllRanges(),_s959.addRange(_i1622);}else this.Sd();}a.addEventListener("keydown",i=function i(t){var e=eo.fromEvent(t);if(e.matches("Enter"))t.preventDefault(),t.stopPropagation(),_this1049.focus();else if(e.matches("Escape"))t.stopPropagation(),h=!0,_this1049.focus();else if(e.matches("Backspace")||e.matches("Delete")||e.matches("ArrowLeft")||e.matches("ArrowRight")||e.matches("Shift","ArrowLeft")||e.matches("Shift","ArrowRight"))t.stopPropagation();else if(e.matches("ArrowUp")||e.matches("ArrowDown")||e.matches("Shift","ArrowUp")||e.matches("Shift","ArrowDown")){t.stopPropagation();var _i1623=_this1049._shadowRoot.getSelection();if(_i1623.rangeCount>0){var _s960=_i1623.getRangeAt(0),_n688=_s960.startOffset,_o539=_s960.startOffset;{var _t2455=a.textContent,_e1836=['"',"'",":",";",",","(",")"," ","\xa0","\t","\n"];for(var _i1624=_s960.startOffset;_i1624<=_t2455.length&&(_o539=_i1624,!_e1836.includes(_t2455[_i1624]));_i1624+=1){;}for(var _i1625=_s960.startOffset-1;_i1625>=0&&!_e1836.includes(_t2455[_i1625]);_i1625-=1){_n688=_i1625;}}if(_n688!==_o539){var _l400=a.textContent.substring(_n688,_o539);if(!1===Hf(parseFloat(_l400))){var _r152="",_d120="",_c91=/[^\d-\.]+/.exec(_l400),_p79=parseFloat(_l400);if(t.preventDefault(),_c91){var _t2456=_c91.index+_c91[0].length;_s960.startOffset>_n688+_c91.index&&_t2456<_l400.length&&_s960.startOffset!==_n688?(_r152=_l400.substring(0,_t2456),_l400=_l400.substring(_t2456)):(_d120=_l400.substring(_c91.index),_l400=_l400.substring(0,_c91.index));}e.matches("ArrowUp")?_p79=Vf(_p79)+1:e.matches("ArrowDown")?_p79=jf(_p79)-1:e.matches("Shift","ArrowUp")?_p79=Vf(_p79)+10:e.matches("Shift","ArrowDown")&&(_p79=jf(_p79)-10);var _u65=_r152+_p79+_d120,_x199=a.textContent;_x199=_x199.substring(0,_n688)+_u65+_x199.substring(_o539),a.textContent=_x199;var _b50=document.createRange();_b50.setStart(a.firstChild,_n688),_b50.setEnd(a.firstChild,_n688+_u65.length),_i1623.removeAllRanges(),_i1623.addRange(_b50),h=!1;}}}}}),a.addEventListener("input",s=function s(){h=!1;}),a.addEventListener("blur",_n690=function n(){a.removeEventListener("blur",_n690),a.removeEventListener("keydown",i),a.removeEventListener("input",s),a.removeAttribute("contenteditable"),a.part.remove("input"),a.style.transition=null,_this1049.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0}));var _Nf=Nf(a.textContent),_Nf2=_slicedToArray(_Nf,2),t=_Nf2[0],e=_Nf2[1];if(l.hasAttribute("data-bx-workspace")&&"id"===r&&("id"===t&&!1!==Vi(e)||(h=!0)),h)a.innerHTML=d;else if(o.undoManager.checkpoint("Edit attribute"),a.remove(),"id"===r&&l.hasAttribute("data-bx-workspace")){var _t2457=l.getAttribute("id"),_i1626=e,_s961=document.createNodeIterator(o.workspaces,NodeFilter.SHOW_ELEMENT),_n689=null;for(l.setAttribute("id",_i1626);_n689=_s961.nextNode();){["pattern","marker","symbol"].includes(_n689.localName)&&_n689.id===_t2457&&_n689.setAttribute("id",_i1626);}}else""===t?l.removeAttribute(r):l.setAttribute(t,e);});}},{key:"TP",value:function TP(t){var _this1050=this;var e,i,s,n=this.Js.board,o=t[Yf],l=!0,h=Yi(_templateObject81(),Wf);h.innerHTML=" ",h.style.transition="none",h.setAttribute("contenteditable",""),h.part.add("input"),t.querySelector(".attributes").append(h),h.focus(),this.Sd(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0})),this.xP=h,h.addEventListener("keydown",e=function e(t){var e=eo.fromEvent(t);(e.matches("Enter")||e.matches("Escape")||e.matches("Backspace")||e.matches("Delete")||e.matches("ArrowLeft")||e.matches("ArrowRight")||e.matches("ArrowUp")||e.matches("ArrowDown")||e.matches("Shift","ArrowLeft")||e.matches("Shift","ArrowRight")||e.matches("Shift","ArrowUp")||e.matches("Shift","ArrowDown"))&&t.stopPropagation(),e.matches("Enter")?(t.preventDefault(),_this1050.focus()):e.matches("Escape")&&(l=!0,_this1050.focus());}),h.addEventListener("input",i=function i(){l=!1;}),h.addEventListener("blur",s=function(_s962){function s(){return _s962.apply(this,arguments);}s.toString=function(){return _s962.toString();};return s;}(function(){if(h.removeEventListener("blur",s),h.removeEventListener("keydown",e),h.removeEventListener("input",i),h.removeAttribute("contenteditable"),h.part.remove("input"),h.style.transition=null,_this1050.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),l)h.remove();else{n.undoManager.checkpoint("Edit attribute");var _Nf3=Nf(h.textContent),_Nf4=_slicedToArray(_Nf3,2),_t2458=_Nf4[0],_e1837=_Nf4[1];h.remove(),""!==_t2458&&o.setAttribute(_t2458,_e1837);}}));}},{key:"AP",value:function AP(t){if(this.xP&&t.contains(this.xP))this.zP(t,this.xP.getAttribute("data-name"));else{var _e1838=t.querySelector(".attribute");_e1838?this.zP(t,_e1838.getAttribute("data-name")):this.TP(t);}}},{key:"PP",value:function PP(t,e){var _iterator1592=_createForOfIteratorHelper(t.querySelector(".attributes").children),_step1592;try{for(_iterator1592.s();!(_step1592=_iterator1592.n()).done;){var _i1627=_step1592.value;if(_i1627.dataset.name===e){_i1627.querySelector(".value").textContent=t[Yf].getAttribute(e),_i1627.querySelector(".ellipsis").hidden=!0;break;}}}catch(err){_iterator1592.e(err);}finally{_iterator1592.f();}}},{key:"wP",value:function wP(){this.uP=[],this["#tree"].innerHTML="";var t=this.Js.board.currentWorkspace,e=this.hv("element",t);this["#tree"].append(e),this.vP();}},{key:"kP",value:function kP(t,e){var i=t.querySelector(".subtree"),s=_toConsumableArray(e.addedNodes),n=_toConsumableArray(e.removedNodes);for(var _i1628=0,_arr83=_toConsumableArray(i.children);_i1628<_arr83.length;_i1628++){var _t2459=_arr83[_i1628];(n.includes(_t2459[Yf])||s.includes(_t2459[Yf]))&&_t2459.remove();}if(0===t[Yf].childNodes.length&&t.removeAttribute("data-expanded"),s.length>0&&t.hasAttribute("data-expanded")){var _t2460=document.createDocumentFragment();var _iterator1593=_createForOfIteratorHelper(s),_step1593;try{for(_iterator1593.s();!(_step1593=_iterator1593.n()).done;){var _e1839=_step1593.value;var _i1629=null;if(_e1839.nodeType===document.ELEMENT_NODE?_i1629="element":_e1839.nodeType===document.TEXT_NODE&&(_i1629="text"),_i1629){var _s963=this.hv(_i1629,_e1839);"text"===_i1629&&wa(_e1839.textContent)&&_s963.setAttribute("hidden",""),this.selectedNodes.includes(_e1839)&&_s963.setAttribute("data-selected",""),_t2460.append(_s963);}}}catch(err){_iterator1593.e(err);}finally{_iterator1593.f();}if(e.previousSibling){_toConsumableArray(i.children).find(function(t){return t[Yf]===e.previousSibling;}).after(_t2460);}else if(e.nextSibling){_toConsumableArray(i.children).find(function(t){return t[Yf]===e.nextSibling;}).before(_t2460);}else i.append(_t2460);}}},{key:"yP",value:function yP(t){var e=t.querySelector(".icon"),i="hidden";var _iterator1594=_createForOfIteratorHelper(t[Yf].childNodes),_step1594;try{for(_iterator1594.s();!(_step1594=_iterator1594.n()).done;){var _e1840=_step1594.value;if(_e1840.nodeType===document.ELEMENT_NODE){i="visible";break;}if(_e1840.nodeType===document.TEXT_NODE&&!1===wa(_e1840.textContent)){i="visible";break;}}}catch(err){_iterator1594.e(err);}finally{_iterator1594.f();}e.style.setProperty("visibility",i);}},{key:"BP",value:function BP(t){var e=t[Yf],i=e.localName,s=t.querySelector(".tag-name"),n=!1;if("g"===i){if(e.hasAttribute("data-bx-workspace")){var _t2461=e.getAttribute("data-bx-workspace");"master"===_t2461?i="svg":"pattern"===_t2461?i="pattern":"symbol"===_t2461?i="symbol":"marker"===_t2461&&(i="marker"),n=!0;}}else"bx-title"===i?i="title":i.startsWith("bx-")&&(i="bx:"+i.substring(3));s.textContent=i,n&&(s.setAttribute("disabled",""),s.previousElementSibling.setAttribute("disabled",""));}},{key:"RP",value:function RP(t){var e=t[Yf],i=document.createDocumentFragment();var _iterator1595=_createForOfIteratorHelper(e.attributes),_step1595;try{for(_iterator1595.s();!(_step1595=_iterator1595.n()).done;){var _step1595$value=_step1595.value,_t2462=_step1595$value.name,_s964=_step1595$value.value;if("data-bx-workspace"!==_t2462){var _n691=Yi(_templateObject82(),Wf),_o540=this.UP(_t2462),_l401=_s964.length-100>100;_n691.dataset.name=_t2462,_n691.querySelector(".name").textContent=_o540,_n691.querySelector(".value").textContent=_l401?_s964.substring(0,100):_s964,_n691.querySelector(".ellipsis").hidden=!_l401,e.hasAttribute("data-bx-workspace")&&("xmlns"!==_t2462&&"xmlns:bx"!==_t2462||_n691.setAttribute("disabled","")),i.append(_n691);}}}catch(err){_iterator1595.e(err);}finally{_iterator1595.f();}t.querySelector(".attributes").append(i);}},{key:"SP",value:function SP(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=t[Yf],n=s.getAttribute(e),o=this.UP(e);if(null===n){var _iterator1596=_createForOfIteratorHelper(t.querySelector(".attributes").children),_step1596;try{for(_iterator1596.s();!(_step1596=_iterator1596.n()).done;){var _i1630=_step1596.value;if(_i1630.dataset.name===e){_i1630.remove();break;}}}catch(err){_iterator1596.e(err);}finally{_iterator1596.f();}}else{var _l402=null,_h296=n.length-100>100;var _iterator1597=_createForOfIteratorHelper(t.querySelector(".attributes").children),_step1597;try{for(_iterator1597.s();!(_step1597=_iterator1597.n()).done;){var _i1632=_step1597.value;if(_i1632.dataset.name===e){_l402=_i1632;break;}}}catch(err){_iterator1597.e(err);}finally{_iterator1597.f();}if(null===_l402){_l402=Yi(_templateObject83(),Wf),_l402.dataset.name=e,_l402.querySelector(".name").textContent=o;var _i1631=0;var _iterator1598=_createForOfIteratorHelper(s.attributes),_step1598;try{for(_iterator1598.s();!(_step1598=_iterator1598.n()).done;){var _t2463=_step1598.value;if("data-bx-workspace"!==_t2463.name){if(_t2463.name===e)break;_i1631+=1;}}}catch(err){_iterator1598.e(err);}finally{_iterator1598.f();}var _n692=t.querySelector(".attributes").children[_i1631];_n692?_n692.before(_l402):t.querySelector(".attributes").append(_l402);}_l402.querySelector(".value").textContent=_h296?n.substring(0,100):n,_l402.querySelector(".ellipsis").hidden=!_h296,i&&(_l402.setAttribute("highlighted",""),Qi(500).then(function(){return _l402.removeAttribute("highlighted","");}));}1===this.selectedNodes.length&&this.selectedNodes[0]===s&&this.CP(t);}},{key:"_P",value:function _P(t){t.querySelector(".content").textContent=t[Yf].textContent;}},{key:"pP",value:function pP(){var t=[];var _iterator1599=_createForOfIteratorHelper(this.selectedNodes),_step1599;try{for(_iterator1599.s();!(_step1599=_iterator1599.n()).done;){var _e1841=_step1599.value;var _i1633=!0;var _iterator1600=_createForOfIteratorHelper(this.selectedNodes),_step1600;try{for(_iterator1600.s();!(_step1600=_iterator1600.n()).done;){var _t2464=_step1600.value;if(_t2464!==_e1841&&_t2464.contains(_e1841)){_i1633=!1;break;}}}catch(err){_iterator1600.e(err);}finally{_iterator1600.f();}_i1633&&t.push(_e1841);}}catch(err){_iterator1599.e(err);}finally{_iterator1599.f();}return t;}},{key:"FP",value:function FP(t){var e;if("g"===t.localName&&t.hasAttribute("data-bx-workspace")){var _i1634=t.getAttribute("data-bx-workspace");e="master"===_i1634?R.svg:R[_i1634];}else e=R[t.nodeName]||[];return e;}},{key:"UP",value:function UP(t){var e=t;return t.startsWith("data-bx-")?e=t.replace("data-bx-","bx:"):"_href"===t&&(e="href"),e;}},{key:"MP",value:function MP(t){var e=function e(i){var _iterator1601=_createForOfIteratorHelper(i.children),_step1601;try{for(_iterator1601.s();!(_step1601=_iterator1601.n()).done;){var _s965=_step1601.value;var _i1635=_s965.getBoundingClientRect();if(t>=_i1635.y&&t<=_i1635.y+_i1635.height){if(_s965.hasAttribute("data-expanded")){var _t2465=_s965.querySelector(".subtree");return e(_t2465)||_s965;}return _s965;}}}catch(err){_iterator1601.e(err);}finally{_iterator1601.f();}return null;};return e(this["#tree"]);}}]);return qf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(qf,"observedAttributes",["enabled"]);_defineProperty(qf,"_shadowTemplate",Yi(_templateObject513()));_defineProperty(qf,"_shadowStyleSheet",Wi(_templateObject514()));customElements.define("bx-dominspector",qf);var Xf=Math.floor,Zf=Math.ceil,Kf=Number.isNaN,Qf=Object.keys,Jf=Symbol(),tw=Symbol(),ew=qi(_templateObject84()),iw=function iw(t){return void 0!==G.find(function(e){return e.name===t;});},sw=function sw(t,e){return ew.style.removeProperty(t),ew.style.setProperty(t,e),""!==ew.style.getPropertyValue(t);};var nw=/*#__PURE__*/function(_HTMLElement133){_inherits(nw,_HTMLElement133);var _super224=_createSuper(nw);_createClass(nw,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"target",get:function get(){return this.NP;},set:function set(t){t!==this.NP&&(this.NP=t,this.qs());}}]);function nw(){var _this1051;_classCallCheck(this,nw);_this1051=_super224.call(this),_this1051.NP=null,_this1051.tabIndex=0,_this1051._shadowRoot=_this1051.attachShadow({mode:"closed"}),_this1051._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,nw._shadowStyleSheet],_this1051._shadowRoot.append(document.importNode(nw._shadowTemplate.content,!0));var _iterator1602=_createForOfIteratorHelper(_this1051._shadowRoot.querySelectorAll("[id]")),_step1602;try{for(_iterator1602.s();!(_step1602=_iterator1602.n()).done;){var _t2469=_step1602.value;_this1051["#"+_t2469.id]=_t2469;}}catch(err){_iterator1602.e(err);}finally{_iterator1602.f();}var t=!1,e=!1;_this1051["#cascade-items"].addEventListener("pointerdown",function(i){var s,_n693,o=new DOMPoint(i.clientX,i.clientY);t=!1,e=null!==_this1051["#cascade-items"].querySelector("[contenteditable]"),window.addEventListener("pointermove",s=function(_s966){function s(_x200){return _s966.apply(this,arguments);}s.toString=function(){return _s966.toString();};return s;}(function(e){var i=new DOMPoint(e.clientX,e.clientY);De(o,i)>=3&&(window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n693),t=!0);})),window.addEventListener("pointerup",_n693=function n(){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n693);});}),_this1051["#cascade-items"].addEventListener("click",function(i){if(!1===t&&!1===i.target.hasAttribute("contenteditable")){var _t2466=_this1051._shadowRoot.elementFromPoint(i.clientX,i.clientY);if(_t2466.getRootNode()!==_this1051._shadowRoot&&(_t2466=null),i.target.matches(".property-item .name"))_this1051.VP(i.target);else if(i.target.matches(".property-item .value"))_this1051.jP(i.target);else if(i.target.matches(".prefix")){if(!1===e){var _t2467=i.target.closest(".cascade-item");_this1051.HP(_t2467,0);}}else if(i.target.closest(".property-item")&&!1===e&&i.target.matches(".property-item, .property-div")){var _t2468=i.target.closest(".cascade-item"),_e1842=i.target.closest(".property-item"),_s967=_toConsumableArray(i.target.closest(".properties").children).indexOf(_e1842);_this1051.HP(_t2468,_s967+1);}}}),_this1051["#cascade-items"].addEventListener("focusout",function(t){var e=_this1051["#cascade-items"].querySelector("span[contenteditable]");e&&(e.removeAttribute("contenteditable"),editableSpan.part.remove("input"));}),_this1051["#resize-grippie"].addEventListener("pointerdown",function(t){return _this1051.gu(t);});return _this1051;}_createClass(nw,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.Js=Ai(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this1052=this;this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this1052.sl(t);}),this.style.width=this.Qs.getConfig("bx-csscascadeinspector:width",250)+"px";}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"sl",value:function sl(t){var _iterator1603=_createForOfIteratorHelper(t.detail),_step1603;try{for(_iterator1603.s();!(_step1603=_iterator1603.n()).done;){var _e1843=_step1603.value;if("childList"===_e1843.type&&"style"===_e1843.target.localName){this.qs();break;}if("attributes"===_e1843.type&&_e1843.target===this.target){this.qs();break;}}}catch(err){_iterator1603.e(err);}finally{_iterator1603.f();}}},{key:"gu",value:function gu(t){var _this1053=this;if(1!==t.buttons)return;this["#resize-grippie"].setPointerCapture(t.pointerId);var e,_i1636,s=this.clientWidth,n=s;t.preventDefault(),this["#resize-grippie"].addEventListener("pointermove",e=function e(_e1844){n=s-(_e1844.clientX-t.clientX),n<80?n=80:n>400&&(n=400),_this1053.style.width=n+"px";}),this["#resize-grippie"].addEventListener("lostpointercapture",_i1636=function i(){_this1053["#resize-grippie"].removeEventListener("pointermove",e),_this1053["#resize-grippie"].removeEventListener("lostpointercapture",_i1636),_this1053.Qs.setConfig("bx-csscascadeinspector:width",n);});}},{key:"VP",value:function VP(t){var _this1054=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i,s,_n699,o,l=t.closest(".cascade-item"),h=t.closest(".property-item"),a=t.textContent.trim(),r=t.parentElement.querySelector(".value").textContent.trim(),d=this["#main"].scrollTop,c=Yi(_templateObject85());r.endsWith("!important")&&(r=r.substring(0,r.indexOf("!important")).trim()),h.append(c),t.setAttribute("contenteditable","plaintext-only"),t.part.add("input"),t.focus(),document.execCommand("selectAll"),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));var p=function p(){var e=l.getAttribute("data-origin"),i=t.textContent.trim();if(""===i)""===a?h.remove():u();else if(i===a||!1===iw(i))t.textContent=a;else{_this1054.Js.board.undoManager.checkpoint("Rename styling property");var _t2470=[];var _iterator1604=_createForOfIteratorHelper(l.querySelector(".properties").children),_step1604;try{for(_iterator1604.s();!(_step1604=_iterator1604.n()).done;){var _e1847=_step1604.value;var _s970=_e1847.querySelector(".name").textContent.trim(),_n695=_e1847.querySelector(".value").textContent.trim(),_o541="";_n695.endsWith("!important")&&(_o541="!important",_n695=_n695.substring(0,_n695.indexOf("!important")).trim()),!1===sw(_s970,_n695)&&(_n695="initial",_o541=""),_e1847!==h&&_s970===i||_t2470.push([_s970,_n695,_o541]);}}catch(err){_iterator1604.e(err);}finally{_iterator1604.f();}if("style-attribute"===e)_t2470=_t2470.map(function(_ref176){var _ref177=_slicedToArray(_ref176,3),t=_ref177[0],e=_ref177[1],i=_ref177[2];return"".concat(t," : ").concat(e).concat(i,";");}),_this1054.target.setAttribute("style",_t2470.join(" "));else if("style-element"===e){var _e1845=l[Jf],_i1637=_e1845.parentStyleSheet.ownerNode;for(var _i1638=0,_arr84=_toConsumableArray(_e1845.style);_i1638<_arr84.length;_i1638++){var _t2471=_arr84[_i1638];_e1845.style.removeProperty(_t2471);}var _iterator1605=_createForOfIteratorHelper(_t2470),_step1605;try{for(_iterator1605.s();!(_step1605=_iterator1605.n()).done;){var _step1605$value=_slicedToArray(_step1605.value,3),_i1639=_step1605$value[0],_s968=_step1605$value[1],_n694=_step1605$value[2];_e1845.style.setProperty(_i1639,_s968,_n694);}}catch(err){_iterator1605.e(err);}finally{_iterator1605.f();}Sa(_i1637);}else if("presentation-attributes"===e){var _e1846=l[tw];var _iterator1606=_createForOfIteratorHelper(_t2470),_step1606;try{for(_iterator1606.s();!(_step1606=_iterator1606.n()).done;){var _step1606$value=_slicedToArray(_step1606.value,2),_i1640=_step1606$value[0],_s969=_step1606$value[1];_e1846.hasAttribute(_i1640)&&_e1846.removeAttribute(_i1640),_e1846.setAttribute(_i1640,_s969);}}catch(err){_iterator1606.e(err);}finally{_iterator1606.f();}}}},u=function u(){var e=t.closest(".cascade-item"),i=e.getAttribute("data-origin");if(_this1054.Js.board.undoManager.checkpoint("Remove styling property"),"style-attribute"===i)_this1054.target.style.removeProperty(a);else if("style-element"===i){var _t2472=e[Jf],_i1641=_t2472.parentStyleSheet.ownerNode;_t2472.style.removeProperty(a),Sa(_i1641);}else if("presentation-attributes"===i){e[tw].removeAttribute(a);}Ai(_this1054,"[tabindex]").focus();},x=function x(){var e="",i=[];var _iterator1607=_createForOfIteratorHelper(G),_step1607;try{for(_iterator1607.s();!(_step1607=_iterator1607.n()).done;){var _e1851=_step1607.value;_e1851.name.startsWith(t.textContent)&&i.push(_e1851.name);}}catch(err){_iterator1607.e(err);}finally{_iterator1607.f();}for(var _i1643=0,_i1642=i;_i1643<_i1642.length;_i1643++){var _t2473=_i1642[_i1643];e+="<div class=\"item\" ".concat(_t2473===i[0]?"data-selected":"",">").concat(_t2473,"</div>");}if(c.innerHTML=e,c.hidden=i.length<=1,c.childElementCount>0){var _e1848="below";{var _i1644=t.getBoundingClientRect(),_s971=_this1054.getBoundingClientRect();_s971.bottom-_i1644.bottom<_i1644.top-_s971.top&&(_e1848="above");}if(c.style.top=null,c.style.bottom=null,c.style.left=null,c.style.width=null,c.style.height=null,"below"===_e1848){var _e1849=t.getBoundingClientRect(),_i1645=_this1054.getBoundingClientRect(),_s972=_this1054["#main"].scrollTop;c.style.left=_e1849.left-_i1645.left-6+"px",c.style.top=_e1849.bottom-_i1645.top+_s972+6+"px";var _n696=c.getBoundingClientRect();_n696.bottom>window.innerHeight-6&&(c.style.height=window.innerHeight-_n696.top-6+"px"),_n696.right>window.innerWidth-3&&(c.style.width=window.innerWidth-_n696.right-3+"px");}else if("above"===_e1848){var _e1850=t.getBoundingClientRect(),_i1646=_this1054.getBoundingClientRect(),_s973=_this1054["#main"].scrollTop;c.style.left=_e1850.left-_i1646.left-6+"px",c.style.bottom=_i1646.bottom-_e1850.top-_s973+6+"px";var _n697=c.getBoundingClientRect();if(_n697.top<_i1646.top-6){var _t2474=_i1646.top-_n697.top;c.style.height=_n697.height-_t2474-6+"px";}_n697.right>window.innerWidth-3&&(c.style.width=window.innerWidth-_n697.right-3+"px");}}},b=function b(){var e=c.querySelector(".item[data-selected]"),i="";e&&e.textContent.startsWith(t.textContent)&&(i=e.textContent.substring(t.textContent.length)),i.length>0?t.setAttribute("ghost",i):t.removeAttribute("ghost");};c.addEventListener("pointerdown",function(e){e.preventDefault();var i=e.target.closest(".item"),s=c.querySelector(".item[data-selected]");i.setAttribute("data-selected",""),s.removeAttribute("data-selected"),t.textContent=i.textContent,c.hidden=!0,b();{var _e1852=new Range();_e1852.selectNodeContents(t),_e1852.collapse(!1);var _i1647=window.getSelection();_i1647.removeAllRanges(),_i1647.addRange(_e1852);}}),this["#main"].addEventListener("scroll",o=function o(){!1===c.hidden?_this1054["#main"].scrollTop=d:d=_this1054["#main"].scrollTop;}),t.addEventListener("keydown",s=/*#__PURE__*/function(){var _ref178=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee217(e){var _t2475,_i1648,_t2476,_i1649,_e1853,_e1854,_e1855,_i1650,_i1651,_s974,_n698,_o542,_h297,_iterator1608,_step1608,_t2477,_i1652,_t2478;return regeneratorRuntime.wrap(function _callee217$(_context218){while(1){switch(_context218.prev=_context218.next){case 0:if(!("ArrowUp"===e.key)){_context218.next=4;break;}if(!1===c.hidden){e.preventDefault();_t2475=c.querySelector(".item[data-selected]"),_i1648=_t2475.previousElementSibling||c.lastElementChild;_t2475.removeAttribute("data-selected"),_i1648.setAttribute("data-selected",""),_i1648.scrollIntoViewIfNeeded(),b();}_context218.next=35;break;case 4:if(!("ArrowDown"===e.key)){_context218.next=8;break;}if(!1===c.hidden){e.preventDefault();_t2476=c.querySelector(".item[data-selected]"),_i1649=_t2476.nextElementSibling||c.firstElementChild;_t2476.removeAttribute("data-selected"),_i1649.setAttribute("data-selected",""),_i1649.scrollIntoViewIfNeeded(),b();}_context218.next=35;break;case 8:if(!("Enter"===e.key)){_context218.next=13;break;}if(e.preventDefault(),!1===c.hidden||t.hasAttribute("ghost")){_e1853=c.querySelector(".item[data-selected]");t.textContent=_e1853?_e1853.textContent:a;}Ai(_this1054,"[tabindex]").focus();_context218.next=35;break;case 13:if(!("Tab"===e.key||":"===e.key)){_context218.next=34;break;}if(!(e.preventDefault(),t.hasAttribute("ghost"))){_context218.next=24;break;}_e1854=c.querySelector(".item[data-selected]");_e1854&&(t.textContent=_e1854.textContent);_e1855=new Range();_e1855.selectNodeContents(t),_e1855.collapse(!1);_i1650=window.getSelection();_i1650.removeAllRanges(),_i1650.addRange(_e1855);x(),b();_context218.next=32;break;case 24:_i1651=_toConsumableArray(_this1054["#cascade-items"].children).indexOf(l),_s974=t.textContent.trim();Ai(_this1054,"[tabindex]").focus();_context218.next=28;return Qi(10);case 28:_n698=_this1054["#cascade-items"].children[_i1651],_o542=_toConsumableArray(_this1054["#cascade-items"].querySelectorAll(".name, .value")),_h297=null;_iterator1608=_createForOfIteratorHelper(_n698.querySelector(".properties").children);try{for(_iterator1608.s();!(_step1608=_iterator1608.n()).done;){_t2477=_step1608.value;_i1652=_t2477.querySelector(".name");if(_i1652.textContent===_s974){_t2478=_o542.indexOf(_i1652);_h297=!1===e.shiftKey?_o542[_t2478+1]||_o542[0]:_o542[_t2478-1]||_o542[_o542.length-1];}}}catch(err){_iterator1608.e(err);}finally{_iterator1608.f();}_h297&&(_h297.matches(".name")?_this1054.VP(_h297):_h297.matches(".value")&&_this1054.jP(_h297));case 32:_context218.next=35;break;case 34:if("Escape"===e.key){e.preventDefault(),t.textContent=a,Ai(_this1054,"[tabindex]").focus();}else"Backspace"===e.key&&""===t.textContent&&(e.stopPropagation(),e.preventDefault(),u());case 35:case"end":return _context218.stop();}}},_callee217);}));return function s(_x201){return _ref178.apply(this,arguments);};}()),t.addEventListener("input",i=function i(e){x(),b(),function(){var e=t.textContent;t.hasAttribute("ghost")&&(e+=t.getAttribute("ghost")),iw(e)?(t.removeAttribute("data-invalid"),t.part.remove("invalid-input")):(t.setAttribute("data-invalid",""),t.part.add("invalid-input"));}();}),t.addEventListener("blur",_n699=function n(){p(),_this1054["#main"].removeEventListener("scroll",o),t.removeEventListener("keydown",s),t.removeEventListener("blur",_n699),t.removeAttribute("contenteditable"),t.part.remove("input"),t.removeAttribute("data-invalid"),t.part.remove("invalid-input"),t.removeAttribute("ghost"),_this1054._shadowRoot.getSelection().collapse(t),_this1054.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),c.remove();});}},{key:"jP",value:function jP(t){var _this1055=this;var e,i,s,n,o=t.closest(".cascade-item"),l=t.closest(".property-item"),h=t.parentElement.querySelector(".name").textContent.trim(),a=t.textContent.trim(),r="",d=this["#main"].scrollTop,c=Yi(_templateObject86());a.endsWith("!important")&&(r="important",a=a.substring(0,a.indexOf("!important")).trim()),l.append(c),t.setAttribute("contenteditable","plaintext-only"),t.part.add("input"),t.focus(),document.execCommand("selectAll"),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));var p=function p(){var e=t.closest(".cascade-item"),i=e.getAttribute("data-origin"),s=t.textContent.trim(),n="";if(s.endsWith("!important")&&(s=s.substring(0,s.indexOf("!important")),n="important"),!1===(s!==a||n!==r)||!1===sw(h,s))t.textContent=a,r&&(t.textContent+=" !"+r);else if(_this1055.Js.board.undoManager.checkpoint("Rename styling property"),"style-attribute"===i)_this1055.target.style.setProperty(h,s,n);else if("style-element"===i){var _t2479=e[Jf],_i1653=_t2479.parentStyleSheet.ownerNode;_t2479.style.setProperty(h,s,n),Sa(_i1653);}else if("presentation-attributes"===i){e[tw].setAttribute(h,s);}},u=function u(){var e="",i=new Set();var _iterator1609=_createForOfIteratorHelper(G),_step1609;try{for(_iterator1609.s();!(_step1609=_iterator1609.n()).done;){var _e1856=_step1609.value;if(_e1856.name===h){var _iterator1611=_createForOfIteratorHelper(_e1856.values),_step1611;try{for(_iterator1611.s();!(_step1611=_iterator1611.n()).done;){var _s975=_step1611.value;if("token"===_s975.type||"token-list"===_s975.type){var _iterator1612=_createForOfIteratorHelper(_s975.tokens),_step1612;try{for(_iterator1612.s();!(_step1612=_iterator1612.n()).done;){var _e1857=_step1612.value;_e1857.startsWith(t.textContent)&&i.add(_e1857);}}catch(err){_iterator1612.e(err);}finally{_iterator1612.f();}}else if("color"===_s975.type){var _iterator1613=_createForOfIteratorHelper(Qf(L)),_step1613;try{for(_iterator1613.s();!(_step1613=_iterator1613.n()).done;){var _e1858=_step1613.value;_e1858.startsWith(t.textContent)&&i.add(_e1858);}}catch(err){_iterator1613.e(err);}finally{_iterator1613.f();}}}}catch(err){_iterator1611.e(err);}finally{_iterator1611.f();}}}}catch(err){_iterator1609.e(err);}finally{_iterator1609.f();}i=_toConsumableArray(i);var _iterator1610=_createForOfIteratorHelper(i),_step1610;try{for(_iterator1610.s();!(_step1610=_iterator1610.n()).done;){var _t2480=_step1610.value;e+="<div class=\"item\" ".concat(_t2480===i[0]?"data-selected":"",">").concat(_t2480,"</div>");}}catch(err){_iterator1610.e(err);}finally{_iterator1610.f();}c.innerHTML=e,c.hidden=i.length<=1;},x=function x(){var e=c.querySelector(".item[data-selected]"),i="";e&&e.textContent.startsWith(t.textContent)&&(i=e.textContent.substring(t.textContent.length)),i.length>0?t.setAttribute("ghost",i):t.removeAttribute("ghost");};c.addEventListener("pointerdown",function(e){e.preventDefault();var i=e.target.closest(".item"),s=c.querySelector(".item[data-selected]");i.setAttribute("data-selected",""),s.removeAttribute("data-selected"),t.textContent=i.textContent,c.hidden=!0,x();{var _e1859=new Range();_e1859.selectNodeContents(t),_e1859.collapse(!1);var _i1654=window.getSelection();_i1654.removeAllRanges(),_i1654.addRange(_e1859);}}),this["#main"].addEventListener("scroll",n=function n(){!1===c.hidden?_this1055["#main"].scrollTop=d:d=_this1055["#main"].scrollTop;}),t.addEventListener("keydown",i=/*#__PURE__*/function(){var _ref179=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee218(e){var i,_t2481,_e1860,_e1861,_s976,_n700,_o543,_l403,_e1862,_i1655,_t2482,_t2483,_h298,_a231,_r153,_d121,_c92,_t2484,_p80,_u66,_x203,_e1863,_e1864,_e1865,_i1656,_t2485,_i1657,_s977,_n701,_iterator1614,_step1614,_t2486,_i1658,_t2487;return regeneratorRuntime.wrap(function _callee218$(_context219){while(1){switch(_context219.prev=_context219.next){case 0:i=eo.fromEvent(e);if(!(i.matches("ArrowUp")||i.matches("ArrowDown")||i.matches("Shift","ArrowUp")||i.matches("Shift","ArrowDown"))){_context219.next=5;break;}if(!1===c.hidden){e.preventDefault();_t2481=c.querySelector(".item[data-selected]");if(_t2481.removeAttribute("data-selected"),"ArrowUp"===e.key){_e1860=_t2481.previousElementSibling||c.lastElementChild;_e1860.setAttribute("data-selected",""),_e1860.scrollIntoViewIfNeeded();}else if("ArrowDown"===e.key){_e1861=_t2481.nextElementSibling||c.firstElementChild;_e1861.setAttribute("data-selected",""),_e1861.scrollIntoViewIfNeeded();}x();}else{e.preventDefault(),e.stopPropagation();_s976=_this1055._shadowRoot.getSelection();if(_s976.rangeCount>0){_n700=_s976.getRangeAt(0),_o543=_n700.startOffset,_l403=_n700.startOffset;{_e1862=t.textContent,_i1655=['"',"'",":",";",",","(",")"," ","\xa0","\t","\n"];for(_t2482=_n700.startOffset;_t2482<=_e1862.length&&(_l403=_t2482,!_i1655.includes(_e1862[_t2482]));_t2482+=1){;}for(_t2483=_n700.startOffset-1;_t2483>=0&&!_i1655.includes(_e1862[_t2483]);_t2483-=1){_o543=_t2483;}}if(_o543!==_l403){_h298=t.textContent.substring(_o543,_l403);if(!1===Kf(parseFloat(_h298))){_a231="",_r153="",_d121=/[^\d-\.]+/.exec(_h298),_c92=parseFloat(_h298);if(e.preventDefault(),_d121){_t2484=_d121.index+_d121[0].length;_n700.startOffset>_o543+_d121.index&&_t2484<_h298.length&&_n700.startOffset!==_o543?(_a231=_h298.substring(0,_t2484),_h298=_h298.substring(_t2484)):(_r153=_h298.substring(_d121.index),_h298=_h298.substring(0,_d121.index));}i.matches("ArrowUp")?_c92=Xf(_c92)+1:i.matches("ArrowDown")?_c92=Zf(_c92)-1:i.matches("Shift","ArrowUp")?_c92=Xf(_c92)+10:i.matches("Shift","ArrowDown")&&(_c92=Zf(_c92)-10);_p80=_a231+_c92+_r153,_u66=t.textContent;_u66=_u66.substring(0,_o543)+_p80+_u66.substring(_l403),t.textContent=_u66;_x203=document.createRange();_x203.setStart(t.firstChild,_o543),_x203.setEnd(t.firstChild,_o543+_p80.length),_s976.removeAllRanges(),_s976.addRange(_x203);}}}}_context219.next=32;break;case 5:if(!("Enter"===e.key)){_context219.next=10;break;}if(e.preventDefault(),!1===c.hidden||t.hasAttribute("ghost")){_e1863=c.querySelector(".item[data-selected]");t.textContent=_e1863?_e1863.textContent:r?a+"!"+r:a;}Ai(_this1055,"[tabindex]").focus();_context219.next=32;break;case 10:if(!("Tab"===e.key)){_context219.next=31;break;}if(!(e.preventDefault(),t.hasAttribute("ghost"))){_context219.next=21;break;}_e1864=c.querySelector(".item[data-selected]");_e1864&&(t.textContent=_e1864.textContent);_e1865=new Range();_e1865.selectNodeContents(t),_e1865.collapse(!1);_i1656=window.getSelection();_i1656.removeAllRanges(),_i1656.addRange(_e1865);u(),x();_context219.next=29;break;case 21:_t2485=_toConsumableArray(_this1055["#cascade-items"].children).indexOf(o);Ai(_this1055,"[tabindex]").focus();_context219.next=25;return Qi(10);case 25:_i1657=_this1055["#cascade-items"].children[_t2485],_s977=_toConsumableArray(_this1055["#cascade-items"].querySelectorAll(".name, .value")),_n701=null;_iterator1614=_createForOfIteratorHelper(_i1657.querySelector(".properties").children);try{for(_iterator1614.s();!(_step1614=_iterator1614.n()).done;){_t2486=_step1614.value;_i1658=_t2486.querySelector(".name");if(_i1658.textContent===h){_t2487=_s977.indexOf(_i1658);_n701=!1===e.shiftKey?_s977[_t2487+2]||_s977[0]:_s977[_t2487]||_s977[_s977.length-1];}}}catch(err){_iterator1614.e(err);}finally{_iterator1614.f();}_n701&&(_n701.matches(".name")?_this1055.VP(_n701):_n701.matches(".value")&&_this1055.jP(_n701));case 29:_context219.next=32;break;case 31:if("Escape"===e.key){e.preventDefault(),t.textContent=r?a+"!"+r:a,Ai(_this1055,"[tabindex]").focus();}else"Backspace"===e.key&&""===t.textContent&&(e.stopPropagation(),e.preventDefault());case 32:case"end":return _context219.stop();}}},_callee218);}));return function i(_x202){return _ref179.apply(this,arguments);};}()),t.addEventListener("input",e=function e(){if(u(),x(),function(){var e=t.textContent.trim();e.endsWith("!important")&&(e=e.substring(0,e.indexOf("!important"))),t.hasAttribute("ghost")&&(e+=t.getAttribute("ghost")),sw(h,e)?(t.removeAttribute("data-invalid"),t.part.remove("invalid-input")):(t.setAttribute("data-invalid",""),t.part.add("invalid-input"));}(),c.childElementCount>0){var _e1866="below";{var _i1659=t.getBoundingClientRect(),_s978=_this1055.getBoundingClientRect();_s978.bottom-_i1659.bottom<_i1659.top-_s978.top&&(_e1866="above");}if(c.style.top=null,c.style.bottom=null,c.style.left=null,c.style.width=null,c.style.height=null,"below"===_e1866){var _e1867=t.getBoundingClientRect(),_i1660=_this1055.getBoundingClientRect(),_s979=_this1055["#main"].scrollTop;c.style.left=_e1867.left-_i1660.left-6+"px",c.style.top=_e1867.bottom-_i1660.top+_s979+6+"px";var _n702=c.getBoundingClientRect();_n702.bottom>window.innerHeight-6&&(c.style.height=window.innerHeight-_n702.top-6+"px"),_n702.right>window.innerWidth-3&&(c.style.width=window.innerWidth-_n702.right-3+"px");}else if("above"===_e1866){var _e1868=t.getBoundingClientRect(),_i1661=_this1055.getBoundingClientRect(),_s980=_this1055["#main"].scrollTop;c.style.left=_e1868.left-_i1661.left-6+"px",c.style.bottom=_i1661.bottom-_e1868.top-_s980+6+"px";var _n703=c.getBoundingClientRect();if(_n703.top<_i1661.top-6){var _t2488=_i1661.top-_n703.top;c.style.height=_n703.height-_t2488-6+"px";}_n703.right>window.innerWidth-3&&(c.style.width=window.innerWidth-_n703.right-3+"px");}}}),t.addEventListener("blur",s=function(_s981){function s(){return _s981.apply(this,arguments);}s.toString=function(){return _s981.toString();};return s;}(function(){p(),_this1055["#main"].removeEventListener("scroll",n),t.removeEventListener("keydown",i),t.removeEventListener("blur",s),t.removeAttribute("contenteditable"),t.removeAttribute("data-invalid"),t.part.remove("input"),t.part.remove("invalid-input"),t.removeAttribute("ghost"),_this1055._shadowRoot.getSelection().collapse(t),_this1055.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),c.remove();}));}},{key:"HP",value:function HP(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=Yi(_templateObject87()),s=t.querySelector(".properties");e===s.childElementCount?s.append(i):s.children[e].before(i),this.VP(i.querySelector(".name"),!0);}},{key:"qs",value:function qs(){var _this1056=this;this.NP;var t=[];if(this["#cascade-items"].innerHTML="",this.NP){(function(){var e=_this1056.NP.closest("[data-bx-workspace]");for(var _i1662=_this1056.NP;e.contains(_i1662);_i1662=_i1662.parentElement){var _s982=_i1662!==_this1056.NP;if(_i1662.style.length>0||_i1662===_this1056.NP){var _t2489=_this1056.YP(_i1662),_e1869=Yi(_templateObject88(),_s982?"Inherited from <code>".concat(_t2489,"</code>"):"");var _iterator1615=_createForOfIteratorHelper(_i1662.style),_step1615;try{for(_iterator1615.s();!(_step1615=_iterator1615.n()).done;){var _t2490=_step1615.value;if(!_s982||!1!==ka(_t2490)){var _s983=_i1662.style.getPropertyValue(_t2490),_n704=_i1662.style.getPropertyPriority(_t2490),_o544=Yi(_templateObject89(),_t2490,_s983+("important"===_n704?" !important":""));_e1869.children[2].append(_o544);}}}catch(err){_iterator1615.e(err);}finally{_iterator1615.f();}_this1056["#cascade-items"].append(_e1869);}{var _n705=_a(_i1662);_n705=_n705.filter(function(t){return!t.parentStyleSheet||!1!==e.contains(t.parentStyleSheet.ownerNode);});var _iterator1616=_createForOfIteratorHelper(_n705),_step1616;try{for(_iterator1616.s();!(_step1616=_iterator1616.n()).done;){var _e1870=_step1616.value;if(!1===t.includes(_e1870)){var _n706=[];var _iterator1617=_createForOfIteratorHelper(_e1870.style),_step1617;try{for(_iterator1617.s();!(_step1617=_iterator1617.n()).done;){var _t2492=_step1617.value;if(!1===_s982||!0===ka(_t2492)){var _i1664=_e1870.style.getPropertyValue(_t2492),_s985=_e1870.style.getPropertyPriority(_t2492);_s985="important"===_s985?" !important":"",_n706.push([_t2492,_i1664,_s985]);}}}catch(err){_iterator1617.e(err);}finally{_iterator1617.f();}if(_n706.length>0){var _o545=_this1056.YP(_i1662),_l404=Yi(_templateObject90(),_s982?"Inherited from <span>".concat(_o545,"</span>"):"",_e1870.selectorText);var _iterator1618=_createForOfIteratorHelper(_n706),_step1618;try{for(_iterator1618.s();!(_step1618=_iterator1618.n()).done;){var _step1618$value=_slicedToArray(_step1618.value,3),_t2491=_step1618$value[0],_e1871=_step1618$value[1],_i1663=_step1618$value[2];var _s984=Yi(_templateObject91(),_t2491,_e1871+("important"===_i1663?" !important":""));_l404.children[2].append(_s984);}}catch(err){_iterator1618.e(err);}finally{_iterator1618.f();}_l404[Jf]=_e1870,_this1056["#cascade-items"].append(_l404),t.push(_e1870);}}}}catch(err){_iterator1616.e(err);}finally{_iterator1616.f();}}{var _t2493=[];var _iterator1619=_createForOfIteratorHelper(_i1662.attributes),_step1619;try{var _loop50=function _loop50(){var _step1619$value=_step1619.value,e=_step1619$value.name,n=_step1619$value.value;var i=G.filter(function(t){return t.presentationAttributeName===e;}),o=i.find(function(t){return t.appliesTo.includes(_this1056.NP.localName);})||i[0];o&&(!1!==_s982&&!0!==o.inheritable||_t2493.push({name:e,value:n}));};for(_iterator1619.s();!(_step1619=_iterator1619.n()).done;){_loop50();}}catch(err){_iterator1619.e(err);}finally{_iterator1619.f();}if(_t2493.length>0){var _e1872=_this1056.YP(_i1662),_n707=_s982?"Inherited from <span>".concat(_e1872,"</span>"):"",_o546="".concat(_i1662.localName,"[Presentation attributes]"),_l405=Yi(_templateObject92(),_n707,_o546);var _iterator1620=_createForOfIteratorHelper(_t2493),_step1620;try{for(_iterator1620.s();!(_step1620=_iterator1620.n()).done;){var _step1620$value=_step1620.value,_e1873=_step1620$value.name,_i1665=_step1620$value.value;var _t2494=Yi(_templateObject93(),_e1873,_i1665);_l405.children[2].append(_t2494);}}catch(err){_iterator1620.e(err);}finally{_iterator1620.f();}_l405[tw]=_i1662,_this1056["#cascade-items"].append(_l405);}}}})();}}},{key:"WP",value:function WP(t){var e,i=function i(t){return _toConsumableArray(stylesheet.cssRules);},s=[],n=i(sheet);for(;e=n.shift();){e.type===CSSRule.MEDIA_RULE?n=i().concat(n):e.type===CSSRule.STYLE_RULE&&element.matches(e.selectorText)&&s.push(e);}return s;}},{key:"YP",value:function YP(t){var e="";if(t.hasAttribute("data-bx-workspace")){var _i1666=t.getAttribute("data-bx-workspace");e+="master"===_i1666?"svg":_i1666;}else e+="g";return t.id.length>0&&(e+="#"+t.id),t.classList.length>0&&(e+="."+_toConsumableArray(t.classList).join(".")),e;}}]);return nw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(nw,"observedAttributes",["enabled"]);_defineProperty(nw,"_shadowTemplate",Yi(_templateObject515()));_defineProperty(nw,"_shadowStyleSheet",Wi(_templateObject516()));customElements.define("bx-csscascadeinspector",nw);var ow=/*#__PURE__*/function(_HTMLElement134){_inherits(ow,_HTMLElement134);var _super225=_createSuper(ow);_createClass(ow,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function ow(){var _this1057;_classCallCheck(this,ow);_this1057=_super225.call(this),_this1057._shadowRoot=_this1057.attachShadow({mode:"closed"}),_this1057._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,ow._shadowStyleSheet],_this1057._shadowRoot.append(document.importNode(ow._shadowTemplate.content,!0));var _iterator1621=_createForOfIteratorHelper(_this1057._shadowRoot.querySelectorAll("[id]")),_step1621;try{for(_iterator1621.s();!(_step1621=_iterator1621.n()).done;){var t=_step1621.value;_this1057["#"+t.id]=t;}}catch(err){_iterator1621.e(err);}finally{_iterator1621.f();}_this1057["#dom-inspector"].addEventListener("selectednodeschange",function(){return _this1057.qP();});return _this1057;}_createClass(ow,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){this["#dom-inspector"].enabled=!0,this["#css-cascade-inspector"].enabled=!0;}},{key:"sn",value:function sn(){this["#dom-inspector"].enabled=!1,this["#css-cascade-inspector"].enabled=!1;}},{key:"qP",value:function qP(){var t=this["#dom-inspector"].selectedNodes;1===t.length&&t[0].nodeType===document.ELEMENT_NODE?this["#css-cascade-inspector"].target=t[0]:this["#css-cascade-inspector"].target=null;}}]);return ow;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ow,"observedAttributes",["enabled"]);_defineProperty(ow,"_shadowTemplate",Yi(_templateObject517()));_defineProperty(ow,"_shadowStyleSheet",Wi(_templateObject518()));customElements.define("bx-elementspanel",ow);var lw=/*#__PURE__*/function(_HTMLElement135){_inherits(lw,_HTMLElement135);var _super226=_createSuper(lw);_createClass(lw,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function lw(){var _this1058;_classCallCheck(this,lw);_this1058=_super226.call(this),_this1058._shadowRoot=_this1058.attachShadow({mode:"closed"}),_this1058._shadowRoot.adoptedStyleSheets=[lw._shadowStyleSheet],_this1058._shadowRoot.append(document.importNode(lw._shadowTemplate.content,!0));var _iterator1622=_createForOfIteratorHelper(_this1058._shadowRoot.querySelectorAll("[id]")),_step1622;try{for(_iterator1622.s();!(_step1622=_iterator1622.n()).done;){var t=_step1622.value;_this1058["#"+t.id]=t;}}catch(err){_iterator1622.e(err);}finally{_iterator1622.f();}return _this1058;}_createClass(lw,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){}},{key:"sn",value:function sn(){}}]);return lw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(lw,"observedAttributes",["enabled"]);_defineProperty(lw,"_shadowTemplate",Yi(_templateObject519()));_defineProperty(lw,"_shadowStyleSheet",Wi(_templateObject520()));customElements.define("bx-codepanel",lw);var hw=/*#__PURE__*/function(_HTMLElement136){_inherits(hw,_HTMLElement136);var _super227=_createSuper(hw);_createClass(hw,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function hw(){var _this1059;_classCallCheck(this,hw);_this1059=_super227.call(this),_this1059._shadowRoot=_this1059.attachShadow({mode:"closed"}),_this1059._shadowRoot.adoptedStyleSheets=[hw._shadowStyleSheet],_this1059._shadowRoot.append(document.importNode(hw._shadowTemplate.content,!0));var _iterator1623=_createForOfIteratorHelper(_this1059._shadowRoot.querySelectorAll("[id]")),_step1623;try{for(_iterator1623.s();!(_step1623=_iterator1623.n()).done;){var t=_step1623.value;_this1059["#"+t.id]=t;}}catch(err){_iterator1623.e(err);}finally{_iterator1623.f();}return _this1059;}_createClass(hw,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){}},{key:"sn",value:function sn(){}}]);return hw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(hw,"observedAttributes",["enabled"]);_defineProperty(hw,"_shadowTemplate",Yi(_templateObject521()));_defineProperty(hw,"_shadowStyleSheet",Wi(_templateObject522()));customElements.define("bx-animationpanel",hw);var aw=Object.defineProperty;var rw=/*#__PURE__*/function(_HTMLElement137){_inherits(rw,_HTMLElement137);var _super228=_createSuper(rw);_createClass(rw,[{key:"board",get:function get(){return this._shadowRoot.querySelector("#board");}},{key:"offscreenBoard",get:function get(){return this._shadowRoot.querySelector("#offscreen-board");}},{key:"toolsDock",get:function get(){return this["#tools-dock"];}},{key:"primaryPanelsDock",get:function get(){return this["#primary-panels-dock"];}},{key:"secondaryPanelsDock",get:function get(){return this["#secondary-panels-dock"];}},{key:"colorGrabber",get:function get(){return this["#color-grabber"];}},{key:"objectGrabber",get:function get(){return this["#object-grabber"];}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function rw(){var _temp51,_this1060;_classCallCheck(this,rw);(_temp51=_this1060=_super228.call(this),_defineProperty(_assertThisInitialized(_this1060),"commands",{"import":{enabled:function enabled(){return!0;},exec:function exec(){return _this1060.XP();}},"export":{enabled:function enabled(){return!0;},exec:function exec(){return _this1060.ZP();}},undo:{enabled:function enabled(){return _this1060.KP();},exec:function exec(){return _this1060.QP();}},redo:{enabled:function enabled(){return _this1060.JP();},exec:function exec(){return _this1060.tD();}},copy:{enabled:function enabled(){return _this1060.Qs.textInputMode||_this1060.board.selectedElements.length>0;},exec:function exec(){return _this1060.eD();}},cut:{enabled:function enabled(){return _this1060.Qs.textInputMode||_this1060.board.selectedElements.length>0;},exec:function exec(){return _this1060.iD();}},paste:{exec:function exec(){return _this1060.sD();}},duplicate:{enabled:function enabled(){return _this1060.board.selectedObjectElements.length>0;},exec:function exec(){return _this1060.nD();}},"delete":{enabled:function enabled(){return _this1060.oD();},exec:function exec(){return _this1060.lD();}},selectAll:{exec:function exec(){return _this1060.Sd();}},deselectAll:{enabled:function enabled(){return _this1060.board.selectedElements.length>0;},exec:function exec(){return _this1060.$d();}},manualGuides:{exec:function exec(){return _this1060.board.showManualGuides=!_this1060.board.showManualGuides;}},smartGuides:{exec:function exec(){return _this1060.board.showSmartGuides=!_this1060.board.showSmartGuides;}},grid:{exec:function exec(){return _this1060.board.showGrid=!_this1060.board.showGrid;}},transparency:{exec:function exec(){return _this1060.board.showTransparency=!_this1060.board.showTransparency;}},views:{exec:function exec(){return _this1060.board.showViews=!_this1060.board.showViews;}},zoomIn:{exec:function exec(){return _this1060.board.zoomIn();}},zoomOut:{exec:function exec(){return _this1060.board.zoomOut();}},resetZoom:{enabled:function enabled(){return 100!==_this1060.board.zoom;},exec:function exec(){return _this1060.board.zoom=100;}},zoomToFitAllViews:{enabled:function enabled(){return _this1060.board.canZoomToFitAllViews();},exec:function exec(){return _this1060.board.zoomToFitAllViews();}},zoomToFitAllObjects:{enabled:function enabled(){return _this1060.board.canZoomToFitAllObjects();},exec:function exec(){return _this1060.board.zoomToFitAllObjects();}},zoomToFitSelectedObjects:{enabled:function enabled(){return _this1060.board.canZoomToFitSelectedObjects();},exec:function exec(){return _this1060.board.zoomToFitSelectedObjects("center");}},group:{enabled:function enabled(){return _this1060.hD();},exec:function exec(){return _this1060.aD();}},ungroup:{enabled:function enabled(){return _this1060.rD();},exec:function exec(){return _this1060.dD();}},clip:{enabled:function enabled(){return _this1060.cD();},exec:function exec(){return _this1060.pD();}},unclip:{enabled:function enabled(){return _this1060.uD();},exec:function exec(){return _this1060.xD();}},mask:{enabled:function enabled(){return _this1060.bD();},exec:function exec(){return _this1060.mD();}},unmask:{enabled:function enabled(){return _this1060.gD();},exec:function exec(){return _this1060.fD();}},increaseOpacity:{enabled:function enabled(){return _this1060.wD();},exec:function exec(){return _this1060.vD();}},decreaseOpacity:{enabled:function enabled(){return _this1060.yD();},exec:function exec(){return _this1060.kD();}},increaseFillOpacity:{enabled:function enabled(){return _this1060.SD();},exec:function exec(){return _this1060._D();}},decreaseFillOpacity:{enabled:function enabled(){return _this1060.CD();},exec:function exec(){return _this1060.MD();}},increaseStrokeOpacity:{enabled:function enabled(){return _this1060.PD();},exec:function exec(){return _this1060.DD();}},decreaseStrokeOpacity:{enabled:function enabled(){return _this1060.zD();},exec:function exec(){return _this1060.OD();}},raise:{enabled:function enabled(){return _this1060.ED();},exec:function exec(){return _this1060.TD();}},raiseToFront:{enabled:function enabled(){return _this1060.ED();},exec:function exec(){return _this1060.AD();}},lower:{enabled:function enabled(){return _this1060.$D();},exec:function exec(){return _this1060.ID();}},lowerToBack:{enabled:function enabled(){return _this1060.$D();},exec:function exec(){return _this1060.LD();}},rotateClockwise:{enabled:function enabled(){return _this1060.BD();},exec:function exec(){return _this1060.RD(90);}},rotateCounterclockwise:{enabled:function enabled(){return _this1060.BD();},exec:function exec(){return _this1060.RD(-90);}},flipX:{enabled:function enabled(){return _this1060.GD();},exec:function exec(){return _this1060.FD("x");}},flipY:{enabled:function enabled(){return _this1060.GD();},exec:function exec(){return _this1060.FD("y");}},removeTransform:{enabled:function enabled(){return _this1060.UD();},exec:function exec(){return _this1060.ND();}},reduceTransform:{enabled:function enabled(){return _this1060.VD();},exec:function exec(){return _this1060.jD();}},moveOneUnitLeft:{enabled:function enabled(){return _this1060.HD();},exec:function exec(){return _this1060.YD(1,"left");}},moveOneUnitRight:{enabled:function enabled(){return _this1060.HD();},exec:function exec(){return _this1060.YD(1,"right");}},moveOneUnitUp:{enabled:function enabled(){return _this1060.HD();},exec:function exec(){return _this1060.YD(1,"up");}},moveOneUnitDown:{enabled:function enabled(){return _this1060.HD();},exec:function exec(){return _this1060.YD(1,"down");}},moveTenUnitsLeft:{enabled:function enabled(){return _this1060.HD();},exec:function exec(){return _this1060.YD(10,"left");}},moveTenUnitsRight:{enabled:function enabled(){return _this1060.HD();},exec:function exec(){return _this1060.YD(10,"right");}},moveTenUnitsUp:{enabled:function enabled(){return _this1060.HD();},exec:function exec(){return _this1060.YD(10,"up");}},moveTenUnitsDown:{enabled:function enabled(){return _this1060.HD();},exec:function exec(){return _this1060.YD(10,"down");}},grabPaintColor:{enabled:function enabled(){return _this1060.WD();},exec:function exec(){return _this1060.qD();}},reorient:{enabled:function enabled(){return _this1060.XD();},exec:function exec(){return _this1060.ZD();}},reverse:{enabled:function enabled(){return _this1060.KD();},exec:function exec(){return _this1060.QD();}},shapeToPath:{enabled:function enabled(){return _this1060.JD();},exec:function exec(){return _this1060.tz();}},strokeToPath:{enabled:function enabled(){return _this1060.ez();},exec:function exec(){return _this1060.iz();}},unite:{enabled:function enabled(){return _this1060.sz("unite");},exec:function exec(){return _this1060.nz("unite");}},subtract:{enabled:function enabled(){return _this1060.sz("subtract");},exec:function exec(){return _this1060.nz("subtract");}},intersect:{enabled:function enabled(){return _this1060.sz("intersect");},exec:function exec(){return _this1060.nz("intersect");}},exclude:{enabled:function enabled(){return _this1060.sz("exclude");},exec:function exec(){return _this1060.nz("exclude");}},joinPaths:{enabled:function enabled(){return _this1060.oz();},exec:function exec(){return _this1060.lz();}},splitPath:{enabled:function enabled(){return _this1060.hz();},exec:function exec(){return _this1060.az();}},openPath:{enabled:function enabled(){return _this1060.rz();},exec:function exec(){return _this1060.dz();}},closePath:{enabled:function enabled(){return _this1060.cz();},exec:function exec(){return _this1060.pz();}},insetPath:{enabled:function enabled(){return _this1060.uz();},exec:function exec(){return _this1060.xz(-1);}},outsetPath:{enabled:function enabled(){return _this1060.uz();},exec:function exec(){return _this1060.xz(1);}},simplifyPath:{enabled:function enabled(){return _this1060.bz();},exec:function exec(){return _this1060.mz();}},complexifyPath:{enabled:function enabled(){return _this1060.gz();},exec:function exec(){return _this1060.fz();}},joinNodes:{enabled:function enabled(){return _this1060.wz();},exec:function exec(){return _this1060.vz();}},splitNode:{enabled:function enabled(){return _this1060.yz();},exec:function exec(){return _this1060.kz();}},deleteNode:{enabled:function enabled(){return _this1060.Sz();},exec:function exec(){return _this1060._z();}},breakNode:{enabled:function enabled(){return _this1060.Cz();},exec:function exec(){return _this1060.Mz();}},previousTool:{enabled:function enabled(){return _this1060.Pz();},exec:function exec(){return _this1060.togglePreviousTool();}},transformTool:{exec:function exec(){return _this1060.toggleTool("transform-tool");}},editTool:{exec:function exec(){return _this1060.toggleTool("edit-tool");}},panTool:{exec:function exec(){return _this1060.toggleTool("pan-tool");}},quadBezierTool:{exec:function exec(){return _this1060.toggleTool("quad-bezier-tool");}},cubicBezierTool:{exec:function exec(){return _this1060.toggleTool("cubic-bezier-tool");}},arcTool:{exec:function exec(){return _this1060.toggleTool("arc-tool");}},freehandTool:{exec:function exec(){return _this1060.toggleTool("freehand-tool");}},blobTool:{exec:function exec(){return _this1060.toggleTool("blob-tool");}},textTool:{exec:function exec(){return _this1060.toggleTool("text-tool");}},textPathTool:{exec:function exec(){return _this1060.toggleTool("text-path-tool");}},viewTool:{exec:function exec(){return _this1060.toggleTool("view-tool");}},rectTool:{exec:function exec(){return _this1060.toggleTool("rect-tool");}},circleTool:{exec:function exec(){return _this1060.toggleTool("circle-tool");}},ellipseTool:{exec:function exec(){return _this1060.toggleTool("ellipse-tool");}},ringTool:{exec:function exec(){return _this1060.toggleTool("ring-tool");}},pieTool:{exec:function exec(){return _this1060.toggleTool("pie-tool");}},crescentTool:{exec:function exec(){return _this1060.toggleTool("crescent-tool");}},triangleTool:{exec:function exec(){return _this1060.toggleTool("triangle-tool");}},nGonTool:{exec:function exec(){return _this1060.toggleTool("n-gon-tool");}},starTool:{exec:function exec(){return _this1060.toggleTool("star-tool");}},cogTool:{exec:function exec(){return _this1060.toggleTool("cog-tool");}},arrowTool:{exec:function exec(){return _this1060.toggleTool("arrow-tool");}},crossTool:{exec:function exec(){return _this1060.toggleTool("cross-tool");}},spiralTool:{exec:function exec(){return _this1060.toggleTool("spiral-tool");}},lineTool:{exec:function exec(){return _this1060.toggleTool("line-tool");}},polylineTool:{exec:function exec(){return _this1060.toggleTool("polyline-tool");}},polygonTool:{exec:function exec(){return _this1060.toggleTool("polygon-tool");}},fillPanel:{exec:function exec(){return _this1060.togglePrimaryPanel("fill-panel");}},strokePanel:{exec:function exec(){return _this1060.togglePrimaryPanel("stroke-panel");}},compositingPanel:{exec:function exec(){return _this1060.togglePrimaryPanel("compositing-panel");}},typographyPanel:{exec:function exec(){return _this1060.togglePrimaryPanel("typography-panel");}},geometryPanel:{exec:function exec(){return _this1060.togglePrimaryPanel("geometry-panel");}},metaPanel:{exec:function exec(){return _this1060.togglePrimaryPanel("meta-panel");}},shapePanel:{exec:function exec(){return _this1060.togglePrimaryPanel("shape-panel");}},arrangementPanel:{exec:function exec(){return _this1060.togglePrimaryPanel("arrangement-panel");}},viewPanel:{exec:function exec(){return _this1060.togglePrimaryPanel("view-panel");}},generatorsPanel:{exec:function exec(){return _this1060.togglePrimaryPanel("generators-panel");}},exportPanel:{exec:function exec(){return _this1060.togglePrimaryPanel("export-panel");}},libraryPanel:{exec:function exec(){return _this1060.togglePrimaryPanel("library-panel");}},defsPanel:{exec:function exec(){return _this1060.togglePrimaryPanel("defs-panel");}},objectsPanel:{exec:function exec(){return _this1060.togglePrimaryPanel("objects-panel");}},historyPanel:{exec:function exec(){return _this1060.togglePrimaryPanel("history-panel");}},elementsPanel:{exec:function exec(){return _this1060.toggleSecondaryPanel("elements-panel");}},codePanel:{exec:function exec(){return _this1060.toggleSecondaryPanel("code-panel");}},animationPanel:{exec:function exec(){return _this1060.toggleSecondaryPanel("animation-panel");}}}),_temp51),_this1060.Dz=null,_this1060.zz=null,_this1060.Oz=!1,_this1060._shadowRoot=_this1060.attachShadow({mode:"closed"}),_this1060._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,rw._shadowStyleSheet],_this1060._shadowRoot.append(document.importNode(rw._shadowTemplate.content,!0));var _iterator1624=_createForOfIteratorHelper(_this1060._shadowRoot.querySelectorAll("[id]")),_step1624;try{for(_iterator1624.s();!(_step1624=_iterator1624.n()).done;){var t=_step1624.value;_this1060["#"+t.id]=t;}}catch(err){_iterator1624.e(err);}finally{_iterator1624.f();}var _loop51=function _loop51(){var t=_arr85[_i1667];aw(_assertThisInitialized(_this1060),oi(t.id),{get:function get(){return t;}});};for(var _i1667=0,_arr85=[].concat(_toConsumableArray(_this1060["#primary-panels-dock"].children),_toConsumableArray(_this1060["#secondary-panels-dock"].children));_i1667<_arr85.length;_i1667++){_loop51();}_this1060.board.undoManager.addEventListener("change",function(t){return _this1060.dP(t);}),_this1060["#tools-dock"].addEventListener("toggle",function(){return _this1060.qs();}),_this1060["#primary-panels-dock"].addEventListener("toggle",function(){return _this1060.qs();}),_this1060["#color-grabber"].addEventListener("blur",function(){return _this1060.focus();}),_this1060["#object-grabber"].addEventListener("blur",function(){return _this1060.focus();});return _this1060;}_createClass(rw,[{key:"connectedCallback",value:function(){var _connectedCallback8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee219(){var t,_e1874,_t2495,_iterator1625,_step1625,_e1875,_t2496,_t2497;return regeneratorRuntime.wrap(function _callee219$(_context220){while(1){switch(_context220.prev=_context220.next){case 0:if(!(this.Qs=Ai(this,"#app"),this.tabIndex=0,!1===this.Oz)){_context220.next=10;break;}if(!(this.Oz=!0,this.qs(),window.argv.includes("--debug"))){_context220.next=9;break;}t=window.argv.filter(function(t){return t.startsWith("--")&&t.endsWith("-panel");}),_e1874=window.argv.find(function(t){return t.startsWith("--")&&t.endsWith("-tool");});if(_e1874){_t2495=_e1874.substring(2);this.toggleTool(_t2495);}if(!(t.length>0)){_context220.next=9;break;}_context220.next=7;return Qi(500);case 7:_iterator1625=_createForOfIteratorHelper(t);try{for(_iterator1625.s();!(_step1625=_iterator1625.n()).done;){_e1875=_step1625.value;_t2496=_e1875.substring(2);this.primaryPanelsDock.querySelector("#"+_t2496)?this.togglePrimaryPanel(_t2496):this.secondaryPanelsDock.querySelector("#"+_t2496)&&this.toggleSecondaryPanel(_t2496);}}catch(err){_iterator1625.e(err);}finally{_iterator1625.f();}case 9:if(window.argv.includes("--select")){_t2497=window.argv[window.argv.indexOf("--select")+1];_t2497&&(this.board.selectedElements=_toConsumableArray(this.board.currentWorkspace.querySelectorAll(_t2497)));}case 10:case"end":return _context220.stop();}}},_callee219,this);}));function connectedCallback(){return _connectedCallback8.apply(this,arguments);}return connectedCallback;}()},{key:"dP",value:function dP(t){this.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:t.detail}));}},{key:"qs",value:function qs(){var t=this["#tools-dock"].value,e=this["#primary-panels-dock"].value;t!==this.Dz&&(this.zz=this.Dz,this.Dz=t),"transform-tool"===t?(this["#board"].outlineHud.enabled=!0,this["#board"].outlineHud.context="transform",this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!0,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!0,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"edit-tool"===t?(this["#board"].outlineHud.enabled=!0,this["#board"].outlineHud.context="edit",this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!0,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!0,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!0,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"pan-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!1,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!0,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"cubic-bezier-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!0,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!0,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"quad-bezier-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!0,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!0,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"arc-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!0,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!0,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"freehand-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!0,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!0,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"blob-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!0,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!0,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"text-tool"===t?(this["#board"].outlineHud.enabled=!0,this["#board"].outlineHud.context="edit-text",this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!1,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!0,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!0,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"text-path-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!0,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"view-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!0,this["#board"].rubberBandHud.enabled=!1,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!0):["rect-tool","circle-tool","ellipse-tool","ring-tool","pie-tool","crescent-tool","triangle-tool","n-gon-tool","star-tool","cog-tool","arrow-tool","cross-tool","spiral-tool"].includes(t)?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!1,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!0,this["#board"].shapeContext.shape=t.substring(0,t.indexOf("-tool")),this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"line-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!0,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"polyline-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!0,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"polygon-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!0,this["#board"].viewContext.enabled=!1):(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!1,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1),"edit-tool"===t?(this["#board"].rectHud.enabled=!0,this["#board"].circleHud.enabled=!0,this["#board"].ellipseHud.enabled=!0,this["#board"].ringHud.enabled=!0,this["#board"].pieHud.enabled=!0,this["#board"].crescentHud.enabled=!0,this["#board"].triangleHud.enabled=!0,this["#board"].nGonHud.enabled=!0,this["#board"].starHud.enabled=!0,this["#board"].cogHud.enabled=!0,this["#board"].arrowHud.enabled=!0,this["#board"].crossHud.enabled=!0,this["#board"].spiralHud.enabled=!0,this["#board"].lineHud.enabled=!0,this["#board"].polyHud.enabled=!0):(this["#board"].rectHud.enabled=!1,this["#board"].circleHud.enabled=!1,this["#board"].ellipseHud.enabled=!1,this["#board"].ringHud.enabled=!1,this["#board"].pieHud.enabled=!1,this["#board"].crescentHud.enabled=!1,this["#board"].triangleHud.enabled=!1,this["#board"].nGonHud.enabled=!1,this["#board"].starHud.enabled=!1,this["#board"].cogHud.enabled=!1,this["#board"].arrowHud.enabled=!1,this["#board"].crossHud.enabled=!1,this["#board"].spiralHud.enabled=!1,this["#board"].lineHud.enabled=!1,this["#board"].polyHud.enabled=!1),"edit-tool"===t&&"fill-panel"===e?(this["#board"].linearGradientHud.context="fill",this["#board"].radialGradientHud.context="fill",this["#board"].patternHud.context="fill",this["#board"].linearGradientHud.enabled=!0,this["#board"].radialGradientHud.enabled=!0,this["#board"].patternHud.enabled=!0):"edit-tool"===t&&"stroke-panel"===e?(this["#board"].linearGradientHud.context="stroke",this["#board"].radialGradientHud.context="stroke",this["#board"].patternHud.context="stroke",this["#board"].linearGradientHud.enabled=!0,this["#board"].radialGradientHud.enabled=!0,this["#board"].patternHud.enabled=!0):(this["#board"].linearGradientHud.enabled=!1,this["#board"].radialGradientHud.enabled=!1,this["#board"].patternHud.enabled=!1),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"toggleTool",value:function toggleTool(t){this["#tools-dock"].value=t,this.qs();}},{key:"togglePreviousTool",value:function togglePreviousTool(){this.zz&&this.toggleTool(this.zz);}},{key:"Pz",value:function Pz(){return null!==this.zz;}},{key:"togglePrimaryPanel",value:function togglePrimaryPanel(t){this["#primary-panels-dock"].value===t?this["#primary-panels-dock"].value=null:this["#primary-panels-dock"].value=t,this.qs();}},{key:"toggleSecondaryPanel",value:function toggleSecondaryPanel(t){this["#secondary-panels-dock"].value===t?this["#secondary-panels-dock"].value=null:this["#secondary-panels-dock"].value=t,this.qs();}},{key:"YD",value:function YD(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"left";if(this.board.undoManager.checkpoint("Move"),0===this.board.outermostSelectedElements.length){if("view-tool"===this.toolsDock.value&&this.board.currentWorkspace.hasAttribute("viewBox")){var _i1668=Bt.fromString(this.board.currentWorkspace.getAttribute("viewBox"));"left"===e?_i1668.x-=t:"right"===e?_i1668.x+=t:"up"===e?_i1668.y-=t:"down"===e&&(_i1668.y+=t),this.board.currentWorkspace.setAttribute("viewBox",_i1668.toString());}}else{var _iterator1626=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1626;try{for(_iterator1626.s();!(_step1626=_iterator1626.n()).done;){var _i1669=_step1626.value;if("view"===_i1669.localName){var _s986=Bt.fromString(_i1669.getAttribute("viewBox")||"0 0 0 0");"left"===e?_s986.x-=t:"right"===e?_s986.x+=t:"up"===e?_s986.y-=t:"down"===e&&(_s986.y+=t),_i1669.setAttribute("viewBox",_s986.toString());}else if("bx-guide"===_i1669.localName){var _s987=qp.fromString(_i1669.getAttribute("x")).value,_n708=qp.fromString(_i1669.getAttribute("y")).value;"left"===e?_s987-=t:"right"===e?_s987+=t:"up"===e?_n708-=t:"down"===e&&(_n708+=t),_i1669.setAttribute("x",_s987),_i1669.setAttribute("y",_n708),this["#board"].manualGuidesHud.requestImmidiateUpdate();}else{var _s988=Nt(_i1669),_n709=Vt(_i1669,this.board.currentWorkspace),_o547=_n709.inverse(),_l406=new DOMMatrix();"left"===e?_l406.translateSelf(-t,0):"right"===e?_l406.translateSelf(t,0):"up"===e?_l406.translateSelf(0,-t):"down"===e&&_l406.translateSelf(0,t);var _h299=DOMMatrix.fromMatrix(_s988);_h299.multiplySelf(_o547),_h299.multiplySelf(_l406),_h299.multiplySelf(_n709),_i1669.setAttribute("transform",_h299.toString()),mh(_i1669,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}}catch(err){_iterator1626.e(err);}finally{_iterator1626.f();}}}},{key:"HD",value:function HD(){return 0!==this.board.outermostSelectedElements.length||!("view-tool"!==this.toolsDock.value||!this.board.currentWorkspace.hasAttribute("viewBox"));}},{key:"FD",value:function FD(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"x";this.board.undoManager.checkpoint("Flip");var e=_toConsumableArray(this.board.outermostSelectedObjectElements),i=e.map(function(t){return Mi(t);}),s=Ne(i);var _iterator1627=_createForOfIteratorHelper(e),_step1627;try{for(_iterator1627.s();!(_step1627=_iterator1627.n()).done;){var _i1670=_step1627.value;var _e1876=void 0,_n710=Nt(_i1670),_o548=jt(_i1670),_l407=_o548.inverse();if("x"===t){var _t2498=2*(s.x+s.width/2);_e1876=new DOMMatrix([-1,0,0,1,_t2498,0]);}else if("y"===t){var _t2499=2*(s.y+s.height/2);_e1876=new DOMMatrix([1,0,0,-1,0,_t2499]);}var _h300=DOMMatrix.fromMatrix(_n710);_h300.multiplySelf(_l407),_h300.multiplySelf(_e1876),_h300.multiplySelf(_o548),_i1670.setAttribute("transform",_h300.toString()),mh(_i1670,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1627.e(err);}finally{_iterator1627.f();}}},{key:"GD",value:function GD(){return this.board.selectedObjectElements.length>0;}},{key:"ND",value:function ND(){this.board.undoManager.checkpoint("Remove transform");var _iterator1628=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1628;try{for(_iterator1628.s();!(_step1628=_iterator1628.n()).done;){var t=_step1628.value;f.includes(t.localName)&&t.removeAttribute("transform");}}catch(err){_iterator1628.e(err);}finally{_iterator1628.f();}}},{key:"UD",value:function UD(){var _iterator1629=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1629;try{for(_iterator1629.s();!(_step1629=_iterator1629.n()).done;){var t=_step1629.value;if(f.includes(t.localName)&&t.hasAttribute("transform"))return!0;}}catch(err){_iterator1629.e(err);}finally{_iterator1629.f();}}},{key:"jD",value:function jD(){this.board.undoManager.checkpoint("Reduce transform");var _iterator1630=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1630;try{for(_iterator1630.s();!(_step1630=_iterator1630.n()).done;){var t=_step1630.value;f.includes(t.localName)&&t.hasAttribute("transform")&&mh(t,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision,preserveRotation:!1});}}catch(err){_iterator1630.e(err);}finally{_iterator1630.f();}}},{key:"VD",value:function VD(){var _iterator1631=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1631;try{for(_iterator1631.s();!(_step1631=_iterator1631.n()).done;){var t=_step1631.value;if(f.includes(t.localName)&&t.hasAttribute("transform"))return!0;}}catch(err){_iterator1631.e(err);}finally{_iterator1631.f();}}},{key:"RD",value:function RD(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:90;this.board.undoManager.checkpoint("Rotate");var e=_toConsumableArray(this.board.outermostSelectedObjectElements),i=Jt(e);var _iterator1632=_createForOfIteratorHelper(e),_step1632;try{for(_iterator1632.s();!(_step1632=_iterator1632.n()).done;){var _s989=_step1632.value;var _e1877=Nt(_s989),_n711=jt(_s989),_o549=_n711.inverse(),_l408=DOMMatrix.fromMatrix(_e1877);_l408.multiplySelf(_o549),_l408.translateSelf(i.x,i.y),_l408.rotateSelf(t),_l408.translateSelf(-i.x,-i.y),_l408.multiplySelf(_n711),_s989.setAttribute("transform",_l408.toString()),mh(_s989,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1632.e(err);}finally{_iterator1632.f();}}},{key:"BD",value:function BD(){return this.board.selectedObjectElements.length>0;}},{key:"TD",value:function TD(){this.board.undoManager.checkpoint("Raise");var _iterator1633=_createForOfIteratorHelper(Ri(this.board.outermostSelectedObjectElements)),_step1633;try{for(_iterator1633.s();!(_step1633=_iterator1633.n()).done;){var t=_step1633.value;var _iterator1634=_createForOfIteratorHelper(Ni(t)),_step1634;try{var _loop52=function _loop52(){var e=_step1634.value;var t=_toConsumableArray(e[0].parentElement.children).filter(function(t){if(e.includes(t))return!1;if(!1===[].concat(_toConsumableArray(m),["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1635=_createForOfIteratorHelper(e),_step1635;try{for(_iterator1635.s();!(_step1635=_iterator1635.n()).done;){var _i1671=_step1635.value;if(Ui(t,_i1671))return!0;}}catch(err){_iterator1635.e(err);}finally{_iterator1635.f();}return!1;}).find(function(t){return Ei(t)>Ei(e[e.length-1]);});if(t){var _iterator1636=_createForOfIteratorHelper(e.reverse()),_step1636;try{for(_iterator1636.s();!(_step1636=_iterator1636.n()).done;){var _i1672=_step1636.value;t.after(_i1672);}}catch(err){_iterator1636.e(err);}finally{_iterator1636.f();}}};for(_iterator1634.s();!(_step1634=_iterator1634.n()).done;){_loop52();}}catch(err){_iterator1634.e(err);}finally{_iterator1634.f();}}}catch(err){_iterator1633.e(err);}finally{_iterator1633.f();}}},{key:"AD",value:function AD(){this.board.undoManager.checkpoint("Raise to Front");var _iterator1637=_createForOfIteratorHelper(Ri(this.board.outermostSelectedObjectElements)),_step1637;try{for(_iterator1637.s();!(_step1637=_iterator1637.n()).done;){var t=_step1637.value;var _iterator1638=_createForOfIteratorHelper(Ni(t)),_step1638;try{var _loop53=function _loop53(){var e=_step1638.value;var t=_toConsumableArray(e[0].parentElement.children).filter(function(t){if(e.includes(t))return!1;if(!1===[].concat(_toConsumableArray(m),["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1639=_createForOfIteratorHelper(e),_step1639;try{for(_iterator1639.s();!(_step1639=_iterator1639.n()).done;){var _i1673=_step1639.value;if(Ui(t,_i1673))return!0;}}catch(err){_iterator1639.e(err);}finally{_iterator1639.f();}return!1;}),i=t[t.length-1];if(i){var _iterator1640=_createForOfIteratorHelper(e.reverse()),_step1640;try{for(_iterator1640.s();!(_step1640=_iterator1640.n()).done;){var _t2500=_step1640.value;i.after(_t2500);}}catch(err){_iterator1640.e(err);}finally{_iterator1640.f();}}};for(_iterator1638.s();!(_step1638=_iterator1638.n()).done;){_loop53();}}catch(err){_iterator1638.e(err);}finally{_iterator1638.f();}}}catch(err){_iterator1637.e(err);}finally{_iterator1637.f();}}},{key:"ED",value:function ED(){var t=Ri(this.board.outermostSelectedObjectElements),e=Symbol();var _iterator1641=_createForOfIteratorHelper(t),_step1641;try{for(_iterator1641.s();!(_step1641=_iterator1641.n()).done;){var _i1674=_step1641.value;var _t2501=Ni(_i1674);var _iterator1642=_createForOfIteratorHelper(_t2501),_step1642;try{var _loop54=function _loop54(){var i=_step1642.value;if(_toConsumableArray(i[0].parentElement.children).filter(function(t){if(t.transform){if(i.includes(t))return!1;if(!1===[].concat(_toConsumableArray(m),["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1643=_createForOfIteratorHelper(i),_step1643;try{for(_iterator1643.s();!(_step1643=_iterator1643.n()).done;){var _s990=_step1643.value;if(_s990.transform&&(_s990[e]||(_s990[e]=Mi(_s990)),t[e]||(t[e]=Mi(t)),He(_s990[e],t[e])))return!0;}}catch(err){_iterator1643.e(err);}finally{_iterator1643.f();}return!1;}return!1;}).find(function(t){return Ei(t)>Ei(i[i.length-1]);}))return{v:!0};};for(_iterator1642.s();!(_step1642=_iterator1642.n()).done;){var _ret6=_loop54();if(_typeof(_ret6)==="object")return _ret6.v;}}catch(err){_iterator1642.e(err);}finally{_iterator1642.f();}}}catch(err){_iterator1641.e(err);}finally{_iterator1641.f();}return!1;}},{key:"ID",value:function ID(){this.board.undoManager.checkpoint("Lower");var _iterator1644=_createForOfIteratorHelper(Ri(this.board.outermostSelectedObjectElements)),_step1644;try{for(_iterator1644.s();!(_step1644=_iterator1644.n()).done;){var t=_step1644.value;var _iterator1645=_createForOfIteratorHelper(Ni(t)),_step1645;try{var _loop55=function _loop55(){var e=_step1645.value;var t=_toConsumableArray(e[0].parentElement.children).filter(function(t){if(e.includes(t))return!1;if(!1===[].concat(_toConsumableArray(m),["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1646=_createForOfIteratorHelper(e),_step1646;try{for(_iterator1646.s();!(_step1646=_iterator1646.n()).done;){var _i1675=_step1646.value;if(Ui(t,_i1675))return!0;}}catch(err){_iterator1646.e(err);}finally{_iterator1646.f();}return!1;}).reverse().find(function(t){return Ei(t)<Ei(e[0]);});if(t){var _iterator1647=_createForOfIteratorHelper(e),_step1647;try{for(_iterator1647.s();!(_step1647=_iterator1647.n()).done;){var _i1676=_step1647.value;t.before(_i1676);}}catch(err){_iterator1647.e(err);}finally{_iterator1647.f();}}};for(_iterator1645.s();!(_step1645=_iterator1645.n()).done;){_loop55();}}catch(err){_iterator1645.e(err);}finally{_iterator1645.f();}}}catch(err){_iterator1644.e(err);}finally{_iterator1644.f();}}},{key:"LD",value:function LD(){this.board.undoManager.checkpoint("Lower to Back");var _iterator1648=_createForOfIteratorHelper(Ri(this.board.outermostSelectedObjectElements)),_step1648;try{for(_iterator1648.s();!(_step1648=_iterator1648.n()).done;){var t=_step1648.value;var _iterator1649=_createForOfIteratorHelper(Ni(t)),_step1649;try{var _loop56=function _loop56(){var e=_step1649.value;var t=_toConsumableArray(e[0].parentElement.children).filter(function(t){if(e.includes(t))return!1;if(!1===[].concat(_toConsumableArray(m),["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1650=_createForOfIteratorHelper(e),_step1650;try{for(_iterator1650.s();!(_step1650=_iterator1650.n()).done;){var _i1677=_step1650.value;if(Ui(t,_i1677))return!0;}}catch(err){_iterator1650.e(err);}finally{_iterator1650.f();}return!1;})[0];if(t){var _iterator1651=_createForOfIteratorHelper(e),_step1651;try{for(_iterator1651.s();!(_step1651=_iterator1651.n()).done;){var _i1678=_step1651.value;t.before(_i1678);}}catch(err){_iterator1651.e(err);}finally{_iterator1651.f();}}};for(_iterator1649.s();!(_step1649=_iterator1649.n()).done;){_loop56();}}catch(err){_iterator1649.e(err);}finally{_iterator1649.f();}}}catch(err){_iterator1648.e(err);}finally{_iterator1648.f();}}},{key:"$D",value:function $D(){var t=Ri(this.board.outermostSelectedObjectElements),e=Symbol();var _iterator1652=_createForOfIteratorHelper(t),_step1652;try{for(_iterator1652.s();!(_step1652=_iterator1652.n()).done;){var _i1679=_step1652.value;var _t2502=Ni(_i1679);var _iterator1653=_createForOfIteratorHelper(_t2502),_step1653;try{var _loop57=function _loop57(){var i=_step1653.value;if(_toConsumableArray(i[0].parentElement.children).filter(function(t){if(t.transform){if(i.includes(t))return!1;if(!1===[].concat(_toConsumableArray(m),["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1654=_createForOfIteratorHelper(i),_step1654;try{for(_iterator1654.s();!(_step1654=_iterator1654.n()).done;){var _s991=_step1654.value;if(_s991.transform&&(_s991[e]||(_s991[e]=Mi(_s991)),t[e]||(t[e]=Mi(t)),He(_s991[e],t[e])))return!0;}}catch(err){_iterator1654.e(err);}finally{_iterator1654.f();}return!1;}return!1;}).find(function(t){return Ei(t)<Ei(i[0]);}))return{v:!0};};for(_iterator1653.s();!(_step1653=_iterator1653.n()).done;){var _ret7=_loop57();if(_typeof(_ret7)==="object")return _ret7.v;}}catch(err){_iterator1653.e(err);}finally{_iterator1653.f();}}}catch(err){_iterator1652.e(err);}finally{_iterator1652.f();}return!1;}},{key:"aD",value:function aD(){this.board.undoManager.checkpoint("Group");var t=document.createDocumentFragment(),e=_toConsumableArray(this.board.outermostSelectedObjectElements),i=zi("svg:g");e[0].after(i),e=Bi(e);var _iterator1655=_createForOfIteratorHelper(e),_step1655;try{for(_iterator1655.s();!(_step1655=_iterator1655.n()).done;){var _s992=_step1655.value;var _e1878=Vt(_s992,i);_s992.setAttribute("transform",_e1878.toString()),t.append(_s992);}}catch(err){_iterator1655.e(err);}finally{_iterator1655.f();}i.append(t);var _iterator1656=_createForOfIteratorHelper(i.children),_step1656;try{for(_iterator1656.s();!(_step1656=_iterator1656.n()).done;){var _t2503=_step1656.value;mh(_t2503,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1656.e(err);}finally{_iterator1656.f();}this.board.selectedElements=[i];}},{key:"hD",value:function hD(){return this.board.selectedObjectElements.length>0;}},{key:"dD",value:function dD(){this.board.undoManager.checkpoint("Ungroup");var t=_toConsumableArray(this.board.outermostSelectedObjectElements),e=[];var _iterator1657=_createForOfIteratorHelper(t),_step1657;try{for(_iterator1657.s();!(_step1657=_iterator1657.n()).done;){var _i1680=_step1657.value;if("g"===_i1680.localName){var _t2504=_i1680,_s993=document.createDocumentFragment();for(var _i1681=0,_arr86=_toConsumableArray(_t2504.children);_i1681<_arr86.length;_i1681++){var _i1682=_arr86[_i1681];if("bx-title"!==_i1682.localName&&"desc"!==_i1682.localName){if(this.board.isSelectableElement(_i1682)){var _s994=Vt(_i1682,_t2504.parentElement);_i1682.setAttribute("transform",_s994.toString()),mh(_i1682,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision}),e.push(_i1682);}var _iterator1658=_createForOfIteratorHelper(_t2504.attributes),_step1658;try{for(_iterator1658.s();!(_step1658=_iterator1658.n()).done;){var _step1658$value=_step1658.value,_e1879=_step1658$value.name,_s995=_step1658$value.value;F.includes(_e1879)&&!1===_i1682.hasAttribute(_e1879)&&_i1682.setAttribute(_e1879,_s995);}}catch(err){_iterator1658.e(err);}finally{_iterator1658.f();}var _iterator1659=_createForOfIteratorHelper(_t2504.style),_step1659;try{for(_iterator1659.s();!(_step1659=_iterator1659.n()).done;){var _e1880=_step1659.value;var _s996=_t2504.style.getPropertyValue(_e1880);""===_i1682.style.getPropertyValue(_e1880)&&_i1682.style.setProperty(_e1880,_s996);}}catch(err){_iterator1659.e(err);}finally{_iterator1659.f();}_s993.append(_i1682);}}_t2504.before(_s993),_t2504.remove();}else e.push(_i1680);}}catch(err){_iterator1657.e(err);}finally{_iterator1657.f();}this.board.selectedElements=[].concat(e);}},{key:"rD",value:function rD(){if(0===this.board.selectedObjectElements.length)return!1;var _iterator1660=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1660;try{for(_iterator1660.s();!(_step1660=_iterator1660.n()).done;){var t=_step1660.value;if("g"===t.localName)return!0;}}catch(err){_iterator1660.e(err);}finally{_iterator1660.f();}return!1;}},{key:"pD",value:function pD(){this.board.undoManager.checkpoint("Clip");var _this$board$outermost=_toArray(this.board.outermostSelectedObjectElements),t=_this$board$outermost[0],e=_this$board$outermost.slice(1),i=U(t),s=t.parentElement;s===this.board.currentWorkspace&&(s=null),i?(i.innerHTML="",i.removeAttribute("transform")):(i=zi("svg:clipPath"),i.id=this.board.generateUniqueID("clip"),this.board.defs.append(i));var _iterator1661=_createForOfIteratorHelper(e),_step1661;try{for(_iterator1661.s();!(_step1661=_iterator1661.n()).done;){var _s997=_step1661.value;var _e1881=Vt(_s997,t);_s997.setAttribute("transform",_e1881.toString()),i.append(_s997),mh(_s997,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1661.e(err);}finally{_iterator1661.f();}t.style.clipPath="url(#".concat(i.id,")"),this.board.currentContainer=s,this.board.selectedElements=[t],this.board.selectedTextRange=null;}},{key:"cD",value:function cD(){var _this$board$outermost2=_toArray(this.board.outermostSelectedObjectElements),t=_this$board$outermost2[0],e=_this$board$outermost2.slice(1);if(!t||!_.includes(t.localName))return!1;if(0===e.length)return!1;var _iterator1662=_createForOfIteratorHelper(e),_step1662;try{for(_iterator1662.s();!(_step1662=_iterator1662.n()).done;){var _t2505=_step1662.value;if(!1===S.includes(_t2505.localName))return!1;}}catch(err){_iterator1662.e(err);}finally{_iterator1662.f();}return"none"===getComputedStyle(t).clipPath;}},{key:"xD",value:function xD(){if(!1===this.uD())return;this.board.undoManager.checkpoint("Unclip");var t=[];var _iterator1663=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1663;try{for(_iterator1663.s();!(_step1663=_iterator1663.n()).done;){var _e1882=_step1663.value;var _i1683=U(_e1882),_s998=Nt(_e1882);if(_i1683){var _n712=Nt(_i1683);t.push(_e1882);for(var _i1684=0,_arr87=_toConsumableArray(_i1683.children);_i1684<_arr87.length;_i1684++){var _o550=_arr87[_i1684];if(S.includes(_o550.localName)){var _i1685=_o550,_l409=Nt(_i1685),_h301=new DOMMatrix();_h301=_h301.multiply(_s998),_h301=_h301.multiply(_n712),_h301=_h301.multiply(_l409),_i1685.setAttribute("transform",_h301.toString()),_e1882.after(_i1685),t.push(_i1685),mh(_i1685,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}_i1683.remove();}_e1882.style.setProperty("clip-path","none"),ya("clip-path",_e1882);}}catch(err){_iterator1663.e(err);}finally{_iterator1663.f();}this.board.selectedElements=t;}},{key:"uD",value:function uD(){if(0===this.board.selectedObjectElements.length)return!1;var _iterator1664=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1664;try{for(_iterator1664.s();!(_step1664=_iterator1664.n()).done;){var t=_step1664.value;if(!1===_.includes(t.localName)||null===U(t))return!1;}}catch(err){_iterator1664.e(err);}finally{_iterator1664.f();}return!0;}},{key:"mD",value:function mD(){this.board.undoManager.checkpoint("Mask");var _this$board$outermost3=_toArray(this.board.outermostSelectedObjectElements),t=_this$board$outermost3[0],e=_this$board$outermost3.slice(1),i=N(t),s=t.parentElement;s===this.board.currentWorkspace&&(s=null),i?(i.innerHTML="",i.removeAttribute("transform")):(i=zi("svg:mask"),i.id=this.board.generateUniqueID("mask"),this.board.defs.append(i));var _iterator1665=_createForOfIteratorHelper(e),_step1665;try{for(_iterator1665.s();!(_step1665=_iterator1665.n()).done;){var _s999=_step1665.value;var _e1883=Vt(_s999,t);_s999.setAttribute("transform",_e1883.toString()),i.append(_s999),mh(_s999,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1665.e(err);}finally{_iterator1665.f();}t.style.mask="url(#".concat(i.id,")"),this.board.currentContainer=s,this.board.selectedElements=[t],this.board.selectedTextRange=null;}},{key:"bD",value:function bD(){var _this$board$outermost4=_toArray(this.board.outermostSelectedObjectElements),t=_this$board$outermost4[0],e=_this$board$outermost4.slice(1);if(!t||!M.includes(t.localName))return!1;if(0===e.length)return!1;var _iterator1666=_createForOfIteratorHelper(e),_step1666;try{for(_iterator1666.s();!(_step1666=_iterator1666.n()).done;){var _t2506=_step1666.value;if(!1===C.includes(_t2506.localName))return!1;}}catch(err){_iterator1666.e(err);}finally{_iterator1666.f();}return"none"===getComputedStyle(t).mask;}},{key:"fD",value:function fD(){if(!1===this.gD())return;this.board.undoManager.checkpoint("Unmask");var t=[];var _iterator1667=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1667;try{for(_iterator1667.s();!(_step1667=_iterator1667.n()).done;){var _e1884=_step1667.value;var _i1686=N(_e1884),_s1000=Nt(_e1884);if(_i1686){t.push(_e1884);for(var _i1687=0,_arr88=_toConsumableArray(_i1686.children);_i1687<_arr88.length;_i1687++){var _n713=_arr88[_i1687];if(C.includes(_n713.localName)){var _i1688=_n713,_o551=Nt(_i1688),_l410=new DOMMatrix();_l410=_l410.multiply(_s1000),_l410=_l410.multiply(_o551),_i1688.setAttribute("transform",_l410.toString()),_e1884.after(_i1688),t.push(_i1688),mh(_i1688,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}_i1686.remove();}_e1884.style.setProperty("mask","none"),ya("mask",_e1884);}}catch(err){_iterator1667.e(err);}finally{_iterator1667.f();}this.board.selectedElements=t;}},{key:"gD",value:function gD(){if(0===this.board.selectedObjectElements.length)return!1;var _iterator1668=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1668;try{for(_iterator1668.s();!(_step1668=_iterator1668.n()).done;){var t=_step1668.value;if(!1===M.includes(t.localName)||null===N(t))return!1;}}catch(err){_iterator1668.e(err);}finally{_iterator1668.f();}return!0;}},{key:"vD",value:function vD(){var _this1061=this;var t=Ki(function(){return _this1061.board.undoManager.checkpoint("Increase opacity");});var _iterator1669=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1669;try{for(_iterator1669.s();!(_step1669=_iterator1669.n()).done;){var _e1885=_step1669.value;var _i1689=_e1885.computedStyleMap().get("opacity").value;_i1689<1&&(t(),_i1689=K(_i1689+.1,0,1,2),_e1885.attributeStyleMap.set("opacity",CSS.number(_i1689)));}}catch(err){_iterator1669.e(err);}finally{_iterator1669.f();}}},{key:"wD",value:function wD(){var _iterator1670=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1670;try{for(_iterator1670.s();!(_step1670=_iterator1670.n()).done;){var t=_step1670.value;if(t.computedStyleMap().get("opacity").value<1)return!0;}}catch(err){_iterator1670.e(err);}finally{_iterator1670.f();}return!1;}},{key:"kD",value:function kD(){var _this1062=this;var t=Ki(function(){return _this1062.board.undoManager.checkpoint("Decrease opacity");});var _iterator1671=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1671;try{for(_iterator1671.s();!(_step1671=_iterator1671.n()).done;){var _e1886=_step1671.value;var _i1690=_e1886.computedStyleMap().get("opacity").value;_i1690>0&&(t(),_i1690=K(_i1690-.1,0,1,2),_e1886.attributeStyleMap.set("opacity",CSS.number(_i1690)));}}catch(err){_iterator1671.e(err);}finally{_iterator1671.f();}}},{key:"yD",value:function yD(){var _iterator1672=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1672;try{for(_iterator1672.s();!(_step1672=_iterator1672.n()).done;){var t=_step1672.value;if(t.computedStyleMap().get("opacity").value>0)return!0;}}catch(err){_iterator1672.e(err);}finally{_iterator1672.f();}return!1;}},{key:"_D",value:function _D(){var _this1063=this;var t=Ki(function(){return _this1063.board.undoManager.checkpoint("Increase fill opacity");});var _iterator1673=_createForOfIteratorHelper(this.Hx()),_step1673;try{for(_iterator1673.s();!(_step1673=_iterator1673.n()).done;){var _e1887=_step1673.value;var _i1691=_e1887.computedStyleMap().get("fill-opacity").value;_i1691<1&&(t(),_i1691=K(_i1691+.1,0,1,2),_e1887.attributeStyleMap.set("fill-opacity",CSS.number(_i1691)));}}catch(err){_iterator1673.e(err);}finally{_iterator1673.f();}}},{key:"SD",value:function SD(){return this.Hx().length>0;}},{key:"MD",value:function MD(){var _this1064=this;var t=Ki(function(){return _this1064.board.undoManager.checkpoint("Decrease fill opacity");});var _iterator1674=_createForOfIteratorHelper(this.Hx()),_step1674;try{for(_iterator1674.s();!(_step1674=_iterator1674.n()).done;){var _e1888=_step1674.value;var _i1692=_e1888.computedStyleMap().get("fill-opacity").value;_i1692>0&&(t(),_i1692=K(_i1692-.1,0,1,2),_e1888.attributeStyleMap.set("fill-opacity",CSS.number(_i1692)));}}catch(err){_iterator1674.e(err);}finally{_iterator1674.f();}}},{key:"CD",value:function CD(){return this.Hx().length>0;}},{key:"DD",value:function DD(){var _this1065=this;var t=Ki(function(){return _this1065.board.undoManager.checkpoint("Increase stroke opacity");});var _iterator1675=_createForOfIteratorHelper(this.Hx()),_step1675;try{for(_iterator1675.s();!(_step1675=_iterator1675.n()).done;){var _e1889=_step1675.value;var _i1693=_e1889.computedStyleMap().get("stroke-opacity").value;_i1693<1&&(t(),_i1693=K(_i1693+.1,0,1,2),_e1889.attributeStyleMap.set("stroke-opacity",CSS.number(_i1693)));}}catch(err){_iterator1675.e(err);}finally{_iterator1675.f();}}},{key:"PD",value:function PD(){return this.Hx().length>0;}},{key:"OD",value:function OD(){var _this1066=this;var t=Ki(function(){return _this1066.board.undoManager.checkpoint("Decrease stroke opacity");});var _iterator1676=_createForOfIteratorHelper(this.Hx()),_step1676;try{for(_iterator1676.s();!(_step1676=_iterator1676.n()).done;){var _e1890=_step1676.value;var _i1694=_e1890.computedStyleMap().get("stroke-opacity").value;_i1694>0&&(t(),_i1694=K(_i1694-.1,0,1,2),_e1890.attributeStyleMap.set("stroke-opacity",CSS.number(_i1694)));}}catch(err){_iterator1676.e(err);}finally{_iterator1676.f();}}},{key:"zD",value:function zD(){return this.Hx().length>0;}},{key:"Sd",value:function Sd(){this.Qs.textInputMode?document.execCommand("selectAll"):this.board.selectAll();}},{key:"$d",value:function $d(){this.board.deselectAll();}},{key:"QP",value:function QP(){this.Qs.textInputMode&&!1===this.board.textHud.inputMode?document.execCommand("undo"):this.board.undoManager.undo();}},{key:"KP",value:function KP(){return!(!this.Qs.textInputMode||!1!==this.board.textHud.inputMode)||this.board.undoManager.canUndo()&&!1===this.Qs.isPointerDown;}},{key:"tD",value:function tD(){this.Qs.textInputMode&&!1===this.board.textHud.inputMode?document.execCommand("redo"):this.board.undoManager.redo();}},{key:"JP",value:function JP(){return!(!this.Qs.textInputMode||!1!==this.board.textHud.inputMode)||this.board.undoManager.canRedo()&&!1===this.Qs.isPointerDown;}},{key:"XP",value:function(){var _XP=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee220(){var t,_e1891,_e1892,_i1695,_t2507,_e1893,_i1696;return regeneratorRuntime.wrap(function _callee220$(_context221){while(1){switch(_context221.prev=_context221.next){case 0:_context221.next=2;return this.Qs.openImageImportDialog();case 2:t=_context221.sent;if(!t){_context221.next=29;break;}if(!("svg"===t.extension||"svgz"===t.extension)){_context221.next=9;break;}_e1891=Ma(t.data);this.board.undoManager.checkpoint("Import"),this.board.insertArtwork(_e1891,"boardCenter");_context221.next=29;break;case 9:if(!("pdf"===t.extension||"ai"===t.extension)){_context221.next=23;break;}_e1892=null,_i1695=null;_context221.prev=11;_context221.next=14;return Ym(t.data);case 14:_e1892=_context221.sent;_context221.next=20;break;case 17:_context221.prev=17;_context221.t0=_context221["catch"](11);_i1695=_context221.t0;case 20:if(_i1695)this.Qs.openMessageDialog({buttons:["OK"],message:"Can't import file",detail:"ai"===t.extension?n:_i1695.message});else{_t2507=Ma(_e1892);this.board.undoManager.checkpoint("Import"),this.board.insertArtwork(_t2507,"boardCenter");}_context221.next=29;break;case 23:if(!["png","jpeg","jpg","gif","webp","avif"].includes(t.extension)){_context221.next=29;break;}_context221.next=26;return nu(t.data);case 26:_e1893=_context221.sent;_i1696=Ma(_e1893);this.board.undoManager.checkpoint("Import"),this.board.insertArtwork(_i1696,"boardCenter");case 29:case"end":return _context221.stop();}}},_callee220,this,[[11,17]]);}));function XP(){return _XP.apply(this,arguments);}return XP;}()},{key:"ZP",value:function(){var _ZP=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee221(){return regeneratorRuntime.wrap(function _callee221$(_context222){while(1){switch(_context222.prev=_context222.next){case 0:_context222.t0="export-panel"===this.primaryPanelsDock.value;if(!_context222.t0){_context222.next=5;break;}this.togglePrimaryPanel(null);_context222.next=5;return Qi(400);case 5:this.togglePrimaryPanel("export-panel");case 6:case"end":return _context222.stop();}}},_callee221,this);}));function ZP(){return _ZP.apply(this,arguments);}return ZP;}()},{key:"eD",value:function eD(){if(this.Qs.textInputMode)document.execCommand("copy");else{this.board.collectGarbage();var t=this.board.extractArtworkWithSelectedElements(),_e1894=this.Qs.getConfig("bx-markupsettings:indentation",2),_i1697=Qp(t,"html",_e1894),_s1001={"text/plain":_i1697,"text/html":_i1697,"image/svg+xml":Qp(t,"xml",_e1894)};this.Qs.setClipboardData(_s1001);}}},{key:"sD",value:function(){var _sD=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee222(){var t,_e1895,_i1698,_i1699,_i1700,_t2508,_i1701,_i1702;return regeneratorRuntime.wrap(function _callee222$(_context223){while(1){switch(_context223.prev=_context223.next){case 0:if(!this.Qs.textInputMode){_context223.next=4;break;}document.execCommand("paste");_context223.next=36;break;case 4:_context223.next=6;return this.Qs.getClipboardData();case 6:t=_context223.sent;if(!t){_context223.next=36;break;}_e1895=this.board.matches(":hover")?"pointer":"boardCenter";if(!(t["text/html"]&&iu(t["text/html"]))){_context223.next=15;break;}this.board.undoManager.checkpoint("Paste");_i1698=Ma(t["text/html"]);this.board.insertArtwork(_i1698,_e1895);_context223.next=36;break;case 15:if(!(t["text/plain"]&&iu(t["text/plain"]))){_context223.next=21;break;}this.board.undoManager.checkpoint("Paste");_i1699=Ma(t["text/plain"]);this.board.insertArtwork(_i1699,_e1895);_context223.next=36;break;case 21:if(!t["application/pdf"]){_context223.next=35;break;}_i1700=null;_context223.prev=23;_context223.next=26;return Ym(t["application/pdf"]);case 26:_i1700=_context223.sent;_context223.next=32;break;case 29:_context223.prev=29;_context223.t0=_context223["catch"](23);_i1700=null;case 32:if(_i1700){this.board.undoManager.checkpoint("Paste");_t2508=Ma(_i1700);this.board.insertArtwork(_t2508,_e1895);}_context223.next=36;break;case 35:if(t["image/png"]){this.board.undoManager.checkpoint("Paste");_i1701=t["image/png"];this.board.insertBitmap(_i1701,_e1895);}else if(t["text/plain"]){this.board.undoManager.checkpoint("Paste");_i1702=Ma("<svg><text style=\"font-size: 36; font-family: Roboto; white-space: pre;\">".concat(t["text/plain"],"</text></svg>\n          "));this.board.insertArtwork(_i1702,_e1895);}case 36:case"end":return _context223.stop();}}},_callee222,this,[[23,29]]);}));function sD(){return _sD.apply(this,arguments);}return sD;}()},{key:"iD",value:function iD(){if(this.Qs.textInputMode)document.execCommand("cut");else{this.board.undoManager.checkpoint("Cut"),this.eD();var t=Bi(this.board.outermostSelectedElements);t.reverse(),this.board.selectedElements=[];var _iterator1677=_createForOfIteratorHelper(t),_step1677;try{for(_iterator1677.s();!(_step1677=_iterator1677.n()).done;){var _e1896=_step1677.value;_e1896.remove();}}catch(err){_iterator1677.e(err);}finally{_iterator1677.f();}}}},{key:"lD",value:function lD(){if(this.board.undoManager.checkpoint("Delete"),0===this.board.outermostSelectedElements.length)"view-tool"===this.toolsDock.value&&this.board.currentWorkspace.hasAttribute("viewBox")&&this.board.currentWorkspace.removeAttribute("viewBox");else{var t=Bi(this.board.outermostSelectedElements);t.reverse(),this.board.selectedElements=[];var _iterator1678=_createForOfIteratorHelper(t),_step1678;try{for(_iterator1678.s();!(_step1678=_iterator1678.n()).done;){var _e1897=_step1678.value;_e1897.remove();}}catch(err){_iterator1678.e(err);}finally{_iterator1678.f();}}}},{key:"oD",value:function oD(){return 0!==this.board.outermostSelectedElements.length||!("view-tool"!==this.toolsDock.value||!this.board.currentWorkspace.hasAttribute("viewBox"));}},{key:"nD",value:function nD(){this.board.undoManager.checkpoint("Duplicate"),this.board.collectGarbage(),this.board.insertArtwork(this.board.extractArtworkWithSelectedElements(),"original"),this.board.transformHud.blink();}},{key:"qD",value:function(){var _qD=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee223(){var t,_e1898,_i1703,_s1002,_iterator1679,_step1679,_t2509,_e1899,_n714,_o552,_l411,_iterator1680,_step1680,_t2511,_iterator1681,_step1681,_t2512,_e1900,_i1705,_s1003,_i1704,_l412,_t2510,_iterator1682,_step1682,_t2513;return regeneratorRuntime.wrap(function _callee223$(_context224){while(1){switch(_context224.prev=_context224.next){case 0:if(!(!1===this.colorGrabber.grabbing)){_context224.next=9;break;}t=this.board;_e1898=[].concat(_toConsumableArray(t.linearGradientHud.selectedStops),_toConsumableArray(t.radialGradientHud.selectedStops));t.selectedTextRange;_context224.next=6;return this.colorGrabber.grab();case 6:_i1703=_context224.sent;_s1002=this.Qs.modKeys.shift?"stroke":"fill";if(null!==_i1703)if(_e1898.length>0){this.board.undoManager.checkpoint("Paint color");_iterator1679=_createForOfIteratorHelper(_e1898);try{for(_iterator1679.s();!(_step1679=_iterator1679.n()).done;){_t2509=_step1679.value;_t2509.style.stopColor=_i1703,ya("stop-color",_t2509);}}catch(err){_iterator1679.e(err);}finally{_iterator1679.f();}}else{_e1899=this.Hx();if(_e1899.length>0){this.board.undoManager.checkpoint("Paint color");_n714=_e1899.filter(function(t){return"text"===t.localName;}),_o552=t.selectedTextRange,_l411=[];_iterator1680=_createForOfIteratorHelper(_n714);try{for(_iterator1680.s();!(_step1680=_iterator1680.n()).done;){_t2511=_step1680.value;ci(_t2511,_o552);}}catch(err){_iterator1680.e(err);}finally{_iterator1680.f();}_iterator1681=_createForOfIteratorHelper(_e1899);try{for(_iterator1681.s();!(_step1681=_iterator1681.n()).done;){_t2512=_step1681.value;if("text"===_t2512.localName&&_t2512.querySelector("tspan")){_e1900=_t2512.querySelectorAll("tspan"),_i1705=ui(_o552,_t2512),_s1003=_i1705.length>0&&!_o552.collapsed?_i1705:_e1900;_l411.push.apply(_l411,_toConsumableArray(_s1003));}else _l411.push(_t2512);}}catch(err){_iterator1681.e(err);}finally{_iterator1681.f();}for(_i1704=0,_l412=_l411;_i1704<_l412.length;_i1704++){_t2510=_l412[_i1704];_t2510.style[_s1002]=_i1703,ya(_s1002,_t2510);}_iterator1682=_createForOfIteratorHelper(_n714);try{for(_iterator1682.s();!(_step1682=_iterator1682.n()).done;){_t2513=_step1682.value;pi(_t2513,_o552);}}catch(err){_iterator1682.e(err);}finally{_iterator1682.f();}}}case 9:case"end":return _context224.stop();}}},_callee223,this);}));function qD(){return _qD.apply(this,arguments);}return qD;}()},{key:"WD",value:function WD(){return this.Hx().length>0;}},{key:"tz",value:function tz(){var _this1067=this;return new Promise(/*#__PURE__*/function(){var _ref180=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee224(t){var _t2514,_e1901,_i1706,_iterator1683,_step1683,_s1004,_n715,_n716,_n717,_n718,_n719,_n720,_e1902;return regeneratorRuntime.wrap(function _callee224$(_context225){while(1){switch(_context225.prev=_context225.next){case 0:if(!_this1067.JD()){_context225.next=68;break;}_t2514=[],_e1901=_this1067.board.geometryPrecision,_i1706=Ki(function(){return _this1067.board.undoManager.checkpoint("Convert to path");});_iterator1683=_createForOfIteratorHelper(_this1067.board.selectedElements);_context225.prev=3;_iterator1683.s();case 5:if((_step1683=_iterator1683.n()).done){_context225.next=59;break;}_s1004=_step1683.value;if(!("rect"===_s1004.localName)){_context225.next=12;break;}_n715=da(_s1004,_e1901);_i1706(),_s1004.replaceWith(_n715),_t2514.push(_n715);_context225.next=57;break;case 12:if(!("circle"===_s1004.localName)){_context225.next=17;break;}_n716=ca(_s1004,_e1901);_i1706(),_s1004.replaceWith(_n716),_t2514.push(_n716);_context225.next=57;break;case 17:if(!("ellipse"===_s1004.localName)){_context225.next=22;break;}_n717=pa(_s1004,_e1901);_i1706(),_s1004.replaceWith(_n717),_t2514.push(_n717);_context225.next=57;break;case 22:if(!("line"===_s1004.localName)){_context225.next=27;break;}_n718=ua(_s1004,_e1901);_i1706(),_s1004.replaceWith(_n718),_t2514.push(_n718);_context225.next=57;break;case 27:if(!("polyline"===_s1004.localName)){_context225.next=32;break;}_n719=xa(_s1004,_e1901);_i1706(),_s1004.replaceWith(_n719),_t2514.push(_n719);_context225.next=57;break;case 32:if(!("polygon"===_s1004.localName)){_context225.next=37;break;}_n720=ba(_s1004,_e1901);_i1706(),_s1004.replaceWith(_n720),_t2514.push(_n720);_context225.next=57;break;case 37:if(!("path"===_s1004.localName)){_context225.next=41;break;}_s1004.hasAttribute("data-bx-shape")&&(_i1706(),_s1004.removeAttribute("data-bx-shape")),_t2514.push(_s1004);_context225.next=57;break;case 41:if(!("text"===_s1004.localName)){_context225.next=56;break;}if(!_this1067.board.fontsManager.canReplaceTextWithPaths(_s1004)){_context225.next=50;break;}_i1706();_context225.next=46;return _this1067.board.fontsManager.replaceTextWithPaths(_s1004,_this1067.board.geometryPrecision,_this1067.board.transformPrecision);case 46:_e1902=_context225.sent;_t2514=[].concat(_toConsumableArray(_t2514),_toConsumableArray(_e1902));_context225.next=54;break;case 50:_context225.next=52;return Qi(200);case 52:_this1067.Qs.openMessageDialog({message:"Can't convert selected text to path",detail:"To make this text convertable, you must set an embedded or Google font family on it using the Typography panel.",buttons:["Close"]});_t2514.push(_s1004);case 54:_context225.next=57;break;case 56:_t2514.push(_s1004);case 57:_context225.next=5;break;case 59:_context225.next=64;break;case 61:_context225.prev=61;_context225.t0=_context225["catch"](3);_iterator1683.e(_context225.t0);case 64:_context225.prev=64;_iterator1683.f();return _context225.finish(64);case 67:_this1067.board.selectedTextRange=null,_this1067.board.selectedElements=_t2514;case 68:t();case 69:case"end":return _context225.stop();}}},_callee224,null,[[3,61,64,67]]);}));return function(_x204){return _ref180.apply(this,arguments);};}());}},{key:"JD",value:function JD(){var t=!1;var _iterator1684=_createForOfIteratorHelper(this.board.selectedElements),_step1684;try{for(_iterator1684.s();!(_step1684=_iterator1684.n()).done;){var _e1903=_step1684.value;if("rect"===_e1903.localName||"circle"===_e1903.localName||"ellipse"===_e1903.localName||"line"===_e1903.localName||"polyline"===_e1903.localName||"polygon"===_e1903.localName||"text"===_e1903.localName)t=!0;else if("path"===_e1903.localName){if(!_e1903.hasAttribute("data-bx-shape")){t=!1;break;}t=!0;}}}catch(err){_iterator1684.e(err);}finally{_iterator1684.f();}return t;}},{key:"iz",value:function iz(){if(!1!==this.ez()){this.board.undoManager.checkpoint("Stroke to path");var _iterator1685=_createForOfIteratorHelper(this.board.selectedElements),_step1685;try{for(_iterator1685.s();!(_step1685=_iterator1685.n()).done;){var t=_step1685.value;if(x.includes(t.localName)){var _e1904=parseFloat(getComputedStyle(t).strokeWidth);if(_e1904>0){var _i1707=t.getPathData(),_s1005=this.board.geometryPrecision,_n721=ut(_i1707,_e1904,_s1005),_o553=getComputedStyle(t).stroke,_l413=zi("svg:path");_l413.setPathData(_n721),t.after(_l413),_l413.style.setProperty("fill",_o553),_l413.style.setProperty("stroke","none"),ya("fill",_l413),ya("stroke",_l413),t.hasAttribute("transform")&&_l413.setAttribute("transform",t.getAttribute("transform")),t.style.setProperty("stroke","none"),ya("stroke",t);}}}}catch(err){_iterator1685.e(err);}finally{_iterator1685.f();}}}},{key:"ez",value:function ez(){var _iterator1686=_createForOfIteratorHelper(this.board.selectedElements),_step1686;try{for(_iterator1686.s();!(_step1686=_iterator1686.n()).done;){var t=_step1686.value;if(x.includes(t.localName)){if(parseFloat(getComputedStyle(t).strokeWidth)>0)return!0;}}}catch(err){_iterator1686.e(err);}finally{_iterator1686.f();}return!1;}},{key:"dz",value:function dz(){if(!1!==this.rz()){this.board.undoManager.checkpoint("Open path");var _iterator1687=_createForOfIteratorHelper(this.board.selectedElements),_step1687;try{for(_iterator1687.s();!(_step1687=_iterator1687.n()).done;){var t=_step1687.value;"path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&rt(t);}}catch(err){_iterator1687.e(err);}finally{_iterator1687.f();}}}},{key:"rz",value:function rz(){var _iterator1688=_createForOfIteratorHelper(this.board.selectedElements),_step1688;try{for(_iterator1688.s();!(_step1688=_iterator1688.n()).done;){var t=_step1688.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&ct(t))return!0;}}catch(err){_iterator1688.e(err);}finally{_iterator1688.f();}return!1;}},{key:"pz",value:function pz(){if(!1!==this.cz()){this.board.undoManager.checkpoint("Close path");var _iterator1689=_createForOfIteratorHelper(this.board.selectedElements),_step1689;try{for(_iterator1689.s();!(_step1689=_iterator1689.n()).done;){var t=_step1689.value;"path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&dt(t);}}catch(err){_iterator1689.e(err);}finally{_iterator1689.f();}}}},{key:"cz",value:function cz(){var _iterator1690=_createForOfIteratorHelper(this.board.selectedElements),_step1690;try{for(_iterator1690.s();!(_step1690=_iterator1690.n()).done;){var t=_step1690.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&pt(t))return!0;}}catch(err){_iterator1690.e(err);}finally{_iterator1690.f();}return!1;}},{key:"xz",value:function xz(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;if(!1!==this.uz()){this.board.undoManager.checkpoint("Inset path");var _iterator1691=_createForOfIteratorHelper(this.board.selectedElements),_step1691;try{for(_iterator1691.s();!(_step1691=_iterator1691.n()).done;){var _e1905=_step1691.value;if("path"===_e1905.localName&&!1===_e1905.hasAttribute("data-bx-shape")){var _i1708=_e1905.getPathData(),_s1006=xt(_i1708,t,1,this.board.geometryPrecision);_e1905.setPathData(_s1006);}}}catch(err){_iterator1691.e(err);}finally{_iterator1691.f();}}}},{key:"uz",value:function uz(){var _iterator1692=_createForOfIteratorHelper(this.board.selectedElements),_step1692;try{for(_iterator1692.s();!(_step1692=_iterator1692.n()).done;){var t=_step1692.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape"))return!0;}}catch(err){_iterator1692.e(err);}finally{_iterator1692.f();}return!1;}},{key:"mz",value:function mz(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1.5;if(!1!==this.bz()){this.board.undoManager.checkpoint("Simplify path");var _iterator1693=_createForOfIteratorHelper(this.board.selectedElements),_step1693;try{for(_iterator1693.s();!(_step1693=_iterator1693.n()).done;){var _e1906=_step1693.value;if("path"===_e1906.localName&&!1===_e1906.hasAttribute("data-bx-shape")){var _i1709=_e1906.getPathData(),_s1007=bt(_i1709,t,this.board.geometryPrecision);_e1906.setPathData(_s1007);}}}catch(err){_iterator1693.e(err);}finally{_iterator1693.f();}}}},{key:"bz",value:function bz(){var _iterator1694=_createForOfIteratorHelper(this.board.selectedElements),_step1694;try{for(_iterator1694.s();!(_step1694=_iterator1694.n()).done;){var t=_step1694.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape"))return!0;}}catch(err){_iterator1694.e(err);}finally{_iterator1694.f();}return!1;}},{key:"fz",value:function fz(){if(!1!==this.gz()){this.board.undoManager.checkpoint("Complexify path");var _iterator1695=_createForOfIteratorHelper(this.board.selectedElements),_step1695;try{for(_iterator1695.s();!(_step1695=_iterator1695.n()).done;){var t=_step1695.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")){var _e1907=t.getPathData(),_i1710=mt(_e1907,this.board.geometryPrecision);t.setPathData(_i1710);}}}catch(err){_iterator1695.e(err);}finally{_iterator1695.f();}}}},{key:"gz",value:function gz(){var _iterator1696=_createForOfIteratorHelper(this.board.selectedElements),_step1696;try{for(_iterator1696.s();!(_step1696=_iterator1696.n()).done;){var t=_step1696.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape"))return!0;}}catch(err){_iterator1696.e(err);}finally{_iterator1696.f();}return!1;}},{key:"vz",value:function vz(){var _this1068=this;if(!1===this.wz())return;this.board.undoManager.checkpoint("Join nodes");var t=null,e=null,i=null,s=[],n=[],o=[];{var _l414=[];if(this.board.pathHud.selectedNodes[0].path===this.board.pathHud.selectedNodes[1].path){t=this.board.pathHud.selectedNodes[0].path,_l414=nt(t.getPathData({normalize:!0}));var _iterator1697=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1697;try{for(_iterator1697.s();!(_step1697=_iterator1697.n()).done;){var _t2515=_step1697.value;_l414[_t2515.index].selected=!0;}}catch(err){_iterator1697.e(err);}finally{_iterator1697.f();}}else{var _this$board$pathHud$s=this.board.pathHud.selectedNodes[0],_e1908=_this$board$pathHud$s.path,_i1711=_this$board$pathHud$s.index,_this$board$pathHud$s2=this.board.pathHud.selectedNodes[1],_s1008=_this$board$pathHud$s2.path,_n722=_this$board$pathHud$s2.index,_o554=Vt(_s1008,_e1908),_h302=nt(_e1908.getPathData({normalize:!0})),_a232=nt(_s1008.getPathData({normalize:!0}));_a232=ie(_a232,_o554,this.board.geometryPrecision);for(var _t2516=0;_t2516<_h302.length;_t2516+=1){_h302[_t2516].selected=_t2516===_i1711;}for(var _t2517=0;_t2517<_a232.length;_t2517+=1){_a232[_t2517].selected=_t2517===_n722;}t=_e1908,_l414=[].concat(_toConsumableArray(_h302),_toConsumableArray(_a232)),_s1008.remove();}var _iterator1698=_createForOfIteratorHelper(lt(_l414)),_step1698;try{for(_iterator1698.s();!(_step1698=_iterator1698.n()).done;){var _t2518=_step1698.value;var _l415=_t2518.filter(function(t){return t.selected;});2===_l415.length?(e=_t2518,n=_l415):1===_l415.length?null===e?(e=_t2518,n=_l415):(i=_t2518,o=_l415):0===_l415.length&&s.push.apply(s,_toConsumableArray(_t2518));}}catch(err){_iterator1698.e(err);}finally{_iterator1698.f();}}if(2===n.length){var _i1712=e[0],_n723=e[1],_o555=e[e.length-1],_l416=new DOMPoint(_i1712.values[0],_i1712.values[1]),_h303="C"===_o555.type?new DOMPoint(_o555.values[4],_o555.values[5]):new DOMPoint(_o555.values[0],_o555.values[1]),_a233=ze(_l416,_h303);{var _t2519=new X(_a233.x-_i1712.values[0],_a233.y-_i1712.values[1]);_i1712.values[0]+=_t2519.x,_i1712.values[1]+=_t2519.y,"C"===_n723.type&&e.length>2&&(_n723.values[0]+=_t2519.x,_n723.values[1]+=_t2519.y);}if("C"===_o555.type){var _t2520=new X(_a233.x-_o555.values[4],_a233.y-_o555.values[5]);_o555.values[4]+=_t2520.x,_o555.values[5]+=_t2520.y,e.length>2&&(_o555.values[2]+=_t2520.x,_o555.values[3]+=_t2520.y);}else if("L"===_o555.type){var _t2521=new X(_a233.x-_o555.values[0],_a233.y-_o555.values[1]);_o555.values[0]+=_t2521.x,_o555.values[1]+=_t2521.y;}var _r154=[].concat(_toConsumableArray(e),[{type:"Z",values:[]}],s);_r154.forEach(function(t){return t.values=t.values.map(function(t){return Z(t,_this1068.board.geometryPrecision);});}),t.setPathData(_r154),this.board.selectedElements=[t],this.board.pathHud.selectedNodes=[{path:t,index:e.length-1}];}else if(n[0]===e[e.length-1]){o[0]===i[i.length-1]&&(i=at(i));var _n724=e[e.length-1],_l417=i[0];if("C"===_n724.type){var _t2522=new DOMPoint(_n724.values[4],_n724.values[5]),_e1909=new DOMPoint(_l417.values[0],_l417.values[1]),_i1713=ze(_t2522,_e1909);_n724.values[4]=_i1713.x,_n724.values[5]=_i1713.y;}else{var _t2523=new DOMPoint(_n724.values[0],_n724.values[1]),_e1910=new DOMPoint(_l417.values[0],_l417.values[1]),_i1714=ze(_t2523,_e1910);_n724.values[0]=_i1714.x,_n724.values[1]=_i1714.y;}i.shift();var _h304=[].concat(_toConsumableArray(e),_toConsumableArray(i),s);_h304.forEach(function(t){return t.values=t.values.map(function(t){return Z(t,_this1068.board.geometryPrecision);});}),t.setPathData(_h304),this.board.selectedElements=[t],this.board.pathHud.selectedNodes=[{path:t,index:e.length-1}];}else if(n[0]===e[0]){o[0]===i[0]&&(i=at(i));var _n725=e[0],_l418=i[i.length-1];if("C"===_l418.type){var _t2524=new DOMPoint(_n725.values[0],_n725.values[1]),_e1911=new DOMPoint(_l418.values[4],_l418.values[5]),_i1715=ze(_t2524,_e1911);_l418.values[4]=_i1715.x,_l418.values[5]=_i1715.y;}else{var _t2525=new DOMPoint(_n725.values[0],_n725.values[1]),_e1912=new DOMPoint(_l418.values[0],_l418.values[1]),_i1716=ze(_t2525,_e1912);_l418.values[0]=_i1716.x,_l418.values[1]=_i1716.y;}e.shift();var _h305=[].concat(_toConsumableArray(i),_toConsumableArray(e),s);_h305.forEach(function(t){return t.values=t.values.map(function(t){return Z(t,_this1068.board.geometryPrecision);});}),t.setPathData(_h305),this.board.selectedElements=[t],this.board.pathHud.selectedNodes=[{path:t,index:i.length-1}];}}},{key:"wz",value:function wz(){if(2!==this.board.pathHud.selectedNodes.length)return!1;var _iterator1699=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1699;try{for(_iterator1699.s();!(_step1699=_iterator1699.n()).done;){var t=_step1699.value;var _e1913=t.path,_i1717=nt(_e1913.getPathData({normalize:!0}));for(var _e1914=t.index+1;_e1914<_i1717.length;_e1914+=1){if("Z"===_i1717[_e1914].type)return!1;if("M"===_i1717[_e1914].type)break;}{var _e1915=!!_i1717[t.index]&&"M"===_i1717[t.index].type,_s1009=!_i1717[t.index+1]||"M"===_i1717[t.index+1].type;if(!1===_e1915&&!1===_s1009)return!1;}}}catch(err){_iterator1699.e(err);}finally{_iterator1699.f();}return!0;}},{key:"_z",value:function _z(){var _this1069=this;if(!1===this.Sz())return;this.board.undoManager.checkpoint("Delete node");var t=ti(this.board.pathHud.selectedNodes.map(function(t){return t.path;}));var _iterator1700=_createForOfIteratorHelper(t),_step1700;try{var _loop58=function _loop58(){var e=_step1700.value;var t=nt(e.getPathData({normalize:!0}));_t(t);var i=_this1069.board.pathHud.selectedNodes.filter(function(t){return t.path===e;});i=i.sort(function(t,e){return e.index-t.index;});var s=i.filter(function(e){return"C"===t[e.index].type;}),n=i.filter(function(e){return"M"===t[e.index].type;});if(0!==i.length){var _iterator1701=_createForOfIteratorHelper(s),_step1701;try{var _loop59=function _loop59(){var e=_step1701.value;var i=t[e.index],s=t[e.index+1]||null,n=t[e.index-1]||null;if(null===s)t=t.filter(function(t){return t!==i;});else if("M"===s.type)t=t.filter(function(t){return t!==i;});else if("Z"===s.type){var _e1916=wt(i,t),_s1010=_e1916[0],_o556=_e1916[1];t=t.filter(function(t){return t!==i;}),"M"===n.type?(_s1010.values[0]=n.values[0],_s1010.values[1]=n.values[1]):"C"===n.type&&(_s1010.values[0]=n.values[4],_s1010.values[1]=n.values[5]),"C"===_o556.type&&(_o556.values[0]=i.values[0],_o556.values[1]=i.values[1]);}else"C"===s.type&&(t=t.filter(function(t){return t!==i;}),s.values[0]=i.values[0],s.values[1]=i.values[1]);};for(_iterator1701.s();!(_step1701=_iterator1701.n()).done;){_loop59();}}catch(err){_iterator1701.e(err);}finally{_iterator1701.f();}var _iterator1702=_createForOfIteratorHelper(n),_step1702;try{for(_iterator1702.s();!(_step1702=_iterator1702.n()).done;){var _e1917=_step1702.value;var _i1718=t[_e1917.index],_s1011=wt(_i1718,t);if(_s1011.length>1){(function(){var e=_s1011[0],i=_s1011[1];t=t.filter(function(t){return t!==i;}),"C"===i.type&&(e.values[0]=i.values[4],e.values[1]=i.values[5]);})();}}}catch(err){_iterator1702.e(err);}finally{_iterator1702.f();}var _iterator1703=_createForOfIteratorHelper(lt(t)),_step1703;try{for(_iterator1703.s();!(_step1703=_iterator1703.n()).done;){var _e1918=_step1703.value;var _i1719=_e1918.filter(function(t){return"C"===t.type;}),_s1012="Z"===_e1918[_e1918.length-1].type?2:1;if(_i1719.length<_s1012){var _iterator1705=_createForOfIteratorHelper(_e1918),_step1705;try{var _loop60=function _loop60(){var i=_step1705.value;t=t.filter(function(t){return t!==i;});};for(_iterator1705.s();!(_step1705=_iterator1705.n()).done;){_loop60();}}catch(err){_iterator1705.e(err);}finally{_iterator1705.f();}}}}catch(err){_iterator1703.e(err);}finally{_iterator1703.f();}Ct(t);var _iterator1704=_createForOfIteratorHelper(t),_step1704;try{for(_iterator1704.s();!(_step1704=_iterator1704.n()).done;){var _e1919=_step1704.value;_e1919.values=_e1919.values.map(function(t){return Z(t,_this1069.board.geometryPrecision);});}}catch(err){_iterator1704.e(err);}finally{_iterator1704.f();}e.setPathData(t),!1===e.hasAttribute("d")&&e.remove();}};for(_iterator1700.s();!(_step1700=_iterator1700.n()).done;){_loop58();}}catch(err){_iterator1700.e(err);}finally{_iterator1700.f();}this.board.pathHud.selectedNodes=[];}},{key:"Sz",value:function Sz(){return this.board.pathHud.selectedNodes.length>0;}},{key:"kz",value:function kz(){var _this1070=this;if(!1===this.yz())return;this.board.undoManager.checkpoint("Split node");var t=ti(this.board.pathHud.selectedNodes.map(function(t){return t.path;})),e=[];var _iterator1706=_createForOfIteratorHelper(t),_step1706;try{for(_iterator1706.s();!(_step1706=_iterator1706.n()).done;){var _i1720=_step1706.value;var _t2526=nt(_i1720.getPathData({normalize:!0})),_s1013=[];var _iterator1707=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1707;try{for(_iterator1707.s();!(_step1707=_iterator1707.n()).done;){var _e1920=_step1707.value;_e1920.path===_i1720&&(_t2526[_e1920.index].select=!0,_t2526[_e1920.index].split=!0);}}catch(err){_iterator1707.e(err);}finally{_iterator1707.f();}var _iterator1708=_createForOfIteratorHelper(lt(_t2526)),_step1708;try{for(_iterator1708.s();!(_step1708=_iterator1708.n()).done;){var _e1921=_step1708.value;if(void 0===_e1921.find(function(t){return t.split;}))_s1013.push.apply(_s1013,_toConsumableArray(_e1921));else{var _t2528=_e1921[0],_i1721=[];if("Z"!==_e1921[_e1921.length-1].type)for(var _t2529=0;_t2529<_e1921.length;_t2529+=1){var _s1014=_e1921[_t2529],_n727=_e1921[_t2529+1]||null;_i1721.push(_s1014),!0===_s1014.split&&_n727&&("C"===_s1014.type?_i1721.push({type:"M",values:[_s1014.values[4],_s1014.values[5]]}):"L"===_s1014.type&&_i1721.push({type:"M",values:[_s1014.values[0],_s1014.values[1]]}));}else{{var _i1722=[];for(var _s1015=0;_s1015<_e1921.length;_s1015+=1){var _n728=_e1921[_s1015];if(_n728.split){"L"===_n728.type?_i1722.push({type:"M",values:[_n728.values[0],_n728.values[1]],select:!0}):"C"===_n728.type&&_i1722.push({type:"M",values:[_n728.values[4],_n728.values[5]],select:!0});for(var _n729=_s1015+1;_n729<_e1921.length;_n729+=1){var _s1016=_e1921[_n729];"Z"===_s1016.type?_i1722.push({type:"L",values:[_t2528.values[0],_t2528.values[1]]}):_i1722.push(_s1016);}for(var _t2530=0;_t2530<=_s1015;_t2530+=1){var _s1017=_e1921[_t2530];"M"!==_s1017.type&&_i1722.push(_s1017);}break;}}_e1921=_i1722;}for(var _t2531=0;_t2531<_e1921.length;_t2531+=1){var _s1018=_e1921[_t2531],_n730=_e1921[_t2531+1]||null;!0===_s1018.split?(_i1721.push(_s1018),_n730?"C"===_s1018.type?_i1721.push({type:"M",values:[_s1018.values[4],_s1018.values[5]]}):"L"===_s1018.type&&_i1721.push({type:"M",values:[_s1018.values[0],_s1018.values[1]]}):_s1018.select=!1):_i1721.push(_s1018);}}_s1013.push.apply(_s1013,_i1721);}}}catch(err){_iterator1708.e(err);}finally{_iterator1708.f();}for(var _t2527=0;_t2527<_s1013.length;_t2527+=1){var _n726=_s1013[_t2527];_n726.values=_n726.values.map(function(t){return Z(t,_this1070.board.geometryPrecision);}),_n726.select&&e.push({path:_i1720,index:_t2527});}_i1720.setPathData(_s1013);}}catch(err){_iterator1706.e(err);}finally{_iterator1706.f();}this.board.pathHud.selectedNodes=e;}},{key:"yz",value:function yz(){var t=ti(this.board.pathHud.selectedNodes.map(function(t){return t.path;}));var _iterator1709=_createForOfIteratorHelper(t),_step1709;try{for(_iterator1709.s();!(_step1709=_iterator1709.n()).done;){var _e1922=_step1709.value;var _t2532=nt(_e1922.getPathData({normalize:!0}));var _iterator1710=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1710;try{for(_iterator1710.s();!(_step1710=_iterator1710.n()).done;){var _i1723=_step1710.value;if(_i1723.path===_e1922){var _e1923=_t2532[_i1723.index],_s1019=_t2532[_i1723.index+1];if("M"!==_e1923.type&&_s1019&&"M"!==_s1019.type)return!0;}}}catch(err){_iterator1710.e(err);}finally{_iterator1710.f();}}}catch(err){_iterator1709.e(err);}finally{_iterator1709.f();}return!1;}},{key:"Mz",value:function Mz(){var _this1071=this;if(!1===this.Cz())return;this.board.undoManager.checkpoint("Break node");var t=ti(this.board.pathHud.selectedNodes.map(function(t){return t.path;})),e=[];var _iterator1711=_createForOfIteratorHelper(t),_step1711;try{for(_iterator1711.s();!(_step1711=_iterator1711.n()).done;){var _i1724=_step1711.value;var _t2533=nt(_i1724.getPathData({normalize:!0})),_s1020=[];var _iterator1712=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1712;try{for(_iterator1712.s();!(_step1712=_iterator1712.n()).done;){var _e1924=_step1712.value;_e1924.path===_i1724&&(_t2533[_e1924.index].select=!0,_t2533[_e1924.index]["break"]=!0);}}catch(err){_iterator1712.e(err);}finally{_iterator1712.f();}var _iterator1713=_createForOfIteratorHelper(lt(_t2533)),_step1713;try{for(_iterator1713.s();!(_step1713=_iterator1713.n()).done;){var _e1925=_step1713.value;if(0===_e1925.filter(function(t){return t.select;}).length)_s1020.push.apply(_s1020,_toConsumableArray(_e1925));else{var _t2535=_e1925[0],_i1725=[];if("Z"!==_e1925[_e1925.length-1].type)for(var _t2536=0;_t2536<_e1925.length;_t2536+=1){var _s1021=_e1925[_t2536],_n732=(_e1925[_t2536-1],_e1925[_t2536+1]||null),_o557=_e1925[_t2536+2]||null;_i1725.push(_s1021),!0===_s1021["break"]&&("M"===_s1021.type?("C"===_n732.type?_i1725.push({type:"M",values:[_n732.values[4],_n732.values[5]]}):"L"===_n732.type&&_i1725.push({type:"M",values:[_n732.values[0],_n732.values[1]]}),_t2536+=1):"C"!==_s1021.type&&"L"!==_s1021.type||(_o557&&("C"===_n732.type?_i1725.push({type:"M",values:[_n732.values[4],_n732.values[5]],select:!0}):"L"===_n732.type&&_i1725.push({type:"M",values:[_n732.values[0],_n732.values[1]],select:!0})),_t2536+=1));}else for(var _s1022=0;_s1022<_e1925.length;_s1022+=1){var _n733=_e1925[_s1022];if(_n733["break"]){var _o558=_e1925[_s1022+1];_e1925[_s1022-1];if(_o558["break"]){"L"===_o558.type?_i1725.push({type:"M",values:[_o558.values[0],_o558.values[1]],select:!0}):"C"===_o558.type&&_i1725.push({type:"M",values:[_o558.values[4],_o558.values[5]],select:!0});for(var _n734=_s1022+2;_n734<_e1925.length;_n734+=1){_e1925[_n734-1];var _s1023=_e1925[_n734];if("Z"===_s1023.type){var _e1926=_i1725[_i1725.length-1];"L"===_e1926.type?_e1926.values[0]===_t2535.values[0]&&_e1926.values[1]===_t2535.values[1]||_i1725.push({type:"L",values:[_t2535.values[0],_t2535.values[1]]}):"C"===_e1926.type&&(_e1926.values[4]===_t2535.values[0]&&_e1926.values[5]===_t2535.values[1]||_i1725.push({type:"L",values:[_t2535.values[0],_t2535.values[1]]}));}else _s1023.select=!1,_i1725.push(_s1023);}for(var _t2537=0;_t2537<=_s1022;_t2537+=1){var _n735=_e1925[_t2537];_n735.select=_t2537===_s1022,"M"!==_n735.type&&_i1725.push(_n735);}}else{"L"===_n733.type?_i1725.push({type:"M",values:[_n733.values[0],_n733.values[1]],select:!0}):"C"===_n733.type&&_i1725.push({type:"M",values:[_n733.values[4],_n733.values[5]],select:!0});for(var _t2538=_s1022+1;_t2538<_e1925.length;_t2538+=1){var _n736=_e1925[_t2538];"Z"!==_n736.type&&(_n736.select=_s1022===_e1925.length-2,_i1725.push(_n736));}_i1725[_i1725.length-1].select=!0;}break;}}_s1020.push.apply(_s1020,_i1725);}}}catch(err){_iterator1713.e(err);}finally{_iterator1713.f();}for(var _t2534=0;_t2534<_s1020.length;_t2534+=1){var _n731=_s1020[_t2534];_n731.values=_n731.values.map(function(t){return Z(t,_this1071.board.geometryPrecision);}),_n731.select&&e.push({path:_i1724,index:_t2534});}_i1724.setPathData(_s1020);}}catch(err){_iterator1711.e(err);}finally{_iterator1711.f();}this.board.pathHud.selectedNodes=e;}},{key:"Cz",value:function Cz(){var t=ti(this.board.pathHud.selectedNodes.map(function(t){return t.path;})),e=!1;var _iterator1714=_createForOfIteratorHelper(t),_step1714;try{for(_iterator1714.s();!(_step1714=_iterator1714.n()).done;){var _i1726=_step1714.value;var _t2539=nt(_i1726.getPathData({normalize:!0}));var _iterator1715=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1715;try{for(_iterator1715.s();!(_step1715=_iterator1715.n()).done;){var _e1927=_step1715.value;_e1927.path===_i1726&&(_t2539[_e1927.index].selected=!0);}}catch(err){_iterator1715.e(err);}finally{_iterator1715.f();}var _iterator1716=_createForOfIteratorHelper(lt(_t2539)),_step1716;try{for(_iterator1716.s();!(_step1716=_iterator1716.n()).done;){var _i1727=_step1716.value;var _t2540=_i1727.filter(function(t){return t.selected;});if(2===_t2540.length){var _t2541=null,_s1024=null,_n737="Z"===_i1727[_i1727.length-1].type;for(var _e1928=0;_e1928<_i1727.length;_e1928+=1){_i1727[_e1928].selected&&(null===_t2541?_t2541=_e1928:_s1024=_e1928);}if(_t2541===_s1024-1){e=!0;continue;}if(_n737&&1===_t2541&&_s1024===_i1727.length-2){e=!0;continue;}return!1;}if(0!==_t2540.length)return!1;}}catch(err){_iterator1716.e(err);}finally{_iterator1716.f();}}}catch(err){_iterator1714.e(err);}finally{_iterator1714.f();}return e;}},{key:"QD",value:function QD(){if(!1!==this.KD()){this.board.undoManager.checkpoint("Reverse");var _iterator1717=_createForOfIteratorHelper(this.board.selectedElements),_step1717;try{for(_iterator1717.s();!(_step1717=_iterator1717.n()).done;){var t=_step1717.value;"path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&ht(t);}}catch(err){_iterator1717.e(err);}finally{_iterator1717.f();}}}},{key:"KD",value:function KD(){var _iterator1718=_createForOfIteratorHelper(this.board.selectedElements),_step1718;try{for(_iterator1718.s();!(_step1718=_iterator1718.n()).done;){var t=_step1718.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape"))return!0;}}catch(err){_iterator1718.e(err);}finally{_iterator1718.f();}return!1;}},{key:"ZD",value:function ZD(){if(!1!==this.XD()){this.board.undoManager.checkpoint("Reorient");var _iterator1719=_createForOfIteratorHelper(this.board.selectedElements),_step1719;try{for(_iterator1719.s();!(_step1719=_iterator1719.n()).done;){var t=_step1719.value;"path"===t.localName?t.hasAttribute("transform")&&!1===t.hasAttribute("data-bx-shape")&&mh(t,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision,preserveRotation:!1}):["line","polygon","polyline","circle"].includes(t.localName)&&mh(t,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision,preserveRotation:!1});}}catch(err){_iterator1719.e(err);}finally{_iterator1719.f();}}}},{key:"XD",value:function XD(){var _iterator1720=_createForOfIteratorHelper(this.board.selectedElements),_step1720;try{for(_iterator1720.s();!(_step1720=_iterator1720.n()).done;){var t=_step1720.value;if("path"===t.localName){if(t.hasAttribute("transform")&&!1===t.hasAttribute("data-bx-shape"))return!0;}else if(["line","polygon","polyline","circle"].includes(t.localName))return t.hasAttribute("transform");}}catch(err){_iterator1720.e(err);}finally{_iterator1720.f();}return!1;}},{key:"lz",value:function lz(){if(!1===this.oz())return;this.board.undoManager.checkpoint("Join paths");var _this$board$selectedE=_toArray(this.board.selectedElements),t=_this$board$selectedE[0],e=_this$board$selectedE.slice(1),i=[];var _iterator1721=_createForOfIteratorHelper(this.board.selectedElements),_step1721;try{for(_iterator1721.s();!(_step1721=_iterator1721.n()).done;){var _e1929=_step1721.value;var _s1025=void 0;"rect"===_e1929.localName?_s1025=da(_e1929,this.board.geometryPrecision):"circle"===_e1929.localName?_s1025=ca(_e1929):"ellipse"===_e1929.localName?_s1025=pa(_e1929):"line"===_e1929.localName?_s1025=ua(_e1929):"polyline"===_e1929.localName?_s1025=xa(_e1929):"polygon"===_e1929.localName?_s1025=ba(_e1929):"path"===_e1929.localName&&(_s1025=_e1929.cloneNode(),_s1025.removeAttribute("data-bx-shape"));var _n738=Vt(_e1929,t.parentElement).toString();_s1025.setAttribute("transform",_n738),_s1025.setPathData(_s1025.getPathData({normalize:!0})),mh(_s1025,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision,preserveRotation:!1}),i.push(_s1025);}}catch(err){_iterator1721.e(err);}finally{_iterator1721.f();}var s=i[0],n=i.slice(1),o=s.getPathData();var _iterator1722=_createForOfIteratorHelper(n),_step1722;try{for(_iterator1722.s();!(_step1722=_iterator1722.n()).done;){var _t2542=_step1722.value;var _e1930=_t2542.getPathData();o=[].concat(_toConsumableArray(o),_toConsumableArray(_e1930));}}catch(err){_iterator1722.e(err);}finally{_iterator1722.f();}s.setPathData(o),t.replaceWith(s);var _iterator1723=_createForOfIteratorHelper(e),_step1723;try{for(_iterator1723.s();!(_step1723=_iterator1723.n()).done;){var _t2543=_step1723.value;_t2543.remove();}}catch(err){_iterator1723.e(err);}finally{_iterator1723.f();}this.board.selectedElements=[s];}},{key:"oz",value:function oz(){if(this.board.selectedElements.length<2)return!1;var t=["rect","circle","ellipse","line","polygon","polyline","path"];var _iterator1724=_createForOfIteratorHelper(this.board.selectedElements),_step1724;try{for(_iterator1724.s();!(_step1724=_iterator1724.n()).done;){var _e1931=_step1724.value;if(!1===t.includes(_e1931.localName))return!1;}}catch(err){_iterator1724.e(err);}finally{_iterator1724.f();}return!0;}},{key:"az",value:function az(){if(!1===this.hz())return;this.board.undoManager.checkpoint("Break Apart");var _this$board$selectedE2=_toArray(this.board.selectedElements),t=_this$board$selectedE2[0],e=_this$board$selectedE2.slice(1),i=[];var _iterator1725=_createForOfIteratorHelper(this.board.selectedElements),_step1725;try{for(_iterator1725.s();!(_step1725=_iterator1725.n()).done;){var _t2544=_step1725.value;if("path"===_t2544.localName){var _e1932=nt(_t2544.getPathData({normalize:!0})),_s1026=lt(_e1932);if(_s1026.length>1){var _s1027=_toArray(_s1026),_e1933=_s1027[0],_n739=_s1027.slice(1),_o559=_t2544;_o559.setPathData(_e1933),i.push(_o559);var _iterator1726=_createForOfIteratorHelper(_n739),_step1726;try{for(_iterator1726.s();!(_step1726=_iterator1726.n()).done;){var _t2545=_step1726.value;var _e1934=_o559.cloneNode();_e1934.setPathData(_t2545),_o559.after(_e1934),i.push(_e1934);for(var _i1728=0,_arr89=["fill","stroke"];_i1728<_arr89.length;_i1728++){var _t2546=_arr89[_i1728];var _i1729=Xo(_e1934,_t2546);if(_i1729)if("linearGradient"===_i1729.localName||"radialGradient"===_i1729.localName){var _s1028=_i1729,_n740=yo(_s1028);if(_n740){var _i1730=_s1028.cloneNode();_i1730.id=this.board.generateUniqueID("gradient"),_i1730.setAttribute("href","#"+_n740.id),_s1028.after(_i1730),_e1934.style.setProperty(_t2546,"url(\"#".concat(_i1730.id,"\")"));}else{var _i1731=_s1028.cloneNode(!0);_i1731.id=this.board.generateUniqueID("gradient"),_s1028.after(_i1731),_e1934.style.setProperty(_t2546,"url(\"#".concat(_i1731.id,"\")"));}}else if("pattern"===_i1729.localName){var _s1029=_i1729;if(_s1029.hasAttribute("href")){var _i1732=Fo(_s1029),_n741=_s1029.cloneNode();_n741.id=this.board.generateUniqueID(_i1732.id),_s1029.after(_n741),_e1934.style.setProperty(_t2546,"url(\"#".concat(_n741.id,"\")"));}else{var _i1733=zi("svg:pattern");_i1733.id=this.board.generateUniqueID(_s1029.id),_i1733.setAttribute("href","#"+_s1029.id),_s1029.after(_i1733),_e1934.style.setProperty(_t2546,"url(\"#".concat(_i1733.id,"\")"));}}}}}catch(err){_iterator1726.e(err);}finally{_iterator1726.f();}}else i.push(_t2544);}else i.push(_t2544);}}catch(err){_iterator1725.e(err);}finally{_iterator1725.f();}this.board.selectedElements=i;}},{key:"hz",value:function hz(){var _iterator1727=_createForOfIteratorHelper(this.board.selectedElements),_step1727;try{for(_iterator1727.s();!(_step1727=_iterator1727.n()).done;){var t=_step1727.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")){var _e1935=nt(t.getPathData({normalize:!0}));if(lt(_e1935).length>1)return!0;}}}catch(err){_iterator1727.e(err);}finally{_iterator1727.f();}return!1;}},{key:"nz",value:function(){var _nz=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee225(t){var _this$board,e,i,_this$board$outermost5,_i1734,_s1030,_n742,_o560,_l419,_h306,_a234,_e1936,_n743,_l420,_t2547,_l421,_r155,_d122,_c93,_p81,_s1031,_n744,_this$board$outermost6,_s1032,_n745,_o561,_iterator1728,_step1728,_t2548,_n746,_l423,_l422,_h307,_iterator1729,_step1729,_i1735,_s1033,_n747,_o562,_iterator1730,_step1730,_t2549;return regeneratorRuntime.wrap(function _callee225$(_context226){while(1){switch(_context226.prev=_context226.next){case 0:if(!(!1===this.sz(t))){_context226.next=2;break;}return _context226.abrupt("return");case 2:this.board.undoManager.checkpoint(ni(t));_this$board=this.board,e=_this$board.geometryPrecision,i=_this$board.transformPrecision;if(!("image"===this.board.outermostSelectedElements[0].localName)){_context226.next=29;break;}_this$board$outermost5=_slicedToArray(this.board.outermostSelectedElements,2),_i1734=_this$board$outermost5[0],_s1030=_this$board$outermost5[1],_n742=document.createElement("canvas"),_o560=_n742.getContext("2d"),_l419=new Image();_l419.setAttribute("src",_i1734.getAttribute("href"));_context226.next=9;return new Promise(function(t){return _l419.onload=t;});case 9:_h306=_l419.naturalWidth/_i1734.width.baseVal.value,_a234=_l419.naturalHeight/_i1734.height.baseVal.value;_n742.width=_l419.naturalWidth,_n742.height=_l419.naturalHeight,_o560.imageSmoothingEnabled=!1,_o560.drawImage(_l419,0,0,_l419.naturalWidth,_l419.naturalHeight);_e1936=new DOMMatrix();_e1936=_e1936.scale(_h306,_a234),_e1936=_e1936.translate(-_i1734.x.baseVal.value,-_i1734.y.baseVal.value),_e1936=_e1936.multiply(Vt(_s1030,_i1734));_n743=_s1030.getPathData({normalize:!0});_n743=ie(_n743,_e1936),_n743.forEach(function(t){return t.values=t.values.map(function(t){return Z(t,0);});});_l420=new Path2D(et(_n743));"subtract"===t?_o560.globalCompositeOperation="destination-out":"intersect"===t&&(_o560.globalCompositeOperation="destination-in"),_o560.imageSmoothingEnabled=!1,_o560.fillStyle="black",_o560.fill(_l420);_t2547=Wa(_n742);_l421=_o560.getImageData(0,0,_n742.width,_n742.height);_r155=UPNG.encode([_l421.data.buffer],_l421.width,_l421.height,0);_d122=new Uint8Array(_r155);_c93=new Blob([_d122],{type:"image/png"});_context226.next=24;return Na(_c93);case 24:_p81=_context226.sent;if(_i1734.setAttribute("href",_p81),_i1734.setAttribute("width",_n742.width/_h306),_i1734.setAttribute("height",_n742.height/_a234),_t2547){_s1031=_i1734.x.baseVal.value+_t2547.x/_h306,_n744=_i1734.y.baseVal.value+_t2547.y/_a234;_i1734.setAttribute("x",Z(_s1031,e)),_i1734.setAttribute("y",Z(_n744,e));}_s1030.remove(),this.board.selectedElements=[_i1734],_i1734.parentElement===this.board.currentWorkspace?this.board.currentContainer=null:this.board.currentContainer=_i1734.parentElement;_context226.next=39;break;case 29:_this$board$outermost6=_toArray(this.board.outermostSelectedElements),_s1032=_this$board$outermost6[0],_n745=_this$board$outermost6.slice(1),_o561=[];_iterator1728=_createForOfIteratorHelper(this.board.outermostSelectedElements);try{for(_iterator1728.s();!(_step1728=_iterator1728.n()).done;){_t2548=_step1728.value;_n746=void 0;"rect"===_t2548.localName?_n746=da(_t2548,this.board.geometryPrecision):"circle"===_t2548.localName?_n746=ca(_t2548):"ellipse"===_t2548.localName?_n746=pa(_t2548):"line"===_t2548.localName?_n746=ua(_t2548):"polyline"===_t2548.localName?_n746=xa(_t2548):"polygon"===_t2548.localName?_n746=ba(_t2548):"path"===_t2548.localName&&(_n746=_t2548.cloneNode(),_n746.hasAttribute("data-bx-shape")&&_n746.removeAttribute("data-bx-shape"));_l423=Vt(_t2548,_s1032.parentElement).toString();_n746.setAttribute("transform",_l423),_n746.setPathData(_n746.getPathData({normalize:!0})),mh(_n746,{geometryPrecision:e,transformPrecision:i,preserveRotation:!1}),_o561.push(_n746);}}catch(err){_iterator1728.e(err);}finally{_iterator1728.f();}_l422=_o561[0],_h307=_o561.slice(1);_iterator1729=_createForOfIteratorHelper(_h307);try{for(_iterator1729.s();!(_step1729=_iterator1729.n()).done;){_i1735=_step1729.value;_s1033=_l422.getPathData(),_n747=_i1735.getPathData(),_o562=[];"unite"===t?_o562=Ka(_s1033,_n747,e):"subtract"===t?_o562=Qa(_s1033,_n747,e):"intersect"===t?_o562=Ja(_s1033,_n747,e):"exclude"===t&&(_o562=tr(_s1033,_n747,e)),_l422.setPathData(_o562);}}catch(err){_iterator1729.e(err);}finally{_iterator1729.f();}_l422.hasAttribute("d")?(_s1032.replaceWith(_l422),_l422.removeAttribute("data-bx-origin")):_s1032.remove();_iterator1730=_createForOfIteratorHelper(_n745);try{for(_iterator1730.s();!(_step1730=_iterator1730.n()).done;){_t2549=_step1730.value;_t2549.remove();}}catch(err){_iterator1730.e(err);}finally{_iterator1730.f();}_l422.hasAttribute("d")?this.board.selectedElements=[_l422]:this.board.selectedElements=[];case 39:case"end":return _context226.stop();}}},_callee225,this);}));function nz(_x205){return _nz.apply(this,arguments);}return nz;}()},{key:"sz",value:function sz(t){return this.Ez(t)||this.Tz(t);}},{key:"Ez",value:function Ez(t){if(this.board.outermostSelectedElements.length<2)return!1;var _iterator1731=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1731;try{for(_iterator1731.s();!(_step1731=_iterator1731.n()).done;){var _t2550=_step1731.value;if(!1===x.includes(_t2550.localName))return!1;}}catch(err){_iterator1731.e(err);}finally{_iterator1731.f();}return!0;}},{key:"Tz",value:function Tz(t){var _this$board$outermost7=_toArray(this.board.outermostSelectedElements),e=_this$board$outermost7[0],i=_this$board$outermost7.slice(1);return("subtract"===t||"intersect"===t)&&!(!e||"image"!==e.localName)&&1===i.length&&!1!==x.includes(i[0].localName);}},{key:"Hx",value:function Hx(){var t=["circle","ellipse","line","path","polygon","polyline","rect","text","use"],e=[],i=function i(s){var _iterator1732=_createForOfIteratorHelper(s),_step1732;try{for(_iterator1732.s();!(_step1732=_iterator1732.n()).done;){var _n748=_step1732.value;t.includes(_n748.localName)?e.push(_n748):"g"!==_n748.localName&&"a"!==_n748.localName||i(_n748.children);}}catch(err){_iterator1732.e(err);}finally{_iterator1732.f();}};return i(this.board.outermostSelectedElements),e;}}]);return rw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(rw,"_shadowTemplate",Yi(_templateObject523()));_defineProperty(rw,"_shadowStyleSheet",Wi(_templateObject524()));customElements.define("bx-editor",rw);var dw=/*#__PURE__*/function(_HTMLElement138){_inherits(dw,_HTMLElement138);var _super229=_createSuper(dw);_createClass(dw,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function dw(){var _this1072;_classCallCheck(this,dw);_this1072=_super229.call(this),_this1072._shadowRoot=_this1072.attachShadow({mode:"closed"}),_this1072._shadowRoot.append(document.importNode(_this1072.constructor._shadowTemplate.content,!0)),_this1072._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,dw._shadowStyleSheet,_this1072.constructor._shadowStyleSheet];var _iterator1733=_createForOfIteratorHelper(_this1072._shadowRoot.querySelectorAll("[id]")),_step1733;try{for(_iterator1733.s();!(_step1733=_iterator1733.n()).done;){var t=_step1733.value;_this1072["#"+t.id]=t;}}catch(err){_iterator1733.e(err);}finally{_iterator1733.f();}_this1072.setAttribute("extends","bx-appsettings");return _this1072;}_createClass(dw,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){}},{key:"sn",value:function sn(){}}]);return dw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(dw,"observedAttributes",["enabled"]);_defineProperty(dw,"_shadowStyleSheet",Wi(_templateObject525()));var cw=/*#__PURE__*/function(_dw){_inherits(cw,_dw);var _super230=_createSuper(cw);function cw(){var _this1073;_classCallCheck(this,cw);_this1073=_super230.call(this),_this1073["#hardware-acceleration-checkbox"].addEventListener("toggle",function(){_this1073.Qs.hardwareAcceleration=_this1073["#hardware-acceleration-checkbox"].toggled;}),_this1073["#recent-files-select"].addEventListener("change",function(){var t=parseInt(_this1073["#recent-files-select"].value);_this1073.Qs.setConfig("bx-generalsettings:maxRecentFiles",t),_this1073.Qs.clearExcessiveRecentFiles&&_this1073.Qs.clearExcessiveRecentFiles(t);});return _this1073;}_createClass(cw,[{key:"tn",value:function tn(){this.qs();}},{key:"qs",value:function(){var _qs8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee226(){var t,e,i;return regeneratorRuntime.wrap(function _callee226$(_context227){while(1){switch(_context227.prev=_context227.next){case 0:_context227.next=2;return this.Qs.hardwareAcceleration;case 2:t=_context227.sent;e=this.Qs.getConfig("bx-generalsettings:maxRecentFiles",5);i=this.Qs.matches("bx-webapp, bx-portalapp");this["#hardware-acceleration-section"].hidden=i,this["#hardware-acceleration-checkbox"].toggled=t,this["#recent-files-section"].hidden=!i,this["#recent-files-select"].value=e+"",this["#hr-1"].hidden=this["#hardware-acceleration-section"].hidden||this["#recent-files-section"].hidden;case 6:case"end":return _context227.stop();}}},_callee226,this);}));function qs(){return _qs8.apply(this,arguments);}return qs;}()}]);return cw;}(dw);_defineProperty(cw,"_shadowTemplate",Yi(_templateObject526()));_defineProperty(cw,"_shadowStyleSheet",Wi(_templateObject527()));customElements.define("bx-generalsettings",cw);var pw=/*#__PURE__*/function(_dw2){_inherits(pw,_dw2);var _super231=_createSuper(pw);function pw(){var _this1074;_classCallCheck(this,pw);_this1074=_super231.call(this),_this1074["#theme-select"].addEventListener("change",function(){return _this1074.Az();}),_this1074["#color-scheme-select"].addEventListener("change",function(){return _this1074.$z();}),_this1074["#accent-color-preset-select"].addEventListener("change",function(t){return _this1074.Iz(t);}),_this1074["#accent-color-select"].addEventListener("changestart",function(t){return _this1074.Lz(t);}),_this1074["#widgets-size-select"].addEventListener("change",function(){return _this1074.Bz();}),_this1074["#show-install-button-checkbox"].addEventListener("toggle",function(){_this1074.Qs.setConfig("bx-uisettings:showInstallButton",_this1074["#show-install-button-checkbox"].toggled);}),_this1074["#show-cloud-button-checkbox"].addEventListener("toggle",function(){_this1074.Qs.setConfig("bx-uisettings:showCloudButton",_this1074["#show-cloud-button-checkbox"].toggled);}),_this1074["#show-profile-button-checkbox"].addEventListener("toggle",function(){_this1074.Qs.setConfig("bx-uisettings:showProfileButton",_this1074["#show-profile-button-checkbox"].toggled);}),_this1074["#show-dock-tooltips-checkbox"].addEventListener("toggle",function(){_this1074.Qs.setConfig("bx-uisettings:showDockTooltips",_this1074["#show-dock-tooltips-checkbox"].toggled);}),_this1074["#limit-scrollable-area-checkbox"].addEventListener("toggle",function(){_this1074.Qs.setConfig("bx-uisettings:limitScrollableArea",_this1074["#limit-scrollable-area-checkbox"].toggled);}),_this1074["#show-view-outline-above-objects-checkbox"].addEventListener("toggle",function(){_this1074.Qs.setConfig("bx-uisettings:showViewOutlineAboveObjects",_this1074["#show-view-outline-above-objects-checkbox"].toggled);});return _this1074;}_createClass(pw,[{key:"tn",value:function(){var _tn3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee227(){var _this1075=this;return regeneratorRuntime.wrap(function _callee227$(_context228){while(1){switch(_context228.prev=_context228.next){case 0:_context228.next=2;return $s.whenThemeReady;case 2:this.qs();this.Rz=window.matchMedia("(prefers-color-scheme: dark)");this.Qs.addEventListener("userchange",this.Gz=function(){return _this1075.qs();});this.Qs.addEventListener("installedchange",this.Fz=function(){return _this1075.qs();});this.Rz.addEventListener("change",this.Uz=function(){return _this1075.qs();});$s.addEventListener("themechange",this.Nz=function(){return _this1075.qs();});$s.addEventListener("accentcolorchange",this.Vz=function(){return _this1075.qs();});case 9:case"end":return _context228.stop();}}},_callee227,this);}));function tn(){return _tn3.apply(this,arguments);}return tn;}()},{key:"sn",value:function sn(){this.Qs.removeEventListener("userchange",this.Gz),this.Qs.removeEventListener("installedchange",this.Fz),this.Rz.removeEventListener("change",this.Uz),$s.removeEventListener("themechange",this.Nz),$s.removeEventListener("accentcolorchange",this.Vz);}},{key:"Az",value:function Az(){this.Qs.setConfig("bx-uisettings:theme",this["#theme-select"].value);}},{key:"$z",value:function $z(){var t=this["#color-scheme-select"].value;"bx-macapp"===this.Qs.localName?this.Qs.setColorScheme(t):this.Qs.setConfig("bx-uisettings:colorScheme",t),this.qs();}},{key:"Iz",value:function Iz(){"custom"===this["#accent-color-preset-select"].value?(this.Qs.setConfig("bx-uisettings:accentColor",this["#accent-color-select"].value),this["#accent-color-select"].click()):"auto"===this["#accent-color-preset-select"].value?this.Qs.setConfig("bx-uisettings:accentColor","auto"):this.Qs.setConfig("bx-uisettings:accentColor",this["#accent-color-preset-select"].value);}},{key:"Lz",value:function Lz(){var _this1076=this;var t,_e1937;this["#accent-color-preset-select"].value="custom",this["#accent-color-select"].addEventListener("change",t=Xi(function(){_this1076.Qs.setConfig("bx-uisettings:accentColor",_this1076["#accent-color-select"].value);},150)),this["#accent-color-select"].addEventListener("changeend",_e1937=function e(){_this1076["#accent-color-select"].removeEventListener("change",t),_this1076["#accent-color-select"].removeEventListener("changeend",_e1937);});}},{key:"Bz",value:function Bz(){this.Qs.setConfig("bx-uisettings:widgetsSize",this["#widgets-size-select"].value);}},{key:"qs",value:function(){var _qs9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee228(){var _e1938,_i1736,_t2551,_e1939,_t2552,_t2553,_t2554,_e1940,_t2555,_i1737,_arr90,_e1941,_i1738,_e1942,_i1739,_e1943,_i1740,_s1034,_i1741,_t2556,_e1944,_Bf3,_Bf4,_t2557,_t2558,_t2559,_e1945;return regeneratorRuntime.wrap(function _callee228$(_context229){while(1){switch(_context229.prev=_context229.next){case 0:if("bx-macapp"===this.Qs.localName)this["#theme-section"].hidden=!0;else if("bx-linuxapp"===this.Qs.localName)this["#theme-section"].hidden=!0;else if("bx-chromeapp"===this.Qs.localName)this["#theme-section"].hidden=!0;else if("bx-webapp"===this.Qs.localName||"bx-portalapp"===this.Qs.localName){_e1938=this.Qs.getConfig("bx-uisettings:theme","auto"),_i1736=null;"cupertino"===_e1938&&!1===t&&(_e1938="auto"),_i1736=navigator.platform.startsWith("Mac")?"cupertino":navigator.platform.startsWith("Win")?"fluent":navigator.platform.startsWith("Linux")?(navigator.userAgent.includes("CrOS")||navigator.userAgent.includes("Android"),"vanilla"):"vanilla",this["#auto-theme-label"].textContent="Auto ("+ni(_i1736)+")",this["#cupertino-theme-select-item"].hidden=!1===t,this["#theme-select"].value=_e1938;}if(!("bx-macapp"===this.Qs.localName)){_context229.next=14;break;}_context229.next=4;return this.Qs.getColorScheme();case 4:_t2551=_context229.sent;_e1939="Auto";if(!("auto"===_t2551)){_context229.next=11;break;}_context229.next=9;return this.Qs.getColorScheme(!0);case 9:_t2552=_context229.sent;_e1939+=" ("+ni(_t2552)+")";case 11:this["#auto-color-scheme-label"].textContent=_e1939,this["#color-scheme-select"].value=_t2551;_context229.next=15;break;case 14:if("bx-linuxapp"===this.Qs.localName){_t2553=this.Qs.getConfig("bx-uisettings:colorScheme","light");this["#color-scheme-menu"].children[0].hidden=!0,this["#color-scheme-menu"].children[1].hidden=!0,this["#color-scheme-select"].value=_t2553;}else if("bx-chromeapp"===this.Qs.localName||"bx-webapp"===this.Qs.localName||"bx-portalapp"===this.Qs.localName){_t2554=this.Qs.getConfig("bx-uisettings:colorScheme","auto"),_e1940=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";this["#auto-color-scheme-label"].textContent="Auto ("+ni(_e1940)+")",this["#color-scheme-select"].value=_t2554;}case 15:_t2555=$s.presetAccentColors;for(_i1737=0,_arr90=_toConsumableArray(this["#accent-color-preset-menu"].querySelectorAll("x-swatch"));_i1737<_arr90.length;_i1737++){_e1941=_arr90[_i1737];_i1738=_e1941.parentElement;_e1941.value=_t2555[_i1738.value];}if("bx-macapp"===this.Qs.localName)this["#accent-color-subsection"].hidden=!0;else if("bx-linuxapp"===this.Qs.localName||"bx-chromeapp"===this.Qs.localName){_e1942=this.Qs.getConfig("bx-uisettings:accentColor","blue"),_i1739=!!_t2555[_e1942];this["#accent-color-preset-menu"].children[0].hidden=!0,this["#accent-color-preset-menu"].children[1].hidden=!0,this["#accent-color-preset-select"].value=_i1739?_e1942:"custom",this["#accent-color-select"].value=_i1739?_t2555[_e1942]:_e1942;}else if("bx-webapp"===this.Qs.localName||"bx-portalapp"===this.Qs.localName){_e1943=this.Qs.getConfig("bx-uisettings:accentColor","auto"),_i1740=this.Qs.getSystemAccentColorName(),_s1034=_t2555[_i1740];if(this["#auto-accent-color-preset-label"].textContent="Auto ("+ni(_i1740)+")",this["#auto-accent-color-preset-swatch"].value=_s1034,"auto"===_e1943)this["#accent-color-preset-select"].value="auto",this["#accent-color-select"].value=_s1034;else{_i1741=!!_t2555[_e1943];this["#accent-color-preset-select"].value=_i1741?_e1943:"custom",this["#accent-color-select"].value=_i1741?_t2555[_e1943]:_e1943;}}if("bx-macapp"===this.Qs.localName)this["#widgets-size-subsection"].hidden=!0;else{_t2556=this.Qs.getConfig("bx-uisettings:widgetsSize","auto"),_e1944=null;_e1944=window.matchMedia("(pointer: coarse)").matches?"large":window.matchMedia("(min-device-width: 1025px)").matches?"medium":"large",this["#auto-widgets-size-label"].textContent="Auto ("+ni(_e1944)+")",this["#widgets-size-select"].value=_t2556;}if(this["#size-section"].hidden=this["#widgets-size-subsection"].hidden,"bx-macapp"===this.Qs.localName||"bx-linuxapp"===this.Qs.localName||"bx-chromeapp"===this.Qs.localName)this["#menubar-section"].hidden=!0;else if("bx-webapp"===this.Qs.localName||"bx-portalapp"===this.Qs.localName){_Bf3=Bf(this.Qs.userSubscription,this.Qs.user),_Bf4=_slicedToArray(_Bf3,1),_t2557=_Bf4[0];this["#show-install-button-checkbox"].hidden=!0===this.Qs.isInstalled,this["#show-install-button-checkbox"].toggled=this.Qs.getConfig("bx-uisettings:showInstallButton",!0),this["#show-cloud-button-checkbox"].hidden=null===_t2557||_t2557===e,this["#show-cloud-button-checkbox"].toggled=this.Qs.getConfig("bx-uisettings:showCloudButton",!0),this["#show-profile-button-checkbox"].hidden=null===this.Qs.user,this["#show-profile-button-checkbox"].toggled=this.Qs.getConfig("bx-uisettings:showProfileButton",!0),this["#menubar-section"].hidden=this["#show-install-button-checkbox"].hidden&&this["#show-cloud-button-checkbox"].hidden&&this["#show-profile-button-checkbox"].hidden;}_t2558=this.Qs.getConfig("bx-uisettings:showDockTooltips",!0);this["#show-dock-tooltips-checkbox"].toggled=_t2558;_t2559=this.Qs.getConfig("bx-uisettings:limitScrollableArea",!1),_e1945=this.Qs.getConfig("bx-uisettings:showViewOutlineAboveObjects",!1);this["#limit-scrollable-area-checkbox"].toggled=_t2559,this["#show-view-outline-above-objects-checkbox"].toggled=_e1945;case 24:case"end":return _context229.stop();}}},_callee228,this);}));function qs(){return _qs9.apply(this,arguments);}return qs;}()}]);return pw;}(dw);_defineProperty(pw,"_shadowTemplate",Yi(_templateObject528()));_defineProperty(pw,"_shadowStyleSheet",Wi(_templateObject529()));customElements.define("bx-uisettings",pw);var uw=/*#__PURE__*/function(_dw3){_inherits(uw,_dw3);var _super232=_createSuper(uw);function uw(){var _this1077;_classCallCheck(this,uw);_this1077=_super232.call(this),_this1077["#geometry-precision-slider"].addEventListener("changeend",function(){_this1077.Qs.setConfig("bx-markupsettings:geometryPrecision",_this1077["#geometry-precision-slider"].value);}),_this1077["#transform-precision-slider"].addEventListener("changeend",function(){_this1077.Qs.setConfig("bx-markupsettings:transformPrecision",_this1077["#transform-precision-slider"].value);}),_this1077["#indentation-slider"].addEventListener("changeend",function(){_this1077.Qs.setConfig("bx-markupsettings:indentation",_this1077["#indentation-slider"].value);});return _this1077;}_createClass(uw,[{key:"tn",value:function tn(){this.qs();}},{key:"qs",value:function qs(){var t=this.Qs.getConfig("bx-markupsettings:geometryPrecision",3),e=this.Qs.getConfig("bx-markupsettings:transformPrecision",6),i=this.Qs.getConfig("bx-markupsettings:indentation",2);this["#geometry-precision-slider"].value=t,this["#transform-precision-slider"].value=e,this["#indentation-slider"].value=i;}}]);return uw;}(dw);_defineProperty(uw,"_shadowTemplate",Yi(_templateObject530()));customElements.define("bx-markupsettings",uw);var xw=/*#__PURE__*/function(_dw4){_inherits(xw,_dw4);var _super233=_createSuper(xw);function xw(){var _this1078;_classCallCheck(this,xw);_this1078=_super233.call(this),_this1078["#defs-section"].addEventListener("toggle",function(t){_this1078.jz(t);});return _this1078;}_createClass(xw,[{key:"tn",value:function tn(){this.qs();}},{key:"jz",value:function jz(t){this.Qs.setConfig("bx-garbagecollectorsettings:collectOptions",{colors:this["#colors-buttons"].value,gradients:this["#gradients-buttons"].value,patterns:this["#patterns-buttons"].value,markers:this["#markers-buttons"].value,symbols:this["#symbols-buttons"].value,filters:this["#filters-buttons"].value,fonts:this["#fonts-buttons"].value});}},{key:"qs",value:function qs(){var t=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",jp);this["#colors-buttons"].value=t.colors,this["#gradients-buttons"].value=t.gradients,this["#patterns-buttons"].value=t.patterns,this["#markers-buttons"].value=t.markers,this["#symbols-buttons"].value=t.symbols,this["#filters-buttons"].value=t.filters,this["#fonts-buttons"].value=t.fonts;}}]);return xw;}(dw);_defineProperty(xw,"_shadowTemplate",Yi(_templateObject531()));_defineProperty(xw,"_shadowStyleSheet",Wi(_templateObject532()));customElements.define("bx-garbagecollectorsettings",xw);var bw=Symbol(),mw=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Shift+ArrowUp","Shift+ArrowDown","Shift+ArrowLeft","Shift+ArrowRight","Tab","Escape","Enter"];var gw=/*#__PURE__*/function(_HTMLElement139){_inherits(gw,_HTMLElement139);var _super234=_createSuper(gw);_createClass(gw,[{key:"value",get:function get(){return this.Yz;},set:function set(t){this.Yz=t,!0===this.Wz&&this.qs();}}]);function gw(){var _this1079;_classCallCheck(this,gw);_this1079=_super234.call(this),_this1079.Yz={},_this1079.Wz=!1,_this1079._shadowRoot=_this1079.attachShadow({mode:"closed"}),_this1079._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,gw._shadowStyleSheet],_this1079._shadowRoot.append(document.importNode(gw._shadowTemplate.content,!0));var _iterator1734=_createForOfIteratorHelper(_this1079._shadowRoot.querySelectorAll("[id]")),_step1734;try{for(_iterator1734.s();!(_step1734=_iterator1734.n()).done;){var _t2560=_step1734.value;_this1079["#"+_t2560.id]=_t2560;}}catch(err){_iterator1734.e(err);}finally{_iterator1734.f();}_this1079._shadowRoot.addEventListener("keydown",function(t){return _this1079.vn(t);}),_this1079["#items"].addEventListener("blur",function(){return _this1079.qz();}),_this1079["#items"].addEventListener("click",function(t){return _this1079.Jc(t);}),_this1079["#items"].addEventListener("scroll",function(){return _this1079.fv();}),_this1079["#filter-input"].addEventListener("input",function(){return _this1079.z_();}),_this1079["#filter-buttons"].addEventListener("toggle",function(){return _this1079.Xz();}),_this1079["#filter-buttons"].addEventListener("click",function(){return _this1079["#items"].focus();});return _this1079;}_createClass(gw,[{key:"connectedCallback",value:function connectedCallback(){var _this1080=this;this.Qs=Ai(this,"#app"),this.Wz=!0,this.qs(),$s.addEventListener("sizechange",this.sp=function(){_this1080.Zz();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.sp);}},{key:"qz",value:function qz(){var t=this["#items"].querySelector(".item[data-editable]");t&&(t.removeAttribute("data-editable"),this.Kz(t));}},{key:"Jc",value:function Jc(t){var e=t.target.closest(".reset-button"),i=t.target.closest(".item");if(e)this.qn(t);else if(i)this.ev(t);else{var _iterator1735=_createForOfIteratorHelper(this["#items"].children),_step1735;try{for(_iterator1735.s();!(_step1735=_iterator1735.n()).done;){var _t2561=_step1735.value;_t2561.hasAttribute("data-editable")&&(_t2561.removeAttribute("data-editable"),this.Kz(_t2561));}}catch(err){_iterator1735.e(err);}finally{_iterator1735.f();}}}},{key:"ev",value:function ev(t){var e=t.target.closest(".item");if(2===t.detail)!1===e.hasAttribute("data-editable")&&(e.setAttribute("data-editable",""),this.Kz(e));else{var _iterator1736=_createForOfIteratorHelper(this["#items"].children),_step1736;try{for(_iterator1736.s();!(_step1736=_iterator1736.n()).done;){var _t2562=_step1736.value;_t2562===e?_t2562.setAttribute("data-selected",""):_t2562.removeAttribute("data-selected"),_t2562.hasAttribute("data-editable")&&(_t2562.removeAttribute("data-editable"),this.Kz(_t2562));}}catch(err){_iterator1736.e(err);}finally{_iterator1736.f();}}}},{key:"fv",value:function fv(){}},{key:"qn",value:function qn(t){var e=t.target.closest(".reset-button").closest(".item"),i=e[bw].commandID;delete this.Yz[i],this.dispatchEvent(new CustomEvent("change")),this.Kz(e),this.Qz();}},{key:"Xz",value:function Xz(){this["#filter-input"].value="",this.z_();}},{key:"vn",value:function vn(t){var e=eo.fromEvent(t);if(t.target===this["#items"]){var _i1742=this["#items"].querySelector(".item[data-editable]");if(_i1742){if(t.preventDefault(),t.stopPropagation(),e.matches("Backspace")||e.matches("Delete")||e.matches("Escape")||e.matches("Enter")||e.matches("Space"))_i1742.removeAttribute("data-editable"),this.Kz(_i1742);else if(e.key&&!1===mw.includes(e.toString())){var _i1742$bw=_i1742[bw],_t2563=_i1742$bw.commandID,_s1035=_i1742$bw.defaultShortcut,_n749=this.Yz[_t2563]||null;_n749&&e.toString()===_n749?(_i1742.removeAttribute("data-editable"),this.Kz(_i1742)):_s1035&&e.toString()===_s1035?(delete this.Yz[_t2563],this.dispatchEvent(new CustomEvent("change")),_i1742.removeAttribute("data-editable"),this.Kz(_i1742),this.Qz()):(this.Yz[_t2563]=e.toString(),this.dispatchEvent(new CustomEvent("change")),_i1742.removeAttribute("data-editable"),this.Kz(_i1742),this.Qz());}}else if(e.matches("ArrowUp"))t.preventDefault(),this.Bu();else if(e.matches("ArrowDown"))t.preventDefault(),this.Ru();else if(e.matches("Enter")){t.preventDefault();var _e1946=this["#items"].querySelector(".item[data-selected]:not([hidden])");_e1946.setAttribute("data-editable",""),this.Kz(_e1946);}else if(e.matches("Backspace")||e.matches("Delete")){var _e1947=this["#items"].querySelector(".item[data-selected]:not([hidden])"),_e1947$bw=_e1947[bw],_i1743=_e1947$bw.commandID,_s1036=_e1947$bw.defaultShortcut;void 0!==this.Yz[_i1743]?(t.preventDefault(),delete this.Yz[_i1743],this.dispatchEvent(new CustomEvent("change")),this.Kz(_e1947),this.Qz()):null!==_s1036&&(t.preventDefault(),this.Yz[_i1743]=null,this.dispatchEvent(new CustomEvent("change")),this.Kz(_e1947),this.Qz());}}}},{key:"hv",value:function hv(t){var e=Yi(_templateObject94(),'\n  <div class="item">\n    <div class="command-label"></div>\n    <div class="shortcut-label"></div>\n\n    <x-button class="button reset-button" title="Reset to default shortcut" skin="recessed" toggled condensed>\n      <x-label>Reset</x-label>\n    </x-button>\n  </div>\n');return e[bw]=t,this.Kz(e),e;}},{key:"Bu",value:function Bu(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item:not([hidden])")),e=this["#items"].querySelector(".item[data-selected]:not([hidden])"),i=e?t.indexOf(e):-1,s=t[i-1];if(s){s.scrollIntoViewIfNeeded();var _iterator1737=_createForOfIteratorHelper(this["#items"].children),_step1737;try{for(_iterator1737.s();!(_step1737=_iterator1737.n()).done;){var _t2564=_step1737.value;_t2564===s?_t2564.setAttribute("data-selected",""):_t2564.removeAttribute("data-selected");}}catch(err){_iterator1737.e(err);}finally{_iterator1737.f();}}}},{key:"Ru",value:function Ru(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item:not([hidden])")),e=this["#items"].querySelector(".item[data-selected]:not([hidden])"),i=e?t.indexOf(e):-1,s=t[i+1];if(s){s.scrollIntoViewIfNeeded();var _iterator1738=_createForOfIteratorHelper(this["#items"].children),_step1738;try{for(_iterator1738.s();!(_step1738=_iterator1738.n()).done;){var _t2565=_step1738.value;_t2565===s?_t2565.setAttribute("data-selected",""):_t2565.removeAttribute("data-selected");}}catch(err){_iterator1738.e(err);}finally{_iterator1738.f();}}}},{key:"qs",value:function(){var _qs10=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee229(){var _t2566,_iterator1739,_step1739,_e1948,_t2567,_iterator1740,_step1740,_t2568;return regeneratorRuntime.wrap(function _callee229$(_context230){while(1){switch(_context230.prev=_context230.next){case 0:if(!(0===this["#items"].childElementCount)){_context230.next=9;break;}_context230.next=3;return this.Qs.getShortcutsEditorModel();case 3:_t2566=_context230.sent;this["#items"].innerHTML="";_iterator1739=_createForOfIteratorHelper(_t2566);try{for(_iterator1739.s();!(_step1739=_iterator1739.n()).done;){_e1948=_step1739.value;_t2567=this.hv(_e1948);this["#items"].append(_t2567);}}catch(err){_iterator1739.e(err);}finally{_iterator1739.f();}_context230.next=11;break;case 9:_iterator1740=_createForOfIteratorHelper(this["#items"].children);try{for(_iterator1740.s();!(_step1740=_iterator1740.n()).done;){_t2568=_step1740.value;this.Kz(_t2568);}}catch(err){_iterator1740.e(err);}finally{_iterator1740.f();}case 11:this.Zz(),this.Qz();case 12:case"end":return _context230.stop();}}},_callee229,this);}));function qs(){return _qs10.apply(this,arguments);}return qs;}()},{key:"Kz",value:function Kz(t){var _t$bw=t[bw],e=_t$bw.commandID,i=_t$bw.label,s=_t$bw.defaultShortcut,n=this.Yz[e];n||null===n?t.setAttribute("data-user-shortcut",""):t.removeAttribute("data-user-shortcut");t.querySelector(".command-label").textContent=i;{var _e1949=t.querySelector(".shortcut-label");t.hasAttribute("data-editable")?_e1949.textContent="Press new shortcut":n?_e1949.textContent=eo.fromString(n).toDisplayString():null===n?_e1949.textContent="":void 0===n&&(_e1949.textContent=s?eo.fromString(s).toDisplayString():"");}t.querySelector(".reset-button").hidden=void 0===n;}},{key:"Qz",value:function Qz(){var t=0;var _iterator1741=_createForOfIteratorHelper(this["#items"].children),_step1741;try{for(_iterator1741.s();!(_step1741=_iterator1741.n()).done;){var _e1950=_step1741.value;var _e1950$bw=_e1950[bw],_i1744=_e1950$bw.commandID,_s1037=_e1950$bw.defaultShortcut,_n750=this.Yz[_i1744]||_s1037,_o563=!1;if(_n750){var _iterator1742=_createForOfIteratorHelper(this["#items"].children),_step1742;try{for(_iterator1742.s();!(_step1742=_iterator1742.n()).done;){var _t2569=_step1742.value;if(_t2569!==_e1950){var _e1951=this.Yz[_t2569[bw].commandID]||_t2569[bw].defaultShortcut;if(_e1951&&_e1951===_n750){_o563=!0;break;}}}}catch(err){_iterator1742.e(err);}finally{_iterator1742.f();}}_o563?(_e1950.setAttribute("data-conflicting",""),t+=1):_e1950.removeAttribute("data-conflicting");}}catch(err){_iterator1741.e(err);}finally{_iterator1741.f();}this["#conflicting-items-counter"].textContent=t>0?"(".concat(t,")"):"";}},{key:"Zz",value:function Zz(){this["#items"].setAttribute("data-size",$s.size);}},{key:"z_",value:function z_(){var t=this["#filter-input"].value.trim().toLowerCase();var _iterator1743=_createForOfIteratorHelper(this["#items"].querySelectorAll(".command-label")),_step1743;try{for(_iterator1743.s();!(_step1743=_iterator1743.n()).done;){var _e1952=_step1743.value;var _i1745=_e1952.closest(".item"),_s1038=!1;if(t.length>0){_s1038=-1===_e1952.textContent.trim().toLowerCase().indexOf(t);}else _s1038=!1;_s1038||("custom"===this["#filter-buttons"].value?!1===_i1745.hasAttribute("data-user-shortcut")&&(_s1038=!0):"conflicting"===this["#filter-buttons"].value&&!1===_i1745.hasAttribute("data-conflicting")&&(_s1038=!0)),_i1745.hidden=_s1038;}}catch(err){_iterator1743.e(err);}finally{_iterator1743.f();}}}]);return gw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(gw,"_shadowTemplate",Yi(_templateObject533()));_defineProperty(gw,"_shadowStyleSheet",Wi(_templateObject534()));customElements.define("bx-shortcutseditor",gw);var fw=/*#__PURE__*/function(_dw5){_inherits(fw,_dw5);var _super235=_createSuper(fw);function fw(){var _this1081;_classCallCheck(this,fw);_this1081=_super235.call(this),_this1081["#tabs"].addEventListener("change",function(){return _this1081.Jz();}),_this1081["#shortcuts-editor"].addEventListener("change",function(){return _this1081.tO();}),_this1081["#space-modifier-radios"].addEventListener("toggle",function(){return _this1081.eO();});return _this1081;}_createClass(fw,[{key:"tn",value:function tn(){var t=this.Qs.getConfig("bx-keyboardsettings:userShortcuts",{}),e=this.Qs.getConfig("bx-keyboardsettings:spaceKeyMode","togglePreviousTool");this["#shortcuts-editor"].value=t,this["#space-modifier-radios"].value=e;}},{key:"Jz",value:function Jz(){this["#shortcuts-view"].hidden="shortcuts"!==this["#tabs"].value,this["#modifiers-view"].hidden="modifiers"!==this["#tabs"].value;}},{key:"tO",value:function tO(){this.Qs.setConfig("bx-keyboardsettings:userShortcuts",this["#shortcuts-editor"].value);}},{key:"eO",value:function eO(){this.Qs.setConfig("bx-keyboardsettings:spaceKeyMode",this["#space-modifier-radios"].value);}}]);return fw;}(dw);_defineProperty(fw,"_shadowTemplate",Yi(_templateObject535()));_defineProperty(fw,"_shadowStyleSheet",Wi(_templateObject536()));customElements.define("bx-keyboardsettings",fw);var ww=function ww(t){var e="",i="string"==typeof t.detail?"".concat(t.code," / ").concat(t.detail):"".concat(t.code);return e=t.message&&t.message.toLowerCase()!==t.code?"".concat(t.message," (").concat(i,")"):"Server error, please try again later. (".concat(i,")"),e;};var vw=/*#__PURE__*/function(_HTMLElement140){_inherits(vw,_HTMLElement140);var _super236=_createSuper(vw);_createClass(vw,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"transparent",get:function get(){return this.hasAttribute("transparent");},set:function set(t){t?this.setAttribute("transparent",""):this.removeAttribute("transparent");}}]);function vw(){var _this1082;_classCallCheck(this,vw);_this1082=_super236.call(this),_this1082._shadowRoot=_this1082.attachShadow({mode:"closed"}),_this1082._shadowRoot.adoptedStyleSheets=[vw._shadowStyleSheet],_this1082._shadowRoot.append(document.importNode(vw._shadowTemplate.content,!0));var _iterator1744=_createForOfIteratorHelper(_this1082._shadowRoot.querySelectorAll("[id]")),_step1744;try{for(_iterator1744.s();!(_step1744=_iterator1744.n()).done;){var _t2570=_step1744.value;_this1082["#"+_t2570.id]=_t2570;}}catch(err){_iterator1744.e(err);}finally{_iterator1744.f();}return _this1082;}_createClass(vw,[{key:"connectedCallback",value:function connectedCallback(){this.qs();}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&this._shadowRoot&&"value"===t&&this.qs();}},{key:"qs",value:function qs(){null===this.value?this["#img"].src="":this["#img"].src=function(t){return t.startsWith("/")&&(t=t.substring(1)),"https://firebasestorage.googleapis.com/v0/b/boxy-svg.appspot.com/o/".concat(encodeURIComponent(t),"?alt=media");}("/avatars/".concat(this.value,".png"));}}]);return vw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(vw,"observedAttributes",["value"]);_defineProperty(vw,"_shadowTemplate",Yi(_templateObject537()));_defineProperty(vw,"_shadowStyleSheet",Wi(_templateObject538()));customElements.define("bx-avatar",vw);var yw=/*#__PURE__*/function(_dw6){_inherits(yw,_dw6);var _super237=_createSuper(yw);function yw(){var _this1083;_classCallCheck(this,yw);_this1083=_super237.call(this),_this1083["#avatar-edit-button"].addEventListener("click",function(){return _this1083.iO();}),_this1083["#name-input"].addEventListener("input",function(){return _this1083.sO();}),_this1083["#name-input"].addEventListener("keydown",function(t){return _this1083.nO(t);}),_this1083["#name-change-button"].addEventListener("click",function(){return _this1083.oO();}),_this1083["#website-input"].addEventListener("input",function(){return _this1083.lO();}),_this1083["#website-input"].addEventListener("keydown",function(t){return _this1083.hO(t);}),_this1083["#website-change-button"].addEventListener("click",function(){return _this1083.aO();}),_this1083["#bio-editor"].addEventListener("input",function(){return _this1083.rO();}),_this1083["#bio-change-button"].addEventListener("click",function(){return _this1083.dO();});return _this1083;}_createClass(yw,[{key:"tn",value:function tn(){var _this1084=this;this.Qs.addEventListener("userprofilechange",this.cO=function(){return _this1084.qs();}),this.qs();}},{key:"sn",value:function sn(){this.Qs.removeEventListener("userprofilechange",this.cO);}},{key:"iO",value:function iO(){window.open("/app/avatar");}},{key:"sO",value:function sO(){var t=this.Qs.userProfile.name,e=this["#name-input"].value.trim();t===e||""===e?(this["#name-change-button"].disabled=!0,this["#name-change-button"].toggled=!1):(this["#name-change-button"].disabled=!1,this["#name-change-button"].toggled=!0);}},{key:"nO",value:function nO(t){"Enter"===t.code&&!1===this["#name-change-button"].disabled&&this["#name-change-button"].click();}},{key:"oO",value:function(){var _oO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee230(){var t,e,i;return regeneratorRuntime.wrap(function _callee230$(_context231){while(1){switch(_context231.prev=_context231.next){case 0:firebase.functions();e=this.Qs.user,i=this["#name-input"].value.trim();this["#name-input"].disabled=!0,this["#name-change-button"].disabled=!0,this["#name-throbber"].hidden=!1;_context231.prev=3;_context231.next=6;return this.Qs.callCloudFunction("editUser",{userUID:e.uid,name:i});case 6:_context231.next=11;break;case 8:_context231.prev=8;_context231.t0=_context231["catch"](3);t=_context231.t0;case 11:t?(this["#name-input"].disabled=!1,this["#name-change-button"].disabled=!1,this["#name-throbber"].hidden=!0,"name-taken"===t.details?this["#name-input"].error="This name is already taken.":"auth/invalid-display-name"===t.details?this["#name-input"].error="Invalid name.":this.Qs.openMessageDialog({message:"Failed to change user name",detail:ww(t),buttons:["OK"]})):(this["#name-input"].disabled=!1,this["#name-change-button"].disabled=!0,this["#name-change-button"].toggled=!1,this["#name-throbber"].hidden=!0);case 12:case"end":return _context231.stop();}}},_callee230,this,[[3,8]]);}));function oO(){return _oO.apply(this,arguments);}return oO;}()},{key:"lO",value:function lO(){this.Qs.userProfile.websiteURL===this["#website-input"].value.trim()?(this["#website-change-button"].disabled=!0,this["#website-change-button"].toggled=!1):(this["#website-change-button"].disabled=!1,this["#website-change-button"].toggled=!0);}},{key:"hO",value:function hO(t){"Enter"===t.code&&!1===this["#website-change-button"].disabled&&this["#website-change-button"].click();}},{key:"aO",value:function(){var _aO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee231(){var t,e,i;return regeneratorRuntime.wrap(function _callee231$(_context232){while(1){switch(_context232.prev=_context232.next){case 0:firebase.functions();e=this.Qs.user,i=this["#website-input"].value.trim();this["#website-input"].disabled=!0,this["#website-input"].error=null,this["#website-change-button"].disabled=!0,this["#website-throbber"].hidden=!1;_context232.prev=3;_context232.next=6;return this.Qs.callCloudFunction("editUser",{userUID:e.uid,websiteURL:i});case 6:_context232.next=11;break;case 8:_context232.prev=8;_context232.t0=_context232["catch"](3);t=_context232.t0;case 11:t?(this["#website-input"].disabled=!1,this["#website-change-button"].disabled=!1,this["#website-throbber"].hidden=!0,"invalid-url"===t.details?this["#website-input"].error="This URL is not valid.":this.Qs.openMessageDialog({message:"Failed to change user website",detail:ww(t),buttons:["OK"]})):(this["#website-input"].disabled=!1,this["#website-change-button"].disabled=!0,this["#website-change-button"].toggled=!1,this["#website-throbber"].hidden=!0);case 12:case"end":return _context232.stop();}}},_callee231,this,[[3,8]]);}));function aO(){return _aO.apply(this,arguments);}return aO;}()},{key:"rO",value:function rO(){this.Qs.userProfile.bio===this["#bio-editor"].value.trim()?(this["#bio-change-button"].disabled=!0,this["#bio-change-button"].toggled=!1):(this["#bio-change-button"].disabled=!1,this["#bio-change-button"].toggled=!0);}},{key:"dO",value:function(){var _dO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee232(){var t,e,i;return regeneratorRuntime.wrap(function _callee232$(_context233){while(1){switch(_context233.prev=_context233.next){case 0:firebase.functions();e=this.Qs.user,i=this["#bio-editor"].value.trim();this["#bio-editor"].disabled=!0,this["#bio-change-button"].disabled=!0,this["#bio-throbber"].hidden=!1;_context233.prev=3;_context233.next=6;return this.Qs.callCloudFunction("editUser",{userUID:e.uid,bio:i});case 6:_context233.next=11;break;case 8:_context233.prev=8;_context233.t0=_context233["catch"](3);t=_context233.t0;case 11:t?(this["#bio-editor"].disabled=!1,this["#bio-change-button"].disabled=!1,this["#bio-throbber"].hidden=!0,"invalid-url"===t.details?this["#bio-editor"].error="This URL is not valid.":this.Qs.openMessageDialog({message:"Failed to change user bio",detail:ww(t),buttons:["OK"]})):(this["#bio-editor"].disabled=!1,this["#bio-change-button"].disabled=!0,this["#bio-change-button"].toggled=!1,this["#bio-throbber"].hidden=!0);case 12:case"end":return _context233.stop();}}},_callee232,this,[[3,8]]);}));function dO(){return _dO.apply(this,arguments);}return dO;}()},{key:"qs",value:function(){var _qs11=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee233(){var t,_e1953,_i1746,_s1039;return regeneratorRuntime.wrap(function _callee233$(_context234){while(1){switch(_context234.prev=_context234.next){case 0:t=this.Qs.userProfile;firebase.storage();if(t){_e1953=t.name,_i1746=t.bio,_s1039=t.websiteURL;this["#avatar"].value=this.Qs.user.uid,this["#name-input"].value=_e1953,this["#name-change-button"].toggled=!1,this["#name-change-button"].disabled=!0,this["#website-input"].value=_s1039,this["#website-change-button"].toggled=!1,this["#website-change-button"].disabled=!0,this["#bio-editor"].value=_i1746,this["#bio-change-button"].toggled=!1,this["#bio-change-button"].disabled=!0;}else this["#avatar-image"].value="",this["#name-input"].value="",this["#website-input"].value="",this["#bio-editor"].value="";case 3:case"end":return _context234.stop();}}},_callee233,this);}));function qs(){return _qs11.apply(this,arguments);}return qs;}()}]);return yw;}(dw);_defineProperty(yw,"_shadowTemplate",Yi(_templateObject539()));_defineProperty(yw,"_shadowStyleSheet",Wi(_templateObject540()));customElements.define("bx-profilesettings",yw);var kw=/*#__PURE__*/function(_HTMLElement141){_inherits(kw,_HTMLElement141);var _super238=_createSuper(kw);_createClass(kw,[{key:"value",get:function get(){return _toConsumableArray(this._t);},set:function set(t){this._t=_toConsumableArray(t),this._t.length>this.limit&&(this._t.length=this.limit),this.qs();}},{key:"limit",get:function get(){return this.pO;},set:function set(t){this.pO=t,this._t.length>this.limit&&(this._t.length=this.limit),this.qs();}},{key:"editing",get:function get(){return null!==this["#table"].querySelector("tr[data-editing]");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function kw(){var _this1085;_classCallCheck(this,kw);_this1085=_super238.call(this),_this1085._t=[],_this1085.pO=10,_this1085._shadowRoot=_this1085.attachShadow({mode:"closed",delegatesFocus:!1}),_this1085._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,kw._shadowStyleSheet],_this1085._shadowRoot.append(document.importNode(kw._shadowTemplate.content,!0));var _iterator1745=_createForOfIteratorHelper(_this1085._shadowRoot.querySelectorAll("[id]")),_step1745;try{for(_iterator1745.s();!(_step1745=_iterator1745.n()).done;){var _t2571=_step1745.value;_this1085["#"+_t2571.id]=_t2571;}}catch(err){_iterator1745.e(err);}finally{_iterator1745.f();}_this1085._shadowRoot.addEventListener("pointerdown",function(t){return _this1085.wo(t);}),_this1085._shadowRoot.addEventListener("click",function(t){return _this1085["do"](t);}),_this1085.addEventListener("keydown",function(t){return _this1085.vn(t);});return _this1085;}_createClass(kw,[{key:"connectedCallback",value:function connectedCallback(){var _this1086=this;this.tabIndex=0,$s.addEventListener("sizechange",this.sp=function(){_this1086.fu();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.sp);}},{key:"wo",value:function wo(t){if(this.disabled)return;var e=t.target.closest("tr"),i=t.target.closest("x-input");if(e&&!i&&this["#tbody"].childElementCount>1){this.lv();var _iterator1746=_createForOfIteratorHelper(this["#tbody"].children),_step1746;try{for(_iterator1746.s();!(_step1746=_iterator1746.n()).done;){var _t2572=_step1746.value;if(_t2572===e){_t2572.setAttribute("data-selected","");var _iterator1747=_createForOfIteratorHelper(_t2572.children),_step1747;try{for(_iterator1747.s();!(_step1747=_iterator1747.n()).done;){var _e1954=_step1747.value;_e1954.part.add("selected-cell");}}catch(err){_iterator1747.e(err);}finally{_iterator1747.f();}}else{_t2572.removeAttribute("data-selected");var _iterator1748=_createForOfIteratorHelper(_t2572.children),_step1748;try{for(_iterator1748.s();!(_step1748=_iterator1748.n()).done;){var _e1955=_step1748.value;_e1955.part.remove("selected-cell");}}catch(err){_iterator1748.e(err);}finally{_iterator1748.f();}}}}catch(err){_iterator1746.e(err);}finally{_iterator1746.f();}}}},{key:"do",value:function _do(t){if(this.disabled)return;var e=t.target.closest("tr");e&&2===t.detail&&!1===e.hasAttribute("data-editing")&&!1===e.hasAttribute("data-disabled")&&this.uO(e);}},{key:"vn",value:function vn(t){this.disabled||("Enter"===t.key?!0===this.editing?(this.lv(),this.focus()):this.uO():"Escape"===t.key?!0===this.editing&&(t.preventDefault(),this.lv(),this.focus()):"Backspace"===t.key?!1===this.editing&&(t.preventDefault(),this.xO()):"ArrowUp"===t.key?!1===this.editing&&this.bO():"ArrowDown"===t.key&&!1===this.editing&&this.mO());}},{key:"uO",value:function uO(t){var _this1087=this;var e=this["#table"].querySelector("tr[data-selected]");if(e&&!1===e.hasAttribute("data-disabled")){e.setAttribute("data-editing",""),e.scrollIntoViewIfNeeded();var _iterator1749=_createForOfIteratorHelper(e.children),_step1749;try{for(_iterator1749.s();!(_step1749=_iterator1749.n()).done;){var _t2574=_step1749.value;_t2574.part.add("selected-cell");}}catch(err){_iterator1749.e(err);}finally{_iterator1749.f();}var _t2573=e.querySelector(".label"),_i1747=Yi(_templateObject95(),_t2573.textContent);_t2573.after(_i1747),_t2573.hidden=!0,_i1747.selectAll(),_i1747.addEventListener("focusout",function(){_this1087.lv();}),_i1747.validate=function(){var t=null,e=_i1747.value.trim();var s;e.length>0&&!1===(s=e,new RegExp("[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$").test(s))&&(t=""),_i1747.error=t;};}}},{key:"lv",value:function lv(){var t=this["#table"].querySelector("tr[data-editing]");if(t){var _e1956=Ei(t),_i1748=t.querySelector(".label"),_s1040=t.querySelector(".input");if(t.removeAttribute("data-editing"),_i1748.hidden=!1,_s1040.remove(),null===_s1040.error){var _n751=_i1748.textContent,_o564=_s1040.value.trim().toLowerCase();if(_n751!==_o564){var _s1041=null;if(""!==_o564){var _iterator1750=_createForOfIteratorHelper(this["#tbody"].children),_step1750;try{for(_iterator1750.s();!(_step1750=_iterator1750.n()).done;){var _e1957=_step1750.value;if(_e1957!==t){if(_e1957.querySelector(".label").textContent===_o564){_s1041=_e1957;break;}}}}catch(err){_iterator1750.e(err);}finally{_iterator1750.f();}}_s1041?(""!==_n751&&(_i1748.textContent="",this._t[_e1956]="",this.dispatchEvent(new CustomEvent("change"))),this.gO(_s1041)):(_i1748.textContent=_o564,this._t[_e1956]=""===_o564?null:_o564,this.dispatchEvent(new CustomEvent("change")));}}}}},{key:"gO",value:function gO(t){var e=this["#table"].querySelector("tr[data-selected]");if(e&&e!==t){e.removeAttribute("data-selected");var _iterator1751=_createForOfIteratorHelper(e.children),_step1751;try{for(_iterator1751.s();!(_step1751=_iterator1751.n()).done;){var _t2575=_step1751.value;_t2575.part.remove("selected-cell");}}catch(err){_iterator1751.e(err);}finally{_iterator1751.f();}}t.setAttribute("data-selected","");var _iterator1752=_createForOfIteratorHelper(t.children),_step1752;try{for(_iterator1752.s();!(_step1752=_iterator1752.n()).done;){var _e1958=_step1752.value;_e1958.part.add("selected-cell");}}catch(err){_iterator1752.e(err);}finally{_iterator1752.f();}t.scrollIntoViewIfNeeded();}},{key:"bO",value:function bO(){var t=this["#table"].querySelector("tr[data-selected]");if(t){var _e1959=t.previousElementSibling;if(_e1959){t.removeAttribute("data-selected");var _iterator1753=_createForOfIteratorHelper(t.children),_step1753;try{for(_iterator1753.s();!(_step1753=_iterator1753.n()).done;){var _e1960=_step1753.value;_e1960.part.remove("selected-cell");}}catch(err){_iterator1753.e(err);}finally{_iterator1753.f();}_e1959.setAttribute("data-selected","");var _iterator1754=_createForOfIteratorHelper(_e1959.children),_step1754;try{for(_iterator1754.s();!(_step1754=_iterator1754.n()).done;){var _t2576=_step1754.value;_t2576.part.add("selected-cell");}}catch(err){_iterator1754.e(err);}finally{_iterator1754.f();}_e1959.scrollIntoViewIfNeeded();}}}},{key:"mO",value:function mO(){var t=this["#table"].querySelector("tr[data-selected]");if(t){var _e1961=t.nextElementSibling;if(_e1961){t.removeAttribute("data-selected");var _iterator1755=_createForOfIteratorHelper(t.children),_step1755;try{for(_iterator1755.s();!(_step1755=_iterator1755.n()).done;){var _e1962=_step1755.value;_e1962.part.remove("selected-cell");}}catch(err){_iterator1755.e(err);}finally{_iterator1755.f();}_e1961.setAttribute("data-selected","");var _iterator1756=_createForOfIteratorHelper(_e1961.children),_step1756;try{for(_iterator1756.s();!(_step1756=_iterator1756.n()).done;){var _t2577=_step1756.value;_t2577.part.add("selected-cell");}}catch(err){_iterator1756.e(err);}finally{_iterator1756.f();}_e1961.scrollIntoViewIfNeeded();}}}},{key:"xO",value:function xO(){var t=this["#table"].querySelector("tr[data-selected]"),e=Ei(t),i=t.querySelector(".label");if(t){var _t2578="";i.textContent!==_t2578&&(i.textContent=_t2578,this._t[e]=null,this.dispatchEvent(new CustomEvent("change")));}}},{key:"qs",value:function qs(){var t="";for(var _e1963=1;_e1963<=this.pO;_e1963+=1){var _i1749=this._t[_e1963-1];t+="\n        <tr class=\"row\" ".concat(1===_e1963?"data-disabled":"",">\n          <td class=\"index-cell\" part=\"cell index-cell\">").concat(_e1963,"</td>\n          <td class=\"value-cell\" part=\"cell value-cell\">\n            <div class=\"label\">").concat(null==_i1749?"":this._t[_e1963-1],"</div>\n          </td>\n        </tr>\n      ");}this["#tbody"].innerHTML=t,this.fu();}},{key:"fu",value:function fu(){this["#table"].setAttribute("data-size",$s.size);}}]);return kw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(kw,"_shadowTemplate",Yi(_templateObject541()));_defineProperty(kw,"_shadowStyleSheet",Wi(_templateObject542()));customElements.define("bx-userseditor",kw);var Sw=/*#__PURE__*/function(_dw7){_inherits(Sw,_dw7);var _super239=_createSuper(Sw);function Sw(){var _this1088;_classCallCheck(this,Sw);_this1088=_super239.call(this),_this1088["#email-input"].addEventListener("input",function(){return _this1088.fO();}),_this1088["#email-input"].addEventListener("keydown",function(t){return _this1088.wO(t);}),_this1088["#email-change-button"].addEventListener("click",function(){return _this1088.vO();}),_this1088["#email-verify-button"].addEventListener("click",function(){return _this1088.yO();}),_this1088["#password-input"].addEventListener("input",function(){return _this1088.kO();}),_this1088["#password-input"].addEventListener("keydown",function(t){return _this1088.SO(t);}),_this1088["#password-change-button"].addEventListener("click",function(){return _this1088._O();}),_this1088["#subscription-anchor"].addEventListener("click",function(t){return _this1088.CO(t);}),_this1088["#users-editor"].addEventListener("change",function(){return _this1088.MO();}),_this1088["#users-change-button"].addEventListener("click",function(){return _this1088.PO();});return _this1088;}_createClass(Sw,[{key:"tn",value:function tn(){var _this1089=this;this.qs(),this.Qs.addEventListener("userchange",this.Gz=function(){return _this1089.qs();});}},{key:"sn",value:function sn(){this.Qs.removeEventListener("userchange",this.Gz);}},{key:"fO",value:function fO(){this.Qs.user.email!==this["#email-input"].value.trim()&&null===this["#email-input"].error?(this["#email-change-button"].disabled=!1,this["#email-change-button"].toggled=!0):(this["#email-change-button"].disabled=!0,this["#email-change-button"].toggled=!1);}},{key:"wO",value:function wO(t){"Enter"===t.code&&this["#email-change-button"].click();}},{key:"vO",value:function(){var _vO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee234(){var _t2579,_e1964,_i1750,_s1042,_n752;return regeneratorRuntime.wrap(function _callee234$(_context235){while(1){switch(_context235.prev=_context235.next){case 0:if(!(this["#email-input"].validate(),null===this["#email-input"].error)){_context235.next=25;break;}this["#email-input"].disabled=!0,this["#email-change-button"].disabled=!0,this["#email-throbber"].hidden=!1;_t2579=this.Qs.user,_e1964=_t2579.uid,_i1750=this["#email-input"].value.trim(),_s1042=_t2579.email,_n752=null;_context235.prev=3;_context235.next=6;return _t2579.updateEmail(_i1750);case 6:_context235.next=11;break;case 8:_context235.prev=8;_context235.t0=_context235["catch"](3);_n752=_context235.t0;case 11:if(!(_n752&&"auth/requires-recent-login"===_n752.code)){_context235.next=24;break;}_context235.next=14;return this.Qs.openPasswordConfirmDialog();case 14:if(!_context235.sent){_context235.next=24;break;}_n752=null;_context235.prev=16;_context235.next=19;return _t2579.updateEmail(_i1750);case 19:_context235.next=24;break;case 21:_context235.prev=21;_context235.t1=_context235["catch"](16);_n752=_context235.t1;case 24:this["#email-input"].disabled=!1,this["#email-change-button"].disabled=!1,this["#email-throbber"].hidden=!0,_n752?"auth/invalid-email"===_n752.code?this["#email-input"].error="Invalid e-mail":"auth/email-already-in-use"===_n752.code?this["#email-input"].error="This email address is already registered":this.Qs.openMessageDialog({message:"Error",detail:"".concat(_n752.message," (").concat(_n752.code,")"),buttons:["OK"]}):(this.Qs.callCloudFunction("editUser",{userUID:_e1964,email:_i1750,oldEmail:_s1042}),_t2579.sendEmailVerification(),this.DO());case 25:case"end":return _context235.stop();}}},_callee234,this,[[3,8],[16,21]]);}));function vO(){return _vO.apply(this,arguments);}return vO;}()},{key:"yO",value:function(){var _yO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee235(){return regeneratorRuntime.wrap(function _callee235$(_context236){while(1){switch(_context236.prev=_context236.next){case 0:_context236.next=2;return this.Qs.openMessageDialog({message:"Verify your email address",detail:"Please follow the link in the confirmation email we have sent you to verify your email address.",buttons:["OK","Rensend"]});case 2:_context236.t0=_context236.sent;_context236.t1=1===_context236.t0;if(!_context236.t1){_context236.next=6;break;}firebase.auth().currentUser.sendEmailVerification();case 6:case"end":return _context236.stop();}}},_callee235,this);}));function yO(){return _yO.apply(this,arguments);}return yO;}()},{key:"kO",value:function kO(){this["#password-input"].value.length>0?(this["#password-change-button"].disabled=!1,this["#password-change-button"].toggled=!0):(this["#password-change-button"].disabled=!0,this["#password-change-button"].toggled=!1);}},{key:"SO",value:function SO(t){"Enter"===t.code&&this["#password-change-button"].click();}},{key:"_O",value:function(){var _O2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee236(){var _t2580,_e1965,_i1751;return regeneratorRuntime.wrap(function _callee236$(_context237){while(1){switch(_context237.prev=_context237.next){case 0:if(!(this["#password-input"].validate(),null===this["#password-input"].error)){_context237.next=25;break;}this["#password-input"].disabled=!0,this["#password-change-button"].disabled=!0,this["#password-throbber"].hidden=!1;_t2580=this.Qs.user,_e1965=this["#password-input"].value.trim(),_i1751=null;_context237.prev=3;_context237.next=6;return _t2580.updatePassword(_e1965);case 6:_context237.next=11;break;case 8:_context237.prev=8;_context237.t0=_context237["catch"](3);_i1751=_context237.t0;case 11:if(!(_i1751&&"auth/requires-recent-login"===_i1751.code)){_context237.next=24;break;}_context237.next=14;return this.Qs.openPasswordConfirmDialog();case 14:if(!_context237.sent){_context237.next=24;break;}_i1751=null;_context237.prev=16;_context237.next=19;return _t2580.updatePassword(_e1965);case 19:_context237.next=24;break;case 21:_context237.prev=21;_context237.t1=_context237["catch"](16);_i1751=_context237.t1;case 24:this["#password-input"].disabled=!1,this["#password-change-button"].disabled=!1,this["#password-throbber"].hidden=!0,_i1751?"auth/requires-recent-login"===_i1751.code||("auth/weak-password"===_i1751.code?this["#password-input"].error="The password must be 6 characters long or more":this.Qs.openMessageDialog({message:"Error",detail:"".concat(_i1751.message," (").concat(_i1751.code,")"),buttons:["OK"]})):this.zO();case 25:case"end":return _context237.stop();}}},_callee236,this,[[3,8],[16,21]]);}));function _O(){return _O2.apply(this,arguments);}return _O;}()},{key:"CO",value:function CO(t){t.preventDefault(),this.Qs.navigate(Rf(location.href,"dialog","preferences\u2192subscription"),!0);}},{key:"MO",value:function(){var _MO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee237(){return regeneratorRuntime.wrap(function _callee237$(_context238){while(1){switch(_context238.prev=_context238.next){case 0:this["#users-change-button"].disabled=!1;case 1:case"end":return _context238.stop();}}},_callee237,this);}));function MO(){return _MO.apply(this,arguments);}return MO;}()},{key:"PO",value:function(){var _PO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee238(){var t,_this$UsersEditor$v,e,i,s;return regeneratorRuntime.wrap(function _callee238$(_context239){while(1){switch(_context239.prev=_context239.next){case 0:this["#users-editor"].disabled=!0,this["#users-change-button"].disabled=!0,this["#users-change-throbber"].hidden=!1;t=this.Qs.user,_this$UsersEditor$v=_toArray(this["#users-editor"].value),e=_this$UsersEditor$v[0],i=_this$UsersEditor$v.slice(1),s=null;_context239.next=4;return Qi(4e3);case 4:_context239.prev=4;_context239.next=7;return this.Qs.callCloudFunction("setOrgUsers",{orgLeaderUID:t.uid,orgUsers:i});case 7:_context239.next=12;break;case 9:_context239.prev=9;_context239.t0=_context239["catch"](4);s=_context239.t0;case 12:_context239.next=14;return Qi(4e3);case 14:if(!s){_context239.next=22;break;}this["#users-editor"].disabled=!1;this["#users-change-button"].disabled=!1;this["#users-change-throbber"].hidden=!0;_context239.next=20;return this.Qs.openMessageDialog({message:"Failed to change users",detail:ww(s),buttons:["OK"]});case 20:_context239.next=23;break;case 22:this["#users-editor"].disabled=!1,this["#users-change-button"].disabled=!0,this["#users-change-throbber"].hidden=!0;case 23:case"end":return _context239.stop();}}},_callee238,this,[[4,9]]);}));function PO(){return _PO.apply(this,arguments);}return PO;}()},{key:"qs",value:function qs(){this.DO(),this.zO(),this.OO();}},{key:"DO",value:function DO(){var t=this.Qs.user,e=this.Qs.userSubscription;t?(this["#email-section"].hidden=!1,this["#email-input"].value=t.email,this["#email-input"].error=null,this["#email-verify-button"].disabled=t.emailVerified,this["#email-change-button"].toggled=!1,this["#email-change-button"].disabled=!0,null===e||"deleted"===e.status||void 0===e.status?this["#email-input"].disabled=!1:this["#email-input"].disabled=!0):this["#email-section"].hidden=!0;}},{key:"zO",value:function zO(){this.Qs.user?(this["#password-section"].hidden=!1,this["#password-input"].value="",this["#password-input"].error=null,this["#password-change-button"].toggled=!1,this["#password-change-button"].disabled=!0):this["#password-section"].hidden=!0;}},{key:"OO",value:function OO(){var t=this.Qs.user,e=this.Qs.userSubscription,_Bf5=Bf(e,t),_Bf6=_slicedToArray(_Bf5,2),i=_Bf6[0],s=_Bf6[1];if(s)this["#users-section"].hidden=!0,this["#users-section"].previousElementSibling.hidden=!0;else if(t){var _i1752=[];e&&e.orgUsers&&(_i1752=e.orgUsers),this["#users-section"].hidden=!1,this["#users-section"].previousElementSibling.hidden=!1,this["#users-editor"].limit=e&&void 0!==e.quantity?e.quantity:1,this["#users-editor"].value=[t.email].concat(_toConsumableArray(_i1752)),this["#users-change-button"].disabled=!0;}else this["#users-section"].hidden=!0,this["#users-section"].previousElementSibling.hidden=!0;}}]);return Sw;}(dw);_defineProperty(Sw,"_shadowTemplate",Yi(_templateObject543()));_defineProperty(Sw,"_shadowStyleSheet",Wi(_templateObject544()));customElements.define("bx-authsettings",Sw);var _w=/*#__PURE__*/function(_HTMLElement142){_inherits(_w,_HTMLElement142);var _super240=_createSuper(_w);_createClass(_w,[{key:"planID",get:function get(){return this.hasAttribute("planid")?this.getAttribute("planid"):null;},set:function set(t){null===t?this.removeAttribute("planid"):this.setAttribute("planid",t);}},{key:"quantity",get:function get(){return this.hasAttribute("quantity")?parseInt(this.getAttribute("quantity")):1;},set:function set(t){null===t?this.removeAttribute("quantity"):this.setAttribute("quantity",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function _w(){var _this1090;_classCallCheck(this,_w);_this1090=_super240.call(this),_this1090._shadowRoot=_this1090.attachShadow({mode:"closed"}),_this1090._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,_w._shadowStyleSheet],_this1090._shadowRoot.append(document.importNode(_w._shadowTemplate.content,!0));var _iterator1757=_createForOfIteratorHelper(_this1090._shadowRoot.querySelectorAll("[id]")),_step1757;try{for(_iterator1757.s();!(_step1757=_iterator1757.n()).done;){var _t2581=_step1757.value;_this1090["#"+_t2581.id]=_t2581;}}catch(err){_iterator1757.e(err);}finally{_iterator1757.f();}_this1090._shadowRoot.addEventListener("click",function(t){return _this1090["do"](t);}),_this1090["#quantity-input"].addEventListener("change",function(t){return _this1090.EO(t);}),_this1090["#quantity-input"].addEventListener("changeend",function(t){return _this1090.TO(t);}),_this1090["#billing-select"].addEventListener("change",function(){return _this1090.AO();});return _this1090;}_createClass(_w,[{key:"connectedCallback",value:function connectedCallback(){var _this1091=this;this.Qs=Ai(this,"#app"),this.qs(),$s.addEventListener("sizechange",this.sp=function(){_this1091.$O();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){$s.removeEventListener("sizechange",this.sp);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("planid"===t||"quantity"===t||"disabled"===t)&&this.qs();}},{key:"do",value:function _do(t){var n=t.target.closest("a"),o=t.target.closest("td");if(n)t.preventDefault(),this.Qs.navigate(n.href,!0);else if(o&&o.cellIndex>0&&o.closest("thead, tbody")){var _t2582;1===o.cellIndex?_t2582=e:2===o.cellIndex&&("monthly"===this["#billing-select"].value?_t2582=s:"yearly"===this["#billing-select"].value&&(_t2582=i)),_t2582!==this.planID&&(this.planID=_t2582,this.dispatchEvent(new CustomEvent("change")));}}},{key:"EO",value:function EO(t){var _Lf=Lf(this.planID,this["#quantity-input"].value),_Lf2=_slicedToArray(_Lf,2),e=_Lf2[0],i=_Lf2[1];this["#discount-span"].textContent=i,this["#price-span"].textContent=e;}},{key:"TO",value:function TO(t){this.quantity=this["#quantity-input"].value,this.dispatchEvent(new CustomEvent("change"));}},{key:"AO",value:function AO(){"yearly"===this["#billing-select"].value?(this.planID=i,this.dispatchEvent(new CustomEvent("change"))):"monthly"===this["#billing-select"].value&&(this.planID=s,this.dispatchEvent(new CustomEvent("change")));}},{key:"qs",value:function qs(){this.IO(),this.$O();}},{key:"IO",value:function IO(){var _Lf3=Lf(this.planID,this.quantity),_Lf4=_slicedToArray(_Lf3,2),t=_Lf4[0],n=_Lf4[1];if(this["#standard-plan-radio"].disabled=this.disabled,this["#premium-plan-radio"].disabled=this.disabled,this["#standard-plan-radio"].toggled=this.planID===e,this["#premium-plan-radio"].toggled=this.planID===s||this.planID===i,this["#cloud-button"].disabled=this.planID===e,this.disabled?(this["#quantity-help-button"].collapse(),this["#quantity-help-button"].disabled=!0):this["#quantity-help-button"].disabled=!1,null===this.planID?(this["#quantity-input"].disabled=!0,this["#quantity-input"].value=1):(this["#quantity-input"].disabled=this.disabled,this["#quantity-input"].value=this.quantity),this.disabled?(this["#discount-help-button"].collapse(),this["#discount-help-button"].disabled=!0):this["#discount-help-button"].disabled=!1,this["#discount-span"].textContent=n,null===this.planID?this["#billing-select"].disabled=!0:this.planID===e?(this["#billing-select"].disabled=!0,this["#billing-select"].value="yearly"):this.planID!==s&&this.planID!==i||(this["#billing-select"].disabled=!1,this["#billing-select"].value=this.planID===s?"monthly":"yearly"),this.disabled?(this["#price-help-button"].collapse(),this["#price-help-button"].disabled=!0):this["#price-help-button"].disabled=!1,this["#price-span"].textContent=t,null===this.planID){var _iterator1758=_createForOfIteratorHelper(this["#table-head"].querySelectorAll("td")),_step1758;try{for(_iterator1758.s();!(_step1758=_iterator1758.n()).done;){var _t2583=_step1758.value;_t2583.part.remove("selected-cell");}}catch(err){_iterator1758.e(err);}finally{_iterator1758.f();}var _iterator1759=_createForOfIteratorHelper(this["#table-body"].querySelectorAll("td")),_step1759;try{for(_iterator1759.s();!(_step1759=_iterator1759.n()).done;){var _t2584=_step1759.value;_t2584.part.remove("selected-cell");}}catch(err){_iterator1759.e(err);}finally{_iterator1759.f();}this["#quantity-td"].part.remove("selected-cell"),this["#discount-td"].part.remove("selected-cell"),this["#billing-td"].part.remove("selected-cell"),this["#price-td"].part.remove("selected-cell");}else if(this.planID===e){var _iterator1760=_createForOfIteratorHelper(this["#table-head"].querySelectorAll("td")),_step1760;try{for(_iterator1760.s();!(_step1760=_iterator1760.n()).done;){var _t2585=_step1760.value;1===_t2585.cellIndex?_t2585.part.add("selected-cell"):_t2585.part.remove("selected-cell");}}catch(err){_iterator1760.e(err);}finally{_iterator1760.f();}var _iterator1761=_createForOfIteratorHelper(this["#table-body"].querySelectorAll("td")),_step1761;try{for(_iterator1761.s();!(_step1761=_iterator1761.n()).done;){var _t2586=_step1761.value;1===_t2586.cellIndex?_t2586.part.add("selected-cell"):_t2586.part.remove("selected-cell");}}catch(err){_iterator1761.e(err);}finally{_iterator1761.f();}this["#quantity-td"].part.add("selected-cell"),this["#discount-td"].part.add("selected-cell"),this["#billing-td"].part.add("selected-cell"),this["#price-td"].part.add("selected-cell");}else if(this.planID===s||this.planID===i){var _iterator1762=_createForOfIteratorHelper(this["#table-head"].querySelectorAll("td")),_step1762;try{for(_iterator1762.s();!(_step1762=_iterator1762.n()).done;){var _t2587=_step1762.value;2===_t2587.cellIndex?_t2587.part.add("selected-cell"):_t2587.part.remove("selected-cell");}}catch(err){_iterator1762.e(err);}finally{_iterator1762.f();}var _iterator1763=_createForOfIteratorHelper(this["#table-body"].querySelectorAll("td")),_step1763;try{for(_iterator1763.s();!(_step1763=_iterator1763.n()).done;){var _t2588=_step1763.value;2===_t2588.cellIndex?_t2588.part.add("selected-cell"):_t2588.part.remove("selected-cell");}}catch(err){_iterator1763.e(err);}finally{_iterator1763.f();}this["#quantity-td"].part.add("selected-cell"),this["#discount-td"].part.add("selected-cell"),this["#billing-td"].part.add("selected-cell"),this["#price-td"].part.add("selected-cell");}}},{key:"$O",value:function $O(){this["#table"].setAttribute("data-size",$s.size);}}]);return _w;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(_w,"observedAttributes",["planid","quantity","disabled"]);_defineProperty(_w,"_shadowTemplate",Yi(_templateObject545()));_defineProperty(_w,"_shadowStyleSheet",Wi(_templateObject546()));customElements.define("bx-planselectblock",_w);var Cw=/*#__PURE__*/function(_dw8){_inherits(Cw,_dw8);var _super241=_createSuper(Cw);function Cw(){var _this1092;_classCallCheck(this,Cw);_this1092=_super241.call(this),_this1092["#plan-select-block"].addEventListener("change",function(){return _this1092.LO();}),_this1092["#billing-button"].addEventListener("click",function(){return _this1092.BO();}),_this1092["#cancel-button"].addEventListener("click",function(){return _this1092.RO();}),_this1092["#subscribe-button"].addEventListener("click",function(){return _this1092.GO();});return _this1092;}_createClass(Cw,[{key:"tn",value:function tn(){var _this1093=this;this.Qs.addEventListener("usersubscriptionchange",this.FO=function(){_this1093.qs();}),this.qs();}},{key:"sn",value:function sn(){this["#plan-select-block"].disabled=!0,this.Qs.removeEventListener("usersubscriptionchange",this.FO);}},{key:"LO",value:function LO(){this.UO();}},{key:"BO",value:function BO(){window.open(this["#billing-button"].value);}},{key:"RO",value:function RO(){window.open(this["#cancel-button"].value);}},{key:"GO",value:function(){var _GO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee239(){var t,e,i,s,_n753,_t2589;return regeneratorRuntime.wrap(function _callee239$(_context240){while(1){switch(_context240.prev=_context240.next){case 0:t=this.Qs.user,e=this.Qs.userSubscription,i=this["#plan-select-block"].planID,s=this["#plan-select-block"].quantity;if(!(null===e||"deleted"===e.status||"past_due"===e.status&&null!==e.cancellationEffectiveDate)){_context240.next=5;break;}this.Qs.navigate(Rf(location.href,"dialog","checkout\u2192".concat(i,"\xD7").concat(s)));_context240.next=27;break;case 5:if(!("active"===e.status)){_context240.next=27;break;}_context240.next=8;return this.Qs.openPasswordConfirmDialog();case 8:if(!_context240.sent){_context240.next=27;break;}this["#main"].hidden=!0,this["#progress-bar"].hidden=!1,this.Qs.lockInput();_n753=null;_context240.prev=11;_context240.next=14;return this.Qs.callCloudFunction("changeUserSubscriptionPlan",{userUID:t.uid,subscriptionID:e.subscriptionID,planID:i,quantity:s});case 14:_context240.next=19;break;case 16:_context240.prev=16;_context240.t0=_context240["catch"](11);_n753=_context240.t0;case 19:if(!(this["#main"].hidden=!1,this["#progress-bar"].hidden=!0,this.Qs.unlockInput(),_n753)){_context240.next=24;break;}_context240.next=22;return this.Qs.openMessageDialog({message:"Failed to change the current plan",detail:ww(_n753),buttons:["OK"]});case 22:_context240.next=27;break;case 24:_t2589=this.NO(i,s);_context240.next=27;return this.Qs.openMessageDialog({message:"Changed the current plan",detail:"Your new plan is: ".concat(_t2589,"."),buttons:["OK"]});case 27:case"end":return _context240.stop();}}},_callee239,this,[[11,16]]);}));function GO(){return _GO.apply(this,arguments);}return GO;}()},{key:"NO",value:function NO(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var o,l;return l=1===n?"1 user":"".concat(n," users"),t===e?o="Standard (yearly billing, ".concat(l,")"):t===s?o="Premium (monthly billing, ".concat(l,")"):t===i&&(o="Premium (yearly billing, ".concat(l,")")),o;}},{key:"qs",value:function qs(){this.VO(),this.jO(),this.UO();}},{key:"VO",value:function VO(){var t=this.Qs.user;if(null===t)this["#info-section"].hidden=!0;else{this["#info-section"].hidden=!1;var _i1753=this.Qs.userSubscription,_Bf7=Bf(_i1753,t),_Bf8=_slicedToArray(_Bf7,3),_s1043=_Bf8[0],_n754=_Bf8[1],_o565=_Bf8[2];if(null===_i1753){if(this["#subscription-plan-span"].textContent="Standard",_o565){var _e1966=moment().to(moment(t.metadata.creationTime).add(15,"days"),!0);this["#subscription-status-span"].textContent="Trial (".concat(_e1966," remaining)");}else this["#subscription-status-span"].textContent="Canceled (trial period expired)";}else if(!0===_n754)this["#subscription-plan-span"].textContent=_s1043===e?"Standard":"Premium",this["#subscription-status-span"].textContent="Active (contact your organization admin to make changes)";else{this["#subscription-plan-span"].textContent=this.NO(_s1043,_i1753.quantity);var _t2590=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"});if("active"===_i1753.status){var _e1967=_t2590.format(new Date(_i1753.nextBillDate));this["#subscription-status-span"].textContent="Active (next payment due on ".concat(_e1967,")");}else if("deleted"===_i1753.status){var _e1968=_t2590.format(new Date(_i1753.cancellationEffectiveDate));this["#subscription-status-span"].textContent="Canceled (effective cancellation on ".concat(_e1968,")");}else if("past_due"===_i1753.status)if(null===_i1753.cancellationEffectiveDate)this["#subscription-status-span"].textContent="Past due (please update your billing information)";else{var _e1969=_t2590.format(new Date(_i1753.cancellationEffectiveDate));this["#subscription-status-span"].textContent="Canceled (effective cancellation on ".concat(_e1969,")");}}}}},{key:"jO",value:function jO(){var t=this.Qs.user;if(null===t)this["#plan-section"].hidden=!0;else{var _i1754=this.Qs.userSubscription,_Bf9=Bf(_i1754,t),_Bf10=_slicedToArray(_Bf9,2),_s1044=_Bf10[0],_n755=_Bf10[1];this["#plan-section"].hidden=!1,this["#plan-select-block"].disabled=_n755,this["#plan-select-block"].planID=_s1044||e,this["#plan-select-block"].quantity=_n755?1:_i1754?_i1754.quantity:1;}}},{key:"UO",value:function UO(){var t=this.Qs.user;if(null===t)this["#buttons-section"].hidden=!0;else{this["#buttons-section"].hidden=!1;var _e1970=this.Qs.userSubscription,_Bf11=Bf(_e1970,t),_Bf12=_slicedToArray(_Bf11,2),_i1755=_Bf12[0],_s1045=_Bf12[1];_s1045?(this["#billing-button"].disabled=!0,this["#billing-button"].value="",this["#cancel-button"].disabled=!0,this["#cancel-button"].value="",this["#subscribe-button"].disabled=!0,this["#subscribe-button-label"].textContent="Subscribe"):null===_e1970||"deleted"===_e1970.status?(this["#billing-button"].disabled=!0,this["#billing-button"].value="",this["#cancel-button"].disabled=!0,this["#cancel-button"].value="",this["#subscribe-button"].disabled=!1,this["#subscribe-button-label"].textContent="Subscribe"):"active"===_e1970.status?(this["#billing-button"].disabled=!1,this["#billing-button"].value=_e1970.updateURL,this["#cancel-button"].disabled=!1,this["#cancel-button"].value=_e1970.cancelURL,this["#subscribe-button"].disabled=this["#plan-select-block"].planID===_e1970.subscriptionPlanID&&this["#plan-select-block"].quantity===_e1970.quantity,this["#subscribe-button-label"].textContent="Change plan"):"past_due"===_e1970.status&&(null===_e1970.cancellationEffectiveDate?(this["#billing-button"].disabled=!1,this["#billing-button"].value=_e1970.updateURL,this["#cancel-button"].disabled=!1,this["#cancel-button"].value=_e1970.cancelURL,this["#subscribe-button"].disabled=!0,this["#subscribe-button-label"].textContent="Change plan"):(this["#billing-button"].disabled=!0,this["#billing-button"].value="",this["#cancel-button"].disabled=!0,this["#cancel-button"].value="",this["#subscribe-button"].disabled=!1,this["#subscribe-button-label"].textContent="Subscribe"));}}}]);return Cw;}(dw);_defineProperty(Cw,"_shadowTemplate",Yi(_templateObject547()));_defineProperty(Cw,"_shadowStyleSheet",Wi(_templateObject548()));customElements.define("bx-subscriptionsettings",Cw);var Mw=/*#__PURE__*/function(_dw9){_inherits(Mw,_dw9);var _super242=_createSuper(Mw);function Mw(){var _this1094;_classCallCheck(this,Mw);_this1094=_super242.call(this),_this1094["#password-input"].addEventListener("input",function(){return _this1094.qs();}),_this1094["#delete-account-button"].addEventListener("click",function(){return _this1094.HO();});return _this1094;}_createClass(Mw,[{key:"tn",value:function tn(){var _this1095=this;this.YO=firebase.auth().onAuthStateChanged(function(t){return _this1095.qs();}),this.qs();}},{key:"sn",value:function sn(){this.YO();}},{key:"qs",value:function qs(){0===this["#password-input"].value.length?(this["#delete-account-button"].disabled=!0,this["#delete-account-button"].toggled=!1,this["#delete-account-button"].part.remove("delete-button")):(this["#delete-account-button"].disabled=!1,this["#delete-account-button"].toggled=!0,this["#delete-account-button"].part.add("delete-button"));}},{key:"HO",value:function(){var _HO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee240(){var _t2591,_e1971,_i1756,_s1046,_t2592,_e1972,_t2593;return regeneratorRuntime.wrap(function _callee240$(_context241){while(1){switch(_context241.prev=_context241.next){case 0:this["#default-view"].hidden=!0,this["#progress-view"].hidden=!1,this.Qs.lockInput();this["#progress-label"].textContent="Validating password\u2026";_t2591=this.Qs.user,_e1971=this["#password-input"].value,_i1756=firebase.auth.EmailAuthProvider.credential(_t2591.email,_e1971),_s1046=null;_context241.prev=3;_context241.next=6;return _t2591.reauthenticateWithCredential(_i1756);case 6:_context241.next=11;break;case 8:_context241.prev=8;_context241.t0=_context241["catch"](3);_s1046=_context241.t0;case 11:if(!_s1046){_context241.next=23;break;}this["#default-view"].hidden=!1;this["#progress-view"].hidden=!0;this.Qs.unlockInput();if(!("auth/wrong-password"===_s1046.code)){_context241.next=19;break;}_context241.t1=(this["#password-input"].error="Wrong password",this["#delete-account-button"].disabled=!0);_context241.next=22;break;case 19:_context241.next=21;return this.Qs.openMessageDialog({message:"Error",detail:"".concat(_s1046.message," (").concat(_s1046.code,")"),buttons:["OK"]});case 21:_context241.t1=_context241.sent;case 22:return _context241.abrupt("return",void _context241.t1);case 23:this["#progress-label"].textContent="Deleting account\u2026";_t2592=this.Qs.user,_e1972=null;_context241.prev=25;_context241.next=28;return this.Qs.callCloudFunction("deleteUser",_t2592.uid);case 28:_context241.next=33;break;case 30:_context241.prev=30;_context241.t2=_context241["catch"](25);_e1972=_context241.t2;case 33:if(!_e1972){_context241.next=35;break;}return _context241.abrupt("return",(this["#default-view"].hidden=!1,this["#progress-view"].hidden=!0,this.Qs.unlockInput(),void this.Qs.openMessageDialog({message:"Failed to delete user account",detail:ww(_e1972),buttons:["OK"]})));case 35:this["#progress-label"].textContent="Logging out\u2026";_context241.next=38;return Qi(1e3);case 38:_context241.next=40;return firebase.auth().signOut();case 40:this.Qs.unlockInput();_t2593=Ai(this,"dialog");_t2593&&_t2593.close();case 43:case"end":return _context241.stop();}}},_callee240,this,[[3,8],[25,30]]);}));function HO(){return _HO.apply(this,arguments);}return HO;}()}]);return Mw;}(dw);_defineProperty(Mw,"_shadowTemplate",Yi(_templateObject549()));_defineProperty(Mw,"_shadowStyleSheet",Wi(_templateObject550()));customElements.define("bx-deleteaccountsettings",Mw);var Pw=/*#__PURE__*/function(_HTMLElement143){_inherits(Pw,_HTMLElement143);var _super243=_createSuper(Pw);_createClass(Pw,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"general";},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}}]);function Pw(){var _temp52,_this1096;_classCallCheck(this,Pw);(_temp52=_this1096=_super243.call(this),_defineProperty(_assertThisInitialized(_this1096),"commands",{copy:{exec:function exec(){return document.execCommand("copy");}},cut:{exec:function exec(){return document.execCommand("cut");}},paste:{exec:function exec(){return document.execCommand("paste");}},selectAll:{exec:function exec(){return document.execCommand("selectAll");}},undo:{exec:function exec(){return document.execCommand("undo");}},redo:{exec:function exec(){return document.execCommand("redo");}}}),_temp52),_this1096._shadowRoot=_this1096.attachShadow({mode:"closed"}),_this1096._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Pw._shadowStyleSheet],_this1096._shadowRoot.append(document.importNode(Pw._shadowTemplate.content,!0));var _iterator1764=_createForOfIteratorHelper(_this1096._shadowRoot.querySelectorAll("[id]")),_step1764;try{for(_iterator1764.s();!(_step1764=_iterator1764.n()).done;){var _t2594=_step1764.value;_this1096["#"+_t2594.id]=_t2594;}}catch(err){_iterator1764.e(err);}finally{_iterator1764.f();}_this1096.setAttribute("tabindex","0"),_this1096["#sidebar-buttons"].addEventListener("toggle",function(){_this1096.value=_this1096["#sidebar-buttons"].value,_this1096.dispatchEvent(new CustomEvent("valuechange"));}),_this1096["#logout-button"].addEventListener("click",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee241(){return regeneratorRuntime.wrap(function _callee241$(_context242){while(1){switch(_context242.prev=_context242.next){case 0:_context242.next=2;return firebase.auth().signOut();case 2:_this1096.WO&&_this1096.WO.close();case 3:case"end":return _context242.stop();}}},_callee241);}))),_this1096.addEventListener("keydown",function(t){"Escape"===t.code&&!1===t.defaultPrevented&&_this1096.WO&&_this1096.WO.close();});return _this1096;}_createClass(Pw,[{key:"connectedCallback",value:function connectedCallback(){var _this1097=this;this.Qs=Ai(this,"#app"),this.WO=Ai(this,"dialog"),this.Qs.addEventListener("userchange",this.Gz=function(){_this1097.qs();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Qs.removeEventListener("userchange",this.Gz);var _iterator1765=_createForOfIteratorHelper(this["#main"].children),_step1765;try{for(_iterator1765.s();!(_step1765=_iterator1765.n()).done;){var _t2595=_step1765.value;_t2595.enabled=!1;}}catch(err){_iterator1765.e(err);}finally{_iterator1765.f();}}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"value"===t&&this.sx();}},{key:"sx",value:function sx(){this.isConnected&&this.qs();}},{key:"qs",value:function qs(){var t=void 0!==this.Qs.user&&null!==this.Qs.user,e=this.value;["profile","auth","subscription","delete-account"].includes(e)&&!1===t&&(e="general"),this["#sidebar-buttons"].value=e,this["#profile-button"].hidden=!1===t,this["#auth-button"].hidden=!1===t,this["#subscription-button"].hidden=!1===t,this["#delete-account-button"].hidden=!1===t,this["#logout-button"].hidden=!1===t,this["#sidebar-separator-1"].hidden=!1===t,this["#sidebar-separator-2"].hidden=!1===t;var _iterator1766=_createForOfIteratorHelper(this["#main"].children),_step1766;try{for(_iterator1766.s();!(_step1766=_iterator1766.n()).done;){var _t2596=_step1766.value;_t2596.enabled=_t2596.getAttribute("data-name")===e;}}catch(err){_iterator1766.e(err);}finally{_iterator1766.f();}}}]);return Pw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Pw,"observedAttributes",["value"]);_defineProperty(Pw,"_shadowTemplate",Yi(_templateObject551()));_defineProperty(Pw,"_shadowStyleSheet",Wi(_templateObject552()));customElements.define("bx-preferences",Pw);var Dw=/*#__PURE__*/function(_HTMLElement144){_inherits(Dw,_HTMLElement144);var _super244=_createSuper(Dw);_createClass(Dw,[{key:"version",get:function get(){return this.hasAttribute("version")?this.getAttribute("version"):"1.0.0";},set:function set(t){this.setAttribute("version",t);}}]);function Dw(){var _temp53,_this1098;_classCallCheck(this,Dw);(_temp53=_this1098=_super244.call(this),_defineProperty(_assertThisInitialized(_this1098),"commands",{}),_defineProperty(_assertThisInitialized(_this1098),"gv",0),_temp53),_this1098._shadowRoot=_this1098.attachShadow({mode:"closed"}),_this1098._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,Dw._shadowStyleSheet],_this1098._shadowRoot.append(document.importNode(Dw._shadowTemplate.content,!0));var _iterator1767=_createForOfIteratorHelper(_this1098._shadowRoot.querySelectorAll("[id]")),_step1767;try{for(_iterator1767.s();!(_step1767=_iterator1767.n()).done;){var _t2597=_step1767.value;_this1098["#"+_t2597.id]=_t2597;}}catch(err){_iterator1767.e(err);}finally{_iterator1767.f();}_this1098.setAttribute("tabindex","0"),_this1098["#main"].addEventListener("scroll",function(){return _this1098.Tc();}),_this1098.addEventListener("keydown",function(t){"Escape"===t.code&&!1===t.defaultPrevented&&_this1098.WO&&_this1098.WO.close();});return _this1098;}_createClass(Dw,[{key:"connectedCallback",value:function(){var _connectedCallback9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee242(){var _iterator1768,_step1768,_t2598;return regeneratorRuntime.wrap(function _callee242$(_context243){while(1){switch(_context243.prev=_context243.next){case 0:this.Qs=Ai(this,"#app");this.WO=Ai(this,"dialog");_context243.t0=null===this["#main"].firstElementChild;if(!_context243.t0){_context243.next=9;break;}_context243.next=6;return fetch("/metadata/content/about.tpl");case 6:_context243.next=8;return _context243.sent.text();case 8:this["#main"].innerHTML=_context243.sent;case 9:if(!("bx-chromeapp"===this.Qs.localName)){_context243.next=12;break;}_iterator1768=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[rel="noopener"]'));try{for(_iterator1768.s();!(_step1768=_iterator1768.n()).done;){_t2598=_step1768.value;_t2598.removeAttribute("rel");}}catch(err){_iterator1768.e(err);}finally{_iterator1768.f();}case 12:this["#main"].scrollTop=this.gv;case 13:case"end":return _context243.stop();}}},_callee242,this);}));function connectedCallback(){return _connectedCallback9.apply(this,arguments);}return connectedCallback;}()},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"version"===t&&(this["#version"].textContent="Version ".concat(this.version));}},{key:"Tc",value:function Tc(){this.gv=this["#main"].scrollTop;}}]);return Dw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Dw,"observedAttributes",["version"]);_defineProperty(Dw,"_shadowTemplate",Yi(_templateObject553(),new Date().getFullYear()));_defineProperty(Dw,"_shadowStyleSheet",Wi(_templateObject554()));customElements.define("bx-about",Dw);var zw=/*#__PURE__*/function(_HTMLElement145){_inherits(zw,_HTMLElement145);var _super245=_createSuper(zw);_createClass(zw,[{key:"throbber",get:function get(){return this.hasAttribute("throbber");},set:function set(t){t?this.setAttribute("throbber",""):this.removeAttribute("throbber");}},{key:"dirty",get:function get(){return this.qO;}}]);function zw(){var _this1099;_classCallCheck(this,zw);_this1099=_super245.call(this),_this1099.XO=!1,_this1099.qO=!1;var t=_this1099.constructor.ZO,e=_this1099.constructor.nC,i=_this1099.constructor.oC;_this1099._shadowRoot=_this1099.attachShadow({mode:"closed"}),_this1099._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,zw._shadowStyleSheet,_this1099.constructor._shadowStyleSheet],_this1099._shadowRoot.append(document.importNode(zw._shadowTemplate.content,!0)),t&&_this1099._shadowRoot.querySelector("#header").append(document.importNode(t.content,!0)),e&&_this1099._shadowRoot.querySelector("#main").append(document.importNode(e.content,!0)),i&&_this1099._shadowRoot.querySelector("#footer").append(document.importNode(i.content,!0));var _iterator1769=_createForOfIteratorHelper(_this1099._shadowRoot.querySelectorAll("[id]")),_step1769;try{for(_iterator1769.s();!(_step1769=_iterator1769.n()).done;){var _t2599=_step1769.value;_this1099["#"+_t2599.id]=_t2599;}}catch(err){_iterator1769.e(err);}finally{_iterator1769.f();}_this1099.setAttribute("extends","bx-form"),_this1099.setAttribute("tabindex","0"),_this1099.addEventListener("keydown",function(t){return _this1099.vn(t);});return _this1099;}_createClass(zw,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ai(this,"#app"),this.WO=Ai(this,"dialog");}},{key:"blinkFooter",value:function blinkFooter(){var _this1100=this;return new Promise(/*#__PURE__*/function(){var _ref182=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee243(t){return regeneratorRuntime.wrap(function _callee243$(_context244){while(1){switch(_context244.prev=_context244.next){case 0:_context244.t0=!1===_this1100.XO;if(!_context244.t0){_context244.next=14;break;}_this1100.XO=!0;_this1100.setAttribute("blink","");_context244.next=6;return Qi(200);case 6:_this1100.removeAttribute("blink","");_context244.next=9;return Qi(200);case 9:_this1100.setAttribute("blink","");_context244.next=12;return Qi(200);case 12:_this1100.removeAttribute("blink","");_this1100.XO=!1;case 14:t();case 15:case"end":return _context244.stop();}}},_callee243);}));return function(_x206){return _ref182.apply(this,arguments);};}());}},{key:"clear",value:function clear(){this.qO=!1;}},{key:"vn",value:function vn(t){if(t.stopPropagation(),"Escape"===t.code&&t.preventDefault(),!1===this.throbber&&this.matches(":focus"))if("Escape"===t.code)this.dirty?this.blinkFooter():this["#cancel-button"]?this["#cancel-button"].click():this.WO&&this.WO.close();else if("Enter"===t.code||"Space"===t.code){var _e1973=this["#footer"].querySelector("x-button[toggled]");_e1973&&!1===_e1973.disabled&&t.target!==_e1973&&_e1973.click();}}}]);return zw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(zw,"_shadowTemplate",Yi(_templateObject555()));_defineProperty(zw,"_shadowStyleSheet",Wi(_templateObject556()));var Ow=/*#__PURE__*/function(_zw){_inherits(Ow,_zw);var _super246=_createSuper(Ow);function Ow(){var _this1101;_classCallCheck(this,Ow);_this1101=_super246.call(this),_this1101["#ok-button"].addEventListener("click",function(){return _this1101.WO.close();});return _this1101;}return Ow;}(zw);_defineProperty(Ow,"nC",Yi(_templateObject557()));_defineProperty(Ow,"oC",Yi(_templateObject558()));_defineProperty(Ow,"_shadowStyleSheet",Wi(_templateObject559()));customElements.define("bx-chromeinstallform",Ow);var Ew=/*#__PURE__*/function(_zw2){_inherits(Ew,_zw2);var _super247=_createSuper(Ew);function Ew(){_classCallCheck(this,Ew);return _super247.apply(this,arguments);}return Ew;}(zw);_defineProperty(Ew,"nC",Yi(_templateObject560()));_defineProperty(Ew,"_shadowStyleSheet",Wi(_templateObject561()));customElements.define("bx-chromesigninform",Ew);var Tw=/*#__PURE__*/function(_zw3){_inherits(Tw,_zw3);var _super248=_createSuper(Tw);function Tw(){var _this1102;_classCallCheck(this,Tw);_this1102=_super248.call(this),_this1102["#close-button"].addEventListener("click",function(){return chrome.app.window.current().close();});return _this1102;}return Tw;}(zw);_defineProperty(Tw,"nC",Yi(_templateObject562()));_defineProperty(Tw,"oC",Yi(_templateObject563()));_defineProperty(Tw,"_shadowStyleSheet",Wi(_templateObject564()));customElements.define("bx-chrometrialform",Tw);var Aw=/*#__PURE__*/function(_zw4){_inherits(Aw,_zw4);var _super249=_createSuper(Aw);function Aw(t){var _this1103;_classCallCheck(this,Aw);if(_this1103=_super249.call(this),t.message&&(_this1103["#message"].innerHTML=ai(t.message)),t.detail){var _e1974=t.detail.startsWith("<p")?t.detail:"<p>".concat(t.detail,"</p>");_this1103["#detail"].innerHTML=ai(_e1974);}if(t.buttons){var _e1975="";for(var _i1757=t.buttons.length-1;_i1757>=0;_i1757-=1){_e1975+="\n          <x-button value=\"".concat(_i1757,"\" ").concat(0===_i1757?"toggled":"",">\n            <x-label>").concat(t.buttons[_i1757],"</x-label>\n          </x-button>\n        ");}_this1103["#footer"].innerHTML=_e1975;}_this1103["#footer"].addEventListener("click",function(t){return _this1103.KO(t);});return _possibleConstructorReturn(_this1103);}_createClass(Aw,[{key:"KO",value:function KO(t){var e=t.target.closest("x-button");e&&this.dispatchEvent(new CustomEvent("submit",{detail:parseInt(e.value)}));}}]);return Aw;}(zw);_defineProperty(Aw,"nC",Yi(_templateObject565()));_defineProperty(Aw,"_shadowStyleSheet",Wi(_templateObject566()));customElements.define("bx-messageform",Aw);var $w=function $w(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"text/plain";return new Promise(/*#__PURE__*/function(){var _ref183=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee244(s,n){var o;return regeneratorRuntime.wrap(function _callee244$(_context245){while(1){switch(_context245.prev=_context245.next){case 0:_context245.next=2;return Gw(t);case 2:o=_context245.sent;o?o.createWriter(function(t){var _o566,_l424,h=e instanceof Blob?e:new Blob([e],{type:i}),a="write";t.addEventListener("writeend",_o566=function o(e){"write"===a?(a="truncate",t.truncate(h.size)):"truncate"===a&&(t.removeEventListener("writeend",_o566),t.removeEventListener("error",_l424),s());}),t.addEventListener("error",_l424=function l(e){t.removeEventListener("writeend",_o566),t.removeEventListener("error",_l424),n("READ_ONLY");}),t.write(h);},function(t){n("NOT_FOUND");}):n("READ_ONLY");case 4:case"end":return _context245.stop();}}},_callee244);}));return function(_x207,_x208){return _ref183.apply(this,arguments);};}());},Iw=function Iw(t){return new Promise(function(e,i){chrome.fileSystem.chooseEntry(t,function(s){chrome.runtime.lastError?"User cancelled"===chrome.runtime.lastError.message?e(!0===t.acceptsMultiple?[]:null):i(chrome.runtime.lastError.message):e(s);});});},Lw=function Lw(t){return new Promise(function(e){chrome.fileSystem.restoreEntry(t,function(t){t?t.file(function(){return e(t);},function(){return e(null);}):e(null);});});},Bw=/*#__PURE__*/function(){var _ref184=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee246(t,e){return regeneratorRuntime.wrap(function _callee246$(_context247){while(1){switch(_context247.prev=_context247.next){case 0:return _context247.abrupt("return",new Promise(/*#__PURE__*/function(){var _ref185=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee245(i){return regeneratorRuntime.wrap(function _callee245$(_context246){while(1){switch(_context246.prev=_context246.next){case 0:_context246.t0=i;_context246.next=3;return Rw(t);case 3:_context246.t1=_context246.sent;_context246.next=6;return Rw(e);case 6:_context246.t2=_context246.sent;_context246.t3=_context246.t1===_context246.t2;(0,_context246.t0)(_context246.t3);case 9:case"end":return _context246.stop();}}},_callee245);}));return function(_x211){return _ref185.apply(this,arguments);};}()));case 1:case"end":return _context247.stop();}}},_callee246);}));return function Bw(_x209,_x210){return _ref184.apply(this,arguments);};}(),Rw=function Rw(t){return new Promise(function(e){chrome.fileSystem.getDisplayPath(t,function(t){e(t);});});},Gw=function Gw(t){return new Promise(function(e){chrome.fileSystem.isWritableEntry(t,function(i){i?e(t):chrome.fileSystem.getWritableEntry(t,function(t){chrome.runtime.lastError?e(null):e(t);});});});},Fw=Math.pow,Uw=Math.sqrt,Nw=Object.entries,Vw=Symbol(),jw=Symbol(),Hw=Symbol(),Yw=Symbol(),Ww=Symbol();var qw=/*#__PURE__*/function(_HTMLElement146){_inherits(qw,_HTMLElement146);var _super250=_createSuper(qw);_createClass(qw,[{key:"currentTab",get:function get(){return this["#tabs"].querySelector("x-doctab[selected]");}},{key:"currentEditorTab",get:function get(){var t=this.currentTab;return t&&"editor"===t[Vw]?t:null;}},{key:"currentEditor",get:function get(){return this.currentEditorTab?this.currentEditorTab[jw]:null;}},{key:"currentView",get:function get(){return this.currentTab?this.currentTab[jw]:null;}},{key:"textInputMode",get:function get(){return this.QO;}},{key:"modKeys",get:function get(){var _this$JO=this.JO,t=_this$JO.ctrl,e=_this$JO.alt,i=_this$JO.meta,s=_this$JO.shift;return{ctrl:t,alt:e,meta:i,shift:s};}},{key:"pointerClientPoint",get:function get(){return new DOMPoint(this.tE,this.eE);}},{key:"pointerPressure",get:function get(){return this.iE;}},{key:"pointers",get:function get(){return _toConsumableArray(this.sE);}},{key:"pointerClickCount",get:function get(){return this.nE;}},{key:"isPointerDown",get:function get(){return this.oE;}},{key:"hardwareAcceleration",get:function get(){return new Promise(function(t){return t(!0);});},set:function set(t){}}]);function qw(){var _temp54,_this1104;_classCallCheck(this,qw);(_temp54=_this1104=_super250.call(this),_defineProperty(_assertThisInitialized(_this1104),"commands",{"new":{exec:function exec(){return _this1104.lE();}},newFromSelected:{enabled:function enabled(){return _this1104.hE();},exec:function exec(){return _this1104.aE();}},newFromClipboard:{exec:function exec(){return _this1104.rE();}},open:{exec:function exec(){return _this1104.dE();}},clearRecent:{exec:function exec(){return _this1104.cE();}},save:{exec:function exec(){return _this1104.pE();}},saveAs:{exec:function exec(){return _this1104.uE();}},reloadFromDisk:{enabled:function enabled(){return _this1104.currentEditorTab&&null!==_this1104.currentEditorTab[Hw];},exec:function exec(){return _this1104.xE();}},close:{exec:function exec(){return _this1104.bE(_this1104.currentTab);}},quit:{exec:function exec(){return _this1104.mE();}},preferences:{exec:function exec(){return _this1104.gE();}},minimize:{exec:function exec(){return _this1104.fE();}},maximize:{exec:function exec(){return _this1104.wE();}},previousTab:{exec:function exec(){return _this1104.vE();}},nextTab:{exec:function exec(){return _this1104.yE();}},moveTabLeft:{exec:function exec(){return _this1104["#tabs"].moveSelectedTabLeft();}},moveTabRight:{exec:function exec(){return _this1104["#tabs"].moveSelectedTabRight();}},about:{exec:function exec(){return _this1104.kE();}}}),_temp54),_this1104.JO={ctrl:!1,alt:!1,meta:!1,shift:!1},_this1104.QO=!1,_this1104.sE=new Set(),_this1104.tE=0,_this1104.eE=0,_this1104.iE=0,_this1104.nE=0,_this1104.oE=!1,_this1104.SE=[],_this1104._E=0,_this1104.CE={},_this1104.ME={},_this1104.PE={},_this1104.DE=null,_this1104.zE().then(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee247(){var _iterator1770,_step1770,_t2602,_t2600;return regeneratorRuntime.wrap(function _callee247$(_context248){while(1){switch(_context248.prev=_context248.next){case 0:_this1104._shadowRoot=_this1104.attachShadow({mode:"closed"}),_this1104._shadowRoot.adoptedStyleSheets=[$s.themeStyleSheet,qw._shadowStyleSheet],_this1104._shadowRoot.append(document.importNode(qw._shadowTemplate.content,!0));_iterator1770=_createForOfIteratorHelper(_this1104._shadowRoot.querySelectorAll("[id]"));try{for(_iterator1770.s();!(_step1770=_iterator1770.n()).done;){_t2602=_step1770.value;_this1104["#"+_t2602.id]=_t2602;}}catch(err){_iterator1770.e(err);}finally{_iterator1770.f();}window.matchMedia("(prefers-color-scheme: dark)").addListener(function(){return _this1104.OE();});window.addEventListener("message",function(t){return _this1104.EE(t);});window.addEventListener("keydown",function(t){return _this1104.vn(t);});window.addEventListener("keyup",function(t){return _this1104.Gn(t);});window.addEventListener("focus",function(t){return _this1104.TE(t);});window.addEventListener("blur",function(t){return _this1104.AE(t);});window.addEventListener("pointerdown",function(t){return _this1104.wo(t);},!0);window.addEventListener("pointermove",function(t){return _this1104.Ud(t);});window.addEventListener("pointerup",function(t){return _this1104.Yh(t);});window.addEventListener("pointercancel",function(t){return _this1104.$E(t);});_this1104.addEventListener("configchange",function(t){return _this1104.hn(t);});_this1104.addEventListener("textinputmodestart",function(){return _this1104.QO=!0;});_this1104.addEventListener("textinputmodeend",function(){return _this1104.QO=!1;});_this1104._shadowRoot.addEventListener("dragover",function(t){return _this1104.IE(t);});_this1104._shadowRoot.addEventListener("drop",function(t){return _this1104.LE(t);});_this1104["#titlebar-buttons"].addEventListener("click",function(t){return _this1104.BE(t);});_this1104["#menubar"].addEventListener("click",function(t){return _this1104.RE(t);});_this1104["#menubar"].addEventListener("toggle",function(t){return _this1104.GE(t);});_this1104["#menubar"].addEventListener("open",function(t){return _this1104.FE(t);});_this1104["#menubar"].addEventListener("close",function(t){return _this1104.UE(t);});_this1104["#tabs"].addEventListener("open",function(t){return _this1104.NE(t);});_this1104["#tabs"].addEventListener("close",function(t){return _this1104.VE(t);});_this1104["#tabs"].addEventListener("select",function(t){return _this1104.jE(t);});_this1104["#main"].addEventListener("change",function(t){return _this1104.HE(t);});_this1104.addMessageListener("openTabs",function(t){return _this1104.YE(t);});_context248.next=30;return _this1104.WE();case 30:_this1104.qE();_this1104.XE();_this1104.postMessage("ready",null,function(t){return _this1104.ZE(t);});_t2600=_this1104.getConfig("license",null);if(!("FULL"===_t2600)){_context248.next=38;break;}_t2600="FULL";_context248.next=44;break;case 38:_this1104["#sign-in-dialog"].showModal();_context248.next=41;return new Promise(function(t){chrome.identity.getAuthToken({interactive:!0},function(e){if(chrome.runtime.lastError)console.log("chrome.identity.getAuthToken() failed, assuming trial license",chrome.runtime.lastError),t("FREE_TRIAL");else{var _i1758=new XMLHttpRequest();_i1758.open("GET","https://www.googleapis.com/chromewebstore/v1.1/userlicenses/"+chrome.runtime.id),_i1758.setRequestHeader("Authorization","Bearer ".concat(e)),_i1758.send(),_i1758.onerror=function(e){console.log("xhr.open() failed, assuming trial license",e),t("FREE_TRIAL");},_i1758.onload=function(){if(200!==_i1758.status)console.log("XHR response with status code ".concat(_i1758.status,", assuming trial license")),t("FREE_TRIAL");else{var _e1976="FREE_TRIAL",_s1047=_i1758.response,_n756=JSON.parse(_s1047);if("FULL"===_n756.accessLevel)_e1976="FULL";else if("FREE_TRIAL"===_n756.accessLevel){var _t2601=1502367014252,_i1759=Date.now(),_s1048=parseInt(_n756.createdTime,10);_e1976=(_i1759-_s1048)/1e3/60/60/24<=7?"FREE_TRIAL":_s1048<_t2601?"FULL":"FREE_TRIAL_EXPIRED";}else _e1976="NONE";t(_e1976);}};}});});case 41:_t2600=_context248.sent;_this1104["#sign-in-dialog"].close();_this1104.setConfig("license",_t2600);case 44:"FREE_TRIAL_EXPIRED"===_t2600?_this1104["#trial-dialog"].showModal():!1===navigator.userAgent.includes("CrOS")&&_this1104["#install-dialog"].showModal();case 45:case"end":return _context248.stop();}}},_callee247);})));return _this1104;}_createClass(qw,[{key:"postMessage",value:function(){var _postMessage=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee248(t){var e,i,s,_args249=arguments;return regeneratorRuntime.wrap(function _callee248$(_context249){while(1){switch(_context249.prev=_context249.next){case 0:e=_args249.length>1&&_args249[1]!==undefined?_args249[1]:null;i=_args249.length>2&&_args249[2]!==undefined?_args249[2]:null;s={channel:"request",id:this._E++,name:t,arg:e};i&&(this.ME[s.id]=i);_context249.t0=this.DE;if(_context249.t0){_context249.next=9;break;}_context249.next=8;return new Promise(function(t){chrome.runtime.getBackgroundPage(function(e){return t(e);});});case 8:this.DE=_context249.sent;case 9:this.DE.postMessage(s,"*");case 10:case"end":return _context249.stop();}}},_callee248,this);}));function postMessage(_x212){return _postMessage.apply(this,arguments);}return postMessage;}()},{key:"addMessageListener",value:function addMessageListener(t,e){this.CE[t]||(this.CE[t]=[]),this.CE[t].push(e);}},{key:"removeMessageListener",value:function removeMessageListener(t,e){this.CE[t]&&(this.CE[t]=this.CE[t].filter(function(t){return t!==e;}));}},{key:"getConfig",value:function getConfig(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=e;var s;return void 0!==this.PE[t]&&(this.PE[t]instanceof Object?(s=this.PE[t],i=JSON.parse(JSON.stringify(s))):i=this.PE[t]),i;}},{key:"setConfig",value:function setConfig(t,e){var i="!"===t[0]?"local":"sync";null===e?(delete this.PE[t],chrome.storage[i].remove(t)):(this.PE[t]=e,chrome.storage[i].set(_defineProperty({},t,e))),this.dispatchEvent(new CustomEvent("configchange",{detail:{key:t,value:e}}));}},{key:"clearConfig",value:function clearConfig(){var t=this.PE;this.PE={schema:3},chrome.storage.local.clear(),chrome.storage.sync.clear();var _iterator1771=_createForOfIteratorHelper(Nw(t)),_step1771;try{for(_iterator1771.s();!(_step1771=_iterator1771.n()).done;){var _step1771$value=_slicedToArray(_step1771.value,2),_e1977=_step1771$value[0],_i1760=_step1771$value[1];this.dispatchEvent(new CustomEvent("configchange",{detail:{key:_e1977,value:null}}));}}catch(err){_iterator1771.e(err);}finally{_iterator1771.f();}}},{key:"zE",value:function zE(){var _this1105=this;return new Promise(function(t){var e={};chrome.storage.local.get(null,function(i){chrome.storage.sync.get(null,function(s){var _iterator1772=_createForOfIteratorHelper(Nw(i)),_step1772;try{for(_iterator1772.s();!(_step1772=_iterator1772.n()).done;){var _step1772$value=_slicedToArray(_step1772.value,2),_t2603=_step1772$value[0],_s1049=_step1772$value[1];e[_t2603]=_s1049;}}catch(err){_iterator1772.e(err);}finally{_iterator1772.f();}var _iterator1773=_createForOfIteratorHelper(Nw(s)),_step1773;try{for(_iterator1773.s();!(_step1773=_iterator1773.n()).done;){var _step1773$value=_slicedToArray(_step1773.value,2),_t2604=_step1773$value[0],_i1761=_step1773$value[1];e[_t2604]=_i1761;}}catch(err){_iterator1773.e(err);}finally{_iterator1773.f();}_this1105.PE=e,function(t){"yellowgreen"===t.getConfig("bx-uisettings:accentColor")&&t.setConfig("bx-uisettings:accentColor","green"),null!==t.getConfig("bx-shortcutssettings:userShortcuts")&&(t.setConfig("bx-keyboardsettings:userShortcuts",t.getConfig("bx-shortcutssettings:userShortcuts")),t.setConfig("bx-shortcutssettings:userShortcuts",null)),null!==t.getConfig("bx-shortcutssettings:spaceKeyMode")&&(t.setConfig("bx-keyboardsettings:spaceKeyMode",t.getConfig("bx-shortcutssettings:spaceKeyMode")),t.setConfig("bx-shortcutssettings:spaceKeyMode",null));}(_this1105),t();});});});}},{key:"getClipboardData",value:function getClipboardData(){return new Promise(function(t){document.addEventListener("paste",function(e){var i=Array.prototype.slice.call(e.clipboardData.items,0),s={},n=0;i?i.forEach(/*#__PURE__*/function(){var _ref187=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee250(e){var o,l;return regeneratorRuntime.wrap(function _callee250$(_context251){while(1){switch(_context251.prev=_context251.next){case 0:o=e.type;_context251.next=3;return function(t){return new Promise(/*#__PURE__*/function(){var _ref188=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee249(e){var _i1762,_t2605;return regeneratorRuntime.wrap(function _callee249$(_context250){while(1){switch(_context250.prev=_context250.next){case 0:if(!["image/png","image/jpeg","image/gif","image/webp","image/avif"].includes(t.type)){_context250.next=12;break;}_i1762=t.getAsFile();if(!_i1762){_context250.next=9;break;}_context250.next=5;return Ua(_i1762,"dataURL");case 5:_t2605=_context250.sent;e("data:"!==_t2605?_t2605:null);_context250.next=10;break;case 9:e(null);case 10:_context250.next=13;break;case 12:["text/plain","text/html","image/svg+xml"].includes(t.type)?t.getAsString(function(t){return e(t);}):(console.warn("Clipboard contains data with unsupported mime-type:",t.type),e(null));case 13:case"end":return _context250.stop();}}},_callee249);}));return function(_x214){return _ref188.apply(this,arguments);};}());}(e);case 3:l=_context251.sent;l&&(s[o]=l),n+=1,n===i.length&&t(s);case 5:case"end":return _context251.stop();}}},_callee250);}));return function(_x213){return _ref187.apply(this,arguments);};}()):t(s);},{once:!0}),document.execCommand("paste");});}},{key:"setClipboardData",value:function setClipboardData(t){return new Promise(function(e){var i;document.addEventListener("copy",i=/*#__PURE__*/function(){var _ref189=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee251(s){return regeneratorRuntime.wrap(function _callee251$(_context252){while(1){switch(_context252.prev=_context252.next){case 0:document.removeEventListener("copy",i),s.preventDefault(),s.clipboardData.items.clear(),t["text/plain"]&&s.clipboardData.items.add(t["text/plain"],"text/plain"),t["text/html"]&&s.clipboardData.items.add(t["text/html"],"text/html"),e();case 1:case"end":return _context252.stop();}}},_callee251);}));return function i(_x215){return _ref189.apply(this,arguments);};}()),document.execCommand("copy");});}},{key:"openArtworkExportDialog",value:function openArtworkExportDialog(t,e){var _this1106=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return new Promise(/*#__PURE__*/function(){var _ref190=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee252(s){var n,o,l,h,_t2606;return regeneratorRuntime.wrap(function _callee252$(_context253){while(1){switch(_context253.prev=_context253.next){case 0:n=null,o=null,l=null,h=null;if(null===i){_t2606=_this1106.currentEditorTab.querySelector("x-label").textContent;_t2606.endsWith(".svg")?i=_t2606.substring(0,_t2606.length-4):_t2606.endsWith(".svgz")&&(i=_t2606.substring(0,_t2606.length-5));}"svg"===e?(o="SVG",l="image/svg+xml",h=["svg"]):"svgz"===e?(o="SVGZ",l="image/svg+xml",h=["svgz"]):"html"===e&&(o="HTML",l="text/html",h=["html"]);_context253.prev=3;_context253.next=6;return Iw({type:"saveFile",suggestedName:"".concat(i,".").concat(e),acceptsAllTypes:!1,accepts:[{description:o,extensions:h,mimeTypes:[l]}]});case 6:n=_context253.sent;_context253.next=19;break;case 9:_context253.prev=9;_context253.t0=_context253["catch"](3);n=null;_context253.next=14;return _this1106.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"You don't have permission to save to the chosen location."});case 14:_context253.t1=_context253.sent;_context253.t2=1===_context253.t1;if(!_context253.t2){_context253.next=19;break;}_context253.next=19;return _this1106.openArtworkExportDialog(t,e,i);case 19:if(!n){_context253.next=46;break;}_context253.prev=20;if(!("svg"===e)){_context253.next=26;break;}_context253.next=24;return $w(n,t,"image/svg+xml;charset=utf-8");case 24:_context253.next=35;break;case 26:if(!("svgz"===e)){_context253.next=31;break;}_context253.next=29;return $w(n,Ef(t),"image/svg+xml;charset=utf-8");case 29:_context253.next=35;break;case 31:_context253.t3="html"===e;if(!_context253.t3){_context253.next=35;break;}_context253.next=35;return $w(n,t,"text/html;charset=utf-8");case 35:_context253.next=46;break;case 37:_context253.prev=37;_context253.t4=_context253["catch"](20);_context253.next=41;return _this1106.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"You don't have permission to save to the chosen location."});case 41:_context253.t5=_context253.sent;_context253.t6=1===_context253.t5;if(!_context253.t6){_context253.next=46;break;}_context253.next=46;return _this1106.openArtworkExportDialog(t,e,i);case 46:s();case 47:case"end":return _context253.stop();}}},_callee252,null,[[3,9],[20,37]]);}));return function(_x216){return _ref190.apply(this,arguments);};}());}},{key:"openBitmapExportDialog",value:function openBitmapExportDialog(t,e){var _this1107=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return new Promise(/*#__PURE__*/function(){var _ref191=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee253(s){var n,o,l,h,_t2607;return regeneratorRuntime.wrap(function _callee253$(_context254){while(1){switch(_context254.prev=_context254.next){case 0:n=null,o=null,l=null,h=null;if(null===i){_t2607=_this1107.currentEditorTab.querySelector("x-label").textContent;_t2607.endsWith(".svg")?i=_t2607.substring(0,_t2607.length-4):_t2607.endsWith(".svgz")&&(i=_t2607.substring(0,_t2607.length-5));}"png"===e?(o="PNG",l="image/png",h=["png"]):"jpeg"===e||"jpg"===e?(o="JPEG",l="image/jpeg",h=["jpg","jpeg"]):"gif"===e?(o="GIF",l="image/gif",h=["gif"]):"webp"===e?(o="WebP",l="image/webp",h=["webp"]):"avif"===e&&(o="AVIF",l="image/avif",h=["avif"]);_context254.prev=3;_context254.next=6;return Iw({type:"saveFile",suggestedName:"".concat(i,".").concat(e),acceptsAllTypes:!1,accepts:[{description:o,extensions:h,mimeTypes:[l]}]});case 6:n=_context254.sent;_context254.next=19;break;case 9:_context254.prev=9;_context254.t0=_context254["catch"](3);n=null;_context254.next=14;return _this1107.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"You don't have permission to save to the chosen location."});case 14:_context254.t1=_context254.sent;_context254.t2=1===_context254.t1;if(!_context254.t2){_context254.next=19;break;}_context254.next=19;return _this1107.openBitmapExportDialog(t,e,i);case 19:if(!n){_context254.next=34;break;}_context254.prev=20;_context254.next=23;return $w(n,t);case 23:_context254.next=34;break;case 25:_context254.prev=25;_context254.t3=_context254["catch"](20);_context254.next=29;return _this1107.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"You don't have permission to save to the chosen location."});case 29:_context254.t4=_context254.sent;_context254.t5=1===_context254.t4;if(!_context254.t5){_context254.next=34;break;}_context254.next=34;return _this1107.openBitmapExportDialog(t,e,i);case 34:s();case 35:case"end":return _context254.stop();}}},_callee253,null,[[3,9],[20,25]]);}));return function(_x217){return _ref191.apply(this,arguments);};}());}},{key:"openLocalFontsImportDialog",value:function openLocalFontsImportDialog(){return new Promise(/*#__PURE__*/function(){var _ref192=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee254(t){var e,i,_iterator1774,_step1774,_t2608,_e1978,_s1050,_n757,_o567;return regeneratorRuntime.wrap(function _callee254$(_context255){while(1){switch(_context255.prev=_context255.next){case 0:_context255.prev=0;_context255.next=3;return Iw({type:"openFile",acceptsMultiple:!0,acceptsAllTypes:!1,accepts:[{description:"All Supported Formats",extensions:["woff","woff2","ttf","otf"]},{description:"WOFF",extensions:["woff"]},{description:"WOFF2",extensions:["woff2"]},{description:"TTF",extensions:["ttf"]},{description:"OTF",extensions:["otf"]}]});case 3:e=_context255.sent;_context255.next=9;break;case 6:_context255.prev=6;_context255.t0=_context255["catch"](0);return _context255.abrupt("return",void t());case 9:i=[];_iterator1774=_createForOfIteratorHelper(e);_context255.prev=11;_iterator1774.s();case 13:if((_step1774=_iterator1774.n()).done){_context255.next=24;break;}_t2608=_step1774.value;_e1978=Ha(_t2608);_s1050=Va(_t2608).toLowerCase();_n757=_t2608.fullPath;_context255.next=20;return Fa(_t2608,"dataURL");case 20:_o567=_context255.sent;_o567=_o567.substring(_o567.indexOf("base64")+7),_o567="data:application/font-".concat(_s1050,";charset=utf-8;base64,").concat(_o567),i.push({baseName:_e1978,extension:_s1050,path:_n757,data:_o567});case 22:_context255.next=13;break;case 24:_context255.next=29;break;case 26:_context255.prev=26;_context255.t1=_context255["catch"](11);_iterator1774.e(_context255.t1);case 29:_context255.prev=29;_iterator1774.f();return _context255.finish(29);case 32:t(i);case 33:case"end":return _context255.stop();}}},_callee254,null,[[0,6],[11,26,29,32]]);}));return function(_x218){return _ref192.apply(this,arguments);};}());}},{key:"openImageImportDialog",value:function openImageImportDialog(){return new Promise(/*#__PURE__*/function(){var _ref193=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee255(t){var e,_i1763,_s1051,_n758,_o568;return regeneratorRuntime.wrap(function _callee255$(_context256){while(1){switch(_context256.prev=_context256.next){case 0:_context256.prev=0;_context256.next=3;return Iw({type:"openFile",acceptsMultiple:!1,acceptsAllTypes:!1,accepts:[{description:"Images",extensions:["png","jpg","jpeg","gif","webp","avif","svg","svgz","pdf","ai"]},{description:"SVG",mimeTypes:["image/svg+xml"],extensions:["svg"]},{description:"SVGZ",mimeTypes:["image/svg+xml"],extensions:["svgz"]},{description:"PNG",mimeTypes:["image/png"],extensions:["png"]},{description:"JPEG",mimeTypes:["image/jpeg"],extensions:["jpg","jpeg"]},{description:"GIF",mimeTypes:["image/gif"],extensions:["gif"]},{description:"WebP",mimeTypes:["image/webp"],extensions:["webp"]},{description:"AVIF",mimeTypes:["image/avif"],extensions:["avif"]},{description:"PDF",mimeTypes:["application/pdf"],extensions:["pdf"]},{description:"AI",mimeTypes:["application/illustrator"],extensions:["ai"]}]});case 3:e=_context256.sent;_context256.next=9;break;case 6:_context256.prev=6;_context256.t0=_context256["catch"](0);return _context256.abrupt("return",void t());case 9:if(!e){_context256.next=31;break;}_i1763=Ha(e),_s1051=Va(e).toLowerCase(),_n758=e.fullPath,_o568=null;if(!("svg"===_s1051||"svgz"===_s1051)){_context256.next=17;break;}_context256.next=14;return Fa(e,"text");case 14:_context256.t1=_context256.sent;_context256.next=27;break;case 17:if(!("pdf"===_s1051||"ai"===_s1051)){_context256.next=23;break;}_context256.next=20;return Fa(e,"arrayBuffer");case 20:_context256.t2=_context256.sent;_context256.next=26;break;case 23:_context256.next=25;return Fa(e,"dataURL");case 25:_context256.t2=_context256.sent;case 26:_context256.t1=_context256.t2;case 27:_o568=_context256.t1;t({baseName:_i1763,extension:_s1051,path:_n758,data:_o568});_context256.next=32;break;case 31:t(null);case 32:case"end":return _context256.stop();}}},_callee255,null,[[0,6]]);}));return function(_x219){return _ref193.apply(this,arguments);};}());}},{key:"openMessageDialog",value:function openMessageDialog(t){var _this1108=this;return new Promise(function(e){var i,s,n=Yi(_templateObject96()),o=new Aw(t);n.append(o),_this1108["#dialogs"].append(n),n.showModal(),n.addEventListener("close",s=function(_s1052){function s(_x220){return _s1052.apply(this,arguments);}s.toString=function(){return _s1052.toString();};return s;}(function(t){n.removeEventListener("close",s),o.removeEventListener("submit",i),_this1108.KE(t),e(-1);})),o.addEventListener("submit",i=/*#__PURE__*/function(){var _ref194=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee256(t){return regeneratorRuntime.wrap(function _callee256$(_context257){while(1){switch(_context257.prev=_context257.next){case 0:n.removeEventListener("close",s);o.removeEventListener("submit",i);_context257.next=4;return n.close();case 4:e(t.detail);case 5:case"end":return _context257.stop();}}},_callee256);}));return function i(_x221){return _ref194.apply(this,arguments);};}());});}},{key:"openNotification",value:function openNotification(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"Sample notification";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2e3;this["#notification"].innerHTML=t,this["#notification"].timeout=e,this["#notification"].opened=!0;}},{key:"openContextMenu",value:function openContextMenu(){var _this1109=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return new Promise(function(e){var i,s,n="",o=null,l=_this1109.tE,h=_this1109.eE;null===t&&(t=[{value:"command:undo",label:"Undo"},{value:"command:redo",label:"Redo"},{type:"separator"},{value:"command:cut",label:"Cut"},{value:"command:copy",label:"Copy"},{value:"command:paste",label:"Paste"},{type:"separator"},{value:"command:selectAll",label:"Select All"}]);var _iterator1775=_createForOfIteratorHelper(t),_step1775;try{for(_iterator1775.s();!(_step1775=_iterator1775.n()).done;){var _e1979=_step1775.value;if("separator"===_e1979.type)n+="<hr/>";else{var _t2610=_e1979.toggled?"toggled":"",_i1764=_e1979.disabled?"disabled":"";n+="\n            <x-menuitem value=\"".concat(_e1979.value,"\" ").concat(_t2610," ").concat(_i1764,">\n              <x-label>").concat(_e1979.label,"</x-label>\n            </x-menuitem>\n          ");}}}catch(err){_iterator1775.e(err);}finally{_iterator1775.f();}_this1109["#context-menu"].innerHTML="<x-menu>"+n+"</x-menu>",_this1109["#context-menu"].open(l,h),_this1109["#context-menu"].addEventListener("click",i=function i(t){var e=t.target.closest("x-menuitem");if(o=e.value,null!==e.value&&e.value.startsWith("command:")){var _e$value$split=e.value.split(":"),_e$value$split2=_slicedToArray(_e$value$split,2),_t2609=_e$value$split2[1];_this1109.execCommand(_t2609);}}),_this1109["#context-menu"].addEventListener("close",s=function(_s1053){function s(){return _s1053.apply(this,arguments);}s.toString=function(){return _s1053.toString();};return s;}(function(){_this1109["#context-menu"].removeEventListener("click",i),_this1109["#context-menu"].removeEventListener("close",s),e(o);}));});}},{key:"ZE",value:function(){var _ZE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee257(t){return regeneratorRuntime.wrap(function _callee257$(_context258){while(1){switch(_context258.prev=_context258.next){case 0:_context258.next=2;return this.YE(t);case 2:_context258.t0=_context258.sent.length;_context258.t1=0===_context258.t0;if(!_context258.t1){_context258.next=6;break;}this.lE();case 6:case"end":return _context258.stop();}}},_callee257,this);}));function ZE(_x222){return _ZE.apply(this,arguments);}return ZE;}()},{key:"EE",value:function EE(t){var e=t.source,_t$data=t.data,i=_t$data.channel,s=_t$data.id,n=_t$data.name,o=_t$data.arg;"request"===i?this.CE[n]&&this.CE[n].forEach(function(t){t(o,function(t){var i={channel:"response",id:s,name:n,arg:t};e.postMessage(i,"*");});}):"response"===i&&this.ME[s]&&(this.ME[s](o),delete this.ME[s]);}},{key:"vn",value:function vn(t){if(this["#sign-in-dialog"].open||this["#install-dialog"].open||this["#trial-dialog"].open)return t.preventDefault(),void t.stopImmediatePropagation();var e=eo.fromEvent(t);e.ctrl===this.JO.ctrl&&e.alt===this.JO.alt&&e.meta===this.JO.meta&&e.shift===this.JO.shift||(this.JO={ctrl:e.ctrl,alt:e.alt,meta:e.meta,shift:e.shift},this.dispatchEvent(new CustomEvent("modkeyschange"))),e.matches("Escape")?!1===t.defaultPrevented&&this.execCommand("transformTool"):!1===this.textInputMode&&(e.matches("Backspace")||e.matches("Delete")?this.execCommand("delete"):e.matches("ArrowDown")?this.execCommand("moveOneUnitDown"):e.matches("ArrowUp")?this.execCommand("moveOneUnitUp"):e.matches("ArrowLeft")?this.execCommand("moveOneUnitLeft"):e.matches("ArrowRight")?this.execCommand("moveOneUnitRight"):e.matches("Shift","ArrowDown")?this.execCommand("moveTenUnitsDown"):e.matches("Shift","ArrowUp")?this.execCommand("moveTenUnitsUp"):e.matches("Shift","ArrowLeft")?this.execCommand("moveTenUnitsLeft"):e.matches("Shift","ArrowRight")&&this.execCommand("moveTenUnitsRight"));{var _i1765=!1;this.textInputMode?(e.ctrl||e.alt||e.meta)&&(_i1765=this.QE(e)):_i1765=this.QE(e),_i1765&&t.preventDefault();}}},{key:"Gn",value:function Gn(t){var _eo$fromEvent=eo.fromEvent(t),e=_eo$fromEvent.ctrl,i=_eo$fromEvent.alt,s=_eo$fromEvent.meta,n=_eo$fromEvent.shift;e===this.JO.ctrl&&i===this.JO.alt&&s===this.JO.meta&&n===this.JO.shift||(this.JO={ctrl:e,alt:i,meta:s,shift:n},this.dispatchEvent(new CustomEvent("modkeyschange")));}},{key:"TE",value:function TE(e){var _this1110=this;window.addEventListener("pointermove",function(e){var i=e.getModifierState("Control"),s=e.getModifierState("Alt"),n=e.getModifierState("Meta"),o=e.getModifierState("Shift"),l=t?n:i,h=s,a=t?i:n,r=o;_this1110.JO.ctrl===l&&_this1110.JO.alt===h&&_this1110.JO.meta===a&&_this1110.JO.shift===r||(_this1110.JO={ctrl:l,alt:h,meta:a,shift:r},_this1110.dispatchEvent(new CustomEvent("modkeyschange")));},{once:!0});}},{key:"AE",value:function AE(t){var _this$JO2=this.JO,e=_this$JO2.ctrl,i=_this$JO2.alt,s=_this$JO2.meta,n=_this$JO2.shift;(e||i||s||n)&&(this.JO={ctrl:!1,alt:!1,meta:!1,shift:!1},this.dispatchEvent(new CustomEvent("modkeyschange")));}},{key:"wo",value:function wo(t){this.oE=!0,this.tE=t.clientX,this.eE=t.clientY,!1===this.sE.has(t.pointerId)&&(this.sE.add(t.pointerId),this.dispatchEvent(new CustomEvent("pointerschange")));{var _eo$fromEvent2=eo.fromEvent(t),e=_eo$fromEvent2.ctrl,_i1766=_eo$fromEvent2.alt,_s1054=_eo$fromEvent2.meta,_n759=_eo$fromEvent2.shift;e===this.JO.ctrl&&_i1766===this.JO.alt&&_s1054===this.JO.meta&&_n759===this.JO.shift||(this.JO={ctrl:e,alt:_i1766,meta:_s1054,shift:_n759},this.dispatchEvent(new CustomEvent("modkeyschange")));}{var _e1980=1,_i1767=null;for(this.SE.push(t);this.SE.length>8;){this.SE.shift();}var _iterator1776=_createForOfIteratorHelper(this.SE),_step1776;try{for(_iterator1776.s();!(_step1776=_iterator1776.n()).done;){var _t2611=_step1776.value;if(_i1767)if("pen"===_t2611.pointerType){Uw(Fw(_t2611.clientX-_i1767.clientX,2)+Fw(_t2611.clientY-_i1767.clientY,2))<3&&_t2611.timeStamp-_i1767.timeStamp<600?_e1980+=1:_e1980=1;}else _t2611.clientX===_i1767.clientX&&_t2611.clientY===_i1767.clientY&&_t2611.timeStamp-_i1767.timeStamp<600?_e1980+=1:_e1980=1;_i1767=_t2611;}}catch(err){_iterator1776.e(err);}finally{_iterator1776.f();}this.nE=_e1980;}}},{key:"Ud",value:function Ud(t){this.tE=t.clientX,this.eE=t.clientY,this.iE=t.pressure;{var _eo$fromEvent3=eo.fromEvent(t),e=_eo$fromEvent3.ctrl,_i1768=_eo$fromEvent3.alt,_s1055=_eo$fromEvent3.meta,_n760=_eo$fromEvent3.shift;e===this.JO.ctrl&&_i1768===this.JO.alt&&_s1055===this.JO.meta&&_n760===this.JO.shift||(this.JO={ctrl:e,alt:_i1768,meta:_s1055,shift:_n760},this.dispatchEvent(new CustomEvent("modkeyschange")));}}},{key:"Yh",value:function Yh(t){this.oE=!1,!0===this.sE.has(t.pointerId)&&(this.sE["delete"](t.pointerId),this.dispatchEvent(new CustomEvent("pointerschange")));{var _eo$fromEvent4=eo.fromEvent(t),e=_eo$fromEvent4.ctrl,_i1769=_eo$fromEvent4.alt,_s1056=_eo$fromEvent4.meta,_n761=_eo$fromEvent4.shift;e===this.JO.ctrl&&_i1769===this.JO.alt&&_s1056===this.JO.meta&&_n761===this.JO.shift||(this.JO={ctrl:e,alt:_i1769,meta:_s1056,shift:_n761},this.dispatchEvent(new CustomEvent("modkeyschange")));}}},{key:"$E",value:function $E(t){!0===this.sE.has(t.pointerId)&&(this.sE["delete"](t.pointerId),this.dispatchEvent(new CustomEvent("pointerschange")));}},{key:"IE",value:function IE(t){this.tE=t.clientX,this.eE=t.clientY,t.preventDefault(),t.dataTransfer.dropEffect="copy";}},{key:"LE",value:function(){var _LE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee258(t){var e,_i1770,_s1057,_iterator1777,_step1777,_e1981,_t2614,_o569,_e1982,_s1058,_e1983,_s1059,_n762,_e1984,_s1060,_l425,_t2615,_e1985,_iterator1778,_step1778,_t2612,_iterator1779,_step1779,_t2613,_e1986,_iterator1780,_step1780,_i1771,_t2617,_s1061,_t2616;return regeneratorRuntime.wrap(function _callee258$(_context259){while(1){switch(_context259.prev=_context259.next){case 0:if(!(this.tE=t.clientX,this.eE=t.clientY,t.preventDefault(),"bx-editor"===t.target.localName)){_context259.next=61;break;}e=t.target,_i1770=[],_s1057=[];_iterator1777=_createForOfIteratorHelper(t.dataTransfer.items);_context259.prev=3;_iterator1777.s();case 5:if((_step1777=_iterator1777.n()).done){_context259.next=50;break;}_e1981=_step1777.value;_t2614=_e1981.webkitGetAsEntry(),_o569=Va(_t2614).toLowerCase();if(!("svg"===_o569)){_context259.next=16;break;}_context259.next=11;return Fa(_t2614,"text");case 11:_e1982=_context259.sent;_s1058=Ma(_e1982);_i1770.push(_s1058);_context259.next=48;break;case 16:if(!("svgz"===_o569)){_context259.next=25;break;}_context259.next=19;return Fa(_t2614,"arrayBuffer");case 19:_e1983=_context259.sent;_s1059=Tf(_e1983);_n762=Ma(_s1059);_i1770.push(_n762);_context259.next=48;break;case 25:if(!("pdf"===_o569||"ai"===_o569)){_context259.next=43;break;}_context259.next=28;return Fa(_t2614,"arrayBuffer");case 28:_e1984=_context259.sent;_s1060=null;_l425=null;_context259.prev=31;_context259.next=34;return Ym(_e1984);case 34:_s1060=_context259.sent;_context259.next=40;break;case 37:_context259.prev=37;_context259.t0=_context259["catch"](31);_l425=_context259.t0;case 40:if(_l425)this.openMessageDialog({buttons:["OK"],message:"Can't import file",detail:"ai"===_o569?n:_l425.message});else{_t2615=Ma(_s1060);_i1770.push(_t2615);}_context259.next=48;break;case 43:if(!["png","jpeg","jpg","gif","webp","avif"].includes(_o569)){_context259.next=48;break;}_context259.next=46;return Fa(_t2614,"dataURL");case 46:_e1985=_context259.sent;_s1057.push(_e1985);case 48:_context259.next=5;break;case 50:_context259.next=55;break;case 52:_context259.prev=52;_context259.t1=_context259["catch"](3);_iterator1777.e(_context259.t1);case 55:_context259.prev=55;_iterator1777.f();return _context259.finish(55);case 58:if(_i1770.length>0||_s1057.length>0){e.board.undoManager.checkpoint("Insert files");_iterator1778=_createForOfIteratorHelper(_i1770);try{for(_iterator1778.s();!(_step1778=_iterator1778.n()).done;){_t2612=_step1778.value;e.board.insertArtwork(_t2612,"pointer");}}catch(err){_iterator1778.e(err);}finally{_iterator1778.f();}_iterator1779=_createForOfIteratorHelper(_s1057);try{for(_iterator1779.s();!(_step1779=_iterator1779.n()).done;){_t2613=_step1779.value;e.board.insertBitmap(_t2613,"pointer");}}catch(err){_iterator1779.e(err);}finally{_iterator1779.f();}}_context259.next=65;break;case 61:_e1986=[];_iterator1780=_createForOfIteratorHelper(t.dataTransfer.items);try{for(_iterator1780.s();!(_step1780=_iterator1780.n()).done;){_i1771=_step1780.value;_t2617=_i1771.webkitGetAsEntry(),_s1061=Va(_t2617).toLowerCase();["svg","svgz","pdf","ai","png","jpeg","jpg","gif","webp","avif"].includes(_s1061)&&_e1986.push(_t2617);}}catch(err){_iterator1780.e(err);}finally{_iterator1780.f();}if(_e1986.length>0){_t2616=_e1986.map(function(t){return{type:"editor",selected:!1,entry:t};});_t2616[_t2616.length-1].selected=!0,this.JE(_t2616);}case 65:case"end":return _context259.stop();}}},_callee258,this,[[3,52,55,58],[31,37]]);}));function LE(_x223){return _LE.apply(this,arguments);}return LE;}()},{key:"hn",value:function hn(t){var _t$detail17=t.detail,e=_t$detail17.key,i=_t$detail17.value;"bx-keyboardsettings:userShortcuts"===e?this.XE():"bx-uisettings:colorScheme"===e?this.WE():"bx-uisettings:accentColor"===e?this.tT():"bx-uisettings:widgetsSize"===e&&this.qE();}},{key:"OE",value:function OE(){this.WE();}},{key:"BE",value:function BE(t){var e=t.target.closest("x-button");"minimize-button"===e.id?this.execCommand("minimize"):"maximize-button"===e.id?this.execCommand("maximize"):"close-button"===e.id&&this.execCommand("quit");}},{key:"RE",value:function(){var _RE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee259(t){var e,_t2618,_i1772,_t2619,_i1773;return regeneratorRuntime.wrap(function _callee259$(_context260){while(1){switch(_context260.prev=_context260.next){case 0:e=t.target.closest("x-menuitem");if(!e){_context260.next=18;break;}if(!t.isTrusted){_context260.next=7;break;}_context260.next=5;return Qi(500);case 5:_context260.next=8;break;case 7:if(!e.closest("[expanded]")){_t2618=null;for(_i1772=e;_i1772!==this["#menubar"];_i1772=_i1772.parentElement){"x-menuitem"===_i1772.localName&&(_t2618=_i1772);}_t2618.style.background="var(--accent-color)",_t2618.style.color="white",Qi(150).then(function(){_t2618.style.background=null,_t2618.style.color=null;});}case 8:if(!e.value){_context260.next=12;break;}this.execCommand(e.value);_context260.next=18;break;case 12:if(!(e.id&&e.id.startsWith("open-recent-"))){_context260.next=18;break;}_t2619=e.id.substring(12);_context260.next=16;return Lw(_t2619);case 16:_i1773=_context260.sent;_i1773&&(this.lE(_i1773,!0),this.eT([_i1773]));case 18:case"end":return _context260.stop();}}},_callee259,this);}));function RE(_x224){return _RE.apply(this,arguments);}return RE;}()},{key:"GE",value:function GE(t){t.preventDefault();}},{key:"NE",value:function NE(t){t.preventDefault(),this.lE();}},{key:"VE",value:function VE(t){t.preventDefault();var e=t.target;this.bE(e);}},{key:"jE",value:function jE(t){this.iT(this.currentTab);}},{key:"HE",value:function HE(t){var e=t.target,i=t.detail,s=_toConsumableArray(this["#tabs"].children).find(function(t){return t[jw]===e;}),n=s[Ww];"increment"===i?s[Ww]+=1:"decrement"===i&&(s[Ww]-=1),0!==n!=(0!==s[Ww])&&(s.edited=0!==s[Ww]);}},{key:"FE",value:function FE(t){var e=t.target;this.sT(e),this["#menubar"].setAttribute("data-expaneded","");}},{key:"UE",value:function(){var _UE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee260(t){return regeneratorRuntime.wrap(function _callee260$(_context261){while(1){switch(_context261.prev=_context261.next){case 0:_context261.next=2;return Qi(500);case 2:null===this["#menubar"].querySelector("x-menu[opened]")&&(this.currentView.focus(),this["#menubar"].removeAttribute("data-expaneded"));case 3:case"end":return _context261.stop();}}},_callee260,this);}));function UE(_x225){return _UE.apply(this,arguments);}return UE;}()},{key:"JE",value:function JE(t){var _this1111=this;return new Promise(/*#__PURE__*/function(){var _ref195=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee261(e){var i,_iterator1781,_step1781,_e1988,_t2621,_t2622,_t2623,_t2620,_e1987;return regeneratorRuntime.wrap(function _callee261$(_context262){while(1){switch(_context262.prev=_context262.next){case 0:i=[];_iterator1781=_createForOfIteratorHelper(t);_context262.prev=2;_iterator1781.s();case 4:if((_step1781=_iterator1781.n()).done){_context262.next=23;break;}_e1988=_step1781.value;if(!("about"===_e1988.type)){_context262.next=11;break;}_t2621=_this1111.kE(!1);_e1988.selected&&(_t2621.selected=!0),i.push(_t2621);_context262.next=21;break;case 11:if(!("preferences"===_e1988.type)){_context262.next=16;break;}_t2622=_this1111.gE(!1);_e1988.selected&&(_t2622.selected=!0),i.push(_t2622);_context262.next=21;break;case 16:if(!("editor"===_e1988.type)){_context262.next=21;break;}_context262.next=19;return _this1111.lE(_e1988.entry,!1);case 19:_t2623=_context262.sent;_e1988.selected&&(_t2623.selected=!0),i.push(_t2623);case 21:_context262.next=4;break;case 23:_context262.next=28;break;case 25:_context262.prev=25;_context262.t0=_context262["catch"](2);_iterator1781.e(_context262.t0);case 28:_context262.prev=28;_iterator1781.f();return _context262.finish(28);case 31:if(i.length>0){_t2620=i.find(function(t){return t.selected;}),_e1987=i[i.length-1];_this1111.iT(_t2620||_e1987);}e(i);case 33:case"end":return _context262.stop();}}},_callee261,null,[[2,25,28,31]]);}));return function(_x226){return _ref195.apply(this,arguments);};}());}},{key:"kE",value:function kE(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=null;var _iterator1782=_createForOfIteratorHelper(this["#tabs"].children),_step1782;try{for(_iterator1782.s();!(_step1782=_iterator1782.n()).done;){var _t2624=_step1782.value;if("about"===_t2624[Vw]){e=_t2624;break;}}}catch(err){_iterator1782.e(err);}finally{_iterator1782.f();}return null===e&&(e=Yi(_templateObject97()),e[Vw]="about",e[jw]=null,e[Yw]=function(){var t=Yi(_templateObject98());return e[jw]=t,t.version=chrome.runtime.getManifest().version,t;},this["#tabs"].openTab(e,!1)),t&&this.iT(e),e;}},{key:"gE",value:function gE(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=null;var _iterator1783=_createForOfIteratorHelper(this["#tabs"].children),_step1783;try{for(_iterator1783.s();!(_step1783=_iterator1783.n()).done;){var _t2625=_step1783.value;if("preferences"===_t2625[Vw]){e=_t2625;break;}}}catch(err){_iterator1783.e(err);}finally{_iterator1783.f();}return null===e&&(e=Yi(_templateObject99()),e[Vw]="preferences",e[jw]=null,e[Yw]=function(){var t=Yi(_templateObject100());return e[jw]=t,t;},this["#tabs"].openTab(e,!1)),t&&this.iT(e),e;}},{key:"lE",value:function lE(){var _this1112=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref196=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee263(i){var s,_iterator1784,_step1784,_e1989,_e1990,_i1774,_o570,_s1062;return regeneratorRuntime.wrap(function _callee263$(_context264){while(1){switch(_context264.prev=_context264.next){case 0:s=null;if(!t){_context264.next=25;break;}_iterator1784=_createForOfIteratorHelper(_this1112["#tabs"].children);_context264.prev=3;_iterator1784.s();case 5:if((_step1784=_iterator1784.n()).done){_context264.next=17;break;}_e1989=_step1784.value;_context264.t0=!!_e1989[Hw];if(!_context264.t0){_context264.next=12;break;}_context264.next=11;return Bw(_e1989[Hw],t);case 11:_context264.t0=_context264.sent;case 12:if(!_context264.t0){_context264.next=15;break;}s=_e1989;return _context264.abrupt("break",17);case 15:_context264.next=5;break;case 17:_context264.next=22;break;case 19:_context264.prev=19;_context264.t1=_context264["catch"](3);_iterator1784.e(_context264.t1);case 22:_context264.prev=22;_iterator1784.f();return _context264.finish(22);case 25:if(!(null===s)){_context264.next=37;break;}if(t){_s1062=Ha(t);_i1774=Va(t).toLowerCase(),["svg","svgz"].includes(_i1774)?(_e1990=_s1062+"."+_i1774,_o570=0):(_e1990=_s1062+".svg",_o570=1);}else _e1990="Untitled",_i1774="svg",_o570=0;s=Yi(_templateObject101(),_e1990,_e1990);s[Vw]="editor";s[Hw]=t;s[jw]=null;s[Ww]=_o570;s.edited=0!==s[Ww];s[Yw]=function(){var e=Yi(_templateObject102());return s[jw]=e,_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee262(){var _i1775,_s1063,_i1776,_s1064,_n763,_s1065,_o571,_l426,_t2626,_i1777,_s1066,_n764;return regeneratorRuntime.wrap(function _callee262$(_context263){while(1){switch(_context263.prev=_context263.next){case 0:if(!t){_context263.next=47;break;}if(!("svg"===_i1774)){_context263.next=9;break;}_context263.next=4;return Fa(t,"text");case 4:_i1775=_context263.sent;_s1063=Ma(_i1775);e.board.setArtwork(_s1063);_context263.next=45;break;case 9:if(!("svgz"===_i1774)){_context263.next=18;break;}_context263.next=12;return Fa(t,"arrayBuffer");case 12:_i1776=_context263.sent;_s1064=Tf(_i1776);_n763=Ma(_s1064);e.board.setArtwork(_n763);_context263.next=45;break;case 18:if(!("pdf"===_i1774||"ai"===_i1774)){_context263.next=36;break;}_context263.next=21;return Fa(t,"arrayBuffer");case 21:_s1065=_context263.sent;_o571=null;_l426=null;_context263.prev=24;_context263.next=27;return Ym(_s1065);case 27:_o571=_context263.sent;_context263.next=33;break;case 30:_context263.prev=30;_context263.t0=_context263["catch"](24);_l426=_context263.t0;case 33:if(_l426)e.board.setDefaultArtwork(),_this1112.openMessageDialog({buttons:["OK"],message:"Can't import file",detail:"ai"===_i1774?n:_l426.message});else{_t2626=Ma(_o571);e.board.setArtwork(_t2626);}_context263.next=45;break;case 36:if(!["png","jpeg","jpg","gif","webp","avif"].includes(_i1774)){_context263.next=45;break;}_context263.next=39;return Fa(t,"dataURL");case 39:_i1777=_context263.sent;_context263.next=42;return nu(_i1777);case 42:_s1066=_context263.sent;_n764=Ma(_s1066);e.board.setArtwork(_n764);case 45:_context263.next=48;break;case 47:e.board.setDefaultArtwork();case 48:case"end":return _context263.stop();}}},_callee262,null,[[24,30]]);}))(),e;};_this1112["#tabs"].openTab(s,!1);_context264.next=37;return Ji;case 37:_context264.t2=e;if(!_context264.t2){_context264.next=44;break;}_context264.t3=null===t;if(!_context264.t3){_context264.next=43;break;}_context264.next=43;return Qi(100);case 43:_this1112.iT(s);case 44:i(s);case 45:case"end":return _context264.stop();}}},_callee263,null,[[3,19,22,25]]);}));return function(_x227){return _ref196.apply(this,arguments);};}());}},{key:"aE",value:function aE(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if(this.hE()){this.currentEditor.board.collectGarbage();var e=this.currentEditor.board.extractArtworkWithSelectedElements(),_i1778=Qp(e,"xml"),_s1067=Yi(_templateObject103());_s1067[Vw]="editor",_s1067[Hw]=null,_s1067[jw]=null,_s1067[Ww]=1,_s1067.edited=!0,_s1067[Yw]=function(){var t=Yi(_templateObject104());return t.board.setArtwork(Ma(_i1778)),_s1067[jw]=t,t;},this["#tabs"].openTab(_s1067),t&&this.iT(_s1067);}}},{key:"hE",value:function hE(){return null!==this.currentEditor&&this.currentEditor.board.selectedObjectElements.length>0;}},{key:"rE",value:function(){var _rE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee264(){var _t2627,e,_i1779,_yield$qa4,_s1068,_n765,_i1780,_yield$qa5,_s1069,_n766,_t2628;return regeneratorRuntime.wrap(function _callee264$(_context265){while(1){switch(_context265.prev=_context265.next){case 0:if(!this.currentEditor){_context265.next=46;break;}_context265.next=3;return this.getClipboardData();case 3:_t2627=_context265.sent;if(!_t2627){_context265.next=46;break;}e=null;if(!(_t2627["text/html"]&&iu(_t2627["text/html"]))){_context265.next=10;break;}e=_t2627["text/html"];_context265.next=32;break;case 10:if(!(_t2627["text/plain"]&&iu(_t2627["text/plain"]))){_context265.next=14;break;}e=_t2627["text/plain"];_context265.next=32;break;case 14:if(!_t2627["image/png"]){_context265.next=24;break;}_i1779=_t2627["image/png"];_context265.next=18;return qa(_i1779);case 18:_yield$qa4=_context265.sent;_s1068=_yield$qa4.width;_n765=_yield$qa4.height;e="\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ".concat(_s1068," ").concat(_n765,"\">\n              <image href=\"").concat(_i1779,"\"></image>\n            </svg>");_context265.next=32;break;case 24:if(!_t2627["image/avif"]){_context265.next=32;break;}_i1780=_t2627["image/avif"];_context265.next=28;return qa(_i1780);case 28:_yield$qa5=_context265.sent;_s1069=_yield$qa5.width;_n766=_yield$qa5.height;e="\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ".concat(_s1069," ").concat(_n766,"\">\n              <image href=\"").concat(_i1780,"\"></image>\n            </svg>");case 32:if(!e){_context265.next=45;break;}_t2628=Yi(_templateObject105());_t2628[Vw]="editor";_t2628[Hw]=null;_t2628[jw]=null;_t2628[Ww]=1;_t2628.edited=!0;_t2628[Yw]=function(){var i=Yi(_templateObject106());return i.board.setArtwork(Ma(e)),_t2628[jw]=i,i;};_context265.next=42;return this["#tabs"].openTab(_t2628);case 42:this.iT(_t2628);_context265.next=46;break;case 45:this.openMessageDialog({buttons:["OK"],message:"Can't create file",detail:"The current contents of the clipboard can't be used to create a new file."});case 46:case"end":return _context265.stop();}}},_callee264,this);}));function rE(){return _rE.apply(this,arguments);}return rE;}()},{key:"openEditorTabWithArtworkFromLibrary",value:function openEditorTabWithArtworkFromLibrary(t){var _this1113=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref198=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee265(i){var s;return regeneratorRuntime.wrap(function _callee265$(_context266){while(1){switch(_context266.prev=_context266.next){case 0:s=Yi(_templateObject107());s[Vw]="editor";s[Hw]=null;s[jw]=null;s[Ww]=1;s.edited=!0;s[Yw]=function(){var e=Yi(_templateObject108());return e.board.setArtwork(Ma(t)),s[jw]=e,e;};_this1113["#tabs"].openTab(s);_context266.t0=e;if(!_context266.t0){_context266.next=13;break;}_context266.next=12;return Qi(200);case 12:_this1113.iT(s);case 13:i();case 14:case"end":return _context266.stop();}}},_callee265);}));return function(_x228){return _ref198.apply(this,arguments);};}());}},{key:"dE",value:function dE(){var _this1114=this;return new Promise(/*#__PURE__*/function(){var _ref199=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee266(t){var e,_t2629;return regeneratorRuntime.wrap(function _callee266$(_context267){while(1){switch(_context267.prev=_context267.next){case 0:_context267.prev=0;_context267.next=3;return Iw({type:"openFile",acceptsMultiple:!0,acceptsAllTypes:!1,accepts:[{description:"All Supported Formats",extensions:["svg","svgz","png","jpg","jpeg","gif","webp","avif","pdf","ai"]},{description:"SVG",mimeTypes:["image/svg+xml"],extensions:["svg"]},{description:"SVGZ",mimeTypes:["image/svg+xml"],extensions:["svgz"]},{description:"PNG",mimeTypes:["image/png"],extensions:["png"]},{description:"JPEG",mimeTypes:["image/jpeg"],extensions:["jpg","jpeg"]},{description:"GIF",mimeTypes:["image/gif"],extensions:["gif"]},{description:"WebP",mimeTypes:["image/webp"],extensions:["webp"]},{description:"AVIF",mimeTypes:["image/avif"],extensions:["avif"]},{description:"PDF",mimeTypes:["application/pdf"],extensions:["pdf"]},{description:"AI",mimeTypes:["application/illustrator"],extensions:["ai"]}]});case 3:e=_context267.sent;_context267.next=9;break;case 6:_context267.prev=6;_context267.t0=_context267["catch"](0);return _context267.abrupt("return",void t());case 9:if(!(e.length>0)){_context267.next=15;break;}_t2629=e.map(function(t){return{type:"editor",entry:t,selected:!1};});_t2629[_t2629.length-1].selected=!0;_this1114.JE(_t2629);_context267.next=15;return _this1114.eT(e);case 15:t();case 16:case"end":return _context267.stop();}}},_callee266,null,[[0,6]]);}));return function(_x229){return _ref199.apply(this,arguments);};}());}},{key:"YE",value:function YE(t){var _this1115=this;return new Promise(/*#__PURE__*/function(){var _ref200=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee267(e){var i,_iterator1785,_step1785,_e1991,_t2630,s;return regeneratorRuntime.wrap(function _callee267$(_context268){while(1){switch(_context268.prev=_context268.next){case 0:i=[];_iterator1785=_createForOfIteratorHelper(t);_context268.prev=2;_iterator1785.s();case 4:if((_step1785=_iterator1785.n()).done){_context268.next=12;break;}_e1991=_step1785.value;_context268.next=8;return Lw(_e1991);case 8:_t2630=_context268.sent;_t2630&&i.push(_t2630);case 10:_context268.next=4;break;case 12:_context268.next=17;break;case 14:_context268.prev=14;_context268.t0=_context268["catch"](2);_iterator1785.e(_context268.t0);case 17:_context268.prev=17;_iterator1785.f();return _context268.finish(17);case 20:s=i.map(function(t){return{type:"editor",entry:t,selected:!1};});s.length>0&&(s[s.length-1].selected=!0);_context268.t1=e;_context268.next=25;return _this1115.JE(s);case 25:_context268.t2=_context268.sent;(0,_context268.t1)(_context268.t2);case 27:case"end":return _context268.stop();}}},_callee267,null,[[2,14,17,20]]);}));return function(_x230){return _ref200.apply(this,arguments);};}());}},{key:"iT",value:function(){var _iT=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee268(t){var e,_iterator1786,_step1786,_i1782,i,s,_i1781,_arr91,_t2631;return regeneratorRuntime.wrap(function _callee268$(_context269){while(1){switch(_context269.prev=_context269.next){case 0:e=_toConsumableArray(this["#tabs"].children);_iterator1786=_createForOfIteratorHelper(e);try{for(_iterator1786.s();!(_step1786=_iterator1786.n()).done;){_i1782=_step1786.value;_i1782.selected=_i1782===t;}}catch(err){_iterator1786.e(err);}finally{_iterator1786.f();}i=t[jw]?t[jw]:t[Yw](),s=Symbol();this.nT=s;i.hidden=!0;_context269.t0=!1===this["#main"].contains(i);if(!_context269.t0){_context269.next=11;break;}this["#main"].append(i);_context269.next=11;return Qi(100);case 11:_context269.next=13;return Ji;case 13:if(!(this.nT===s)){_context269.next=16;break;}i.hidden=!1,i.focus();for(_i1781=0,_arr91=_toConsumableArray(this["#main"].children);_i1781<_arr91.length;_i1781++){_t2631=_arr91[_i1781];_t2631!==i&&(_t2631.remove(),_t2631.hidden=!0);}case 16:case"end":return _context269.stop();}}},_callee268,this);}));function iT(_x231){return _iT.apply(this,arguments);}return iT;}()},{key:"vE",value:function vE(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this["#tabs"].selectPreviousTab();e&&t&&this.iT(e);}},{key:"yE",value:function yE(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this["#tabs"].selectNextTab();e&&t&&this.iT(e);}},{key:"pE",value:function pE(){var _this1116=this;return new Promise(/*#__PURE__*/function(){var _ref201=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee269(t){var e;return regeneratorRuntime.wrap(function _callee269$(_context270){while(1){switch(_context270.prev=_context270.next){case 0:e=!1;_context270.t0=_this1116.currentEditorTab;if(!_context270.t0){_context270.next=6;break;}_context270.next=5;return _this1116.oT(_this1116.currentEditorTab);case 5:e=_context270.sent;case 6:t(e);case 7:case"end":return _context270.stop();}}},_callee269);}));return function(_x232){return _ref201.apply(this,arguments);};}());}},{key:"uE",value:function uE(){var _this1117=this;return new Promise(/*#__PURE__*/function(){var _ref202=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee270(t){var e;return regeneratorRuntime.wrap(function _callee270$(_context271){while(1){switch(_context271.prev=_context271.next){case 0:e=!1;_context271.t0=_this1117.currentEditorTab;if(!_context271.t0){_context271.next=6;break;}_context271.next=5;return _this1117.lT(_this1117.currentEditorTab);case 5:e=_context271.sent;case 6:t(e);case 7:case"end":return _context271.stop();}}},_callee270);}));return function(_x233){return _ref202.apply(this,arguments);};}());}},{key:"oT",value:function oT(t){var _this1118=this;return new Promise(/*#__PURE__*/function(){var _ref203=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee271(e){var i,_s1070,_n767,_o572,_l427,_t2632,_t2633,_e1992;return regeneratorRuntime.wrap(function _callee271$(_context272){while(1){switch(_context272.prev=_context272.next){case 0:i=t[Hw];if(!(null===i)){_context272.next=9;break;}_context272.t0=e;_context272.next=5;return _this1118.lT(t);case 5:_context272.t1=_context272.sent;(0,_context272.t0)(_context272.t1);_context272.next=69;break;case 9:if(!t.edited){_context272.next=68;break;}_s1070=Va(i).toLowerCase(),_n767=_this1118.getConfig("bx-markupsettings:indentation",2);if(!["png","jpg","jpeg","gif","webp","avif","pdf","ai"].includes(_s1070)){_context272.next=15;break;}e(_this1118.lT(t));_context272.next=66;break;case 15:if(!["svg","svgz"].includes(_s1070)){_context272.next=65;break;}_o572=t[jw].board.extractArtwork(),_l427=null;if(!("svg"===_s1070)){_context272.next=29;break;}_t2632=Qp(_o572,"xml",_n767);_context272.prev=19;_context272.next=22;return $w(i,_t2632,"image/svg+xml;charset=utf-8");case 22:_context272.next=27;break;case 24:_context272.prev=24;_context272.t2=_context272["catch"](19);_l427=_context272.t2;case 27:_context272.next=39;break;case 29:if(!("svgz"===_s1070)){_context272.next=39;break;}_t2633=Qp(_o572,"xml",_n767),_e1992=Ef(_t2633);_context272.prev=31;_context272.next=34;return $w(i,_e1992,"image/svg+xml;charset=utf-8");case 34:_context272.next=39;break;case 36:_context272.prev=36;_context272.t3=_context272["catch"](31);_l427=_context272.t3;case 39:if(!_l427){_context272.next=62;break;}if(!("READ_ONLY"===_l427)){_context272.next=55;break;}_context272.next=43;return _this1118.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"The file \"".concat(i.name,"\" is read-only.")});case 43:_context272.t4=_context272.sent;if(!(1===_context272.t4)){_context272.next=52;break;}_context272.t5=e;_context272.next=48;return _this1118.uE();case 48:_context272.t6=_context272.sent;(0,_context272.t5)(_context272.t6);_context272.next=53;break;case 52:e(!1);case 53:_context272.next=60;break;case 55:_context272.t7=e;_context272.next=58;return _this1118.uE();case 58:_context272.t8=_context272.sent;(0,_context272.t7)(_context272.t8);case 60:_context272.next=63;break;case 62:t[Ww]=0,t.edited=!1,e(!0);case 63:_context272.next=66;break;case 65:e(!1);case 66:_context272.next=69;break;case 68:e(!1);case 69:case"end":return _context272.stop();}}},_callee271,null,[[19,24],[31,36]]);}));return function(_x234){return _ref203.apply(this,arguments);};}());}},{key:"lT",value:function lT(t){var _this1119=this;return new Promise(/*#__PURE__*/function(){var _ref204=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee272(e){var i,_s1071,_n768,_o573,_l428,_t2634,_e1993,_t2635;return regeneratorRuntime.wrap(function _callee272$(_context273){while(1){switch(_context273.prev=_context273.next){case 0:i=null;_context273.prev=1;_context273.next=4;return Iw({type:"saveFile",suggestedName:t[Hw]?Ha(t[Hw]):"Untitled.svg",acceptsAllTypes:!1,accepts:[{description:"SVG",mimeTypes:["image/svg+xml"],extensions:["svg"]},{description:"SVGZ",mimeTypes:["image/svg+xml"],extensions:["svgz"]}]});case 4:i=_context273.sent;_context273.next=22;break;case 7:_context273.prev=7;_context273.t0=_context273["catch"](1);_context273.next=11;return _this1119.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"Selected directory is read-only."});case 11:_context273.t1=_context273.sent;if(!(1===_context273.t1)){_context273.next=20;break;}_context273.t2=e;_context273.next=16;return _this1119.uE();case 16:_context273.t3=_context273.sent;(0,_context273.t2)(_context273.t3);_context273.next=21;break;case 20:e(!1);case 21:return _context273.abrupt("return");case 22:if(!(null===i)){_context273.next=26;break;}e(!1);_context273.next=72;break;case 26:_s1071=t[jw].board.extractArtwork(),_n768=Va(i).toLowerCase(),_o573=_this1119.getConfig("bx-markupsettings:indentation",2),_l428=null;if(!("svgz"===_n768)){_context273.next=39;break;}_t2634=Qp(_s1071,"xml",_o573),_e1993=Ef(_t2634);_context273.prev=29;_context273.next=32;return $w(i,_e1993,"image/svg+xml;charset=utf-8");case 32:_context273.next=37;break;case 34:_context273.prev=34;_context273.t4=_context273["catch"](29);_l428=_context273.t4;case 37:_context273.next=48;break;case 39:_t2635=Qp(_s1071,"xml",_o573);_context273.prev=40;_context273.next=43;return $w(i,_t2635,"image/svg+xml;charset=utf-8");case 43:_context273.next=48;break;case 45:_context273.prev=45;_context273.t5=_context273["catch"](40);_l428=_context273.t5;case 48:if(!_l428){_context273.next=71;break;}if(!("READ_ONLY"===_l428)){_context273.next=64;break;}_context273.next=52;return _this1119.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"Chosen location is read-only."});case 52:_context273.t6=_context273.sent;if(!(1===_context273.t6)){_context273.next=61;break;}_context273.t7=e;_context273.next=57;return _this1119.uE();case 57:_context273.t8=_context273.sent;(0,_context273.t7)(_context273.t8);_context273.next=62;break;case 61:e(!1);case 62:_context273.next=69;break;case 64:_context273.t9=e;_context273.next=67;return _this1119.uE();case 67:_context273.t10=_context273.sent;(0,_context273.t9)(_context273.t10);case 69:_context273.next=72;break;case 71:t[Hw]=i,t[Ww]=0,t.edited=!1,t.title=i.name,t.querySelector("x-label").textContent=i.name,_this1119.eT([i]),e(!0);case 72:case"end":return _context273.stop();}}},_callee272,null,[[1,7],[29,34],[40,45]]);}));return function(_x235){return _ref204.apply(this,arguments);};}());}},{key:"bE",value:function bE(t){var _this1120=this;return new Promise(/*#__PURE__*/function(){var _ref205=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee273(e){var _i1783,_s1072,i,s;return regeneratorRuntime.wrap(function _callee273$(_context274){while(1){switch(_context274.prev=_context274.next){case 0:if(!t.edited){_context274.next=16;break;}_i1783="Do you want to save the changes you made to ".concat(t[Hw]?"\"".concat(t[Hw].name,"\""):"untitled"," file?");_context274.next=4;return _this1120.openMessageDialog({type:"question",buttons:["Save","Cancel","Don't Save"],title:"Confirm",message:_i1783,detail:"Your changes will be lost if you don't save them."});case 4:_s1072=_context274.sent;if(!(0===_s1072)){_context274.next=14;break;}_context274.t0=!1;_context274.next=9;return _this1120.oT(t);case 9:_context274.t1=_context274.sent;if(!(_context274.t0===_context274.t1)){_context274.next=12;break;}return _context274.abrupt("return",void e(!1));case 12:_context274.next=16;break;case 14:if(!(1===_s1072||-1===_s1072)){_context274.next=16;break;}return _context274.abrupt("return",void e(!1));case 16:i=t[jw],s=t.selected;_this1120["#tabs"].closeTab(t,!1),s&&_this1120.currentTab&&_this1120.iT(_this1120.currentTab),i&&(1===_this1120["#main"].childElementCount?i.remove():Qi(3e3).then(function(){i.remove();})),e(!0);case 18:case"end":return _context274.stop();}}},_callee273);}));return function(_x236){return _ref205.apply(this,arguments);};}());}},{key:"hT",value:function hT(){var _this1121=this;return new Promise(/*#__PURE__*/function(){var _ref206=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee274(t){var e,_iterator1787,_step1787,_i1784;return regeneratorRuntime.wrap(function _callee274$(_context275){while(1){switch(_context275.prev=_context275.next){case 0:e=_toConsumableArray(_this1121["#tabs"].children);_iterator1787=_createForOfIteratorHelper(e);_context275.prev=2;_iterator1787.s();case 4:if((_step1787=_iterator1787.n()).done){_context275.next=18;break;}_i1784=_step1787.value;_context275.t0=_i1784!==e[0];if(!_context275.t0){_context275.next=10;break;}_context275.next=10;return Qi(1e3);case 10:_context275.t1=!1;_context275.next=13;return _this1121.bE(_i1784);case 13:_context275.t2=_context275.sent;if(!(_context275.t1===_context275.t2)){_context275.next=16;break;}return _context275.abrupt("return",void t(!1));case 16:_context275.next=4;break;case 18:_context275.next=23;break;case 20:_context275.prev=20;_context275.t3=_context275["catch"](2);_iterator1787.e(_context275.t3);case 23:_context275.prev=23;_iterator1787.f();return _context275.finish(23);case 26:t(!0);case 27:case"end":return _context275.stop();}}},_callee274,null,[[2,20,23,26]]);}));return function(_x237){return _ref206.apply(this,arguments);};}());}},{key:"xE",value:function(){var _xE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee275(){var _t2636,e,_i1785,_s1073,_n769,_o574,_e1994,_l429;return regeneratorRuntime.wrap(function _callee275$(_context276){while(1){switch(_context276.prev=_context276.next){case 0:if(!(this.currentEditor&&this.currentTab[Hw])){_context276.next=14;break;}e=this.currentEditor.board,_i1785=e.currentWorkspace===e.masterWorkspace?e.getZoomArea():null,_s1073=this.currentEditor,_n769=this.currentTab,_o574=this.currentTab[Hw];if(!("svgz"===Va(_o574).toLowerCase())){_context276.next=9;break;}_context276.next=5;return Fa(_o574,"arrayBuffer");case 5:_e1994=_context276.sent;_t2636=Tf(_e1994);_context276.next=12;break;case 9:_context276.next=11;return Fa(_o574,"text");case 11:_t2636=_context276.sent;case 12:_l429=Ma(_t2636);_s1073.board.setArtwork(_l429),_n769[Ww]=0,_n769.edited=!1,_i1785&&e.addEventListener("currentworkspacechange",function(){e.zoomToArea(_i1785,"top-left",0);},{once:!0});case 14:case"end":return _context276.stop();}}},_callee275,this);}));function xE(){return _xE.apply(this,arguments);}return xE;}()},{key:"aT",value:function aT(){var t=[];var _iterator1788=_createForOfIteratorHelper(this["#tabs"].getTabsByScreenIndex()),_step1788;try{for(_iterator1788.s();!(_step1788=_iterator1788.n()).done;){var e=_step1788.value;var _i1786={type:e[Vw],path:e[$path],selected:e.selected};t.push(_i1786);}}catch(err){_iterator1788.e(err);}finally{_iterator1788.f();}return t;}},{key:"mE",value:function(){var _mE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee276(){return regeneratorRuntime.wrap(function _callee276$(_context277){while(1){switch(_context277.prev=_context277.next){case 0:_context277.next=2;return this.hT();case 2:_context277.t0=_context277.sent;if(!_context277.t0){_context277.next=5;break;}chrome.app.window.current().close();case 5:case"end":return _context277.stop();}}},_callee276,this);}));function mE(){return _mE.apply(this,arguments);}return mE;}()},{key:"isPointOverNewTabDropArea",value:function isPointOverNewTabDropArea(t,e){var i=this._shadowRoot.elementFromPoint(t,e);return i.getRootNode()!==this._shadowRoot&&(i=null),i&&i.closest("#header");}},{key:"openDevTools",value:function openDevTools(){this.postMessage("openDevTools",null);}},{key:"wE",value:function wE(){chrome.app.window.current().isMaximized()?chrome.app.window.current().restore():chrome.app.window.current().maximize();}},{key:"fE",value:function fE(){chrome.app.window.current().minimize();}},{key:"eT",value:function eT(t){var _this1122=this;return new Promise(/*#__PURE__*/function(){var _ref207=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee278(e){return regeneratorRuntime.wrap(function _callee278$(_context280){while(1){switch(_context280.prev=_context280.next){case 0:if(!(0===t.length)){_context280.next=4;break;}e();_context280.next=5;break;case 4:return _context280.delegateYield(/*#__PURE__*/regeneratorRuntime.mark(function _callee277(){var i,s,_iterator1789,_step1789,_t2637,_e1995,_t2638,_iterator1790,_step1790,_loop61,n;return regeneratorRuntime.wrap(function _callee277$(_context279){while(1){switch(_context279.prev=_context279.next){case 0:i=[],s=Symbol();_context279.t0=_createForOfIteratorHelper;_context279.next=4;return _this1122.rT();case 4:_context279.t1=_context279.sent;_iterator1789=(0,_context279.t0)(_context279.t1);_context279.prev=6;_iterator1789.s();case 8:if((_step1789=_iterator1789.n()).done){_context279.next=20;break;}_t2637=_step1789.value;_context279.next=12;return Lw(_t2637);case 12:_e1995=_context279.sent;if(!_e1995){_context279.next=18;break;}_context279.next=16;return Rw(_e1995);case 16:_t2638=_context279.sent;_e1995[s]=_t2638,i.push(_e1995);case 18:_context279.next=8;break;case 20:_context279.next=25;break;case 22:_context279.prev=22;_context279.t2=_context279["catch"](6);_iterator1789.e(_context279.t2);case 25:_context279.prev=25;_iterator1789.f();return _context279.finish(25);case 28:_iterator1790=_createForOfIteratorHelper(t);_context279.prev=29;_loop61=/*#__PURE__*/regeneratorRuntime.mark(function _loop61(){var e,t;return regeneratorRuntime.wrap(function _loop61$(_context278){while(1){switch(_context278.prev=_context278.next){case 0:e=_step1790.value;t=Va(e).toLowerCase();_context278.t0="svg"!==t&&"svgz"!==t&&"html"!==t;if(_context278.t0){_context278.next=9;break;}_context278.next=6;return Rw(e);case 6:e[s]=_context278.sent;i=i.filter(function(t){return t[s]!==e[s];});i.push(e);case 9:case"end":return _context278.stop();}}},_loop61);});_iterator1790.s();case 32:if((_step1790=_iterator1790.n()).done){_context279.next=36;break;}return _context279.delegateYield(_loop61(),"t3",34);case 34:_context279.next=32;break;case 36:_context279.next=41;break;case 38:_context279.prev=38;_context279.t4=_context279["catch"](29);_iterator1790.e(_context279.t4);case 41:_context279.prev=41;_iterator1790.f();return _context279.finish(41);case 44:for(;i.length>10;){i.shift();}n=i.map(function(t){return chrome.fileSystem.retainEntry(t);});_this1122.setConfig("!bx-chromeapp:retainedRecentEntries",n),e();case 47:case"end":return _context279.stop();}}},_callee277,null,[[6,22,25,28],[29,38,41,44]]);})(),"t0",5);case 5:case"end":return _context280.stop();}}},_callee278);}));return function(_x238){return _ref207.apply(this,arguments);};}());}},{key:"rT",value:function rT(){var _this1123=this;return new Promise(/*#__PURE__*/function(){var _ref208=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee279(t){return regeneratorRuntime.wrap(function _callee279$(_context281){while(1){switch(_context281.prev=_context281.next){case 0:t(_this1123.getConfig("!bx-chromeapp:retainedRecentEntries",[]));case 1:case"end":return _context281.stop();}}},_callee279);}));return function(_x239){return _ref208.apply(this,arguments);};}());}},{key:"cE",value:function cE(){this.setConfig("!bx-chromeapp:retainedRecentEntries",null);}},{key:"execCommand",value:function execCommand(t){var e=this.currentView||this;for(;e._shadowRoot&&e._shadowRoot.activeElement;){e=e._shadowRoot.activeElement;}for(var _i1787=e;_i1787;_i1787=_i1787.parentNode||_i1787.host){if(_i1787.commands&&_i1787.commands[t]){var _e1996=_i1787.commands[t];if(_e1996){var _t2639=!_e1996.enabled||_e1996.enabled();if(!0===_t2639){_e1996.exec();break;}if(!1===_t2639)break;if(null===_t2639)continue;}}}}},{key:"isCommandEnabled",value:function isCommandEnabled(t){var e=this.currentView||this;for(;e._shadowRoot&&e._shadowRoot.activeElement;){e=e._shadowRoot.activeElement;}for(var _i1788=e;_i1788;_i1788=_i1788.parentNode||_i1788.host){if(_i1788.commands&&_i1788.commands[t]){var _e1997=_i1788.commands[t];if(_e1997){if(!_e1997.enabled||_e1997.enabled())return!0;break;}}}return!1;}},{key:"getShortcutsEditorModel",value:function getShortcutsEditorModel(){return new Promise(/*#__PURE__*/function(){var _ref209=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee280(t){var e,i,s,_iterator1791,_step1791,_t2640,_i1789,_e1998,_t2641,_iterator1792,_step1792,_s1074,_t2642,_n770,_o575,_l430;return regeneratorRuntime.wrap(function _callee280$(_context282){while(1){switch(_context282.prev=_context282.next){case 0:e=[];_context282.next=3;return fetch("/metadata/menus/chrome-app.tpl");case 3:_context282.next=5;return _context282.sent.text();case 5:i=_context282.sent;s=new DOMParser().parseFromString(i,"text/html");_iterator1791=_createForOfIteratorHelper(s.querySelectorAll("x-menu"));try{for(_iterator1791.s();!(_step1791=_iterator1791.n()).done;){_t2640=_step1791.value;_i1789=[];for(_e1998=_t2640.closest("x-menuitem");_e1998;_e1998=_e1998.parentNode.closest("x-menuitem")){_t2641=_e1998.querySelector(":scope > x-label");_t2641&&_i1789.unshift(_t2641.textContent);}_iterator1792=_createForOfIteratorHelper(_t2640.children);try{for(_iterator1792.s();!(_step1792=_iterator1792.n()).done;){_s1074=_step1792.value;if("x-menuitem"===_s1074.localName){_t2642=_s1074.getAttribute("value");if(null!==_t2642&&!1===_t2642.startsWith("disk:")){_n770=_s1074.querySelector(":scope > x-label"),_o575=_s1074.querySelector(":scope > x-shortcut.default-shortcut"),_l430={commandID:_t2642,label:[].concat(_i1789,[_n770.textContent]).join(" \u2023 "),defaultShortcut:null};_o575&&_o575.hasAttribute("value")&&(_l430.defaultShortcut=_o575.getAttribute("value")),e.push(_l430);}}}}catch(err){_iterator1792.e(err);}finally{_iterator1792.f();}}}catch(err){_iterator1791.e(err);}finally{_iterator1791.f();}t(e);case 10:case"end":return _context282.stop();}}},_callee280);}));return function(_x240){return _ref209.apply(this,arguments);};}());}},{key:"QE",value:function QE(t){var e=!1;if(null!==t.key){var _i1790=t.toString(),_s1075=null,_n771=this["#menubar"].querySelector("x-shortcut.user-shortcut[value=\"".concat(_i1790,"\"]"));if(_n771)_s1075=_n771.closest("x-menuitem");else{var _t2643=this["#menubar"].querySelector("x-shortcut.default-shortcut[value=\"".concat(_i1790,"\"]"));_t2643&&null===_t2643.nextElementSibling.normalKey&&(_s1075=_t2643.closest("x-menuitem"));}if(_s1075){var _t2644=_s1075.value;this.isCommandEnabled(_t2644)&&(_s1075.click(),e=!0);}}return e;}},{key:"WE",value:function WE(){var _this1124=this;return new Promise(/*#__PURE__*/function(){var _ref210=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee281(t){var e;return regeneratorRuntime.wrap(function _callee281$(_context283){while(1){switch(_context283.prev=_context283.next){case 0:e=_this1124.getConfig("bx-uisettings:colorScheme","auto");"auto"===e&&(e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");$s.theme="light"===e?"/themes/vanilla.css":"/themes/vanilla-dark.css";_context283.next=5;return $s.whenThemeReady;case 5:_context283.next=7;return _this1124.tT();case 7:t();case 8:case"end":return _context283.stop();}}},_callee281);}));return function(_x241){return _ref210.apply(this,arguments);};}());}},{key:"tT",value:function tT(){$s.accentColor=this.getConfig("bx-uisettings:accentColor","blue");}},{key:"qE",value:function qE(){var t=this.getConfig("bx-uisettings:widgetsSize","auto");"auto"===t&&(t=window.matchMedia("(pointer: coarse)").matches?"large":window.matchMedia("(min-device-width: 1025px)").matches?"medium":"large"),$s.size=t;}},{key:"XE",value:function(){var _XE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee282(){var _iterator1793,_step1793,_t2645,_iterator1794,_step1794,_t2646;return regeneratorRuntime.wrap(function _callee282$(_context284){while(1){switch(_context284.prev=_context284.next){case 0:if(!(null===this["#menubar"].firstElementChild)){_context284.next=8;break;}_context284.next=3;return fetch("/metadata/menus/chrome-app.tpl");case 3:_context284.next=5;return _context284.sent.text();case 5:this["#menubar"].innerHTML=_context284.sent;_iterator1793=_createForOfIteratorHelper(this["#menubar"].querySelectorAll("[id]"));try{for(_iterator1793.s();!(_step1793=_iterator1793.n()).done;){_t2645=_step1793.value;this["#"+_t2645.id]=_t2645;}}catch(err){_iterator1793.e(err);}finally{_iterator1793.f();}case 8:_iterator1794=_createForOfIteratorHelper(this["#menubar"].querySelectorAll("x-menu"));try{for(_iterator1794.s();!(_step1794=_iterator1794.n()).done;){_t2646=_step1794.value;this.sT(_t2646);}}catch(err){_iterator1794.e(err);}finally{_iterator1794.f();}case 10:case"end":return _context284.stop();}}},_callee282,this);}));function XE(){return _XE.apply(this,arguments);}return XE;}()},{key:"sT",value:function sT(t){if(t===this["#open-recent-menu"])return;var e=this.getConfig("bx-keyboardsettings:userShortcuts",{}),i=_toConsumableArray(t.children).filter(function(t){return"x-menuitem"===t.localName;});var _iterator1795=_createForOfIteratorHelper(i),_step1795;try{for(_iterator1795.s();!(_step1795=_iterator1795.n()).done;){var _t2647=_step1795.value;var _i1791=_t2647.value&&!1===_t2647.value.startsWith("open-recent")?_t2647.value:null;if(_i1791&&(_t2647.disabled=!1===this.isCommandEnabled(_i1791)),_i1791)if("manualGuides"===_i1791)_t2647.toggled=null!==this.currentEditor&&this.currentEditor.board.showManualGuides;else if("smartGuides"===_i1791)_t2647.toggled=null!==this.currentEditor&&this.currentEditor.board.showSmartGuides;else if("grid"===_i1791)_t2647.toggled=null!==this.currentEditor&&this.currentEditor.board.showGrid;else if("transparency"===_i1791)_t2647.toggled=null!==this.currentEditor&&this.currentEditor.board.showTransparency;else if("views"===_i1791)_t2647.toggled=null!==this.currentEditor&&this.currentEditor.board.showViews;else if(_i1791.endsWith("Tool")){var _e1999=this.currentEditor?oi(this.currentEditor.toolsDock.value||""):"";_t2647.toggled=_e1999===_i1791;}else if(_i1791.endsWith("Panel")){var _e2000=null;this.currentEditor&&(_e2000="elementsPanel"===_i1791||"codePanel"===_i1791||"animationPanel"===_i1791?this.currentEditor.secondaryPanelsDock:this.currentEditor.primaryPanelsDock);var _s1076=_e2000?oi(_e2000.value||""):"";_t2647.toggled=_s1076===_i1791;}else"maximize"===_i1791&&(_t2647.toggled=chrome.app.window.current().isMaximized());if(_i1791){var _s1077=_t2647.querySelector(":scope > x-shortcut.default-shortcut"),_n772=_t2647.querySelector(":scope > x-shortcut.user-shortcut");void 0!==e[_i1791]?(_s1077.hidden=!0,_n772.hidden=!1,_n772.setAttribute("value",e[_i1791])):(_s1077.hidden=!1,_n772.hidden=!0,_n772.removeAttribute("value"));}"open-recent-menu-item"===_t2647.id&&this.dT();}}catch(err){_iterator1795.e(err);}finally{_iterator1795.f();}}},{key:"dT",value:function dT(){var _this1125=this;return new Promise(/*#__PURE__*/function(){var _ref211=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee283(t){var e,i,_iterator1796,_step1796,_t2648,_e2001;return regeneratorRuntime.wrap(function _callee283$(_context285){while(1){switch(_context285.prev=_context285.next){case 0:_context285.next=2;return _this1125.rT();case 2:e=_context285.sent;i="";_iterator1796=_createForOfIteratorHelper(e);_context285.prev=5;_iterator1796.s();case 7:if((_step1796=_iterator1796.n()).done){_context285.next=15;break;}_t2648=_step1796.value;_context285.next=11;return Lw(_t2648);case 11:_e2001=_context285.sent;_e2001&&(i+="\n            <x-menuitem id=\"open-recent-".concat(_t2648,"\">\n              <x-label>").concat(_e2001.name,"</x-label>\n            </x-menuitem>\n          "));case 13:_context285.next=7;break;case 15:_context285.next=20;break;case 17:_context285.prev=17;_context285.t0=_context285["catch"](5);_iterator1796.e(_context285.t0);case 20:_context285.prev=20;_iterator1796.f();return _context285.finish(20);case 23:""===i?(_this1125["#open-recent-menu"].innerHTML=i,_this1125["#open-recent-menu-item"].disabled=!0):(i+='\n          <hr/>\n\n          <x-menuitem value="clearRecent">\n            <x-label>Clear Recent</x-label>\n          </x-menuitem>\n        ',_this1125["#open-recent-menu"].innerHTML=i,_this1125["#open-recent-menu-item"].disabled=!1),t();case 24:case"end":return _context285.stop();}}},_callee283,null,[[5,17,20,23]]);}));return function(_x242){return _ref211.apply(this,arguments);};}());}}]);return qw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(qw,"_shadowTemplate",Yi(_templateObject567()));_defineProperty(qw,"_shadowStyleSheet",Wi(_templateObject568()));customElements.define("bx-chromeapp",qw);}();