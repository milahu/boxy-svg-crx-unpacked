var runtime = (function (exports) {
  "use strict";

  var Op = Object.prototype;
  var hasOwn = Op.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var $Symbol = typeof Symbol === "function" ? Symbol : {};
  var iteratorSymbol = $Symbol.iterator || "@@iterator";
  var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";
  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";

  function define(obj, key, value) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
    return obj[key];
  }
  try {
    // IE 8 has a broken Object.defineProperty that only works on DOM objects.
    define({}, "");
  } catch (err) {
    define = function(obj, key, value) {
      return obj[key] = value;
    };
  }

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.
    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
    var generator = Object.create(protoGenerator.prototype);
    var context = new Context(tryLocsList || []);

    // The ._invoke method unifies the implementations of the .next,
    // .throw, and .return methods.
    generator._invoke = makeInvokeMethod(innerFn, self, context);

    return generator;
  }
  exports.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  // This is a polyfill for %IteratorPrototype% for environments that
  // don't natively support it.
  var IteratorPrototype = {};
  IteratorPrototype[iteratorSymbol] = function () {
    return this;
  };

  var getProto = Object.getPrototypeOf;
  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));
  if (NativeIteratorPrototype &&
      NativeIteratorPrototype !== Op &&
      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
    // This environment has a native %IteratorPrototype%; use it instead
    // of the polyfill.
    IteratorPrototype = NativeIteratorPrototype;
  }

  var Gp = GeneratorFunctionPrototype.prototype =
    Generator.prototype = Object.create(IteratorPrototype);
  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
  GeneratorFunctionPrototype.constructor = GeneratorFunction;
  GeneratorFunction.displayName = define(
    GeneratorFunctionPrototype,
    toStringTagSymbol,
    "GeneratorFunction"
  );

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function(method) {
      define(prototype, method, function(arg) {
        return this._invoke(method, arg);
      });
    });
  }

  exports.isGeneratorFunction = function(genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor
      ? ctor === GeneratorFunction ||
        // For the native GeneratorFunction constructor, the best we can
        // do is to check its .name property.
        (ctor.displayName || ctor.name) === "GeneratorFunction"
      : false;
  };

  exports.mark = function(genFun) {
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
    } else {
      genFun.__proto__ = GeneratorFunctionPrototype;
      define(genFun, toStringTagSymbol, "GeneratorFunction");
    }
    genFun.prototype = Object.create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `hasOwn.call(value, "__await")` to determine if the yielded value is
  // meant to be awaited.
  exports.awrap = function(arg) {
    return { __await: arg };
  };

  function AsyncIterator(generator, PromiseImpl) {
    function invoke(method, arg, resolve, reject) {
      var record = tryCatch(generator[method], generator, arg);
      if (record.type === "throw") {
        reject(record.arg);
      } else {
        var result = record.arg;
        var value = result.value;
        if (value &&
            typeof value === "object" &&
            hasOwn.call(value, "__await")) {
          return PromiseImpl.resolve(value.__await).then(function(value) {
            invoke("next", value, resolve, reject);
          }, function(err) {
            invoke("throw", err, resolve, reject);
          });
        }

        return PromiseImpl.resolve(value).then(function(unwrapped) {
          // When a yielded Promise is resolved, its final value becomes
          // the .value of the Promise<{value,done}> result for the
          // current iteration.
          result.value = unwrapped;
          resolve(result);
        }, function(error) {
          // If a rejected Promise was yielded, throw the rejection back
          // into the async generator function so it can be handled there.
          return invoke("throw", error, resolve, reject);
        });
      }
    }

    var previousPromise;

    function enqueue(method, arg) {
      function callInvokeWithMethodAndArg() {
        return new PromiseImpl(function(resolve, reject) {
          invoke(method, arg, resolve, reject);
        });
      }

      return previousPromise =
        // If enqueue has been called before, then we want to wait until
        // all previous Promises have been resolved before calling invoke,
        // so that results are always delivered in the correct order. If
        // enqueue has not been called before, then it is important to
        // call invoke immediately, without waiting on a callback to fire,
        // so that the async generator function has the opportunity to do
        // any necessary setup in a predictable way. This predictability
        // is why the Promise constructor synchronously invokes its
        // executor callback, and why async functions synchronously
        // execute code before the first await. Since we implement simple
        // async functions in terms of async generators, it is especially
        // important to get this right, even though it requires care.
        previousPromise ? previousPromise.then(
          callInvokeWithMethodAndArg,
          // Avoid propagating failures to Promises returned by later
          // invocations of the iterator.
          callInvokeWithMethodAndArg
        ) : callInvokeWithMethodAndArg();
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);
  AsyncIterator.prototype[asyncIteratorSymbol] = function () {
    return this;
  };
  exports.AsyncIterator = AsyncIterator;

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
    if (PromiseImpl === void 0) PromiseImpl = Promise;

    var iter = new AsyncIterator(
      wrap(innerFn, outerFn, self, tryLocsList),
      PromiseImpl
    );

    return exports.isGeneratorFunction(outerFn)
      ? iter // If outerFn is a generator, return the full iterator.
      : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      context.method = method;
      context.arg = arg;

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          var delegateResult = maybeInvokeDelegate(delegate, context);
          if (delegateResult) {
            if (delegateResult === ContinueSentinel) continue;
            return delegateResult;
          }
        }

        if (context.method === "next") {
          // Setting context._sent for legacy support of Babel's
          // function.sent implementation.
          context.sent = context._sent = context.arg;

        } else if (context.method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw context.arg;
          }

          context.dispatchException(context.arg);

        } else if (context.method === "return") {
          context.abrupt("return", context.arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done
            ? GenStateCompleted
            : GenStateSuspendedYield;

          if (record.arg === ContinueSentinel) {
            continue;
          }

          return {
            value: record.arg,
            done: context.done
          };

        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(context.arg) call above.
          context.method = "throw";
          context.arg = record.arg;
        }
      }
    };
  }

  // Call delegate.iterator[context.method](context.arg) and handle the
  // result, either by returning a { value, done } result from the
  // delegate iterator, or by modifying context.method and context.arg,
  // setting context.delegate to null, and returning the ContinueSentinel.
  function maybeInvokeDelegate(delegate, context) {
    var method = delegate.iterator[context.method];
    if (method === undefined) {
      // A .throw or .return when the delegate iterator has no .throw
      // method always terminates the yield* loop.
      context.delegate = null;

      if (context.method === "throw") {
        // Note: ["return"] must be used for ES3 parsing compatibility.
        if (delegate.iterator["return"]) {
          // If the delegate iterator has a return method, give it a
          // chance to clean up.
          context.method = "return";
          context.arg = undefined;
          maybeInvokeDelegate(delegate, context);

          if (context.method === "throw") {
            // If maybeInvokeDelegate(context) changed context.method from
            // "return" to "throw", let that override the TypeError below.
            return ContinueSentinel;
          }
        }

        context.method = "throw";
        context.arg = new TypeError(
          "The iterator does not provide a 'throw' method");
      }

      return ContinueSentinel;
    }

    var record = tryCatch(method, delegate.iterator, context.arg);

    if (record.type === "throw") {
      context.method = "throw";
      context.arg = record.arg;
      context.delegate = null;
      return ContinueSentinel;
    }

    var info = record.arg;

    if (! info) {
      context.method = "throw";
      context.arg = new TypeError("iterator result is not an object");
      context.delegate = null;
      return ContinueSentinel;
    }

    if (info.done) {
      // Assign the result of the finished delegate to the temporary
      // variable specified by delegate.resultName (see delegateYield).
      context[delegate.resultName] = info.value;

      // Resume execution at the desired location (see delegateYield).
      context.next = delegate.nextLoc;

      // If context.method was "throw" but the delegate handled the
      // exception, let the outer generator proceed normally. If
      // context.method was "next", forget context.arg since it has been
      // "consumed" by the delegate iterator. If context.method was
      // "return", allow the original .return call to continue in the
      // outer generator.
      if (context.method !== "return") {
        context.method = "next";
        context.arg = undefined;
      }

    } else {
      // Re-yield the result returned by the delegate method.
      return info;
    }

    // The delegate iterator is finished, so forget it and continue with
    // the outer generator.
    context.delegate = null;
    return ContinueSentinel;
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  define(Gp, toStringTagSymbol, "Generator");

  // A Generator should always return itself as the iterator object when the
  // @@iterator function is called on it. Some browsers' implementations of the
  // iterator prototype chain incorrectly implement this, causing the Generator
  // object to not be returned from this call. This ensures that doesn't happen.
  // See https://github.com/facebook/regenerator/issues/274 for more details.
  Gp[iteratorSymbol] = function() {
    return this;
  };

  Gp.toString = function() {
    return "[object Generator]";
  };

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  exports.keys = function(object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1, next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  exports.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      // Resetting context._sent for legacy support of Babel's
      // function.sent implementation.
      this.sent = this._sent = undefined;
      this.done = false;
      this.delegate = null;

      this.method = "next";
      this.arg = undefined;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" &&
              hasOwn.call(this, name) &&
              !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;

        if (caught) {
          // If the dispatched exception was caught by a catch block,
          // then let that catch block handle the exception normally.
          context.method = "next";
          context.arg = undefined;
        }

        return !! caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }

          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev &&
            hasOwn.call(entry, "finallyLoc") &&
            this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry &&
          (type === "break" ||
           type === "continue") &&
          finallyEntry.tryLoc <= arg &&
          arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.method = "next";
        this.next = finallyEntry.finallyLoc;
        return ContinueSentinel;
      }

      return this.complete(record);
    },

    complete: function(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" ||
          record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = this.arg = record.arg;
        this.method = "return";
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }

      return ContinueSentinel;
    },

    finish: function(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      if (this.method === "next") {
        // Deliberately forget the last sent value so that we don't
        // accidentally pass it on to the delegate.
        this.arg = undefined;
      }

      return ContinueSentinel;
    }
  };

  // Regardless of whether this script is executing as a CommonJS module
  // or not, return the runtime object so that we can declare the variable
  // regeneratorRuntime in the outer scope, which allows this module to be
  // injected easily by `bin/regenerator --include-runtime script.js`.
  return exports;

}(
  // If this script is executing as a CommonJS module, use module.exports
  // as the regeneratorRuntime namespace. Otherwise create a new empty
  // object. Either way, the resulting object will be used to initialize
  // the regeneratorRuntime variable at the top of this file.
  typeof module === "object" ? module.exports : {}
));

try {
  regeneratorRuntime = runtime;
} catch (accidentalStrictMode) {
  // This module should not be running in strict mode, so the above
  // assignment should always work unless something is misconfigured. Just
  // in case runtime.js accidentally runs in strict mode, we can escape
  // strict mode using a global Function call. This could conceivably fail
  // if a Content Security Policy forbids using Function, but in that case
  // the proper solution is to fix the accidental strict mode problem. If
  // you've misconfigured your bundler to force strict mode and applied a
  // CSP to forbid Function, and you're not willing to fix either of those
  // problems, please detail your unique predicament in a GitHub issue.
  Function("r", "regeneratorRuntime = r")(runtime);
}

"use strict";function _templateObject564(){var data=_taggedTemplateLiteral([":host{width:100%;height:100%;box-sizing:border-box;display:flex;flex-flow:column}#header{border-bottom-width:1px;border-bottom-style:solid;-webkit-app-region:drag}#menubar{border:none;width:auto}#menubar[data-expaneded]{z-index:9999}#menubar[data-expaneded] *{z-index:99999}#menubar x-menuitem{-webkit-app-region:no-drag!important}#menubar x-shortcut[hidden]{display:none}#titlebar-buttons{margin-left:auto;-webkit-app-region:no-drag!important}#tabs{width:auto;height:30px;padding-top:5px;outline:0}#tabs[disabled]{opacity:.5;pointer-events:none}#tabs x-doctab:focus{box-shadow:none}#main{flex:1;width:100%;position:relative}#main>*{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}#main>:not(:defined),#main>[hidden]{contain:strict;visibility:visible;opacity:0;z-index:-100;touch-action:none}#sign-in-dialog::backdrop{pointer-events:none}#trial-dialog::backdrop{pointer-events:none}"]);_templateObject564=function _templateObject564(){return data;};return data;}function _templateObject563(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><x-box><x-menubar id=\"menubar\"></x-menubar><x-buttons id=\"titlebar-buttons\" tracking=\"-1\"><x-button id=\"minimize-button\" skin=\"titlebar\"><x-icon name=\"minimize-window\"></x-icon></x-button><x-button id=\"maximize-button\" skin=\"titlebar\"><x-icon name=\"maximize-window\"></x-icon></x-button><x-button id=\"close-button\" skin=\"titlebar\"><x-icon name=\"close-window\"></x-icon></x-button></x-buttons></x-box><x-doctabs id=\"tabs\"></x-doctabs></header><div id=\"main\"></div><div id=\"dialogs\"><dialog id=\"install-dialog\"><bx-chromeinstallform></bx-chromeinstallform></dialog><dialog id=\"sign-in-dialog\"><bx-chromesigninform></bx-chromesigninform></dialog><dialog id=\"trial-dialog\"><bx-chrometrialform></bx-chrometrialform></dialog></div><x-notification id=\"notification\" timeout=\"800\"></x-notification><x-contextmenu id=\"context-menu\" disabled=\"disabled\"></x-contextmenu></template>"]);_templateObject563=function _templateObject563(){return data;};return data;}function _templateObject562(){var data=_taggedTemplateLiteral([":host{width:480px}"]);_templateObject562=function _templateObject562(){return data;};return data;}function _templateObject561(){var data=_taggedTemplateLiteral(["<template><h2 id=\"message\"></h2><div id=\"detail\"></div></template>"]);_templateObject561=function _templateObject561(){return data;};return data;}function _templateObject560(){var data=_taggedTemplateLiteral([":host{width:370px}"]);_templateObject560=function _templateObject560(){return data;};return data;}function _templateObject559(){var data=_taggedTemplateLiteral(["<template><x-button id=\"close-button\" toggled><x-label>Close</x-label></x-button></template>"]);_templateObject559=function _templateObject559(){return data;};return data;}function _templateObject558(){var data=_taggedTemplateLiteral(["<template><h2>Trial period ended</h2><p>To purchase the app please visit <a href=\"https://boxy-svg.com\" target=\"_blank\">the project website</a>.</p></template>"]);_templateObject558=function _templateObject558(){return data;};return data;}function _templateObject557(){var data=_taggedTemplateLiteral([":host{width:400px}#progressbar{margin:14px 0 10px 0}"]);_templateObject557=function _templateObject557(){return data;};return data;}function _templateObject556(){var data=_taggedTemplateLiteral(["<template><h3>Validating license</h3><x-progressbar id=\"progressbar\"></x-progressbar><p>Please sign in to Chrome to continue.</p></template>"]);_templateObject556=function _templateObject556(){return data;};return data;}function _templateObject555(){var data=_taggedTemplateLiteral([":host{width:440px}#ok-button{width:100%;height:39px}#ok-button:hover{filter:brightness(.9)}"]);_templateObject555=function _templateObject555(){return data;};return data;}function _templateObject554(){var data=_taggedTemplateLiteral(["<template><x-button id=\"ok-button\" toggled><x-label>OK</x-label></x-button></template>"]);_templateObject554=function _templateObject554(){return data;};return data;}function _templateObject553(){var data=_taggedTemplateLiteral(["<template><h2>Warning</h2><p>Chrome Web Store version of Boxy SVG is optimized for <strong>Chrome OS</strong> and it will stop working on other operating systems in June 2021.</p><p>To continue using the app on <strong>Windows</strong>, <strong>macOS</strong> or <strong>Linux</strong>, please follow the download links provided on <a href=\"https://boxy-svg.com\" target=\"_blank\">the project website</a>.</p></template>"]);_templateObject553=function _templateObject553(){return data;};return data;}function _templateObject552(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;position:relative;width:100%}:host(:focus){outline:0}:host([hidden]){display:none}#form-view{display:flex;flex-flow:column;width:100%;height:100%}:host([throbber]) #form-view{display:block;visibility:hidden}#header{border-bottom:1px solid transparent}#header:empty{display:none}#main{flex:1;box-sizing:border-box;width:100%;padding:20px;position:relative;overflow:auto}h2{margin:0 0 12px 0}h3:first-child{margin-top:0}p{font-size:13px}#footer{display:flex;z-index:0;min-height:fit-content;justify-content:flex-end;padding:10px 20px;border-top:1px solid transparent}#footer:empty{display:none}#footer x-button+x-button{margin-left:8px}#footer x-button:first-child{margin-left:auto}#throbber-view{display:none;flex-flow:column;position:absolute;top:0;left:0;width:100%;height:100%;padding:0 20px;align-items:center;justify-content:center;box-sizing:border-box}:host([throbber]) #throbber-view{display:flex}"]);_templateObject552=function _templateObject552(){return data;};return data;}function _templateObject551(){var data=_taggedTemplateLiteral(["<template><div id=\"form-view\"><header id=\"header\" part=\"header\"></header><main id=\"main\" part=\"main\"></main><footer id=\"footer\" part=\"footer\"></footer></div><div id=\"throbber-view\"><x-throbber id=\"throbber\"></x-throbber></div></template>"]);_templateObject551=function _templateObject551(){return data;};return data;}function _templateObject550(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;contain:strict}:host(:focus){outline:0}*{margin:0;padding:0;box-sizing:border-box}#container{width:100%;height:100%;display:flex;flex-flow:column;align-items:center;justify-content:center;position:relative;position:relative;overflow:hidden;text-align:center;font-size:10px;user-select:none}#container a{color:var(--text-color);text-decoration:none}#container a:hover{cursor:pointer;text-decoration:underline}#logo{margin:14px 0 2px}#app-name{font-size:16px;font-weight:700;margin-bottom:2px;cursor:text;width:100%;user-select:text}#version{font-size:12px;margin:0 0 12px 0;cursor:text;width:100%;user-select:text}#main{width:300px;height:135px;overflow:auto;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;font-size:12px;padding-left:7px;padding-bottom:8px;flex:1;cursor:text;user-select:text}:host-context(bx-chromeapp) #main{border-left-width:1px;border-left-style:solid;border-right-width:1px;border-right-style:solid}#main h3{font-weight:700;margin:20px 0 6px 0;font-size:12px;text-transform:uppercase;opacity:.8}#main h3:first-child{margin-top:15px}#main li,#main ul{margin:0;padding:0}#main dt,#main dt a{font-weight:600}#main dd{margin-bottom:9px}#main #frameworks li:not(:last-child),#main #libraries li:not(:last-child){margin-bottom:3px}#copyright{width:100%;margin:10px 0 11px 0;font-size:11px;cursor:text;user-select:text}"]);_templateObject550=function _templateObject550(){return data;};return data;}function _templateObject549(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><header part=\"header\"><img id=\"logo\" src=\"/images/logos/logo-full.svg\" width=\"80px\" height=\"80px\"><h1 id=\"app-name\">Boxy SVG</h1><h2 id=\"version\">Version 0.0.0</h2></header><main id=\"main\" part=\"main\"></main><footer part=\"footer\"><h2 id=\"copyright\">\xA9 2012-"," <a href=\"http://foksa.name/\">Jaros\u0142aw Foksa</a></h2></footer></div></template>"]);_templateObject549=function _templateObject549(){return data;};return data;}function _templateObject548(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%}:host(:focus){outline:0}#container{width:100%;height:100%}#titlebar{position:absolute;top:0;left:0;width:100%;height:28px;display:none}:host-context(bx-macapp) #titlebar{display:block;-webkit-app-region:drag}#sidebar{display:flex;flex-flow:column;height:100%;border-right:1px solid transparent;padding-top:10px;box-sizing:border-box}:host-context(bx-macapp) #sidebar{padding-top:28px}#sidebar-separator-2{margin:auto 0 0 0}#sidebar-buttons x-button x-icon{margin:0}#sidebar-buttons x-button x-label{margin-left:12px}@media all and (max-width:770px){#sidebar-buttons x-button x-label{display:none}}#sidebar #logout-button{margin:10px;width:calc(100% - 20px)}@media all and (max-width:770px){#sidebar #logout-button x-icon{margin:0}#sidebar #logout-button x-label{display:none}}#main{width:100%;height:100%;padding:30px 30px;box-sizing:border-box;overflow:auto}"]);_templateObject548=function _templateObject548(){return data;};return data;}function _templateObject547(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\"><sidebar id=\"sidebar\" part=\"sidebar\"><x-buttons id=\"sidebar-buttons\" tracking=\"1\" vertical><x-button skin=\"nav\" value=\"general\" toggled><x-icon name=\"prefs-general\"></x-icon><x-label>General</x-label></x-button><x-button skin=\"nav\" value=\"ui\"><x-icon name=\"prefs-ui\"></x-icon><x-label>UI</x-label></x-button><x-button skin=\"nav\" value=\"markup\"><x-icon name=\"prefs-markup\"></x-icon><x-label>Markup</x-label></x-button><x-button skin=\"nav\" value=\"garbage-collector\"><x-icon name=\"prefs-garbage-collector\"></x-icon><x-label>Garbage Collector</x-label></x-button><x-button skin=\"nav\" value=\"keyboard\"><x-icon name=\"prefs-keyboard\"></x-icon><x-label>Keyboard</x-label></x-button><hr id=\"sidebar-separator-1\"><x-button skin=\"nav\" value=\"profile\" id=\"profile-button\"><x-icon name=\"prefs-profile\"></x-icon><x-label>Public profile</x-label></x-button><x-button skin=\"nav\" value=\"auth\" id=\"auth-button\"><x-icon name=\"prefs-auth\"></x-icon><x-label>Authentication</x-label></x-button><x-button skin=\"nav\" value=\"subscription\" id=\"subscription-button\"><x-icon name=\"prefs-subscription\"></x-icon><x-label>Subscription</x-label></x-button><x-button skin=\"nav\" value=\"delete-account\" id=\"delete-account-button\"><x-icon name=\"prefs-delete-account\"></x-icon><x-label>Delete account</x-label></x-button></x-buttons><hr id=\"sidebar-separator-2\"><x-button id=\"logout-button\" title=\"Log out\" condensed><x-icon name=\"logout\"></x-icon><x-label>Log out</x-label></x-button></sidebar><main id=\"main\"><bx-generalsettings id=\"general-settings\" data-name=\"general\"></bx-generalsettings><bx-uisettings id=\"ui-settings\" data-name=\"ui\"></bx-uisettings><bx-markupsettings id=\"markup-settings\" data-name=\"markup\"></bx-markupsettings><bx-garbagecollectorsettings id=\"garbage-collector-settings\" data-name=\"garbage-collector\"></bx-garbagecollectorsettings><bx-keyboardsettings id=\"keyboard-settings\" data-name=\"keyboard\"></bx-keyboardsettings><bx-profilesettings id=\"profile-settings\" data-name=\"profile\"></bx-profilesettings><bx-authsettings id=\"auth-settings\" data-name=\"auth\"></bx-authsettings><bx-subscriptionsettings id=\"subscription-settings\" data-name=\"subscription\"></bx-subscriptionsettings><bx-deleteaccountsettings id=\"delete-account-settings\" data-name=\"delete-account\"></bx-deleteaccountsettings></main></x-box><div id=\"titlebar\"></div></template>"]);_templateObject547=function _templateObject547(){return data;};return data;}function _templateObject546(){var data=_taggedTemplateLiteral(["#default-view{width:100%;height:100%}#password-input{flex:1;max-width:none;margin-right:8px}#progress-view{display:flex;flex-flow:column;align-items:center;justify-content:center;margin-top:30px}#progress-view[hidden]{display:none}#progress-label{margin-top:14px}"]);_templateObject546=function _templateObject546(){return data;};return data;}function _templateObject545(){var data=_taggedTemplateLiteral(["<template><h2>Delete account</h2><div id=\"default-view\"><section id=\"delete-account-section\"><h3>Warning</h3><p>Once you delete your account, <strong>there is no going back</strong>. All your files will be removed from boxy-svg.com servers. Your paid subscription will be canceled if you have one.</p><x-box><x-input id=\"password-input\" type=\"password\"><x-label id=\"password-placeholder\">Enter your password</x-label></x-input><x-button id=\"delete-account-button\" disabled=\"disabled\"><x-label>Delete account</x-label></x-button></x-box></section></div><div id=\"progress-view\" hidden><x-progressbar id=\"progress-bar\"></x-progressbar><x-label id=\"progress-label\">Connecting to server...</x-label></div></template>"]);_templateObject545=function _templateObject545(){return data;};return data;}function _templateObject544(){var data=_taggedTemplateLiteral(["#info-section>p{line-height:1.4;margin:3px}#plan-section{margin:18px 0 26px 0}#plan-select-block{margin-top:10px}#subscription-buttons{margin-top:10px}#subscription-buttons>x-button{flex:1;min-width:fit-content;margin-left:10px}#subscription-buttons>x-button:first-child{margin-left:0}#progress-bar{margin-top:30px}"]);_templateObject544=function _templateObject544(){return data;};return data;}function _templateObject543(){var data=_taggedTemplateLiteral(["<template><h2>Subscription</h2><main id=\"main\"><section id=\"info-section\"><p><strong>Current plan:</strong> <span id=\"subscription-plan-span\">Fetching\u2026</span></p><p><strong>Status:</strong> <span id=\"subscription-status-span\">Fetching\u2026</span></p></section><section id=\"plan-section\"><bx-planselectblock id=\"plan-select-block\"></bx-planselectblock></section><section id=\"buttons-section\"><x-box id=\"subscription-buttons\"><x-button id=\"billing-button\" condensed disabled=\"disabled\"><x-icon name=\"credit-card\"></x-icon><x-label>Update billing\u2026</x-label></x-button><x-button id=\"cancel-button\" condensed disabled=\"disabled\"><x-icon name=\"cancel\"></x-icon><x-label>Cancel subscription\u2026</x-label></x-button><x-button id=\"subscribe-button\" condensed toggled disabled=\"disabled\"><x-icon name=\"credit-card\"></x-icon><x-label id=\"subscribe-button-label\">Subscribe</x-label></x-button></x-box></section></main><x-progressbar id=\"progress-bar\" hidden></x-progressbar></template>"]);_templateObject543=function _templateObject543(){return data;};return data;}function _templateObject542(){var data=_taggedTemplateLiteral([":host{display:block}:host([disabled]){opacity:.5;pointer-events:none;user-select:none}table{width:100%;border-collapse:collapse;font-size:13px;overflow:visible}table tr{height:35px;border-radius:inherit}table[data-size=large] tr{height:38px}table td{padding:0 10px;box-sizing:border-box}table p:first-child{margin-top:0}table p:last-child{margin-bottom:0}thead{border-radius:inherit}thead td:nth-child(2){padding:0}thead td:nth-child(3){padding:0;border-top-right-radius:inherit}thead td x-radio{margin:0 auto}thead td x-radio x-label{font-weight:700;font-size:15px}tbody x-icon[part=no-icon],tbody x-icon[part=yes-icon]{margin:0 auto}tbody #cloud-button{width:100%;height:100%}tbody #cloud-button[disabled]{opacity:1}tbody #cloud-button::part(arrow){display:none}tbody #cloud-button x-icon{width:17px;height:17px}tbody #cloud-button[computedsize=large] x-icon{width:21px;height:21px}tbody #cloud-button x-popover{width:300px;user-select:none}tbody #cloud-button x-popover p{margin:0}tfoot td:nth-child(2){padding:0}tfoot .help-button{margin-left:auto}tfoot .help-button::part(arrow){display:none}tfoot x-popover p:not(:first-child){margin-top:8px}tfoot x-popover ul{margin:8px 0 0 5px;padding:0;list-style:none}tfoot x-popover li{position:relative;margin:0;padding-left:13px}tfoot x-popover li:before{position:absolute;left:0;content:\"\u2022\";font-weight:700}#quantity-td{position:relative}#quantity-help-button x-popover{width:345px}#quantity-input{position:absolute;top:0;left:0;width:100%;height:100%;max-width:none;padding-left:4px;background:0 0;border:none}#quantity-input[disabled]{background:0 0;opacity:1}#quantity-input[disabled] x-stepper{visibility:hidden}#discount-td{padding:0 10px}#discount-help-button x-popover{width:280px}#billing-td{position:relative}#billing-select{position:absolute;top:0;left:0;width:100%;height:100%;background:0 0;border:none;text-align:start}#billing-select[disabled]{opacity:1}#billing-select[disabled]::before{display:none}#billing-select[disabled]::part(arrow){display:none}#price-td{font-weight:700;padding:0 10px}#price-help-button x-popover{width:305px}"]);_templateObject542=function _templateObject542(){return data;};return data;}function _templateObject541(){var data=_taggedTemplateLiteral(["<template><table id=\"table\"><thead id=\"table-head\"><tr><td>Plan</td><td><x-radios><x-radio id=\"standard-plan-radio\" size=\"small\"><x-label>Standard</x-label></x-radio></x-radios></td><td><x-radios><x-radio id=\"premium-plan-radio\" size=\"small\"><x-label>Premium</x-label></x-radio></x-radios></td></tr></thead><tbody id=\"table-body\"><tr><td>Use online as a web app</td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr><tr><td>Install and use offline as a desktop app</td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr><tr><td>Save SVG files to your disk</td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr><tr><td>Save and host SVG files in the cloud</td><td><x-icon name=\"feature-unsupported\" part=\"no-icon\"></x-icon></td><td><x-button skin=\"flat\" id=\"cloud-button\"><x-icon part=\"yes-icon\" name=\"feature-supported-asterisk\"></x-icon><x-popover modal><main><p>You can keep up to 10 GB of data in the cloud for free. Unlimited storage space can be purchased separately.</p></main></x-popover></x-button></td></tr><tr><td>Export SVG files to PDF</td><td><x-icon name=\"feature-unsupported\" part=\"no-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr><tr><td>Sync app preferences between devices</td><td><x-icon name=\"feature-unsupported\" part=\"no-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr></tbody><tfoot id=\"table-foot\"><tr><td><x-box><span>Users</span><x-button id=\"quantity-help-button\" class=\"help-button\" skin=\"circular\" size=\"small\"><x-icon name=\"help\"></x-icon><x-popover modal><main><p>Number of users belonging to your organization that should be able to use the app simultaneously.</p><p>You can freely assign and unassign licenses to users at any time by entering their email addresses in <a id=\"auth-anchor\" href=\"?dialog=preferences\u2192auth\">\"Preferences \u2192 Authentication\"</a>.</p></main></x-popover></x-button></x-box></td><td id=\"quantity-td\" colspan=\"2\"><x-numberinput id=\"quantity-input\" value=\"1\" min=\"1\" condensed disabled=\"disabled\"><x-stepper></x-stepper></x-numberinput></td></tr><tr><td><x-box><span>Volume discount</span><x-button id=\"discount-help-button\" class=\"help-button\" skin=\"circular\" size=\"small\"><x-icon name=\"help\"></x-icon><x-popover modal><main><p>A discount is granted when you purchase a subscription for many users:</p><ul><li>10% discount - for 10 or more users</li><li>20% discount - for 30 or more users</li><li>30% discount - for 100 or more users</li></ul></main></x-popover></x-button></x-box></td><td id=\"discount-td\" colspan=\"2\"><span id=\"discount-span\">None</span></td></tr><tr><td>Billing</td><td id=\"billing-td\" colspan=\"2\"><x-select id=\"billing-select\" disabled=\"disabled\"><x-menu><x-menuitem value=\"monthly\"><x-label>Monthly</x-label></x-menuitem><x-menuitem value=\"yearly\" toggled><x-label>Yearly</x-label></x-menuitem></x-menu></x-select></td></tr><tr><td><x-box><span>Price</span><x-button id=\"price-help-button\" class=\"help-button\" skin=\"circular\" size=\"small\"><x-icon name=\"help\"></x-icon><x-popover modal><main><p>Depending on your current tax residence, an additional VAT or sales tax might be applied.</p><p>When changing an existing subscription plan, the total amount due will be prorated.</p></main></x-popover></x-button></x-box></td><td id=\"price-td\" colspan=\"2\"><span id=\"price-span\">9.99</span> USD</td></tr></tfoot></table></template>"]);_templateObject541=function _templateObject541(){return data;};return data;}function _templateObject540(){var data=_taggedTemplateLiteral(["#email-section>x-box{margin-top:4px}#email-input{flex:1;max-width:none}#email-change-button,#email-verify-button{margin-left:6px}#email-throbber{width:24px;height:24px;margin-left:6px}#password-section>x-box{margin-top:4px}#password-input{flex:1;max-width:none;margin-right:6px}#password-change-button{width:143px}#password-throbber{width:24px;height:24px;margin-left:6px}#users-change-box{margin-top:8px;width:100%}#users-change-button{flex:1}#users-change-throbber{margin-left:8px}"]);_templateObject540=function _templateObject540(){return data;};return data;}function _templateObject539(){var data=_taggedTemplateLiteral(["<template><h2>Authentication</h2><section id=\"email-section\"><h3>E-mail</h3><p>E-mail address used for password recovery and communication with Boxy SVG team.</p><x-box><x-input id=\"email-input\" type=\"email\"></x-input><x-button id=\"email-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button><x-button id=\"email-verify-button\"><x-label>Verify</x-label></x-button><x-throbber id=\"email-throbber\" hidden></x-throbber></x-box></section><hr><section id=\"password-section\"><h3>Password</h3><p>The password used to sign into Boxy SVG.</p><x-box><x-input id=\"password-input\" type=\"password\"><x-label id=\"password-placeholder\">\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022</x-label></x-input><x-button id=\"password-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button><x-throbber id=\"password-throbber\" hidden></x-throbber></x-box></section><hr><section id=\"users-section\" hidden><h3>Users</h3><p>Enter email addresses of the users belonging to your organization. To increase the allowed number of users please adjust your <a id=\"subscription-anchor\" href=\"?dialog=preferences\u2192subscription\">subscription plan</a>.</p><bx-userseditor id=\"users-editor\"></bx-userseditor><x-box id=\"users-change-box\"><x-button id=\"users-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button><x-throbber id=\"users-change-throbber\" hidden></x-throbber></x-box></section></template>"]);_templateObject539=function _templateObject539(){return data;};return data;}function _templateObject538(){var data=_taggedTemplateLiteral([":host{display:flex;box-sizing:border-box;max-height:182px;overflow:hidden;border-width:1px;border-style:solid}:host([disabled]){opacity:.5;pointer-events:none}:host(:focus){outline:0}#main{width:100%;overflow-y:auto}#table{width:100%;display:block;table-layout:auto;overflow:auto;border-collapse:collapse;user-select:none;border:none;box-shadow:none}#table tr{height:30px;box-sizing:border-box}#table[data-size=small] tr{height:24px}#table[data-size=large] tr{height:34px}#table td{border-width:1px;border-style:solid}#table td:first-child{border-left:none}#table td:last-child{border-right:none}#table tr:first-child td{border-top:none}#table tr:last-child td{border-bottom:none}#table td.index-cell{width:auto;padding:0 6px;box-sizing:border-box;text-align:end;font-size:12px}#table td.value-cell{width:100%;padding:0 6px}#table td.value-cell .label{width:100%;padding:0 2px;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:12px}#table tr[data-disabled] td.value-cell .label{opacity:.6}#table td.value-cell .input{width:100%;max-width:none;height:100%;border:none;font-size:12px;padding:2px 0;color:var(--text-color)}#table td.value-cell .input::part(input){padding:0 2px}#table td.value-cell .input:focus{outline:0}"]);_templateObject538=function _templateObject538(){return data;};return data;}function _templateObject537(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><table id=\"table\"><tbody id=\"tbody\"></tbody></table></main></template>"]);_templateObject537=function _templateObject537(){return data;};return data;}function _templateObject536(){var data=_taggedTemplateLiteral(["#avatar{width:120px;height:120px}#avatar-edit-button{width:120px;margin-top:8px}#name-section{position:relative}#name-section>x-box{margin-top:4px}#name-input{flex:1;max-width:none;margin-right:6px;position:relative}#name-throbber{position:absolute;top:2px;right:0}#website-section{position:relative}#website-section>x-box{margin-top:4px}#website-input{flex:1;max-width:none;margin-right:6px;position:relative}#website-throbber{position:absolute;top:2px;right:0}#bio-section{position:relative}#bio-section>x-box{margin-top:4px}#bio-editor{flex:1;max-width:none;height:46px;min-height:0}#bio-change-button{height:46px;margin-left:6px}#bio-throbber{position:absolute;top:2px;right:0}"]);_templateObject536=function _templateObject536(){return data;};return data;}function _templateObject535(){var data=_taggedTemplateLiteral(["<template><h2>Public profile</h2><section id=\"avatar-section\"><h3>Avatar</h3><p>Image to be shown next to your posts.</p><bx-avatar id=\"avatar\" part=\"avatar\" transparent></bx-avatar><x-button id=\"avatar-edit-button\" toggled><x-label>Edit</x-label></x-button></section><hr><section id=\"name-section\"><h3 id=\"name-heading\">Name</h3><p>Your real name or a nick name.</p><x-throbber id=\"name-throbber\" hidden></x-throbber><x-box><x-input id=\"name-input\"></x-input><x-button id=\"name-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button></x-box></section><hr><section id=\"website-section\"><h3 id=\"website-heading\">Website</h3><p>URL to your personal or company website.</p><x-throbber id=\"website-throbber\" hidden></x-throbber><x-box><x-input id=\"website-input\" type=\"url\"></x-input><x-button id=\"website-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button></x-box></section><hr><section id=\"bio-section\"><h3 id=\"bio-heading\">Bio</h3><p>Write one or two sentences about yourself.</p><x-throbber id=\"bio-throbber\" hidden></x-throbber><x-box><x-texteditor id=\"bio-editor\" maxlength=\"300\"></x-texteditor><x-button id=\"bio-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button></x-box></section></template>"]);_templateObject535=function _templateObject535(){return data;};return data;}function _templateObject534(){var data=_taggedTemplateLiteral([":host{display:block;width:28px;height:28px;box-sizing:border-box;border-width:1px;border-style:solid;user-select:none}:host([transparent]){background:var(--checkboard-background)}:host([hidden]){display:none}img{width:100%;height:100%;-webkit-user-drag:none}"]);_templateObject534=function _templateObject534(){return data;};return data;}function _templateObject533(){var data=_taggedTemplateLiteral(["<template><img id=\"img\"></template>"]);_templateObject533=function _templateObject533(){return data;};return data;}function _templateObject532(){var data=_taggedTemplateLiteral([":host{width:100%;height:100%;outline:0}#main{display:flex;flex-flow:column;height:100%}#tabs{width:100%}#tabs>x-tab{flex:1}#views{display:flex;flex-flow:column;flex:1;height:100%;min-height:0;margin-top:16px}#views .view{width:100%;height:100%}"]);_templateObject532=function _templateObject532(){return data;};return data;}function _templateObject531(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><h2>Keyboard</h2><x-tabs id=\"tabs\" centered><x-tab value=\"shortcuts\" selected=\"selected\"><x-label>Shortcuts</x-label></x-tab><x-tab value=\"modifiers\"><x-label>Modifier keys</x-label></x-tab></x-tabs><div id=\"views\"><div id=\"shortcuts-view\" class=\"view\"><bx-shortcutseditor id=\"shortcuts-editor\"></bx-shortcutseditor></div><div id=\"modifiers-view\" class=\"view\" hidden><section id=\"space-modifier-section\"><h3>Space key</h3><x-radios id=\"space-modifier-radios\"><x-radio value=\"togglePreviousTool\" toggled><x-label>Toggle previous tool</x-label></x-radio><x-radio value=\"pan\"><x-label>Pan the canvas</x-label></x-radio></x-radios></section></div></div></main></template>"]);_templateObject531=function _templateObject531(){return data;};return data;}function _templateObject530(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;border-width:1px;border-style:solid;outline:0;flex-flow:column;flex:1;height:100%}#header{display:flex;align-items:center;min-height:30px;border-bottom-width:1px;border-bottom-style:solid;font-size:14px;font-weight:500}#header div:first-child{min-width:50%;margin-left:10px}#header div:last-child{margin-left:5px}#items{overflow:auto;height:100%;outline:0}.item{display:flex;width:100%;height:30px;align-items:center;font-size:13px;user-select:none;box-sizing:border-box;border:2px solid transparent;color:var(--text-color)}#items[data-size=small] .item{height:24px}#items[data-size=large] .item{height:34px}.item[data-conflicting]{color:var(--error-color)}.item[data-selected]{background:var(--accent-color);color:#fff}.item[data-selected][data-conflicting]{background:var(--error-color)}.item[data-user-shortcut]{font-weight:900}.item[hidden]{display:none}.item .command-label{min-width:50%;padding:8px 10px;white-space:pre;overflow:hidden;text-overflow:ellipsis}.item .shortcut-label{width:100%}.item[data-editable] .shortcut-label{padding:2px 8px;background:#fff;color:var(--dark-accent-color);font-size:12px;line-height:1;font-size:11px;font-weight:500;text-transform:uppercase}.item[data-editable][data-conflicting] .shortcut-label{color:var(--error-color)}.item .reset-button{margin:0 4px;padding:3px 7px;min-width:fit-content}.item .reset-button[hidden]{display:block;visibility:hidden}.item[data-editable] .reset-button{visibility:hidden}#footer{width:100%;padding:7px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #filter-input{width:100%;max-width:none}#footer #filter-buttons{margin-left:10px}"]);_templateObject530=function _templateObject530(){return data;};return data;}function _templateObject529(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><div>Command</div><div>Shortcut</div></header><main id=\"items\" tabindex=\"0\"></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"filter-input\" placeholder=\"Filter symbols\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-buttons id=\"filter-buttons\" tracking=\"1\"><x-button skin=\"recessed\" value=\"all\" toggled><x-label>All</x-label></x-button><x-button skin=\"recessed\" value=\"custom\"><x-label>Custom</x-label></x-button><x-button skin=\"recessed\" value=\"conflicting\"><x-label>Conflicting <span id=\"conflicting-items-counter\"></span></x-label></x-button></x-buttons></x-box></footer></template>"]);_templateObject529=function _templateObject529(){return data;};return data;}function _templateObject528(){var data=_taggedTemplateLiteral(["#defs-section x-box>x-icon{width:26px;height:26px;overflow:visible}#defs-section x-box>x-icon[computedsize=small]{width:22px;height:22px}#defs-section x-box>x-icon[computedsize=large]{width:30px;height:30px}#defs-section x-box>x-label{width:80px;margin-left:8px}#defs-section x-box+x-box{margin-top:10px}#defs-section x-buttons{flex:1}#defs-section x-buttons>x-button{flex:1}"]);_templateObject528=function _templateObject528(){return data;};return data;}function _templateObject527(){var data=_taggedTemplateLiteral(["<template><h2>Garbage Collector</h2><section id=\"defs-section\"><h3 id=\"intro\">Auto-remove unused defs</h3><x-box><x-icon name=\"defs-colors\"></x-icon><x-label>Colors</x-label><x-buttons id=\"colors-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-gradients\"></x-icon><x-label>Gradients</x-label><x-buttons id=\"gradients-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-patterns\"></x-icon><x-label>Patterns</x-label><x-buttons id=\"patterns-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-markers\"></x-icon><x-label>Markers</x-label><x-buttons id=\"markers-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-symbols\"></x-icon><x-label>Symbols</x-label><x-buttons id=\"symbols-buttons\" tracking=\"1\"><x-button value=\"unpinned\"><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\" toggled><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-filters\"></x-icon><x-label>Filters</x-label><x-buttons id=\"filters-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-fonts\"></x-icon><x-label>Fonts</x-label><x-buttons id=\"fonts-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject527=function _templateObject527(){return data;};return data;}function _templateObject526(){var data=_taggedTemplateLiteral(["<template><h2>Markup</h2><section id=\"geometry-precision-section\"><h3>Geometry precision</h3><p>Precision, in number of decimal places, to be used by attributes defining shape geometry such as <code>x</code>, <code>y</code>, <code>width</code>, <code>height</code>, <code>r</code> or <code>d</code>.</p><x-slider id=\"geometry-precision-slider\" value=\"3\" min=\"0\" max=\"6\" step=\"1\"><x-label value=\"0\">0</x-label><x-label value=\"1\">1</x-label><x-label value=\"2\">2</x-label><x-label value=\"3\">3</x-label><x-label value=\"4\">4</x-label><x-label value=\"5\">5</x-label><x-label value=\"6\">6</x-label></x-slider></section><hr><section id=\"transform-precision-section\"><h3>Transform precision</h3><p>Precision, in number of decimal places, to be used by <code>transform</code> attribute.</p><x-slider id=\"transform-precision-slider\" value=\"6\" min=\"5\" max=\"12\" step=\"1\"><x-label value=\"5\">5</x-label><x-label value=\"6\">6</x-label><x-label value=\"7\">7</x-label><x-label value=\"8\">8</x-label><x-label value=\"9\">9</x-label><x-label value=\"10\">10</x-label><x-label value=\"11\">11</x-label><x-label value=\"12\">12</x-label></x-slider></section><hr><section id=\"indentation-section\"><h3>Indentation</h3><p>Number of spaces used to indent SVG code.</p><x-slider id=\"indentation-slider\" value=\"2\" min=\"0\" max=\"8\" step=\"1\"><x-label value=\"0\">0</x-label><x-label value=\"1\">1</x-label><x-label value=\"2\">2</x-label><x-label value=\"3\">3</x-label><x-label value=\"4\">4</x-label><x-label value=\"5\">5</x-label><x-label value=\"6\">6</x-label><x-label value=\"7\">7</x-label><x-label value=\"8\">8</x-label></x-slider></section></template>"]);_templateObject526=function _templateObject526(){return data;};return data;}function _templateObject525(){var data=_taggedTemplateLiteral(["#theme-select{width:100%}#colors-section section{margin-top:10px}#accent-color-box{margin-top:4px}#accent-color-preset-select{flex:1}#accent-color-select{margin-left:6px}#color-scheme-select{width:100%}#widgets-size-select{width:100%}"]);_templateObject525=function _templateObject525(){return data;};return data;}function _templateObject524(){var data=_taggedTemplateLiteral(["<template><h2>UI</h2><section id=\"theme-section\"><h3>Theme</h3><x-select id=\"theme-select\"><x-menu><x-menuitem value=\"auto\" toggled><x-label id=\"auto-theme-label\"></x-label></x-menuitem><hr><x-menuitem value=\"cupertino\" id=\"cupertino-theme-select-item\"><x-label>Cupertino</x-label></x-menuitem><x-menuitem value=\"fluent\"><x-label>Fluent</x-label></x-menuitem><x-menuitem value=\"vanilla\"><x-label>Vanilla</x-label></x-menuitem></x-menu></x-select></section><hr><section id=\"colors-section\"><h3>Colors</h3><section id=\"color-scheme-subsection\"><h4>Color scheme</h4><x-select id=\"color-scheme-select\"><x-menu id=\"color-scheme-menu\"><x-menuitem value=\"auto\"><x-label id=\"auto-color-scheme-label\"></x-label></x-menuitem><hr><x-menuitem value=\"light\"><x-label>Light</x-label></x-menuitem><x-menuitem value=\"dark\"><x-label>Dark</x-label></x-menuitem></x-menu></x-select></section><section id=\"accent-color-subsection\"><h4>Accent color</h4><x-box id=\"accent-color-box\"><x-select id=\"accent-color-preset-select\"><x-menu id=\"accent-color-preset-menu\"><x-menuitem value=\"auto\" toggled><x-swatch id=\"auto-accent-color-preset-swatch\"></x-swatch><x-label id=\"auto-accent-color-preset-label\"></x-label></x-menuitem><hr><x-menuitem value=\"blue\"><x-swatch></x-swatch><x-label>Blue</x-label></x-menuitem><x-menuitem value=\"purple\"><x-swatch></x-swatch><x-label>Purple</x-label></x-menuitem><x-menuitem value=\"pink\"><x-swatch></x-swatch><x-label>Pink</x-label></x-menuitem><x-menuitem value=\"red\"><x-swatch></x-swatch><x-label>Red</x-label></x-menuitem><x-menuitem value=\"orange\"><x-swatch></x-swatch><x-label>Orange</x-label></x-menuitem><x-menuitem value=\"yellow\"><x-swatch></x-swatch><x-label>Yellow</x-label></x-menuitem><x-menuitem value=\"green\"><x-swatch></x-swatch><x-label>Green</x-label></x-menuitem><x-menuitem value=\"graphite\"><x-swatch></x-swatch><x-label>Graphite</x-label></x-menuitem><hr><x-menuitem value=\"custom\"><x-icon name=\"color-wheel\"></x-icon><x-label>Other</x-label></x-menuitem></x-menu></x-select><x-colorselect id=\"accent-color-select\"><x-popover modal><x-wheelcolorpicker></x-wheelcolorpicker></x-popover></x-colorselect></x-box></section></section><hr><section id=\"size-section\"><h3>Size</h3><section id=\"widgets-size-subsection\"><h4>Widgets size</h4><x-select id=\"widgets-size-select\"><x-menu><x-menuitem value=\"auto\" toggled><x-label id=\"auto-widgets-size-label\"></x-label></x-menuitem><hr><x-menuitem value=\"medium\" toggled><x-label>Medium</x-label></x-menuitem><x-menuitem value=\"large\"><x-label>Large</x-label></x-menuitem></x-menu></x-select></section></section><hr><section id=\"menubar-section\"><h3>Menubar</h3><x-checkbox id=\"show-install-button-checkbox\"><x-label>Show \"Install\" button</x-label></x-checkbox><x-checkbox id=\"show-cloud-button-checkbox\"><x-label>Show \"Cloud\" button</x-label></x-checkbox><x-checkbox id=\"show-profile-button-checkbox\"><x-label>Show \"Public profile\" button</x-label></x-checkbox></section><hr><section id=\"docks-section\"><h3>Docks</h3><x-checkbox id=\"show-dock-tooltips-checkbox\"><x-label>Show tooltips</x-label></x-checkbox></section><hr><section id=\"canvas-section\"><h3>Canvas</h3><x-checkbox id=\"limit-scrollable-area-checkbox\"><x-label>Limit scrollable area</x-label></x-checkbox><x-checkbox id=\"show-view-outline-above-objects-checkbox\"><x-label>Show view outline above objects</x-label></x-checkbox></section></template>"]);_templateObject524=function _templateObject524(){return data;};return data;}function _templateObject523(){var data=_taggedTemplateLiteral(["#hardware-acceleration-checkbox{margin-top:10px}#recent-files-select{width:100%}"]);_templateObject523=function _templateObject523(){return data;};return data;}function _templateObject522(){var data=_taggedTemplateLiteral(["<template><h2>General</h2><section id=\"hardware-acceleration-section\"><h3>Hardware acceleration</h3><p>You should disable hardware acceleration if you are running the app inside a virtual machine or on older hardware and you observe graphical glitches such as flickering or disappearing widgets. <strong>Requires app restart.</strong></p><x-checkbox id=\"hardware-acceleration-checkbox\" toggled><x-label>Hardware acceleration</x-label></x-checkbox></section><hr id=\"hr-1\" hidden><section id=\"recent-files-section\" hidden><h3>Recent files</h3><p>Limit the number of files shown by \"File -> Open Recent\" menu.</p><x-select id=\"recent-files-select\"><x-menu id=\"recent-files-menu\"><x-menuitem value=\"5\"><x-label>5</x-label></x-menuitem><x-menuitem value=\"10\"><x-label>10</x-label></x-menuitem><x-menuitem value=\"15\"><x-label>15</x-label></x-menuitem><x-menuitem value=\"20\"><x-label>20</x-label></x-menuitem><x-menuitem value=\"20\"><x-label>30</x-label></x-menuitem><x-menuitem value=\"20\"><x-label>50</x-label></x-menuitem></x-menu></x-select></section></template>"]);_templateObject522=function _templateObject522(){return data;};return data;}function _templateObject521(){var data=_taggedTemplateLiteral([":host{display:none;width:100%}:host([enabled]){display:block}h2:first-child{margin-top:0}p{font-size:13px;line-height:1.4;margin:5px 0 8px 0}section+hr{margin:20px 0}section[hidden]+hr{display:none}"]);_templateObject521=function _templateObject521(){return data;};return data;}function _templateObject520(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%}:host(:focus){outline:0}#main{display:flex;width:100%;height:100%}#board{flex:1}#breadcrumb{position:absolute;top:5px;left:44px}#breadcrumb[computedsize=large]{left:50px}"]);_templateObject520=function _templateObject520(){return data;};return data;}function _templateObject519(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><bx-toolsdock id=\"tools-dock\"></bx-toolsdock><bx-board id=\"board\"></bx-board><bx-offscreenboard id=\"offscreen-board\"></bx-offscreenboard><bx-primarypanelsdock id=\"primary-panels-dock\"><bx-fillpanel id=\"fill-panel\" name=\"Fill\"></bx-fillpanel><bx-strokepanel id=\"stroke-panel\" name=\"Stroke\"></bx-strokepanel><bx-compositingpanel id=\"compositing-panel\" name=\"Compositing\"></bx-compositingpanel><bx-typographypanel id=\"typography-panel\" name=\"Typography\"></bx-typographypanel><bx-geometrypanel id=\"geometry-panel\" name=\"Geometry\"></bx-geometrypanel><bx-metapanel id=\"meta-panel\" name=\"Meta\"></bx-metapanel><bx-shapepanel id=\"shape-panel\" name=\"Shape\"></bx-shapepanel><bx-arrangementpanel id=\"arrangement-panel\" name=\"Arrangement\"></bx-arrangementpanel><bx-objectspanel id=\"objects-panel\" name=\"Objects\"></bx-objectspanel><bx-defspanel id=\"defs-panel\" name=\"Defs\"></bx-defspanel><bx-librarypanel id=\"library-panel\" name=\"Library\"></bx-librarypanel><bx-generatorspanel id=\"generators-panel\" name=\"Generators\"></bx-generatorspanel><bx-exportpanel id=\"export-panel\" name=\"Export\"></bx-exportpanel><bx-historypanel id=\"history-panel\" name=\"History\"></bx-historypanel></bx-primarypanelsdock><bx-secondarypanelsdock id=\"secondary-panels-dock\"><bx-elementspanel id=\"elements-panel\" name=\"Elements\"></bx-elementspanel><bx-codepanel id=\"code-panel\" name=\"Code\" hidden></bx-codepanel><bx-animationpanel id=\"animation-panel\" name=\"Animation\" hidden></bx-animationpanel></bx-secondarypanelsdock><bx-editorbreadcrumb id=\"breadcrumb\"></bx-editorbreadcrumb></main><bx-colorgrabber id=\"color-grabber\"></bx-colorgrabber><bx-objectgrabber id=\"object-grabber\"></bx-objectgrabber></template>"]);_templateObject519=function _templateObject519(){return data;};return data;}function _templateObject518(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%}:host([enabled]){display:block}#main{width:100%;height:100%;padding:20px}"]);_templateObject518=function _templateObject518(){return data;};return data;}function _templateObject517(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><x-label>This feature is coming soon</x-label></main></template>"]);_templateObject517=function _templateObject517(){return data;};return data;}function _templateObject516(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%}:host([enabled]){display:block}#main{width:100%;height:100%;padding:20px}"]);_templateObject516=function _templateObject516(){return data;};return data;}function _templateObject515(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><x-label>This feature is coming soon</x-label></main></template>"]);_templateObject515=function _templateObject515(){return data;};return data;}function _templateObject514(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%}:host([enabled]){display:block}#container{display:flex;width:100%;height:100%}#main{flex:1}"]);_templateObject514=function _templateObject514(){return data;};return data;}function _templateObject513(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><main id=\"main\"><bx-dominspector id=\"dom-inspector\"></bx-dominspector></main><aside id=\"sidebar\"><bx-csscascadeinspector id=\"css-cascade-inspector\"></bx-csscascadeinspector></aside></div></template>"]);_templateObject513=function _templateObject513(){return data;};return data;}function _templateObject512(){var data=_taggedTemplateLiteral([":host{position:relative;display:block;width:240px;height:100%;outline:0;border-left-width:1px;border-left-style:solid;contain:size layout style;--property-name-color:rgb(200, 0, 0);--property-value-color:currentColor}#main{position:relative;display:flex;flex-flow:column;width:100%;height:100%;overflow:auto;will-change:scroll-position;touch-action:none}#cascade-view{flex:1;padding:8px}#cascade-items{font-size:12px;line-height:16px;font-family:\"Roboto Mono\",Menlo,monospace;word-wrap:break-word;user-select:text}.cascade-item .heading{display:block;margin:8px 0 2px 0;padding:1px 4px;user-select:none;font-family:BlinkMacSystemFont,Roboto,\"Helvetica Neue\",\"Lucida Grande\",Arial,sans-serif;font-size:11px;font-weight:500}.cascade-item .heading:empty{display:none}.cascade-item .heading code{font-size:inherit;padding:0 4px;display:inline-block}.cascade-item .selector[disabled]{opacity:.65}.cascade-item .property-item{display:flex;align-items:center}.cascade-item .checkbox{margin:0 5px 0 1px;width:13px;height:13px;visibility:hidden}.cascade-item .property-item .name{color:var(--property-name-color);cursor:text;line-height:12px}.cascade-item .property-item .value{color:var(--property-value-color);cursor:text}#autocompletion-list{position:fixed;border-width:1px;border-style:solid;white-space:pre;overflow:auto;z-index:999999}#autocompletion-list .item{padding:2px 4px}#autocompletion-list .item:hover{background:var(--selection-background-color)}#autocompletion-list .item[data-selected]{background:var(--accent-color);color:#fff}span[contenteditable]{display:inline-block;text-overflow:clip;user-select:text;-webkit-user-modify:read-write-plaintext-only}span[contenteditable]:empty:not([ghost]){padding:0 1px 0 2px}span[contenteditable]::after{content:attr(ghost);opacity:.5}#resize-grippie{position:absolute;top:0;left:0;width:5px;height:100%;z-index:9;background:0 0;cursor:col-resize}"]);_templateObject512=function _templateObject512(){return data;};return data;}function _templateObject511(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"cascade-view\"><div id=\"cascade-items\"></div></div><div id=\"computed-view\"></div></main><div id=\"resize-grippie\"></div></template>"]);_templateObject511=function _templateObject511(){return data;};return data;}function _templateObject510(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;outline:0;contain:size layout style;--bracket-color:#881280;--tag-color:#881280;--attribute-color:#a894a6;--attribute-name-color:#994500;--attribute-value-color:#1919a7;--highlight-color:#bb38b2}#main{position:relative;width:100%;height:100%;overflow:auto;will-change:scroll-position;touch-action:none}#tree{padding:1px 0;font-size:12px;line-height:16px;font-family:\"Roboto Mono\",Menlo,monospace;word-wrap:break-word}.item{position:relative;margin-left:22px;z-index:2;color:var(--text-color)}.item[data-selected]{color:#fff}.item[data-dragover]{z-index:3}.item[hidden]{display:none}span[contenteditable]{text-overflow:clip;min-width:.5ex;-webkit-user-select:text;-webkit-user-modify:read-write-plaintext-only}.item[data-type=text]{word-break:break-all}.item[data-type=text][data-selected]>.content::before{content:\"\";background:var(--accent-color);outline:1px solid var(--accent-color);position:absolute;top:0;left:0;margin-left:-600px;width:calc(100% + 600px);height:100%;z-index:-1}.item[data-type=text][data-dragover=afterend]::after,.item[data-type=text][data-dragover=beforebegin]::before{display:block;content:\"\";width:100%;outline:1px solid var(--light-accent-color);pointer-events:none}.item[data-type=element]>.icon{fill:currentColor;vertical-align:middle;padding:3px;position:absolute;top:2px;left:-19px;transform:rotate(0);z-index:2}.item[data-type=element][data-expanded]>.icon{transform:rotate(90deg)}.item[data-type=element]>.icon>path{pointer-events:none}.item[data-type=element]>.tag{position:relative;border-top:1px solid transparent;border-bottom:1px solid transparent}.item[data-type=element]>.tag>.closing-bracket,.item[data-type=element]>.tag>.opening-bracket{color:var(--bracket-color)}.item[data-type=element][data-selected]>.tag>.closing-bracket,.item[data-type=element][data-selected]>.tag>.opening-bracket{color:inherit;opacity:.5}.item[data-type=element]>.tag>.opening-bracket[disabled]{opacity:.45}.item[data-type=element]>.tag>.tag-name{color:var(--tag-color)}.item[data-type=element][data-selected]>.tag>.tag-name{color:inherit}.item[data-type=element]>.tag>.tag-name[disabled]{opacity:.45}.item[data-type=element]>.tag .attributes{line-height:1}.item[data-type=element]>.tag .attribute{transition:background .25s;margin-left:6px;color:var(--attribute-color)}.item[data-type=element][data-selected]>.tag .attribute{color:rgba(255,255,255,.7)}.item[data-type=element]>.tag .attribute[highlighted]{background:var(--highlight-color)}.item[data-type=element]>.tag .attribute[disabled]{font-weight:700;opacity:.45}.item[data-type=element]>.tag .attribute .name{color:var(--attribute-name-color)}.item[data-type=element][data-selected]>.tag .attribute .name{color:inherit}.item[data-type=element]>.tag .attribute .value{color:var(--attribute-value-color)}.item[data-type=element][data-selected]>.tag .attribute .value{color:#fff}.item[data-type=element]>.tag .attribute .ellipsis{padding-left:4px;text-decoration:underline;letter-spacing:-2px;cursor:pointer}.item[data-type=element][data-selected]>.tag .attribute .ellipsis{color:#fff}.item[data-type=element]>.tag .attribute .ellipsis:hover{text-decoration:none}.item[data-type=element]>.tag .attribute[highlighted] *{color:#fff}.item[data-type=element][data-selected]>.tag::before{content:\"\";background:var(--accent-color);outline:1px solid var(--accent-color);position:absolute;top:0;left:0;margin-left:-600px;width:calc(100% + 600px);height:100%;z-index:-1}.item[data-type=element][data-dragover=afterbegin]>.subtree::before,.item[data-type=element][data-dragover=beforeend]>.subtree::after{display:block;content:\"\";width:100%;outline:1px solid var(--accent-color);pointer-events:none;margin-left:22px}.item[data-type=element][data-dragover=afterend]::after,.item[data-type=element][data-dragover=beforebegin]::before{display:block;content:\"\";width:100%;outline:1px solid var(--accent-color);pointer-events:none}"]);_templateObject510=function _templateObject510(){return data;};return data;}function _templateObject509(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"tree\"></div></main></template>"]);_templateObject509=function _templateObject509(){return data;};return data;}function _templateObject508(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;flex-flow:column}#header{padding:16px 20px;border-bottom-width:1px;border-bottom-style:solid}#header h2{margin:0;line-height:1}#main{flex:1;width:100%;padding:4px 0;overflow:auto;box-sizing:border-box;outline:0}#items .item{padding:3px 20px;font-size:13px}#items .item[data-selected]{color:#fff;background:var(--accent-color)}#placeholder{padding:10px 20px 0;opacity:.6;box-sizing:border-box;font-size:12px}#footer{width:100%;padding:13px 20px 14px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer x-buttons{width:100%}#footer x-buttons x-button{flex:1}#footer #slider{margin-top:10px}"]);_templateObject508=function _templateObject508(){return data;};return data;}function _templateObject507(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">History</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No history items.</div></main><footer id=\"footer\" part=\"footer\"><x-buttons><x-button id=\"undo-button\" condensed disabled=\"disabled\"><x-icon name=\"undo\"></x-icon><x-label>Undo</x-label></x-button><x-button id=\"redo-button\" condensed disabled=\"disabled\"><x-icon name=\"redo\"></x-icon><x-label>Redo</x-label></x-button><x-button id=\"clear-button\" condensed disabled=\"disabled\"><x-icon name=\"clear\"></x-icon><x-label>Clear</x-label></x-button></x-buttons><x-slider id=\"slider\"></x-slider></footer></template>"]);_templateObject507=function _templateObject507(){return data;};return data;}function _templateObject506(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%}#header{padding:16px 20px;border-bottom-width:1px;border-bottom-style:solid}#header h2{margin:0;line-height:1}#header #format-select{width:100%;margin-top:12px}#main{flex:1;overflow:auto}#footer{padding:15px 20px 15px 20px;border-top-width:1px;border-top-style:solid}#footer #export-button{width:100%}#footer #progress-bar{position:absolute;bottom:0;left:0;width:100%;border-radius:0;box-shadow:none;background:0 0;height:4px}"]);_templateObject506=function _templateObject506(){return data;};return data;}function _templateObject505(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">Export</h2><x-select id=\"format-select\"><x-menu><x-menuitem value=\"png\" toggled><x-label>PNG</x-label></x-menuitem><x-menuitem value=\"jpeg\"><x-label>JPEG</x-label></x-menuitem><x-menuitem value=\"gif\"><x-label>GIF</x-label></x-menuitem><x-menuitem value=\"webp\"><x-label>WebP</x-label></x-menuitem><hr><x-menuitem value=\"svg\"><x-label>SVG</x-label></x-menuitem><x-menuitem value=\"svgz\"><x-label>SVGZ</x-label></x-menuitem><x-menuitem value=\"html\"><x-label>HTML</x-label></x-menuitem><x-menuitem value=\"pdf\" id=\"pdf-menu-item\"><x-label>PDF</x-label></x-menuitem></x-menu></x-select></header><main id=\"main\" part=\"main\"></main><footer id=\"footer\" part=\"footer\"><x-button id=\"export-button\" size=\"larger\" disabled=\"disabled\"><x-icon name=\"export-panel\"></x-icon><x-label id=\"export-label\">Export</x-label></x-button><x-progressbar id=\"progress-bar\" value=\"-1\"></x-progressbar></footer></template>"]);_templateObject505=function _templateObject505(){return data;};return data;}function _templateObject504(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:18px}#height-input,#width-input{width:100%}#height-box,#width-box{flex:1}#height-unit-select,#width-unit-select{margin-top:5px;width:100%}#lock-size-button{align-self:center;margin:20px 0 0 0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#background-subsection{margin-top:18px}#background-select x-popover{--align:right}#normalize-subsection{margin-top:18px}"]);_templateObject504=function _templateObject504(){return data;};return data;}function _templateObject503(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4 id=\"area-heading\">Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"0.001\" condensed><x-stepper></x-stepper></x-numberinput><x-select id=\"width-unit-select\"><x-menu><x-menuitem value=\"cm\" toggled><x-label>cm</x-label></x-menuitem><x-menuitem value=\"in\"><x-label>in</x-label></x-menuitem></x-menu></x-select></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"0.001\" condensed><x-stepper></x-stepper></x-numberinput><x-select id=\"height-unit-select\"><x-menu><x-menuitem value=\"cm\" toggled><x-label>cm</x-label></x-menuitem><x-menuitem value=\"in\"><x-label>in</x-label></x-menuitem></x-menu></x-select></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section><section id=\"normalize-subsection\"><h4 id=\"normalize-heading\">Normalize</h4><x-checkbox id=\"convert-texts-checkbox\"><x-label>Convert texts to paths</x-label></x-checkbox></section></template>"]);_templateObject503=function _templateObject503(){return data;};return data;}function _templateObject502(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#normalize-subsection{margin-top:18px}#normalize-subsection>x-checkbox{margin-top:6px}"]);_templateObject502=function _templateObject502(){return data;};return data;}function _templateObject501(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"normalize-subsection\"><h4 id=\"normalize-heading\">Normalize</h4><x-checkbox id=\"convert-texts-to-paths-checkbox\"><x-label>Convert texts to paths</x-label></x-checkbox><x-checkbox id=\"remove-embedded-fonts-checkbox\"><x-label>Remove embedded fonts</x-label></x-checkbox></section></template>"]);_templateObject501=function _templateObject501(){return data;};return data;}function _templateObject500(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#viewport-subsection{margin-top:16px}#viewport-buttons{width:100%}#viewport-buttons x-button{flex:1}#normalize-subsection{margin-top:16px}#normalize-subsection>x-checkbox{margin-top:6px}"]);_templateObject500=function _templateObject500(){return data;};return data;}function _templateObject499(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"viewport-subsection\"><h4 id=\"viewport-heading\">Viewport</h4><x-buttons id=\"viewport-buttons\" tracking=\"1\"><x-button id=\"responsive-viewport-button\" value=\"responsive\" toggled><x-label>Responsive</x-label></x-button><x-button id=\"fixed-viewport-button\" value=\"fixed\"><x-label>Fixed</x-label></x-button></x-buttons></section><section id=\"normalize-subsection\"><h4 id=\"normalize-heading\">Normalize</h4><x-checkbox id=\"convert-texts-to-paths-checkbox\"><x-label>Convert texts to paths</x-label></x-checkbox><x-checkbox id=\"remove-embedded-fonts-checkbox\"><x-label>Remove embedded fonts</x-label></x-checkbox><x-checkbox id=\"remove-non-standard-namespaces-checkbox\"><x-label>Remove non-standard namespaces</x-label></x-checkbox></section></template>"]);_templateObject499=function _templateObject499(){return data;};return data;}function _templateObject498(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#viewport-subsection{margin-top:16px}#viewport-buttons{width:100%}#viewport-buttons x-button{flex:1}#normalize-subsection{margin-top:16px}"]);_templateObject498=function _templateObject498(){return data;};return data;}function _templateObject497(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"viewport-subsection\"><h4 id=\"viewport-heading\">Viewport</h4><x-buttons id=\"viewport-buttons\" tracking=\"1\"><x-button id=\"responsive-viewport-button\" value=\"responsive\" toggled><x-label>Responsive</x-label></x-button><x-button id=\"fixed-viewport-button\" value=\"fixed\"><x-label>Fixed</x-label></x-button></x-buttons></section><section id=\"normalize-subsection\"><h4 id=\"normalize-heading\">Normalize</h4><x-checkbox id=\"convert-texts-to-paths-checkbox\"><x-label>Convert texts to paths</x-label></x-checkbox><x-checkbox id=\"remove-embedded-fonts-checkbox\"><x-label>Remove embedded fonts</x-label></x-checkbox><x-checkbox id=\"remove-non-standard-namespaces-checkbox\"><x-label>Remove non-standard namespaces</x-label></x-checkbox></section></template>"]);_templateObject497=function _templateObject497(){return data;};return data;}function _templateObject496(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:16px}#height-box,#width-box{flex:1}#height-input,#width-input{width:100%}#lock-size-button{align-self:flex-end;margin:0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#margin-subsection{margin-top:16px}#margin-box{display:flex;margin-top:14px}#margin-heading{flex:1;margin:0}#margin-switch{margin:0}#margin-input{width:240px;margin:0 auto -10px auto}#compression-subsection{margin-top:16px}#compression-subsection x-box{width:100%}#compression-heading{margin-bottom:0}#compression-slider{flex:1}#compression-input{margin-left:10px;width:60px}#background-subsection{margin-top:16px}#background-select x-popover{--align:right}"]);_templateObject496=function _templateObject496(){return data;};return data;}function _templateObject495(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"margin-subsection\"><x-box id=\"margin-heading-box\"><h4 id=\"margin-heading\">Margin</h4><x-switch id=\"margin-switch\" size=\"smaller\"></x-switch></x-box><bx-edgeinput id=\"margin-input\" suffix=\" px\" hidden></bx-edgeinput></section><section id=\"compression-subsection\"><h4 id=\"compression-heading\">Compression</h4><x-box><x-slider id=\"compression-slider\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"compression-input\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></template>"]);_templateObject495=function _templateObject495(){return data;};return data;}function _templateObject494(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:16px}#height-box,#width-box{flex:1}#height-input,#width-input{width:100%}#lock-size-button{align-self:flex-end;margin:0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#margin-subsection{margin-top:16px}#margin-box{display:flex;margin-top:14px}#margin-heading{flex:1;margin:0}#margin-switch{margin:0}#margin-input{width:240px;margin:0 auto -10px auto}#dithering-subsection{margin-top:16px}#dithering-select{width:100%}#background-subsection{margin-top:16px}#background-select x-popover{--align:right}#background-subsection>x-checkbox{margin-top:7px}"]);_templateObject494=function _templateObject494(){return data;};return data;}function _templateObject493(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"margin-subsection\"><x-box id=\"margin-heading-box\"><h4 id=\"margin-heading\">Margin</h4><x-switch id=\"margin-switch\" size=\"smaller\"></x-switch></x-box><bx-edgeinput id=\"margin-input\" suffix=\" px\" hidden></bx-edgeinput></section><section id=\"dithering-subsection\"><h4 id=\"dithering-heading\">Dithering</h4><x-select id=\"dithering-select\"><x-menu><x-menuitem value=\"none\" toggled><x-label>None</x-label></x-menuitem><x-menuitem value=\"floyd-steinberg\"><x-label>Floyd\u2013Steinberg</x-label></x-menuitem><x-menuitem value=\"false-floyd-steinberg\"><x-label>False Floyd\u2013Steinberg</x-label></x-menuitem><x-menuitem value=\"stucki\"><x-label>Stucki</x-label></x-menuitem><x-menuitem value=\"atkinson\"><x-label>Atkinson</x-label></x-menuitem></x-menu></x-select></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\"></bx-colorpicker></x-popover></x-colorselect><x-checkbox id=\"transparent-checkbox\"><x-label>Treat this color as transparency</x-label></x-checkbox></section></template>"]);_templateObject493=function _templateObject493(){return data;};return data;}function _templateObject492(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:16px}#height-box,#width-box{flex:1}#height-input,#width-input{width:100%}#lock-size-button{align-self:flex-end;margin:0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#margin-subsection{margin-top:16px}#margin-box{display:flex;margin-top:14px}#margin-heading{flex:1;margin:0}#margin-switch{margin:0}#margin-input{width:240px;margin:0 auto -10px auto}#compression-subsection{margin-top:16px}#compression-subsection x-box{width:100%}#compression-heading{margin-bottom:0}#compression-slider{flex:1}#compression-input{margin-left:10px;width:60px}#background-subsection{margin-top:16px}#background-select x-popover{--align:right}"]);_templateObject492=function _templateObject492(){return data;};return data;}function _templateObject491(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"margin-subsection\"><x-box id=\"margin-heading-box\"><h4 id=\"margin-heading\">Margin</h4><x-switch id=\"margin-switch\" size=\"smaller\"></x-switch></x-box><bx-edgeinput id=\"margin-input\" suffix=\" px\" hidden></bx-edgeinput></section><section id=\"compression-subsection\"><h4 id=\"compression-heading\">Compression</h4><x-box><x-slider id=\"compression-slider\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"compression-input\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\"></bx-colorpicker></x-popover></x-colorselect></section></template>"]);_templateObject491=function _templateObject491(){return data;};return data;}function _templateObject490(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:16px}#height-box,#width-box{flex:1}#height-input,#width-input{width:100%}#lock-size-button{align-self:flex-end;margin:0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#margin-subsection{margin-top:16px}#margin-box{display:flex;margin-top:14px}#margin-heading{flex:1;margin:0}#margin-switch{margin:0}#margin-input{width:240px;margin:0 auto -10px auto}#dpi-subsection{margin-top:16px}#dpi-subsection x-box{width:100%}#dpi-heading{margin-bottom:0}#dpi-slider{flex:1}#dpi-input{width:60px;margin-left:10px}#colors-subsection{margin-top:10px}#colors-mode-buttons{width:100%}#colors-mode-buttons x-button{flex:1}#colors-box{margin-top:6px}#colors-box[hidden]{display:none}#colors-slider{flex:1}#colors-input{margin-left:10px;width:60px}#background-subsection{margin-top:16px}#background-select x-popover{--align:right}"]);_templateObject490=function _templateObject490(){return data;};return data;}function _templateObject489(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"margin-subsection\"><x-box id=\"margin-heading-box\"><h4 id=\"margin-heading\">Margin</h4><x-switch id=\"margin-switch\" size=\"smaller\"></x-switch></x-box><bx-edgeinput id=\"margin-input\" suffix=\" px\" hidden></bx-edgeinput></section><section id=\"dpi-subsection\"><h4 id=\"dpi-heading\">DPI</h4><x-box><x-slider id=\"dpi-slider\" value=\"96\" min=\"1\" max=\"400\" step=\"1\"></x-slider><x-numberinput id=\"dpi-input\" value=\"96\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"colors-subsection\"><h4 id=\"colors-heading\">Colors</h4><x-buttons id=\"colors-mode-buttons\" tracking=\"1\"><x-button id=\"rgb-button\" value=\"rgb\" toggled><x-label>RGB</x-label></x-button><x-button id=\"palette-button\" value=\"palette\"><x-label>Palette</x-label></x-button></x-buttons><x-box id=\"colors-box\" hidden><x-slider id=\"colors-slider\" value=\"256\" min=\"3\" max=\"256\" step=\"1\"></x-slider><x-numberinput id=\"colors-input\" value=\"256\" min=\"3\" max=\"256\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></template>"]);_templateObject489=function _templateObject489(){return data;};return data;}function _templateObject488(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}h3:first-child,h4:first-child{margin-top:0}#options-section{padding:16px 20px 16px 20px}#preview-section{padding:16px 20px}#preview{display:block;margin:0 auto;width:auto;height:auto;max-height:140px;max-width:100%;user-select:none;background:var(--checkboard-background);border-width:1px;border-style:solid}#preview[hidden]{display:none}#preview-label{margin-top:7px;text-align:center;font-weight:500;font-size:12px;opacity:.7}"]);_templateObject488=function _templateObject488(){return data;};return data;}function _templateObject487(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><x-button id=\"preview-button\"><x-label>Generate</x-label></x-button><image id=\"preview\" part=\"preview\" hidden></image><x-label id=\"preview-label\" hidden></x-label></section></template>"]);_templateObject487=function _templateObject487(){return data;};return data;}function _templateObject486(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%}#header{padding:16px 20px;border-bottom-width:1px;border-bottom-style:solid}#header h2{margin:0;line-height:1}#header #generator-select{width:100%;margin-top:12px}#main{flex:1;overflow:auto}"]);_templateObject486=function _templateObject486(){return data;};return data;}function _templateObject485(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">Generators</h2><x-select id=\"generator-select\"><x-menu><x-menuitem value=\"bx-barcodegenerator\"><x-label>Barcode</x-label></x-menuitem><x-menuitem value=\"bx-qrcodegenerator\"><x-label>QR code</x-label></x-menuitem><hr><x-menuitem value=\"bx-parliamentchartgenerator\"><x-label>Parliament chart</x-label></x-menuitem><x-menuitem value=\"bx-triangulatedsurfacegenerator\"><x-label>Triangulated surface</x-label></x-menuitem><x-menuitem value=\"bx-jigsawpuzzlegenerator\"><x-label>Jigsaw puzzle</x-label></x-menuitem><hr><x-menuitem value=\"bx-rasterizegenerator\"><x-label>Rasterize</x-label></x-menuitem><x-menuitem value=\"bx-vectorizegenerator\"><x-label>Vectorize</x-label></x-menuitem><hr><x-menuitem value=\"bx-pixelategenerator\"><x-label>Pixelate</x-label></x-menuitem><x-menuitem value=\"bx-triangulategenerator\"><x-label>Triangulate</x-label></x-menuitem><x-menuitem value=\"bx-primitivizegenerator\"><x-label>Primitivize</x-label></x-menuitem><hr><x-menuitem value=\"bx-resizeviewgenerator\"><x-label>Resize view to fit objects</x-label></x-menuitem></x-menu></x-select></header><main id=\"main\" part=\"main\"></main></template>"]);_templateObject485=function _templateObject485(){return data;};return data;}function _templateObject484(){var data=_taggedTemplateLiteral(["section section{display:flex;flex-flow:column}#shapes-type-buttons{width:100%}#shapes-type-buttons x-button{flex:1}#shapes-number-subsection{margin-top:8px}#shapes-number-subsection x-box{width:100%}#shapes-number-heading{margin-bottom:0}#shapes-number-slider{flex:1}#shapes-number-input{margin-left:10px;width:60px}#shapes-alpha-subsection x-box{width:100%}#shapes-alpha-heading{margin-bottom:0}#shapes-alpha-slider{flex:1}#shapes-alpha-input{margin-left:10px;width:60px}#auto-adjust-shapes-alpha-box{margin-top:2px}#auto-adjust-shapes-alpha-box x-label{font-size:12px}#working-size-subsection h5{margin-bottom:0}#working-size-slider{flex:1}#working-size-input{margin-left:10px;width:60px}#shapes-per-iteration-subsection h5{margin-bottom:0}#shapes-per-iteration-slider{flex:1}#shapes-per-iteration-input{margin-left:10px;width:60px}#max-mutations-subsection h5{margin-bottom:0}#max-mutations-slider{flex:1}#max-mutations-input{margin-left:10px;width:60px}#seed-subsection h5{margin-bottom:0}#seed-slider{flex:1}#seed-input{margin-left:10px;width:60px}#render-as-buttons{width:100%}#render-as-buttons x-button{flex:1}#overflow-subsection{margin-top:8px}#overflow-buttons{width:100%}#overflow-buttons x-button{flex:1}#preview{height:160px}"]);_templateObject484=function _templateObject484(){return data;};return data;}function _templateObject483(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label id=\"generate-label\">Primitivize</x-label></x-button><x-progressbar id=\"progress-bar\" value=\"-1\"></x-progressbar></template>"]);_templateObject483=function _templateObject483(){return data;};return data;}function _templateObject482(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"shapes-section\"><h4 id=\"shapes-heading\">Shapes</h4><section id=\"shapes-type-subsection\"><h5 id=\"shapes-type-heading\">Type</h5><x-buttons id=\"shapes-type-buttons\" tracking=\"3\"><x-button value=\"triangles\" condensed><x-label>Triangles</x-label></x-button><x-button value=\"rectangles\" condensed><x-label>Rectangles</x-label></x-button></x-buttons></section><section id=\"shapes-number-subsection\"><h5 id=\"shapes-number-heading\">Number</h5><x-box id=\"shapes-number-box\"><x-slider id=\"shapes-number-slider\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"shapes-number-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"shapes-alpha-subsection\"><h5 id=\"shapes-alpha-heading\">Alpha</h5><x-box id=\"shapes-alpha-box\"><x-slider id=\"shapes-alpha-slider\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"shapes-alpha-input\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"auto-adjust-shapes-alpha-box\"><x-checkbox id=\"auto-adjust-shapes-alpha-checkbox\"><x-label>Auto-adjust alpha</x-label></x-checkbox></x-box></section></section><hr><section id=\"algorithm-subsection\"><h4 id=\"algorithm-heading\">Algorithm</h4><section id=\"working-size-subsection\"><h5 id=\"working-size-heading\">Working size</h5><x-box id=\"working-size-box\"><x-slider id=\"working-size-slider\" min=\"10\" max=\"1000\" step=\"1\"></x-slider><x-numberinput id=\"working-size-input\" min=\"10\" max=\"1000\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"shapes-per-iteration-subsection\"><h5 id=\"shapes-per-iteration-heading\">Shapes per iteration</h5><x-box id=\"shapes-per-iteration-box\"><x-slider id=\"shapes-per-iteration-slider\" min=\"1\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"shapes-per-iteration-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"max-mutations-subsection\"><h5 id=\"max-mutations-heading\">Max mutations</h5><x-box id=\"max-mutations-box\"><x-slider id=\"max-mutations-slider\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"max-mutations-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-subsection\"><h5 id=\"seed-heading\">Seed</h5><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" min=\"0\" max=\"200\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"rendering-subsection\"><h4 id=\"rendering-heading\">SVG rendering</h4><section id=\"render-as-subsection\"><h5 id=\"render-as-heading\">Render as</h5><x-buttons id=\"render-as-buttons\" tracking=\"1\"><x-button value=\"paths\" condensed><x-label>Paths</x-label></x-button><x-button value=\"shapes\" condensed><x-label>Shapes</x-label></x-button></x-buttons></section><section id=\"overflow-subsection\"><h5 id=\"overflow-heading\">Overflow</h5><x-buttons id=\"overflow-buttons\" tracking=\"1\"><x-button value=\"cut\" condensed><x-label>Cut</x-label></x-button><x-button value=\"visible\" condensed><x-label>Visible</x-label></x-button></x-buttons></section></section></section><hr id=\"preview-section-hr\"><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\"></svg></section></template>"]);_templateObject482=function _templateObject482(){return data;};return data;}function _templateObject481(){var data=_taggedTemplateLiteral(["#cell-size-subsection{display:flex;flex-flow:column}#cell-size-subsection h4{margin-bottom:0}#cell-size-slider{flex:1}#cell-size-input{margin-left:10px;width:60px}#variance-subsection{margin-top:10px}#variance-subsection h4{margin:0}#variance-slider{flex:1}#variance-input{margin-left:10px;width:60px}#seed-subsection{margin-top:10px}#seed-subsection h4{margin:0}#seed-slider{flex:1}#seed-input{margin-left:10px;width:60px}#render-as-subsection{margin-top:10px}#render-as-buttons{width:100%}#render-as-buttons x-button{flex:1}#preview{height:160px}"]);_templateObject481=function _templateObject481(){return data;};return data;}function _templateObject480(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Triangulate</x-label></x-button></template>"]);_templateObject480=function _templateObject480(){return data;};return data;}function _templateObject479(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"cell-size-subsection\"><h4 id=\"cell-size-heading\">Cell size</h4><x-box id=\"cell-size-box\"><x-slider id=\"cell-size-slider\" min=\"2\" max=\"20\" step=\"1\"></x-slider><x-numberinput id=\"cell-size-input\" min=\"2\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"variance-subsection\"><h4 id=\"variance-heading\">Variance</h4><x-box id=\"variance-box\"><x-slider id=\"variance-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"variance-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-subsection\"><h4 id=\"seed-heading\">Seed</h4><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" min=\"0\" max=\"200\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"render-as-subsection\"><h4 id=\"render-as-heading\">Render as</h4><x-buttons id=\"render-as-buttons\" tracking=\"1\"><x-button value=\"paths\" condensed><x-label>Paths</x-label></x-button><x-button value=\"polygons\" condensed><x-label>Polygons</x-label></x-button></x-buttons></section></section><hr id=\"preview-section-hr\"><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject479=function _templateObject479(){return data;};return data;}function _templateObject478(){var data=_taggedTemplateLiteral(["#grid-subsection{margin-top:14px}#grid-subsection h4{margin-top:0}#columns-box{flex:1;margin-right:4px}#columns-input{width:100%}#rows-box{flex:1;margin-left:4px}#rows-input{width:100%}#pixel-size-subsection{margin-top:14px}#pixel-size-heading{margin:0}#pixel-size-slider{flex:1}#pixel-size-input{margin-left:10px;width:60px}#pixel-shape-subsection{margin-top:10px}#pixel-shape-buttons{width:100%}#pixel-shape-buttons x-button{flex:1}#render-as-subsection{margin-top:14px}#render-as-buttons{width:100%}#render-as-buttons x-button{flex:1}#preview{height:160px}"]);_templateObject478=function _templateObject478(){return data;};return data;}function _templateObject477(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Pixelate</x-label></x-button></template>"]);_templateObject477=function _templateObject477(){return data;};return data;}function _templateObject476(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"grid-subsection\"><x-box><x-box id=\"columns-box\" vertical><h4 id=\"columns-heading\">Columns</h4><x-numberinput id=\"columns-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"rows-box\" vertical><h4 id=\"rows-heading\">Rows</h4><x-numberinput id=\"rows-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"pixel-size-subsection\"><h4 id=\"pixel-size-heading\">Pixel size</h4><x-box id=\"pixel-size-box\"><x-slider id=\"pixel-size-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"pixel-size-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"pixel-shape-subsection\" vertical><h4 id=\"pixel-shape-heading\">Pixel shape</h4><x-buttons id=\"pixel-shape-buttons\" tracking=\"1\"><x-button value=\"rectangle\" condensed><x-label>Rectangle</x-label></x-button><x-button value=\"ellipse\" condensed><x-label>Ellipse</x-label></x-button></x-buttons></section><section id=\"render-as-subsection\"><h4 id=\"render-as-heading\">Render as</h4><x-buttons id=\"render-as-buttons\" tracking=\"1\"><x-button value=\"paths\" condensed><x-label>Paths</x-label></x-button><x-button value=\"shapes\" condensed><x-label>Shapes</x-label></x-button></x-buttons></section></section><hr id=\"preview-section-hr\"><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject476=function _templateObject476(){return data;};return data;}function _templateObject475(){var data=_taggedTemplateLiteral(["#preset-select{width:100%}#working-size-subsection{display:flex;flex-flow:column}#working-size-subsection h5{margin-bottom:0}#working-size-box{width:100%}#working-size-slider{flex:1}#working-size-input{margin-left:10px;width:60px}#blur-subsection{display:flex;margin-top:4px}#blur-radius-box{flex:1;margin-right:4px}#blur-radius-input{width:100%}#blur-delta-box{flex:1;margin-left:4px}#blur-delta-input{width:100%}#number-of-colors-box{flex:1}#number-of-colors-input{width:100%}#min-color-ratio-box{flex:1;margin:0 8px}#min-color-ratio-input{width:100%}#color-quant-cycles-box{flex:1}#color-quant-cycles-input{width:100%}#color-sampling-box{margin-top:8px}#color-sampling-buttons{width:100%}#color-sampling-buttons x-button{flex:1}#ltres-box{flex:1}#ltres-input{width:100%}#qtres-box{flex:1;margin:0 8px}#qtres-input{width:100%}#path-omit-box{flex:1}#path-omit-input{width:100%}#right-angle-enhance-checkbox{margin-top:6px}#right-angle-enhance-checkbox x-label{font-size:12px}#stroke-width-box x-box{width:100%}#stroke-width-heading{margin-bottom:0}#stroke-width-slider{flex:1}#stroke-width-input{margin-left:10px;width:60px}#line-filter-checkbox{margin-top:6px}#line-filter-checkbox x-label{font-size:12px}#ignore-white-checkbox{margin-top:6px}#ignore-white-checkbox x-label{font-size:12px}#preview{height:160px}#preview-label{text-align:center;font-weight:600;font-size:12px;opacity:.7}"]);_templateObject475=function _templateObject475(){return data;};return data;}function _templateObject474(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Vectorize</x-label></x-button></template>"]);_templateObject474=function _templateObject474(){return data;};return data;}function _templateObject473(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"preset-subsection\"><h4 id=\"preset-heading\">Preset</h4><x-select id=\"preset-select\"><x-menu><x-menuitem value=\"default\" toggled><x-label>Default</x-label></x-menuitem><hr><x-menuitem value=\"blackAndWhite\"><x-label>Black and white</x-label></x-menuitem><x-menuitem value=\"grayscale\"><x-label>Grayscale</x-label></x-menuitem><x-menuitem value=\"posterized\"><x-label>Posterized</x-label></x-menuitem><x-menuitem value=\"curvy\"><x-label>Curvy</x-label></x-menuitem><x-menuitem value=\"sharp\"><x-label>Sharp</x-label></x-menuitem><x-menuitem value=\"detailed\"><x-label>Detailed</x-label></x-menuitem><x-menuitem value=\"smoothed\"><x-label>Smoothed</x-label></x-menuitem></x-menu></x-select></section><hr><section id=\"preprocessing-subsection\"><h4 id=\"preprocessing-heading\">Preprocessing</h4><section id=\"working-size-subsection\"><h5 id=\"working-size-heading\">Working size</h5><x-box id=\"working-size-box\"><x-slider id=\"working-size-slider\" min=\"10\" max=\"1000\" step=\"1\"></x-slider><x-numberinput id=\"working-size-input\" min=\"10\" max=\"2000\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"blur-subsection\"><x-box id=\"blur-radius-box\" vertical><h5 id=\"blur-radius-heading\">Blur radius</h5><x-numberinput id=\"blur-radius-input\" min=\"0\" step=\"1\" title=\"Blur radius\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"blur-delta-box\" vertical><h5 id=\"blur-delta-heading\">Blur delta</h5><x-numberinput id=\"blur-delta-input\" min=\"0\" step=\"1\" condensed title=\"RGBA delta treshold for selective Gaussian blur preprocessing\"><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"color-subsection\"><h4 id=\"color-heading\">Color quantization</h4><x-box><x-box id=\"number-of-colors-box\" vertical><h5 id=\"number-of-colors-heading\">Colors</h5><x-numberinput id=\"number-of-colors-input\" min=\"1\" step=\"1\" title=\"Number of colors to use\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"min-color-ratio-box\" vertical><h5 id=\"min-color-ratio-heading\">Min ratio</h5><x-numberinput id=\"min-color-ratio-input\" min=\"0\" step=\"1\" condensed title=\"Color quantization will randomize a color if fewer pixels than TOTAL PIXELS * MIN RATIO has it\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"color-quant-cycles-box\" vertical><h5 id=\"color-quant-cycles-heading\">Cycles</h5><x-numberinput id=\"color-quant-cycles-input\" min=\"0\" step=\"1\" condensed title=\"Color quantization will be repeated this many times\"><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"color-sampling-box\" vertical><h5 id=\"color-sampling-heading\">Sampling</h5><x-buttons id=\"color-sampling-buttons\" tracking=\"1\"><x-button value=\"2\" condensed><x-label>Deterministic</x-label></x-button><x-button value=\"1\" condensed><x-label>Random</x-label></x-button><x-button value=\"0\" condensed><x-label>None</x-label></x-button></x-buttons></x-box></section><hr><section id=\"tracing-subsection\"><h4 id=\"tracing-heading\">Tracing</h4><x-box><x-box id=\"ltres-box\" vertical><h5 id=\"ltres-heading\">L treshold</h5><x-numberinput id=\"ltres-input\" min=\"0\" max=\"10\" step=\"1\" condensed title=\"Error treshold for straight lines\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"qtres-box\" vertical><h5 id=\"qtres-heading\">Q treshold</h5><x-numberinput id=\"qtres-input\" min=\"0\" max=\"10\" step=\"1\" condensed title=\"Error treshold for quadratic splines\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"path-omit-box\" vertical><h5 id=\"path-omit-heading\">Path omit</h5><x-numberinput id=\"path-omit-input\" min=\"0\" step=\"1\" condensed title=\"Edge node paths shorter than this will be discarded for noise reduction\"><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-checkbox id=\"right-angle-enhance-checkbox\"><x-label id=\"right-angle-enhance-label\">Enhance right angle corners</x-label></x-checkbox></section><hr><section id=\"rendering-subsection\"><h4 id=\"rendering-heading\">SVG rendering</h4><x-box id=\"stroke-width-box\" vertical><h5 id=\"stroke-width-heading\">Stroke width</h5><x-box><x-slider id=\"stroke-width-slider\" min=\"0\" max=\"20\" step=\"1\"></x-slider><x-numberinput id=\"stroke-width-input\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-checkbox id=\"line-filter-checkbox\"><x-label>Enable line filter for noise reduction</x-label></x-checkbox><x-checkbox id=\"ignore-white-checkbox\"><x-label>Ignore white</x-label></x-checkbox></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><x-button id=\"preview-button\"><x-label>Generate</x-label></x-button><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\" hidden></svg><x-label id=\"preview-label\" hidden></x-label></section></template>"]);_templateObject473=function _templateObject473(){return data;};return data;}function _templateObject472(){var data=_taggedTemplateLiteral(["#view-select{width:100%}#area-subsection{margin-top:14px}#area-buttons{width:100%}#area-buttons x-button{flex:1}#padding-subsection{margin-top:14px}#padding-heading{margin:0}#padding-input{width:240px;margin:0 auto}#origin-subsection{margin-top:14px}#origin-heading{margin:0;flex:1}#origin-switch{margin:0}#origin-box{display:flex;margin-top:14px}#origin-x-box{flex:1;margin-right:6px}#origin-y-box{flex:1;margin-left:6px}#origin-x-input,#origin-y-input{width:100%;margin-top:4px}#origin-x-label,#origin-y-label{font-size:12px}#preview{display:block;margin:0 auto;width:auto;height:auto;max-height:140px;max-width:100%;background-image:none}#preview-table{width:100%;margin-top:14px;font-size:12px}#preview-table td:first-child{text-align:end;font-weight:700}#preview-table td:last-child{width:50%}"]);_templateObject472=function _templateObject472(){return data;};return data;}function _templateObject471(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Resize</x-label></x-button></template>"]);_templateObject471=function _templateObject471(){return data;};return data;}function _templateObject470(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"view-subsection\"><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"area-subsection\"><h4 id=\"area-heading\">Objects</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button id=\"all-area-button\" value=\"all\" toggled><x-label>All</x-label></x-button><x-button id=\"selected-area-button\" value=\"selected\"><x-label>Selected</x-label></x-button></x-buttons></section><section id=\"padding-subsection\"><h4 id=\"padding-heading\">Padding</h4><bx-edgeinput id=\"padding-input\"></bx-edgeinput></section><section id=\"origin-subsection\"><x-box id=\"origin-heading-box\"><h4 id=\"origin-heading\">Origin</h4><x-switch id=\"origin-switch\" size=\"smaller\"></x-switch></x-box><x-box id=\"origin-box\"><x-box id=\"origin-x-box\" vertical><x-label id=\"origin-x-label\">X</x-label><x-numberinput id=\"origin-x-input\" value=\"0\" condensed><x-stepper></x-stepper><x-label>Auto</x-label></x-numberinput></x-box><x-box id=\"origin-y-box\" vertical><x-label id=\"origin-y-label\">Y</x-label><x-numberinput id=\"origin-y-input\" value=\"0\" condensed><x-stepper></x-stepper><x-label>Auto</x-label></x-numberinput></x-box></x-box></section></section><hr id=\"preview-section-hr\"><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><image id=\"preview\" part=\"preview\"></image><table id=\"preview-table\"><tr><td>X:</td><td id=\"preview-x-td\">0</td></tr><tr><td>Y:</td><td id=\"preview-y-td\">0</td></tr><tr><td>Width:</td><td id=\"preview-width-td\">100</td></tr><tr><td>Height:</td><td id=\"preview-height-td\">100</td></tr></table></section></template>"]);_templateObject470=function _templateObject470(){return data;};return data;}function _templateObject469(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box}:host([hidden]){display:none}#main{display:flex;flex-flow:column;align-items:center;justify-content:center;margin-top:2px}x-box{width:100%;margin:10px 0;justify-content:space-between}x-button{width:72px}x-numberinput{width:72px}"]);_templateObject469=function _templateObject469(){return data;};return data;}function _templateObject468(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><x-numberinput id=\"top-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput><x-box><x-numberinput id=\"left-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput><x-button id=\"uniform-button\" condensed togglable><x-label>Uniform</x-label></x-button><x-numberinput id=\"right-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-numberinput id=\"bottom-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></main></template>"]);_templateObject468=function _templateObject468(){return data;};return data;}function _templateObject467(){var data=_taggedTemplateLiteral(["#format-buttons{width:100%}#format-buttons x-button{flex:1}#ppu-subsection{margin-top:14px}#ppu-subsection x-box{width:100%}#ppu-heading{margin-bottom:0}#ppu-slider{flex:1}#ppu-input{margin-left:10px;width:60px}#colors-subsection{margin-top:10px}#colors-mode-buttons{width:100%}#colors-mode-buttons x-button{flex:1}#colors-box{margin-top:6px}#colors-box[hidden]{display:none}#colors-slider{flex:1}#colors-input{margin-left:10px;width:60px}#compression-subsection{margin-top:10px}#compression-subsection x-box{width:100%}#compression-heading{margin-bottom:0}#compression-slider{flex:1}#compression-input{margin-left:10px;width:60px}#background-subsection{margin-top:10px}#background-select x-popover{--align:right}#preview{display:block;margin:0 auto;width:auto;height:auto;max-height:140px;max-width:100%}#preview-label{margin-top:7px;text-align:center;font-weight:500;font-size:12px;opacity:.7}"]);_templateObject467=function _templateObject467(){return data;};return data;}function _templateObject466(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Rasterize</x-label></x-button></template>"]);_templateObject466=function _templateObject466(){return data;};return data;}function _templateObject465(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"format-subsection\"><h4 id=\"format-heading\">Format</h4><x-buttons id=\"format-buttons\" tracking=\"1\"><x-button id=\"png-format-button\" value=\"png\" toggled><x-label>PNG</x-label></x-button><x-button id=\"jpeg-format-button\" value=\"jpeg\"><x-label>JPEG</x-label></x-button></x-buttons></section><section id=\"ppu-subsection\"><h4 id=\"ppu-heading\">Pixels per unit</h4><x-box id=\"ppu-box\"><x-slider id=\"ppu-slider\" value=\"1\" min=\"0.1\" max=\"5\" step=\"0.1\"></x-slider><x-numberinput id=\"ppu-input\" value=\"1\" min=\"0.1\" max=\"5\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"colors-subsection\"><h4 id=\"colors-heading\">Colors</h4><x-buttons id=\"colors-mode-buttons\" tracking=\"1\"><x-button id=\"colors-rgb-button\" value=\"rgb\" toggled><x-label>RGB</x-label></x-button><x-button id=\"colors-palette-button\" value=\"palette\"><x-label>Palette</x-label></x-button></x-buttons><x-box id=\"colors-box\" hidden><x-slider id=\"colors-slider\" value=\"256\" min=\"3\" max=\"256\" step=\"1\"></x-slider><x-numberinput id=\"colors-input\" value=\"256\" min=\"3\" max=\"256\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"compression-subsection\"><h4 id=\"compression-heading\">Compression</h4><x-box><x-slider id=\"compression-slider\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"compression-input\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\"></bx-colorpicker></x-popover></x-colorselect></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><x-button id=\"preview-button\"><x-label>Generate</x-label></x-button><image id=\"preview\" part=\"preview\" hidden></image><x-label id=\"preview-label\" hidden></x-label></section></template>"]);_templateObject465=function _templateObject465(){return data;};return data;}function _templateObject464(){var data=_taggedTemplateLiteral(["#size-subsection{display:flex}#size-subsection x-numberinput{width:100%}#size-subsection #height-box,#size-subsection #width-box{flex:1}#size-subsection #height-heading,#size-subsection #width-heading{margin-top:0}#size-subsection #aspect-ratio-button{align-self:flex-end;margin:0}#size-subsection #aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px;color:#8c8c8c}#grid-subsection{margin-top:14px}#columns-box{flex:1;margin-right:4px}#columns-input{width:100%}#rows-box{flex:1;margin-left:4px}#rows-input{width:100%}#tab-size-subsection{margin-top:14px}#tab-size-subsection h4{margin:0}#tab-size-slider{flex:1}#tab-size-input{width:60px;margin-left:10px}#jitter-subsection{margin-top:10px}#jitter-subsection h4{margin:0}#jitter-slider{flex:1}#jitter-input{width:60px;margin-left:10px}#seed-subsection{margin-top:10px}#seed-subsection h4{margin:0}#seed-slider{flex:1}#seed-input{margin-left:10px;width:60px}#preview{height:160px}"]);_templateObject464=function _templateObject464(){return data;};return data;}function _templateObject463(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject463=function _templateObject463(){return data;};return data;}function _templateObject462(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"500\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"400\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"grid-subsection\"><x-box><x-box id=\"columns-box\" vertical><h4 id=\"columns-heading\">Columns</h4><x-numberinput id=\"columns-input\" value=\"1\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"rows-box\" vertical><h4 id=\"rows-heading\">Rows</h4><x-numberinput id=\"rows-input\" value=\"1\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"tab-size-subsection\"><h4 id=\"tab-size-heading\">Tab size</h4><x-box id=\"tab-size-box\"><x-slider id=\"tab-size-slider\" value=\"10\" min=\"10\" max=\"30\" step=\"1\"></x-slider><x-numberinput id=\"tab-size-input\" value=\"10\" min=\"10\" max=\"30\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"jitter-subsection\"><h4 id=\"jitter-heading\">Jitter</h4><x-box id=\"jitter-box\"><x-slider id=\"jitter-slider\" value=\"0\" min=\"0\" max=\"15\" step=\"1\"></x-slider><x-numberinput id=\"jitter-input\" value=\"0\" min=\"0\" max=\"15\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-subsection\"><h4 id=\"seed-heading\">Seed</h4><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" value=\"0\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" value=\"0\" min=\"0\" max=\"200\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject462=function _templateObject462(){return data;};return data;}function _templateObject461(){var data=_taggedTemplateLiteral(["#size-subsection{display:flex}#size-subsection x-numberinput{width:100%}#size-subsection #height-box,#size-subsection #width-box{flex:1}#size-subsection #height-heading,#size-subsection #width-heading{margin-top:0}#size-subsection #aspect-ratio-button{align-self:flex-end;margin:0}#size-subsection #aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px;color:#8c8c8c}#cell-size-subsection{margin-top:14px}#cell-size-subsection h4{margin:0}#cell-size-slider{flex:1}#cell-size-input{margin-left:10px;width:60px}#variance-subsection{margin-top:10px}#variance-subsection h4{margin:0}#variance-slider{flex:1}#variance-input{margin-left:10px;width:60px}#seed-subsection{margin-top:10px}#seed-subsection h4{margin:0}#seed-slider{flex:1}#seed-input{margin-left:10px;width:60px}#colors-subsection{margin-top:10px}#colors-subsection h4{margin:0}#colors-box{margin-top:7px}#colors-subsection x-colorselect{flex:1;margin:0 3px}#colors-subsection x-colorselect:first-child{margin-left:0}#colors-subsection x-colorselect:last-child{margin-right:0}#colors-subsection x-popover{--align:left}#random-colors-button{width:100%;margin-top:7px}#preview{height:160px;shape-rendering:crispEdges}"]);_templateObject461=function _templateObject461(){return data;};return data;}function _templateObject460(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject460=function _templateObject460(){return data;};return data;}function _templateObject459(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"600\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-on\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"400\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"cell-size-subsection\"><h4 id=\"cell-size-heading\">Cell size</h4><x-box id=\"cell-size-box\"><x-slider id=\"cell-size-slider\" value=\"10\" min=\"2\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"cell-size-input\" value=\"10\" min=\"2\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"variance-subsection\"><h4 id=\"variance-heading\">Variance</h4><x-box id=\"variance-box\"><x-slider id=\"variance-slider\" value=\"10\" min=\"2\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"variance-input\" value=\"10\" min=\"2\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-subsection\"><h4 id=\"seed-heading\">Seed</h4><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" value=\"100\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" value=\"100\" min=\"0\" max=\"200\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"colors-subsection\"><h4 id=\"colors-heading\">Colors</h4><x-box id=\"colors-box\"><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect></x-box><x-button id=\"random-colors-button\" condensed><x-label>Generate random colors</x-label></x-button></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject459=function _templateObject459(){return data;};return data;}function _templateObject458(){var data=_taggedTemplateLiteral(["#hall-radius-subsection h4{margin:0}#hall-radius-slider{flex:1}#hall-radius-input{width:60px;margin-left:10px}#seat-radius-subsection{margin-top:10px}#seat-radius-subsection h4{margin:0}#seat-radius-slider{flex:1}#seat-radius-input{width:60px;margin-left:10px}#parties-subsection{margin-top:10px}#parties-box .party-box{width:100%}#parties-box .party-box+.party-box{margin-top:8px}#parties-box x-popover{--align:left}#parties-box x-numberinput{flex:1;margin:0 8px}#parties-box x-icon{width:12px;height:12px}#add-party-button{width:100%;margin-top:8px}#add-party-button x-icon{width:11px;height:11px}#preview{height:160px}"]);_templateObject458=function _templateObject458(){return data;};return data;}function _templateObject457(){var data=_taggedTemplateLiteral(["<template><x-box class=\"party-box\"><x-colorselect value=\"#4b4ba7\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-numberinput value=\"10\" min=\"1\" suffix=\" seat(s)\" condensed><x-stepper></x-stepper></x-numberinput><x-button class=\"delete-button\" condensed><x-icon name=\"trash\"></x-icon></x-button></x-box></template>"]);_templateObject457=function _templateObject457(){return data;};return data;}function _templateObject456(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject456=function _templateObject456(){return data;};return data;}function _templateObject455(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"hall-radius-subsection\"><h4 id=\"hall-radius-heading\">Hall radius</h4><x-box id=\"hall-radius-box\"><x-slider id=\"hall-radius-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"hall-radius-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seat-radius-subsection\"><h4 id=\"seat-radius-heading\">Seat radius</h4><x-box id=\"seat-radius-box\"><x-slider id=\"seat-radius-slider\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"seat-radius-input\" min=\"1\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"parties-subsection\"><h4>Parties</h4><x-box id=\"parties-box\" vertical></x-box><x-button id=\"add-party-button\"><x-icon name=\"plus\"></x-icon><x-label>Add</x-label></x-button></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject455=function _templateObject455(){return data;};return data;}function _templateObject454(){var data=_taggedTemplateLiteral(["#mode-select{width:100%}#charset-subsection{margin-top:14px}#charset-select{width:100%}#error-correction-subsection{margin-top:14px}#error-correction-buttons{width:100%}#error-correction-buttons x-button{flex:1}#value-subsection{margin-top:14px}#value-input{max-width:none}"]);_templateObject454=function _templateObject454(){return data;};return data;}function _templateObject453(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject453=function _templateObject453(){return data;};return data;}function _templateObject452(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"mode-subsection\"><h4>Mode</h4><x-select id=\"mode-select\"><x-menu><x-menuitem value=\"Byte\"><x-label>Byte</x-label></x-menuitem><x-menuitem value=\"Alphanumeric\"><x-label>Alphanumeric</x-label></x-menuitem><x-menuitem value=\"Numeric\"><x-label>Numeric</x-label></x-menuitem><x-menuitem value=\"Kanji\"><x-label>Kanji</x-label></x-menuitem></x-menu></x-select></section><section id=\"charset-subsection\"><h4>Charset</h4><x-select id=\"charset-select\"><x-menu><x-menuitem value=\"default\"><x-label>ISO 8859-1</x-label></x-menuitem><x-menuitem value=\"UTF-8\"><x-label>UTF-8</x-label></x-menuitem><x-menuitem value=\"SJIS\"><x-label>SJIS</x-label></x-menuitem></x-menu></x-select></section><section id=\"error-correction-subsection\"><h4>Error correction</h4><x-buttons id=\"error-correction-buttons\" tracking=\"1\"><x-button value=\"L\"><x-label>7%</x-label></x-button><x-button value=\"M\"><x-label>15%</x-label></x-button><x-button value=\"Q\"><x-label>25%</x-label></x-button><x-button value=\"H\"><x-label>30%</x-label></x-button></x-buttons></section><section id=\"value-subsection\"><h4>Value</h4><x-input id=\"value-input\" validation=\"instant\"></x-input></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject452=function _templateObject452(){return data;};return data;}function _templateObject451(){var data=_taggedTemplateLiteral(["#format-select{width:100%}#value-subsection{margin-top:14px}#value-input{max-width:none}#display-value-box{margin-top:8px}#label-subsection{margin-top:14px}#label-header{display:flex;align-items:center}#label-heading{margin:0;flex:1}#label-position-box{margin-top:8px}#label-position-label{font-size:11px;font-weight:500;margin:0 0 4px 0}#label-position-buttons{width:100%}#label-position-buttons x-button{flex:1}"]);_templateObject451=function _templateObject451(){return data;};return data;}function _templateObject450(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject450=function _templateObject450(){return data;};return data;}function _templateObject449(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"format-subsection\"><h4>Format</h4><x-select id=\"format-select\"><x-menu><x-menuitem value=\"CODE128\" toggled><x-label>CODE 128</x-label></x-menuitem><x-menuitem value=\"CODE39\"><x-label>CODE 39</x-label></x-menuitem><hr><x-menuitem value=\"EAN2\"><x-label>EAN-2</x-label></x-menuitem><x-menuitem value=\"EAN5\"><x-label>EAN-5</x-label></x-menuitem><x-menuitem value=\"EAN8\"><x-label>EAN-8</x-label></x-menuitem><x-menuitem value=\"EAN13\"><x-label>EAN-13</x-label></x-menuitem><x-menuitem value=\"UPC\"><x-label>UPC</x-label></x-menuitem><hr><x-menuitem value=\"MSI\"><x-label>MSI</x-label></x-menuitem><x-menuitem value=\"MSI10\"><x-label>MSI10</x-label></x-menuitem><x-menuitem value=\"MSI11\"><x-label>MSI11</x-label></x-menuitem><x-menuitem value=\"MSI1010\"><x-label>MSI1010</x-label></x-menuitem><x-menuitem value=\"MSI1110\"><x-label>MSI1110</x-label></x-menuitem><hr><x-menuitem value=\"codabar\"><x-label>Codabar</x-label></x-menuitem><x-menuitem value=\"pharmacode\"><x-label>Pharmacode</x-label></x-menuitem><x-menuitem value=\"ITF14\"><x-label>ITF14</x-label></x-menuitem></x-menu></x-select></section><section id=\"value-subsection\"><h4>Value</h4><x-input id=\"value-input\" value=\"9999\" validation=\"instant\"></x-input></section><section id=\"label-subsection\"><header id=\"label-header\"><h4 id=\"label-heading\">Label</h4><x-switch id=\"label-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"label-position-box\" vertical><x-label id=\"label-position-label\">Position</x-label><x-buttons id=\"label-position-buttons\" tracking=\"1\"><x-button id=\"label-position-left-button\" value=\"left\" condensed><x-label>Left</x-label></x-button><x-button id=\"label-position-center-button\" value=\"center\" condensed toggled><x-label>Center</x-label></x-button><x-button id=\"label-position-right-button\" value=\"right\" condensed><x-label>Right</x-label></x-button><x-button id=\"label-position-inset-button\" value=\"inset\" condensed><x-label>Inset</x-label></x-button></x-buttons></x-box></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject449=function _templateObject449(){return data;};return data;}function _templateObject448(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%}:host(:focus){outline:0}:host([hidden]){display:none}h3:first-child{margin-top:0}section>hr{margin:14px 0}#main{flex:1;box-sizing:border-box;width:100%;overflow:auto}#options-section{padding:16px 20px}#preview-section{padding:16px 20px}#preview{width:100%;height:100px;user-select:none;border-width:1px;border-style:solid}#preview[hidden]{display:none}#footer{display:flex;z-index:0;min-height:fit-content;justify-content:flex-end;padding:15px 20px 15px 20px;border-top-width:1px;border-top-style:solid}#footer:empty{display:none}#footer x-button{width:100%}#footer x-progressbar{position:absolute;bottom:0;left:0;width:100%;border-radius:0;box-shadow:none;background:0 0;height:4px}"]);_templateObject448=function _templateObject448(){return data;};return data;}function _templateObject447(){var data=_taggedTemplateLiteral(["<template><main id=\"main\" part=\"main\"></main><footer id=\"footer\" part=\"footer\"></footer></template>"]);_templateObject447=function _templateObject447(){return data;};return data;}function _templateObject446(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;flex-flow:column}#header{padding:16px 20px}#header h2{margin:0;line-height:1}#buttons{margin-top:10px}#main{display:flex;width:100%;height:100%;min-height:100px;flex:1}#main>*{flex:1}"]);_templateObject446=function _templateObject446(){return data;};return data;}function _templateObject445(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">Library</h2><x-buttons id=\"buttons\" tracking=\"1\"><x-button skin=\"flat\" value=\"colors-library-browser\"><x-icon name=\"library-colors\"></x-icon></x-button><x-button skin=\"flat\" value=\"fonts-library-browser\"><x-icon name=\"library-fonts\"></x-icon></x-button><x-button skin=\"flat\" value=\"photos-library-browser\"><x-icon name=\"library-photos\"></x-icon></x-button><x-button skin=\"flat\" value=\"vectors-library-browser\"><x-icon name=\"library-vectors\"></x-icon></x-button></x-buttons></header><main id=\"main\"><bx-photoslibrarybrowser id=\"photos-library-browser\"></bx-photoslibrarybrowser><bx-vectorslibrarybrowser id=\"vectors-library-browser\"></bx-vectorslibrarybrowser><bx-colorslibrarybrowser id=\"colors-library-browser\"></bx-colorslibrarybrowser><bx-fontslibrarybrowser id=\"fonts-library-browser\"></bx-fontslibrarybrowser></main></template>"]);_templateObject445=function _templateObject445(){return data;};return data;}function _templateObject444(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{width:100%;height:100%}#header{display:flex;width:100%;min-height:29px;padding:0 20px;align-items:center;box-sizing:border-box;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}#header h2{flex:1;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#header #pixabay-anchor{font-size:11px}#main{flex:1;width:100%;height:100%;overflow:auto;position:relative}#items{width:100%;height:100%;padding:14px 20px;box-sizing:border-box;flex:1;overflow:auto;display:grid;grid-column-gap:14px;grid-row-gap:14px;grid-template-columns:repeat(auto-fill,minmax(110px,1fr));outline:0}#items .item{display:flex;align-items:center;justify-content:center;width:110px;height:90px;border-width:1px;border-style:solid;background:var(--checkboard-background);position:relative;touch-action:pan-y}#items .item:nth-child(2n){margin-right:0}#items .item[data-selected]{outline:2px solid var(--accent-color);border-color:var(--accent-color)}#items .item img{display:block;touch-action:none;pointer-events:none;user-drag:none;-webkit-user-drag:none}#throbber{position:absolute;top:50%;left:50%;margin:-15px 0 0 -15px}#throbber[hidden]{display:none}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#placeholder[hidden]{display:none}#item-popover{flex-flow:column;width:220px;min-height:80px;--align:left}#item-popover>main{box-sizing:border-box;padding:5px 13px}#item-popover>footer{padding:0 11px 10px;border-width:1px;border-style:solid}#item-popover #item-license{margin-top:2px}#item-popover #item-license-label,#item-popover #item-uploader-label{font-weight:700;font-size:13px}#item-popover #item-license-value,#item-popover #item-uploader-value{margin-top:3px;font-size:13px;line-height:1.15;word-wrap:break-word}#item-popover #item-pixabay-anchor{display:block;margin-top:8px;cursor:default;text-decoration:none}#item-popover #item-pixabay-button{width:100%}#item-popover #add-to-canvas-button{width:100%;margin-top:8px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#search-input{width:100%;max-width:none}#search-button{margin-left:-1px;padding:2px 10px}#settings-button{min-width:fit-content;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#settings-button>x-icon{width:13px;height:13px}#settings-popover{width:165px}#settings-popover h4{margin-top:0}#sort-buttons{width:100%}#orientation-section{margin-top:12px}#orientation-select{width:100%}#category-section{margin-top:12px}#category-select{width:100%}#editors-choice-checkbox{margin-top:8px}"]);_templateObject444=function _templateObject444(){return data;};return data;}function _templateObject443(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Vectors</h2><a id=\"pixabay-anchor\" href=\"https://pixabay.com\" target=\"_blank\">pixabay.com</a></header><main id=\"main\" part=\"main\"><div id=\"items\" tabindex=\"0\"></div><x-throbber id=\"throbber\" hidden></x-throbber><div id=\"placeholder\" hidden></div><x-popover id=\"item-popover\"><main><div id=\"item-uploader\"><span id=\"item-uploader-label\">Uploader: </span><span id=\"item-uploader-value\"></span></div><div id=\"item-license\"><span id=\"item-license-label\">License: </span><span id=\"item-license-value\"><a href=\"","\" target=\"_blank\">Pixabay License</a></span></div></main><footer part=\"footer\"><a id=\"item-pixabay-anchor\" target=\"_blank\"><x-button id=\"item-pixabay-button\"><x-label>View on Pixabay</x-label></x-button></a><x-button id=\"add-to-canvas-button\" toggled><x-label>Add to Canvas</x-label></x-button></footer></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Search</x-label></x-input><x-button id=\"settings-button\" condensed><x-icon name=\"prefs-general\"></x-icon><x-popover id=\"settings-popover\" modal><main><section id=\"sort-section\"><h4>Sort</h4><x-buttons id=\"sort-buttons\" tracking=\"1\"><x-button value=\"popular\" toggled><x-label>Popular</x-label></x-button><x-button value=\"latest\"><x-label>Latest</x-label></x-button></x-buttons></section><section id=\"orientation-section\"><h4>Orientation</h4><x-select id=\"orientation-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><x-menuitem value=\"horizontal\"><x-label>Horizontal</x-label></x-menuitem><x-menuitem value=\"vertical\"><x-label>Vertical</x-label></x-menuitem></x-menu></x-select></section><section id=\"category-section\"><h4>Category</h4><x-select id=\"category-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"animals\"><x-label>Animals</x-label></x-menuitem><x-menuitem value=\"backgrounds\"><x-label>Backgrounds</x-label></x-menuitem><x-menuitem value=\"buildings\"><x-label>Buildings</x-label></x-menuitem><x-menuitem value=\"business\"><x-label>Business</x-label></x-menuitem><x-menuitem value=\"computer\"><x-label>Computer</x-label></x-menuitem><x-menuitem value=\"education\"><x-label>Education</x-label></x-menuitem><x-menuitem value=\"fashion\"><x-label>Fashion</x-label></x-menuitem><x-menuitem value=\"feelings\"><x-label>Feelings</x-label></x-menuitem><x-menuitem value=\"food\"><x-label>Food</x-label></x-menuitem><x-menuitem value=\"health\"><x-label>Health</x-label></x-menuitem><x-menuitem value=\"industry\"><x-label>Industry</x-label></x-menuitem><x-menuitem value=\"music\"><x-label>Music</x-label></x-menuitem><x-menuitem value=\"nature\"><x-label>Nature</x-label></x-menuitem><x-menuitem value=\"people\"><x-label>People</x-label></x-menuitem><x-menuitem value=\"science\"><x-label>Science</x-label></x-menuitem><x-menuitem value=\"religion\"><x-label>Religion</x-label></x-menuitem><x-menuitem value=\"places\"><x-label>Places</x-label></x-menuitem><x-menuitem value=\"sports\"><x-label>Sports</x-label></x-menuitem><x-menuitem value=\"transportation\"><x-label>Transportation</x-label></x-menuitem><x-menuitem value=\"travel\"><x-label>Travel</x-label></x-menuitem></x-menu></x-select><x-checkbox id=\"editors-choice-checkbox\"><x-label>Editor's Choice</x-label></x-checkbox></section></main></x-popover></x-button></x-box></footer></x-box></template>"]);_templateObject443=function _templateObject443(){return data;};return data;}function _templateObject442(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{width:100%;height:100%}#header{display:flex;width:100%;min-height:29px;padding:0 20px;align-items:center;box-sizing:border-box;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}#header h2{flex:1;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#header #pixabay-anchor{font-size:11px}#main{flex:1;width:100%;height:100%;overflow:auto;position:relative}#items{width:100%;height:100%;padding:14px 20px;box-sizing:border-box;flex:1;overflow:auto;display:grid;grid-column-gap:14px;grid-row-gap:14px;grid-template-columns:repeat(auto-fill,minmax(110px,1fr));outline:0}#items .item{display:flex;align-items:center;justify-content:center;width:110px;height:90px;border-width:1px;border-style:solid;background:var(--checkboard-background);position:relative;touch-action:pan-y}#items .item:nth-child(2n){margin-right:0}#items .item[data-selected]{outline:2px solid var(--accent-color);border-color:var(--accent-color)}#items .item img{display:block;touch-action:none;pointer-events:none;user-drag:none;-webkit-user-drag:none}#throbber{position:absolute;top:50%;left:50%;margin:-15px 0 0 -15px}#throbber[hidden]{display:none}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#placeholder[hidden]{display:none}#item-popover{flex-flow:column;width:220px;min-height:80px;--align:left}#item-popover>main{box-sizing:border-box;padding:5px 13px}#item-popover>footer{padding:0 11px 10px;border-width:1px;border-style:solid}#item-popover #item-license{margin-top:2px}#item-popover #item-license-label,#item-popover #item-uploader-label{font-weight:700;font-size:13px}#item-popover #item-license-value,#item-popover #item-uploader-value{margin-top:3px;font-size:13px;line-height:1.15;word-wrap:break-word}#item-popover #item-pixabay-anchor{display:block;margin-top:8px;cursor:default;text-decoration:none}#item-popover #item-pixabay-button{width:100%}#item-popover #add-to-canvas-button{width:100%;margin-top:8px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#search-input{width:100%;max-width:none}#search-button{margin-left:-1px;padding:2px 10px}#settings-button{min-width:fit-content;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#settings-button>x-icon{width:13px;height:13px}#settings-popover{width:165px}#settings-popover h4{margin-top:0}#sort-buttons{width:100%}#quality-section{margin-top:12px}#quality-select{width:100%}#orientation-section{margin-top:12px}#orientation-select{width:100%}#category-section{margin-top:12px}#category-select{width:100%}#editors-choice-checkbox{margin-top:8px}"]);_templateObject442=function _templateObject442(){return data;};return data;}function _templateObject441(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Photos</h2><a id=\"pixabay-anchor\" href=\"https://pixabay.com\" target=\"_blank\">pixabay.com</a></header><main id=\"main\" part=\"main\"><div id=\"items\" tabindex=\"0\"></div><x-throbber id=\"throbber\" hidden></x-throbber><div id=\"placeholder\" hidden></div><x-popover id=\"item-popover\"><main><div id=\"item-uploader\"><span id=\"item-uploader-label\">Uploader: </span><span id=\"item-uploader-value\"></span></div><div id=\"item-license\"><span id=\"item-license-label\">License: </span><span id=\"item-license-value\"><a href=\"","\" target=\"_blank\">Pixabay License</a></span></div></main><footer part=\"footer\"><a id=\"item-pixabay-anchor\" target=\"_blank\"><x-button id=\"item-pixabay-button\"><x-label>View on Pixabay</x-label></x-button></a><x-button id=\"add-to-canvas-button\" toggled><x-label>Add to Canvas</x-label></x-button></footer></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Search</x-label></x-input><x-button id=\"settings-button\" condensed><x-icon name=\"prefs-general\"></x-icon><x-popover id=\"settings-popover\" modal><main><section id=\"sort-section\"><h4>Sort</h4><x-buttons id=\"sort-buttons\" tracking=\"1\"><x-button value=\"popular\" toggled><x-label>Popular</x-label></x-button><x-button value=\"latest\"><x-label>Latest</x-label></x-button></x-buttons></section><section id=\"quality-section\"><h4>Quality</h4><x-select id=\"quality-select\"><x-menu><x-menuitem value=\"180\"><x-label>180px</x-label></x-menuitem><x-menuitem value=\"340\"><x-label>340px</x-label></x-menuitem><x-menuitem value=\"640\" toggled><x-label>640px</x-label></x-menuitem><x-menuitem value=\"1280\"><x-label>1280px</x-label></x-menuitem><x-menuitem value=\"1920\"><x-label>1920px</x-label></x-menuitem></x-menu></x-select></section><section id=\"orientation-section\"><h4>Orientation</h4><x-select id=\"orientation-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><x-menuitem value=\"horizontal\"><x-label>Horizontal</x-label></x-menuitem><x-menuitem value=\"vertical\"><x-label>Vertical</x-label></x-menuitem></x-menu></x-select></section><section id=\"category-section\"><h4>Category</h4><x-select id=\"category-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"animals\"><x-label>Animals</x-label></x-menuitem><x-menuitem value=\"backgrounds\"><x-label>Backgrounds</x-label></x-menuitem><x-menuitem value=\"buildings\"><x-label>Buildings</x-label></x-menuitem><x-menuitem value=\"business\"><x-label>Business</x-label></x-menuitem><x-menuitem value=\"computer\"><x-label>Computer</x-label></x-menuitem><x-menuitem value=\"education\"><x-label>Education</x-label></x-menuitem><x-menuitem value=\"fashion\"><x-label>Fashion</x-label></x-menuitem><x-menuitem value=\"feelings\"><x-label>Feelings</x-label></x-menuitem><x-menuitem value=\"food\"><x-label>Food</x-label></x-menuitem><x-menuitem value=\"health\"><x-label>Health</x-label></x-menuitem><x-menuitem value=\"industry\"><x-label>Industry</x-label></x-menuitem><x-menuitem value=\"music\"><x-label>Music</x-label></x-menuitem><x-menuitem value=\"nature\"><x-label>Nature</x-label></x-menuitem><x-menuitem value=\"people\"><x-label>People</x-label></x-menuitem><x-menuitem value=\"science\"><x-label>Science</x-label></x-menuitem><x-menuitem value=\"religion\"><x-label>Religion</x-label></x-menuitem><x-menuitem value=\"places\"><x-label>Places</x-label></x-menuitem><x-menuitem value=\"sports\"><x-label>Sports</x-label></x-menuitem><x-menuitem value=\"transportation\"><x-label>Transportation</x-label></x-menuitem><x-menuitem value=\"travel\"><x-label>Travel</x-label></x-menuitem></x-menu></x-select><x-checkbox id=\"editors-choice-checkbox\"><x-label>Editor's Choice</x-label></x-checkbox></section></main></x-popover></x-button></x-box></footer></x-box></template>"]);_templateObject441=function _templateObject441(){return data;};return data;}function _templateObject440(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{width:100%;height:100%}#header{display:flex;width:100%;min-height:29px;padding:0 20px;align-items:center;box-sizing:border-box;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}#header h2{flex:1;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#header #google-fonts-anchor{font-size:11px}#main{flex:1;width:100%;height:100%;overflow:auto;position:relative}#items{width:100%;height:100%;flex:1;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;outline:0;contain:strict}#items>.item{position:relative;display:flex;align-items:center;box-sizing:border-box;padding:3px 20px;opacity:.75;overflow:hidden;background:0 0;touch-action:pan-y}#items>.item[data-selected]{background:var(--accent-color);opacity:1}#items>.item[hidden]{display:none}#items>.item img{touch-action:none;pointer-events:none;user-drag:none;-webkit-user-drag:none}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#placeholder[hidden]{display:none}#item-popover{flex-flow:column;width:240px;min-height:80px;--align:left}#item-popover[opened]{display:flex}#item-popover>main{box-sizing:border-box;padding:5px 13px}#item-popover>footer{padding:0 11px 10px;border-width:1px;border-style:solid}#item-popover #item-category,#item-popover #item-license,#item-popover #item-subsets,#item-popover #item-weights{margin-top:2px}#item-popover #item-category-label,#item-popover #item-family-label,#item-popover #item-license-label,#item-popover #item-subsets-label,#item-popover #item-weights-label{font-weight:700;font-size:13px}#item-popover #item-category-value,#item-popover #item-family-value,#item-popover #item-license-value,#item-popover #item-subsets-value,#item-popover #item-weights-value{margin-top:3px;font-size:13px;line-height:1.15;word-wrap:break-word}#item-popover #item-google-fonts-anchor{display:block;margin-top:8px;cursor:default;text-decoration:none}#item-popover #item-google-fonts-button{width:100%}#item-popover #add-to-defs-button{width:100%;margin-top:8px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#search-input{width:100%;max-width:none}#settings-button{min-width:fit-content;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#settings-button>x-icon{width:13px;height:13px}#settings-popover{width:200px}#settings-popover h4{margin-top:0}#sort-select{width:100%}#subset-section{margin-top:12px}#subset-select{width:100%}#category-section{margin-top:12px}#category-select{width:100%}"]);_templateObject440=function _templateObject440(){return data;};return data;}function _templateObject439(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Fonts</h2><a id=\"google-fonts-anchor\" href=\"https://fonts.google.com\" target=\"_blank\">fonts.google.com</a></header><main id=\"main\" part=\"main\"><div id=\"items\" tabindex=\"0\"></div><div id=\"placeholder\" hidden></div><x-popover id=\"item-popover\"><main><div id=\"item-family\"><span id=\"item-family-label\">Family: </span><span id=\"item-family-value\"></span></div><div id=\"item-weights\"><span id=\"item-weights-label\">Weights: </span><span id=\"item-weights-value\"></span></div><div id=\"item-subsets\"><span id=\"item-subsets-label\">Subsets: </span><span id=\"item-subsets-value\"></span></div><div id=\"item-category\"><span id=\"item-category-label\">Category: </span><span id=\"item-category-value\"></span></div><div id=\"item-license\"><span id=\"item-license-label\">License: </span><span id=\"item-license-value\"><a id=\"item-license-anchor\" target=\"_blank\"></a></span></div></main><footer part=\"footer\"><a id=\"item-google-fonts-anchor\" target=\"_blank\"><x-button id=\"item-google-fonts-button\"><x-label>View on Google Fonts</x-label></x-button></a><x-button id=\"add-to-defs-button\" toggled><x-label>Add to Defs</x-label></x-button></footer></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Search</x-label></x-input><x-button id=\"settings-button\" condensed><x-icon name=\"prefs-general\"></x-icon><x-popover id=\"settings-popover\" modal><main><section id=\"sort-section\"><h4>Sort</h4><x-select id=\"sort-select\"><x-menu id=\"sort-menu\"><x-menuitem value=\"alphabetical\" toggled><x-label>Alphabetical</x-label></x-menuitem><x-menuitem value=\"popularity\"><x-label>Popular</x-label></x-menuitem><x-menuitem value=\"trending\"><x-label>Trending</x-label></x-menuitem><x-menuitem value=\"date\"><x-label>Latest</x-label></x-menuitem><hr></x-menu></x-select></section><section id=\"category-section\"><h4>Category</h4><x-select id=\"category-select\"><x-menu id=\"category-menu\"><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><hr></x-menu></x-select></section><section id=\"subset-section\"><h4>Subset</h4><x-select id=\"subset-select\"><x-menu id=\"subset-menu\"><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><hr></x-menu></x-select></section></main></x-popover></x-button></x-box></footer></x-box></template>"]);_templateObject439=function _templateObject439(){return data;};return data;}function _templateObject438(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{width:100%;height:100%}#header{display:flex;width:100%;min-height:29px;padding:0 20px;align-items:center;box-sizing:border-box;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}#header h2{flex:1;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#header #colorhunt-anchor{font-size:11px}#main{flex:1;width:100%;height:100%;overflow:auto;position:relative}#items{width:100%;height:100%;padding:14px 20px;box-sizing:border-box;flex:1;overflow:auto;outline:0;contain:strict}#items .item{position:relative;display:flex;align-items:center;justify-content:center;width:100%;height:34px;margin-top:8px;border-width:1px;border-style:solid;touch-action:pan-y}#items .item:first-child{margin-top:0}#items .item[hidden]{display:none}#items .item[data-selected]{outline:2px solid var(--accent-color);border-color:var(--accent-color)}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#placeholder[hidden]{display:none}#item-popover{flex-flow:column;width:240px;min-height:80px;--align:left}#item-popover>main{box-sizing:border-box;padding:5px 13px}#item-popover>footer{padding:0 11px 10px;border-width:1px;border-style:solid}#item-popover #item-license{margin-top:2px}#item-popover #item-license-label,#item-popover #item-tags-label{font-weight:700;font-size:13px}#item-popover #item-license-value,#item-popover #item-tags-value{margin-top:3px;font-size:13px;line-height:1.15;word-wrap:break-word}#item-popover #item-colorhunt-anchor{display:block;margin-top:8px;cursor:default;text-decoration:none}#item-popover #item-colorhunt-button{width:100%}#item-popover #add-to-defs-button{width:100%;margin-top:8px}#item-popover #add-to-canvas-button{width:100%;margin-top:8px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#search-input{width:100%;max-width:none}"]);_templateObject438=function _templateObject438(){return data;};return data;}function _templateObject437(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Colors</h2><a id=\"colorhunt-anchor\" href=\"https://colorhunt.co\" target=\"_blank\">colorhunt.co</a></header><main id=\"main\" part=\"main\"><div id=\"items\" tabindex=\"0\"></div><div id=\"placeholder\" hidden></div><x-popover id=\"item-popover\"><main><div id=\"item-tags\"><span id=\"item-tags-label\">Tags:</span> <span id=\"item-tags-value\"></span></div><div id=\"item-license\"><span id=\"item-license-label\">License:</span> <span id=\"item-license-value\"><a href=\"","\" target=\"_blank\">Public Domain</a></span></div></main><footer part=\"footer\"><a id=\"item-colorhunt-anchor\" target=\"_blank\"><x-button id=\"item-colorhunt-button\"><x-label>View on Color Hunt</x-label></x-button></a><x-button id=\"add-to-defs-button\" toggled><x-label>Add to Defs</x-label></x-button><x-button id=\"add-to-canvas-button\" toggled><x-label>Add to Canvas</x-label></x-button></footer></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Search</x-label></x-input></x-box></footer></x-box></template>"]);_templateObject437=function _templateObject437(){return data;};return data;}function _templateObject436(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;flex-flow:column}#header{padding:16px 20px}#header h2{margin:0;line-height:1}#buttons{margin-top:10px}#buttons #markers-button{overflow:visible}#buttons #markers-button x-icon{overflow:visible}#main{display:flex;width:100%;height:100%;min-height:38px;flex:1}#main>*{flex:1}"]);_templateObject436=function _templateObject436(){return data;};return data;}function _templateObject435(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">Defs</h2><x-buttons id=\"buttons\" tracking=\"1\"><x-button id=\"colors-button\" skin=\"flat\" value=\"colors-browser\"><x-icon name=\"defs-colors\"></x-icon></x-button><x-button id=\"gradients-button\" skin=\"flat\" value=\"gradients-browser\"><x-icon name=\"defs-gradients\"></x-icon></x-button><x-button id=\"patterns-button\" skin=\"flat\" value=\"patterns-browser\"><x-icon name=\"defs-patterns\"></x-icon></x-button><x-button id=\"markers-button\" skin=\"flat\" value=\"markers-browser\"><x-icon name=\"defs-markers\"></x-icon></x-button><x-button id=\"symbols-button\" skin=\"flat\" value=\"symbols-browser\"><x-icon name=\"defs-symbols\"></x-icon></x-button><x-button id=\"filters-button\" skin=\"flat\" value=\"filters-browser\"><x-icon name=\"defs-filters\"></x-icon></x-button><x-button id=\"fonts-button\" skin=\"flat\" value=\"fonts-browser\"><x-icon name=\"defs-fonts\"></x-icon></x-button></x-buttons></header><main id=\"main\"><bx-colorsbrowser id=\"colors-browser\"></bx-colorsbrowser><bx-gradientsbrowser id=\"gradients-browser\"></bx-gradientsbrowser><bx-patternsbrowser id=\"patterns-browser\"></bx-patternsbrowser><bx-markersbrowser id=\"markers-browser\"></bx-markersbrowser><bx-symbolsbrowser id=\"symbols-browser\"></bx-symbolsbrowser><bx-filtersbrowser id=\"filters-browser\"></bx-filtersbrowser><bx-fontsbrowser id=\"fonts-browser\"></bx-fontsbrowser></main></template>"]);_templateObject435=function _templateObject435(){return data;};return data;}function _templateObject434(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.family-item{width:100%;position:relative;z-index:0}.family-item>.background{position:absolute;top:0;left:0;width:100%;height:38px;z-index:-1}.family-item[data-selected]>.background{background:var(--accent-color)}.family-item>.main{position:relative;z-index:1;display:flex;height:38px;align-items:center;box-sizing:border-box;padding-right:10px}.family-item>.main>.label{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:24px;font-weight:400}.family-item[data-selected]>.main>.label{color:#fff}.family-item[data-family-name-edited] .counter-button{display:none}.family-item .pin-button{margin-left:6px}.family-item .pin-button[toggled]{color:currentColor}.family-item[data-family-name-edited] .pin-button{display:none}.family-item .pin-button x-icon{width:16px;height:16px;opacity:.2}.family-item .pin-button[toggled] x-icon{opacity:.7}.font-items-outer{overflow:hidden}.font-items{transform-origin:0 0}.font-items[hidden]{display:none}.font-item{padding:0 28px 0 42px}.font-item[data-selected]{background:var(--accent-color);color:#fff}.family-item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;font-size:13px}.family-item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.family-item x-input x-label[hidden]{display:none}.family-item>.main>.arrow-button{width:27px;min-width:27px;height:20px;display:flex;align-items:center;justify-content:center}.family-item[data-selected]>.main>.arrow-button{color:#fff}.family-item>.main .arrow-icon{width:10px;height:10px;min-width:10px;transition:.2s transform ease-in-out;transform:rotate(-90deg)}.family-item[data-expanded]>.main .arrow-icon{transform:rotate(0)}.family-item path{fill:currentColor}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}"]);_templateObject434=function _templateObject434(){return data;};return data;}function _templateObject433(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Fonts</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No fonts found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"add-button\" title=\"New font\"><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-from-disk\" id=\"add-from-disk-menu-item\"><x-label>Add Fonts from Disk\u2026</x-label></x-menuitem><x-menuitem value=\"add-from-library\" id=\"add-from-library-menu-item\"><x-label>Add Fonts from Library\u2026</x-label></x-menuitem></x-menu><x-icon name=\"plus\"></x-icon></x-button></x-box></footer></x-box></template>"]);_templateObject433=function _templateObject433(){return data;};return data;}function _templateObject432(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:28px;height:28px;min-width:28px;overflow:hidden;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .thumbnail img{display:block;width:100%;height:100%;pointer-events:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#filter-inspector-popover{width:600px;height:400px;--align:left}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button>x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}#mirror-svg{width:0;height:0;display:block}"]);_templateObject432=function _templateObject432(){return data;};return data;}function _templateObject431(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Filters</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No filters found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div><x-popover id=\"filter-inspector-popover\"><bx-filterinspector id=\"filter-inspector\"></bx-filterinspector></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"New filter\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-filter\"><x-label>Add Filter</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box><svg id=\"mirror-svg\"></svg></template>"]);_templateObject431=function _templateObject431(){return data;};return data;}function _templateObject430(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;outline:0;contain:size layout style;--edge-color:#696869;--node-background-color:#d0d0d0;--node-foreground-color:#949494}#main{position:relative;box-sizing:border-box;overflow:hidden;flex:1}#graph-backdrop{fill:none;stroke:none}#graph-nodes .node{color:var(--node-foreground-color);transition:.2s transform linear}#graph-nodes .node[data-highlighted],#graph-nodes .node[data-selected]{color:var(--dark-accent-color)}#graph-nodes .node[data-disabled]{opacity:.5}#graph-nodes .node .background{fill:var(--node-background-color);stroke:currentColor;stroke-width:2px}#graph-nodes .node[data-highlighted] .background,#graph-nodes .node[data-selected] .background{fill:var(--accent-color)}#graph-nodes .node x-icon{width:100%;height:100%;color:currentColor}#graph-edges .edge-inline{fill:none;stroke:var(--edge-color);stroke-width:2px;stroke-linejoin:round;stroke-miterlimit:10;marker-end:url(#edge-marker);transition:.2s d linear}#graph-edges .edge[data-selected] .edge-inline{stroke:var(--accent-color);stroke-width:3px;marker-end:url(#selected-edge-marker)}#graph-edges .edge[data-disabled]{opacity:.3}#graph-edges .edge-outline{fill:none;stroke:transparent;stroke-width:12px;stroke-linejoin:round;stroke-miterlimit:10}#edge-marker{fill:var(--edge-color)}#selected-edge-marker{fill:var(--accent-color)}#graph-edges .label-text{font-size:11px;font-weight:700;display:none;color:#fff;background:var(--edge-color);font-family:inherit;text-align:center;vertical-align:middle;border-radius:12px;transition:.2s x linear,.2s y linear}#graph-edges .edge[data-selected] .label-text{background:var(--accent-color);display:initial}#graph-edges .edge[data-labeled] .label-text{display:initial}#graph-ghost-edge{fill:none;stroke:var(--accent-color);stroke-width:3px;stroke-linejoin:round;stroke-miterlimit:10;marker-end:url(#selected-edge-marker);pointer-events:none}#canvas-buttons{position:absolute;right:10px;bottom:10px}#zoom-button{border-radius:0;padding:0 10px}#zoom-button>x-icon{width:12px;height:12px}#add-primitive-button{border-radius:0;padding:0 10px}#add-primitive-button::part(arrow){display:none}#add-primitive-button>x-icon{width:12px;height:12px}#add-primitive-button>x-menu{--align:end}#sidebar{display:flex;flex-flow:column;width:220px;height:100%;min-width:220px;max-width:400px;box-sizing:border-box;border-left-width:1px;border-left-style:solid;position:relative}#sidebar-header{padding:10px;box-sizing:border-box;border-bottom-width:1px;border-bottom-style:solid}#sidebar-header>h2{margin:0;padding:0;font-size:21px}#sidebar-content{overflow:auto}#sidebar-content>p{padding:0 10px;font-size:13px}#sidebar-resize-grippie{position:absolute;top:0;left:-3px;width:6px;height:100%;z-index:9;background:0 0;cursor:col-resize}"]);_templateObject430=function _templateObject430(){return data;};return data;}function _templateObject429(){var data=_taggedTemplateLiteral(["<template><main id=\"main\" part=\"main\"><svg id=\"canvas\" width=\"1440px\" height=\"900px\" viewBox=\"0 0 1440 900\" preserveAspectRatio=\"none\"><defs><marker id=\"edge-marker\" viewBox=\"0 0 100 100\" orient=\"auto\" refX=\"100\" refY=\"50\" markerUnits=\"userSpaceOnUse\" markerWidth=\"12\" markerHeight=\"12\"><path d=\"M 100 50 L 0 0 L 0 100 L 100 50 Z\"></path></marker><marker id=\"selected-edge-marker\" viewBox=\"0 0 100 100\" orient=\"auto\" refX=\"100\" refY=\"50\" markerUnits=\"userSpaceOnUse\" markerWidth=\"12\" markerHeight=\"12\"><path d=\"M 100 50 L 0 0 L 0 100 L 100 50 Z\"></path></marker></defs><g id=\"graph-group\"><rect id=\"graph-backdrop\"></rect><g id=\"graph-edges\"></g><g id=\"graph-nodes\"></g></g></svg><x-buttons id=\"canvas-buttons\"><x-button id=\"zoom-button\" title=\"Zoom to fit all primitives\" condensed><x-icon name=\"zoom\"></x-icon></x-button><x-button id=\"add-primitive-button\" title=\"Add primitive\" condensed><x-icon name=\"plus\"></x-icon><x-menu id=\"add-primitive-menu\" title=\"\"><x-menuitem value=\"SourceGraphic\" id=\"source-graphic-menu-item\"><x-icon name=\"filter-source-graphic\"></x-icon><x-label>Source Graphic</x-label></x-menuitem><x-menuitem value=\"SourceAlpha\" id=\"source-alpha-menu-item\"><x-icon name=\"filter-source-alpha\"></x-icon><x-label>Source Alpha</x-label></x-menuitem><hr><x-menuitem value=\"feBlend\"><x-icon name=\"filter-blend\"></x-icon><x-label>Blend</x-label></x-menuitem><x-menuitem value=\"feComposite\"><x-icon name=\"filter-composite\"></x-icon><x-label>Composite</x-label></x-menuitem><x-menuitem value=\"feMerge\"><x-icon name=\"filter-merge\"></x-icon><x-label>Merge</x-label></x-menuitem><hr><x-menuitem value=\"feFlood\"><x-icon name=\"filter-flood\"></x-icon><x-label>Flood</x-label></x-menuitem><x-menuitem value=\"feImage\"><x-icon name=\"filter-image\"></x-icon><x-label>Image</x-label></x-menuitem><x-menuitem value=\"feTile\"><x-icon name=\"filter-tile\"></x-icon><x-label>Tile</x-label></x-menuitem><x-menuitem value=\"feTurbulence\"><x-icon name=\"filter-turbulence\"></x-icon><x-label>Turbulence</x-label></x-menuitem><hr><x-menuitem value=\"feColorMatrix\"><x-icon name=\"filter-color-matrix\"></x-icon><x-label>Color Matrix</x-label></x-menuitem><x-menuitem value=\"feComponentTransfer\"><x-icon name=\"filter-component-transfer\"></x-icon><x-label>Component Transfer</x-label></x-menuitem><hr><x-menuitem value=\"feConvolveMatrix\"><x-icon name=\"filter-convolve-matrix\"></x-icon><x-label>Convolve Matrix</x-label></x-menuitem><x-menuitem value=\"feDisplacementMap\"><x-icon name=\"filter-displacement-map\"></x-icon><x-label>Displacement Map</x-label></x-menuitem><x-menuitem value=\"feGaussianBlur\"><x-icon name=\"filter-gaussian-blur\"></x-icon><x-label>Gaussian Blur</x-label></x-menuitem><x-menuitem value=\"feMorphology\"><x-icon name=\"filter-morphology\"></x-icon><x-label>Morphology</x-label></x-menuitem><x-menuitem value=\"feDropShadow\"><x-icon name=\"filter-drop-shadow\"></x-icon><x-label>Drop Shadow</x-label></x-menuitem><x-menuitem value=\"feOffset\"><x-icon name=\"filter-offset\"></x-icon><x-label>Offset</x-label></x-menuitem><hr><x-menuitem value=\"feSpecularLighting\"><x-icon name=\"filter-lighting\"></x-icon><x-label>Specular Lighting</x-label></x-menuitem><x-menuitem value=\"feDiffuseLighting\"><x-icon name=\"filter-lighting\"></x-icon><x-label>Diffuse Lighting</x-label></x-menuitem></x-menu></x-button></x-buttons></main><aside id=\"sidebar\" part=\"sidebar\"><div id=\"sidebar-header\" part=\"sidebar-header\"><h2 id=\"sidebar-heading\"></h2></div><div id=\"sidebar-content\"></div><div id=\"sidebar-resize-grippie\"></div></aside></template>"]);_templateObject429=function _templateObject429(){return data;};return data;}function _templateObject428(){var data=_taggedTemplateLiteral(["#constant-section h4{margin-bottom:0}#constant-slider{flex:1}#constant-input{margin-left:6px;width:54px}"]);_templateObject428=function _templateObject428(){return data;};return data;}function _templateObject427(){var data=_taggedTemplateLiteral(["<template><section id=\"constant-section\"><h4>Diffuse constant</h4><x-box id=\"constant-box\"><x-slider id=\"constant-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"constant-input\" value=\"0\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject427=function _templateObject427(){return data;};return data;}function _templateObject426(){var data=_taggedTemplateLiteral(["#constant-section h4{margin-bottom:0}#constant-slider{flex:1}#constant-input{margin-left:6px;width:54px}#exponent-section h4{margin-bottom:0}#exponent-slider{flex:1}#exponent-input{margin-left:6px;width:54px}"]);_templateObject426=function _templateObject426(){return data;};return data;}function _templateObject425(){var data=_taggedTemplateLiteral(["<template><section id=\"constant-section\"><h4>Specular constant</h4><x-box id=\"constant-box\"><x-slider id=\"constant-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"0.1\"></x-slider><x-numberinput id=\"constant-input\" value=\"0\" min=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"exponent-section\"><h4>Specular exponent</h4><x-box id=\"exponent-box\"><x-slider id=\"exponent-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"exponent-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject425=function _templateObject425(){return data;};return data;}function _templateObject424(){var data=_taggedTemplateLiteral(["#surface-scale-section h4{margin-bottom:0}#surface-scale-slider{flex:1}#surface-scale-input{margin-left:6px;width:54px}#color-select x-popover{--align:right}#source-type-buttons{width:100%}#source-type-buttons x-button{flex:1}#source-position-subsection x-numberinput{width:100%}#source-position-x-box,#source-position-y-box,#source-position-z-box{flex:1}#source-position-y-box{margin:0 4px}#source-target-subsection x-numberinput{width:100%}#source-target-x-box,#source-target-y-box,#source-target-z-box{flex:1}#source-target-y-box{margin:0 4px}#source-cone-subsection h5{margin-bottom:0}#source-cone-slider{flex:1}#source-cone-input{margin-left:6px;width:54px}#source-exponent-subsection h5{margin-bottom:0}#source-exponent-slider{flex:1}#source-exponent-input{margin-left:6px;width:54px}#source-azimuth-subsection h5{margin-bottom:0}#source-azimuth-slider{flex:1}#source-azimuth-input{margin-left:6px;width:54px}#source-elevation-subsection h5{margin-bottom:0}#source-elevation-slider{flex:1}#source-elevation-input{margin-left:6px;width:54px}"]);_templateObject424=function _templateObject424(){return data;};return data;}function _templateObject423(){var data=_taggedTemplateLiteral(["<template><section id=\"surface-scale-section\"><h4>Surface scale</h4><x-box id=\"surface-scale-box\"><x-slider id=\"surface-scale-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"surface-scale-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4>Color</h4><x-colorselect id=\"color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section><hr><section id=\"source-section\"><h4>Light source</h4><section id=\"source-type-subsection\"><h5>Type</h5><x-buttons id=\"source-type-buttons\" tracking=\"1\"><x-button value=\"fePointLight\" toggled><x-label>Point</x-label></x-button><x-button value=\"feSpotLight\"><x-label>Spot</x-label></x-button><x-button value=\"feDistantLight\"><x-label>Distant</x-label></x-button></x-buttons></section><section id=\"source-position-subsection\"><x-box><x-box id=\"source-position-x-box\" vertical><h5>X</h5><x-numberinput id=\"source-position-x-input\" value=\"0\" data-name=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-position-y-box\" vertical><h5>Y</h5><x-numberinput id=\"source-position-y-input\" value=\"0\" data-name=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-position-z-box\" vertical><h5>Z</h5><x-numberinput id=\"source-position-z-input\" value=\"0\" data-name=\"z\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"source-target-subsection\"><x-box><x-box id=\"source-target-x-box\" vertical><h5>Target X</h5><x-numberinput id=\"source-target-x-input\" value=\"0\" data-name=\"pointsAtX\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-target-y-box\" vertical><h5>Target Y</h5><x-numberinput id=\"source-target-y-input\" value=\"0\" data-name=\"pointsAtY\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-target-z-box\" vertical><h5>Target Z</h5><x-numberinput id=\"source-target-z-input\" value=\"0\" data-name=\"pointsAtZ\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"source-cone-subsection\"><h5>Limiting cone angle</h5><x-box id=\"source-cone-box\"><x-slider id=\"source-cone-slider\" value=\"0\" min=\"0\" max=\"360\" step=\"1\"></x-slider><x-numberinput id=\"source-cone-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"source-exponent-subsection\"><h5>Specular exponent</h5><x-box id=\"source-exponent-box\"><x-slider id=\"source-exponent-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"source-exponent-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"source-azimuth-subsection\"><h5>Azimuth</h5><x-box id=\"source-azimuth-box\"><x-slider id=\"source-azimuth-slider\" value=\"0\" min=\"0\" max=\"360\" step=\"1\"></x-slider><x-numberinput id=\"source-azimuth-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"source-elevation-subsection\"><h5>Elevation</h5><x-box id=\"source-elevation-box\"><x-slider id=\"source-elevation-slider\" value=\"0\" min=\"0\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"source-elevation-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section></template>"]);_templateObject423=function _templateObject423(){return data;};return data;}function _templateObject422(){var data=_taggedTemplateLiteral(["#delta-section x-label{margin-bottom:3px;font-size:12px}#delta-section x-numberinput{width:100%}#delta-section #x-box,#delta-section #y-box{flex:1}#delta-section #x-box{margin-right:7px}#delta-section #y-box{margin-left:7px}"]);_templateObject422=function _templateObject422(){return data;};return data;}function _templateObject421(){var data=_taggedTemplateLiteral(["<template><section id=\"delta-section\"><h4>Delta</h4><x-box><x-box id=\"x-box\" vertical><x-label>X</x-label><x-numberinput id=\"x-input\" value=\"0\" data-name=\"dx\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"y-input\" value=\"0\" data-name=\"dy\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject421=function _templateObject421(){return data;};return data;}function _templateObject420(){var data=_taggedTemplateLiteral(["#deviation-section x-label{margin-bottom:3px;font-size:12px}#deviation-section x-numberinput{width:100%}#deviation-x-box,#deviation-y-box{flex:1}#deviation-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#deviation-lock-button[toggled]{opacity:.9}#deviation-lock-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#offset-section x-label{margin-bottom:3px;font-size:12px}#offset-section x-numberinput{width:100%}#offset-x-box,#offset-y-box{flex:1}#offset-x-box{margin-right:13px}#offset-y-box{margin-left:13px}#color-select x-popover{--align:right}#opacity-section h4{margin-bottom:0}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}"]);_templateObject420=function _templateObject420(){return data;};return data;}function _templateObject419(){var data=_taggedTemplateLiteral(["<template><section id=\"deviation-section\"><h4>Standard deviation</h4><x-box><x-box id=\"deviation-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"deviation-x-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"deviation-lock-button\" togglable skin=\"flat\"><x-icon id=\"deviation-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"deviation-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"deviation-y-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"offset-section\"><h4>Offset</h4><x-box><x-box id=\"offset-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"offset-x-input\" value=\"0\" data-name=\"dx\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"offset-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"offset-y-input\" value=\"0\" data-name=\"dy\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"color-section\"><h4>Color</h4><x-colorselect id=\"color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section><section id=\"opacity-section\"><h4>Opacity</h4><x-box id=\"opacity-box\"><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject419=function _templateObject419(){return data;};return data;}function _templateObject418(){var data=_taggedTemplateLiteral(["#operator-buttons{width:100%}#operator-buttons x-button{flex:1}#radius-section x-label{margin-bottom:3px;font-size:12px}#radius-section x-numberinput{width:100%}#radius-x-box,#radius-y-box{flex:1}#radius-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#radius-lock-button[toggled]{opacity:.9}#radius-lock-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject418=function _templateObject418(){return data;};return data;}function _templateObject417(){var data=_taggedTemplateLiteral(["<template><section id=\"operator-section\"><h4>Operator</h4><x-buttons id=\"operator-buttons\" tracking=\"1\"><x-button value=\"erode\" toggled><x-label>Erode</x-label></x-button><x-button value=\"dilate\"><x-label>Dilate</x-label></x-button></x-buttons></section><section id=\"radius-section\"><h4>Radius</h4><x-box><x-box id=\"radius-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"radius-x-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"radius-lock-button\" togglable skin=\"flat\"><x-icon id=\"radius-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"radius-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"radius-y-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject417=function _templateObject417(){return data;};return data;}function _templateObject416(){var data=_taggedTemplateLiteral(["#deviation-section x-label{margin-bottom:3px;font-size:12px}#deviation-section x-numberinput{width:100%}#deviation-x-box,#deviation-y-box{flex:1}#deviation-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#deviation-lock-button[toggled]{opacity:.9}#deviation-lock-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject416=function _templateObject416(){return data;};return data;}function _templateObject415(){var data=_taggedTemplateLiteral(["<template><section id=\"deviation-section\"><h4>Standard deviation</h4><x-box><x-box id=\"deviation-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"deviation-x-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"deviation-lock-button\" togglable skin=\"flat\"><x-icon id=\"deviation-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"deviation-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"deviation-y-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject415=function _templateObject415(){return data;};return data;}function _templateObject414(){var data=_taggedTemplateLiteral(["#scale-section h4{margin-bottom:0}#scale-slider{flex:1}#scale-input{margin-left:6px;width:54px}#x-channel-buttons{width:100%}#x-channel-buttons x-button{flex:1}#y-channel-buttons{width:100%}#y-channel-buttons x-button{flex:1}"]);_templateObject414=function _templateObject414(){return data;};return data;}function _templateObject413(){var data=_taggedTemplateLiteral(["<template><section id=\"scale-section\"><h4>Scale</h4><x-box id=\"scale-box\"><x-slider id=\"scale-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"scale-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"x-channel-section\"><h4>X channel</h4><x-buttons id=\"x-channel-buttons\" tracking=\"1\"><x-button value=\"R\"><x-label>R</x-label></x-button><x-button value=\"G\"><x-label>G</x-label></x-button><x-button value=\"B\"><x-label>B</x-label></x-button><x-button value=\"A\" toggled><x-label>A</x-label></x-button></x-buttons></section><section id=\"y-channel-section\"><h4>Y channel</h4><x-buttons id=\"y-channel-buttons\" tracking=\"1\"><x-button value=\"R\"><x-label>R</x-label></x-button><x-button value=\"G\"><x-label>G</x-label></x-button><x-button value=\"B\"><x-label>B</x-label></x-button><x-button value=\"A\" toggled><x-label>A</x-label></x-button></x-buttons></section></template>"]);_templateObject413=function _templateObject413(){return data;};return data;}function _templateObject412(){var data=_taggedTemplateLiteral(["#kernel-values-table{display:block;margin-top:8px;--order-x:3;--order-y:3}#kernel-values-table .row-box{margin-top:-1px}#kernel-values-table .row-box:first-child{margin-top:0}#kernel-values-table x-numberinput{margin-left:-1px;text-align:center;min-width:calc(100% / var(--order-x));flex:1}#kernel-values-table x-numberinput:first-child{margin-left:0}#kernel-values-table x-numberinput[data-target=true]{background:#f5f4ce}#kernel-buttons-box{margin-top:5px}#kernel-buttons-box x-icon{width:13px;height:13px;opacity:.8}#kernel-column-buttons{margin-left:auto}#target-section x-label{margin-bottom:3px;font-size:12px}#target-section x-numberinput{width:100%}#target-x-box,#target-y-box{flex:1}#target-x-box{margin-right:7px}#target-y-box{margin-left:7px}#divisor-section h4{margin-bottom:0}#divisor-switch{margin:0}#divisor-box{margin-top:6px}#divisor-slider{flex:1}#divisor-input{margin-left:6px;width:54px}#bias-section h4{margin-bottom:0}#bias-slider{flex:1}#bias-input{margin-left:6px;width:54px}#edge-mode-buttons{width:100%}#edge-mode-buttons x-button{flex:1}#preserve-section x-checkbox{margin:5px 0}"]);_templateObject412=function _templateObject412(){return data;};return data;}function _templateObject411(){var data=_taggedTemplateLiteral(["<template><section id=\"kernel-section\"><h4>Kernel</h4><div id=\"kernel-values-table\"></div><x-box id=\"kernel-buttons-box\"><x-buttons id=\"kernel-row-buttons\"><x-button id=\"kernel-remove-row-button\" value=\"row-remove\" skin=\"mini-bordered\"><x-icon name=\"chevron-up\"></x-icon></x-button><x-button id=\"kernel-add-row-button\" value=\"row-add\" skin=\"mini-bordered\"><x-icon name=\"chevron-down\"></x-icon></x-button></x-buttons><x-buttons id=\"kernel-column-buttons\"><x-button id=\"kernel-remove-column-button\" value=\"column-remove\" skin=\"mini-bordered\"><x-icon name=\"chevron-left\"></x-icon></x-button><x-button id=\"kernel-add-column-button\" value=\"column-add\" skin=\"mini-bordered\"><x-icon name=\"chevron-right\"></x-icon></x-button></x-buttons></x-box></section><section id=\"target-section\"><h4>Target</h4><x-box id=\"target-box\"><x-box id=\"target-x-box\" vertical><x-label id=\"target-x-label\">X</x-label><x-numberinput id=\"target-x-input\" data-name=\"targetX\" value=\"1\" min=\"0\" max=\"","\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"target-y-box\" vertical><x-label id=\"target-y-label\">Y</x-label><x-numberinput id=\"target-y-input\" data-name=\"targetY\" value=\"1\" min=\"0\" max=\"","\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"divisor-section\"><x-box><h4 id=\"divisor-heading\">Divisor</h4><x-switch id=\"divisor-switch\" size=\"smaller\" toggled></x-switch></x-box><x-box id=\"divisor-box\"><x-slider id=\"divisor-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"divisor-input\" value=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"bias-section\"><h4>Bias</h4><x-box id=\"bias-box\"><x-slider id=\"bias-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"bias-input\" value=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"edge-mode-section\"><h4>Edge mode</h4><x-buttons id=\"edge-mode-buttons\" tracking=\"1\"><x-button value=\"duplicate\" condensed toggled><x-label>Duplicate</x-label></x-button><x-button value=\"wrap\" condensed><x-label>Wrap</x-label></x-button><x-button value=\"none\" condensed><x-label>None</x-label></x-button></x-buttons></section><section id=\"preserve-section\"><h4>Preserve</h4><x-checkbox id=\"preserve-alpha-checkbox\" toggled><x-label>Alpha</x-label></x-checkbox></section></template>"]);_templateObject411=function _templateObject411(){return data;};return data;}function _templateObject410(){var data=_taggedTemplateLiteral(["#component-buttons{width:100%;margin-top:8px}#component-buttons x-button{flex:1}#type-select{width:100%}#linear-slope-section h4{margin-bottom:0}#linear-slope-slider{flex:1}#linear-slope-input{margin-left:6px;width:54px}#linear-intercept-section h4{margin-bottom:0}#linear-intercept-slider{flex:1}#linear-intercept-input{margin-left:6px;width:54px}#gamma-amplitude-section h4{margin-bottom:0}#gamma-amplitude-slider{flex:1}#gamma-amplitude-input{margin-left:6px;width:54px}#gamma-exponent-section h4{margin-bottom:0}#gamma-exponent-slider{flex:1}#gamma-exponent-input{margin-left:6px;width:54px}#gamma-offset-section h4{margin-bottom:0}#gamma-offset-slider{flex:1}#gamma-offset-input{margin-left:6px;width:54px}#table-values-box{margin-top:1px;flex-wrap:wrap}#table-values-section x-numberinput{margin-top:-1px;margin-left:-1px;width:auto;min-width:calc(20% + 1px);text-align:center}"]);_templateObject410=function _templateObject410(){return data;};return data;}function _templateObject409(){var data=_taggedTemplateLiteral(["<template><section id=\"component-section\"><h4>Component</h4><x-buttons id=\"component-buttons\" tracking=\"1\"><x-button value=\"feFuncR\" condensed toggled><x-label>Red</x-label></x-button><x-button value=\"feFuncG\" condensed><x-label>Green</x-label></x-button><x-button value=\"feFuncB\" condensed><x-label>Blue</x-label></x-button><x-button value=\"feFuncA\" condensed><x-label>Alpha</x-label></x-button></x-buttons></section><section id=\"type-section\"><h4>Type</h4><x-select id=\"type-select\"><x-menu><x-menuitem value=\"identity\" toggled><x-label>Identity</x-label></x-menuitem><x-menuitem value=\"linear\"><x-label>Linear</x-label></x-menuitem><x-menuitem value=\"gamma\"><x-label>Gamma</x-label></x-menuitem><x-menuitem value=\"table\"><x-label>Table</x-label></x-menuitem><x-menuitem value=\"discrete\"><x-label>Discrete table</x-label></x-menuitem></x-menu></x-select></section><section id=\"linear-slope-section\" hidden><h4>Slope</h4><x-box id=\"linear-slope-box\"><x-slider id=\"linear-slope-slider\" value=\"1\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"linear-slope-input\" value=\"1\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"linear-intercept-section\" hidden><h4>Intercept</h4><x-box id=\"linear-intercept-box\"><x-slider id=\"linear-intercept-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"linear-intercept-input\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"gamma-amplitude-section\" hidden><h4>Amplitude</h4><x-box id=\"gamma-amplitude-box\"><x-slider id=\"gamma-amplitude-slider\" value=\"1\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"gamma-amplitude-input\" value=\"1\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"gamma-exponent-section\" hidden><h4>Exponent</h4><x-box id=\"gamma-exponent-box\"><x-slider id=\"gamma-exponent-slider\" value=\"1\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"gamma-exponent-input\" value=\"1\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"gamma-offset-section\" hidden><h4>Offset</h4><x-box id=\"gamma-offset-box\"><x-slider id=\"gamma-offset-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"gamma-offset-input\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"table-values-section\" hidden><h4>Values</h4><x-box id=\"table-values-box\"><x-numberinput value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed></x-numberinput><x-numberinput value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed></x-numberinput><x-numberinput min=\"0\" max=\"1\" step=\"0.01\" condensed></x-numberinput></x-box></section></template>"]);_templateObject409=function _templateObject409(){return data;};return data;}function _templateObject408(){var data=_taggedTemplateLiteral(["#type-select{width:100%}#matrix-values-section .row-box{margin-top:-1px}#matrix-values-section .row-box:first-child{margin-top:0}#matrix-values-section x-numberinput{min-width:calc(100%/5);margin-left:-1px;text-align:center}#matrix-values-section x-numberinput:first-child{margin-left:0}#saturate-value-section h4{margin-bottom:0}#saturate-value-section x-box{width:100%}#saturate-value-section x-slider{flex:1}#saturate-value-section x-numberinput{width:60px;margin-left:10px}#hue-rotate-value-section h4{margin-bottom:0}#hue-rotate-value-section x-box{width:100%}#hue-rotate-value-section x-slider{flex:1}#hue-rotate-value-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject408=function _templateObject408(){return data;};return data;}function _templateObject407(){var data=_taggedTemplateLiteral(["<template><section id=\"type-section\"><h4>Type</h4><x-select id=\"type-select\"><x-menu><x-menuitem value=\"matrix\" toggled><x-label>Matrix</x-label></x-menuitem><x-menuitem value=\"saturate\"><x-label>Saturate</x-label></x-menuitem><x-menuitem value=\"hueRotate\"><x-label>Hue rotate</x-label></x-menuitem><x-menuitem value=\"luminanceToAlpha\"><x-label>Luminance to alpha</x-label></x-menuitem></x-menu></x-select></section><section id=\"matrix-values-section\"><h4>Values</h4><x-box class=\"row-box\"><x-numberinput id=\"matrix-0-input\" value=\"1\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-1-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-2-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-3-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-4-input\" value=\"0\" step=\"0.01\"></x-numberinput></x-box><x-box class=\"row-box\"><x-numberinput id=\"matrix-5-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-6-input\" value=\"1\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-7-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-8-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-9-input\" value=\"0\" step=\"0.01\"></x-numberinput></x-box><x-box class=\"row-box\"><x-numberinput id=\"matrix-10-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-11-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-12-input\" value=\"1\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-13-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-14-input\" value=\"0\" step=\"0.01\"></x-numberinput></x-box><x-box class=\"row-box\"><x-numberinput id=\"matrix-15-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-16-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-17-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-18-input\" value=\"1\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-19-input\" value=\"0\" step=\"0.01\"></x-numberinput></x-box><x-box class=\"row-box\"><x-numberinput id=\"matrix-20-input\" value=\"0\" step=\"0.01\" disabled=\"disabled\"></x-numberinput><x-numberinput id=\"matrix-21-input\" value=\"0\" step=\"0.01\" disabled=\"disabled\"></x-numberinput><x-numberinput id=\"matrix-22-input\" value=\"0\" step=\"0.01\" disabled=\"disabled\"></x-numberinput><x-numberinput id=\"matrix-23-input\" value=\"0\" step=\"0.01\" disabled=\"disabled\"></x-numberinput><x-numberinput id=\"matrix-24-input\" value=\"1\" step=\"0.01\" disabled=\"disabled\"></x-numberinput></x-box></section><section id=\"saturate-value-section\"><h4>Value</h4><x-box id=\"saturate-value-box\"><x-slider id=\"saturate-value-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"saturate-value-input\" value=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"hue-rotate-value-section\"><h4 id=\"hue-rotate-value-heading\">Value</h4><x-box id=\"hue-rotate-value-box\"><x-slider id=\"hue-rotate-value-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"hue-rotate-value-input\" value=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject407=function _templateObject407(){return data;};return data;}function _templateObject406(){var data=_taggedTemplateLiteral(["#type-buttons{width:100%}#type-buttons x-button{flex:1}#frequency-section #frequency-value-box x-label{margin-bottom:3px;font-size:12px}#frequency-section #frequency-value-box x-numberinput{width:100%}#frequency-x-box,#frequency-y-box{flex:1}#frequency-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#frequency-lock-button[toggled]{opacity:.9}#frequency-lock-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#frequency-stitch-checkbox{margin-top:8px}#frequency-stitch-checkbox x-label{font-size:12px}#octaves-section h4{margin-bottom:0}#octaves-slider{flex:1}#octaves-input{margin-left:6px;width:54px}#seed-section h4{margin-bottom:0}#seed-slider{flex:1}#seed-input{margin-left:6px;width:54px}"]);_templateObject406=function _templateObject406(){return data;};return data;}function _templateObject405(){var data=_taggedTemplateLiteral(["<template><section id=\"type-section\"><h4>Type</h4><x-buttons id=\"type-buttons\" tracking=\"1\"><x-button value=\"turbulence\" toggled><x-label>Turbulence</x-label></x-button><x-button value=\"fractalNoise\"><x-label>Noise</x-label></x-button></x-buttons></section><section id=\"frequency-section\"><h4>Base frequency</h4><x-box id=\"frequency-value-box\"><x-box id=\"frequency-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"frequency-x-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"frequency-lock-button\" togglable skin=\"flat\"><x-icon id=\"frequency-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"frequency-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"frequency-y-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-checkbox id=\"frequency-stitch-checkbox\"><x-label>Stitch tiles</x-label></x-checkbox></section><section id=\"octaves-section\"><h4>Number of octaves</h4><x-box id=\"octaves-box\"><x-slider id=\"octaves-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"1\"></x-slider><x-numberinput id=\"octaves-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-section\"><h4>Seed</h4><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject405=function _templateObject405(){return data;};return data;}function _templateObject404(){var data=_taggedTemplateLiteral(["#source-thumbnail{width:54px;height:54px;min-width:54px;margin-right:8px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#source-thumbnail-img{display:block;width:100%;height:100%;pointer-events:none;visibility:hidden}#source-thumbnail-img[src]{visibility:visible}#source-column-right{flex:1}#source-href-input{max-width:none}#source-import-button{margin-top:8px;width:100%}"]);_templateObject404=function _templateObject404(){return data;};return data;}function _templateObject403(){var data=_taggedTemplateLiteral(["<template><section id=\"source-section\"><h4>Source</h4><x-box><div id=\"source-thumbnail\" part=\"thumbnail\" class=\"left\"><img id=\"source-thumbnail-img\"></div><div id=\"source-column-right\"><x-input id=\"source-href-input\"><x-label>Href</x-label></x-input><x-button id=\"source-import-button\" toggled><x-label>Import from Disk</x-label></x-button></div></x-box></section></template>"]);_templateObject403=function _templateObject403(){return data;};return data;}function _templateObject402(){var data=_taggedTemplateLiteral(["#color-select x-popover{--align:right}#opacity-section h4{margin-bottom:0}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}"]);_templateObject402=function _templateObject402(){return data;};return data;}function _templateObject401(){var data=_taggedTemplateLiteral(["<template><section id=\"color-section\"><h4>Color</h4><x-colorselect id=\"color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section><section id=\"opacity-section\"><h4>Opacity</h4><x-box id=\"opacity-box\"><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject401=function _templateObject401(){return data;};return data;}function _templateObject400(){var data=_taggedTemplateLiteral(["#operator-select{width:100%}#parameters-section x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#parameters-section x-numberinput{width:100%}#parameters-section #k1-box,#parameters-section #k2-box,#parameters-section #k3-box,#parameters-section #k4-box{flex:1;min-width:0}#parameters-section #k2-box,#parameters-section #k3-box,#parameters-section #k4-box{margin-left:4px}"]);_templateObject400=function _templateObject400(){return data;};return data;}function _templateObject399(){var data=_taggedTemplateLiteral(["<template><section id=\"operator-section\"><h4>Operator</h4><x-select id=\"operator-select\"><x-menu><x-menuitem value=\"over\" toggled><x-label>Over</x-label></x-menuitem><x-menuitem value=\"in\"><x-label>In</x-label></x-menuitem><x-menuitem value=\"atop\"><x-label>Atop</x-label></x-menuitem><x-menuitem value=\"out\"><x-label>Out</x-label></x-menuitem><x-menuitem value=\"xor\"><x-label>Xor</x-label></x-menuitem><x-menuitem value=\"arithmetic\"><x-label>Arithmetic</x-label></x-menuitem></x-menu></x-select></section><section id=\"parameters-section\" hidden><h4 id=\"parameters-heading\">Parameters</h4><x-box id=\"parameters-box\"><x-box id=\"k1-box\" vertical><x-label id=\"k1-heading\">k1</x-label><x-numberinput id=\"k1-input\" value=\"0\" step=\"0.1\" data-parameter=\"k1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"k2-box\" vertical><x-label id=\"k2-heading\">k2</x-label><x-numberinput id=\"k2-input\" value=\"0\" step=\"0.1\" data-parameter=\"k2\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"k3-box\" vertical><x-label id=\"k3-heading\">k3</x-label><x-numberinput id=\"k3-input\" value=\"0\" step=\"0.1\" data-parameter=\"k3\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"k4-box\" vertical><x-label id=\"k4-heading\">k4</x-label><x-numberinput id=\"k4-input\" value=\"0\" step=\"0.1\" data-parameter=\"k4\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject399=function _templateObject399(){return data;};return data;}function _templateObject398(){var data=_taggedTemplateLiteral(["#blend-mode-select{width:100%}"]);_templateObject398=function _templateObject398(){return data;};return data;}function _templateObject397(){var data=_taggedTemplateLiteral(["<template><section id=\"blend-mode-section\"><h4>Blend Mode</h4><x-select id=\"blend-mode-select\"><x-menu><x-menuitem value=\"normal\"><x-label>Normal</x-label></x-menuitem><x-menuitem value=\"multiply\"><x-label>Multiply</x-label></x-menuitem><x-menuitem value=\"screen\"><x-label>Screen</x-label></x-menuitem><x-menuitem value=\"darken\" toggled><x-label>Darken</x-label></x-menuitem><x-menuitem value=\"lighten\"><x-label>Lighten</x-label></x-menuitem></x-menu></x-select></section></template>"]);_templateObject397=function _templateObject397(){return data;};return data;}function _templateObject396(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%}:host([hidden]){display:none}#main{padding:10px 0;box-sizing:border-box}#main h5{margin:0 0 4px 0;font-size:12px;font-weight:400}#main>section{padding:0 10px}#main>section+section{margin-top:14px}#main>section>section+section{margin-top:14px}#main>hr{margin:14px 0}#main>hr:first-child{display:none}#subregion-section{position:relative}#subregion-section>x-box{justify-content:space-between}#subregion-section>x-box:not(:first-child){margin-top:8px}#subregion-section>x-box>x-box{width:calc(50% - 13px)}#subregion-section x-box>x-box>x-numberinput{width:100%}#subregion-lock-button{position:absolute;left:50%;bottom:0;transform:translateX(-50%);color:currentColor;opacity:.5}#subregion-lock-button[toggled]{opacity:.9}#subregion-lock-button x-icon{width:18px;height:18px}"]);_templateObject396=function _templateObject396(){return data;};return data;}function _templateObject395(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><hr><section id=\"subregion-section\"><h4>Subregion</h4><x-box><x-box id=\"subregion-x-box\" vertical><h5>X</h5><x-numberinput id=\"subregion-x-input\" condensed><x-label>Auto</x-label><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"subregion-y-box\" vertical><h5>Y</h5><x-numberinput id=\"subregion-y-input\" condensed><x-label>Auto</x-label><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box><x-box id=\"subregion-width-box\" vertical><h5>Width</h5><x-numberinput id=\"subregion-width-input\" min=\"0\" condensed><x-label>Auto</x-label><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"subregion-lock-button\" togglable skin=\"flat\"><x-icon id=\"subregion-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"subregion-height-box\" vertical><h5>Height</h5><x-numberinput id=\"subregion-height-input\" min=\"0\" condensed><x-label>Auto</x-label><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></main></template>"]);_templateObject395=function _templateObject395(){return data;};return data;}function _templateObject394(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#main{padding:10px 0;box-sizing:border-box}#main>section{padding:0 10px}#slot-buttons{width:100%}#slot-buttons>x-button{flex:1}"]);_templateObject394=function _templateObject394(){return data;};return data;}function _templateObject393(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"slot-section\"><h4>Input slot</h4><x-buttons id=\"slot-buttons\" tracking=\"1\"><x-button value=\"1\" condensed toggled><x-label>1</x-label></x-button><x-button value=\"2\" condensed><x-label>2</x-label></x-button><x-button value=\"3\" condensed><x-label>3</x-label></x-button></x-buttons></section></main></template>"]);_templateObject393=function _templateObject393(){return data;};return data;}function _templateObject392(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#main{padding:10px 0;box-sizing:border-box}#main>section{padding:0 10px}#main>section+section{margin-top:14px}#main>hr{margin:14px 0}#filter-units-select{width:100%}#primitive-units-select{width:100%}#region-section{position:relative}#region-section>x-box{justify-content:space-between}#region-section>x-box:not(:first-child){margin-top:8px}#region-section>x-box>x-box{width:calc(50% - 13px)}#region-section>x-box>x-box>x-label{margin-bottom:3px;font-size:12px}#region-section x-box>x-box>x-numberinput{width:100%}#region-lock-button{position:absolute;left:50%;bottom:0;transform:translateX(-50%);color:currentColor;opacity:.5}#region-lock-button[toggled]{opacity:.9}#region-lock-button x-icon{width:18px;height:18px}"]);_templateObject392=function _templateObject392(){return data;};return data;}function _templateObject391(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"filter-units-section\"><h4>Filter units</h4><x-select id=\"filter-units-select\"><x-menu><x-menuitem value=\"objectBoundingBox\" toggled><x-label>Object bounding box</x-label></x-menuitem><x-menuitem value=\"userSpaceOnUse\"><x-label>User space on use</x-label></x-menuitem></x-menu></x-select></section><section id=\"primitive-units-section\"><h4>Primitive units</h4><x-select id=\"primitive-units-select\"><x-menu><x-menuitem value=\"objectBoundingBox\" toggled><x-label>Object bounding box</x-label></x-menuitem><x-menuitem value=\"userSpaceOnUse\"><x-label>User space on use</x-label></x-menuitem></x-menu></x-select></section><hr><section id=\"region-section\"><h4>Region</h4><x-box><x-box id=\"region-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"region-x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"region-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"region-y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box><x-box id=\"region-width-box\" vertical><x-label>Width</x-label><x-numberinput id=\"region-width-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"region-lock-button\" togglable skin=\"flat\"><x-icon id=\"region-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"region-height-box\" vertical><x-label>Height</x-label><x-numberinput id=\"region-height-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></main></template>"]);_templateObject391=function _templateObject391(){return data;};return data;}function _templateObject390(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:28px;height:28px;min-width:28px;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}#mirror-svg{width:0;height:0;display:block}"]);_templateObject390=function _templateObject390(){return data;};return data;}function _templateObject389(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Symbols</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No symbols found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"New symbol\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-symbol\"><x-label>Add Symbol</x-label></x-menuitem><x-menuitem value=\"add-symbol-from-objects\" id=\"add-symbol-from-objects-menu-item\"><x-label>Add Symbol from Selected Objects</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box><svg id=\"mirror-svg\"></svg></template>"]);_templateObject389=function _templateObject389(){return data;};return data;}function _templateObject388(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:28px;height:28px;min-width:28px;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}"]);_templateObject388=function _templateObject388(){return data;};return data;}function _templateObject387(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Markers</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No markers found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"New marker\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-marker\"><x-label>Add Marker</x-label></x-menuitem><x-menuitem value=\"add-marker-from-objects\" id=\"add-marker-from-objects-menu-item\"><x-label>Add Marker from Selected Objects</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box></template>"]);_templateObject387=function _templateObject387(){return data;};return data;}function _templateObject386(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:28px;height:28px;min-width:28px;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}#mirror-svg{width:0;height:0;display:block}"]);_templateObject386=function _templateObject386(){return data;};return data;}function _templateObject385(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Patterns</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No patterns found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"Add Pattern\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-pattern\"><x-label>Add Pattern</x-label></x-menuitem><x-menuitem value=\"add-pattern-from-objects\" id=\"add-pattern-from-objects-menu-item\"><x-label>Add Pattern from Selected Objects</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box><svg id=\"mirror-svg\"></svg></template>"]);_templateObject385=function _templateObject385(){return data;};return data;}function _templateObject384(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:55px;height:24px;min-width:28px;overflow:hidden;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#gradient-inspector-popover{width:250px;--align:left}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}"]);_templateObject384=function _templateObject384(){return data;};return data;}function _templateObject383(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Gradients</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No gradients found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div><x-popover id=\"gradient-inspector-popover\"><bx-gradientinspector id=\"gradient-inspector\"></bx-gradientinspector></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"Add gradient\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-gradient\"><x-label>Add Gradient</x-label></x-menuitem><x-menuitem value=\"add-gradient-from-fill\" id=\"add-gradient-from-fill-menu-item\"><x-label>Add Gradient from Selected Object Fill</x-label></x-menuitem><x-menuitem value=\"add-gradient-from-stroke\" id=\"add-gradient-from-stroke-menu-item\"><x-label>Add Gradient from Selected Object Stroke</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box></template>"]);_templateObject383=function _templateObject383(){return data;};return data;}function _templateObject382(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;padding:16px;outline:0;box-sizing:border-box}h4{margin:17px 0 9px 0}#main{width:100%;height:100%;display:flex;flex-flow:column}#gradient-section h4{margin-top:0}#gradient-slider{position:relative;width:100%;height:40px;border-width:1px;border-style:solid;touch-action:pan-y;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;background:var(--checkboard-background);--marker-width:18px}#left-gradient-slider-edge{width:calc(var(--marker-width)/ 2);height:100%;position:absolute;top:0;left:0;background:#000}#right-gradient-slider-edge{width:calc(var(--marker-width)/ 2);height:100%;position:absolute;top:0;right:0;background:#000}#gradient-slider #track{width:100%;height:100%;position:relative;display:flex;align-items:center}#gradient-slider #markers{position:absolute;top:-3px;left:0;width:100%;height:calc(100% + 6px)}#gradient-slider .marker{position:absolute;left:0;width:var(--marker-width);height:100%;box-sizing:border-box;background:rgba(0,0,0,.2);border:3px solid #fff;box-shadow:0 0 1px #000;transform:translateX(-50%)}#gradient-slider .marker[data-selected]{border:3px solid #93d2ff}#gradient-slider[data-dragging] .marker{transition:height .1s ease,top .1s ease}#stop-color-picker{width:100%}#stop-offset-section h4{margin-bottom:2px}#stop-offset-section x-box{width:100%}#stop-offset-slider{flex:1}#stop-offset-input{margin-left:6px;width:58px}#placeholder-section{flex:1;display:flex;align-items:center;justify-content:center;margin-top:16px}#placeholder-section[hidden]{display:none}#placeholder-section x-label{opacity:.6;box-sizing:border-box;font-size:13px}"]);_templateObject382=function _templateObject382(){return data;};return data;}function _templateObject381(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"gradient-section\"><h4>Gradient</h4><div id=\"gradient-slider\" part=\"gradient-slider\"><div id=\"left-gradient-slider-edge\"></div><div id=\"right-gradient-slider-edge\"></div><div id=\"track\"><div id=\"markers\"></div></div></div></section><section id=\"stop-color-section\"><h4>Stop color</h4><bx-colorpicker id=\"stop-color-picker\" type=\"rect\" format=\"hex\" alphaslider formatselect></bx-colorpicker></section><section id=\"stop-offset-section\"><h4>Stop offset</h4><x-box><x-slider id=\"stop-offset-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"stop-offset-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"placeholder-section\"><x-label>No gradient stops selected</x-label></section></main></template>"]);_templateObject381=function _templateObject381(){return data;};return data;}function _templateObject380(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:var(--error-color)}.item[hidden]{display:none}.item .thumbnail{width:55px;height:24px;min-width:28px;overflow:hidden;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#color-picker-popover{width:220px;--align:left}#color-picker-popover>main{box-sizing:border-box;padding:13px 16px 16px 16px}#color-picker-popover h4{margin-top:0}#color-picker-popover #color-picker{width:100%}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}"]);_templateObject380=function _templateObject380(){return data;};return data;}function _templateObject379(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Colors</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No colors found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div><x-popover id=\"color-picker-popover\"><main><h4>Color</h4><bx-colorpicker id=\"color-picker\" value=\"#ffffff\" alphaslider></bx-colorpicker></main></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"Add Color\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-color\"><x-label>Add Color</x-label></x-menuitem><x-menuitem value=\"add-color-from-fill\" id=\"add-color-from-fill-menu-item\"><x-label>Add Colors from Selected Objects Fill</x-label></x-menuitem><x-menuitem value=\"add-color-from-stroke\" id=\"add-color-from-stroke-menu-item\"><x-label>Add Colors from Selected Objects Stroke</x-label></x-menuitem><hr><x-menuitem value=\"add-color-from-library\" id=\"add-color-from-library\"><x-label>Add Colors from Library\u2026</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box></template>"]);_templateObject379=function _templateObject379(){return data;};return data;}function _templateObject378(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}#container{display:flex;flex-flow:column;width:100%;height:100%}#header{padding:16px 20px;border-bottom-width:1px;border-bottom-style:solid}#header h2{margin:0;line-height:1}#main{flex:1;overflow:auto}"]);_templateObject378=function _templateObject378(){return data;};return data;}function _templateObject377(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><header id=\"header\" part=\"header\"><h2>Objects</h2></header><main id=\"main\"><bx-objectsbrowser id=\"objects-browser\"></bx-objectsbrowser></main></div></template>"]);_templateObject377=function _templateObject377(){return data;};return data;}function _templateObject376(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}#container{display:flex;flex-flow:column;width:100%;height:100%}#main{flex:1;padding:4px 0;overflow:auto;box-sizing:border-box;outline:0;position:relative}#drop-marker{position:absolute;z-index:100;top:23px;width:100%;height:2px;display:flex;align-items:center;color:var(--accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-marker[hidden]{display:none}#drop-marker #drop-marker-circle{width:8px;height:8px;box-sizing:border-box;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}.item{position:relative}.item>.background{position:absolute;z-index:0;top:0;left:0;width:100%;height:20px}.item[data-selected]>.background{background:var(--accent-color)}.item[data-invalid]>.background{background:var(--error-color)}.item>.main{position:relative;z-index:1;padding:0 0 0 24px;display:flex;align-items:center}.item[data-selected]>.main{color:#fff}.item>.children-outer{overflow:hidden}.item>.children-outer .children{transform-origin:0 0}.item .action-buttons{margin-left:auto;display:flex}.item x-input{height:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px;color:var(--text-color)}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:1px;color:var(--error-color);z-index:100;pointer-events:none}.item use{fill:currentColor}.item>.main .label{margin-left:10px;font-size:13px;white-space:pre;overflow:hidden;text-overflow:ellipsis}.item>.main .label[data-custom]{font-weight:700}.item>.main .object-icon{width:15px;height:15px;min-width:15px}.item .arrow-button{width:27px;min-width:27px;height:20px;display:flex;align-items:center;justify-content:center;visibility:hidden;pointer-events:none}.item[data-expandable]>.main .arrow-button{visibility:visible;pointer-events:all}.item>.main .arrow-icon{width:10px;height:10px;min-width:10px;transition:.2s transform ease-in-out;transform:rotate(-90deg)}.item[data-expanded]>.main .arrow-icon{transform:rotate(0)}.item .lock-button{width:20px;height:20px;display:flex;align-items:center;justify-content:center;visibility:hidden;pointer-events:none;opacity:.3}.item>.main:hover .lock-button{visibility:visible;pointer-events:all}.item[data-locked]>.main .lock-button{visibility:visible;pointer-events:all;opacity:1}.item>.main .lock-icon{width:15px;height:15px;min-width:15px}.item .visibility-button{width:20px;height:20px;display:flex;align-items:center;justify-content:center;visibility:hidden;pointer-events:none;opacity:.3;padding-right:4px}.item>.main:hover .visibility-button{visibility:visible;pointer-events:all}.item[data-hidden]>.main .visibility-button{visibility:visible;pointer-events:all;opacity:1}.item>.main .visibility-icon{width:15px;height:15px;min-width:15px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #filter-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button>x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}#footer #add-menu h3{padding:5px 0 5px 8px;margin:0;font-size:11px;text-transform:uppercase}"]);_templateObject376=function _templateObject376(){return data;};return data;}function _templateObject375(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><main id=\"main\" part=\"main\" tabindex=\"0\"><div id=\"items\"></div><div id=\"drop-marker\" hidden><div id=\"drop-marker-circle\"></div></div><x-contextmenu id=\"context-menu\" disabled=\"disabled\"><x-menu><x-menuitem id=\"group-menu-item\" value=\"group\"><x-label>Group</x-label></x-menuitem><x-menuitem id=\"ungroup-menu-item\" value=\"ungroup\"><x-label>Ungroup</x-label></x-menuitem><x-menuitem id=\"enter-group-menu-item\" value=\"enterGroup\"><x-label>Enter group</x-label></x-menuitem></x-menu></x-contextmenu></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"filter-input\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" condensed togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" condensed><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\"><h3>Add object</h3><x-menuitem value=\"g\"><x-icon name=\"object-group\"></x-icon><x-label>Group</x-label></x-menuitem><x-menuitem value=\"a\"><x-icon name=\"object-link\"></x-icon><x-label>Link</x-label></x-menuitem><x-menuitem value=\"image\"><x-icon name=\"object-image\"></x-icon><x-label>Image</x-label></x-menuitem><x-menuitem value=\"path\"><x-icon name=\"object-path\"></x-icon><x-label>Path</x-label></x-menuitem><x-menuitem value=\"text\"><x-icon name=\"object-text\"></x-icon><x-label>Text</x-label></x-menuitem><x-menuitem value=\"rect\"><x-icon name=\"object-rect\"></x-icon><x-label>Rectangle</x-label></x-menuitem><x-menuitem value=\"circle\"><x-icon name=\"object-ellipse\"></x-icon><x-label>Circle</x-label></x-menuitem><x-menuitem value=\"ellipse\"><x-icon name=\"object-ellipse\"></x-icon><x-label>Ellipse</x-label></x-menuitem><x-menuitem value=\"ring\"><x-icon name=\"object-ring\"></x-icon><x-label>Ring</x-label></x-menuitem><x-menuitem value=\"pie\"><x-icon name=\"object-pie\"></x-icon><x-label>Pie</x-label></x-menuitem><x-menuitem value=\"crescent\"><x-icon name=\"object-crescent\"></x-icon><x-label>Crescent</x-label></x-menuitem><x-menuitem value=\"triangle\"><x-icon name=\"object-triangle\"></x-icon><x-label>Triangle</x-label></x-menuitem><x-menuitem value=\"n-gon\"><x-icon name=\"object-n-gon\"></x-icon><x-label>N-gon</x-label></x-menuitem><x-menuitem value=\"star\"><x-icon name=\"object-star\"></x-icon><x-label>Star</x-label></x-menuitem><x-menuitem value=\"cog\"><x-icon name=\"object-cog\"></x-icon><x-label>Cog</x-label></x-menuitem><x-menuitem value=\"cross\"><x-icon name=\"object-cross\"></x-icon><x-label>Cross</x-label></x-menuitem><x-menuitem value=\"line\"><x-icon name=\"object-line\"></x-icon><x-label>Line</x-label></x-menuitem><x-menuitem value=\"polyline\"><x-icon name=\"object-polyline\"></x-icon><x-label>Polyline</x-label></x-menuitem><x-menuitem value=\"polygon\"><x-icon name=\"object-polygon\"></x-icon><x-label>Polygon</x-label></x-menuitem></x-menu></x-button></x-box></footer></div></template>"]);_templateObject375=function _templateObject375(){return data;};return data;}function _templateObject374(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}#align-section{padding:10px 20px 18px 20px}#move-buttons{width:110px;align-items:center}#move-buttons>x-box{width:100%;justify-content:space-between}#move-buttons x-button{width:36px;height:36px;margin:0 0 5px 0;padding:0}#move-buttons x-icon{width:24px;height:24px}#move-buttons[data-side=outside] x-icon{transform:rotate(180deg)}#move-buttons #arrange-bottom-button{margin:0}#center-buttons,#stretch-buttons{margin-left:26px}#center-buttons x-button,#stretch-buttons x-button{width:36px;height:36px;margin:0 0 5px 0;padding:0}#center-buttons x-button:last-child,#stretch-buttons x-button:last-child{margin-bottom:0}#center-buttons x-icon,#stretch-buttons x-icon{width:24px;height:24px}#align-options-subsection{margin-top:14px}#align-options-subsection h4{margin-bottom:6px}#align-options-subsection x-select{flex:1}#align-options-subsection x-button{margin-left:8px;padding:2px 9px}#align-options-subsection x-button x-icon{width:15px;height:15px}#transform-section{padding:16px 20px 18px 20px}#transform-section x-button{height:30px;margin-right:11px;flex:1}#transform-section x-button:last-child{margin-right:0}#transform-section x-button x-icon{width:17px;height:17px}#transform-section #flip-buttons,#transform-section #transform-buttons{margin-top:11px}#order-section{padding:16px 20px 18px 20px}#order-section #order-buttons-2{margin-top:11px}#order-section x-button{height:30px;margin-right:11px;flex:1}#order-section x-button:last-child{margin-right:0}#order-section x-button x-icon{width:17px;height:17px}#group-section{padding:16px 20px 18px 20px}#group-section x-button{height:30px;margin-right:11px;flex:1}#group-section x-button:last-child{margin-right:0}#group-section x-button x-icon{width:17px;height:17px}#distribute-section{padding:16px 20px 18px 20px}#distance-buttons{flex:1}#distance-buttons x-button{width:100%}#distance-input{margin-left:6px;width:53px}#distribute-actions-subsection{margin-top:14px}#distribute-buttons-box{width:100%;justify-content:space-between}#distribute-buttons-box x-button{height:30px;flex:1;margin-right:11px}#distribute-buttons-box x-button:last-child{margin-right:0}#distribute-buttons-box x-button x-icon{width:22px;height:22px}"]);_templateObject374=function _templateObject374(){return data;};return data;}function _templateObject373(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Arrangement</h2><section id=\"align-section\"><h3 id=\"align-section-heading\">Align</h3><section id=\"align-actions-subsection\"><x-box id=\"align-buttons\"><x-box id=\"move-buttons\" vertical data-side=\"inside\"><x-button id=\"arrange-top-button\" value=\"move-top-inside\" condensed><x-icon name=\"align-top\"></x-icon></x-button><x-box><x-button id=\"arrange-left-button\" value=\"move-left-inside\" condensed><x-icon name=\"align-left\"></x-icon></x-button><x-button id=\"arrange-right-button\" value=\"move-right-inside\" condensed><x-icon name=\"align-right\"></x-icon></x-button></x-box><x-button id=\"arrange-bottom-button\" value=\"move-bottom-inside\" condensed><x-icon name=\"align-bottom\"></x-icon></x-button></x-box><x-box id=\"center-buttons\" vertical><x-button id=\"center-button\" value=\"center\" condensed><x-icon name=\"center\"></x-icon></x-button><x-button id=\"center-horizontally-button\" value=\"horizontal-center\" condensed><x-icon name=\"center-horizontally\"></x-icon></x-button><x-button id=\"center-vertically-button\" value=\"vertical-center\" condensed><x-icon name=\"center-vertically\"></x-icon></x-button></x-box><x-box id=\"stretch-buttons\" vertical><x-button id=\"stretch-button\" value=\"stretch\" condensed><x-icon name=\"stretch\"></x-icon></x-button><x-button id=\"stretch-horizontally-button\" value=\"horizontal-stretch\" condensed><x-icon name=\"stretch-horizontally\"></x-icon></x-button><x-button id=\"stretch-vertically-button\" value=\"vertical-stretch\" condensed><x-icon name=\"stretch-vertically\"></x-icon></x-button></x-box></x-box></section><section id=\"align-options-subsection\"><h4 id=\"align-options-heading\">Relative to</h4><x-box><x-select id=\"align-to-select\"><x-menu><x-menuitem value=\"default-view\" toggled><x-label>Default view</x-label></x-menuitem><x-menuitem value=\"nearest-view\" toggled><x-label>Nearest view</x-label></x-menuitem><x-menuitem value=\"first-selected\" toggled><x-label>First selected</x-label></x-menuitem><x-menuitem value=\"last-selected\" toggled><x-label>Last selected</x-label></x-menuitem><x-menuitem value=\"selection\" toggled><x-label>Selection</x-label></x-menuitem></x-menu></x-select><x-button id=\"align-as-group-button\" title=\"Treat selection as group\" condensed togglable><x-icon name=\"group\"></x-icon></x-button></x-box></section></section><hr><section id=\"transform-section\"><h3 id=\"transform-heading\">Transform</h3><x-box id=\"rotate-buttons\"><x-button id=\"rotate-counterclockwise-button\" value=\"rotateCounterclockwise\"><x-icon name=\"rotate-counterclockwise\"></x-icon><x-label>-90\xB0</x-label></x-button><x-button id=\"rotate-clockwise-button\" value=\"rotateClockwise\"><x-icon name=\"rotate-clockwise\"></x-icon><x-label>+90\xB0</x-label></x-button></x-box><x-box id=\"flip-buttons\"><x-button id=\"flip-horizontally-button\" value=\"flipX\"><x-icon name=\"flip-x\"></x-icon><x-label>Flip X</x-label></x-button><x-button id=\"flip-vertically-button\" value=\"flipY\"><x-icon name=\"flip-y\"></x-icon><x-label>Flip Y</x-label></x-button></x-box><x-box id=\"transform-buttons\"><x-button id=\"remove-transform-button\" value=\"removeTransform\"><x-icon name=\"trash\"></x-icon><x-label>Remove</x-label></x-button><x-button id=\"reduce-transform-button\" value=\"reduceTransform\"><x-icon name=\"reduce-transform\"></x-icon><x-label>Reduce</x-label></x-button></x-box></section><hr><section id=\"order-section\"><h3 id=\"order-section-heading\">Z-order</h3><x-box id=\"order-buttons-1\"><x-button id=\"raise-button\" value=\"raise\"><x-icon name=\"raise\"></x-icon><x-label>Raise</x-label></x-button><x-button id=\"lower-button\" value=\"lower\"><x-icon name=\"lower\"></x-icon><x-label>Lower</x-label></x-button></x-box><x-box id=\"order-buttons-2\"><x-button id=\"front-button\" value=\"raiseToFront\"><x-icon name=\"raise-to-front\"></x-icon><x-label>Front</x-label></x-button><x-button id=\"back-button\" value=\"lowerToBack\"><x-icon name=\"lower-to-back\"></x-icon><x-label>Back</x-label></x-button></x-box></section><hr><section id=\"group-section\"><h3 id=\"group-section-heading\">Group</h3><x-box id=\"group-buttons\"><x-button id=\"group-button\" value=\"group\"><x-icon name=\"group\"></x-icon><x-label>Group</x-label></x-button><x-button id=\"ungroup-button\" value=\"ungroup\"><x-icon name=\"ungroup\"></x-icon><x-label>Ungroup</x-label></x-button></x-box></section><hr><section id=\"distribute-section\"><h3 id=\"distribute-heading\">Distribute</h3><section id=\"distribute-distance-subsection\"><h4 id=\"distribute-distance-heading\">Distance</h4><x-box><x-buttons id=\"distance-buttons\" tracking=\"1\"><x-button id=\"auto-distance-button\" value=\"auto\" condensed><x-label>Auto</x-label></x-button><x-button id=\"manual-distance-button\" value=\"manual\" condensed><x-label>Manual</x-label></x-button></x-buttons><x-numberinput id=\"distance-input\" value=\"0\" min=\"0\" condensed disabled=\"disabled\"><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"distribute-actions-subsection\"><h4 id=\"distribute-actions-heading\">Actions</h4><x-box id=\"distribute-buttons-box\"><x-button id=\"distribute-horizontally-button\" value=\"horizontal\" title=\"Distribute horizontaly\" condensed><x-icon name=\"distribute-horizontally\"></x-icon></x-button><x-button id=\"distribute-vertically-button\" value=\"vertical\" title=\"Distribute vertically\" condensed><x-icon name=\"distribute-vertically\"></x-icon></x-button><x-button id=\"distribute-centers-horizontally-button\" value=\"centers-horizontal\" title=\"Distribute centers horizontally\" condensed><x-icon name=\"distribute-centers-horizontally\"></x-icon></x-button><x-button id=\"distribute-centers-vertically-button\" value=\"centers-vertical\" title=\"Distribute centers vertically\" condensed><x-icon name=\"distribute-centers-vertically\"></x-icon></x-button></x-box></section></section></template>"]);_templateObject373=function _templateObject373(){return data;};return data;}function _templateObject372(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}x-button{width:100%;height:30px}#general-section{padding:10px 20px 20px 20px}#general-section>x-box{margin-top:8px}#general-buttons{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:10px;grid-row-gap:10px}#reorient-button x-icon{width:20px;height:20px}#reverse-button x-icon{width:20px;height:20px}#convert-section{padding:10px 20px 20px 20px}#stroke-to-path-button{margin-top:10px}#boolops-section{padding:15px 20px 20px 20px}#boolop-buttons{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:10px;grid-row-gap:10px}#boolop-buttons x-button x-icon{width:20px;height:20px;margin-right:8px}#path-section{padding:15px 20px 20px 20px}#path-buttons{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:10px;grid-row-gap:10px}#path-buttons #close-path-button x-icon,#path-buttons #join-paths-button x-icon,#path-buttons #open-path-button x-icon,#path-buttons #split-path-button x-icon{width:30px;height:30px;margin-right:8px}#node-section{padding:15px 20px 20px 20px}#node-buttons{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:10px;grid-row-gap:10px}#node-section x-button x-icon{width:28px;height:28px;margin-right:8px}"]);_templateObject372=function _templateObject372(){return data;};return data;}function _templateObject371(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Shape</h2><section id=\"general-section\"><x-box id=\"general-buttons\"><x-button id=\"reorient-button\"><x-icon name=\"reorient\"></x-icon><x-label>Reorient</x-label></x-button><x-button id=\"reverse-button\"><x-icon name=\"reverse\"></x-icon><x-label>Reverse</x-label></x-button></x-box></section><hr><section id=\"convert-section\"><h3 id=\"convert-section-heading\">Convert</h3><x-button id=\"shape-to-path-button\"><x-icon name=\"shape-to-path\"></x-icon><x-label>Shape to Path</x-label></x-button><x-button id=\"stroke-to-path-button\"><x-icon name=\"stroke-to-path\"></x-icon><x-label>Stroke to Path</x-label></x-button></section><hr><section id=\"boolops-section\"><h3 id=\"boolops-section-heading\">Boolops</h3><x-box id=\"boolop-buttons\" vertical><x-button id=\"unite-button\"><x-icon name=\"boolop-unite\"></x-icon><x-label>Unite</x-label></x-button><x-button id=\"intersect-button\"><x-icon name=\"boolop-intersect\"></x-icon><x-label>Intersect</x-label></x-button><x-button id=\"subtract-button\"><x-icon name=\"boolop-subtract\"></x-icon><x-label>Subtract</x-label></x-button><x-button id=\"exclude-button\"><x-icon name=\"boolop-exclude\"></x-icon><x-label>Exclude</x-label></x-button></x-box></section><hr><section id=\"path-section\"><h3 id=\"path-section-heading\">Path</h3><x-box id=\"path-buttons\"><x-button id=\"join-paths-button\"><x-icon name=\"compound-path-join\"></x-icon><x-label>Join</x-label></x-button><x-button id=\"split-path-button\"><x-icon name=\"compound-path-split\"></x-icon><x-label>Split</x-label></x-button><x-button id=\"open-path-button\"><x-icon name=\"open-path\"></x-icon><x-label>Open</x-label></x-button><x-button id=\"close-path-button\"><x-icon name=\"close-path\"></x-icon><x-label>Close</x-label></x-button><x-button id=\"inset-path-button\"><x-icon name=\"inset-path\"></x-icon><x-label>Inset</x-label></x-button><x-button id=\"outset-path-button\"><x-icon name=\"outset-path\"></x-icon><x-label>Outset</x-label></x-button><x-button id=\"simplify-path-button\"><x-icon name=\"simplify-path\"></x-icon><x-label>Simplify</x-label></x-button><x-button id=\"complexify-path-button\" condensed><x-icon name=\"complexify-path\"></x-icon><x-label>Complexify</x-label></x-button></x-box></section><hr><section id=\"node-section\"><h3 id=\"node-section-heading\">Node</h3><x-box id=\"node-buttons\"><x-button id=\"join-nodes-button\"><x-icon name=\"join-nodes\"></x-icon><x-label>Join</x-label></x-button><x-button id=\"split-node-button\"><x-icon name=\"split-node\"></x-icon><x-label>Split</x-label></x-button><x-button id=\"delete-node-button\"><x-icon name=\"delete-node\"></x-icon><x-label>Delete</x-label></x-button><x-button id=\"break-node-button\"><x-icon name=\"break-node\"></x-icon><x-label>Break</x-label></x-button></x-box></section></template>"]);_templateObject371=function _templateObject371(){return data;};return data;}function _templateObject370(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}#accessibility-section{padding:10px 20px 20px 20px}#title-section{padding:10px 20px 20px 20px}#title-heading{margin-bottom:4px}#title-input{width:100%;max-width:none}#desc-box{margin-top:14px}#desc-heading{margin-bottom:4px}#desc-editor{width:100%;height:120px;max-width:none}#language-box{margin-top:14px}#language-heading{margin-bottom:4px}#language-select{width:100%}#role-box{margin-top:14px}#role-heading{margin-bottom:4px}#role-select{width:100%}#tab-index-box{margin-top:14px}#tab-index-heading{margin-bottom:0}#tab-index-box>x-box{width:100%}#tab-index-slider{flex:1;--track-tint-color:transparent}#tab-index-input{width:50px;margin-left:12px}#link-section{padding:15px 20px 20px 20px}#link-button{border-top-right-radius:0;border-bottom-right-radius:0;z-index:1}#link-button x-icon{width:14px;height:14px}#link-input{flex:1;margin-left:-1px;max-width:none}#link-input[error]{z-index:2}#link-target-checkbox{margin-top:8px}#scripting-section{padding:15px 20px 20px 20px}#id-box{margin-top:8px}#id-heading{margin-bottom:4px}#id-input{width:100%;max-width:none}#classes-box{margin-top:20px}#classes-heading{margin-bottom:4px}#classes-input{width:100%}"]);_templateObject370=function _templateObject370(){return data;};return data;}function _templateObject369(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Meta</h2><section id=\"accessibility-section\"><h3 id=\"accessibility-heading\">Accessibility</h3><x-box id=\"title-box\" vertical><h4 id=\"title-heading\">Title</h4><x-input id=\"title-input\" spellcheck></x-input></x-box><x-box id=\"desc-box\" vertical><h4 id=\"desc-heading\">Description</h4><x-texteditor id=\"desc-editor\" spellcheck></x-texteditor></x-box><x-box id=\"language-box\" vertical><h4 id=\"language-heading\">Language</h4><x-select id=\"language-select\"><x-menu id=\"language-menu\"><x-menuitem value=\"\" toggled><x-label>Default</x-label></x-menuitem><hr><x-menuitem value=\"af\"><x-label>Afrikaans</x-label></x-menuitem><x-menuitem value=\"sq\"><x-label>Albanian</x-label></x-menuitem><x-menuitem value=\"ar\"><x-label>Arabic</x-label></x-menuitem><x-menuitem value=\"hy\"><x-label>Armenian</x-label></x-menuitem><x-menuitem value=\"az\"><x-label>Azeri</x-label></x-menuitem><x-menuitem value=\"eu\"><x-label>Basque</x-label></x-menuitem><x-menuitem value=\"be\"><x-label>Belarusian</x-label></x-menuitem><x-menuitem value=\"bg\"><x-label>Bulgarian</x-label></x-menuitem><x-menuitem value=\"ca\"><x-label>Catalan</x-label></x-menuitem><x-menuitem value=\"zh\"><x-label>Chinese</x-label></x-menuitem><x-menuitem value=\"hr\"><x-label>Croatian</x-label></x-menuitem><x-menuitem value=\"cs\"><x-label>Czech</x-label></x-menuitem><x-menuitem value=\"da\"><x-label>Danish</x-label></x-menuitem><x-menuitem value=\"nl\"><x-label>Dutch</x-label></x-menuitem><x-menuitem value=\"en\"><x-label>English</x-label></x-menuitem><x-menuitem value=\"et\"><x-label>Estonian</x-label></x-menuitem><x-menuitem value=\"fa\"><x-label>Farsi</x-label></x-menuitem><x-menuitem value=\"fi\"><x-label>Finnish</x-label></x-menuitem><x-menuitem value=\"fr\"><x-label>French</x-label></x-menuitem><x-menuitem value=\"gl\"><x-label>Galician</x-label></x-menuitem><x-menuitem value=\"de\"><x-label>German</x-label></x-menuitem><x-menuitem value=\"ka\"><x-label>Georgian</x-label></x-menuitem><x-menuitem value=\"el\"><x-label>Greek</x-label></x-menuitem><x-menuitem value=\"he\"><x-label>Hebrew</x-label></x-menuitem><x-menuitem value=\"hi\"><x-label>Hindi</x-label></x-menuitem><x-menuitem value=\"hu\"><x-label>Hungarian</x-label></x-menuitem><x-menuitem value=\"is\"><x-label>Icelandic</x-label></x-menuitem><x-menuitem value=\"id\"><x-label>Indonesian</x-label></x-menuitem><x-menuitem value=\"it\"><x-label>Italian</x-label></x-menuitem><x-menuitem value=\"ja\"><x-label>Japanese</x-label></x-menuitem><x-menuitem value=\"kk\"><x-label>Kazakh</x-label></x-menuitem><x-menuitem value=\"ko\"><x-label>Korean</x-label></x-menuitem><x-menuitem value=\"lv\"><x-label>Latvian</x-label></x-menuitem><x-menuitem value=\"lt\"><x-label>Lithuanian</x-label></x-menuitem><x-menuitem value=\"mt\"><x-label>Maltese</x-label></x-menuitem><x-menuitem value=\"mn\"><x-label>Mongolian</x-label></x-menuitem><x-menuitem value=\"nb\"><x-label>Norwegian</x-label></x-menuitem><x-menuitem value=\"pl\"><x-label>Polish</x-label></x-menuitem><x-menuitem value=\"pt\"><x-label>Portuguese</x-label></x-menuitem><x-menuitem value=\"ro\"><x-label>Romanian</x-label></x-menuitem><x-menuitem value=\"ru\"><x-label>Russian</x-label></x-menuitem><x-menuitem value=\"sk\"><x-label>Slovak</x-label></x-menuitem><x-menuitem value=\"sl\"><x-label>Slovenian</x-label></x-menuitem><x-menuitem value=\"es\"><x-label>Spanish</x-label></x-menuitem><x-menuitem value=\"sv\"><x-label>Swedish</x-label></x-menuitem><x-menuitem value=\"th\"><x-label>Thai</x-label></x-menuitem><x-menuitem value=\"tr\"><x-label>Turkish</x-label></x-menuitem><x-menuitem value=\"uk\"><x-label>Ukrainian</x-label></x-menuitem><x-menuitem value=\"ur\"><x-label>Urdu</x-label></x-menuitem><x-menuitem value=\"uz\"><x-label>Uzbek</x-label></x-menuitem><x-menuitem value=\"vi\"><x-label>Vietnamese</x-label></x-menuitem><x-menuitem value=\"cy\"><x-label>Welsh</x-label></x-menuitem></x-menu></x-select></x-box><x-box id=\"role-box\" vertical><h4 id=\"role-heading\">Role</h4><x-select id=\"role-select\"><x-menu id=\"role-menu\"><x-menuitem value=\"\" toggled><x-label>Default</x-label></x-menuitem><hr><x-menuitem value=\"alert\"><x-label>Alert</x-label></x-menuitem><x-menuitem value=\"alertdialog\"><x-label>Alert Dialog</x-label></x-menuitem><x-menuitem value=\"application\"><x-label>Application</x-label></x-menuitem><x-menuitem value=\"article\"><x-label>Article</x-label></x-menuitem><x-menuitem value=\"banner\"><x-label>Banner</x-label></x-menuitem><x-menuitem value=\"button\"><x-label>Button</x-label></x-menuitem><x-menuitem value=\"cell\"><x-label>Cell</x-label></x-menuitem><x-menuitem value=\"checkbox\"><x-label>Checkbox</x-label></x-menuitem><x-menuitem value=\"columnheader\"><x-label>Column header</x-label></x-menuitem><x-menuitem value=\"combobox\"><x-label>Combobox</x-label></x-menuitem><x-menuitem value=\"command\"><x-label>Command</x-label></x-menuitem><x-menuitem value=\"complementary\"><x-label>Complementary</x-label></x-menuitem><x-menuitem value=\"composite\"><x-label>Composite</x-label></x-menuitem><x-menuitem value=\"contentinfo\"><x-label>Content info</x-label></x-menuitem><x-menuitem value=\"definition\"><x-label>Definition</x-label></x-menuitem><x-menuitem value=\"dialog\"><x-label>Dialog</x-label></x-menuitem><x-menuitem value=\"directory\"><x-label>Directory</x-label></x-menuitem><x-menuitem value=\"document\"><x-label>Document</x-label></x-menuitem><x-menuitem value=\"feed\"><x-label>Feed</x-label></x-menuitem><x-menuitem value=\"figure\"><x-label>Figure</x-label></x-menuitem><x-menuitem value=\"form\"><x-label>Form</x-label></x-menuitem><x-menuitem value=\"graphics-document\"><x-label>Graphics document</x-label></x-menuitem><x-menuitem value=\"graphics-object\"><x-label>Graphics object</x-label></x-menuitem><x-menuitem value=\"graphics-symbol\"><x-label>Graphics symbol</x-label></x-menuitem><x-menuitem value=\"grid\"><x-label>Grid</x-label></x-menuitem><x-menuitem value=\"gridcell\"><x-label>Gridcell</x-label></x-menuitem><x-menuitem value=\"group\"><x-label>Group</x-label></x-menuitem><x-menuitem value=\"heading\"><x-label>Heading</x-label></x-menuitem><x-menuitem value=\"img\"><x-label>Image</x-label></x-menuitem><x-menuitem value=\"input\"><x-label>Input</x-label></x-menuitem><x-menuitem value=\"landmark\"><x-label>Landmark</x-label></x-menuitem><x-menuitem value=\"link\"><x-label>Link</x-label></x-menuitem><x-menuitem value=\"list\"><x-label>List</x-label></x-menuitem><x-menuitem value=\"listbox\"><x-label>Listbox</x-label></x-menuitem><x-menuitem value=\"listitem\"><x-label>List item</x-label></x-menuitem><x-menuitem value=\"log\"><x-label>Log</x-label></x-menuitem><x-menuitem value=\"main\"><x-label>Main</x-label></x-menuitem><x-menuitem value=\"marquee\"><x-label>Marquee</x-label></x-menuitem><x-menuitem value=\"math\"><x-label>Math</x-label></x-menuitem><x-menuitem value=\"menu\"><x-label>Menu</x-label></x-menuitem><x-menuitem value=\"menubar\"><x-label>Menubar</x-label></x-menuitem><x-menuitem value=\"menuitem\"><x-label>Menu item</x-label></x-menuitem><x-menuitem value=\"menuitemcheckbox\"><x-label>Menu item (checkbox)</x-label></x-menuitem><x-menuitem value=\"menuitemradio\"><x-label>Menu item (radio)</x-label></x-menuitem><x-menuitem value=\"navigation\"><x-label>Navigation</x-label></x-menuitem><x-menuitem value=\"none\"><x-label>None</x-label></x-menuitem><x-menuitem value=\"note\"><x-label>Note</x-label></x-menuitem><x-menuitem value=\"option\"><x-label>Option</x-label></x-menuitem><x-menuitem value=\"presentation\"><x-label>Presentation</x-label></x-menuitem><x-menuitem value=\"progressbar\"><x-label>Progressbar</x-label></x-menuitem><x-menuitem value=\"radio\"><x-label>Radio</x-label></x-menuitem><x-menuitem value=\"radiogroup\"><x-label>Radio group</x-label></x-menuitem><x-menuitem value=\"range\"><x-label>Range</x-label></x-menuitem><x-menuitem value=\"region\"><x-label>Region</x-label></x-menuitem><x-menuitem value=\"roletype\"><x-label>Role type</x-label></x-menuitem><x-menuitem value=\"row\"><x-label>Row</x-label></x-menuitem><x-menuitem value=\"rowgroup\"><x-label>Row group</x-label></x-menuitem><x-menuitem value=\"rowheader\"><x-label>Row header</x-label></x-menuitem><x-menuitem value=\"scrollbar\"><x-label>Scrollbar</x-label></x-menuitem><x-menuitem value=\"search\"><x-label>Search</x-label></x-menuitem><x-menuitem value=\"searchbox\"><x-label>Searchbox</x-label></x-menuitem><x-menuitem value=\"section\"><x-label>Section</x-label></x-menuitem><x-menuitem value=\"sectionhead\"><x-label>Section head</x-label></x-menuitem><x-menuitem value=\"select\"><x-label>Select</x-label></x-menuitem><x-menuitem value=\"separator\"><x-label>Separator</x-label></x-menuitem><x-menuitem value=\"slider\"><x-label>Slider</x-label></x-menuitem><x-menuitem value=\"spinbutton\"><x-label>Spin button</x-label></x-menuitem><x-menuitem value=\"status\"><x-label>Status</x-label></x-menuitem><x-menuitem value=\"structure\"><x-label>Structure</x-label></x-menuitem><x-menuitem value=\"switch\"><x-label>Switch</x-label></x-menuitem><x-menuitem value=\"tab\"><x-label>Tab</x-label></x-menuitem><x-menuitem value=\"table\"><x-label>Table</x-label></x-menuitem><x-menuitem value=\"tablist\"><x-label>Tab list</x-label></x-menuitem><x-menuitem value=\"tabpanel\"><x-label>Tab panel</x-label></x-menuitem><x-menuitem value=\"term\"><x-label>Term</x-label></x-menuitem><x-menuitem value=\"textbox\"><x-label>Textbox</x-label></x-menuitem><x-menuitem value=\"timer\"><x-label>Timer</x-label></x-menuitem><x-menuitem value=\"toolbar\"><x-label>Toolbar</x-label></x-menuitem><x-menuitem value=\"tooltip\"><x-label>Tooltip</x-label></x-menuitem><x-menuitem value=\"tree\"><x-label>Tree</x-label></x-menuitem><x-menuitem value=\"treegrid\"><x-label>Tree grid</x-label></x-menuitem><x-menuitem value=\"treeitem\"><x-label>Tree item</x-label></x-menuitem><x-menuitem value=\"widget\"><x-label>Widget</x-label></x-menuitem><x-menuitem value=\"window\"><x-label>Window</x-label></x-menuitem></x-menu></x-select></x-box><x-box id=\"tab-index-box\" vertical><h4 id=\"tab-index-heading\">Tab index</h4><x-box><x-slider id=\"tab-index-slider\" value=\"-1\" min=\"-1\" max=\"20\"></x-slider><x-numberinput id=\"tab-index-input\" value=\"-1\" step=\"1\" precision=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><hr><section id=\"link-section\"><h3 id=\"link-section-heading\">Link</h3><x-box id=\"link-box\"><x-button id=\"link-button\" value=\"link\" togglable><x-icon name=\"link\"></x-icon><x-label>Link</x-label></x-button><x-input id=\"link-input\"><x-label>URL</x-label></x-input></x-box><x-checkbox id=\"link-target-checkbox\"><x-label>Open in a new tab</x-label></x-checkbox></section><hr><section id=\"scripting-section\"><h3 id=\"scripting-heading\">Scripting</h3><x-box id=\"id-box\" vertical><h4 id=\"id-heading\">ID</h4><x-input id=\"id-input\" validation=\"instant\"></x-input></x-box><x-box id=\"classes-box\" vertical><h4 id=\"classes-heading\">Classes</h4><x-tagsinput id=\"classes-input\" delimiter=\" \"></x-tagsinput></x-box></section></template>"]);_templateObject369=function _templateObject369(){return data;};return data;}function _templateObject368(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}#container{display:flex;flex-flow:column;width:100%;height:100%}h2{margin:16px 20px -8px 20px}[hidden]{display:none}#main{flex:1;overflow:auto;outline:0;position:relative}#footer{display:flex;align-items:center;width:100%;padding:10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer[hidden]{display:none}#space-buttons{width:100%;max-width:none}#space-buttons>x-button{flex:1}"]);_templateObject368=function _templateObject368(){return data;};return data;}function _templateObject367(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><main id=\"main\" part=\"main\"><h2 id=\"panel-heading\">Geometry</h2><div id=\"inspectors\"><bx-circlegeometryinspector></bx-circlegeometryinspector><hr><bx-ellipsegeometryinspector></bx-ellipsegeometryinspector><hr><bx-coggeometryinspector></bx-coggeometryinspector><hr><bx-crossgeometryinspector></bx-crossgeometryinspector><hr><bx-piegeometryinspector></bx-piegeometryinspector><hr><bx-ringgeometryinspector></bx-ringgeometryinspector><hr><bx-rectgeometryinspector></bx-rectgeometryinspector><hr><bx-crescentgeometryinspector></bx-crescentgeometryinspector><hr><bx-trianglegeometryinspector></bx-trianglegeometryinspector><hr><bx-ngongeometryinspector></bx-ngongeometryinspector><hr><bx-stargeometryinspector></bx-stargeometryinspector><hr><bx-arrowgeometryinspector></bx-arrowgeometryinspector><hr><bx-nodegeometryinspector></bx-nodegeometryinspector><hr><bx-imagegeometryinspector></bx-imagegeometryinspector><hr><bx-linegeometryinspector></bx-linegeometryinspector><hr><bx-chargeometryinspector></bx-chargeometryinspector><hr><bx-objectgeometryinspector></bx-objectgeometryinspector><hr><bx-guidegeometryinspector></bx-guidegeometryinspector><hr><bx-gridgeometryinspector></bx-gridgeometryinspector><hr><bx-svggeometryinspector></bx-svggeometryinspector><hr><bx-symbolgeometryinspector></bx-symbolgeometryinspector><hr><bx-patterngeometryinspector></bx-patterngeometryinspector><hr><bx-markergeometryinspector></bx-markergeometryinspector><hr><bx-viewgeometryinspector></bx-viewgeometryinspector></div></main><footer id=\"footer\" part=\"footer\"><x-buttons id=\"space-buttons\" tracking=\"1\"><x-button value=\"canvas\" condensed toggled><x-label>Canvas space</x-label></x-button><x-button value=\"viewport\" condensed><x-label>Viewport space</x-label></x-button></x-buttons></footer></div></template>"]);_templateObject367=function _templateObject367(){return data;};return data;}function _templateObject366(){var data=_taggedTemplateLiteral(["#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}"]);_templateObject366=function _templateObject366(){return data;};return data;}function _templateObject365(){var data=_taggedTemplateLiteral(["<template><h3>View</h3><section id=\"viewbox-section\"><h4 id=\"viewbox-heading\">View box</h4><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" data-property=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" data-property=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject365=function _templateObject365(){return data;};return data;}function _templateObject364(){var data=_taggedTemplateLiteral(["#shift-section{margin-top:14px}#shift-section h4{margin-bottom:0}#shift-section x-box{width:100%}#shift-section x-slider{flex:1}#shift-section x-numberinput{width:54px;margin-left:10px}#corner-section{margin-top:14px}#corner-section h4{margin-bottom:0}#corner-section>x-box{width:100%}#corner-section x-slider{flex:1}#corner-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject364=function _templateObject364(){return data;};return data;}function _templateObject363(){var data=_taggedTemplateLiteral(["<template><h3>Triangle</h3><section id=\"shift-section\"><h4 id=\"shift-heading\">Shift</h4><x-box><x-slider id=\"shift-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"shift-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"corner-section\"><h4 id=\"corner-heading\">Corner</h4><x-box><x-slider id=\"corner-slider\" value=\"0\" min=\"0\" max=\"0.5\" step=\"0.01\"></x-slider><x-numberinput id=\"corner-input\" value=\"0\" min=\"0\" max=\"0.5\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject363=function _templateObject363(){return data;};return data;}function _templateObject362(){var data=_taggedTemplateLiteral(["#arch-section{margin-top:14px}#arch-section h4{margin-bottom:0}#arch-section x-box{width:100%}#arch-section x-slider{flex:1}#arch-section x-numberinput{width:80px;margin-left:10px}#hollow-section{margin-top:14px}#hollow-section h4{margin-bottom:0}#hollow-section>x-box{width:100%}#hollow-section x-slider{flex:1}#hollow-section x-numberinput{width:80px;margin-left:10px}"]);_templateObject362=function _templateObject362(){return data;};return data;}function _templateObject361(){var data=_taggedTemplateLiteral(["<template><h3>Crescent</h3><section id=\"arch-section\"><h4 id=\"arch-heading\">Arch</h4><x-box><x-slider id=\"arch-slider\" value=\"0\" min=\"1\" max=\"359\" step=\"1\"></x-slider><x-numberinput id=\"arch-input\" value=\"0\" min=\"1\" max=\"359\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"hollow-section\"><h4 id=\"hollow-heading\">Hollow</h4><x-box><x-slider id=\"hollow-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"hollow-input\" value=\"0\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject361=function _templateObject361(){return data;};return data;}function _templateObject360(){var data=_taggedTemplateLiteral(["#viewbox-header{display:flex;align-items:center}#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}"]);_templateObject360=function _templateObject360(){return data;};return data;}function _templateObject359(){var data=_taggedTemplateLiteral(["<template><h3>Symbol</h3><section id=\"viewbox-section\"><header id=\"viewbox-header\"><h4 id=\"viewbox-heading\">View box</h4><x-switch id=\"viewbox-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" data-property=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" data-property=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject359=function _templateObject359(){return data;};return data;}function _templateObject358(){var data=_taggedTemplateLiteral(["#viewport-header{display:flex;align-items:center}#viewport-size-box{width:100%}#viewport-box{margin-top:2px}#viewport-box x-numberinput{width:100%}#viewport-height-box,#viewport-width-box{flex:1;width:calc(50% - 14px)}#viewport-height-label,#viewport-units-label,#viewport-width-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewport-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewport-lock-button[toggled]{opacity:.9}#viewport-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#viewport-height-input,#viewport-width-input{width:100%;flex:1}#viewport-units-box{width:100%;margin-top:6px}#viewport-units-select{width:100%}#viewbox-section{margin-top:20px}#viewbox-header{display:flex;align-items:center}#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}"]);_templateObject358=function _templateObject358(){return data;};return data;}function _templateObject357(){var data=_taggedTemplateLiteral(["<template><h3>SVG</h3><section id=\"viewport-section\"><header id=\"viewport-header\"><h4 id=\"viewport-heading\">Viewport</h4></header><x-box id=\"viewport-box\" vertical><x-box id=\"viewport-size-box\"><x-box id=\"viewport-width-box\" vertical><x-label id=\"viewport-width-label\">Width</x-label><x-numberinput id=\"viewport-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewport-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewport-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewport-height-box\" vertical><x-label id=\"viewport-height-label\">Height</x-label><x-numberinput id=\"viewport-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewport-units-box\" vertical><x-label id=\"viewport-units-label\">Units</x-label><x-select id=\"viewport-units-select\"><x-menu><x-menuitem value=\"px\" toggled><x-label>Pixels (px)</x-label></x-menuitem><x-menuitem value=\"cm\"><x-label>Centimeters (cm)</x-label></x-menuitem><x-menuitem value=\"mm\"><x-label>Millimeters (mm)</x-label></x-menuitem><x-menuitem value=\"in\"><x-label>Inches (in)</x-label></x-menuitem><x-menuitem value=\"pt\"><x-label>Points (pt)</x-label></x-menuitem><x-menuitem value=\"pc\"><x-label>Picas (pc)</x-label></x-menuitem><x-menuitem value=\"q\"><x-label>Quarter-millimeters (Q)</x-label></x-menuitem></x-menu></x-select></x-box></x-box></section><section id=\"viewbox-section\"><header id=\"viewbox-header\"><h4 id=\"viewbox-heading\">View box</h4><x-switch id=\"viewbox-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" data-property=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" data-property=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject357=function _templateObject357(){return data;};return data;}function _templateObject356(){var data=_taggedTemplateLiteral(["#arms-section{margin-top:14px}#arms-section h4{margin-bottom:0}#arms-section x-box{width:100%}#arms-section x-slider{flex:1}#arms-section x-numberinput{width:54px;margin-left:10px}#depth-section{margin-top:14px}#depth-section h4{margin-bottom:0}#depth-section x-box{width:100%}#depth-section x-slider{flex:1}#depth-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject356=function _templateObject356(){return data;};return data;}function _templateObject355(){var data=_taggedTemplateLiteral(["<template><h3>Star</h3><section id=\"arms-section\"><h4 id=\"arms-heading\">Arms</h4><x-box><x-slider id=\"arms-slider\" value=\"5\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"arms-input\" value=\"5\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"depth-section\"><h4 id=\"depth-heading\">Depth</h4><x-box><x-slider id=\"depth-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"depth-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject355=function _templateObject355(){return data;};return data;}function _templateObject354(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#r1-section{display:flex;margin-top:14px}#r1-section x-numberinput{width:100%}#r1-section x-box{flex:1}#r1-section #r1-aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#r1-section #r1-aspect-ratio-button[toggled]{opacity:.9}#r1-section #r1-aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#r2-section{display:flex;margin-top:14px}#r2-section x-numberinput{width:100%}#r2-section x-box{flex:1}#r2-section #r2-aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#r2-section #r2-aspect-ratio-button[toggled]{opacity:.9}#r2-section #r2-aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject354=function _templateObject354(){return data;};return data;}function _templateObject353(){var data=_taggedTemplateLiteral(["<template><h3>Ring</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"r1-section\"><x-box id=\"r1x-box\" vertical><h4 id=\"r1x-heading\">Inner radius X</h4><x-numberinput id=\"r1x-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"r1-aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"r1-aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"r1y-box\" vertical><h4 id=\"r1y-heading\">Inner radius Y</h4><x-numberinput id=\"r1y-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"r2-section\"><x-box id=\"r2x-box\" vertical><h4 id=\"r2x-heading\">Outer radius X</h4><x-numberinput id=\"r2x-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"r2-aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"r2-aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"r2y-box\" vertical><h4 id=\"r2y-heading\">Outer radius Y</h4><x-numberinput id=\"r2y-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject353=function _templateObject353(){return data;};return data;}function _templateObject352(){var data=_taggedTemplateLiteral(["#corner-radius-section x-label{margin:0 0 5px 0;font-size:11px;font-weight:500}#corner-radius-section x-numberinput{width:100%}#corner-radius-section #r12-box{justify-content:space-between}#corner-radius-section #r43-box{margin-top:12px;justify-content:space-between}#corner-radius-section #r1-box,#corner-radius-section #r4-box{flex:1;margin-right:13px}#corner-radius-section #r2-box,#corner-radius-section #r3-box{flex:1;margin-left:13px}"]);_templateObject352=function _templateObject352(){return data;};return data;}function _templateObject351(){var data=_taggedTemplateLiteral(["<template><h3>Rectangle</h3><section id=\"corner-radius-section\"><h4 id=\"corner-radius-heading\">Corner radius</h4><x-box id=\"r12-box\"><x-box id=\"r1-box\" vertical><x-label id=\"r1-heading\">Top left</x-label><x-numberinput id=\"r1-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r2-box\" vertical><x-label id=\"r2-heading\">Top right</x-label><x-numberinput id=\"r2-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"r43-box\"><x-box id=\"r4-box\" vertical><x-label id=\"r4-heading\">Bottom left</x-label><x-numberinput id=\"r4-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r3-box\" vertical><x-label id=\"r3-heading\">Bottom right</x-label><x-numberinput id=\"r3-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject351=function _templateObject351(){return data;};return data;}function _templateObject350(){var data=_taggedTemplateLiteral(["#radius-section{display:flex;justify-content:space-between;margin-top:14px}#radius-section x-box{width:calc(50% - 13px)}#radius-section x-numberinput{width:100%}#start-angle-section{margin-top:14px}#start-angle-section h4{margin-bottom:0}#start-angle-section x-box{width:100%}#start-angle-section x-slider{flex:1}#start-angle-section x-numberinput{margin-left:10px;width:80px}#end-angle-section{margin-top:14px}#end-angle-section h4{margin-bottom:0}#end-angle-section x-box{width:100%}#end-angle-section x-slider{flex:1}#end-angle-section x-numberinput{margin-left:10px;width:80px}"]);_templateObject350=function _templateObject350(){return data;};return data;}function _templateObject349(){var data=_taggedTemplateLiteral(["<template><h3>Pie</h3><section id=\"radius-section\"><x-box id=\"r1-box\" vertical><h4 id=\"r1-heading\">Inner radius</h4><x-numberinput id=\"r1-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r2-box\" vertical><h4 id=\"r2-heading\">Outer radius</h4><x-numberinput id=\"r2-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"start-angle-section\"><h4 id=\"start-angle-heading\">Start angle</h4><x-box><x-slider id=\"start-angle-slider\" value=\"0\" min=\"0\" max=\"360\" step=\"1\"></x-slider><x-numberinput id=\"start-angle-input\" value=\"0\" min=\"0\" max=\"360\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"end-angle-section\"><h4 id=\"end-angle-heading\">End angle</h4><x-box><x-slider id=\"end-angle-slider\" value=\"0\" min=\"0\" max=\"360\" step=\"1\"></x-slider><x-numberinput id=\"end-angle-input\" value=\"0\" min=\"0\" max=\"360\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject349=function _templateObject349(){return data;};return data;}function _templateObject348(){var data=_taggedTemplateLiteral(["#viewbox-header{display:flex;align-items:center}#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}"]);_templateObject348=function _templateObject348(){return data;};return data;}function _templateObject347(){var data=_taggedTemplateLiteral(["<template><h3>Pattern</h3><section id=\"viewbox-section\"><header id=\"viewbox-header\"><h4 id=\"viewbox-heading\">View box</h4><x-switch id=\"viewbox-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" data-property=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" data-property=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject347=function _templateObject347(){return data;};return data;}function _templateObject346(){var data=_taggedTemplateLiteral(["#position-section{display:flex;margin-top:14px}#position-section x-numberinput{width:100%}#position-section #x-box{flex:1;margin-right:13px}#position-section #y-box{flex:1;margin-left:13px}#size-section{display:flex;margin-top:14px}#size-section x-numberinput{width:100%}#size-section #height-box,#size-section #width-box{flex:1}#aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#aspect-ratio-button[toggled]{opacity:.9}#aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#origin-section{display:flex;margin-top:14px}#origin-section x-numberinput{width:100%}#origin-section #origin-x-box{flex:1;margin-right:13px}#origin-section #origin-y-box{flex:1;margin-left:13px}#rotation-section{margin-top:14px}#rotation-section h4{margin-bottom:0}#rotation-slider{flex:1}#rotation-input{margin-left:10px;width:80px}#rotation-section>x-box{width:100%}"]);_templateObject346=function _templateObject346(){return data;};return data;}function _templateObject345(){var data=_taggedTemplateLiteral(["<template><h3>Object</h3><section id=\"position-section\"><x-box id=\"x-box\" vertical><h4 id=\"x-heading\">X</h4><x-numberinput id=\"x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><h4 id=\"y-heading\">Y</h4><x-numberinput id=\"y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"size-section\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"origin-section\"><x-box id=\"origin-x-box\" vertical><h4 id=\"origin-x-heading\">Origin X</h4><x-numberinput id=\"origin-x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"origin-y-box\" vertical><h4 id=\"origin-y-heading\">Origin Y</h4><x-numberinput id=\"origin-y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"rotation-section\"><h4 id=\"rotation-heading\">Rotation</h4><x-box><x-slider id=\"rotation-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"rotation-input\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject345=function _templateObject345(){return data;};return data;}function _templateObject344(){var data=_taggedTemplateLiteral(["section{margin-top:14px;display:flex}section[hidden]{display:none}#node-point-section x-numberinput{width:100%}#node-point-section #x-box{flex:1;margin-right:13px}#node-point-section #y-box{flex:1;margin-left:13px}#control-point-1-section x-numberinput{width:100%}#control-point-1-section #x1-box{flex:1;margin-right:13px}#control-point-1-section #y1-box{flex:1;margin-left:13px}#control-point-2-section x-numberinput{width:100%}#control-point-2-section #x2-box{flex:1;margin-right:13px}#control-point-2-section #y2-box{flex:1;margin-left:13px}"]);_templateObject344=function _templateObject344(){return data;};return data;}function _templateObject343(){var data=_taggedTemplateLiteral(["<template><h3>Node</h3><section id=\"node-point-section\"><x-box id=\"x-box\" vertical><h4 id=\"x-heading\">X</h4><x-numberinput id=\"x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><h4 id=\"y-heading\">Y</h4><x-numberinput id=\"y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"control-point-1-section\"><x-box id=\"x1-box\" vertical><h4 id=\"x1-heading\">X1</h4><x-numberinput id=\"x1-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y1-box\" vertical><h4 id=\"y1-heading\">Y1</h4><x-numberinput id=\"y1-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"control-point-2-section\"><x-box id=\"x2-box\" vertical><h4 id=\"x2-heading\">X2</h4><x-numberinput id=\"x2-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y2-box\" vertical><h4 id=\"y2-heading\">Y2</h4><x-numberinput id=\"y2-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject343=function _templateObject343(){return data;};return data;}function _templateObject342(){var data=_taggedTemplateLiteral(["#arms-section{margin-top:14px}#arms-section h4{margin-bottom:0}#arms-section x-box{width:100%}#arms-section #arms-slider{flex:1}#arms-section #arms-input{width:54px;margin-left:10px}#corner-section{margin-top:14px}#corner-section h4{margin-bottom:0}#corner-section x-box{width:100%}#corner-section #corner-slider{flex:1}#corner-section #corner-input{width:54px;margin-left:10px}"]);_templateObject342=function _templateObject342(){return data;};return data;}function _templateObject341(){var data=_taggedTemplateLiteral(["<template><h3>N-gon</h3><section id=\"arms-section\"><h4 id=\"arms-heading\">Arms</h4><x-box><x-slider id=\"arms-slider\" value=\"5\" min=\"5\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"arms-input\" value=\"5\" min=\"5\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"corner-section\"><h4 id=\"corner-heading\">Corner</h4><x-box><x-slider id=\"corner-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"corner-input\" value=\"0\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject341=function _templateObject341(){return data;};return data;}function _templateObject340(){var data=_taggedTemplateLiteral(["#viewport-header{display:flex;align-items:center}#viewport-size-box{width:100%}#viewport-box{margin-top:2px}#viewport-box x-numberinput{width:100%}#viewport-height-box,#viewport-width-box{flex:1;width:calc(50% - 14px)}#viewport-height-label,#viewport-units-label,#viewport-width-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewport-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewport-lock-button[toggled]{opacity:.9}#viewport-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#viewport-height-input,#viewport-width-input{width:100%;flex:1}#viewport-units-box{width:100%;margin-top:6px}#viewport-units-select{width:100%}#viewbox-section{margin-top:20px}#viewbox-header{display:flex;align-items:center}#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}#ref-section{margin-top:20px}#ref-section-heading{margin-bottom:7px}#ref-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#ref-box x-numberinput{width:100%}#ref-box #ref-x-box{flex:1;margin-right:13px}#ref-box #ref-y-box{flex:1;margin-left:13px}#orient-section{margin-top:20px}#orient-heading-box{margin-bottom:8px}#orient-heading{flex:1;margin:0}#orient-input{margin-left:12px;min-width:60px}"]);_templateObject340=function _templateObject340(){return data;};return data;}function _templateObject339(){var data=_taggedTemplateLiteral(["<template><h3>Marker</h3><section id=\"viewport-section\"><header id=\"viewport-header\"><h4 id=\"viewport-heading\">Viewport</h4></header><x-box id=\"viewport-box\" vertical><x-box id=\"viewport-size-box\"><x-box id=\"viewport-width-box\" vertical><x-label id=\"viewport-width-label\">Width</x-label><x-numberinput id=\"viewport-width-input\" value=\"0\" min=\"0\" step=\"1\" condensed data-property=\"width\"><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewport-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewport-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewport-height-box\" vertical><x-label id=\"viewport-height-label\">Height</x-label><x-numberinput id=\"viewport-height-input\" value=\"0\" min=\"0\" step=\"1\" condensed data-property=\"height\"><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewport-units-box\" vertical><x-label id=\"viewport-units-label\">Units</x-label><x-select id=\"viewport-units-select\"><x-menu><x-menuitem value=\"userSpaceOnUse\" toggled><x-label>User</x-label></x-menuitem><x-menuitem value=\"strokeWidth\"><x-label>Stroke width</x-label></x-menuitem></x-menu></x-select></x-box></x-box></section><section id=\"viewbox-section\"><header id=\"viewbox-header\"><h4 id=\"viewbox-heading\">View box</h4><x-switch id=\"viewbox-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" condensed data-property=\"x\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" condensed data-property=\"y\"><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" condensed data-property=\"width\"><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" condensed data-property=\"height\"><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section><section id=\"ref-section\"><h4 id=\"ref-section-heading\">Reference point</h4><x-box id=\"ref-box\"><x-box id=\"ref-x-box\" vertical><x-label id=\"ref-x-heading\">X</x-label><x-numberinput id=\"ref-x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"ref-y-box\" vertical><x-label id=\"ref-y-heading\">Y</x-label><x-numberinput id=\"ref-y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"orient-section\"><x-box id=\"orient-heading-box\"><h4 id=\"orient-heading\">Orient</h4><x-switch id=\"orient-switch\" size=\"smaller\" toggled></x-switch></x-box><x-box id=\"orient-box\"><x-slider id=\"orient-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"orient-input\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject339=function _templateObject339(){return data;};return data;}function _templateObject338(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;width:80px;height:80px;box-sizing:border-box;border-width:1px;border-style:solid}:host([disabled]){opacity:.5;pointer-events:none}:host(:focus){outline:0}#buttons{width:100%;height:100%}#buttons .button{position:absolute;width:22px;height:22px;min-height:22px;padding:0}.button[value=xMinYMin]{left:-1px;top:-1px}.button[value=xMidYMin]{top:-1px;left:50%;transform:translate(-50%,0)}.button[value=xMaxYMin]{top:-1px;right:-1px}.button[value=xMinYMid]{top:50%;left:-1px;transform:translate(0,-50%)}.button[value=xMidYMid]{top:50%;left:50%;transform:translate(-50%,-50%)}.button[value=xMaxYMid]{top:50%;right:-1px;transform:translate(0,-50%)}.button[value=xMinYMax]{left:-1px;bottom:-1px}.button[value=xMidYMax]{left:50%;bottom:-1px;transform:translate(-50%,0)}.button[value=xMaxYMax]{right:-1px;bottom:-1px}"]);_templateObject338=function _templateObject338(){return data;};return data;}function _templateObject337(){var data=_taggedTemplateLiteral(["<template><div id=\"buttons\"><x-button class=\"button\" part=\"button\" value=\"xMinYMin\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMidYMin\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMaxYMin\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMinYMid\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMidYMid\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMaxYMid\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMinYMax\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMidYMax\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMaxYMax\"></x-button></div></template>"]);_templateObject337=function _templateObject337(){return data;};return data;}function _templateObject336(){var data=_taggedTemplateLiteral(["#start-point-section{display:flex;margin-top:14px}#start-point-section x-numberinput{width:100%}#start-point-section #x1-box{flex:1;margin-right:13px}#start-point-section #y1-box{flex:1;margin-left:13px}#end-point-section{display:flex;margin-top:14px}#end-point-section x-numberinput{width:100%}#end-point-section #x2-box{flex:1;margin-right:13px}#end-point-section #y2-box{flex:1;margin-left:13px}#length-section{margin-top:14px}#length-section x-numberinput{width:100%}"]);_templateObject336=function _templateObject336(){return data;};return data;}function _templateObject335(){var data=_taggedTemplateLiteral(["<template><h3>Line</h3><section id=\"start-point-section\"><x-box id=\"x1-box\" vertical><h4 id=\"x1-heading\">Start X</h4><x-numberinput id=\"x1-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y1-box\" vertical><h4 id=\"y1-heading\">Start Y</h4><x-numberinput id=\"y1-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"end-point-section\"><x-box id=\"x2-box\" vertical><h4 id=\"x2-heading\">End X</h4><x-numberinput id=\"x2-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y2-box\" vertical><h4 id=\"y2-heading\">End Y</h4><x-numberinput id=\"y2-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"length-section\"><h4 id=\"length-heading\">Length</h4><x-numberinput id=\"length-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></section></template>"]);_templateObject335=function _templateObject335(){return data;};return data;}function _templateObject334(){var data=_taggedTemplateLiteral(["#natural-size-section x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#natural-size-section x-numberinput{width:100%}#natural-size-section #natural-size-box{justify-content:space-between}#natural-size-section #natural-width-box{flex:1;margin-right:13px}#natural-size-section #natural-height-box{flex:1;margin-left:13px}"]);_templateObject334=function _templateObject334(){return data;};return data;}function _templateObject333(){var data=_taggedTemplateLiteral(["<template><h3>Image</h3><section id=\"natural-size-section\"><h4 id=\"natural-size-heading\">Natural size</h4><x-box id=\"natural-size-box\"><x-box id=\"natural-width-box\" vertical><x-label id=\"natural-width-heading\">Width</x-label><x-numberinput id=\"natural-width-input\" value=\"0\" min=\"0\" condensed disabled=\"disabled\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"natural-height-box\" vertical><x-label id=\"natural-height-heading\">Height</x-label><x-numberinput id=\"natural-height-input\" value=\"0\" min=\"0\" condensed disabled=\"disabled\"><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject333=function _templateObject333(){return data;};return data;}function _templateObject332(){var data=_taggedTemplateLiteral(["#position-section{margin-top:14px;display:flex}#position-section x-numberinput{width:100%}#position-section #x-box{flex:1;margin-right:13px}#position-section #y-box{flex:1;margin-left:13px}#orientation-section{margin-top:14px}#orientation-buttons{width:100%}#orientation-buttons x-button{flex:1}"]);_templateObject332=function _templateObject332(){return data;};return data;}function _templateObject331(){var data=_taggedTemplateLiteral(["<template><h3>Guide</h3><section id=\"position-section\"><x-box id=\"x-box\" vertical><h4>X</h4><x-numberinput id=\"x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><h4>Y</h4><x-numberinput id=\"y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"orientation-section\"><h4>Orientation</h4><x-buttons id=\"orientation-buttons\" tracking=\"1\"><x-button value=\"horizontal\" toggled><x-label>Horizontal</x-label></x-button><x-button value=\"vertical\"><x-label>Vertical</x-label></x-button></x-buttons></section></template>"]);_templateObject331=function _templateObject331(){return data;};return data;}function _templateObject330(){var data=_taggedTemplateLiteral(["#position-section{margin-top:14px;display:flex}#position-section x-numberinput{width:100%}#position-section #x-box{flex:1;margin-right:13px}#position-section #y-box{flex:1;margin-left:13px}#size-section{display:flex;margin-top:14px}#size-section x-numberinput{width:100%}#size-section #height-box,#size-section #width-box{flex:1}#aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#aspect-ratio-button[toggled]{opacity:.9}#aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject330=function _templateObject330(){return data;};return data;}function _templateObject329(){var data=_taggedTemplateLiteral(["<template><h3>Grid</h3><section id=\"position-section\"><x-box id=\"x-box\" vertical><h4>X</h4><x-numberinput id=\"x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><h4>Y</h4><x-numberinput id=\"y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"size-section\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"1\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"1\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject329=function _templateObject329(){return data;};return data;}function _templateObject328(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#radius-section{display:flex;margin-top:14px}#radius-section x-numberinput{width:100%}#radius-section #rx-box,#radius-section #ry-box{flex:1}#radius-section #aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#radius-section #aspect-ratio-button[toggled]{opacity:.9}#radius-section #aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject328=function _templateObject328(){return data;};return data;}function _templateObject327(){var data=_taggedTemplateLiteral(["<template><h3>Ellipse</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"radius-section\"><x-box id=\"rx-box\" vertical><h4 id=\"rx-heading\">Radius X</h4><x-numberinput id=\"rx-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"ry-box\" vertical><h4 id=\"ry-heading\">Radius Y</h4><x-numberinput id=\"ry-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject327=function _templateObject327(){return data;};return data;}function _templateObject326(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#arm-thickness-section{display:flex;margin-top:14px}#arm-thickness-section x-numberinput{width:100%}#arm-thickness-section #horizontal-arm-thickness-box{flex:1;margin-right:13px}#arm-thickness-section #vertical-arm-thickness-box{flex:1;margin-left:13px}#shift-section{margin-top:14px}#shift-section h4{margin-bottom:0}#shift-section x-box{width:100%}#shift-section x-numberinput{flex:0;width:80px;min-width:80px;margin-left:10px}"]);_templateObject326=function _templateObject326(){return data;};return data;}function _templateObject325(){var data=_taggedTemplateLiteral(["<template><h3>Cross</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"arm-thickness-section\"><x-box id=\"horizontal-arm-thickness-box\" vertical><h4 id=\"horizontal-arm-thickness-heading\">Arm 1 thickness</h4><x-numberinput id=\"horizontal-arm-thickness-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"vertical-arm-thickness-box\" vertical><h4 id=\"vertical-arm-thickness-heading\">Arm 2 thickness</h4><x-numberinput id=\"vertical-arm-thickness-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"shift-section\"><h4 id=\"shift-heading\">Shift</h4><x-box><x-slider id=\"shift-slider\" value=\"0\" min=\"-50\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"shift-input\" value=\"0\" min=\"-50\" max=\"50\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject325=function _templateObject325(){return data;};return data;}function _templateObject324(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#radius-section{display:flex;justify-content:space-between;margin-top:14px}#radius-section x-box{width:calc(33.3333% - 3px)}#radius-section x-numberinput{width:100%}#splay-section{margin-top:14px}#splay-section h4{margin-bottom:0}#splay-section x-box{width:100%}#splay-section x-numberinput{flex:0;width:80px;min-width:80px;margin-left:10px}#teeth-section{margin-top:14px}#teeth-section h4{margin-bottom:0}#teeth-section x-box{width:100%}#teeth-section x-numberinput{flex:0;width:80px;min-width:80px;margin-left:10px}"]);_templateObject324=function _templateObject324(){return data;};return data;}function _templateObject323(){var data=_taggedTemplateLiteral(["<template><h3>Cog</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"radius-section\"><x-box id=\"r1-box\" vertical><h4 id=\"r1-heading\">Radius 1</h4><x-numberinput id=\"r1-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r2-box\" vertical><h4 id=\"r2-heading\">Radius 2</h4><x-numberinput id=\"r2-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r3-box\" vertical><h4 id=\"r3-heading\">Radius 3</h4><x-numberinput id=\"r3-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"splay-section\"><h4 id=\"splay-heading\">Splay</h4><x-box><x-slider id=\"splay-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"splay-input\" value=\"0\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"teeth-section\"><h4 id=\"teeth-heading\">Teeth</h4><x-box><x-slider id=\"teeth-slider\" value=\"5\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"teeth-input\" value=\"5\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject323=function _templateObject323(){return data;};return data;}function _templateObject322(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#radius-section{margin-top:14px}#radius-input{width:100%}"]);_templateObject322=function _templateObject322(){return data;};return data;}function _templateObject321(){var data=_taggedTemplateLiteral(["<template><h3>Circle</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"radius-section\"><h4 id=\"radius-heading\">Radius</h4><x-numberinput id=\"radius-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></section></template>"]);_templateObject321=function _templateObject321(){return data;};return data;}function _templateObject320(){var data=_taggedTemplateLiteral(["#position-section{margin-top:14px;display:flex}#position-section x-numberinput{width:100%}#position-section #dx-box{flex:1;margin-right:13px}#position-section #dy-box{flex:1;margin-left:13px}#rotation-section{margin-top:14px}#rotation-section h4{margin-bottom:0}#rotation-section x-box{width:100%}#rotation-section x-slider{flex:1}#rotation-section x-numberinput{margin-left:10px;width:80px}"]);_templateObject320=function _templateObject320(){return data;};return data;}function _templateObject319(){var data=_taggedTemplateLiteral(["<template><h3>Character</h3><section id=\"position-section\"><x-box id=\"dx-box\" vertical><h4 id=\"dx-heading\">Delta X</h4><x-numberinput id=\"dx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"dy-box\" vertical><h4 id=\"dy-heading\">Delta Y</h4><x-numberinput id=\"dy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"rotation-section\"><h4 id=\"rotation-heading\">Rotation</h4><x-box id=\"rotation-box\"><x-slider id=\"rotation-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"rotation-input\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject319=function _templateObject319(){return data;};return data;}function _templateObject318(){var data=_taggedTemplateLiteral(["#base-thickness-section{margin-top:6px}#base-thickness-section h4{margin-bottom:0}#base-thickness-section x-box{width:100%}#base-thickness-section x-slider{flex:1}#base-thickness-section x-numberinput{width:80px;margin-left:10px}#head-thickness-section{margin-top:14px}#head-thickness-section h4{margin-bottom:0}#head-thickness-section x-box{width:100%}#head-thickness-section x-slider{flex:1}#head-thickness-section x-numberinput{width:80px;margin-left:10px}#head-length-section{margin-top:14px}#head-length-section h4{margin-bottom:0}#head-length-section x-box{width:100%}#head-length-section x-slider{flex:1}#head-length-section x-numberinput{width:80px;margin-left:10px}#head-inset-section{margin-top:14px}#head-inset-section h4{margin-bottom:0}#head-inset-section x-box{width:100%}#head-inset-section x-slider{flex:1}#head-inset-section x-numberinput{width:80px;margin-left:10px}"]);_templateObject318=function _templateObject318(){return data;};return data;}function _templateObject317(){var data=_taggedTemplateLiteral(["<template><h3>Arrow</h3><section id=\"base-thickness-section\"><h4>Base thickness</h4><x-box><x-slider id=\"base-thickness-slider\"></x-slider><x-numberinput id=\"base-thickness-input\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-thickness-section\"><h4>Head thickness</h4><x-box><x-slider id=\"head-thickness-slider\"></x-slider><x-numberinput id=\"head-thickness-input\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-length-section\"><h4>Head length</h4><x-box><x-slider id=\"head-length-slider\"></x-slider><x-numberinput id=\"head-length-input\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-inset-section\"><h4>Head inset</h4><x-box><x-slider id=\"head-inset-slider\"></x-slider><x-numberinput id=\"head-inset-input\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject317=function _templateObject317(){return data;};return data;}function _templateObject316(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;padding:18px 20px;box-sizing:border-box}:host([hidden]){display:none}h3{margin:0 0 14px 0}h4{margin-top:0}x-numberinput{max-width:none}x-switch{margin:0}"]);_templateObject316=function _templateObject316(){return data;};return data;}function _templateObject315(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}section{padding:15px 20px}#font-section{padding:10px 20px 20px 20px}#font-family-subsection{margin-bottom:15px}#font-family-popover{padding:0;height:100%;width:240px}#font-family-button{width:100%}#font-family-label{flex:1;font-size:20px;line-height:20px;text-align:start}#font-face-subsection{margin-bottom:15px}#font-face-box{width:100%}#font-weight-select{width:100%;min-width:10px}#font-style-button{min-width:fit-content;height:26px;font-style:italic;margin:0 0 0 8px}#font-size-box{width:100%}#font-size-slider{flex:1}#font-size-input{margin-left:6px;width:54px}#text-section x-button x-icon{width:20px;height:20px}#text-anchor-box{margin-top:14px}#text-anchor-buttons{width:100%}#text-anchor-buttons x-button{flex:1}#text-anchor-buttons x-button x-label{font-size:12px}#text-decoration-buttons{width:100%}#text-decoration-buttons x-button{padding:0 7px;height:28px;flex:1}#text-decoration-buttons x-label{font-weight:600;font-size:12px;text-align:center}#underline-button x-label{text-decoration:underline}#overline-button x-label{text-decoration:overline;line-height:1.3}#line-through-button x-label{text-decoration:line-through}#text-transform-box{width:100%;margin-top:14px}#text-transform-buttons{width:100%}#text-transform-buttons x-button{padding:0 5px;height:28px;flex:1}#text-transform-buttons x-label{font-weight:600;font-size:12px;text-align:center}#text-on-path-button{width:100%;text-align:center;height:28px}#path-start-offset-box{margin-top:14px}#path-start-offset-heading{margin-bottom:0}#path-start-offset-inner-box{width:100%}#path-start-offset-slider{flex:1}#path-start-offset-input{margin-left:6px;width:54px}#letter-spacing-box{margin-bottom:6px}#letter-spacing-heading{margin-bottom:0}#letter-spacing-inner-box{width:100%}#letter-spacing-slider{flex:1}#letter-spacing-input{margin-left:6px;width:54px}#word-spacing-box{margin-bottom:6px}#word-spacing-heading{margin-bottom:0}#word-spacing-inner-box{width:100%}#word-spacing-slider{flex:1}#word-spacing-input{margin-left:6px;width:54px}#line-spacing-heading{margin-bottom:0}#line-spacing-inner-box{width:100%}#line-spacing-slider{flex:1}#line-spacing-input{margin-left:6px;width:54px}"]);_templateObject315=function _templateObject315(){return data;};return data;}function _templateObject314(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Typography</h2><section id=\"font-section\"><h3 id=\"font-section-heading\">Font</h3><x-box id=\"font-family-subsection\" vertical><h4 id=\"font-family-heading\">Family</h4><x-button id=\"font-family-button\" size=\"larger\"><x-label id=\"font-family-label\">Arial</x-label><x-popover id=\"font-family-popover\" modal><bx-fontfamilypicker id=\"font-family-picker\"></bx-fontfamilypicker></x-popover></x-button></x-box><x-box id=\"font-face-subsection\" vertical><h4 id=\"font-face-heading\">Face</h4><x-box id=\"font-face-box\"><x-select id=\"font-weight-select\"><x-menu id=\"font-weight-menu\"><x-menuitem value=\"100\"><x-label>100 - Thin</x-label></x-menuitem><x-menuitem value=\"200\"><x-label>200 - Extra-Light</x-label></x-menuitem><x-menuitem value=\"300\"><x-label>300 - Light</x-label></x-menuitem><x-menuitem value=\"400\" selected=\"true\"><x-label>400 - Normal</x-label></x-menuitem><x-menuitem value=\"500\"><x-label>500 - Medium</x-label></x-menuitem><x-menuitem value=\"600\"><x-label>600 - Semi-Bold</x-label></x-menuitem><x-menuitem value=\"700\"><x-label>700 - Bold</x-label></x-menuitem><x-menuitem value=\"800\"><x-label>800 - Extra-Bold</x-label></x-menuitem><x-menuitem value=\"900\"><x-label>900 - Ultra-Bold</x-label></x-menuitem></x-menu></x-select><x-button id=\"font-style-button\" condensed togglable><x-label>Italic</x-label></x-button></x-box></x-box><x-box id=\"font-size-subsection\" vertical><h4 id=\"font-size-heading\">Size</h4><x-box id=\"font-size-box\"><x-slider id=\"font-size-slider\" value=\"13\" min=\"1\" max=\"150\" step=\"1\"></x-slider><x-numberinput id=\"font-size-input\" value=\"13\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><hr><section id=\"text-section\"><h3 id=\"text-section-heading\">Text</h3><x-box id=\"text-decoration-box\" vertical><h4 id=\"text-decoration-heading\">Decoration</h4><x-buttons id=\"text-decoration-buttons\" tracking=\"2\"><x-button id=\"underline-button\" value=\"underline\"><x-label>Underline</x-label></x-button><x-button id=\"line-through-button\" value=\"line-through\"><x-label>Line-through</x-label></x-button><x-button id=\"overline-button\" value=\"overline\"><x-label>Overline</x-label></x-button></x-buttons></x-box><x-box id=\"text-transform-box\" vertical><h4 id=\"text-transform-heading\">Transform</h4><x-buttons id=\"text-transform-buttons\" tracking=\"0\"><x-button id=\"capitalize-button\" value=\"capitalize\"><x-label>Capitalize</x-label></x-button><x-button id=\"uppercase-button\" value=\"uppercase\"><x-label>UPPERCASE</x-label></x-button><x-button id=\"lowercase-button\" value=\"lowercase\"><x-label>lowercase</x-label></x-button></x-buttons></x-box><x-box id=\"text-anchor-box\" vertical><h4 id=\"text-anchor-heading\">Anchor</h4><x-buttons id=\"text-anchor-buttons\" tracking=\"1\"><x-button id=\"start-text-anchor-button\" value=\"start\" toggled><x-label>Start</x-label></x-button><x-button id=\"middle-text-anchor-button\" value=\"middle\"><x-label>Middle</x-label></x-button><x-button id=\"end-text-anchor-button\" value=\"end\"><x-label>End</x-label></x-button></x-buttons></x-box></section><hr><section id=\"path-section\"><h3 id=\"path-section-heading\">Path</h3><x-button id=\"text-on-path-button\" togglable><x-label>Text on path</x-label></x-button><x-box id=\"path-start-offset-box\" vertical><h4 id=\"path-start-offset-heading\">Start offset</h4><x-box id=\"path-start-offset-inner-box\"><x-slider id=\"path-start-offset-slider\" value=\"0\" min=\"-500\" max=\"500\" step=\"1\"></x-slider><x-numberinput id=\"path-start-offset-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><hr><section id=\"spacing-section\"><h3 id=\"spacing-section-heading\">Spacing</h3><x-box id=\"letter-spacing-box\" vertical><h4 id=\"letter-spacing-heading\">Letter</h4><x-box id=\"letter-spacing-inner-box\"><x-slider id=\"letter-spacing-slider\" value=\"0\" min=\"-20\" max=\"20\" step=\"0.1\"></x-slider><x-numberinput id=\"letter-spacing-input\" value=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"word-spacing-box\" vertical><h4 id=\"word-spacing-heading\">Word</h4><x-box id=\"word-spacing-inner-box\"><x-slider id=\"word-spacing-slider\" value=\"0\" min=\"-100\" max=\"100\" step=\"0.1\"></x-slider><x-numberinput id=\"word-spacing-input\" value=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"line-spacing-box\" vertical><h4 id=\"line-spacing-heading\">Line</h4><x-box id=\"line-spacing-inner-box\"><x-slider id=\"line-spacing-slider\" value=\"0\" min=\"-3\" max=\"3\" step=\"0.1\"></x-slider><x-numberinput id=\"line-spacing-input\" value=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject314=function _templateObject314(){return data;};return data;}function _templateObject313(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%;box-sizing:border-box}:host(:focus){outline:0}#main{display:flex;flex-flow:column;height:100%;width:100%}h4{margin:0;padding:5px;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;text-transform:uppercase;font-size:11px;line-height:1}#items{width:100%;flex:1;overflow:auto;contain:strict;box-sizing:border-box}#embedded-items-heading{border-top:none}#embedded-items .item{padding:3px 6px;height:28px;display:flex;align-items:center;box-sizing:border-box}#embedded-items .item[data-selected]{color:#fff;background:var(--accent-color)}#embedded-items .item[hidden]{display:none}#embedded-items .item .label{overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:20px}#embedded-items-placeholder{padding:5px 7px;font-size:12px;opacity:.6}#google-fonts-items .item{height:25px;overflow:hidden;display:block;box-sizing:border-box;padding:0 6px;opacity:.75;background:0 0;-webkit-user-drag:none}#google-fonts-items .item[hidden]{display:none}#google-fonts-items .item[data-selected]{background:var(--accent-color);opacity:1}#google-fonts-items-placeholder{padding:5px 7px;font-size:12px;opacity:.6}#footer{padding:5px;border-top-width:1px;border-top-style:solid}#filter-input{flex:1;max-width:none;border-top-right-radius:0;border-bottom-right-radius:0}#sort-select{width:104px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}#footer #manage-button{width:100%;margin-top:5px;flex:1}#footer #manage-button x-icon{width:14px;height:14px}"]);_templateObject313=function _templateObject313(){return data;};return data;}function _templateObject312(){var data=_taggedTemplateLiteral(["<template><main id=\"main\" part=\"main\"><div id=\"items\"><div id=\"embedded-items-container\"><h4 id=\"embedded-items-heading\" part=\"heading\">Embedded fonts</h4><div id=\"embedded-items\"></div><div id=\"embedded-items-placeholder\" hidden>No families found.</div></div><div id=\"google-fonts-items-contaner\"><h4 id=\"google-fonts-items-heading\" part=\"heading\">Google fonts</h4><div id=\"google-fonts-items\"></div><div id=\"google-fonts-items-placeholder\" hidden>No families found.</div></div></div></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"filter-input\" placeholder=\"Filter\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-select id=\"sort-select\"><x-menu><x-menuitem value=\"alphabetical\" toggled><x-label>Name</x-label></x-menuitem><x-menuitem value=\"popularity\"><x-label>Popularity</x-label></x-menuitem><x-menuitem value=\"date\"><x-label>Date</x-label></x-menuitem><x-menuitem value=\"trending\"><x-label>Trending</x-label></x-menuitem></x-menu></x-select></x-box><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button></footer></template>"]);_templateObject312=function _templateObject312(){return data;};return data;}function _templateObject311(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}section{padding:15px 20px}section[hidden]+hr{display:none}#filter-section{padding:10px 20px 15px}#filter-select{width:100%}#filter-settings-wrapper:not(:empty){margin-top:14px}#filter-convert-button{width:100%;margin-top:14px}#filter-edit-button{width:100%;margin-top:14px}#blend-mode-select{width:100%}#isolation-checkbox{margin-top:10px}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}#cover-buttons>x-button{flex:1}#cover-buttons>x-button:last-child{margin-left:8px}"]);_templateObject311=function _templateObject311(){return data;};return data;}function _templateObject310(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Compositing</h2><section id=\"filter-section\"><h3 id=\"filter-section-heading\">Filter</h3><bx-filterselect id=\"filter-select\"></bx-filterselect><div id=\"filter-settings-wrapper\"></div><x-button id=\"filter-convert-button\"><x-label>Convert to custom filter</x-label></x-button><x-button id=\"filter-edit-button\"><x-label>Edit custom filter\u2026</x-label></x-button></section><hr><section id=\"blend-mode-section\"><h3 id=\"blend-mode-section-heading\">Blend mode</h3><x-select id=\"blend-mode-select\"><x-menu><x-menuitem value=\"normal\" toggled><x-label>Normal</x-label></x-menuitem><hr><x-menuitem value=\"darken\"><x-label>Darken</x-label></x-menuitem><x-menuitem value=\"multiply\"><x-label>Multiply</x-label></x-menuitem><x-menuitem value=\"color-burn\"><x-label>Color Burn</x-label></x-menuitem><hr><x-menuitem value=\"lighten\"><x-label>Lighten</x-label></x-menuitem><x-menuitem value=\"screen\"><x-label>Screen</x-label></x-menuitem><x-menuitem value=\"color-dodge\"><x-label>Color Dodge</x-label></x-menuitem><hr><x-menuitem value=\"overlay\"><x-label>Overlay</x-label></x-menuitem><x-menuitem value=\"soft-light\"><x-label>Soft Light</x-label></x-menuitem><x-menuitem value=\"hard-light\"><x-label>Hard Light</x-label></x-menuitem><hr><x-menuitem value=\"difference\"><x-label>Difference</x-label></x-menuitem><x-menuitem value=\"exclusion\"><x-label>Exclusion</x-label></x-menuitem><hr><x-menuitem value=\"hue\"><x-label>Hue</x-label></x-menuitem><x-menuitem value=\"saturation\"><x-label>Saturation</x-label></x-menuitem></x-menu></x-select><x-checkbox id=\"isolation-checkbox\"><x-label id=\"isolation-label\">Isolate</x-label></x-checkbox></section><hr><section id=\"opacity-section\"><h3 id=\"opacity-section-heading\">Opacity</h3><x-box id=\"opacity-box\"><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><hr><section id=\"cover-section\"><h3 id=\"cover-section-heading\">Cover</h3><x-box id=\"cover-buttons\"><x-button id=\"clip-button\" togglable><x-icon name=\"object-clip\"></x-icon><x-label>Clip</x-label></x-button><x-button id=\"mask-button\" togglable><x-icon name=\"object-mask\"></x-icon><x-label>Mask</x-label></x-button></x-box></section></template>"]);_templateObject310=function _templateObject310(){return data;};return data;}function _templateObject309(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#colors-section{margin-top:14px;display:flex}#colors-section>x-box{flex:1}#colors-section>x-box:first-child{margin-right:7px}#colors-section>x-box:last-child{margin-left:7px}#colors-section x-colorselect{width:100%}#colors-section x-popover{--align:right}#gamma-section{margin-top:14px}#gamma-section h4{margin-bottom:0}#gamma-section x-box{width:100%}#gamma-section x-slider{flex:1}#gamma-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject309=function _templateObject309(){return data;};return data;}function _templateObject308(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"colors-section\"><x-box id=\"shadows-color-box\" vertical><h4 id=\"shadows-color-heading\">Shadows color</h4><x-colorselect id=\"shadows-color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"shadows-color-popover\" modal><bx-colorpicker id=\"shadows-color-picker\"></bx-colorpicker></x-popover></x-colorselect></x-box><x-box id=\"highlights-color-box\" vertical><h4 id=\"highlights-color-heading\">Highlights color</h4><x-colorselect id=\"highlights-color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"highlights-color-popover\" modal><bx-colorpicker id=\"highlights-color-picker\"></bx-colorpicker></x-popover></x-colorselect></x-box></section><section id=\"gamma-section\"><h4 id=\"gamma-heading\">Gamma correction</h4><x-box id=\"gamma-box\"><x-slider id=\"gamma-slider\" value=\"0\" min=\"0\" max=\"4\" step=\"0.1\"></x-slider><x-numberinput id=\"gamma-input\" value=\"0\" min=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject308=function _templateObject308(){return data;};return data;}function _templateObject307(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#channels-section{margin-top:14px}#channels-buttons{width:100%}#channels-buttons x-button{flex:1}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}#saturation-section{margin-top:14px}#saturation-section h4{margin-bottom:0}#saturation-section x-box{width:100%}#saturation-section x-slider{flex:1}#saturation-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject307=function _templateObject307(){return data;};return data;}function _templateObject306(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"channels-section\"><h4 id=\"channels-heading\">Channels</h4><x-buttons id=\"channels-buttons\" tracking=\"2\"><x-button value=\"r\" toggled><x-label>Red</x-label></x-button><x-button value=\"g\"><x-label>Green</x-label></x-button><x-button value=\"b\"><x-label>Blue</x-label></x-button></x-buttons></section><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"5\" min=\"1\" max=\"20\" step=\"1\"></x-slider><x-numberinput id=\"amount-input\" value=\"5\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"saturation-section\"><h4 id=\"saturation-heading\">Saturation</h4><x-box id=\"saturation-box\"><x-slider id=\"saturation-slider\" value=\"0.9\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"saturation-input\" value=\"0.9\" min=\"0\" max=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject306=function _templateObject306(){return data;};return data;}function _templateObject305(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject305=function _templateObject305(){return data;};return data;}function _templateObject304(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject304=function _templateObject304(){return data;};return data;}function _templateObject303(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject303=function _templateObject303(){return data;};return data;}function _templateObject302(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject302=function _templateObject302(){return data;};return data;}function _templateObject301(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject301=function _templateObject301(){return data;};return data;}function _templateObject300(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject300=function _templateObject300(){return data;};return data;}function _templateObject299(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#angle-section{margin-top:14px}#angle-section h4{margin-bottom:0}#angle-section x-box{width:100%}#angle-section x-slider{flex:1}#angle-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject299=function _templateObject299(){return data;};return data;}function _templateObject298(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"angle-section\"><h4 id=\"angle-heading\">Angle</h4><x-box id=\"angle-box\"><x-slider id=\"angle-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"angle-input\" value=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject298=function _templateObject298(){return data;};return data;}function _templateObject297(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:60px;margin-left:10px}"]);_templateObject297=function _templateObject297(){return data;};return data;}function _templateObject296(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject296=function _templateObject296(){return data;};return data;}function _templateObject295(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject295=function _templateObject295(){return data;};return data;}function _templateObject294(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject294=function _templateObject294(){return data;};return data;}function _templateObject293(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject293=function _templateObject293(){return data;};return data;}function _templateObject292(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject292=function _templateObject292(){return data;};return data;}function _templateObject291(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#balance-section{margin-top:14px}#balance-section h4{margin-bottom:0}#balance-section x-box{width:100%}#balance-section x-slider{flex:1}#balance-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject291=function _templateObject291(){return data;};return data;}function _templateObject290(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"balance-section\"><h4 id=\"balance-heading\">Balance</h4><x-box id=\"balance-box\"><x-slider id=\"balance-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"balance-input\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject290=function _templateObject290(){return data;};return data;}function _templateObject289(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#operator-section{margin-top:14px}#operator-buttons{width:100%}#operator-buttons x-button{flex:1}#radius-section{margin-top:14px}#radius-section h4{margin-bottom:0}#radius-section x-box{width:100%}#radius-section x-slider{flex:1}#radius-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject289=function _templateObject289(){return data;};return data;}function _templateObject288(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"operator-section\"><h4 id=\"operator-heading\">Operator</h4><x-buttons id=\"operator-buttons\" tracking=\"1\"><x-button value=\"dilate\"><x-label>Dilate</x-label></x-button><x-button value=\"erode\" toggled><x-label>Erode</x-label></x-button></x-buttons></section><section id=\"radius-section\"><h4 id=\"radius-heading\">Radius</h4><x-box id=\"radius-box\"><x-slider id=\"radius-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"1\"></x-slider><x-numberinput id=\"radius-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject288=function _templateObject288(){return data;};return data;}function _templateObject287(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#pixel-size-section{margin-top:14px}#pixel-size-section h4{margin-bottom:0}#pixel-size-section x-box{width:100%}#pixel-size-section x-slider{flex:1}#pixel-size-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject287=function _templateObject287(){return data;};return data;}function _templateObject286(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"pixel-size-section\"><h4 id=\"pixel-size-heading\">Pixel size</h4><x-box id=\"pixel-size-box\"><x-slider id=\"pixel-size-slider\" value=\"10\" min=\"1\" max=\"30\" step=\"1\"></x-slider><x-numberinput id=\"pixel-size-input\" value=\"10\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject286=function _templateObject286(){return data;};return data;}function _templateObject285(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}#frequency-section{margin-top:14px}#frequency-section h4{margin-bottom:0}#frequency-section x-box{width:100%}#frequency-section x-slider{flex:1}#frequency-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject285=function _templateObject285(){return data;};return data;}function _templateObject284(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"frequency-section\"><h4 id=\"frequency-heading\">Frequency</h4><x-box id=\"frequency-box\"><x-slider id=\"frequency-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"frequency-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject284=function _templateObject284(){return data;};return data;}function _templateObject283(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#orientation-section{margin-top:14px}#orientation-buttons{width:100%}#orientation-buttons x-button{flex:1}#distance-section{margin-top:14px}#distance-section h4{margin-bottom:0}#distance-section x-box{width:100%}#distance-section x-slider{flex:1}#distance-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject283=function _templateObject283(){return data;};return data;}function _templateObject282(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"orientation-section\"><h4 id=\"orientation-heading\">Orientation</h4><x-buttons id=\"orientation-buttons\" tracking=\"1\"><x-button value=\"horizontal\" toggled><x-label>Horizontal</x-label></x-button><x-button value=\"vertical\"><x-label>Vertical</x-label></x-button></x-buttons></section><section id=\"distance-section\"><h4 id=\"distance-heading\">Distance</h4><x-box id=\"distance-box\"><x-slider id=\"distance-slider\" value=\"10\" min=\"0\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"distance-input\" value=\"10\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject282=function _templateObject282(){return data;};return data;}function _templateObject281(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#radius-section{margin-top:14px}#radius-section h4{margin-bottom:0}#radius-section x-box{width:100%}#radius-section x-slider{flex:1}#radius-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject281=function _templateObject281(){return data;};return data;}function _templateObject280(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"radius-section\"><h4 id=\"radius-heading\">Radius</h4><x-box id=\"radius-box\"><x-slider id=\"radius-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"0.1\"></x-slider><x-numberinput id=\"radius-input\" value=\"0\" min=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject280=function _templateObject280(){return data;};return data;}function _templateObject279(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#width-section{margin-top:14px}#width-section h4{margin-bottom:0}#width-section x-box{width:100%}#width-section x-slider{flex:1}#width-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select x-popover{--align:right}"]);_templateObject279=function _templateObject279(){return data;};return data;}function _templateObject278(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"width-section\"><h4 id=\"width-heading\">Width</h4><x-box id=\"width-box\"><x-slider id=\"width-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"1\"></x-slider><x-numberinput id=\"width-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject278=function _templateObject278(){return data;};return data;}function _templateObject277(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#source-section{display:flex;margin-top:14px}#source-section x-box{width:100%}#source-section x-box:first-child{margin-right:8px}#source-section x-box:last-child{margin-left:8px}#source-section x-numberinput{width:100%}#target-section{display:flex;margin-top:14px}#target-section x-box{width:100%}#target-section x-box:first-child{margin-right:8px}#target-section x-box:last-child{margin-left:8px}#target-section x-numberinput{width:100%}#cone-angle-section{margin-top:14px}#cone-angle-section h4{margin-bottom:0}#cone-angle-section x-box{width:100%}#cone-angle-section x-slider{flex:1}#cone-angle-section x-numberinput{width:54px;margin-left:10px}#specular-exponent-section{margin-top:14px}#specular-exponent-section h4{margin-bottom:0}#specular-exponent-section x-box{width:100%}#specular-exponent-section x-slider{flex:1}#specular-exponent-section x-numberinput{width:54px;margin-left:10px}#specular-constant-section{margin-top:14px}#specular-constant-section h4{margin-bottom:0}#specular-constant-section x-box{width:100%}#specular-constant-section x-slider{flex:1}#specular-constant-section x-numberinput{width:54px;margin-left:10px}#diffuse-constant-section{margin-top:14px}#diffuse-constant-section h4{margin-bottom:0}#diffuse-constant-section x-box{width:100%}#diffuse-constant-section x-slider{flex:1}#diffuse-constant-section x-numberinput{width:54px;margin-left:10px}#ambient-constant-section{margin-top:14px}#ambient-constant-section h4{margin-bottom:0}#ambient-constant-section x-box{width:100%}#ambient-constant-section x-slider{flex:1}#ambient-constant-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select{width:100%}"]);_templateObject277=function _templateObject277(){return data;};return data;}function _templateObject276(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"source-section\"><x-box id=\"source-x-box\" vertical><h4 id=\"source-x-heading\">Source X</h4><x-numberinput id=\"source-x-input\" data-param=\"x\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-y-box\" vertical><h4 id=\"source-y-heading\">Source Y</h4><x-numberinput id=\"source-y-input\" data-param=\"y\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-z-box\" vertical><h4 id=\"source-z-heading\">Source Z</h4><x-numberinput id=\"source-z-input\" data-param=\"z\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"target-section\"><x-box id=\"target-x-box\" vertical><h4 id=\"target-x-heading\">Target X</h4><x-numberinput id=\"target-x-input\" data-param=\"x\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"target-y-box\" vertical><h4 id=\"target-y-heading\">Target Y</h4><x-numberinput id=\"target-y-input\" data-param=\"y\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"target-z-box\" vertical><h4 id=\"target-z-heading\">Target Z</h4><x-numberinput id=\"target-z-input\" data-param=\"z\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"cone-angle-section\"><h4 id=\"cone-angle-heading\">Cone angle</h4><x-box id=\"cone-angle-box\"><x-slider id=\"cone-angle-slider\" value=\"0\" min=\"1\" max=\"90\" step=\"1\"></x-slider><x-numberinput id=\"cone-angle-input\" value=\"0\" min=\"1\" max=\"90\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"specular-exponent-section\"><h4 id=\"specular-exponent-heading\">Surface shininess</h4><x-box id=\"specular-exponent-box\"><x-slider id=\"specular-exponent-slider\" value=\"1\" min=\"1\" max=\"128\" step=\"1\"></x-slider><x-numberinput id=\"specular-exponent-input\" value=\"1\" min=\"1\" max=\"128\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"specular-constant-section\"><h4 id=\"specular-constant-heading\">Specular light</h4><x-box id=\"specular-constant-box\"><x-slider id=\"specular-constant-slider\" value=\"1\" min=\"0.01\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"specular-constant-input\" value=\"1\" min=\"0.01\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"diffuse-constant-section\"><h4 id=\"diffuse-constant-heading\">Diffuse light</h4><x-box id=\"diffuse-constant-box\"><x-slider id=\"diffuse-constant-slider\" value=\"1\" min=\"0.01\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"diffuse-constant-input\" value=\"1\" min=\"0.01\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"ambient-constant-section\"><h4 id=\"ambient-constant-heading\">Ambient light</h4><x-box id=\"ambient-constant-box\"><x-slider id=\"ambient-constant-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"ambient-constant-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"#ffffff\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject276=function _templateObject276(){return data;};return data;}function _templateObject275(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#source-section{display:flex;margin-top:14px}#source-section x-box{width:100%}#source-section x-box:first-child{margin-right:8px}#source-section x-box:last-child{margin-left:8px}#source-section x-numberinput{width:100%}#specular-exponent-section{margin-top:14px}#specular-exponent-section h4{margin-bottom:0}#specular-exponent-section x-box{width:100%}#specular-exponent-section x-slider{flex:1}#specular-exponent-section x-numberinput{width:54px;margin-left:10px}#specular-constant-section{margin-top:14px}#specular-constant-section h4{margin-bottom:0}#specular-constant-section x-box{width:100%}#specular-constant-section x-slider{flex:1}#specular-constant-section x-numberinput{width:54px;margin-left:10px}#diffuse-constant-section{margin-top:14px}#diffuse-constant-section h4{margin-bottom:0}#diffuse-constant-section x-box{width:100%}#diffuse-constant-section x-slider{flex:1}#diffuse-constant-section x-numberinput{width:54px;margin-left:10px}#ambient-constant-section{margin-top:14px}#ambient-constant-section h4{margin-bottom:0}#ambient-constant-section x-box{width:100%}#ambient-constant-section x-slider{flex:1}#ambient-constant-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select{width:100%}"]);_templateObject275=function _templateObject275(){return data;};return data;}function _templateObject274(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"source-section\"><x-box id=\"source-x-box\" vertical><h4 id=\"source-x-heading\">Source X</h4><x-numberinput id=\"source-x-input\" data-param=\"x\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-y-box\" vertical><h4 id=\"source-y-heading\">Source Y</h4><x-numberinput id=\"source-y-input\" data-param=\"y\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-z-box\" vertical><h4 id=\"source-z-heading\">Source Z</h4><x-numberinput id=\"source-z-input\" data-param=\"z\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"specular-exponent-section\"><h4 id=\"specular-exponent-heading\">Surface shininess</h4><x-box id=\"specular-exponent-box\"><x-slider id=\"specular-exponent-slider\" value=\"1\" min=\"1\" max=\"128\" step=\"1\"></x-slider><x-numberinput id=\"specular-exponent-input\" value=\"1\" min=\"1\" max=\"128\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"specular-constant-section\"><h4 id=\"specular-constant-heading\">Specular light</h4><x-box id=\"specular-constant-box\"><x-slider id=\"specular-constant-slider\" value=\"1\" min=\"0.01\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"specular-constant-input\" value=\"1\" min=\"0.01\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"diffuse-constant-section\"><h4 id=\"diffuse-constant-heading\">Diffuse light</h4><x-box id=\"diffuse-constant-box\"><x-slider id=\"diffuse-constant-slider\" value=\"1\" min=\"0.01\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"diffuse-constant-input\" value=\"1\" min=\"0.01\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"ambient-constant-section\"><h4 id=\"ambient-constant-heading\">Ambient light</h4><x-box id=\"ambient-constant-box\"><x-slider id=\"ambient-constant-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"ambient-constant-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"#ffffff\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject274=function _templateObject274(){return data;};return data;}function _templateObject273(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#offset-section{display:flex;margin-top:14px}#offset-section x-box{width:100%}#offset-section x-box:first-child{margin-right:8px}#offset-section x-box:last-child{margin-left:8px}#offset-section x-numberinput{width:100%}#blur-radius-section{margin-top:14px}#blur-radius-section h4{margin-bottom:0}#blur-radius-section x-box{width:100%}#blur-radius-section x-slider{flex:1}#blur-radius-section x-numberinput{width:54px;margin-left:10px}#choke-section{margin-top:14px}#choke-section h4{margin-bottom:0}#choke-section x-box{width:100%}#choke-section x-slider{flex:1}#choke-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select x-popover{--align:right}"]);_templateObject273=function _templateObject273(){return data;};return data;}function _templateObject272(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"offset-section\"><x-box id=\"offset-x-box\" vertical><h4 id=\"offset-x-heading\">Offset X</h4><x-numberinput id=\"offset-x-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"offset-y-box\" vertical><h4 id=\"offset-y-heading\">Offset Y</h4><x-numberinput id=\"offset-y-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"blur-radius-section\"><h4 id=\"blur-radius-heading\">Blur radius</h4><x-box id=\"blur-radius-box\"><x-slider id=\"blur-radius-slider\" value=\"0\" min=\"0\" max=\"40\" step=\"1\"></x-slider><x-numberinput id=\"blur-radius-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"choke-section\"><h4 id=\"choke-heading\">Choke</h4><x-box id=\"choke-box\"><x-slider id=\"choke-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"choke-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject272=function _templateObject272(){return data;};return data;}function _templateObject271(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#offset-section{display:flex;margin-top:14px}#offset-section x-box{width:100%}#offset-section x-box:first-child{margin-right:8px}#offset-section x-box:last-child{margin-left:8px}#offset-section x-numberinput{width:100%}#blur-radius-section{margin-top:14px}#blur-radius-section h4{margin-bottom:0}#blur-radius-section x-box{width:100%}#blur-radius-section x-slider{flex:1}#blur-radius-section x-numberinput{width:54px;margin-left:10px}#spread-section{margin-top:14px}#spread-section h4{margin-bottom:0}#spread-section x-box{width:100%}#spread-section x-slider{flex:1}#spread-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select x-popover{--align:right}"]);_templateObject271=function _templateObject271(){return data;};return data;}function _templateObject270(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"offset-section\"><x-box id=\"offset-x-box\" vertical><h4 id=\"offset-x-heading\">Offset X</h4><x-numberinput id=\"offset-x-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"offset-y-box\" vertical><h4 id=\"offset-y-heading\">Offset Y</h4><x-numberinput id=\"offset-y-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"blur-radius-section\"><h4 id=\"blur-radius-heading\">Blur radius</h4><x-box id=\"blur-radius-box\"><x-slider id=\"blur-radius-slider\" value=\"0\" min=\"0\" max=\"20\" step=\"1\"></x-slider><x-numberinput id=\"blur-radius-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"spread-section\"><h4 id=\"spread-heading\">Spread</h4><x-box id=\"spread-box\"><x-slider id=\"spread-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"spread-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject270=function _templateObject270(){return data;};return data;}function _templateObject269(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host(:focus){outline:0}#expand-button{width:100%;padding:0 10px;justify-content:start}#expand-button>x-box{flex:1}#expand-button-thumbnail{width:27px;height:27px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#expand-button-thumbnail[hidden]{display:none}:host([mixed]) #expand-button-thumbnail{opacity:.7}#expand-button-thumbnail-img{display:block;width:100%;height:100%;pointer-events:none}#expand-button-label{text-align:start;margin-left:7px}:host([mixed]) #expand-button-label{opacity:.7}#popover{flex-flow:column;width:240px;min-height:79px}#popover[open]{display:flex}#popover>#main{display:flex;flex-flow:column;padding:0;box-sizing:border-box}#items{flex:1;width:100%;box-sizing:border-box;overflow:auto}#items .placeholder{padding:9px 10px;opacity:.6;box-sizing:border-box;font-size:12px}#items h4{margin:0;padding:5px;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;text-transform:uppercase;font-size:11px;line-height:1}#items .item{width:100%;height:38px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#items .item[data-selected]{background:var(--accent-color)}#items .item .thumbnail{width:28px;height:28px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#items .item .thumbnail img{display:block;width:100%;height:100%;pointer-events:none}#items .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#items .item[data-selected] .label{color:#fff}#footer{display:flex;justify-content:flex-end;min-height:fit-content;padding:4px;border-top-width:1px;border-top-style:solid}#footer #manage-button{flex:1}#footer #manage-button x-icon{width:14px;height:14px}#footer #developer-mode-button{margin-left:4px}#footer #developer-mode-button x-icon{width:11px;height:11px}#custom-filters-mirror,#preset-filters-mirror{width:0;height:0;display:block}"]);_templateObject269=function _templateObject269(){return data;};return data;}function _templateObject268(){var data=_taggedTemplateLiteral(["<template><x-button id=\"expand-button\" size=\"larger\" disabled=\"disabled\"><x-box><div id=\"expand-button-thumbnail\" part=\"thumbnail\"><img id=\"expand-button-thumbnail-img\" src=\"","\"></div><x-label id=\"expand-button-label\">None</x-label></x-box><x-popover id=\"popover\" modal><main id=\"main\"><div id=\"items\"><div id=\"none-item\" class=\"item\" data-value=\"none\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">None</div></div><div id=\"preset-items-container\"><h4 id=\"preset-items-heading\" part=\"heading\">Preset filters</h4><div id=\"preset-items\"><div class=\"item\" data-value=\"drop-shadow\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"inner-shadow\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"point-light\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"spot-light\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"outline\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><hr><div class=\"item\" data-value=\"gaussian-blur\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"motion-blur\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"warp\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"pixelete\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"morphology\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><hr><div class=\"item\" data-value=\"black-and-white\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"grayscale\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"sepia\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"saturate\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"hue-rotate\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"invert\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"brightness\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"contrast\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"posterize\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"duotone\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"x-ray\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div></div></div><div id=\"custom-items-container\"><h4 id=\"custom-items-heading\" part=\"heading\">Custom filters</h4><div id=\"custom-items\"></div><div id=\"custom-items-placeholder\" class=\"placeholder\" hidden>No filters found.</div></div></div></main><footer id=\"footer\" part=\"footer\"><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button><x-button id=\"developer-mode-button\" title=\"Show IDs\" condensed title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button></footer></x-popover></x-button><svg id=\"custom-filters-mirror\"></svg> <svg id=\"preset-filters-mirror\"></svg></template>"]);_templateObject268=function _templateObject268(){return data;};return data;}function _templateObject267(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}#paint-section{padding:0 20px 20px 20px}#opacity-section{padding:15px 20px 20px 20px}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}#width-section{padding:15px 20px 17px 20px}#width-slider{flex:1}#width-input{margin-left:6px;width:54px}#non-scaling-stroke-checkbox{margin-top:5px}#line-section{padding:15px 20px 17px 20px}#line-cap-join-subsection{display:flex}#line-join-box{margin-left:38px}#miter-limit-subsection{margin-top:24px}#miter-limit-box h4{margin-bottom:2px}#miter-limit-box{width:100%}#miter-limit-slider{flex:1}#miter-limit-input{margin-left:6px;width:54px}#dash-section{padding:15px 20px 20px 20px}#dash-array-select{width:100%;margin-bottom:10px}#dash-array-inputs{width:100%}#dash-array-inputs>x-box{width:40px;margin-left:-1px;flex:1}#dash-array-inputs>x-box:first-child{margin-left:0}#dash-array-inputs x-numberinput{width:100%;text-align:center;--inner-padding:0 3px}#dash-array-inputs x-label{align-self:center;margin-right:4px;font-weight:900;opacity:.9}#dash-array-inputs x-label[disabled]{opacity:.4}#dash-array-inputs x-label.gap{opacity:.2}#dash-array-inputs x-label.gap[disabled]{opacity:.1}#dash-offset-box{margin-top:16px}#dash-offset-box h4{margin-bottom:2px}#dash-offset-inner-box{width:100%}#dash-offset-slider{flex:1}#dash-offset-input{margin-left:6px;width:54px}#marker-section{padding:15px 20px 20px 20px}#markers-box{justify-content:space-between}#markers-box>x-box{width:calc(33% - 4px)}"]);_templateObject267=function _templateObject267(){return data;};return data;}function _templateObject266(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Stroke</h2><section id=\"paint-section\"><bx-paintinspector id=\"stroke-paint-inspector\" context=\"stroke\"></bx-paintinspector></section><hr><section id=\"opacity-section\"><h3 id=\"opacity-section-heading\">Opacity</h3><x-box><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><hr><section id=\"width-section\"><h3 id=\"width-section-heading\">Width</h3><x-box id=\"width-box\"><x-slider id=\"width-slider\" value=\"1\" min=\"0\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"width-input\" value=\"1\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-checkbox id=\"non-scaling-stroke-checkbox\"><x-label>Non-scaling stroke</x-label></x-checkbox></section><hr><section id=\"line-section\"><h3 id=\"line-section-heading\">Line</h3><section id=\"line-cap-join-subsection\"><x-box id=\"line-cap-box\" vertical><h4 id=\"line-cap-box-heading\">Cap</h4><x-buttons id=\"line-cap-buttons\" class=\"buttons\" tracking=\"1\"><x-button id=\"butt-line-cap-button\" value=\"butt\" title=\"Butt cap\" skin=\"flat\"><x-icon name=\"cap-butt\"></x-icon></x-button><x-button id=\"round-line-cap-button\" value=\"round\" title=\"Round cap\" skin=\"flat\"><x-icon name=\"cap-round\"></x-icon></x-button><x-button id=\"square-line-cap-button\" value=\"square\" title=\"Square cap\" skin=\"flat\"><x-icon name=\"cap-square\"></x-icon></x-button></x-buttons></x-box><x-box id=\"line-join-box\" vertical><h4 id=\"line-join-box-heading\">Join</h4><x-buttons id=\"line-join-buttons\" class=\"buttons\" tracking=\"1\"><x-button id=\"miter-line-join-button\" value=\"miter\" title=\"Miter join\" skin=\"flat\"><x-icon name=\"join-miter\"></x-icon></x-button><x-button id=\"round-line-join-button\" value=\"round\" title=\"Round join\" skin=\"flat\"><x-icon name=\"join-round\"></x-icon></x-button><x-button id=\"bevel-line-join-button\" value=\"bevel\" title=\"Bevel join\" skin=\"flat\"><x-icon name=\"join-bevel\"></x-icon></x-button></x-buttons></x-box></section><section id=\"miter-limit-subsection\"><h4 id=\"miter-limit-heading\">Miter limit</h4><x-box id=\"miter-limit-box\"><x-slider id=\"miter-limit-slider\" value=\"1\" min=\"1\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"miter-limit-input\" value=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"dash-section\"><h3 id=\"dash-section-heading\">Dash</h3><x-box id=\"dash-array-box\" vertical><h4 id=\"dash-array-box-heading\">Array</h4><x-select id=\"dash-array-select\"><x-menu>","</x-menu></x-select><x-box id=\"dash-array-inputs\"><x-box vertical><x-numberinput id=\"dash-1-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label>\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-2-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label class=\"gap\">\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-3-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label>\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-4-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label class=\"gap\">\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-5-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label>\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-6-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label class=\"gap\">\u2014</x-label></x-box></x-box></x-box><x-box id=\"dash-offset-box\" vertical><h4 id=\"dash-offset-heading\">Offset</h4><x-box id=\"dash-offset-inner-box\"><x-slider id=\"dash-offset-slider\" value=\"0\" min=\"-50\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"dash-offset-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><hr><section id=\"marker-section\"><h3 id=\"marker-section-heading\">Marker</h3><x-box id=\"markers-box\"><x-box vertical><h4 id=\"marker-start-heading\">Start</h4><bx-markerselect id=\"marker-start-select\" class=\"marker-select\" data-position=\"start\"></bx-markerselect></x-box><x-box vertical><h4 id=\"marker-mid-heading\">Mid</h4><bx-markerselect id=\"marker-mid-select\" class=\"marker-select\" data-position=\"mid\"></bx-markerselect></x-box><x-box vertical><h4 id=\"marker-end-heading\">End</h4><bx-markerselect id=\"marker-end-select\" class=\"marker-select\" data-position=\"end\"></bx-markerselect></x-box></x-box></section></template>"]);_templateObject266=function _templateObject266(){return data;};return data;}function _templateObject265(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;pointer-events:none;opacity:.5}:host([enabled]){pointer-events:initial;opacity:1}:host([hidden]){display:none}:host(:focus){outline:0}#button{width:100%;padding:2px 8px;justify-content:start}#button-thumbnail{width:20px;height:20px;min-width:20px;margin:0 auto;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#button-thumbnail[hidden]{visibility:hidden}:host([mixed]) #button-thumbnail{opacity:.7}#button-label{text-align:start}:host([mixed]) #button-label{opacity:.7}#popover{width:200px;flex-flow:column}#popover #items{width:100%;height:100%;box-sizing:border-box;overflow:auto}#popover .item{width:100%;height:44px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#popover .item[data-selected]{background:var(--accent-color)}#popover .item .thumbnail{width:28px;height:28px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#popover .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#popover .item[data-selected] .label{color:#fff}#footer{display:flex;padding:4px;border-top-width:1px;border-top-style:solid}#footer>x-button{flex:1}#footer>x-button+x-button{margin-left:3px}#placeholder{padding:10px;opacity:.6;box-sizing:border-box;font-size:12px}"]);_templateObject265=function _templateObject265(){return data;};return data;}function _templateObject264(){var data=_taggedTemplateLiteral(["<template><x-button id=\"button\"><svg id=\"button-thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\" hidden><use id=\"button-thumbnail-use\" width=\"100%\" height=\"100%\"></use></svg><x-popover id=\"popover\" modal><div id=\"items\"></div><div id=\"placeholder\" hidden>No markers defined.</div><div id=\"footer\" part=\"footer\"><x-button id=\"clear-button\" condensed><x-label>Clear</x-label></x-button><x-button id=\"manage-button\" condensed><x-label>Manage\u2026</x-label></x-button></div></x-popover></x-button></template>"]);_templateObject264=function _templateObject264(){return data;};return data;}function _templateObject263(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}#paint-section{padding:0 20px 20px 20px}#opacity-section{padding:14px 20px 20px 20px}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}#rule-section{padding:10px 20px 20px 20px}"]);_templateObject263=function _templateObject263(){return data;};return data;}function _templateObject262(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Fill</h2><section id=\"paint-section\"><bx-paintinspector id=\"fill-paint-inspector\" context=\"fill\"></bx-paintinspector></section><hr><section id=\"opacity-section\"><h3 id=\"opacity-section-heading\">Opacity</h3><x-box><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><hr><section id=\"rule-section\"><h3 id=\"rule-section-heading\">Rule</h3><x-buttons id=\"rule-buttons\" tracking=\"1\"><x-button id=\"non-zero-rule-button\" value=\"nonzero\" title=\"Non-zero\" skin=\"flat\" toggled><x-icon name=\"fill-rule-non-zero\"></x-icon></x-button><x-button id=\"even-odd-rule-button\" value=\"evenodd\" title=\"Even-odd\" skin=\"flat\"><x-icon name=\"fill-rule-even-odd\"></x-icon></x-button></x-buttons></section></template>"]);_templateObject262=function _templateObject262(){return data;};return data;}function _templateObject261(){var data=_taggedTemplateLiteral([":host{display:block}#color-select-section{margin-top:20px}#color-unlink-button{width:100%;margin-top:14px}#color-unlink-button x-icon{width:14px;height:14px}#gradient-select-section{margin-top:20px}#gradient-unlink-button{width:100%;margin-top:14px}#gradient-unlink-button x-icon{width:14px;height:14px}#pattern-select-section{margin-top:20px}#color-section{position:relative;margin-top:20px}#color-section-heading{flex:1}#color-section-heading[hidden]{display:block;visibility:hidden}#color-picker-type-buttons x-button{min-height:0;margin-left:6px;border-radius:0}#color-picker-type-buttons x-button x-icon{width:18px;height:18px}#color-picker-type-buttons x-button[computedsize=small] x-icon{width:16px;height:16px}#color-section #color-picker{width:100%;margin-top:4px}#color-section #color-picker-hint{margin:4px 0 0 0;font-size:12px;font-weight:500;line-height:1;opacity:.8}#color-section #color-picker-hint span{text-decoration:underline}#color-section #color-picker-hint span:hover{cursor:pointer}#stop-opacity-section{margin-top:20px}#stop-opacity-section-heading{margin-bottom:0}#stop-opacity-slider{flex:1}#stop-opacity-input{margin-left:6px;width:54px}#spread-method-section{margin-top:20px}#spread-method-buttons{width:100%}#spread-method-buttons x-button{flex:1}#paint-order-section{margin-top:20px}"]);_templateObject261=function _templateObject261(){return data;};return data;}function _templateObject260(){var data=_taggedTemplateLiteral(["<template><h3 id=\"section-heading\">Paint</h3><section id=\"paint-type-section\"><h4 id=\"paint-type-heading\">Type</h4><x-buttons id=\"paint-type-buttons\" tracking=\"1\"><x-button value=\"solid\" title=\"Solid Color\" skin=\"flat\"><x-icon name=\"paint-solid\"></x-icon></x-button><x-button value=\"linear-gradient\" title=\"Linear Gradient\" skin=\"flat\"><x-icon name=\"paint-linear-gradient\"></x-icon></x-button><x-button value=\"radial-gradient\" title=\"Radial Gradient\" skin=\"flat\"><x-icon name=\"paint-radial-gradient\"></x-icon></x-button><x-button value=\"pattern\" title=\"Pattern\" skin=\"flat\"><x-icon name=\"paint-pattern\"></x-icon></x-button><x-button value=\"none\" title=\"None\" skin=\"flat\"><x-icon name=\"paint-none\"></x-icon></x-button><x-button id=\"inherit-paint-button\" value=\"inherit\" title=\"Inherit\" skin=\"flat\" hidden><x-icon name=\"paint-inherit\"></x-icon></x-button></x-buttons></section><section id=\"color-select-section\" hidden><h4>Color</h4><bx-colorselect id=\"color-select\"></bx-colorselect><x-button id=\"color-unlink-button\"><x-label>Convert to ad hoc color</x-label></x-button></section><section id=\"gradient-select-section\" hidden><h4>Gradient</h4><bx-gradientselect id=\"gradient-select\"></bx-gradientselect><x-button id=\"gradient-unlink-button\"><x-label>Convert to ad hoc gradient</x-label></x-button></section><section id=\"pattern-select-section\" hidden><h4>Pattern</h4><bx-patternselect id=\"pattern-select\"></bx-patternselect></section><section id=\"color-section\" hidden><x-box><h4 id=\"color-section-heading\">Color</h4><x-buttons id=\"color-picker-type-buttons\" tracking=\"1\"><x-button value=\"rect\" skin=\"flat\" size=\"smaller\" toggled><x-icon name=\"color-picker-rect\"></x-icon></x-button><x-button value=\"wheel\" skin=\"flat\" size=\"smaller\"><x-icon name=\"color-picker-wheel\"></x-icon></x-button><x-button value=\"bars\" skin=\"flat\" size=\"smaller\"><x-icon name=\"color-picker-bars\"></x-icon></x-button></x-buttons></x-box><bx-colorpicker id=\"color-picker\" alphaslider formatselect></bx-colorpicker><p id=\"color-picker-hint\">Select stop to recolor with <span id=\"edit-tool-span\">Edit Tool</span>.</p></section><section id=\"stop-opacity-section\" hidden><h4 id=\"stop-opacity-section-heading\">Stop opacity</h4><x-box><x-slider id=\"stop-opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"stop-opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"spread-method-section\" hidden><h4>Spread</h4><x-buttons id=\"spread-method-buttons\" tracking=\"1\"><x-button id=\"pad-spread-method-button\" value=\"pad\"><x-label>Pad</x-label></x-button><x-button id=\"repeat-spread-method-button\" value=\"repeat\"><x-label>Repeat</x-label></x-button><x-button id=\"reflect-spread-method-button\" value=\"reflect\"><x-label>Reflect</x-label></x-button></x-buttons></section><section id=\"paint-order-section\" hidden><h4 id=\"paint-order-heading\">Order</h4><bx-paintorderswitch id=\"paint-order-switch\" context=\"fill\"></bx-paintorderswitch></section></template>"]);_templateObject260=function _templateObject260(){return data;};return data;}function _templateObject259(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box;width:100%;height:32px;padding:1px;border-width:1px;border-style:solid;touch-action:pan-y}:host(:focus){outline:0}:host([computedsize=large]){height:38px}#thumbs{width:100%;height:100%;position:relative}.thumb{width:33.333%;height:100%;padding:0 10px;position:absolute;display:flex;flex:1;justify-content:center;align-items:center;box-sizing:border-box;z-index:0;color:#fff;font-size:11px}#thumbs[data-animate] .thumb{transition:left .2s ease-in-out,background .2s ease-in-out}.thumb[data-socket=\"1\"]{left:0}.thumb[data-socket=\"2\"]{left:33.333%}.thumb[data-socket=\"3\"]{left:66.666%}.thumb[data-dragged]{z-index:1}.thumb[data-toggled]{font-weight:700}"]);_templateObject259=function _templateObject259(){return data;};return data;}function _templateObject258(){var data=_taggedTemplateLiteral(["<template><x-box id=\"thumbs\"><div id=\"fill-thumb\" class=\"thumb\" part=\"thumb\" data-value=\"fill\" data-socket=\"1\">Fill</div><div id=\"stroke-thumb\" class=\"thumb\" part=\"thumb\" data-value=\"stroke\" data-socket=\"2\">Stroke</div><div id=\"markers-thumb\" class=\"thumb\" part=\"thumb\" data-value=\"markers\" data-socket=\"3\">Markers</div></x-box></template>"]);_templateObject258=function _templateObject258(){return data;};return data;}function _templateObject257(){var data=_taggedTemplateLiteral([":host{display:block;width:250px;box-sizing:border-box}:host([hidden]){display:none}#main{width:100%;height:100%}#main>*{width:100%}#wheel-picker{--wheel-max-width:234px}#format-select{margin-left:4px;min-width:73px;display:none}:host([formatselect]) #format-select{display:block}x-box{margin-top:15px}#input{max-width:none;flex:1}#grab-button{margin:0 0 0 5px}#grab-button[computedsize=large]{min-width:38px}#grab-button x-icon{width:14px;height:14px}#grab-button[computedsize=large] x-icon{width:16px;height:16px}"]);_templateObject257=function _templateObject257(){return data;};return data;}function _templateObject256(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"pickers\"><x-rectcolorpicker id=\"rect-picker\"></x-rectcolorpicker><x-wheelcolorpicker id=\"wheel-picker\" hidden></x-wheelcolorpicker><x-barscolorpicker id=\"bars-picker\" hidden></x-barscolorpicker></div><x-box><x-input id=\"input\" type=\"color\"></x-input><x-select id=\"format-select\" condensed><x-menu><x-menuitem value=\"hex\" toggled><x-label>Hex</x-label></x-menuitem><x-menuitem value=\"rgb\"><x-label>RGB</x-label></x-menuitem><x-menuitem value=\"rgba\"><x-label>RGBA</x-label></x-menuitem><x-menuitem value=\"hsl\"><x-label>HSL</x-label></x-menuitem><x-menuitem value=\"hsla\"><x-label>HSLA</x-label></x-menuitem></x-menu></x-select><x-button id=\"grab-button\" condensed togglable><x-icon name=\"grab-color\"></x-icon></x-button></x-box></main></template>"]);_templateObject256=function _templateObject256(){return data;};return data;}function _templateObject255(){var data=_taggedTemplateLiteral([":host{display:block;margin:0 0 15px 0;width:100%}:host(:focus){outline:0}#button{width:100%;padding:0 10px;justify-content:start}#button>x-box{flex:1}#button-thumbnail{width:26px;height:26px;margin-right:7px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#button-thumbnail[hidden]{display:none}:host([mixed]) #button-thumbnail{opacity:.7}#button-label{text-align:start}:host([mixed]) #button-label{opacity:.7}#popover{width:240px;min-height:79px}#popover>main{display:flex;flex-flow:column;padding:0;position:relative}#popover #items{flex:1;width:100%;box-sizing:border-box;overflow:auto}#popover .item{width:100%;height:44px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#popover .item[data-selected]{background:var(--accent-color)}#popover .item .thumbnail{width:28px;height:28px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#popover .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#popover .item[data-selected] .label{color:#fff}#footer{display:flex;justify-content:flex-end;padding:4px;border-top-width:1px;border-top-style:solid}#footer #manage-button{flex:1;margin-right:4px;padding:2px 13px}#footer #manage-button x-icon{width:14px;height:14px}#footer #developer-mode-button{padding:2px 8px}#footer #developer-mode-button x-icon{width:11px;height:11px}#mirror{width:0;height:0;display:block}"]);_templateObject255=function _templateObject255(){return data;};return data;}function _templateObject254(){var data=_taggedTemplateLiteral(["<template><x-button id=\"button\" size=\"larger\"><x-box><svg id=\"button-thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 50 50\" hidden><rect width=\"50\" height=\"50\"></rect></svg><x-label id=\"button-label\"></x-label></x-box><x-popover id=\"popover\" modal><main><div id=\"items\"></div><div id=\"footer\" part=\"footer\"><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button><x-button id=\"developer-mode-button\" title=\"Show IDs\" title=\"Show IDs\" condensed togglable><x-icon name=\"hash\"></x-icon></x-button></div></main></x-popover></x-button><svg id=\"mirror\"></svg></template>"]);_templateObject254=function _templateObject254(){return data;};return data;}function _templateObject253(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host(:focus){outline:0}#button{width:100%;padding:0 10px;justify-content:start}#button>x-box{flex:1}#button-thumbnail{width:46px;height:22px;margin-right:7px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#button-thumbnail[hidden]{display:none}:host([mixed]) #button-thumbnail{opacity:.7}#button-thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}#button-label{text-align:start}:host([mixed]) #button-label{opacity:.7}#popover{width:240px;min-height:79px}#popover>main{display:flex;flex-flow:column;padding:0;position:relative}#placeholder{position:absolute;top:10px;padding:0 10px;opacity:.6;box-sizing:border-box;font-size:12px}#popover #items{flex:1;width:100%;box-sizing:border-box;overflow:auto}#popover .item{width:100%;height:38px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#popover .item[data-selected]{background:var(--accent-color)}#popover .item .thumbnail{width:55px;height:24px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#popover .item .thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}#popover .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#popover .item[data-selected] .label{color:#fff}#footer{display:flex;justify-content:flex-end;padding:4px;border-top-width:1px;border-top-style:solid}#footer #manage-button{flex:1;margin-right:4px;padding:2px 13px}#footer #manage-button x-icon{width:14px;height:14px}#footer #developer-mode-button{padding:2px 8px}#footer #developer-mode-button x-icon{width:11px;height:11px}"]);_templateObject253=function _templateObject253(){return data;};return data;}function _templateObject252(){var data=_taggedTemplateLiteral(["<template><x-button id=\"button\" size=\"larger\"><x-box><div id=\"button-thumbnail\" part=\"thumbnail\"><div id=\"button-thumbnail-inner\"></div></div><x-label id=\"button-label\"></x-label></x-box><x-popover id=\"popover\" modal><main><div id=\"placeholder\" hidden>No gradients found.</div><div id=\"items\"></div><div id=\"footer\" part=\"footer\"><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button><x-button id=\"developer-mode-button\" title=\"Show IDs\" title=\"Show IDs\" condensed togglable><x-icon name=\"hash\"></x-icon></x-button></div></main></x-popover></x-button></template>"]);_templateObject252=function _templateObject252(){return data;};return data;}function _templateObject251(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host(:focus){outline:0}#button{width:100%;padding:0 10px;justify-content:start}#button>x-box{flex:1}#button-thumbnail{width:46px;height:22px;margin-right:7px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#button-thumbnail[hidden]{display:none}:host([mixed]) #button-thumbnail{opacity:.7}#button-thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}#button-label{text-align:start}:host([mixed]) #button-label{opacity:.7}#popover{width:240px;min-height:79px}#popover>main{display:flex;flex-flow:column;padding:0;position:relative}#placeholder{position:absolute;top:10px;padding:0 10px;opacity:.6;box-sizing:border-box;font-size:12px}#popover #items{flex:1;width:100%;box-sizing:border-box;overflow:auto}#popover .item{width:100%;height:38px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#popover .item[data-selected]{background:var(--accent-color)}#popover .item .thumbnail{width:55px;height:24px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#popover .item .thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}#popover .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#popover .item[data-selected] .label{color:#fff}#footer{display:flex;justify-content:flex-end;padding:4px;border-top-width:1px;border-top-style:solid}#footer #manage-button{flex:1;margin-right:4px;padding:2px 13px}#footer #manage-button x-icon{width:14px;height:14px}#footer #developer-mode-button{padding:2px 8px}#footer #developer-mode-button x-icon{width:11px;height:11px}"]);_templateObject251=function _templateObject251(){return data;};return data;}function _templateObject250(){var data=_taggedTemplateLiteral(["<template><x-button id=\"button\" size=\"larger\"><x-box><div id=\"button-thumbnail\" part=\"thumbnail\"><div id=\"button-thumbnail-inner\"></div></div><x-label id=\"button-label\"></x-label></x-box><x-popover id=\"popover\" modal><main><div id=\"placeholder\" hidden>No colors found.</div><div id=\"items\"></div><div id=\"footer\" part=\"footer\"><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button><x-button id=\"developer-mode-button\" title=\"Show IDs\" title=\"Show IDs\" condensed togglable><x-icon name=\"hash\"></x-icon></x-button></div></main></x-popover></x-button></template>"]);_templateObject250=function _templateObject250(){return data;};return data;}function _templateObject249(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;position:absolute;width:calc(100% - 76px);height:250px;bottom:-1px;left:38px;transition:transform .2s cubic-bezier(.4,0,.2,1);transform:translateY(100%);will-change:transform}:host([value]){transform:translateY(0)}::slotted(:not([enabled])){display:none}#main{width:100%;height:100%;display:flex;justify-content:center}#buttons{position:absolute;top:-21px;height:20px;z-index:1}#buttons x-button{padding:0 12px;min-height:23px;border-bottom-left-radius:0;border-bottom-right-radius:0}#panels{width:100%;height:100%;box-sizing:border-box}#resize-grippie{display:none;position:absolute;width:100%;height:14px;background:0 0;top:-13px;left:0;cursor:row-resize;touch-action:none}:host([value]) #resize-grippie{display:block}"]);_templateObject249=function _templateObject249(){return data;};return data;}function _templateObject248(){var data=_taggedTemplateLiteral(["<template><div id=\"main\"><div id=\"resize-grippie\"></div><x-buttons id=\"buttons\" tracking=\"0\"></x-buttons><div id=\"panels\"><slot></slot></div></div></template>"]);_templateObject248=function _templateObject248(){return data;};return data;}function _templateObject247(){var data=_taggedTemplateLiteral([":host{position:relative;display:flex;box-sizing:border-box;z-index:1;will-change:transform}::slotted(:not([enabled])){display:none}#buttons{position:relative;width:fit-content;margin-top:-1px;display:flex;align-items:flex-start;justify-content:flex-start;box-sizing:border-box;background:inherit;overflow:auto}#buttons::before{content:\"\";position:absolute;bottom:0;left:0;width:1px;height:100%;background:var(--border-color);display:block}#buttons::-webkit-scrollbar{display:none}#main{position:absolute;top:0;height:100%;transform:translateX(9999px);transition:transform .2s cubic-bezier(.4,0,.2,1);background:inherit;border-left:1px solid var(--border-color);z-index:-1;will-change:transform}:host([value]) #main{transform:translateX(0)!important;z-index:2}:host([animating]) #main{contain:strict;z-index:-1}#panels{height:100%}#resize-grippie{display:none;position:absolute;width:10px;height:100%;background:0 0;top:0;left:-5px;cursor:col-resize;z-index:2;touch-action:pan-y}:host([value]) #resize-grippie{display:block}"]);_templateObject247=function _templateObject247(){return data;};return data;}function _templateObject246(){var data=_taggedTemplateLiteral(["<template><x-buttons id=\"buttons\" part=\"buttons\" tracking=\"0\" vertical></x-buttons><div id=\"main\"><div id=\"resize-grippie\"></div><div id=\"panels\"><slot></slot></div></div><bx-tooltip id=\"tooltip\" hidden></bx-tooltip></template>"]);_templateObject246=function _templateObject246(){return data;};return data;}function _templateObject245(){var data=_taggedTemplateLiteral([":host{display:flex;box-sizing:border-box}#buttons{position:relative;margin-top:-1px;display:flex;align-items:flex-start;justify-content:flex-start;box-sizing:border-box;background:inherit;overflow:auto}#buttons::before{content:\"\";position:absolute;bottom:0;right:0;width:1px;height:100%;background:var(--border-color);display:block}#buttons::-webkit-scrollbar{display:none}#buttons #cog-tool-button>x-icon{width:19px;height:19px}x-popover{--align:right}:host-context(bx-macapp) #transform-tool-popover{margin-top:-4px}"]);_templateObject245=function _templateObject245(){return data;};return data;}function _templateObject244(){var data=_taggedTemplateLiteral(["<template><x-buttons id=\"buttons\" part=\"buttons\" tracking=\"1\" vertical><x-button id=\"transform-tool-button\" skin=\"dock\" value=\"transform-tool\" data-tooltip=\"Transform\" toggled><x-icon name=\"transform-tool\"></x-icon></x-button><x-button id=\"edit-tool-button\" skin=\"dock\" value=\"edit-tool\" data-tooltip=\"Edit\"><x-icon name=\"edit-tool\"></x-icon></x-button><x-button id=\"pan-tool-button\" skin=\"dock\" value=\"pan-tool\" data-tooltip=\"Pan\"><x-icon name=\"pan-tool\"></x-icon></x-button><x-button id=\"quad-bezier-tool-button\" skin=\"dock\" value=\"quad-bezier-tool\" data-tooltip=\"Quad Bezier\"><x-icon name=\"quad-bezier-tool\"></x-icon></x-button><x-button id=\"cubic-bezier-tool-button\" skin=\"dock\" value=\"cubic-bezier-tool\" data-tooltip=\"Cubic Bezier\"><x-icon name=\"cubic-bezier-tool\"></x-icon></x-button><x-button id=\"arc-tool-button\" skin=\"dock\" value=\"arc-tool\" data-tooltip=\"Arc\"><x-icon name=\"arc-tool\"></x-icon></x-button><x-button id=\"freehand-tool-button\" skin=\"dock\" value=\"freehand-tool\" data-tooltip=\"Freehand\"><x-icon name=\"freehand-tool\"></x-icon></x-button><x-button id=\"blob-tool-button\" skin=\"dock\" value=\"blob-tool\" data-tooltip=\"Blob\"><x-icon name=\"blob-tool\"></x-icon></x-button><x-button id=\"text-tool-button\" skin=\"dock\" value=\"text-tool\" data-tooltip=\"Text\"><x-icon name=\"text-tool\"></x-icon></x-button><x-button id=\"text-path-tool-button\" skin=\"dock\" value=\"text-path-tool\" data-tooltip=\"Text path\"><x-icon name=\"text-path-tool\"></x-icon></x-button><x-button id=\"view-tool-button\" skin=\"dock\" value=\"view-tool\" data-tooltip=\"View\"><x-icon name=\"view-tool\"></x-icon></x-button><x-button id=\"rect-tool-button\" skin=\"dock\" value=\"rect-tool\" data-tooltip=\"Rectangle\"><x-icon name=\"rect-tool\"></x-icon></x-button><x-button id=\"circle-tool-button\" skin=\"dock\" value=\"circle-tool\" data-tooltip=\"Circle\"><x-icon name=\"circle-tool\"></x-icon></x-button><x-button id=\"ellipse-tool-button\" skin=\"dock\" value=\"ellipse-tool\" data-tooltip=\"Ellipse\"><x-icon name=\"ellipse-tool\"></x-icon></x-button><x-button id=\"ring-tool-button\" skin=\"dock\" value=\"ring-tool\" data-tooltip=\"Ring\"><x-icon name=\"ring-tool\"></x-icon></x-button><x-button id=\"pie-tool-button\" skin=\"dock\" value=\"pie-tool\" data-tooltip=\"Pie\"><x-icon name=\"pie-tool\"></x-icon></x-button><x-button id=\"crescent-tool-button\" skin=\"dock\" value=\"crescent-tool\" data-tooltip=\"Crescent\"><x-icon name=\"crescent-tool\"></x-icon></x-button><x-button id=\"triangle-tool-button\" skin=\"dock\" value=\"triangle-tool\" data-tooltip=\"Triangle\"><x-icon name=\"triangle-tool\"></x-icon></x-button><x-button id=\"n-gon-tool-button\" skin=\"dock\" value=\"n-gon-tool\" data-tooltip=\"N-gon\"><x-icon name=\"n-gon-tool\"></x-icon></x-button><x-button id=\"star-tool-button\" skin=\"dock\" value=\"star-tool\" data-tooltip=\"Star\"><x-icon name=\"star-tool\"></x-icon></x-button><x-button id=\"cog-tool-button\" skin=\"dock\" value=\"cog-tool\" data-tooltip=\"Cog\"><x-icon name=\"cog-tool\"></x-icon></x-button><x-button id=\"arrow-tool-button\" skin=\"dock\" value=\"arrow-tool\" data-tooltip=\"Arrow\"><x-icon name=\"arrow-tool\"></x-icon></x-button><x-button id=\"cross-tool-button\" skin=\"dock\" value=\"cross-tool\" data-tooltip=\"Cross\"><x-icon name=\"cross-tool\"></x-icon></x-button><x-button id=\"line-tool-button\" skin=\"dock\" value=\"line-tool\" data-tooltip=\"Line\"><x-icon name=\"line-tool\"></x-icon></x-button><x-button id=\"polyline-tool-button\" skin=\"dock\" value=\"polyline-tool\" data-tooltip=\"Polyline\"><x-icon name=\"polyline-tool\"></x-icon></x-button><x-button id=\"polygon-tool-button\" skin=\"dock\" value=\"polygon-tool\" data-tooltip=\"Polygon\"><x-icon name=\"polygon-tool\"></x-icon></x-button></x-buttons><div id=\"popovers\"><x-popover id=\"transform-tool-popover\"><bx-transformsettings></bx-transformsettings></x-popover><x-popover id=\"edit-tool-popover\"><bx-editsettings></bx-editsettings></x-popover><x-popover id=\"quad-bezier-tool-popover\"><bx-quadbeziersettings></bx-quadbeziersettings></x-popover><x-popover id=\"cubic-bezier-tool-popover\"><bx-cubicbeziersettings></bx-cubicbeziersettings></x-popover><x-popover id=\"arc-tool-popover\"><bx-arcsettings></bx-arcsettings></x-popover><x-popover id=\"freehand-tool-popover\"><bx-freehandsettings></bx-freehandsettings></x-popover><x-popover id=\"blob-tool-popover\"><bx-blobsettings></bx-blobsettings></x-popover><x-popover id=\"text-tool-popover\"><bx-textsettings></bx-textsettings></x-popover><x-popover id=\"text-path-tool-popover\"><bx-textpathsettings></bx-textpathsettings></x-popover><x-popover id=\"view-tool-popover\"><bx-viewsettings></bx-viewsettings></x-popover><x-popover id=\"rect-tool-popover\"><bx-rectsettings></bx-rectsettings></x-popover><x-popover id=\"circle-tool-popover\"><bx-circlesettings></bx-circlesettings></x-popover><x-popover id=\"ellipse-tool-popover\"><bx-ellipsesettings></bx-ellipsesettings></x-popover><x-popover id=\"ring-tool-popover\"><bx-ringsettings></bx-ringsettings></x-popover><x-popover id=\"pie-tool-popover\"><bx-piesettings></bx-piesettings></x-popover><x-popover id=\"crescent-tool-popover\"><bx-crescentsettings></bx-crescentsettings></x-popover><x-popover id=\"triangle-tool-popover\"><bx-trianglesettings></bx-trianglesettings></x-popover><x-popover id=\"n-gon-tool-popover\"><bx-ngonsettings></bx-ngonsettings></x-popover><x-popover id=\"star-tool-popover\"><bx-starsettings></bx-starsettings></x-popover><x-popover id=\"cog-tool-popover\"><bx-cogsettings></bx-cogsettings></x-popover><x-popover id=\"arrow-tool-popover\"><bx-arrowsettings></bx-arrowsettings></x-popover><x-popover id=\"cross-tool-popover\"><bx-crosssettings></bx-crosssettings></x-popover><x-popover id=\"line-tool-popover\"><bx-linesettings></bx-linesettings></x-popover><x-popover id=\"polyline-tool-popover\"><bx-polylinesettings></bx-polylinesettings></x-popover><x-popover id=\"polygon-tool-popover\"><bx-polygonsettings></bx-polygonsettings></x-popover></div><bx-tooltip id=\"tooltip\" hidden></bx-tooltip></template>"]);_templateObject244=function _templateObject244(){return data;};return data;}function _templateObject243(){var data=_taggedTemplateLiteral(["<template><h2>Polygon</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject243=function _templateObject243(){return data;};return data;}function _templateObject242(){var data=_taggedTemplateLiteral(["<template><h2>Polyline</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject242=function _templateObject242(){return data;};return data;}function _templateObject241(){var data=_taggedTemplateLiteral(["<template><h2>Line</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject241=function _templateObject241(){return data;};return data;}function _templateObject240(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#thickness-subsection{margin-top:6px}#thickness-subsection h4{margin-bottom:0}#thickness-box{width:100%}#thickness-input{margin-left:10px;width:100px}#shift-subsection{margin-top:14px}#shift-subsection h4{margin-bottom:0}#shift-box{width:100%}#shift-input{margin-left:10px;width:100px}"]);_templateObject240=function _templateObject240(){return data;};return data;}function _templateObject239(){var data=_taggedTemplateLiteral(["<template><h2>Cross</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"shift-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"thickness-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"thickness-subsection\"><h4>Arm thickness</h4><x-box id=\"thickness-box\"><x-slider id=\"thickness-slider\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"thickness-input\" min=\"1\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"shift-subsection\"><h4>Shift</h4><x-box id=\"shift-box\"><x-slider id=\"shift-slider\" min=\"-100\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"shift-input\" min=\"-100\" max=\"100\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject239=function _templateObject239(){return data;};return data;}function _templateObject238(){var data=_taggedTemplateLiteral(["#base-thickness-subsection{margin-top:6px}#base-thickness-subsection h4{margin-bottom:0}#base-thickness-box{width:100%}#base-thickness-input{margin-left:10px;width:100px}#head-thickness-subsection{margin-top:14px}#head-thickness-subsection h4{margin-bottom:0}#head-thickness-box{width:100%}#head-thickness-input{margin-left:10px;width:100px}#head-length-subsection{margin-top:14px}#head-length-subsection h4{margin-bottom:0}#head-length-box{width:100%}#head-length-input{margin-left:10px;width:100px}#head-inset-subsection{margin-top:14px}#head-inset-subsection h4{margin-bottom:0}#head-inset-box{width:100%}#head-inset-input{margin-left:10px;width:100px}"]);_templateObject238=function _templateObject238(){return data;};return data;}function _templateObject237(){var data=_taggedTemplateLiteral(["<template><h2>Arrow</h2><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"base-thickness-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"head-size-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"head-inset-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"base-thickness-subsection\"><h4>Base thickness</h4><x-box id=\"base-thickness-box\"><x-slider id=\"base-thickness-slider\" min=\"1\" max=\"60\" step=\"1\"></x-slider><x-numberinput id=\"base-thickness-input\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-thickness-subsection\"><h4>Head thickness</h4><x-box id=\"head-thickness-box\"><x-slider id=\"head-thickness-slider\" min=\"1\" max=\"60\" step=\"1\"></x-slider><x-numberinput id=\"head-thickness-input\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-length-subsection\"><h4>Head length</h4><x-box id=\"head-length-box\"><x-slider id=\"head-length-slider\" min=\"1\" max=\"136\" step=\"1\"></x-slider><x-numberinput id=\"head-length-input\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-inset-subsection\"><h4>Head inset</h4><x-box id=\"head-inset-box\"><x-slider id=\"head-inset-slider\" min=\"0\" max=\"136\" step=\"1\"></x-slider><x-numberinput id=\"head-inset-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject237=function _templateObject237(){return data;};return data;}function _templateObject236(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#r1-subsection{margin-top:6px}#r2-subsection,#r3-subsection,#splay-subsection,#teeth-subsection{margin-top:14px}#r1-subsection h4,#r2-subsection h4,#r3-subsection h4,#splay-subsection h4,#teeth-subsection h4{margin-bottom:0}#r1-subsection x-box,#r2-subsection x-box,#r3-subsection x-box,#splay-subsection x-box,#teeth-subsection x-box{width:100%}#r1-subsection x-numberinput,#r2-subsection x-numberinput,#r3-subsection x-numberinput,#splay-subsection x-numberinput,#teeth-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject236=function _templateObject236(){return data;};return data;}function _templateObject235(){var data=_taggedTemplateLiteral(["<template><h2>Cog</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"splay-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"r1-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"r2-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"r3-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r1-subsection\"><h4>Radius 1</h4><x-box id=\"r1-box\"><x-slider id=\"r1-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r1-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"r2-subsection\"><h4>Radius 2</h4><x-box id=\"r2-box\"><x-slider id=\"r2-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r2-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"r3-subsection\"><h4>Radius 3</h4><x-box id=\"r3-box\"><x-slider id=\"r3-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r3-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"splay-subsection\"><h4>Splay</h4><x-box id=\"splay-box\"><x-slider id=\"splay-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"splay-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"teeth-subsection\"><h4>Teeth</h4><x-box id=\"teeth-box\"><x-slider id=\"teeth-slider\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"teeth-input\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject235=function _templateObject235(){return data;};return data;}function _templateObject234(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#depth-subsection{margin-top:6px}#arms-subsection{margin-top:14px}#arms-subsection h4,#depth-subsection h4{margin-bottom:0}#arms-subsection x-box,#depth-subsection x-box{width:100%}#arms-subsection x-numberinput,#depth-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject234=function _templateObject234(){return data;};return data;}function _templateObject233(){var data=_taggedTemplateLiteral(["<template><h2>Star</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"depth-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"depth-subsection\"><h4>Depth</h4><x-box id=\"depth-box\"><x-slider id=\"depth-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"depth-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"arms-subsection\"><h4>Arms</h4><x-box id=\"arms-box\"><x-slider id=\"arms-slider\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"arms-input\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject233=function _templateObject233(){return data;};return data;}function _templateObject232(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#arms-subsection{margin-top:6px}#corner-subsection{margin-top:14px}#arms-subsection h4,#corner-subsection h4{margin-bottom:0}#arms-subsection x-box,#corner-subsection x-box{width:100%}#arms-subsection x-numberinput,#corner-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject232=function _templateObject232(){return data;};return data;}function _templateObject231(){var data=_taggedTemplateLiteral(["<template><h2>N-gon</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"corner-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"arms-subsection\"><h4>Arms</h4><x-box id=\"arms-box\"><x-slider id=\"arms-slider\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"arms-input\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"corner-subsection\"><h4>Corner</h4><x-box id=\"corner-box\"><x-slider id=\"corner-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"corner-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject231=function _templateObject231(){return data;};return data;}function _templateObject230(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#shift-subsection{margin-top:6px}#corner-subsection{margin-top:14px}#corner-subsection h4,#shift-subsection h4{margin-bottom:0}#corner-subsection x-box,#shift-subsection x-box{width:100%}#corner-subsection x-numberinput,#shift-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject230=function _templateObject230(){return data;};return data;}function _templateObject229(){var data=_taggedTemplateLiteral(["<template><h2>Triangle</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"corner-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"shift-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"shift-subsection\"><h4>Shift</h4><x-box id=\"shift-box\"><x-slider id=\"shift-slider\" min=\"-50\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"shift-input\" min=\"-50\" max=\"50\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"corner-subsection\"><h4>Corner</h4><x-box id=\"corner-box\"><x-slider id=\"corner-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"corner-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject229=function _templateObject229(){return data;};return data;}function _templateObject228(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#arch-subsection{margin-top:6px}#hollow-subsection{margin-top:14px}#arch-subsection h4,#hollow-subsection h4{margin-bottom:0}#arch-subsection x-box,#hollow-subsection x-box{width:100%}#arch-subsection x-numberinput,#hollow-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject228=function _templateObject228(){return data;};return data;}function _templateObject227(){var data=_taggedTemplateLiteral(["<template><h2>Crescent</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"arch-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"hollow-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"arch-subsection\"><h4>Arch</h4><x-box id=\"arch-box\"><x-slider id=\"arch-slider\" min=\"1\" max=\"359\" step=\"1\"></x-slider><x-numberinput id=\"arch-input\" min=\"1\" max=\"359\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"hollow-subsection\"><h4>Hollow</h4><x-box id=\"hollow-box\"><x-slider id=\"hollow-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"hollow-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject227=function _templateObject227(){return data;};return data;}function _templateObject226(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#r1-subsection{margin-top:6px}#r1-subsection h4{margin-bottom:0}#r1-subsection x-box{width:100%}#r1-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject226=function _templateObject226(){return data;};return data;}function _templateObject225(){var data=_taggedTemplateLiteral(["<template><h2>Pie</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"r1-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r1-subsection\"><h4>Inner radius</h4><x-box id=\"r1-box\"><x-slider id=\"r1-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r1-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject225=function _templateObject225(){return data;};return data;}function _templateObject224(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#r1-subsection{margin-top:6px}#r1-subsection h4{margin-bottom:0}#r1-subsection x-box{width:100%}#r1-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject224=function _templateObject224(){return data;};return data;}function _templateObject223(){var data=_taggedTemplateLiteral(["<template><h2>Ring</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"r1-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r1-subsection\"><h4>Inner radius</h4><x-box id=\"r1-box\"><x-slider id=\"r1-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r1-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject223=function _templateObject223(){return data;};return data;}function _templateObject222(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{min-width:fit-content;height:25px;flex:1}"]);_templateObject222=function _templateObject222(){return data;};return data;}function _templateObject221(){var data=_taggedTemplateLiteral(["<template><h2>Ellipse</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\" condensed><x-label>Planar</x-label></x-button><x-button value=\"polar\" condensed><x-label>Polar</x-label></x-button><x-button value=\"3-point\" condensed><x-label>3-Point</x-label></x-button></x-buttons></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject221=function _templateObject221(){return data;};return data;}function _templateObject220(){var data=_taggedTemplateLiteral(["<template><h2>Circle</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject220=function _templateObject220(){return data;};return data;}function _templateObject219(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{min-width:fit-content;height:25px;flex:1}#r-subsection{margin-top:6px}#r-subsection h4{margin-bottom:0}#r-subsection x-box{width:100%}#r-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject219=function _templateObject219(){return data;};return data;}function _templateObject218(){var data=_taggedTemplateLiteral(["<template><h2>Rectangle</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\" condensed><x-label>Planar</x-label></x-button><x-button value=\"polar\" condensed><x-label>Polar</x-label></x-button><x-button value=\"3-point\" condensed><x-label>3-Point</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><rect id=\"geometry-preview-shape\" class=\"shape\"></rect><circle id=\"r-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r-subsection\"><h4>Corner radius</h4><x-box id=\"r-box\"><x-slider id=\"r-slider\" min=\"0\" max=\"30\" step=\"1\"></x-slider><x-numberinput id=\"r-input\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject218=function _templateObject218(){return data;};return data;}function _templateObject217(){var data=_taggedTemplateLiteral(["<template><h2>View</h2><section id=\"options-section\"><h3>Options</h3><x-checkbox id=\"move-objects-checkbox\"><x-label>Move objects with view</x-label></x-checkbox><x-checkbox id=\"show-ids-checkbox\"><x-label>Show IDs</x-label></x-checkbox></section></template>"]);_templateObject217=function _templateObject217(){return data;};return data;}function _templateObject216(){var data=_taggedTemplateLiteral(["#smoothing-input{width:80px;margin-left:8px}"]);_templateObject216=function _templateObject216(){return data;};return data;}function _templateObject215(){var data=_taggedTemplateLiteral(["<template><h2>Freehand</h2><section id=\"smoothing-section\"><h3>Smoothing</h3><x-box><x-slider id=\"smoothing-slider\" value=\"0.5\" min=\"0.01\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"smoothing-input\" value=\"0.5\" min=\"0.01\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject215=function _templateObject215(){return data;};return data;}function _templateObject214(){var data=_taggedTemplateLiteral(["<template><h2>Arc</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject214=function _templateObject214(){return data;};return data;}function _templateObject213(){var data=_taggedTemplateLiteral(["<template><h2>Cubic Bezier</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject213=function _templateObject213(){return data;};return data;}function _templateObject212(){var data=_taggedTemplateLiteral(["<template><h2>Quad Bezier</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject212=function _templateObject212(){return data;};return data;}function _templateObject211(){var data=_taggedTemplateLiteral(["#selection-shape-buttons{width:100%;margin:4px 0 0 0}#selection-shape-buttons x-button{height:25px;flex:1}"]);_templateObject211=function _templateObject211(){return data;};return data;}function _templateObject210(){var data=_taggedTemplateLiteral(["<template><h2>Edit</h2><section id=\"selection-shape-section\"><h3>Selection shape</h3><x-buttons id=\"selection-shape-buttons\" tracking=\"1\"><x-button value=\"rect\" condensed toggled><x-label>Rectangle</x-label></x-button><x-button value=\"polygon\" condensed><x-label>Polygon</x-label></x-button></x-buttons></section></template>"]);_templateObject210=function _templateObject210(){return data;};return data;}function _templateObject209(){var data=_taggedTemplateLiteral(["#selection-shape-buttons{width:100%;margin:4px 0 0 0}#selection-shape-buttons x-button{height:25px;flex:1}#selection-mode-buttons{width:100%;margin:4px 0 0 0}#selection-mode-buttons x-button{height:25px;flex:1}"]);_templateObject209=function _templateObject209(){return data;};return data;}function _templateObject208(){var data=_taggedTemplateLiteral(["<template><h2>Transform</h2><section id=\"selection-shape-section\"><h3>Selection shape</h3><x-buttons id=\"selection-shape-buttons\" tracking=\"1\"><x-button value=\"rect\" condensed toggled><x-label>Rectangle</x-label></x-button><x-button value=\"polygon\" condensed><x-label>Polygon</x-label></x-button></x-buttons></section><hr><section id=\"selection-mode-section\"><h3>Selection mode</h3><x-buttons id=\"selection-mode-buttons\" tracking=\"1\"><x-button value=\"contain\" condensed toggled><x-label>Contain</x-label></x-button><x-button value=\"intersect\" condensed><x-label>Intersect</x-label></x-button></x-buttons></section><hr><section id=\"transform-preserve-section\"><h3>Preserve</h3><x-checkbox id=\"preserve-stroke-width-checkbox\" toggled><x-label>Stroke width</x-label></x-checkbox><x-checkbox id=\"preserve-rect-radii-checkbox\" toggled><x-label>Rectangle radii</x-label></x-checkbox><x-checkbox id=\"preserve-rotation-checkbox\" toggled><x-label>Rotation</x-label></x-checkbox><x-checkbox id=\"preserve-aspect-ratio-checkbox\"><x-label>Aspect ratio</x-label></x-checkbox></section></template>"]);_templateObject208=function _templateObject208(){return data;};return data;}function _templateObject207(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;width:fit-content;height:27px;contain:style layout;box-sizing:border-box}:host([computedsize=large]){height:34px}#items{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.item{display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:fit-content;height:100%;padding:0 8px;position:relative;border-width:1px;border-style:solid}.item:not(:first-child){margin-left:-1px}.item:focus{z-index:1}.item .inner{display:flex;align-items:center;justify-content:center;height:100%;box-sizing:border-box}.item .icon{width:15px;height:15px;fill:currentColor}.item .label{font-size:11px;margin-left:5px}"]);_templateObject207=function _templateObject207(){return data;};return data;}function _templateObject206(){var data=_taggedTemplateLiteral(["<template><div id=\"items\"></div></template>"]);_templateObject206=function _templateObject206(){return data;};return data;}function _templateObject205(){var data=_taggedTemplateLiteral([":host{position:fixed;width:0;height:0;top:0;left:0;z-index:99999999;background:rgba(0,0,0,0)}:host([grabbing]){width:100%;height:100%;background:rgba(0,0,0,.1)}#main{display:none}:host([grabbing]) #main{display:block}#overlay{position:fixed;width:100%;height:100%;top:0;left:0;opacity:0;cursor:crosshair!important}"]);_templateObject205=function _templateObject205(){return data;};return data;}function _templateObject204(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"overlay\"></div><bx-tooltip id=\"tooltip\">Move cursor over object</bx-tooltip></main></template>"]);_templateObject204=function _templateObject204(){return data;};return data;}function _templateObject203(){var data=_taggedTemplateLiteral([":host{position:absolute;z-index:99999;padding:5px 7px;font-size:12px;line-height:1;pointer-events:none;border-width:1px;border-style:solid}:host([hidden]){display:none}"]);_templateObject203=function _templateObject203(){return data;};return data;}function _templateObject202(){var data=_taggedTemplateLiteral(["<template><slot></slot></template>"]);_templateObject202=function _templateObject202(){return data;};return data;}function _templateObject201(){var data=_taggedTemplateLiteral([":host{position:fixed;width:0;height:0;top:0;left:0;z-index:99999999;background:rgba(0,0,0,0)}:host([grabbing]){width:100%;height:100%;background:rgba(0,0,0,.1)}#main{display:none}:host([grabbing]) #main{display:block}#overlay{position:fixed;width:100%;height:100%;top:0;left:0;opacity:0;cursor:crosshair!important}#lens{width:100px;height:100px;position:fixed;top:-200px;left:-200px;background:#fff;border:4px solid #333;box-shadow:2px 6px 20px rgba(0,0,0,.3);border-radius:100px;overflow:hidden}#lens-inner{position:relative;width:100%;height:100%}#lens #tooltip{position:absolute;left:0;top:0;width:100%;height:100%;display:flex;flex-flow:column;align-items:center;justify-content:center;visibility:hidden}#lens[offscreen] #tooltip{visibility:visible}#lens #tooltip p{color:rgba(0,0,0,.7);line-height:1;padding:0;margin:0}#lens #grid{width:100px;height:100px;background:#d4d4d4}#lens[offscreen] #grid{display:none}#grid #center-rect{stroke:red;stroke-width:1.5}#lens[offscreen] #grid #center-rect{stroke-width:0}"]);_templateObject201=function _templateObject201(){return data;};return data;}function _templateObject200(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"overlay\"></div><div id=\"lens\" part=\"lens\"><div id=\"lens-inner\"><svg id=\"grid\"></svg><div id=\"tooltip\"><p>Move</p><p>cursor</p><p>over</p><p>canvas</p></div></div></div></main></template>"]);_templateObject200=function _templateObject200(){return data;};return data;}function _templateObject199(){var data=_taggedTemplateLiteral([":host{position:fixed;right:0;bottom:0;width:0;height:0;opacity:0;contain:strict}"]);_templateObject199=function _templateObject199(){return data;};return data;}function _templateObject198(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"></main></template>"]);_templateObject198=function _templateObject198(){return data;};return data;}function _templateObject197(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:hidden;outline:0;contain:strict;position:relative;--canvas-background-color:gray}#vector-layer{touch-action:none}#workspaces{font-family:sans-serif;user-select:none}#workspaces>[data-bx-workspace]:not(:last-child){display:none!important}#workspaces :focus{outline:0}#workspaces>#whitespace{opacity:0}#vector-canvas>#background-rect{fill:var(--canvas-background-color);pointer-events:none}#vector-canvas[data-transparent]>#background-rect{fill:transparent}#vector-canvas>#background-outlines{pointer-events:none;display:none}#vector-canvas[data-outlines]>#background-outlines{display:inline}#vector-canvas>#background-outlines rect{fill:#fff;stroke:rgba(0,0,0,.2);vector-effect:non-scaling-stroke}#vector-canvas[data-outlines=above]>#background-outlines rect{stroke:none}#vector-canvas[data-transparent]>#background-outlines rect{fill:none;stroke:rgba(0,0,0,.3)}#vector-canvas>#foreground-outlines{display:none;pointer-events:none}#vector-canvas[data-outlines=above]>#foreground-outlines{display:inline}#vector-canvas>#foreground-outlines rect{fill:none;stroke:rgba(0,0,0,.2);vector-effect:non-scaling-stroke}#vector-canvas[data-transparent] #foreground-outlines rect{stroke:rgba(0,0,0,.3)}#huds>*{display:none;contain:layout style paint}#huds>[drawing],#huds>[enabled]{display:initial}#pixel-canvas{pointer-events:none;position:absolute;opacity:.4;top:0;left:0;width:100%;height:100%}"]);_templateObject197=function _templateObject197(){return data;};return data;}function _templateObject196(){var data=_taggedTemplateLiteral(["<template><svg id=\"vector-layer\" preserveAspectRatio=\"none\"><filter id=\"grippie-shadow\" width=\"100\" height=\"100\"><feGaussianBlur id=\"grippie-fe-blur\" in=\"SourceAlpha\" result=\"blur-out\" stdDeviation=\"1\"/><feOffset id=\"grippie-fe-offset\" in=\"blur-out\" result=\"the-shadow\" dx=\"1\" dy=\"1\"/><feBlend in=\"SourceGraphic\" in2=\"the-shadow\" mode=\"normal\"/></filter><g id=\"vector-canvas\" transform=\"translate(0, 0)\"><rect id=\"background-rect\" x=\"-1000000\" y=\"-1000000\" width=\"2000000\" height=\"2000000\"></rect><g id=\"background-outlines\"></g><g id=\"workspaces\"><rect id=\"whitespace\" x=\"-1000000\" y=\"-1000000\" width=\"2000000\" height=\"2000000\"></rect><g data-bx-workspace=\"master\"></g></g><g id=\"foreground-outlines\"></g><g id=\"huds\"></g></g></svg><div id=\"pixel-layer\"><canvas id=\"pixel-canvas\" hidden></canvas></div><bx-rulers id=\"rulers\" disabled=\"disabled\"></bx-rulers><div id=\"contexts\"><bx-transformselectcontext id=\"transform-select-context\"></bx-transformselectcontext><bx-directselectcontext id=\"direct-select-context\"></bx-directselectcontext><bx-pancontext id=\"pan-context\"></bx-pancontext><bx-textcontext id=\"text-context\"></bx-textcontext><bx-textpathcontext id=\"text-path-context\"></bx-textpathcontext><bx-cubicbeziercontext id=\"cubic-bezier-context\"></bx-cubicbeziercontext><bx-quadbeziercontext id=\"quad-bezier-context\"></bx-quadbeziercontext><bx-arccontext id=\"arc-context\"></bx-arccontext><bx-shapecontext id=\"shape-context\"></bx-shapecontext><bx-freehandcontext id=\"freehand-context\"></bx-freehandcontext><bx-blobcontext id=\"blob-context\"></bx-blobcontext><bx-linecontext id=\"line-context\"></bx-linecontext><bx-polylinecontext id=\"polyline-context\"></bx-polylinecontext><bx-polygoncontext id=\"polygon-context\"></bx-polygoncontext><bx-viewcontext id=\"view-context\"></bx-viewcontext></div></template>"]);_templateObject196=function _templateObject196(){return data;};return data;}function _templateObject195(){var data=_taggedTemplateLiteral(["#content-editor{width:100%;height:61px;min-height:61px}#font-size-dynamics-section{margin-top:10px}#font-size-dynamics-param-select{flex:1}#font-size-dynamics-variance-input{width:54px;margin-left:6px}#glyph-rotation-dynamics-section{margin-top:10px}#glyph-rotation-dynamics-param-select{flex:1}#glyph-rotation-dynamics-variance-input{width:54px;margin-left:6px}#opacity-dynamics-section{margin-top:10px}#opacity-dynamics-param-select{flex:1}#opacity-dynamics-variance-input{width:54px;margin-left:6px}"]);_templateObject195=function _templateObject195(){return data;};return data;}function _templateObject194(){var data=_taggedTemplateLiteral(["<template><h2>Text path</h2><section id=\"content-section\"><h3>Content</h3><x-texteditor id=\"content-editor\"><x-label>","</x-label></x-texteditor></section><hr><section id=\"dynamics-section\"><h3>Dynamics</h3><section id=\"font-size-dynamics-section\"><h4>Font size</h4><x-box><x-select id=\"font-size-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"font-size-dynamics-variance-input\" value=\"50\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"glyph-rotation-dynamics-section\"><h4>Glyph roration</h4><x-box><x-select id=\"glyph-rotation-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"glyph-rotation-dynamics-variance-input\" value=\"0\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"opacity-dynamics-section\"><h4>Opacity</h4><x-box><x-select id=\"opacity-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"opacity-dynamics-variance-input\" value=\"0\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"text\"></bx-stylepicker></section></template>"]);_templateObject194=function _templateObject194(){return data;};return data;}function _templateObject193(){var data=_taggedTemplateLiteral(["#content-editor{width:100%;height:61px;min-height:61px}"]);_templateObject193=function _templateObject193(){return data;};return data;}function _templateObject192(){var data=_taggedTemplateLiteral(["<template><h2>Text</h2><section id=\"content-section\"><h3>Content</h3><x-texteditor id=\"content-editor\"><x-label>","</x-label></x-texteditor></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"text\"></bx-stylepicker></section></template>"]);_templateObject192=function _templateObject192(){return data;};return data;}function _templateObject191(){var data=_taggedTemplateLiteral(["#mode-buttons{width:100%;margin:4px 0 0 0}#mode-buttons x-button{height:25px;flex:1}#size-subsection{margin-top:4px}#size-subsection h4{margin:0}#size-box{width:100%}#size-input{margin-left:10px;width:100px}#roundness-subsection{margin-top:7px}#roundness-subsection h4{margin:0}#roundness-box{width:100%}#roundness-input{margin-left:10px;width:100px}#angle-subsection{margin-top:7px}#angle-subsection h4{margin:0}#angle-box{width:100%}#angle-input{margin-left:10px;width:100px}#size-dynamics-section{margin-top:10px}#size-dynamics-param-select{flex:1}#size-dynamics-variance-input{width:54px;min-width:54px;margin-left:6px}#roundness-dynamics-section{margin-top:10px}#roundness-dynamics-param-select{flex:1}#roundness-dynamics-variance-input{width:54px;min-width:54px;margin-left:6px}#angle-dynamics-section{margin-top:10px}#angle-dynamics-param-select{flex:1}#angle-dynamics-variance-input{width:54px;min-width:54px;margin-left:6px}"]);_templateObject191=function _templateObject191(){return data;};return data;}function _templateObject190(){var data=_taggedTemplateLiteral(["<template><h2>Blob</h2><section id=\"mode-section\"><h3>Mode</h3><x-buttons id=\"mode-buttons\" tracking=\"1\"><x-button value=\"draw\"><x-label>Draw</x-label></x-button><x-button value=\"erase\"><x-label>Erase</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 100 100\"><line class=\"grid-line\" x1=\"10\" y1=\"50\" x2=\"90\" y2=\"50\"></line><line class=\"grid-line\" x1=\"50\" y1=\"10\" x2=\"50\" y2=\"90\"></line><ellipse id=\"geometry-preview-shape\" class=\"shape\" cx=\"50\" cy=\"50\" rx=\"35\" ry=\"35\"></ellipse><circle id=\"geometry-preview-grippie\" class=\"grippie\" cx=\"50\" cy=\"50\" r=\"5\"></circle></svg><section id=\"size-subsection\"><h4>Size</h4><x-box id=\"size-box\"><x-slider id=\"size-slider\" value=\"30\" min=\"1\" max=\"40\" step=\"1\"></x-slider><x-numberinput id=\"size-input\" value=\"30\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"roundness-subsection\"><h4>Roundness</h4><x-box id=\"roundness-box\"><x-slider id=\"roundness-slider\" value=\"100\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"roundness-input\" value=\"100\" min=\"1\" max=\"100\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"angle-subsection\"><h4>Angle</h4><x-box id=\"angle-box\"><x-slider id=\"angle-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"angle-input\" value=\"0\" min=\"-180\" max=\"180\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"dynamics-section\"><h3>Dynamics</h3><section id=\"size-dynamics-section\"><h4>Size</h4><x-box><x-select id=\"size-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"size-dynamics-variance-input\" value=\"50\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"roundness-dynamics-section\"><h4>Roundness</h4><x-box><x-select id=\"roundness-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"roundness-dynamics-variance-input\" value=\"50\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"angle-dynamics-section\"><h4>Angle</h4><x-box><x-select id=\"angle-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"angle-dynamics-variance-input\" value=\"50\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject190=function _templateObject190(){return data;};return data;}function _templateObject189(){var data=_taggedTemplateLiteral([":host{display:block;width:220px;box-sizing:border-box;overflow:auto}h2{margin:14px 0 0;padding:0 14px}h3:first-child{margin-top:0}section{padding:12px 14px}section section{padding:0}#geometry-preview{width:100%;height:70px;border-width:1px;border-style:solid;box-sizing:border-box}#geometry-preview .grid-line{stroke:currentColor;opacity:.2;vector-effect:non-scaling-stroke}#geometry-preview .shape{transform-origin:50% 50%;fill:none;stroke:currentColor;stroke-width:1px;vector-effect:non-scaling-stroke}#geometry-preview .grippie{fill:currentColor}"]);_templateObject189=function _templateObject189(){return data;};return data;}function _templateObject188(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;box-sizing:border-box}#main{display:flex;align-items:center;justify-content:flex-start}#thumbnail{width:70px;height:70px;box-sizing:border-box;border-width:1px;border-style:solid;-webkit-user-drag:none}#buttons{flex:1;margin-left:8px}#buttons x-button{width:100%}#buttons x-button:first-child{margin-bottom:6px}"]);_templateObject188=function _templateObject188(){return data;};return data;}function _templateObject187(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><svg id=\"thumbnail\" part=\"thumbnail\" viewBox=\"0 0 100 100\"><rect id=\"thumbnail-rect\" x=\"15\" y=\"15\" width=\"70\" height=\"70\"></rect></svg><x-box vertical id=\"buttons\"><x-button id=\"grab-button\" size=\"medium\" togglable><x-icon name=\"grab-color\"></x-icon><x-label>Grab</x-label></x-button><x-button id=\"reset-button\" size=\"medium\"><x-icon name=\"reset\"></x-icon><x-label>Reset</x-label></x-button></x-box></main></template>"]);_templateObject187=function _templateObject187(){return data;};return data;}function _templateObject186(){var data=_taggedTemplateLiteral([":host{display:none;position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;contain:strict;--size:14px}:host([enabled]){display:block}main{position:relative;width:100%;height:100%}#corner-ruler{pointer-events:all;position:absolute;left:0;top:0;width:var(--size);height:var(--size);box-sizing:border-box;border-width:0 1px 1px 0;border-style:none solid solid none}#horizontal-ruler,#vertical-ruler{pointer-events:all;position:relative;box-sizing:border-box;touch-action:pinch-zoom}#horizontal-ruler{position:absolute;top:0;width:100%;height:var(--size);border-width:0 0 1px 0;border-style:none none solid none}#vertical-ruler{position:absolute;top:0;width:var(--size);height:100%;border-width:0 1px 0 0;border-style:none solid none none;writing-mode:vertical-lr}#horizontal-ruler>div,#vertical-ruler>div{position:absolute;font-size:9px;box-sizing:border-box;pointer-events:none;user-select:none}#horizontal-ruler>div{width:0;height:100%;top:0;left:0;padding:0 0 0 3px;border-width:0 0 0 1px;border-style:none none none solid}#vertical-ruler>div{width:100%;height:0;top:0;left:0;padding:3px 0 0 0;border-width:1px 0 0 0;border-style:solid none none none}"]);_templateObject186=function _templateObject186(){return data;};return data;}function _templateObject185(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"horizontal-ruler\" class=\"ruler\" part=\"ruler horizontal-ruler\" data-type=\"horizontal\"></div><div id=\"vertical-ruler\" class=\"ruler\" part=\"ruler vertical-ruler\" data-type=\"vertical\"></div><div id=\"corner-ruler\" class=\"ruler\" part=\"ruler corner-ruler\" data-type=\"corner\"></div></main></template>"]);_templateObject185=function _templateObject185(){return data;};return data;}function _templateObject184(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;user-select:none;--wheel-max-width:none}:host([hidden]){display:none}#huesat-slider{display:flex;position:relative;width:100%;max-width:var(--wheel-max-width);margin:0 auto;height:auto;touch-action:pinch-zoom}#huesat-image{width:100%;height:100%;border-radius:999px;pointer-events:none}#huesat-marker{position:absolute;top:0;left:0;width:var(--marker-size);height:var(--marker-size);transform:translate(calc(var(--marker-size)/ -2),calc(var(--marker-size)/ -2));box-sizing:border-box;background:rgba(0,0,0,.3);border:3px solid #fff;border-radius:999px;box-shadow:0 0 3px #000;--marker-size:20px}#value-slider{width:100%;height:30px;margin-top:10px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #value-slider{height:24px}:host([computedsize=large]) #value-slider{height:35px}#value-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#value-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#alpha-slider{position:relative;display:none;width:100%;height:30px;margin-top:14px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}"]);_templateObject184=function _templateObject184(){return data;};return data;}function _templateObject183(){var data=_taggedTemplateLiteral(["\n    <template>\n      <x-box vertical>\n        <div id=\"huesat-slider\">\n          <img id=\"huesat-image\"></img>\n          <div id=\"huesat-marker\"></div>\n        </div>\n\n        <div id=\"value-slider\">\n          <div id=\"value-slider-track\">\n            <div id=\"value-slider-marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"alpha-slider\">\n          <div id=\"alpha-slider-gradient\"></div>\n          <div id=\"alpha-slider-track\">\n            <div id=\"alpha-slider-marker\"></div>\n          </div>\n        </div>\n      </x-box>\n    </template>\n  "]);_templateObject183=function _templateObject183(){return data;};return data;}function _templateObject182(){var data=_taggedTemplateLiteral([":host{display:block;width:30px;height:30px;box-sizing:border-box}:host([hidden]){display:none}:host([type=ring]){color:#4285f4}:host([type=spin]){color:#404040}svg{color:inherit;width:100%;height:100%}svg[data-type=ring] ellipse{fill:none;stroke:currentColor;stroke-linecap:round;stroke-dasharray:10,1000;animation:ring-dash-animation 2s cubic-bezier(.8,.25,.25,.9) infinite,ring-rotate-animation 2s linear infinite;transform-origin:center}@keyframes ring-rotate-animation{to{transform:rotate(360deg)}}@keyframes ring-dash-animation{50%{stroke-dasharray:200;stroke-dashoffset:0}100%{stroke-dasharray:245;stroke-dashoffset:-260}}svg[data-type=spin] rect{x:46.5px;y:40px;width:7px;height:22px;rx:5px;ry:5px;fill:currentColor;animation-name:spin-animation;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite;animation-delay:0s}svg[data-type=spin] rect:nth-child(1){animation-delay:calc(1s *  1/12)}svg[data-type=spin] rect:nth-child(2){animation-delay:calc(1s *  2/12)}svg[data-type=spin] rect:nth-child(3){animation-delay:calc(1s *  3/12)}svg[data-type=spin] rect:nth-child(4){animation-delay:calc(1s *  4/12)}svg[data-type=spin] rect:nth-child(5){animation-delay:calc(1s *  5/12)}svg[data-type=spin] rect:nth-child(6){animation-delay:calc(1s *  6/12)}svg[data-type=spin] rect:nth-child(7){animation-delay:calc(1s *  7/12)}svg[data-type=spin] rect:nth-child(8){animation-delay:calc(1s *  8/12)}svg[data-type=spin] rect:nth-child(9){animation-delay:calc(1s *  9/12)}svg[data-type=spin] rect:nth-child(10){animation-delay:calc(1s * 10/12)}svg[data-type=spin] rect:nth-child(11){animation-delay:calc(1s * 11/12)}svg[data-type=spin] rect:nth-child(12){animation-delay:calc(1s * 12/12)}@keyframes spin-animation{0%{opacity:1}100%{opacity:0}}"]);_templateObject182=function _templateObject182(){return data;};return data;}function _templateObject181(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg data-type=\"spin\" viewBox=\"0 0 100 100\">\n        <rect transform=\"rotate(  0 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate( 30 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate( 60 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate( 90 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(120 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(150 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(180 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(210 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(240 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(270 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(300 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(330 50 50) translate(0 -38)\"></rect>\n      </svg>\n    </template>\n  "]);_templateObject181=function _templateObject181(){return data;};return data;}function _templateObject180(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg data-type=\"ring\" viewBox=\"0 0 100 100\">\n        <ellipse ry=\"40\" rx=\"40\" cy=\"50\" cx=\"50\" stroke-width=\"10\"/>\n      </svg>\n    </template>\n  "]);_templateObject180=function _templateObject180(){return data;};return data;}function _templateObject179(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;width:100%;min-height:100px;box-sizing:border-box;background:#fff;font-size:12.5px}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}::-webkit-scrollbar{max-width:6px;max-height:6px;background:0 0}::-webkit-scrollbar-track{border-radius:25px}::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.2);border-radius:25px}::-webkit-scrollbar-corner{display:none}#main{display:flex;flex-flow:column;height:100%;min-height:inherit;max-height:inherit;overflow-y:auto}#editor{flex:1;padding:2px 6px;box-sizing:border-box;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;overflow:auto}:host([error])::before{position:absolute;left:0;bottom:-20px;box-sizing:border-box;font-family:inherit;font-size:11px;line-height:1.2;white-space:pre;content:attr(error) \" \"}"]);_templateObject179=function _templateObject179(){return data;};return data;}function _templateObject178(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <slot></slot>\n        <div id=\"editor\" contenteditable=\"plaintext-only\" spellcheck=\"false\"></div>\n      </main>\n    </template>\n  "]);_templateObject178=function _templateObject178(){return data;};return data;}function _templateObject177(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;min-height:29px;border:1px solid #bfbfbf;font-size:12px}:host(:focus){z-index:10}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{width:100%;height:100%;cursor:text}#tags{display:flex;flex-wrap:wrap}:host([mixed]) #tags{opacity:.7}#input{align-items:center;justify-content:flex-start;height:25px;margin:2px;padding:0 3px 0 6px;box-sizing:border-box;line-height:25px;color:inherit;outline:0;white-space:pre;cursor:text;user-select:text;pointer-events:none}#input[contenteditable]:focus{flex-grow:1;pointer-events:all}#suggestions-popover{width:200px;max-height:200px;padding:4px;box-sizing:border-box}#suggestions-popover #suggested-tags{flex:1;overflow:auto}#suggestions-popover x-tag{display:block;margin:4px 0 0 0}#suggestions-popover x-tag:first-child{margin-top:0}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}"]);_templateObject177=function _templateObject177(){return data;};return data;}function _templateObject176(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"tags\">\n          <slot></slot>\n          <span id=\"input\" part=\"input\" spellcheck=\"false\" tabindex=\"0\"></span>\n        </div>\n      </main>\n\n      <x-popover id=\"suggestions-popover\" part=\"suggestions\">\n        <div id=\"suggested-tags\"></div>\n      </x-popover>\n    </template>\n  "]);_templateObject176=function _templateObject176(){return data;};return data;}function _templateObject175(){var data=_taggedTemplateLiteral([":host{display:flex;box-sizing:border-box;align-items:center;justify-content:flex-start}:host([hidden]){display:none}"]);_templateObject175=function _templateObject175(){return data;};return data;}function _templateObject174(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject174=function _templateObject174(){return data;};return data;}function _templateObject173(){var data=_taggedTemplateLiteral([":host{display:inline-block;height:25px;box-sizing:border-box;overflow:hidden;color:var(--text-color);border-width:1px;border-style:solid}:host([toggled]){background:gray;color:#fff;outline:0}:host([disabled]){opacity:.5}:host([hidden]){display:none}:host(:focus){outline:0}#container{width:100%;height:100%;display:flex;align-items:center;justify-content:center}#scope{height:100%;padding:0 6px;display:none;align-items:center;justify-content:center;border-right-width:1px;border-right-style:solid}:host([scoped]) #scope{display:flex}#main{height:100%;padding:0 6px;display:flex;align-items:center;justify-content:center}#remove-button{display:none;opacity:.8;width:12px;height:12px;vertical-align:middle;margin-left:4px;d:path(\"M 25 16 L 50 41 L 75 16 L 84 25 L 59 50 L 84 75 L 75 84 L 50 59 L 25 84 L 16 75 L 41 50 L 16 25 Z\");fill:currentColor;color:inherit}:host([removable]) #remove-button{display:block}#remove-button:hover{background:rgba(0,0,0,.1);opacity:1}#remove-button path{d:inherit;fill:inherit;pointer-events:none}"]);_templateObject173=function _templateObject173(){return data;};return data;}function _templateObject172(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"container\">\n        <div id=\"scope\" part=\"scope\">\n          <slot id=\"scope-slot\" name=\"scope\"></slot>\n        </div>\n\n        <main id=\"main\" part=\"main\">\n          <slot></slot>\n\n          <svg id=\"remove-button\" part=\"remove-button\" viewBox=\"0 0 100 100\">\n            <path id=\"remove-button-path\"></path>\n          </svg>\n        </main>\n      </div>\n    </template>\n  "]);_templateObject172=function _templateObject172(){return data;};return data;}function _templateObject171(){var data=_taggedTemplateLiteral([":host{position:relative;display:flex;margin:0 auto;width:fit-content;max-width:100%;box-sizing:border-box;justify-content:center}::slotted(x-tab){flex:0}"]);_templateObject171=function _templateObject171(){return data;};return data;}function _templateObject170(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject170=function _templateObject170(){return data;};return data;}function _templateObject169(){var data=_taggedTemplateLiteral([":host{position:relative;display:flex;align-items:center;justify-content:center;min-height:30px;padding:2px 12px;box-sizing:border-box;cursor:default;user-select:none;box-sizing:border-box;font-size:14px;--trigger-effect:none}:host(:focus){z-index:10;outline:0}#content{display:inherit;flex-flow:inherit;align-items:inherit;z-index:100}#ripples{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;overflow:hidden;pointer-events:none}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}#selection-indicator{display:none;width:100%;height:0;background:var(--accent-color);position:absolute;bottom:0;left:0}:host([selected]) #selection-indicator{display:block}"]);_templateObject169=function _templateObject169(){return data;};return data;}function _templateObject168(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"ripples\"></div>\n      <div id=\"selection-indicator\" part=\"selection-indicator\"></div>\n      <div id=\"content\">\n        <slot></slot>\n      </div>\n    </template>\n  "]);_templateObject168=function _templateObject168(){return data;};return data;}function _templateObject167(){var data=_taggedTemplateLiteral([":host{display:block;width:fit-content;margin:2px 0}:host([disabled]){opacity:.4;pointer-events:none}#main{display:flex;align-items:center}#indicator{position:relative;width:34px;height:15px;display:flex;align-items:center}#indicator-track{display:flex;align-items:center;width:100%;height:65%;background:currentColor;border-radius:999px}#indicator-thumb{position:absolute;left:0;width:16px;height:16px;background:currentColor;border-radius:999px;transition:left .2s cubic-bezier(.4, 0, .2, 1)}:host([toggled]) #indicator-thumb{left:calc(100% - 16px)}:host([mixed]) #indicator-thumb{left:calc(50% - 16px / 2)}#description{flex:1}"]);_templateObject167=function _templateObject167(){return data;};return data;}function _templateObject166(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"indicator\" part=\"indicator\">\n          <div id=\"indicator-track\" part=\"indicator-track\">\n            <div id=\"indicator-thumb\" part=\"indicator-thumb\"></div>\n          </div>\n        </div>\n\n        <div id=\"description\">\n          <slot></slot>\n        </div>\n      </main>\n    </template>\n  "]);_templateObject166=function _templateObject166(){return data;};return data;}function _templateObject165(){var data=_taggedTemplateLiteral([":host{display:block;width:18px;height:18px;cursor:default;box-sizing:border-box;overflow:hidden}#preview{width:100%;height:100%;position:relative}"]);_templateObject165=function _templateObject165(){return data;};return data;}function _templateObject164(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"preview\"></div>\n    </template>\n  "]);_templateObject164=function _templateObject164(){return data;};return data;}function _templateObject163(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column-reverse;align-items:center;justify-content:center;box-sizing:border-box;height:100%;width:fit-content;color:rgba(0,0,0,.6)}:host(:hover){cursor:default}:host([disabled=\"\"]){opacity:.5;pointer-events:none}.button{display:flex;align-items:center;justify-content:center;width:100%;height:100%;user-select:none;box-sizing:border-box;color:inherit;border-left:none}.button[data-pressed]{color:#fff;background:rgba(0,0,0,.3)}:host([disabled=decrement]) #decrement-button,:host([disabled=increment]) #increment-button{opacity:.3;pointer-events:none}#increment-arrow{width:11px;height:11px;pointer-events:none;d:path(\"M 24 69 L 50 43 L 76 69 L 69 76 L 50 58 L 31 76 L 24 69 Z\" )}#decrement-arrow{width:11px;height:11px;pointer-events:none;d:path(\"M 24 32 L 50 58 L 76 32 L 69 25 L 50 44 L 31 25 L 24 32 Z\" )}#decrement-arrow-path,#increment-arrow-path{d:inherit;fill:currentColor}"]);_templateObject163=function _templateObject163(){return data;};return data;}function _templateObject162(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"decrement-button\" part=\"decrement-button\" class=\"button\">\n        <svg id=\"decrement-arrow\" part=\"decrement-arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n          <path id=\"decrement-arrow-path\"></path>\n        </svg>\n      </div>\n\n      <div id=\"increment-button\" part=\"increment-button\" class=\"button\">\n        <svg id=\"increment-arrow\" part=\"increment-arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n          <path id=\"increment-arrow-path\"></path>\n        </svg>\n      </div>\n    </template>\n  "]);_templateObject162=function _templateObject162(){return data;};return data;}function _templateObject161(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;position:relative;box-sizing:border-box;touch-action:pan-y}:host(:focus){outline:0}:host(:hover){cursor:default}:host([disabled]){pointer-events:none;opacity:.4}:host([vertical]){width:fit-content;height:200px}#main{display:flex;flex-flow:column;width:100%;height:100%}:host([vertical]) #main{flex-flow:row}#tracks-and-thumbs{position:relative;width:100%;height:100%}#range-track{position:absolute;width:0%;height:3px;background:#000;top:50%;transform:translateY(-50%)}:host([vertical]) #range-track{width:3px;height:0%;top:initial;left:50%;transform:translateX(-50%)}#groove-track{position:absolute;width:100%;height:3px;background:gray;border-radius:10px;top:50%;transform:translateY(-50%)}:host([vertical]) #groove-track{width:3px;height:100%;top:initial;left:50%;transform:translateX(-50%)}#buffer-track{position:absolute;width:0%;height:3px;background:red;top:50%;transform:translateY(-50%)}:host([vertical]) #buffer-track{width:3px;height:0%;top:initial;left:50%;transform:translateX(-50%)}#thumbs{position:relative;width:calc(100% - var(--computed-thumb-width));height:100%;margin:0 auto}:host([vertical]) #thumbs{height:calc(100% - var(--computed-thumb-height));width:100%;margin:auto 0}#thumbs .thumb{position:absolute;top:0;left:0;width:20px;height:20px;margin-left:calc(var(--computed-thumb-width)/ -2);box-sizing:border-box;background:gray;border:1px solid rgba(0,0,0,.2)}:host([vertical]) #thumbs .thumb{margin-left:0}#thumbs .thumb:first-child{position:relative}#thumbs .thumb:focus{outline:0;z-index:2}#ticks{position:relative;width:calc(100% - var(--computed-thumb-width));margin:0 calc(var(--computed-thumb-width)/ 2)}:host([vertical]) #ticks{width:initial;height:calc(100% - var(--computed-thumb-height));margin:calc(var(--computed-thumb-height)/ 2) 0}#ticks:empty{display:none}#ticks .tick{position:absolute;left:0;top:0;width:1px;height:5px;background:rgba(0,0,0,.4)}:host([vertical]) #ticks .tick{width:5px;height:1px;left:0;top:0}#ticks .tick:first-child{position:relative}#labels{position:relative;width:calc(100% - var(--computed-thumb-width));margin:0 calc(var(--computed-thumb-width)/ 2)}:host([vertical]) #labels{width:initial;height:calc(100% - var(--computed-thumb-height));margin:calc(var(--computed-thumb-height)/ 2) 0}:host(:empty) #labels{display:none}::slotted(x-label){display:inline-block;top:0;position:absolute;vertical-align:top;transform:translateX(-50%);white-space:nowrap}:host([vertical]) ::slotted(x-label){top:initial;left:4px;transform:translateY(-50%)}"]);_templateObject161=function _templateObject161(){return data;};return data;}function _templateObject160(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"tracks-and-thumbs\">\n          <div id=\"groove-track\" part=\"track groove-track\"></div>\n          <div id=\"buffer-track\" part=\"track buffer-track\"></div>\n          <div id=\"range-track\" part=\"track range-track\"></div>\n          <div id=\"thumbs\">\n            <div id=\"start-thumb\" class=\"thumb\" part=\"thumb start-thumb\" data-value=\"start\" tabindex=\"0\"></div>\n            <div id=\"end-thumb\" class=\"thumb\" part=\"thumb end-thumb\" data-value=\"end\" tabindex=\"0\"></div>\n          </div>\n        </div>\n\n        <div id=\"ticks\"></div>\n\n        <div id=\"labels\">\n          <slot></slot>\n        </div>\n      </main>\n    </template>\n  "]);_templateObject160=function _templateObject160(){return data;};return data;}function _templateObject159(){var data=_taggedTemplateLiteral([":host{display:inline-block;box-sizing:border-box;font-size:14px;line-height:1}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}"]);_templateObject159=function _templateObject159(){return data;};return data;}function _templateObject158(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\"></main>\n    </template>\n  "]);_templateObject158=function _templateObject158(){return data;};return data;}function _templateObject157(){var data=_taggedTemplateLiteral([":host{display:block;width:fit-content;height:32px;padding:0 0 0 9px;max-width:100%;box-sizing:border-box;position:relative;outline:0;font-size:14px;user-select:none}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}:host(:hover){cursor:default}#button{display:flex;flex-flow:row;align-items:center;justify-content:flex-start;flex:1;width:100%;height:100%}:host([mixed]) #button>*{opacity:.7}#button>x-label{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}#button>#arrow-container{margin:0 0 0 auto;z-index:999}#button>#arrow-container #arrow{display:flex;width:13px;height:13px;min-width:13px;margin:0 2px 0 11px;color:currentColor;d:path(\"M 25 41 L 50 16 L 75 41 L 83 34 L 50 1 L 17 34 Z M 17 66 L 50 100 L 83 66 L 75 59 L 50 84 L 25 59 Z\")}#button>#arrow-container #arrow path{fill:currentColor;d:inherit}"]);_templateObject157=function _templateObject157(){return data;};return data;}function _templateObject156(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"button\">\n        <div id=\"arrow-container\">\n          <svg id=\"arrow\" part=\"arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n            <path></path>\n          </svg>\n        </div>\n      </div>\n\n      <slot></slot>\n    </template>\n  "]);_templateObject156=function _templateObject156(){return data;};return data;}function _templateObject155(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;user-select:none}:host([hidden]){display:none}#hue-slider{width:100%;height:30px;padding:0 calc(var(--marker-width)/ 2);margin-bottom:14px;box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background:red}:host([computedsize=small]) #hue-slider{height:24px}:host([computedsize=large]) #hue-slider{height:35px}#hue-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center;background:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}#hue-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#satlight-slider{width:100%;height:174px;border-radius:2px;position:relative;touch-action:pinch-zoom}#satlight-marker{position:absolute;top:0;left:0;width:var(--marker-size);height:var(--marker-size);transform:translate(calc(var(--marker-size)/ -2),calc(var(--marker-size)/ -2));box-sizing:border-box;background:rgba(0,0,0,.3);border:3px solid #fff;border-radius:999px;box-shadow:0 0 3px #000;--marker-size:20px}#alpha-slider{position:relative;display:none;width:100%;height:30px;margin-top:14px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}"]);_templateObject155=function _templateObject155(){return data;};return data;}function _templateObject154(){var data=_taggedTemplateLiteral(["\n    <template>\n      <x-box vertical>\n        <div id=\"hue-slider\">\n          <div id=\"hue-slider-track\">\n            <div id=\"hue-slider-marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"satlight-slider\">\n          <div id=\"satlight-marker\"></div>\n        </div>\n\n        <div id=\"alpha-slider\">\n          <div id=\"alpha-slider-gradient\"></div>\n          <div id=\"alpha-slider-track\">\n            <div id=\"alpha-slider-marker\"></div>\n          </div>\n        </div>\n      </x-box>\n    </template>\n  "]);_templateObject154=function _templateObject154(){return data;};return data;}function _templateObject153(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;width:fit-content}:host(:focus){outline:0}:host([disabled]){opacity:.4;pointer-events:none}:host([hidden]){display:none}#main{display:flex;align-items:center}#indicator{position:relative;border:3px solid #000;width:19px;height:19px;border-radius:99px;display:flex;align-items:center;justify-content:center}#indicator-dot{width:100%;height:100%;background:currentColor;border-radius:99px;transform:scale(0)}:host([mixed][toggled]) #indicator-dot{height:33%;border-radius:0}:host([toggled]) #indicator-dot{transform:scale(.5)}#description{flex:1}"]);_templateObject153=function _templateObject153(){return data;};return data;}function _templateObject152(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"indicator\" part=\"indicator\">\n          <div id=\"indicator-dot\" part=\"indicator-dot\"></div>\n        </div>\n\n        <div id=\"description\">\n          <slot></slot>\n        </div>\n      </main>\n    </template>\n  "]);_templateObject152=function _templateObject152(){return data;};return data;}function _templateObject151(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box;height:8px;width:100%;position:relative;contain:strict;overflow:hidden;background:#acece6;cursor:default}:host([hidden]){display:none}#indeterminate-bars{width:100%;height:100%}#determinate-bar{position:absolute;top:0;left:0;bottom:0;width:0%;height:100%;background:#3b99fb;box-shadow:0 0 0 1px #3385db;transition:width .4s ease-in-out;will-change:left,right}:host([value=\"-1\"]) #determinate-bar{visibility:hidden}#primary-indeterminate-bar{position:absolute;top:0;left:0;bottom:0;height:100%;background:#3b99fb;will-change:left,right}#secondary-indeterminate-bar{position:absolute;top:0;left:0;bottom:0;height:100%;background:#3b99fb;will-change:left,right}"]);_templateObject151=function _templateObject151(){return data;};return data;}function _templateObject150(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"determinate-bar\" part=\"bar\"></div>\n\n      <div id=\"indeterminate-bars\">\n        <div id=\"primary-indeterminate-bar\" part=\"bar\"></div>\n        <div id=\"secondary-indeterminate-bar\" part=\"bar\"></div>\n      </div>\n    </template>\n  "]);_templateObject150=function _templateObject150(){return data;};return data;}function _templateObject149(){var data=_taggedTemplateLiteral([":host{position:fixed;display:none;top:0;left:0;min-height:30px;z-index:1001;box-sizing:border-box;background:#fff;-webkit-app-region:no-drag;--align:bottom;--arrow-size:20px;--open-transition:900 transform cubic-bezier(0.4, 0, 0.2, 1);--close-transition:200 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host(:focus){outline:0}:host([animating]),:host([opened]){display:flex}#arrow{position:fixed;box-sizing:border-box;content:\"\"}#arrow[data-align=bottom],#arrow[data-align=top]{width:var(--arrow-size);height:calc(var(--arrow-size) * .6);transform:translate(-50%,0)}#arrow[data-align=left],#arrow[data-align=right]{width:calc(var(--arrow-size) * .6);height:var(--arrow-size);transform:translate(0,-50%)}#arrow path{stroke-width:1;vector-effect:non-scaling-stroke}#arrow[data-align=bottom] path{d:path(\"M 0 100, L 50 0, L 100 100\")}#arrow[data-align=top] path{d:path(\"M 0 0, L 50 100, L 100 0\")}#arrow[data-align=left] path{d:path(\"M 0 0, L 100 50, L 00 100\")}#arrow[data-align=right] path{d:path(\"M 100 0, L 0 50, L 100 100\")}"]);_templateObject149=function _templateObject149(){return data;};return data;}function _templateObject148(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg id=\"arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path id=\"arrow-path\"></path>\n      </svg>\n      <slot></slot>\n    </template>\n  "]);_templateObject148=function _templateObject148(){return data;};return data;}function _templateObject147(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;max-width:160px;height:32px;box-sizing:border-box;font-size:12.5px}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{display:flex;align-items:center;height:100%}#editor-container{display:flex;align-items:center;width:100%;height:100%;padding:0 6px;box-sizing:border-box;overflow:hidden}#editor{width:100%;overflow:auto;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;line-height:10;white-space:nowrap}#editor::-webkit-scrollbar{display:none}#editor::before{content:attr(data-prefix);pointer-events:none}#editor::after{content:attr(data-suffix);pointer-events:none}:host(:focus) #editor::after,:host(:focus) #editor::before,:host([empty]) #editor::after,:host([empty]) #editor::before{content:\"\"}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}"]);_templateObject147=function _templateObject147(){return data;};return data;}function _templateObject146(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"editor-container\">\n          <div id=\"editor\" contenteditable=\"plaintext-only\" spellcheck=\"false\"></div>\n        </div>\n        <slot></slot>\n      </main>\n    </template>\n  "]);_templateObject146=function _templateObject146(){return data;};return data;}function _templateObject145(){var data=_taggedTemplateLiteral([":host{display:none;position:fixed;min-width:15px;min-height:15px;bottom:15px;left:50%;transform:translateX(-50%);padding:5px 12px;box-sizing:border-box;color:rgba(255,255,255,.9);background:#434343;z-index:9999;font-size:12px;user-select:text;transition:transform .15s cubic-bezier(.4, 0, .2, 1)}:host([animating]),:host([opened]){display:block}:host(:focus){outline:0}"]);_templateObject145=function _templateObject145(){return data;};return data;}function _templateObject144(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject144=function _templateObject144(){return data;};return data;}function _templateObject143(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:row;align-items:center;position:relative;padding:0 12px 0 23px;min-height:28px;box-sizing:border-box;cursor:default;user-select:none;--trigger-effect:blink}:host([hidden]){display:none}:host([disabled]){pointer-events:none;opacity:.6}:host(:focus){outline:0}:host-context([debug]):host(:focus){outline:2px solid red}#ripples{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;pointer-events:none;contain:strict;overflow:hidden}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.1;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}#checkmark{display:none;transition:transform .2s cubic-bezier(.4, 0, .2, 1);align-self:center;width:18px;height:18px;margin:0 2px 0 -20px;d:path(\"M 44 61 L 29 47 L 21 55 L 46 79 L 79 27 L 70 21 L 44 61 Z\");color:inherit}:host([togglable]) #checkmark{display:flex;transform:scale(0);transform-origin:50% 50%}:host([toggled]) #checkmark{display:flex;transform:scale(1)}#checkmark path{d:inherit;fill:currentColor}#arrow{display:flex;width:16px;height:16px;transform:scale(1.1);align-self:center;margin-left:8px;d:path(\"M 26 20 L 26 80 L 74 50 Z\");opacity:1;color:inherit}#arrow[hidden]{display:none}#arrow path{d:inherit;fill:currentColor}"]);_templateObject143=function _templateObject143(){return data;};return data;}function _templateObject142(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"ripples\"></div>\n\n      <svg id=\"checkmark\" part=\"checkmark\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path></path>\n      </svg>\n\n      <slot></slot>\n\n      <svg id=\"arrow\" part=\"arrow\" viewBox=\"0 0 100 100\" hidden>\n        <path></path>\n      </svg>\n    </template>\n  "]);_templateObject142=function _templateObject142(){return data;};return data;}function _templateObject141(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;width:100%;height:30px;padding:0 6px;box-sizing:border-box}:host([disabled]){pointer-events:none;opacity:.6}:host([hidden]){display:none}#backdrop{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;pointer-events:none;touch-action:none}#backdrop[hidden]{display:none}#backdrop path{fill:red;fill-rule:evenodd;opacity:0;pointer-events:all}"]);_templateObject141=function _templateObject141(){return data;};return data;}function _templateObject140(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg id=\"backdrop\" hidden>\n        <path id=\"backdrop-path\"></path>\n      </svg>\n\n      <slot></slot>\n    </template>\n  "]);_templateObject140=function _templateObject140(){return data;};return data;}function _templateObject139(){var data=_taggedTemplateLiteral([":host{display:none;top:0;left:0;width:fit-content;padding:4px 0;z-index:1001;box-sizing:border-box;background:#fff;cursor:default;overflow:auto;flex-direction:column;-webkit-app-region:no-drag;--align:start;--scrollbar-background:rgba(0, 0, 0, 0.2);--scrollbar-width:6px;--open-transition:100 transform cubic-bezier(0.4, 0, 0.2, 1);--close-transition:200 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host([animating]),:host([opened]){display:flex}:host(:focus){outline:0}:host-context([debug]):host(:focus){outline:2px solid red}::-webkit-scrollbar{max-width:var(--scrollbar-width);background:0 0}::-webkit-scrollbar-thumb{background-color:var(--scrollbar-background)}::-webkit-scrollbar-corner{display:none}"]);_templateObject139=function _templateObject139(){return data;};return data;}function _templateObject138(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot id=\"slot\"></slot>\n    </template>\n  "]);_templateObject138=function _templateObject138(){return data;};return data;}function _templateObject137(){var data=_taggedTemplateLiteral([":host{display:block;line-height:1.2;user-select:none;box-sizing:border-box}:host([disabled]){opacity:.5}:host([hidden]){display:none}slot{text-decoration:inherit}"]);_templateObject137=function _templateObject137(){return data;};return data;}function _templateObject136(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject136=function _templateObject136(){return data;};return data;}function _templateObject135(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;max-width:160px;height:32px;box-sizing:border-box;background:#fff;font-size:12.5px}:host(:focus){z-index:10}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{display:flex;align-items:center;width:100%;height:100%}#input{width:100%;height:100%;padding:0 6px;box-sizing:border-box;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;font-weight:inherit;text-align:inherit;cursor:inherit}#input:-webkit-autofill{z-index:1}#input:-internal-autofill-previewed,#input:-internal-autofill-selected{-webkit-box-shadow:var(--autofill-background-color) 0 0 0 30px inset}:host(:not(:focus)) ::selection{color:inherit;background:0 0}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}"]);_templateObject135=function _templateObject135(){return data;};return data;}function _templateObject134(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <slot></slot>\n        <input id=\"input\" spellcheck=\"false\" part=\"input\"></input>\n      </main>\n    </template>\n  "]);_templateObject134=function _templateObject134(){return data;};return data;}function _templateObject133(){var data=_taggedTemplateLiteral([":host{display:block;color:currentColor;display:flex;align-items:center;justify-content:center;width:17px;height:17px}:host([disabled]){opacity:.5}:host([hidden]){display:none}#svg{width:100%;height:100%;fill:currentColor;stroke:none;overflow:inherit;pointer-events:none}"]);_templateObject133=function _templateObject133(){return data;};return data;}function _templateObject132(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg id=\"svg\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\" width=\"0px\" height=\"0px\"></svg>\n    </template>\n  "]);_templateObject132=function _templateObject132(){return data;};return data;}function _templateObject131(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;width:100%;height:32px;position:relative}:host(:focus){outline:0}:host([disabled]){opacity:.5;pointer-events:none}#open-button{display:flex;align-items:center;justify-content:center;width:18px;height:18px;margin:0 4px;order:9999;color:inherit;d:path(\"M 79 54 L 54 54 L 54 79 L 46 79 L 46 54 L 21 54 L 21 46 L 46 46 L 46 21 L 54 21 L 54 46 L 79 46 L 79 54 Z\");-webkit-app-region:no-drag}#open-button-path{d:inherit;fill:currentColor}"]);_templateObject131=function _templateObject131(){return data;};return data;}function _templateObject130(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n\n      <svg id=\"open-button\" part=\"open-button\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path id=\"open-button-path\"></path>\n      </svg>\n    </template>\n  "]);_templateObject130=function _templateObject130(){return data;};return data;}function _templateObject129(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;justify-content:center;position:relative;width:100%;height:100%;min-width:1px;max-width:220px;padding:0 18px;flex:1 0 0;transition-property:max-width,padding,order;transition-duration:.15s;transition-timing-function:cubic-bezier(0.4,0.0,0.2,1);cursor:default;user-select:none;touch-action:pan-y;box-sizing:border-box;will-change:max-width;z-index:0;-webkit-app-region:no-drag;--trigger-effect:none}:host(:focus){outline:0}:host([closing]){pointer-events:none}:host([selected]){z-index:1}:host([disabled]){pointer-events:none;opacity:.5}#close-button{display:flex;align-items:center;justify-content:center;position:static;left:0;right:initial;width:18px;height:18px;margin:0 0 0 auto;opacity:.8;padding:1px;d:path(\"M 74 31 L 69 26 L 50 45 L 31 26 L 26 31 L 45 50 L 26 69 L 31 74 L 50 55 L 69 74 L 74 69 L 55 50 Z\")}:host([edited]) #close-button{d:path(\"M 68 50 C 68 60 60 68 50 68 C 40 68 32 60 32 50 C 32 40 40 32 50 32 C 60 32 68 40 68 50 Z\")}#close-button:hover{background:rgba(0,0,0,.08);opacity:1}#close-button-path{pointer-events:none;d:inherit;fill:currentColor}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;z-index:-1;contain:strict}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;will-change:opacity,transform;pointer-events:none}#selection-indicator{display:none;position:absolute;bottom:0;left:0;width:100%;height:0;pointer-events:none}:host([selected]) #selection-indicator{display:block}:host([animatingindicator]) #selection-indicator{display:block}"]);_templateObject129=function _templateObject129(){return data;};return data;}function _templateObject128(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"ripples\"></div>\n      <div id=\"selection-indicator\" part=\"selection-indicator\"></div>\n\n      <slot></slot>\n\n      <svg id=\"close-button\" part=\"close-button\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path id=\"close-button-path\"></path>\n      </svg>\n    </template>\n  "]);_templateObject128=function _templateObject128(){return data;};return data;}function _templateObject127(){var data=_taggedTemplateLiteral([":host{display:block;position:fixed;width:0;height:0;z-index:1001}"]);_templateObject127=function _templateObject127(){return data;};return data;}function _templateObject126(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject126=function _templateObject126(){return data;};return data;}function _templateObject125(){var data=_taggedTemplateLiteral([":host{display:block;width:32px;height:32px;box-sizing:border-box;position:relative;overflow:hidden;background-color:#fff;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([hidden]){display:none}:host([disabled]){pointer-events:none;opacity:.4}::slotted(x-popover){width:190px;height:auto;padding:12px 12px}#input{display:flex;width:100%;height:100%;box-sizing:border-box;border:none;background:0 0;padding:0;opacity:0;-webkit-appearance:none}#input::-webkit-color-swatch-wrapper{padding:0}#input::-webkit-color-swatch{border:none}"]);_templateObject125=function _templateObject125(){return data;};return data;}function _templateObject124(){var data=_taggedTemplateLiteral(["\n    <template>\n      <input tabindex=\"-1\" id=\"input\" type=\"color\" value=\"#ffffff\">\n      <slot></slot>\n    </template>\n  "]);_templateObject124=function _templateObject124(){return data;};return data;}function _templateObject123(){var data=_taggedTemplateLiteral([":host{display:block;width:fit-content;--trigger-effect:none}:host([disabled]){opacity:.4;pointer-events:none}:host([hidden]){display:none}:host(:focus){outline:0}#main{display:flex;align-items:center}#indicator{position:relative;width:19px;height:19px;box-sizing:border-box;border:2px solid currentColor;d:path(\"M 0 0 L 100 0 L 100 100 L 0 100 L 0 0 Z M 95 23 L 86 13 L 37 66 L 13.6 41 L 4.5 51 L 37 85 L 95 23 Z\")}:host([mixed]) #indicator{d:path(\"M 0 0 L 100 0 L 100 100 L 0 100 Z M 87 42.6 L 13 42.6 L 13 57.4 L 87 57.4 Z\")}#checkmark{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;d:inherit;transition-property:opacity;transition-timing-function:inherit;transition-duration:inherit}:host([mixed]) #checkmark{opacity:1}:host([toggled]) #checkmark{opacity:1}#checkmark path{fill:currentColor;d:inherit}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}#ripples .ripple{position:absolute;top:0;left:0;width:100%;height:100%;background:currentColor;opacity:.15;z-index:-1;will-change:opacity,transform;border-radius:999px;transform:scale(2.6)}#description{flex:1}"]);_templateObject123=function _templateObject123(){return data;};return data;}function _templateObject122(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"indicator\" part=\"indicator\">\n          <div id=\"ripples\"></div>\n\n          <svg id=\"checkmark\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n            <path></path>\n          </svg>\n        </div>\n\n        <div id=\"description\">\n          <slot></slot>\n        </div>\n      </main>\n    </template>\n  "]);_templateObject122=function _templateObject122(){return data;};return data;}function _templateObject121(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;min-width:20px;min-height:48px;box-sizing:border-box;margin:30px 0}:host([hidden]){display:none}"]);_templateObject121=function _templateObject121(){return data;};return data;}function _templateObject120(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject120=function _templateObject120(){return data;};return data;}function _templateObject119(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:row;align-items:center;justify-content:flex-start;box-sizing:border-box;width:fit-content}:host([hidden]){display:none}"]);_templateObject119=function _templateObject119(){return data;};return data;}function _templateObject118(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject118=function _templateObject118(){return data;};return data;}function _templateObject117(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;justify-content:center;width:fit-content;height:fit-content;min-height:32px;padding:2px 14px;box-sizing:border-box;opacity:1;position:relative;overflow:hidden;--trigger-effect:none}:host(:focus){outline:0}:host(:focus:not(:active)){z-index:1}:host([mixed]){opacity:.75}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}#arrow{color:currentColor;width:8px;height:8px;min-width:8px;margin:0 0 0 4px;d:path(\"M 11.7 19.9 L 49.8 57.9 L 87.9 19.9 L 99.7 31.6 L 49.8 81.4 L -0.0 31.6 Z\")}#arrow path{fill:currentColor;d:inherit}#arrow[hidden]{display:none}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;border-radius:inherit}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}"]);_templateObject117=function _templateObject117(){return data;};return data;}function _templateObject116(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"ripples\"></div>\n      <slot></slot>\n\n      <svg id=\"arrow\" part=\"arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path id=\"arrow-path\"></path>\n      </svg>\n    </template>\n  "]);_templateObject116=function _templateObject116(){return data;};return data;}function _templateObject115(){var data=_taggedTemplateLiteral([":host{display:flex;box-sizing:border-box;align-items:center;justify-content:flex-start}:host([vertical]){flex-flow:column;align-items:flex-start;justify-content:center}:host([hidden]){display:none}"]);_templateObject115=function _templateObject115(){return data;};return data;}function _templateObject114(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject114=function _templateObject114(){return data;};return data;}function _templateObject113(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;user-select:none}:host([hidden]){display:none}#hue-slider{width:100%;height:30px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;background:red;--marker-width:18px}:host([computedsize=small]) #hue-slider{height:24px}:host([computedsize=large]) #hue-slider{height:35px}#hue-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center;background:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}#hue-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#saturation-slider{width:100%;height:30px;margin-top:20px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #saturation-slider{height:24px}:host([computedsize=large]) #saturation-slider{height:35px}#saturation-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#saturation-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#lightness-slider{width:100%;height:30px;margin-top:20px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #lightness-slider{height:24px}:host([computedsize=large]) #lightness-slider{height:35px}#lightness-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#lightness-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#alpha-slider{display:none;width:100%;height:30px;margin-top:20px;margin-bottom:8px;padding:0 calc(var(--marker-width)/ 2);position:relative;box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}"]);_templateObject113=function _templateObject113(){return data;};return data;}function _templateObject112(){var data=_taggedTemplateLiteral(["\n    <template>\n      <x-box vertical>\n        <div id=\"hue-slider\" part=\"slider\">\n          <div id=\"hue-slider-track\">\n            <div id=\"hue-slider-marker\" part=\"marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"saturation-slider\" part=\"slider\">\n          <div id=\"saturation-slider-track\">\n            <div id=\"saturation-slider-marker\" part=\"marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"lightness-slider\" part=\"slider\">\n          <div id=\"lightness-slider-track\">\n            <div id=\"lightness-slider-marker\" part=\"marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"alpha-slider\" part=\"slider\">\n          <div id=\"alpha-slider-gradient\"></div>\n          <div id=\"alpha-slider-track\">\n            <div id=\"alpha-slider-marker\" part=\"marker\"></div>\n          </div>\n        </div>\n      </x-box>\n    </template>\n  "]);_templateObject112=function _templateObject112(){return data;};return data;}function _templateObject111(){var data=_taggedTemplateLiteral([":host{display:block;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:1000;touch-action:none;will-change:opacity;cursor:default;background:rgba(0,0,0,.5)}:host([hidden]){display:none}"]);_templateObject111=function _templateObject111(){return data;};return data;}function _templateObject110(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;margin:8px 0;box-sizing:border-box}:host([animating]){overflow:hidden}#main{position:relative;width:100%;height:100%}#arrow-container{position:absolute;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:flex-start;pointer-events:none}#arrow{display:flex;width:16px;height:16px;d:path(\"M 26 20 L 26 80 L 74 50 Z\");transform:rotate(0);transition:transform .25s cubic-bezier(.4, 0, .2, 1);color:currentColor}#arrow:focus{background:0 0;outline:0}:host([expanded]) #arrow{transform:rotate(90deg)}#arrow path{fill:currentColor;d:inherit}"]);_templateObject110=function _templateObject110(){return data;};return data;}function _templateObject109(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"arrow-container\">\n          <svg id=\"arrow\" part=\"arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\" tabindex=\"1\">\n            <path></path>\n          </svg>\n        </div>\n\n        <slot></slot>\n      </main>\n    </template>\n  "]);_templateObject109=function _templateObject109(){return data;};return data;}function _templateObject108(){var data=_taggedTemplateLiteral(["<bx-editor></bx-editor>"]);_templateObject108=function _templateObject108(){return data;};return data;}function _templateObject107(){var data=_taggedTemplateLiteral(["<x-doctab title=\"Untitled\"><x-label>Untitled</x-label></x-doctab>"]);_templateObject107=function _templateObject107(){return data;};return data;}function _templateObject106(){var data=_taggedTemplateLiteral(["<bx-editor></bx-editor>"]);_templateObject106=function _templateObject106(){return data;};return data;}function _templateObject105(){var data=_taggedTemplateLiteral(["<x-doctab title=\"Untitled\"><x-label>Untitled</x-label></x-doctab>"]);_templateObject105=function _templateObject105(){return data;};return data;}function _templateObject104(){var data=_taggedTemplateLiteral(["<bx-editor></bx-editor>"]);_templateObject104=function _templateObject104(){return data;};return data;}function _templateObject103(){var data=_taggedTemplateLiteral(["<x-doctab title=\"Untitled\"><x-label>Untitled</x-label></x-doctab>"]);_templateObject103=function _templateObject103(){return data;};return data;}function _templateObject102(){var data=_taggedTemplateLiteral(["<bx-editor></bx-editor>"]);_templateObject102=function _templateObject102(){return data;};return data;}function _templateObject101(){var data=_taggedTemplateLiteral(["<x-doctab title=\"","\"><x-label>","</x-label></x-doctab>"]);_templateObject101=function _templateObject101(){return data;};return data;}function _templateObject100(){var data=_taggedTemplateLiteral(["<bx-preferences></bx-preferences>"]);_templateObject100=function _templateObject100(){return data;};return data;}function _templateObject99(){var data=_taggedTemplateLiteral(["<x-doctab title=\"Preferences\" value=\"preferences\"><x-label>Preferences</x-label></x-doctab>"]);_templateObject99=function _templateObject99(){return data;};return data;}function _templateObject98(){var data=_taggedTemplateLiteral(["<bx-about></bx-about>"]);_templateObject98=function _templateObject98(){return data;};return data;}function _templateObject97(){var data=_taggedTemplateLiteral(["<x-doctab title=\"About\" value=\"about\"><x-label>About</x-label></x-doctab>"]);_templateObject97=function _templateObject97(){return data;};return data;}function _templateObject96(){var data=_taggedTemplateLiteral(["<dialog id=\"message-dialog\" data-param=\"message\"></dialog>"]);_templateObject96=function _templateObject96(){return data;};return data;}function _templateObject95(){var data=_taggedTemplateLiteral(["<x-input class=\"input\" part=\"input\" value=\"","\" validation=\"instant\"></x-input>"]);_templateObject95=function _templateObject95(){return data;};return data;}function _templateObject94(){var data=_taggedTemplateLiteral(["",""]);_templateObject94=function _templateObject94(){return data;};return data;}function _templateObject93(){var data=_taggedTemplateLiteral(["<div class=\"property-item\"><x-checkbox class=\"checkbox\" toggled></x-checkbox><div class=\"property-div\"><span class=\"name\">","</span>: <span class=\"value\">","</span>;</div></div>"]);_templateObject93=function _templateObject93(){return data;};return data;}function _templateObject92(){var data=_taggedTemplateLiteral(["<div class=\"cascade-item\" data-origin=\"presentation-attributes\"><div class=\"heading\" part=\"heading\">","</div><div class=\"prefix\"><span class=\"selector\" disabled=\"disabled\">","</span> {</div><div class=\"properties\"></div><div class=\"sufix\">}</div></div>"]);_templateObject92=function _templateObject92(){return data;};return data;}function _templateObject91(){var data=_taggedTemplateLiteral(["<div class=\"property-item\"><x-checkbox class=\"checkbox\" toggled></x-checkbox><div class=\"property-div\"><span class=\"name\">","</span>: <span class=\"value\">","</span>;</div></div>"]);_templateObject91=function _templateObject91(){return data;};return data;}function _templateObject90(){var data=_taggedTemplateLiteral(["<div class=\"cascade-item\" data-origin=\"style-element\"><div class=\"heading\" part=\"heading\">","</div><div class=\"prefix\"><span class=\"selector\">","</span> {</div><div class=\"properties\"></div><div class=\"sufix\">}</div></div>"]);_templateObject90=function _templateObject90(){return data;};return data;}function _templateObject89(){var data=_taggedTemplateLiteral(["<div class=\"property-item\"><x-checkbox class=\"checkbox\" toggled></x-checkbox><div class=\"property-div\"><span class=\"name\">","</span>: <span class=\"value\">","</span>;</div></div>"]);_templateObject89=function _templateObject89(){return data;};return data;}function _templateObject88(){var data=_taggedTemplateLiteral(["<div class=\"cascade-item\" data-origin=\"style-attribute\"><div class=\"heading\" part=\"heading\">","</div><div class=\"prefix\"><span class=\"selector\" disabled=\"disabled\">element.style</span> {</div><div class=\"properties\"></div><div class=\"sufix\">}</div></div>"]);_templateObject88=function _templateObject88(){return data;};return data;}function _templateObject87(){var data=_taggedTemplateLiteral(["<div class=\"property-item\"><x-checkbox class=\"checkbox\" toggled></x-checkbox><div class=\"property-div\"><span class=\"name\"></span>: <span class=\"value\">initial</span>;</div></div>"]);_templateObject87=function _templateObject87(){return data;};return data;}function _templateObject86(){var data=_taggedTemplateLiteral(["<div id=\"autocompletion-list\" part=\"autocompletion-list\" hidden></div>"]);_templateObject86=function _templateObject86(){return data;};return data;}function _templateObject85(){var data=_taggedTemplateLiteral(["<div id=\"autocompletion-list\" part=\"autocompletion-list\" hidden></div>"]);_templateObject85=function _templateObject85(){return data;};return data;}function _templateObject84(){var data=_taggedTemplateLiteral(["<g>"]);_templateObject84=function _templateObject84(){return data;};return data;}function _templateObject83(){var data=_taggedTemplateLiteral(["",""]);_templateObject83=function _templateObject83(){return data;};return data;}function _templateObject82(){var data=_taggedTemplateLiteral(["",""]);_templateObject82=function _templateObject82(){return data;};return data;}function _templateObject81(){var data=_taggedTemplateLiteral(["",""]);_templateObject81=function _templateObject81(){return data;};return data;}function _templateObject80(){var data=_taggedTemplateLiteral(["",""]);_templateObject80=function _templateObject80(){return data;};return data;}function _templateObject79(){var data=_taggedTemplateLiteral(["",""]);_templateObject79=function _templateObject79(){return data;};return data;}function _templateObject78(){var data=_taggedTemplateLiteral(["",""]);_templateObject78=function _templateObject78(){return data;};return data;}function _templateObject77(){var data=_taggedTemplateLiteral(["",""]);_templateObject77=function _templateObject77(){return data;};return data;}function _templateObject76(){var data=_taggedTemplateLiteral(["<img id=\"ghost\"></img>"]);_templateObject76=function _templateObject76(){return data;};return data;}function _templateObject75(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\"><img style=\"width: ","px; height: ","px;\" src=\"","\"></div>"]);_templateObject75=function _templateObject75(){return data;};return data;}function _templateObject74(){var data=_taggedTemplateLiteral(["<img id=\"ghost\"></img>"]);_templateObject74=function _templateObject74(){return data;};return data;}function _templateObject73(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\"><img style=\"width: ","px; height: ","px;\" src=\"","\"></div>"]);_templateObject73=function _templateObject73(){return data;};return data;}function _templateObject72(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\" data-id=\"","\" style=\"background: linear-gradient(\n              to right,\n              ","  0%, ","  25%,\n              "," 25%, ","  50%,\n              "," 50%, ","  75%,\n              "," 75%, "," 100%\n            );\"></div>"]);_templateObject72=function _templateObject72(){return data;};return data;}function _templateObject71(){var data=_taggedTemplateLiteral(["\n          <svg viewBox=\"0 0 "," ","\">\n            <rect x=\"0\"         width=\"","\" height=\"","\" style=\"fill: ",";\"></rect>\n            <rect x=\"","\"     width=\"","\" height=\"","\" style=\"fill: ",";\"></rect>\n            <rect x=\"","\" width=\"","\" height=\"","\" style=\"fill: ",";\"></rect>\n            <rect x=\"","\" width=\"","\" height=\"","\" style=\"fill: ",";\"></rect>\n          </svg>\n        "]);_templateObject71=function _templateObject71(){return data;};return data;}function _templateObject70(){var data=_taggedTemplateLiteral(["<div id=\"ghost\"></div>"]);_templateObject70=function _templateObject70(){return data;};return data;}function _templateObject69(){var data=_taggedTemplateLiteral(["\n        <svg viewBox=\"0 0 "," ","\">\n          <rect x=\"0\"         width=\"","\" height=\"","\" style=\"fill: ",";\"></rect>\n          <rect x=\"","\"     width=\"","\" height=\"","\" style=\"fill: ",";\"></rect>\n          <rect x=\"","\" width=\"","\" height=\"","\" style=\"fill: ",";\"></rect>\n          <rect x=\"","\" width=\"","\" height=\"","\" style=\"fill: ",";\"></rect>\n        </svg>\n      "]);_templateObject69=function _templateObject69(){return data;};return data;}function _templateObject68(){var data=_taggedTemplateLiteral(["<div id=\"ghost\"></div>"]);_templateObject68=function _templateObject68(){return data;};return data;}function _templateObject67(){var data=_taggedTemplateLiteral(["<div class=\"font-item item\"><div class=\"label\" style=\"","\">","</div></div>"]);_templateObject67=function _templateObject67(){return data;};return data;}function _templateObject66(){var data=_taggedTemplateLiteral(["<div class=\"family-item item\" data-family=\"","\"><div class=\"background\"></div><div class=\"main\"><div class=\"arrow-button\"><svg class=\"arrow-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><path d=\"M 0.736 20.259 L 49.999 87.816 L 99.264 20.259 Z\"/></svg></div><div class=\"label\" style=\"font-family: '","'\">","</div><x-button class=\"counter-button\" skin=\"recessed\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin font family (prevent garbage collector from auto-removing the family when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div><div class=\"font-items-outer\"><div class=\"font-items\" hidden></div></div></div>"]);_templateObject66=function _templateObject66(){return data;};return data;}function _templateObject65(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>Family name</x-label></x-input>"]);_templateObject65=function _templateObject65(){return data;};return data;}function _templateObject64(){var data=_taggedTemplateLiteral(["<div class=\"item\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"/images/logos/logo-full.svg\" style=\"filter: url(#",")\"></div><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin filter (prevent garbage collector from auto-removing the filter when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject64=function _templateObject64(){return data;};return data;}function _templateObject63(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject63=function _templateObject63(){return data;};return data;}function _templateObject62(){var data=_taggedTemplateLiteral(["\n            <g class=\"edge\">\n              <path class=\"edge-outline\"></path>\n              <path class=\"edge-inline\"></path>\n              <foreignObject\n                class=\"label-text\"\n                width=\"","\"\n                height=\"","\"\n                style=\"line-height: ","px;\">\n              </foreignObject>\n            </g>\n          "]);_templateObject62=function _templateObject62(){return data;};return data;}function _templateObject61(){var data=_taggedTemplateLiteral(["\n            <g class=\"node\" data-name=\"","\">\n              <rect class=\"background\" width=\"40\" height=\"40\"></rect>\n              <foreignObject x=\"7\" y=\"7\" width=\"26\" height=\"26\">\n                <x-icon name=\"","\"></x-icon>\n              </foreignObject>\n            </g>\n          "]);_templateObject61=function _templateObject61(){return data;};return data;}function _templateObject60(){var data=_taggedTemplateLiteral(["<path id=\"graph-ghost-edge\"></path>"]);_templateObject60=function _templateObject60(){return data;};return data;}function _templateObject59(){var data=_taggedTemplateLiteral(["\n            <g transform=\"translate(0 ",")\">\n              <title>Page ","</title>\n            </g>\n          "]);_templateObject59=function _templateObject59(){return data;};return data;}function _templateObject58(){var data=_taggedTemplateLiteral(["<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"></svg>"]);_templateObject58=function _templateObject58(){return data;};return data;}function _templateObject57(){var data=_taggedTemplateLiteral(["<x-button value=\"","\" condensed toggled><x-label>","</x-label></x-button>"]);_templateObject57=function _templateObject57(){return data;};return data;}function _templateObject56(){var data=_taggedTemplateLiteral(["<div class=\"item\"><svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#","\" width=\"100%\" height=\"100%\"></use></svg><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin symbol (prevent garbage collector from auto-removing the symbol when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject56=function _templateObject56(){return data;};return data;}function _templateObject55(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject55=function _templateObject55(){return data;};return data;}function _templateObject54(){var data=_taggedTemplateLiteral(["<div class=\"item\"><svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"xMidYMid\" ",">","</svg><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin marker (prevent garbage collector from auto-removing the marker when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject54=function _templateObject54(){return data;};return data;}function _templateObject53(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject53=function _templateObject53(){return data;};return data;}function _templateObject52(){var data=_taggedTemplateLiteral(["<div class=\"item\"><svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 50 50\"><rect width=\"50\" height=\"50\" style=\"fill: url(#",")\"></rect></svg><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin pattern (prevent garbage collector from auto-removing the pattern when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject52=function _templateObject52(){return data;};return data;}function _templateObject51(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject51=function _templateObject51(){return data;};return data;}function _templateObject50(){var data=_taggedTemplateLiteral(["<div class=\"item\"><div class=\"thumbnail\" part=\"thumbnail\"><div class=\"thumbnail-inner\" style=\"",";\"></div></div><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin gradient (prevent garbage collector from auto-removing the gradient when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject50=function _templateObject50(){return data;};return data;}function _templateObject49(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject49=function _templateObject49(){return data;};return data;}function _templateObject48(){var data=_taggedTemplateLiteral(["<div class=\"item\"><div class=\"thumbnail\" part=\"thumbnail\"><div class=\"thumbnail-inner\" style=\"background: ",";\"></div></div><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin color (prevent garbage collector from auto-removing the color when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject48=function _templateObject48(){return data;};return data;}function _templateObject47(){var data=_taggedTemplateLiteral(["\n        <linearGradient id=\"","\">\n          <stop style=\"stop-color: ",";\"></stop>\n        </linearGradient>\n      "]);_templateObject47=function _templateObject47(){return data;};return data;}function _templateObject46(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject46=function _templateObject46(){return data;};return data;}function _templateObject45(){var data=_taggedTemplateLiteral(["",""]);_templateObject45=function _templateObject45(){return data;};return data;}function _templateObject44(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-depth=\"","\"><div class=\"background\"></div><div class=\"main\" style=\"padding-left: ","px;\"><div class=\"arrow-button\"><svg class=\"arrow-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#arrow\" width=\"100%\" height=\"100%\"></use></svg></div><svg class=\"object-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#","\" width=\"100%\" height=\"100%\"></use></svg><div class=\"label\"></div><div class=\"action-buttons\"><div class=\"lock-button\"><svg class=\"lock-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#lock-on\" width=\"100%\" height=\"100%\"></use></svg></div><div class=\"visibility-button\"><svg class=\"visibility-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#visibility-hidden\" width=\"100%\" height=\"100%\"></use></svg></div></div></div><div class=\"children-outer\"><div class=\"children\"></div></div></div>"]);_templateObject44=function _templateObject44(){return data;};return data;}function _templateObject43(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label>","</x-label></x-input>"]);_templateObject43=function _templateObject43(){return data;};return data;}function _templateObject42(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject42=function _templateObject42(){return data;};return data;}function _templateObject41(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject41=function _templateObject41(){return data;};return data;}function _templateObject40(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject40=function _templateObject40(){return data;};return data;}function _templateObject39(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject39=function _templateObject39(){return data;};return data;}function _templateObject38(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject38=function _templateObject38(){return data;};return data;}function _templateObject37(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject37=function _templateObject37(){return data;};return data;}function _templateObject36(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject36=function _templateObject36(){return data;};return data;}function _templateObject35(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject35=function _templateObject35(){return data;};return data;}function _templateObject34(){var data=_taggedTemplateLiteral(["\n            <text x=\"","\" y=\"","\" style=\"font-size: 20px;\">Enter your text here</text>\n          "]);_templateObject34=function _templateObject34(){return data;};return data;}function _templateObject33(){var data=_taggedTemplateLiteral(["\n            <path\n              style=\"fill: none; stroke: black;\"\n              d=\"M "," "," C "," "," "," ","   "," ","\">\n            </path>\n          "]);_templateObject33=function _templateObject33(){return data;};return data;}function _templateObject32(){var data=_taggedTemplateLiteral(["\n            <polygon\n              style=\"stroke: black;\"\n              points=\""," "," "," ","\">\n            </polygon>\n          "]);_templateObject32=function _templateObject32(){return data;};return data;}function _templateObject31(){var data=_taggedTemplateLiteral(["\n            <polyline\n              style=\"stroke: black;\"\n              points=\""," "," "," ","\">\n            </polyline>\n          "]);_templateObject31=function _templateObject31(){return data;};return data;}function _templateObject30(){var data=_taggedTemplateLiteral(["\n            <line\n              style=\"stroke: black;\"\n              x1=\"","\"\n              y1=\"","\"\n              x2=\"","\"\n              y2=\"","\">\n            </line>\n          "]);_templateObject30=function _templateObject30(){return data;};return data;}function _templateObject29(){var data=_taggedTemplateLiteral(["\n            <ellipse\n              cx=\"","\"\n              cy=\"","\"\n              rx=\"50\"\n              ry=\"50\">\n            </ellipse>\n          "]);_templateObject29=function _templateObject29(){return data;};return data;}function _templateObject28(){var data=_taggedTemplateLiteral(["\n            <circle\n              cx=\"","\"\n              cy=\"","\"\n              r=\"50\">\n            </circle>\n          "]);_templateObject28=function _templateObject28(){return data;};return data;}function _templateObject27(){var data=_taggedTemplateLiteral(["\n            <rect\n              x=\"","\"\n              y=\"","\"\n              width=\"","\"\n              height=\"","\">\n            </rect>\n          "]);_templateObject27=function _templateObject27(){return data;};return data;}function _templateObject26(){var data=_taggedTemplateLiteral(["\n            <image\n              x=\"","\"\n              y=\"","\"\n              width=\"100\"\n              height=\"100\"\n              href=\"","\">\n            </image>\n          "]);_templateObject26=function _templateObject26(){return data;};return data;}function _templateObject25(){var data=_taggedTemplateLiteral(["<a></a>"]);_templateObject25=function _templateObject25(){return data;};return data;}function _templateObject24(){var data=_taggedTemplateLiteral(["<g></g>"]);_templateObject24=function _templateObject24(){return data;};return data;}function _templateObject23(){var data=_taggedTemplateLiteral(["<path id=\"","\" d=\"","\"></path>"]);_templateObject23=function _templateObject23(){return data;};return data;}function _templateObject22(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-family=\"","\"><img src=\"","\" part=\"thumbnail\"></div>"]);_templateObject22=function _templateObject22(){return data;};return data;}function _templateObject21(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-family=\"","\"><div class=\"label\" style=\"font-family: '","'\">","</div></div>"]);_templateObject21=function _templateObject21(){return data;};return data;}function _templateObject20(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-value=\"#","\"><div class=\"thumbnail\"><img src=\"","\" style=\"filter: url(#",");\"></div><div class=\"label\">#","</div></div>"]);_templateObject20=function _templateObject20(){return data;};return data;}function _templateObject19(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-value=\"","\"><svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 50 50\"><rect width=\"50\" height=\"50\" style=\"fill: url(#",")\"></rect></svg><div class=\"label\">#","</div></div>"]);_templateObject19=function _templateObject19(){return data;};return data;}function _templateObject18(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-value=\"","\"><div class=\"thumbnail\" part=\"thumbnail\"><div class=\"thumbnail-inner\" style=\"",";\"></div></div><div class=\"label\">#","</div></div>"]);_templateObject18=function _templateObject18(){return data;};return data;}function _templateObject17(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-value=\"","\"><div class=\"thumbnail\" part=\"thumbnail\"><div class=\"thumbnail-inner\" style=\"background: ",";\"></div></div><div class=\"label\">#","</div></div>"]);_templateObject17=function _templateObject17(){return data;};return data;}function _templateObject16(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\"><div class=\"inner\"><x-icon class=\"icon\" name=\"","\"></x-icon><div class=\"label\">","</div></div></div>"]);_templateObject16=function _templateObject16(){return data;};return data;}function _templateObject15(){var data=_taggedTemplateLiteral(["<bx-grid x=\"0\" y=\"0\" width=\"100\" height=\"100\"></bx-grid>"]);_templateObject15=function _templateObject15(){return data;};return data;}function _templateObject14(){var data=_taggedTemplateLiteral(["<defs></defs>"]);_templateObject14=function _templateObject14(){return data;};return data;}function _templateObject13(){var data=_taggedTemplateLiteral(["<g data-bx-workspace=\"marker\">","</g>"]);_templateObject13=function _templateObject13(){return data;};return data;}function _templateObject12(){var data=_taggedTemplateLiteral(["<g data-bx-workspace=\"pattern\">","</g>"]);_templateObject12=function _templateObject12(){return data;};return data;}function _templateObject11(){var data=_taggedTemplateLiteral(["<g data-bx-workspace=\"symbol\">","</g>"]);_templateObject11=function _templateObject11(){return data;};return data;}function _templateObject10(){var data=_taggedTemplateLiteral(["<g data-bx-workspace=\"master\"></g>"]);_templateObject10=function _templateObject10(){return data;};return data;}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _templateObject9(){var data=_taggedTemplateLiteral(["<tspan x=\"","\" dy=\"","em\">","</tspan>"]);_templateObject9=function _templateObject9(){return data;};return data;}function _templateObject8(){var data=_taggedTemplateLiteral(["<line class=\"repr\" x1=\"","\" y1=\"","\" x2=\"","\" y2=\"","\"></line>"]);_templateObject8=function _templateObject8(){return data;};return data;}function _templateObject7(){var data=_taggedTemplateLiteral(["<bx-guide x=\"","\" y=\"","\" angle=\"","\"></bx-guide>"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral(["\n      <g class=\"repr\" transform=\"translate(",", ",") rotate(",")\" data-selected>\n        <line class=\"outer-line\" x1=\"0\" y1=\"","\" x2=\"0\" y2=\"","\"></line>\n        <line class=\"inner-line\" x1=\"0\" y1=\"","\" x2=\"0\" y2=\"","\"></line>\n        <circle class=\"grippie\" cx=\"0\" cy=\"0\" r=\"","\"></rect>\n      </g>\n    "]);_templateObject6=function _templateObject6(){return data;};return data;}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _templateObject5(){var data=_taggedTemplateLiteral(["",""]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral(["\n            <x-tag class=\"tag\" value=\"","\" removable>\n              <x-label>","</x-label>\n            </x-tag>\n          "]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral(["\n            <x-tag class=\"tag\" value=\"","\" removable>\n              <x-label slot=\"scope\">","</x-label>\n              <x-label>","</x-label>\n            </x-tag>\n          "]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral(["<x-doctab><x-label>Untitled</x-label></x-doctab>"]);_templateObject2=function _templateObject2(){return data;};return data;}function _wrapNativeSuper(Class){var _cache=typeof Map==="function"?new Map():undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!=="function"){throw new TypeError("Super expression must either be null or a function");}if(typeof _cache!=="undefined"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper);}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor);}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class);};return _wrapNativeSuper(Class);}function _construct(Parent,args,Class){if(_isNativeReflectConstruct()){_construct=Reflect.construct;}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor();if(Class)_setPrototypeOf(instance,Class.prototype);return instance;};}return _construct.apply(null,arguments);}function _isNativeFunction(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _templateObject(){var data=_taggedTemplateLiteral(["",""]);_templateObject=function _templateObject(){return data;};return data;}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0);}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}));}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);});};}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _toArray(arr){return _arrayWithHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableRest();}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e1984){throw _e1984;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]();},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e1985){didErr=true;err=_e1985;},f:function f(){try{if(!normalCompletion&&it["return"]!=null)it["return"]();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}!function(){"use strict";var _temp2,_temp3;SVGUseElement.prototype.getBBox=function(){var t=SVGGraphicsElement.prototype.getBBox.call(this);return t.x+=this.x.baseVal.value,t.y+=this.y.baseVal.value,t;};var t=["iPhone","iPad"].includes(navigator.platform)||navigator.platform.startsWith("Mac"),e=(navigator.userAgent.toLowerCase().indexOf("android"),"596389"),i="650791",s="522135",n='This is an Adobe\xae Illustrator\xae file that was saved without PDF content. To import this file in other applications, it should be re-saved from Adobe Illustrator with the "Create PDF Compatible File" option turned on.',o="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",l={bx:"https://boxy-svg.com",html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/xmlns/"},h=["px","cm","mm","in","pt","pc","q"],a={px:1,"in":96,cm:96/2.54,mm:96/2.54/10,q:96/2.54/40,pt:96/72,pc:16};var r=["em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","q","in","pc","pt","px"];var d=["none","xMinYMin","xMidYMin","xMaxYMin","xMinYMid","xMidYMid","xMaxYMid","xMinYMax","xMidYMax","xMaxYMax"],c=[[-3,-3],[-2,-3],[-1,-3],[0,-3],[1,-3],[2,-3],[3,-3],[-3,-2],[-2,-2],[-1,-2],[0,-2],[1,-2],[2,-2],[3,-2],[-3,-1],[-2,-1],[-1,-1],[0,-1],[1,-1],[2,-1],[3,-1],[-3,0],[-2,0],[-1,0],[0,0],[1,0],[2,0],[3,0],[-3,1],[-2,1],[-1,1],[0,1],[1,1],[2,1],[3,1],[-3,2],[-2,2],[-1,2],[0,2],[1,2],[2,2],[3,2],[-3,3],[-2,3],[-1,3],[0,3],[1,3],[2,3],[3,3]],p=["serif","sans-serif","cursive","fantasy","monospace","system-ui","emoji","math","fangsong"],u={"drop-shadow":"Drop Shadow","inner-shadow":"Inner Shadow","point-light":"Point Light","spot-light":"Spot Light",outline:"Outline","gaussian-blur":"Gaussian Blur","motion-blur":"Motion Blur",warp:"Warp",pixelete:"Pixelete",morphology:"Morphology","black-and-white":"Black and White",grayscale:"Grayscale",sepia:"Sepia",saturate:"Saturate","hue-rotate":"Hue Rotate",invert:"Invert",brightness:"Brightness",contrast:"Contrast",posterize:"Posterize",duotone:"Duotone","x-ray":"X-ray"},x=["circle","ellipse","line","path","polygon","polyline","rect"],b=["text","textPath","tspan"],m=[].concat(x,b,["image"]),g=[].concat(x,["image","text","g","a","svg","use"]),f=[].concat(m,["svg","g","a","use"]),w=[].concat(x,b),v=["solidcolor","linearGradient","radialGradient","pattern"],y=["desc","bx-title"],k=["svg","g","defs","symbol","use"],S=[].concat(x,["text","use"]),_=[].concat(m,["clipPath","a","g"]),C=[].concat(m,["a","g"]),M=[].concat(m,["a","g"]),P=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence"],D=["rect","circle","ellipse","line","path","polygon","polyline","image","text","tspan","use","svg","a","g"],z=["path","line","polyline","polygon"],O={fill:"#d8d8d8"},E={fill:"#333333","font-size":"28px","font-family":"Roboto Slab"},T={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"},A=["direction","dominant-baseline","font-family","font-size","font-stretch","font-style","font-variant","font-weight","letter-spacing","text-anchor","text-decoration","text-rendering","unicode-bidi","word-spacing","writing-mode"],$=["fill","stroke","filter","clip-path","mask","marker-mid","marker-start","marker-end"],I={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},L={100:["100","200","300","400","500","600","700","800","900"],200:["200","100","300","400","500","600","700","800","900"],300:["300","200","100","400","500","600","700","800","900"],400:["400","500","300","200","100","600","700","800","900"],500:["500","400","300","200","100","600","700","800","900"],600:["600","700","800","900","500","400","300","200","100"],700:["700","800","900","600","500","400","300","200","100"],800:["800","900","700","600","500","400","300","200","100"],900:["900","800","700","600","500","400","300","200","100"]},B={a:[].concat(y,v,x,k,["a","clipPath","filter","image","marker","mask","script","style","text","view","#text"]),"bx-title":["#text"],circle:[].concat(y,v,["clipPath","marker","mask","script","style"]),clipPath:[].concat(y,x,["text","use","script","style"]),defs:[].concat(y,v,x,k,["a","clipPath","filter","image","marker","mask","script","style","text","view","bx-grid","bx-guide"]),desc:["#text"],ellipse:[].concat(y,v,["clipPath","marker","mask","script","style"]),feBlend:[].concat(y,["script","style"]),feColorMatrix:[].concat(y,["script","style"]),feComponentTransfer:[].concat(y,["feFuncA","feFuncB","feFuncG","feFuncR","script","style"]),feComposite:[].concat(y,["script","style"]),feConvolveMatrix:[].concat(y,["script","style"]),feDiffuseLighting:[].concat(y,["feDistantLight","fePointLight","feSpotLight","script","style"]),feDisplacementMap:[].concat(y,["script","style"]),feDistantLight:[].concat(y,["script","style"]),feDropShadow:[].concat(y,["script","style"]),feFlood:[].concat(y,["script","style"]),feFuncR:[].concat(y,["script","style"]),feFuncG:[].concat(y,["script","style"]),feFuncB:[].concat(y,["script","style"]),feFuncA:[].concat(y,["script","style"]),feGaussianBlur:[].concat(y,["script","style"]),feImage:[].concat(y,["script","style"]),feMerge:[].concat(y,["feMergeNode","script","style"]),feMergeNode:[].concat(y,["script","style"]),feMorphology:[].concat(y,["script","style"]),feOffset:[].concat(y,["script","style"]),fePointLight:[].concat(y,["script","style"]),feSpecularLighting:[].concat(y,["feDistantLight","fePointLight","feSpotLight","script","style"]),feSpotLight:[].concat(y,["script","style"]),feTile:[].concat(y,["script","style"]),feTurbulence:[].concat(y,["script","style"]),filter:[].concat(P,y,["script","style"]),g:[].concat(y,v,x,k,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),image:[].concat(y,["clipPath","mask","script","style"]),line:[].concat(y,v,["clipPath","marker","mask","script","style"]),linearGradient:[].concat(y,["script","stop","style"]),marker:[].concat(y,v,x,k,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),mask:[].concat(y,x,k,v,["a","clipPath","filter","image","marker","mask","script","style","text","view","text"]),path:[].concat(y,v,["clipPath","marker","mask","script","style"]),pattern:[].concat(y,v,x,k,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),polygon:[].concat(y,v,["clipPath","marker","mask","script","style"]),polyline:[].concat(y,v,["clipPath","marker","mask","script","style"]),radialGradient:[].concat(y,["script","stop","style"]),rect:[].concat(y,v,["clipPath","marker","mask","script","style"]),script:["#text"],solidcolor:[].concat(y,["script","style"]),stop:[].concat(y,["script","style"]),style:["#text"],svg:[].concat(y,v,x,k,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),symbol:[].concat(y,v,x,k,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),text:[].concat(y,v,["a","clipPath","marker","mask","script","style","tspan","textPath","#text"]),textPath:[].concat(y,v,["a","clipPath","marker","mask","script","style","tspan","#text"]),tspan:[].concat(y,v,["a","script","style","tspan","#text"]),use:[].concat(y,v,["clipPath","mask","script","style"]),view:[].concat(y,["script","style"])},R=[{name:"alignment-baseline",presentationAttributeName:"alignment-baseline",initialValue:"baseline",values:[{type:"token",tokens:["baseline","text-bottom","alphabetic","ideographic","middle","central","mathematical","text-top","bottom","center","top","inherit","initial","unset"]}],appliesTo:["text","tspan","textPath","text a"],animatable:!0,inheritable:!1},{name:"baseline-shift",presentationAttributeName:"baseline-shift",initialValue:"0",values:[{type:"number"},{type:"percentage"},{type:"length"},{type:"token",tokens:["sub","super","inherit","initial","unset"]}],appliesTo:["text","tspan","textPath","text a"],animatable:!0,inheritable:!1},{name:"clip-path",presentationAttributeName:"clip-path",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["fill-box","stroke-box","view-box","none","inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use"]),animatable:!1,inheritable:!1},{name:"clip-rule",presentationAttributeName:"clip-rule",initialValue:"nonzero",values:[{type:"token",tokens:["nonzero","evenodd","inherit","initial","unset"]}],appliesTo:[].concat(m,["use"]),animatable:!1,inheritable:!0},{name:"color",presentationAttributeName:"color",initialValue:"#000",values:[{type:"color"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use"]),animatable:!0,inheritable:!0},{name:"color-interpolation",presentationAttributeName:"color-interpolation",initialValue:"sRGB",values:[{type:"token",tokens:["auto","sRGB","linearRGB","inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use","linearGradient","radialGradient"]),animatable:!0,inheritable:!0},{name:"color-interpolation-filters",presentationAttributeName:"color-interpolation-filters",initialValue:"linearRGB",values:[{type:"token",tokens:["auto","sRGB","linearRGB","inherit","initial","unset"]}],appliesTo:[].concat(P),animatable:!1,inheritable:!0},{name:"color-rendering",presentationAttributeName:"color-rendering",initialValue:"auto",values:[{type:"token",tokens:["auto","optimizeSpeed","optimizeQuality","inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use","linearGradient","radialGradient"]),animatable:!0,inheritable:!0},{name:"cursor",presentationAttributeName:"cursor",initialValue:"auto",values:[{type:"url"},{type:"token",tokens:["context-menu","help","pointer","progress","wait ","cell","crosshair","text","vertical-text","alias","copy","move","no-drop","not-allowed","grab","grabbing","e-resize","n-resize","ne-resize","nw-resize","s-resize","se-resize","sw-resize","w-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","col-resize","row-resize","all-scroll","zoom-in","zoom-out ","inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use"]),animatable:!1,inheritable:!0},{name:"direction",initialValue:"ltr",values:[{type:"token",tokens:["ltr","rtl","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],presentationAttributeName:"direction",animatable:!1,inheritable:!0},{name:"display",presentationAttributeName:"display",initialValue:"inline",values:[{type:"token",tokens:["none","inline","block","inherit","initial","unset"]}],appliesTo:[].concat(m,["textPath","tspan","svg","g","a","use"]),animatable:!1,inheritable:!1},{name:"dominant-baseline",presentationAttributeName:"dominant-baseline",initialValue:"auto",values:[{type:"token",tokens:["auto","use-script","no-change","reset-size","ideographic","alphabetic","hanging","mathematical","central","middle","text-after-edge","text-before-edge","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"fill",presentationAttributeName:"fill",initialValue:"#000",values:[{type:"color"},{type:"url"},{type:"token",tokens:["none","currentColor","inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"fill-opacity",presentationAttributeName:"fill-opacity",initialValue:"1",values:[{type:"number"},{type:"percentage"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"fill-rule",presentationAttributeName:"fill-rule",initialValue:"nonzero",values:[{type:"token",tokens:["nonzero","evenodd","inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"filter",presentationAttributeName:"filter",initialValue:"none",values:[{type:"filter-function-list"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(m,["textPath","tspan","g","a","svg","use"]),animatable:!0,inheritable:!1},{name:"flood-color",presentationAttributeName:"flood-color",initialValue:"#000",values:[{type:"color"},{type:"token",tokens:["currentColor","inherit","initial","unset"]}],appliesTo:["feFlood"],animatable:!0,inheritable:!1},{name:"flood-opacity",presentationAttributeName:"flood-opacity",initialValue:"1",values:[{type:"number",min:0},{type:"percentage",min:0},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:["feFlood"],animatable:!0,inheritable:!1},{name:"font",presentationAttributeName:"font",initialValue:null,values:[{type:"font"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-family",presentationAttributeName:"font-family",initialValue:null,values:[{type:"font-family"},{type:"token",tokens:["cursive","fantasy","monospace","sans-serif","serif","system-ui","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-size",presentationAttributeName:"font-size",initialValue:"medium",values:[{type:"token",tokens:["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller","inherit","initial","unset"]},{type:"number",min:0},{type:"percentage",min:0},{type:"length",min:0}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-stretch",presentationAttributeName:"font-stretch",initialValue:"normal",values:[{type:"token",tokens:["normal","wider","narrower","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-style",presentationAttributeName:"font-style",initialValue:"normal",values:[{type:"token",tokens:["normal","italic","oblique","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-variant",presentationAttributeName:"font-variant",initialValue:"normal",values:[{type:"token",tokens:["normal","small-caps","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-weight",presentationAttributeName:"font-weight",initialValue:"normal",values:[{type:"token",tokens:["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"image-rendering",presentationAttributeName:"image-rendering",initialValue:"auto",values:[{type:"token",tokens:["auto","optimizeSpeed","optimizeQuality","inherit","initial","unset"]}],appliesTo:["image"],animatable:!0,inheritable:!0},{name:"isolation",presentationAttributeName:null,initialValue:"auto",values:[{type:"token",tokens:["isolate","auto","inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use","symbol","marker","textPath","tspan"]),animatable:!1,inheritable:!1},{name:"letter-spacing",presentationAttributeName:"letter-spacing",initialValue:"normal",values:[{type:"number"},{type:"length"},{type:"token",tokens:["normal","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"lighting-color",presentationAttributeName:"lighting-color",initialValue:"#fff",values:[{type:"color"},{type:"token",tokens:["currentColor","inherit","initial","unset"]}],appliesTo:["feDiffuseLighting","feSpecularLighting"],animatable:!0,inheritable:!1},{name:"line-height",presentationAttributeName:"line-height",initialValue:"normal",values:[{type:"number",min:0},{type:"percentage",min:0},{type:"length",min:0},{type:"token",tokens:["normal","inherit","initial","unset"]}],appliesTo:["text","tspan","textPath","text a"],animatable:!0,inheritable:!0},{name:"marker",presentationAttributeName:"marker",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(x),animatable:!0,inheritable:!0},{name:"marker-start",presentationAttributeName:"marker-start",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(x),animatable:!0,inheritable:!0},{name:"marker-mid",presentationAttributeName:"marker-mid",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(x),animatable:!0,inheritable:!0},{name:"marker-end",presentationAttributeName:"marker-end",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(x),animatable:!0,inheritable:!0},{name:"mask",presentationAttributeName:"mask",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(m,["g","a","svg","use"]),animatable:!0,inheritable:!1},{name:"mix-blend-mode",presentationAttributeName:null,initialValue:"normal",values:[{type:"token",tokens:["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use","symbol","marker","textPath","tspan"]),animatable:!1,inheritable:!1},{name:"opacity",presentationAttributeName:"opacity",initialValue:"1",values:[{type:"number"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use","symbol","marker","textPath","tspan"]),animatable:!0,inheritable:!1},{name:"overflow",presentationAttributeName:"overflow",initialValue:"visible",values:[{type:"token",tokens:["visible","hidden","scroll","auto","inherit","initial","unset"]}],appliesTo:["svg","symbol","pattern","marker","image"],inheritable:!1,animatable:!0},{name:"paint-order",presentationAttributeName:null,initialValue:"normal",values:[{type:"token",tokens:["normal"]},{type:"token-list",tokens:["fill","stroke","markers"]}],appliesTo:[].concat(w),inheritable:!0,animatable:!0},{name:"pointer-events",presentationAttributeName:"pointer-events",initialValue:"auto",values:[{type:"token",tokens:["bounding-box","visiblePainted","visibleFill","visibleStroke","visible","painted","fill","stroke","all","none","inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use"]),inheritable:!0,animatable:!0},{name:"shape-rendering",presentationAttributeName:"shape-rendering",initialValue:"auto",values:[{type:"token",tokens:["auto","optimizeSpeed","crispEdges","geometricPrecision","inherit","initial","unset"]}],appliesTo:[].concat(x),animatable:!0,inheritable:!0},{name:"stop-color",presentationAttributeName:"stop-color",initialValue:"#000",values:[{type:"color"},{type:"token",tokens:["currentColor","inherit","initial","unset"]}],appliesTo:["stop"],animatable:!0,inheritable:!1},{name:"stop-opacity",presentationAttributeName:"stop-opacity",initialValue:"1",values:[{type:"number"},{type:"percentage"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:["stop"],animatable:!0,inheritable:!1},{name:"stroke",presentationAttributeName:"stroke",initialValue:"none",values:[{type:"color"},{type:"url"},{type:"token",tokens:["none","currentColor","inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"stroke-dasharray",presentationAttributeName:"stroke-dasharray",initialValue:"none",values:[{type:"dasharray"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"stroke-dashoffset",presentationAttributeName:"stroke-dashoffset",initialValue:"0",values:[{type:"number"},{type:"percentage"},{type:"length"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"stroke-linecap",presentationAttributeName:"stroke-linecap",initialValue:"butt",values:[{type:"token",tokens:["butt","round","square","inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"stroke-linejoin",presentationAttributeName:"stroke-linejoin",initialValue:"miter",values:[{type:"token",tokens:["miter","round","bevel","inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"stroke-miterlimit",presentationAttributeName:"stroke-miterlimit",initialValue:"4",values:[{type:"number",min:1},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"stroke-opacity",presentationAttributeName:"stroke-opacity",initialValue:"1",values:[{type:"number"},{type:"percentage"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"stroke-width",presentationAttributeName:"stroke-width",initialValue:"1",values:[{type:"number"},{type:"percentage"},{type:"length"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"text-anchor",presentationAttributeName:"text-anchor",initialValue:"start",values:[{type:"token",tokens:["start","middle","end","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"text-decoration",presentationAttributeName:"text-decoration",initialValue:"none",values:[{type:"token-list",tokens:["underline","overline","line-through"]},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!1},{name:"text-rendering",presentationAttributeName:"text-rendering",initialValue:"auto",values:[{type:"token",tokens:["auto","optimizeSpeed","optimizeLegibility","geometricPrecision","inherit","initial","unset"]}],appliesTo:["text"],animatable:!0,inheritable:!0},{name:"text-transform",presentationAttributeName:null,initialValue:"none",values:[{type:"token",tokens:["capitalize","uppercase","lowercase","none","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!1,inheritable:!0},{name:"unicode-bidi",presentationAttributeName:"unicode-bidi",initialValue:"normal",values:[{type:"token",tokens:["normal","embed","bidi-override","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!1,inheritable:!1},{name:"vector-effect",presentationAttributeName:"vector-effect",initialValue:"none",values:[{type:"token",tokens:["non-scaling-stroke","none","inherit","initial","unset"]}],appliesTo:[].concat(m,["use"]),animatable:!0,inheritable:!1},{name:"visibility",presentationAttributeName:"visibility",initialValue:"visible",values:[{type:"token",tokens:["visible","hidden","inherit","initial","unset"]}],appliesTo:[].concat(m,["text","textPath","tspan"]),animatable:!0,inheritable:!0},{name:"word-spacing",presentationAttributeName:"word-spacing",initialValue:"normal",values:[{type:"number"},{type:"length"},{type:"token",tokens:["normal","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"white-space",presentationAttributeName:"white-space",initialValue:"normal",values:[{type:"token",tokens:["normal","pre","nowrap","pre-wrap","pre-line","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"writing-mode",presentationAttributeName:"writing-mode",initialValue:"horizontal-tb",values:[{type:"token",tokens:["horizontal-tb","vertical-lr","vertical-rl","inherit","initial","unset"]}],appliesTo:["text","tspan","textPath"],animatable:!1,inheritable:!0}],G=R.map(function(t){return t.presentationAttributeName;}).filter(function(t){return t;}),F=function F(t){var e=null;if(_.includes(t.localName)){var _i2=getComputedStyle(t).clipPath;if(_i2){var _s2=_i2.substring(6,_i2.length-2),_n2=zi(t).querySelector("#"+CSS.escape(_s2))||null;_n2&&"clipPath"===_n2.localName&&(e=_n2);}}return e;},U=function U(t){var e=null;if(M.includes(t.localName)){var _i3=getComputedStyle(t).mask;if(_i3){var _s3=_i3.substring(6,_i3.length-2),_n3=zi(t).querySelector("#"+CSS.escape(_s3))||null;_n3&&"mask"===_n3.localName&&(e=_n3);}}return e;},N=Number.isFinite,V=Number.isNaN,j=Number.parseFloat,H=function H(t){return!V(t)&&"number"==typeof t;},Y=Math.sqrt;var W="Invalid argument passed to Vector contstructor";var q=/*#__PURE__*/function(){function q(){_classCallCheck(this,q);for(var _len=arguments.length,t=new Array(_len),_key=0;_key<_len;_key++){t[_key]=arguments[_key];}if(0===t.length)this.x=0,this.y=0;else if(1===t.length){if(!H(t[0].x)||!H(t[0].y))throw new Error(W);this.x=t[0].x,this.y=t[0].y;}else{if(2!==t.length)throw new Error(W);if(H(t[0])&&H(t[1]))this.x=t[0],this.y=t[1];else{if(!(t[0]instanceof DOMPoint&&t[1]instanceof DOMPoint))throw new Error(W);{var _e2=t[0],_i4=t[1];this.x=_i4.x-_e2.x,this.y=_i4.y-_e2.y;}}}}_createClass(q,[{key:"getNormalVector",value:function getNormalVector(){return new q(-this.y,this.x);}},{key:"getOppositeVector",value:function getOppositeVector(){return new q(-this.x,-this.y);}},{key:"negate",value:function negate(){return this.multiply(-1);}},{key:"multiply",value:function multiply(t){return new q(this.x*t,this.y*t);}},{key:"multiplySelf",value:function multiplySelf(t){return this.x=this.x*t,this.y=this.y*t,this;}},{key:"divide",value:function divide(t){return new q(this.x/t,this.y/t);}},{key:"divideSelf",value:function divideSelf(t){return this.x=this.x/t,this.y=this.y/t,this;}},{key:"normalize",value:function normalize(){return 0===this.length?new q(this):new q(this.x/this.length,this.y/this.length);}},{key:"scale",value:function scale(t){return 0===this.length?new q(this):(t/=this.length,new q(this.x*t,this.y*t));}},{key:"transformPoint",value:function transformPoint(t){return new DOMPoint(t.x+this.x,t.y+this.y);}},{key:"transformRect",value:function transformRect(t){return new DOMRect(t.x+this.x,t.y+this.y,t.width,t.height);}},{key:"matrixTransform",value:function matrixTransform(t){var e=new DOMPoint(0,0).matrixTransform(t),i=new DOMPoint(this.x,this.y).matrixTransform(t);return new q(e,i);}},{key:"toString",value:function toString(){return"(".concat(this.x,", ").concat(this.y,")");}},{key:"length",get:function get(){return Y(this.x*this.x+this.y*this.y);},set:function set(t){0!==this.length&&(t/=this.length,this.x=this.x*t,this.y=this.y*t);}}],[{key:"fromVector",value:function fromVector(t){return new q(t.x,t.y);}}]);return q;}();var X=function X(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=Math.pow(10,e);return Math.round((t+Number.EPSILON)*i)/i;},Z=function Z(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Infinity;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;return null!==s&&(t=X(t,s)),t<e?t=e:t>i&&(t=i),t;},K=function K(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return e?t.every(function(e,i){return 0===i||t[i-1]<=e;}):t.every(function(e,i){return 0===i||t[i-1]<e;});},Q=Math.pow,J=document.createElementNS("http://www.w3.org/2000/svg","path"),tt=function tt(t){return J.setPathData(t),J.getAttribute("d");},et=function et(t){return J.setAttribute("d",t),J.getPathData();},it=function it(t){return J.setPathData(t),J.getPathData({normalize:!0});},st=function st(t){if(!t.find(function(t){return"C"===t.type||"L"===t.type;}))return[];var e=[],i=null,s=0,n=0,o=0,l=0;var _iterator=_createForOfIteratorHelper(t),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _h2=_step.value;if("M"===_h2.type)"M"===i&&e.pop(),e.push(_h2),s=_h2.values[0],n=_h2.values[1],o=_h2.values[0],l=_h2.values[1];else if("L"===_h2.type){if("Z"===i)e.push({type:"M",values:[o,l]});else if(_h2.values[0]===s&&_h2.values[1]===n)continue;e.push(_h2),s=_h2.values[0],n=_h2.values[1];}else"C"===_h2.type?("Z"===i&&e.push({type:"M",values:[o,l]}),e.push(_h2),s=_h2.values[4],n=_h2.values[5]):"Z"===_h2.type&&(s===o&&n===l||e.push({type:"L",values:[o,l]}),e.push(_h2),s=o,n=l);i=_h2.type;}}catch(err){_iterator.e(err);}finally{_iterator.f();}return e;},nt=function nt(t){return t.map(function(t){return{type:t.type,values:_toConsumableArray(t.values)};});},ot=function ot(t){var e=[],i=[];var _iterator2=_createForOfIteratorHelper(t),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _s4=_step2.value;"C"===_s4.type||"L"===_s4.type?i.push(_s4):"M"===_s4.type?(i.length>0&&(e.push(i),i=[]),i.push(_s4)):"Z"===_s4.type&&(i.push(_s4),e.push(i),i=[]);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return i.length>0&&e.push(i),e;},lt=function lt(t){var e=st(t.getPathData({normalize:!0})),i=ot(e);var _iterator3=_createForOfIteratorHelper(i),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _t2=_step3.value;var _e3=ht(_t2);_t2.length=0,_t2.push.apply(_t2,_toConsumableArray(_e3));}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}i.reverse(),e=[];var _iterator4=_createForOfIteratorHelper(i),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _t3=_step4.value;var _iterator5=_createForOfIteratorHelper(_t3),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _i5=_step5.value;e.push(_i5);}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}t.setPathData(e);},ht=function ht(t){var e=(t=nt(t))[0],i=[],s=null;for(var _e4=1;_e4<t.length;_e4+=1){var _n4=t[_e4];"Z"===_n4.type?s=_n4:i.push(_n4);}var n=e.values[0],o=e.values[1];"C"===i[i.length-1].type?(e.values[0]=i[i.length-1].values[4],e.values[1]=i[i.length-1].values[5]):(e.values[0]=i[i.length-1].values[0],e.values[1]=i[i.length-1].values[1]);for(var _i7=0,_i6=i;_i7<_i6.length;_i7++){var _t4=_i6[_i7];if("L"===_t4.type){var _t4$values=_slicedToArray(_t4.values,2),_e5=_t4$values[0],_i8=_t4$values[1];_t4.values=[n,o],n=_e5,o=_i8;}else if("C"===_t4.type){var _t4$values2=_slicedToArray(_t4.values,6),_e6=_t4$values2[0],_i9=_t4$values2[1],_s5=_t4$values2[2],_l2=_t4$values2[3],_h3=_t4$values2[4],_a2=_t4$values2[5];_t4.values=[_s5,_l2,_e6,_i9,n,o],n=_h3,o=_a2;}}i.reverse();var l=[];l.push(e);for(var _i11=0,_i10=i;_i11<_i10.length;_i11++){var _t5=_i10[_i11];l.push(_t5);}return s&&l.push(s),l;},at=function at(t){var e=t.getPathData({normalize:!0}),i=[];var _iterator6=_createForOfIteratorHelper(ot(e)),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var _t6=_step6.value;"Z"===_t6[_t6.length-1].type&&_t6.pop();var _iterator7=_createForOfIteratorHelper(_t6),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var _e7=_step7.value;i.push(_e7);}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}t.setPathData(i);},rt=function rt(t){var e=t.getPathData({normalize:!0}),i=[];var _iterator8=_createForOfIteratorHelper(ot(e)),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var _t7=_step8.value;if(_t7.length>1){"Z"!==_t7[_t7.length-1].type&&_t7.push({type:"Z",values:[]});}var _iterator9=_createForOfIteratorHelper(_t7),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var _e8=_step9.value;i.push(_e8);}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}t.setPathData(i);},dt=function dt(t){var e=t.getPathData({normalize:!0});var _iterator10=_createForOfIteratorHelper(ot(e)),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var _t8=_step10.value;if("Z"===_t8[_t8.length-1].type)return!0;}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}return!1;},ct=function ct(t){var e=t.getPathData({normalize:!0});var _iterator11=_createForOfIteratorHelper(ot(e)),_step11;try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var _t9=_step11.value;if(_t9.length>1){if("Z"!==_t9[_t9.length-1].type)return!0;}}}catch(err){_iterator11.e(err);}finally{_iterator11.f();}return!1;},pt=function pt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:10;var s=tt(st(it(t))),n=((s.match(/M/g)||[]).length>1?new paper.CompoundPath(s):new paper.Path(s)).offsetStroke(e/2),o=[];if(n){var _t10=n.exportSVG().getAttribute("d");o=et(_t10),o=it(o);var _iterator12=_createForOfIteratorHelper(o),_step12;try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var _t11=_step12.value;_t11.values=_t11.values.map(function(t){return X(t,i);});}}catch(err){_iterator12.e(err);}finally{_iterator12.f();}}return o;},ut=function ut(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:10;var n=tt(st(it(t))),o=(n.match(/M/g)||[]).length>1?new paper.CompoundPath(n):new paper.Path(n);for(var _t12=1;_t12<=i;_t12+=1){o=o.offset(e);}var l=et(o.exportSVG().getAttribute("d"));l=it(l);var _iterator13=_createForOfIteratorHelper(l),_step13;try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){var _t13=_step13.value;_t13.values=_t13.values.map(function(t){return X(t,s);});}}catch(err){_iterator13.e(err);}finally{_iterator13.f();}return l;},xt=function xt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2.5;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:10;var s=tt(st(it(t))),n=(s.match(/M/g)||[]).length>1?new paper.CompoundPath(s):new paper.Path(s);n.simplify(e);var o=et(n.exportSVG().getAttribute("d"));o=it(o);var _iterator14=_createForOfIteratorHelper(o),_step14;try{for(_iterator14.s();!(_step14=_iterator14.n()).done;){var _t14=_step14.value;_t14.values=_t14.values.map(function(t){return X(t,i);});}}catch(err){_iterator14.e(err);}finally{_iterator14.f();}return o;},bt=function bt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;var i=tt(st(it(t))),s=(i.match(/M/g)||[]).length>1?new paper.CompoundPath(i):new paper.Path(i);for(var _i12=0,_arr2=_toConsumableArray(s.curves);_i12<_arr2.length;_i12++){var _t15=_arr2[_i12];_t15.divideAt(new paper.CurveLocation(_t15,.5));}t=et(s.exportSVG().getAttribute("d")),t=it(t);var _iterator15=_createForOfIteratorHelper(t),_step15;try{for(_iterator15.s();!(_step15=_iterator15.n()).done;){var _i13=_step15.value;_i13.values=_i13.values.map(function(t){return X(t,e);});}}catch(err){_iterator15.e(err);}finally{_iterator15.f();}return t;},mt=function mt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"catmull-rom";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:.4;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:10;var n=tt(st(it(t))),o=(n.match(/M/g)||[]).length>1?new paper.CompoundPath(n):new paper.Path(n);o.smooth({type:e,factor:i});var l=et(o.exportSVG().getAttribute("d"));l=it(l);var _iterator16=_createForOfIteratorHelper(l),_step16;try{for(_iterator16.s();!(_step16=_iterator16.n()).done;){var _t16=_step16.value;_t16.values=_t16.values.map(function(t){return X(t,s);});}}catch(err){_iterator16.e(err);}finally{_iterator16.f();}return l;},gt=function gt(t,e){var i=t.getTotalLength(),s=i/t.getPathData().length*.125,n=null,o=null,l=Infinity,h=function h(t){return Q(t.x-e.x,2)+Q(t.y-e.y,2);};for(var _e9=0;_e9<=i;_e9+=s){var _i14=DOMPoint.fromPoint(t.getPointAtLength(_e9)),_s6=h(_i14);_s6<l&&(n=_i14,o=_e9,l=_s6);}for(s*=.5;s>.5;){var _e10=o-s,_a3=DOMPoint.fromPoint(t.getPointAtLength(_e10)),_r2=h(_a3);if(_e10>=0&&_r2<l)n=_a3,o=_e10,l=_r2;else{var _e11=o+s,_a4=DOMPoint.fromPoint(t.getPointAtLength(_e11)),_r3=h(_a4);_e11<=i&&_r3<l?(n=_a4,o=_e11,l=_r3):s*=.5;}}return[n,o,l];},ft=function ft(t,e){var i=[],s=[];var _iterator17=_createForOfIteratorHelper(e),_step17;try{for(_iterator17.s();!(_step17=_iterator17.n()).done;){var _t17=_step17.value;"C"===_t17.type||"L"===_t17.type?s.push(_t17):"M"===_t17.type?(s.length>0&&(i.push(s),s=[]),s.push(_t17)):"Z"===_t17.type&&(s.push(_t17),i.push(s),s=[]);}}catch(err){_iterator17.e(err);}finally{_iterator17.f();}return s.length>0&&i.push(s),i.find(function(e){return e.includes(t);})||null;},wt=function wt(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:2;var s="sharp";if(t&&e&&"C"===t.type&&"C"===e.type){var _n5=new DOMPoint(t.values[4],t.values[5]),_o2=new DOMPoint(e.values[0],e.values[1]),_l3=new DOMPoint(t.values[2],t.values[3]);if(!1===_e(_n5,_o2)&&!1===_e(_n5,_l3)&&!0===Me(_o2,_n5,_l3,i)){var _t18=new q(_n5,_o2),_e12=new q(_n5,_l3);s=X(_t18.length,2)===X(_e12.length,2)?"symmetric-smooth":"smooth";}}return s;},vt=function vt(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;var s=new DOMPoint(e.values[4],e.values[5]),n=new DOMPoint(t.values[0],t.values[1]),o=new DOMPoint(e.values[2],e.values[3]),l=new q(s,n),h=new q(s,o),a=l.getOppositeVector();!1===i&&(a.length=h.length),e.values[2]=s.x+a.x,e.values[3]=s.y+a.y;},yt=function yt(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;var s=new DOMPoint(t.values[4],t.values[5]),n=new DOMPoint(t.values[2],t.values[3]),o=new DOMPoint(e.values[0],e.values[1]),l=new q(s,n),h=new q(s,o),a=l.getOppositeVector();!1===i&&(a.length=h.length),e.values[0]=s.x+a.x,e.values[1]=s.y+a.y;},kt=function kt(t,e,i){var s;"M"===t.type||"L"===t.type?s=new DOMPoint(t.values[0],t.values[1]):"C"===t.type&&(s=new DOMPoint(t.values[4],t.values[5]));var n=new DOMPoint(i.values[4],i.values[5]),o=new DOMPoint(e.values[4],e.values[5]),l=new q(o,s),h=new q(o,n),a=l.length/h.length,r=new q(a*h.x-l.x,a*h.y-l.y).normalize();e.values[2]=o.x+-r.x*(l.length/3),e.values[3]=o.y+-r.y*(l.length/3),i.values[0]=o.x+r.x*(h.length/3),i.values[1]=o.y+r.y*(h.length/3);},St=function St(t){var e=null;var _iterator18=_createForOfIteratorHelper(t),_step18;try{for(_iterator18.s();!(_step18=_iterator18.n()).done;){var _i15=_step18.value;if("L"===_i15.type){var _i15$values=_slicedToArray(_i15.values,2),_t19=_i15$values[0],_s7=_i15$values[1],_n6="C"===e.type?e.values[4]:e.values[0],_o3="C"===e.type?e.values[5]:e.values[1];_i15.type="C",_i15.values=[_n6,_o3,_t19,_s7,_t19,_s7];}e=_i15;}}catch(err){_iterator18.e(err);}finally{_iterator18.f();}},_t=function _t(t){var e=null;var _iterator19=_createForOfIteratorHelper(t),_step19;try{for(_iterator19.s();!(_step19=_iterator19.n()).done;){var _i16=_step19.value;if("C"===_i16.type){var _i16$values=_slicedToArray(_i16.values,6),_t20=_i16$values[0],_s8=_i16$values[1],_n7=_i16$values[2],_o4=_i16$values[3],_l4=_i16$values[4],_h4=_i16$values[5],_a5="C"===e.type?e.values[4]:e.values[0],_r4="C"===e.type?e.values[5]:e.values[1];_t20===_a5&&_s8===_r4&&_n7===_l4&&_o4===_h4&&(_i16.type="L",_i16.values=[_l4,_h4]);}e=_i16;}}catch(err){_iterator19.e(err);}finally{_iterator19.f();}},Ct=function Ct(t,e){var i=ft(t,e);return"Z"===i[i.length-1].type;},Mt=function Mt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i;if((t.match(/M/g)||[]).length>1){if(i=new paper.CompoundPath(t),e){var _iterator20=_createForOfIteratorHelper(i.children),_step20;try{for(_iterator20.s();!(_step20=_iterator20.n()).done;){var _t21=_step20.value;_t21.closed||_t21.closePath();}}catch(err){_iterator20.e(err);}finally{_iterator20.f();}}}else i=new paper.Path(t),e&&(i.closed||i.closePath());return i;};var Pt=/*#__PURE__*/function(){function Pt(t){_classCallCheck(this,Pt);this._=t,this.currentToken=null,this.position=0;}_createClass(Pt,[{key:"read",value:function read(){var t=this._[this.position];return this.currentToken=t,"EOF"===t.tokenType||(this.position+=1),t;}},{key:"reset",value:function reset(t){this.position=t;}}]);return Pt;}();var _window=window,Dt=_window.tokenize,zt=_window.EOFToken;var Ot=/*#__PURE__*/function(){_createClass(Ot,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t;}},{key:"unit",get:function get(){return this._e;},set:function set(t){this._e=t;}},{key:"isAbsolute",get:function get(){return h.includes(this.unit);}},{key:"type",get:function get(){return"<length>";}}]);function Ot(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"px";_classCallCheck(this,Ot);this._t=t,this._e=e;}_createClass(Ot,[{key:"toString",value:function toString(){return this.value+this.unit;}},{key:"toLength",value:function toLength(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"px";var e=this.unit,i=t;if(e===i)return new Ot(this.value,this.unit);if(!1===h.includes(e)||!1===h.includes(i))throw new DOMException("Can't convert relative <length> units.","OperationError");{this.value;var _t22=null,_s9=null;return"px"===e?_s9=this.value:"cm"===e?_s9=this._t*(96/2.54):"mm"===e?_s9=this._t*(96/2.54/10):"in"===e?_s9=96*this._t:"pt"===e?_s9=this._t*(96/72):"pc"===e?_s9=16*this._t:"q"===e&&(_s9=this._t*(96/2.54/40)),"px"===i?_t22=_s9:"cm"===i?_t22=_s9/(96/2.54):"mm"===i?_t22=_s9/(96/2.54/10):"in"===i?_t22=_s9/96:"pt"===i?_t22=_s9/(96/72):"pc"===i?_t22=_s9/16:"q"===i&&(_t22=_s9/(96/2.54/40)),new Ot(_t22,i);}}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(Dt(t)),[new zt()]),s=new Pt(i);if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"DIMENSION"===s.currentToken.tokenType){var _s$currentToken=s.currentToken,_t23=_s$currentToken.value,_i17=_s$currentToken.unit;if(!1===r.includes(_i17)){if(e)throw new DOMException("Unknown unit identifier \"".concat(_i17,"\"."),"SyntaxError");return null;}if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new Ot(_t23,_i17);if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}if(e)throw new DOMException("Expected DIMENSION token.","SyntaxError");return null;}}]);return Ot;}();var _window2=window,Et=_window2.tokenize,Tt=_window2.EOFToken;var At=/*#__PURE__*/function(){_createClass(At,[{key:"align",get:function get(){return this._i;},set:function set(t){this._i=t;}},{key:"meetOrSlice",get:function get(){return this._s;},set:function set(t){this._s=t;}},{key:"type",get:function get(){return"<preserve-aspect-ratio>";}}]);function At(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"xMidYMid";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"meet";_classCallCheck(this,At);this._i=t,this._s=e;}_createClass(At,[{key:"toString",value:function toString(){return"meet"===this.meetOrSlice?"".concat(this.align):"".concat(this.align," ").concat(this.meetOrSlice);}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(Et(t)),[new Tt()]),s=new Pt(i);if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"IDENT"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected IDENT token.","SyntaxError");return null;}{var _t24=s.currentToken.value;if(!1===d.includes(_t24)){if(e)throw new DOMException("Unknown align value \"".concat(_t24,"\"."),"SyntaxError");return null;}if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new At(_t24,"meet");if("IDENT"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected IDENT token.","SyntaxError");return null;}{var _i18=s.currentToken.value;if("meet"!==_i18&&"slice"!==_i18){if(e)throw new DOMException("Unknown meetOrSlice value \"".concat(_i18,"\"."),"SyntaxError");return null;}if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new At(_t24,_i18);}}}}]);return At;}();var _window3=window,$t=_window3.tokenize,It=_window3.EOFToken;var Lt=/*#__PURE__*/function(){_createClass(Lt,[{key:"type",get:function get(){return"<view-box>";}},{key:"x",get:function get(){return this.Bs;},set:function set(t){this.Bs=t;}},{key:"y",get:function get(){return this.Gs;},set:function set(t){this.Gs=t;}},{key:"width",get:function get(){return this.Fs;},set:function set(t){this.Fs=t;}},{key:"height",get:function get(){return this.Us;},set:function set(t){this.Us=t;}}]);function Lt(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;_classCallCheck(this,Lt);this.x=t,this.y=e,this.width=i,this.height=s;}_createClass(Lt,[{key:"toString",value:function toString(){return"".concat(this.x," ").concat(this.y," ").concat(this.width," ").concat(this.height);}},{key:"toRect",value:function toRect(){return new DOMRect(this.x,this.y,this.width,this.height);}}],[{key:"fromRect",value:function fromRect(t){return new Lt(t.x,t.y,t.width,t.height);}},{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i,s,n,o,l=[].concat(_toConsumableArray($t(t)),[new It()]),h=new Pt(l);if(h.read(),"WHITESPACE"===h.currentToken.tokenType&&h.read(),"NUMBER"!==h.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(h.currentToken.tokenType," token."),"SyntaxError");return null;}if(i=h.currentToken.value,h.read(),"WHITESPACE"!==h.currentToken.tokenType&&","!==h.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(h.currentToken.tokenType," token."),"SyntaxError");return null;}if("WHITESPACE"===h.currentToken.tokenType&&h.read(),","===h.currentToken.tokenType&&h.read(),"WHITESPACE"===h.currentToken.tokenType&&h.read(),"NUMBER"!==h.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(h.currentToken.tokenType," token."),"SyntaxError");return null;}if(s=h.currentToken.value,h.read(),"WHITESPACE"!==h.currentToken.tokenType&&","!==h.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(h.currentToken.tokenType," token."),"SyntaxError");return null;}if("WHITESPACE"===h.currentToken.tokenType&&h.read(),","===h.currentToken.tokenType&&h.read(),"WHITESPACE"===h.currentToken.tokenType&&h.read(),!("NUMBER"===h.currentToken.tokenType&&h.currentToken.value>=0)){if(e)throw new DOMException("Unexpected ".concat(h.currentToken.tokenType," token."),"SyntaxError");return null;}if(n=h.currentToken.value,h.read(),"WHITESPACE"!==h.currentToken.tokenType&&","!==h.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(h.currentToken.tokenType," token."),"SyntaxError");return null;}if("WHITESPACE"===h.currentToken.tokenType&&h.read(),","===h.currentToken.tokenType&&h.read(),"WHITESPACE"===h.currentToken.tokenType&&h.read(),!("NUMBER"===h.currentToken.tokenType&&h.currentToken.value>=0)){if(e)throw new DOMException("Unexpected ".concat(h.currentToken.tokenType," token."),"SyntaxError");return null;}if(o=h.currentToken.value,h.read(),"WHITESPACE"===h.currentToken.tokenType&&h.read(),"EOF"===h.currentToken.tokenType)return new Lt(i,s,n,o);if(e)throw new DOMException("Unexpected ".concat(h.currentToken.tokenType," token."),"SyntaxError");return null;}}]);return Lt;}();var Bt=function Bt(t,e){return t.is2D?new DOMMatrix([X(t.a,e),X(t.b,e),X(t.c,e),X(t.d,e),X(t.e,e),X(t.f,e)]):new DOMMatrix([X(t.m11,e),X(t.m12,e),X(t.m13,e),X(t.m14,e),X(t.m21,e),X(t.m22,e),X(t.m23,e),X(t.m24,e),X(t.m31,e),X(t.m32,e),X(t.m33,e),X(t.m34,e),X(t.m41,e),X(t.m42,e),X(t.m43,e),X(t.m44,e)]);},Rt=Math.abs,Gt=Math.tan,Ft=Number.parseFloat,Ut=function Ut(t){var e=null;return e="linearGradient"===t.localName||"radialGradient"===t.localName?t.gradientTransform.baseVal.consolidate():"pattern"===t.localName?t.patternTransform.baseVal.consolidate():t.transform.baseVal.consolidate(),e?DOMMatrix.fromMatrix(e.matrix):new DOMMatrix();},Nt=function Nt(t,e){var i=e.getScreenCTM().inverse().multiply(t.getScreenCTM());return DOMMatrix.fromMatrix(i);},Vt=function Vt(t){var e=t.getScreenCTM();return DOMMatrix.fromMatrix(e);},jt=function jt(t,e,i,s,n,o){var l=function l(t){return t[0][0]*(t[1][1]*t[2][2]-t[1][2]*t[2][1])-t[0][1]*(t[1][0]*t[2][2]-t[1][2]*t[2][0])+t[0][2]*(t[1][0]*t[2][1]-t[1][1]*t[2][0]);},h=l([[t.x,t.y,1],[e.x,e.y,1],[i.x,i.y,1]]),a=l([[s.x,t.y,1],[n.x,e.y,1],[o.x,i.y,1]]),r=l([[s.y,t.y,1],[n.y,e.y,1],[o.y,i.y,1]]),d=l([[t.x,s.x,1],[e.x,n.x,1],[i.x,o.x,1]]),c=l([[t.x,s.y,1],[e.x,n.y,1],[i.x,o.y,1]]),p=l([[t.x,t.y,s.x],[e.x,e.y,n.x],[i.x,i.y,o.x]]),u=l([[t.x,t.y,s.y],[e.x,e.y,n.y],[i.x,i.y,o.y]]);return 0===h?new DOMMatrix([1,0,0,1,0,0]):new DOMMatrix([a/h,r/h,d/h,c/h,p/h,u/h]);},Ht=function Ht(t,e){var i=new DOMPoint(t.x,t.y),s=new DOMPoint(t.x+t.width,t.y),n=new DOMPoint(t.x,t.y+t.height),o=new DOMPoint(e.x,e.y),l=new DOMPoint(e.x+e.width,e.y),h=new DOMPoint(e.x,e.y+e.height);return jt(i,s,n,o,l,h);},Yt=function Yt(t){var e=new DOMMatrix(),i=null;if(t.hasAttribute("viewBox")&&(i=Lt.fromString(t.getAttribute("viewBox"))),i){var _s10=Ot.fromString(t.style.width||t.getAttribute("width")||""),_n8=Ot.fromString(t.style.height||t.getAttribute("height")||"");if(_s10&&_n8&&a[_s10.unit]&&a[_n8.unit]){var _o5=At.fromString(t.getAttribute("preserveAspectRatio")||"xMidYMid meet");_s10.value*=a[_s10.unit],_n8.value*=a[_n8.unit];var _l5=_s10.value/i.width,_h5=_n8.value/i.height;"none"!==_o5.align&&"meet"===_o5.meetOrSlice?_l5>_h5?_l5=_h5:_h5>_l5&&(_h5=_l5):"none"!==_o5.align&&"slice"===_o5.meetOrSlice&&(_l5<_h5?_l5=_h5:_h5<_l5&&(_h5=_l5));var _r5=0-i.x*_l5,_d2=0-i.y*_h5;_o5.align.includes("xMid")&&(_r5+=(_s10.value-i.width*_l5)/2),_o5.align.includes("xMax")&&(_r5+=_s10.value-i.width*_l5),_o5.align.includes("YMid")&&(_d2+=(_n8.value-i.height*_h5)/2),_o5.align.includes("YMax")&&(_d2+=_n8.value-i.height*_h5),e.translateSelf(_r5,_d2),e.scaleSelf(_l5,_h5);}}return e;},Wt=function Wt(t,e){var i=new DOMMatrix();if(""===t&&(t="px"),""===e&&(e="px"),t!==e){var _s11=1;if("px"===t)_s11=1;else if("cm"===t)_s11=96/2.54*1;else if("mm"===t)_s11=96/2.54/10*1;else if("in"===t)_s11=96;else if("pt"===t)_s11=96/72*1;else if("pc"===t)_s11=16;else{if("q"!==t)throw new Error("Can't transform relative units.","OperationError");_s11=96/2.54/40*1;}if("px"===e)_s11/=1;else if("cm"===e)_s11/=96/2.54;else if("mm"===e)_s11/=96/2.54/10;else if("in"===e)_s11/=96;else if("pt"===e)_s11/=96/72;else if("pc"===e)_s11/=16;else{if("q"!==e)throw new Error("Can't transform relative units.","OperationError");_s11/=96/2.54/40;}i.scaleSelf(_s11,_s11);}return i;},qt=function qt(t){var e,i;if(t.hasAttribute("data-bx-origin")){var _s12=t.getAttribute("data-bx-origin").split(" ");e=Ft(_s12[0]),i=Ft(_s12[1]);}else e=.5,i=.5;return new DOMPoint(e,i);},Xt=function Xt(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:6;var s=X(e.x,i),n=X(e.y,i);t.setAttribute("data-bx-origin","".concat(s," ").concat(n));},Zt=function Zt(t){var e=_i(t),i=qt(t);return oe(i,e);},Kt=function Kt(t){var e=Vt(t);return Zt(t).matrixTransform(e);},Qt=function Qt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=t.map(function(t){return Kt(t);}),s=i[0],n=!0;var _iterator21=_createForOfIteratorHelper(i),_step21;try{for(_iterator21.s();!(_step21=_iterator21.n()).done;){var _t25=_step21.value;if(Pe(_t25,s)>3){n=!1;break;}}}catch(err){_iterator21.e(err);}finally{_iterator21.f();}var o=null;if(n){if(e){var _e13=t.map(function(t){return Ci(t);}),_s13=Ue(_e13);o=new DOMPoint((i[0].x-_s13.x)/_s13.width,(i[0].y-_s13.y)/_s13.height);}else o=i[0];}else if(e)o=new DOMPoint(.5,.5);else{var _e14=t.map(function(t){return Ci(t);}),_i19=Ue(_e14);o=new DOMPoint(_i19.x+_i19.width/2,_i19.y+_i19.height/2);}return o;},Jt=function Jt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=0;if(f.includes(t.localName)){Vt(t).inverse();null===e&&(e=Zt(t));var _s14=e.matrixTransform(Vt(t)),_n9=(_i(t),_s14),_o6=new DOMPoint(_s14.x-100,_s14.y),_l6=new DOMPoint(e.x-100,e.y).matrixTransform(Vt(t));i=$e(_n9,_o6,_l6);}return i;},te=function te(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var n=Jt(t),o=Ut(t),l=Vt(t),h=l.inverse();null===s&&(s=Zt(t));var a=s.matrixTransform(l),r=DOMMatrix.fromMatrix(o);r.multiplySelf(h),r.translateSelf(a.x,a.y),r.rotateSelf(-n+e),r.translateSelf(-a.x,-a.y),r.multiplySelf(l),null!==i&&(r=Bt(r,i)),!1===r.isIdentity?t.setAttribute("transform",r.toString()):t.removeAttribute("transform");},ee=function ee(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;var s=it(t);var _iterator22=_createForOfIteratorHelper(s),_step22;try{for(_iterator22.s();!(_step22=_iterator22.n()).done;){var _t26=_step22.value;if("M"===_t26.type||"L"===_t26.type){var _i20=new DOMPoint(_t26.values[0],_t26.values[1]).matrixTransform(e);_t26.values=[_i20.x,_i20.y];}else if("C"===_t26.type){var _i21=new DOMPoint(_t26.values[0],_t26.values[1]).matrixTransform(e),_s15=new DOMPoint(_t26.values[2],_t26.values[3]).matrixTransform(e),_n10=new DOMPoint(_t26.values[4],_t26.values[5]).matrixTransform(e);_t26.values=[_i21.x,_i21.y,_s15.x,_s15.y,_n10.x,_n10.y];}_t26.values=_t26.values.map(function(t){return X(t,i);});}}catch(err){_iterator22.e(err);}finally{_iterator22.f();}return s;},ie=function ie(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var o=DOMMatrix.fromMatrix(t),l=Re(e),h=Re(i),a=new DOMMatrix();return a=se(a,Gt(l),Gt(h)),o=ne(o,s,n),o.multiplySelf(a),o=ne(o,-s,-n),o;},se=function se(t,e,i){var s=DOMMatrix.fromMatrix(t),n=s.a,o=s.b;return s.a+=i*s.c,s.b+=i*s.d,s.c+=e*n,s.d+=e*o,s;},ne=function ne(t,e,i){var s=DOMMatrix.fromMatrix(t);return s.e=s.e+e*s.a+i*s.c,s.f=s.f+e*s.b+i*s.d,s;},oe=function oe(t,e){return new DOMPoint(e.x+t.x*e.width,e.y+t.y*e.height);},le=function le(t,e){return new DOMPoint(0===e.width?0:(t.x-e.x)/e.width,0===e.height?0:(t.y-e.y)/e.height);},he=Math.atan2,ae=function ae(t,e){return t.x*e.x+t.y*e.y;},re=function re(t,e){return new q(t.x-e.x,t.y-e.y);},de=function de(t,e){return new q(t.x+e.x,t.y+e.y);},ce=function ce(t,e){return Be(he(e.y,e.x)-he(t.y,t.x));},pe=Math.sin,ue=Math.cos,xe=Math.acos,be=Math.atan2,me=Math.abs,ge=Math.sqrt,fe=Math.pow,we=Math.PI,ve=Math.min,ye=Math.max,ke=Number.isNaN,Se=document.createElementNS("http://www.w3.org/2000/svg","svg"),_e=function _e(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return null!==i?X(t.x,i)===X(e.x,i)&&X(t.y,i)===X(e.y,i):t.x===e.x&&t.y===e.y;},Ce=function Ce(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return new DOMPoint(X(t.x,e),X(t.y,e),X(t.z,e),X(t.w,e));},Me=function Me(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;if(0===s){return 0===(t.x*(e.y-i.y)+e.x*(i.y-t.y)+i.x*(t.y-e.y))/2;}{var _n11=new q(t,e),_o7=new q(e,i),_l7=ae(_n11,_o7),_h6=xe(_l7/(_n11.length*_o7.length));if(ke(_h6))return!0;return Be(_h6)<s;}},Pe=function Pe(t,e){var i=e.x-t.x;i*=i;var s=e.y-t.y;return s*=s,ge(i+s);},De=function De(t,e){var i=(t.x+e.x)/2,s=(t.y+e.y)/2;return new DOMPoint(i,s);},ze=function ze(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;var n,o=new DOMPoint(0,0),l=new DOMPoint(t.x,t.y),h=new DOMPoint(e.x,e.y),a=i,r=new q(o,l),d=new q(l,h),c=new q(l,a),p=ae(c,d),u=ae(d,d);n=0!==u?p/u:0,!1===s&&(n<0?n=0:n>1&&(n=1));var x=de(r,d.multiply(n));return[new DOMPoint(x.x,x.y),n];},Oe=function Oe(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:.5;var s=e.x-t.x,n=e.y-t.y;return new DOMPoint(t.x+i*s,t.y+i*n);},Ee=function Ee(t){var e=Se.createSVGPoint();return e.x=t.x,e.y=t.y,e;},Te=function Te(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:22.5;var s=new DOMPoint(t.x,t.y-1e3),n=$e(t,s,e),o=[];for(var _t27=-180;_t27<=180;_t27+=i){o.push(_t27);}var l=Infinity;for(var _i22=0,_o8=o;_i22<_o8.length;_i22++){var _t28=_o8[_i22];var _e15=_t28-n;me(_e15)<me(l)&&(l=_e15);}n+=l;var h=Re(n-90),a=Pe(t,e),r=new q(ue(h),pe(h));return r.length=a,[new DOMPoint(t.x+r.x,t.y+r.y),n];},Ae=function Ae(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:90;var s=new DOMPoint(t.x,t.y-1e3),n=$e(t,s,e);n+=i-n;var o=Re(n-90),l=Pe(t,e),h=new q(ue(o),pe(o));return h.length=l,new DOMPoint(t.x+h.x,t.y+h.y);},$e=function $e(t,e,i){var s=new q(t,e),n=new q(t,i),o=be(n.y,n.x)-be(s.y,s.x);return Ie(Be(o));},Ie=function Ie(t){for(;t<-180;){t+=360;}for(;t>180;){t-=360;}return t;},Le=function Le(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:15;var i=Ie(t),s=[];for(var _t29=-180;_t29<=180;_t29+=e){s.push(_t29);}return s.reduce(function(t,e){return me(e-i)<me(t-i)?e:t;});},Be=function Be(t){return t*(180/we);},Re=function Re(t){return we*t/180;},Ge=function Ge(t,e){return new DOMRect(X(t.x,e),X(t.y,e),X(t.width,e),X(t.height,e));},Fe=function Fe(t,e){var i=[new DOMPoint(t.x,t.y),new DOMPoint(t.x+t.width,t.y),new DOMPoint(t.x+t.width,t.y+t.height),new DOMPoint(t.x,t.y+t.height)].map(function(t){return t.matrixTransform(e);}),s=i.map(function(t){return t.x;}),n=i.map(function(t){return t.y;}),o=ve.apply(void 0,_toConsumableArray(s)),l=ve.apply(void 0,_toConsumableArray(n)),h=ye.apply(void 0,_toConsumableArray(s)),a=ye.apply(void 0,_toConsumableArray(n));return new DOMRect(o,l,h-o,a-l);},Ue=function Ue(t){if(0===t.length)return new DOMRect(0,0,0,0);if(1===t.length){var _e16=t[0];return new DOMRect(_e16.x,_e16.y,_e16.width,_e16.height);}{var _e17=Math.min.apply(Math,_toConsumableArray(t.map(function(t){return t.x;}))),_i23=Math.min.apply(Math,_toConsumableArray(t.map(function(t){return t.y;}))),_s16=Math.max.apply(Math,_toConsumableArray(t.map(function(t){return t.x+t.width;}))),_n12=Math.max.apply(Math,_toConsumableArray(t.map(function(t){return t.y+t.height;})));return new DOMRect(_e17,_i23,_s16-_e17,_n12-_i23);}},Ne=function Ne(t,e){var i,s=function s(t,e,i,_s17){return 8&i?new DOMPoint(t.x+(e.x-t.x)*(_s17.height-t.y)/(e.y-t.y),_s17.height):4&i?new DOMPoint(t.x+(e.x-t.x)*(_s17.y-t.y)/(e.y-t.y),_s17.y):2&i?new DOMPoint(_s17.width,t.y+(e.y-t.y)*(_s17.width-t.x)/(e.x-t.x)):1&i?new DOMPoint(_s17.x,t.y+(e.y-t.y)*(_s17.x-t.x)/(e.x-t.x)):null;},n=function n(t,e){var i=0;return t.x<e.x?i|=1:t.x>e.width&&(i|=2),t.y<e.y?i|=4:t.y>e.height&&(i|=8),i;};for(var _o9=1;_o9<=8;_o9*=2){var _l8=e[e.length-1],_h7=!(n(_l8,t)&_o9);i=[];for(var _a6=0;_a6<e.length;_a6++){var _r6=e[_a6],_d3=!(n(_r6,t)&_o9);_d3!==_h7&&i.push(s(_l8,_r6,_o9,t)),_d3&&i.push(_r6),_l8=_r6,_h7=_d3;}if(!(e=i).length)break;}return i;},Ve=function Ve(t,e){return e.x>=t.x&&e.y>=t.y&&e.x+e.width<=t.x+t.width&&e.y+e.height<=t.y+t.height;},je=function je(t,e){return t.left<=e.right&&e.left<=t.right&&t.top<=e.bottom&&e.top<=t.bottom;},He=function He(t,e){var _iterator23=_createForOfIteratorHelper(t),_step23;try{for(_iterator23.s();!(_step23=_iterator23.n()).done;){var _i25=_step23.value;if(je(e,_i25))return _i25;}}catch(err){_iterator23.e(err);}finally{_iterator23.f();}{var _i24=new DOMPoint(e.x+e.width/2,e.y+e.height/2),_s18=Infinity,_n13=null;var _iterator24=_createForOfIteratorHelper(t),_step24;try{for(_iterator24.s();!(_step24=_iterator24.n()).done;){var _e18=_step24.value;var _t30=new DOMPoint(_e18.x+_e18.width/2,_e18.y+_e18.height/2),_o10=Pe(_i24,_t30);_o10<_s18&&(_s18=_o10,_n13=_e18);}}catch(err){_iterator24.e(err);}finally{_iterator24.f();}return _n13;}},Ye=function Ye(t,e,i){var s=new q(e,t);return s.length=i,s.transformPoint(e);},We=function We(t,e,i){return qe(t,e,new DOMPoint(i.x,i.y),new DOMPoint(i.right,i.y))||qe(t,e,new DOMPoint(i.right,i.y),new DOMPoint(i.right,i.bottom))||qe(t,e,new DOMPoint(i.right,i.bottom),new DOMPoint(i.x,i.bottom))||qe(t,e,new DOMPoint(i.x,i.bottom),new DOMPoint(i.x,i.y));},qe=function qe(t,e,i,s){var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1e-7;var o=Ze(t,e,i,s);return!!o&&o.x+n>=ve(i.x,s.x)&&o.x-n<=ye(i.x,s.x)&&o.y+n>=ve(i.y,s.y)&&o.y-n<=ye(i.y,s.y);},Xe=function Xe(t,e){var i=e.y-t.y,s=t.x-e.x;return[i,s,i*t.x+s*t.y];},Ze=function Ze(t,e,i,s){var _Xe=Xe(t,e),_Xe2=_slicedToArray(_Xe,3),n=_Xe2[0],o=_Xe2[1],l=_Xe2[2],_Xe3=Xe(i,s),_Xe4=_slicedToArray(_Xe3,3),h=_Xe4[0],a=_Xe4[1],r=_Xe4[2],d=n*a-h*o,c=null;return 0!==d&&(c=new DOMPoint((a*l-o*r)/d,(n*r-h*l)/d)),c;},Ke=function Ke(t,e){var i=e.x,s=e.y,n=!1;for(var _e19=0,_o11=t.length-1;_e19<t.length;_o11=_e19++){var _l9=t[_e19].x,_h8=t[_e19].y,_a7=t[_o11].x,_r7=t[_o11].y;_h8>s!=_r7>s&&i<(_a7-_l9)*(s-_h8)/(_r7-_h8)+_l9&&(n=!n);}return n;},Qe=function Qe(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;if(t.length!==e.length)return!1;if(i)for(var s in t){if(t[s]!==e[s])return!1;}else{for(var n=0;n<t.length;n+=1){if(!e.includes(t[n]))return!1;}for(n=0;n<e.length;n+=1){if(!t.includes(e[n]))return!1;}}return!0;},Je=function Je(t){return _toConsumableArray(new Set(t));},ti=function ti(t,e){if(0===t.length)return!1;for(var i=0;i<t.length;i+=1){if(t[i]!==e)return!1;}return!0;},ei=function ei(t,e){return JSON.stringify(t)===JSON.stringify(e);},ii=function ii(t,e,i){return t.split(e).join(i);},si=function si(t){return t.replace(/(^|[\s-])(\w)/g,function(t,e,i){return e+i.toUpperCase();});},ni=function ni(t){return t.replace(/(\-[a-z])/g,function(t){return t.toUpperCase().replace("-","");});},oi=function oi(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase();});},li=function li(t){var e=document.createElement("div");return e.appendChild(document.createTextNode(t)),e.innerHTML;},hi=function hi(t){return DOMPurify.sanitize(t,{ALLOWED_TAGS:["p","h3","h4","ul","ol","li","blockquote","figure","figcaption","pre","code","img","hr","br","a","strong","em","del","u","code","mark","#text"],ALLOWED_ATTR:["alt","data-language","data-type","hidden","href","rel","spellcheck","start","src","style","title"],ALLOW_DATA_ATTR:!1});},ai=Object.keys,ri="\u200B",di=function di(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=ui(t),s=e&&t.contains(e.commonAncestorContainer),n=s?yi(e.startContainer,e.startOffset)[1]:-1,o=s?yi(e.endContainer,e.endOffset)[1]:-1;if(s&&n!==o){var _t31=[];var _iterator25=_createForOfIteratorHelper(i.childItems),_step25;try{for(_iterator25.s();!(_step25=_iterator25.n()).done;){var _e20=_step25.value;var _i26=null;if(n>=_e20.startOffset&&o<=_e20.endOffset?_i26=[_e20.textContent.slice(0,n-_e20.startOffset),_e20.textContent.slice(n-_e20.startOffset,o-_e20.startOffset),_e20.textContent.slice(o-_e20.startOffset)]:n>=_e20.startOffset&&n<_e20.endOffset?_i26=[_e20.textContent.slice(0,n-_e20.startOffset),_e20.textContent.slice(n-_e20.startOffset)]:o>_e20.startOffset&&o<=_e20.endOffset&&(_i26=[_e20.textContent.slice(0,o-_e20.startOffset),_e20.textContent.slice(o-_e20.startOffset)]),null===_i26)_t31.push(_e20);else{var _s19=_e20.startOffset,_n14=0;var _iterator26=_createForOfIteratorHelper(_i26),_step26;try{for(_iterator26.s();!(_step26=_iterator26.n()).done;){var _o12=_step26.value;if(_o12.length>0){var _i27={textContent:_o12,href:_e20.href,inheritableProperties:_e20.inheritableProperties,nonInheritableProperties:_e20.nonInheritableProperties,startOffset:_s19,endOffset:_s19+_o12.length,x:[],y:[],dx:[],dy:[],rotate:[]};for(var _t32=0;_t32<_o12.length;_t32+=1){_i27.x.push(_e20.x[_n14]),_i27.y.push(_e20.y[_n14]),_i27.dx.push(_e20.dx[_n14]),_i27.dy.push(_e20.dy[_n14]),_i27.rotate.push(_e20.rotate[_n14]),_n14+=1;}_t31.push(_i27),_s19+=_o12.length;}}}catch(err){_iterator26.e(err);}finally{_iterator26.f();}}}}catch(err){_iterator25.e(err);}finally{_iterator25.f();}i.childItems=_t31;}t.removeAttribute("x"),t.removeAttribute("y"),t.removeAttribute("dx"),t.removeAttribute("dy"),t.removeAttribute("rotate"),t.removeAttribute("style");var _iterator27=_createForOfIteratorHelper(G),_step27;try{for(_iterator27.s();!(_step27=_iterator27.n()).done;){var _e30=_step27.value;t.hasAttribute(_e30)&&t.removeAttribute(_e30);}}catch(err){_iterator27.e(err);}finally{_iterator27.f();}{var _e21=getComputedStyle(t);var _iterator28=_createForOfIteratorHelper(ai(i.rootItem.inheritableProperties)),_step28;try{for(_iterator28.s();!(_step28=_iterator28.n()).done;){var _s20=_step28.value;_e21.getPropertyValue(_s20)!==i.rootItem.inheritableProperties[_s20]&&t.style.setProperty(_s20,i.rootItem.inheritableProperties[_s20]);}}catch(err){_iterator28.e(err);}finally{_iterator28.f();}var _iterator29=_createForOfIteratorHelper(ai(i.rootItem.nonInheritableProperties)),_step29;try{for(_iterator29.s();!(_step29=_iterator29.n()).done;){var _s21=_step29.value;_e21.getPropertyValue(_s21)!==i.rootItem.nonInheritableProperties[_s21]&&t.style.setProperty(_s21,i.rootItem.nonInheritableProperties[_s21]);}}catch(err){_iterator29.e(err);}finally{_iterator29.f();}}{var _e22=t.querySelector("textPath")||t;for(var _i28=0,_arr3=_toConsumableArray(_e22.childNodes);_i28<_arr3.length;_i28++){var _t33=_arr3[_i28];"tspan"!==_t33.nodeName&&"a"!==_t33.nodeName&&"#text"!==_t33.nodeName||_t33.remove();}if(i.childItems.length>0){var _iterator30=_createForOfIteratorHelper(i.childItems),_step30;try{for(_iterator30.s();!(_step30=_iterator30.n()).done;){var _t34=_step30.value;var _i29=Di("svg:tspan");if(_e22.append(_i29),_t34.href){var _e23=Di("svg:a");_e23.setAttribute("_href",_t34.href),_e23.textContent=_t34.textContent,_i29.append(_e23);}else _i29.textContent=_t34.textContent;{var _e24=getComputedStyle(_i29);var _iterator31=_createForOfIteratorHelper(ai(_t34.inheritableProperties)),_step31;try{for(_iterator31.s();!(_step31=_iterator31.n()).done;){var _s22=_step31.value;_e24.getPropertyValue(_s22)!==_t34.inheritableProperties[_s22]&&_i29.style.setProperty(_s22,_t34.inheritableProperties[_s22]);}}catch(err){_iterator31.e(err);}finally{_iterator31.f();}var _iterator32=_createForOfIteratorHelper(ai(_t34.nonInheritableProperties)),_step32;try{for(_iterator32.s();!(_step32=_iterator32.n()).done;){var _s23=_step32.value;_e24.getPropertyValue(_s23)!==_t34.nonInheritableProperties[_s23]&&_i29.style.setProperty(_s23,_t34.nonInheritableProperties[_s23]);}}catch(err){_iterator32.e(err);}finally{_iterator32.f();}}{var _e25=_t34.x.filter(function(t){return"auto"!==t;});_e25.length>0&&_i29.setAttribute("x",_e25.join(" "));}{var _e26=_t34.y.filter(function(t){return"auto"!==t;});_e26.length>0&&_i29.setAttribute("y",_e26.join(" "));}{var _e27=_toConsumableArray(_t34.dx);for(var _t35=_e27.length-1;_t35>=0&&"0"===_e27[_t35];_t35-=1){_e27.pop();}_e27.length>0&&_i29.setAttribute("dx",_e27.join(" "));}{var _e28=_toConsumableArray(_t34.dy);for(var _t36=_e28.length-1;_t36>=0&&"0"===_e28[_t36];_t36-=1){_e28.pop();}_e28.length>0&&_i29.setAttribute("dy",_e28.join(" "));}{var _e29=_toConsumableArray(_t34.rotate);for(var _t37=_e29.length-1;_t37>=0&&_e29[_t37]===_e29[_t37-1];_t37-=1){_e29.pop();}1===_e29.length&&"0"===_e29[0]&&(_e29=[]),_e29.length>0&&_i29.setAttribute("rotate",_e29.join(" "));}}}catch(err){_iterator30.e(err);}finally{_iterator30.f();}}}if(s){var _i30=0,_s24=null;var _iterator33=_createForOfIteratorHelper(xi(t)),_step33;try{for(_iterator33.s();!(_step33=_iterator33.n()).done;){var _l10=_step33.value;for(var _t38=0;_t38<=_l10.textContent.length;_t38+=1,_i30+=1){_i30===n&&e.setStart(_l10,_t38),_i30===o&&(0===_t38&&_s24?e.setEnd(_s24,_s24.textContent.length):e.setEnd(_l10,_t38));}_i30-=1,_s24=_l10;}}catch(err){_iterator33.e(err);}finally{_iterator33.f();}}},ci=function ci(t,e){var i=e&&t.contains(e.commonAncestorContainer),s=i?yi(e.startContainer,e.startOffset)[1]:-1,n=i?yi(e.endContainer,e.endOffset)[1]:-1;{di(t,null);var _e31=t.querySelector("textPath")||t,_i31=_e31.querySelectorAll("tspan"),_s25=1===_i31.length?_i31[0]:null;if(_s25&&0===_s25.style.length){var _iterator34=_createForOfIteratorHelper(_s25.childNodes),_step34;try{for(_iterator34.s();!(_step34=_iterator34.n()).done;){var _t39=_step34.value;_e31.append(_t39);}}catch(err){_iterator34.e(err);}finally{_iterator34.f();}for(var _i32=0,_arr4=["x","y","dx","dy","rotate"];_i32<_arr4.length;_i32++){var _e32=_arr4[_i32];_s25.hasAttribute(_e32)&&t.setAttribute(_e32,_s25.getAttribute(_e32));}_s25.remove();}}if(i){var _i33=0,_o13=null;var _iterator35=_createForOfIteratorHelper(xi(t)),_step35;try{for(_iterator35.s();!(_step35=_iterator35.n()).done;){var _l11=_step35.value;for(var _t40=0;_t40<=_l11.textContent.length;_t40+=1,_i33+=1){_i33===s&&e.setStart(_l11,_t40),_i33===n&&(0===_t40&&_o13?e.setEnd(_o13,_o13.textContent.length):e.setEnd(_l11,_t40));}_i33-=1,_o13=_l11;}}catch(err){_iterator35.e(err);}finally{_iterator35.f();}}},pi=function pi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;null===e&&(e=t.commonAncestorContainer.closest("text"));var i=(e.querySelector("textPath")||e).querySelectorAll("tspan"),s=[];if(i.length>0){if(t){var _iterator36=_createForOfIteratorHelper(i),_step36;try{for(_iterator36.s();!(_step36=_iterator36.n()).done;){var _e33=_step36.value;t.intersectsNode(_e33)&&s.push(_e33);}}catch(err){_iterator36.e(err);}finally{_iterator36.f();}}if(s.length>0){var _e34="backward"===t.direction?s[s.length-1]:s[0],_i34=s.filter(function(t){return t!==_e34;});s=[_e34].concat(_toConsumableArray(_i34));}}return s;},ui=window.getTextModel=function(t){var e={rootItem:null,childItems:[]};{var _gi=gi(t),_gi2=_slicedToArray(_gi,2),_i35=_gi2[0],_s26=_gi2[1],_n15={inheritableProperties:_i35,nonInheritableProperties:_s26};e.rootItem=_n15;}{var _i36=0;var _iterator37=_createForOfIteratorHelper(xi(t)),_step37;try{for(_iterator37.s();!(_step37=_iterator37.n()).done;){var _s27=_step37.value;var _n16={textContent:_s27.textContent,href:null,inheritableProperties:{},nonInheritableProperties:{},isLineBreak:!1,x:[],y:[],dx:[],dy:[],rotate:[],startOffset:_i36,endOffset:_i36+_s27.length};if(_i36+=_s27.length,_s27.textContent===ri&&(_n16.isLineBreak=!0),!1===_n16.isLineBreak)for(var _e35=_s27.parentNode;_e35!==t;_e35=_e35.parentNode){if("a"===_e35.localName&&_e35.hasAttribute("_href")){_n16.href=_e35.getAttribute("_href");break;}}if(!1===_n16.isLineBreak){var _e36=_s27.closest("tspan, text"),_gi3=gi(_e36),_gi4=_slicedToArray(_gi3,2),_i37=_gi4[0],_o14=_gi4[1];_n16.inheritableProperties=_i37,_e36!==t&&(_n16.nonInheritableProperties=_o14);}{var _e37=[],_i38=[],_o15=[],_l12=[],_h9=[];for(var _n17=_s27.parentNode;t.contains(_n17);_n17=_n17.parentNode){if("tspan"===_n17.localName||"text"===_n17.localName){var _t41=0;var _iterator38=_createForOfIteratorHelper(xi(_n17)),_step38;try{for(_iterator38.s();!(_step38=_iterator38.n()).done;){var _e42=_step38.value;if(_e42===_s27)break;_t41+=_e42.length;}}catch(err){_iterator38.e(err);}finally{_iterator38.f();}for(var _i39=_t41,_o16=0;_n17.x.baseVal.length,_o16<_s27.length;_i39+=1,_o16+=1){void 0===_e37[_o16]&&void 0!==_n17.x.baseVal[_i39]&&(_e37[_o16]=_n17.x.baseVal[_i39].valueAsString);}for(var _e38=_t41,_o17=0;_n17.y.baseVal.length,_o17<_s27.length;_e38+=1,_o17+=1){void 0===_i38[_o17]&&void 0!==_n17.y.baseVal[_e38]&&(_i38[_o17]=_n17.y.baseVal[_e38].valueAsString);}for(var _e39=_t41,_i40=0;_n17.dx.baseVal.length,_i40<_s27.length;_e39+=1,_i40+=1){void 0===_o15[_i40]&&void 0!==_n17.dx.baseVal[_e39]&&(_o15[_i40]=_n17.dx.baseVal[_e39].valueAsString);}for(var _e40=_t41,_i41=0;_n17.dy.baseVal.length,_i41<_s27.length;_e40+=1,_i41+=1){void 0===_l12[_i41]&&void 0!==_n17.dy.baseVal[_e40]&&(_l12[_i41]=_n17.dy.baseVal[_e40].valueAsString);}for(var _e41=_t41,_i42=0;_n17.rotate.baseVal.length,_i42<_s27.length;_e41+=1,_i42+=1){void 0===_h9[_i42]&&void 0!==_n17.rotate.baseVal[_e41]&&(_h9[_i42]="".concat(_n17.rotate.baseVal[_e41].value));}}}var _a8="0";for(var _t42=0;_t42<_s27.length;_t42+=1){void 0===_e37[_t42]&&(_e37[_t42]="auto"),void 0===_i38[_t42]&&(_i38[_t42]="auto"),void 0===_o15[_t42]&&(_o15[_t42]="0"),void 0===_l12[_t42]&&(_l12[_t42]="0"),void 0===_h9[_t42]&&(_h9[_t42]=_a8),_a8=_h9[_t42];}_n16.x=_e37,_n16.y=_i38,_n16.dx=_o15,_n16.dy=_l12,_n16.rotate=_h9;}e.childItems.push(_n16);}}catch(err){_iterator37.e(err);}finally{_iterator37.f();}}var _iterator39=_createForOfIteratorHelper(e.childItems),_step39;try{for(_iterator39.s();!(_step39=_iterator39.n()).done;){var _t47=_step39.value;var _iterator44=_createForOfIteratorHelper(ai(_t47.inheritableProperties)),_step44;try{for(_iterator44.s();!(_step44=_iterator44.n()).done;){var _i46=_step44.value;e.rootItem.inheritableProperties[_i46]===_t47.inheritableProperties[_i46]&&delete _t47.inheritableProperties[_i46];}}catch(err){_iterator44.e(err);}finally{_iterator44.f();}}}catch(err){_iterator39.e(err);}finally{_iterator39.f();}{var _t43=e.childItems.filter(function(t){return!t.isLineBreak;});if(_t43.length>0){var _t44=_toArray(_t43),_i43=_t44[0],_s28=_t44.slice(1);var _iterator40=_createForOfIteratorHelper(ai(_i43.inheritableProperties)),_step40;try{for(_iterator40.s();!(_step40=_iterator40.n()).done;){var _t45=_step40.value;var _n18=!0;var _iterator41=_createForOfIteratorHelper(_s28),_step41;try{for(_iterator41.s();!(_step41=_iterator41.n()).done;){var _e43=_step41.value;_e43.inheritableProperties[_t45]!==_i43.inheritableProperties[_t45]&&(_n18=!1);}}catch(err){_iterator41.e(err);}finally{_iterator41.f();}if(_n18){e.rootItem.inheritableProperties[_t45]=_i43.inheritableProperties[_t45];var _iterator42=_createForOfIteratorHelper(e.childItems),_step42;try{for(_iterator42.s();!(_step42=_iterator42.n()).done;){var _i44=_step42.value;delete _i44.inheritableProperties[_t45];}}catch(err){_iterator42.e(err);}finally{_iterator42.f();}}}}catch(err){_iterator40.e(err);}finally{_iterator40.f();}}}if(e.childItems.length>1){var _t46=[],_i45=null;var _iterator43=_createForOfIteratorHelper(e.childItems),_step43;try{for(_iterator43.s();!(_step43=_iterator43.n()).done;){var _i45$x,_i45$y,_i45$dx,_i45$dy,_i45$rotate;var _s29=_step43.value;_i45&&_i45.href===_s29.href&&ei(_i45.nonInheritableProperties,_s29.nonInheritableProperties)&&ei(_i45.inheritableProperties,_s29.inheritableProperties)&&(!1===_i45.x.includes("auto")||0===_s29.x.length||ti(_s29.x,"auto"))&&(!1===_i45.y.includes("auto")||0===_s29.y.length||ti(_s29.y,"auto"))&&!1===_i45.isLineBreak&&!1===_s29.isLineBreak?(_i45.textContent+=_s29.textContent,(_i45$x=_i45.x).push.apply(_i45$x,_toConsumableArray(_s29.x)),(_i45$y=_i45.y).push.apply(_i45$y,_toConsumableArray(_s29.y)),(_i45$dx=_i45.dx).push.apply(_i45$dx,_toConsumableArray(_s29.dx)),(_i45$dy=_i45.dy).push.apply(_i45$dy,_toConsumableArray(_s29.dy)),(_i45$rotate=_i45.rotate).push.apply(_i45$rotate,_toConsumableArray(_s29.rotate)),_i45.endOffset=_s29.endOffset):(_t46.push(_s29),_i45=_s29);}}catch(err){_iterator43.e(err);}finally{_iterator43.f();}e.childItems=_t46;}return e;},xi=function xi(t){var e=[];if(t.closest("text")){var _i47=[],_s30=document.createTreeWalker(t,NodeFilter.SHOW_TEXT);for(;_s30.nextNode();){_i47.push(_s30.currentNode);}for(var _i49=0,_i48=_i47;_i49<_i48.length;_i49++){var _t48=_i48[_i49];var _i50=_t48.parentElement;if("text"===_i50.localName||"tspan"===_i50.localName||"textPath"===_i50.localName)_i50.getNumberOfChars()>0&&e.push(_t48);else if("a"===_i50.localName){var _s31=_i50.getBBox();0===_s31.x&&0===_s31.y&&0===_s31.width&&0===_s31.height||e.push(_t48);}}}return e;},bi=function bi(t){var e=xi(t),i=[];var _iterator45=_createForOfIteratorHelper(e),_step45;try{for(_iterator45.s();!(_step45=_iterator45.n()).done;){var _t49=_step45.value;var _e44=_t49.closest("*"),_s32=getComputedStyle(_e44).textTransform,_n19=_t49.textContent;"uppercase"===_s32?_n19=_n19.toUpperCase():"lowercase"===_s32?_n19=_n19.toLowerCase():"capitalize"===_s32&&(_n19=si(_n19)),i.push.apply(i,_toConsumableArray(_n19.split("")));}}catch(err){_iterator45.e(err);}finally{_iterator45.f();}return i;},mi=function mi(t){var e=xi(t),i=0,s=0;for(var _s33=e[0].parentElement;t.contains(_s33);_s33=_s33.parentElement){if(("tspan"===_s33.localName||"text"===_s33.localName)&&_s33.x.baseVal.length>0){i=_s33.x.baseVal[0].value;break;}}for(var _i51=e[0].parentElement;t.contains(_i51);_i51=_i51.parentElement){if(("tspan"===_i51.localName||"text"===_i51.localName)&&_i51.y.baseVal.length>0){s=_i51.y.baseVal[0].value;break;}}return new DOMPoint(i,s);},gi=function gi(t){var e=getComputedStyle(t),i={},s={};var _iterator46=_createForOfIteratorHelper(R),_step46;try{for(_iterator46.s();!(_step46=_iterator46.n()).done;){var _t50=_step46.value;if(_t50.appliesTo.includes("text")||_t50.appliesTo.includes("tspan")||_t50.appliesTo.includes("textPath")){if("font"===_t50.name||"display"===_t50.name)continue;!0===_t50.inheritable?i[_t50.name]=e.getPropertyValue(_t50.name):!1===_t50.inheritable&&(s[_t50.name]=e.getPropertyValue(_t50.name));}}}catch(err){_iterator46.e(err);}finally{_iterator46.f();}return[i,s];},fi=function fi(t){return"tspan"===t.localName&&t.textContent===ri;},wi=function wi(t){if("text"===t.localName){var _iterator47=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step47;try{for(_iterator47.s();!(_step47=_iterator47.n()).done;){var _e45=_step47.value;if(fi(_e45))return!0;}}catch(err){_iterator47.e(err);}finally{_iterator47.f();}}return!1;},vi=function vi(t){var e=0;var _iterator48=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step48;try{for(_iterator48.s();!(_step48=_iterator48.n()).done;){var _i52=_step48.value;if(fi(_i52)&&_i52.dy.baseVal.length>0&&_i52.dy.baseVal[0].unitType===SVGLength.SVG_LENGTHTYPE_EMS){var _t51=_i52.dy.baseVal[0].valueInSpecifiedUnits;e=X(_t51-1,2);break;}}}catch(err){_iterator48.e(err);}finally{_iterator48.f();}return e;},yi=function yi(t,e){var i=t.closest("text"),s=0,n=-1;var _iterator49=_createForOfIteratorHelper(xi(i)),_step49;try{for(_iterator49.s();!(_step49=_iterator49.n()).done;){var _o18=_step49.value;if(_o18===t){n=s+e;break;}s+=_o18.length;}}catch(err){_iterator49.e(err);}finally{_iterator49.f();}return[i,n];},ki=function ki(t,e){var i=null,s=null,n=0,o=0;var _iterator50=_createForOfIteratorHelper(xi(t)),_step50;try{for(_iterator50.s();!(_step50=_iterator50.n()).done;){var _l13=_step50.value;for(var _t52=0;_t52<=_l13.textContent.length;_t52+=1,o+=1){o===e&&(0===_t52&&i?(s=i,n=i.textContent.length):(s=_l13,n=_t52));}o-=1,i=_l13;}}catch(err){_iterator50.e(err);}finally{_iterator50.f();}return[s,n];},Si=function Si(t){var e={x:[],y:[],dx:[],dy:[],rotate:[]};var _iterator51=_createForOfIteratorHelper(xi(t)),_step51;try{for(_iterator51.s();!(_step51=_iterator51.n()).done;){var _e$x,_e$y,_e$dx,_e$dy,_e$rotate;var _i53=_step51.value;var _s34=[],_n20=[],_o19=[],_l14=[],_h10=[];for(var _e46=_i53.parentNode;t.contains(_e46);_e46=_e46.parentNode){if("tspan"===_e46.localName||"text"===_e46.localName){var _t53=0;var _iterator52=_createForOfIteratorHelper(xi(_e46)),_step52;try{for(_iterator52.s();!(_step52=_iterator52.n()).done;){var _s39=_step52.value;if(_s39===_i53)break;_t53+=_s39.length;}}catch(err){_iterator52.e(err);}finally{_iterator52.f();}for(var _n21=_t53,_o20=0;_e46.x.baseVal.length,_o20<_i53.length;_n21+=1,_o20+=1){void 0===_s34[_o20]&&void 0!==_e46.x.baseVal[_n21]&&(_s34[_o20]=_e46.x.baseVal[_n21].value);}for(var _s35=_t53,_o21=0;_e46.y.baseVal.length,_o21<_i53.length;_s35+=1,_o21+=1){void 0===_n20[_o21]&&void 0!==_e46.y.baseVal[_s35]&&(_n20[_o21]=_e46.y.baseVal[_s35].value);}for(var _s36=_t53,_n22=0;_e46.dx.baseVal.length,_n22<_i53.length;_s36+=1,_n22+=1){void 0===_o19[_n22]&&void 0!==_e46.dx.baseVal[_s36]&&(_o19[_n22]=_e46.dx.baseVal[_s36].value);}for(var _s37=_t53,_n23=0;_e46.dy.baseVal.length,_n23<_i53.length;_s37+=1,_n23+=1){void 0===_l14[_n23]&&void 0!==_e46.dy.baseVal[_s37]&&(_l14[_n23]=_e46.dy.baseVal[_s37].value);}for(var _s38=_t53,_n24=0;_e46.rotate.baseVal.length,_n24<_i53.length;_s38+=1,_n24+=1){void 0===_h10[_n24]&&void 0!==_e46.rotate.baseVal[_s38]&&(_h10[_n24]=_e46.rotate.baseVal[_s38].value);}}}{var _t54=0;for(var _e47=0;_e47<_i53.length;_e47+=1){void 0===_s34[_e47]&&(_s34[_e47]="auto"),void 0===_n20[_e47]&&(_n20[_e47]="auto"),void 0===_o19[_e47]&&(_o19[_e47]=0),void 0===_l14[_e47]&&(_l14[_e47]=0),void 0===_h10[_e47]&&(_h10[_e47]=_t54),_t54=_h10[_e47];}}(_e$x=e.x).push.apply(_e$x,_s34),(_e$y=e.y).push.apply(_e$y,_n20),(_e$dx=e.dx).push.apply(_e$dx,_o19),(_e$dy=e.dy).push.apply(_e$dy,_l14),(_e$rotate=e.rotate).push.apply(_e$rotate,_h10);}}catch(err){_iterator51.e(err);}finally{_iterator51.f();}return e;},_i=function _i(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=new DOMRect(0,0,0,0),s=e?F(t):null;if(s){i=function(t,e){var i=Math.max(t.left,e.left),s=Math.min(t.right,e.right),n=Math.max(t.top,e.top),o=Math.min(t.bottom,e.bottom);return new DOMRect(i,n,s-i,o-n);}(_i(t,!1),Fe(DOMRect.fromRect(s.getBBox()),Ut(s)));}else if("tspan"===t.localName){var _e48=xi(t),_s40=document.createRange();if(_e48.length>0&&(_s40.setStart(_e48[0],0),_s40.setEnd(_e48[_e48.length-1],_e48[_e48.length-1].length)),!1===_s40.collapsed){var _t55=_s40.startContainer.closest("text"),_yi=yi(_s40.startContainer,_s40.startOffset),_yi2=_slicedToArray(_yi,2),_e49=_yi2[1],_yi3=yi(_s40.endContainer,_s40.endOffset),_yi4=_slicedToArray(_yi3,2),_n25=_yi4[1],_o22=[];for(var _i54=_e49;_i54<_n25;_i54+=1){var _e50=_t55.getExtentOfChar(_i54);_o22.push(_e50);}i=Ue(_o22);}}else i="use"===t.localName?new DOMRect(0,0,t.width.baseVal.value,t.height.baseVal.value):DOMRect.fromRect(t.getBBox());return i;},Ci=function Ci(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=Vt(t),s=_i(t,e);return Fe(s,i);},Mi=Number.parseInt,Pi=function Pi(t){var e=document.createDocumentFragment(),i=document.createElementNS(l.svg,"svg");for(i.innerHTML=t;i.firstChild;){e.append(i.firstChild);}return e.childElementCount>1?e:1===e.childElementCount?e.children[0]:null;},Di=function Di(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=t.split(":"),s=null;if(1===i.length){var _i55=_slicedToArray(i,1),_t56=_i55[0];s=document.createElement(_t56,e);}else if(2===i.length){var _i56=_slicedToArray(i,2),_t57=_i56[0],_n26=_i56[1];"svg"===_t57&&(s=document.createElementNS(l.svg,_n26,e));}return s;},zi=function zi(t){var e="svg"===t.localName?t:null;for(var _i57=t.ownerSVGElement;_i57;_i57=_i57.ownerSVGElement){e=_i57;}return e;},Oi=function Oi(t){for(var _e51 in t.parentElement.children){if(t.parentElement.children[_e51]===t)return Mi(_e51);}},Ei=function Ei(t,e){if(t.localName!==e.localName)return!1;if(t.namespaceURI!==e.namespaceURI)return!1;if(t.textContent!==e.textContent)return!1;if(t.children.length!==e.children.length)return!1;if(t.attributes.length!==e.attributes.length)return!1;var _iterator53=_createForOfIteratorHelper(t.attributes),_step53;try{for(_iterator53.s();!(_step53=_iterator53.n()).done;){var _i59=_step53.value;if("style"===_i59.name){if(t.style.cssText!==e.style.cssText)return!1;}else if(t.getAttribute(_i59.name)!==e.getAttribute(_i59.name))return!1;}}catch(err){_iterator53.e(err);}finally{_iterator53.f();}for(var _i58=0;_i58<t.children.length;_i58+=1){if(!1===Ei(t.children[_i58],e.children[_i58]))return!1;}return!0;},Ti=function Ti(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=t.closest(e);return i&&!s&&t.getRootNode().host?Ti(t.getRootNode().host,e):s;},Ai=function Ai(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i,s=function s(t,e){return{x:t,y:e,translate:function translate(i,n){return s(t+i,e+n);}};},n=function n(t,e){return{start:t,length:e,end:t+e};},o=function o(t,i){return!1===e||i.start<t.end&&t.start<i.end?Math.max(t.end-i.length,Math.min(i.start,t.start)):(t.start+t.end-i.length)/2;},l=function l(t,e){for(;t;){e=e.translate(t.offsetLeft,t.offsetTop),t=t.offsetParent;}return e;},h=l(t,s(0,0)),a=s(t.offsetWidth,t.offsetHeight),r=t.parentNode;for(;r instanceof HTMLElement;){i=l(r,s(r.clientLeft,r.clientTop)),r.scrollLeft=o(n(h.x-i.x,a.x),n(r.scrollLeft,r.clientWidth)),r.scrollTop=o(n(h.y-i.y,a.y),n(r.scrollTop,r.clientHeight)),h=h.translate(-r.scrollLeft,-r.scrollTop),r=r.parentNode;}},$i=function $i(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[];var _iterator54=_createForOfIteratorHelper(t),_step54;try{for(_iterator54.s();!(_step54=_iterator54.n()).done;){var _s41=_step54.value;if("g"===_s41.localName||"a"===_s41.localName){var _t58=_toConsumableArray(_s41.children);i=[].concat(_toConsumableArray(i),_toConsumableArray($i(_t58,e)));}else if(m.includes(_s41.localName)&&(i.push(_s41),"text"===_s41.localName&&e)){var _t59=_toConsumableArray(_s41.children);i=[].concat(_toConsumableArray(i),_toConsumableArray($i(_t59,e)));}}}catch(err){_iterator54.e(err);}finally{_iterator54.f();}return i;},Ii=function Ii(t,e){for(;t=t.parentNode;){if(t.contains&&t.contains(e))return t;}return null;},Li=function Li(t){var e=[];var _iterator55=_createForOfIteratorHelper(t),_step55;try{for(_iterator55.s();!(_step55=_iterator55.n()).done;){var _i60=_step55.value;e.push(_i60);}}catch(err){_iterator55.e(err);}finally{_iterator55.f();}return e.sort(function(t,e){return 3-(6&t.compareDocumentPosition(e));}),e;},Bi=function Bi(t){var e=[];t=Li(t);var _iterator56=_createForOfIteratorHelper(t),_step56;try{for(_iterator56.s();!(_step56=_iterator56.n()).done;){var _i61=_step56.value;if(_i61===t[0])e.push([_i61]);else{var _t60=!1;var _iterator57=_createForOfIteratorHelper(e),_step57;try{for(_iterator57.s();!(_step57=_iterator57.n()).done;){var _s42=_step57.value;_i61.parentElement===_s42[0].parentElement&&(_s42.push(_i61),_t60=!0);}}catch(err){_iterator57.e(err);}finally{_iterator57.f();}!1===_t60&&e.push([_i61]);}}}catch(err){_iterator56.e(err);}finally{_iterator56.f();}return e;},Ri=function Ri(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"designer";var i=null;if("developer"===e)"rect"===t.localName?i="<rect>":"circle"===t.localName?i="<circle>":"ellipse"===t.localName?i="<ellipse>":"line"===t.localName?i="<line>":"polyline"===t.localName?i="<polyline>":"polygon"===t.localName?i="<polygon>":"text"===t.localName?i="<text>":"image"===t.localName?i="<image>":"use"===t.localName?i="<use>":"svg"===t.localName?i="<svg>":"a"===t.localName?i="<a>":"g"===t.localName?i="master"===t.getAttribute("data-bx-workspace")?"<svg>":"symbol"===t.getAttribute("data-bx-workspace")?"<symbol>":"pattern"===t.getAttribute("data-bx-workspace")?"<pattern>":"marker"===t.getAttribute("data-bx-workspace")?"<marker>":"<g>":"path"===t.localName?i="<path>":"clipPath"===t.localName?i="<clipPath>":"mask"===t.localName?i="<mask>":"view"===t.localName?i="<view>":"bx-guide"===t.localName&&(i="<bx:guide>");else if("designer"===e)if("rect"===t.localName)i="Rectangle";else if("circle"===t.localName)i="Circle";else if("ellipse"===t.localName)i="Ellipse";else if("line"===t.localName)i="Line";else if("polyline"===t.localName)i="Polyline";else if("polygon"===t.localName)i="Polygon";else if("text"===t.localName)i="Text";else if("image"===t.localName)i="Image";else if("use"===t.localName)i="Symbol instance";else if("svg"===t.localName)i="SVG";else if("a"===t.localName)i="Link";else if("g"===t.localName)i="master"===t.getAttribute("data-bx-workspace")?"SVG":"symbol"===t.getAttribute("data-bx-workspace")?"Symbol":"pattern"===t.getAttribute("data-bx-workspace")?"Pattern":"marker"===t.getAttribute("data-bx-workspace")?"Marker":"Group";else if("path"===t.localName){var _e52=t.getAttribute("data-bx-shape");if(_e52){var _t61=_e52.substring(0,_e52.indexOf(" "));i="rect"===_t61?"Rectangle":si(_t61);}else i="Path";}else"clipPath"===t.localName?i="Clip":"mask"===t.localName?i="Mask":"view"===t.localName?i="View":"bx-guide"===t.localName&&(i="Guide");return i;},Gi=function Gi(t){var e=null;if("rect"===t.localName)e="object-rect";else if("circle"===t.localName)e="object-circle";else if("ellipse"===t.localName)e="object-ellipse";else if("line"===t.localName)e="object-line";else if("polyline"===t.localName)e="object-polyline";else if("polygon"===t.localName)e="object-polygon";else if("text"===t.localName)e="object-text";else if("image"===t.localName)e="object-image";else if("a"===t.localName)e="object-link";else if("use"===t.localName)e="object-symbol";else if("svg"===t.localName)e="object-svg";else if("g"===t.localName)e="master"===t.getAttribute("data-bx-workspace")?"object-svg":"symbol"===t.getAttribute("data-bx-workspace")?"object-symbol":"pattern"===t.getAttribute("data-bx-workspace")?"object-pattern":"marker"===t.getAttribute("data-bx-workspace")?"object-marker":"object-group";else if("path"===t.localName){var _i62=t.getAttribute("data-bx-shape");e=_i62?"object-"+_i62.substring(0,_i62.indexOf(" ")):"object-path";}else"clipPath"===t.localName?e="object-clip":"mask"===t.localName?e="object-mask":"view"===t.localName?e="object-view":"bx-guide"===t.localName&&(e="object-guide");return e;},Fi=function Fi(t,e){if(!t.transform||!e.transform)return!1;var i=Ci(t),s=Ci(e);return je(i,s);},Ui=function Ui(t){var e=[],i=[];var _iterator58=_createForOfIteratorHelper(t),_step58;try{var _loop=function _loop(){var s=_step58.value;var n=[],o=function o(e){var _iterator60=_createForOfIteratorHelper(t),_step60;try{for(_iterator60.s();!(_step60=_iterator60.n()).done;){var _s43=_step60.value;var _t62=!n.includes(_s43)&&!i.includes(_s43);_s43!==e&&_t62&&Fi(_s43,e)&&(n.push(_s43),i.push(_s43),o(_s43));}}catch(err){_iterator60.e(err);}finally{_iterator60.f();}};o(s),n.length>0&&e.push(Li(n));};for(_iterator58.s();!(_step58=_iterator58.n()).done;){_loop();}}catch(err){_iterator58.e(err);}finally{_iterator58.f();}var _iterator59=_createForOfIteratorHelper(t),_step59;try{for(_iterator59.s();!(_step59=_iterator59.n()).done;){var _s44=_step59.value;i.includes(_s44)||e.push([_s44]);}}catch(err){_iterator59.e(err);}finally{_iterator59.f();}return e;},Ni=function Ni(t){if(0===t.length)return!1;for(var _e53=0;_e53<t.length;_e53+=1){var _i63=t.charCodeAt(_e53);if(!1===(_i63>=65&&_i63<=90||_i63>=97&&_i63<=122)){if(0===_e53)return!1;if(!1===(_i63>=48&&_i63<=57||45===_i63||46===_i63||95===_i63))return!1;}}return!0;},Vi=function Vi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"element-";var i=document;for(var _e54=t.parentNode;_e54;_e54=_e54.parentNode){if(_e54.nodeType===Node.DOCUMENT_FRAGMENT_NODE||_e54.nodeType===Node.DOCUMENT_NODE){i=_e54;break;}}for(var _t63=0;_t63<Infinity;_t63+=1){var _s45=e+_t63;if(!i.querySelector("#".concat(_s45)))return _s45;}},ji=document.createElement("template"),Hi=function Hi(t){var i=[];for(var _len2=arguments.length,e=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){e[_key2-1]=arguments[_key2];}for(var _s46=0;_s46<t.length;_s46+=1){i.push(t[_s46]),void 0!==e[_s46]&&i.push(e[_s46]);}var s=i.join("");ji.innerHTML=s;var n=document.importNode(ji.content,!0);return 1===n.children.length?n.firstElementChild:n;},Yi=function Yi(t){var i=[];for(var _len3=arguments.length,e=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){e[_key3-1]=arguments[_key3];}for(var _s47=0;_s47<t.length;_s47+=1){i.push(t[_s47]),void 0!==e[_s47]&&i.push(e[_s47]);}var s=i.join(""),n=new CSSStyleSheet();return n.replaceSync(s),n;},Wi=function Wi(t){var i=[];for(var _len4=arguments.length,e=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++){e[_key4-1]=arguments[_key4];}for(var _s48=0;_s48<t.length;_s48+=1){i.push(t[_s48]),void 0!==e[_s48]&&i.push(e[_s48]);}var s="<svg id=\"x-stub\" xmlns=\"http://www.w3.org/2000/svg\">".concat(i.join(""),"</svg>");ji.innerHTML=s;var n=document.importNode(ji.content,!0),o=n.querySelector("svg#x-stub");if(1===o.children.length)return o.firstElementChild;for(var _i64=0,_arr5=_toConsumableArray(o.childNodes);_i64<_arr5.length;_i64++){var _t64=_arr5[_i64];n.appendChild(_t64);}return o.remove(),n;},qi=function qi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:500;var i=arguments.length>2?arguments[2]:undefined;var s=null,n=null,o=null,l=0,h=function h(){l=new Date(),n=null,o=t.apply(i,s);};return function(){var r=new Date(),d=e-(r-l);for(var _len5=arguments.length,a=new Array(_len5),_key5=0;_key5<_len5;_key5++){a[_key5]=arguments[_key5];}return s=a,d<=0?(clearTimeout(n),n=null,l=r,o=t.apply(i,s)):n||(n=setTimeout(h,d)),o;};},Xi=function Xi(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var n=null,o=null;return function(){for(var _len6=arguments.length,l=new Array(_len6),_key6=0;_key6<_len6;_key6++){l[_key6]=arguments[_key6];}var h=s&&!n;return clearTimeout(n),n=setTimeout(function(){n=null,s||(o=t.apply(i,l));},e),h&&(o=t.apply(i,l)),o;};},Zi=function Zi(t,e){var i,s=!1;return function(){return s||(s=!0,i=t.apply(e||this,arguments),t=null),i;};},Ki=function Ki(t){return new Promise(function(e,i){setTimeout(function(){return e();},t);});},Qi=new Promise(function(t){requestIdleCallback(t);});var Ji=/*#__PURE__*/function(){function Ji(t){_classCallCheck(this,Ji);this.text=t,this.cursor=0,this.line=1,this.column=1,this.t={cursor:0,line:1,column:1};}_createClass(Ji,[{key:"read",value:function read(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e="",i=this.cursor;for(var _s49=0;_s49<t;_s49+=1){var _t65=this.text[i+_s49];if(void 0===_t65)break;e+=_t65,this.cursor+=1,"\n"===_t65?(this.line+=1,this.column=1):this.column+=1;}return""===e?null:e;}},{key:"peek",value:function peek(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e="";for(var _i65=0;_i65<t;_i65+=1){var _t66=this.text[this.cursor+_i65];if(void 0===_t66)break;e+=_t66;}return""===e?null:e;}},{key:"eatSpaces",value:function eatSpaces(){var t="";for(;" "===this.peek();){t+=this.read();}return t;}},{key:"eatWhitespace",value:function eatWhitespace(){var t="";for(;" "===this.peek()||"\n"===this.peek();){t+=this.read();}return t;}},{key:"storePosition",value:function storePosition(){var t=this.cursor,e=this.line,i=this.column;this.t={cursor:t,line:e,column:i};}},{key:"restorePosition",value:function restorePosition(){var _this$t=this.t,t=_this$t.cursor,e=_this$t.line,i=_this$t.column;this.cursor=t,this.line=e,this.column=i;}}]);return Ji;}();var ts=Math.max,es=Math.pow,is=Math.sqrt,ss=Math.PI,ns=function ns(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=es(10,e);return Math.round(t*i)/i;},os=function os(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return new DOMRect(ns(t.x,e),ns(t.y,e),ns(t.width,e),ns(t.height,e));},ls=function ls(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Infinity;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;return null!==s&&(t=ns(t,s)),t<e?t=e:t>i&&(t=i),t;},hs=function hs(t){if(isFinite(t)){var _e55=1,_i66=0;for(;Math.round(t*_e55)/_e55!==t;){_e55*=10,_i66+=1;}return _i66;}return 0;},as=function as(t,e){var i=e.x-t.x;i*=i;var s=e.y-t.y;return s*=s,is(i+s);},rs=function rs(t){return ss*t/180;},ds=Math.min,cs=Math.max,ps=Math.floor,us=Math.pow,xs=Math.atan2,bs=Math.PI,ms=Math.sqrt,gs=function gs(t,e,i){var s,n,o,l=cs(t/=255,e/=255,i/=255),h=ds(t,e,i);if(s=n=o=(l+h)/2,l===h)s=n=0;else{var _a9=l-h;if(n=o>.5?_a9/(2-l-h):_a9/(l+h),l===t){var _t67;_t67=e<i?6:0,s=(e-i)/_a9+_t67;}else l===e?s=(i-t)/_a9+2:l===i&&(s=(t-e)/_a9+4);}return s=ls(s/6*360,0,360,0),n=ls(100*n,0,100,1),o=ls(100*o,0,100,1),[s,n,o];},fs=function fs(t,e,i){var s,n,o;if(t/=360,i/=100,0==(e/=100))s=n=o=i;else{var _l15,_h11,_a10=function _a10(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t;};_l15=i<.5?i*(1+e):i+e-i*e,_h11=2*i-_l15,s=_a10(_h11,_l15,t+1/3),n=_a10(_h11,_l15,t),o=_a10(_h11,_l15,t-1/3);}return s=ls(255*s,0,255,0),n=ls(255*n,0,255,0),o=ls(255*o,0,255,0),[s,n,o];},ws=function ws(t,e,i){e/=100,i/=100;var s=ps(6*(t/=360)),n=6*t-s,o=i*(1-e),l=i*(1-n*e),h=i*(1-(1-n)*e),a=0,r=0,d=0;return s%6==0?(a=i,r=h,d=o):s%6==1?(a=l,r=i,d=o):s%6==2?(a=o,r=i,d=h):s%6==3?(a=o,r=l,d=i):s%6==4?(a=h,r=o,d=i):s%6==5&&(a=i,r=o,d=l),a*=255,r*=255,d*=255,[a,r,d];},vs=function vs(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"rgba";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"hex";var s=null;if(["rgb","rgba","rgb%","rgba%","hex"].includes(i)){var _t68,_t69,_fs,_fs2,_ws,_ws2;var _n27,_o23,_l16,_h12;if("rgba"===e?(_t68=t,_t69=_slicedToArray(_t68,4),_n27=_t69[0],_o23=_t69[1],_l16=_t69[2],_h12=_t69[3],_t68):"hsla"===e?((_fs=fs.apply(void 0,_toConsumableArray(t)),_fs2=_slicedToArray(_fs,3),_n27=_fs2[0],_o23=_fs2[1],_l16=_fs2[2],_fs),_h12=t[3]):"hsva"===e&&((_ws=ws.apply(void 0,_toConsumableArray(t)),_ws2=_slicedToArray(_ws,3),_n27=_ws2[0],_o23=_ws2[1],_l16=_ws2[2],_ws),_h12=t[3]),"rgb%"===i||"rgba%"===i?(_n27=ls(_n27/255*100,0,100,1),_o23=ls(_o23/255*100,0,100,1),_l16=ls(_l16/255*100,0,100,1),_h12=ls(_h12,0,1,2)):(_n27=ls(_n27,0,255,0),_o23=ls(_o23,0,255,0),_l16=ls(_l16,0,255,0),_h12=ls(_h12,0,1,2)),"rgb"===i)s="rgb(".concat(_n27,", ").concat(_o23,", ").concat(_l16,")");else if("rgba"===i)s="rgba(".concat(_n27,", ").concat(_o23,", ").concat(_l16,", ").concat(_h12,")");else if("rgb%"===i)s="rgb(".concat(_n27,"%, ").concat(_o23,"%, ").concat(_l16,"%)");else if("rgba%"===i)s="rgb(".concat(_n27,"%, ").concat(_o23,"%, ").concat(_l16,"%, ").concat(_h12,")");else if("hex"===i){var _t70=_n27.toString(16),_e56=_o23.toString(16),_i67=_l16.toString(16);1===_t70.length&&(_t70="0"+_t70),1===_e56.length&&(_e56="0"+_e56),1===_i67.length&&(_i67="0"+_i67),s="#"+_t70+_e56+_i67;}}else if("hsl"===i||"hsla"===i){var _t71,_t72,_ref,_ref2,_gs,_gs2;var _n28,_o24,_l17,_h13;"hsla"===e?(_t71=t,_t72=_slicedToArray(_t71,4),_n28=_t72[0],_o24=_t72[1],_l17=_t72[2],_h13=_t72[3],_t71):"hsva"===e?((_ref=function(t,e,i){var s=t/=360,n=(2-(e/=100))*(i/=100),o=e*i;return n<=1?0===n?o=0:o/=n:2===n?o=0:o/=2-n,n/=2,s*=360,o=100*cs(0,ds(1,o)),n=100*cs(0,ds(1,n)),[s,o,n];}.apply(void 0,_toConsumableArray(t)),_ref2=_slicedToArray(_ref,3),_n28=_ref2[0],_o24=_ref2[1],_l17=_ref2[2],_ref),_h13=t[3]):"rgba"===e&&((_gs=gs.apply(void 0,_toConsumableArray(t)),_gs2=_slicedToArray(_gs,3),_n28=_gs2[0],_o24=_gs2[1],_l17=_gs2[2],_gs),_h13=t[3]),_n28=ls(_n28,0,360,0),_o24=ls(_o24,0,100,1),_l17=ls(_l17,0,100,1),_h13=ls(_h13,0,1,2),"hsl"===i?s="hsl(".concat(_n28,", ").concat(_o24,"%, ").concat(_l17,"%)"):"hsla"===i&&(s="hsla(".concat(_n28,", ").concat(_o24,"%, ").concat(_l17,"%, ").concat(_h13,")"));}return s;},ys=function ys(t,e){var i=e.startsWith("hsl")?"hsla":"rgba",s=new Ms().parse(t,i);return vs(s,i,e);},ks=function ks(t){if("#"!==(t=t.toLowerCase())[0])return!1;if(4!==t.length&&7!==t.length)return!1;t=t.substring(1);var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];var _iterator61=_createForOfIteratorHelper(t),_step61;try{for(_iterator61.s();!(_step61=_iterator61.n()).done;){var _i68=_step61.value;if(!e.includes(_i68))return!1;}}catch(err){_iterator61.e(err);}finally{_iterator61.f();}return!0;},Ss=function Ss(){return new Promise(function(t){if(Ss.url)t(Ss.url);else if(Ss.callbacks)Ss.callbacks.push(t);else{Ss.callbacks=[t];var _e57=300,_i69=document.createElement("canvas"),_s50=_i69.getContext("2d"),_n29=_s50.createImageData(_e57,_e57),_o25=_n29.data,_l18=_e57/2,_h14=0;_i69.width=_e57,_i69.height=_e57;for(var _t73=0;_t73<_e57;_t73++){for(var _i70=0;_i70<_e57;_i70++){var _e58=_i70-_l18,_s51=_t73-_l18,_n30=us(_e58,2)+us(_s51,2),_a11=(xs(_s51,_e58)+bs)/(2*bs)*360,_r8=ms(_n30)/_l18*100,_ws3=ws(_a11,_r8,100),_ws4=_slicedToArray(_ws3,3),_d4=_ws4[0],_c2=_ws4[1],_p2=_ws4[2],_u2=_n30>us(_l18,2)?0:255;_o25[_h14++]=_d4,_o25[_h14++]=_c2,_o25[_h14++]=_p2,_o25[_h14++]=_u2;}}_s50.putImageData(_n29,0,0),_i69.toBlob(function(t){Ss.url=URL.createObjectURL(t);var _iterator62=_createForOfIteratorHelper(Ss.callbacks),_step62;try{for(_iterator62.s();!(_step62=_iterator62.n()).done;){var _t74=_step62.value;_t74(Ss.url);}}catch(err){_iterator62.e(err);}finally{_iterator62.f();}});}});},_s=Number.parseFloat,Cs=Number.parseInt;var Ms=/*#__PURE__*/function(){function Ms(){_classCallCheck(this,Ms);}_createClass(Ms,[{key:"parse",value:function parse(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"rgba";t=t.trim();var i=this.h(t),s=null,n=null;if(7===i.length&&"rgb("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&")"===i[6].text)s=[_s(i[1].text),_s(i[3].text),_s(i[5].text),1];else if(7===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)s=[_s(i[1].text)/100*255,_s(i[3].text)/100*255,_s(i[5].text)/100*255,1];else if(9===i.length&&"rgba("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[_s(i[1].text),_s(i[3].text),_s(i[5].text),_s(i[7].text)];else if(9===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[_s(i[1].text)/100*255,_s(i[3].text)/100*255,_s(i[5].text)/100*255,_s(i[7].text)];else if(7===i.length&&"hsl("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)n=[_s(i[1].text),_s(i[3].text),_s(i[5].text),1];else if(9===i.length&&"hsla("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)n=[_s(i[1].text),_s(i[3].text),_s(i[5].text),_s(i[7].text)];else if("HEX"===i[0].type&&void 0===i[1]){var _t75,_e59,_n31,_o26=i[0].text.substring(1);3===_o26.length?(_t75=_o26[0]+_o26[0],_e59=_o26[1]+_o26[1],_n31=_o26[2]+_o26[2]):(_t75=_o26[0]+_o26[1],_e59=_o26[2]+_o26[3],_n31=_o26[4]+_o26[5]),s=[Cs(_t75,16),Cs(_e59,16),Cs(_n31,16),1];}else Ms.i[t]&&(s=[Ms.i[t][0],Ms.i[t][1],Ms.i[t][2],1]);if(s){var _s52=s,_s53=_slicedToArray(_s52,4),_t76=_s53[0],_i71=_s53[1],_n32=_s53[2],_o27=_s53[3];if(_t76=ls(_t76,0,255,0),_i71=ls(_i71,0,255,0),_n32=ls(_n32,0,255,0),_o27=ls(_o27,0,1,2),"hsla"===e){var _gs3=gs(_t76,_i71,_n32),_gs4=_slicedToArray(_gs3,3),_e60=_gs4[0],_s54=_gs4[1],_l19=_gs4[2];return[_e60,_s54,_l19,_o27];}if("hsva"===e){var _ref3=function(t,e,i){var s=cs(t/=255,e/=255,i/=255),n=ds(t,e,i),o=0,l=0,h=s,a=s-n;return l=0===s?0:a/s,s===n?o=0:(s===t?o=(e-i)/a+(e<i?6:0):s===e?o=(i-t)/a+2:s===i&&(o=(t-e)/a+4),o/=6),o*=360,l*=100,h*=100,[o,l,h];}(_t76,_i71,_n32),_ref4=_slicedToArray(_ref3,3),_e61=_ref4[0],_s55=_ref4[1],_l20=_ref4[2];return[_e61,_s55,_l20,_o27];}return[_t76,_i71,_n32,_o27];}if(n){var _n33=n,_n34=_slicedToArray(_n33,4),_t77=_n34[0],_i72=_n34[1],_s56=_n34[2],_o28=_n34[3];if(_t77=ls(_t77,0,360,0),_i72=ls(_i72,0,100,1),_s56=ls(_s56,0,100,1),_o28=ls(_o28,0,1,2),"hsla"===e)return[_t77,_i72,_s56,_o28];if("hsva"===e){var _ref5=function(t,e,i){e/=100;var s,n,o=t/=360;return s=(i=i/100*2)+(e*=i<=1?i:2-i)==0?0:2*e/(i+e),n=(i+e)/2,o*=360,s=100*cs(0,ds(1,s)),n=100*cs(0,ds(1,n)),[o,s,n];}(_t77,_i72,_s56),_ref6=_slicedToArray(_ref5,3),_e62=_ref6[0],_n35=_ref6[1],_l21=_ref6[2];return[_e62,_n35,_l21,_o28];}{var _fs3=fs(_t77,_i72,_s56),_fs4=_slicedToArray(_fs3,3),_e63=_fs4[0],_n36=_fs4[1],_l22=_fs4[2];return[_e63,_n36,_l22,_o28];}}throw new Error("Invalid color string: \"".concat(t,"\""));}},{key:"h",value:function h(t){var e=[],i=new Ji(t.toLowerCase());var _loop2=function _loop2(){var t=i.read();(function(){if("r"===t||"h"===t){var _s57=t;if(t+i.peek(3)==="rgb("?_s57+=i.read(3):t+i.peek(4)==="rgba("?_s57+=i.read(4):t+i.peek(3)==="hsl("?_s57+=i.read(3):t+i.peek(4)==="hsla("&&(_s57+=i.read(4)),_s57!==t)return void e.push({type:"FUNCTION",text:_s57});}if("#"===t){if(ks(t+i.peek(6))){var _s58=t+i.read(6);return void e.push({type:"HEX",text:_s58});}if(ks(t+i.peek(3))){var _s59=t+i.read(3);return void e.push({type:"HEX",text:_s59});}}if(["0","1","2","3","4","5","6","7","8","9",".","-"].includes(t)){var _s60=t;for(;["0","1","2","3","4","5","6","7","8","9","."].includes(i.peek());){_s60+=i.read();}"%"===i.peek()?(_s60+=i.read(),e.push({type:"PERCENTAGE",text:_s60})):e.push({type:"NUM",text:_s60});}else /\u0009|\u000a|\u000c|\u000d|\u0020/.test(t)||e.push({type:"CHAR",text:t});})();};for(;null!==i.peek();){_loop2();}return e;}}]);return Ms;}();_defineProperty(Ms,"i",{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]});var Ps=document.createElement("template"),Ds=function Ds(t){var i=[];for(var _len7=arguments.length,e=new Array(_len7>1?_len7-1:0),_key7=1;_key7<_len7;_key7++){e[_key7-1]=arguments[_key7];}for(var _s61=0;_s61<t.length;_s61+=1){i.push(t[_s61]),void 0!==e[_s61]&&i.push(e[_s61]);}var s=i.join("");Ps.innerHTML=s;var n=document.importNode(Ps.content,!0);return 1===n.children.length?n.firstElementChild:n;},zs=function zs(t){var i=[];for(var _len8=arguments.length,e=new Array(_len8>1?_len8-1:0),_key8=1;_key8<_len8;_key8++){e[_key8-1]=arguments[_key8];}for(var _s62=0;_s62<t.length;_s62+=1){i.push(t[_s62]),void 0!==e[_s62]&&i.push(e[_s62]);}var s=i.join(""),n=new CSSStyleSheet();return n.replaceSync(s),n;},Os=function Os(t){var i=[];for(var _len9=arguments.length,e=new Array(_len9>1?_len9-1:0),_key9=1;_key9<_len9;_key9++){e[_key9-1]=arguments[_key9];}for(var _s63=0;_s63<t.length;_s63+=1){i.push(t[_s63]),void 0!==e[_s63]&&i.push(e[_s63]);}var s="<svg id=\"x-stub\" xmlns=\"http://www.w3.org/2000/svg\">".concat(i.join(""),"</svg>");Ps.innerHTML=s;var n=document.importNode(Ps.content,!0),o=n.querySelector("svg#x-stub");if(1===o.children.length)return o.firstElementChild;for(var _i73=0,_arr6=_toConsumableArray(o.childNodes);_i73<_arr6.length;_i73++){var _t78=_arr6[_i73];n.appendChild(_t78);}return o.remove(),n;},Es={},Ts=function Ts(t){return new Promise(/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(e){var _i74,_iterator63,_step63,_e64;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!Es[t]){_context.next=4;break;}Es[t].iconset?e(Es[t].iconset):Es[t].callbacks.push(e);_context.next=18;break;case 4:Es[t]={callbacks:[e],iconset:null};_i74=null;_context.prev=6;_context.next=9;return fetch(t);case 9:_context.next=11;return _context.sent.text();case 11:_i74=_context.sent;_context.next=17;break;case 14:_context.prev=14;_context.t0=_context["catch"](6);_i74=null;case 17:if(_i74){Es[t].iconset=Os(_templateObject(),_i74);_iterator63=_createForOfIteratorHelper(Es[t].callbacks);try{for(_iterator63.s();!(_step63=_iterator63.n()).done;){_e64=_step63.value;_e64(Es[t].iconset);}}catch(err){_iterator63.e(err);}finally{_iterator63.f();}}else console.error("Xel failed to fetch the iconset: ".concat(t));case 18:case"end":return _context.stop();}}},_callee,null,[[6,14]]);}));return function(_x2){return _ref7.apply(this,arguments);};}());};var As=new(_temp2=/*#__PURE__*/function(_ref8){_inherits(_temp2,_ref8);var _super=_createSuper(_temp2);_createClass(_temp2,[{key:"theme",get:function get(){return this.l;},set:function set(t){var e=document.head.querySelector(':scope > meta[name="xel-theme"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-theme"),document.head.append(e)),e.setAttribute("content",t);}},{key:"accentColor",get:function get(){return this.u;},set:function set(t){var e=document.head.querySelector(':scope > meta[name="xel-accent-color"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-accent-color"),document.head.append(e)),e.setAttribute("content",t);}},{key:"size",get:function get(){return this.p;},set:function set(t){var e=document.head.querySelector(':scope > meta[name="xel-size"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-size"),document.head.append(e)),e.setAttribute("content",t);}},{key:"iconset",get:function get(){return this.m;},set:function set(t){var e=document.head.querySelector(':scope > meta[name="xel-iconset"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-iconset"),document.head.append(e)),e.setAttribute("content",t);}},{key:"whenThemeReady",get:function get(){var _this2=this;return new Promise(function(t){null===_this2.g?t():_this2.g.push(t);});}},{key:"whenIconsetReady",get:function get(){var _this3=this;return new Promise(function(t){null===_this3.v?t():_this3.v.push(t);});}},{key:"themeStyleSheet",get:function get(){return this.k;}},{key:"iconsetElement",get:function get(){return this.Ns;}},{key:"presetAccentColors",get:function get(){var t={};var _iterator64=_createForOfIteratorHelper(this.k.cssRules),_step64;try{for(_iterator64.s();!(_step64=_iterator64.n()).done;){var _e65=_step64.value;if(1===_e65.type&&"body"===_e65.selectorText&&_e65.styleMap.has("--preset-accent-colors")){var _i75=_e65.styleMap.get("--preset-accent-colors");if(_i75&&_i75[0]){var _e66=_i75[0].split(",").map(function(t){return t.trim();}).map(function(t){return t.split(" ");});t=Object.fromEntries(_e66);}break;}}}catch(err){_iterator64.e(err);}finally{_iterator64.f();}return t;}}]);function _temp2(){var _temp,_this;_classCallCheck(this,_temp2);(_temp=_this=_super.call(this),_defineProperty(_assertThisInitialized(_this),"l",null),_defineProperty(_assertThisInitialized(_this),"u",null),_defineProperty(_assertThisInitialized(_this),"p",null),_defineProperty(_assertThisInitialized(_this),"m",null),_defineProperty(_assertThisInitialized(_this),"k",new CSSStyleSheet()),_defineProperty(_assertThisInitialized(_this),"Ns",null),_defineProperty(_assertThisInitialized(_this),"g",[]),_defineProperty(_assertThisInitialized(_this),"v",[]),_temp),document.adoptedStyleSheets=[_this.k];var _this$C=_this.C(),t=_this$C.theme,e=_this$C.accentColor,i=_this$C.size,s=_this$C.iconset;_this.l=t,_this.u=e,_this.p=i,_this.m=s,null!==_this.l&&_this.S(_this.l),null!==_this.m&&_this.A(_this.m),new MutationObserver(function(t){return _this.L(t);}).observe(document.head,{attributes:!0,subtree:!0});return _this;}_createClass(_temp2,[{key:"L",value:function L(t){var _this4=this;var e=this.l,i=this.u,s=this.p,n=this.m,_this$C2=this.C(),o=_this$C2.theme,l=_this$C2.accentColor,h=_this$C2.size,a=_this$C2.iconset;this.l=o,this.u=l,this.p=h,this.m=a,this.l!==e&&this.S(this.l).then(function(){_this4.dispatchEvent(new CustomEvent("themechange"));}),this.u!==i&&(this.T(),this.dispatchEvent(new CustomEvent("accentcolorchange"))),this.p!==s&&this.dispatchEvent(new CustomEvent("sizechange")),this.m!==n&&this.A(this.m).then(function(){_this4.dispatchEvent(new CustomEvent("iconsetchange"));});}},{key:"M",value:function M(t){var _this5=this;return new Promise(/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(e){var i,s,_iterator65,_step65,_step65$value,_t79,_e67,_i76;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(t);case 2:i=_context2.sent;_context2.next=5;return i.text();case 5:s=_context2.sent;_iterator65=_createForOfIteratorHelper(_this5.D(s));_context2.prev=7;_iterator65.s();case 9:if((_step65=_iterator65.n()).done){_context2.next=17;break;}_step65$value=_slicedToArray(_step65.value,2),_t79=_step65$value[0],_e67=_step65$value[1];_context2.next=13;return _this5.M(_t79);case 13:_i76=_context2.sent;s=s.replace(_e67,_i76);case 15:_context2.next=9;break;case 17:_context2.next=22;break;case 19:_context2.prev=19;_context2.t0=_context2["catch"](7);_iterator65.e(_context2.t0);case 22:_context2.prev=22;_iterator65.f();return _context2.finish(22);case 25:e(s);case 26:case"end":return _context2.stop();}}},_callee2,null,[[7,19,22,25]]);}));return function(_x3){return _ref9.apply(this,arguments);};}());}},{key:"S",value:function S(t){var _this6=this;return new Promise(/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee3(e){var i,_iterator66,_step66,_t80;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:null===_this6.g&&(_this6.g=[]);_context3.next=3;return _this6.M(t);case 3:i=_context3.sent;_context3.next=6;return _this6.k.replace(i);case 6:_this6.T();_this6.$();if(!(null!==_this6.g)){_context3.next=12;break;}_iterator66=_createForOfIteratorHelper(_this6.g);try{for(_iterator66.s();!(_step66=_iterator66.n()).done;){_t80=_step66.value;_t80();}}catch(err){_iterator66.e(err);}finally{_iterator66.f();}_this6.g=null;case 12:e();case 13:case"end":return _context3.stop();}}},_callee3);}));return function(_x4){return _ref10.apply(this,arguments);};}());}},{key:"A",value:function A(t){var _this7=this;return new Promise(/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee4(e){var i,_iterator67,_step67,_t81;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:null===_this7.v&&(_this7.v=[]);_context4.next=3;return Ts(t);case 3:i=_context4.sent;_this7.Ns=i;_iterator67=_createForOfIteratorHelper(_this7.v);try{for(_iterator67.s();!(_step67=_iterator67.n()).done;){_t81=_step67.value;_t81();}}catch(err){_iterator67.e(err);}finally{_iterator67.f();}_this7.v=null,e();case 8:case"end":return _context4.stop();}}},_callee4);}));return function(_x5){return _ref11.apply(this,arguments);};}());}},{key:"$",value:function(){var _$=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee5(){var t,e;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this.whenThemeReady;case 2:t=document.head.querySelector('meta[name="theme-color"]'),e=getComputedStyle(document.body).getPropertyValue("--titlebar-color").trim()||"auto";"auto"===e?t&&t.remove():(null===t&&(t=document.createElement("meta"),t.setAttribute("name","theme-color"),document.head.append(t)),t.setAttribute("content",e));case 4:case"end":return _context5.stop();}}},_callee5,this);}));function $(){return _$.apply(this,arguments);}return $;}()},{key:"T",value:function(){var _T=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee6(){var t,_Ms$parse,_Ms$parse2,e,i,s,n,o;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return this.whenThemeReady;case 2:t=this.u||this.presetAccentColors.blue;this.presetAccentColors[t]&&(t=this.presetAccentColors[t]);_Ms$parse=new Ms().parse(t,"hsla"),_Ms$parse2=_slicedToArray(_Ms$parse,4),e=_Ms$parse2[0],i=_Ms$parse2[1],s=_Ms$parse2[2],n=_Ms$parse2[3],o=_toConsumableArray(this.k.cssRules).reverse().find(function(t){return 1===t.type&&"body"===t.selectorText;});o.styleMap.set("--accent-color-h",e),o.styleMap.set("--accent-color-s","".concat(i,"%")),o.styleMap.set("--accent-color-l","".concat(s,"%")),o.styleMap.set("--accent-color-a",n);case 6:case"end":return _context6.stop();}}},_callee6,this);}));function T(){return _T.apply(this,arguments);}return T;}()},{key:"C",value:function C(){var t=document.head.querySelector(':scope > meta[name="xel-theme"]'),e=document.head.querySelector(':scope > meta[name="xel-accent-color"]'),i=document.head.querySelector(':scope > meta[name="xel-size"]'),s=document.head.querySelector(':scope > meta[name="xel-iconset"]');return{theme:t&&""!==t.content?t.content:null,accentColor:e&&""!==e.content?e.content:null,size:i&&""!==i.content?i.content:null,iconset:s&&""!==s.content?s.content:null};}},{key:"D",value:function D(t){var e=[],i=-1;for(;;){var _s64=t.indexOf("@import",i);if(!(_s64>-1))break;{var _n37=t.indexOf(";",_s64),_o29=t.indexOf("/",_s64),_l23=t.indexOf(".css",_o29)+".css".length,_h15=t.substring(_o29,_l23);e.push([_h15,t.substring(_s64,_n37+1)]),i=_l23;}}return e;}}]);return _temp2;}((_temp3=/*#__PURE__*/function(){function _temp3(){_classCallCheck(this,_temp3);_defineProperty(this,"o",{});}_createClass(_temp3,[{key:"addEventListener",value:function addEventListener(t,e){this.o||(this.o={});var i=this.o[t];i||(this.o[t]=i=[]),i.push(e),i.length>1e4&&console.warn("Potential EventEmitter memory leak: ".concat(i.length," listeners subscribed to event \"").concat(t,"\""));}},{key:"removeEventListener",value:function removeEventListener(t,e){if(this.o&&this.o[t]){for(var i=[],s=0;s<this.o[t].length;s+=1){this.o[t][s]!==e&&i.push(this.o[t][s]);}this.o[t]=i;}}},{key:"dispatchEvent",value:function dispatchEvent(t){if(!this.o)return;var e=this.o[t.type];if(!e)return;var i=null;for(var _s65=e.length-1;_s65>=0;_s65-=1){var _n38=void 0,_o30=e[_s65];try{_n38=_o30.call(window,t);}catch(t){null===i&&(i=t);}if(!1===_n38)break;}if(i)throw i;}}]);return _temp3;}(),_temp3)),_temp2)();if(!1===MouseEvent.prototype.hasOwnProperty("pointerType")&&Object.defineProperty(MouseEvent.prototype,"pointerType",{get:function get(){return this.sourceCapabilities.firesTouchEvents?"touch":"mouse";}}),Element.prototype.setPointerCapture){var _t82=Element.prototype.setPointerCapture;Element.prototype.setPointerCapture=function(e){var _this8=this;_t82.call(this,e);var i=getComputedStyle(this).cursor,s=[];for(var _t83=this.parentNode||this.host;_t83&&_t83!==document;_t83=_t83.parentNode||_t83.host){if(_t83.nodeType===document.DOCUMENT_FRAGMENT_NODE){var _e68=document.createElementNS(_t83.host.namespaceURI,"style");_e68.textContent="* { cursor: ".concat(i," !important; user-select: none !important; }"),_t83.append(_e68),s.push(_e68);}else if(_t83.nodeType===document.DOCUMENT_NODE){var _e69=document.createElement("style");_e69.textContent="* { cursor: ".concat(i," !important; user-select: none !important; }"),_t83.head.append(_e69),s.push(_e69);}}var n=function n(){window.removeEventListener("pointerup",n,!0),_this8.removeEventListener("lostpointercapture",n);var _iterator68=_createForOfIteratorHelper(s),_step68;try{for(_iterator68.s();!(_step68=_iterator68.n()).done;){var _t84=_step68.value;_t84.remove();}}catch(err){_iterator68.e(err);}finally{_iterator68.f();}};window.addEventListener("pointerup",n,!0),this.addEventListener("lostpointercapture",n);};}Object.defineProperty(Animation.prototype,"finished",{get:function get(){var _this9=this;return new Promise(function(t){"finished"===_this9.playState?t():_this9.addEventListener("finish",function(){return t();},{once:!0});});}}),Object.defineProperty(HTMLHeadingElement.prototype,"disabled",{enumerable:!1,configurable:!1,get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}),Object.defineProperty(HTMLParagraphElement.prototype,"disabled",{enumerable:!1,configurable:!1,get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}),Node.prototype.append||(Node.prototype.append=function(t){this.appendChild(t);}),Node.prototype.prepend||(Node.prototype.prepend=function(t){this.insertBefore(t,this.firstElementChild);}),Node.prototype.before||(Node.prototype.before=function(t){this.parentElement.insertBefore(t,this);}),Node.prototype.after||(Node.prototype.after=function(t){this.parentElement.insertBefore(t,this.nextElementSibling);}),Node.prototype.closest||(Node.prototype.closest=function(t){return this.parentNode?this.parentNode.closest(t):null;}),Node.prototype.replaceWith||(Node.prototype.replaceWith=function(t){this.parentNode.replaceChild(t,this);});var $s=HTMLDialogElement.prototype.showModal,Is=HTMLDialogElement.prototype.close,Ls=[],Bs={get open(){return this.hasAttribute("open");},showModal:function showModal(){var _arguments=arguments,_this10=this;return new Promise(/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee7(t){var _t86,_t87,_t88,_e70,_i77,_s66,_t89,_t90,_e71,_i79,_t91,_e72,_i81,_s67,_n39;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:if(!(!0!==_this10.open&&!1!==_this10.isConnected)){_context7.next=25;break;}_context7.t0=_this10.P;if(!_context7.t0){_context7.next=5;break;}_context7.next=5;return _this10.P.finished;case 5:_context7.t1=_this10.R;if(!_context7.t1){_context7.next=9;break;}_context7.next=9;return _this10.R.finished;case 9:$s.apply(_this10,_arguments);document.body.style.overflow="hidden",Ls.push(_this10),_this10.addEventListener("close",_t86=function _t85(e){e.target===_this10&&(_this10.removeEventListener("close",_t86),Ls=Ls.filter(function(t){return t!==_this10;}),0===Ls.length&&(document.body.style.overflow=null));});_t87=_this10.querySelector("[autofocus]");_t87?_t87.focus():_this10.focus();if(!1===_this10.hasAttribute("hidden")){_t88=getComputedStyle(_this10),_e70=_t88.getPropertyValue("transition-property"),_i77=1e3*parseFloat(_t88.getPropertyValue("transition-duration")),_s66=_t88.getPropertyValue("transition-timing-function");if("transform"===_e70){_t89=_this10.getBoundingClientRect();"0px"===getComputedStyle(_this10).left&&"0px"!==getComputedStyle(_this10).right?_this10.P=_this10.animate({transform:["translateX(-".concat(_t89.right,"px)"),"translateX(0px)"]},{duration:_i77,easing:_s66}):"0px"===getComputedStyle(_this10).right&&"0px"!==getComputedStyle(_this10).left?_this10.P=_this10.animate({transform:["translateX(".concat(_t89.width,"px)"),"translateX(0px)"]},{duration:_i77,easing:_s66}):_this10.P=_this10.animate({transform:["translateY(-".concat(_t89.bottom,"px)"),"translateY(0px)"]},{duration:_i77,easing:_s66});}}_this10.addEventListener("keydown",_t90=function _t90(t){"Escape"===t.key&&t.preventDefault();}),document.addEventListener("keydown",_e71=function _e71(t){"Escape"===t.key&&t.target===document.body&&t.preventDefault();}),_this10.addEventListener("close",_i79=function _i78(s){s.target===_this10&&(_this10.removeEventListener("close",_i79),_this10.removeEventListener("keydown",_t90),document.removeEventListener("keydown",_e71));});_s67=!0,_n39=function _n39(t){var e=_this10.getBoundingClientRect();return t.clientX>=e.x&&t.clientX<=e.x+e.width&&t.clientY>=e.y&&t.clientY<=e.y+e.height;};_this10.addEventListener("pointerdown",_t91=function _t91(t){_s67=!1===_n39(t);}),_this10.addEventListener("click",_e72=function _e72(t){!0===t.isTrusted&&!1===t.defaultPrevented&&!0===_s67&&!1===_n39(t)&&!0===_this10.hasAttribute("open")&&(_this10.close(),_this10.dispatchEvent(new CustomEvent("userclose")));}),_this10.addEventListener("close",_i81=function _i80(s){s.target===_this10&&(_this10.removeEventListener("pointerdown",_t91),_this10.removeEventListener("click",_e72),_this10.removeEventListener("close",_i81));});_context7.t2=_this10.P;if(!_context7.t2){_context7.next=22;break;}_context7.next=21;return _this10.P.finished;case 21:_this10.P=null;case 22:t();_context7.next=26;break;case 25:t();case 26:case"end":return _context7.stop();}}},_callee7);}));return function(_x6){return _ref12.apply(this,arguments);};}());},close:function close(){var _arguments2=arguments,_this11=this;return new Promise(/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee8(t){var _t92,_e73,_i82,_s68,_n40,_t93;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.t0=_this11.P;if(!_context8.t0){_context8.next=4;break;}_context8.next=4;return _this11.P.finished;case 4:_context8.t1=_this11.R;if(!_context8.t1){_context8.next=8;break;}_context8.next=8;return _this11.R.finished;case 8:if(!(!1===_this11.hasAttribute("hidden"))){_context8.next=16;break;}_t92=getComputedStyle(_this11),_e73=_t92.getPropertyValue("transition-property"),_i82=_t92.getPropertyValue("transition-duration")||"0s",_s68=1e3*parseFloat(_i82),_n40=_t92.getPropertyValue("transition-timing-function")||"ease";if(!("transform"===_e73)){_context8.next=16;break;}_t93=_this11.getBoundingClientRect();"0px"===getComputedStyle(_this11).left&&"0px"!==getComputedStyle(_this11).right?_this11.R=_this11.animate({transform:["translateX(0px)","translateX(-".concat(_t93.right,"px)")]},{duration:_s68,easing:_n40}):"0px"===getComputedStyle(_this11).right&&"0px"!==getComputedStyle(_this11).left?_this11.R=_this11.animate({transform:["translateX(0px)","translateX(".concat(_t93.width,"px)")]},{duration:_s68,easing:_n40}):_this11.R=_this11.animate({transform:["translateY(0px)","translateY(-".concat(_t93.bottom+50,"px)")]},{duration:_s68,easing:_n40});_context8.next=15;return _this11.R.finished;case 15:_this11.R=null;case 16:_this11.hasAttribute("open")&&Is.apply(_this11,_arguments2),t();case 17:case"end":return _context8.stop();}}},_callee8);}));return function(_x7){return _ref13.apply(this,arguments);};}());}};for(var _i83=0,_Object$entries=Object.entries(Object.getOwnPropertyDescriptors(Bs));_i83<_Object$entries.length;_i83++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i83],2),_t94=_Object$entries$_i[0],_e74=_Object$entries$_i[1];Object.defineProperty(HTMLDialogElement.prototype,_t94,_e74);}var Rs=/*#__PURE__*/function(_HTMLElement){_inherits(Rs,_HTMLElement);var _super2=_createSuper(Rs);_createClass(Rs,[{key:"expanded",get:function get(){return this.hasAttribute("expanded");},set:function set(t){t?this.setAttribute("expanded",""):this.removeAttribute("expanded");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Rs(){var _temp4,_this12;_classCallCheck(this,Rs);(_temp4=_this12=_super2.call(this),_defineProperty(_assertThisInitialized(_this12),"I",{}),_defineProperty(_assertThisInitialized(_this12),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this12),"O",null),_defineProperty(_assertThisInitialized(_this12),"B",null),_defineProperty(_assertThisInitialized(_this12),"H",null),_temp4),_this12._shadowRoot=_this12.attachShadow({mode:"closed"}),_this12._shadowRoot.adoptedStyleSheets=[Rs._shadowStyleSheet],_this12._shadowRoot.append(document.importNode(Rs._shadowTemplate.content,!0));var _iterator69=_createForOfIteratorHelper(_this12._shadowRoot.querySelectorAll("[id]")),_step69;try{for(_iterator69.s();!(_step69=_iterator69.n()).done;){var _t95=_step69.value;_this12.I[_t95.id]=_t95;}}catch(err){_iterator69.e(err);}finally{_iterator69.f();}_this12.O=new ResizeObserver(function(){return _this12.F();}),_this12.addEventListener("click",function(t){return _this12.N(t);}),_this12.I.arrow.addEventListener("keydown",function(t){return _this12.q(t);});return _this12;}_createClass(Rs,[{key:"connectedCallback",value:function connectedCallback(){var _this13=this;this.U(),As.addEventListener("sizechange",this.B=function(){return _this13.U();}),this.O.observe(this);}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.B),this.O.unobserve(this);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("expanded"===t?this.F():"size"===t&&this.U());}},{key:"expand",value:function expand(){var _this14=this;return new Promise(/*#__PURE__*/function(){var _ref14=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee9(t){var _t96,_e75,_i84;return regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:if(!(!1===_this14.expanded)){_context9.next=10;break;}_t96=_this14.getBoundingClientRect();_this14.H&&_this14.H.finish(),_this14.expanded=!0,_this14.removeAttribute("animating");_e75=_this14.getBoundingClientRect();_this14.setAttribute("animating","");_i84=_this14.animate({height:[_t96.height+"px",_e75.height+"px"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_this14.H=_i84;_context9.next=9;return _i84.finished;case 9:_this14.H===_i84&&_this14.removeAttribute("animating");case 10:t();case 11:case"end":return _context9.stop();}}},_callee9);}));return function(_x8){return _ref14.apply(this,arguments);};}());}},{key:"collapse",value:function collapse(){var _this15=this;return new Promise(/*#__PURE__*/function(){var _ref15=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee10(t){var _t97,_e76,_i85;return regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:if(!(!0===_this15.expanded)){_context10.next=10;break;}_t97=_this15.getBoundingClientRect();_this15.H&&_this15.H.finish(),_this15.expanded=!1,_this15.removeAttribute("animating");_e76=_this15.getBoundingClientRect();_this15.setAttribute("animating","");_i85=_this15.animate({height:[_t97.height+"px",_e76.height+"px"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_this15.H=_i85;_context10.next=9;return _i85.finished;case 9:_this15.H===_i85&&_this15.removeAttribute("animating");case 10:t();case 11:case"end":return _context10.stop();}}},_callee10);}));return function(_x9){return _ref15.apply(this,arguments);};}());}},{key:"F",value:function F(){var t=this.querySelector(":scope > header");this.I["arrow-container"].style.height=t?t.getBoundingClientRect().height+"px":null;}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"q",value:function q(t){"Enter"===t.key&&this.querySelector("header").click();}},{key:"N",value:function N(t){var e=this.querySelector("header"),i=t.target.closest("[tabindex]");e.contains(t.target)&&!1===this.contains(i)&&(this.expanded?(this.collapse(),this.dispatchEvent(new CustomEvent("collapse"))):(this.expand(),this.dispatchEvent(new CustomEvent("expand"))));}}]);return Rs;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Rs,"observedAttributes",["expanded","size"]);_defineProperty(Rs,"_shadowTemplate",Ds(_templateObject109()));_defineProperty(Rs,"_shadowStyleSheet",zs(_templateObject110()));customElements.define("x-accordion",Rs);var Gs=/*#__PURE__*/function(_HTMLElement2){_inherits(Gs,_HTMLElement2);var _super3=_createSuper(Gs);_createClass(Gs,[{key:"ownerElement",get:function get(){return this.j?this.j:document.body.firstElementChild;},set:function set(t){this.j=t;}}]);function Gs(){var _temp5,_this16;_classCallCheck(this,Gs);(_temp5=_this16=_super3.call(this),_defineProperty(_assertThisInitialized(_this16),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this16),"j",null),_temp5),_this16._shadowRoot=_this16.attachShadow({mode:"closed"}),_this16._shadowRoot.adoptedStyleSheets=[Gs._shadowStyleSheet],_this16.addEventListener("pointerdown",function(t){return t.preventDefault();});return _this16;}_createClass(Gs,[{key:"connectedCallback",value:function connectedCallback(){this.addEventListener("wheel",this.K=function(t){return t.preventDefault();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.removeEventListener("wheel",this.K);}},{key:"show",value:function show(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;this.title="",this.style.top="0px",this.style.left="0px",this.ownerElement.before(this),this.hidden=!1;var e=this.getBoundingClientRect(),i=0,s=0;0===e.top&&0===e.left||(i=-e.top,s=-e.left);{var _t98=parseFloat(getComputedStyle(this.ownerElement).zIndex);this.style.zIndex=_t98-1;}if(this.style.top=i+"px",this.style.left=s+"px",t)return this.animate({opacity:["0","1"]},{duration:100,easing:"ease-out"}).finished;}},{key:"hide",value:function hide(){var _this17=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if(t){var _t99=this.animate({opacity:["1","0"]},{duration:100,easing:"ease-in"});return _t99.finished.then(function(){_this17.remove();}),_t99.finished;}this.remove();}}]);return Gs;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Gs,"_shadowStyleSheet",zs(_templateObject111()));customElements.define("x-backdrop",Gs);var Fs=/*#__PURE__*/function(_HTMLElement3){_inherits(Fs,_HTMLElement3);var _super4=_createSuper(Fs);_createClass(Fs,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)";},set:function set(t){this.setAttribute("value",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Fs(){var _temp6,_this18;_classCallCheck(this,Fs);(_temp6=_this18=_super4.call(this),_defineProperty(_assertThisInitialized(_this18),"X",0),_defineProperty(_assertThisInitialized(_this18),"V",0),_defineProperty(_assertThisInitialized(_this18),"Z",80),_defineProperty(_assertThisInitialized(_this18),"G",1),_defineProperty(_assertThisInitialized(_this18),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this18),"I",{}),_defineProperty(_assertThisInitialized(_this18),"B",null),_defineProperty(_assertThisInitialized(_this18),"Y",!1),_defineProperty(_assertThisInitialized(_this18),"W",!1),_defineProperty(_assertThisInitialized(_this18),"J",!1),_defineProperty(_assertThisInitialized(_this18),"tt",!1),_temp6),_this18._shadowRoot=_this18.attachShadow({mode:"closed"}),_this18._shadowRoot.adoptedStyleSheets=[Fs._shadowStyleSheet],_this18._shadowRoot.append(document.importNode(Fs._shadowTemplate.content,!0));var _iterator70=_createForOfIteratorHelper(_this18._shadowRoot.querySelectorAll("[id]")),_step70;try{for(_iterator70.s();!(_step70=_iterator70.n()).done;){var _t100=_step70.value;_this18.I[_t100.id]=_t100;}}catch(err){_iterator70.e(err);}finally{_iterator70.f();}_this18.I["hue-slider"].addEventListener("pointerdown",function(t){_this18.et(t);}),_this18.I["saturation-slider"].addEventListener("pointerdown",function(t){_this18.it(t);}),_this18.I["lightness-slider"].addEventListener("pointerdown",function(t){_this18.st(t);}),_this18.I["alpha-slider"].addEventListener("pointerdown",function(t){_this18.ht(t);});return _this18;}_createClass(Fs,[{key:"connectedCallback",value:function connectedCallback(){var _this19=this;this.nt(),this.U(),As.addEventListener("sizechange",this.B=function(){return _this19.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"size"===t&&this.lt());}},{key:"nt",value:function nt(){this.at(),this.rt(),this.dt(),this.ut(),this.ct(),this.bt(),this.gt();}},{key:"at",value:function at(){this.I["hue-slider-marker"].style.left=ls(this.X,0,360,0)/360*100+"%";}},{key:"rt",value:function rt(){this.I["saturation-slider-marker"].style.left=ls(this.V,0,100,2)+"%";}},{key:"ut",value:function ut(){this.I["lightness-slider-marker"].style.left=ls(this.Z,0,100,2)+"%";}},{key:"bt",value:function bt(){this.I["alpha-slider-marker"].style.left=ls(100*(1-this.G),0,100,2)+"%";}},{key:"dt",value:function dt(){var t=this.X;this.I["saturation-slider"].style.background="linear-gradient(\n      to right, hsl(".concat(t,", 0%, 50%), hsl(").concat(t,", 100%, 50%)\n    )");}},{key:"ct",value:function ct(){var t=this.X,e=this.V;this.I["lightness-slider"].style.background="linear-gradient(\n      to right, hsl(".concat(t,", ").concat(e,"%, 0%), hsl(").concat(t,", ").concat(e,"%, 50%), hsl(").concat(t,", ").concat(e,"%, 100%)\n    )");}},{key:"gt",value:function gt(){var t=this.X,e=this.V,i=this.Z;this.I["alpha-slider-gradient"].style.background="\n      linear-gradient(to right, hsla(".concat(t,", ").concat(e,"%, ").concat(i,"%, 1), hsla(").concat(t,", ").concat(e,"%, ").concat(i,"%, 0))\n    ");}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){if(!1===this.Y&&!1===this.W&&!1===this.J&&!1===this.tt){var _Ms$parse3=new Ms().parse(this.value,"hsla"),_Ms$parse4=_slicedToArray(_Ms$parse3,4),_t101=_Ms$parse4[0],_e77=_Ms$parse4[1],_i86=_Ms$parse4[2],_s69=_Ms$parse4[3];this.X=_t101,this.V=_e77,this.Z=_i86,this.G=_s69,this.nt();}}},{key:"lt",value:function lt(){this.U();}},{key:"et",value:function et(t){var _this20=this;if(1!==t.buttons)return;var e,_i87,s=this.I["hue-slider-track"].getBoundingClientRect();this.Y=!0,this.I["hue-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=(t-s.x)/s.width*360;e=ls(e,0,360,0),e!==_this20.X&&(_this20.X=e,_this20.value=vs([_this20.X,_this20.V,_this20.Z,_this20.G],"hsla","hsla"),_this20.at(),_this20.dt(),_this20.ct(),_this20.gt(),_this20.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["hue-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["hue-slider"].addEventListener("lostpointercapture",_i87=function i(){_this20.I["hue-slider"].removeEventListener("pointermove",e),_this20.I["hue-slider"].removeEventListener("lostpointercapture",_i87),_this20.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this20.Y=!1;});}},{key:"it",value:function it(t){var _this21=this;if(1!==t.buttons)return;var e,_i88,s=this.I["saturation-slider-track"].getBoundingClientRect();this.W=!0,this.I["saturation-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=(t-s.x)/s.width*100;e=ls(e,0,100,0),e!==_this21.V&&(_this21.V=e,_this21.value=vs([_this21.X,_this21.V,_this21.Z,_this21.G],"hsla","hsla"),_this21.rt(),_this21.dt(),_this21.ct(),_this21.gt(),_this21.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["saturation-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["saturation-slider"].addEventListener("lostpointercapture",_i88=function i(){_this21.I["saturation-slider"].removeEventListener("pointermove",e),_this21.I["saturation-slider"].removeEventListener("lostpointercapture",_i88),_this21.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this21.W=!1;});}},{key:"st",value:function st(t){var _this22=this;if(1!==t.buttons)return;var e,_i89,s=this.I["lightness-slider-track"].getBoundingClientRect();this.J=!0,this.I["lightness-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=(t-s.x)/s.width*100;e=ls(e,0,100,0),e!==_this22.Z&&(_this22.Z=e,_this22.value=vs([_this22.X,_this22.V,_this22.Z,_this22.G],"hsla","hsla"),_this22.ut(),_this22.dt(),_this22.ct(),_this22.gt(),_this22.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["lightness-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["lightness-slider"].addEventListener("lostpointercapture",_i89=function i(){_this22.I["lightness-slider"].removeEventListener("pointermove",e),_this22.I["lightness-slider"].removeEventListener("lostpointercapture",_i89),_this22.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this22.J=!1;});}},{key:"ht",value:function ht(t){var _this23=this;if(1!==t.buttons)return;var e,_i90,s=this.I["alpha-slider-track"].getBoundingClientRect();this.tt=!0,this.I["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=1-(t-s.x)/s.width;e=ls(e,0,1,2),e!==_this23.G&&(_this23.G=e,_this23.value=vs([_this23.X,_this23.V,_this23.Z,_this23.G],"hsla","hsla"),_this23.bt(),_this23.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["alpha-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["alpha-slider"].addEventListener("lostpointercapture",_i90=function i(){_this23.I["alpha-slider"].removeEventListener("pointermove",e),_this23.I["alpha-slider"].removeEventListener("lostpointercapture",_i90),_this23.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this23.tt=!1;});}}]);return Fs;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Fs,"observedAttributes",["value","size"]);_defineProperty(Fs,"_shadowTemplate",Ds(_templateObject112()));_defineProperty(Fs,"_shadowStyleSheet",zs(_templateObject113()));customElements.define("x-barscolorpicker",Fs);var Us=/*#__PURE__*/function(_HTMLElement4){_inherits(Us,_HTMLElement4);var _super5=_createSuper(Us);_createClass(Us,[{key:"vertical",get:function get(){return this.hasAttribute("vertical");},set:function set(t){t?this.setAttribute("vertical",""):this.removeAttribute("vertical");}}]);function Us(){var _temp7,_this24;_classCallCheck(this,Us);(_temp7=_this24=_super5.call(this),_defineProperty(_assertThisInitialized(_this24),"_shadowRoot",null),_temp7),_this24._shadowRoot=_this24.attachShadow({mode:"closed"}),_this24._shadowRoot.adoptedStyleSheets=[Us._shadowStyleSheet],_this24._shadowRoot.append(document.importNode(Us._shadowTemplate.content,!0));return _this24;}return Us;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Us,"_shadowTemplate",Ds(_templateObject114()));_defineProperty(Us,"_shadowStyleSheet",zs(_templateObject115()));customElements.define("x-box",Us);var Ns=function Ns(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=t.split(":"),s=null;if(1===i.length){var _i91=_slicedToArray(i,1),_t102=_i91[0];s=null===e?document.createElement(_t102):document.createElement(_t102,e);}else if(2===i.length){var _i92=_slicedToArray(i,2),_t103=_i92[0],_e78=_i92[1];"svg"===_t103&&(s=document.createElementNS("http://www.w3.org/2000/svg",_e78));}return s;},Vs=function Vs(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=t.closest(e);return i&&!s&&t.getRootNode().host?Vs(t.getRootNode().host,e):s;},js=function js(t){return new Promise(function(e,i){setTimeout(function(){return e();},t);});},Hs=function Hs(){return Date.now();},Ys=function Ys(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:500;var i=arguments.length>2?arguments[2]:undefined;var s=null,n=null,o=null,l=0,h=function h(){l=new Date(),n=null,o=t.apply(i,s);};return function(){var r=new Date(),d=e-(r-l);for(var _len10=arguments.length,a=new Array(_len10),_key10=0;_key10<_len10;_key10++){a[_key10]=arguments[_key10];}return s=a,d<=0?(clearTimeout(n),n=null,l=r,o=t.apply(i,s)):n||(n=setTimeout(h,d)),o;};},Ws=function Ws(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var n=null,o=null;return function(){for(var _len11=arguments.length,l=new Array(_len11),_key11=0;_key11<_len11;_key11++){l[_key11]=arguments[_key11];}var h=s&&!n;return clearTimeout(n),n=setTimeout(function(){n=null,s||(o=t.apply(i,l));},e),h&&(o=t.apply(i,l)),o;};},qs=Math.max;var Xs=/*#__PURE__*/function(_HTMLElement5){_inherits(Xs,_HTMLElement5);var _super6=_createSuper(Xs);_createClass(Xs,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"togglable",get:function get(){return this.hasAttribute("togglable");},set:function set(t){t?this.setAttribute("togglable",""):this.removeAttribute("togglable");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"condensed",get:function get(){return this.hasAttribute("condensed");},set:function set(t){t?this.setAttribute("condensed",""):this.removeAttribute("condensed");}},{key:"skin",get:function get(){return this.hasAttribute("skin")?this.getAttribute("skin"):null;},set:function set(t){null===t?this.removeAttribute("skin"):this.setAttribute("skin",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}},{key:"expanded",get:function get(){return this.hasAttribute("expanded");}},{key:"expandable",get:function get(){return this.xt()||this.ft();}},{key:"ownerButtons",get:function get(){if(this.parentElement){if("x-buttons"===this.parentElement.localName)return this.parentElement;if("x-box"===this.parentElement.localName&&this.parentElement.parentElement&&"x-buttons"===this.parentElement.parentElement.localName)return this.parentElement.parentElement;}return null;}}]);function Xs(){var _temp8,_this25;_classCallCheck(this,Xs);(_temp8=_this25=_super6.call(this),_defineProperty(_assertThisInitialized(_this25),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this25),"I",{}),_defineProperty(_assertThisInitialized(_this25),"wt",!1),_defineProperty(_assertThisInitialized(_this25),"vt",null),_defineProperty(_assertThisInitialized(_this25),"yt",0),_defineProperty(_assertThisInitialized(_this25),"B",null),_temp8),_this25._shadowRoot=_this25.attachShadow({mode:"closed"}),_this25._shadowRoot.adoptedStyleSheets=[Xs._shadowStyleSheet],_this25._shadowRoot.append(document.importNode(Xs._shadowTemplate.content,!0));var _iterator71=_createForOfIteratorHelper(_this25._shadowRoot.querySelectorAll("[id]")),_step71;try{for(_iterator71.s();!(_step71=_iterator71.n()).done;){var _t104=_step71.value;_this25.I[_t104.id]=_t104;}}catch(err){_iterator71.e(err);}finally{_iterator71.f();}_this25.addEventListener("pointerdown",function(t){return _this25.zt(t);}),_this25.addEventListener("click",function(t){return _this25.N(t);}),_this25.addEventListener("keydown",function(t){return _this25.kt(t);}),_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee11(){return regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return customElements.whenDefined("x-backdrop");case 2:_this25.I.backdrop=Ns("x-backdrop");_this25.I.backdrop.style.background="rgba(0, 0, 0, 0)";case 4:case"end":return _context11.stop();}}},_callee11);}))();return _this25;}_createClass(Xs,[{key:"connectedCallback",value:function connectedCallback(){var _this26=this;this.parentElement&&"a"===this.parentElement.localName&&-1!==this.parentElement.tabIndex&&(this.parentElement.tabIndex=-1),this.Vs(),this.Ct(),this.U(),As.addEventListener("sizechange",this.B=function(){return _this26.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t?this.Ct():"size"===t&&this.U();}},{key:"expand",value:function expand(){var _this27=this;return new Promise(/*#__PURE__*/function(){var _ref17=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee12(t){return regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:if(!_this27.xt()){_context12.next=5;break;}_context12.next=3;return _this27.St();case 3:_context12.next=9;break;case 5:_context12.t0=_this27.ft();if(!_context12.t0){_context12.next=9;break;}_context12.next=9;return _this27.Et();case 9:t();case 10:case"end":return _context12.stop();}}},_callee12);}));return function(_x10){return _ref17.apply(this,arguments);};}());}},{key:"collapse",value:function collapse(){var _this28=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return new Promise(/*#__PURE__*/function(){var _ref18=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee13(e){return regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:if(!_this28.At()){_context13.next=5;break;}_context13.next=3;return _this28.Lt(t);case 3:_context13.next=9;break;case 5:_context13.t0=_this28.Tt();if(!_context13.t0){_context13.next=9;break;}_context13.next=9;return _this28.Mt(t);case 9:e();case 10:case"end":return _context13.stop();}}},_callee13);}));return function(_x11){return _ref18.apply(this,arguments);};}());}},{key:"St",value:function St(){var _this29=this;return new Promise(/*#__PURE__*/function(){var _ref19=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee14(t){var _t105;return regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:if(!_this29.xt()){_context14.next=9;break;}_t105=_this29.querySelector(":scope > x-menu");_this29.wt=_this29.matches(":focus");_this29.setAttribute("expanded","");_this29.I.backdrop.ownerElement=_t105;_this29.I.backdrop.show(!1);_context14.next=8;return _t105.openNextToElement(_this29,"vertical",3);case 8:_t105.focus();case 9:t();case 10:case"end":return _context14.stop();}}},_callee14);}));return function(_x12){return _ref19.apply(this,arguments);};}());}},{key:"Lt",value:function Lt(){var _this30=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return new Promise(/*#__PURE__*/function(){var _ref20=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee15(e){var _e79,_t106;return regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:if(!_this30.At()){_context15.next=17;break;}_e79=_this30.querySelector(":scope > x-menu");_e79.setAttribute("closing","");_context15.next=5;return t;case 5:_context15.next=7;return _e79.close();case 7:_this30.I.backdrop.hide(!1);_this30.removeAttribute("expanded");_this30.replaceWith(_this30);if(!_this30.wt){_context15.next=14;break;}_this30.focus();_context15.next=16;break;case 14:_t106=Vs(_this30.parentNode,"[tabindex]");_t106&&_t106.focus();case 16:_e79.removeAttribute("closing");case 17:e();case 18:case"end":return _context15.stop();}}},_callee15);}));return function(_x13){return _ref20.apply(this,arguments);};}());}},{key:"xt",value:function xt(){var t=!1;if(!1===this.disabled){var _e80=this.querySelector(":scope > x-menu");_e80&&!1===_e80.hasAttribute("opened")&&!1===_e80.hasAttribute("closing")&&null!==_e80.querySelector("x-menuitem")&&(t=!0);}return t;}},{key:"At",value:function At(){var t=!1;if(!1===this.disabled){var _e81=this.querySelector(":scope > x-menu");_e81&&_e81.opened&&(t=!0);}return t;}},{key:"Et",value:function Et(){var _this31=this;return new Promise(/*#__PURE__*/function(){var _ref21=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee16(t){var _t107;return regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:if(!_this31.ft()){_context16.next=6;break;}_t107=_this31.querySelector(":scope > x-popover");_this31.wt=_this31.matches(":focus");_this31.setAttribute("expanded","");_context16.next=6;return _t107.open(_this31);case 6:t();case 7:case"end":return _context16.stop();}}},_callee16);}));return function(_x14){return _ref21.apply(this,arguments);};}());}},{key:"Mt",value:function Mt(){var _this32=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return new Promise(/*#__PURE__*/function(){var _ref22=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee17(e){var _e82,_t108;return regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:if(!_this32.Tt()){_context17.next=16;break;}_e82=_this32.querySelector(":scope > x-popover");_e82.setAttribute("closing","");_context17.next=5;return t;case 5:_context17.next=7;return _e82.close();case 7:_this32.removeAttribute("expanded");_e82.modal&&_this32.replaceWith(_this32);if(!_this32.wt){_context17.next=13;break;}_this32.focus();_context17.next=15;break;case 13:_t108=Vs(_this32.parentNode,"[tabindex]");_t108&&_t108.focus();case 15:_e82.removeAttribute("closing");case 16:e();case 17:case"end":return _context17.stop();}}},_callee17);}));return function(_x15){return _ref22.apply(this,arguments);};}());}},{key:"ft",value:function ft(){var t=!1;if(!1===this.disabled){var _e83=this.querySelector(":scope > x-popover");_e83&&!1===_e83.hasAttribute("opened")&&(t=!0);}return t;}},{key:"Tt",value:function Tt(){var t=!1;if(!1===this.disabled){var _e84=this.querySelector(":scope > x-popover");_e84&&_e84.opened&&(t=!0);}return t;}},{key:"Dt",value:function Dt(){var _this33=this;return new Promise(function(t){_this33.$t()&&_this33.querySelector(":scope > dialog").showModal(),t();});}},{key:"$t",value:function $t(){var t=!1;if(!1===this.disabled){var _e85=this.querySelector(":scope > dialog");_e85&&!1===_e85.hasAttribute("open")&&!1===_e85.hasAttribute("closing")&&(t=!0);}return t;}},{key:"Pt",value:function Pt(){var _this34=this;return new Promise(function(t){_this34.Rt()&&(_this34.querySelector(":scope > x-notification").opened=!0),t();});}},{key:"Rt",value:function Rt(){var t=!1;if(!1===this.disabled){var _e86=this.querySelector(":scope > x-notification");!_e86||_e86.hasAttribute("opened")||_e86.hasAttribute("closing")||(t=!0);}return t;}},{key:"Vs",value:function Vs(){var t=this.querySelector(":scope > x-menu, :scope > x-popover");this.I.arrow.style.display=t?null:"none";}},{key:"Ct",value:function Ct(){this.setAttribute("role","button"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"zt",value:function zt(t){var e=this.querySelector(":scope > x-menu[opened]"),i=this.querySelector(":scope > x-popover[opened]"),s=this.querySelector(":scope > dialog[open]"),n=this.querySelector(":scope > x-notification[opened]");if(this.vt=t,t.target===this.I.backdrop)this.It(t);else{if(e&&e.contains(t.target))return;if(i&&i.contains(t.target))return;if(s&&s.contains(t.target))return;if(n&&n.contains(t.target))return;this.Ot(t);}}},{key:"N",value:function N(t){var e=this.querySelector(":scope > x-menu[opened]"),i=this.querySelector(":scope > x-popover[opened]"),s=this.querySelector(":scope > dialog[open]"),n=this.querySelector(":scope > x-notification[opened]");if(t.target!==this.I.backdrop)if(e&&e.contains(t.target))!1===e.hasAttribute("closing")&&t.target.closest("x-menuitem")&&this.Bt(t);else{if(i&&i.contains(t.target))return;if(s&&s.contains(t.target))return;if(n&&n.contains(t.target))return;this.Ht(t);}}},{key:"It",value:function It(t){this.collapse();}},{key:"Ot",value:function(){var _Ot=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee20(t){var _this35=this;var _t109,_t110,_e87,_i93,_e88,_e89,_i94,_s70,_n41,_o31,_l24,_t112,_h16,_a12,_t113,_t114,_e90,_i95,_s71,_n42,_o32,_l25,_h17;return regeneratorRuntime.wrap(function _callee20$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:if(!(1===t.buttons)){_context20.next=49;break;}if(!this.querySelector(":scope > dialog[open]")){_context20.next=5;break;}t.preventDefault();_context20.next=47;break;case 5:if(!(!1!==this.contains(t.target))){_context20.next=47;break;}if(this.setPointerCapture(t.pointerId),t.preventDefault(),!1===this.matches(":focus")){_t109=Vs(this.parentNode,"*[tabindex]:not(a)");this.addEventListener("lostpointercapture",function(){_t109?_t109.focus():_this35.blur();},{once:!0});}if(!1===this.xt()&&!1===this.ft()&&!1===this.Tt()){_t110=Date.now(),_e87=!0,_i93=parseInt(getComputedStyle(this).getPropertyValue("--min-pressed-time")||"150ms");this.addEventListener("lostpointercapture",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee18(){var s;return regeneratorRuntime.wrap(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:_e87=!1;s=Date.now()-_t110;_context18.t0=s<_i93;if(!_context18.t0){_context18.next=6;break;}_context18.next=6;return js(_i93-s);case 6:_this35.removeAttribute("pressed");case 7:case"end":return _context18.stop();}}},_callee18);})),{once:!0}),_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee19(){var _t111;return regeneratorRuntime.wrap(function _callee19$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:if(!_this35.ownerButtons){_context19.next=19;break;}if(!(0===_this35.ownerButtons.tracking||2===_this35.ownerButtons.tracking)){_context19.next=6;break;}_context19.next=4;return js(10);case 4:_context19.next=17;break;case 6:if(!(1!==_this35.ownerButtons.tracking||!1!==_this35.toggled&&!_this35.mixed)){_context19.next=15;break;}if(!(3===_this35.ownerButtons.tracking)){_context19.next=13;break;}_t111=_toConsumableArray(_this35.ownerButtons.querySelectorAll(":scope > x-button, :scope > x-box > x-button")).filter(function(t){return t.toggled;});_context19.t0=!1===_this35.toggled||_t111.length>1;if(!_context19.t0){_context19.next=13;break;}_context19.next=13;return js(10);case 13:_context19.next=17;break;case 15:_context19.next=17;return js(10);case 17:_context19.next=23;break;case 19:_context19.t1=_this35.togglable;if(!_context19.t1){_context19.next=23;break;}_context19.next=23;return js(10);case 23:_e87&&_this35.setAttribute("pressed","");case 24:case"end":return _context19.stop();}}},_callee19);}))();}this.xt()?"touch"!==t.pointerType&&this.St():this.ft()?"touch"!==t.pointerType&&this.Et():this.Tt()&&this.Mt();_e88=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if(!("ripple"===_e88)){_context20.next=27;break;}_e89=this.I.ripples.getBoundingClientRect(),_i94=1.5*qs(_e89.width,_e89.height),_s70=t.clientY-_e89.y-_i94/2,_n41=t.clientX-_e89.x-_i94/2,_o31=new Promise(function(t){return _this35.addEventListener("lostpointercapture",t,{once:!0});}),_l24=!0;if(!1===this.expandable)if(this.ownerButtons){if(0===this.ownerButtons.tracking||2===this.ownerButtons.tracking)_l24=!1;else if(1===this.ownerButtons.tracking&&!1===this.toggled)_l24=!1;else if(3===this.ownerButtons.tracking){_t112=_toConsumableArray(this.ownerButtons.querySelectorAll(":scope > x-button, :scope > x-box > x-button")).filter(function(t){return t.toggled;});(!1===this.toggled||_t112.length>1)&&(_l24=!1);}}else this.togglable&&(_l24=!1);_h16=Ns("div");_h16.setAttribute("part","ripple"),_h16.setAttribute("class","ripple pointer-down-ripple"),_h16.setAttribute("style","width: ".concat(_i94,"px; height: ").concat(_i94,"px; top: ").concat(_s70,"px; left: ").concat(_n41,"px;")),this.I.ripples.append(_h16),this.I.ripples.style.contain="strict";_a12=_h16.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context20.next=18;return _o31;case 18:if(!_l24){_context20.next=24;break;}_context20.next=21;return _a12.finished;case 21:_t113=_h16.animate({opacity:[getComputedStyle(_h16).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context20.next=24;return _t113.finished;case 24:_h16.remove();_context20.next=47;break;case 27:if(!("unbounded-ripple"===_e88)){_context20.next=47;break;}_t114=this.I.ripples.getBoundingClientRect(),_e90=1.25*_t114.height,_i95=_t114.y+_t114.height/2-_t114.y-_e90/2,_s71=_t114.x+_t114.width/2-_t114.x-_e90/2,_n42=new Promise(function(t){return _this35.addEventListener("lostpointercapture",t,{once:!0});}),_o32=Ns("div");_o32.setAttribute("part","ripple");_o32.setAttribute("class","ripple pointer-down-ripple");_o32.setAttribute("style","width: ".concat(_e90,"px; height: ").concat(_e90,"px; top: ").concat(_i95,"px; left: ").concat(_s71,"px;"));this.I.ripples.append(_o32);this.I.ripples.style.contain="none";_o32.hidden=!0;_context20.next=37;return js(20);case 37:_o32.hidden=!1;_l25=_o32.animate({transform:["scale(0)","scale(1)"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context20.next=41;return _n42;case 41:_context20.next=43;return _l25.finished;case 43:_h17=_o32.animate({opacity:[getComputedStyle(_o32).opacity||"0","0"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context20.next=46;return _h17.finished;case 46:_o32.remove();case 47:_context20.next=50;break;case 49:t.preventDefault();case 50:case"end":return _context20.stop();}}},_callee20,this);}));function Ot(_x16){return _Ot.apply(this,arguments);}return Ot;}()},{key:"Ht",value:function(){var _Ht=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee21(t){var e,_t115,_t116,_e91,_i96,_s72,_n43,_o33,_l26,_t117,_t118,_e92,_i97,_s73,_n44;return regeneratorRuntime.wrap(function _callee21$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:e=this.querySelector(":scope > x-menu, :scope > x-popover");if(!e){_context21.next=5;break;}if(!e.hasAttribute("closing")){_context21.next=4;break;}return _context21.abrupt("return");case 4:e.focus();case 5:if(!(!1===this.Tt()&&(this.$t()?this.Dt():this.Rt()&&this.Pt()),this.vt&&"touch"===this.vt.pointerType&&(this.xt()?this.St():this.ft()&&this.Et()),this.togglable&&!1===t.defaultPrevented&&(this.removeAttribute("pressed"),this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle"))),null===this.I.ripples.querySelector(".pointer-down-ripple"))){_context21.next=34;break;}_t115=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if(!("ripple"===_t115)){_context21.next=22;break;}_t116=this.I.ripples.getBoundingClientRect(),_e91=1.5*qs(_t116.width,_t116.height),_i96=_t116.y+_t116.height/2-_t116.y-_e91/2,_s72=_t116.x+_t116.width/2-_t116.x-_e91/2,_n43=!0;this.ownerButtons?(0===this.ownerButtons.tracking||2===this.ownerButtons.tracking||3===this.ownerButtons.tracking||1===this.ownerButtons.tracking&&!0===this.toggled)&&(_n43=!1):this.togglable&&(_n43=!1);_o33=Ns("div");_o33.setAttribute("part","ripple"),_o33.setAttribute("class","ripple click-ripple"),_o33.setAttribute("style","width: ".concat(_e91,"px; height: ").concat(_e91,"px; top: ").concat(_i96,"px; left: ").concat(_s72,"px;")),this.I.ripples.append(_o33),this.I.ripples.style.contain="strict";_l26=_o33.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});if(!_n43){_context21.next=19;break;}_context21.next=16;return _l26.finished;case 16:_t117=_o33.animate({opacity:[getComputedStyle(_o33).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context21.next=19;return _t117.finished;case 19:_o33.remove();_context21.next=34;break;case 22:if(!("unbounded-ripple"===_t115)){_context21.next=34;break;}_t118=this.I.ripples.getBoundingClientRect(),_e92=1.35*_t118.height,_i97=_t118.y+_t118.height/2-_t118.y-_e92/2,_s73=_t118.x+_t118.width/2-_t118.x-_e92/2,_n44=Ns("div");_n44.setAttribute("part","ripple");_n44.setAttribute("class","ripple");_n44.setAttribute("style","width: ".concat(_e92,"px; height: ").concat(_e92,"px; top: ").concat(_i97,"px; left: ").concat(_s73,"px;"));this.I.ripples.append(_n44);this.I.ripples.style.contain="none";_context21.next=31;return _n44.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished;case 31:_context21.next=33;return _n44.animate({opacity:[getComputedStyle(_n44).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished;case 33:_n44.remove();case 34:case"end":return _context21.stop();}}},_callee21,this);}));function Ht(_x17){return _Ht.apply(this,arguments);}return Ht;}()},{key:"Bt",value:function Bt(t){var e=t.target.closest("x-menuitem");this.querySelector(":scope > x-menu").hasAttribute("closing")||this.collapse(e.whenTriggerEnd);}},{key:"kt",value:function kt(t){var _this36=this;!1===t.defaultPrevented&&("Enter"===t.code||"Space"===t.code?this.xt()?(t.preventDefault(),this.St().then(function(){return _this36.querySelector(":scope > x-menu").focusFirstMenuItem();})):this.ft()?(t.preventDefault(),this.Et()):this.$t()?(t.preventDefault(),this.Dt()):this.Rt()?(t.preventDefault(),this.Pt()):this.matches(":focus")&&(this.Tt()?this.Mt():this.At()?this.Lt():(t.preventDefault(),this.click())):"ArrowDown"===t.code?this.xt()?(this.querySelector(":scope > x-menu"),t.preventDefault(),this.St().then(function(){return _this36.querySelector(":scope > x-menu").focusFirstMenuItem();})):this.ft()?(t.preventDefault(),this.Et()):(t.preventDefault(),this.click()):"ArrowUp"===t.code?this.xt()?(t.preventDefault(),this.St().then(function(){return _this36.querySelector(":scope > x-menu").focusLastMenuItem();})):this.ft()?(t.preventDefault(),this.Et()):(t.preventDefault(),this.click()):"Escape"===t.code&&(this.At()||this.Tt())&&(t.preventDefault(),this.collapse()));}}]);return Xs;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Xs,"observedAttributes",["disabled","size"]);_defineProperty(Xs,"_shadowTemplate",Ds(_templateObject116()));_defineProperty(Xs,"_shadowStyleSheet",zs(_templateObject117()));customElements.define("x-button",Xs);var Zs=Array.isArray;var Ks=/*#__PURE__*/function(_HTMLElement6){_inherits(Ks,_HTMLElement6);var _super7=_createSuper(Ks);_createClass(Ks,[{key:"tracking",get:function get(){return this.hasAttribute("tracking")?parseInt(this.getAttribute("tracking")):-1;},set:function set(t){this.setAttribute("tracking",t);}},{key:"vertical",get:function get(){return this.hasAttribute("vertical");},set:function set(t){!0===t?this.setAttribute("vertical",""):this.removeAttribute("vertical");}},{key:"value",get:function get(){if(2===this.tracking||3===this.tracking)return this.Ft().filter(function(t){return t.toggled;}).map(function(t){return t.value;}).filter(function(t){return null!=t;});if(1===this.tracking||0===this.tracking){var _t119=this.Ft().find(function(t){return t.toggled;});return _t119&&void 0!==_t119.value?_t119.value:null;}return-1===this.tracking?null:void 0;},set:function set(t){if(2===this.tracking||3===this.tracking){var _e93=this.Ft();if(Zs(t)){var _iterator72=_createForOfIteratorHelper(_e93),_step72;try{for(_iterator72.s();!(_step72=_iterator72.n()).done;){var _i98=_step72.value;_i98.toggled=t.includes(_i98.value);}}catch(err){_iterator72.e(err);}finally{_iterator72.f();}}else{var _iterator73=_createForOfIteratorHelper(_e93),_step73;try{for(_iterator73.s();!(_step73=_iterator73.n()).done;){var _i99=_step73.value;_i99.toggled=_i99.value===t;}}catch(err){_iterator73.e(err);}finally{_iterator73.f();}}}else if(1===this.tracking||0===this.tracking){var _e94=this.Ft(),_i100=_e94.find(function(e){return e.value===t;});var _iterator74=_createForOfIteratorHelper(_e94),_step74;try{for(_iterator74.s();!(_step74=_iterator74.n()).done;){var _t120=_step74.value;_t120.toggled=_t120===_i100;}}catch(err){_iterator74.e(err);}finally{_iterator74.f();}}}}]);function Ks(){var _temp9,_this37;_classCallCheck(this,Ks);(_temp9=_this37=_super7.call(this),_defineProperty(_assertThisInitialized(_this37),"_shadowRoot",null),_temp9),_this37._shadowRoot=_this37.attachShadow({mode:"closed"}),_this37._shadowRoot.adoptedStyleSheets=[Ks._shadowStyleSheet],_this37._shadowRoot.append(document.importNode(Ks._shadowTemplate.content,!0)),_this37.addEventListener("click",function(t){return _this37.N(t);},!0),_this37.addEventListener("keydown",function(t){return _this37.kt(t);});return _this37;}_createClass(Ks,[{key:"connectedCallback",value:function connectedCallback(){var _iterator75=_createForOfIteratorHelper(this.children),_step75;try{for(_iterator75.s();!(_step75=_iterator75.n()).done;){var _t121=_step75.value;if("x-button"===_t121.localName){"none"!==getComputedStyle(_t121).boxShadow?this.setAttribute("hasboxshadow",""):this.removeAttribute("hasboxshadow");break;}}}catch(err){_iterator75.e(err);}finally{_iterator75.f();}}},{key:"Ft",value:function Ft(){return _toConsumableArray(this.querySelectorAll(":scope > x-button, :scope > x-box > x-button"));}},{key:"N",value:function N(t){if(0!==t.button)return;var e=t.target.closest("x-button");if(e&&!1===e.disabled&&!1===e.expandable){var _t122=this.Ft().filter(function(t){return t!==e;});if(0===this.tracking){e.mixed||(e.toggled=!e.toggled),e.mixed=!1;var _iterator76=_createForOfIteratorHelper(_t122),_step76;try{for(_iterator76.s();!(_step76=_iterator76.n()).done;){var _e95=_step76.value;_e95.toggled=!1,_e95.mixed=!1;}}catch(err){_iterator76.e(err);}finally{_iterator76.f();}this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));}else if(1===this.tracking){if(!1===e.toggled||!0===e.mixed){e.toggled=!0,e.mixed=!1;var _iterator77=_createForOfIteratorHelper(_t122),_step77;try{for(_iterator77.s();!(_step77=_iterator77.n()).done;){var _e96=_step77.value;_e96.toggled=!1,_e96.mixed=!1;}}catch(err){_iterator77.e(err);}finally{_iterator77.f();}this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));}}else if(2===this.tracking)e.mixed?e.mixed=!1:e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));else if(3===this.tracking){var _i101=_t122.filter(function(t){return!0===t.toggled;});(!1===e.toggled||_i101.length>0)&&(e.mixed?e.mixed=!1:e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e})));}}}},{key:"kt",value:function kt(t){var e=t.key;if("ArrowRight"===e){var _t123=_toConsumableArray(this.children).find(function(t){return t.matches(":focus");});_t123&&(_t123.nextElementSibling?_t123.nextElementSibling.focus():_t123!==_t123.parentElement.firstElementChild&&_t123.parentElement.firstElementChild.focus());}else if("ArrowLeft"===e){var _t124=_toConsumableArray(this.children).find(function(t){return t.matches(":focus");});_t124&&(_t124.previousElementSibling?_t124.previousElementSibling.focus():_t124!==_t124.parentElement.lastElementChild&&_t124.parentElement.lastElementChild.focus());}}}]);return Ks;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ks,"_shadowTemplate",Ds(_templateObject118()));_defineProperty(Ks,"_shadowStyleSheet",zs(_templateObject119()));customElements.define("x-buttons",Ks);var Qs=/*#__PURE__*/function(_HTMLElement7){_inherits(Qs,_HTMLElement7);var _super8=_createSuper(Qs);function Qs(){var _temp10,_this38;_classCallCheck(this,Qs);(_temp10=_this38=_super8.call(this),_defineProperty(_assertThisInitialized(_this38),"_shadowRoot",null),_temp10),_this38._shadowRoot=_this38.attachShadow({mode:"closed"}),_this38._shadowRoot.adoptedStyleSheets=[Qs._shadowStyleSheet],_this38._shadowRoot.append(document.importNode(Qs._shadowTemplate.content,!0));return _this38;}return Qs;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Qs,"_shadowTemplate",Ds(_templateObject120()));_defineProperty(Qs,"_shadowStyleSheet",zs(_templateObject121()));customElements.define("x-card",Qs);var Js=/*#__PURE__*/function(_HTMLElement8){_inherits(Js,_HTMLElement8);var _super9=_createSuper(Js);_createClass(Js,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Js(){var _temp11,_this39;_classCallCheck(this,Js);(_temp11=_this39=_super9.call(this),_defineProperty(_assertThisInitialized(_this39),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this39),"I",{}),_defineProperty(_assertThisInitialized(_this39),"yt",0),_defineProperty(_assertThisInitialized(_this39),"B",null),_temp11),_this39._shadowRoot=_this39.attachShadow({mode:"closed"}),_this39._shadowRoot.adoptedStyleSheets=[Js._shadowStyleSheet],_this39._shadowRoot.append(document.importNode(Js._shadowTemplate.content,!0));var _iterator78=_createForOfIteratorHelper(_this39._shadowRoot.querySelectorAll("[id]")),_step78;try{for(_iterator78.s();!(_step78=_iterator78.n()).done;){var _t125=_step78.value;_this39.I[_t125.id]=_t125;}}catch(err){_iterator78.e(err);}finally{_iterator78.f();}_this39.addEventListener("pointerdown",function(t){return _this39.zt(t);}),_this39.addEventListener("click",function(t){return _this39.N(t);}),_this39.addEventListener("keydown",function(t){return _this39.kt(t);});return _this39;}_createClass(Js,[{key:"connectedCallback",value:function connectedCallback(){var _this40=this;As.addEventListener("sizechange",this.B=function(){return _this40.U();}),this.Ct(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"toggled"===t?this.Nt():"disabled"===t?this.qt():"size"===t&&this.U();}},{key:"Ct",value:function Ct(){this.setAttribute("role","checkbox"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Nt",value:function Nt(){this.setAttribute("aria-toggled",this.mixed?"mixed":this.toggled);}},{key:"qt",value:function qt(){this.Ct();}},{key:"zt",value:function zt(t){if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();var _e97=Vs(this.parentNode,"[tabindex]");_e97&&_e97.focus();}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){var _e98=Ns("div");_e98.setAttribute("class","ripple pointer-down-ripple"),this.I.ripples.append(_e98);var _i102=_e98.animate({transform:["scale(0)","scale(2.6)"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee22(){var t;return regeneratorRuntime.wrap(function _callee22$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:_context22.next=2;return _i102.finished;case 2:t=_e98.animate({opacity:[getComputedStyle(_e98).opacity,"0"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context22.next=5;return t.finished;case 5:_e98.remove();case 6:case"end":return _context22.stop();}}},_callee22);})),{once:!0});}}else t.preventDefault();}},{key:"N",value:function(){var _N=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee23(t){var _t126;return regeneratorRuntime.wrap(function _callee23$(_context23){while(1){switch(_context23.prev=_context23.next){case 0:if(!(this.mixed?this.mixed=!1:this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0})),null===this.I.ripples.querySelector(".pointer-down-ripple")&&"ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context23.next=9;break;}_t126=Ns("div");_t126.setAttribute("class","ripple");this.I.ripples.append(_t126);_context23.next=6;return _t126.animate({transform:["scale(0)","scale(2.6)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished;case 6:_context23.next=8;return _t126.animate({opacity:[getComputedStyle(_t126).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished;case 8:_t126.remove();case 9:case"end":return _context23.stop();}}},_callee23,this);}));function N(_x18){return _N.apply(this,arguments);}return N;}()},{key:"kt",value:function kt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click());}}]);return Js;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Js,"observedAttributes",["toggled","disabled","size"]);_defineProperty(Js,"_shadowTemplate",Ds(_templateObject122()));_defineProperty(Js,"_shadowStyleSheet",zs(_templateObject123()));customElements.define("x-checkbox",Js);var tn=/*#__PURE__*/function(_HTMLElement9){_inherits(tn,_HTMLElement9);var _super10=_createSuper(tn);_createClass(tn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"#ffffff";},set:function set(t){this.setAttribute("value",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function tn(){var _temp12,_this41;_classCallCheck(this,tn);(_temp12=_this41=_super10.call(this),_defineProperty(_assertThisInitialized(_this41),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this41),"I",{}),_defineProperty(_assertThisInitialized(_this41),"Ut",!1),_defineProperty(_assertThisInitialized(_this41),"wt",!1),_defineProperty(_assertThisInitialized(_this41),"B",null),_defineProperty(_assertThisInitialized(_this41),"yt",0),_defineProperty(_assertThisInitialized(_this41),"Gt",Ws(function(){_this41.Ut&&(_this41.Ut=!1,_this41.value=_this41.I.input.value,_this41.dispatchEvent(new CustomEvent("changeend")));},400)),_temp12),_this41._shadowRoot=_this41.attachShadow({mode:"closed"}),_this41._shadowRoot.adoptedStyleSheets=[tn._shadowStyleSheet],_this41._shadowRoot.append(document.importNode(tn._shadowTemplate.content,!0));var _iterator79=_createForOfIteratorHelper(_this41._shadowRoot.querySelectorAll("[id]")),_step79;try{for(_iterator79.s();!(_step79=_iterator79.n()).done;){var _t127=_step79.value;_this41.I[_t127.id]=_t127;}}catch(err){_iterator79.e(err);}finally{_iterator79.f();}_this41.addEventListener("click",function(t){return _this41.N(t);}),_this41.addEventListener("keydown",function(t){return _this41.kt(t);}),_this41.addEventListener("pointerdown",function(t){return _this41.zt(t);}),_this41.addEventListener("change",function(t){return _this41.jt(t);}),_this41.I.input.addEventListener("change",function(t){return _this41.Kt(t);});return _this41;}_createClass(tn,[{key:"connectedCallback",value:function connectedCallback(){var _this42=this;var t=this.querySelector("x-wheelcolorpicker, x-rectcolorpicker, x-barscolorpicker");t&&t.setAttribute("value",ys(this.value,"rgba")),this.Ct(),this.U(),this.Xt(),As.addEventListener("sizechange",this.B=function(){return _this42.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t?this.ot():"disabled"===t?this.qt():"size"===t&&this.lt();}},{key:"Vt",value:function(){var _Vt=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee24(){var _t128;return regeneratorRuntime.wrap(function _callee24$(_context24){while(1){switch(_context24.prev=_context24.next){case 0:if(!(!1===this.hasAttribute("expanded"))){_context24.next=9;break;}_t128=this.querySelector("x-popover");_context24.t0=_t128;if(!_context24.t0){_context24.next=9;break;}this.wt=this.matches(":focus");this.setAttribute("expanded","");_context24.next=8;return _t128.open(this);case 8:_t128.focus();case 9:case"end":return _context24.stop();}}},_callee24,this);}));function Vt(){return _Vt.apply(this,arguments);}return Vt;}()},{key:"Zt",value:function(){var _Zt=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee25(){var t,_t129,_t130,_args25=arguments;return regeneratorRuntime.wrap(function _callee25$(_context25){while(1){switch(_context25.prev=_context25.next){case 0:t=_args25.length>0&&_args25[0]!==undefined?_args25[0]:null;if(!this.hasAttribute("expanded")){_context25.next=15;break;}_t129=this.querySelector("x-popover");if(!_t129){_context25.next=15;break;}_t129.setAttribute("closing","");_context25.next=7;return _t129.close();case 7:this.removeAttribute("expanded");if(!this.wt){_context25.next=12;break;}this.focus();_context25.next=14;break;case 12:_t130=Vs(this.parentNode,"[tabindex]");_t130&&_t130.focus();case 14:_t129.removeAttribute("closing");case 15:case"end":return _context25.stop();}}},_callee25,this);}));function Zt(){return _Zt.apply(this,arguments);}return Zt;}()},{key:"Xt",value:function Xt(){var _Ms$parse5=new Ms().parse(this.value,"rgba"),_Ms$parse6=_slicedToArray(_Ms$parse5,4),t=_Ms$parse6[0],e=_Ms$parse6[1],i=_Ms$parse6[2],s=_Ms$parse6[3];this.I.input.value=vs([t,e,i,s],"rgba","hex"),this.I.input.style.opacity=s;}},{key:"Ct",value:function Ct(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){this.Ut||this.Xt();var t=_toConsumableArray(this.querySelectorAll("*")).find(function(t){return t.localName.endsWith("colorpicker");});t&&t.getAttribute("value")!==this.getAttribute("value")&&t.setAttribute("value",this.getAttribute("value"));}},{key:"qt",value:function qt(){this.Ct();}},{key:"lt",value:function lt(){this.U();}},{key:"jt",value:function jt(t){t.target!==this&&(this.value=ys(t.target.value,"rgba"),this.Xt());}},{key:"Kt",value:function Kt(){!1===this.Ut&&(this.Ut=!0,this.dispatchEvent(new CustomEvent("changestart"))),this.value=this.I.input.value,this.dispatchEvent(new CustomEvent("change")),this.Gt();}},{key:"zt",value:function zt(t){t.target===this&&t.preventDefault();}},{key:"N",value:function N(t){var e=this.querySelector(":scope > x-popover");e&&(e.opened?(!1===e.modal&&t.target===this||!0===e.modal&&"x-backdrop"===t.target.localName)&&(t.preventDefault(),this.Zt()):(t.preventDefault(),this.Vt()));}},{key:"kt",value:function kt(t){if("Enter"===t.code||"Space"===t.code){var _e99=this.querySelector("x-popover");t.preventDefault(),t.stopPropagation(),_e99?this.hasAttribute("expanded")?this.Zt():this.Vt():this.I.input.click();}else"Escape"===t.code?this.querySelector("x-popover")&&this.hasAttribute("expanded")&&(t.preventDefault(),this.Zt()):"Tab"===t.code&&this.hasAttribute("expanded")&&t.preventDefault();}}]);return tn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(tn,"observedAttributes",["value","disabled","size"]);_defineProperty(tn,"_shadowTemplate",Ds(_templateObject124()));_defineProperty(tn,"_shadowStyleSheet",zs(_templateObject125()));customElements.define("x-colorselect",tn);var en=/*#__PURE__*/function(_HTMLElement10){_inherits(en,_HTMLElement10);var _super11=_createSuper(en);_createClass(en,[{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function en(){var _temp13,_this43;_classCallCheck(this,en);(_temp13=_this43=_super11.call(this),_defineProperty(_assertThisInitialized(_this43),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this43),"I",{}),_defineProperty(_assertThisInitialized(_this43),"Yt",null),_defineProperty(_assertThisInitialized(_this43),"Wt",null),_defineProperty(_assertThisInitialized(_this43),"Jt",null),_temp13),_this43._shadowRoot=_this43.attachShadow({mode:"closed"}),_this43._shadowRoot.adoptedStyleSheets=[en._shadowStyleSheet],_this43._shadowRoot.append(document.importNode(en._shadowTemplate.content,!0)),_this43.I.backdrop=Ns("x-backdrop"),_this43.I.backdrop.style.background="rgba(0, 0, 0, 0)",_this43.I.backdrop.addEventListener("contextmenu",function(t){return _this43.Qt(t);}),_this43.I.backdrop.addEventListener("pointerdown",function(t){return _this43.It(t);}),_this43.addEventListener("blur",function(t){return _this43.te();}),_this43.addEventListener("keydown",function(t){return _this43.kt(t);},!0),_this43.addEventListener("click",function(t){return _this43.N(t);});return _this43;}_createClass(en,[{key:"connectedCallback",value:function connectedCallback(){var _this44=this;this.Yt=this.parentElement||this.parentNode.host,window.addEventListener("blur",this.Wt=function(){_this44.te();}),this.Yt.addEventListener("contextmenu",this.Jt=function(t){_this44.ee(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){window.removeEventListener("blur",this.Wt),this.Yt.removeEventListener("contextmenu",this.Jt),this.Yt=null;}},{key:"open",value:function open(t,e){var i=this.querySelector("x-menu");!1===i.opened&&(i.openAtPoint(t,e),this.I.backdrop.ownerElement=i,this.I.backdrop.show(!1),i.focus());}},{key:"close",value:function close(){var _this45=this;return new Promise(/*#__PURE__*/function(){var _ref26=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee26(t){var e,_t131;return regeneratorRuntime.wrap(function _callee26$(_context26){while(1){switch(_context26.prev=_context26.next){case 0:e=_this45.querySelector("x-menu");if(!(e&&!0===e.opened)){_context26.next=7;break;}_context26.next=4;return e.close();case 4:_this45.I.backdrop.hide(!1);_t131=Vs(_this45.parentNode,"[tabindex]");_t131&&_t131.focus();case 7:t();case 8:case"end":return _context26.stop();}}},_callee26);}));return function(_x19){return _ref26.apply(this,arguments);};}());}},{key:"te",value:function te(){this.close();}},{key:"ee",value:function ee(t){!1===this.disabled&&(t.preventDefault(),this.open(t.clientX,t.clientY));}},{key:"Qt",value:function Qt(t){t.preventDefault(),t.stopImmediatePropagation(),this.close().then(function(){var e=function(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=document.elementFromPoint(t,e);if(i&&s)for(;;){var _i103=s.shadowRoot||s._shadowRoot;if(!_i103)break;{var _n45=_i103.elementFromPoint(t,e);if(_n45.getRootNode()!==_i103&&(_n45=null),!_n45||_n45===s)break;s=_n45;}}return s;}(t.clientX,t.clientY,!0),i=new MouseEvent(t.type,t);e.dispatchEvent(i);});}},{key:"It",value:function It(t){1===t.buttons&&(t.preventDefault(),t.stopImmediatePropagation(),this.close());}},{key:"N",value:function(){var _N2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee27(t){var e,_t132;return regeneratorRuntime.wrap(function _callee27$(_context27){while(1){switch(_context27.prev=_context27.next){case 0:e=t.target.closest("x-menuitem");if(!(e&&!1===e.disabled)){_context27.next=13;break;}_t132=e.querySelector("x-menu");if(!_t132){_context27.next=7;break;}_t132.opened?_t132.close():_t132.openNextToElement(e,"horizontal");_context27.next=13;break;case 7:this.setAttribute("closing","");_context27.next=10;return e.whenTriggerEnd;case 10:_context27.next=12;return this.close();case 12:this.removeAttribute("closing");case 13:case"end":return _context27.stop();}}},_callee27,this);}));function N(_x20){return _N2.apply(this,arguments);}return N;}()},{key:"kt",value:function kt(t){"Escape"===t.key?this.querySelector("x-menu").opened&&(t.preventDefault(),this.close()):"Tab"===t.key&&(t.preventDefault(),t.stopPropagation(),this.querySelector("x-menu").focusNextMenuItem());}}]);return en;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(en,"_shadowTemplate",Ds(_templateObject126()));_defineProperty(en,"_shadowStyleSheet",zs(_templateObject127()));customElements.define("x-contextmenu",en);var sn=Math.max;var nn=/*#__PURE__*/function(_HTMLElement11){_inherits(nn,_HTMLElement11);var _super12=_createSuper(nn);_createClass(nn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"";},set:function set(t){this.setAttribute("value",t);}},{key:"selected",get:function get(){return this.hasAttribute("selected");},set:function set(t){t?this.setAttribute("selected",""):this.removeAttribute("selected");}},{key:"edited",get:function get(){return this.hasAttribute("edited");},set:function set(t){t?this.setAttribute("edited",""):this.removeAttribute("edited");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}},{key:"ownerTabs",get:function get(){return this.closest("x-doctabs");}}]);function nn(){var _temp14,_this46;_classCallCheck(this,nn);(_temp14=_this46=_super12.call(this),_defineProperty(_assertThisInitialized(_this46),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this46),"I",{}),_defineProperty(_assertThisInitialized(_this46),"B",null),_temp14),_this46._shadowRoot=_this46.attachShadow({mode:"closed"}),_this46._shadowRoot.adoptedStyleSheets=[nn._shadowStyleSheet],_this46._shadowRoot.append(document.importNode(nn._shadowTemplate.content,!0));var _iterator80=_createForOfIteratorHelper(_this46._shadowRoot.querySelectorAll("[id]")),_step80;try{for(_iterator80.s();!(_step80=_iterator80.n()).done;){var _t133=_step80.value;_this46.I[_t133.id]=_t133;}}catch(err){_iterator80.e(err);}finally{_iterator80.f();}_this46.addEventListener("pointerdown",function(t){return _this46.zt(t);}),_this46.addEventListener("click",function(t){return _this46.N(t);}),_this46.I["close-button"].addEventListener("pointerdown",function(t){return _this46.ie(t);}),_this46.I["close-button"].addEventListener("click",function(t){return _this46.se(t);});return _this46;}_createClass(nn,[{key:"connectedCallback",value:function connectedCallback(){var _this47=this;this.Ct(),this.U(),As.addEventListener("sizechange",this.B=function(){return _this47.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("selected"===t||"disabled"===t?this.Ct():"size"===t&&this.U());}},{key:"animateSelectionIndicator",value:function animateSelectionIndicator(t){var _this48=this;return new Promise(/*#__PURE__*/function(){var _ref27=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee28(e){var _e100,_i104,_s74;return regeneratorRuntime.wrap(function _callee28$(_context28){while(1){switch(_context28.prev=_context28.next){case 0:if(!("0px"!==_this48.I["selection-indicator"].style.height)){_context28.next=7;break;}_e100=_this48.getBoundingClientRect(),_i104=t.getBoundingClientRect();_this48.setAttribute("animatingindicator","");_s74=_this48.I["selection-indicator"].animate([{left:"0px",width:_e100.width+"px"},{left:_i104.left-_e100.left+"px",width:_i104.width+"px"}],{duration:100,iterations:1,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"});_context28.next=6;return _s74.finished;case 6:_this48.removeAttribute("animatingindicator");case 7:e();case 8:case"end":return _context28.stop();}}},_callee28);}));return function(_x21){return _ref27.apply(this,arguments);};}());}},{key:"Ct",value:function Ct(){this.setAttribute("tabindex",this.selected?"0":"-1"),this.setAttribute("role","tab"),this.setAttribute("aria-selected",this.selected),this.setAttribute("aria-disabled",this.disabled);}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"zt",value:function zt(t){var _this49=this;if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();var _e101=Vs(this.parentNode,"[tabindex]");_e101&&_e101.focus();}{var _e102=Date.now();this.setAttribute("pressed",""),this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",/*#__PURE__*/function(){var _ref28=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee29(t){var _t134,_i105;return regeneratorRuntime.wrap(function _callee29$(_context29){while(1){switch(_context29.prev=_context29.next){case 0:if(!(!0===_this49.selected)){_context29.next=6;break;}_t134=Date.now()-_e102,_i105=100;_context29.t0=_t134<_i105;if(!_context29.t0){_context29.next=6;break;}_context29.next=6;return js(_i105-_t134);case 6:_this49.removeAttribute("pressed");case 7:case"end":return _context29.stop();}}},_callee29);}));return function(_x22){return _ref28.apply(this,arguments);};}(),{once:!0});}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){var _e103=this.I.ripples.getBoundingClientRect(),_i106=1.5*sn(_e103.width,_e103.height),_s75=t.clientY-_e103.y-_i106/2,_n46=t.clientX-_e103.x-_i106/2,_o34=Ns("div");_o34.setAttribute("class","ripple pointer-down-ripple"),_o34.setAttribute("style","width: ".concat(_i106,"px; height: ").concat(_i106,"px; top: ").concat(_s75,"px; left: ").concat(_n46,"px;")),this.I.ripples.append(_o34);var _l27=_o34.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.ownerTabs.setPointerCapture(t.pointerId),this.ownerTabs.addEventListener("lostpointercapture",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee30(){var t,e;return regeneratorRuntime.wrap(function _callee30$(_context30){while(1){switch(_context30.prev=_context30.next){case 0:_context30.next=2;return _l27.finished;case 2:t=getComputedStyle(_o34).opacity,e=_o34.animate({opacity:[t,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context30.next=5;return e.finished;case 5:_o34.remove();case 6:case"end":return _context30.stop();}}},_callee30);})),{once:!0});}}else t.preventDefault();}},{key:"N",value:function(){var _N3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee31(t){var _t135,_e104,_i107,_s76,_n47,_o35,_l28,_h18;return regeneratorRuntime.wrap(function _callee31$(_context31){while(1){switch(_context31.prev=_context31.next){case 0:if(!(0===t.button&&null===this.I.ripples.querySelector(".pointer-down-ripple")&&"ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context31.next=10;break;}_t135=this.I.ripples.getBoundingClientRect(),_e104=1.5*sn(_t135.width,_t135.height),_i107=_t135.y+_t135.height/2-_t135.y-_e104/2,_s76=_t135.x+_t135.width/2-_t135.x-_e104/2,_n47=Ns("div");_n47.setAttribute("class","ripple click-ripple"),_n47.setAttribute("style","width: ".concat(_e104,"px; height: ").concat(_e104,"px; top: ").concat(_i107,"px; left: ").concat(_s76,"px;")),this.I.ripples.append(_n47);_o35=_n47.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context31.next=6;return _o35.finished;case 6:_l28=getComputedStyle(_n47).opacity,_h18=_n47.animate({opacity:[_l28,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context31.next=9;return _h18.finished;case 9:_n47.remove();case 10:case"end":return _context31.stop();}}},_callee31,this);}));function N(_x23){return _N3.apply(this,arguments);}return N;}()},{key:"ie",value:function ie(t){if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();var _e105=Vs(this.parentNode,"[tabindex]");_e105&&_e105.focus();}t.stopPropagation();}}},{key:"se",value:function se(t){if(0!==t.button)return;t.stopPropagation();var e=new CustomEvent("close",{bubbles:!0,cancelable:!0,detail:this});this.dispatchEvent(e),!1===e.defaultPrevented&&this.ownerTabs.closeTab(this);}}]);return nn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(nn,"observedAttributes",["selected","disabled","size"]);_defineProperty(nn,"_shadowTemplate",Ds(_templateObject128()));_defineProperty(nn,"_shadowStyleSheet",zs(_templateObject129()));customElements.define("x-doctab",nn);var on=Number.parseInt;var ln=/*#__PURE__*/function(_HTMLElement12){_inherits(ln,_HTMLElement12);var _super13=_createSuper(ln);_createClass(ln,[{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"maxTabs",get:function get(){return this.hasAttribute("maxtabs")?on(this.getAttribute("maxtabs")):20;},set:function set(t){this.setAttribute("maxtabs",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function ln(){var _temp15,_this50;_classCallCheck(this,ln);(_temp15=_this50=_super13.call(this),_defineProperty(_assertThisInitialized(_this50),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this50),"I",{}),_defineProperty(_assertThisInitialized(_this50),"B",null),_defineProperty(_assertThisInitialized(_this50),"he",!1),_defineProperty(_assertThisInitialized(_this50),"ne",!1),_temp15),_this50._shadowRoot=_this50.attachShadow({mode:"closed",delegatesFocus:!1}),_this50._shadowRoot.adoptedStyleSheets=[ln._shadowStyleSheet],_this50._shadowRoot.append(document.importNode(ln._shadowTemplate.content,!0));var _iterator81=_createForOfIteratorHelper(_this50._shadowRoot.querySelectorAll("[id]")),_step81;try{for(_iterator81.s();!(_step81=_iterator81.n()).done;){var _t136=_step81.value;_this50.I[_t136.id]=_t136;}}catch(err){_iterator81.e(err);}finally{_iterator81.f();}_this50.addEventListener("pointerdown",function(t){return _this50.zt(t);}),_this50.addEventListener("keydown",function(t){return _this50.kt(t);}),_this50.I["open-button"].addEventListener("click",function(t){return _this50.oe(t);});return _this50;}_createClass(ln,[{key:"connectedCallback",value:function connectedCallback(){var _this51=this;this.U(),As.addEventListener("sizechange",this.B=function(){return _this51.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"size"===t&&this.U();}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"openTab",value:function openTab(t){var _this52=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref30=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee32(i,s){var _s77,_iterator82,_step82,_t137,_e106;return regeneratorRuntime.wrap(function _callee32$(_context32){while(1){switch(_context32.prev=_context32.next){case 0:if(!(_this52.querySelectorAll("x-doctab").length>=_this52.maxTabs)){_context32.next=4;break;}s("Can't open more than ".concat(_this52.maxTabs," tabs."));_context32.next=24;break;case 4:_s77=0;_iterator82=_createForOfIteratorHelper(_this52.children);try{for(_iterator82.s();!(_step82=_iterator82.n()).done;){_t137=_step82.value;_e106=on(_t137.style.order);!Number.isNaN(_e106)&&_e106>_s77&&(_s77=_e106);}}catch(err){_iterator82.e(err);}finally{_iterator82.f();}t.style.order=_s77;if(!(!1===e)){_context32.next=12;break;}t.style.transition="none",t.style.maxWidth=null,t.style.padding=null,_this52.append(t),i(t);_context32.next=24;break;case 12:_context32.t0=!0===e;if(!_context32.t0){_context32.next=24;break;}t.style.transition=null;t.style.maxWidth="0px";t.style.padding="0px";t.setAttribute("opening","");_this52.append(t);_context32.next=21;return js(30);case 21:t.addEventListener("transitionend",function(){t.removeAttribute("opening"),i(t);},{once:!0});t.style.maxWidth=null;t.style.padding=null;case 24:case"end":return _context32.stop();}}},_callee32);}));return function(_x24,_x25){return _ref30.apply(this,arguments);};}());}},{key:"closeTab",value:function closeTab(t){var _this53=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref31=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee33(i){var s,n,o,_iterator83,_step83,_t138,_e107,_i108,_t139,_iterator84,_step84,_t140;return regeneratorRuntime.wrap(function _callee33$(_context33){while(1){switch(_context33.prev=_context33.next){case 0:s=_this53.getTabsByScreenIndex().filter(function(t){return!1===t.hasAttribute("closing");}),n=t.getBoundingClientRect().width,o=_this53.le(t);if(t.setAttribute("closing",""),o<s.length-1){_iterator83=_createForOfIteratorHelper(_this53.children);try{for(_iterator83.s();!(_step83=_iterator83.n()).done;){_t138=_step83.value;!1===_t138.hasAttribute("closing")&&(_t138.style.transition="none",_t138.style.maxWidth=n+"px");}}catch(err){_iterator83.e(err);}finally{_iterator83.f();}}if(t.style.transition=e?null:"none",t.style.maxWidth="0px",t.style.pointerEvents="none",_this53.he=!0,t.selected){_e107=s[s.indexOf(t)-1],_i108=s[s.indexOf(t)+1];t.selected=!1,_i108?_i108.selected=!0:_e107&&(_e107.selected=!0);}if(t.matches(":focus")){_t139=_this53.querySelector("x-doctab[selected]");_t139?_t139.focus():_this53.focus();}t.style.maxWidth="0px";t.style.padding="0px";_context33.t0=e;if(!_context33.t0){_context33.next=10;break;}_context33.next=10;return js(150);case 10:t.remove();_this53.he=!1;t.removeAttribute("closing");i();if(_this53.ne){_context33.next=21;break;}_this53.ne=!0;_context33.next=18;return _this53.ae(3);case 18:_this53.ne=!1;_iterator84=_createForOfIteratorHelper(_this53.children);try{for(_iterator84.s();!(_step84=_iterator84.n()).done;){_t140=_step84.value;_t140.style.transition=null,_t140.style.maxWidth=null,_t140.style.order=_this53.le(_t140);}}catch(err){_iterator84.e(err);}finally{_iterator84.f();}case 21:case"end":return _context33.stop();}}},_callee33);}));return function(_x26){return _ref31.apply(this,arguments);};}());}},{key:"selectPreviousTab",value:function selectPreviousTab(){this.getTabsByScreenIndex();var t=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab"),e=this.re(t);return t&&e?(this.selectTab(e),e):null;}},{key:"selectNextTab",value:function selectNextTab(){this.getTabsByScreenIndex();var t=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab:last-of-type"),e=this.de(t);return t&&e?(this.selectTab(e),e):null;}},{key:"selectTab",value:function selectTab(t){var e=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab:last-of-type");e&&(e.tabIndex=-1,e.selected=!1),t.tabIndex=0,t.selected=!0;}},{key:"moveSelectedTabLeft",value:function moveSelectedTabLeft(){var t=this.querySelector("x-doctab[selected]"),e=this.le(t);var _iterator85=_createForOfIteratorHelper(this.children),_step85;try{for(_iterator85.s();!(_step85=_iterator85.n()).done;){var _t141=_step85.value;_t141.style.order=this.le(_t141);}}catch(err){_iterator85.e(err);}finally{_iterator85.f();}if(0===on(t.style.order)){var _iterator86=_createForOfIteratorHelper(this.children),_step86;try{for(_iterator86.s();!(_step86=_iterator86.n()).done;){var _e108=_step86.value;_e108.style.order=_e108===t?this.childElementCount-1:on(_e108.style.order)-1;}}catch(err){_iterator86.e(err);}finally{_iterator86.f();}}else{var _i109=this.ue(e-1);_i109.style.order=on(_i109.style.order)+1,t.style.order=on(t.style.order)-1;}}},{key:"moveSelectedTabRight",value:function moveSelectedTabRight(){var t=this.querySelector("x-doctab[selected]"),e=this.le(t);var _iterator87=_createForOfIteratorHelper(this.children),_step87;try{for(_iterator87.s();!(_step87=_iterator87.n()).done;){var _t142=_step87.value;_t142.style.order=this.le(_t142);}}catch(err){_iterator87.e(err);}finally{_iterator87.f();}if(on(t.style.order)===this.childElementCount-1){var _iterator88=_createForOfIteratorHelper(this.children),_step88;try{for(_iterator88.s();!(_step88=_iterator88.n()).done;){var _e109=_step88.value;_e109.style.order=_e109===t?0:on(_e109.style.order)+1;}}catch(err){_iterator88.e(err);}finally{_iterator88.f();}}else{var _i110=this.ue(e+1);_i110.style.order=on(_i110.style.order)-1,t.style.order=on(t.style.order)+1;}}},{key:"ae",value:function ae(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;return new Promise(function(e){var i,s,n,o=null,l=function l(){window.removeEventListener("pointermove",i),window.removeEventListener("pointerout",s),window.removeEventListener("blur",n);};window.addEventListener("pointermove",i=function i(_i111){if(null===o)o={x:_i111.clientX,y:_i111.clientY};else{var _s78={x:_i111.clientX,y:_i111.clientY};as(o,_s78)>=t&&(l(),e());}}),window.addEventListener("pointerout",s=function s(t){null===t.toElement&&(l(),e());}),window.addEventListener("blur",n=function n(){l(),e();});});}},{key:"getTabsByScreenIndex",value:function getTabsByScreenIndex(){var t=Symbol();var _iterator89=_createForOfIteratorHelper(this.children),_step89;try{for(_iterator89.s();!(_step89=_iterator89.n()).done;){var _e110=_step89.value;_e110[t]=this.le(_e110);}}catch(err){_iterator89.e(err);}finally{_iterator89.f();}return _toConsumableArray(this.children).sort(function(e,i){return e[t]>i[t];});}},{key:"le",value:function le(t){var e=t.getBoundingClientRect(),i=this.getBoundingClientRect();if(e.left-i.left<e.width/2)return 0;{var _t143=e.width/2;for(var _s79=1;_s79<this.maxTabs;_s79+=1){if(e.left-i.left>=_t143&&e.left-i.left<_t143+e.width)return _s79>this.childElementCount-1?this.childElementCount-1:_s79;_t143+=e.width;}}}},{key:"ue",value:function ue(t){var _iterator90=_createForOfIteratorHelper(this.children),_step90;try{for(_iterator90.s();!(_step90=_iterator90.n()).done;){var _e111=_step90.value;if(this.le(_e111)===t)return _e111;}}catch(err){_iterator90.e(err);}finally{_iterator90.f();}return null;}},{key:"re",value:function re(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=this.getTabsByScreenIndex(),n=s.indexOf(t),o=null;for(var _t144=n-1;_t144>=0;_t144-=1){var _i112=s[_t144];if(!e||!_i112.disabled){o=_i112;break;}}if(i&&null===o)for(var _t145=s.length-1;_t145>n;_t145-=1){var _i113=s[_t145];if(!e||!_i113.disabled){o=_i113;break;}}return o;}},{key:"de",value:function de(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=this.getTabsByScreenIndex(),n=s.indexOf(t),o=null;for(var _t146=n+1;_t146<s.length;_t146+=1){var _i114=s[_t146];if(!e||!_i114.disabled){o=_i114;break;}}if(i&&null===o)for(var _t147=0;_t147<n;_t147+=1){var _i115=s[_t147];if(!e||!_i115.disabled){o=_i115;break;}}return o;}},{key:"zt",value:function zt(t){1===t.buttons&&!this.he&&t.target.closest("x-doctab")&&this.ce(t);}},{key:"ce",value:function(){var _ce=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee34(t){var _this54=this;var _e112,_i116,s,n,o;return regeneratorRuntime.wrap(function _callee34$(_context34){while(1){switch(_context34.prev=_context34.next){case 0:if(!(!1===t.isPrimary)){_context34.next=2;break;}return _context34.abrupt("return");case 2:s=t.target.closest("x-doctab"),n=this.querySelector("x-doctab[selected]");n!==s&&(n?n.animateSelectionIndicator(s).then(function(){_this54.selectTab(s),_this54.dispatchEvent(new CustomEvent("select",{detail:s}));}):(this.selectTab(s),this.dispatchEvent(new CustomEvent("select",{detail:s})))),this.setPointerCapture(t.pointerId);o=new DOMPoint(t.clientX,t.clientY);this.addEventListener("pointermove",_e112=function e(n){var l=new DOMPoint(n.clientX,n.clientY),h=n.timeStamp-t.timeStamp,a=as(o,l)>3||h>80;n.isPrimary&&a&&(_this54.removeEventListener("pointermove",_e112),_this54.removeEventListener("lostpointercapture",_i116),_this54.pe(t,s));}),this.addEventListener("lostpointercapture",_i116=function i(){_this54.removeEventListener("pointermove",_e112),_this54.removeEventListener("lostpointercapture",_i116);});case 6:case"end":return _context34.stop();}}},_callee34,this);}));function ce(_x27){return _ce.apply(this,arguments);}return ce;}()},{key:"pe",value:function pe(t,e){var _this55=this;var i=e.getBoundingClientRect(),s=this.getBoundingClientRect(),n=Symbol(),o=Symbol(),l=Symbol();e.style.zIndex=999,this.I["open-button"].style.setProperty("opacity","0","important");var _iterator91=_createForOfIteratorHelper(this.children),_step91;try{for(_iterator91.s();!(_step91=_iterator91.n()).done;){var _t152=_step91.value;var _i117=this.le(_t152);_t152[o]=_i117,_t152[n]=_i117,_t152[l]=_t152.getBoundingClientRect().left-s.left,_t152!==e&&(_t152.style.transition="transform 0.15s cubic-bezier(0.4, 0, 0.2, 1)");}}catch(err){_iterator91.e(err);}finally{_iterator91.f();}var h=function h(t,s){if(s>t+1)for(var _e113=t;_e113<s;_e113+=1){h(_e113,_e113+1);}else if(s<t-1)for(var _e114=t;_e114>s;_e114-=1){h(_e114,_e114-1);}else{var _iterator92=_createForOfIteratorHelper(_this55.children),_step92;try{for(_iterator92.s();!(_step92=_iterator92.n()).done;){var _n48=_step92.value;if(_n48!==e){_n48[o]===s&&(_n48[o]=t);var _e115=-_n48[l];for(var _t148=0;_t148<_n48[o];_t148+=1){_e115+=i.width;}_n48.style.transform=0===_e115?null:"translate("+_e115+"px)";}}}catch(err){_iterator92.e(err);}finally{_iterator92.f();}}},a=function a(n){if(n.isPrimary){var _a13=n.clientX-t.clientX;_a13+e[l]<=0?_a13=-e[l]:_a13+e[l]+i.width>s.width&&(_a13=s.width-e[l]-i.width),e.style.transform="translate("+_a13+"px)";var _r9=_this55.le(e);if(_r9!==e[o]){var _t149=e[o];e[o]=_r9,h(_t149,e[o]);}}},r=/*#__PURE__*/function(){var _ref32=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee35(t){var s,_t150,_iterator93,_step93,_t151;return regeneratorRuntime.wrap(function _callee35$(_context35){while(1){switch(_context35.prev=_context35.next){case 0:_this55.removeEventListener("pointermove",a),_this55.removeEventListener("lostpointercapture",r);s=-e[l];for(_t150=0;_t150<e[o];_t150+=1){s+=i.width;}e.style.transition="transform 0.15s cubic-bezier(0.4, 0, 0.2, 1)";e.style.transform="translate("+s+"px)";e[n]!==e[o]&&_this55.dispatchEvent(new CustomEvent("rearrange"));_context35.next=8;return js(150);case 8:e.style.zIndex=null;_this55.I["open-button"].style.opacity=null;_iterator93=_createForOfIteratorHelper(_this55.children);try{for(_iterator93.s();!(_step93=_iterator93.n()).done;){_t151=_step93.value;_t151.style.transition="none",_t151.style.transform="translate(0px, 0px)",_t151.style.order=_t151[o];}}catch(err){_iterator93.e(err);}finally{_iterator93.f();}case 12:case"end":return _context35.stop();}}},_callee35);}));return function r(_x28){return _ref32.apply(this,arguments);};}();this.addEventListener("pointermove",a),this.addEventListener("lostpointercapture",r);}},{key:"oe",value:function oe(t){if(0===t.button){var _t153=new CustomEvent("open",{cancelable:!0});if(this.dispatchEvent(_t153),!1===_t153.defaultPrevented){var _t154=Ds(_templateObject2());_t154.style.order=this.childElementCount,this.openTab(_t154),this.selectTab(_t154);}}}},{key:"kt",value:function kt(t){var _this56=this;if(!(t.ctrlKey||t.altKey||t.metaKey||t.shiftKey))if("Enter"===t.code||"Space"===t.code){var _e116=this.querySelector('x-doctab[tabindex="0"]'),_i118=this.querySelector("x-doctab[selected]");t.preventDefault(),_e116.click(),_e116!==_i118&&(_i118?_i118.animateSelectionIndicator(_e116).then(function(){_this56.selectTab(_e116),_this56.dispatchEvent(new CustomEvent("select",{detail:_e116}));}):(this.selectTab(_e116),this.dispatchEvent(new CustomEvent("select",{detail:_e116}))));}else if("ArrowLeft"===t.code){this.getTabsByScreenIndex();var _e117=this.querySelector('x-doctab[tabindex="0"]'),_i119=this.re(_e117);_i119&&(t.preventDefault(),_e117.tabIndex=-1,_i119.tabIndex=0,_i119.focus());}else if("ArrowRight"===t.code){this.getTabsByScreenIndex();var _e118=this.querySelector('x-doctab[tabindex="0"]'),_i120=this.de(_e118);_i120&&(t.preventDefault(),_e118.tabIndex=-1,_i120.tabIndex=0,_i120.focus());}}}]);return ln;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ln,"observedAttributes",["size"]);_defineProperty(ln,"_shadowTemplate",Ds(_templateObject130()));_defineProperty(ln,"_shadowStyleSheet",zs(_templateObject131()));customElements.define("x-doctabs",ln);var hn=/*#__PURE__*/function(_HTMLElement13){_inherits(hn,_HTMLElement13);var _super14=_createSuper(hn);_createClass(hn,[{key:"name",get:function get(){return this.hasAttribute("name")?this.getAttribute("name"):"";},set:function set(t){this.setAttribute("name",t);}},{key:"iconset",get:function get(){return!1===this.hasAttribute("iconset")||""===this.getAttribute("iconset").trim()?null:this.getAttribute("iconset");},set:function set(t){null===t||""===t.trim()?this.removeAttribute("iconset"):this.setAttribute("iconset",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function hn(){var _temp16,_this57;_classCallCheck(this,hn);(_temp16=_this57=_super14.call(this),_defineProperty(_assertThisInitialized(_this57),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this57),"I",{}),_defineProperty(_assertThisInitialized(_this57),"me",null),_defineProperty(_assertThisInitialized(_this57),"B",null),_temp16),_this57._shadowRoot=_this57.attachShadow({mode:"closed"}),_this57._shadowRoot.adoptedStyleSheets=[hn._shadowStyleSheet],_this57._shadowRoot.append(document.importNode(hn._shadowTemplate.content,!0));var _iterator94=_createForOfIteratorHelper(_this57._shadowRoot.querySelectorAll("[id]")),_step94;try{for(_iterator94.s();!(_step94=_iterator94.n()).done;){var _t155=_step94.value;_this57.I[_t155.id]=_t155;}}catch(err){_iterator94.e(err);}finally{_iterator94.f();}return _this57;}_createClass(hn,[{key:"connectedCallback",value:function connectedCallback(){var _this58=this;As.addEventListener("iconsetchange",this.me=function(){_this58.nt();}),As.addEventListener("sizechange",this.B=function(){_this58.U();}),this.nt(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("iconsetchange",this.me),As.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("name"===t||"iconset"===t?this.nt():"size"===t&&this.U());}},{key:"nt",value:function(){var _nt=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee36(){var _t156,_e119;return regeneratorRuntime.wrap(function _callee36$(_context36){while(1){switch(_context36.prev=_context36.next){case 0:if(!(""===this.name)){_context36.next=4;break;}this.I.svg.innerHTML="";_context36.next=16;break;case 4:_t156=null;if(!this.iconset){_context36.next=12;break;}_context36.next=8;return Ts(this.iconset);case 8:_e119=_context36.sent;_e119&&(_t156=_e119.querySelector("#"+CSS.escape(this.name)));_context36.next=15;break;case 12:_context36.next=14;return As.whenIconsetReady;case 14:_t156=As.iconsetElement.querySelector("#"+CSS.escape(this.name));case 15:_t156?(this.I.svg.setAttribute("viewBox",_t156.getAttribute("viewBox")),this.I.svg.innerHTML=_t156.innerHTML):this.I.svg.innerHTML="";case 16:case"end":return _context36.stop();}}},_callee36,this);}));function nt(){return _nt.apply(this,arguments);}return nt;}()},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return hn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(hn,"observedAttributes",["name","iconset","size"]);_defineProperty(hn,"_shadowTemplate",Ds(_templateObject132()));_defineProperty(hn,"_shadowStyleSheet",zs(_templateObject133()));customElements.define("x-icon",hn);var an=/*#__PURE__*/function(_HTMLElement14){_inherits(an,_HTMLElement14);var _super15=_createSuper(an);_createClass(an,[{key:"type",get:function get(){return this.hasAttribute("type")?this.getAttribute("type"):"text";},set:function set(t){this.setAttribute("type",t);}},{key:"value",get:function get(){return this.I.input.value;},set:function set(t){this.I.input.value!==t&&(this.matches(":focus")?(this.I.input.selectionStart=0,this.I.input.selectionEnd=this.I.input.value.length,document.execCommand("insertText",!1,t)):this.I.input.value=t,"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),this.be());}},{key:"spellcheck",get:function get(){return this.hasAttribute("spellcheck");},set:function set(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck");}},{key:"minLength",get:function get(){return this.hasAttribute("minlength")?parseInt(this.getAttribute("minlength")):0;},set:function set(t){this.setAttribute("minlength",t);}},{key:"maxLength",get:function get(){return this.hasAttribute("maxlength")?parseInt(this.getAttribute("maxlength")):Infinity;},set:function set(t){this.setAttribute("maxlength",t);}},{key:"required",get:function get(){return this.hasAttribute("required");},set:function set(t){t?this.setAttribute("required",""):this.removeAttribute("required");}},{key:"readOnly",get:function get(){return this.hasAttribute("readonly");},set:function set(t){!0===t?this.setAttribute("readonly",t):this.removeAttribute("readonly");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"validation",get:function get(){return this.hasAttribute("validation")?this.getAttribute("validation"):"auto";},set:function set(t){this.setAttribute("validation",t);}},{key:"error",get:function get(){return this.getAttribute("error");},set:function set(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function an(){var _temp17,_this59;_classCallCheck(this,an);(_temp17=_this59=_super15.call(this),_defineProperty(_assertThisInitialized(_this59),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this59),"I",{}),_defineProperty(_assertThisInitialized(_this59),"yt",0),_defineProperty(_assertThisInitialized(_this59),"B",null),_temp17),_this59._shadowRoot=_this59.attachShadow({mode:"closed",delegatesFocus:!0}),_this59._shadowRoot.adoptedStyleSheets=[an._shadowStyleSheet],_this59._shadowRoot.append(document.importNode(an._shadowTemplate.content,!0));var _iterator95=_createForOfIteratorHelper(_this59._shadowRoot.querySelectorAll("[id]")),_step95;try{for(_iterator95.s();!(_step95=_iterator95.n()).done;){var _t157=_step95.value;_this59.I[_t157.id]=_t157;}}catch(err){_iterator95.e(err);}finally{_iterator95.f();}_this59.addEventListener("focusin",function(t){return _this59.ge(t);}),_this59.addEventListener("focusout",function(t){return _this59.xe(t);}),_this59.addEventListener("keydown",function(t){return _this59.kt(t);}),_this59.I.input.addEventListener("change",function(t){return _this59.Kt(t);}),_this59.I.input.addEventListener("input",function(t){return _this59.fe(t);}),_this59.I.input.addEventListener("search",function(t){return _this59.we(t);});return _this59;}_createClass(an,[{key:"connectedCallback",value:function connectedCallback(){var _this60=this;this.Ct(),this.U(),this.be(),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),As.addEventListener("sizechange",this.B=function(){return _this60.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"type"===t?this.ve():"value"===t?this.ot():"spellcheck"===t?this.ye():"maxlength"===t?this.ze():"readonly"===t?this.ke():"disabled"===t?this.qt():"validation"===t?this.js():"size"===t&&this.Ce();}},{key:"validate",value:function validate(){this.value.length<this.minLength?this.error="Entered text is too short":this.value.length>this.maxLength?this.error="Entered text is too long":this.required&&0===this.value.length?this.error="This field is required":"email"===this.type&&!1===this.I.input.validity.valid?this.error="Invalid e-mail address":"url"===this.type&&!1===this.I.input.validity.valid?this.error="Invalid URL":"color"===this.type&&!1===function(t){try{new Ms().parse(t);}catch(t){return!1;}return!0;}(this.I.input.value)?this.error="Invalid color":this.error=null;}},{key:"selectAll",value:function selectAll(){this.I.input.select();}},{key:"clear",value:function clear(){this.value="",this.error=null;}},{key:"be",value:function be(){0===this.value.length?this.setAttribute("empty",""):this.removeAttribute("empty");}},{key:"Ct",value:function Ct(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.setAttribute("aria-readonly",this.readOnly),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ve",value:function ve(){"color"===this.type?this.I.input.type="text":this.I.input.type=this.type;}},{key:"ot",value:function ot(){this.value=this.hasAttribute("value")?this.getAttribute("value"):"",this.matches(":focus")&&this.selectAll();}},{key:"ye",value:function ye(){this.I.input.spellcheck=this.spellcheck;}},{key:"ze",value:function ze(){this.I.input.maxLength=this.maxLength;}},{key:"ke",value:function ke(){this.I.input.readOnly=this.readOnly,this.Ct();}},{key:"qt",value:function qt(){this.I.input.disabled=this.disabled,this.Ct();}},{key:"js",value:function js(){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate();}},{key:"Ce",value:function Ce(){this.U();}},{key:"ge",value:function ge(){this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));}},{key:"xe",value:function xe(){this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),"auto"===this.validation&&this.validate();}},{key:"kt",value:function kt(t){"Enter"===t.key&&(document.execCommand("selectAll"),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate());}},{key:"fe",value:function fe(t){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),t.stopPropagation(),this.be(),this.dispatchEvent(new CustomEvent("input",{bubbles:!0}));}},{key:"Kt",value:function Kt(){"search"!==this.type&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}},{key:"we",value:function we(){this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}}]);return an;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(an,"observedAttributes",["type","value","spellcheck","maxlength","readonly","disabled","validation","size"]);_defineProperty(an,"_shadowTemplate",Ds(_templateObject134()));_defineProperty(an,"_shadowStyleSheet",zs(_templateObject135()));customElements.define("x-input",an);var rn=/*#__PURE__*/function(_HTMLElement15){_inherits(rn,_HTMLElement15);var _super16=_createSuper(rn);_createClass(rn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function rn(){var _temp18,_this61;_classCallCheck(this,rn);(_temp18=_this61=_super16.call(this),_defineProperty(_assertThisInitialized(_this61),"_shadowRoot",null),_temp18),_this61._shadowRoot=_this61.attachShadow({mode:"closed"}),_this61._shadowRoot.adoptedStyleSheets=[rn._shadowStyleSheet],_this61._shadowRoot.append(document.importNode(rn._shadowTemplate.content,!0));return _this61;}return rn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(rn,"_shadowTemplate",Ds(_templateObject136()));_defineProperty(rn,"_shadowStyleSheet",zs(_templateObject137()));customElements.define("x-label",rn);var dn=Math.abs;var cn=/*#__PURE__*/function(_HTMLElement16){_inherits(cn,_HTMLElement16);var _super17=_createSuper(cn);_createClass(cn,[{key:"opened",get:function get(){return this.hasAttribute("opened");}}]);function cn(){var _temp19,_this62;_classCallCheck(this,cn);(_temp19=_this62=_super17.call(this),_defineProperty(_assertThisInitialized(_this62),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this62),"I",{}),_defineProperty(_assertThisInitialized(_this62),"Se",[]),_defineProperty(_assertThisInitialized(_this62),"Ee",null),_defineProperty(_assertThisInitialized(_this62),"Ae",null),_defineProperty(_assertThisInitialized(_this62),"Le",0),_defineProperty(_assertThisInitialized(_this62),"Te",0),_defineProperty(_assertThisInitialized(_this62),"Me",!1),_defineProperty(_assertThisInitialized(_this62),"De",!1),_defineProperty(_assertThisInitialized(_this62),"$e",null),_temp19),_this62._shadowRoot=_this62.attachShadow({mode:"closed"}),_this62._shadowRoot.adoptedStyleSheets=[cn._shadowStyleSheet],_this62._shadowRoot.append(document.importNode(cn._shadowTemplate.content,!0));var _iterator96=_createForOfIteratorHelper(_this62._shadowRoot.querySelectorAll("[id]")),_step96;try{for(_iterator96.s();!(_step96=_iterator96.n()).done;){var _t158=_step96.value;_this62.I[_t158.id]=_t158;}}catch(err){_iterator96.e(err);}finally{_iterator96.f();}_this62.addEventListener("pointerdown",function(t){return _this62.zt(t);}),_this62.addEventListener("pointerover",function(t){return _this62.Pe(t);}),_this62.addEventListener("pointerout",function(t){return _this62.Re(t);}),_this62.addEventListener("pointermove",function(t){return _this62.Ie(t);}),_this62.addEventListener("keydown",function(t){return _this62.kt(t);}),_this62.addEventListener("wheel",function(t){return _this62.Oe(t);},{passive:!1}),_this62.addEventListener("scroll",function(t){return _this62.Be(t);},{passive:!0});return _this62;}_createClass(cn,[{key:"connectedCallback",value:function connectedCallback(){this.setAttribute("role","menu"),this.setAttribute("aria-hidden",!this.opened),this.setAttribute("tabindex","0");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"opened"===t&&this.He();}},{key:"openOverElement",value:function openOverElement(t,e){var _this63=this;return new Promise(/*#__PURE__*/function(){var _ref33=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee37(i){var s,_i121,_n49,_o36,_l29,_h19,_a14,_t159,_e120,_t160,_e121,_t161,_this63$Ne,_this63$Ne2,_e122,_i122,_s80,_t162,_e123;return regeneratorRuntime.wrap(function _callee37$(_context37){while(1){switch(_context37.prev=_context37.next){case 0:s=_this63.querySelectorAll(":scope > x-menuitem");if(!(s.length>0)){_context37.next=12;break;}_this63.Me=!0,_this63.$e=Hs(),_this63.Fe(),_this63.setAttribute("opened","");_i121=_toConsumableArray(s).find(function(t){return t.contains(e);})||s[0],_n49=_this63.getBoundingClientRect(),_o36=t.getBoundingClientRect(),_l29=e.getBoundingClientRect(),_h19=0,_a14=0;if(_i121.focus(),0===_n49.top&&0===_n49.left||(_h19=-_n49.left,_a14=-_n49.top),_this63.style.left=_o36.x-(_l29.x-_n49.x)+_h19+"px",_this63.style.top=_o36.y-(_l29.y-_n49.y)+_a14+"px",_n49=_this63.getBoundingClientRect(),_n49.left<7&&(_this63.style.left=7+_h19+"px",_n49=_this63.getBoundingClientRect()),7-_n49.top>0&&(_this63.style.height=_n49.bottom-7+"px",_this63.style.top=7+_a14+"px",_this63.scrollTop=9999,_n49=_this63.getBoundingClientRect()),_n49.bottom+7>window.innerHeight){_t159=_n49.bottom-window.innerHeight,_e120=_n49.height-_t159-7;_this63.style.height=_e120+"px";}if(_n49.right+7>window.innerWidth){_t160=_n49.right-window.innerWidth,_e121=_n49.width-_t160-7;_this63.style.width="".concat(_e121,"px");}_t161=getComputedStyle(_this63).getPropertyValue("--open-transition"),_this63$Ne=_this63.Ne(_t161),_this63$Ne2=_slicedToArray(_this63$Ne,3),_e122=_this63$Ne2[0],_i122=_this63$Ne2[1],_s80=_this63$Ne2[2];if(!("transform"===_e122)){_context37.next=11;break;}_t162=_this63.getBoundingClientRect(),_e123=_o36.y+_o36.height/2-_t162.top;_context37.next=11;return _this63.animate({transform:["scaleY(0)","scaleY(1)"],transformOrigin:["0 ".concat(_e123,"px"),"0 ".concat(_e123,"px")]},{duration:_i122,easing:_s80}).finished;case 11:_this63.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:_this63})),_this63.Te=_a14;case 12:i();case 13:case"end":return _context37.stop();}}},_callee37);}));return function(_x29){return _ref33.apply(this,arguments);};}());}},{key:"openOverLabel",value:function openOverLabel(t){var _this64=this;return new Promise(/*#__PURE__*/function(){var _ref34=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee38(e){var i,_e124,_s81;return regeneratorRuntime.wrap(function _callee38$(_context38){while(1){switch(_context38.prev=_context38.next){case 0:i=_this64.querySelectorAll(":scope > x-menuitem");if(!(i.length>0)){_context38.next=8;break;}_this64.Fe(),_this64.setAttribute("opened",""),_this64.Me=!0,_this64.$e=Hs();_e124=_toConsumableArray(i).find(function(e){var i=e.querySelector("x-label");return!(!i||i.textContent!==t.textContent);});_e124||(_e124=i[0]);_s81=_e124.querySelector("x-label");_context38.next=8;return _this64.openOverElement(t,_s81);case 8:e();case 9:case"end":return _context38.stop();}}},_callee38);}));return function(_x30){return _ref34.apply(this,arguments);};}());}},{key:"openNextToElement",value:function openNextToElement(t){var _this65=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"horizontal";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return new Promise(/*#__PURE__*/function(){var _ref35=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee39(s){var n,o,l,h,a,_t163,_t164,_e125,_t165,_e126,_e127,_this65$Ne,_this65$Ne2,_i123,_s82,_n50,_e128,_t166,_t167,_t168,_t169,_t170,_t171,_this65$Ne3,_this65$Ne4,_i124,_s83,_n51;return regeneratorRuntime.wrap(function _callee39$(_context39){while(1){switch(_context39.prev=_context39.next){case 0:_this65.Me=!1,_this65.$e=Hs(),_this65.Fe(),_this65.setAttribute("opened",""),_this65.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:_this65})),"x-menuitem"===t.localName&&t.setAttribute("expanded","");n=getComputedStyle(_this65).getPropertyValue("--align").trim(),o=t.getBoundingClientRect(),l=_this65.getBoundingClientRect(),h=0,a=0;if(!(0===l.top&&0===l.left||(h=-l.left,a=-l.top),"horizontal"===e)){_context39.next=18;break;}_this65.style.top=o.top+a+"px",_this65.style.left=o.left+o.width+i+h+"px";_t163="right";_t164=_this65.getBoundingClientRect();_t164.width>window.innerWidth-10&&(_this65.style.width=window.innerWidth-10+"px"),_t164.height>window.innerHeight-10&&(_this65.style.height=window.innerHeight-10+"px");_e125=_this65.getBoundingClientRect();_e125.left+_e125.width+7>window.innerWidth&&(o.left>_e125.width+7?(_this65.style.left=o.left-_e125.width+h+"px",_t163="left"):o.left>window.innerWidth-(o.left+o.width)?(_this65.style.left=7+h+"px",_t163="left"):(_this65.style.left=window.innerWidth-_e125.width-7+h+"px",_t163="right"));_t165=_this65.getBoundingClientRect();if(_t165.top+_t165.height+7>window.innerHeight){_e126=_t165.top+_t165.height+7-window.innerHeight;_this65.style.top=_t165.top-_e126+a+"px";}_e127=getComputedStyle(_this65).getPropertyValue("--open-transition"),_this65$Ne=_this65.Ne(_e127),_this65$Ne2=_slicedToArray(_this65$Ne,3),_i123=_this65$Ne2[0],_s82=_this65$Ne2[1],_n50=_this65$Ne2[2];_context39.t0="transform"===_i123;if(!_context39.t0){_context39.next=16;break;}_context39.next=16;return _this65.animate({transform:["scale(0, 0)","scale(1, 1)"],transformOrigin:["left"===_t163?"100% 0":"0 0","left"===_t163?"100% 0":"0 0"]},{duration:_s82,easing:_n50}).finished;case 16:_context39.next=30;break;case 18:if(!("vertical"===e)){_context39.next=30;break;}_this65.style.top=o.top+o.height+i+a+"px",_this65.style.left="0px";_e128="bottom";_t166=_this65.getBoundingClientRect();_t166.width>window.innerWidth-10&&(_this65.style.width=window.innerWidth-10+"px"),_t166.height>window.innerHeight-10&&(_this65.style.height=window.innerHeight-10+"px");if(t.parentElement&&"x-menubar"===t.parentElement.localName){_t167=_this65.getBoundingClientRect();_t167.top+_t167.height+7>window.innerHeight&&(_this65.style.height=window.innerHeight-(o.top+o.height)-10+"px");}else{_t168=_this65.getBoundingClientRect();_t168.top+_t168.height+7>window.innerHeight&&(o.top>_t168.height+7?(_this65.style.top=o.top-_t168.height-i+a+"px",_e128="top"):o.top>window.innerHeight-(o.top+o.height)?(_this65.style.top=7+a+"px",_e128="top"):(_this65.style.top=window.innerHeight-_t168.height-7+a+"px",_e128="bottom"));}if("start"===n){_this65.style.left=o.left+h+"px";{_t169=_this65.getBoundingClientRect();_t169.left+_t169.width+7>window.innerWidth&&(_this65.style.left=o.left+o.width-_t169.width+h+"px");}_this65.getBoundingClientRect().left<7&&(_this65.style.left=7+h+"px");}else if("end"===n){_this65.style.left=o.left+o.width-l.width+h+"px",_this65.getBoundingClientRect().left<7&&(_this65.style.left=o.left+h+"px");{_t170=_this65.getBoundingClientRect();_t170.left+_t170.width+7>window.innerWidth&&(_this65.style.left=window.innerWidth-7+h+"px");}}_t171=getComputedStyle(_this65).getPropertyValue("--open-transition"),_this65$Ne3=_this65.Ne(_t171),_this65$Ne4=_slicedToArray(_this65$Ne3,3),_i124=_this65$Ne4[0],_s83=_this65$Ne4[1],_n51=_this65$Ne4[2];_context39.t1="transform"===_i124;if(!_context39.t1){_context39.next=30;break;}_context39.next=30;return _this65.animate({transform:["scale(1, 0)","scale(1, 1)"],transformOrigin:["top"===_e128?"0 100%":"0 0","top"===_e128?"0 100%":"0 0"]},{duration:_s83,easing:_n51}).finished;case 30:_this65.Te=a,s();case 31:case"end":return _context39.stop();}}},_callee39);}));return function(_x31){return _ref35.apply(this,arguments);};}());}},{key:"openAtPoint",value:function openAtPoint(t,e){var _this66=this;return new Promise(/*#__PURE__*/function(){var _ref36=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee40(i){var s,n,o,_t172,_this66$Ne,_this66$Ne2,_e129,_i125,_s84;return regeneratorRuntime.wrap(function _callee40$(_context40){while(1){switch(_context40.prev=_context40.next){case 0:_this66.Me=!1,_this66.$e=Hs(),_this66.Fe(),_this66.setAttribute("opened",""),_this66.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:_this66}));s=_this66.getBoundingClientRect(),n=0,o=0;0===s.top&&0===s.left||(n=-s.left,o=-s.top),_this66.style.left=t+n+"px",_this66.style.top=e+o+"px",s=_this66.getBoundingClientRect(),s.right+7>window.innerWidth&&(t-=s.width,_this66.style.left=t+n+"px",s=_this66.getBoundingClientRect()),s.bottom+7>window.innerHeight&&(e=e+window.innerHeight-(s.top+s.height)-7,_this66.style.top=e+o+"px",s=_this66.getBoundingClientRect(),s.top<7&&(e=7,_this66.style.top=e+o+"px",_this66.style.height=window.innerHeight-7-7+"px"));_t172=getComputedStyle(_this66).getPropertyValue("--open-transition"),_this66$Ne=_this66.Ne(_t172),_this66$Ne2=_slicedToArray(_this66$Ne,3),_e129=_this66$Ne2[0],_i125=_this66$Ne2[1],_s84=_this66$Ne2[2];_context40.t0="transform"===_e129;if(!_context40.t0){_context40.next=8;break;}_context40.next=8;return _this66.animate({transform:["scale(0)","scale(1)"],transformOrigin:["0 0","0 0"]},{duration:80,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"}).finished;case 8:_this66.Te=o,i();case 9:case"end":return _context40.stop();}}},_callee40);}));return function(_x32){return _ref36.apply(this,arguments);};}());}},{key:"close",value:function close(){var _this67=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;return new Promise(/*#__PURE__*/function(){var _ref37=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee41(e){var _e130,_t173,_this67$Ne,_this67$Ne2,_e131,_i126,_s85,_iterator97,_step97,_t174,_e132;return regeneratorRuntime.wrap(function _callee41$(_context41){while(1){switch(_context41.prev=_context41.next){case 0:if(!_this67.opened){_context41.next=13;break;}_this67.removeAttribute("opened"),_this67.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:_this67}));_e130=_this67.closest("x-menuitem");if(!(_e130&&_e130.removeAttribute("expanded"),t)){_context41.next=11;break;}_this67.setAttribute("animating","");_t173=getComputedStyle(_this67).getPropertyValue("--close-transition"),_this67$Ne=_this67.Ne(_t173),_this67$Ne2=_slicedToArray(_this67$Ne,3),_e131=_this67$Ne2[0],_i126=_this67$Ne2[1],_s85=_this67$Ne2[2];_context41.t0="opacity"===_e131;if(!_context41.t0){_context41.next=10;break;}_context41.next=10;return _this67.animate({opacity:["1","0"]},{duration:_i126,easing:_s85}).finished;case 10:_this67.removeAttribute("animating");case 11:_iterator97=_createForOfIteratorHelper(_this67.querySelectorAll(":scope > x-menuitem"));try{for(_iterator97.s();!(_step97=_iterator97.n()).done;){_t174=_step97.value;_e132=_t174.querySelector("x-menu[opened]");_e132&&_e132.close();}}catch(err){_iterator97.e(err);}finally{_iterator97.f();}case 13:e();case 14:case"end":return _context41.stop();}}},_callee41);}));return function(_x33){return _ref37.apply(this,arguments);};}());}},{key:"focusNextMenuItem",value:function focusNextMenuItem(){var t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){var _e133=null;for(var _i127=t.nextElementSibling;_i127;_i127=_i127.nextElementSibling){if("x-menuitem"===_i127.localName&&!1===_i127.disabled&&!1===_i127.hidden){_e133=_i127;break;}}if(null===_e133&&null!=t.parentElement){var _iterator98=_createForOfIteratorHelper(t.parentElement.children),_step98;try{for(_iterator98.s();!(_step98=_iterator98.n()).done;){var _i128=_step98.value;if("x-menuitem"===_i128.localName&&!1===_i128.disabled&&!1===_i128.hidden){_e133=_i128;break;}}}catch(err){_iterator98.e(err);}finally{_iterator98.f();}}if(_e133){_e133.focus();var _i129=t.querySelector("x-menu");_i129&&_i129.close();}}else this.focusFirstMenuItem();}},{key:"focusPreviousMenuItem",value:function focusPreviousMenuItem(){var t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){var _e134=null;for(var _i130=t.previousElementSibling;_i130;_i130=_i130.previousElementSibling){if("x-menuitem"===_i130.localName&&!1===_i130.disabled&&!1===_i130.hidden){_e134=_i130;break;}}if(null===_e134&&null!=t.parentElement){var _iterator99=_createForOfIteratorHelper(_toConsumableArray(t.parentElement.children).reverse()),_step99;try{for(_iterator99.s();!(_step99=_iterator99.n()).done;){var _i131=_step99.value;if("x-menuitem"===_i131.localName&&!1===_i131.disabled&&!1===_i131.hidden){_e134=_i131;break;}}}catch(err){_iterator99.e(err);}finally{_iterator99.f();}}if(_e134){_e134.focus();var _i132=t.querySelector("x-menu");_i132&&_i132.close();}}else this.focusLastMenuItem();}},{key:"focusFirstMenuItem",value:function focusFirstMenuItem(){var t=this.querySelectorAll("x-menuitem:not([disabled]):not([hidden])")[0]||null;t&&t.focus();}},{key:"focusLastMenuItem",value:function focusLastMenuItem(){var t=this.querySelectorAll("x-menuitem:not([disabled]):not([hidden])"),e=t.length>0?t[t.length-1]:null;e&&e.focus();}},{key:"qe",value:function qe(t){var _this68=this;var e=0;{var _t175=this.Se[this.Se.length-1],_i133=this.Se[0];if(this.querySelector("x-menu[opened]")&&_t175){_i133||(_i133=_t175);var _s86=this.getBoundingClientRect(),_n52={x:_s86.left,y:_s86.top-75},_o37={x:_s86.left+_s86.width,y:_n52.y},_l30={x:_s86.left,y:_s86.top+_s86.height+75},_h20={x:_s86.left+_s86.width,y:_l30.y},_a15=!0;if((_i133.x<_s86.left||_i133.x>_h20.x||_i133.y<_s86.top||_i133.y>_h20.y)&&(_a15=!1),this.Ae&&_t175.x===this.Ae.x&&_t175.y===this.Ae.y&&(_a15=!1),_a15){var _s87,_n53;_s87=_o37,_n53=_h20;var _l31=function _l31(t,e){return(e.y-t.y)/(e.x-t.x);},_a16=_l31(_t175,_s87),_r10=_l31(_t175,_n53),_d5=_l31(_i133,_s87),_c3=_l31(_i133,_n53);_a16<_d5&&_r10>_c3?(this.Ae=_t175,e=300):this.Ae=null;}}}e>0?this.Ee=setTimeout(function(){_this68.qe(t);},e):t();}},{key:"Ue",value:function Ue(){this.Ee&&(clearTimeout(this.Ee),this.Ee=null);}},{key:"Fe",value:function Fe(){this.style.position="fixed",this.style.top="0px",this.style.left="0px",this.style.width=null,this.style.height=null,this.style.minWidth=null,this.style.maxWidth=null;}},{key:"je",value:function je(){return this.matches("*[closing], *[closing] x-menu");}},{key:"Ne",value:function Ne(t){var _t$trim$split=t.trim().split(" "),_t$trim$split2=_toArray(_t$trim$split),e=_t$trim$split2[0],i=_t$trim$split2[1],s=_t$trim$split2.slice(2);return[i,parseFloat(e),s.join(" ")];}},{key:"He",value:function He(){this.setAttribute("aria-hidden",!this.opened);}},{key:"zt",value:function zt(t){var _this69=this;if(t.target!==this&&"hr"!==t.target.localName||t.stopPropagation(),"touch"===t.pointerType&&t.target.closest("x-menu")===this){!1===this.De&&this.Ke();{var _e135=t.target.closest("x-menuitem");_e135&&!1===_e135.disabled&&_e135.closest("x-menu")===this?!1===_e135.matches(":focus")&&this.qe(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee42(){var t,_e136,i,s,_iterator100,_step100,_t176,_e137;return regeneratorRuntime.wrap(function _callee42$(_context42){while(1){switch(_context42.prev=_context42.next){case 0:t=_this69.querySelector(":scope > x-menuitem:focus");if(t){_e136=t.querySelector("x-menu");_e136&&_e136.close();}_e135.closest("x-menu");i=_e135.querySelector("x-menu"),s=_toConsumableArray(_this69.querySelectorAll(":scope > x-menuitem")).filter(function(t){return t!==_e135;});_context42.t0=i;if(!_context42.t0){_context42.next=9;break;}_context42.next=8;return js(60);case 8:_e135.matches(":focus")&&!1===i.opened&&i.openNextToElement(_e135,"horizontal");case 9:_iterator100=_createForOfIteratorHelper(s);try{for(_iterator100.s();!(_step100=_iterator100.n()).done;){_t176=_step100.value;_e137=_t176.querySelector("x-menu");_e137&&_e137.close();}}catch(err){_iterator100.e(err);}finally{_iterator100.f();}case 11:case"end":return _context42.stop();}}},_callee42);}))):this.qe(function(){_this69.focus();});}}}},{key:"Pe",value:function Pe(t){var _this70=this;if(!this.je()&&"touch"!==t.pointerType&&t.target.closest("x-menu")===this){!1===this.De&&this.Ke();{var _e138=t.target.closest("x-menuitem");_e138&&!1===_e138.disabled&&_e138.closest("x-menu")===this?!1===_e138.matches(":focus")&&this.qe(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee43(){var t,_e139,i,s,_iterator101,_step101,_t177,_e140;return regeneratorRuntime.wrap(function _callee43$(_context43){while(1){switch(_context43.prev=_context43.next){case 0:t=_this70.querySelector(":scope > x-menuitem:focus");if(t){_e139=t.querySelector("x-menu");_e139&&_e139.close();}_e138.focus(),_e138.closest("x-menu");i=_e138.querySelector("x-menu"),s=_toConsumableArray(_this70.querySelectorAll(":scope > x-menuitem")).filter(function(t){return t!==_e138;});_context43.t0=i;if(!_context43.t0){_context43.next=9;break;}_context43.next=8;return js(60);case 8:_e138.matches(":focus")&&!1===i.opened&&i.openNextToElement(_e138,"horizontal");case 9:_iterator101=_createForOfIteratorHelper(s);try{for(_iterator101.s();!(_step101=_iterator101.n()).done;){_t177=_step101.value;_e140=_t177.querySelector("x-menu");_e140&&_e140.close();}}catch(err){_iterator101.e(err);}finally{_iterator101.f();}case 11:case"end":return _context43.stop();}}},_callee43);}))):this.qe(function(){_this70.focus();});}}}},{key:"Re",value:function Re(t){t.relatedTarget&&Vs(t.relatedTarget,"x-menu")===this||!0===this.De&&this.Xe();}},{key:"Ke",value:function Ke(){this.je()||(this.De=!0,this.Ue());}},{key:"Xe",value:function Xe(){this.je()||(this.De=!1,this.Ue(),this.focus());}},{key:"Ie",value:function Ie(t){this.Se.push({x:t.clientX,y:t.clientY}),this.Se.length>3&&this.Se.shift();}},{key:"Oe",value:function Oe(t){t.target.closest("x-menu")===this?(t.preventDefault(),this.scrollTop=this.scrollTop+t.deltaY,this.De=!0):this.De=!1;}},{key:"Be",value:function Be(){if(this.Me){var _t178=this.scrollTop-this.Le;if(this.Le=this.scrollTop,Hs()-this.$e>100){var _e141=this.getBoundingClientRect();_t178<0?_e141.bottom+dn(_t178)<=window.innerHeight-7?this.style.height=_e141.height+dn(_t178)+"px":this.style.height=window.innerHeight-14+"px":_t178>0&&(_e141.top-_t178>=7?(this.style.top=this.Te+_e141.top-_t178+"px",this.style.height=_e141.height+_t178+"px",this.scrollTop=0,this.Le=0):(this.style.top=7+this.Te+"px",this.style.height=window.innerHeight-14+"px"));}}}},{key:"kt",value:function kt(t){if(this.je())t.preventDefault(),t.stopPropagation();else if("ArrowUp"===t.key)t.preventDefault(),t.stopPropagation(),this.focusPreviousMenuItem();else if("ArrowDown"===t.key)t.preventDefault(),t.stopPropagation(),this.focusNextMenuItem();else if("ArrowRight"===t.code||"Enter"===t.code||"Space"===t.code){var _e142=this.querySelector("x-menuitem:focus");if(_e142){var _i134=_e142.querySelector("x-menu");if(_i134){t.preventDefault(),t.stopPropagation(),!1===_i134.opened&&_i134.openNextToElement(_e142,"horizontal");var _s88=_i134.querySelector("x-menuitem:not([disabled]):not([hidden])");_s88&&_s88.focus();}}}else if("ArrowLeft"===t.code){var _e143=this.querySelector("x-menuitem:focus");if(_e143){var _i135=_e143.closest("x-menu").closest("x-menuitem");_i135&&_i135.closest("x-menu")&&(t.preventDefault(),t.stopPropagation(),_i135.focus(),this.close());}}}}]);return cn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(cn,"observedAttributes",["opened"]);_defineProperty(cn,"_shadowTemplate",Ds(_templateObject138()));_defineProperty(cn,"_shadowStyleSheet",zs(_templateObject139()));customElements.define("x-menu",cn);var pn=/*#__PURE__*/function(_HTMLElement17){_inherits(pn,_HTMLElement17);var _super18=_createSuper(pn);_createClass(pn,[{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function pn(){var _temp20,_this71;_classCallCheck(this,pn);(_temp20=_this71=_super18.call(this),_defineProperty(_assertThisInitialized(_this71),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this71),"I",{}),_defineProperty(_assertThisInitialized(_this71),"Ve",!1),_defineProperty(_assertThisInitialized(_this71),"Ze",null),_defineProperty(_assertThisInitialized(_this71),"B",null),_temp20),_this71._shadowRoot=_this71.attachShadow({mode:"closed"}),_this71._shadowRoot.adoptedStyleSheets=[pn._shadowStyleSheet],_this71._shadowRoot.append(document.importNode(pn._shadowTemplate.content,!0));var _iterator102=_createForOfIteratorHelper(_this71._shadowRoot.querySelectorAll("[id]")),_step102;try{for(_iterator102.s();!(_step102=_iterator102.n()).done;){var _t179=_step102.value;_this71.I[_t179.id]=_t179;}}catch(err){_iterator102.e(err);}finally{_iterator102.f();}_this71.addEventListener("focusout",function(t){return _this71.xe(t);}),_this71._shadowRoot.addEventListener("pointerover",function(t){return _this71.Ge(t);}),_this71._shadowRoot.addEventListener("click",function(t){return _this71.Ye(t);}),_this71._shadowRoot.addEventListener("wheel",function(t){return _this71.We(t);}),_this71._shadowRoot.addEventListener("keydown",function(t){return _this71.Je(t);});return _this71;}_createClass(pn,[{key:"connectedCallback",value:function connectedCallback(){var _this72=this;this.setAttribute("role","menubar"),this.setAttribute("aria-disabled",this.disabled),this.U(),As.addEventListener("sizechange",this.B=function(){_this72.U();}),window.addEventListener("orientationchange",this.Ze=function(){_this72.Qe();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.B),window.removeEventListener("orientationchange",this.Ze);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t?this.qt():"size"===t&&this.U();}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ti",value:function ti(t){var e=t.querySelector(":scope > x-menu");if(e&&!1===e.opened){t.focus(),this.Ve=!0,this.style.touchAction="none";{e.openNextToElement(t,"vertical");var _i136=_toConsumableArray(this.querySelectorAll(":scope > x-menuitem > x-menu")).filter(function(t){return t!==e;});var _iterator103=_createForOfIteratorHelper(_i136),_step103;try{for(_iterator103.s();!(_step103=_iterator103.n()).done;){var _t180=_step103.value;_t180&&_t180.close(!1);}}catch(err){_iterator103.e(err);}finally{_iterator103.f();}}{var _this$getBoundingClie=this.getBoundingClientRect(),_t181=_this$getBoundingClie.x,_e144=_this$getBoundingClie.y,_i137=_this$getBoundingClie.width,_s89=_this$getBoundingClie.height;this.I["backdrop-path"].setAttribute("d","\n          M 0 0\n          L ".concat(window.innerWidth," 0\n          L ").concat(window.innerWidth," ").concat(window.innerHeight,"\n          L 0 ").concat(window.innerHeight,"\n          L 0 0\n          M ").concat(_t181," ").concat(_e144,"\n          L ").concat(_t181+_i137," ").concat(_e144,"\n          L ").concat(_t181+_i137," ").concat(_e144+_s89,"\n          L ").concat(_t181," ").concat(_e144+_s89,"\n        ")),this.I.backdrop.removeAttribute("hidden");}}}},{key:"ei",value:function ei(){var _this73=this;return new Promise(/*#__PURE__*/function(){var _ref40=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee44(t){var _t182,_iterator104,_step104,_e145,e;return regeneratorRuntime.wrap(function _callee44$(_context44){while(1){switch(_context44.prev=_context44.next){case 0:_this73.Ve=!1,_this73.style.touchAction=null,_this73.I.backdrop.setAttribute("hidden",""),_this73.I["backdrop-path"].setAttribute("d","");_t182=_this73.querySelectorAll(":scope > x-menuitem > x-menu[opened]");_iterator104=_createForOfIteratorHelper(_t182);_context44.prev=3;_iterator104.s();case 5:if((_step104=_iterator104.n()).done){_context44.next=11;break;}_e145=_step104.value;_context44.next=9;return _e145.close(!0);case 9:_context44.next=5;break;case 11:_context44.next=16;break;case 13:_context44.prev=13;_context44.t0=_context44["catch"](3);_iterator104.e(_context44.t0);case 16:_context44.prev=16;_iterator104.f();return _context44.finish(16);case 19:e=_this73.querySelector("x-menuitem:focus");e&&e.blur(),t();case 21:case"end":return _context44.stop();}}},_callee44,null,[[3,13,16,19]]);}));return function(_x34){return _ref40.apply(this,arguments);};}());}},{key:"ii",value:function ii(){var t=_toConsumableArray(this.querySelectorAll(":scope > x-menuitem:not([disabled])")),e=this.querySelector(":focus").closest("x-menubar > x-menuitem");if(t.length>1&&e){var _i138=t.indexOf(e),_s90=t[_i138-1]||t[t.length-1];this.ti(_s90);}}},{key:"si",value:function si(){var t=_toConsumableArray(this.querySelectorAll(":scope > x-menuitem:not([disabled])")),e=this.querySelector(":focus").closest("x-menubar > x-menuitem");if(e&&t.length>1){var _i139=t.indexOf(e),_s91=t[_i139+1]||t[0];this.ti(_s91);}}},{key:"qt",value:function qt(){this.setAttribute("aria-disabled",this.disabled);}},{key:"xe",value:function xe(t){null!==t.relatedTarget&&!1!==this.contains(t.relatedTarget)||this.ei();}},{key:"Qe",value:function Qe(){this.ei();}},{key:"We",value:function We(t){var e=this.querySelector("x-menu[opened]");e&&!1===e.contains(t.target)&&t.preventDefault();}},{key:"Ye",value:function(){var _Ye=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee45(t){var e,i,_t183;return regeneratorRuntime.wrap(function _callee45$(_context45){while(1){switch(_context45.prev=_context45.next){case 0:if(!this.hasAttribute("closing")){_context45.next=2;break;}return _context45.abrupt("return");case 2:e=t.target.closest("x-menuitem"),i=t.target.closest("x-menu");if(!(!e||!1!==e.disabled||i&&!i.contains(e))){_context45.next=7;break;}t.target===this.I["backdrop-path"]&&(this.ei(),t.preventDefault(),t.stopPropagation());_context45.next=22;break;case 7:_t183=e.querySelector("x-menu");if(!(e.parentElement===this)){_context45.next=12;break;}_t183&&(_t183.opened?this.ei():this.ti(e));_context45.next=22;break;case 12:if(!_t183){_context45.next=16;break;}_t183.opened&&!1===_t183.opened&&_t183.openNextToElement(e,"horizontal");_context45.next=22;break;case 16:this.setAttribute("closing","");_context45.next=19;return e.whenTriggerEnd;case 19:_context45.next=21;return this.ei();case 21:this.removeAttribute("closing");case 22:case"end":return _context45.stop();}}},_callee45,this);}));function Ye(_x35){return _Ye.apply(this,arguments);}return Ye;}()},{key:"Ge",value:function Ge(t){if(this.hasAttribute("closing"))return;var e=t.target.closest("x-menuitem");null===t.target.closest("x-menu")&&e&&e.parentElement===this&&this.Ve&&"touch"!==t.pointerType&&(!1===e.hasAttribute("expanded")?this.ti(e):e.focus());}},{key:"Je",value:function Je(t){if(this.hasAttribute("closing"))t.stopPropagation(),t.preventDefault();else if("Enter"===t.code||"Space"===t.code){var _e146=this.querySelector(":scope > x-menuitem:focus");_e146&&(t.preventDefault(),_e146.click());}else if("Escape"===t.code)this.Ve&&(t.preventDefault(),this.ei());else if("Tab"===t.code){var _t184=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(_t184){_t184.focus();var _e147=_t184.querySelector(":scope > x-menu");_e147&&(_e147.tabIndex=-1,_e147.close().then(function(){_e147.tabIndex=-1;}));}}else if("ArrowRight"===t.code)this.si();else if("ArrowLeft"===t.code)this.ii();else if("ArrowDown"===t.code){var _e148=this.querySelector("x-menuitem:focus > x-menu");_e148&&(t.preventDefault(),_e148.focusFirstMenuItem());}else if("ArrowUp"===t.code){var _e149=this.querySelector("x-menuitem:focus > x-menu");_e149&&(t.preventDefault(),_e149.focusLastMenuItem());}}}]);return pn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(pn,"observedAttributes",["disabled","size"]);_defineProperty(pn,"_shadowTemplate",Ds(_templateObject140()));_defineProperty(pn,"_shadowStyleSheet",zs(_templateObject141()));customElements.define("x-menubar",pn);var un=Math.max;var xn=/*#__PURE__*/function(_HTMLElement18){_inherits(xn,_HTMLElement18);var _super19=_createSuper(xn);_createClass(xn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){this.value!==t&&(null===t?this.removeAttribute("value"):this.setAttribute("value",t));}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"togglable",get:function get(){return this.hasAttribute("togglable");},set:function set(t){t?this.setAttribute("togglable",""):this.removeAttribute("togglable");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}},{key:"whenTriggerEnd",get:function get(){var _this75=this;return new Promise(function(t){0===_this75.I.ripples.childElementCount&&!1===_this75.hi?t():_this75.ni.push(t);});}}]);function xn(){var _temp21,_this74;_classCallCheck(this,xn);(_temp21=_this74=_super19.call(this),_defineProperty(_assertThisInitialized(_this74),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this74),"I",{}),_defineProperty(_assertThisInitialized(_this74),"yt",0),_defineProperty(_assertThisInitialized(_this74),"hi",!1),_defineProperty(_assertThisInitialized(_this74),"ni",[]),_defineProperty(_assertThisInitialized(_this74),"oi",!1),_defineProperty(_assertThisInitialized(_this74),"B",null),_defineProperty(_assertThisInitialized(_this74),"li",new MutationObserver(function(){return _this74.ai();})),_temp21),_this74._shadowRoot=_this74.attachShadow({mode:"closed"}),_this74._shadowRoot.adoptedStyleSheets=[xn._shadowStyleSheet],_this74._shadowRoot.append(document.importNode(xn._shadowTemplate.content,!0)),_this74.addEventListener("pointerdown",function(t){return _this74.zt(t);}),_this74.addEventListener("click",function(t){return _this74.N(t);}),_this74.addEventListener("keydown",function(t){return _this74.kt(t);});var _iterator105=_createForOfIteratorHelper(_this74._shadowRoot.querySelectorAll("[id]")),_step105;try{for(_iterator105.s();!(_step105=_iterator105.n()).done;){var _t185=_step105.value;_this74.I[_t185.id]=_t185;}}catch(err){_iterator105.e(err);}finally{_iterator105.f();}return _this74;}_createClass(xn,[{key:"connectedCallback",value:function connectedCallback(){var _this76=this;this.ai(),this.Ct(),this.U(),this.li.observe(this,{childList:!0,attributes:!1,characterData:!1,subtree:!1}),As.addEventListener("sizechange",this.B=function(){return _this76.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.li.disconnect(),As.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t?this.Ct():"size"===t&&this.U();}},{key:"ai",value:function ai(){"x-menubar"===this.parentElement.localName?this.I.arrow.setAttribute("hidden",""):this.querySelector("x-menu")?this.I.arrow.removeAttribute("hidden"):this.I.arrow.setAttribute("hidden","");}},{key:"Ct",value:function Ct(){this.setAttribute("role","menuitem"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"zt",value:function(){var _zt=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee47(t){var _this77=this;var _e150,_i140,_e151,_i141,_s92,_n54,_o38,_l32,_h21,_a17,_iterator106,_step106,_t186;return regeneratorRuntime.wrap(function _callee47$(_context47){while(1){switch(_context47.prev=_context47.next){case 0:if(!(this.oi=this.matches(":focus"),1!==t.buttons)){_context47.next=2;break;}return _context47.abrupt("return",!1);case 2:if(!this.matches("[closing] x-menuitem")){_context47.next=4;break;}return _context47.abrupt("return",(t.preventDefault(),void t.stopPropagation()));case 4:if(!(t.target.closest("x-menuitem")===this)){_context47.next=23;break;}this.setPointerCapture(t.pointerId);_e150=Date.now(),_i140=!0;this.addEventListener("lostpointercapture",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee46(){var s,n;return regeneratorRuntime.wrap(function _callee46$(_context46){while(1){switch(_context46.prev=_context46.next){case 0:_i140=!1;s=Date.now()-_e150,n="touch"===t.pointerType?600:150;_context46.t0=s<n;if(!_context46.t0){_context46.next=6;break;}_context46.next=6;return js(n-s);case 6:_this77.removeAttribute("pressed");case 7:case"end":return _context46.stop();}}},_callee46);})),{once:!0}),_i140&&this.setAttribute("pressed","");if(!("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context47.next=23;break;}_e151=this.I.ripples.getBoundingClientRect(),_i141=1.5*un(_e151.width,_e151.height),_s92=t.clientY-_e151.y-_i141/2,_n54=t.clientX-_e151.x-_i141/2,_o38=new Promise(function(t){return _this77.addEventListener("lostpointercapture",t,{once:!0});}),_l32=Ns("div");_l32.setAttribute("part","ripple"),_l32.setAttribute("class","ripple pointer-down-ripple"),_l32.setAttribute("style","width: ".concat(_i141,"px; height: ").concat(_i141,"px; top: ").concat(_s92,"px; left: ").concat(_n54,"px;")),this.I.ripples.append(_l32),this.setPointerCapture(t.pointerId);_h21=_l32.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context47.next=14;return _o38;case 14:_context47.next=16;return _h21.finished;case 16:_a17=_l32.animate({opacity:[getComputedStyle(_l32).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context47.next=19;return _a17.finished;case 19:_l32.remove();if(!(0===this.I.ripples.childElementCount)){_context47.next=23;break;}_iterator106=_createForOfIteratorHelper(this.ni);try{for(_iterator106.s();!(_step106=_iterator106.n()).done;){_t186=_step106.value;_t186();}}catch(err){_iterator106.e(err);}finally{_iterator106.f();}case 23:case"end":return _context47.stop();}}},_callee47,this);}));function zt(_x36){return _zt.apply(this,arguments);}return zt;}()},{key:"N",value:function(){var _N4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee48(t){var _t187,_t188,_t189,_e152,_i142,_s93,_n55,_o39,_l33,_iterator107,_step107,_t190,_iterator108,_step108,_t191,_iterator109,_step109,_t192;return regeneratorRuntime.wrap(function _callee48$(_context48){while(1){switch(_context48.prev=_context48.next){case 0:if(t.button>0||t.target.closest("x-menuitem")!==this||t.target.closest("x-menu")!==this.closest("x-menu")||this.matches("[closing] x-menuitem")){_context48.next=50;break;}if(this.togglable){_t187=new CustomEvent("toggle",{bubbles:!0,cancelable:!0});this.dispatchEvent(_t187),!1===_t187.defaultPrevented&&(this.toggled=!this.toggled);}if(this.querySelector(":scope > x-menu")){_context48.next=50;break;}_t188=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if(!("ripple"===_t188)){_context48.next=21;break;}if(!(null===this.I.ripples.querySelector(".pointer-down-ripple"))){_context48.next=19;break;}_t189=this.I.ripples.getBoundingClientRect(),_e152=1.5*un(_t189.width,_t189.height),_i142=_t189.y+_t189.height/2-_t189.y-_e152/2,_s93=_t189.x+_t189.width/2-_t189.x-_e152/2,_n55=Ns("div");_n55.setAttribute("part","ripple"),_n55.setAttribute("class","ripple click-ripple"),_n55.setAttribute("style","width: ".concat(_e152,"px; height: ").concat(_e152,"px; top: ").concat(_i142,"px; left: ").concat(_s93,"px;")),this.I.ripples.append(_n55);_o39=_n55.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context48.next=11;return _o39.finished;case 11:_l33=_n55.animate({opacity:[getComputedStyle(_n55).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context48.next=14;return _l33.finished;case 14:_n55.remove();if(!(0===this.I.ripples.childElementCount)){_context48.next=19;break;}_iterator107=_createForOfIteratorHelper(this.ni);try{for(_iterator107.s();!(_step107=_iterator107.n()).done;){_t190=_step107.value;_t190();}}catch(err){_iterator107.e(err);}finally{_iterator107.f();}this.ni=[];case 19:_context48.next=50;break;case 21:if(!("blink"===_t188)){_context48.next=43;break;}this.hi=!0;if(!this.oi){_context48.next=32;break;}this.parentElement.focus();_context48.next=27;return js(150);case 27:this.focus();_context48.next=30;return js(150);case 30:_context48.next=38;break;case 32:this.focus();_context48.next=35;return js(150);case 35:this.parentElement.focus();_context48.next=38;return js(150);case 38:_iterator108=_createForOfIteratorHelper(this.ni);try{for(_iterator108.s();!(_step108=_iterator108.n()).done;){_t191=_step108.value;_t191();}}catch(err){_iterator108.e(err);}finally{_iterator108.f();}this.ni=[],this.hi=!1;_context48.next=50;break;case 43:if(!("none"===_t188)){_context48.next=50;break;}this.hi=!0;_context48.next=47;return js(150);case 47:_iterator109=_createForOfIteratorHelper(this.ni);try{for(_iterator109.s();!(_step109=_iterator109.n()).done;){_t192=_step109.value;_t192();}}catch(err){_iterator109.e(err);}finally{_iterator109.f();}this.ni=[],this.hi=!1;case 50:case"end":return _context48.stop();}}},_callee48,this);}));function N(_x37){return _N4.apply(this,arguments);}return N;}()},{key:"kt",value:function kt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.querySelector("x-menu")||(t.stopPropagation(),this.click()));}}]);return xn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(xn,"observedAttributes",["disabled","size"]);_defineProperty(xn,"_shadowTemplate",Ds(_templateObject142()));_defineProperty(xn,"_shadowStyleSheet",zs(_templateObject143()));customElements.define("x-menuitem",xn);var bn=/*#__PURE__*/function(_HTMLElement19){_inherits(bn,_HTMLElement19);var _super20=_createSuper(bn);_createClass(bn,[{key:"opened",get:function get(){return this.hasAttribute("opened");},set:function set(t){!0===t?this.setAttribute("opened",""):this.removeAttribute("opened"),this.ri=0;}},{key:"timeout",get:function get(){return this.hasAttribute("timeout")?parseFloat(this.getAttribute("timeout")):0;},set:function set(t){this.setAttribute("timeout",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function bn(){var _temp22,_this78;_classCallCheck(this,bn);(_temp22=_this78=_super20.call(this),_defineProperty(_assertThisInitialized(_this78),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this78),"ri",0),_defineProperty(_assertThisInitialized(_this78),"di",null),_defineProperty(_assertThisInitialized(_this78),"B",null),_defineProperty(_assertThisInitialized(_this78),"ui",null),_temp22),_this78._shadowRoot=_this78.attachShadow({mode:"closed"}),_this78._shadowRoot.adoptedStyleSheets=[bn._shadowStyleSheet],_this78._shadowRoot.append(document.importNode(bn._shadowTemplate.content,!0));return _this78;}_createClass(bn,[{key:"connectedCallback",value:function connectedCallback(){var _this79=this;this.setAttribute("tabindex","0"),this.U(),As.addEventListener("sizechange",this.B=function(){return _this79.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("opened"===t?this.opened?this.ci():this.pi():"size"===t&&this.U());}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ci",value:function ci(){var _this80=this;if(this.isConnected){var _t193=0-this.getBoundingClientRect().height-10+"px",_e153=getComputedStyle(this).bottom;this.animate({bottom:[_t193,_e153]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});}{this.ri=0,this.di=setInterval(function(){_this80.ri+=100,_this80.timeout>0&&_this80.ri>_this80.timeout&&(_this80.opened=!1);},100);var _t194=Hs();window.addEventListener("pointerdown",this.ui=function(e){var i=Hs(),s=_this80.getBoundingClientRect();i-_t194>10&&!1===function(t,e){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height;}(s,new DOMPoint(e.clientX,e.clientY))&&(_this80.opened=!1);},!0);}}},{key:"pi",value:function(){var _pi=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee49(){var _t195,_e154,_i143;return regeneratorRuntime.wrap(function _callee49$(_context49){while(1){switch(_context49.prev=_context49.next){case 0:if(!(clearInterval(this.di),this.isConnected)){_context49.next=6;break;}this.setAttribute("animating","");_t195=getComputedStyle(this).bottom,_e154=0-this.getBoundingClientRect().height-10+"px",_i143=this.animate({bottom:[_t195,_e154]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context49.next=5;return _i143.finished;case 5:this.removeAttribute("animating");case 6:window.removeEventListener("pointerdown",this.ui,!0);case 7:case"end":return _context49.stop();}}},_callee49,this);}));function pi(){return _pi.apply(this,arguments);}return pi;}()}]);return bn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(bn,"observedAttributes",["opened","size"]);_defineProperty(bn,"_shadowTemplate",Ds(_templateObject144()));_defineProperty(bn,"_shadowStyleSheet",zs(_templateObject145()));customElements.define("x-notification",bn);var mn=Number.isFinite,gn=Number.isNaN,fn=Number.parseFloat,wn=Number.isFinite;var vn=["0","1","2","3","4","5","6","7","8","9","-","+",",","."];var yn=/*#__PURE__*/function(_HTMLElement20){_inherits(yn,_HTMLElement20);var _super21=_createSuper(yn);_createClass(yn,[{key:"value",get:function get(){return this.hasAttribute("value")?parseFloat(this.getAttribute("value")):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"min",get:function get(){return this.hasAttribute("min")?parseFloat(this.getAttribute("min")):-Infinity;},set:function set(t){wn(t)?this.setAttribute("min",t):this.removeAttribute("min");}},{key:"max",get:function get(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):Infinity;},set:function set(t){wn(t)?this.setAttribute("max",t):this.removeAttribute("max");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"precision",get:function get(){return this.hasAttribute("precision")?parseFloat(this.getAttribute("precision")):20;},set:function set(t){this.setAttribute("precision",t);}},{key:"step",get:function get(){return this.hasAttribute("step")?parseFloat(this.getAttribute("step")):1;},set:function set(t){this.setAttribute("step",t);}},{key:"prefix",get:function get(){return this.hasAttribute("prefix")?this.getAttribute("prefix"):"";},set:function set(t){this.setAttribute("prefix",t);}},{key:"suffix",get:function get(){return this.hasAttribute("suffix")?this.getAttribute("suffix"):"";},set:function set(t){this.setAttribute("suffix",t);}},{key:"required",get:function get(){return this.hasAttribute("required");},set:function set(t){t?this.setAttribute("required",""):this.removeAttribute("required");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"condensed",get:function get(){return this.hasAttribute("condensed");},set:function set(t){t?this.setAttribute("condensed",""):this.removeAttribute("condensed");}},{key:"error",get:function get(){return this.getAttribute("error");},set:function set(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function yn(){var _temp23,_this81;_classCallCheck(this,yn);(_temp23=_this81=_super21.call(this),_defineProperty(_assertThisInitialized(_this81),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this81),"I",{}),_defineProperty(_assertThisInitialized(_this81),"yt",0),_defineProperty(_assertThisInitialized(_this81),"B",null),_defineProperty(_assertThisInitialized(_this81),"mi",!1),_defineProperty(_assertThisInitialized(_this81),"bi",!1),_defineProperty(_assertThisInitialized(_this81),"gi",!1),_defineProperty(_assertThisInitialized(_this81),"xi",!1),_defineProperty(_assertThisInitialized(_this81),"fi",!1),_defineProperty(_assertThisInitialized(_this81),"wi",!1),_defineProperty(_assertThisInitialized(_this81),"Pi",Ws(function(){!_this81.bi||_this81.gi||_this81.xi||_this81.fi||(_this81.bi=!1,_this81.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})));},500)),_temp23),_this81._shadowRoot=_this81.attachShadow({mode:"closed",delegatesFocus:!0}),_this81._shadowRoot.adoptedStyleSheets=[yn._shadowStyleSheet],_this81._shadowRoot.append(document.importNode(yn._shadowTemplate.content,!0));var _iterator110=_createForOfIteratorHelper(_this81._shadowRoot.querySelectorAll("[id]")),_step110;try{for(_iterator110.s();!(_step110=_iterator110.n()).done;){var _t196=_step110.value;_this81.I[_t196.id]=_t196;}}catch(err){_iterator110.e(err);}finally{_iterator110.f();}_this81._shadowRoot.addEventListener("pointerdown",function(t){return _this81.vi(t);}),_this81._shadowRoot.addEventListener("wheel",function(t){return _this81.Oe(t);}),_this81.I.editor.addEventListener("paste",function(t){return _this81.yi(t);}),_this81.I.editor.addEventListener("input",function(t){return _this81.zi(t);}),_this81.addEventListener("pointerdown",function(t){return _this81.zt(t);}),_this81.addEventListener("keydown",function(t){return _this81.kt(t);}),_this81.addEventListener("keyup",function(t){return _this81.ki(t);}),_this81.addEventListener("keypress",function(t){return _this81.Hs(t);}),_this81.addEventListener("incrementstart",function(t){return _this81.Ci(t);}),_this81.addEventListener("decrementstart",function(t){return _this81.Si(t);}),_this81.addEventListener("focusin",function(t){return _this81.ge(t);}),_this81.addEventListener("focusout",function(t){return _this81.xe(t);});return _this81;}_createClass(yn,[{key:"connectedCallback",value:function connectedCallback(){var _this82=this;this.Ct(),this.U(),this.nt(),As.addEventListener("sizechange",this.B=function(){return _this82.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t?this.ot():"min"===t?this.Ei():"max"===t?this.Ai():"prefix"===t?this.Li():"suffix"===t?this.Ti():"disabled"===t?this.qt():"size"===t&&this.lt();}},{key:"validate",value:function validate(){this.value<this.min?this.error="Value is too low":this.value>this.max?this.error="Value is too high":this.required&&null===this.value?this.error="This field is required":this.error=null;}},{key:"Mi",value:function Mi(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.value,i=this.value;i+=t?10*this.step:this.step,i=ls(i,this.min,this.max,hs(this.step)),e!==i&&(this.value=i),this.matches(":focus")&&document.execCommand("selectAll"),this.validate(),this.be();}},{key:"Di",value:function Di(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.value,i=this.value;i-=t?10*this.step:this.step,i=ls(i,this.min,this.max,hs(this.step)),e!==i&&(this.value=i),this.matches(":focus")&&document.execCommand("selectAll"),this.validate(),this.be();}},{key:"$i",value:function $i(){this.bi||(this.bi=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})));}},{key:"Ri",value:function Ri(){var t=this.I.editor.textContent,e=""===t.trim()?null:parseFloat(t),i=ls(e,this.min,this.max);i!==this.value?(this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.value=i,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))):e!==this.value&&(this.value=i),this.validate();}},{key:"nt",value:function nt(){this.wi&&this.validate(),this.Ii(),this.be(),this.Oi();}},{key:"Ii",value:function Ii(){this.hasAttribute("value")?this.I.editor.textContent=this.getAttribute("value").trim():this.I.editor.textContent="";}},{key:"be",value:function be(){var t=null;if(this.matches(":focus")){var _e155=this.I.editor.textContent;t=""===_e155.trim()?null:parseFloat(_e155);}else t=this.value;null===t?this.setAttribute("empty",""):this.removeAttribute("empty");}},{key:"Oi",value:function Oi(){var t=this.querySelector("x-stepper");if(t){var _e156=this.value>this.min,_i144=this.value<this.max;!0===_i144&&!0===_e156?t.removeAttribute("disabled"):!1===_i144&&!1===_e156?t.setAttribute("disabled",""):!1===_i144?t.setAttribute("disabled","increment"):!1===_e156&&t.setAttribute("disabled","decrement");}}},{key:"Ct",value:function Ct(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){this.nt();}},{key:"Ei",value:function Ei(){this.Oi();}},{key:"Ai",value:function Ai(){this.Oi();}},{key:"Li",value:function Li(){this.I.editor.setAttribute("data-prefix",this.prefix);}},{key:"Ti",value:function Ti(){this.I.editor.setAttribute("data-suffix",this.suffix);}},{key:"qt",value:function qt(){this.I.editor.disabled=this.disabled,this.Ct();}},{key:"lt",value:function lt(){this.U();}},{key:"ge",value:function ge(){this.wi=!0,document.execCommand("selectAll"),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));}},{key:"xe",value:function xe(){this._shadowRoot.getSelection().collapse(this.I.main),this.I.editor.scrollLeft=0,this.Ri(),this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0}));}},{key:"zi",value:function zi(){this.error=null,this.be(),this.Oi();}},{key:"Oe",value:function Oe(t){this.matches(":focus")&&(t.preventDefault(),this.$i(),t.wheelDeltaX>0||t.wheelDeltaY>0?(this.Mi(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))):(this.Di(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))),this.Pi());}},{key:"N",value:function N(t){t.preventDefault();}},{key:"zt",value:function zt(t){"x-stepper"===t.target.localName&&t.preventDefault();}},{key:"vi",value:function vi(t){var _this83=this;if(1===t.buttons&&!1!==t.isPrimary){if(t.target===this.I.editor&&!1===this.I.editor.matches(":focus")){t.preventDefault();var _e157,_i147,_s94=this.value,_n56=t.clientX,_o40=new DOMPoint(t.clientX,t.clientY);this.style.cursor="col-resize",this.I.editor.setPointerCapture(t.pointerId),this.I.editor.addEventListener("pointermove",_e157=function _e157(e){var i=new DOMPoint(e.clientX,e.clientY),l=e.timeStamp-t.timeStamp,h=e.clientX!==_n56,a=as(_o40,i)>3||l>80;if(_n56=e.clientX,h&&a&&e.isPrimary){!1===_this83.mi&&(_this83.mi=!0,_this83.bi=!0,_this83.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})));var _i146=e.clientX-t.clientX,_n57=_s94+_i146*_this83.step;_n57=ls(_n57,_this83.min,_this83.max,hs(_this83.step)),_this83.value=_n57,_this83.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}}),this.I.editor.addEventListener("lostpointercapture",_i147=function _i145(){_this83.I.editor.removeEventListener("pointermove",_e157),_this83.I.editor.removeEventListener("lostpointercapture",_i147),_this83.style.cursor=null,!0===_this83.mi?(_this83.mi=!1,_this83.bi=!1,_this83.dispatchEvent(new CustomEvent("changeend",{detail:_this83.value!==_s94,bubbles:!0}))):(_this83.I.editor.focus(),document.execCommand("selectAll"));});}}else t.preventDefault();}},{key:"Ci",value:function Ci(t){var _this84=this;var e,_i148;this.fi=!0,this.addEventListener("increment",e=function e(t){_this84.$i(),_this84.Mi(t.detail.shiftKey),_this84.dispatchEvent(new CustomEvent("change",{bubbles:!0})),_this84.Pi(),_this84.nt();}),this.addEventListener("incrementend",_i148=function i(t){_this84.fi=!1,_this84.removeEventListener("increment",e),_this84.removeEventListener("incrementend",_i148);});}},{key:"Si",value:function Si(t){var _this85=this;var e,_i149;this.fi=!0,this.addEventListener("decrement",e=function e(t){_this85.$i(),_this85.Di(t.detail.shiftKey),_this85.dispatchEvent(new CustomEvent("change",{bubbles:!0})),_this85.Pi(),_this85.nt();}),this.addEventListener("decrementend",_i149=function i(t){_this85.fi=!1,_this85.removeEventListener("decrement",e),_this85.removeEventListener("decrementend",_i149);});}},{key:"kt",value:function kt(t){"ArrowDown"===t.code?(t.preventDefault(),this.gi=!0,this.$i(),this.Di(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Pi(),this.nt()):"ArrowUp"===t.code?(t.preventDefault(),this.gi=!0,this.$i(),this.Mi(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Pi(),this.nt()):"Backspace"===t.code?this.xi=!0:"Enter"===t.code&&(this.Ri(),document.execCommand("selectAll"));}},{key:"ki",value:function ki(t){"ArrowDown"===t.code||"ArrowUp"===t.code?(this.gi=!1,this.Pi()):"Backspace"===t.code&&(this.xi=!1);}},{key:"Hs",value:function Hs(t){!1===vn.includes(t.key)&&t.preventDefault();}},{key:"yi",value:function(){var _yi5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee50(t){var e;return regeneratorRuntime.wrap(function _callee50$(_context50){while(1){switch(_context50.prev=_context50.next){case 0:t.preventDefault();e=t.clipboardData.getData("text/plain").trim();_context50.t0=function(t){var e=fn(t);return!1===gn(e)&&mn(e);}(e);if(!_context50.t0){_context50.next=7;break;}_context50.next=6;return js(1);case 6:document.execCommand("insertText",!1,e);case 7:case"end":return _context50.stop();}}},_callee50);}));function yi(_x38){return _yi5.apply(this,arguments);}return yi;}()}]);return yn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(yn,"observedAttributes",["value","min","max","prefix","suffix","disabled","size"]);_defineProperty(yn,"_shadowTemplate",Ds(_templateObject146()));_defineProperty(yn,"_shadowStyleSheet",zs(_templateObject147()));customElements.define("x-numberinput",yn);var kn=/*#__PURE__*/function(_HTMLElement21){_inherits(kn,_HTMLElement21);var _super22=_createSuper(kn);_createClass(kn,[{key:"opened",get:function get(){return this.hasAttribute("opened");}},{key:"modal",get:function get(){return this.hasAttribute("modal");},set:function set(t){t?this.setAttribute("modal",""):this.removeAttribute("modal");}}]);function kn(){var _temp24,_this86;_classCallCheck(this,kn);(_temp24=_this86=_super22.call(this),_defineProperty(_assertThisInitialized(_this86),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this86),"I",{}),_defineProperty(_assertThisInitialized(_this86),"Bi",null),_defineProperty(_assertThisInitialized(_this86),"Hi",null),_temp24),_this86._shadowRoot=_this86.attachShadow({mode:"closed"}),_this86._shadowRoot.adoptedStyleSheets=[kn._shadowStyleSheet],_this86._shadowRoot.append(document.importNode(kn._shadowTemplate.content,!0));var _iterator111=_createForOfIteratorHelper(_this86._shadowRoot.querySelectorAll("[id]")),_step111;try{for(_iterator111.s();!(_step111=_iterator111.n()).done;){var _t197=_step111.value;_this86.I[_t197.id]=_t197;}}catch(err){_iterator111.e(err);}finally{_iterator111.f();}_this86.I.backdrop=Ns("x-backdrop"),_this86.I.backdrop.style.background="rgba(0, 0, 0, 0)",_this86.I.backdrop.ownerElement=_assertThisInitialized(_this86),_this86.I.backdrop.addEventListener("click",function(t){t.preventDefault();}),_this86.I.backdrop.addEventListener("pointerdown",function(t){_this86.hasAttribute("animating")&&t.stopPropagation();});return _this86;}_createClass(kn,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=-1;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"modal"===t&&(this.modal&&this.opened?this.I.backdrop.show():this.I.backdrop.hide());}},{key:"open",value:function open(t){var _this87=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref42=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee51(i){var _t198,_this87$Ne,_this87$Ne2,_e158,_i150,_s95;return regeneratorRuntime.wrap(function _callee51$(_context51){while(1){switch(_context51.prev=_context51.next){case 0:if(!(!1===_this87.opened)){_context51.next=8;break;}if(!(_this87.modal&&_this87.I.backdrop.show(!1),_this87.setAttribute("opened",""),_this87.Fi(),_this87.Ni(t),_this87.Bi=function(t){var e=function e(t){return t&&t!==document.body?function(t){var e=getComputedStyle(t,null);return /(auto|scroll)/.test(e.getPropertyValue("overflow")+e.getPropertyValue("overflow-y")+e.getPropertyValue("overflow-x"));}(t)?t:e(t.parentElement||t.parentNode.host):document.body;};return e(t);}(_this87),_this87.Bi&&_this87.Bi.addEventListener("scroll",_this87.Hi=function(){_this87.close();},{once:!0}),e)){_context51.next=7;break;}_t198=getComputedStyle(_this87).getPropertyValue("--open-transition"),_this87$Ne=_this87.Ne(_t198),_this87$Ne2=_slicedToArray(_this87$Ne,3),_e158=_this87$Ne2[0],_i150=_this87$Ne2[1],_s95=_this87$Ne2[2];_context51.t0="transform"===_e158;if(!_context51.t0){_context51.next=7;break;}_context51.next=7;return _this87.animate({transform:["scale(1, 0)","scale(1, 1)"],transformOrigin:["0 0","0 0"]},{duration:_i150,easing:_s95}).finished;case 7:_this87.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:_this87}));case 8:i();case 9:case"end":return _context51.stop();}}},_callee51);}));return function(_x39){return _ref42.apply(this,arguments);};}());}},{key:"close",value:function close(){var _this88=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;return new Promise(/*#__PURE__*/function(){var _ref43=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee52(e){var _t199,_this88$Ne,_this88$Ne2,_e159,_i151,_s96;return regeneratorRuntime.wrap(function _callee52$(_context52){while(1){switch(_context52.prev=_context52.next){case 0:if(!(!0===_this88.opened&&(_this88.removeAttribute("opened"),_this88.I.backdrop.hide(),_this88.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:_this88})),_this88.Bi.removeEventListener("scroll",_this88.Hi),t))){_context52.next=8;break;}_t199=getComputedStyle(_this88).getPropertyValue("--close-transition"),_this88$Ne=_this88.Ne(_t199),_this88$Ne2=_slicedToArray(_this88$Ne,3),_e159=_this88$Ne2[0],_i151=_this88$Ne2[1],_s96=_this88$Ne2[2];_this88.setAttribute("animating","");_context52.t0="opacity"===_e159;if(!_context52.t0){_context52.next=7;break;}_context52.next=7;return _this88.animate({opacity:["1","0"]},{duration:_i151,easing:_s96}).finished;case 7:_this88.removeAttribute("animating");case 8:e();case 9:case"end":return _context52.stop();}}},_callee52);}));return function(_x40){return _ref43.apply(this,arguments);};}());}},{key:"Ni",value:function Ni(t){var _this89=this;var e=getComputedStyle(this).getPropertyValue("--align").trim(),i=parseInt(getComputedStyle(this).borderWidth),s=0,n=0,o=null;this.style.maxWidth=null,this.style.maxHeight=null,this.style.left="0px",this.style.top="0px";{var _e160=os(this.getBoundingClientRect());0===_e160.top&&0===_e160.left||(s=-_e160.left,n=-_e160.top),o=t instanceof DOMPoint?new DOMRect(t.x,t.y,0,0):t instanceof DOMRect?t:t instanceof Element?t.getBoundingClientRect():new DOMRect();}if("bottom"===e||"top"===e){var _t200=function _t200(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxHeight=null,_this89.I.arrow.setAttribute("data-align","bottom");var e=os(_this89.getBoundingClientRect()),s=os(_this89.I.arrow.getBoundingClientRect()),l=0;if(_this89.I.arrow.style.top=n+o.bottom+2+i+"px",_this89.style.top=n+o.bottom+2+s.height+"px",e=os(_this89.getBoundingClientRect()),l=e.bottom+8-window.innerHeight,t&&l>0){var _t201=e.height-l;l=0,_this89.style.maxHeight=_t201+"px";}return l;},_l34=function _l34(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxHeight=null,_this89.I.arrow.setAttribute("data-align","top");var e=os(_this89.getBoundingClientRect()),s=os(_this89.I.arrow.getBoundingClientRect()),l=0;if(_this89.I.arrow.style.top=n+o.top-2-i-s.height+"px",_this89.style.top=n+o.top-2-s.height-e.height+"px",e=os(_this89.getBoundingClientRect()),l=-(e.top-8),t&&l>0){var _t202=e.height-l;l=0,_this89.style.maxHeight=_t202+"px",_this89.style.top=n+o.top-2-s.height-_t202+"px";}return l;},_h22=function _h22(){_this89.style.maxWidth=null;var t=os(_this89.getBoundingClientRect()),e=0,i=0;return _this89.I.arrow.style.left=s+o.left+o.width/2+"px",_this89.style.left=s+o.left+o.width/2-t.width/2+"px",t=os(_this89.getBoundingClientRect()),e=-(t.left-8),i=t.right+8-window.innerWidth,[e,i];},_a18=function _a18(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxWidth=null;var e=os(_this89.getBoundingClientRect()),i=0;if(_this89.I.arrow.style.left=s+o.left+o.width/2+"px",_this89.style.left=s+window.innerWidth-8-e.width+"px",e=os(_this89.getBoundingClientRect()),i=-(e.left-8),t&&i>0){var _t203=e.width-i;i=0,_this89.style.maxWidth=_t203+"px",_this89.style.left=s+window.innerWidth-8-_t203+"px";}return i;},_r11=function _r11(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxWidth=null;var e=os(_this89.getBoundingClientRect()),i=0;if(_this89.I.arrow.style.left=s+o.left+o.width/2+"px",_this89.style.left=s+8+"px",e=os(_this89.getBoundingClientRect()),i=e.right+8-window.innerWidth,t&&i>0){var _t204=e.width-i;i=0,_this89.style.maxWidth=_t204+"px";}return i;};if("bottom"===e){var _e161=_t200();if(_e161>0){var _i152=_l34();_i152>0&&(_i152>_e161?_t200(!0):_l34(!0));}}else if("top"===e){var _e162=_l34();if(_e162>0){var _i153=_t200();_i153>0&&(_i153>_e162?_l34(!0):_t200(!0));}}{var _h23=_h22(),_h24=_slicedToArray(_h23,2),_t205=_h24[0],_e163=_h24[1];_e163>0?(_t205=_a18(),_t205>0&&_a18(!0)):_t205>0&&(_e163=_r11(),_e163>0&&_r11(!0));}}else if("right"===e||"left"===e){var _t206=function _t206(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxWidth=null,_this89.I.arrow.setAttribute("data-align","right");var e=os(_this89.getBoundingClientRect()),n=os(_this89.I.arrow.getBoundingClientRect()),l=0;if(_this89.I.arrow.style.left=s+o.right+2+i+"px",_this89.style.left=s+o.right+2+n.width+"px",e=os(_this89.getBoundingClientRect()),l=e.right+8-window.innerWidth,t&&l>0){var _t207=e.width-l;l=0,_this89.style.maxWidth=_t207+"px";}return l;},_l35=function _l35(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxWidth=null,_this89.I.arrow.setAttribute("data-align","left");var e=os(_this89.getBoundingClientRect()),n=os(_this89.I.arrow.getBoundingClientRect()),l=0;if(_this89.I.arrow.style.left=s+o.left-2-i-n.width+"px",_this89.style.left=s+o.left-2-n.width-e.width+"px",e=os(_this89.getBoundingClientRect()),l=-(e.left-8),t&&l>0){var _t208=e.width-l;l=0,_this89.style.maxWidth=_t208+"px",_this89.style.left=s+o.left-2-n.width-_t208+"px";}return l;},_h25=function _h25(){_this89.style.maxHeight=null;var t=os(_this89.getBoundingClientRect()),e=0,i=0;return _this89.I.arrow.style.top=n+o.top+o.height/2+"px",_this89.style.top=n+o.top+o.height/2-t.height/2+"px",t=os(_this89.getBoundingClientRect()),e=-(t.top-8),i=t.bottom+8-window.innerHeight,[e,i];},_a19=function _a19(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxHeight=null;var e=os(_this89.getBoundingClientRect()),i=0;if(_this89.I.arrow.style.top=n+o.top+o.height/2+"px",_this89.style.top=n+window.innerHeight-8-e.height+"px",e=os(_this89.getBoundingClientRect()),i=-(e.top-8),t&&i>0){var _t209=e.height-i;i=0,_this89.style.maxHeight=_t209+"px",_this89.style.top=n+window.innerHeight-8-_t209+"px";}return i;},_r12=function _r12(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxHeight=null;var e=os(_this89.getBoundingClientRect()),i=0;if(_this89.I.arrow.style.top=n+o.top+o.height/2+"px",_this89.style.top=n+8+"px",e=os(_this89.getBoundingClientRect()),i=e.bottom+8-window.innerHeight,t&&i>0){var _t210=e.height-i;i=0,_this89.style.maxHeight=_t210+"px";}return i;};if("right"===e){var _e164=_t206();if(_e164>0){var _i154=_l35();_i154>0&&(_i154>_e164?_t206(!0):_l35(!0));}}else if("left"===e){var _e165=_l35();if(_e165>0){var _i155=_t206();_i155>0&&(_i155>_e165?_l35(!0):_t206(!0));}}{var _h26=_h25(),_h27=_slicedToArray(_h26,2),_t211=_h27[0],_e166=_h27[1];_e166>0?(_t211=_a19(),_t211>0&&_a19(!0)):_t211>0&&(_e166=_r12(),_e166>0&&_r12(!0));}}}},{key:"Fi",value:function Fi(){{var _getComputedStyle=getComputedStyle(this),_t212=_getComputedStyle.backgroundColor,_e167=_getComputedStyle.borderColor,_i156=_getComputedStyle.borderWidth;this.I["arrow-path"].style.fill=_t212,this.I["arrow-path"].style.stroke=_e167,this.I["arrow-path"].style.strokeWidth=_i156;}}},{key:"Ne",value:function Ne(t){var _t$trim$split3=t.trim().split(" "),_t$trim$split4=_toArray(_t$trim$split3),e=_t$trim$split4[0],i=_t$trim$split4[1],s=_t$trim$split4.slice(2);return[i,parseFloat(e),s.join(" ")];}}]);return kn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(kn,"observedAttributes",["modal"]);_defineProperty(kn,"_shadowTemplate",Ds(_templateObject148()));_defineProperty(kn,"_shadowStyleSheet",zs(_templateObject149()));customElements.define("x-popover",kn);var Sn=/*#__PURE__*/function(_HTMLElement22){_inherits(Sn,_HTMLElement22);var _super23=_createSuper(Sn);_createClass(Sn,[{key:"value",get:function get(){return this.hasAttribute("value")?parseFloat(this.getAttribute("value")):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"max",get:function get(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):1;},set:function set(t){this.setAttribute("max",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Sn(){var _temp25,_this90;_classCallCheck(this,Sn);(_temp25=_this90=_super23.call(this),_defineProperty(_assertThisInitialized(_this90),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this90),"I",{}),_defineProperty(_assertThisInitialized(_this90),"qi",null),_defineProperty(_assertThisInitialized(_this90),"B",null),_temp25),_this90._shadowRoot=_this90.attachShadow({mode:"closed"}),_this90._shadowRoot.adoptedStyleSheets=[Sn._shadowStyleSheet],_this90._shadowRoot.append(document.importNode(Sn._shadowTemplate.content,!0));var _iterator112=_createForOfIteratorHelper(_this90._shadowRoot.querySelectorAll("[id]")),_step112;try{for(_iterator112.s();!(_step112=_iterator112.n()).done;){var _t213=_step112.value;_this90.I[_t213.id]=_t213;}}catch(err){_iterator112.e(err);}finally{_iterator112.f();}return _this90;}_createClass(Sn,[{key:"connectedCallback",value:function connectedCallback(){var _this91=this;As.addEventListener("sizechange",this.B=function(){return _this91.U();}),this.nt(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t||"disabled"===t?this.nt():"size"===t&&this.U());}},{key:"nt",value:function nt(){if(null===this.value||-1===this.value||this.disabled?this.I["determinate-bar"].style.width="0%":this.I["determinate-bar"].style.width=this.value/this.max*100+"%",null!==this.value||this.disabled){if(this.qi){var _iterator113=_createForOfIteratorHelper(this.qi),_step113;try{for(_iterator113.s();!(_step113=_iterator113.n()).done;){var _t214=_step113.value;_t214.cancel();}}catch(err){_iterator113.e(err);}finally{_iterator113.f();}this.qi=null;}}else this.qi||(this.qi=[this.I["primary-indeterminate-bar"].animate([{left:"-35%",right:"100%",offset:0},{left:"100%",right:"-90%",offset:.6},{left:"100%",right:"-90%",offset:1}],{duration:2e3,easing:"ease-in-out",iterations:Infinity}),this.I["secondary-indeterminate-bar"].animate([{left:"-100%",right:"100%",offset:0},{left:"110%",right:"-30%",offset:.8},{left:"110%",right:"-30%",offset:1}],{duration:2e3,delay:1e3,easing:"ease-in-out",iterations:Infinity})]);}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return Sn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Sn,"observedAttributes",["value","max","disabled","size"]);_defineProperty(Sn,"_shadowTemplate",Ds(_templateObject150()));_defineProperty(Sn,"_shadowStyleSheet",zs(_templateObject151()));customElements.define("x-progressbar",Sn);var _n=/*#__PURE__*/function(_HTMLElement23){_inherits(_n,_HTMLElement23);var _super24=_createSuper(_n);_createClass(_n,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function _n(){var _temp26,_this92;_classCallCheck(this,_n);(_temp26=_this92=_super24.call(this),_defineProperty(_assertThisInitialized(_this92),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this92),"I",{}),_defineProperty(_assertThisInitialized(_this92),"yt",0),_defineProperty(_assertThisInitialized(_this92),"B",null),_temp26),_this92._shadowRoot=_this92.attachShadow({mode:"closed"}),_this92._shadowRoot.adoptedStyleSheets=[_n._shadowStyleSheet],_this92._shadowRoot.append(document.importNode(_n._shadowTemplate.content,!0));var _iterator114=_createForOfIteratorHelper(_this92._shadowRoot.querySelectorAll("[id]")),_step114;try{for(_iterator114.s();!(_step114=_iterator114.n()).done;){var _t215=_step114.value;_this92.I[_t215.id]=_t215;}}catch(err){_iterator114.e(err);}finally{_iterator114.f();}_this92.addEventListener("click",function(t){return _this92.N(t);}),_this92.addEventListener("pointerdown",function(t){return _this92.zt(t);}),_this92.addEventListener("keydown",function(t){return _this92.kt(t);});return _this92;}_createClass(_n,[{key:"connectedCallback",value:function connectedCallback(){var _this93=this;As.addEventListener("sizechange",this.B=function(){return _this93.U();}),this.Ct(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"toggled"===t?this.Nt():"disabled"===t?this.qt():"size"===t&&this.U();}},{key:"Ct",value:function Ct(){this.setAttribute("role","radio"),this.setAttribute("aria-checked",this.toggled),this.setAttribute("aria-disabled",this.disabled),this.closest("x-radios")||(this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0));}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Nt",value:function Nt(){this.setAttribute("aria-checked",this.toggled);}},{key:"qt",value:function qt(){this.Ct();}},{key:"N",value:function N(t){this.closest("x-radios")||(this.toggled&&this.mixed?this.mixed=!1:(this.mixed=!1,this.toggled=!this.toggled),this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0})));}},{key:"zt",value:function zt(t){if(!1===this.matches(":focus")){t.preventDefault();var _e168=Vs(this.parentNode,"[tabindex]");_e168&&_e168.focus();}}},{key:"kt",value:function kt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click());}}]);return _n;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(_n,"observedAttributes",["toggled","disabled","size"]);_defineProperty(_n,"_shadowTemplate",Ds(_templateObject152()));_defineProperty(_n,"_shadowStyleSheet",zs(_templateObject153()));customElements.define("x-radio",_n);var Cn=/*#__PURE__*/function(_HTMLElement24){_inherits(Cn,_HTMLElement24);var _super25=_createSuper(Cn);_createClass(Cn,[{key:"value",get:function get(){var t=this.querySelector("x-radio[toggled]");return t?t.value:null;},set:function set(t){var _iterator115=_createForOfIteratorHelper(this.querySelectorAll("x-radio")),_step115;try{for(_iterator115.s();!(_step115=_iterator115.n()).done;){var _e169=_step115.value;_e169.toggled=_e169.value===t&&null!==t;}}catch(err){_iterator115.e(err);}finally{_iterator115.f();}}}]);function Cn(){var _temp27,_this94;_classCallCheck(this,Cn);(_temp27=_this94=_super25.call(this),_defineProperty(_assertThisInitialized(_this94),"_shadowRoot",null),_temp27),_this94._shadowRoot=_this94.attachShadow({mode:"closed"}),_this94._shadowRoot.innerHTML="<slot></slot>",_this94.addEventListener("click",function(t){return _this94.N(t);},!0),_this94.addEventListener("keydown",function(t){return _this94.kt(t);});return _this94;}_createClass(Cn,[{key:"connectedCallback",value:function connectedCallback(){var _this95=this;this.setAttribute("role","radiogroup");var t=_toConsumableArray(this.querySelectorAll("x-radio")).filter(function(t){return t.closest("x-radios")===_this95;}),e=t.find(function(t){return t.toggled&&!t.disabled;})||t.find(function(t){return!t.disabled;});var _iterator116=_createForOfIteratorHelper(t),_step116;try{for(_iterator116.s();!(_step116=_iterator116.n()).done;){var _i157=_step116.value;_i157.setAttribute("tabindex",_i157===e?"0 ":"-1"),_i157.setAttribute("aria-checked",_i157===e);}}catch(err){_iterator116.e(err);}finally{_iterator116.f();}}},{key:"N",value:function N(t){var _this96=this;var e=t.target.closest("x-radio");if(e&&!e.toggled&&!e.disabled&&0===t.button){var _t216=_toConsumableArray(this.querySelectorAll("x-radio")).filter(function(t){return t.closest("x-radios")===_this96&&t!==e;});if(!1===e.toggled||!0===e.mixed){e.toggled=!0,e.mixed=!1,e.tabIndex=0;var _iterator117=_createForOfIteratorHelper(_t216),_step117;try{for(_iterator117.s();!(_step117=_iterator117.n()).done;){var _e170=_step117.value;_e170.toggled=!1,_e170.tabIndex=-1;}}catch(err){_iterator117.e(err);}finally{_iterator117.f();}this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));}}}},{key:"kt",value:function kt(t){var _this97=this;var e=t.key;if("ArrowDown"===e||"ArrowRight"===e){var _e171=_toConsumableArray(this.querySelectorAll("x-radio")),_i158=_e171.filter(function(t){return!1===t.disabled&&t.closest("x-radios")===_this97;}),_s97=_e171.find(function(t){return t.matches(":focus");});if(_s97){var _e172=_i158.indexOf(_s97),_n58=_i158.length>1?_i158[_e172+1]||_i158[0]:null;_n58&&(t.preventDefault(),_n58.focus(),_n58.tabIndex=0,_s97.tabIndex=-1);}}else if("ArrowUp"===e||"ArrowLeft"===e){var _e173=_toConsumableArray(this.querySelectorAll("x-radio")),_i159=_e173.filter(function(t){return!1===t.disabled&&t.closest("x-radios")===_this97;}),_s98=_e173.find(function(t){return t.matches(":focus");});if(_s98){var _e174=_i159.indexOf(_s98),_n59=_i159[_i159.length-1],_o41=_i159.length>1?_i159[_e174-1]||_n59:null;_o41&&(t.preventDefault(),_o41.focus(),_o41.tabIndex=0,_s98.tabIndex=-1);}}}}]);return Cn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));customElements.define("x-radios",Cn);var Mn=/*#__PURE__*/function(_HTMLElement25){_inherits(Mn,_HTMLElement25);var _super26=_createSuper(Mn);_createClass(Mn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)";},set:function set(t){this.setAttribute("value",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Mn(){var _temp28,_this98;_classCallCheck(this,Mn);(_temp28=_this98=_super26.call(this),_defineProperty(_assertThisInitialized(_this98),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this98),"I",{}),_defineProperty(_assertThisInitialized(_this98),"B",null),_defineProperty(_assertThisInitialized(_this98),"X",0),_defineProperty(_assertThisInitialized(_this98),"V",0),_defineProperty(_assertThisInitialized(_this98),"Ui",100),_defineProperty(_assertThisInitialized(_this98),"G",1),_defineProperty(_assertThisInitialized(_this98),"Y",!1),_defineProperty(_assertThisInitialized(_this98),"ji",!1),_defineProperty(_assertThisInitialized(_this98),"tt",!1),_temp28),_this98._shadowRoot=_this98.attachShadow({mode:"closed"}),_this98._shadowRoot.adoptedStyleSheets=[Mn._shadowStyleSheet],_this98._shadowRoot.append(document.importNode(Mn._shadowTemplate.content,!0));var _iterator118=_createForOfIteratorHelper(_this98._shadowRoot.querySelectorAll("[id]")),_step118;try{for(_iterator118.s();!(_step118=_iterator118.n()).done;){var _t217=_step118.value;_this98.I[_t217.id]=_t217;}}catch(err){_iterator118.e(err);}finally{_iterator118.f();}_this98.I["hue-slider"].addEventListener("pointerdown",function(t){return _this98.et(t);}),_this98.I["satlight-slider"].addEventListener("pointerdown",function(t){return _this98.Ki(t);}),_this98.I["alpha-slider"].addEventListener("pointerdown",function(t){return _this98.ht(t);});return _this98;}_createClass(Mn,[{key:"connectedCallback",value:function connectedCallback(){var _this99=this;this.nt(),this.U(),As.addEventListener("sizechange",this.B=function(){return _this99.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"size"===t&&this.lt());}},{key:"nt",value:function nt(){this.at(),this.Xi(),this.Vi(),this.bt(),this.gt();}},{key:"at",value:function at(){this.I["hue-slider-marker"].style.left=ls(this.X,0,360,0)/360*100+"%";}},{key:"Xi",value:function Xi(){var t=this.V/100*100,e=100-this.Ui/100*100;this.I["satlight-marker"].style.left="".concat(t,"%"),this.I["satlight-marker"].style.top="".concat(e,"%");}},{key:"Vi",value:function Vi(){var t=vs([this.X,100,50,1],"hsla","hex");this.I["satlight-slider"].style.background="linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,1)), linear-gradient(to left, rgba(255,255,255,0), rgba(255,255,255,1)), ".concat(t);}},{key:"bt",value:function bt(){this.I["alpha-slider-marker"].style.left=ls(100*(1-this.G),0,100,2)+"%";}},{key:"gt",value:function gt(){var _ws$map=ws(this.X,this.V,this.Ui).map(function(t){return ns(t,0);}),_ws$map2=_slicedToArray(_ws$map,3),t=_ws$map2[0],e=_ws$map2[1],i=_ws$map2[2];this.I["alpha-slider-gradient"].style.background="\n      linear-gradient(to right, rgba(".concat(t,", ").concat(e,", ").concat(i,", 1), rgba(").concat(t,", ").concat(e,", ").concat(i,", 0))\n    ");}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){if(!1===this.Y&&!1===this.ji&&!1===this.tt){var _Ms$parse7=new Ms().parse(this.value,"hsva"),_Ms$parse8=_slicedToArray(_Ms$parse7,4),_t218=_Ms$parse8[0],_e175=_Ms$parse8[1],_i160=_Ms$parse8[2],_s99=_Ms$parse8[3];this.X=_t218,this.V=_e175,this.Ui=_i160,this.G=_s99,this.nt();}}},{key:"lt",value:function lt(){this.U();}},{key:"Ki",value:function Ki(t){var _this100=this;if(1!==t.buttons)return;var e,_i161,s=this.I["satlight-slider"].getBoundingClientRect();this.ji=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.I["satlight-slider"].setPointerCapture(t.pointerId);var n=function n(t,e){var i=(t-s.left)/s.width*100,n=(e-s.top)/s.height*100;i=ls(i,0,100,2),n=ls(n,0,100,2),_this100.V=i,_this100.Ui=100-n,_this100.value=vs([_this100.X,_this100.V,_this100.Ui,_this100.G],"hsva","hsla"),_this100.dispatchEvent(new CustomEvent("change",{bubbles:!0})),_this100.Xi(),_this100.Vi(),_this100.gt();};n(t.clientX,t.clientY),this.I["satlight-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX,t.clientY);}),this.I["satlight-slider"].addEventListener("lostpointercapture",_i161=function i(t){_this100.I["satlight-slider"].removeEventListener("pointermove",e),_this100.I["satlight-slider"].removeEventListener("lostpointercapture",_i161),_this100.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this100.ji=!1;});}},{key:"et",value:function et(t){var _this101=this;if(1!==t.buttons)return;var e,_i162,s=this.I["hue-slider-track"].getBoundingClientRect();this.Y=!0,this.I["hue-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=(t-s.x)/s.width*360;e=ls(e,0,360,0),e!==_this101.X&&(_this101.X=e,_this101.value=vs([_this101.X,_this101.V,_this101.Ui,_this101.G],"hsva","hsla"),_this101.at(),_this101.Vi(),_this101.Xi(),_this101.gt(),_this101.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["hue-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["hue-slider"].addEventListener("lostpointercapture",_i162=function i(){_this101.I["hue-slider"].removeEventListener("pointermove",e),_this101.I["hue-slider"].removeEventListener("lostpointercapture",_i162),_this101.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this101.Y=!1;});}},{key:"ht",value:function ht(t){var _this102=this;if(1!==t.buttons)return;var e,_i163,s=this.I["alpha-slider-track"].getBoundingClientRect();this.tt=!0,this.I["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=1-(t-s.x)/s.width;e=ls(e,0,1,2),e!==_this102.G&&(_this102.G=e,_this102.value=vs([_this102.X,_this102.V,_this102.Ui,_this102.G],"hsva","hsla"),_this102.bt(),_this102.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["alpha-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["alpha-slider"].addEventListener("lostpointercapture",_i163=function i(){_this102.I["alpha-slider"].removeEventListener("pointermove",e),_this102.I["alpha-slider"].removeEventListener("lostpointercapture",_i163),_this102.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this102.tt=!1;});}}]);return Mn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Mn,"observedAttributes",["value","size"]);_defineProperty(Mn,"_shadowTemplate",Ds(_templateObject154()));_defineProperty(Mn,"_shadowStyleSheet",zs(_templateObject155()));customElements.define("x-rectcolorpicker",Mn);var Pn=Symbol();var Dn=/*#__PURE__*/function(_HTMLElement26){_inherits(Dn,_HTMLElement26);var _super27=_createSuper(Dn);_createClass(Dn,[{key:"value",get:function get(){var t=this.querySelector("x-menuitem[toggled]");return t?t.value:null;},set:function set(t){var _iterator119=_createForOfIteratorHelper(this.querySelectorAll("x-menuitem")),_step119;try{for(_iterator119.s();!(_step119=_iterator119.n()).done;){var _e176=_step119.value;_e176.toggled=_e176.value===t&&null!==t;}}catch(err){_iterator119.e(err);}finally{_iterator119.f();}}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Dn(){var _temp29,_this103;_classCallCheck(this,Dn);(_temp29=_this103=_super27.call(this),_defineProperty(_assertThisInitialized(_this103),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this103),"I",{}),_defineProperty(_assertThisInitialized(_this103),"yt",0),_defineProperty(_assertThisInitialized(_this103),"wt",!1),_defineProperty(_assertThisInitialized(_this103),"Zi",null),_defineProperty(_assertThisInitialized(_this103),"Gi",null),_defineProperty(_assertThisInitialized(_this103),"B",null),_defineProperty(_assertThisInitialized(_this103),"Yi",new MutationObserver(function(t){return _this103.Wi(t);})),_defineProperty(_assertThisInitialized(_this103),"O",new ResizeObserver(function(){return _this103.Ji();})),_defineProperty(_assertThisInitialized(_this103),"os",Ys(_this103.es,300,_assertThisInitialized(_this103))),_temp29),_this103._shadowRoot=_this103.attachShadow({mode:"closed"}),_this103._shadowRoot.adoptedStyleSheets=[Dn._shadowStyleSheet],_this103._shadowRoot.append(document.importNode(Dn._shadowTemplate.content,!0));var _iterator120=_createForOfIteratorHelper(_this103._shadowRoot.querySelectorAll("[id]")),_step120;try{for(_iterator120.s();!(_step120=_iterator120.n()).done;){var _t219=_step120.value;_this103.I[_t219.id]=_t219;}}catch(err){_iterator120.e(err);}finally{_iterator120.f();}_this103.I.backdrop=Ns("x-backdrop"),_this103.I.backdrop.style.opacity="0",_this103.I.backdrop.ownerElement=_assertThisInitialized(_this103),_this103.I.backdrop.addEventListener("click",function(t){return _this103.Qi(t);}),_this103.addEventListener("pointerdown",function(t){return _this103.zt(t);}),_this103.addEventListener("toggle",function(t){return _this103.ts(t);}),_this103.addEventListener("click",function(t){return _this103.N(t);}),_this103.addEventListener("keydown",function(t){return _this103.kt(t);});return _this103;}_createClass(Dn,[{key:"connectedCallback",value:function connectedCallback(){var _this104=this;this.Yi.observe(this,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),this.O.observe(this),this.es(),this.Ct(),this.U(),As.addEventListener("sizechange",this.B=function(){return _this104.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Yi.disconnect(),this.O.disconnect(),As.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t?this.Ct():"size"===t&&this.U();}},{key:"Vt",value:function Vt(){var _this105=this;if(!1===this.ss())return;this.wt=this.matches(":focus"),this.I.backdrop.show(!1),window.addEventListener("resize",this.Zi=function(){_this105.Zt();}),window.addEventListener("blur",this.Gi=function(){_this105.Zt();});var t=this.querySelector(":scope > x-menu");{var _e177=null;var _iterator121=_createForOfIteratorHelper(t.querySelectorAll("x-menuitem")),_step121;try{for(_iterator121.s();!(_step121=_iterator121.n()).done;){var _i164=_step121.value;_i164.togglable=!0,_i164.toggled&&(null===_e177?_e177=_i164:_i164.toggled=!1);}}catch(err){_iterator121.e(err);}finally{_iterator121.f();}}if(t.querySelector("x-menuitem[toggled]")){var _e178=this.I.button.querySelector("x-label")||this.I.button.firstElementChild,_i165=_e178[Pn];t.openOverElement(_e178,_i165);}else{var _e179=t.querySelector("x-menuitem").firstElementChild;t.openOverElement(this.I.button,_e179);}{var _e180=t.getBoundingClientRect(),_i166=this.I.button.getBoundingClientRect(),_s100=parseFloat(getComputedStyle(this).paddingRight);_e180.right-_s100<_i166.right&&(t.style.minWidth=_i166.right-_e180.left+_s100+"px");}{var _t220=this.getBoundingClientRect();_t220.right+7>window.innerWidth&&(this.style.maxWidth=window.innerWidth-_t220.left-7+"px");}}},{key:"Zt",value:function(){var _Zt2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee53(){var t,e,_t221,_args53=arguments;return regeneratorRuntime.wrap(function _callee53$(_context53){while(1){switch(_context53.prev=_context53.next){case 0:t=_args53.length>0&&_args53[0]!==undefined?_args53[0]:null;if(!(!1===this.hs())){_context53.next=3;break;}return _context53.abrupt("return");case 3:e=this.querySelector(":scope > x-menu");e.setAttribute("closing","");_context53.next=7;return t;case 7:this.I.backdrop.hide(!1);if(!this.wt){_context53.next=12;break;}this.focus();_context53.next=14;break;case 12:_t221=Vs(this.parentNode,"[tabindex]");_t221&&_t221.focus();case 14:window.removeEventListener("resize",this.Zi);window.removeEventListener("blur",this.Gi);_context53.next=18;return e.close();case 18:e.removeAttribute("closing");case 19:case"end":return _context53.stop();}}},_callee53,this);}));function Zt(){return _Zt2.apply(this,arguments);}return Zt;}()},{key:"ss",value:function ss(){if(this.disabled)return!1;{var _t222=this.querySelector(":scope > x-menu"),_e181=_t222.querySelector("x-menuitem");return null!==_t222&&!1===_t222.opened&&!1===_t222.hasAttribute("closing")&&null!==_e181;}}},{key:"hs",value:function hs(){if(this.disabled)return!1;{var _t223=this.querySelector(":scope > x-menu");return _t223.querySelector("x-menuitem"),null!==_t223&&!0===_t223.opened&&!1===_t223.hasAttribute("closing");}}},{key:"es",value:function es(){var t=this.querySelector(":scope > x-menu x-menuitem[toggled]");if(this.I.button.innerHTML="",t){var _iterator122=_createForOfIteratorHelper(t.children),_step122;try{for(_iterator122.s();!(_step122=_iterator122.n()).done;){var _e182=_step122.value;var _t224=_e182.cloneNode(!0);_t224[Pn]=_e182,_t224.removeAttribute("id"),_t224.removeAttribute("style"),this.I.button.append(_t224);}}catch(err){_iterator122.e(err);}finally{_iterator122.f();}this.ns();}this.I.button.append(this.I["arrow-container"]);}},{key:"ns",value:function ns(){var _iterator123=_createForOfIteratorHelper(this.I.button.children),_step123;try{for(_iterator123.s();!(_step123=_iterator123.n()).done;){var _t225=_step123.value;if(_t225!==this.I["arrow-container"]){var _getComputedStyle2=getComputedStyle(_t225[Pn]),_e183=_getComputedStyle2.width,_i167=_getComputedStyle2.height,_s101=_getComputedStyle2.margin,_n60=_getComputedStyle2.padding,_o42=_getComputedStyle2.border,_l36=_getComputedStyle2.borderRadius;["x-icon","x-swatch","img","svg"].includes(_t225[Pn].localName)&&(_t225.style.width=_e183,_t225.style.height=_i167,_t225.style.minWidth=_e183,_t225.style.borderRadius=_l36),_t225.style.margin=_s101,_t225.style.padding=_n60,_t225.style.border=_o42;}}}catch(err){_iterator123.e(err);}finally{_iterator123.f();}}},{key:"Ct",value:function Ct(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);{this.setAttribute("role","button");var _t226=this.querySelector(":scope > x-menu");if(_t226){_t226.setAttribute("role","listbox");var _iterator124=_createForOfIteratorHelper(_t226.querySelectorAll("x-menuitem")),_step124;try{for(_iterator124.s();!(_step124=_iterator124.n()).done;){var _e184=_step124.value;_e184.setAttribute("role","option");}}catch(err){_iterator124.e(err);}finally{_iterator124.f();}}}}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Wi",value:function Wi(t){var _iterator125=_createForOfIteratorHelper(t),_step125;try{for(_iterator125.s();!(_step125=_iterator125.n()).done;){var _e185=_step125.value;"attributes"===_e185.type&&"x-menuitem"===_e185.target.localName&&"toggled"===_e185.attributeName&&this.os();}}catch(err){_iterator125.e(err);}finally{_iterator125.f();}}},{key:"Ji",value:function Ji(){this.ns();}},{key:"zt",value:function zt(t){t.target.closest("x-menu")||!1!==this.matches(":focus")||t.preventDefault();}},{key:"N",value:function(){var _N5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee54(t){var _e186,_t227,_i168,_iterator126,_step126,_t228;return regeneratorRuntime.wrap(function _callee54$(_context54){while(1){switch(_context54.prev=_context54.next){case 0:if(!(0===t.button)){_context54.next=14;break;}if(!this.ss()){_context54.next=5;break;}this.Vt();_context54.next=14;break;case 5:if(!this.hs()){_context54.next=14;break;}_e186=t.target.closest("x-menuitem");if(!_e186){_context54.next=14;break;}_t227=this.value,_i168=_e186.value;_iterator126=_createForOfIteratorHelper(this.querySelectorAll("x-menuitem"));try{for(_iterator126.s();!(_step126=_iterator126.n()).done;){_t228=_step126.value;_t228.toggled=_t228===_e186;}}catch(err){_iterator126.e(err);}finally{_iterator126.f();}_context54.next=13;return this.Zt(_e186.whenTriggerEnd);case 13:(_t227!==_i168||this.mixed)&&(this.mixed=!1,this.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{oldValue:_t227,newValue:_i168}})));case 14:case"end":return _context54.stop();}}},_callee54,this);}));function N(_x41){return _N5.apply(this,arguments);}return N;}()},{key:"ts",value:function ts(t){t.preventDefault();}},{key:"Qi",value:function Qi(t){this.Zt();}},{key:"kt",value:function kt(t){!1===t.defaultPrevented&&(this.querySelector(":scope > x-menu"),"Enter"===t.key||"Space"===t.key||"ArrowUp"===t.key||"ArrowDown"===t.key?this.ss()&&(t.preventDefault(),this.Vt()):"Escape"===t.key&&this.hs()&&(t.preventDefault(),this.Zt()));}}]);return Dn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Dn,"observedAttributes",["disabled","size"]);_defineProperty(Dn,"_shadowTemplate",Ds(_templateObject156()));_defineProperty(Dn,"_shadowStyleSheet",zs(_templateObject157()));customElements.define("x-select",Dn);var zn=navigator.platform.startsWith("Mac")||["iPhone","iPad"].includes(navigator.platform),On=["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Symbol","SymbolLock"];var En=/*#__PURE__*/function(_HTMLElement27){_inherits(En,_HTMLElement27);var _super28=_createSuper(En);_createClass(En,[{key:"value",get:function get(){var t=[];if(this.hasAttribute("value")){var _e187=this.getAttribute("value").replace("++","+PLUS").split("+");_e187=_e187.map(function(t){return t.trim().replace("PLUS","+");}).filter(function(t){return""!==t;}),t=_e187;}return t;},set:function set(t){this.setAttribute("value",t.join("+"));}},{key:"modKeys",get:function get(){return this.value.filter(function(t){return On.includes(t);});}},{key:"normalKey",get:function get(){var t=this.value.find(function(t){return!1===On.includes(t);});return void 0===t?null:t;}}]);function En(){var _temp30,_this106;_classCallCheck(this,En);(_temp30=_this106=_super28.call(this),_defineProperty(_assertThisInitialized(_this106),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this106),"I",{}),_temp30),_this106._shadowRoot=_this106.attachShadow({mode:"closed"}),_this106._shadowRoot.adoptedStyleSheets=[En._shadowStyleSheet],_this106._shadowRoot.append(document.importNode(En._shadowTemplate.content,!0));var _iterator127=_createForOfIteratorHelper(_this106._shadowRoot.querySelectorAll("[id]")),_step127;try{for(_iterator127.s();!(_step127=_iterator127.n()).done;){var _t229=_step127.value;_this106.I[_t229.id]=_t229;}}catch(err){_iterator127.e(err);}finally{_iterator127.f();}return _this106;}_createClass(En,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t&&this.nt();}},{key:"nt",value:function nt(){var t="";this.value;var e=this.modKeys,i=this.normalKey;if(zn){e.includes("Meta")&&(t+="^"),e.includes("Alt")&&(t+="\u2325"),e.includes("Shift")&&(t+="\u21E7"),e.includes("Control")&&(t+="\u2318"),e.includes("Symbol")&&(t+="\u263A");var _s102={ArrowUp:"\u2191",ArrowDown:"\u2193",ArrowLeft:"\u2190",ArrowRight:"\u2192",Backspace:"\u2326"};void 0!==i&&(t+=_s102[i]||i);}else{var _s103=[];e.includes("Control")&&_s103.push("Ctrl"),e.includes("Alt")&&_s103.push("Alt"),e.includes("Meta")&&_s103.push("Meta"),e.includes("Shift")&&_s103.push("Shift"),e.includes("Symbol")&&_s103.push("Symbol");var _n61={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"};null!==i&&_s103.push(_n61[i]||i),t=_s103.join("+");}this.I.main.textContent=t;}}]);return En;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(En,"observedAttributes",["value"]);_defineProperty(En,"_shadowTemplate",Ds(_templateObject158()));_defineProperty(En,"_shadowStyleSheet",zs(_templateObject159()));customElements.define("x-shortcut",En);var Tn=function Tn(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;if(t.length!==e.length)return!1;if(i){for(var _i169 in t){if(t[_i169]!==e[_i169])return!1;}}else{for(var _i170=0;_i170<t.length;_i170+=1){if(!e.includes(t[_i170]))return!1;}for(var _i171=0;_i171<e.length;_i171+=1){if(!t.includes(e[_i171]))return!1;}}return!0;},An=function An(t,e){return ns(ns(t/e)*e,hs(e));};var $n=/*#__PURE__*/function(_HTMLElement28){_inherits($n,_HTMLElement28);var _super29=_createSuper($n);_createClass($n,[{key:"min",get:function get(){return this.hasAttribute("min")?parseFloat(this.getAttribute("min")):0;},set:function set(t){this.setAttribute("min",t);}},{key:"max",get:function get(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):100;},set:function set(t){this.setAttribute("max",t);}},{key:"value",get:function get(){if(this.hasAttribute("value")){var _t230=this.getAttribute("value").split(/[ ,]+/);return _t230.length>=2?_t230.map(function(t){return parseFloat(t);}).slice(0,2):parseFloat(_t230[0]);}return this.max>=this.min?this.min+(this.max-this.min)/2:this.min;},set:function set(t){var _this108=this;Array.isArray(t)?((t=t.map(function(t){return ls(t,_this108.min,_this108.max);})).length=2,this.setAttribute("value",t.join(" "))):(t=ls(t,this.min,this.max),this.setAttribute("value",t));}},{key:"buffer",get:function get(){if(this.hasAttribute("buffer")){var _t231=this.getAttribute("buffer").split(/[ ,]+/);return _t231.length>=2?_t231.map(function(t){return parseFloat(t);}).slice(0,2):[0,parseFloat(_t231[0])];}return[0,0];},set:function set(t){var _this109=this;(t=t.map(function(t){return ls(t,_this109.min,_this109.max);})).length=2,this.setAttribute("buffer",t.join(" "));}},{key:"step",get:function get(){return this.hasAttribute("step")?parseFloat(this.getAttribute("step")):1;},set:function set(t){this.setAttribute("step",t);}},{key:"vertical",get:function get(){return this.hasAttribute("vertical");},set:function set(t){t?this.setAttribute("vertical",""):this.removeAttribute("vertical");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}},{key:"dragging",get:function get(){return this.getAttribute("dragging");}}]);function $n(){var _temp31,_this107;_classCallCheck(this,$n);(_temp31=_this107=_super29.call(this),_defineProperty(_assertThisInitialized(_this107),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this107),"I",{}),_defineProperty(_assertThisInitialized(_this107),"yt",0),_defineProperty(_assertThisInitialized(_this107),"B",null),_defineProperty(_assertThisInitialized(_this107),"Yi",new MutationObserver(function(t){return _this107.Wi(t);})),_defineProperty(_assertThisInitialized(_this107),"ls",new ResizeObserver(function(){return _this107.rs();})),_defineProperty(_assertThisInitialized(_this107),"bs",Ys(_this107.cs,500,_assertThisInitialized(_this107))),_temp31),_this107._shadowRoot=_this107.attachShadow({mode:"closed",delegatesFocus:!0}),_this107._shadowRoot.adoptedStyleSheets=[$n._shadowStyleSheet],_this107._shadowRoot.append(document.importNode($n._shadowTemplate.content,!0));var _iterator128=_createForOfIteratorHelper(_this107._shadowRoot.querySelectorAll("[id]")),_step128;try{for(_iterator128.s();!(_step128=_iterator128.n()).done;){var _t232=_step128.value;_this107.I[_t232.id]=_t232;}}catch(err){_iterator128.e(err);}finally{_iterator128.f();}_this107._shadowRoot.addEventListener("pointerdown",function(t){return _this107.vi(t);}),_this107.addEventListener("pointerdown",function(t){return _this107.zt(t);}),_this107.addEventListener("keydown",function(t){return _this107.kt(t);});return _this107;}_createClass($n,[{key:"connectedCallback",value:function connectedCallback(){var _this110=this;this.setAttribute("value",this.value),As.addEventListener("sizechange",this.B=function(){return _this110.U();}),this.ls.observe(this.I["start-thumb"]),this.Yi.observe(this,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"],characterData:!1}),this.ds(),this.us(),this.cs(),this.Ct(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.B),this.ls.unobserve(this.I["start-thumb"]),this.Yi.disconnect();}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"buffer"===t?this.ps():"min"===t?this.Ei():"max"===t?this.Ai():"size"===t&&this.lt());}},{key:"ot",value:function ot(){this.ds(),this.us();}},{key:"ps",value:function ps(){this.ds();}},{key:"Ei",value:function Ei(){this.ds(),this.us(),this.cs();}},{key:"Ai",value:function Ai(){this.ds(),this.us(),this.cs();}},{key:"lt",value:function lt(){this.U();}},{key:"Wi",value:function Wi(t){var _iterator129=_createForOfIteratorHelper(t),_step129;try{for(_iterator129.s();!(_step129=_iterator129.n()).done;){var _e188=_step129.value;if("attributes"===_e188.type&&_e188.target===this)return;this.bs();}}catch(err){_iterator129.e(err);}finally{_iterator129.f();}}},{key:"rs",value:function rs(){var t=this.I["start-thumb"].getBoundingClientRect();this.I.main.style.setProperty("--computed-thumb-width",t.width+"px"),this.I.main.style.setProperty("--computed-thumb-height",t.height+"px");}},{key:"zt",value:function zt(t){if(!1===this.matches(":focus")){t.preventDefault();var _e189=Vs(this.parentNode,"[tabindex]");_e189&&_e189.focus();}}},{key:"vi",value:function vi(t){var _this111=this;if(1!==t.buttons||!1===t.isPrimary)return;var e,_i173,s=null,_this$I$startThumb$g=this.I["start-thumb"].getBoundingClientRect(),n=_this$I$startThumb$g.width,o=_this$I$startThumb$g.height,l=this.I.main.getBoundingClientRect(),h=!1;if(t.target.matches(".thumb"))s=t.target;else if(!0===this.I["end-thumb"].hidden)s=this.I["start-thumb"];else{var _e190=this.I["start-thumb"].getBoundingClientRect(),_i172=this.I["end-thumb"].getBoundingClientRect(),_n62=new DOMPoint(_e190.x+_e190.width/2,_e190.y+_e190.height/2),_o43=new DOMPoint(_i172.x+_i172.width/2,_i172.y+_i172.height/2),_l37=new DOMPoint(t.clientX,t.clientY),_h28=as(_l37,_n62),_a20=as(_l37,_o43);s=_h28<=_a20?this.I["start-thumb"]:this.I["end-thumb"];}var a=function a(t,e){var i=0;if(_this111.vertical){var _t233=l.y+l.height-o/2-e;_t233=ls(_t233,0,l.height-o),i=_t233/(l.height-o)*(_this111.max-_this111.min)+_this111.min;}else{var _e191=t-(l.x+n/2);_e191=ls(_e191,0,l.width-n),i=_e191/(l.width-n)*(_this111.max-_this111.min)+_this111.min;}if(i=An(i,_this111.step),Array.isArray(_this111.value)){var _this111$value=_slicedToArray(_this111.value,2),_t234=_this111$value[0],_e192=_this111$value[1];s===_this111.I["start-thumb"]?(i>=_e192&&(i=_e192),i!==_t234&&(_this111.value=[i,_e192],!1===h&&(h=!0,_this111.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),_this111.dispatchEvent(new CustomEvent("change",{bubbles:!0})))):s===_this111.I["end-thumb"]&&(i<=_t234&&(i=_t234),i!==_e192&&(_this111.value=[_t234,i],!1===h&&(h=!0,_this111.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),_this111.dispatchEvent(new CustomEvent("change",{bubbles:!0}))));}else _this111.value!==i&&(_this111.value=i,!1===h&&(h=!0,_this111.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),_this111.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};s.setPointerCapture(t.pointerId),this.setAttribute("dragging",s.dataset.value),a(t.clientX,t.clientY);var _iterator130=_createForOfIteratorHelper(this.I.thumbs.children),_step130;try{for(_iterator130.s();!(_step130=_iterator130.n()).done;){var _t235=_step130.value;_t235.style.zIndex=_t235===s?"1":"0";}}catch(err){_iterator130.e(err);}finally{_iterator130.f();}s.addEventListener("pointermove",e=function e(t){t.isPrimary&&a(t.clientX,t.clientY);}),s.addEventListener("lostpointercapture",_i173=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i173),_this111.removeAttribute("dragging"),h&&_this111.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}));});}},{key:"kt",value:function kt(t){if("ArrowLeft"===t.code||"ArrowDown"===t.code){t.preventDefault(),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var _e193=this.value;if(Array.isArray(this.value)){var _this$value=_slicedToArray(this.value,2),_i174=_this$value[0],_s104=_this$value[1];this._shadowRoot.activeElement===this.I["start-thumb"]?t.shiftKey?_i174-=10*this.step:_i174-=this.step:this._shadowRoot.activeElement===this.I["end-thumb"]&&(t.shiftKey?_s104-=10*this.step:_s104-=this.step,_s104<=_i174&&(_s104=_i174)),this.value=[_i174,_s104],!1===Tn(_e193,this.value)&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}else t.shiftKey?this.value-=10*this.step:this.value-=this.step,_e193!==this.value&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}));}else if("ArrowRight"===t.code||"ArrowUp"===t.code){t.preventDefault(),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var _e194=this.value;if(Array.isArray(this.value)){var _this$value2=_slicedToArray(this.value,2),_i175=_this$value2[0],_s105=_this$value2[1];this._shadowRoot.activeElement===this.I["start-thumb"]?(t.shiftKey?_i175+=10*this.step:_i175+=this.step,_i175>=_s105&&(_i175=_s105)):this._shadowRoot.activeElement===this.I["end-thumb"]&&(t.shiftKey?_s105+=10*this.step:_s105+=this.step),this.value=[_i175,_s105],!1===Tn(_e194,this.value)&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}else t.shiftKey?this.value+=10*this.step:this.value+=this.step,_e194!==this.value&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}));}}},{key:"us",value:function us(){if(Array.isArray(this.value)){var _this$value3=_slicedToArray(this.value,2),_t236=_this$value3[0],_e195=_this$value3[1];{var _e196=(_t236-this.min)/(this.max-this.min)*100;this.vertical?(this.I["start-thumb"].style.top=100-_e196+"%",this.I["start-thumb"].hidden=!1):(this.I["start-thumb"].style.left=_e196+"%",this.I["start-thumb"].hidden=!1);}{var _t237=(_e195-this.min)/(this.max-this.min)*100;this.vertical?(this.I["end-thumb"].style.top=100-_t237+"%",this.I["end-thumb"].hidden=!1):(this.I["end-thumb"].style.left=_t237+"%",this.I["end-thumb"].hidden=!1);}}else{var _t238=(this.value-this.min)/(this.max-this.min)*100;this.vertical?(this.I["start-thumb"].style.top=100-_t238+"%",this.I["start-thumb"].hidden=!1,this.I["end-thumb"].hidden=!0):(this.I["start-thumb"].style.left=_t238+"%",this.I["start-thumb"].hidden=!1,this.I["end-thumb"].hidden=!0);}}},{key:"ds",value:function ds(){if(Array.isArray(this.value)){var _this$value4=_slicedToArray(this.value,2),_t239=_this$value4[0],_e197=_this$value4[1],_i176=(_t239-this.min)/(this.max-this.min)*100,_s106=(_e197-this.min)/(this.max-this.min)*100;this.vertical?(this.I["range-track"].style.bottom="".concat(_i176,"%"),this.I["range-track"].style.height=_s106-_i176+"%"):(this.I["range-track"].style.left="".concat(_i176,"%"),this.I["range-track"].style.width=_s106-_i176+"%");}else{var _t240=(this.value-this.min)/(this.max-this.min)*100,_e198=((this.min>0?this.min:0)-this.min)/(this.max-this.min)*100;this.vertical?_t240>=_e198?(this.I["range-track"].style.bottom="".concat(_e198,"%"),this.I["range-track"].style.height=_t240-_e198+"%"):(this.I["range-track"].style.bottom="".concat(_t240,"%"),this.I["range-track"].style.height=_e198-_t240+"%"):_t240>=_e198?(this.I["range-track"].style.left="".concat(_e198,"%"),this.I["range-track"].style.width=_t240-_e198+"%"):(this.I["range-track"].style.left="".concat(_t240,"%"),this.I["range-track"].style.width=_e198-_t240+"%");}{var _this$buffer=_slicedToArray(this.buffer,2),_t241=_this$buffer[0],_e199=_this$buffer[1],_i177=(_t241-this.min)/(this.max-this.min)*100,_s107=(_e199-this.min)/(this.max-this.min)*100;this.vertical?(this.I["buffer-track"].style.bottom=_i177+"%",this.I["buffer-track"].style.height=_s107-_i177+"%"):(this.I["buffer-track"].style.left=_i177+"%",this.I["buffer-track"].style.width=_s107-_i177+"%");}}},{key:"cs",value:function(){var _cs=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee55(){var _iterator131,_step131,_t242;return regeneratorRuntime.wrap(function _callee55$(_context55){while(1){switch(_context55.prev=_context55.next){case 0:_context55.next=2;return customElements.whenDefined("x-label");case 2:this.I.ticks.innerHTML="";_iterator131=_createForOfIteratorHelper(this.querySelectorAll(":scope > x-label"));try{for(_iterator131.s();!(_step131=_iterator131.n()).done;){_t242=_step131.value;this.vertical?_t242.style.top=100-(_t242.value-this.min)/(this.max-this.min)*100+"%":_t242.style.left=(_t242.value-this.min)/(this.max-this.min)*100+"%",_t242===this.firstElementChild?_t242.style.position="relative":_t242.style.position=null,this.vertical?this.I.ticks.insertAdjacentHTML("beforeend","<div class=\"tick\" part=\"tick\" style=\"top: ".concat(_t242.style.top,"\"></div>")):this.I.ticks.insertAdjacentHTML("beforeend","<div class=\"tick\" part=\"tick\" style=\"left: ".concat(_t242.style.left,"\"></div>"));}}catch(err){_iterator131.e(err);}finally{_iterator131.f();}case 5:case"end":return _context55.stop();}}},_callee55,this);}));function cs(){return _cs.apply(this,arguments);}return cs;}()},{key:"Ct",value:function Ct(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return $n;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty($n,"observedAttributes",["value","buffer","min","max","size"]);_defineProperty($n,"_shadowTemplate",Ds(_templateObject160()));_defineProperty($n,"_shadowStyleSheet",zs(_templateObject161()));customElements.define("x-slider",$n);var In=/*#__PURE__*/function(_HTMLElement29){_inherits(In,_HTMLElement29);var _super30=_createSuper(In);_createClass(In,[{key:"disabled",get:function get(){return!!this.hasAttribute("disabled")&&("increment"===this.getAttribute("disabled")?"increment":"decrement"!==this.getAttribute("disabled")||"decrement");},set:function set(t){!0===t?this.setAttribute("disabled",""):!1===t?this.removeAttribute("disabled"):this.setAttribute("disabled",t);}}]);function In(){var _temp32,_this112;_classCallCheck(this,In);(_temp32=_this112=_super30.call(this),_defineProperty(_assertThisInitialized(_this112),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this112),"I",{}),_defineProperty(_assertThisInitialized(_this112),"gs",null),_temp32),_this112._shadowRoot=_this112.attachShadow({mode:"closed"}),_this112._shadowRoot.adoptedStyleSheets=[In._shadowStyleSheet],_this112._shadowRoot.append(document.importNode(In._shadowTemplate.content,!0));var _iterator132=_createForOfIteratorHelper(_this112._shadowRoot.querySelectorAll("[id]")),_step132;try{for(_iterator132.s();!(_step132=_iterator132.n()).done;){var _t243=_step132.value;_this112.I[_t243.id]=_t243;}}catch(err){_iterator132.e(err);}finally{_iterator132.f();}_this112._shadowRoot.addEventListener("pointerdown",function(t){return _this112.zt(t);});return _this112;}_createClass(In,[{key:"connectedCallback",value:function connectedCallback(){"x-numberinput"===this.parentElement.localName&&(this.gs=this.parentElement,this.gs.setAttribute("hasstepper",""));}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.gs&&(null===this.gs.querySelector(":scope > x-stepper")&&this.gs.removeAttribute("hasstepper",""),this.gs=null);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t&&this.qt();}},{key:"qt",value:function qt(){this.hasAttribute("disabled")&&(this.removeAttribute("pressed"),this.I["increment-button"].removeAttribute("data-pressed"),this.I["decrement-button"].removeAttribute("data-pressed"));}},{key:"zt",value:function zt(t){var _this113=this;var e=t.target.closest(".button"),i=null;if(e===this.I["increment-button"]?i="increment":e===this.I["decrement-button"]&&(i="decrement"),1===t.buttons&&null!==i){{var _s108=Date.now();e.setAttribute("data-pressed",""),this.setAttribute("pressed",i),this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",/*#__PURE__*/function(){var _ref44=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee56(t){var i;return regeneratorRuntime.wrap(function _callee56$(_context56){while(1){switch(_context56.prev=_context56.next){case 0:i=Date.now()-_s108;_context56.t0=i<100;if(!_context56.t0){_context56.next=5;break;}_context56.next=5;return js(100-i);case 5:e.removeAttribute("data-pressed");_this113.removeAttribute("pressed");case 7:case"end":return _context56.stop();}}},_callee56);}));return function(_x42){return _ref44.apply(this,arguments);};}(),{once:!0});}{var _e200=null,_s109=Date.now(),_n63=t.shiftKey;this.dispatchEvent(new CustomEvent(i+"start",{bubbles:!0})),this.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{shiftKey:_n63}})),this.addEventListener("lostpointercapture",function(t){clearInterval(_e200),_this113.dispatchEvent(new CustomEvent(i+"end",{bubbles:!0}));},{once:!0}),_e200=setInterval(function(){Date.now()-_s109>500&&_this113.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{shiftKey:_n63}}));},100);}}}}]);return In;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(In,"observedAttributes",["disabled"]);_defineProperty(In,"_shadowTemplate",Ds(_templateObject162()));_defineProperty(In,"_shadowStyleSheet",zs(_templateObject163()));customElements.define("x-stepper",In);var Ln=/*#__PURE__*/function(_HTMLElement30){_inherits(Ln,_HTMLElement30);var _super31=_createSuper(Ln);_createClass(Ln,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"white";},set:function set(t){this.setAttribute("value",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Ln(){var _temp33,_this114;_classCallCheck(this,Ln);(_temp33=_this114=_super31.call(this),_defineProperty(_assertThisInitialized(_this114),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this114),"I",{}),_defineProperty(_assertThisInitialized(_this114),"B",null),_temp33),_this114._shadowRoot=_this114.attachShadow({mode:"closed"}),_this114._shadowRoot.adoptedStyleSheets=[Ln._shadowStyleSheet],_this114._shadowRoot.append(document.importNode(Ln._shadowTemplate.content,!0));var _iterator133=_createForOfIteratorHelper(_this114._shadowRoot.querySelectorAll("[id]")),_step133;try{for(_iterator133.s();!(_step133=_iterator133.n()).done;){var _t244=_step133.value;_this114.I[_t244.id]=_t244;}}catch(err){_iterator133.e(err);}finally{_iterator133.f();}return _this114;}_createClass(Ln,[{key:"connectedCallback",value:function connectedCallback(){var _this115=this;this.xs(),this.U(),As.addEventListener("sizechange",this.B=function(){return _this115.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t?this.xs():"size"===t&&this.U();}},{key:"xs",value:function xs(){this.I.preview.style.background=this.value;}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return Ln;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ln,"observedAttributes",["value","size"]);_defineProperty(Ln,"_shadowTemplate",Ds(_templateObject164()));_defineProperty(Ln,"_shadowStyleSheet",zs(_templateObject165()));customElements.define("x-swatch",Ln);var Bn=/*#__PURE__*/function(_HTMLElement31){_inherits(Bn,_HTMLElement31);var _super32=_createSuper(Bn);_createClass(Bn,[{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Bn(){var _temp34,_this116;_classCallCheck(this,Bn);(_temp34=_this116=_super32.call(this),_defineProperty(_assertThisInitialized(_this116),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this116),"I",{}),_defineProperty(_assertThisInitialized(_this116),"yt",0),_defineProperty(_assertThisInitialized(_this116),"B",null),_temp34),_this116._shadowRoot=_this116.attachShadow({mode:"closed"}),_this116._shadowRoot.adoptedStyleSheets=[Bn._shadowStyleSheet],_this116._shadowRoot.append(document.importNode(Bn._shadowTemplate.content,!0));var _iterator134=_createForOfIteratorHelper(_this116._shadowRoot.querySelectorAll("[id]")),_step134;try{for(_iterator134.s();!(_step134=_iterator134.n()).done;){var _t245=_step134.value;_this116.I[_t245.id]=_t245;}}catch(err){_iterator134.e(err);}finally{_iterator134.f();}_this116.addEventListener("pointerdown",function(t){return _this116.zt(t);}),_this116.addEventListener("click",function(t){return _this116.N(t);}),_this116.addEventListener("keydown",function(t){return _this116.kt(t);});return _this116;}_createClass(Bn,[{key:"connectedCallback",value:function connectedCallback(){var _this117=this;As.addEventListener("sizechange",this.B=function(){return _this117.U();}),this.Ct(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"toggled"===t?this.Nt():"disabled"===t?this.qt():"size"===t&&this.U();}},{key:"Ct",value:function Ct(){this.setAttribute("role","switch"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Nt",value:function Nt(){this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled);}},{key:"qt",value:function qt(){this.Ct();}},{key:"zt",value:function zt(t){if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();var _e201=Vs(this.parentNode,"[tabindex]");_e201&&_e201.focus();}}else t.preventDefault();}},{key:"N",value:function(){var _N6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee57(t){return regeneratorRuntime.wrap(function _callee57$(_context57){while(1){switch(_context57.prev=_context57.next){case 0:this.mixed?this.mixed=!1:this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle"));case 1:case"end":return _context57.stop();}}},_callee57,this);}));function N(_x43){return _N6.apply(this,arguments);}return N;}()},{key:"kt",value:function kt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click());}}]);return Bn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Bn,"observedAttributes",["toggled","disabled","size"]);_defineProperty(Bn,"_shadowTemplate",Ds(_templateObject166()));_defineProperty(Bn,"_shadowStyleSheet",zs(_templateObject167()));customElements.define("x-switch",Bn);var Rn=Math.max;var Gn=/*#__PURE__*/function(_HTMLElement32){_inherits(Gn,_HTMLElement32);var _super33=_createSuper(Gn);_createClass(Gn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"";},set:function set(t){this.setAttribute("value",t);}},{key:"selected",get:function get(){return this.hasAttribute("selected");},set:function set(t){t?this.setAttribute("selected",""):this.removeAttribute("selected");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Gn(){var _temp35,_this118;_classCallCheck(this,Gn);(_temp35=_this118=_super33.call(this),_defineProperty(_assertThisInitialized(_this118),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this118),"I",{}),_defineProperty(_assertThisInitialized(_this118),"B",null),_temp35),_this118._shadowRoot=_this118.attachShadow({mode:"closed"}),_this118._shadowRoot.adoptedStyleSheets=[Gn._shadowStyleSheet],_this118._shadowRoot.append(document.importNode(Gn._shadowTemplate.content,!0));var _iterator135=_createForOfIteratorHelper(_this118._shadowRoot.querySelectorAll("[id]")),_step135;try{for(_iterator135.s();!(_step135=_iterator135.n()).done;){var _t246=_step135.value;_this118.I[_t246.id]=_t246;}}catch(err){_iterator135.e(err);}finally{_iterator135.f();}_this118.addEventListener("pointerdown",function(t){return _this118.zt(t);}),_this118.addEventListener("click",function(t){return _this118.N(t);});return _this118;}_createClass(Gn,[{key:"connectedCallback",value:function connectedCallback(){var _this119=this;this.Ct(),this.U(),As.addEventListener("sizechange",this.B=function(){return _this119.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"selected"===t||"disabled"===t?this.Ct():"size"===t&&this.U();}},{key:"animateSelectionIndicator",value:function animateSelectionIndicator(t){var _this120=this;return new Promise(/*#__PURE__*/function(){var _ref45=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee58(e){var _e202,_i178,_s110;return regeneratorRuntime.wrap(function _callee58$(_context58){while(1){switch(_context58.prev=_context58.next){case 0:if(!("0px"!==_this120.I["selection-indicator"].style.height)){_context58.next=4;break;}_e202=_this120.getBoundingClientRect(),_i178=t.getBoundingClientRect(),_s110=_this120.I["selection-indicator"].animate([{left:"0px",width:_e202.width+"px"},{left:_i178.left-_e202.left+"px",width:_i178.width+"px"}],{duration:100,iterations:1,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"});_context58.next=4;return _s110.finished;case 4:e();case 5:case"end":return _context58.stop();}}},_callee58);}));return function(_x44){return _ref45.apply(this,arguments);};}());}},{key:"Ct",value:function Ct(){this.setAttribute("role","tab"),this.setAttribute("aria-selected",this.selected),this.setAttribute("aria-disabled",this.disabled),this.setAttribute("tabindex",this.selected?"0":"-1");}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"zt",value:function(){var _zt2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee60(t){var _this121=this;var _e203,_e204,_e205,_i180,_s111,_n64,_o44,_l38,_h29,_a21,_r13;return regeneratorRuntime.wrap(function _callee60$(_context60){while(1){switch(_context60.prev=_context60.next){case 0:if(!1===this.matches(":focus")){t.preventDefault();_e203=Vs(this.parentNode,"[tabindex]");_e203&&_e203.focus();}if(!(1===t.buttons)){_context60.next=24;break;}_e204=Date.now();this.setAttribute("pressed",""),this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",/*#__PURE__*/function(){var _ref46=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee59(t){var _t247,_i179;return regeneratorRuntime.wrap(function _callee59$(_context59){while(1){switch(_context59.prev=_context59.next){case 0:if(!(!0===_this121.selected)){_context59.next=6;break;}_t247=Date.now()-_e204,_i179=100;_context59.t0=_t247<_i179;if(!_context59.t0){_context59.next=6;break;}_context59.next=6;return js(_i179-_t247);case 6:_this121.removeAttribute("pressed");case 7:case"end":return _context59.stop();}}},_callee59);}));return function(_x46){return _ref46.apply(this,arguments);};}(),{once:!0});if(!("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context60.next=24;break;}_e205=this.I.ripples.getBoundingClientRect(),_i180=1.5*Rn(_e205.width,_e205.height),_s111=t.clientY-_e205.y-_i180/2,_n64=t.clientX-_e205.x-_i180/2,_o44=new Promise(function(t){return _this121.addEventListener("lostpointercapture",t,{once:!0});}),_l38=Ns("div");_l38.setAttribute("part","ripple");_l38.setAttribute("class","ripple pointer-down-ripple");_l38.setAttribute("style","width: ".concat(_i180,"px; height: ").concat(_i180,"px; top: ").concat(_s111,"px; left: ").concat(_n64,"px;"));this.I.ripples.append(_l38);this.setPointerCapture(t.pointerId);_l38.hidden=!0;_context60.next=14;return js(10);case 14:_l38.hidden=!1;_h29=_l38.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context60.next=18;return _o44;case 18:_context60.next=20;return _h29.finished;case 20:_a21=getComputedStyle(_l38).opacity,_r13=_l38.animate({opacity:[_a21,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context60.next=23;return _r13.finished;case 23:_l38.remove();case 24:case"end":return _context60.stop();}}},_callee60,this);}));function zt(_x45){return _zt2.apply(this,arguments);}return zt;}()},{key:"N",value:function(){var _N7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee61(t){var _t248,_e206,_i181,_s112,_n65,_o45,_l39,_h30;return regeneratorRuntime.wrap(function _callee61$(_context61){while(1){switch(_context61.prev=_context61.next){case 0:if(!(null===this.I.ripples.querySelector(".pointer-down-ripple")&&"ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context61.next=10;break;}_t248=this.I.ripples.getBoundingClientRect(),_e206=1.5*Rn(_t248.width,_t248.height),_i181=_t248.y+_t248.height/2-_t248.y-_e206/2,_s112=_t248.x+_t248.width/2-_t248.x-_e206/2,_n65=Ns("div");_n65.setAttribute("part","ripple"),_n65.setAttribute("class","ripple click-ripple"),_n65.setAttribute("style","width: ".concat(_e206,"px; height: ").concat(_e206,"px; top: ").concat(_i181,"px; left: ").concat(_s112,"px;")),this.I.ripples.append(_n65);_o45=_n65.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context61.next=6;return _o45.finished;case 6:_l39=getComputedStyle(_n65).opacity,_h30=_n65.animate({opacity:[_l39,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context61.next=9;return _h30.finished;case 9:_n65.remove();case 10:case"end":return _context61.stop();}}},_callee61,this);}));function N(_x47){return _N7.apply(this,arguments);}return N;}()}]);return Gn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Gn,"observedAttributes",["selected","disabled","size"]);_defineProperty(Gn,"_shadowTemplate",Ds(_templateObject168()));_defineProperty(Gn,"_shadowStyleSheet",zs(_templateObject169()));customElements.define("x-tab",Gn);var Fn=/*#__PURE__*/function(_HTMLElement33){_inherits(Fn,_HTMLElement33);var _super34=_createSuper(Fn);_createClass(Fn,[{key:"value",get:function get(){var t=this.querySelector("x-tab[selected]");return t?t.value:null;},set:function set(t){var e=_toConsumableArray(this.querySelectorAll("x-tab")),i=null===t?null:e.find(function(e){return e.value===t;});var _iterator136=_createForOfIteratorHelper(e),_step136;try{for(_iterator136.s();!(_step136=_iterator136.n()).done;){var _t249=_step136.value;_t249.selected=_t249===i;}}catch(err){_iterator136.e(err);}finally{_iterator136.f();}}}]);function Fn(){var _temp36,_this122;_classCallCheck(this,Fn);(_temp36=_this122=_super34.call(this),_defineProperty(_assertThisInitialized(_this122),"_shadowRoot",null),_temp36),_this122._shadowRoot=_this122.attachShadow({mode:"closed"}),_this122._shadowRoot.adoptedStyleSheets=[Fn._shadowStyleSheet],_this122._shadowRoot.append(document.importNode(Fn._shadowTemplate.content,!0)),_this122.addEventListener("click",function(t){return _this122.N(t);}),_this122.addEventListener("keydown",function(t){return _this122.kt(t);});return _this122;}_createClass(Fn,[{key:"connectedCallback",value:function connectedCallback(){this.setAttribute("role","tablist");}},{key:"N",value:function(){var _N8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee62(t){var _e207,_i182,_s113,_iterator137,_step137,_t250;return regeneratorRuntime.wrap(function _callee62$(_context62){while(1){switch(_context62.prev=_context62.next){case 0:if(!(0===t.button&&t.target.closest("x-tab"))){_context62.next=10;break;}_e207=this.querySelectorAll("x-tab"),_i182=t.target.closest("x-tab"),_s113=this.querySelector("x-tab[selected]");if(!(_i182!==_s113)){_context62.next=10;break;}_context62.t0=_s113;if(!_context62.t0){_context62.next=7;break;}_context62.next=7;return _s113.animateSelectionIndicator(_i182);case 7:_iterator137=_createForOfIteratorHelper(_e207);try{for(_iterator137.s();!(_step137=_iterator137.n()).done;){_t250=_step137.value;_t250.selected=_t250===_i182;}}catch(err){_iterator137.e(err);}finally{_iterator137.f();}this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));case 10:case"end":return _context62.stop();}}},_callee62,this);}));function N(_x48){return _N8.apply(this,arguments);}return N;}()},{key:"kt",value:function kt(t){if("Enter"===t.code||"Space"===t.code){var _e208=t.target;_e208.querySelector("x-label"),t.preventDefault(),_e208.click();}else if("ArrowLeft"===t.code){var _e209=_toConsumableArray(this.querySelectorAll("x-tab:not([disabled])")),_i183=this.querySelector('x-tab[tabindex="0"]');if(t.target,t.preventDefault(),_i183&&_e209.length>0){var _t251=_e209.indexOf(_i183),_s114=_e209[_t251-1]||_e209[_e209.length-1];_i183.tabIndex=-1,_s114.tabIndex=0,_s114.focus();}}else if("ArrowRight"===t.code){var _e210=_toConsumableArray(this.querySelectorAll("x-tab:not([disabled])")),_i184=this.querySelector('x-tab[tabindex="0"]');if(t.target,t.preventDefault(),_i184&&_e210.length>0){var _t252=_e210.indexOf(_i184),_s115=_e210[_t252+1]||_e210[0];_i184.tabIndex=-1,_s115.tabIndex=0,_s115.focus();}}}}]);return Fn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Fn,"_shadowTemplate",Ds(_templateObject170()));_defineProperty(Fn,"_shadowStyleSheet",zs(_templateObject171()));customElements.define("x-tabs",Fn);var Un=/*#__PURE__*/function(_HTMLElement34){_inherits(Un,_HTMLElement34);var _super35=_createSuper(Un);_createClass(Un,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"removable",get:function get(){return this.hasAttribute("removable");},set:function set(t){t?this.setAttribute("removable",""):this.removeAttribute("removable");}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Un(){var _temp37,_this123;_classCallCheck(this,Un);(_temp37=_this123=_super35.call(this),_defineProperty(_assertThisInitialized(_this123),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this123),"I",{}),_defineProperty(_assertThisInitialized(_this123),"B",null),_temp37),_this123._shadowRoot=_this123.attachShadow({mode:"closed"}),_this123._shadowRoot.adoptedStyleSheets=[Un._shadowStyleSheet],_this123._shadowRoot.append(document.importNode(Un._shadowTemplate.content,!0));var _iterator138=_createForOfIteratorHelper(_this123._shadowRoot.querySelectorAll("[id]")),_step138;try{for(_iterator138.s();!(_step138=_iterator138.n()).done;){var _t253=_step138.value;_this123.I[_t253.id]=_t253;}}catch(err){_iterator138.e(err);}finally{_iterator138.f();}_this123.I["scope-slot"].addEventListener("slotchange",function(){return _this123.fs();}),_this123.I["remove-button"].addEventListener("click",function(t){return _this123.ws(t);});return _this123;}_createClass(Un,[{key:"connectedCallback",value:function connectedCallback(){var _this124=this;this.U(),this.fs(),As.addEventListener("sizechange",this.B=function(){return _this124.U();}),this.closest("x-tags")?(this.tabIndex=0,this.removable=!1):this.closest("x-tagsinput")?(this.toggled=!1,this.tabIndex=0,this.removable=!0):this.removable=!1;}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"size"===t&&this.U();}},{key:"ws",value:function ws(t){0===t.buttons&&this.dispatchEvent(new CustomEvent("remove",{bubbles:!0}));}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"fs",value:function fs(){0===this.I["scope-slot"].assignedElements().length?this.removeAttribute("scoped"):this.setAttribute("scoped","");}}]);return Un;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Un,"observedAttributes",["disabled","size"]);_defineProperty(Un,"_shadowTemplate",Ds(_templateObject172()));_defineProperty(Un,"_shadowStyleSheet",zs(_templateObject173()));customElements.define("x-tag",Un);var Nn=/*#__PURE__*/function(_HTMLElement35){_inherits(Nn,_HTMLElement35);var _super36=_createSuper(Nn);_createClass(Nn,[{key:"value",get:function get(){return _toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}).filter(function(t){return t.toggled;}).map(function(t){return t.value;}).filter(function(t){return null!==t;});},set:function set(t){var e=_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;});var _iterator139=_createForOfIteratorHelper(e),_step139;try{for(_iterator139.s();!(_step139=_iterator139.n()).done;){var _i185=_step139.value;_i185.toggled=t.includes(_i185.value);}}catch(err){_iterator139.e(err);}finally{_iterator139.f();}}}]);function Nn(){var _temp38,_this125;_classCallCheck(this,Nn);(_temp38=_this125=_super36.call(this),_defineProperty(_assertThisInitialized(_this125),"_shadowRoot",null),_temp38),_this125._shadowRoot=_this125.attachShadow({mode:"closed"}),_this125._shadowRoot.adoptedStyleSheets=[Nn._shadowStyleSheet],_this125._shadowRoot.append(document.importNode(Nn._shadowTemplate.content,!0)),_this125.addEventListener("pointerdown",function(t){return _this125.zt(t);}),_this125.addEventListener("click",function(t){return _this125.N(t);}),_this125.addEventListener("keydown",function(t){return _this125.kt(t);});return _this125;}_createClass(Nn,[{key:"zt",value:function zt(t){var _this126=this;if(1===t.buttons){if(t.preventDefault(),!1===this.matches(":focus")){var _t254=Vs(this.parentNode,"*[tabindex]:not(a)");this.addEventListener("lostpointercapture",function(){_t254?_t254.focus():_this126.blur();},{once:!0});}}else t.preventDefault();}},{key:"N",value:function N(t){var e=t.target.closest("x-tag");e&&!1===t.defaultPrevented&&(e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{detail:e})));}},{key:"kt",value:function kt(t){if(!1===t.defaultPrevented)if("Enter"===t.code||"Space"===t.code){var _e211=this.querySelector("x-tag:focus");_e211&&(t.preventDefault(),_e211.click());}else if("ArrowRight"===t.key){var _t255=this.querySelector("x-tag:focus");_t255&&(_t255.nextElementSibling?_t255.nextElementSibling.focus():_t255!==_t255.parentElement.firstElementChild&&_t255.parentElement.firstElementChild.focus());}else if("ArrowLeft"===t.key){var _t256=this.querySelector("x-tag:focus");_t256&&(_t256.previousElementSibling?_t256.previousElementSibling.focus():_t256!==_t256.parentElement.lastElementChild&&_t256.parentElement.lastElementChild.focus());}}}]);return Nn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Nn,"_shadowTemplate",Ds(_templateObject174()));_defineProperty(Nn,"_shadowStyleSheet",zs(_templateObject175()));customElements.define("x-tags",Nn);var Vn=/*#__PURE__*/function(_HTMLElement36){_inherits(Vn,_HTMLElement36);var _super37=_createSuper(Vn);_createClass(Vn,[{key:"value",get:function get(){return _toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}).map(function(t){return t.value;}).filter(function(t){return null!==t;});}},{key:"delimiter",get:function get(){return this.hasAttribute("delimiter")?this.getAttribute("delimiter"):",";},set:function set(t){this.setAttribute("delimiter",t);}},{key:"spellcheck",get:function get(){return this.hasAttribute("spellcheck");},set:function set(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"required",get:function get(){return this.hasAttribute("required");},set:function set(t){t?this.setAttribute("required",""):this.removeAttribute("required");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"suggestions",get:function get(){return this.hasAttribute("suggestions");},set:function set(t){t?this.setAttribute("suggestions",""):this.removeAttribute("suggestions");}},{key:"error",get:function get(){return this.getAttribute("error");},set:function set(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Vn(){var _temp39,_this127;_classCallCheck(this,Vn);(_temp39=_this127=_super37.call(this),_defineProperty(_assertThisInitialized(_this127),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this127),"I",{}),_defineProperty(_assertThisInitialized(_this127),"yt",0),_defineProperty(_assertThisInitialized(_this127),"B",null),_temp39),_this127._shadowRoot=_this127.attachShadow({mode:"closed",delegatesFocus:!0}),_this127._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Vn._shadowStyleSheet],_this127._shadowRoot.append(document.importNode(Vn._shadowTemplate.content,!0));var _iterator140=_createForOfIteratorHelper(_this127._shadowRoot.querySelectorAll("[id]")),_step140;try{for(_iterator140.s();!(_step140=_iterator140.n()).done;){var _t257=_step140.value;_this127.I[_t257.id]=_t257;}}catch(err){_iterator140.e(err);}finally{_iterator140.f();}_this127.addEventListener("focusout",function(t){return _this127.matches(":focus-within")?null:_this127.te(t);}),_this127.I.input.addEventListener("focusin",function(t){return _this127.vs(t);}),_this127.I.input.addEventListener("focusout",function(t){return _this127.ys(t);}),_this127._shadowRoot.addEventListener("pointerdown",function(t){return _this127.vi(t);}),_this127._shadowRoot.addEventListener("remove",function(t){return _this127.ws(t);}),_this127._shadowRoot.addEventListener("keydown",function(t){return _this127.kt(t);}),_this127.I.input.addEventListener("input",function(t){return _this127.fe(t);});return _this127;}_createClass(Vn,[{key:"connectedCallback",value:function connectedCallback(){var _this128=this;this.zs(),this.Ct(),this.U(),As.addEventListener("sizechange",this.B=function(){return _this128.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("spellcheck"===t?this.ye():"disabled"===t?this.qt():"size"===t&&this.lt());}},{key:"clear",value:function clear(){var t=_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;});if(t.length>0){var _iterator141=_createForOfIteratorHelper(t),_step141;try{for(_iterator141.s();!(_step141=_iterator141.n()).done;){var _e212=_step141.value;_e212.remove(),this.dispatchEvent(new CustomEvent("remove",{detail:_e212}));}}catch(err){_iterator141.e(err);}finally{_iterator141.f();}this.error=null,this.ks(),this.zs(),this.dispatchEvent(new CustomEvent("change"));}}},{key:"getSuggestions",value:function getSuggestions(t){return[];}},{key:"Ys",value:function Ys(){var t=new Range();t.selectNodeContents(this.I.input);var e=t.getBoundingClientRect();return 0===e.x&&0===e.width&&(e=this.I.input.getBoundingClientRect(),e.width=20),e;}},{key:"Cs",value:function Cs(){var t=this.I.input.textContent.trim();if(this.I.input.textContent="",t.length>0&&!1===this.value.includes(t)){var _e213;if(t.includes(":")){var _t$split$map=t.split(":").map(function(t){return t.trim();}),_t$split$map2=_slicedToArray(_t$split$map,2),_i186=_t$split$map2[0],_s116=_t$split$map2[1];_e213=Ds(_templateObject3(),t,_i186,_s116);}else _e213=Ds(_templateObject4(),t,t);this.append(_e213),this.ks(),this.zs(),this.dispatchEvent(new CustomEvent("add",{detail:_e213})),this.dispatchEvent(new CustomEvent("change"));}}},{key:"vi",value:function vi(t){if(t.target===this.I.main||t.target===this.I.tags)t.preventDefault(),this.I.input.setAttribute("contenteditable",""),this.Ss();else if(t.target===this.I.input)this.I.input.setAttribute("contenteditable",""),this.ks();else if(t.target.closest("x-popover")){t.preventDefault();var _e214=t.target.closest("x-tag");_e214&&(this.I.input.textContent="",this.I["suggestions-popover"].close(),this.append(_e214),this.dispatchEvent(new CustomEvent("add",{detail:_e214})),this.dispatchEvent(new CustomEvent("change")));}else t.target.closest("x-tag")&&(this.I.input.focus(),this.Cs());}},{key:"ws",value:function ws(t){t.stopPropagation();var e=t.target;e.remove(),this.zs(),this.dispatchEvent(new CustomEvent("remove",{detail:e})),this.dispatchEvent(new CustomEvent("change"));}},{key:"ye",value:function ye(){this.I.input.spellcheck=this.spellcheck;}},{key:"qt",value:function qt(){this.Ct();}},{key:"lt",value:function lt(){this.U();}},{key:"te",value:function te(){this.required&&0===_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}).length&&(this.error="This field is required");}},{key:"vs",value:function(){var _vs=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee63(){return regeneratorRuntime.wrap(function _callee63$(_context63){while(1){switch(_context63.prev=_context63.next){case 0:this.I.input.setAttribute("contenteditable","");this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));_context63.next=4;return js(10);case 4:this.I.input.matches(":focus")&&(this.Ss(),this.ks());case 5:case"end":return _context63.stop();}}},_callee63,this);}));function vs(){return _vs.apply(this,arguments);}return vs;}()},{key:"ys",value:function ys(){this.Cs(),this.I.input.removeAttribute("contenteditable"),this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),this.hasAttribute("error")&&(this.I.input.textContent="",this.removeAttribute("error")),this.I["suggestions-popover"].close();}},{key:"fe",value:function fe(t){this.I.input.textContent.includes(this.delimiter)&&this.Cs(),this.zs(),this.hasAttribute("error")&&this.removeAttribute("error"),this.dispatchEvent(new CustomEvent("input")),this.ks(t.inputType);}},{key:"kt",value:function kt(t){if("Enter"===t.key)t.target===this.I.input&&(t.preventDefault(),this.Cs());else if("Backspace"===t.key){if(t.target===this.I.input){if(0===this.I.input.textContent.length){var _t258=_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}),_e215=_t258[_t258.length-1]||null;_e215&&(_e215.remove(),this.ks(),this.zs(),this.dispatchEvent(new CustomEvent("remove",{detail:_e215})),this.dispatchEvent(new CustomEvent("change")));}}else if("x-tag"===t.target.localName){var _e216=_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}),_i187=t.target,_s117=_e216.indexOf(_i187),_n66=_e216[_s117+1]||null,_o46=_e216[_s117-1]||null;_n66?_n66.focus():_o46?_o46.focus():this.I.input.focus(),_i187.remove(),this.zs(),this.dispatchEvent(new CustomEvent("remove",{detail:_i187})),this.dispatchEvent(new CustomEvent("change"));}}else if("ArrowDown"===t.key){if(this.I["suggestions-popover"].opened){var _e217=_toConsumableArray(this.I["suggested-tags"].children);if(_e217.length>1){t.preventDefault();var _i188=null;{var _t259=_e217.find(function(t){return t.toggled;});if(_t259){_t259.toggled=!1;var _s118=_e217.indexOf(_t259);_i188=_e217[_s118+1]||_e217[0];}else _i188=_e217[0];}_i188.toggled=!0,_i188.scrollIntoViewIfNeeded();{var _t260=this._shadowRoot.getSelection().getRangeAt(0).startOffset,_e218=_i188.querySelector("x-label").textContent;this.I.input.textContent=_e218,this.Ss(_t260,_e218.length);}}}}else if("ArrowUp"===t.key&&this.I["suggestions-popover"].opened){var _e219=_toConsumableArray(this.I["suggested-tags"].children);if(_e219.length>1){t.preventDefault();var _i189=null;{var _t261=_e219.find(function(t){return t.toggled;});if(_t261){_t261.toggled=!1;var _s119=_e219.indexOf(_t261);_i189=_e219[_s119-1]||_e219[_e219.length-1];}else _i189=_e219[_e219.length-1];}_i189.toggled=!0,_i189.scrollIntoViewIfNeeded();{var _t262=this._shadowRoot.getSelection().getRangeAt(0).startOffset,_e220=_i189.querySelector("x-label").textContent;this.I.input.textContent=_e220,this.Ss(_t262,_e220.length);}}}}},{key:"nt",value:function nt(){this.zs();}},{key:"zs",value:function zs(){var t=this.querySelector(":scope > x-label");t&&(t.hidden=this.value.length>0||this.I.input.textContent.length>0);}},{key:"Ct",value:function Ct(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Ss",value:function Ss(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.I.input.textContent.length;var i=new Range();0===t&&e===this.I.input.textContent.length?i.selectNodeContents(this.I.input):(i.setStart(this.I.input.firstChild,t),i.setEnd(this.I.input.firstChild,e));var s=window.getSelection();s.removeAllRanges(),s.addRange(i);}},{key:"ks",value:function ks(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"insertText";if(this.suggestions){var _e221=this.I.input.textContent,_i190=this._shadowRoot.getSelection().getRangeAt(0);!1===_i190.collapsed&&(_e221=_e221.substring(0,_i190.startOffset));var _s120=this.getSuggestions(_e221);if(_s120.length>0&&"deleteContentBackward"!==t){var _t263=this.I.input.textContent,_e222=_s120[0].querySelector("x-label").textContent,_i191=this.I.input.firstChild;_i191&&(_i191.textContent=_e222,this.Ss(_t263.length,_e222.length));}if(0===_s120.length)this.I["suggested-tags"].innerHTML="",!0===this.I["suggestions-popover"].opened&&this.I["suggestions-popover"].close();else{var _this$I$suggestedTag;var _i192=this.Ys();this.I["suggested-tags"].innerHTML="",(_this$I$suggestedTag=this.I["suggested-tags"]).append.apply(_this$I$suggestedTag,_toConsumableArray(_s120)),"deleteContentBackward"!==t&&_e221.length>0&&(_s120[0].toggled=!0),!1===this.I["suggestions-popover"].opened||this.I["suggestions-popover"].close(!1),this.I["suggestions-popover"].open(_i192),this.I["suggested-tags"].scrollTop=0;}}}}]);return Vn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Vn,"observedAttributes",["spellcheck","disabled","size"]);_defineProperty(Vn,"_shadowTemplate",Ds(_templateObject176()));_defineProperty(Vn,"_shadowStyleSheet",zs(_templateObject177()));customElements.define("x-tagsinput",Vn);var jn=/*#__PURE__*/function(_HTMLElement37){_inherits(jn,_HTMLElement37);var _super38=_createSuper(jn);_createClass(jn,[{key:"value",get:function get(){return this.I.editor.textContent;},set:function set(t){this.I.editor.textContent=t,"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),this.be();}},{key:"spellcheck",get:function get(){return this.hasAttribute("spellcheck");},set:function set(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck");}},{key:"minLength",get:function get(){return this.hasAttribute("minlength")?parseInt(this.getAttribute("minlength")):0;},set:function set(t){this.setAttribute("minlength",t);}},{key:"maxLength",get:function get(){return this.hasAttribute("maxlength")?parseInt(this.getAttribute("maxlength")):Infinity;},set:function set(t){this.setAttribute("maxlength",t);}},{key:"required",get:function get(){return this.hasAttribute("required");},set:function set(t){t?this.setAttribute("required",""):this.removeAttribute("required");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"validation",get:function get(){return this.hasAttribute("validation")?this.getAttribute("validation"):"auto";},set:function set(t){this.setAttribute("validation",t);}},{key:"error",get:function get(){return this.getAttribute("error");},set:function set(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function jn(){var _temp40,_this129;_classCallCheck(this,jn);(_temp40=_this129=_super38.call(this),_defineProperty(_assertThisInitialized(_this129),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this129),"I",{}),_defineProperty(_assertThisInitialized(_this129),"yt",0),_defineProperty(_assertThisInitialized(_this129),"B",null),_temp40),_this129._shadowRoot=_this129.attachShadow({mode:"closed",delegatesFocus:!0}),_this129._shadowRoot.adoptedStyleSheets=[jn._shadowStyleSheet],_this129._shadowRoot.append(document.importNode(jn._shadowTemplate.content,!0));var _iterator142=_createForOfIteratorHelper(_this129._shadowRoot.querySelectorAll("[id]")),_step142;try{for(_iterator142.s();!(_step142=_iterator142.n()).done;){var _t264=_step142.value;_this129.I[_t264.id]=_t264;}}catch(err){_iterator142.e(err);}finally{_iterator142.f();}_this129.addEventListener("focusin",function(t){return _this129.ge(t);}),_this129.addEventListener("focusout",function(t){return _this129.xe(t);}),_this129.I.editor.addEventListener("click",function(t){return _this129.Es(t);}),_this129.I.editor.addEventListener("input",function(t){return _this129.zi(t);});return _this129;}_createClass(jn,[{key:"connectedCallback",value:function connectedCallback(){var _this130=this;this.be(),this.Ct(),this.U(),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),As.addEventListener("sizechange",this.B=function(){return _this130.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t?this.ot():"spellcheck"===t?this.ye():"disabled"===t?this.qt():"validation"===t?this.js():"size"===t&&this.lt();}},{key:"validate",value:function validate(){this.value.length<this.minLength?this.error="Entered text is too short":this.value.length>this.maxLength?this.error="Entered text is too long":this.required&&0===this.value.length?this.error="This field is required":this.error=null;}},{key:"be",value:function be(){0===this.value.length?this.setAttribute("empty",""):this.removeAttribute("empty");}},{key:"Ct",value:function Ct(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){this.value=this.hasAttribute("value")?this.getAttribute("value"):"",this.matches(":focus")&&document.execCommand("selectAll");}},{key:"ye",value:function ye(){this.I.editor.spellcheck=this.spellcheck;}},{key:"qt",value:function qt(){this.I.editor.disabled=this.disabled,this.Ct();}},{key:"js",value:function js(){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate();}},{key:"lt",value:function lt(){this.U();}},{key:"ge",value:function ge(){this.As=this.value,this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));}},{key:"xe",value:function xe(){this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),this._shadowRoot.getSelection().collapse(this.I.main),"auto"===this.validation&&this.validate(),null!==this.error||this.value===this.As&&!this.mixed||(this.mixed=!1,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})));}},{key:"Es",value:function Es(t){t.detail>=4&&document.execCommand("selectAll");}},{key:"zi",value:function zi(t){this.dispatchEvent(new CustomEvent("input",{bubbles:!0})),this.be(),("instant"===this.validation||"auto"===this.validation&&null!==this.error)&&this.validate();}}]);return jn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(jn,"observedAttributes",["value","spellcheck","disabled","validation","size"]);_defineProperty(jn,"_shadowTemplate",Ds(_templateObject178()));_defineProperty(jn,"_shadowStyleSheet",zs(_templateObject179()));customElements.define("x-texteditor",jn);var Hn=/*#__PURE__*/function(_HTMLElement38){_inherits(Hn,_HTMLElement38);var _super39=_createSuper(Hn);_createClass(Hn,[{key:"type",get:function get(){return this.hasAttribute("type")?this.getAttribute("type"):"ring";},set:function set(t){this.setAttribute("type",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Hn(){var _temp41,_this131;_classCallCheck(this,Hn);(_temp41=_this131=_super39.call(this),_defineProperty(_assertThisInitialized(_this131),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this131),"B",null),_temp41),_this131._shadowRoot=_this131.attachShadow({mode:"closed"}),_this131._shadowRoot.adoptedStyleSheets=[Hn._shadowStyleSheet];return _this131;}_createClass(Hn,[{key:"connectedCallback",value:function connectedCallback(){var _this132=this;this.nt(),this.U(),As.addEventListener("sizechange",this.B=function(){return _this132.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("type"===t?this.nt():"size"===t&&this.U());}},{key:"nt",value:function nt(){var t=this._shadowRoot.firstElementChild,e="ring"===this.type?Hn.Ls:Hn.Ts;null===t?this._shadowRoot.append(document.importNode(e.content,!0)):t.dataset.type!==this.type&&t.replaceWith(document.importNode(e.content,!0)),!1===this.hasAttribute("type")&&this.setAttribute("type",this.type);}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return Hn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Hn,"observedAttributes",["type","size"]);_defineProperty(Hn,"Ls",Ds(_templateObject180()));_defineProperty(Hn,"Ts",Ds(_templateObject181()));_defineProperty(Hn,"_shadowStyleSheet",zs(_templateObject182()));customElements.define("x-throbber",Hn);var Yn=Math.PI,Wn=Math.sqrt,qn=Math.atan2,Xn=Math.sin,Zn=Math.cos,Kn=Math.pow;var Qn=/*#__PURE__*/function(_HTMLElement39){_inherits(Qn,_HTMLElement39);var _super40=_createSuper(Qn);_createClass(Qn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)";},set:function set(t){this.setAttribute("value",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Qn(){var _temp42,_this133;_classCallCheck(this,Qn);(_temp42=_this133=_super40.call(this),_defineProperty(_assertThisInitialized(_this133),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this133),"I",{}),_defineProperty(_assertThisInitialized(_this133),"B",null),_defineProperty(_assertThisInitialized(_this133),"X",0),_defineProperty(_assertThisInitialized(_this133),"V",0),_defineProperty(_assertThisInitialized(_this133),"Ui",100),_defineProperty(_assertThisInitialized(_this133),"G",1),_defineProperty(_assertThisInitialized(_this133),"Ms",!1),_defineProperty(_assertThisInitialized(_this133),"Ds",!1),_defineProperty(_assertThisInitialized(_this133),"tt",!1),_temp42),_this133._shadowRoot=_this133.attachShadow({mode:"closed"}),_this133._shadowRoot.adoptedStyleSheets=[Qn._shadowStyleSheet],_this133._shadowRoot.append(document.importNode(Qn._shadowTemplate.content,!0));var _iterator143=_createForOfIteratorHelper(_this133._shadowRoot.querySelectorAll("[id]")),_step143;try{for(_iterator143.s();!(_step143=_iterator143.n()).done;){var _t265=_step143.value;_this133.I[_t265.id]=_t265;}}catch(err){_iterator143.e(err);}finally{_iterator143.f();}_this133.I["huesat-slider"].addEventListener("pointerdown",function(t){return _this133.$s(t);}),_this133.I["value-slider"].addEventListener("pointerdown",function(t){return _this133.Ps(t);}),_this133.I["alpha-slider"].addEventListener("pointerdown",function(t){return _this133.ht(t);});return _this133;}_createClass(Qn,[{key:"connectedCallback",value:function(){var _connectedCallback=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee64(){var _this134=this;return regeneratorRuntime.wrap(function _callee64$(_context64){while(1){switch(_context64.prev=_context64.next){case 0:this.nt();this.U();_context64.t0=""===this.I["huesat-image"].src;if(!_context64.t0){_context64.next=7;break;}_context64.next=6;return Ss();case 6:this.I["huesat-image"].src=_context64.sent;case 7:As.addEventListener("sizechange",this.B=function(){return _this134.U();});case 8:case"end":return _context64.stop();}}},_callee64,this);}));function connectedCallback(){return _connectedCallback.apply(this,arguments);}return connectedCallback;}()},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"size"===t&&this.lt());}},{key:"nt",value:function nt(){this.Rs(),this.Is(),this.Os(),this.bt(),this.gt();}},{key:"Rs",value:function Rs(){var t=this.X,e=this.V,i=100,s=rs(t),n=e/100*i/2,o=(i-(50+n*Zn(s)))/i*100,l=(50-n*Xn(s))/i*100;this.I["huesat-marker"].style.left=o+"%",this.I["huesat-marker"].style.top=l+"%";}},{key:"Is",value:function Is(){this.I["value-slider-marker"].style.left=100-ls(this.Ui,0,100,2)+"%";}},{key:"Os",value:function Os(){var t=vs([this.X,this.V,100,1],"hsva","hex");this.I["value-slider"].style.background="linear-gradient(to right, rgba(0,0,0,0), rgba(0,0,0,1)), ".concat(t);}},{key:"bt",value:function bt(){this.I["alpha-slider-marker"].style.left=ls(100*(1-this.G),0,100,2)+"%";}},{key:"gt",value:function gt(){var _ws$map3=ws(this.X,this.V,this.Ui).map(function(t){return ns(t,0);}),_ws$map4=_slicedToArray(_ws$map3,3),t=_ws$map4[0],e=_ws$map4[1],i=_ws$map4[2];this.I["alpha-slider-gradient"].style.background="\n      linear-gradient(to right, rgba(".concat(t,", ").concat(e,", ").concat(i,", 1), rgba(").concat(t,", ").concat(e,", ").concat(i,", 0))\n    ");}},{key:"U",value:function U(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){if(!1===this.Ms&&!1===this.Ds&&!1===this.tt){var _Ms$parse9=new Ms().parse(this.value,"hsva"),_Ms$parse10=_slicedToArray(_Ms$parse9,4),_t266=_Ms$parse10[0],_e223=_Ms$parse10[1],_i193=_Ms$parse10[2],_s121=_Ms$parse10[3];this.X=_t266,this.V=_e223,this.Ui=_i193,this.G=_s121,this.nt();}}},{key:"lt",value:function lt(){this.U();}},{key:"$s",value:function $s(t){var _this135=this;if(1!==t.buttons)return;var e,_i194,s=this.I["huesat-slider"].getBoundingClientRect();this.Ms=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.I["huesat-slider"].style.cursor="default",this.I["huesat-slider"].setPointerCapture(t.pointerId);var n=function n(t,e){var i=s.width/2,n=t-s.left-i,o=e-s.top-i,l=Kn(n,2)+Kn(o,2),h=qn(o,n);l>Kn(i,2)&&(n=i*Zn(h),o=i*Xn(h),l=Kn(n,2)+Kn(o,2),h=qn(o,n)),_this135.X=ns((h+Yn)/(2*Yn)*360,3),_this135.V=ns(Wn(l)/i*100,3),_this135.value=vs([_this135.X,_this135.V,_this135.Ui,_this135.G],"hsva","hsla"),_this135.dispatchEvent(new CustomEvent("change",{bubbles:!0})),_this135.Rs(),_this135.Os(),_this135.gt();};n(t.clientX,t.clientY),this.I["huesat-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX,t.clientY);}),this.I["huesat-slider"].addEventListener("lostpointercapture",_i194=function i(t){_this135.I["huesat-slider"].removeEventListener("pointermove",e),_this135.I["huesat-slider"].removeEventListener("lostpointercapture",_i194),_this135.I["huesat-slider"].style.cursor=null,_this135.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this135.Ms=!1;});}},{key:"Ps",value:function Ps(t){var _this136=this;if(1!==t.buttons)return;var e,_i195,s=this.I["value-slider-track"].getBoundingClientRect();this.Ds=!0,this.I["value-slider"].style.cursor="default",this.I["value-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=100-(t-s.x)/s.width*100;e=ls(e,0,100,2),e!==_this136.Ui&&(_this136.Ui=e,_this136.value=vs([_this136.X,_this136.V,_this136.Ui,_this136.G],"hsva","hsla"),_this136.Is(),_this136.gt(),_this136.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["value-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["value-slider"].addEventListener("lostpointercapture",_i195=function i(){_this136.I["value-slider"].removeEventListener("pointermove",e),_this136.I["value-slider"].removeEventListener("lostpointercapture",_i195),_this136.I["value-slider"].style.cursor=null,_this136.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this136.Ds=!1;});}},{key:"ht",value:function ht(t){var _this137=this;if(1!==t.buttons)return;var e,_i196,s=this.I["alpha-slider-track"].getBoundingClientRect();this.tt=!0,this.I["alpha-slider"].style.cursor="default",this.I["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=1-(t-s.x)/s.width;e=ls(e,0,1,2),e!==_this137.G&&(_this137.G=e,_this137.value=vs([_this137.X,_this137.V,_this137.Ui,_this137.G],"hsva","hsla"),_this137.bt(),_this137.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["alpha-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["alpha-slider"].addEventListener("lostpointercapture",_i196=function i(){_this137.I["alpha-slider"].removeEventListener("pointermove",e),_this137.I["alpha-slider"].removeEventListener("lostpointercapture",_i196),_this137.I["alpha-slider"].style.cursor=null,_this137.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this137.tt=!1;});}}]);return Qn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Qn,"observedAttributes",["value","size"]);_defineProperty(Qn,"_shadowTemplate",Ds(_templateObject183()));_defineProperty(Qn,"_shadowStyleSheet",zs(_templateObject184()));customElements.define("x-wheelcolorpicker",Qn);var Jn=/*#__PURE__*/function(_HTMLElement40){_inherits(Jn,_HTMLElement40);var _super41=_createSuper(Jn);_createClass(Jn,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Jn(){var _this138;_classCallCheck(this,Jn);_this138=_super41.call(this),_this138.Ws=qi(_this138.qs,20,_assertThisInitialized(_this138)),_this138.Xs=qi(_this138.qs,500,_assertThisInitialized(_this138)),_this138.Zs=[1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4],_this138._shadowRoot=_this138.attachShadow({mode:"closed"}),_this138._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Jn._shadowStyleSheet],_this138._shadowRoot.append(document.importNode(Jn._shadowTemplate.content,!0));var _iterator144=_createForOfIteratorHelper(_this138._shadowRoot.querySelectorAll("[id]")),_step144;try{for(_iterator144.s();!(_step144=_iterator144.n()).done;){var _t267=_step144.value;_this138["#"+_t267.id]=_t267;}}catch(err){_iterator144.e(err);}finally{_iterator144.f();}_this138.addEventListener("contextmenu",function(t){return _this138.Ks(t);});return _this138;}_createClass(Jn,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(!0===this.enabled?this.tn():this.sn());}},{key:"getRulerTypeFromPoint",value:function getRulerTypeFromPoint(t,e){var i=this._shadowRoot.elementFromPoint(t,e);i.getRootNode()!==this._shadowRoot&&(i=null);var s=i?i.closest(".ruler"):null;return s?s.getAttribute("data-type"):null;}},{key:"tn",value:function tn(){var _this139=this;window.addEventListener("resize",this.nn=function(){_this139.Ws();}),this.Qs.addEventListener("configchange",this.ln=function(t){_this139.hn(t.detail);}),this.Js.board.addEventListener("zoomchange",this.an=function(){_this139.Ws();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this139.Xs();}),this.dn=this.Qs.getConfig("bx-rulers:space","canvas"),this.qs();}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("zoomchange",this.an),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"hn",value:function hn(_ref47){var t=_ref47.key,e=_ref47.value;"bx-rulers:space"===t&&(this.dn=e,this.qs());}},{key:"Ks",value:function(){var _Ks=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee65(t){var e,i,s,n;return regeneratorRuntime.wrap(function _callee65$(_context65){while(1){switch(_context65.prev=_context65.next){case 0:t.preventDefault();i=this.Js.board.getComputedViewportWidth(),s=this.Js.board.getComputedViewportHeight();e=null===i&&null===s?[{label:"Canvas space",value:"canvas",toggled:!0},{label:"Viewport space",value:"viewport",disabled:!0}]:[{label:"Canvas space",value:"canvas",toggled:"canvas"===this.dn},{label:"Viewport space",value:"viewport",toggled:"viewport"===this.dn}];_context65.next=5;return this.Qs.openContextMenu(e);case 5:n=_context65.sent;null!==n&&this.Qs.setConfig("bx-rulers:space",n);case 7:case"end":return _context65.stop();}}},_callee65,this);}));function Ks(_x49){return _Ks.apply(this,arguments);}return Ks;}()},{key:"qs",value:function qs(){var t=this.Js.board,e=t.scale,i=this.dn,s=0,n=0,o=0,l=0;{var _e224=Vt(t.vectorCanvas);if(0!==_e224.a*_e224.d-_e224.b*_e224.c){var _i197=Fe(t.getBoundingClientRect(),_e224.inverse());s=_i197.x,n=_i197.y;}}if("viewport"===i&&(o=t.getComputedViewportWidth(),l=t.getComputedViewportHeight(),null===o&&null===l&&(i="canvas")),"canvas"===i){var _t268=1;{var _i198=50/e;if(e>0==!1)return;for(var _e225=0;_e225<this.Zs.length;_e225+=1){var _s122=this.Zs[_e225];if(_t268=_s122,_i198<=_s122)break;}}{var _i199=[],_n67=this.clientWidth;this["#horizontal-ruler"].hidden=!1;for(var _o47=X(s,0);_o47<Infinity;_o47+=1){if(_t268>=1&&_o47%_t268==0){var _t269=(_o47-s)*e;if(_t269>_n67)break;_i199.push([_t269,_o47]);}}for(;this["#horizontal-ruler"].children.length<_i199.length;){var _t270=Di("div");_t270.part.add("tick"),this["#horizontal-ruler"].append(_t270);}for(var _t271=0;_t271<_i199.length;_t271+=1){var _i199$_t=_slicedToArray(_i199[_t271],2),_e226=_i199$_t[0],_s123=_i199$_t[1],_n68=this["#horizontal-ruler"].children[_t271];_n68.style.display=null,_n68.style.transform="translateX(".concat(_e226,"px)"),_n68.textContent=_s123;}for(var _t272=_i199.length;_t272<this["#horizontal-ruler"].children.length;_t272+=1){this["#horizontal-ruler"].children[_t272].style.display="none";}}{var _i200=[],_s124=this.clientHeight;this["#vertical-ruler"].hidden=!1;for(var _o48=X(n,0);_o48<Infinity;_o48+=1){if(_o48%_t268==0){var _t273=(_o48-n)*e;if(_t273>_s124)break;_i200.push([_t273,_o48]);}}for(;this["#vertical-ruler"].children.length<_i200.length;){var _t274=Di("div");_t274.part.add("tick"),this["#vertical-ruler"].append(_t274);}for(var _t275=0;_t275<_i200.length;_t275+=1){var _i200$_t=_slicedToArray(_i200[_t275],2),_e227=_i200$_t[0],_s125=_i200$_t[1],_n69=this["#vertical-ruler"].children[_t275];_n69.style.display=null,_n69.style.transform="translateY(".concat(_e227,"px)"),_n69.textContent=_s125;}for(var _t276=_i200.length;_t276<this["#vertical-ruler"].children.length;_t276+=1){this["#vertical-ruler"].children[_t276].style.display="none";}}}else if("viewport"===i){var _i201=null;if(_i201=t.currentWorkspace.hasAttribute("viewBox")?Lt.fromString(t.currentWorkspace.getAttribute("viewBox")).toRect():new DOMRect(0,0,null===o?0:o.toLength("px").value,null===l?0:l.toLength("px").value),null===o)this["#horizontal-ruler"].hidden=!0;else{this["#horizontal-ruler"].hidden=!1;var _t277=1,_n70=_i201.width/o.value;{var _i202=50/e/_n70;for(var _e228=0;_e228<this.Zs.length;_e228+=1){var _s126=this.Zs[_e228];if(_t277=_s126,_i202<=_s126)break;}}var _l40=[],_h31=this.clientWidth;for(var _i203=X(s/_n70,0);_i203<Infinity;_i203+=1){if(_t277>=1&&_i203%_t277==0){var _t278=(_i203*_n70-s)*e;if(_t278>_h31)break;_l40.push([_t278,_i203+o.unit]);}}for(;this["#horizontal-ruler"].children.length<_l40.length;){var _t279=Di("div");_t279.part.add("tick"),this["#horizontal-ruler"].append(_t279);}for(var _t280=0;_t280<_l40.length;_t280+=1){var _l40$_t=_slicedToArray(_l40[_t280],2),_e229=_l40$_t[0],_i204=_l40$_t[1],_s127=this["#horizontal-ruler"].children[_t280];_s127.style.display=null,_s127.style.transform="translateX(".concat(_e229,"px)"),_s127.textContent=_i204;}for(var _t281=_l40.length;_t281<this["#horizontal-ruler"].children.length;_t281+=1){this["#horizontal-ruler"].children[_t281].style.display="none";}}if(null===l)this["#vertical-ruler"].hidden=!0;else{this["#vertical-ruler"].hidden=!1;var _t282=1,_s128=_i201.height/l.value;{var _i205=50/e/_s128;for(var _e230=0;_e230<this.Zs.length;_e230+=1){var _s129=this.Zs[_e230];if(_t282=_s129,_i205<=_s129)break;}}var _o49=[],_h32=this.clientHeight;for(var _i206=X(n/_s128,0);_i206<Infinity;_i206+=1){if(_t282>=1&&_i206%_t282==0){var _t283=(_i206*_s128-n)*e;if(_t283>_h32)break;_o49.push([_t283,_i206+l.unit]);}}for(;this["#vertical-ruler"].children.length<_o49.length;){var _t284=Di("div");_t284.part.add("tick"),this["#vertical-ruler"].append(_t284);}for(var _t285=0;_t285<_o49.length;_t285+=1){var _o49$_t=_slicedToArray(_o49[_t285],2),_e231=_o49$_t[0],_i207=_o49$_t[1],_s130=this["#vertical-ruler"].children[_t285];_s130.style.display=null,_s130.style.transform="translateY(".concat(_e231,"px)"),_s130.textContent=_i207;}for(var _t286=_o49.length;_t286<this["#vertical-ruler"].children.length;_t286+=1){this["#vertical-ruler"].children[_t286].style.display="none";}}}}}]);return Jn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Jn,"observedAttributes",["enabled"]);_defineProperty(Jn,"_shadowTemplate",Hi(_templateObject185()));_defineProperty(Jn,"_shadowStyleSheet",Yi(_templateObject186()));customElements.define("bx-rulers",Jn);var to=/*#__PURE__*/function(){function to(){_classCallCheck(this,to);this.cn=!1,this.pn=!1,this.un=!1,this.xn=!1,this.bn=null;for(var _len12=arguments.length,t=new Array(_len12),_key12=0;_key12<_len12;_key12++){t[_key12]=arguments[_key12];}for(var _i208=0,_t287=t;_i208<_t287.length;_i208++){var _e232=_t287[_i208];"Control"===_e232?this.ctrl=!0:"Alt"===_e232?this.alt=!0:"Shift"===_e232?this.shift=!0:"Meta"===_e232?this.meta=!0:this.key=_e232;}}_createClass(to,[{key:"matches",value:function matches(){var e=!1,i=!1,s=!1,n=!1,o=null;for(var _len13=arguments.length,t=new Array(_len13),_key13=0;_key13<_len13;_key13++){t[_key13]=arguments[_key13];}for(var _i209=0,_t288=t;_i209<_t288.length;_i209++){var _l41=_t288[_i209];"Control"===_l41?e=!0:"Alt"===_l41?i=!0:"Shift"===_l41?s=!0:"Meta"===_l41?n=!0:o=_l41;}return e===this.ctrl&&i===this.alt&&n===this.meta&&s===this.shift&&o===this.key;}},{key:"includes",value:function includes(t){return"Control"===t?this.ctrl:"Alt"===t?this.alt:"Shift"===t?this.shift:"Meta"===t?this.meta:this.key===t;}},{key:"compare",value:function compare(t){return this.ctrl===t.ctrl&&this.alt===t.alt&&this.shift===t.shift&&this.meta===t.meta&&this.key===t.key;}},{key:"isVoid",value:function isVoid(){return!1===this.ctrl&&!1===this.alt&&!1===this.shift&&!1===this.meta&&null===this.key;}},{key:"toDisplayString",value:function toDisplayString(){var e="";if(t){this.meta&&(e+="^"),this.alt&&(e+="\u2325"),this.shift&&(e+="\u21E7"),this.ctrl&&(e+="\u2318");var _t289={ArrowUp:"\u2191",ArrowDown:"\u2193",ArrowLeft:"\u2190",ArrowRight:"\u2192",Backspace:"\u2326",Tab:"\u21E5"};null!==this.key&&(e+=_t289[this.key]||this.key);}else{var _t290=[];this.ctrl&&_t290.push("Ctrl"),this.alt&&_t290.push("Alt"),this.shift&&_t290.push("Shift"),this.meta&&_t290.push("Meta");var _i210={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"};null!==this.key&&_t290.push(_i210[this.key]||this.key),e=_t290.join("+");}return e;}},{key:"toJSON",value:function toJSON(){return this.toString();}},{key:"toElement",value:function toElement(){var t=Di("x-shortcut"),e=[];return this.ctrl&&e.push("Control"),this.alt&&e.push("Alt"),this.shift&&e.push("Shift"),this.meta&&e.push("Meta"),null!==this.key&&e.push(key),t.value=e,t;}},{key:"toString",value:function toString(){var t=[];return this.ctrl&&t.push("Control"),this.alt&&t.push("Alt"),this.shift&&t.push("Shift"),this.meta&&t.push("Meta"),null!==this.key&&t.push(this.key),t.join("+");}},{key:"ctrl",get:function get(){return this.cn;},set:function set(t){this.cn=t;}},{key:"alt",get:function get(){return this.pn;},set:function set(t){this.pn=t;}},{key:"shift",get:function get(){return this.un;},set:function set(t){this.un=t;}},{key:"meta",get:function get(){return this.xn;},set:function set(t){this.xn=t;}},{key:"key",get:function get(){return this.bn;},set:function set(t){this.bn=t;}}],[{key:"fromEvent",value:function fromEvent(e){var i=new to();if(i.ctrl=t?e.metaKey:e.ctrlKey,i.alt=e.altKey,i.shift=e.shiftKey,i.meta=t?e.ctrlKey:e.metaKey,i.key=null,e instanceof KeyboardEvent){var _t291=e.key;" "===_t291&&(_t291="Space"),_t291&&"Control"!==_t291&&"Alt"!==_t291&&"Shift"!==_t291&&"Meta"!==_t291&&(1===_t291.length?i.key=_t291.toUpperCase():i.key=_t291);}return i;}},{key:"fromElement",value:function fromElement(t){var e=new to();return e.ctrl=t.modKeys.includes("Control"),e.alt=t.modKeys.includes("Alt"),e.shift=t.modKeys.includes("Shift"),e.meta=t.modKeys.includes("Meta"),e.key=t.normalKey,e;}},{key:"fromString",value:function fromString(t){return _construct(to,_toConsumableArray(t.split("+").filter(function(t){return""!==t;})));}}]);return to;}();var _window4=window,eo=_window4.tokenize,io=_window4.EOFToken;var so=/*#__PURE__*/function(){_createClass(so,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t;}},{key:"type",get:function get(){return"<url>";}}]);function so(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";_classCallCheck(this,so);this._t=t;}_createClass(so,[{key:"toString",value:function toString(){return"url(".concat(this.value,")");}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(eo(t)),[new io()]),s=new Pt(i);if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"URL"===s.currentToken.tokenType){var _t292=s.currentToken.value;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new so(_t292);if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}if("FUNCTION"===s.currentToken.tokenType&&"url"===s.currentToken.value){if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"STRING"===s.currentToken.tokenType){var _t293=s.currentToken.value;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),")"===s.currentToken.tokenType){if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new so(_t293.trim());if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}if(e)throw new DOMException('Expected ")" token.',"SyntaxError");return null;}if(e)throw new DOMException("Expected STRING token.","SyntaxError");return null;}if(e)throw new DOMException("Expected URL or FUNCTION token.","SyntaxError");return null;}}]);return so;}();var no=/*#__PURE__*/function(){function no(t){_classCallCheck(this,no);this.text=t,this.cursor=0,this.line=1,this.column=1,this.mn={cursor:0,line:1,column:1};}_createClass(no,[{key:"read",value:function read(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e="",i=this.cursor;for(var _s131=0;_s131<t;_s131+=1){var _t294=this.text[i+_s131];if(void 0===_t294)break;e+=_t294,this.cursor+=1,"\n"===_t294?(this.line+=1,this.column=1):this.column+=1;}return""===e?null:e;}},{key:"peek",value:function peek(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e="";for(var _i211=0;_i211<t;_i211+=1){var _t295=this.text[this.cursor+_i211];if(void 0===_t295)break;e+=_t295;}return""===e?null:e;}},{key:"storePosition",value:function storePosition(){var t=this.cursor,e=this.line,i=this.column;this.mn={cursor:t,line:e,column:i};}},{key:"restorePosition",value:function restorePosition(){var _this$mn=this.mn,t=_this$mn.cursor,e=_this$mn.line,i=_this$mn.column;this.cursor=t,this.line=e,this.column=i;}}]);return no;}();var oo=Math.min,lo=Math.max,ho=Math.floor,ao=Number.parseFloat,ro=Number.parseInt,co=function co(t,e,i){var s,n,o,l=lo(t/=255,e/=255,i/=255),h=oo(t,e,i);if(s=n=o=(l+h)/2,l===h)s=n=0;else{var _a22=l-h;if(n=o>.5?_a22/(2-l-h):_a22/(l+h),l===t){var _t296;_t296=e<i?6:0,s=(e-i)/_a22+_t296;}else l===e?s=(i-t)/_a22+2:l===i&&(s=(t-e)/_a22+4);}return s=Z(s/6*360,0,360,0),n=Z(100*n,0,100,1),o=Z(100*o,0,100,1),[s,n,o];},po=function po(t,e,i){var s,n,o;if(t/=360,i/=100,0===(e/=100))s=n=o=i;else{var _l42,_h33,_a23=function _a23(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t;};_l42=i<.5?i*(1+e):i+e-i*e,_h33=2*i-_l42,s=_a23(_h33,_l42,t+1/3),n=_a23(_h33,_l42,t),o=_a23(_h33,_l42,t-1/3);}return s=Z(255*s,0,255,0),n=Z(255*n,0,255,0),o=Z(255*o,0,255,0),[s,n,o];},uo=function uo(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"rgba";t=t.trim();var i=bo(t),s=null,n=null;if(7===i.length&&"rgb("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&")"===i[6].text)s=[ao(i[1].text),ao(i[3].text),ao(i[5].text),1];else if(7===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)s=[ao(i[1].text)/100*255,ao(i[3].text)/100*255,ao(i[5].text)/100*255,1];else if(9===i.length&&"rgba("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[ao(i[1].text),ao(i[3].text),ao(i[5].text),ao(i[7].text)];else if(9===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[ao(i[1].text)/100*255,ao(i[3].text)/100*255,ao(i[5].text)/100*255,ao(i[7].text)];else if(7===i.length&&"hsl("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)n=[ao(i[1].text),ao(i[3].text),ao(i[5].text),1];else if(9===i.length&&"hsla("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)n=[ao(i[1].text),ao(i[3].text),ao(i[5].text),ao(i[7].text)];else if("HEX"===i[0].type&&void 0===i[1]){var _t297,_e233,_n71,_o50=i[0].text.substring(1);3===_o50.length?(_t297=_o50[0]+_o50[0],_e233=_o50[1]+_o50[1],_n71=_o50[2]+_o50[2]):(_t297=_o50[0]+_o50[1],_e233=_o50[2]+_o50[3],_n71=_o50[4]+_o50[5]),s=[ro(_t297,16),ro(_e233,16),ro(_n71,16),1];}else I[t]&&(s=[I[t][0],I[t][1],I[t][2],1]);if(s){var _s132=s,_s133=_slicedToArray(_s132,4),_t298=_s133[0],_i212=_s133[1],_n72=_s133[2],_o51=_s133[3];if(_t298=Z(_t298,0,255,0),_i212=Z(_i212,0,255,0),_n72=Z(_n72,0,255,0),_o51=Z(_o51,0,1,2),"hsla"===e){var _co=co(_t298,_i212,_n72),_co2=_slicedToArray(_co,3),_e234=_co2[0],_s134=_co2[1],_l43=_co2[2];return[_e234,_s134,_l43,_o51];}if("hsva"===e){var _ref48=function(t,e,i){var s=lo(t/=255,e/=255,i/=255),n=oo(t,e,i),o=0,l=0,h=s,a=s-n;return l=0===s?0:a/s,s===n?o=0:(s===t?o=(e-i)/a+(e<i?6:0):s===e?o=(i-t)/a+2:s===i&&(o=(t-e)/a+4),o/=6),o*=360,l*=100,h*=100,[o,l,h];}(_t298,_i212,_n72),_ref49=_slicedToArray(_ref48,3),_e235=_ref49[0],_s135=_ref49[1],_l44=_ref49[2];return[_e235,_s135,_l44,_o51];}return[_t298,_i212,_n72,_o51];}if(n){var _n73=n,_n74=_slicedToArray(_n73,4),_t299=_n74[0],_i213=_n74[1],_s136=_n74[2],_o52=_n74[3];if(_t299=Z(_t299,0,360,0),_i213=Z(_i213,0,100,1),_s136=Z(_s136,0,100,1),_o52=Z(_o52,0,1,2),"hsla"===e)return[_t299,_i213,_s136,_o52];if("hsva"===e){var _ref50=function(t,e,i){e/=100;var s,n,o=t/=360;return s=(i=i/100*2)+(e*=i<=1?i:2-i)==0?0:2*e/(i+e),n=(i+e)/2,o*=360,s=100*lo(0,oo(1,s)),n=100*lo(0,oo(1,n)),[o,s,n];}(_t299,_i213,_s136),_ref51=_slicedToArray(_ref50,3),_e236=_ref51[0],_n75=_ref51[1],_l45=_ref51[2];return[_e236,_n75,_l45,_o52];}{var _po=po(_t299,_i213,_s136),_po2=_slicedToArray(_po,3),_e237=_po2[0],_n76=_po2[1],_l46=_po2[2];return[_e237,_n76,_l46,_o52];}}throw new Error("Invalid color string: \"".concat(t,"\""));},xo=function xo(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"rgba";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"hex";var s=null;if(["rgb","rgba","rgb%","rgba%","hex"].includes(i)){var _t300,_t301,_po3,_po4,_ref52,_ref53;var _n77,_o53,_l47,_h34;if("rgba"===e?(_t300=t,_t301=_slicedToArray(_t300,4),_n77=_t301[0],_o53=_t301[1],_l47=_t301[2],_h34=_t301[3],_t300):"hsla"===e?((_po3=po.apply(void 0,_toConsumableArray(t)),_po4=_slicedToArray(_po3,3),_n77=_po4[0],_o53=_po4[1],_l47=_po4[2],_po3),_h34=t[3]):"hsva"===e&&((_ref52=function(t,e,i){e/=100,i/=100;var s=ho(6*(t/=360)),n=6*t-s,o=i*(1-e),l=i*(1-n*e),h=i*(1-(1-n)*e),a=0,r=0,d=0;return s%6==0?(a=i,r=h,d=o):s%6==1?(a=l,r=i,d=o):s%6==2?(a=o,r=i,d=h):s%6==3?(a=o,r=l,d=i):s%6==4?(a=h,r=o,d=i):s%6==5&&(a=i,r=o,d=l),a*=255,r*=255,d*=255,[a,r,d];}.apply(void 0,_toConsumableArray(t)),_ref53=_slicedToArray(_ref52,3),_n77=_ref53[0],_o53=_ref53[1],_l47=_ref53[2],_ref52),_h34=t[3]),"rgb%"===i||"rgba%"===i?(_n77=Z(_n77/255*100,0,100,1),_o53=Z(_o53/255*100,0,100,1),_l47=Z(_l47/255*100,0,100,1),_h34=Z(_h34,0,1,2)):(_n77=Z(_n77,0,255,0),_o53=Z(_o53,0,255,0),_l47=Z(_l47,0,255,0),_h34=Z(_h34,0,1,2)),"rgb"===i)s="rgb(".concat(_n77,", ").concat(_o53,", ").concat(_l47,")");else if("rgba"===i)s="rgba(".concat(_n77,", ").concat(_o53,", ").concat(_l47,", ").concat(_h34,")");else if("rgb%"===i)s="rgb(".concat(_n77,"%, ").concat(_o53,"%, ").concat(_l47,"%)");else if("rgba%"===i)s="rgb(".concat(_n77,"%, ").concat(_o53,"%, ").concat(_l47,"%, ").concat(_h34,")");else if("hex"===i){var _t302=_n77.toString(16),_e238=_o53.toString(16),_i214=_l47.toString(16);1===_t302.length&&(_t302="0"+_t302),1===_e238.length&&(_e238="0"+_e238),1===_i214.length&&(_i214="0"+_i214),s="#"+_t302+_e238+_i214;}}else if("hsl"===i||"hsla"===i){var _t303,_t304,_ref54,_ref55,_co3,_co4;var _n78,_o54,_l48,_h35;"hsla"===e?(_t303=t,_t304=_slicedToArray(_t303,4),_n78=_t304[0],_o54=_t304[1],_l48=_t304[2],_h35=_t304[3],_t303):"hsva"===e?((_ref54=function(t,e,i){var s=t/=360,n=(2-(e/=100))*(i/=100),o=e*i;return n<=1?0===n?o=0:o/=n:2===n?o=0:o/=2-n,n/=2,s*=360,o=100*lo(0,oo(1,o)),n=100*lo(0,oo(1,n)),[s,o,n];}.apply(void 0,_toConsumableArray(t)),_ref55=_slicedToArray(_ref54,3),_n78=_ref55[0],_o54=_ref55[1],_l48=_ref55[2],_ref54),_h35=t[3]):"rgba"===e&&((_co3=co.apply(void 0,_toConsumableArray(t)),_co4=_slicedToArray(_co3,3),_n78=_co4[0],_o54=_co4[1],_l48=_co4[2],_co3),_h35=t[3]),_n78=Z(_n78,0,360,0),_o54=Z(_o54,0,100,1),_l48=Z(_l48,0,100,1),_h35=Z(_h35,0,1,2),"hsl"===i?s="hsl(".concat(_n78,", ").concat(_o54,"%, ").concat(_l48,"%)"):"hsla"===i&&(s="hsla(".concat(_n78,", ").concat(_o54,"%, ").concat(_l48,"%, ").concat(_h35,")"));}return s;},bo=function bo(t){var e=[],i=new no(t.toLowerCase());var _loop3=function _loop3(){var t=i.read();(function(){if("r"===t||"h"===t){var _s137=t;if(t+i.peek(3)==="rgb("?_s137+=i.read(3):t+i.peek(4)==="rgba("?_s137+=i.read(4):t+i.peek(3)==="hsl("?_s137+=i.read(3):t+i.peek(4)==="hsla("&&(_s137+=i.read(4)),_s137!==t)return void e.push({type:"FUNCTION",text:_s137});}if("#"===t){if(go(t+i.peek(6))){var _s138=t+i.read(6);return void e.push({type:"HEX",text:_s138});}if(go(t+i.peek(3)))return text=t+i.read(3),void e.push({type:"HEX",text:text});}if(["0","1","2","3","4","5","6","7","8","9",".","-"].includes(t)){var _s139=t;for(;["0","1","2","3","4","5","6","7","8","9","."].includes(i.peek());){_s139+=i.read();}"%"===i.peek()?(_s139+=i.read(),e.push({type:"PERCENTAGE",text:_s139})):e.push({type:"NUM",text:_s139});}else /\u0009|\u000a|\u000c|\u000d|\u0020/.test(t)||e.push({type:"CHAR",text:t});})();};for(;null!==i.peek();){_loop3();}return e;},mo=function mo(t,e){var i=e.startsWith("hsl")?"hsla":"rgba",s=uo(t,i);return xo(s,i,e);},go=function go(t){if("#"!==(t=t.toLowerCase())[0])return!1;if(4!==t.length&&7!==t.length)return!1;t=t.substring(1);var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];var _iterator145=_createForOfIteratorHelper(t),_step145;try{for(_iterator145.s();!(_step145=_iterator145.n()).done;){var _i215=_step145.value;if(!e.includes(_i215))return!1;}}catch(err){_iterator145.e(err);}finally{_iterator145.f();}return!0;},fo=function fo(t){try{uo(t);}catch(t){return!1;}return!0;},wo=function wo(t){var e=null,i=[],s=t;for(;s&&""!==s.href.baseVal;){null===e&&(e=zi(t));var _n79=e.querySelector(s.href.baseVal);if(!_n79||"linearGradient"!==_n79.localName&&"radialGradient"!==_n79.localName||_n79===t||!1!==i.includes(_n79))break;i.push(_n79),s=_n79;}return i;},vo=function vo(t){var _iterator146=_createForOfIteratorHelper(wo(t)),_step146;try{for(_iterator146.s();!(_step146=_iterator146.n()).done;){var _e239=_step146.value;if(Co(_e239))return _e239;}}catch(err){_iterator146.e(err);}finally{_iterator146.f();}return null;},yo=function yo(t){return Co(t)?t:vo(t);},ko=function ko(t){return _o(t)?t:function(t){var _iterator147=_createForOfIteratorHelper(wo(t)),_step147;try{for(_iterator147.s();!(_step147=_iterator147.n()).done;){var _e240=_step147.value;if(_o(_e240))return _e240;}}catch(err){_iterator147.e(err);}finally{_iterator147.f();}return null;}(t);},So=function So(t){if("linearGradient"===t.localName&&!1===t.hasAttribute("href")){var _e241=_toConsumableArray(t.querySelectorAll(":scope > stop"));return 1===_e241.length&&!1===_e241[0].hasAttribute("offset");}return!1;},_o=function _o(t){return null!==t.querySelector(":scope > stop")||!1===t.hasAttribute("href");},Co=function Co(t){var e=[];"linearGradient"===t.localName?e=["x1","y1","x2","y2","href","gradientUnits","gradientTransform","href"]:"radialGradient"===t.localName&&(e=["cx","cy","r","fx","fy","fr","href","gradientUnits","gradientTransform","href"]);for(var _i216=0,_e242=e;_i216<_e242.length;_i216++){var _i217=_e242[_i216];if(t.hasAttribute(_i217))return!1;}return!0!==So(t);},Mo=function Mo(t){var e=[t].concat(_toConsumableArray(wo(t))),i={};{var _t305=null;var _iterator148=_createForOfIteratorHelper(e),_step148;try{for(_iterator148.s();!(_step148=_iterator148.n()).done;){var _i218=_step148.value;if(_i218.hasAttribute("gradientUnits")){_t305=_i218.gradientUnits.baseVal;break;}}}catch(err){_iterator148.e(err);}finally{_iterator148.f();}null===_t305&&(_t305=SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX),i.gradientUnits=_t305;}{var _t306=null;var _iterator149=_createForOfIteratorHelper(e),_step149;try{for(_iterator149.s();!(_step149=_iterator149.n()).done;){var _i219=_step149.value;if(_i219.hasAttribute("gradientTransform")){_t306=DOMMatrix.fromMatrix(_i219.gradientTransform.baseVal.consolidate().matrix);break;}}}catch(err){_iterator149.e(err);}finally{_iterator149.f();}null===_t306&&(_t306=new DOMMatrix()),i.gradientTransform=_t306;}{var _t307=null;var _iterator150=_createForOfIteratorHelper(e),_step150;try{for(_iterator150.s();!(_step150=_iterator150.n()).done;){var _i220=_step150.value;if(_i220.hasAttribute("spreadMethod")){_t307=_i220.spreadMethod.baseVal;break;}}}catch(err){_iterator150.e(err);}finally{_iterator150.f();}null===_t307&&(_t307=SVGGradientElement.SVG_SPREADMETHOD_PAD),i.spreadMethod=_t307;}if("linearGradient"===t.localName)for(var _i221=0,_arr7=["x1","y1","x2","y2"];_i221<_arr7.length;_i221++){var _t308=_arr7[_i221];var _s140=null;var _iterator151=_createForOfIteratorHelper(e),_step151;try{for(_iterator151.s();!(_step151=_iterator151.n()).done;){var _i222=_step151.value;if("linearGradient"===_i222.localName&&_i222.hasAttribute(_t308)){_s140={value:_i222[_t308].baseVal.value,valueInSpecifiedUnits:_i222[_t308].baseVal.valueInSpecifiedUnits,valueAsString:_i222[_t308].baseVal.valueAsString,unitType:_i222[_t308].baseVal.unitType};break;}}}catch(err){_iterator151.e(err);}finally{_iterator151.f();}null===_s140&&("x1"===_t308||"y1"===_t308||"y2"===_t308?_s140={value:0,valueInSpecifiedUnits:0,valueAsString:"0%",unitType:SVGLength.SVG_LENGTHTYPE_PERCENTAGE}:"x2"===_t308&&(_s140={value:screen.width,valueInSpecifiedUnits:100,valueAsString:"100%",unitType:SVGLength.SVG_LENGTHTYPE_PERCENTAGE})),i[_t308]=_s140;}else if("radialGradient"===t.localName){for(var _i223=0,_arr8=["cx","cy","r"];_i223<_arr8.length;_i223++){var _t309=_arr8[_i223];var _s141=null;var _iterator152=_createForOfIteratorHelper(e),_step152;try{for(_iterator152.s();!(_step152=_iterator152.n()).done;){var _i224=_step152.value;if("radialGradient"===_i224.localName&&_i224.hasAttribute(_t309)){_s141={value:_i224[_t309].baseVal.value,valueInSpecifiedUnits:_i224[_t309].baseVal.valueInSpecifiedUnits,valueAsString:_i224[_t309].baseVal.valueAsString,unitType:_i224[_t309].baseVal.unitType};break;}}}catch(err){_iterator152.e(err);}finally{_iterator152.f();}null===_s141&&(_s141={value:screen.width/2,valueInSpecifiedUnits:50,valueAsString:"50%",unitType:SVGLength.SVG_LENGTHTYPE_PERCENTAGE}),i[_t309]=_s141;}for(var _i225=0,_arr9=["fx","fy","fr"];_i225<_arr9.length;_i225++){var _t310=_arr9[_i225];var _s142=null;var _iterator153=_createForOfIteratorHelper(e),_step153;try{for(_iterator153.s();!(_step153=_iterator153.n()).done;){var _i226=_step153.value;if("radialGradient"===_i226.localName&&_i226.hasAttribute(_t310)){_s142={value:_i226[_t310].baseVal.value,valueInSpecifiedUnits:_i226[_t310].baseVal.valueInSpecifiedUnits,valueAsString:_i226[_t310].baseVal.valueAsString,unitType:_i226[_t310].baseVal.unitType};break;}}}catch(err){_iterator153.e(err);}finally{_iterator153.f();}null===_s142&&("fx"===_t310?_s142={value:i.cx.value,valueInSpecifiedUnits:i.cx.valueInSpecifiedUnits,valueAsString:i.cx.valueAsString,unitType:i.cx.unitType}:"fy"===_t310?_s142={value:i.cy.value,valueInSpecifiedUnits:i.cy.valueInSpecifiedUnits,valueAsString:i.cy.valueAsString,unitType:i.cy.unitType}:"fr"===_t310&&(_s142={value:i.r.value,valueInSpecifiedUnits:i.r.valueInSpecifiedUnits,valueAsString:i.r.valueAsString,unitType:i.r.unitType})),i[_t310]=_s142;}}return i;},Po=function Po(t){var e=[];for(var _i227=0,_arr10=[t].concat(_toConsumableArray(wo(t)));_i227<_arr10.length;_i227++){var _i228=_arr10[_i227];var _t311=Oo(_i228);if(_t311.length>0){e=_t311;break;}}return e;},Do=function Do(t,e){var i=null;if(t.hasAttribute(e))i=t.getAttribute(e);else{var _s143=wo(t);var _iterator154=_createForOfIteratorHelper(_s143),_step154;try{for(_iterator154.s();!(_step154=_iterator154.n()).done;){var _t312=_step154.value;if(_t312.hasAttribute(e)){i=_t312.getAttribute(e);break;}}}catch(err){_iterator154.e(err);}finally{_iterator154.f();}}return i;},zo=function zo(t,e){var i=Di("canvas"),s=100;i.width=s,i.height=10;var n=i.getContext("2d");n.clearRect(0,0,s,10);var o=n.createLinearGradient(0,0,s,0);var _iterator155=_createForOfIteratorHelper(Po(t)),_step155;try{for(_iterator155.s();!(_step155=_iterator155.n()).done;){var _e243=_step155.value;o.addColorStop(_e243.offset.baseVal,_e243.style.getPropertyValue("stop-color")||"#000");}}catch(err){_iterator155.e(err);}finally{_iterator155.f();}n.fillStyle=o,n.fillRect(0,0,s,10);var l=n.getImageData(e*s,0,1,1).data;return"rgb(".concat(l[0],", ").concat(l[1],", ").concat(l[2],")");},Oo=function Oo(t){var e=[];var _iterator156=_createForOfIteratorHelper(t.children),_step156;try{for(_iterator156.s();!(_step156=_iterator156.n()).done;){var _i229=_step156.value;"stop"===_i229.localName&&e.push(_i229);}}catch(err){_iterator156.e(err);}finally{_iterator156.f();}return e;},Eo=function Eo(t){var _getComputedStyle3=getComputedStyle(t),e=_getComputedStyle3.stopColor,i=_getComputedStyle3.stopOpacity,_uo=uo(e,"rgba"),_uo2=_slicedToArray(_uo,4),s=_uo2[0],n=_uo2[1],o=_uo2[2],l=_uo2[3];return l*=parseFloat(i),"rgba(".concat(s,", ").concat(n,", ").concat(o,", ").concat(l,")");},To=function To(t){var e=null;if("linearGradient"===t.localName&&!1===t.hasAttribute("href")){var _i230=_toConsumableArray(t.querySelectorAll(":scope > stop"));1===_i230.length&&!1===_i230[0].hasAttribute("offset")&&(e=getComputedStyle(_i230[0]).stopColor);}return e;},Ao=function Ao(t,e){if("linearGradient"===t.localName&&!1===t.hasAttribute("href")){var _i231=_toConsumableArray(t.querySelectorAll(":scope > stop"));1===_i231.length&&!1===_i231[0].hasAttribute("offset")&&(_i231[0].style.stopColor=e);}},$o=function $o(t){if(0===t.length)return!1;if(1===t.length)return!0;{var _t313=_toArray(t),_e244=_t313[0],_i232=_t313.slice(1),_s144=Symbol(),_n80=Symbol(),_o55=Symbol();var _iterator157=_createForOfIteratorHelper(t),_step157;try{for(_iterator157.s();!(_step157=_iterator157.n()).done;){var _e246=_step157.value;_e246[_s144]=Po(_e246),!1===_e246.isConnected&&console.warn("compareGradientsResolvedStops() might return incorrect results for disconnected gradients.");}}catch(err){_iterator157.e(err);}finally{_iterator157.f();}var _iterator158=_createForOfIteratorHelper(_i232),_step158;try{for(_iterator158.s();!(_step158=_iterator158.n()).done;){var _t315=_step158.value;if(_t315[_s144].length!==_e244[_s144].length)return!1;}}catch(err){_iterator158.e(err);}finally{_iterator158.f();}var _iterator159=_createForOfIteratorHelper(t),_step159;try{for(_iterator159.s();!(_step159=_iterator159.n()).done;){var _e247=_step159.value;var _iterator161=_createForOfIteratorHelper(_e247[_s144]),_step161;try{for(_iterator161.s();!(_step161=_iterator161.n()).done;){var _t316=_step161.value;var _getComputedStyle4=getComputedStyle(_t316),_e248=_getComputedStyle4.stopColor,_i234=_getComputedStyle4.stopOpacity;_t316[_n80]=_e248,_t316[_o55]=_i234;}}catch(err){_iterator161.e(err);}finally{_iterator161.f();}}}catch(err){_iterator159.e(err);}finally{_iterator159.f();}for(var _t314=0;_t314<_e244[_s144].length;_t314+=1){var _l49=_e244[_s144][_t314];var _iterator160=_createForOfIteratorHelper(_i232),_step160;try{for(_iterator160.s();!(_step160=_iterator160.n()).done;){var _e245=_step160.value;var _i233=_e245[_s144][_t314];if(_i233.offset.baseVal!==_l49.offset.baseVal)return!1;if(_i233[_n80]!==_l49[_n80])return!1;if(_i233[_o55]!==_l49[_o55])return!1;}}catch(err){_iterator160.e(err);}finally{_iterator160.f();}}return!0;}},_SVGUnitTypes=SVGUnitTypes,Io=_SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,Lo=_SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,Bo=function Bo(t){var e=null,i=[],s=t;for(;s&&""!==s.href.baseVal;){null===e&&(e=zi(t));var _n81=e.querySelector(s.href.baseVal);if(!_n81||"pattern"!==_n81.localName||_n81===t||!1!==i.includes(_n81))break;i.push(_n81),s=_n81;}return i;},Ro=function Ro(t){return Fo(t)?t:function(t){var e=Bo(t),i=null;var _iterator162=_createForOfIteratorHelper(e),_step162;try{for(_iterator162.s();!(_step162=_iterator162.n()).done;){var _t317=_step162.value;Fo(_t317)&&(i=_t317);}}catch(err){_iterator162.e(err);}finally{_iterator162.f();}return i;}(t);},Go=function Go(t){var e=null;if(""!==t.href.baseVal){var _i235=zi(t).querySelector(t.href.baseVal);_i235&&_i235!==t&&"pattern"===_i235.localName&&(e=_i235);}return e;},Fo=function Fo(t){return!1===t.hasAttribute("href")||!0===Uo(t);},Uo=function Uo(t){var _iterator163=_createForOfIteratorHelper(t.children),_step163;try{for(_iterator163.s();!(_step163=_iterator163.n()).done;){var _e249=_step163.value;if("title"!==_e249.localName&&"desc"!==_e249.localName&&"metadata"!==_e249.localName)return!0;}}catch(err){_iterator163.e(err);}finally{_iterator163.f();}return!1;},No=function No(t){var e=[];for(var _i236=0,_arr11=[t].concat(_toConsumableArray(Bo(t)));_i236<_arr11.length;_i236++){var _i237=_arr11[_i236];if(Uo(_i237)){e=_toConsumableArray(_i237.children);break;}}return e;},Vo=function Vo(t){var e=[t].concat(_toConsumableArray(Bo(t))),i={};{var _t318=null;var _iterator164=_createForOfIteratorHelper(e),_step164;try{for(_iterator164.s();!(_step164=_iterator164.n()).done;){var _i238=_step164.value;if(_i238.hasAttribute("patternUnits")){_t318=_i238.patternUnits.baseVal;break;}}}catch(err){_iterator164.e(err);}finally{_iterator164.f();}null===_t318&&(_t318=SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX),i.patternUnits=_t318;}{var _t319=null;var _iterator165=_createForOfIteratorHelper(e),_step165;try{for(_iterator165.s();!(_step165=_iterator165.n()).done;){var _i239=_step165.value;if(_i239.hasAttribute("patternContentUnits")){_t319=_i239.patternContentUnits.baseVal;break;}}}catch(err){_iterator165.e(err);}finally{_iterator165.f();}null===_t319&&(_t319=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE),i.patternContentUnits=_t319;}{var _t320=null;var _iterator166=_createForOfIteratorHelper(e),_step166;try{for(_iterator166.s();!(_step166=_iterator166.n()).done;){var _i240=_step166.value;if(_i240.hasAttribute("patternTransform")){_t320=DOMMatrix.fromMatrix(_i240.patternTransform.baseVal.consolidate().matrix);break;}}}catch(err){_iterator166.e(err);}finally{_iterator166.f();}null===_t320&&(_t320=new DOMMatrix()),i.patternTransform=_t320;}{var _t321=null;var _iterator167=_createForOfIteratorHelper(e),_step167;try{for(_iterator167.s();!(_step167=_iterator167.n()).done;){var _i241=_step167.value;if(_i241.hasAttribute("viewBox")){_t321=DOMRect.fromRect(_i241.viewBox.baseVal);break;}}}catch(err){_iterator167.e(err);}finally{_iterator167.f();}null===_t321&&(_t321=new DOMRect()),i.viewBox=_t321;}{var _t322=null;var _iterator168=_createForOfIteratorHelper(e),_step168;try{for(_iterator168.s();!(_step168=_iterator168.n()).done;){var _i242=_step168.value;if(_i242.hasAttribute("preserveAspectRatio")){_t322=_i242.preserveAspectRatio.baseVal;break;}}}catch(err){_iterator168.e(err);}finally{_iterator168.f();}null===_t322&&(_t322={align:SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMIDYMID,meetOrSlice:SVGPreserveAspectRatio.SVG_MEETORSLICE_MEET}),i.preserveAspectRatio=_t322;}for(var _i243=0,_arr12=["x","y","width","height"];_i243<_arr12.length;_i243++){var _t323=_arr12[_i243];var _s145=null;var _iterator169=_createForOfIteratorHelper(e),_step169;try{for(_iterator169.s();!(_step169=_iterator169.n()).done;){var _i244=_step169.value;if(_i244.hasAttribute(_t323)){_s145={value:_i244[_t323].baseVal.value,valueInSpecifiedUnits:_i244[_t323].baseVal.valueInSpecifiedUnits,valueAsString:_i244[_t323].baseVal.valueAsString,unitType:_i244[_t323].baseVal.unitType};break;}}}catch(err){_iterator169.e(err);}finally{_iterator169.f();}null===_s145&&(_s145={value:0,valueInSpecifiedUnits:0,valueAsString:"0",unitType:SVGLength.SVG_LENGTHTYPE_NUMBER}),i[_t323]=_s145;}return i;},jo=function jo(t){var e=zi(t),i=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(w.includes(s.localName)){var _getComputedStyle5=getComputedStyle(s),_e250=_getComputedStyle5.fill,_i245=_getComputedStyle5.stroke;for(var _i246=0,_arr13=[_e250,_i245];_i246<_arr13.length;_i246++){var _o56=_arr13[_i246];if(_o56.startsWith('url("#')){_o56.substring(6,_o56.length-2)===t.id&&!1===n.includes(s)&&n.push(s);}}}}return n;},Ho=function Ho(t){if(0===t.length)return!1;if(1===t.length)return!0;{var _t324=_toArray(t),_e251=_t324[0],_i247=_t324.slice(1),_s146=Symbol();var _iterator170=_createForOfIteratorHelper(t),_step170;try{for(_iterator170.s();!(_step170=_iterator170.n()).done;){var _e252=_step170.value;_e252[_s146]=No(_e252);}}catch(err){_iterator170.e(err);}finally{_iterator170.f();}var _iterator171=_createForOfIteratorHelper(_i247),_step171;try{for(_iterator171.s();!(_step171=_iterator171.n()).done;){var _t325=_step171.value;if(!1===Qe(_t325[_s146],_e251[_s146],!0))return!1;}}catch(err){_iterator171.e(err);}finally{_iterator171.f();}return!0;}},Yo=function Yo(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var s,n,o,l,h,a,r=Vo(t),d=_i(e);if(r.patternUnits===Lo)s=new DOMPoint(r.x.value,r.y.value),n=new DOMPoint(r.x.value+r.width.value,r.y.value),o=new DOMPoint(r.x.value+r.width.value,r.y.value+r.height.value),l=new DOMPoint(d.x+d.width/2-r.width.value/2,d.y+d.height/2-r.height.value/2),h=new DOMPoint(d.x+d.width/2+r.width.value/2,d.y+d.height/2-r.height.value/2),a=new DOMPoint(d.x+d.width/2+r.width.value/2,d.y+d.height/2+r.height.value/2);else if(r.patternUnits===Io){var _t326=r.x.valueInSpecifiedUnits,_e253=r.y.valueInSpecifiedUnits,_i248=r.width.valueInSpecifiedUnits,_c4=r.height.valueInSpecifiedUnits;r.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t326/=100),r.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e253/=100),r.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i248/=100),r.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_c4/=100);var _p3=new DOMPoint(_t326,_e253),_u3=new DOMPoint(_t326+_i248,_e253),_x50=new DOMPoint(_t326+_i248,_e253+_c4);s=new DOMPoint(d.x+_p3.x*d.width,d.y+_p3.y*d.height),n=new DOMPoint(d.x+_u3.x*d.width,d.y+_u3.y*d.height),o=new DOMPoint(d.x+_x50.x*d.width,d.y+_x50.y*d.height),l=new DOMPoint(d.x+d.width/2-d.width*_i248/2,d.y+d.height/2-d.height*_c4/2),h=new DOMPoint(d.x+d.width/2+d.width*_i248/2,d.y+d.height/2-d.height*_c4/2),a=new DOMPoint(d.x+d.width/2+d.width*_i248/2,d.y+d.height/2+d.height*_c4/2);}var c=jt(s,n,o,l,h,a);null!==i&&(c=Bt(c,i)),t.setAttribute("patternTransform",c.toString());},Wo=function Wo(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"fill";var i="none";if("inherit"===t.style.getPropertyValue(e))i="inherit";else{var _s147=getComputedStyle(t).getPropertyValue(e);if(fo(_s147))i="solid";else{var _e254=so.fromString(_s147);if(_e254){var _s148=zi(t).querySelector(_e254.value),_n82=_s148?_s148.localName:null;"linearGradient"===_n82&&So(_s148)?i="solid":"linearGradient"!==_n82&&"radialGradient"!==_n82&&"pattern"!==_n82||(i=_n82);}}}return i;},qo=function qo(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"fill";var i=null,s=getComputedStyle(t).getPropertyValue(e),n=so.fromString(s);if(n){var _e255=zi(t).querySelector(n.value);_e255&&v.includes(_e255.localName)&&(i=_e255);}return i;},Xo=function Xo(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"fill";var i=[],s=[];var _iterator172=_createForOfIteratorHelper(t),_step172;try{for(_iterator172.s();!(_step172=_iterator172.n()).done;){var _n84=_step172.value;var _t327=getComputedStyle(_n84).getPropertyValue(e),_o57=qo(_n84);i.push(_t327),s.push(_o57);}}catch(err){_iterator172.e(err);}finally{_iterator172.f();}if(i.legth<=1)return!1;if(ti(i,i[0]))return!1;{var _e256=s.filter(function(t){return t&&"linearGradient"===t.localName;}),_i249=s.filter(function(t){return t&&"radialGradient"===t.localName;}),_n83=s.filter(function(t){return t&&"pattern"===t.localName;});return(_e256.length!==t.length||!$o(_e256))&&(_i249.length!==t.length||!$o(_i249))&&(_n83.length!==t.length||!Ho(_n83));}},Zo=function Zo(t,e){var i=so.fromString(e);if(i){var _e257=t.querySelector(i.value);if(_e257)return _e257;}return null;},Ko=["text","textPath","tspan"],Qo=["fill","fill-opacity","fill-rule","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","paint-order","vector-effect"],Jo=["opacity","mix-blend-mode","isolation"],tl=["font-family","font-size","font-stretch","font-style","font-variant","font-weight","letter-spacing","word-spacing","text-decoration","text-transform"],el=function el(t){var e=[];return w.includes(t.localName)&&e.push.apply(e,Qo),m.includes(t.localName)&&e.push.apply(e,Jo),Ko.includes(t.localName)&&e.push.apply(e,tl),e;},il=function il(t,e){var i=getComputedStyle(t),s=el(t);!1===t.isConnected&&console.warn("setAppearance() called with a disconnected element.");var _iterator173=_createForOfIteratorHelper(s),_step173;try{for(_iterator173.s();!(_step173=_iterator173.n()).done;){var _n85=_step173.value;var _s149=e[_n85];if(void 0===_s149)t.style[_n85]=null,t.removeAttribute(_n85);else if("fill"===_n85||"stroke"===_n85){if(_s149.startsWith("<linearGradient")||_s149.startsWith("<radialGradient")){var _e258=zi(t),_i250=_e258.querySelector("defs"),_o58=Wi(_templateObject5(),_s149);_o58.id=Vi(_e258,"gradient-"),(_i250||_e258).append(_o58),t.style[_n85]="url(#".concat(_o58.id,")");}else i[_n85]!==_s149&&(t.style[_n85]=_s149);}else i[_n85]!==_s149&&(t.style[_n85]=_s149);}}catch(err){_iterator173.e(err);}finally{_iterator173.f();}},sl={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var nl=/*#__PURE__*/function(_HTMLElement41){_inherits(nl,_HTMLElement41);var _super42=_createSuper(nl);_createClass(nl,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function nl(){var _this140;_classCallCheck(this,nl);_this140=_super42.call(this),_this140.gn=null,_this140.fn=!1;return _this140;}_createClass(nl,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this141=this;var t=this.Js.board;t.style.cursor="crosshair",t.addEventListener("keydown",this.wn=function(t){_this141.vn(t);}),t.workspaces.addEventListener("pointerdown",this.yn=function(t){_this141.kn(t);}),t.pathHud.addEventListener("nodeclick",this.Sn=function(t){_this141._n(t.detail.position,t.detail.path,t.detail.selected);});}},{key:"sn",value:function sn(){var t=this.Js.board;this.gn=null,this.fn=!1,t.pathHud.passive=!1,t.cubicBezierSegHud.hide(),t.removeEventListener("keydown",this.wn),t.workspaces.removeEventListener("pointerdown",this.yn),t.pathHud.removeEventListener("nodeclick",this.Sn);}},{key:"vn",value:function vn(t){var e=to.fromEvent(t);this.gn&&(e.matches("Enter")||e.matches("Escape"))&&(t.stopPropagation(),this.gn=null,this.fn=!1,this.Js.board.pathHud.passive=!1,this.Js.board.cubicBezierSegHud.hide());}},{key:"kn",value:function kn(t){var _this142=this;var e,_i251,s=new DOMPoint(t.clientX,t.clientY),n=0;window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new q(s,e).length;i>n&&(n=i);}),window.addEventListener("pointerup",_i251=function i(s){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i251);var o=n<4;_this142.Cn(t,o);});}},{key:"Cn",value:function Cn(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=this.Js.board;if(i.pathHud.deselectAllSegs(),null===this.gn){if(e){i.undoManager.checkpoint("Draw path segment");var _e259=t.clientX,_s150=t.clientY,_n86=i.currentContainer||i.currentWorkspace,_o59=this.Qs.getConfig("bx-cubicbeziersettings:style")||sl,_l50=Di("svg:path");_n86.append(_l50),il(_l50,_o59);var _h36=Vt(_l50).inverse(),_DOMPoint$matrixTrans=new DOMPoint(_e259,_s150).matrixTransform(_h36),_a24=_DOMPoint$matrixTrans.x,_r14=_DOMPoint$matrixTrans.y,_d6=[{type:"M",values:[_a24,_r14]}];for(var _i252=0,_d7=_d6;_i252<_d7.length;_i252++){var _t328=_d7[_i252];_t328.values=_t328.values.map(function(t){return X(t,i.geometryPrecision);});}_l50.setPathData(_d6),i.selectedElements=[].concat(_toConsumableArray(i.selectedElements),[_l50]),this.fn=!1,this.gn=_l50,i.pathHud.passive=!0,i.cubicBezierSegHud.show(_l50,"end");}}else if(this.gn)if(!1===this.fn){var _t329=_toConsumableArray(this.gn.getPathData({normalize:!0}));_t329.length>1&&i.undoManager.checkpoint("Draw path segment"),i.cubicBezierSegHud.curved?_t329.push({type:"C",values:[i.cubicBezierSegHud.controlPoint1.x,i.cubicBezierSegHud.controlPoint1.y,i.cubicBezierSegHud.controlPoint2.x,i.cubicBezierSegHud.controlPoint2.y,i.cubicBezierSegHud.endPoint.x,i.cubicBezierSegHud.endPoint.y]}):_t329.push({type:"L",values:[i.cubicBezierSegHud.endPoint.x,i.cubicBezierSegHud.endPoint.y]});var _iterator174=_createForOfIteratorHelper(_t329),_step174;try{for(_iterator174.s();!(_step174=_iterator174.n()).done;){var _e260=_step174.value;_e260.values=_e260.values.map(function(t){return X(t,i.geometryPrecision);});}}catch(err){_iterator174.e(err);}finally{_iterator174.f();}this.gn.setPathData(_t329);}else{i.undoManager.checkpoint("Draw path segment");var _t330=this.gn.getPathData({normalize:!0}),_e261=[];_e261.push({type:"M",values:[i.cubicBezierSegHud.startPoint.x,i.cubicBezierSegHud.startPoint.y]}),i.cubicBezierSegHud.curved?_e261.push({type:"C",values:[i.cubicBezierSegHud.controlPoint1.x,i.cubicBezierSegHud.controlPoint1.y,i.cubicBezierSegHud.controlPoint2.x,i.cubicBezierSegHud.controlPoint2.y,i.cubicBezierSegHud.endPoint.x,i.cubicBezierSegHud.endPoint.y]}):_e261.push({type:"L",values:[i.cubicBezierSegHud.endPoint.x,i.cubicBezierSegHud.endPoint.y]}),_e261.push.apply(_e261,_toConsumableArray(_t330.slice(1)));for(var _i253=0,_e262=_e261;_i253<_e262.length;_i253++){var _t331=_e262[_i253];_t331.values=_t331.values.map(function(t){return X(t,i.geometryPrecision);});}this.gn.setPathData(_e261);}}},{key:"_n",value:function _n(t,e,i){var s=!1,n=this.Js.board;if(this.gn)if(e===this.gn){if("start"===t||"end"===t){var _e263=this.gn,_i254=_e263.getPathData({normalize:!0}),_o60=_i254[0],_l51=_i254[_i254.length-1];if(!1===this.fn&&"start"===t){n.undoManager.checkpoint("Draw path segment");var _t332=_toConsumableArray(_i254);n.cubicBezierSegHud.curved?_t332.push({type:"C",values:[n.cubicBezierSegHud.controlPoint1.x,n.cubicBezierSegHud.controlPoint1.y,n.cubicBezierSegHud.controlPoint2.x,n.cubicBezierSegHud.controlPoint2.y,_o60.values[0],_o60.values[1]]}):_t332.push({type:"L",values:[_o60.values[0],_o60.values[1]]}),_t332.push({type:"Z",values:[]});var _iterator175=_createForOfIteratorHelper(_t332),_step175;try{for(_iterator175.s();!(_step175=_iterator175.n()).done;){var _e264=_step175.value;_e264.values=_e264.values.map(function(t){return X(t,n.geometryPrecision);});}}catch(err){_iterator175.e(err);}finally{_iterator175.f();}_e263.setPathData(_t332);}else if(this.fn&&"end"===t){n.undoManager.checkpoint("Draw path segment");var _t333=[];_t333.push({type:"M",values:["C"===_l51.type?_l51.values[4]:_l51.values[0],"C"===_l51.type?_l51.values[5]:_l51.values[1]]}),n.cubicBezierSegHud.curved?_t333.push({type:"C",values:[n.cubicBezierSegHud.controlPoint1.x,n.cubicBezierSegHud.controlPoint1.y,n.cubicBezierSegHud.controlPoint2.x,n.cubicBezierSegHud.controlPoint2.y,_o60.values[0],_o60.values[1]]}):_t333.push({type:"L",values:[_o60.values[0],_o60.values[1]]}),_t333.push.apply(_t333,_toConsumableArray(_i254.slice(1))),_t333.push({type:"Z",values:[]});for(var _i255=0,_t334=_t333;_i255<_t334.length;_i255++){var _e265=_t334[_i255];_e265.values=_e265.values.map(function(t){return X(t,n.geometryPrecision);});}_e263.setPathData(_t333);}this.gn=null,this.fn=!1,n.pathHud.passive=!1,n.cubicBezierSegHud.hide(),s=!0;}}else if("start"===t||"end"===t){var _i256=e,_o61=this.gn,_l52=n.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_i256.id),"\"]")),_h37=n.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_o61.id),"\"]")),_a25=_o61.getPathData({normalize:!0});if(_a25.length>1){var _e266;if(n.undoManager.checkpoint("Draw path segment"),(!1===this.fn&&"end"===t||!0===this.fn&&"start"===t)&&lt(_i256),_h37&&_l52?(_e266=Nt(_l52.closest("text"),_h37.closest("text")),_e266.multiplySelf(Ut(_o61)),_e266.multiplySelf(Ut(_i256))):_h37&&!_l52?(_e266=Nt(_i256,_h37.closest("text")),_e266.multiplySelf(Ut(_o61))):!_h37&&_l52?(_e266=Nt(_l52.closest("text"),_o61),_e266.multiplySelf(Ut(_i256))):_e266=Nt(_i256,_o61),!1===this.fn){var _t335=_toConsumableArray(_a25),_s151=ee(_i256.getPathData({normalize:!0}),_e266),_l53=_s151[0];n.cubicBezierSegHud.curved?_t335.push({type:"C",values:[n.cubicBezierSegHud.controlPoint1.x,n.cubicBezierSegHud.controlPoint1.y,n.cubicBezierSegHud.controlPoint2.x,n.cubicBezierSegHud.controlPoint2.y,_l53.values[0],_l53.values[1]]}):_t335.push({type:"L",values:[_l53.values[0],_l53.values[1]]}),_t335.push.apply(_t335,_toConsumableArray(_s151.slice(1)));var _iterator176=_createForOfIteratorHelper(_t335),_step176;try{for(_iterator176.s();!(_step176=_iterator176.n()).done;){var _e267=_step176.value;_e267.values=_e267.values.map(function(t){return X(t,n.geometryPrecision);});}}catch(err){_iterator176.e(err);}finally{_iterator176.f();}_o61.setPathData(_t335),_i256.setPathData([]),_i256.remove();}else if(!0===this.fn){var _t336=[],_s152=ee(_i256.getPathData({normalize:!0}),_e266),_l54=_a25[0];_t336.push.apply(_t336,_toConsumableArray(_s152)),n.cubicBezierSegHud.curved?_t336.push({type:"C",values:[n.cubicBezierSegHud.controlPoint1.x,n.cubicBezierSegHud.controlPoint1.y,n.cubicBezierSegHud.controlPoint2.x,n.cubicBezierSegHud.controlPoint2.y,_l54.values[0],_l54.values[1]]}):_t336.push({type:"L",values:[_l54.values[0],_l54.values[1]]}),_t336.push.apply(_t336,_toConsumableArray(_a25.slice(1)));for(var _i257=0,_t337=_t336;_i257<_t337.length;_i257++){var _e268=_t337[_i257];_e268.values=_e268.values.map(function(t){return X(t,n.geometryPrecision);});}_o61.setPathData(_t336),_i256.setPathData([]),_i256.remove();}n.selectedElements=n.selectedElements.filter(function(t){return t!==_i256;}),s=!0;}this.gn=null,this.fn=!1,n.pathHud.passive=!1,n.cubicBezierSegHud.hide();}if(!1===s&&null===this.gn&&!0===i)if("start"===t){var _t338=this.Mn(e);this.gn=e,this.fn=!0,n.pathHud.passive=!0,n.cubicBezierSegHud.show(e,"start",_t338);}else if("end"===t){var _t339=this.Mn(e);this.gn=e,this.fn=!1,n.pathHud.passive=!0,n.cubicBezierSegHud.show(e,"end",_t339);}}},{key:"Mn",value:function Mn(t){var e=this.Js.board.workspaces.querySelectorAll("textPath");if(t.id){var _iterator177=_createForOfIteratorHelper(e),_step177;try{for(_iterator177.s();!(_step177=_iterator177.n()).done;){var _i258=_step177.value;if(_i258.href.baseVal==="#"+t.id)return _i258;}}catch(err){_iterator177.e(err);}finally{_iterator177.f();}}return null;}}]);return nl;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(nl,"observedAttributes",["enabled"]);customElements.define("bx-cubicbeziercontext",nl);var ol=function ol(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var s=t+Math.random()*(e-t);return X(s,i);},ll=function ll(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"hex";var i=2166136261;for(var _e269=0,_s153=t.length;_e269<_s153;_e269+=1){i^=t.charCodeAt(_e269),i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24);}return i>>>=0,"hex"===e&&(i=("0000000"+i.toString(16)).substr(-8)),i;},hl=Math.sin,al=Math.cos,rl=Math.tan,dl=Math.PI;var cl={rect:1,ring:1,pie:1,crescent:1,triangle:1,"n-gon":1,star:1,cog:1,arrow:1,cross:1};var pl=function pl(t){var e=null;if(t.hasAttribute("data-bx-shape")){var _i259=t.getAttribute("data-bx-shape").trim().split(/[\s+,]+/);if(_i259.length>=3){var _t340=_i259[0],_s154=_i259.slice(1,_i259.length-1),_n87=_i259[_i259.length-1];if(_n87.includes("@")){var _n87$split=_n87.split("@"),_n87$split2=_slicedToArray(_n87$split,2),_i260=_n87$split2[0],_o62=_n87$split2[1];_s154=_s154.map(function(t){return parseFloat(t);}),e={type:_t340,values:_s154};}}}return e;},ul=function ul(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:9;var s=bl(e,i);if(s){t.setPathData(s);var _n88=e.values.map(function(t){return X(t,i);}),_o63=t.getAttribute("d"),_l55="".concat(e.type," ").concat(_n88.join(" ")," ").concat(cl[e.type]);_l55+="@"+ll("".concat(_o63," / ").concat(_l55)).toString(32),t.setAttribute("data-bx-shape",_l55);}},xl=function xl(t){var e=!1;if(t.hasAttribute("data-bx-shape")){var _i261=t.getAttribute("d"),_s155=t.getAttribute("data-bx-shape").trim().split(/[\s+,]+/);if(_s155.length>=3){var _t341=_s155[0],_n89=_s155.slice(1,_s155.length-1),_o64=_s155[_s155.length-1];if(_o64.includes("@")){var _o64$split=_o64.split("@"),_o64$split2=_slicedToArray(_o64$split,2),_s156=_o64$split2[0],_l56=_o64$split2[1];_l56===ll("".concat(_i261," / ").concat(_t341," ").concat(_n89.join(" ")," ").concat(_s156)).toString(32)&&(e=!0);}}}return e;},bl=function bl(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=null;return"rect"===t.type?i=ml(t,e):"ring"===t.type?i=gl(t,e):"pie"===t.type?i=fl(t,e):"crescent"===t.type?i=wl(t,e):"triangle"===t.type?i=vl(t,e):"n-gon"===t.type?i=yl(t,e):"star"===t.type?i=kl(t,e):"cog"===t.type?i=Sl(t,e):"arrow"===t.type?i=_l(t,e):"cross"===t.type&&(i=Cl(t,e)),i;},ml=function ml(t,e){var _t$values=_slicedToArray(t.values,12),i=_t$values[0],s=_t$values[1],n=_t$values[2],o=_t$values[3],l=_t$values[4],h=_t$values[5],a=_t$values[6],r=_t$values[7],d=_t$values[8],c=_t$values[9],p=_t$values[10],u=_t$values[11];void 0===d&&(d=l),void 0===c&&(c=h),void 0===p&&(p=a),void 0===u&&(u=r),l=l>n/2?n/2:l,h=h>n/2?n/2:h,a=a>n/2?n/2:a,r=r>n/2?n/2:r,d=d>o/2?o/2:d,c=c>o/2?o/2:c,p=p>o/2?o/2:p,u=u>o/2?o/2:u;var x=[{type:"M",values:[i+l,s]},{type:"H",values:[i+n-h]},{type:"A",values:[h,c,0,0,1,i+n,s+c]},{type:"V",values:[s+o-p]},{type:"A",values:[a,p,0,0,1,i+n-a,s+o]},{type:"H",values:[i+r]},{type:"A",values:[r,u,0,0,1,i,s+o-u]},{type:"V",values:[s+d]},{type:"A",values:[l,d,0,0,1,i+l,s]},{type:"Z",values:[]}];x=x.filter(function(t){return"A"!==t.type||0!==t.values[0]&&0!==t.values[1];});var _iterator178=_createForOfIteratorHelper(x),_step178;try{for(_iterator178.s();!(_step178=_iterator178.n()).done;){var _t342=_step178.value;_t342.values=_t342.values.map(function(t){return X(t,e);});}}catch(err){_iterator178.e(err);}finally{_iterator178.f();}return x;},gl=function gl(t,e){var _t$values2=_slicedToArray(t.values,6),i=_t$values2[0],s=_t$values2[1],n=_t$values2[2],o=_t$values2[3],l=_t$values2[4],h=_t$values2[5],a=[{type:"M",values:[i,s]},{type:"m",values:[-l,0]},{type:"a",values:[l,h,0,1,0,2*l,0]},{type:"a",values:[l,h,0,1,0,-2*l,0]},{type:"Z",values:[]},{type:"M",values:[i,s]},{type:"m",values:[-n,0]},{type:"a",values:[n,o,0,0,1,2*n,0]},{type:"a",values:[n,o,0,0,1,-2*n,0]},{type:"Z",values:[]}];for(var _i262=0,_a26=a;_i262<_a26.length;_i262++){var _t343=_a26[_i262];_t343.values=_t343.values.map(function(t){return X(t,e);});}return a;},fl=function fl(t,e){var _t$values3=_slicedToArray(t.values,6),i=_t$values3[0],s=_t$values3[1],n=_t$values3[2],o=_t$values3[3],l=_t$values3[4],h=_t$values3[5],a=Re(l),r=Re(h),d=h-l,c=d>=180||d>=-180&&d<=0?1:0,p=[{type:"M",values:[i+o*hl(a),s+o*-al(a)]},{type:"A",values:[o,o,0,c,1,i+o*hl(r),s+o*-al(r)]},{type:"L",values:[i+n*hl(r),s+n*-al(r)]}];if(n>0){var _t344=i+n*hl(a),_e270=s+n*-al(a);p.push({type:"A",values:[n,n,0,c,0,_t344,_e270]});}p.push({type:"Z",values:[]});for(var _i263=0,_p4=p;_i263<_p4.length;_i263++){var _t345=_p4[_i263];_t345.values=_t345.values.map(function(t){return X(t,e);});}return p;},wl=function wl(t,e){var _t$values4=_slicedToArray(t.values,5),i=_t$values4[0],s=_t$values4[1],n=_t$values4[2],o=_t$values4[3],l=_t$values4[4],h=Ie(90-o/2),a=Re(h),r=Ie(h+o),d=Re(r),c=r-h,p=c>=180||c>=-180&&c<=0?1:0,u=new DOMPoint(i+n*hl(a),s+n*-al(a)),x=new DOMPoint(i+n*hl(d),s+n*-al(d)),b=new DOMPoint(i-n+2*n*l,s),m=[];m.push({type:"M",values:[u.x,u.y]}),m.push({type:"A",values:[n,n,0,p,1,x.x,x.y]}),!0===Me(u,x,b)?m.push({type:"L",values:[u.x,u.y]}):m.push(function(t,e,i){if(!0===Me(t,e,i))throw new Error("Given points are colinear");{var _s157=Pe(e,i),_n90=Pe(i,t),_o65=Pe(t,e),_l57=xe((_s157*_s157+_n90*_n90-_o65*_o65)/(2*_s157*_n90)),_h38=_s157*_n90*_o65/4/(.5*_s157*_n90*pe(_l57));return{type:"A",values:[_h38,_h38,0,+(we/2>_l57),+((e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)<0),e.x,e.y]};}}(x,u,b)),m.push({type:"Z",values:[]});for(var _i264=0,_m2=m;_i264<_m2.length;_i264++){var _t346=_m2[_i264];_t346.values=_t346.values.map(function(t){return X(t,e);});}return m;},vl=function vl(t,e){var _t$values5=_slicedToArray(t.values,6),i=_t$values5[0],s=_t$values5[1],n=_t$values5[2],o=_t$values5[3],l=_t$values5[4],h=_t$values5[5],a=[];if(0===h)a.push({type:"M",values:[i+n*l,s]}),a.push({type:"L",values:[i+n,s+o]}),a.push({type:"L",values:[i,s+o]}),a.push({type:"L",values:[i+n*l,s]});else{var _t347=[{x:i+n*l,y:s},{x:i+n,y:s+o},{x:i,y:s+o}];for(var _e271=0;_e271<_t347.length;_e271+=1){var _i265=_t347[_e271],_s158=_t347[_e271+1]||_t347[0],_n91=_t347[_e271-1]||_t347[_t347.length-1],_o66={x:_i265.x+(_n91.x-_i265.x)*h,y:_i265.y+(_n91.y-_i265.y)*h},_l58={x:_i265.x+(_s158.x-_i265.x)*h,y:_i265.y+(_s158.y-_i265.y)*h},_r15={x:_i265.x,y:_i265.y};a.push({type:0===_e271?"M":"L",values:[_o66.x,_o66.y]}),a.push({type:"Q",values:[_r15.x,_r15.y,_l58.x,_l58.y]});}}a.push({type:"Z",values:[]});for(var _i266=0,_a27=a;_i266<_a27.length;_i266++){var _t348=_a27[_i266];_t348.values=_t348.values.map(function(t){return X(t,e);});}return a;},yl=function yl(t,e){var _t$values6=_slicedToArray(t.values,6),i=_t$values6[0],s=_t$values6[1],n=_t$values6[2],o=_t$values6[3],l=_t$values6[4],h=_t$values6[5],a=[];if(0===h)for(var _t349=0;_t349<l;_t349+=1){var _e272=2*dl*(_t349/l)-dl/2,_h39=n*al(_e272)+i,_r16=o*hl(_e272)+s;0===_t349?a.push({type:"M",values:[_h39,_r16]}):a.push({type:"L",values:[_h39,_r16]});}else{var _t350=[];for(var _e273=0;_e273<l;_e273+=1){var _h40=2*dl*(_e273/l)-dl/2;_t350.push({x:n*al(_h40)+i,y:o*hl(_h40)+s});}for(var _e274=0;_e274<_t350.length;_e274+=1){var _i267=_t350[_e274],_s159=_t350[_e274+1]||_t350[0],_n92=_t350[_e274-1]||_t350[_t350.length-1],_o67={x:_i267.x+(_n92.x-_i267.x)*h,y:_i267.y+(_n92.y-_i267.y)*h},_l59={x:_i267.x+(_s159.x-_i267.x)*h,y:_i267.y+(_s159.y-_i267.y)*h},_r17={x:_i267.x,y:_i267.y};a.push({type:0===_e274?"M":"L",values:[_o67.x,_o67.y]}),a.push({type:"Q",values:[_r17.x,_r17.y,_l59.x,_l59.y]});}}a.push({type:"Z",values:[]});for(var _i268=0,_a28=a;_i268<_a28.length;_i268++){var _t351=_a28[_i268];_t351.values=_t351.values.map(function(t){return X(t,e);});}return a;},kl=function kl(t,e){var _t$values7=_slicedToArray(t.values,6),i=_t$values7[0],s=_t$values7[1],n=_t$values7[2],o=_t$values7[3],l=_t$values7[4],h=_t$values7[5],a=[];for(var _t352=0;_t352<h;_t352+=1){var _e275=2*dl*(_t352/h)-dl/2,_r18=n*al(_e275)+i,_d8=o*hl(_e275)+s;0===_t352?a.push({type:"M",values:[_r18,_d8]}):a.push({type:"L",values:[_r18,_d8]}),_e275=2*dl*(_t352/h)+dl/h-dl/2,_r18=l*n*al(_e275)+i,_d8=l*o*hl(_e275)+s,a.push({type:"L",values:[_r18,_d8]});}a.push({type:"Z",values:[]});for(var _i269=0,_a29=a;_i269<_a29.length;_i269++){var _t353=_a29[_i269];_t353.values=_t353.values.map(function(t){return X(t,e);});}return a;},Sl=function Sl(t,e){var _t$values8=_slicedToArray(t.values,7),i=_t$values8[0],s=_t$values8[1],n=_t$values8[2],o=_t$values8[3],l=_t$values8[4],h=_t$values8[5],a=_t$values8[6],r=360/a,d=r/4,c=rl(Re(d-h*d))*l,p=[];for(var _t354=0;_t354<a;_t354+=1){var _e276=r*_t354-90,_n93=_e276+d+h*d,_a30=_e276+r-d-h*d,_u4=Re(_e276),_x51=Re(_n93),_b2=Re(_a30);p.push({type:0===_t354?"M":"L",values:[i+l*al(_u4)+hl(_u4)*c,s+l*hl(_u4)-al(_u4)*c]}),p.push({type:"L",values:[i+l*al(_u4)-hl(_u4)*c,s+l*hl(_u4)+al(_u4)*c]}),p.push({type:"L",values:[i+o*al(_x51),s+o*hl(_x51)]}),p.push({type:"A",values:[o,o,0,0,1,i+o*al(_b2),s+o*hl(_b2)]});}p.push({type:"Z",values:[]}),p.push({type:"M",values:[i,s-n]}),p.push({type:"A",values:[n,n,0,0,0,i,s+n]}),p.push({type:"A",values:[n,n,0,0,0,i,s-n]});for(var _i270=0,_p5=p;_i270<_p5.length;_i270++){var _t355=_p5[_i270];_t355.values=_t355.values.map(function(t){return X(t,e);});}return p;},_l=function _l(t,e){var _t$values9=_slicedToArray(t.values,7),i=_t$values9[0],s=_t$values9[1],n=_t$values9[2],o=_t$values9[3],l=_t$values9[4],h=_t$values9[5],a=_t$values9[6];h>n&&(h=n),a<0?a=0:a>h&&(a=h);var r=[{type:"M",values:[i,s+o/2-l/2]},{type:"H",values:[i+n-h+a]},{type:"L",values:[i+n-h,s]},{type:"L",values:[i+n,s+o/2]},{type:"L",values:[i+n-h,s+o]},{type:"L",values:[i+n-h+a,s+o/2+l/2]},{type:"H",values:[i]},{type:"V",values:[s+o/2-l/2]},{type:"Z",values:[]}];for(var _i271=0,_r19=r;_i271<_r19.length;_i271++){var _t356=_r19[_i271];_t356.values=_t356.values.map(function(t){return X(t,e);});}return r;},Cl=function Cl(t,e){var _t$values10=_slicedToArray(t.values,7),i=_t$values10[0],s=_t$values10[1],n=_t$values10[2],o=_t$values10[3],l=_t$values10[4],h=_t$values10[5],a=_t$values10[6],r=[{type:"M",values:[i+n/2-h/2,s]},{type:"H",values:[i+n/2+h/2]},{type:"V",values:[s+o*a-l/2]},{type:"H",values:[i+n]},{type:"V",values:[s+o*a+l/2]},{type:"H",values:[i+n/2+h/2]},{type:"V",values:[s+o]},{type:"H",values:[i+n/2-h/2]},{type:"V",values:[s+o*a+l/2]},{type:"H",values:[i]},{type:"V",values:[s+o*a-l/2]},{type:"H",values:[i+n/2-h/2]},{type:"Z",values:[]}];for(var _i272=0,_r20=r;_i272<_r20.length;_i272++){var _t357=_r20[_i272];_t357.values=_t357.values.map(function(t){return X(t,e);});}return r;},Ml=function Ml(t,e,i,s,n,o){var l=2*dl*(t/o)-dl/2,h=s*al(l)+e,a=n*hl(l)+i;return new DOMPoint(h,a);},Pl=function Pl(t,e,i,s,n,o,l){var h,a=dl*(t/l)-dl/2;return h=t%2==0?new DOMPoint(s*al(a)+e,n*hl(a)+i):new DOMPoint(o*s*al(a)+e,o*n*hl(a)+i),h;},Dl=function Dl(t,e,i,s,n,o,l){var h={};{var _a31=Ze(new DOMPoint(t+i-o+l,e+s/2-n/2),new DOMPoint(t+i-o+l,e+s/2-n/2+100),new DOMPoint(t+i-o,e),new DOMPoint(t+i,e+s/2));h.minBaseThickness=1,h.maxBaseThickness=2*(e+s/2-_a31.y),h.maxBaseThickness=Z(h.maxBaseThickness,1,s);}{var _a32=Ze(new DOMPoint(t+i,e+s/2),new DOMPoint(t+i-o+l,e+s/2-n/2),new DOMPoint(t+i-o,e),new DOMPoint(t+i-o,e+100));h.minHeadThickness=2*(e+s/2-_a32.y),h.maxHeadThickness=Infinity;}{var _a33=new q(new DOMPoint(t+i-o+l,e+s/2-n/2),new DOMPoint(t+i-o,e)),_r21=Ze(new DOMPoint(t+i,e+s/2),new DOMPoint(t+i+_a33.x,e+s/2+_a33.y),new DOMPoint(0,e+s/2-s/2),new DOMPoint(100,e+s/2-s/2));h.minHeadLength=_r21?t+i-_r21.x:0,h.maxHeadLength=i,h.minHeadLength<1&&(h.minHeadLength=1);}{var _l60=Ze(new DOMPoint(0,e+s/2-n/2),new DOMPoint(100,e+s/2-n/2),new DOMPoint(t+i-o,e),new DOMPoint(t+i,e+s/2));h.minHeadInset=0,h.maxHeadInset=_l60.x-(t+i-o);}return h;},zl=function zl(t,e,i,s,n,o,l){var h={minHorizontalArmThickness:1};return h.maxHorizontalArmThickness=Math.min(s*l*2,2*(s-s*l)),h.minShift=n/2/s,h.maxShift=(s-n/2)/s,h;},Ol=Math.abs,El=Math.sqrt,Tl=Math.asin,Al=Math.sin,$l=Math.cos,Il=Math.tan,Ll=Math.atan2;var Bl=function Bl(t){var e={},i=[[t.a,t.b,0,0],[t.c,t.d,0,0],[0,0,1,0],[t.e,t.f,0,1]];if(0==i[3][3])return null;for(var _t358=0;_t358<4;_t358++){for(var _e277=0;_e277<4;_e277++){i[_t358][_e277]/=i[3][3];}}var s=[];for(var _t359=0;_t359<4;_t359++){s[_t359]=[];for(var _e278=0;_e278<4;_e278++){s[_t359][_e278]=i[_t359][_e278];}}for(var _t360=0;_t360<3;_t360++){s[_t360][3]=0;}if(s[3][3]=1,0==Fl(s))return null;if(0!==i[0][3]||0!==i[1][3]||0!==i[2][3]){var _t361=[0,0,0,0];_t361[0]=i[0][3],_t361[1]=i[1][3],_t361[2]=i[2][3],_t361[3]=i[3][3];var _n94=Ul(s),_o68=Nl(_n94),_l61=Vl(_t361,_o68);e.perspectiveX=_l61[0],e.perspectiveY=_l61[1],e.perspectiveZ=_l61[2],e.perspectiveW=_l61[3],i[0][3]=i[1][3]=i[2][3]=0,i[3][3]=1;}else e.perspectiveX=0,e.perspectiveY=0,e.perspectiveZ=0,e.perspectiveW=1;e.translateX=i[3][0],i[3][0]=0,e.translateY=i[3][1],i[3][1]=0,e.translateZ=i[3][2],i[3][2]=0;var n=[[],[],[]],o=[0,0,0];for(var _t362=0;_t362<3;_t362++){n[_t362][0]=i[_t362][0],n[_t362][1]=i[_t362][1],n[_t362][2]=i[_t362][2];}if(e.scaleX=jl(n[0]),Hl(n[0],1),e.skewXY=Yl(n[0],n[1]),Wl(n[1],n[0],n[1],1,-e.skewXY),e.scaleY=jl(n[1]),Hl(n[1],1),e.skewXY/=e.scaleY,e.skewXZ=Yl(n[0],n[2]),Wl(n[2],n[0],n[2],1,-e.skewXZ),e.skewYZ=Yl(n[1],n[2]),Wl(n[2],n[1],n[2],1,-e.skewYZ),e.scaleZ=jl(n[2]),Hl(n[2],1),e.skewXZ/=e.scaleZ,e.skewYZ/=e.scaleZ,ql(n[1],n[2],o),Yl(n[0],o)<0){e.scaleX*=-1,e.scaleY*=-1,e.scaleZ*=-1;for(var _t363=0;_t363<3;_t363++){n[_t363][0]*=-1,n[_t363][1]*=-1,n[_t363][2]*=-1;}}var l=0,h=Tl(-n[0][2]),a=0;return 0!==$l(h)?(l=Ll(n[1][2],n[2][2]),a=Ll(n[0][1],n[0][0])):l=Ll(-n[2][0],n[1][1]),e.rotateX=Be(l),e.rotateY=Be(h),e.rotateZ=Be(a),e;},Rl=function Rl(t,e,i,s){return t*s-e*i;},Gl=function Gl(t,e,i,s,n,o,l,h,a){return t*Rl(n,o,h,a)-s*Rl(e,i,h,a)+l*Rl(e,i,n,o);},Fl=function Fl(t){var e=t[0][0],i=t[0][1],s=t[0][2],n=t[0][3],o=t[1][0],l=t[1][1],h=t[1][2],a=t[1][3],r=t[2][0],d=t[2][1],c=t[2][2],p=t[2][3],u=t[3][0],x=t[3][1],b=t[3][2],m=t[3][3];return e*Gl(l,d,x,h,c,b,a,p,m)-i*Gl(o,r,u,h,c,b,a,p,m)+s*Gl(o,r,u,l,d,x,a,p,m)-n*Gl(o,r,u,l,d,x,h,c,b);},Ul=function Ul(t){var e=function(t){var e=[[],[],[],[]],i=t[0][0],s=t[0][1],n=t[0][2],o=t[0][3],l=t[1][0],h=t[1][1],a=t[1][2],r=t[1][3],d=t[2][0],c=t[2][1],p=t[2][2],u=t[2][3],x=t[3][0],b=t[3][1],m=t[3][2],g=t[3][3];e[0][0]=Gl(h,c,b,a,p,m,r,u,g),e[1][0]=-Gl(l,d,x,a,p,m,r,u,g),e[2][0]=Gl(l,d,x,h,c,b,r,u,g),e[3][0]=-Gl(l,d,x,h,c,b,a,p,m),e[0][1]=-Gl(s,c,b,n,p,m,o,u,g),e[1][1]=Gl(i,d,x,n,p,m,o,u,g),e[2][1]=-Gl(i,d,x,s,c,b,o,u,g),e[3][1]=Gl(i,d,x,s,c,b,n,p,m),e[0][2]=Gl(s,h,b,n,a,m,o,r,g),e[1][2]=-Gl(i,l,x,n,a,m,o,r,g),e[2][2]=Gl(i,l,x,s,h,b,o,r,g),e[3][2]=-Gl(i,l,x,s,h,b,n,a,m),e[0][3]=-Gl(s,h,c,n,a,p,o,r,u),e[1][3]=Gl(i,l,d,n,a,p,o,r,u),e[2][3]=-Gl(i,l,d,s,h,c,o,r,u),e[3][3]=Gl(i,l,d,s,h,c,n,a,p);}(t),i=Fl(t);if(Ol(i)<1e-8)return!1;for(var _t364=0;_t364<4;_t364++){for(var _s160=0;_s160<4;_s160++){e[_t364][_s160]=e[_t364][_s160]/i;}}return e;},Nl=function Nl(t){var e=[[],[],[],[]];for(var _i273=0;_i273<4;_i273++){for(var _s161=0;_s161<4;_s161++){e[_i273][_s161]=t[_s161][_i273];}}return e;},Vl=function Vl(t,e){var i=[];return i[0]=t[0]*e[0][0]+t[1]*e[1][0]+t[2]*e[2][0]+t[3]*e[3][0],i[1]=t[0]*e[0][1]+t[1]*e[1][1]+t[2]*e[2][1]+t[3]*e[3][1],i[2]=t[0]*e[0][2]+t[1]*e[1][2]+t[2]*e[2][2]+t[3]*e[3][2],i[3]=t[0]*e[0][3]+t[1]*e[1][3]+t[2]*e[2][3]+t[3]*e[3][3],i;},jl=function jl(t){return El(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);},Hl=function Hl(t,e){var i=jl(t);if(0!=i){var _s162=e/i;t[0]*=_s162,t[1]*=_s162,t[2]*=_s162;}},Yl=function Yl(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2];},Wl=function Wl(t,e,i,s,n){i[0]=s*t[0]+n*e[0],i[1]=s*t[1]+n*e[1],i[2]=s*t[2]+n*e[2];},ql=function ql(t,e,i){i[0]=t[1]*e[2]-t[2]*e[1],i[1]=t[2]*e[0]-t[0]*e[2],i[2]=t[0]*e[1]-t[1]*e[0];},Xl=Math.abs,Zl=Math.min,Kl=Math.max,Ql=Number.parseFloat;var _SVGUnitTypes2=SVGUnitTypes,Jl=_SVGUnitTypes2.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,th=_SVGUnitTypes2.SVG_UNIT_TYPE_USERSPACEONUSE;var eh=Symbol(),ih=Symbol(),sh=Symbol(),nh=Symbol(),oh=Symbol(),lh=Symbol(),hh=Symbol(),ah=Symbol(),rh=Symbol(),dh=Symbol(),ch=Symbol(),ph=Symbol(),uh=function uh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!1===t.hasAttribute("transform"))return;void 0===e.geometryPrecision&&(e.geometryPrecision=3),void 0===e.transformPrecision&&(e.transformPrecision=3),void 0===e.preserveStrokeWidth&&(e.preserveStrokeWidth=!0),void 0===e.preserveRectRadii&&(e.preserveRectRadii=!0),void 0===e.preserveRotation&&(e.preserveRotation=!0),void 0===e.transformDirection&&(e.transformDirection="bottom-right");var i=t.localName;if("g"===i)xh(t,e);else if("a"===i)bh(t,e);else if("rect"===i)mh(t,e);else if("circle"===i)gh(t,e);else if("ellipse"===i)fh(t,e);else if("text"===i)$h(t,e);else if("image"===i)Ah(t,e);else if("line"===i)wh(t,e);else if("polyline"===i)vh(t,e);else if("polygon"===i)vh(t,e);else if("use"===i)yh(t,e);else if("path"===i)if(t.hasAttribute("data-bx-shape")){var _pl=pl(t),_i274=_pl.type;"rect"===_i274?Ch(t,e):"ring"===_i274?Dh(t,e):"pie"===_i274?zh(t,e):"crescent"===_i274?Sh(t,e):"triangle"===_i274?_h(t,e):"n-gon"===_i274?Mh(t,e):"star"===_i274?Ph(t,e):"cog"===_i274?Oh(t,e):"arrow"===_i274?Eh(t,e):"cross"===_i274?Th(t,e):kh(t,e);}else kh(t,e);},xh=function xh(t,_ref56){var e=_ref56.transformPrecision;var i=Bt(Ut(t),e);i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",i.toString());},bh=function bh(t,_ref57){var e=_ref57.transformPrecision;var i=Bt(Ut(t),e);i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",i.toString());},mh=function mh(t,e){var i=Ut(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRectRadii;if(i.is2D){var _Bl=Bl(i),_l62=_Bl.scaleX,_h41=_Bl.scaleY,_a34=t.x.baseVal.value,_r22=t.y.baseVal.value,_d9=t.width.baseVal.value,_c5=t.height.baseVal.value,_p6=t.rx.baseVal.value,_u5=t.ry.baseVal.value,_x52=new DOMPoint(_a34,_r22).matrixTransform(i),_b3=new DOMPoint(_a34+_d9,_r22).matrixTransform(i),_m3=new DOMPoint(_a34,_r22+_c5).matrixTransform(i);_a34*=_l62,_r22*=_h41,_d9*=Xl(_l62),_c5*=Xl(_h41),!1===o&&(_p6*=Xl(_l62),_u5*=Xl(_h41));var _g2=new DOMPoint(_a34,_r22),_f2=new DOMPoint(_a34+_d9,_r22),_w2=new DOMPoint(_a34,_r22+_c5),_v=jt(_g2,_f2,_w2,_x52,_b3,_m3);_v=Bt(_v,n),1===Xl(_v.a)&&0===_v.b&&0===_v.c&&1===Xl(_v.d)&&(_a34=1===_v.a?_a34+_v.e:_a34-_v.e,_r22=1===_v.d?_r22+_v.f:_r22-_v.f,_v.e=0,_v.f=0),Ih(t);for(var _i275=0,_arr14=[["x",_a34],["y",_r22],["width",_d9],["height",_c5],["rx",_p6],["ry",_u5]];_i275<_arr14.length;_i275++){var _arr14$_i=_slicedToArray(_arr14[_i275],2),_e279=_arr14$_i[0],_i276=_arr14$_i[1];_i276=X(_i276,s),0===_i276?t.removeAttribute(_e279):t.setAttribute(_e279,_i276);}_v.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_v.toString()),Lh(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Bt(i,n).toString());},gh=function gh(t,e){var i=Ut(t),_Bl2=Bl(i),s=_Bl2.scaleX,n=_Bl2.scaleY,o=e.geometryPrecision,l=e.transformPrecision,h=e.preserveRotation;if(i.is2D&&X(s,o)===X(n,o)){if(!1===h){var _s163=new DOMPoint(t.cx.baseVal.value,t.cy.baseVal.value),_n95=new DOMPoint(t.cx.baseVal.value+t.r.baseVal.value,t.cy.baseVal.value),_l63=_s163.matrixTransform(i),_h42=_n95.matrixTransform(i),_a35=new q(_l63,_h42).length;Ih(t),t.setAttribute("cx",X(_l63.x,o)),t.setAttribute("cy",X(_l63.y,o)),t.setAttribute("r",X(_a35,o)),t.removeAttribute("transform"),Lh(t,e);}else{var _n96=s,_h43=t.cx.baseVal.value,_a36=t.cy.baseVal.value,_r23=t.r.baseVal.value,_d10=new DOMPoint(_h43,_a36).matrixTransform(i),_c6=new DOMPoint(_h43+_r23,_a36).matrixTransform(i),_p7=new DOMPoint(_h43,_a36+_r23).matrixTransform(i);_r23*=Xl(_n96);var _u6=new DOMPoint(_h43,_a36),_x53=new DOMPoint(_h43+_r23,_a36),_b4=new DOMPoint(_h43,_a36+_r23),_m4=jt(_u6,_x53,_b4,_d10,_c6,_p7);_m4=Bt(_m4,l),1===Xl(_m4.a)&&0===_m4.b&&0===_m4.c&&1===Xl(_m4.d)&&(0===_m4.e&&0===_m4.f||(_h43=1===_m4.a?_h43+_m4.e:_h43-_m4.e,_a36=1===_m4.d?_a36+_m4.f:_a36-_m4.f,_r23=new q(new DOMPoint(_h43,_a36),new DOMPoint(_h43+_r23,_a36)).length,_m4.e=0,_m4.f=0)),Ih(t),_m4.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_m4.toString());for(var _i277=0,_arr15=[["cx",_h43],["cy",_a36],["r",_r23]];_i277<_arr15.length;_i277++){var _arr15$_i=_slicedToArray(_arr15[_i277],2),_e280=_arr15$_i[0],_i278=_arr15$_i[1];_i278=X(_i278,o),0===_i278?t.removeAttribute(_e280):t.setAttribute(_e280,_i278);}Lh(t,e);}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Bt(i,l).toString());},fh=function fh(t,e){var i=Ut(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Bl3=Bl(i),_o69=_Bl3.scaleX,_l64=_Bl3.scaleY,_h44=t.cx.baseVal.value,_a37=t.cy.baseVal.value,_r24=t.rx.baseVal.value,_d11=t.ry.baseVal.value,_c7=new DOMPoint(_h44,_a37).matrixTransform(i),_p8=new DOMPoint(_h44+_r24,_a37).matrixTransform(i),_u7=new DOMPoint(_h44,_a37+_d11).matrixTransform(i);_r24*=Xl(_o69),_d11*=Xl(_l64);var _x54=new DOMPoint(_h44,_a37),_b5=new DOMPoint(_h44+_r24,_a37),_m5=new DOMPoint(_h44,_a37+_d11),_g3=jt(_x54,_b5,_m5,_c7,_p8,_u7);_g3=Bt(_g3,n),1===Xl(_g3.a)&&0===_g3.b&&0===_g3.c&&1===Xl(_g3.d)&&(0===_g3.e&&0===_g3.f||(_h44=1===_g3.a?_h44+_g3.e:_h44-_g3.e,_a37=1===_g3.d?_a37+_g3.f:_a37-_g3.f,_r24=new q(new DOMPoint(_h44,_a37),new DOMPoint(_h44+_r24,_a37)).length,_d11=new q(new DOMPoint(_h44,_a37),new DOMPoint(_h44,_a37+_d11)).length,_g3.e=0,_g3.f=0)),Ih(t),_g3.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_g3.toString());for(var _i279=0,_arr16=[["cx",_h44],["cy",_a37],["rx",_r24],["ry",_d11]];_i279<_arr16.length;_i279++){var _arr16$_i=_slicedToArray(_arr16[_i279],2),_e281=_arr16$_i[0],_i280=_arr16$_i[1];_i280=X(_i280,s),0===_i280?t.removeAttribute(_e281):t.setAttribute(_e281,_i280);}Lh(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Bt(i,n));},wh=function wh(t,e){var i=Ut(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRotation;if(i.is2D){if(o){var _i281=Jt(t);Ih(t),te(t,Jt(t.parentElement));var _o70=Ut(t),_l65=new DOMPoint(t.x1.baseVal.value,t.y1.baseVal.value),_h45=new DOMPoint(t.x2.baseVal.value,t.y2.baseVal.value),_a38=_l65.matrixTransform(_o70),_r25=_h45.matrixTransform(_o70);t.setAttribute("x1",X(_a38.x,s)),t.setAttribute("y1",X(_a38.y,s)),t.setAttribute("x2",X(_r25.x,s)),t.setAttribute("y2",X(_r25.y,s)),t.removeAttribute("transform"),te(t,_i281,n),Lh(t,e);}else{var _i282=Kt(t),_n97=Ut(t),_o71=new DOMPoint(t.x1.baseVal.value,t.y1.baseVal.value),_l66=new DOMPoint(t.x2.baseVal.value,t.y2.baseVal.value),_h46=_o71.matrixTransform(_n97),_a39=_l66.matrixTransform(_n97);if(Ih(t),t.setAttribute("x1",X(_h46.x,s)),t.setAttribute("y1",X(_h46.y,s)),t.setAttribute("x2",X(_a39.x,s)),t.setAttribute("y2",X(_a39.y,s)),t.removeAttribute("transform"),t.hasAttribute("data-bx-origin")){var _e282=_i(t),_n98=Vt(t).inverse(),_o72=_i282.matrixTransform(_n98),_l67=le(_o72,_e282),_h47=X(_l67.x,s),_a40=X(_l67.y,s);t.setAttribute("data-bx-origin","".concat(_h47," ").concat(_a40));}Lh(t,e);}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Bt(i,n));},vh=function vh(t,e){var i=Ut(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRotation;if(i.is2D){if(o){var _i283=Jt(t);Ih(t),te(t,Jt(t.parentElement));var _o73=Ut(t),_l68=[];var _iterator179=_createForOfIteratorHelper(t.points),_step179;try{for(_iterator179.s();!(_step179=_iterator179.n()).done;){var _e283=_step179.value;var _DOMPoint$fromPoint$m=DOMPoint.fromPoint(_e283).matrixTransform(_o73),_t365=_DOMPoint$fromPoint$m.x,_i284=_DOMPoint$fromPoint$m.y;_l68.push(X(_t365,s),X(_i284,s));}}catch(err){_iterator179.e(err);}finally{_iterator179.f();}t.setAttribute("points",_l68.join(" ")),t.removeAttribute("transform"),te(t,_i283,n),Lh(t,e);}else{var _n99=Kt(t),_o74=[];var _iterator180=_createForOfIteratorHelper(t.points),_step180;try{for(_iterator180.s();!(_step180=_iterator180.n()).done;){var _e285=_step180.value;var _DOMPoint$fromPoint$m2=DOMPoint.fromPoint(_e285).matrixTransform(i),_t366=_DOMPoint$fromPoint$m2.x,_n100=_DOMPoint$fromPoint$m2.y;_o74.push(X(_t366,s),X(_n100,s));}}catch(err){_iterator180.e(err);}finally{_iterator180.f();}if(Ih(t),t.setAttribute("points",_o74.join(" ")),t.removeAttribute("transform"),t.hasAttribute("data-bx-origin")){var _e284=_i(t),_i285=Vt(t).inverse(),_o75=_n99.matrixTransform(_i285),_l69=le(_o75,_e284),_h48=X(_l69.x,s),_a41=X(_l69.y,s);t.setAttribute("data-bx-origin","".concat(_h48," ").concat(_a41));}Lh(t,e);}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Bt(i,n));},yh=function yh(t,e){var i=e.transformPrecision;if(t.hasAttribute("transform")){var _e286=Ut(t);_e286=Bt(_e286,i),_e286.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_e286.toString());}},kh=function kh(t,e){var i=Ut(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRotation;if(i.is2D){if(o){var _i286=Jt(t);Ih(t),te(t,Jt(t.parentElement));var _o76=Ut(t),_l70=t.getPathData(),_h49=ee(_l70,_o76,s);t.setPathData(_h49),t.removeAttribute("transform"),te(t,_i286,n),Lh(t,e);}else{var _n101=Kt(t),_o77=t.getPathData(),_l71=ee(_o77,i,s);if(Ih(t),t.setPathData(_l71),t.removeAttribute("transform"),t.hasAttribute("data-bx-origin")){var _e287=_i(t),_i287=Vt(t).inverse(),_o78=_n101.matrixTransform(_i287),_l72=le(_o78,_e287),_h50=X(_l72.x,s),_a42=X(_l72.y,s);t.setAttribute("data-bx-origin","".concat(_h50," ").concat(_a42));}Lh(t,e);}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Bt(i,n));},Sh=function Sh(t,e){var i=Ut(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){if(i.isIdentity)t.removeAttribute("transform");else{var _Bl4=Bl(i),_o79=_Bl4.scaleX,_l73=_Bl4.scaleY;if(_o79===_l73){var _pl$values=_slicedToArray(pl(t).values,5),_l74=_pl$values[0],_h51=_pl$values[1],_a43=_pl$values[2],_r26=_pl$values[3],_d12=_pl$values[4],_c8=new DOMPoint(_l74,_h51).matrixTransform(i),_p9=new DOMPoint(_l74+_a43,_h51).matrixTransform(i),_u8=new DOMPoint(_l74,_h51+_a43).matrixTransform(i);_a43*=Xl(_o79);var _x55=new DOMPoint(_l74,_h51),_b6=new DOMPoint(_l74+_a43,_h51),_m6=new DOMPoint(_l74,_h51+_a43),_g4=jt(_x55,_b6,_m6,_c8,_p9,_u8);_g4=Bt(_g4,n),1===Xl(_g4.a)&&0===_g4.b&&0===_g4.c&&1===Xl(_g4.d)&&(0===_g4.e&&0===_g4.f||(_l74=1===_g4.a?_l74+_g4.e:_l74-_g4.e,_h51=1===_g4.d?_h51+_g4.f:_h51-_g4.f,_g4.e=0,_g4.f=0));var _f3=[_l74,_h51,_a43,_r26,_d12];_f3=_f3.map(function(t){return X(t,s);}),Ih(t),ul(t,{type:"crescent",values:_f3},s),_g4.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_g4.toString()),Lh(t,e);}else t.setAttribute("transform",Bt(i,n));}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Bt(i,n));},_h=function _h(t,e){var i=Ut(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Bl5=Bl(i),_o80=_Bl5.scaleX,_l75=_Bl5.scaleY,_pl$values2=_slicedToArray(pl(t).values,6),_h52=_pl$values2[0],_a44=_pl$values2[1],_r27=_pl$values2[2],_d13=_pl$values2[3],_c9=_pl$values2[4],_p10=_pl$values2[5],_u9=new DOMPoint(_h52,_a44).matrixTransform(i),_x56=new DOMPoint(_h52+_r27,_a44).matrixTransform(i),_b7=new DOMPoint(_h52,_a44+_d13).matrixTransform(i);_h52*=_o80,_a44*=_l75,_r27*=Xl(_o80),_d13*=Xl(_l75);var _m7=new DOMPoint(_h52,_a44),_g5=new DOMPoint(_h52+_r27,_a44),_f4=new DOMPoint(_h52,_a44+_d13),_w3=jt(_m7,_g5,_f4,_u9,_x56,_b7);_w3=Bt(_w3,n),1===Xl(_w3.a)&&0===_w3.b&&0===_w3.c&&1===Xl(_w3.d)&&(0===_w3.e&&0===_w3.f||(_h52=1===_w3.a?_h52+_w3.e:_h52-_w3.e,_a44=1===_w3.d?_a44+_w3.f:_a44-_w3.f,_w3.e=0,_w3.f=0));var _v2={type:"triangle",values:[_h52,_a44,_r27,_d13,_c9,_p10].map(function(t){return X(t,s);})};Ih(t),ul(t,_v2,s),_w3.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_w3.toString()),Lh(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Bt(i,n));},Ch=function Ch(t,e){var i=Ut(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRectRadii;if(i.is2D){var _Bl6=Bl(i),_l76=_Bl6.scaleX,_h53=_Bl6.scaleY,_pl$values3=_slicedToArray(pl(t).values,12),_a45=_pl$values3[0],_r28=_pl$values3[1],_d14=_pl$values3[2],_c10=_pl$values3[3],_p11=_pl$values3[4],_u10=_pl$values3[5],_x57=_pl$values3[6],_b8=_pl$values3[7],_m8=_pl$values3[8],_g6=_pl$values3[9],_f5=_pl$values3[10],_w4=_pl$values3[11],_v3=new DOMPoint(_a45,_r28).matrixTransform(i),_y=new DOMPoint(_a45+_d14,_r28).matrixTransform(i),_k=new DOMPoint(_a45,_r28+_c10).matrixTransform(i);void 0===_m8&&(_m8=_p11),void 0===_g6&&(_g6=_u10),void 0===_f5&&(_f5=_x57),void 0===_w4&&(_w4=_b8),_a45*=_l76,_r28*=_h53,_d14*=Xl(_l76),_c10*=Xl(_h53),!1===o&&(_p11*=Xl(_l76),_u10*=Xl(_l76),_x57*=Xl(_l76),_b8*=Xl(_l76),_m8*=Xl(_h53),_g6*=Xl(_h53),_f5*=Xl(_h53),_w4*=Xl(_h53));var _S,_2=new DOMPoint(_a45,_r28),_C=new DOMPoint(_a45+_d14,_r28),_M=new DOMPoint(_a45,_r28+_c10),_P=jt(_2,_C,_M,_v3,_y,_k);_P=Bt(_P,n),1===Xl(_P.a)&&0===_P.b&&0===_P.c&&1===Xl(_P.d)&&(0===_P.e&&0===_P.f||(_a45=1===_P.a?_a45+_P.e:_a45-_P.e,_r28=1===_P.d?_r28+_P.f:_r28-_P.f,_P.e=0,_P.f=0)),_S=_p11===_m8&&_u10===_g6&&_x57===_f5&&_b8===_w4?[_a45,_r28,_d14,_c10,_p11,_u10,_x57,_b8]:[_a45,_r28,_d14,_c10,_p11,_u10,_x57,_b8,_m8,_g6,_f5,_w4],_S=_S.map(function(t){return X(t,s);}),Ih(t),ul(t,{type:"rect",values:_S},s),_P.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_P.toString()),Lh(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Bt(i,n));},Mh=function Mh(t,e){var i=Ut(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Bl7=Bl(i),_o81=_Bl7.scaleX,_l77=_Bl7.scaleY,_pl$values4=_slicedToArray(pl(t).values,6),_h54=_pl$values4[0],_a46=_pl$values4[1],_r29=_pl$values4[2],_d15=_pl$values4[3],_c11=_pl$values4[4],_p12=_pl$values4[5],_u11=new DOMPoint(_h54,_a46).matrixTransform(i),_x58=new DOMPoint(_h54+_r29,_a46).matrixTransform(i),_b9=new DOMPoint(_h54,_a46+_d15).matrixTransform(i);_r29*=Xl(_o81),_d15*=Xl(_l77);var _m9=new DOMPoint(_h54,_a46),_g7=new DOMPoint(_h54+_r29,_a46),_f6=new DOMPoint(_h54,_a46+_d15),_w5=jt(_m9,_g7,_f6,_u11,_x58,_b9);_w5=Bt(_w5,n),1===Xl(_w5.a)&&0===_w5.b&&0===_w5.c&&1===Xl(_w5.d)&&(0===_w5.e&&0===_w5.f||(_h54=1===_w5.a?_h54+_w5.e:_h54-_w5.e,_a46=1===_w5.d?_a46+_w5.f:_a46-_w5.f,_w5.e=0,_w5.f=0));var _v4=[_h54,_a46,_r29,_d15,_c11,_p12];_v4=_v4.map(function(t){return X(t,s);}),Ih(t),ul(t,{type:"n-gon",values:_v4},s),_w5.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_w5.toString()),Lh(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Bt(i,n));},Ph=function Ph(t,e){var i=Ut(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Bl8=Bl(i),_o82=_Bl8.scaleX,_l78=_Bl8.scaleY,_pl$values5=_slicedToArray(pl(t).values,6),_h55=_pl$values5[0],_a47=_pl$values5[1],_r30=_pl$values5[2],_d16=_pl$values5[3],_c12=_pl$values5[4],_p13=_pl$values5[5],_u12=new DOMPoint(_h55,_a47).matrixTransform(i),_x59=new DOMPoint(_h55+_r30,_a47).matrixTransform(i),_b10=new DOMPoint(_h55,_a47+_d16).matrixTransform(i);_r30*=Xl(_o82),_d16*=Xl(_l78);var _m10=new DOMPoint(_h55,_a47),_g8=new DOMPoint(_h55+_r30,_a47),_f7=new DOMPoint(_h55,_a47+_d16),_w6=jt(_m10,_g8,_f7,_u12,_x59,_b10);_w6=Bt(_w6,n),1===Xl(_w6.a)&&0===_w6.b&&0===_w6.c&&1===Xl(_w6.d)&&(0===_w6.e&&0===_w6.f||(_h55=1===_w6.a?_h55+_w6.e:_h55-_w6.e,_a47=1===_w6.d?_a47+_w6.f:_a47-_w6.f,_w6.e=0,_w6.f=0));var _v5=[_h55,_a47,_r30,_d16,_c12,_p13].map(function(t){return X(t,s);});Ih(t),ul(t,{type:"star",values:_v5},s),_w6.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_w6.toString()),Lh(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Bt(i,n));},Dh=function Dh(t,e){var i=Ut(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _pl$values6=_slicedToArray(pl(t).values,6),_o83=_pl$values6[0],_l79=_pl$values6[1],_h56=_pl$values6[2],_a48=_pl$values6[3],_r31=_pl$values6[4],_d17=_pl$values6[5],_Bl9=Bl(i),_c13=_Bl9.scaleX,_p14=_Bl9.scaleY,_u13=new DOMPoint(_o83,_l79).matrixTransform(i),_x60=new DOMPoint(_o83+_r31,_l79).matrixTransform(i),_b11=new DOMPoint(_o83,_l79+_d17).matrixTransform(i);_h56*=Xl(_c13),_a48*=Xl(_p14),_r31*=Xl(_c13),_d17*=Xl(_p14);var _m11=new DOMPoint(_o83,_l79),_g9=new DOMPoint(_o83+_r31,_l79),_f8=new DOMPoint(_o83,_l79+_d17),_w7=jt(_m11,_g9,_f8,_u13,_x60,_b11);_w7=Bt(_w7,n),1===Xl(_w7.a)&&0===_w7.b&&0===_w7.c&&1===Xl(_w7.d)&&(0===_w7.e&&0===_w7.f||(_o83=1===_w7.a?_o83+_w7.e:_o83-_w7.e,_l79=1===_w7.d?_l79+_w7.f:_l79-_w7.f,_w7.e=0,_w7.f=0));var _v6=[_o83,_l79,_h56,_a48,_r31,_d17].map(function(t){return X(t,s);});Ih(t),ul(t,{type:"ring",values:_v6},s),_w7.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_w7.toString()),Lh(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Bt(i,n));},zh=function zh(t,e){var i=Ut(t),s=e.geometryPrecision,n=e.transformPrecision;i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Bt(i,n));},Oh=function Oh(t,e){var i=Ut(t),s=e.geometryPrecision,n=e.transformPrecision;i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Bt(i,n));},Eh=function Eh(t,e){var i=Ut(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Bl10=Bl(i),_o84=_Bl10.scaleX,_l80=_Bl10.scaleY,_pl$values7=_slicedToArray(pl(t).values,7),_h57=_pl$values7[0],_a49=_pl$values7[1],_r32=_pl$values7[2],_d18=_pl$values7[3],_c14=_pl$values7[4],_p15=_pl$values7[5],_u14=_pl$values7[6],_x61=new DOMPoint(_h57,_a49).matrixTransform(i),_b12=new DOMPoint(_h57+_r32,_a49).matrixTransform(i),_m12=new DOMPoint(_h57,_a49+_d18).matrixTransform(i);_h57*=_o84,_a49*=_l80,_r32*=Xl(_o84),_d18*=Xl(_l80),_p15*=Xl(_o84),_u14*=Xl(_o84),_c14*=Xl(_l80);var _g10=new DOMPoint(_h57,_a49),_f9=new DOMPoint(_h57+_r32,_a49),_w8=new DOMPoint(_h57,_a49+_d18),_v7=jt(_g10,_f9,_w8,_x61,_b12,_m12);_v7=Bt(_v7,n),1===Xl(_v7.a)&&0===_v7.b&&0===_v7.c&&1===Xl(_v7.d)&&(_h57=1===_v7.a?_h57+_v7.e:_h57-_v7.e,_a49=1===_v7.d?_a49+_v7.f:_a49-_v7.f,_v7.e=0,_v7.f=0),Ih(t),ul(t,{type:"arrow",values:[_h57,_a49,_r32,_d18,_c14,_p15,_u14]},s),_v7.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_v7.toString()),Lh(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Bt(i,n).toString());},Th=function Th(t,e){var i=Ut(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Bl11=Bl(i),_o85=_Bl11.scaleX,_l81=_Bl11.scaleY,_pl$values8=_slicedToArray(pl(t).values,7),_h58=_pl$values8[0],_a50=_pl$values8[1],_r33=_pl$values8[2],_d19=_pl$values8[3],_c15=_pl$values8[4],_p16=_pl$values8[5],_u15=_pl$values8[6],_x62=new DOMPoint(_h58,_a50).matrixTransform(i),_b13=new DOMPoint(_h58+_r33,_a50).matrixTransform(i),_m13=new DOMPoint(_h58,_a50+_d19).matrixTransform(i);_h58*=_o85,_a50*=_l81,_r33*=Xl(_o85),_d19*=Xl(_l81),_c15*=Xl(_l81),_p16*=Xl(_o85);var _g11=new DOMPoint(_h58,_a50),_f10=new DOMPoint(_h58+_r33,_a50),_w9=new DOMPoint(_h58,_a50+_d19),_v8=jt(_g11,_f10,_w9,_x62,_b13,_m13);_v8=Bt(_v8,n),1===Xl(_v8.a)&&0===_v8.b&&0===_v8.c&&1===Xl(_v8.d)&&(_h58=1===_v8.a?_h58+_v8.e:_h58-_v8.e,_a50=1===_v8.d?_a50+_v8.f:_a50-_v8.f,_v8.e=0,_v8.f=0),Ih(t),ul(t,{type:"cross",values:[_h58,_a50,_r33,_d19,_c15,_p16,_u15]},s),_v8.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_v8.toString()),Lh(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Bt(i,n).toString());},Ah=function Ah(t,e){var i=e.geometryPrecision,s=e.transformPrecision,n=Ut(t),_Bl12=Bl(n),o=_Bl12.scaleX,l=_Bl12.scaleY;if(!n.is2D||o!==l&&"none"!==t.getAttribute("preserveAspectRatio"))n.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Bt(n,s));else{var _h59=t.x.baseVal.value,_a51=t.y.baseVal.value,_r34=t.width.baseVal.value,_d20=t.height.baseVal.value,_c16=new DOMPoint(_h59,_a51).matrixTransform(n),_p17=new DOMPoint(_h59+_r34,_a51).matrixTransform(n),_u16=new DOMPoint(_h59,_a51+_d20).matrixTransform(n);_h59*=o,_a51*=l,_r34*=Xl(o),_d20*=Xl(l);var _x63=new DOMPoint(_h59,_a51),_b14=new DOMPoint(_h59+_r34,_a51),_m14=new DOMPoint(_h59,_a51+_d20),_g12=jt(_x63,_b14,_m14,_c16,_p17,_u16);_g12=Bt(_g12,s),1===Xl(_g12.a)&&0===_g12.b&&0===_g12.c&&1===Xl(_g12.d)&&(0===_g12.e&&0===_g12.f||(_h59=1===_g12.a?_h59+_g12.e:_h59-_g12.e,_a51=1===_g12.d?_a51+_g12.f:_a51-_g12.f,_g12.e=0,_g12.f=0)),Ih(t);for(var _i288=0,_arr17=[["x",_h59],["y",_a51],["width",_r34],["height",_d20]];_i288<_arr17.length;_i288++){var _arr17$_i=_slicedToArray(_arr17[_i288],2),_e288=_arr17$_i[0],_s164=_arr17$_i[1];_s164=X(_s164,i),0===_s164?t.removeAttribute(_e288):t.setAttribute(_e288,_s164);}_g12.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_g12.toString()),Lh(t,e);}},$h=function $h(t,e){var i=e.geometryPrecision,s=e.transformPrecision,n=_toConsumableArray(t.children).find(function(t){return"textPath"===t.localName;}),o=null;if(n){o=zi(n).querySelector(n.href.baseVal);}if(o){var _e289=Bt(Ut(t),s);_e289.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_e289.toString());}else{var _n102=Ut(t),_Bl13=Bl(_n102),_o86=_Bl13.scaleX,_l82=_Bl13.scaleY;if(_n102.is2D&&_o86===_l82&&!1===wi(t)){(function(){var _ref58=function(t){var e=0,i=0,s=0,n=0,o=xi(t)[0]||null;if(o){var _l83=[];for(var _e290=o.parentElement;_e290!==t;_e290=_e290.parentElement){"tspan"!==_e290.localName&&"textPath"!==_e290.localName||_l83.push(_e290);}_l83.push(t),_l83.reverse();for(var _i289=0,_l84=_l83;_i289<_l84.length;_i289++){var _t367=_l84[_i289];_t367.x.baseVal.length>0&&(e=_t367.x.baseVal[0].value),_t367.y.baseVal.length>0&&(i=_t367.y.baseVal[0].value),_t367.dx.baseVal.length>0&&(s=_t367.dx.baseVal[0].value),_t367.dy.baseVal.length>0&&(n=_t367.dy.baseVal[0].value);}}return[e+s,i+n];}(t),_ref59=_slicedToArray(_ref58,2),h=_ref59[0],a=_ref59[1],r=_i(t).width,d=_i(t).height,c=new DOMPoint(h,a).matrixTransform(_n102),p=new DOMPoint(h+r,a).matrixTransform(_n102),u=new DOMPoint(h,a+d).matrixTransform(_n102),x=h*_o86,b=a*_l82,m=r*Xl(_o86),g=d*Xl(_l82),f=new DOMPoint(x,b),w=new DOMPoint(x+m,b),v=new DOMPoint(x,b+g),y=jt(f,w,v,c,p,u);y=Bt(y,s),1===Xl(y.a)&&0===y.b&&0===y.c&&1===Xl(y.d)&&(0===y.e&&0===y.f||(x=1===y.a?x+y.e:x-y.e,b=1===y.d?b+y.f:b-y.f,y.e=0,y.f=0)),Ih(t);var _iterator181=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step181;try{for(_iterator181.s();!(_step181=_iterator181.n()).done;){var _e294=_step181.value;Ih(_e294);}}catch(err){_iterator181.e(err);}finally{_iterator181.f();}var k=x-h,S=b-a,_=_toConsumableArray(t.x.baseVal).map(function(t){return X(t.value+k,i);}),C=_toConsumableArray(t.y.baseVal).map(function(t){return X(t.value+S,i);});if(x=X(x,i),b=X(b,i),_.length>0)t.setAttribute("x",_.join(" "));else{var _e291=X(k,i);0===_e291?t.removeAttribute("x"):t.setAttribute("x",_e291);}if(C.length>0)t.setAttribute("y",C.join(" "));else{var _e292=X(S,i);0===_e292?t.removeAttribute("y"):t.setAttribute("y",_e292);}var _iterator182=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step182;try{for(_iterator182.s();!(_step182=_iterator182.n()).done;){var _e295=_step182.value;var _t369=_toConsumableArray(_e295.x.baseVal).map(function(t){return X(t.value+k,i);}),_s166=_toConsumableArray(_e295.y.baseVal).map(function(t){return X(t.value+S,i);});_t369.length>0&&_e295.setAttribute("x",_t369.join(" ")),_s166.length>0&&_e295.setAttribute("y",_s166.join(" "));}}catch(err){_iterator182.e(err);}finally{_iterator182.f();}if(y.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",y.toString()),Lh(t,e),0===t.querySelectorAll("tspan").length){var _e293=getComputedStyle(t).getPropertyValue("font-size");_e293=Ql(_e293),_e293=X(_e293*_l82,1),t.style.setProperty("font-size",_e293);}else{var _iterator183=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step183;try{for(_iterator183.s();!(_step183=_iterator183.n()).done;){var _i290=_step183.value;var _t368=getComputedStyle(_i290).getPropertyValue("font-size");_t368=Ql(_t368),_t368=X(_t368*_l82,1),_i290.style.setProperty("font-size",_t368);var _s165=getComputedStyle(_i290).getPropertyValue("word-spacing");_s165=Ql(_s165),_s165=X(_s165*_l82,2),_i290.style.setProperty("word-spacing",_s165);var _n103=getComputedStyle(_i290).getPropertyValue("letter-spacing");_n103=Ql(_n103),_n103=X(_n103*_l82,2),_i290.style.setProperty("letter-spacing",_n103),Lh(_i290,e);}}catch(err){_iterator183.e(err);}finally{_iterator183.f();}}})();}else _n102.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Bt(_n102,s));}},Ih=function Ih(t){var e=Vt(t);if((_.includes(t.localName)||M.includes(t.localName))&&(F(t)||U(t))&&(t[eh]=_i(t,!1)),w.includes(t.localName)){var _i291=[qo(t,"fill"),qo(t,"stroke")],_s167=_i291.filter(function(t){return t&&t.localName.endsWith("Gradient");}),_n104=_i291.filter(function(t){return t&&"pattern"===t.localName;}),_Bl14=Bl(Ut(t)),_o87=_Bl14.scaleX,_l85=_Bl14.scaleY;t[ih]=_o87,t[sh]=_l85;var _iterator184=_createForOfIteratorHelper(_s167),_step184;try{for(_iterator184.s();!(_step184=_iterator184.n()).done;){var _t370=_step184.value;var _i292=Mo(_t370);if(_i292.gradientUnits===th)if("linearGradient"===_t370.localName){var _s168=new DOMPoint(_i292.x1.value,_i292.y1.value),_n105=new DOMPoint(_i292.x2.value,_i292.y2.value),_o88=new q(_s168,_n105).getNormalVector().transformPoint(_s168),_l86=_s168.matrixTransform(_i292.gradientTransform),_h60=_n105.matrixTransform(_i292.gradientTransform),_a52=_o88.matrixTransform(_i292.gradientTransform);_t370[nh]=_l86.matrixTransform(e),_t370[oh]=_h60.matrixTransform(e),_t370[lh]=_a52.matrixTransform(e);}else if("radialGradient"===_t370.localName){var _s169=new DOMPoint(_i292.cx.value,_i292.cy.value),_n106=new DOMPoint(_i292.cx.value+_i292.r.value,_i292.cy.value),_o89=new DOMPoint(_i292.cx.value,_i292.cy.value-_i292.r.value),_l87=_s169.matrixTransform(_i292.gradientTransform),_h61=_n106.matrixTransform(_i292.gradientTransform),_a53=_o89.matrixTransform(_i292.gradientTransform);_t370[hh]=_l87.matrixTransform(e),_t370[ah]=_h61.matrixTransform(e),_t370[rh]=_a53.matrixTransform(e);}}}catch(err){_iterator184.e(err);}finally{_iterator184.f();}var _iterator185=_createForOfIteratorHelper(_n104),_step185;try{for(_iterator185.s();!(_step185=_iterator185.n()).done;){var _i293=_step185.value;var _s170=Vo(_i293);if(_s170.patternUnits===th){var _t371=new DOMPoint(_s170.x.value,_s170.y.value),_n107=new DOMPoint(_s170.x.value+_s170.width.value,_s170.y.value),_o90=new DOMPoint(_s170.x.value+_s170.width.value,_s170.y.value+_s170.height.value),_l88=_t371.matrixTransform(_s170.patternTransform),_h62=_n107.matrixTransform(_s170.patternTransform),_a54=_o90.matrixTransform(_s170.patternTransform);_i293[dh]=_l88.matrixTransform(e),_i293[ch]=_h62.matrixTransform(e),_i293[ph]=_a54.matrixTransform(e);}else if(_s170.patternUnits===Jl){var _e296=Vt(t),_n108=_i(t),_o91=_s170.x.valueInSpecifiedUnits,_l89=_s170.y.valueInSpecifiedUnits,_h63=_s170.width.valueInSpecifiedUnits,_a55=_s170.height.valueInSpecifiedUnits;_s170.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_o91/=100),_s170.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_l89/=100),_s170.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_h63/=100),_s170.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_a55/=100);var _r35=new DOMPoint(_o91,_l89),_d21=new DOMPoint(_o91+_h63,_l89),_c17=new DOMPoint(_o91+_h63,_l89+_a55),_p18=new DOMPoint(_n108.x+_r35.x*_n108.width,_n108.y+_r35.y*_n108.height),_u17=new DOMPoint(_n108.x+_d21.x*_n108.width,_n108.y+_d21.y*_n108.height),_x64=new DOMPoint(_n108.x+_c17.x*_n108.width,_n108.y+_c17.y*_n108.height),_b15=_p18.matrixTransform(_s170.patternTransform),_m15=_u17.matrixTransform(_s170.patternTransform),_g13=_x64.matrixTransform(_s170.patternTransform),_f11=_b15.matrixTransform(_e296),_w10=_m15.matrixTransform(_e296),_v9=_g13.matrixTransform(_e296);_i293[dh]=_f11,_i293[ch]=_w10,_i293[ph]=_v9;}}}catch(err){_iterator185.e(err);}finally{_iterator185.f();}}},Lh=function Lh(t,e){var i=Vt(t).inverse(),s=e.geometryPrecision,n=e.preserveStrokeWidth,o=e.transformPrecision,l=e.transformDirection;if(_.includes(t.localName)){var _i294=getComputedStyle(t).clipPath,_s171=_i294&&"none"!==_i294?_i294.substring(6,_i294.length-2):"",_n109=_s171?zi(t).querySelector("#"+CSS.escape(_s171)):null;if(_n109){var _i295=t[eh],_s172=_i(t,!1),_o92=Ht(_i295,_s172);_o92=_o92.multiply(Ut(_n109));var _iterator186=_createForOfIteratorHelper(_n109.children),_step186;try{for(_iterator186.s();!(_step186=_iterator186.n()).done;){var _t372=_step186.value;S.includes(_t372.localName)&&(_t372.setAttribute("transform",_o92.multiply(Ut(_t372)).toString()),uh(_t372,e));}}catch(err){_iterator186.e(err);}finally{_iterator186.f();}_n109.removeAttribute("transform");}}if(M.includes(t.localName)){var _i296=getComputedStyle(t).mask,_s173=_i296&&"none"!==_i296?_i296.substring(6,_i296.length-2):"",_n110=_s173?zi(t).querySelector("#"+CSS.escape(_s173)):null;if(_n110){var _i297=t[eh],_s174=_i(t,!1),_o93=Ht(_i297,_s174);var _iterator187=_createForOfIteratorHelper(_n110.children),_step187;try{for(_iterator187.s();!(_step187=_iterator187.n()).done;){var _t373=_step187.value;C.includes(_t373.localName)&&(_t373.setAttribute("transform",_o93.multiply(Ut(_t373)).toString()),uh(_t373,e));}}catch(err){_iterator187.e(err);}finally{_iterator187.f();}_n110.removeAttribute("transform");}}if(w.includes(t.localName)){var _e297=[qo(t,"fill"),qo(t,"stroke")],_h64=_e297.filter(function(t){return t&&t.localName.endsWith("Gradient");}),_a56=_e297.filter(function(t){return t&&"pattern"===t.localName;});if(!1===n){var _e298=t[ih],_i298=t[sh],_n111=getComputedStyle(t).getPropertyValue("stroke-width");_n111=Ql(_n111),_n111*="left"===l||"right"===l?Xl(_e298):"top"===l||"bottom"===l?Xl(_i298):(Xl(_e298)+Xl(_i298))/2,_n111=X(_n111,s),t.style.setProperty("stroke-width",_n111);}var _iterator188=_createForOfIteratorHelper(_h64),_step188;try{for(_iterator188.s();!(_step188=_iterator188.n()).done;){var _t374=_step188.value;var _e299=Mo(_t374);if(_e299.gradientUnits===th){var _s175=void 0;if("linearGradient"===_t374.localName){var _n112=new DOMPoint(_e299.x1.value,_e299.y1.value),_o94=new DOMPoint(_e299.x2.value,_e299.y2.value),_l90=new q(_n112,_o94).getNormalVector().transformPoint(_n112);_s175=jt(_n112,_o94,_l90,_t374[nh].matrixTransform(i),_t374[oh].matrixTransform(i),_t374[lh].matrixTransform(i));}else if("radialGradient"===_t374.localName){var _n113=new DOMPoint(_e299.cx.value,_e299.cy.value),_o95=new DOMPoint(_e299.cx.value+_e299.r.value,_e299.cy.value),_l91=new DOMPoint(_e299.cx.value,_e299.cy.value-_e299.r.value);_s175=jt(_n113,_o95,_l91,_t374[hh].matrixTransform(i),_t374[ah].matrixTransform(i),_t374[rh].matrixTransform(i));}_s175=Bt(_s175,o),_t374.setAttribute("gradientTransform",_s175.toString());}}}catch(err){_iterator188.e(err);}finally{_iterator188.f();}var _iterator189=_createForOfIteratorHelper(_a56),_step189;try{for(_iterator189.s();!(_step189=_iterator189.n()).done;){var _e300=_step189.value;var _s176=Vo(_e300),_n114=(_e300.hasAttribute("href")&&Go(_e300),jo(_e300)),_l92=_e300[dh],_h65=_e300[ch],_a57=_e300[ph];if(_n114.length>1){var _i299=void 0;{var _t375=zi(_e300),_s177="";for(var _i300=0;_i300<Infinity&&(_s177=_e300.id+"-"+_i300,_t375.querySelector("#".concat(_s177)));_i300+=1){;}_i299=Di("svg:pattern"),_i299.setAttribute("id",_s177),_i299.setAttribute("href","#"+_e300.id),_e300.after(_i299);}for(var _i301=0,_arr18=["fill","stroke"];_i301<_arr18.length;_i301++){var _s178=_arr18[_i301];t.style.getPropertyValue(_s178)==="url(\"#".concat(_e300.id,"\")")&&t.style.setProperty(_s178,"url(\"#".concat(_i299.id,"\")"));}_e300=_i299;}if(_s176.patternUnits===th){var _t376=new DOMPoint(_s176.x.value,_s176.y.value),_n115=new DOMPoint(_s176.x.value+_s176.width.value,_s176.y.value),_r36=new DOMPoint(_s176.x.value+_s176.width.value,_s176.y.value+_s176.height.value),_d22=jt(_t376,_n115,_r36,_l92.matrixTransform(i),_h65.matrixTransform(i),_a57.matrixTransform(i)),_c18=Bt(_d22,o);_e300.setAttribute("patternTransform",_c18.toString());}else if(_s176.patternUnits===Jl){var _n116=_i(t),_r37=_s176.x.valueInSpecifiedUnits,_d23=_s176.y.valueInSpecifiedUnits,_c19=_s176.width.valueInSpecifiedUnits,_p19=_s176.height.valueInSpecifiedUnits;_s176.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_r37/=100),_s176.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_d23/=100),_s176.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_c19/=100),_s176.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_p19/=100);var _u18=new DOMPoint(_r37,_d23),_x65=new DOMPoint(_r37+_c19,_d23),_b16=new DOMPoint(_r37+_c19,_d23+_p19),_m16=new DOMPoint(_n116.x+_u18.x*_n116.width,_n116.y+_u18.y*_n116.height),_g14=new DOMPoint(_n116.x+_x65.x*_n116.width,_n116.y+_x65.y*_n116.height),_f12=new DOMPoint(_n116.x+_b16.x*_n116.width,_n116.y+_b16.y*_n116.height),_w11=_l92.matrixTransform(i),_v10=_h65.matrixTransform(i),_y2=_a57.matrixTransform(i),_k2=_w11.matrixTransform(_s176.patternTransform.inverse()),_S2=_v10.matrixTransform(_s176.patternTransform.inverse()),_3=_y2.matrixTransform(_s176.patternTransform.inverse()),_C2=jt(_m16,_g14,_f12,_k2,_S2,_3),_M2=_s176.patternTransform.multiply(_C2);_M2=Bt(_M2,o),_e300.setAttribute("patternTransform",_M2.toString());}}}catch(err){_iterator189.e(err);}finally{_iterator189.f();}}},Bh=Math.abs;var Rh=/*#__PURE__*/function(_HTMLElement42){_inherits(Rh,_HTMLElement42);var _super43=_createSuper(Rh);function Rh(){_classCallCheck(this,Rh);return _super43.apply(this,arguments);}_createClass(Rh,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this.Pn=Ti(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this143=this;this.Pn.style.cursor=null,this.Pn.workspaces.addEventListener("contextmenu",this.Dn=function(t){_this143.zn(t);}),this.Pn.workspaces.addEventListener("pointerdown",this.On=function(t){_this143.kn(t);});}},{key:"sn",value:function sn(){this.Pn.workspaces.removeEventListener("contextmenu",this.Dn),this.Pn.workspaces.removeEventListener("pointerdown",this.On);}},{key:"zn",value:function zn(t){}},{key:"kn",value:function kn(t){var _this144=this;if(1!==t.buttons||!1===t.isPrimary||this.Qs.pointers.length>1)return;var _e301,_i302,s=t.target,n=new DOMPoint(t.clientX,t.clientY);this.En=!1,window.addEventListener("pointermove",_e301=function e(i){var s=new DOMPoint(i.clientX,i.clientY);if(i.pointerId!==t.pointerId||_this144.Qs.pointers.length>1||Pe(n,s)<3)return;window.removeEventListener("pointermove",_e301),_this144.En=!0;var o=new q(i.clientX-t.clientX,i.clientY-t.clientY),l=Bh(o.x)>Bh(o.y)?"horizontal":"vertical";_this144.Tn(t,i,l);}),window.addEventListener("pointerup",_i302=function i(o){if(o.pointerId!==t.pointerId)return;window.removeEventListener("pointermove",_e301),window.removeEventListener("pointerup",_i302);var l=new DOMPoint(o.clientX,o.clientY);Pe(n,l)<3&&_this144.Cn(s,o);});}},{key:"Cn",value:function Cn(t,e){if(0!==e.button||this.En)return;var i=this.Pn.getHitWorkspaceElements(e.clientX,e.clientY);if(i.length>0){var _t377=i[i.length-1];2===this.Qs.pointerClickCount?this.Js.toggleTool("transform-tool"):this.Pn.isSelectableElement(_t377)&&this.An(_t377);}else this.$n(e);}},{key:"An",value:function An(t){var e=this.Pn,_this$Qs$modKeys=this.Qs.modKeys,i=_this$Qs$modKeys.ctrl,s=_this$Qs$modKeys.alt,n=_this$Qs$modKeys.shift,o=this.In(t),l=e.selectedElements.includes(t);var _iterator190=_createForOfIteratorHelper(o),_step190;try{for(_iterator190.s();!(_step190=_iterator190.n()).done;){var _t379=_step190.value;e.selectedElements.includes(_t379)&&(l=!0);}}catch(err){_iterator190.e(err);}finally{_iterator190.f();}if(!1===n){var _i303=null;for(var _s179=t.parentElement;_s179!==e.currentWorkspace;_s179=_s179.parentElement){if("g"===_s179.localName||"a"===_s179.localName){_i303=_s179;break;}}e.currentContainer=_i303,e.selectedElements=[t];}else if(!0===n){var _i304=e.currentContainer,_s180=e.selectedElements;if(_s180=_s180.includes(t)?_s180.filter(function(e){return e!==t;}):[].concat(_toConsumableArray(_s180),[t]),0===_s180.length)_i304=null;else for(var _t378=_s180[0].parentElement;_t378!==e.currentWorkspace;_t378=_t378.parentElement){if("g"===_t378.localName||"a"===_t378.localName){_i304=_t378;break;}}e.currentContainer=_i304,e.selectedElements=_s180;}}},{key:"$n",value:function $n(t){if(0!==t.button)return;var _this$Qs$modKeys2=this.Qs.modKeys,e=_this$Qs$modKeys2.ctrl,i=_this$Qs$modKeys2.shift;e||i||(this.Pn.currentContainer=null,this.Pn.selectedElements=[]);}},{key:"Tn",value:function(){var _Tn=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee66(t,e,i){var s,n,o,_t380,_t381;return regeneratorRuntime.wrap(function _callee66$(_context66){while(1){switch(_context66.prev=_context66.next){case 0:s=t.clientX,n=t.clientY,o=this.Qs.getConfig("bx-editsettings:selectionShape","rect");if(!(this.Qs.modKeys.ctrl&&("polygon"===o?o="rect":"rect"===o&&(o="polygon")),"rect"===o)){_context66.next=8;break;}_context66.next=4;return this.Pn.rubberBandHud.grabSelection(s,n,"rect");case 4:_t380=_context66.sent;this.Pn.pathHud.rubberBandSelectionCallback(_t380);_context66.next=13;break;case 8:if(!("polygon"===o)){_context66.next=13;break;}_context66.next=11;return this.Pn.rubberBandHud.grabSelection(s,n,"polygon");case 11:_t381=_context66.sent;this.Pn.pathHud.rubberBandSelectionCallback(_t381);case 13:case"end":return _context66.stop();}}},_callee66,this);}));function Tn(_x66,_x67,_x68){return _Tn.apply(this,arguments);}return Tn;}()},{key:"In",value:function In(t){var e=[];if(t!==this.Pn.currentWorkspace)for(;t.parentElement&&t.parentElement!==this.Pn.currentWorkspace;){"g"!==(t=t.parentElement).localName&&"a"!==t.localName||e.unshift(t);}return e;}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return Rh;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Rh,"observedAttributes",["enabled"]);customElements.define("bx-directselectcontext",Rh);var Gh=/*#__PURE__*/function(_HTMLElement43){_inherits(Gh,_HTMLElement43);var _super44=_createSuper(Gh);function Gh(){_classCallCheck(this,Gh);return _super44.apply(this,arguments);}_createClass(Gh,[{key:"connectedCallback",value:function connectedCallback(){this.Ln=!1,this.Bn=!1,this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this.Pn=Ti(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this145=this;this.Pn.style.cursor="-webkit-grab",this.Pn.workspaces.addEventListener("pointerdown",this.On=function(t){_this145.kn(t);}),window.addEventListener("keydown",this.wn=function(t){return _this145.vn(t);}),window.addEventListener("keyup",this.Rn=function(t){return _this145.Gn(t);});}},{key:"sn",value:function sn(){this.Pn.workspaces.removeEventListener("pointerdown",this.On),this.Qs.removeEventListener("pointerschange",this.Fn),window.removeEventListener("pointermove",this.Un),window.removeEventListener("pointerup",this.Nn),window.removeEventListener("keydown",this.wn),window.removeEventListener("keyup",this.Rn);}},{key:"kn",value:function kn(t){var _this146=this;if(0!==t.button||!1===t.isPrimary||this.Qs.pointers.length>1)return;this.Pn.style.cursor="-webkit-grabbing",this.Bn=!0;var e=new DOMPoint(t.clientX,t.clientY),i=e;window.addEventListener("pointermove",this.Un=function(s){if(s.pointerId!==t.pointerId)return;var n=new DOMPoint(s.clientX,s.clientY),o=s.timeStamp-t.timeStamp;if(Pe(e,n)>=3||o>80){var _t382=new q(i,n);!1===_this146.Ln&&_this146.Pn.Vn(_t382.x,_t382.y),i=n;}}),window.addEventListener("pointerup",this.Nn=function(e){e.pointerId===t.pointerId&&(window.removeEventListener("pointermove",_this146.Un),window.removeEventListener("pointerup",_this146.Nn),_this146.Qs.removeEventListener("pointerschange",_this146.Fn),_this146.Bn=!1,!1===_this146.Ln&&(_this146.Pn.style.cursor="-webkit-grab"));}),this.Qs.addEventListener("pointerschange",this.Fn=function(){1===_this146.Qs.pointers.length&&!1!==_this146.Qs.pointers.has(t.pointerId)||(window.removeEventListener("pointermove",_this146.Un),window.removeEventListener("pointerup",_this146.Nn),_this146.Qs.removeEventListener("pointerschange",_this146.Fn),_this146.Bn=!1,!1===_this146.Ln&&(_this146.Pn.style.cursor="-webkit-grab"));});}},{key:"vn",value:function vn(t){if("Space"===t.code){"pan"===this.Qs.getConfig("bx-keyboardsettings:spaceKeyMode","togglePreviousTool")&&(this.Ln=!0,this.Pn.style.cursor="-webkit-grabbing");}}},{key:"Gn",value:function Gn(t){"Space"===t.code&&(this.Ln=!1,!1===this.Bn&&(this.Pn.style.cursor="-webkit-grab"));}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return Gh;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Gh,"observedAttributes",["enabled"]);customElements.define("bx-pancontext",Gh);var Fh=Math.abs,Uh=Math.floor,Nh=Math.max,Vh=function Vh(t,e){var i=re(new q(t[1]),new q(t[0])),s=re(new q(t[t.length-3]),new q(t[t.length-2]));return i=i.normalize(),s=s.normalize(),jh(t,0,t.length-1,i,s,e);},jh=function jh(t,e,i,s,n,o){if(i-e==1){var _o96=t[e],_l93=t[i],_h66=Pe(_o96,_l93)/3,_a58=new q(_o96),_r38=new q(_l93),_d24=de(_a58,s.scale(_h66)),_c20=de(_r38,n.scale(_h66));return[[_o96,new DOMPoint(_d24.x,_d24.y),new DOMPoint(_c20.x,_c20.y),_l93]];}var l,h=Yh(t,e,i),a=Nh(o,o*o);for(var _r39=0;_r39<=4;_r39+=1){var _r40=Hh(t,e,i,h,s,n),_Zh=Zh(t,e,i,_r40,h),_Zh2=_slicedToArray(_Zh,2),_d25=_Zh2[0],_c21=_Zh2[1];if(_d25<o)return[_r40];if(l=_c21,_d25>=a)break;Wh(t,e,i,h,_r40),a=_d25;}var r=re(new q(t[l-1]),new q(t[l])),d=re(new q(t[l]),new q(t[l+1])),c=de(r,d).multiply(.5).normalize(),p=jh(t,e,l,s,c,o),u=jh(t,l,i,c.multiply(-1),n,o);return p.concat(u);},Hh=function Hh(t,e,i,s,n,o){var l=t[e],h=t[i],a=new q(l),r=new q(h),d=[[0,0],[0,0]],c=[0,0],p=i-e+1;for(var _i305=0;_i305<p;_i305+=1){var _l94=s[_i305],_h67=1-_l94,_p20=3*_l94*_h67,_u19=_h67*_h67*_h67,_x69=_p20*_h67,_b17=_p20*_l94,_m17=_l94*_l94*_l94,_g15=n.scale(_x69),_f13=o.scale(_b17);d[0][0]+=ae(_g15,_g15),d[0][1]+=ae(_g15,_f13),d[1][0]=d[0][1],d[1][1]+=ae(_f13,_f13);var _w12=new q(t[e+_i305]);_w12=re(_w12,a.multiply(_u19+_x69)),_w12=re(_w12,r.multiply(_b17+_m17)),c[0]+=ae(_g15,_w12),c[1]+=ae(_f13,_w12);}var u,x,b=d[0][0]*d[1][1]-d[1][0]*d[0][1],m=1e-6;if(Fh(b)>m){var _t383=d[0][0]*c[1]-d[1][0]*c[0];u=(c[0]*d[1][1]-c[1]*d[0][1])/b,x=_t383/b;}else{var _t384=d[0][0]+d[0][1],_e302=d[1][0]+d[1][1];u=x=Fh(_t384)>m?c[0]/_t384:Fh(_e302)>m?c[1]/_e302:0;}var g=Pe(h,l);m*=g,(u<m||x<m)&&(u=x=g/3);var f=de(a,n.scale(u)),w=de(r,o.scale(x));return[l,new DOMPoint(f.x,f.y),new DOMPoint(w.x,w.y),h];},Yh=function Yh(t,e,i){var s=[0];for(var _n117=e+1;_n117<=i;_n117+=1){s[_n117-e]=s[_n117-e-1]+Pe(t[_n117],t[_n117-1]);}for(var _t385=1,_n118=i-e;_t385<=_n118;_t385+=1){s[_t385]/=s[i-e];}return s;},Wh=function Wh(t,e,i,s,n){var o=[];for(var _l95=e;_l95<=i;_l95+=1){o[_l95-e]=qh(n,t[_l95],s[_l95-e]);}return o;},qh=function qh(t,e,i){var s=[],n=[];for(var _e303=0;_e303<=2;_e303+=1){var _i306=re(new q(t[_e303+1]),new q(t[_e303]));s[_e303]=_i306.multiply(3);}for(var _t386=0;_t386<=1;_t386++){var _e304=re(s[_t386+1],s[_t386]);n[_t386]=_e304.multiply(2);}var o=Xh(3,t,i),l=Xh(2,s,i),h=Xh(1,n,i),a=re(o,new q(e)),r=ae(l,l)+ae(a,h);return Fh(r)<1e-6?i:i-ae(a,l)/r;},Xh=function Xh(t,e,i){var s=e.map(function(t){return new q(t);});for(var n=1;n<=t;n+=1){for(var o=0;o<=t-n;o+=1){s[o]=de(s[o].multiply(1-i),s[o+1].multiply(i));}}return s[0];},Zh=function Zh(t,e,i,s,n){var o=Uh((i-e+1)/2),l=0;for(var _h68=e+1;_h68<i;_h68++){var _i307=re(Xh(3,s,n[_h68-e]),new q(t[_h68])).length;_i307>=l&&(l=_i307,o=_h68);}return[l,o];},Kh={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var Qh=/*#__PURE__*/function(_HTMLElement44){_inherits(Qh,_HTMLElement44);var _super45=_createSuper(Qh);_createClass(Qh,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Qh(){_classCallCheck(this,Qh);return _super45.call(this);}_createClass(Qh,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function(){var _tn=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee67(){var _this147=this;return regeneratorRuntime.wrap(function _callee67$(_context67){while(1){switch(_context67.prev=_context67.next){case 0:this.jn=this.Qs.getConfig("bx-freehandsettings:smoothing",.5),this.Pn.pathHud.passive=!0,this.Pn.style.cursor="crosshair",this.Qs.addEventListener("configchange",this.ln=function(t){_this147.hn(t.detail);}),this.Pn.workspaces.addEventListener("pointerdown",this.yn=function(t){_this147.kn(t);}),this.Pn.pathHud.addEventListener("pointerdown",this.Hn=function(t){_this147.Yn(t);});case 1:case"end":return _context67.stop();}}},_callee67,this);}));function tn(){return _tn.apply(this,arguments);}return tn;}()},{key:"sn",value:function sn(){this.Pn.pathHud.passive=!1,this.Qs.removeEventListener("configchange",this.ln),this.Pn.workspaces.removeEventListener("pointerdown",this.yn),this.Pn.pathHud.removeEventListener("pointerdown",this.Hn),this.Pn.freehandHud.hide();}},{key:"hn",value:function hn(_ref60){var t=_ref60.key,e=_ref60.value;"bx-freehandsettings:smoothing"===t&&null!==e&&(this.jn=e);}},{key:"Yn",value:function Yn(t){var _this148=this;var e=this.Pn,i=e.pathHud.getNodeGrippieDescriptor(t.clientX,t.clientY);if(i){var _s181,_n121,_o97=i.index,_l96=i.path,_h69=ot(_l96.getPathData());{var _t387=-1;var _iterator191=_createForOfIteratorHelper(_h69),_step191;try{for(_iterator191.s();!(_step191=_iterator191.n()).done;){var _e305=_step191.value;var _iterator192=_createForOfIteratorHelper(_e305),_step192;try{for(_iterator192.s();!(_step192=_iterator192.n()).done;){var _n120=_step192.value;if(_t387+=1,_t387===i.index){_s181=_e305;break;}}}catch(err){_iterator192.e(err);}finally{_iterator192.f();}}}catch(err){_iterator191.e(err);}finally{_iterator191.f();}}e.freehandHud.show(_l96,new DOMPoint(t.clientX,t.clientY)),e.setPointerCapture(t.pointerId),e.addEventListener("pointerup",_n121=function _n119(t){e.removeEventListener("pointerup",_n121);var a=e.freehandHud.points,r=e.pathHud.getNodeGrippieDescriptor(t.clientX,t.clientY),d=r?r.index:null,c=r?r.path:null,p=null,u=null,x=!1;if(c){p=c===_l96?_h69:ot(c.getPathData());{var _t388=-1;var _iterator193=_createForOfIteratorHelper(p),_step193;try{for(_iterator193.s();!(_step193=_iterator193.n()).done;){var _e306=_step193.value;var _iterator194=_createForOfIteratorHelper(_e306),_step194;try{for(_iterator194.s();!(_step194=_iterator194.n()).done;){var _i308=_step194.value;if(_t388+=1,_t388===r.index){u=_e306;break;}}}catch(err){_iterator194.e(err);}finally{_iterator194.f();}}}catch(err){_iterator193.e(err);}finally{_iterator193.f();}}c===_l96&&d===_o97&&(x=!0);}if(a.length>0&&!1===x)if(_this148.Pn.undoManager.checkpoint("Add path segments"),r){var _ref61;if(_s181===u){if("start"===i.position){var _s182;var _t390=ht(_s181);_s181.length=0,(_s182=_s181).push.apply(_s182,_toConsumableArray(_t390));}if(1===a.length||2===a.length)_s181.push({type:"L",values:[a[a.length-1].x,a[a.length-1].y]});else if(a.length>=3){var _iterator195=_createForOfIteratorHelper(Vh(a,6*_this148.jn/e.scale)),_step195;try{for(_iterator195.s();!(_step195=_iterator195.n()).done;){var _t391=_step195.value;_s181.push({type:"C",values:[_t391[1].x,_t391[1].y,_t391[2].x,_t391[2].y,_t391[3].x,_t391[3].y]});}}catch(err){_iterator195.e(err);}finally{_iterator195.f();}}_s181.push({type:"Z",values:[]});}else{var _s184;if("start"===i.position){var _s183;var _t393=ht(_s181);_s181.length=0,(_s183=_s181).push.apply(_s183,_toConsumableArray(_t393));}var _t392=ee(u,Nt(c,_l96));if("end"===r.position&&(_t392=ht(_t392)),1===a.length||2===a.length)_s181.push({type:"L",values:[a[a.length-1].x,a[a.length-1].y]});else if(a.length>=3){var _iterator196=_createForOfIteratorHelper(Vh(a,6*_this148.jn/e.scale)),_step196;try{for(_iterator196.s();!(_step196=_iterator196.n()).done;){var _t394=_step196.value;_s181.push({type:"C",values:[_t394[1].x,_t394[1].y,_t394[2].x,_t394[2].y,_t394[3].x,_t394[3].y]});}}catch(err){_iterator196.e(err);}finally{_iterator196.f();}}(_s184=_s181).push.apply(_s184,_toConsumableArray(_t392.slice(1))),u.length=0;}var _iterator197=_createForOfIteratorHelper(_s181),_step197;try{for(_iterator197.s();!(_step197=_iterator197.n()).done;){var _t396=_step197.value;_t396.values=_t396.values.map(function(t){return X(t,e.geometryPrecision);});}}catch(err){_iterator197.e(err);}finally{_iterator197.f();}var _t389=(_ref61=[]).concat.apply(_ref61,_toConsumableArray(_h69));if(_l96.setPathData(_t389),c!==_l96){var _ref62;var _t395=(_ref62=[]).concat.apply(_ref62,_toConsumableArray(p));c.setPathData(_t395),0===_t395.length&&(c.remove(),e.selectedElements=e.selectedElements.filter(function(t){return t!==c;}));}}else{var _ref63;if("start"===i.position){var _s185;var _t398=ht(_s181);_s181.length=0,(_s185=_s181).push.apply(_s185,_toConsumableArray(_t398));}if(1===a.length||2===a.length)_s181.push({type:"L",values:[a[a.length-1].x,a[a.length-1].y]});else if(a.length>=3){var _iterator198=_createForOfIteratorHelper(Vh(a,6*_this148.jn/e.scale)),_step198;try{for(_iterator198.s();!(_step198=_iterator198.n()).done;){var _t399=_step198.value;_s181.push({type:"C",values:[_t399[1].x,_t399[1].y,_t399[2].x,_t399[2].y,_t399[3].x,_t399[3].y]});}}catch(err){_iterator198.e(err);}finally{_iterator198.f();}}var _iterator199=_createForOfIteratorHelper(_s181),_step199;try{for(_iterator199.s();!(_step199=_iterator199.n()).done;){var _t400=_step199.value;_t400.values=_t400.values.map(function(t){return X(t,e.geometryPrecision);});}}catch(err){_iterator199.e(err);}finally{_iterator199.f();}var _t397=(_ref63=[]).concat.apply(_ref63,_toConsumableArray(_h69));_l96.setPathData(_t397);}e.freehandHud.clear(),e.freehandHud.hide();});}}},{key:"kn",value:function kn(t){var _this149=this;if(1!==t.buttons)return;var _e307,_i309,s=new DOMPoint(t.clientX,t.clientY);window.addEventListener("pointermove",_e307=function e(i){var n=new DOMPoint(i.clientX,i.clientY);Pe(s,n)<3||(window.removeEventListener("pointermove",_e307),_this149.Tn(t));}),window.addEventListener("pointerup",_i309=function i(t){window.removeEventListener("pointermove",_e307),window.removeEventListener("pointerup",_i309);});}},{key:"Tn",value:function Tn(t){var _this150=this;var e=this.Pn,i=e.currentContainer||e.currentWorkspace,s=this.Qs.getConfig("bx-freehandsettings:style",Kh);e.undoManager.checkpoint("Freehand path");var n=Di("svg:path");n.style.stroke="black",n.style.fill="none",i.append(n);var _o98,l=Vt(n).inverse(),h=t.clientX,a=t.clientY,_DOMPoint$matrixTrans2=new DOMPoint(h,a).matrixTransform(l),r=_DOMPoint$matrixTrans2.x,d=_DOMPoint$matrixTrans2.y,c=[{type:"M",values:[r,d]}];n.setPathData(c),il(n,s),e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[n]),e.freehandHud.show(n,new DOMPoint(t.clientX,t.clientY)),e.setPointerCapture(t.pointerId),e.addEventListener("pointerup",_o98=function o(t){e.removeEventListener("pointerup",_o98);var i=e.freehandHud.points,s=e.pathHud.getNodeGrippieDescriptor(t.clientX,t.clientY),l=s?s.path:null,h=null,a=null;if(i.length>0)if(null===l){n.getAttribute("d");if(1===i.length||2===i.length)c.push({type:"L",values:[i[i.length-1].x,i[i.length-1].y]});else if(i.length>=3){var _t401=Vh(i,6*_this150.jn/e.scale);var _iterator200=_createForOfIteratorHelper(_t401),_step200;try{for(_iterator200.s();!(_step200=_iterator200.n()).done;){var _e308=_step200.value;c.push({type:"C",values:[_e308[1].x,_e308[1].y,_e308[2].x,_e308[2].y,_e308[3].x,_e308[3].y]});}}catch(err){_iterator200.e(err);}finally{_iterator200.f();}}n.setPathData(c),e.freehandHud.clear(),e.freehandHud.hide();}else{var _ref64;{var _t403=Nt(l,n);l.setAttribute("transform",_t403.toString()),uh(l,{geometryPrecision:e.geometryPrecision,transformPrecision:e.transformPrecision,preserveRotation:!1});}{h=ot(l.getPathData());var _t404=-1;var _iterator201=_createForOfIteratorHelper(h),_step201;try{for(_iterator201.s();!(_step201=_iterator201.n()).done;){var _e309=_step201.value;var _iterator202=_createForOfIteratorHelper(_e309),_step202;try{for(_iterator202.s();!(_step202=_iterator202.n()).done;){var _i310=_step202.value;if(_t404+=1,_t404===s.index){a=_e309;break;}}}catch(err){_iterator202.e(err);}finally{_iterator202.f();}}}catch(err){_iterator201.e(err);}finally{_iterator201.f();}}if("end"===s.position){var _a59;var _t405=ht(a);a.length=0,(_a59=a).push.apply(_a59,_toConsumableArray(_t405));}if(1===i.length||2===i.length)c.push({type:"L",values:[i[i.length-1].x,i[i.length-1].y]});else if(i.length>=3){var _iterator203=_createForOfIteratorHelper(Vh(i,6*_this150.jn/e.scale)),_step203;try{for(_iterator203.s();!(_step203=_iterator203.n()).done;){var _t406=_step203.value;c.push({type:"C",values:[_t406[1].x,_t406[1].y,_t406[2].x,_t406[2].y,_t406[3].x,_t406[3].y]});}}catch(err){_iterator203.e(err);}finally{_iterator203.f();}}c.push.apply(c,_toConsumableArray(a.slice(1))),a.length=0;var _iterator204=_createForOfIteratorHelper(c),_step204;try{for(_iterator204.s();!(_step204=_iterator204.n()).done;){var _t407=_step204.value;_t407.values=_t407.values.map(function(t){return X(t,e.geometryPrecision);});}}catch(err){_iterator204.e(err);}finally{_iterator204.f();}n.setPathData(c);var _t402=(_ref64=[]).concat.apply(_ref64,_toConsumableArray(h));l.setPathData(_t402),0===_t402.length&&(l.remove(),e.selectedElements=e.selectedElements.filter(function(t){return t!==l;}));}e.freehandHud.clear(),e.freehandHud.hide();});}}]);return Qh;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Qh,"observedAttributes",["enabled"]);customElements.define("bx-freehandcontext",Qh);var Jh=/*#__PURE__*/function(_HTMLElement45){_inherits(Jh,_HTMLElement45);var _super46=_createSuper(Jh);_createClass(Jh,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t,this.qs();}},{key:"type",get:function get(){return this.hasAttribute("type")?this.getAttribute("type"):"shape";},set:function set(t){this.setAttribute("type",t);}}]);function Jh(){var _this151;_classCallCheck(this,Jh);_this151=_super46.call(this),_this151._t=null,_this151._shadowRoot=_this151.attachShadow({mode:"closed"}),_this151._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Jh._shadowStyleSheet],_this151._shadowRoot.append(document.importNode(Jh._shadowTemplate.content,!0));var _iterator205=_createForOfIteratorHelper(_this151._shadowRoot.querySelectorAll("[id]")),_step205;try{for(_iterator205.s();!(_step205=_iterator205.n()).done;){var _t408=_step205.value;_this151["#"+_t408.id]=_t408;}}catch(err){_iterator205.e(err);}finally{_iterator205.f();}_this151["#grab-button"].addEventListener("toggle",function(){return _this151.Wn();}),_this151["#reset-button"].addEventListener("click",function(){return _this151.qn();});return _this151;}_createClass(Jh,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ti(this,"bx-editor"),this.qs();}},{key:"Wn",value:function(){var _Wn=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee68(){var t;return regeneratorRuntime.wrap(function _callee68$(_context68){while(1){switch(_context68.prev=_context68.next){case 0:_context68.next=2;return this.Js.objectGrabber.grab();case 2:t=_context68.sent;this["#grab-button"].toggled=!1,t&&(this._t=function(t){var e={},i=getComputedStyle(t),s=el(t);!1===t.isConnected&&console.warn("getAppearance() called with a disconnected element.");var _iterator206=_createForOfIteratorHelper(s),_step206;try{for(_iterator206.s();!(_step206=_iterator206.n()).done;){var _n122=_step206.value;if("fill"===_n122||"stroke"===_n122){var _s186=qo(t,_n122);if(_s186){var _t409=_s186.localName;if("linearGradient"===_t409||"radialGradient"===_t409){var _i311="";var _iterator207=_createForOfIteratorHelper(Po(_s186)),_step207;try{for(_iterator207.s();!(_step207=_iterator207.n()).done;){var _t410=_step207.value;var _e310=_t410.offset.baseVal,_s187=getComputedStyle(_t410).stopColor,_n123=getComputedStyle(_t410).stopOpacity,_o99="stop-color: ".concat(_s187,";");"1"!==_n123&&(_o99+=" stop-opacity: ".concat(_n123)),_i311+="<stop offset=\"".concat(_e310,"\" style=\"").concat(_o99,"\"></stop>");}}catch(err){_iterator207.e(err);}finally{_iterator207.f();}"linearGradient"===_t409?e[_n122]="<linearGradient x1=\"0\" x2=\"0\" y1=\"0\" y2=\"1\">".concat(_i311,"</linearGradient>"):"radialGradient"===_t409&&(e[_n122]="<radialGradient r=\"0.8\">".concat(_i311,"</radialGradient>"));}else"pattern"===_t409&&(e[_n122]="black");}else e[_n122]=i[_n122];}else"font-family"===_n122&&i[_n122].startsWith('"')&&i[_n122].endsWith('"')?e[_n122]=i[_n122].slice(1,-1):e[_n122]=i[_n122];}}catch(err){_iterator206.e(err);}finally{_iterator206.f();}return e;}(t),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.qs());case 4:case"end":return _context68.stop();}}},_callee68,this);}));function Wn(){return _Wn.apply(this,arguments);}return Wn;}()},{key:"qn",value:function qn(){this._t=null,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.qs();}},{key:"qs",value:function qs(){if(this["#reset-button"].disabled=null===this.value,null===this.value){var _t411;"text"===this.type?_t411=E:"shape"===this.type?_t411=O:"path"===this.type&&(_t411=T),il(this["#thumbnail-rect"],_t411);}else il(this["#thumbnail-rect"],this.value);}}]);return Jh;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Jh,"_shadowTemplate",Hi(_templateObject187()));_defineProperty(Jh,"_shadowStyleSheet",Yi(_templateObject188()));customElements.define("bx-stylepicker",Jh);var ta=/*#__PURE__*/function(_HTMLElement46){_inherits(ta,_HTMLElement46);var _super47=_createSuper(ta);_createClass(ta,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function ta(){var _this152;_classCallCheck(this,ta);_this152=_super47.call(this),_this152._shadowRoot=_this152.attachShadow({mode:"closed"}),_this152._shadowRoot.append(document.importNode(_this152.constructor._shadowTemplate.content,!0)),_this152._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,ta._shadowStyleSheet,_this152.constructor._shadowStyleSheet];var _iterator208=_createForOfIteratorHelper(_this152._shadowRoot.querySelectorAll("[id]")),_step208;try{for(_iterator208.s();!(_step208=_iterator208.n()).done;){var _t412=_step208.value;_this152["#"+_t412.id]=_t412;}}catch(err){_iterator208.e(err);}finally{_iterator208.f();}_this152.setAttribute("extends","bx-toolsettings");return _this152;}_createClass(ta,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){}},{key:"sn",value:function sn(){}}]);return ta;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ta,"observedAttributes",["enabled"]);_defineProperty(ta,"_shadowStyleSheet",Yi(_templateObject189()));var ea={size:{param:"pressure",variance:.5}},ia={fill:"rgb(166, 209, 48)",stroke:"rgb(129, 151, 57)","stroke-width":"2px"},sa='\n  <x-menuitem value="none">\n    <x-label>None</x-label>\n  </x-menuitem>\n\n  <hr/>\n\n  <x-menuitem value="random">\n    <x-label>Random</x-label>\n  </x-menuitem>\n\n  <x-menuitem value="pressure">\n    <x-label>Pressure</x-label>\n  </x-menuitem>\n';var na=/*#__PURE__*/function(_ta){_inherits(na,_ta);var _super48=_createSuper(na);function na(){var _this153;_classCallCheck(this,na);_this153=_super48.call(this),_this153["#mode-buttons"].addEventListener("toggle",function(){return _this153.Xn();}),_this153["#geometry-preview"].addEventListener("pointerdown",function(t){return _this153.Zn(t);}),_this153["#size-box"].addEventListener("changestart",function(){return _this153.Kn();}),_this153["#roundness-box"].addEventListener("changestart",function(){return _this153.Qn();}),_this153["#angle-box"].addEventListener("changestart",function(){return _this153.Jn();}),_this153["#size-dynamics-param-select"].addEventListener("change",function(t){return _this153.eo(t);}),_this153["#size-dynamics-variance-input"].addEventListener("changeend",function(t){return _this153.eo(t);}),_this153["#roundness-dynamics-param-select"].addEventListener("change",function(t){return _this153.eo(t);}),_this153["#roundness-dynamics-variance-input"].addEventListener("changeend",function(t){return _this153.eo(t);}),_this153["#angle-dynamics-param-select"].addEventListener("change",function(t){return _this153.eo(t);}),_this153["#angle-dynamics-variance-input"].addEventListener("changeend",function(t){return _this153.eo(t);}),_this153["#style-picker"].addEventListener("change",function(){return _this153.io();});return _this153;}_createClass(na,[{key:"tn",value:function tn(){var _this154=this;this.so(),this.no(),this.Qs.addEventListener("configchange",this.ln=function(t){_this154.hn(t);});}},{key:"sn",value:function sn(){this.Qs.removeEventListener("configchange",this.ln);}},{key:"hn",value:function hn(t){var _t$detail=t.detail,e=_t$detail.key,i=_t$detail.value;"bx-blobsettings:mode"!==e&&"bx-blobsettings:size"!==e&&"bx-blobsettings:roundness"!==e&&"bx-blobsettings:angle"!==e||(this.so(),this.no());}},{key:"Xn",value:function Xn(){this.Qs.setConfig("bx-blobsettings:mode",this["#mode-buttons"].value);}},{key:"Zn",value:function Zn(t){var _this155=this;if(1!==t.buttons)return;var e,_i313,s=Vt(this["#geometry-preview"]).inverse(),n=new DOMPoint(50,50),o=this["#size-slider"].value,l=this["#roundness-slider"].value,h=this["#angle-slider"].value;this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(s);if(t.shiftKey)o=Pe(n,e)/(_this155["#roundness-slider"].value/100),o=Z(o,1,40,0);else{var _t413=_this155["#size-slider"].value,_i312=Pe(n,e);l=_i312/_t413*100,l=Z(l,1,100,0);}h=$e(n,new DOMPoint(50,0),e),h=Z(h,-180,180,0),_this155["#size-slider"].value=o,_this155["#size-input"].value=o,_this155["#roundness-slider"].value=l,_this155["#roundness-input"].value=l,_this155["#angle-slider"].value=h,_this155["#angle-input"].value=h,_this155.no();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i313=function i(){_this155["#geometry-preview"].removeEventListener("pointermove",e),_this155["#geometry-preview"].removeEventListener("lostpointercapture",_i313),_this155.Qs.setConfig("bx-blobsettings:size",o),_this155.Qs.setConfig("bx-blobsettings:roundness",l),_this155.Qs.setConfig("bx-blobsettings:angle",h);});}},{key:"Kn",value:function Kn(){var _this156=this;var t,_e311;this["#size-box"].addEventListener("change",t=function t(_t414){_t414.target===_this156["#size-slider"]?_this156["#size-input"].value=_this156["#size-slider"].value:_t414.target===_this156["#size-input"]&&(_this156["#size-slider"].value=_this156["#size-input"].value),_this156.no();}),this["#size-box"].addEventListener("changeend",_e311=function e(){_this156["#size-box"].removeEventListener("change",t),_this156["#size-box"].removeEventListener("changeend",_e311),_this156.Qs.setConfig("bx-blobsettings:size",_this156["#size-input"].value);});}},{key:"Qn",value:function Qn(){var _this157=this;var t,_e312;this["#roundness-box"].addEventListener("change",t=function t(_t415){_t415.target===_this157["#roundness-slider"]?_this157["#roundness-input"].value=_this157["#roundness-slider"].value:_t415.target===_this157["#roundness-input"]&&(_this157["#roundness-slider"].value=_this157["#roundness-input"].value),_this157.no();}),this["#roundness-box"].addEventListener("changeend",_e312=function e(){_this157["#roundness-box"].removeEventListener("change",t),_this157["#roundness-box"].removeEventListener("changeend",_e312),_this157.Qs.setConfig("bx-blobsettings:roundness",_this157["#roundness-slider"].value);});}},{key:"Jn",value:function Jn(){var _this158=this;var t,_e313;this["#angle-box"].addEventListener("change",t=function t(_t416){_t416.target===_this158["#angle-slider"]?_this158["#angle-input"].value=_this158["#angle-slider"].value:_t416.target===_this158["#angle-input"]&&(_this158["#angle-slider"].value=_this158["#angle-input"].value),_this158.no();}),this["#angle-box"].addEventListener("changeend",_e313=function e(){_this158["#angle-box"].removeEventListener("change",t),_this158["#angle-box"].removeEventListener("changeend",_e313),_this158.Qs.setConfig("bx-blobsettings:angle",_this158["#angle-slider"].value);});}},{key:"eo",value:function eo(t){var e={};"x-select"===t.target.localName&&"none"===t.detail.oldValue&&(t.target.nextElementSibling.value=50),"none"!==this["#size-dynamics-param-select"].value&&(e.size={param:this["#size-dynamics-param-select"].value,variance:this["#size-dynamics-variance-input"].value/100}),"none"!==this["#roundness-dynamics-param-select"].value&&(e.roundness={param:this["#roundness-dynamics-param-select"].value,variance:this["#roundness-dynamics-variance-input"].value/100}),"none"!==this["#angle-dynamics-param-select"].value&&(e.angle={param:this["#angle-dynamics-param-select"].value,variance:this["#angle-dynamics-variance-input"].value/100}),this.Qs.setConfig("bx-blobsettings:dynamics",e),this.so();}},{key:"io",value:function io(){this.Qs.setConfig("bx-blobsettings:style",this["#style-picker"].value);}},{key:"so",value:function so(){var t=this.Qs.getConfig("bx-blobsettings:mode","draw"),e=this.Qs.getConfig("bx-blobsettings:size",30),i=this.Qs.getConfig("bx-blobsettings:roundness",100),s=this.Qs.getConfig("bx-blobsettings:angle",0),n=this.Qs.getConfig("bx-blobsettings:dynamics",ea),o=this.Qs.getConfig("bx-blobsettings:style",ia);this["#mode-buttons"].value=t,this["#size-slider"].value=e,this["#size-input"].value=e,this["#roundness-slider"].value=i,this["#roundness-input"].value=i,this["#angle-slider"].value=s,this["#angle-input"].value=s,n.size?(this["#size-dynamics-param-select"].value=n.size.param,this["#size-dynamics-variance-input"].value=X(100*n.size.variance,0),this["#size-dynamics-variance-input"].disabled=!1):(this["#size-dynamics-param-select"].value="none",this["#size-dynamics-variance-input"].value=0,this["#size-dynamics-variance-input"].disabled=!0),n.roundness?(this["#roundness-dynamics-param-select"].value=n.roundness.param,this["#roundness-dynamics-variance-input"].value=X(100*n.roundness.variance,0),this["#roundness-dynamics-variance-input"].disabled=!1):(this["#roundness-dynamics-param-select"].value="none",this["#roundness-dynamics-variance-input"].value=0,this["#roundness-dynamics-variance-input"].disabled=!0),n.angle?(this["#angle-dynamics-param-select"].value=n.angle.param,this["#angle-dynamics-variance-input"].value=X(100*n.angle.variance,0),this["#angle-dynamics-variance-input"].disabled=!1):(this["#angle-dynamics-param-select"].value="none",this["#angle-dynamics-variance-input"].value=0,this["#angle-dynamics-variance-input"].disabled=!0),this["#style-picker"].value=o;}},{key:"no",value:function no(){var t=this["#size-slider"].value,e=this["#roundness-slider"].value/100*t,i=this["#angle-slider"].value,s=new DOMMatrix().translate(50,50).rotate(i).translate(-50,-50),n=new DOMPoint(50,50-e).matrixTransform(s);this["#geometry-preview-shape"].style.rx="".concat(t),this["#geometry-preview-shape"].style.ry="".concat(e),this["#geometry-preview-shape"].style.transform="rotate(".concat(i,"deg)"),this["#geometry-preview-grippie"].style.cx=n.x,this["#geometry-preview-grippie"].style.cy=n.y;}}]);return na;}(ta);_defineProperty(na,"_shadowTemplate",Hi(_templateObject190(),sa,sa,sa));_defineProperty(na,"_shadowStyleSheet",Yi(_templateObject191()));customElements.define("bx-blobsettings",na);var oa=function oa(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=null;return"rect"===t.localName?i=la(t,e):"circle"===t.localName?i=ha(t,e):"ellipse"===t.localName?i=aa(t,e):"line"===t.localName?i=ra(t,e):"polyline"===t.localName?i=da(t,e):"polygon"===t.localName&&(i=ca(t,e)),i;},la=function la(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=Di("svg:path"),s=t.getPathData();var _iterator209=_createForOfIteratorHelper(s),_step209;try{for(_iterator209.s();!(_step209=_iterator209.n()).done;){var _t417=_step209.value;_t417.values=_t417.values.map(function(t){return X(t,e);});}}catch(err){_iterator209.e(err);}finally{_iterator209.f();}i.setPathData(s);var _iterator210=_createForOfIteratorHelper(t.attributes),_step210;try{for(_iterator210.s();!(_step210=_iterator210.n()).done;){var _e314=_step210.value;!1===["x","y","width","height","rx","ry"].includes(_e314.name)&&i.setAttribute(_e314.name,_e314.value);}}catch(err){_iterator210.e(err);}finally{_iterator210.f();}return i.innerHTML=t.innerHTML,i;},ha=function ha(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=Di("svg:path"),s=t.getPathData();var _iterator211=_createForOfIteratorHelper(s),_step211;try{for(_iterator211.s();!(_step211=_iterator211.n()).done;){var _t418=_step211.value;_t418.values=_t418.values.map(function(t){return X(t,e);});}}catch(err){_iterator211.e(err);}finally{_iterator211.f();}i.setPathData(s);var _iterator212=_createForOfIteratorHelper(t.attributes),_step212;try{for(_iterator212.s();!(_step212=_iterator212.n()).done;){var _e315=_step212.value;["cx","cy","r"].includes(_e315.name)||i.setAttribute(_e315.name,_e315.value);}}catch(err){_iterator212.e(err);}finally{_iterator212.f();}return i.innerHTML=t.innerHTML,i;},aa=function aa(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=Di("svg:path"),s=t.getPathData();var _iterator213=_createForOfIteratorHelper(s),_step213;try{for(_iterator213.s();!(_step213=_iterator213.n()).done;){var _t419=_step213.value;_t419.values=_t419.values.map(function(t){return X(t,e);});}}catch(err){_iterator213.e(err);}finally{_iterator213.f();}i.setPathData(s);var _iterator214=_createForOfIteratorHelper(t.attributes),_step214;try{for(_iterator214.s();!(_step214=_iterator214.n()).done;){var _e316=_step214.value;["cx","cy","rx","ry"].includes(_e316.name)||i.setAttribute(_e316.name,_e316.value);}}catch(err){_iterator214.e(err);}finally{_iterator214.f();}return i.innerHTML=t.innerHTML,i;},ra=function ra(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=Di("svg:path"),s=t.getPathData();var _iterator215=_createForOfIteratorHelper(s),_step215;try{for(_iterator215.s();!(_step215=_iterator215.n()).done;){var _t420=_step215.value;_t420.values=_t420.values.map(function(t){return X(t,e);});}}catch(err){_iterator215.e(err);}finally{_iterator215.f();}i.setPathData(s);var _iterator216=_createForOfIteratorHelper(t.attributes),_step216;try{for(_iterator216.s();!(_step216=_iterator216.n()).done;){var _e317=_step216.value;["x1","y1","x2","y2"].includes(_e317.name)||i.setAttribute(_e317.name,_e317.value);}}catch(err){_iterator216.e(err);}finally{_iterator216.f();}return i.innerHTML=t.innerHTML,i;},da=function da(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=Di("svg:path"),s=t.getPathData();var _iterator217=_createForOfIteratorHelper(s),_step217;try{for(_iterator217.s();!(_step217=_iterator217.n()).done;){var _t421=_step217.value;_t421.values=_t421.values.map(function(t){return X(t,e);});}}catch(err){_iterator217.e(err);}finally{_iterator217.f();}i.setPathData(s);var _iterator218=_createForOfIteratorHelper(t.attributes),_step218;try{for(_iterator218.s();!(_step218=_iterator218.n()).done;){var _e318=_step218.value;"points"!==_e318.name&&i.setAttribute(_e318.name,_e318.value);}}catch(err){_iterator218.e(err);}finally{_iterator218.f();}return i.innerHTML=t.innerHTML,i;},ca=function ca(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=Di("svg:path"),s=t.getPathData();var _iterator219=_createForOfIteratorHelper(s),_step219;try{for(_iterator219.s();!(_step219=_iterator219.n()).done;){var _t422=_step219.value;_t422.values=_t422.values.map(function(t){return X(t,e);});}}catch(err){_iterator219.e(err);}finally{_iterator219.f();}i.setPathData(t.getPathData());var _iterator220=_createForOfIteratorHelper(t.attributes),_step220;try{for(_iterator220.s();!(_step220=_iterator220.n()).done;){var _e319=_step220.value;"points"!==_e319.name&&i.setAttribute(_e319.name,_e319.value);}}catch(err){_iterator220.e(err);}finally{_iterator220.f();}return i.innerHTML=t.innerHTML,i;},pa=function pa(t){for(var _e320=t;_e320;_e320=_e320.parentNode){if(_e320 instanceof ShadowRoot||_e320===window.document)return _e320;}},ua=function ua(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;xa(t);var s="",n={text:!0,textPath:!0,tspan:!0,title:!0,desc:!0};for(var _t423=0;_t423<e;_t423+=1){s+=" ";}var o=function o(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;if(!n[t.localName]){var _iterator221=_createForOfIteratorHelper(t.children),_step221;try{for(_iterator221.s();!(_step221=_iterator221.n()).done;){var _i314=_step221.value;var _n124=t.firstChild===_i314,_l97=t.lastChild===_i314;if(!0===_n124){var _t424=document.createTextNode("\n");_i314.parentNode.insertBefore(_t424,_i314);}var _h70="";for(var _t425=0;_t425<e;_t425+=1){_h70+=s;}var _a60=document.createTextNode(_h70);if(t.insertBefore(_a60,_i314),!0===_l97){var _i315=document.createTextNode("\n");t.appendChild(_i315);var _n125="";for(var _t426=0;_t426<e-1;_t426+=1){_n125+=s;}var _o100=document.createTextNode(_n125);t.appendChild(_o100);}else{var _e321=document.createTextNode("\n");t.insertBefore(_e321,_i314.nextSibling);}_i314.childElementCount>0&&o(_i314,e+1);}}catch(err){_iterator221.e(err);}finally{_iterator221.f();}}};o(t,i);},xa=function xa(t){var e,i=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,null),s={text:!0,textPath:!0,tspan:!0};for(;e=i.nextNode();){s[e.parentElement.localName]||ba(e.textContent)&&e.remove();}},ba=function ba(t){return!/[^\t\n\r ]/.test(t);},ma=function ma(t){var e={},i=getComputedStyle(t);e.width=i.getPropertyValue("width");var _iterator222=_createForOfIteratorHelper(i),_step222;try{for(_iterator222.s();!(_step222=_iterator222.n()).done;){var _t427=_step222.value;var _s188=i.getPropertyValue(_t427);e[_t427]=_s188;}}catch(err){_iterator222.e(err);}finally{_iterator222.f();}return e;},ga=function ga(t,e){{var _i316=R.find(function(e){return e.name===t;}).presentationAttributeName||null;_i316&&e.hasAttribute(_i316)&&(""===e.style.getPropertyValue(t)&&e.style.setProperty(t,e.getAttribute(_i316)),e.removeAttribute(_i316));}{var _i317=e.style.getPropertyValue(t);if(""!==_i317&&"inherit"!==_i317){var _s189=getComputedStyle(e).getPropertyValue(t);e.style.removeProperty(t),_s189!==getComputedStyle(e).getPropertyValue(t)&&e.style.setProperty(t,_i317);}}},fa=function fa(t){var e=R.find(function(e){return e.name===t;});return!!e&&e.inheritable;},wa=function wa(t){var e="",i=t.sheet.rules[0];var _iterator223=_createForOfIteratorHelper(t.sheet.rules),_step223;try{for(_iterator223.s();!(_step223=_iterator223.n()).done;){var _s190=_step223.value;_s190!==i&&(e+="\n"),e+=_s190.cssText;}}catch(err){_iterator223.e(err);}finally{_iterator223.f();}t.textContent!==e&&(t.textContent=e);},va=function va(t){var e,i=function i(t){var e,i,s=[0,0,0],n=t.split(" "),o=/[\w-]+/g,l=/#[\w-]+/g,h=/\.[\w-]+/g,a=/\[[^\]]+\]/g,r=/\:(?!not)[\w-]+(\(.*\))?/g,d=/\:\:?(after|before|first-letter|first-line|selection)/g,c=function c(t,e){var i=t.match(e);return i?i.length:0;};for(;e=n.shift(),"string"==typeof e;){i=c(e,d),s[2]+=i,i&&(e=e.replace(d,"")),i=c(e,r),s[1]+=i,i&&(e=e.replace(r,"")),i=c(e,a),s[1]+=i,i&&(e=e.replace(a,"")),i=c(e,l),s[0]+=i,i&&(e=e.replace(l,"")),i=c(e,h),s[1]+=i,i&&(e=e.replace(h,"")),s[2]+=c(e,o);}return parseInt(s.join(""),10);},s=function s(t,e){var s,n,o=e.split(","),l=0;for(;s=o.shift();){t.matches(s)&&(n=i(s),l=n>l?n:l);}return l;},n=function n(t){var e=t.media&&t.media.mediaText;return t.disabled||e&&e.length&&!window.matchMedia(e).matches?[]:t.cssRules?_toConsumableArray(t.cssRules):[];},o=[],l=_toConsumableArray(pa(t).styleSheets);for(;e=l.shift();){var _i318=void 0,_s191=n(e);for(;_i318=_s191.shift();){_i318.type===CSSRule.IMPORT_RULE?_s191=n(_i318.styleSheet).concat(_s191):_i318.type===CSSRule.MEDIA_RULE?_s191=n(_i318).concat(_s191):_i318.type===CSSRule.STYLE_RULE&&t.matches(_i318.selectorText)&&o.push(_i318);}}return o=o.sort(function(e,i){return s(t,i.selectorText)-s(t,e.selectorText);}),o;},ya=Object.entries,ka=function ka(t){var e,i=Ia(t)||Ia('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500"></svg>'),s=NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT|NodeFilter.SHOW_COMMENT,n=document.createNodeIterator(i,s);for(;e=n.nextNode();){if(e.nodeType!==Node.ELEMENT_NODE){!1===(B[e.parentNode.nodeName]||[]).includes(e.nodeName)&&e.remove();}else if(e.localName.includes(":")){if(e.localName.startsWith("bx:")){var _t428=e.localName.split(":")[1],_i319=document.createElement("bx-"+_t428);for(var _i320=0,_arr19=_toConsumableArray(e.attributes);_i320<_arr19.length;_i320++){var _t429=_arr19[_i320];_i319.setAttribute(_t429.name,_t429.value);}for(var _i321=0,_arr20=_toConsumableArray(e.childNodes);_i321<_arr20.length;_i321++){var _t430=_arr20[_i321];_i319.append(_t430);}e.replaceWith(_i319);}else e.remove();}else{if("title"===e.localName){var _t431=Di("svg:bx-title");_t431.innerHTML=e.innerHTML;var _iterator224=_createForOfIteratorHelper(e.attributes),_step224;try{for(_iterator224.s();!(_step224=_iterator224.n()).done;){var _step224$value=_step224.value,_i322=_step224$value.name,_s192=_step224$value.value;_t431.setAttribute(_i322,_s192);}}catch(err){_iterator224.e(err);}finally{_iterator224.f();}e.replaceWith(_t431);continue;}if("switch"===e.localName){var _t432=":scope > *:not([systemLanguage]):not([requiredExtensions])",_i323=e.querySelector(_t432)||e.firstElementChild;_i323&&e.replaceWith(_i323);continue;}if(e!==i){if(!1===(B[e.parentNode.localName]||[]).includes(e.localName)){e.remove();continue;}}for(var _i324=0,_arr21=_toConsumableArray(e.attributes);_i324<_arr21.length;_i324++){var _arr21$_i=_arr21[_i324],_t433=_arr21$_i.name,_i325=_arr21$_i.value;if(_t433.includes(":"))if(e.removeAttribute(_t433),_t433.startsWith("bx:"))_t433="data-bx-"+_t433.split(":")[1],e.setAttribute(_t433,_i325);else if("xlink:href"===_t433&&!1===e.hasAttribute("href"))_t433="href",e.setAttribute(_t433,_i325);else if("xlink:title"===_t433&&!1===e.hasAttribute("title"))_t433="title",e.setAttribute(_t433,_i325);else{if("xml:lang"!==_t433)continue;_t433="lang",e.setAttribute(_t433,_i325);}_t433.startsWith("data-")?"data-bx-shape"===_t433&&!1===xl(e)&&e.removeAttribute(_t433):"href"===_t433&&"a"===e.localName&&(e.removeAttribute(_t433),e.setAttribute("_href",_i325));}}}var _iterator225=_createForOfIteratorHelper(i.querySelectorAll("text")),_step225;try{for(_iterator225.s();!(_step225=_iterator225.n()).done;){var _t434=_step225.value;Pa(_t434);}}catch(err){_iterator225.e(err);}finally{_iterator225.f();}var _iterator226=_createForOfIteratorHelper(i.querySelectorAll("textPath")),_step226;try{for(_iterator226.s();!(_step226=_iterator226.n()).done;){var _t435=_step226.value;Da(_t435);}}catch(err){_iterator226.e(err);}finally{_iterator226.f();}var _iterator227=_createForOfIteratorHelper(i.querySelectorAll("linearGradient")),_step227;try{for(_iterator227.s();!(_step227=_iterator227.n()).done;){var _t436=_step227.value;za(_t436);}}catch(err){_iterator227.e(err);}finally{_iterator227.f();}var _iterator228=_createForOfIteratorHelper(i.querySelectorAll("radialGradient")),_step228;try{for(_iterator228.s();!(_step228=_iterator228.n()).done;){var _t437=_step228.value;Oa(_t437);}}catch(err){_iterator228.e(err);}finally{_iterator228.f();}var _iterator229=_createForOfIteratorHelper(i.querySelectorAll("pattern")),_step229;try{for(_iterator229.s();!(_step229=_iterator229.n()).done;){var _t438=_step229.value;Ea(_t438);}}catch(err){_iterator229.e(err);}finally{_iterator229.f();}var _iterator230=_createForOfIteratorHelper(i.querySelectorAll("marker")),_step230;try{for(_iterator230.s();!(_step230=_iterator230.n()).done;){var _t439=_step230.value;Aa(_t439);}}catch(err){_iterator230.e(err);}finally{_iterator230.f();}var _iterator231=_createForOfIteratorHelper(i.querySelectorAll("symbol")),_step231;try{for(_iterator231.s();!(_step231=_iterator231.n()).done;){var _t440=_step231.value;Ta(_t440);}}catch(err){_iterator231.e(err);}finally{_iterator231.f();}var _iterator232=_createForOfIteratorHelper(i.querySelectorAll("use")),_step232;try{for(_iterator232.s();!(_step232=_iterator232.n()).done;){var _t441=_step232.value;$a(_t441);}}catch(err){_iterator232.e(err);}finally{_iterator232.f();}return Sa(i),_a(i),Ca(i),document.importNode(i,!0),i;},Sa=function Sa(t){var e=[];for(var _i326=0,_arr22=_toConsumableArray(t.attributes);_i326<_arr22.length;_i326++){var _arr22$_i=_arr22[_i326],_i327=_arr22$_i.name,_s193=_arr22$_i.value;t.removeAttribute(_i327),"xmlns"!==_i327&&"xmlns:bx"!==_i327&&e.push({name:_i327,value:_s193});}t.setAttribute("xmlns",l.svg),t.setAttribute("xmlns:bx",l.bx);for(var _i328=0,_e322=e;_i328<_e322.length;_i328++){var _e322$_i=_e322[_i328],_i329=_e322$_i.name,_s194=_e322$_i.value;t.setAttribute(_i329,_s194);}},_a=function _a(t){var e=t.querySelector(":scope > defs");e||(e=Di("svg:defs"),t.prepend(e));},Ca=function Ca(t){if(Ma(t))return;var e=t.querySelectorAll("style"),i={};var _iterator233=_createForOfIteratorHelper(e),_step233;try{for(_iterator233.s();!(_step233=_iterator233.n()).done;){var _t442=_step233.value;var _e323=[];for(var _s195=0,_n126=_t442.sheet.rules.length;_s195<_n126;_s195+=1){var _n127=_t442.sheet.rules[_s195];if(_n127.type===CSSRule.FONT_FACE_RULE){var _t443=ii(_n127.style.fontFamily,'"',"");void 0===i[_t443]?i[_t443]=[_n127]:i[_t443].push(_n127),_e323.push(_s195);}}if(_e323.length>0){var _iterator235=_createForOfIteratorHelper(_e323.reverse()),_step235;try{for(_iterator235.s();!(_step235=_iterator235.n()).done;){var _i330=_step235.value;_t442.sheet.deleteRule(_i330);}}catch(err){_iterator235.e(err);}finally{_iterator235.f();}wa(_t442),0===_t442.sheet.rules.length&&_t442.remove();}}}catch(err){_iterator233.e(err);}finally{_iterator233.f();}var _iterator234=_createForOfIteratorHelper(ya(i)),_step234;try{for(_iterator234.s();!(_step234=_iterator234.n()).done;){var _step234$value=_slicedToArray(_step234.value,2),_e324=_step234$value[0],_s196=_step234$value[1];var _i331=_s196.map(function(t){return t.cssText;}).join(" "),_n128=Di("svg:style");_n128.setAttribute("data-bx-fonts",_e324),_n128.textContent=_i331;var _o101=t.querySelector("defs");null===_o101&&(_o101=Di("svg:defs"),t.prepend(_o101)),_o101.insertBefore(_n128,_o101.querySelector("style"));}}catch(err){_iterator234.e(err);}finally{_iterator234.f();}},Ma=function Ma(t){var e=t.querySelectorAll("style");var _iterator236=_createForOfIteratorHelper(e),_step236;try{for(_iterator236.s();!(_step236=_iterator236.n()).done;){var _t444=_step236.value;var _e325=null;var _iterator237=_createForOfIteratorHelper(_t444.sheet.rules),_step237;try{for(_iterator237.s();!(_step237=_iterator237.n()).done;){var _i332=_step237.value;if(_i332.type===CSSRule.FONT_FACE_RULE){var _t445=ii(_i332.style.fontFamily,'"',"");if(null===_e325)_e325=_t445;else if(_e325!==_t445)return!1;}else if(null!==_e325)return!1;}}catch(err){_iterator237.e(err);}finally{_iterator237.f();}if(null!==_e325&&_t444.getAttribute("data-bx-fonts")!==_e325)return!1;}}catch(err){_iterator236.e(err);}finally{_iterator236.f();}return!0;},Pa=function Pa(t){var e=t.querySelectorAll("textPath"),i=(t.querySelectorAll("tspan"),e.length>0?e[0]:null);{var _e326=t.hasAttribute("width")||t.hasAttribute("height")?"pre-wrap":"pre";t.style.setProperty("white-space",_e326);}if(e.length>1){var _iterator238=_createForOfIteratorHelper(e),_step238;try{for(_iterator238.s();!(_step238=_iterator238.n()).done;){var _t446=_step238.value;_t446!==i&&_t446.remove();}}catch(err){_iterator238.e(err);}finally{_iterator238.f();}}if(i){i.parentElement!==t&&t.append(i);for(var _i333=0,_arr23=_toConsumableArray(t.childNodes);_i333<_arr23.length;_i333++){var _e327=_arr23[_i333];["a","tspan","#text"].includes(_e327.localName)&&_e327.remove();}if(i.hasAttribute("style")){var _iterator239=_createForOfIteratorHelper(i.style),_step239;try{for(_iterator239.s();!(_step239=_iterator239.n()).done;){var _e328=_step239.value;var _s197=t.style.getPropertyValue(_e328),_n129=i.style.getPropertyValue(_e328);_s197!==_n129&&t.style.setProperty(_e328,_n129);}}catch(err){_iterator239.e(err);}finally{_iterator239.f();}i.removeAttribute("style");}}},Da=function Da(t){{var _e329=zi(t),_i334=t.href.baseVal?_e329.querySelector(t.href.baseVal):null;if(_i334&&["rect","circle","ellipse","line","polyline","polygon"].includes(_i334.localName)){var _t447=oa(_i334);_i334.replaceWith(_t447);}}},za=function za(t){{var _e330=0,_i335=_toConsumableArray(t.children).filter(function(t){return"stop"===t.localName;});var _iterator240=_createForOfIteratorHelper(_i335),_step240;try{for(_iterator240.s();!(_step240=_iterator240.n()).done;){var _t448=_step240.value;if(_t448.hasAttribute("offset")){var _i336=_t448.offset.baseVal;_i336<_e330&&(_i336=_e330),_i336=Z(_i336,0,1,4),_e330=_i336,_t448.setAttribute("offset",_i336);}}}catch(err){_iterator240.e(err);}finally{_iterator240.f();}}},Oa=function Oa(t){{var _e331=0,_i337=_toConsumableArray(t.children).filter(function(t){return"stop"===t.localName;});var _iterator241=_createForOfIteratorHelper(_i337),_step241;try{for(_iterator241.s();!(_step241=_iterator241.n()).done;){var _t449=_step241.value;if(_t449.hasAttribute("offset")){var _i338=_t449.offset.baseVal;_i338<_e331&&(_i338=_e331),_i338=Z(_i338,0,1,4),_e331=_i338,_t449.setAttribute("offset",_i338);}}}catch(err){_iterator241.e(err);}finally{_iterator241.f();}}t.removeAttribute("fx"),t.removeAttribute("fy"),t.removeAttribute("fr");},Ea=function Ea(t){var e=zi(t);if(!1===t.hasAttribute("id")){var _i339=0;for(;null!==e.querySelector("#pattern-"+_i339);){_i339+=1;}t.setAttribute("id","pattern-"+_i339);}},Ta=function Ta(t){var e=zi(t);if(!1===t.hasAttribute("id")){var _i340=0;for(;null!==e.querySelector("#symbol-"+_i340);){_i340+=1;}t.setAttribute("id","symbol-"+_i340);}},Aa=function Aa(t){var e=zi(t);if(!1===t.hasAttribute("id")){var _i341=0;for(;null!==e.querySelector("#marker-"+_i341);){_i341+=1;}t.setAttribute("id","marker-"+_i341);}},$a=function $a(t){var e=zi(t),i=null;try{i=e.querySelector(t.href.baseVal);}catch(t){i=null;}if(i&&"symbol"!==i.localName){var _e332=Ut(t);_e332.multiplySelf(Ut(i)),_e332.translateSelf(t.x.baseVal.value,t.y.baseVal.value);var _s198=i.cloneNode(!0);_s198.setAttribute("transform",_e332);var _iterator242=_createForOfIteratorHelper(t.style),_step242;try{for(_iterator242.s();!(_step242=_iterator242.n()).done;){var _e333=_step242.value;var _i342=_s198.style.getPropertyValue(_e333),_n130=t.style.getPropertyValue(_e333);""===_i342&&_s198.style.setProperty(_e333,_n130);}}catch(err){_iterator242.e(err);}finally{_iterator242.f();}var _iterator243=_createForOfIteratorHelper(t.attributes),_step243;try{for(_iterator243.s();!(_step243=_iterator243.n()).done;){var _step243$value=_step243.value,_e334=_step243$value.name,_i343=_step243$value.value;G.includes(_e334)&&!1===_s198.hasAttribute(_e334)&&_s198.setAttribute(_e334,_i343);}}catch(err){_iterator243.e(err);}finally{_iterator243.f();}var _iterator244=_createForOfIteratorHelper(_s198.querySelectorAll("*[id]")),_step244;try{for(_iterator244.s();!(_step244=_iterator244.n()).done;){var _t450=_step244.value;_t450.removeAttribute("id");}}catch(err){_iterator244.e(err);}finally{_iterator244.f();}t.hasAttribute("id")?_s198.setAttribute("id",t.id):_s198.removeAttribute("id"),t.replaceWith(_s198);}else{var _e335=Ut(t);_e335.translateSelf(t.x.baseVal.value,t.y.baseVal.value),t.setAttribute("transform",_e335.toString()),t.removeAttribute("x"),t.removeAttribute("y");}},Ia=function Ia(t){return new DOMParser().parseFromString(t,"text/html").querySelector("svg")||null;},La=function La(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"text";return new Promise(function(i){t.file(/*#__PURE__*/function(){var _ref65=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee69(t){var s;return regeneratorRuntime.wrap(function _callee69$(_context69){while(1){switch(_context69.prev=_context69.next){case 0:if(!("blob"===e)){_context69.next=4;break;}_context69.t0=t;_context69.next=7;break;case 4:_context69.next=6;return Ba(t,e);case 6:_context69.t0=_context69.sent;case 7:s=_context69.t0;i(s);case 9:case"end":return _context69.stop();}}},_callee69);}));return function(_x70){return _ref65.apply(this,arguments);};}());});},Ba=function Ba(t,e){return new Promise(function(i){var _s202,_n131,o=new FileReader();if(o.addEventListener("error",_n131=function n(t){o.removeEventListener("load",_s202),o.removeEventListener("error",_n131),i(null);}),"text"===e){var _e336=Fa(t);"svgz"===_e336?o.readAsArrayBuffer(t):o.readAsText(t),o.addEventListener("load",_s202=function s(t){if(o.removeEventListener("load",_s202),o.removeEventListener("error",_n131),"svgz"===_e336){var _e337=new Uint8Array(t.target.result),_s199=pako.inflate(_e337),_n132="";for(var _t451=0,_e338=_s199.length;_t451<_e338;_t451+=1){_n132+=String.fromCharCode(_s199[_t451]);}i(_n132);}else i(t.target.result);});}else if("arrayBuffer"===e)o.readAsArrayBuffer(t),o.addEventListener("load",_s202=function _s200(t){o.removeEventListener("load",_s202),o.removeEventListener("error",_n131),i(new Uint8Array(t.target.result));});else if("dataURL"===e){var _e339=Fa(t);"svgz"===_e339?o.readAsArrayBuffer(t):o.readAsDataURL(t),o.addEventListener("load",_s202=function _s201(t){if(o.removeEventListener("load",_s202),o.removeEventListener("error",_n131),"svgz"===_e339){var _e340=new Uint8Array(t.target.result),s=pako.inflate(_e340),_n133=new Blob([s],{type:"image/svg+xml"}),_o102=Ra(_n133);i(_o102);}else i(t.target.result);});}});},Ra=function Ra(t){return new Promise(function(e){var i=new FileReader();i.readAsDataURL(t),i.onloadend=function(){var t=i.result;e(t);};});},Ga=function Ga(t){return t.name&&t.name.includes(".")?t.name.substring(t.name.lastIndexOf(".")+1).toLowerCase():"";},Fa=function Fa(t){return t.name&&t.name.includes(".")?t.name.substring(t.name.lastIndexOf(".")+1).toLowerCase():"";},Ua=function Ua(t){return t.name.substring(0,t.name.lastIndexOf("."));},Na=function Na(e){var i="",s=t?1e3:1024;if(e<s)i=e+" bytes";else if(e<s*s){var _n134=t?" KB":" KiB";i=X(e/s,0)+_n134;}else if(e<s*s*s){var _n135=t?" MB":" MiB";i=X(e/(s*s),2)+_n135;}else{var _n136=t?" GB":" GiB";i=X(e/(s*s*s),2)+_n136;}return i;},Va=function Va(t){var e,i,s,n,o=t.getContext("2d"),l=o.canvas.width,h=o.canvas.height;if(!l&&!h)return null;var a=o.getImageData(0,0,l,h),r=new Uint32Array(a.data.buffer),d=0,c=l*h-1,p=!1;for(var _t452=0;_t452<h&&!p;_t452+=1){for(var _i344=0;_i344<l;_i344+=1){if(r[d++]&&!e&&(e=_t452+1,n)){p=!0;break;}if(r[c--]&&!n&&(n=h-_t452-1,e)){p=!0;break;}}if(_t452>h-_t452&&!e&&!n)return null;}e-=1,p=!1;for(var _t453=0;_t453<l&&!p;_t453+=1){d=e*l+_t453,c=e*l+(l-_t453-1);for(var _o103=e;_o103<=n;_o103+=1){if(r[d]&&!i&&(i=_t453+1,s)){p=!0;break;}if(r[c]&&!s&&(s=l-_t453-1,i)){p=!0;break;}d+=l,c+=l;}}return i-=1,l===s-i+1&&h===n-e+1?null:(l=s-i+1,h=n-e+1,o.canvas.width=l,o.canvas.height=h,o.putImageData(a,-i,-e),new DOMRect(i,e,l,h));},ja=function ja(t){return new Promise(function(e){var i=new Image();i.onload=function(){e({width:i.naturalWidth,height:i.naturalHeight});},i.src=t;});},Ha=function Ha(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"base64";return new Promise(/*#__PURE__*/function(){var _ref66=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee70(i,s){var n,o,l;return regeneratorRuntime.wrap(function _callee70$(_context70){while(1){switch(_context70.prev=_context70.next){case 0:_context70.next=2;return fetch(t);case 2:n=_context70.sent;_context70.next=5;return n.blob();case 5:o=_context70.sent;l=new FileReader();"base64"===e?l.readAsDataURL(o):"buffer"===e&&l.readAsArrayBuffer(o),l.addEventListener("loadend",function(){i(l.result);},{once:!0}),l.addEventListener("error",function(){s();},{once:!0});case 8:case"end":return _context70.stop();}}},_callee70);}));return function(_x71,_x72){return _ref66.apply(this,arguments);};}());},Ya=function Ya(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:96;var i=Math.round(e/2.54*100),s=i;var n,o;o=function o(t){t.version="1.1.1";var e=function(){for(var t=0,e=new Array(256),i=0;256!=i;++i){t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=i)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1,e[i]=t;}return"undefined"!=typeof Int32Array?new Int32Array(e):e;}();t.table=e,t.bstr=function(t,i){for(var s=-1^i,n=t.length-1,o=0;o<n;){s=(s=s>>>8^e[255&(s^t.charCodeAt(o++))])>>>8^e[255&(s^t.charCodeAt(o++))];}return o===n&&(s=s>>>8^e[255&(s^t.charCodeAt(o))]),-1^s;},t.buf=function(t,i){if(t.length>1e4)return function(t,i){for(var s=-1^i,n=t.length-7,o=0;o<n;){s=(s=(s=(s=(s=(s=(s=(s=s>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])];}for(;o<n+7;){s=s>>>8^e[255&(s^t[o++])];}return-1^s;}(t,i);for(var s=-1^i,n=t.length-3,o=0;o<n;){s=(s=(s=(s=s>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])];}for(;o<n+3;){s=s>>>8^e[255&(s^t[o++])];}return-1^s;},t.str=function(t,i){for(var s,n,o=-1^i,l=0,h=t.length;l<h;){(s=t.charCodeAt(l++))<128?o=o>>>8^e[255&(o^s)]:s<2048?o=(o=o>>>8^e[255&(o^(192|s>>6&31))])>>>8^e[255&(o^(128|63&s))]:s>=55296&&s<57344?(s=64+(1023&s),n=1023&t.charCodeAt(l++),o=(o=(o=(o=o>>>8^e[255&(o^(240|s>>8&7))])>>>8^e[255&(o^(128|s>>2&63))])>>>8^e[255&(o^(128|n>>6&15|(3&s)<<4))])>>>8^e[255&(o^(128|63&n))]):o=(o=(o=o>>>8^e[255&(o^(224|s>>12&15))])>>>8^e[255&(o^(128|s>>6&63))])>>>8^e[255&(o^(128|63&s))];}return-1^o;};},"undefined"==typeof DO_NOT_EXPORT_CRC?"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?o(exports):"function"==typeof define&&define.amd?define(function(){var t={};return o(t),t;}):o(n={}):o(n={});var l=new Uint8Array(4),h=new Int32Array(l.buffer),a=new Uint32Array(l.buffer);if(137!==t[0]||80!==t[1]||78!==t[2]||71!==t[3]||13!==t[4]||10!==t[5]||26!==t[6]||10!==t[7])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var r=8;r<t.length;){l[3]=t[r++],l[2]=t[r++],l[1]=t[r++],l[0]=t[r++];var d=a[0]+4,c=new Uint8Array(d);c[0]=t[r++],c[1]=t[r++],c[2]=t[r++],c[3]=t[r++];for(var p=String.fromCharCode(c[0])+String.fromCharCode(c[1])+String.fromCharCode(c[2])+String.fromCharCode(c[3]),u=r,x=4;x<d;x++){c[x]=t[r++];}var b=r;l[3]=t[r++],l[2]=t[r++],l[1]=t[r++],l[0]=t[r++];var m=h[0];if(n.buf(c)!==m)throw new Error("CRC values for "+p+" header do not match, PNG file is likely corrupted");if("IDAT"==p){u-=8;var g=t.length,f=new Uint8Array(g+21);for(x=0;x<u;x++){f[x]=t[x];}for(x=u;x<g;x++){f[x+21]=t[x];}var w=new Uint8Array(13);x=0;h[0]=9,f[u++]=l[3],f[u++]=l[2],f[u++]=l[1],f[u++]=l[0],w[x++]=f[u++]="p".charCodeAt(0),w[x++]=f[u++]="H".charCodeAt(0),w[x++]=f[u++]="Y".charCodeAt(0),w[x++]=f[u++]="s".charCodeAt(0),a[0]=i,w[x++]=f[u++]=l[3],w[x++]=f[u++]=l[2],w[x++]=f[u++]=l[1],w[x++]=f[u++]=l[0],a[0]=s,w[x++]=f[u++]=l[3],w[x++]=f[u++]=l[2],w[x++]=f[u++]=l[1],w[x++]=f[u++]=l[0],w[x++]=f[u++]=1;var v=n.buf(w);return h[0]=v,f[u++]=l[3],f[u++]=l[2],f[u++]=l[1],f[u++]=l[0],f;}if("pHYs"==p){x=0;(w=new Uint8Array(13))[x++]="p".charCodeAt(0),w[x++]="H".charCodeAt(0),w[x++]="Y".charCodeAt(0),w[x++]="s".charCodeAt(0),a[0]=i,w[x++]=t[u++]=l[3],w[x++]=t[u++]=l[2],w[x++]=t[u++]=l[1],w[x++]=t[u++]=l[0],a[0]=s,w[x++]=t[u++]=l[3],w[x++]=t[u++]=l[2],w[x++]=t[u++]=l[1],w[x++]=t[u++]=l[0],w[x++]=t[u++]=1;v=n.buf(w);return h[0]=v,t[b++]=l[3],t[b++]=l[2],t[b++]=l[1],t[b++]=l[0],t;}}throw new Error(".png file ended prematurely: no IEND or pHYs header was found");};window.addEventListener("load",function(){paper.setup(document.createElement("canvas"));});var Wa=function Wa(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;return Ka(t,e,"unite",i);},qa=function qa(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;return Ka(t,e,"subtract",i);},Xa=function Xa(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;return Ka(t,e,"intersect",i);},Za=function Za(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;return Ka(t,e,"exclude",i);},Ka=function Ka(t,e,i,s){var n=Mt(tt(t)),o=Mt(tt(e)),l=n[i](o),h=[];if(l){var _t454=l.exportSVG().getAttribute("d");h=et(_t454),h=it(h);var _iterator245=_createForOfIteratorHelper(h),_step245;try{for(_iterator245.s();!(_step245=_iterator245.n()).done;){var _t455=_step245.value;_t455.values=_t455.values.map(function(t){return X(t,s);});}}catch(err){_iterator245.e(err);}finally{_iterator245.f();}}return h;},Qa=Math.atan2,Ja=Math.cos,tr=Math.sin,er=Math.PI,ir={pal:[{r:0,g:0,b:0,a:255},{r:0,g:0,b:0,a:0}],colorsampling:0,qtres:0,ltres:10,pathomit:1,strokewidth:0,roundcoords:10};var sr=/*#__PURE__*/function(_HTMLElement47){_inherits(sr,_HTMLElement47);var _super49=_createSuper(sr);_createClass(sr,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function sr(){_classCallCheck(this,sr);return _super49.call(this);}_createClass(sr,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this159=this;this.Pn.workspaces.addEventListener("wheel",this.oo=function(t){_this159.lo(t);}),this.Pn.workspaces.addEventListener("pointerdown",this.yn=function(t){_this159.kn(t);}),this.Pn.style.cursor="url(images/cursors/blank.svg) 0 0, crosshair";}},{key:"sn",value:function sn(){this.Pn.workspaces.removeEventListener("wheel",this.oo),this.Pn.workspaces.removeEventListener("pointerdown",this.yn);}},{key:"lo",value:function lo(t){if(this.Qs.modKeys.shift){t.stopImmediatePropagation();var _e341=Z(t.wheelDelta,-2,2,1),_i345=this.Qs.getConfig("bx-blobsettings:size",30);_i345=Z(_i345+_e341,1,1e4),this.Qs.setConfig("bx-blobsettings:size",_i345);}else if(this.Qs.modKeys.alt){t.stopImmediatePropagation();var _e342=Z(t.wheelDelta,-2,2,1),_i346=this.Qs.getConfig("bx-blobsettings:roundness",100);_i346=Z(_i346+_e342,1,100),this.Qs.setConfig("bx-blobsettings:roundness",_i346);}else if(this.Qs.modKeys.meta){t.stopImmediatePropagation();var _e343=Z(t.wheelDelta,-2,2,1),_i347=this.Qs.getConfig("bx-blobsettings:angle",0);_i347=Ie(_i347+_e343),this.Qs.setConfig("bx-blobsettings:angle",_i347);}}},{key:"kn",value:function kn(t){var _this160=this;if(0!==t.button)return;var e,i,s=this.Pn,_ref67=(s.currentContainer||s.currentWorkspace,s),n=_ref67.geometryPrecision,o=_ref67.transformPrecision,l=Vt(s.vectorCanvas).inverse(),h=s.pixelCanvas.getContext("2d"),a=this.Qs.getConfig("bx-blobsettings:mode","draw"),r=this.Qs.getConfig("bx-blobsettings:dynamics",ea),d=this.Qs.getConfig("bx-blobsettings:style",ia),c=this.Qs.getConfig("bx-blobsettings:size",30)*s.scale,p=this.Qs.getConfig("bx-blobsettings:roundness",100),u=this.Qs.getConfig("bx-blobsettings:angle",0),x=c,b=c,m=p,g=u,f=new DOMPoint(t.clientX,t.clientY),w=t.clientX,v=t.clientY,y=w,k=v;s.showPixelCanvas(),h.fillStyle="red",this.Qs.modKeys.ctrl&&(a="draw"===a?"erase":"draw"),window.addEventListener("pointermove",e=function e(t){var _iterator246=_createForOfIteratorHelper(t.getCoalescedEvents()),_step246;try{for(_iterator246.s();!(_step246=_iterator246.n()).done;){var _e344=_step246.value;if(r.size){var _t457=X(c-c*r.size.variance,0),_i349=X(c+c*r.size.variance,0);"random"===r.size.param?b=ol(_t457,_i349):"pressure"===r.size.param&&(b=_t457+_e344.pressure*(_i349-_t457));}if(r.roundness){var _t458=X(p-p*r.roundness.variance,0),_i350=X(p+p*r.roundness.variance,0);"random"===r.roundness.param?m=ol(_t458,_i350):"pressure"===r.roundness.param&&(m=_t458+_e344.pressure*(_i350-_t458));}if(r.angle){var _t459=X(u-u*r.angle.variance,0),_i351=X(u+u*r.angle.variance,0);"random"===r.angle.param?g=ol(_t459,_i351):"pressure"===r.angle.param&&(g=_t459+_e344.pressure*(_i351-_t459));}var _t456=new DOMPoint(_e344.clientX,_e344.clientY),_i348=Pe(f,_t456),_s203=Qa(_t456.x-f.x,_t456.y-f.y);for(var _t460=0;_t460<_i348;_t460+=1){var _e345=f.x+tr(_s203)*_t460,_i352=f.y+Ja(_s203)*_t460;_e345<w?w=_e345:_e345>y&&(y=_e345),_i352<v?v=_i352:_i352>k&&(k=_i352);var _n137=b/2,_o104=_n137*(m/100);h.beginPath(),h.ellipse(_e345,_i352,_n137,_o104,g*er/180,0,2*er),h.closePath(),h.fill();}f=_t456;}}catch(err){_iterator246.e(err);}finally{_iterator246.f();}}),window.addEventListener("pointerup",i=/*#__PURE__*/function(){var _ref68=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee71(t){var o,r,c,p,u,b,m,g,f,S,_,_iterator247,_step247,_t467,_t461,_e346,_i353,_i354,_o105,_l98,_h71,_t462,_t463,_e347,_i355,_iterator248,_step248,_loop4;return regeneratorRuntime.wrap(function _callee71$(_context72){while(1){switch(_context72.prev=_context72.next){case 0:window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",i);o=new DOMRect(w-x,v-x,y-w+2*x,k-v+2*x),r=Fe(o,l),c=h.getImageData(o.x,o.y,o.width,o.height),p=ImageTracer.imagedataToSVG(c,ir),u=ka(p),b=r.x,m=r.y,g=r.width/o.width,f=r.height/o.height,S=new DOMMatrix();S.translateSelf(b,m),S.scaleSelf(g,f);_=null;_iterator247=_createForOfIteratorHelper(u.querySelectorAll(":scope > path"));_context72.prev=5;_iterator247.s();case 7:if((_step247=_iterator247.n()).done){_context72.next=14;break;}_t467=_step247.value;if(!("0"!==_t467.getAttribute("opacity"))){_context72.next=12;break;}_=_t467;return _context72.abrupt("break",14);case 12:_context72.next=7;break;case 14:_context72.next=19;break;case 16:_context72.prev=16;_context72.t0=_context72["catch"](5);_iterator247.e(_context72.t0);case 19:_context72.prev=19;_iterator247.f();return _context72.finish(19);case 22:if(!_){_context72.next=47;break;}if(!("draw"===a)){_context72.next=28;break;}_t461=null,_e346=s.selectedElements[s.selectedElements.length-1],_i353=["path","rect","circle","ellipse","line","polyline","polygon"];if(s.undoManager.checkpoint("Blob"),_e346&&_i353.includes(_e346.localName)){"path"===_e346.localName?(_e346.hasAttribute("data-bx-shape")&&_e346.removeAttribute("data-bx-shape"),_t461=_e346):"rect"===_e346.localName?(_t461=la(_e346,s.geometryPrecision),_e346.replaceWith(_t461)):"circle"===_e346.localName?(_t461=ha(_e346,s.geometryPrecision),_e346.replaceWith(_t461)):"ellipse"===_e346.localName?(_t461=aa(_e346,s.geometryPrecision),_e346.replaceWith(_t461)):"line"===_e346.localName?(_t461=ra(_e346,s.geometryPrecision),_e346.replaceWith(_t461)):"polyline"===_e346.localName?(_t461=da(_e346,s.geometryPrecision),_e346.replaceWith(_t461)):"polygon"===_e346.localName&&(_t461=ca(_e346,s.geometryPrecision),_e346.replaceWith(_t461));_i354=Nt(s.vectorCanvas,_t461),_o105=_t461.getPathData(),_l98=_.getPathData({normalize:!0});_l98=mt(_l98),_l98=ee(_l98,_i354.multiply(S));_h71=Wa(_o105,_l98,n);_t461.setPathData(_h71),s.selectedElements=[_t461];}else{if(s.currentContainer){S=Nt(s.vectorCanvas,s.currentContainer).multiply(S);}_t462=_.getPathData({normalize:!0});_t462=mt(_t462),_t462=ee(_t462,S,n),_.setPathData(_t462),il(_,d),(s.currentContainer||s.currentWorkspace).append(_),s.selectedElements=[_];}_context72.next=47;break;case 28:if(!("erase"===a)){_context72.next=47;break;}_t463=_toConsumableArray(s.selectedElements),_e347=!1,_i355=function _i355(){!1===_e347&&(_e347=!0,s.undoManager.checkpoint("Blob"));};_iterator248=_createForOfIteratorHelper(_this160.ho());_context72.prev=31;_loop4=/*#__PURE__*/regeneratorRuntime.mark(function _loop4(){var e,_o106,_l99,_h72,_l100,_a61,_t464,_o107,_l101,_h73,_a62,_t465,_i356,_n138,_s204,_l102,_r41,_d26,_c22,_p21,_t466,_i357;return regeneratorRuntime.wrap(function _loop4$(_context71){while(1){switch(_context71.prev=_context71.next){case 0:e=_step248.value;if(!("path"===e.localName||"rect"===e.localName||"circle"===e.localName||"ellipse"===e.localName||"line"===e.localName||"polyline"===e.localName||"polygon"===e.localName)){_context71.next=6;break;}_o106=e.getPathData({normalize:!0});if(_o106.length>0){_l99=Nt(s.vectorCanvas,e),_h72=_.getPathData({normalize:!0});if(_h72=mt(_h72),_h72=ee(_h72,_l99.multiply(S)),Xa(_o106,_h72,n).length>0){_i355();_l100=null;"path"===e.localName?(e.hasAttribute("data-bx-shape")&&e.removeAttribute("data-bx-shape"),_l100=e):"rect"===e.localName?(_l100=la(e,s.geometryPrecision),e.replaceWith(_l100),_t463=_t463.map(function(t){return t===e?_l100:t;})):"circle"===e.localName?(_l100=ha(e,s.geometryPrecision),e.replaceWith(_l100),_t463=_t463.map(function(t){return t===e?_l100:t;})):"ellipse"===e.localName?(_l100=aa(e,s.geometryPrecision),e.replaceWith(_l100),_t463=_t463.map(function(t){return t===e?_l100:t;})):"line"===e.localName?(_l100=ra(e,s.geometryPrecision),e.replaceWith(_l100),_t463=_t463.map(function(t){return t===e?_l100:t;})):"polyline"===e.localName?(_l100=da(e,s.geometryPrecision),e.replaceWith(_l100),_t463=_t463.map(function(t){return t===e?_l100:t;})):"polygon"===e.localName&&(_l100=ca(e,s.geometryPrecision),e.replaceWith(_l100),_t463=_t463.map(function(t){return t===e?_l100:t;}));_a61=qa(_o106,_h72,n);0===_a61.length?(_l100.remove(),_t463=_t463.filter(function(t){return t!==_l100;})):_l100.setPathData(_a61);}}_context71.next=28;break;case 6:if(!("image"===e.localName)){_context71.next=28;break;}_t464=document.createElement("canvas"),_o107=_t464.getContext("2d"),_l101=new Image();_l101.setAttribute("src",e.getAttribute("href"));_context71.next=11;return new Promise(function(t){return _l101.onload=t;});case 11:_h73=_l101.naturalWidth/e.width.baseVal.value,_a62=_l101.naturalHeight/e.height.baseVal.value;_t464.width=_l101.naturalWidth,_t464.height=_l101.naturalHeight,_o107.imageSmoothingEnabled=!1,_o107.drawImage(_l101,0,0,_l101.naturalWidth,_l101.naturalHeight);_t465=new DOMMatrix();_t465=_t465.scale(_h73,_a62),_t465=_t465.translate(-e.x.baseVal.value,-e.y.baseVal.value),_t465=_t465.multiply(Nt(s.vectorCanvas,e)),_t465=_t465.multiply(S);_i356=_.getPathData({normalize:!0});_i356=mt(_i356),_i356=ee(_i356,_t465);_n138=new Path2D(tt(_i356));_o107.globalCompositeOperation="destination-out",_o107.imageSmoothingEnabled=!1,_o107.fillStyle="black",_o107.fill(_n138);_s204=Va(_t464);_l102=_o107.getImageData(0,0,_t464.width,_t464.height);_r41=UPNG.encode([_l102.data.buffer],_l102.width,_l102.height,0);_d26=new Uint8Array(_r41);_c22=new Blob([_d26],{type:"image/png"});_context71.next=26;return Ra(_c22);case 26:_p21=_context71.sent;if(_p21!==e.getAttribute("href")&&(_i355(),e.setAttribute("href",_p21),e.setAttribute("width",_t464.width/_h73),e.setAttribute("height",_t464.height/_a62),_s204)){_t466=e.x.baseVal.value+_s204.x/_h73,_i357=e.y.baseVal.value+_s204.y/_a62;e.setAttribute("x",X(_t466,n)),e.setAttribute("y",X(_i357,n));}case 28:case"end":return _context71.stop();}}},_loop4);});_iterator248.s();case 34:if((_step248=_iterator248.n()).done){_context72.next=38;break;}return _context72.delegateYield(_loop4(),"t1",36);case 36:_context72.next=34;break;case 38:_context72.next=43;break;case 40:_context72.prev=40;_context72.t2=_context72["catch"](31);_iterator248.e(_context72.t2);case 43:_context72.prev=43;_iterator248.f();return _context72.finish(43);case 46:s.selectedElements=_t463;case 47:s.hidePixelCanvas();case 48:case"end":return _context72.stop();}}},_callee71,null,[[5,16,19,22],[31,40,43,46]]);}));return function i(_x73){return _ref68.apply(this,arguments);};}());}},{key:"ho",value:function ho(){var t=["circle","ellipse","line","path","polygon","polyline","rect","image"],e=[],i=function i(s){var _iterator249=_createForOfIteratorHelper(s),_step249;try{for(_iterator249.s();!(_step249=_iterator249.n()).done;){var _n139=_step249.value;t.includes(_n139.localName)?e.push(_n139):"g"!==_n139.localName&&"a"!==_n139.localName||i(_n139.children);}}catch(err){_iterator249.e(err);}finally{_iterator249.f();}};return i(this.Pn.outermostSelectedElements),e;}}]);return sr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(sr,"observedAttributes",["enabled"]);customElements.define("bx-blobcontext",sr);var nr={stroke:"#000000","stroke-width":"1px"};var or=/*#__PURE__*/function(_HTMLElement48){_inherits(or,_HTMLElement48);var _super50=_createSuper(or);function or(){_classCallCheck(this,or);return _super50.apply(this,arguments);}_createClass(or,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ti(this,"bx-editor"),this.Qs=Ti(this,"#app"),this.ao=!1;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this161=this;var t=this.Js.board;t.style.cursor="crosshair",t.workspaces.addEventListener("pointerdown",this.yn=function(t){_this161.kn(t);});}},{key:"sn",value:function sn(){this.Js.board.workspaces.removeEventListener("pointerdown",this.yn);}},{key:"kn",value:function kn(t){var _this162=this;if(!1===this.ao){var _e349,_i359,_s205=new DOMPoint(t.clientX,t.clientY);window.addEventListener("pointermove",_e349=function _e348(n){var o=new DOMPoint(n.clientX,n.clientY);Pe(_s205,o)>=3&&(window.removeEventListener("pointermove",_e349),window.removeEventListener("click",_i359),_this162.ro(t,n));}),window.addEventListener("click",_i359=function _i358(t){window.removeEventListener("pointermove",_e349),window.removeEventListener("click",_i359),_this162["do"](t);});}}},{key:"do",value:function _do(t){var _this163=this;this.ao=!0;var e,_i360,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=this.Qs.getConfig("bx-linesettings:style",nr);s.selectedElements=[],s.undoManager.checkpoint("Draw line"),s.snapManager.snapStart(!1);var l=Di("svg:line");n.append(l),il(l,o);var h=Vt(l).inverse(),a=new DOMPoint(t.clientX,t.clientY),r=s.snapManager.snapPoint(a),d=r.matrixTransform(h),c=r;l.setAttribute("x1",d.x),l.setAttribute("y1",d.y),l.setAttribute("x2",d.x),l.setAttribute("y2",d.y),s.selectedElements=[l],s.lineSegHud.startPoint=r,s.lineSegHud.endPoint=r,s.lineSegHud.enabled=!0,window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);c=_this163.Qs.modKeys.shift?s.snapManager.snapPointToAngleMultiple(r,e):s.snapManager.snapPoint(e),s.lineSegHud.endPoint=c;}),window.addEventListener("click",_i360=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("click",_i360);var n=c.matrixTransform(h);l.setAttribute("x2",n.x),l.setAttribute("y2",n.y),s.lineSegHud.enabled=!1,s.snapManager.snapEnd(),_this163.ao=!1;});}},{key:"ro",value:function ro(t){var _this164=this;this.ao=!0;var e,_i361,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=this.Qs.getConfig("bx-linesettings:style",nr);s.selectedElements=[],s.undoManager.checkpoint("Draw line"),s.snapManager.snapStart(!1);var l=Di("svg:line");n.append(l),il(l,o);var h=Vt(l).inverse(),a=new DOMPoint(t.clientX,t.clientY),r=s.snapManager.snapPoint(a),d=r.matrixTransform(h),c=r;l.setAttribute("x1",d.x),l.setAttribute("y1",d.y),l.setAttribute("x2",d.x),l.setAttribute("y2",d.y),s.selectedElements=[l],s.lineSegHud.startPoint=r,s.lineSegHud.endPoint=r,s.lineSegHud.enabled=!0,window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);c=_this164.Qs.modKeys.shift?s.snapManager.snapPointToAngleMultiple(r,e):s.snapManager.snapPoint(e),s.lineSegHud.endPoint=c;}),window.addEventListener("pointerup",_i361=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i361);var n=c.matrixTransform(h);l.setAttribute("x2",n.x),l.setAttribute("y2",n.y),s.lineSegHud.enabled=!1,s.snapManager.snapEnd(),_this164.ao=!1;});}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return or;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(or,"observedAttributes",["enabled"]);customElements.define("bx-linecontext",or);var lr={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var hr=/*#__PURE__*/function(_HTMLElement49){_inherits(hr,_HTMLElement49);var _super51=_createSuper(hr);_createClass(hr,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function hr(){var _this165;_classCallCheck(this,hr);_this165=_super51.call(this),_this165.co=null;return _this165;}_createClass(hr,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ti(this,"bx-editor"),this.Qs=Ti(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this166=this;var t=this.Js.board;t.style.cursor="crosshair",t.addEventListener("keydown",this.wn=function(t){_this166.vn(t);}),t.workspaces.addEventListener("pointerdown",this.yn=function(t){_this166.kn(t);});}},{key:"sn",value:function sn(){var t=this.Js.board;t.polygonSegHud.hide(),this.co=null,t.removeEventListener("keydown",this.wn),t.workspaces.removeEventListener("pointerdown",this.yn);}},{key:"vn",value:function vn(t){var e=this.Js.board,i=to.fromEvent(t);this.co&&(i.matches("Enter")||i.matches("Escape"))&&(t.stopPropagation(),e.polygonSegHud.hide(),this.co=null);}},{key:"kn",value:function kn(t){var _this167=this;var e,_i362,s=new DOMPoint(t.clientX,t.clientY),n=0;window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new q(s,e).length;i>n&&(n=i);}),window.addEventListener("pointerup",_i362=function i(s){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i362);var o=n<4;_this167.Cn(t,o);});}},{key:"Cn",value:function Cn(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=this.Js.board;if(null===this.co){if(e){i.undoManager.checkpoint("Add polygon");var _e350=t.clientX,_s206=t.clientY,_n140=i.currentContainer||i.currentWorkspace,_o108=this.Qs.getConfig("bx-polygonsettings:style",lr),_l103=Di("svg:polygon");_n140.append(_l103),il(_l103,_o108);var _h74=Vt(_l103).inverse(),_a63=[new DOMPoint(_e350,_s206).matrixTransform(_h74)];this.po(_l103,_a63),i.selectedElements=[].concat(_toConsumableArray(i.selectedElements),[_l103]),this.co=_l103,i.polygonSegHud.show(_l103);}}else if(this.co)if(this.Qs.pointerClickCount>=2)i.polygonSegHud.hide(),this.co=null;else{var _t468=_toConsumableArray(this.co.points);_t468.length>1&&i.undoManager.checkpoint("Add polygon segment");var _e351=Nt(i.vectorCanvas,this.co),_s207=i.polygonSegHud.endPoint.matrixTransform(_e351);_t468.push(_s207),this.po(this.co,_t468);}}},{key:"po",value:function po(t,e){var i=[],s=this.Js.board.geometryPrecision;var _iterator250=_createForOfIteratorHelper(e),_step250;try{for(_iterator250.s();!(_step250=_iterator250.n()).done;){var _t469=_step250.value;var _e352=X(_t469.x,s),_n141=X(_t469.y,s);i.push(_e352,_n141);}}catch(err){_iterator250.e(err);}finally{_iterator250.f();}i.length>0?t.setAttribute("points",i.join(" ")):t.removeAttribute("points");}}]);return hr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(hr,"observedAttributes",["enabled"]);customElements.define("bx-polygoncontext",hr);var ar={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var rr=/*#__PURE__*/function(_HTMLElement50){_inherits(rr,_HTMLElement50);var _super52=_createSuper(rr);_createClass(rr,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function rr(){var _this168;_classCallCheck(this,rr);_this168=_super52.call(this),_this168.uo=null;return _this168;}_createClass(rr,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ti(this,"bx-editor"),this.Qs=Ti(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this169=this;var t=this.Js.board;t.style.cursor="crosshair",t.addEventListener("keydown",this.wn=function(t){_this169.vn(t);}),t.workspaces.addEventListener("pointerdown",this.yn=function(t){_this169.kn(t);});}},{key:"sn",value:function sn(){var t=this.Js.board;t.polylineSegHud.hide(),this.uo=null,t.removeEventListener("keydown",this.wn),t.workspaces.removeEventListener("pointerdown",this.yn);}},{key:"vn",value:function vn(t){var e=this.Js.board,i=to.fromEvent(t);this.uo&&(i.matches("Enter")||i.matches("Escape"))&&(t.stopPropagation(),e.polylineSegHud.hide(),this.uo=null);}},{key:"kn",value:function kn(t){var _this170=this;var e,_i363,s=new DOMPoint(t.clientX,t.clientY),n=0;window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new q(s,e).length;i>n&&(n=i);}),window.addEventListener("pointerup",_i363=function i(s){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i363);var o=n<4;_this170.Cn(t,o);});}},{key:"Cn",value:function Cn(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=this.Js.board;if(null===this.uo){if(e){i.undoManager.checkpoint("Add polyline");var _e353=t.clientX,_s208=t.clientY,_n142=i.currentContainer||i.currentWorkspace,_o109=this.Qs.getConfig("bx-polylinesettings:style",ar),_l104=Di("svg:polyline");_n142.append(_l104),il(_l104,_o109);var _h75=Vt(_l104).inverse(),_a64=[new DOMPoint(_e353,_s208).matrixTransform(_h75)];this.xo(_l104,_a64),i.selectedElements=[].concat(_toConsumableArray(i.selectedElements),[_l104]),this.uo=_l104,i.polylineSegHud.show(_l104);}}else if(this.uo)if(this.Qs.pointerClickCount>=2)i.polylineSegHud.hide(),this.uo=null;else{var _t470=_toConsumableArray(this.uo.points);_t470.length>1&&i.undoManager.checkpoint("Add polyline segment");var _e354=Nt(i.vectorCanvas,this.uo),_s209=i.polylineSegHud.endPoint.matrixTransform(_e354);_t470.push(_s209),this.xo(this.uo,_t470);}}},{key:"xo",value:function xo(t,e){var i=[],s=this.Js.board.geometryPrecision;var _iterator251=_createForOfIteratorHelper(e),_step251;try{for(_iterator251.s();!(_step251=_iterator251.n()).done;){var _t471=_step251.value;var _e355=X(_t471.x,s),_n143=X(_t471.y,s);i.push(_e355,_n143);}}catch(err){_iterator251.e(err);}finally{_iterator251.f();}i.length>0?t.setAttribute("points",i.join(" ")):t.removeAttribute("points");}}]);return rr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(rr,"observedAttributes",["enabled"]);customElements.define("bx-polylinecontext",rr);var dr={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var cr=/*#__PURE__*/function(_HTMLElement51){_inherits(cr,_HTMLElement51);var _super53=_createSuper(cr);_createClass(cr,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function cr(){var _this171;_classCallCheck(this,cr);_this171=_super53.call(this),_this171.gn=null,_this171.fn=!1;return _this171;}_createClass(cr,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this172=this;var t=this.Js.board;t.style.cursor="crosshair",t.addEventListener("keydown",this.wn=function(t){_this172.vn(t);}),t.workspaces.addEventListener("pointerdown",this.yn=function(t){_this172.kn(t);}),t.pathHud.addEventListener("nodeclick",this.Sn=function(t){_this172._n(t.detail.position,t.detail.path,t.detail.selected);});}},{key:"sn",value:function sn(){var t=this.Js.board;this.gn=null,this.fn=!1,t.pathHud.passive=!1,t.quadBezierSegHud.hide(),t.removeEventListener("keydown",this.wn),t.workspaces.removeEventListener("pointerdown",this.yn),t.pathHud.removeEventListener("nodeclick",this.Sn);}},{key:"vn",value:function vn(t){var e=to.fromEvent(t);this.gn&&(e.matches("Enter")||e.matches("Escape"))&&(t.stopPropagation(),this.gn=null,this.fn=!1,this.Js.board.pathHud.passive=!1,this.Js.board.quadBezierSegHud.hide());}},{key:"kn",value:function kn(t){var _this173=this;var e,_i364,s=new DOMPoint(t.clientX,t.clientY),n=0;window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new q(s,e).length;i>n&&(n=i);}),window.addEventListener("pointerup",_i364=function i(s){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i364);var o=n<4;_this173.Cn(t,o);});}},{key:"Cn",value:function Cn(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=this.Js.board;if(i.pathHud.deselectAllSegs(),null===this.gn){if(e){i.undoManager.checkpoint("Draw path segment");var _e356=t.clientX,_s210=t.clientY,_n144=i.currentContainer||i.currentWorkspace,_o110=this.Qs.getConfig("bx-quadbeziersettings:style",dr),_l105=Di("svg:path");_n144.append(_l105),il(_l105,_o110);var _h76=Vt(_l105).inverse(),_DOMPoint$matrixTrans3=new DOMPoint(_e356,_s210).matrixTransform(_h76),_a65=_DOMPoint$matrixTrans3.x,_r42=_DOMPoint$matrixTrans3.y,_d27=[{type:"M",values:[_a65,_r42]}];for(var _i365=0,_d28=_d27;_i365<_d28.length;_i365++){var _t472=_d28[_i365];_t472.values=_t472.values.map(function(t){return X(t,i.geometryPrecision);});}_l105.setPathData(_d27),i.selectedElements=[].concat(_toConsumableArray(i.selectedElements),[_l105]),this.fn=!1,this.gn=_l105,i.pathHud.passive=!0,i.quadBezierSegHud.show(_l105,"end");}}else if(this.gn)if(!1===this.fn){var _t473=_toConsumableArray(this.gn.getPathData({normalize:!0}));_t473.length>1&&i.undoManager.checkpoint("Draw path segment"),i.quadBezierSegHud.curved?_t473.push({type:"Q",values:[i.quadBezierSegHud.controlPoint.x,i.quadBezierSegHud.controlPoint.y,i.quadBezierSegHud.endPoint.x,i.quadBezierSegHud.endPoint.y]}):_t473.push({type:"L",values:[i.quadBezierSegHud.endPoint.x,i.quadBezierSegHud.endPoint.y]});var _iterator252=_createForOfIteratorHelper(_t473),_step252;try{for(_iterator252.s();!(_step252=_iterator252.n()).done;){var _e357=_step252.value;_e357.values=_e357.values.map(function(t){return X(t,i.geometryPrecision);});}}catch(err){_iterator252.e(err);}finally{_iterator252.f();}this.gn.setPathData(_t473);}else{i.undoManager.checkpoint("Draw path segment");var _t474=this.gn.getPathData({normalize:!0}),_e358=[];_e358.push({type:"M",values:[i.quadBezierSegHud.startPoint.x,i.quadBezierSegHud.startPoint.y]}),i.quadBezierSegHud.curved?_e358.push({type:"Q",values:[i.quadBezierSegHud.controlPoint.x,i.quadBezierSegHud.controlPoint.y,i.quadBezierSegHud.endPoint.x,i.quadBezierSegHud.endPoint.y]}):_e358.push({type:"L",values:[i.quadBezierSegHud.endPoint.x,i.quadBezierSegHud.endPoint.y]}),_e358.push.apply(_e358,_toConsumableArray(_t474.slice(1)));for(var _i366=0,_e359=_e358;_i366<_e359.length;_i366++){var _t475=_e359[_i366];_t475.values=_t475.values.map(function(t){return X(t,i.geometryPrecision);});}this.gn.setPathData(_e358);}}},{key:"_n",value:function _n(t,e,i){var s=!1,n=this.Js.board;if(this.gn)if(e===this.gn){if("start"===t||"end"===t){var _e360=this.gn,_i367=_e360.getPathData({normalize:!0}),_o111=_i367[0],_l106=_i367[_i367.length-1];if(!1===this.fn&&"start"===t){n.undoManager.checkpoint("Draw path segment");var _t476=_toConsumableArray(_i367);n.quadBezierSegHud.curved?_t476.push({type:"Q",values:[n.quadBezierSegHud.controlPoint.x,n.quadBezierSegHud.controlPoint.y,_o111.values[0],_o111.values[1]]}):_t476.push({type:"L",values:[_o111.values[0],_o111.values[1]]}),_t476.push({type:"Z",values:[]});var _iterator253=_createForOfIteratorHelper(_t476),_step253;try{for(_iterator253.s();!(_step253=_iterator253.n()).done;){var _e361=_step253.value;_e361.values=_e361.values.map(function(t){return X(t,n.geometryPrecision);});}}catch(err){_iterator253.e(err);}finally{_iterator253.f();}_e360.setPathData(_t476);}else if(this.fn&&"end"===t){n.undoManager.checkpoint("Draw path segment");var _t477=[];_t477.push({type:"M",values:["C"===_l106.type?_l106.values[4]:_l106.values[0],"C"===_l106.type?_l106.values[5]:_l106.values[1]]}),n.quadBezierSegHud.curved?_t477.push({type:"Q",values:[n.quadBezierSegHud.controlPoint.x,n.quadBezierSegHud.controlPoint.y,_o111.values[0],_o111.values[1]]}):_t477.push({type:"L",values:[_o111.values[0],_o111.values[1]]}),_t477.push.apply(_t477,_toConsumableArray(_i367.slice(1))),_t477.push({type:"Z",values:[]});for(var _i368=0,_t478=_t477;_i368<_t478.length;_i368++){var _e362=_t478[_i368];_e362.values=_e362.values.map(function(t){return X(t,n.geometryPrecision);});}_e360.setPathData(_t477);}this.gn=null,this.fn=!1,n.pathHud.passive=!1,n.quadBezierSegHud.hide(),s=!0;}}else if("start"===t||"end"===t){var _i369=e,_o112=this.gn,_l107=n.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_i369.id),"\"]")),_h77=n.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_o112.id),"\"]")),_a66=_o112.getPathData({normalize:!0});if(_a66.length>1){var _e363;if(n.undoManager.checkpoint("Draw path segment"),(!1===this.fn&&"end"===t||!0===this.fn&&"start"===t)&&lt(_i369),_h77&&_l107?(_e363=Nt(_l107.closest("text"),_h77.closest("text")),_e363.multiplySelf(Ut(_o112)),_e363.multiplySelf(Ut(_i369))):_h77&&!_l107?(_e363=Nt(_i369,_h77.closest("text")),_e363.multiplySelf(Ut(_o112))):!_h77&&_l107?(_e363=Nt(_l107.closest("text"),_o112),_e363.multiplySelf(Ut(_i369))):_e363=Nt(_i369,_o112),!1===this.fn){var _t479=_toConsumableArray(_a66),_s211=ee(_i369.getPathData({normalize:!0}),_e363),_l108=_s211[0];n.quadBezierSegHud.curved?_t479.push({type:"Q",values:[n.quadBezierSegHud.controlPoint.x,n.quadBezierSegHud.controlPoint.y,_l108.values[0],_l108.values[1]]}):_t479.push({type:"L",values:[_l108.values[0],_l108.values[1]]}),_t479.push.apply(_t479,_toConsumableArray(_s211.slice(1)));var _iterator254=_createForOfIteratorHelper(_t479),_step254;try{for(_iterator254.s();!(_step254=_iterator254.n()).done;){var _e364=_step254.value;_e364.values=_e364.values.map(function(t){return X(t,n.geometryPrecision);});}}catch(err){_iterator254.e(err);}finally{_iterator254.f();}_o112.setPathData(_t479),_i369.setPathData([]),_i369.remove();}else if(!0===this.fn){var _t480=[],_s212=ee(_i369.getPathData({normalize:!0}),_e363),_l109=_a66[0];_t480.push.apply(_t480,_toConsumableArray(_s212)),n.quadBezierSegHud.curved?_t480.push({type:"Q",values:[n.quadBezierSegHud.controlPoint.x,n.quadBezierSegHud.controlPoint.y,_l109.values[0],_l109.values[1]]}):_t480.push({type:"L",values:[_l109.values[0],_l109.values[1]]}),_t480.push.apply(_t480,_toConsumableArray(_a66.slice(1)));for(var _i370=0,_t481=_t480;_i370<_t481.length;_i370++){var _e365=_t481[_i370];_e365.values=_e365.values.map(function(t){return X(t,n.geometryPrecision);});}_o112.setPathData(_t480),_i369.setPathData([]),_i369.remove();}n.selectedElements=n.selectedElements.filter(function(t){return t!==_i369;}),s=!0;}this.gn=null,this.fn=!1,n.pathHud.passive=!1,n.quadBezierSegHud.hide();}if(!1===s&&null===this.gn&&!0===i)if("start"===t){var _t482=this.Mn(e);this.gn=e,this.fn=!0,n.pathHud.passive=!0,n.quadBezierSegHud.show(e,"start",_t482);}else if("end"===t){var _t483=this.Mn(e);this.gn=e,this.fn=!1,n.pathHud.passive=!0,n.quadBezierSegHud.show(e,"end",_t483);}}},{key:"Mn",value:function Mn(t){var e=this.Js.board.workspaces.querySelectorAll("textPath");if(t.id){var _iterator255=_createForOfIteratorHelper(e),_step255;try{for(_iterator255.s();!(_step255=_iterator255.n()).done;){var _i371=_step255.value;if(_i371.href.baseVal==="#"+t.id)return _i371;}}catch(err){_iterator255.e(err);}finally{_iterator255.f();}}return null;}}]);return cr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(cr,"observedAttributes",["enabled"]);customElements.define("bx-quadbeziercontext",cr);var pr={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var ur=/*#__PURE__*/function(_HTMLElement52){_inherits(ur,_HTMLElement52);var _super54=_createSuper(ur);function ur(){_classCallCheck(this,ur);return _super54.apply(this,arguments);}_createClass(ur,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this174=this;var t=this.Js.board;t.style.cursor="crosshair",t.workspaces.addEventListener("pointerdown",this.yn=function(t){_this174.kn(t);}),t.pathHud.addEventListener("nodeclick",this.Sn=function(t){_this174._n(t);});}},{key:"sn",value:function sn(){var t=this.Js.board;t.pathHud.passive=!1,t.arcSegHud.drawEnd(),t.workspaces.removeEventListener("pointerdown",this.yn),t.pathHud.removeEventListener("nodeclick",this.Sn),this.dispatchEvent(new CustomEvent("_disable"));}},{key:"kn",value:function kn(t){var _this175=this;if(this.ao)return;this.ao=!0;var e,i,s,n,o,l=this.Js.board,h=l.currentContainer||l.currentWorkspace,a=this.Qs.getConfig("bx-arcsettings:style",pr),r=new DOMPoint(t.clientX,t.clientY),d=new DOMPoint(r.x-100,r.y),c=null,p=[];l.pathHud.deselectAllSegs(),l.pathHud.passive=!0,l.arcSegHud.draw(h,r,d);var u=function u(){l.undoManager.checkpoint("Draw arc");var t=p[0];if(0===l.arcSegHud.values[0]&&0===l.arcSegHud.values[1])p.push({type:"L",values:[t.values[0],t.values[1]]},{type:"Z",values:[]});else{var _ref69=_toConsumableArray(l.arcSegHud.values),_e366=_ref69[0],_i372=_ref69[1],_s213=_ref69[2],_n145=_ref69[3],_o113=_ref69[4],_t$values11=_slicedToArray(t.values,2),_h78=_t$values11[0],_a67=_t$values11[1];p.push({type:"A",values:[_e366,_i372,_s213,_n145,_o113,_h78,_a67]},{type:"Z",values:[]});}var _iterator256=_createForOfIteratorHelper(p),_step256;try{for(_iterator256.s();!(_step256=_iterator256.n()).done;){var _t484=_step256.value;_t484.values=_t484.values.map(function(t){return X(t,l.geometryPrecision);});}}catch(err){_iterator256.e(err);}finally{_iterator256.f();}c.setPathData(p);},x=function x(){l.workspaces.removeEventListener("pointerup",e),l.pathHud.removeEventListener("nodepointerdown",i),l.undoManager.removeEventListener("undoorredo",s),l.removeEventListener("keydown",n),_this175.removeEventListener("_disable",o),l.pathHud.passive=!1,l.arcSegHud.drawEnd(),_this175.ao=!1;};l.workspaces.addEventListener("pointerup",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);if(!(Pe(r,e)<4))if(null===c){l.undoManager.checkpoint("Draw arc"),c=Di("svg:path"),h.append(c),il(c,a);var _t485=Vt(c),_i373=_t485.inverse(),_s214=r.matrixTransform(_i373);p.push({type:"M",values:[_s214.x,_s214.y]}),0===l.arcSegHud.values[0]&&0===l.arcSegHud.values[1]?p.push({type:"L",values:[l.arcSegHud.values[5],l.arcSegHud.values[6]]}):p.push({type:"A",values:_toConsumableArray(l.arcSegHud.values)});var _iterator257=_createForOfIteratorHelper(p),_step257;try{for(_iterator257.s();!(_step257=_iterator257.n()).done;){var _t486=_step257.value;_t486.values=_t486.values.map(function(t){return X(t,l.geometryPrecision);});}}catch(err){_iterator257.e(err);}finally{_iterator257.f();}c.setPathData(p),l.selectedElements=[].concat(_toConsumableArray(l.selectedElements),[c]);{var _i374=it(p),_s215=_i374[_i374.length-1],_n146=_i374[_i374.length-2],_o114=_this175.bo(_n146,_s215).matrixTransform(_t485);l.arcSegHud.draw(c,e,_o114);}}else{l.undoManager.checkpoint("Draw arc");var _t487=Vt(c),_e367=new DOMPoint(l.arcSegHud.values[5],l.arcSegHud.values[6]).matrixTransform(_t487);0===l.arcSegHud.values[0]&&0===l.arcSegHud.values[1]?p.push({type:"L",values:[l.arcSegHud.values[5],l.arcSegHud.values[6]]}):p.push({type:"A",values:_toConsumableArray(l.arcSegHud.values)});var _iterator258=_createForOfIteratorHelper(p),_step258;try{for(_iterator258.s();!(_step258=_iterator258.n()).done;){var _t488=_step258.value;_t488.values=_t488.values.map(function(t){return X(t,l.geometryPrecision);});}}catch(err){_iterator258.e(err);}finally{_iterator258.f();}c.setPathData(p);{var _i375=it(p),_s216=_i375[_i375.length-1],_n147=_i375[_i375.length-2],_o115=_this175.bo(_n147,_s216).matrixTransform(_t487);l.arcSegHud.draw(c,_e367,_o115);}}}),l.pathHud.addEventListener("nodepointerdown",i=/*#__PURE__*/function(){var _ref70=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee72(t){var e,_t489,_i376,_s217,_e368,_n148,_ref71,_e369,_i377,_s218,_o116,_h79,_t489$0$values,_a68,_r43,_i378,_n149,_t490,_p22,_ref73,_t491,_i379,_s219,_n150,_o117,_e370,_s220,_t492,_a69,_ref72,_t493,_e371,_i380,_s221,_n151,_a69$values,_o118,_h80,_iterator259,_step259,_t494;return regeneratorRuntime.wrap(function _callee72$(_context73){while(1){switch(_context73.prev=_context73.next){case 0:t.preventDefault();e=t.detail;if(!(e.path===c)){_context73.next=6;break;}"start"===e.position?(u(),x()):"end"===e.position&&x();_context73.next=32;break;case 6:if(!(null===c)){_context73.next=20;break;}l.undoManager.checkpoint("Draw arc"),c=e.path,p=c.getPathData({normalize:!0});_t489=ot(p)[e.subpathIndex];_context73.next=11;return Ki(100);case 11:_i376=Vt(c).inverse(),_s217=r.matrixTransform(_i376);if("end"===e.position){_e368=ht(_t489);_t489.length=0,_t489.push.apply(_t489,_toConsumableArray(_e368));}_n148=[];if(_n148.push({type:"M",values:[_s217.x,_s217.y]}),0===l.arcSegHud.values[0]&&0===l.arcSegHud.values[1])_n148.push({type:"L",values:[_t489[0].values[0],_t489[0].values[1]]});else{_ref71=_toConsumableArray(l.arcSegHud.values),_e369=_ref71[0],_i377=_ref71[1],_s218=_ref71[2],_o116=_ref71[3],_h79=_ref71[4],_t489$0$values=_slicedToArray(_t489[0].values,2),_a68=_t489$0$values[0],_r43=_t489$0$values[1];_n148.push({type:"A",values:[_e369,_i377,_s218,_o116,_h79,_a68,_r43]});}_n148.push.apply(_n148,_toConsumableArray(_t489.slice(1)));for(_i378=0,_n149=_n148;_i378<_n149.length;_i378++){_t490=_n149[_i378];_t490.values=_t490.values.map(function(t){return X(t,l.geometryPrecision);});}c.setPathData(_n148),x();_context73.next=32;break;case 20:_t491=e.path,_i379=l.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_t491.id),"\"]")),_s219=_t491.getPathData({normalize:!0}),_n150=ot(_s219),_o117=_n150[e.subpathIndex];l.undoManager.checkpoint("Draw arc");_i379?(_e370=Nt(_i379.closest("text"),c||h),_e370.multiplySelf(Ut(_t491))):_e370=Nt(_t491,c||h);_s220=ee(_o117,_e370);_o117.length=0,_o117.push.apply(_o117,_toConsumableArray(_s220));if("end"===e.position){_t492=ht(_o117);_o117.length=0,_o117.push.apply(_o117,_toConsumableArray(_t492));}_a69=_o117[0];if(0===l.arcSegHud.values[0]&&0===l.arcSegHud.values[1])p.push({type:"L",values:[_a69.values[0],_a69.values[1]]});else{_ref72=_toConsumableArray(l.arcSegHud.values),_t493=_ref72[0],_e371=_ref72[1],_i380=_ref72[2],_s221=_ref72[3],_n151=_ref72[4],_a69$values=_slicedToArray(_a69.values,2),_o118=_a69$values[0],_h80=_a69$values[1];p.push({type:"A",values:[_t493,_e371,_i380,_s221,_n151,_o118,_h80]});}(_p22=p).push.apply(_p22,_toConsumableArray(_o117.slice(1)));_iterator259=_createForOfIteratorHelper(p);try{for(_iterator259.s();!(_step259=_iterator259.n()).done;){_t494=_step259.value;_t494.values=_t494.values.map(function(t){return X(t,l.geometryPrecision);});}}catch(err){_iterator259.e(err);}finally{_iterator259.f();}c.setPathData(p),_o117.length=0,_s219=(_ref73=[]).concat.apply(_ref73,_toConsumableArray(_n150)),0===_s219.length?(_t491.remove(),l.selectedElements=l.selectedElements.filter(function(e){return e!==_t491;})):_t491.setPathData(_s219),x();case 32:case"end":return _context73.stop();}}},_callee72);}));return function i(_x74){return _ref70.apply(this,arguments);};}()),l.undoManager.addEventListener("undoorredo",s=function s(){if(null===c||!1===c.isConnected)x();else{p=c.getPathData({normalize:!0});var _t495,_e372=Vt(c),_i381=p[p.length-1];_t495="C"===_i381.type?new DOMPoint(_i381.values[4],_i381.values[5]):new DOMPoint(_i381.values[0],_i381.values[1]);var _s222=_t495.matrixTransform(_e372);{var _t496=it(p),_i382=_t496[_t496.length-1],_n152=_t496[_t496.length-2],_o119=_this175.bo(_n152,_i382).matrixTransform(_e372);l.arcSegHud.draw(c,_s222,_o119);}}}),l.addEventListener("keydown",n=function n(t){var e=to.fromEvent(t);e.matches("Enter","Shift")?(p.length>0&&u(),x()):(e.matches("Enter")||e.matches("Escape"))&&x();}),this.addEventListener("_disable",o=function o(){x();});}},{key:"_n",value:function _n(t){var _this176=this;var e=t.detail;if(this.ao||"mid"===e.position)return;this.ao=!0;var i,s,n,o,l,h=this.Js.board,a=(this.Qs.getConfig("bx-arcsettings:style",pr),e.path),r=a.getPathData({normalize:!0}),d=ot(r),c=d[e.subpathIndex],p=!1,u=!1,x=Vt(a);if(h.pathHud.deselectAllSegs(),h.pathHud.passive=!0,"start"===e.position){var _c23;var _t497=ht(c);c.length=0,(_c23=c).push.apply(_c23,_toConsumableArray(_t497)),p=!0;}{var _t498=c[c.length-1],_e373=c[c.length-2],_i383=new DOMPoint("C"===_t498.type?_t498.values[4]:_t498.values[0],"C"===_t498.type?_t498.values[5]:_t498.values[1]);Ki(100).then(function(){x=Vt(a);var s=_i383.matrixTransform(x),n=_this176.bo(_e373,_t498).matrixTransform(x);h.arcSegHud.draw(a,s,n);});}var b=function b(){h.workspaces.removeEventListener("pointerup",i),h.pathHud.removeEventListener("nodepointerdown",s),h.undoManager.removeEventListener("undoorredo",n),h.removeEventListener("keydown",o),_this176.removeEventListener("_disable",l),h.pathHud.passive=!1,h.arcSegHud.drawEnd(),_this176.ao=!1;};h.workspaces.addEventListener("pointerup",i=function i(t){var _ref74;h.undoManager.checkpoint("Draw arc"),0===h.arcSegHud.values[0]&&0===h.arcSegHud.values[1]?c.push({type:"L",values:[h.arcSegHud.values[5],h.arcSegHud.values[6]]}):c.push({type:"A",values:_toConsumableArray(h.arcSegHud.values)});var _iterator260=_createForOfIteratorHelper(c),_step260;try{for(_iterator260.s();!(_step260=_iterator260.n()).done;){var _t500=_step260.value;_t500.values=_t500.values.map(function(t){return X(t,h.geometryPrecision);});}}catch(err){_iterator260.e(err);}finally{_iterator260.f();}r=(_ref74=[]).concat.apply(_ref74,_toConsumableArray(d)),a.setPathData(r),u=!0;{var _t499=it(c),_e374=_t499[_t499.length-1],_i384=_t499[_t499.length-2],_s223=new DOMPoint("C"===_e374.type?_e374.values[4]:_e374.values[0],"C"===_e374.type?_e374.values[5]:_e374.values[1]).matrixTransform(x),_n153=_this176.bo(_i384,_e374).matrixTransform(x);h.arcSegHud.draw(a,_s223,_n153);}}),h.pathHud.addEventListener("nodepointerdown",s=function s(t){t.preventDefault();var i=t.detail;if(e.path===i.path){if(e.subpathIndex===i.subpathIndex){if(!1===p&&e.position===i.position||!0===p&&!0===u&&e.position!==i.position||!0===p&&!1===u&&e.position===i.position)b();else{var _ref76;h.undoManager.checkpoint("Draw arc");var _t501=c[0];if(0===h.arcSegHud.values[0]&&0===h.arcSegHud.values[1])c.push({type:"L",values:[_t501.values[0],_t501.values[1]]},{type:"Z",values:[]});else{var _ref75=_toConsumableArray(h.arcSegHud.values),_e375=_ref75[0],_i385=_ref75[1],_s224=_ref75[2],_n154=_ref75[3],_o120=_ref75[4],_t501$values=_slicedToArray(_t501.values,2),_l110=_t501$values[0],_a70=_t501$values[1];c.push({type:"A",values:[_e375,_i385,_s224,_n154,_o120,_l110,_a70]},{type:"Z",values:[]});}var _iterator261=_createForOfIteratorHelper(r),_step261;try{for(_iterator261.s();!(_step261=_iterator261.n()).done;){var _t502=_step261.value;_t502.values=_t502.values.map(function(t){return X(t,h.geometryPrecision);});}}catch(err){_iterator261.e(err);}finally{_iterator261.f();}r=(_ref76=[]).concat.apply(_ref76,_toConsumableArray(d)),a.setPathData(r),b();}}else{var _c24,_ref78;h.undoManager.checkpoint("Draw arc");var _t503=d[i.subpathIndex];if("end"===i.position){var _e376=ht(_t503);_t503.length=0,_t503.push.apply(_t503,_toConsumableArray(_e376));}{var _e377=_t503[0];if(0===h.arcSegHud.values[0]&&0===h.arcSegHud.values[1])c.push({type:"L",values:[_e377.values[0],_e377.values[1]]});else{var _ref77=_toConsumableArray(h.arcSegHud.values),_t504=_ref77[0],_i386=_ref77[1],_s225=_ref77[2],_n155=_ref77[3],_o121=_ref77[4],_e377$values=_slicedToArray(_e377.values,2),_l111=_e377$values[0],_a71=_e377$values[1];c.push({type:"A",values:[_t504,_i386,_s225,_n155,_o121,_l111,_a71]});}var _iterator262=_createForOfIteratorHelper(c),_step262;try{for(_iterator262.s();!(_step262=_iterator262.n()).done;){var _t505=_step262.value;_t505.values=_t505.values.map(function(t){return X(t,h.geometryPrecision);});}}catch(err){_iterator262.e(err);}finally{_iterator262.f();}}(_c24=c).push.apply(_c24,_toConsumableArray(_t503.slice(1))),_t503.length=0,r=(_ref78=[]).concat.apply(_ref78,_toConsumableArray(d)),a.setPathData(r),b();}}else{var _c25,_ref80,_ref81;var _t506=i.path,_e378=h.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_t506.id),"\"]")),_s226=_t506.getPathData({normalize:!0}),_n156=ot(_s226),_o122=_n156[i.subpathIndex];h.undoManager.checkpoint("Draw arc");{var _i387;_e378?(_i387=Nt(_e378.closest("text"),a),_i387.multiplySelf(Ut(_t506))):_i387=Nt(_t506,a);var _s227=ee(_o122,_i387);_o122.length=0,_o122.push.apply(_o122,_toConsumableArray(_s227));}if("end"===i.position){var _t507=ht(_o122);_o122.length=0,_o122.push.apply(_o122,_toConsumableArray(_t507));}var _l112=_o122[0];if(0===h.arcSegHud.values[0]&&0===h.arcSegHud.values[1])c.push({type:"L",values:[_l112.values[0],_l112.values[1]]});else{var _ref79=_toConsumableArray(h.arcSegHud.values),_t508=_ref79[0],_e379=_ref79[1],_i388=_ref79[2],_s228=_ref79[3],_n157=_ref79[4],_l112$values=_slicedToArray(_l112.values,2),_o123=_l112$values[0],_a72=_l112$values[1];c.push({type:"A",values:[_t508,_e379,_i388,_s228,_n157,_o123,_a72]});}(_c25=c).push.apply(_c25,_toConsumableArray(_o122.slice(1)));var _iterator263=_createForOfIteratorHelper(c),_step263;try{for(_iterator263.s();!(_step263=_iterator263.n()).done;){var _t509=_step263.value;_t509.values=_t509.values.map(function(t){return X(t,h.geometryPrecision);});}}catch(err){_iterator263.e(err);}finally{_iterator263.f();}r=(_ref80=[]).concat.apply(_ref80,_toConsumableArray(d)),a.setPathData(r),_o122.length=0,_s226=(_ref81=[]).concat.apply(_ref81,_toConsumableArray(_n156)),0===_s226.length?(_t506.remove(),h.selectedElements=h.selectedElements.filter(function(e){return e!==_t506;})):_t506.setPathData(_s226),b();}}),h.undoManager.addEventListener("undoorredo",n=function n(){if(!1===a.isConnected)b();else if(r=a.getPathData({normalize:!0}),d=ot(r),c=d[e.subpathIndex],c){x=Vt(a);{var _t510=c[c.length-1],_e380=c[c.length-2],_i389=new DOMPoint("C"===_t510.type?_t510.values[4]:_t510.values[0],"C"===_t510.type?_t510.values[5]:_t510.values[1]).matrixTransform(x),_s229=_this176.bo(_e380,_t510).matrixTransform(x);h.arcSegHud.draw(a,_i389,_s229);}}else b();}),h.addEventListener("keydown",o=function o(t){var e=to.fromEvent(t);e.matches("Enter","Shift")?(r.length>0&&function(){var _ref83;h.undoManager.checkpoint("Draw arc");var t=c[0];if(0===h.arcSegHud.values[0]&&0===h.arcSegHud.values[1])c.push({type:"L",values:[t.values[0],t.values[1]]},{type:"Z",values:[]});else{var _ref82=_toConsumableArray(h.arcSegHud.values),_e381=_ref82[0],_i390=_ref82[1],_s230=_ref82[2],_n158=_ref82[3],_o124=_ref82[4],_t$values12=_slicedToArray(t.values,2),_l113=_t$values12[0],_a73=_t$values12[1];c.push({type:"A",values:[_e381,_i390,_s230,_n158,_o124,_l113,_a73]},{type:"Z",values:[]});}var _iterator264=_createForOfIteratorHelper(c),_step264;try{for(_iterator264.s();!(_step264=_iterator264.n()).done;){var _t511=_step264.value;_t511.values=_t511.values.map(function(t){return X(t,h.geometryPrecision);});}}catch(err){_iterator264.e(err);}finally{_iterator264.f();}r=(_ref83=[]).concat.apply(_ref83,_toConsumableArray(d)),a.setPathData(r),u=!0;}(),b()):(e.matches("Enter")||e.matches("Escape"))&&b();}),this.addEventListener("_disable",l=function l(){b();});}},{key:"bo",value:function bo(t,e){var i;if("C"===e.type){var _s231=new DOMPoint("C"===t.type?t.values[4]:t.values[0],"C"===t.type?t.values[5]:t.values[1]),_n159=new DOMPoint(e.values[0],e.values[1]),_o125=new DOMPoint(e.values[2],e.values[3]),_l114=.9999999,_h81=1-_l114;i=new DOMPoint(_h81*_h81*_s231.x+_h81*_l114*2*_n159.x+_l114*_l114*_o125.x,_h81*_h81*_s231.y+_h81*_l114*2*_n159.y+_l114*_l114*_o125.y);}else if("C"===t.type){var _t$values13=_slicedToArray(t.values,6),_e382=_t$values13[0],_s232=_t$values13[1],_n160=_t$values13[2],_o126=_t$values13[3],_l115=_t$values13[4],_h82=_t$values13[5];i=new DOMPoint(_l115,_h82);}else if("L"===e.type||"M"===e.type){var _t$values14=_slicedToArray(t.values,2),_e383=_t$values14[0],_s233=_t$values14[1];i=new DOMPoint(_e383,_s233);}return i;}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return ur;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ur,"observedAttributes",["enabled"]);customElements.define("bx-arccontext",ur);var xr=Math.abs,br=Math.min;var mr=/*#__PURE__*/function(_HTMLElement53){_inherits(mr,_HTMLElement53);var _super55=_createSuper(mr);_createClass(mr,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"shape",get:function get(){return this.hasAttribute("shape")?this.getAttribute("shape"):"rect";},set:function set(t){this.setAttribute("shape",t);}}]);function mr(){_classCallCheck(this,mr);return _super55.call(this);}_createClass(mr,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this.mo=!1;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.sn():"shape"===t&&this.fo());}},{key:"tn",value:function tn(){var _this177=this;var t=this.Js.board;t.style.cursor="crosshair",this.dispatchEvent(new CustomEvent("_enabledchange")),t.addEventListener("pointerdown",this.On=function(t){_this177.wo(t);});}},{key:"sn",value:function sn(){var t=this.Js.board;this.dispatchEvent(new CustomEvent("_enabledchange")),t.removeEventListener("pointerdown",this.On);}},{key:"fo",value:function fo(){this.dispatchEvent(new CustomEvent("_shapechange"));}},{key:"wo",value:function wo(t){var _this178=this;if(1!==t.buttons||!0===this.mo)return;var _e384,_i391,s=this.Js.board,n=new DOMPoint(t.clientX,t.clientY);s.setPointerCapture(t.pointerId),s.addEventListener("pointermove",_e384=function e(o){var l=new DOMPoint(o.clientX,o.clientY);Pe(n,l)<3||(s.removeEventListener("pointermove",_e384),s.removeEventListener("lostpointercapture",_i391),"rect"===_this178.shape?_this178.vo(t):"circle"===_this178.shape?_this178.yo(t):"ellipse"===_this178.shape?_this178.ko(t):"ring"===_this178.shape?_this178.So(t):"pie"===_this178.shape?_this178._o(t):"crescent"===_this178.shape?_this178.Co(t):"triangle"===_this178.shape?_this178.Mo(t):"n-gon"===_this178.shape?_this178.Po(t):"star"===_this178.shape?_this178.Do(t):"cog"===_this178.shape?_this178.zo(t):"arrow"===_this178.shape?_this178.Oo(t):"cross"===_this178.shape&&_this178.Eo(t));}),s.addEventListener("lostpointercapture",_i391=function i(){s.removeEventListener("pointermove",_e384),s.removeEventListener("lostpointercapture",_i391);});}},{key:"vo",value:function vo(t){var _this179=this;var e=this.Qs,i=this.Js.board,s=i.currentContainer||i.currentWorkspace,n=i.geometryPrecision,o=i.transformPrecision,l=e.getConfig("bx-rectsettings:drawingMode","planar"),h=e.getConfig("bx-rectsettings:style",O),a=e.getConfig("bx-rectsettings:r",0);i.undoManager.checkpoint("Add rectangle"),i.snapManager.snapStart(!1),i.setPointerCapture(t.pointerId);var r=new DOMPoint(t.clientX,t.clientY);if(r=i.snapManager.snapPoint(r),"polar"===l||"planar"===l){var _t512,_d29=1,_c26=1,_p23="planar"===l?r.x:r.x-_d29/2,_u20="planar"===l?r.y:r.y-_c26/2,_x75=Di("svg:rect");_x75.setAttribute("x",_p23),_x75.setAttribute("y",_u20),_x75.setAttribute("width",_d29),_x75.setAttribute("height",_c26),_x75.setAttribute("rx",a),_x75.setAttribute("ry",a),s.append(_x75),il(_x75,h),i.selectedElements=[_x75];var _b18=Vt(_x75).inverse(),_m18=Ut(_x75).multiply(_b18);_x75.setAttribute("transform",_m18.toString()),e.modKeys.ctrl&&("polar"===l?l="planar":"planar"===l&&(l="polar")),i.addEventListener("pointermove",_t512=function _t512(t){var s=new DOMPoint(t.clientX,t.clientY);if("planar"===l){s=i.snapManager.snapPoint(s);var _t513=s.x-r.x||1,_n161=s.y-r.y||1;if(_d29=xr(_t513),_c26=xr(_n161),e.modKeys.shift){var _t514=br(_d29,_c26);_d29=_t514,_c26=_t514;}_p23=_t513<0?r.x-_d29:r.x,_u20=_n161<0?r.y-_c26:r.y;}else if("polar"===l){var _t515=new DOMPoint(r.x,r.y),_i392=new DOMPoint(s.x,s.y),_n162=Pe(_t515,_i392),_o127=new DOMPoint(_t515.x,_t515.y-_n162),_l116=_o127.matrixTransform(new DOMMatrix().translate(_t515.x,_t515.y).rotate(-45).translate(-_t515.x,-_t515.y)),_h83=_o127.matrixTransform(new DOMMatrix().translate(_t515.x,_t515.y).rotate(45).translate(-_t515.x,-_t515.y)),_a74=_o127.matrixTransform(new DOMMatrix().translate(_t515.x,_t515.y).rotate(135).translate(-_t515.x,-_t515.y)),_b19=Pe(_l116,_h83);_p23=r.x-_b19/2,_u20=r.y-_b19/2,_d29=_b19,_c26=_b19;var _g17=$e(_t515,_a74,_i392);e.modKeys.shift&&(_g17=Le(_g17,45));var _f14=new DOMMatrix();_f14.translateSelf(_t515.x,_t515.y),_f14.rotateSelf(_g17),_f14.translateSelf(-_t515.x,-_t515.y),_x75.setAttribute("transform",_m18.multiply(_f14).toString());}_x75.setAttribute("x",_p23),_x75.setAttribute("y",_u20),_x75.setAttribute("width",_d29),_x75.setAttribute("height",_c26);});var _g16=function _g16(){i.removeEventListener("pointermove",_t512),i.removeEventListener("lostpointercapture",_g16),_this179.removeEventListener("_enabledchange",_g16),_this179.removeEventListener("_shapechange",_g16),i.snapManager.snapEnd(),uh(_x75,{geometryPrecision:n,transformPrecision:o});};i.addEventListener("lostpointercapture",_g16),this.addEventListener("_enabledchange",_g16),this.addEventListener("_shapechange",_g16);}else if("3-point"===l){var _t516=Di("svg:rect");_t516.setAttribute("rx",a),_t516.setAttribute("ry",a),s.append(_t516),il(_t516,h),i.selectedElements=[_t516];var _l117,_d30,_c27=Nt(i.currentWorkspace,_t516),_p24=Vt(i.currentWorkspace).inverse(),_u21=Ut(_t516).multiply(_c27),_x76=r.matrixTransform(_p24),_b20=_x76,_m19=1;i.snapManager.snapStart(!0),this.mo=!0,_t516.setAttribute("height",10),_t516.setAttribute("transform",_u21.toString()),i.addEventListener("pointermove",_l117=function _l117(s){if(_p24=Vt(i.currentWorkspace).inverse(),1===_m19){_b20=new DOMPoint(s.clientX,s.clientY),_b20=e.modKeys.shift?i.snapManager.snapPointToAngleMultiple(r,_b20):i.snapManager.snapPoint(_b20),_b20=_b20.matrixTransform(_p24);var _n163=Pe(_x76,_b20),_o128=(De(_x76,_b20),new DOMPoint(_x76.x+100,_x76.y)),_l118=$e(_x76,_o128,_b20),_h84=new DOMMatrix();_h84.translateSelf(_x76.x,_x76.y),_h84.rotateSelf(_l118),_h84.translateSelf(-_x76.x,-_x76.y),_t516.setAttribute("x",_x76.x),_t516.setAttribute("y",_x76.y),_t516.setAttribute("width",_n163),_t516.setAttribute("height",1/i.scale),_t516.setAttribute("transform",_u21.multiply(_h84).toString());}else if(2===_m19){var _e385=new DOMPoint(s.clientX,s.clientY);_e385=i.snapManager.snapPoint(_e385),_e385=_e385.matrixTransform(_p24);var _ze=ze(_x76,_b20,_e385),_ze2=_slicedToArray(_ze,2),_n164=_ze2[0],_o129=_ze2[1],_l119=Pe(_n164,_e385);$e(_x76,_b20,_e385)>=0?_t516.setAttribute("y",_x76.y):_t516.setAttribute("y",_x76.y-_l119),_t516.setAttribute("height",_l119);}});var _g18=function _g18(){i.removeEventListener("pointermove",_l117),i.removeEventListener("pointerup",_d30),_this179.removeEventListener("_enabledchange",_g18),_this179.removeEventListener("_shapechange",_g18),i.snapManager.snapEnd(),uh(_t516,{geometryPrecision:n,transformPrecision:o}),_this179.mo=!1;};i.addEventListener("pointerup",_d30=function _d30(t){1===_m19?_m19=2:2===_m19&&_g18();}),this.addEventListener("_enabledchange",_g18),this.addEventListener("_shapechange",_g18);}}},{key:"yo",value:function yo(t){var _this180=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=s.geometryPrecision,l=s.transformPrecision,h=i.getConfig("bx-circlesettings:style",O),a=0,r=0,d=0;s.undoManager.checkpoint("Add circle"),s.snapManager.snapStart(!1),s.setPointerCapture(t.pointerId);var c=new DOMPoint(t.clientX,t.clientY);c=s.snapManager.snapPoint(c);var p=Di("svg:circle");n.append(p),il(p,h),s.selectedElements=[p];var u=Vt(p).inverse(),x=Ut(p).multiply(u);p.setAttribute("transform",x.toString()),s.addEventListener("pointermove",e=function e(_e386){var i=new DOMPoint(_e386.clientX,_e386.clientY),s=new DOMPoint(t.clientX,t.clientY),n=new DOMPoint(i.x,i.y),o=new q(s,n);a=s.x,r=s.y,d=o.length,p.setAttribute("cx",a),p.setAttribute("cy",r),p.setAttribute("r",d);});var b=function b(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",b),_this180.removeEventListener("_enabledchange",b),_this180.removeEventListener("_shapechange",b),s.snapManager.snapEnd(),uh(p,{geometryPrecision:o,transformPrecision:l});};s.addEventListener("lostpointercapture",b),this.addEventListener("_enabledchange",b),this.addEventListener("_shapechange",b);}},{key:"ko",value:function ko(t){var _this181=this;var e=this.Qs,i=this.Js.board,s=i.currentContainer||i.currentWorkspace,n=i.geometryPrecision,o=i.transformPrecision,l=e.getConfig("bx-ellipsesettings:drawingMode","planar"),h=e.getConfig("bx-ellipsesettings:style",O);i.undoManager.checkpoint("Add ellipse"),i.snapManager.snapStart(!1),i.setPointerCapture(t.pointerId);var a=new DOMPoint(t.clientX,t.clientY);a=i.snapManager.snapPoint(a);var r=Di("svg:ellipse");if(s.append(r),il(r,h),i.selectedElements=[r],"polar"===l||"planar"===l){var _s234,_h85=Vt(r).inverse(),_d31=Ut(r).multiply(_h85);e.modKeys.ctrl&&("polar"===l?l="planar":"planar"===l&&(l="polar")),r.setAttribute("transform",_d31.toString()),i.addEventListener("pointermove",_s234=function _s234(s){var n=new DOMPoint(s.clientX,s.clientY);if("planar"===l){n=i.snapManager.snapPoint(n);var _t517=n.x-a.x||1,_s235=n.y-a.y||1,_o130=xr(_t517),_l120=xr(_s235);if(e.modKeys.shift){var _t518=br(_o130,_l120);_o130=_t518,_l120=_t518;}var _h86=_t517<0?a.x-_o130:a.x,_d32=_s235<0?a.y-_l120:a.y;r.setAttribute("cx",_h86+_o130/2),r.setAttribute("cy",_d32+_l120/2),r.setAttribute("rx",_o130/2),r.setAttribute("ry",_l120/2);}else if("polar"===l){var _e387=new DOMPoint(t.clientX,t.clientY),_i393=new DOMPoint(n.x,n.y),_s236=new q(_e387,_i393);r.setAttribute("cx",_e387.x),r.setAttribute("cy",_e387.y),r.setAttribute("rx",_s236.length),r.setAttribute("ry",_s236.length);}});var _c28=function _c28(){i.removeEventListener("pointermove",_s234),i.removeEventListener("lostpointercapture",_c28),_this181.removeEventListener("_enabledchange",_c28),_this181.removeEventListener("_shapechange",_c28),i.snapManager.snapEnd(),uh(r,{geometryPrecision:n,transformPrecision:o});};i.addEventListener("lostpointercapture",_c28),this.addEventListener("_enabledchange",_c28),this.addEventListener("_shapechange",_c28);}else if("3-point"===l){var _t519,_s237,_l121=Nt(i.currentWorkspace,r),_h87=Vt(i.currentWorkspace).inverse(),_d33=Ut(r).multiply(_l121),_c29=a.matrixTransform(_h87),_p25=_c29,_u22=1;i.snapManager.snapStart(!0),this.mo=!0,r.setAttribute("transform",_d33.toString()),i.addEventListener("pointermove",_t519=function _t519(t){if(_h87=Vt(i.currentWorkspace).inverse(),1===_u22){_p25=new DOMPoint(t.clientX,t.clientY),_p25=e.modKeys.shift?i.snapManager.snapPointToAngleMultiple(a,_p25):i.snapManager.snapPoint(_p25),_p25=_p25.matrixTransform(_h87);var _s238=Pe(_c29,_p25),_n165=De(_c29,_p25),_o131=new DOMPoint(_c29.x+100,_c29.y),_l122=$e(_c29,_o131,_p25),_u23=_n165.x,_x78=_n165.y,_b21=_s238/2,_m20=new DOMMatrix();_m20.translateSelf(_n165.x,_n165.y),_m20.rotateSelf(_l122),_m20.translateSelf(-_n165.x,-_n165.y),r.setAttribute("cx",_u23),r.setAttribute("cy",_x78),r.setAttribute("rx",_b21),r.setAttribute("transform",_d33.multiply(_m20).toString()),r.setAttribute("ry",1/i.scale);}else if(2===_u22){var _e388=new DOMPoint(t.clientX,t.clientY);_e388=i.snapManager.snapPoint(_e388),_e388=_e388.matrixTransform(_h87);var _ze3=ze(_c29,_p25,_e388),_ze4=_slicedToArray(_ze3,2),_s239=_ze4[0],_n166=_ze4[1],_o132=Pe(_s239,_e388);r.setAttribute("ry",_o132);}});var _x77=function _x77(){i.removeEventListener("pointermove",_t519),i.removeEventListener("pointerup",_s237),_this181.removeEventListener("_enabledchange",_x77),_this181.removeEventListener("_shapechange",_x77),i.snapManager.snapEnd(),uh(r,{geometryPrecision:n,transformPrecision:o}),_this181.mo=!1;};i.addEventListener("pointerup",_s237=function _s237(t){1===_u22?_u22=2:2===_u22&&_x77();}),this.addEventListener("_enabledchange",_x77),this.addEventListener("_shapechange",_x77);}}},{key:"So",value:function So(t){var _this182=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=i.getConfig("bx-ringsettings:drawingMode","polar"),l=i.getConfig("bx-ringsettings:r1",.6),h=i.getConfig("bx-ringsettings:style",O),a=s.geometryPrecision,r=s.transformPrecision;s.undoManager.checkpoint("Add ring"),s.setPointerCapture(t.pointerId);var d=0,c=0,p=1,u=1,x=l*p,b=l*u,m=Di("svg:path");ul(m,{type:"ring",values:[d,c,x,b,p,u]},a),n.append(m),il(m,h),s.selectedElements=[m];var g=Vt(m).inverse(),f=Ut(m).multiplySelf(g);m.setAttribute("transform",f.toString()),i.modKeys.ctrl&&("polar"===o?o="planar":"planar"===o&&(o="polar")),s.addEventListener("pointermove",e=function e(_e389){if("planar"===o){var _s240=_e389.clientX-t.clientX||1,_n167=_e389.clientY-t.clientY||1,_o133=xr(_s240),_h88=xr(_n167);if(i.modKeys.shift){var _t520=br(_o133,_h88);_o133=_t520,_h88=_t520;}var _a75=_s240<0?t.clientX-_o133:t.clientX,_r44=_n167<0?t.clientY-_h88:t.clientY;d=_a75+_o133/2,c=_r44+_h88/2,p=_o133/2,u=_h88/2,x=l*p,b=l*u;}else if("polar"===o){var _s241=new DOMPoint(t.clientX,t.clientY),_n168=new DOMPoint(_s241.x,_s241.y-100),_o134=new DOMPoint(_e389.clientX,_e389.clientY),_h89=new q(_s241,_o134),_a76=$e(_s241,_n168,_o134);d=_s241.x,c=_s241.y,p=_h89.length,u=_h89.length,x=l*p,b=l*u,i.modKeys.shift&&(_a76=Le(_a76,45));var _r45=new DOMMatrix();_r45.translateSelf(_s241.x,_s241.y),_r45.rotateSelf(_a76),_r45.translateSelf(-_s241.x,-_s241.y),m.setAttribute("transform",f.multiply(_r45).toString());}ul(m,{type:"ring",values:[d,c,x,b,p,u]},a);});var w=function w(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",w),_this182.removeEventListener("_enabledchange",w),_this182.removeEventListener("_shapechange",w),uh(m,{geometryPrecision:a,transformPrecision:r});};s.addEventListener("lostpointercapture",w),this.addEventListener("_enabledchange",w),this.addEventListener("_shapechange",w);}},{key:"_o",value:function _o(t){var _this183=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=i.getConfig("bx-piesettings:drawingMode","polar"),l=i.getConfig("bx-piesettings:style",O),h=s.geometryPrecision,a=s.transformPrecision,r=i.getConfig("bx-piesettings:r1",0);s.undoManager.checkpoint("Add pie"),s.setPointerCapture(t.pointerId);var d=0,c=0,p=200,u=r*p,x=90,b=Di("svg:path");n.append(b),il(b,l),s.selectedElements=[b];var m=Vt(b).inverse(),g=Ut(b).multiplySelf(m);b.setAttribute("transform",g.toString()),i.modKeys.ctrl&&("polar"===o?o="planar":"planar"===o&&(o="polar")),s.addEventListener("pointermove",e=function e(_e391){if("planar"===o){var _s242=_e391.clientX-t.clientX||1,_n169=_e391.clientY-t.clientY||1,_o135=xr(_s242),_l123=xr(_n169);if(i.modKeys.shift){var _t521=br(_o135,_l123);_o135=_t521,_l123=_t521;}var _h90=_s242<0?t.clientX-_o135:t.clientX,_a77=_n169<0?t.clientY-_l123:t.clientY;if(p=_o135/2,u=r*p,d=_h90+_o135/2,c=_a77+_l123/2,_o135===_l123)b.setAttribute("transform",g.toString());else{var _t522=1,_e390=_l123/_o135,_i394=-d*(_t522-1),_s243=-c*(_e390-1),_n170=DOMMatrix.fromMatrix(g);_n170.translateSelf(_i394,_s243),_n170.scaleSelf(_t522,_e390),b.setAttribute("transform",_n170.toString());}}else if("polar"===o){var _i395=new DOMPoint(t.clientX,t.clientY),_s244=new DOMPoint(_i395.x,_i395.y-100),_n171=new DOMPoint(_e391.clientX,_e391.clientY),_o136=new q(_i395,_n171);d=_i395.x,c=_i395.y,p=_o136.length,u=r*p,x=$e(_i395,_s244,_n171),x<=0&&(x=360+x);}ul(b,{type:"pie",values:[d,c,u,p,x,360]},h);});var f=function f(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",f),_this183.removeEventListener("_enabledchange",f),_this183.removeEventListener("_shapechange",f),uh(b,{geometryPrecision:h,transformPrecision:a});};s.addEventListener("lostpointercapture",f),this.addEventListener("_enabledchange",f),this.addEventListener("_shapechange",f);}},{key:"Co",value:function Co(t){var _this184=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=i.getConfig("bx-crescentsettings:drawingMode","polar"),l=i.getConfig("bx-crescentsettings:style",O),h=i.getConfig("bx-crescentsettings:arch",300),a=i.getConfig("bx-crescentsettings:hollow",.7),r=s.geometryPrecision,d=s.transformPrecision,c=0,p=0,u=200;s.undoManager.checkpoint("Add crescent"),s.setPointerCapture(t.pointerId);var x=Di("svg:path");n.append(x),il(x,l),s.selectedElements=[x];var b=Vt(x).inverse(),m=Ut(x).multiplySelf(b);x.setAttribute("transform",m.toString()),i.modKeys.ctrl&&("polar"===o?o="planar":"planar"===o&&(o="polar")),s.addEventListener("pointermove",e=function e(_e393){if("planar"===o){var _s245=_e393.clientX-t.clientX||1,_n172=_e393.clientY-t.clientY||1,_o137=xr(_s245),_l124=xr(_n172);if(i.modKeys.shift){var _t523=br(_o137,_l124);_o137=_t523,_l124=_t523;}var _h91=_s245<0?t.clientX-_o137:t.clientX,_a78=_n172<0?t.clientY-_l124:t.clientY;if(u=_o137/2,c=_h91+_o137/2,p=_a78+_l124/2,_o137===_l124)x.setAttribute("transform",m.toString());else{var _t524=1,_e392=_l124/_o137,_i396=-c*(_t524-1),_s246=-p*(_e392-1),_n173=new DOMMatrix();_n173.translateSelf(_i396,_s246),_n173.scaleSelf(_t524,_e392),x.setAttribute("transform",m.multiply(_n173).toString());}}else if("polar"===o){var _s247=new DOMPoint(t.clientX,t.clientY),_n174=new DOMPoint(_s247.x,_s247.y-100),_o138=new DOMPoint(_e393.clientX,_e393.clientY),_l125=new q(_s247,_o138);c=_s247.x,p=_s247.y,u=_l125.length;var _h92=$e(_s247,_n174,_o138);_h92-=180,i.modKeys.shift&&(_h92=Le(_h92,45));var _a79=new DOMMatrix();_a79.translateSelf(_s247.x,_s247.y),_a79.rotateSelf(_h92),_a79.translateSelf(-_s247.x,-_s247.y),x.setAttribute("transform",m.multiply(_a79).toString());}ul(x,{type:"crescent",values:[c,p,u,h,a]},r);});var g=function g(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",g),_this184.removeEventListener("_enabledchange",g),_this184.removeEventListener("_shapechange",g),uh(x,{geometryPrecision:r,transformPrecision:d});};s.addEventListener("lostpointercapture",g),this.addEventListener("_enabledchange",g),this.addEventListener("_shapechange",g);}},{key:"Mo",value:function Mo(t){var _this185=this;var e,i,s=this.Qs,n=this.Js.board,o=n.currentContainer||n.currentWorkspace,l=n.geometryPrecision,h=n.transformPrecision,a=s.getConfig("bx-trianglesettings:drawingMode","polar"),r=s.getConfig("bx-trianglesettings:style",O);n.undoManager.checkpoint("Add triangle"),n.snapManager.snapStart(!1),n.setPointerCapture(t.pointerId);var d=new DOMPoint(t.clientX,t.clientY);d=n.snapManager.snapPoint(d);var c=1,p=1,u="planar"===a?d.x:d.x-p/2,x="planar"===a?d.y:d.y-c/2,b=s.getConfig("bx-trianglesettings:shift",.5),m=s.getConfig("bx-trianglesettings:corner",0),g=Di("svg:path");ul(g,{type:"triangle",values:[u,x,p,c,b,m]},l),o.append(g),il(g,r),n.selectedElements=[g];var f=Vt(g).inverse(),w=Ut(g).multiply(f);g.setAttribute("transform",w.toString()),s.modKeys.ctrl&&("polar"===a?a="planar":"planar"===a&&(a="polar")),n.addEventListener("keydown",i=function i(t){var e=to.fromEvent(t);if(e.matches("ArrowLeft")){if(t.preventDefault(),t.stopPropagation(),m>0){m=Z(m-.04,0,.5,2),ul(g,{type:"triangle",values:[u,x,p,c,b,m]},l);}}else if(e.matches("ArrowRight")&&(t.preventDefault(),t.stopPropagation(),m<.5)){m=Z(m+.04,0,.5,2),ul(g,{type:"triangle",values:[u,x,p,c,b,m]},l);}}),n.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);if(e=n.snapManager.snapPoint(e),"planar"===a){var _t525=e.x-d.x||1,_i397=e.y-d.y||1;if(p=xr(_t525),c=xr(_i397),s.modKeys.shift){var _t526=br(p,c);p=_t526,c=_t526;}u=_t525<0?d.x-p:d.x,x=_i397<0?d.y-c:d.y;}else if("polar"===a){var _t527=new DOMPoint(d.x,d.y),_i398=new DOMPoint(e.x,e.y),_n175=Pe(_t527,_i398),_o139=new DOMPoint(_t527.x,_t527.y-_n175),_l126=_o139.matrixTransform(new DOMMatrix().translate(_t527.x,_t527.y).rotate(120).translate(-_t527.x,-_t527.y)),_h93=_l126.matrixTransform(new DOMMatrix().translate(_t527.x,_t527.y).rotate(120).translate(-_t527.x,-_t527.y)),_a80=$e(_t527,_l126,_i398);p=_l126.x-_h93.x||1,c=_l126.y-_o139.y||1,u=_h93.x,x=_o139.y,s.modKeys.shift&&(_a80=Le(_a80,45));var _r46=new DOMMatrix();_r46.translateSelf(_t527.x,_t527.y),_r46.rotateSelf(_a80),_r46.translateSelf(-_t527.x,-_t527.y),g.setAttribute("transform",w.multiply(_r46).toString());}ul(g,{type:"triangle",values:[u,x,p,c,b,m]},l);});var v=function v(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",v),n.removeEventListener("keydown",i),_this185.removeEventListener("_enabledchange",v),_this185.removeEventListener("_shapechange",v),uh(g,{geometryPrecision:l,transformPrecision:h}),n.snapManager.snapEnd();};n.addEventListener("lostpointercapture",v),this.addEventListener("_enabledchange",v),this.addEventListener("_shapechange",v);}},{key:"Po",value:function Po(t){var _this186=this;var e,i,s=this.Qs,n=this.Js.board,o=n.currentContainer||n.currentWorkspace,l=s.getConfig("bx-ngonsettings:drawingMode","polar"),h=s.getConfig("bx-ngonsettings:style",O),a=n.geometryPrecision,r=n.transformPrecision,d=0,c=0,p=0,u=0,x=s.getConfig("bx-ngonsettings:arms",5),b=s.getConfig("bx-ngonsettings:corner",0);n.undoManager.checkpoint("Add n-gon"),n.setPointerCapture(t.pointerId);var m=Di("svg:path");ul(m,{type:"n-gon",values:[d,c,p,u,x,b]},a),o.append(m),il(m,h),n.selectedElements=[m];var g=Vt(m).inverse(),f=Ut(m).multiply(g);m.setAttribute("transform",f.toString()),s.modKeys.ctrl&&("polar"===l?l="planar":"planar"===l&&(l="polar")),n.addEventListener("keydown",i=function i(t){var e=to.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),x+=1,ul(m,{type:"n-gon",values:[d,c,p,u,x,b]},a)):e.matches("ArrowDown")?(t.preventDefault(),t.stopPropagation(),x>5&&(x-=1,ul(m,{type:"n-gon",values:[d,c,p,u,x,b]},a))):e.matches("ArrowLeft")?(t.preventDefault(),t.stopPropagation(),b>0&&(b=Z(b-.04,0,.5,2),ul(m,{type:"n-gon",values:[d,c,p,u,x,b]},a))):e.matches("ArrowRight")&&(t.preventDefault(),t.stopPropagation(),b<.5&&(b=Z(b+.04,0,.5,2),ul(m,{type:"n-gon",values:[d,c,p,u,x,b]},a)));}),n.addEventListener("pointermove",e=function e(_e394){if("planar"===l){var _i399=_e394.clientX-t.clientX||1,_n176=_e394.clientY-t.clientY||1,_o140=xr(_i399),_l127=xr(_n176);if(s.modKeys.shift){var _t528=br(_o140,_l127);_o140=_t528,_l127=_t528;}var _h94=_i399<0?t.clientX-_o140:t.clientX,_a81=_n176<0?t.clientY-_l127:t.clientY;p=_o140/2,u=_l127/2,d=_h94+p,c=_a81+u;}else if("polar"===l){var _i400=new DOMPoint(t.clientX,t.clientY),_n177=Ml(2,d,c,p,u,x),_o141=new DOMPoint(_e394.clientX,_e394.clientY),_l128=new q(_i400,_o141),_h95=$e(_i400,_n177,_o141);d=_i400.x,c=_i400.y,p=_l128.length,u=_l128.length,s.modKeys.shift&&(_h95=Le(_h95,180/x));var _a82=new DOMMatrix();_a82.translateSelf(_i400.x,_i400.y),_a82.rotateSelf(_h95),_a82.translateSelf(-_i400.x,-_i400.y),m.setAttribute("transform",f.multiply(_a82).toString());}ul(m,{type:"n-gon",values:[d,c,p,u,x,b]},a);});var w=function w(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",w),n.removeEventListener("keydown",i),_this186.removeEventListener("_enabledchange",w),_this186.removeEventListener("_shapechange",w),uh(m,{geometryPrecision:a,transformPrecision:r});};n.addEventListener("lostpointercapture",w),this.addEventListener("_enabledchange",w),this.addEventListener("_shapechange",w);}},{key:"Do",value:function Do(t){var _this187=this;var e,i,s=this.Qs,n=this.Js.board,o=n.currentContainer||n.currentWorkspace,l=s.getConfig("bx-starsettings:drawingMode","polar"),h=s.getConfig("bx-starsettings:style",O),a=n.geometryPrecision,r=n.transformPrecision,d=0,c=0,p=0,u=0,x=s.getConfig("bx-starsettings:depth",.4),b=s.getConfig("bx-starsettings:arms",5);n.undoManager.checkpoint("Add star"),n.setPointerCapture(t.pointerId);var m=Di("svg:path");ul(m,{type:"star",values:[d,c,p,u,x,b]},a),o.append(m),il(m,h),n.selectedElements=[m];var g=Vt(m).inverse(),f=Ut(m).multiply(g);m.setAttribute("transform",f.toString()),s.modKeys.ctrl&&("polar"===l?l="planar":"planar"===l&&(l="polar")),n.addEventListener("keydown",i=function i(t){var e=to.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),b+=1,ul(m,{type:"star",values:[d,c,p,u,x,b]},a)):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),b>3&&(b-=1,ul(m,{type:"star",values:[d,c,p,u,x,b]},a)));}),n.addEventListener("pointermove",e=function e(_e395){if("planar"===l){var _i401=_e395.clientX-t.clientX||1,_n178=_e395.clientY-t.clientY||1,_o142=xr(_i401),_l129=xr(_n178);if(s.modKeys.shift){var _t529=br(_o142,_l129);_o142=_t529,_l129=_t529;}var _h96=_i401<0?t.clientX-_o142:t.clientX,_a83=_n178<0?t.clientY-_l129:t.clientY;p=_o142/2,u=_l129/2,d=_h96+p,c=_a83+u;}else if("polar"===l){var _i402=new DOMPoint(t.clientX,t.clientY),_n179=new DOMPoint(_i402.x,_i402.y-100),_o143=new DOMPoint(_e395.clientX,_e395.clientY),_l130=new q(_i402,_o143),_h97=$e(_i402,_n179,_o143);d=_i402.x,c=_i402.y,p=_l130.length,u=_l130.length,s.modKeys.shift&&(_h97=Le(_h97,180/b/2));var _a84=new DOMMatrix();_a84.translateSelf(_i402.x,_i402.y),_a84.rotateSelf(_h97),_a84.translateSelf(-_i402.x,-_i402.y),m.setAttribute("transform",f.multiply(_a84).toString());}ul(m,{type:"star",values:[d,c,p,u,x,b]},a);});var w=function w(){n.removeEventListener("keydown",i),n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",w),_this187.removeEventListener("_enabledchange",w),_this187.removeEventListener("_shapechange",w),uh(m,{geometryPrecision:a,transformPrecision:r});};n.addEventListener("lostpointercapture",w),this.addEventListener("_enabledchange",w),this.addEventListener("_shapechange",w);}},{key:"zo",value:function zo(t){var _this188=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=i.getConfig("bx-cogsettings:drawingMode","polar"),l=i.getConfig("bx-cogsettings:style",O),h=s.geometryPrecision,a=s.transformPrecision;s.undoManager.checkpoint("Add cog"),s.setPointerCapture(t.pointerId);var r=i.getConfig("bx-cogsettings:r1",.3),d=i.getConfig("bx-cogsettings:r2",.65),c=i.getConfig("bx-cogsettings:r3",1),p=i.getConfig("bx-cogsettings:splay",.38),u=i.getConfig("bx-cogsettings:teeth",8),x=0,b=0,m=0,g=0,f=0,w=Di("svg:path");n.append(w),il(w,l),s.selectedElements=[w];var v=Vt(w).inverse(),y=Ut(w).multiplySelf(v);w.setAttribute("transform",y.toString()),i.modKeys.ctrl&&("polar"===o?o="planar":"planar"===o&&(o="polar")),s.addEventListener("pointermove",e=function e(_e397){if("planar"===o){var _s248=_e397.clientX-t.clientX||1,_n180=_e397.clientY-t.clientY||1,_o144=xr(_s248),_l131=xr(_n180);if(i.modKeys.shift){var _t530=br(_o144,_l131);_o144=_t530,_l131=_t530;}var _h98=_s248<0?t.clientX-_o144:t.clientX,_a85=_n180<0?t.clientY-_l131:t.clientY,_p26=_o144/2;if(x=_h98+_o144/2,b=_a85+_l131/2,m=_p26*r,g=_p26*d,f=_p26*c,_o144===_l131)w.setAttribute("transform",y.toString());else{var _t531=1,_e396=_l131/_o144,_i403=-x*(_t531-1),_s249=-b*(_e396-1),_n181=DOMMatrix.fromMatrix(y);_n181.translateSelf(_i403,_s249),_n181.scaleSelf(_t531,_e396),w.setAttribute("transform",_n181.toString());}}else if("polar"===o){var _s250=new DOMPoint(t.clientX,t.clientY),_n182=new DOMPoint(_s250.x,_s250.y-100),_o145=new DOMPoint(_e397.clientX,_e397.clientY),_l132=new q(_s250,_o145),_h99=$e(_s250,_n182,_o145),_a86=_l132.length;x=_s250.x,b=_s250.y,m=_a86*r,g=_a86*d,f=_a86*c,i.modKeys.shift&&(_h99=Le(_h99,45));var _p27=new DOMMatrix();_p27.translateSelf(_s250.x,_s250.y),_p27.rotateSelf(_h99),_p27.translateSelf(-_s250.x,-_s250.y),w.setAttribute("transform",y.multiply(_p27).toString());}ul(w,{type:"cog",values:[x,b,m,g,f,p,u]},h);});var k=function k(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",k),_this188.removeEventListener("_enabledchange",k),_this188.removeEventListener("_shapechange",k),uh(w,{geometryPrecision:h,transformPrecision:a});};s.addEventListener("lostpointercapture",k),this.addEventListener("_enabledchange",k),this.addEventListener("_shapechange",k);}},{key:"Oo",value:function Oo(t){var _this189=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=s.geometryPrecision,l=s.transformPrecision,h=Vt(s.currentWorkspace).inverse();s.undoManager.checkpoint("Add arrow"),s.snapManager.snapStart(!1),s.setPointerCapture(t.pointerId);var a=new DOMPoint(t.clientX,t.clientY);a=s.snapManager.snapPoint(a),a=a.matrixTransform(h);var r=new DOMPoint(a.x+100,a.y),d=i.getConfig("bx-arrowsettings:baseThickness",10),c=i.getConfig("bx-arrowsettings:headThickness",40),p=i.getConfig("bx-arrowsettings:headLength",40),u=i.getConfig("bx-arrowsettings:headInset",0),x=i.getConfig("bx-arrowsettings:style",O),b=p,m=c,g=a.x,f=a.y-m/2,w=Di("svg:path"),v={type:"arrow",values:[g,f,b,m,d,p,u]};ul(w,v,o),n.append(w),il(w,x),s.selectedElements=[w];var y=Ut(w).multiply(Nt(s.currentWorkspace,w));w.setAttribute("transform",y.toString()),s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=s.snapManager.snapPoint(e),e=e.matrixTransform(h),b=Pe(a,e),b<p&&(b=p);var n=$e(a,r,e);i.modKeys.shift&&(n=Le(n,45));var l=new DOMMatrix();l.translateSelf(a.x,a.y),l.rotateSelf(n),l.translateSelf(-a.x,-a.y),w.setAttribute("transform",y.multiply(l).toString()),v={type:"arrow",values:[g,f,b,m,d,p,u]},ul(w,v,o);});var k=function k(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",k),_this189.removeEventListener("_enabledchange",k),_this189.removeEventListener("_shapechange",k),s.snapManager.snapEnd(),uh(w,{geometryPrecision:o,transformPrecision:l});};s.addEventListener("lostpointercapture",k),this.addEventListener("_enabledchange",k),this.addEventListener("_shapechange",k);}},{key:"Eo",value:function Eo(t){var _this190=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=s.geometryPrecision,l=s.transformPrecision,h=i.getConfig("bx-crosssettings:drawingMode","polar"),a=i.getConfig("bx-crosssettings:style",O);s.undoManager.checkpoint("Add cross"),s.snapManager.snapStart(!1),s.setPointerCapture(t.pointerId);var r=new DOMPoint(t.clientX,t.clientY);r=s.snapManager.snapPoint(r);var d=r.x,c=r.y,p=0,u=0,x=0,b=0,m=i.getConfig("bx-crosssettings:thickness",.2),g=i.getConfig("bx-crosssettings:shift",.5),f=Di("svg:path");ul(f,{type:"cross",values:[d,c,p,u,x,b,g]},o),n.append(f),il(f,a),s.selectedElements=[f];var w=Vt(f).inverse(),v=Ut(f).multiply(w);f.setAttribute("transform",v.toString()),i.modKeys.ctrl&&("polar"===h?h="planar":"planar"===h&&(h="polar")),s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);if(e=s.snapManager.snapPoint(e),"planar"===h){var _t532=e.x-r.x||1,_s251=e.y-r.y||1;if(p=xr(_t532),u=xr(_s251),i.modKeys.shift){var _t533=br(p,u);p=_t533,u=_t533;}d=_t532<0?r.x-p:r.x,c=_s251<0?r.y-u:r.y;}else if("polar"===h){var _t534=new DOMPoint(r.x,r.y),_s252=new DOMPoint(e.x,e.y),_n183=Pe(_t534,_s252),_o146=new DOMPoint(_t534.x,_t534.y-_n183),_l133=_o146.matrixTransform(new DOMMatrix().translate(_t534.x,_t534.y).rotate(-45).translate(-_t534.x,-_t534.y)),_h100=_o146.matrixTransform(new DOMMatrix().translate(_t534.x,_t534.y).rotate(45).translate(-_t534.x,-_t534.y)),_a87=_o146.matrixTransform(new DOMMatrix().translate(_t534.x,_t534.y).rotate(135).translate(-_t534.x,-_t534.y)),_x79=Pe(_l133,_h100);d=r.x-_x79/2,c=r.y-_x79/2,p=_x79,u=_x79;var _b22=$e(_t534,_a87,_s252);i.modKeys.shift&&(_b22=Le(_b22,45));var _m21=new DOMMatrix();_m21.translateSelf(_t534.x,_t534.y),_m21.rotateSelf(_b22),_m21.translateSelf(-_t534.x,-_t534.y),f.setAttribute("transform",v.multiply(_m21).toString());}x=u*m,b=p*m,ul(f,{type:"cross",values:[d,c,p,u,x,b,g]},o);});var y=function y(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",y),_this190.removeEventListener("_enabledchange",y),_this190.removeEventListener("_shapechange",y),s.snapManager.snapEnd(),uh(f,{geometryPrecision:o,transformPrecision:l});};s.addEventListener("lostpointercapture",y),this.addEventListener("_enabledchange",y),this.addEventListener("_shapechange",y);}}]);return mr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(mr,"observedAttributes",["enabled","shape"]);customElements.define("bx-shapecontext",mr);var gr=null,fr=null,wr=/*#__PURE__*/function(){var _ref84=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee74(){return regeneratorRuntime.wrap(function _callee74$(_context75){while(1){switch(_context75.prev=_context75.next){case 0:return _context75.abrupt("return",new Promise(/*#__PURE__*/function(){var _ref85=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee73(t){var _e398,_i404;return regeneratorRuntime.wrap(function _callee73$(_context74){while(1){switch(_context74.prev=_context74.next){case 0:if(!gr){_context74.next=4;break;}t(gr);_context74.next=11;break;case 4:_context74.next=6;return fetch("metadata/fonts/google-fonts-registry.json");case 6:_e398=_context74.sent;_context74.next=9;return _e398.json();case 9:_i404=_context74.sent;gr=_i404,t(_i404);case 11:case"end":return _context74.stop();}}},_callee73);}));return function(_x80){return _ref85.apply(this,arguments);};}()));case 1:case"end":return _context75.stop();}}},_callee74);}));return function wr(){return _ref84.apply(this,arguments);};}(),vr="Enter your text here.";var yr=/*#__PURE__*/function(_ta2){_inherits(yr,_ta2);var _super56=_createSuper(yr);function yr(){var _this191;_classCallCheck(this,yr);_this191=_super56.call(this),_this191.To=Xi(_this191.Ao,350,_assertThisInitialized(_this191)),_this191["#content-editor"].addEventListener("input",function(){return _this191.To();}),_this191["#style-picker"].addEventListener("change",function(){return _this191.io();});return _this191;}_createClass(yr,[{key:"tn",value:function tn(){this.qs();}},{key:"Ao",value:function Ao(){""===this["#content-editor"].value?this.Qs.setConfig("bx-textsettings:content",null):this.Qs.setConfig("bx-textsettings:content",this["#content-editor"].value);}},{key:"io",value:function io(){this.Qs.setConfig("bx-textsettings:style",this["#style-picker"].value);}},{key:"qs",value:function qs(){var t=this.Qs.getConfig("bx-textsettings:content",vr),e=this.Qs.getConfig("bx-textsettings:style",E);this["#content-editor"].value=t,this["#style-picker"].value=e;}}]);return yr;}(ta);_defineProperty(yr,"_shadowTemplate",Hi(_templateObject192(),vr));_defineProperty(yr,"_shadowStyleSheet",Yi(_templateObject193()));customElements.define("bx-textsettings",yr);var kr=Object.entries;var Sr=/*#__PURE__*/function(_HTMLElement54){_inherits(Sr,_HTMLElement54);var _super57=_createSuper(Sr);function Sr(){_classCallCheck(this,Sr);return _super57.apply(this,arguments);}_createClass(Sr,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this.$o={};}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this192=this;var t=this.Js.board,e=!0,i=function i(){t.style.cursor=e?"url(images/cursors/text.svg) 8 8, auto":"url(images/cursors/text-add.svg) 3 8, auto";};i(),this.Io(),t.workspaces.addEventListener("pointerdown",this.On=function(t){_this192.kn(t);}),t.workspaces.addEventListener("pointerover",this.Lo=function(t){e=null!==t.target.closest("text"),!1===_this192.Qs.isPointerDown&&i();}),window.addEventListener("pointerup",this.Nn=function(t){i();});}},{key:"sn",value:function sn(){var t=this.Js.board;t.workspaces.removeEventListener("pointerdown",this.On),t.workspaces.removeEventListener("pointerover",this.Lo),window.removeEventListener("pointerup",this.Nn);}},{key:"kn",value:function(){var _kn=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee76(t){var _this193=this;var e,_i405,_s253,_n184,_o147,_l134,_h101,_a88,_r47,_d34,_c30;return regeneratorRuntime.wrap(function _callee76$(_context77){while(1){switch(_context77.prev=_context77.next){case 0:e=this.Js.board;if(!(0===t.button&&null===t.target.closest("text"))){_context77.next=12;break;}e.undoManager.checkpoint("Add text");_i405=e.currentContainer||e.currentWorkspace,_s253=this.Qs.getConfig("bx-textsettings:content",vr),_n184=this.Qs.getConfig("bx-textsettings:style",E),_o147=Vt(_i405).inverse(),_l134=new DOMPoint(t.clientX,t.clientY).matrixTransform(_o147),_h101=X(_l134.x,e.geometryPrecision),_a88=X(_l134.y,e.geometryPrecision),_r47=e.fontsManager.getFamilies(),_d34=(_r47.length>0&&_r47[0],Di("svg:text"));_d34.setAttribute("x",_h101),_d34.setAttribute("y",_a88),_d34.textContent=_s253,_d34.style.whiteSpace="pre",_i405.append(_d34),il(_d34,_n184),e.selectedElements=[_d34];_c30=/*#__PURE__*/function(){var _ref86=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee75(){var t,e,i,s;return regeneratorRuntime.wrap(function _callee75$(_context76){while(1){switch(_context76.prev=_context76.next){case 0:t=xi(_d34),e=t[0],i=t[t.length-1],s=new Range();s.setStart(e,0);s.setEnd(i,i.textContent.length);_this193.Js.board.selectedTextRange=null;_this193.Js.board.selectedTextRange=s;_context76.next=7;return Ki(100);case 7:_this193.Js.board.textHud.focus();case 8:case"end":return _context76.stop();}}},_callee75);}));return function _c30(){return _ref86.apply(this,arguments);};}();_c30();_context77.t0=_n184["font-family"];if(!_context77.t0){_context77.next=12;break;}_context77.next=11;return this.Bo(_n184["font-family"]);case 11:_c30();case 12:case"end":return _context77.stop();}}},_callee76,this);}));function kn(_x81){return _kn.apply(this,arguments);}return kn;}()},{key:"Bo",value:function Bo(t){var _this194=this;return new Promise(/*#__PURE__*/function(){var _ref87=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee77(e){var _e399;return regeneratorRuntime.wrap(function _callee77$(_context78){while(1){switch(_context78.prev=_context78.next){case 0:if(!(!1===_this194.Js.board.fontsManager.getFamilies().includes(t))){_context78.next=13;break;}_e399=[];if(!_this194.$o[t]){_context78.next=6;break;}_context78.t0=_this194.$o[t];_context78.next=9;break;case 6:_context78.next=8;return _this194.Ro(t);case 8:_context78.t0=_context78.sent;case 9:_e399=_context78.t0;_this194.Js.board.fontsManager.addFonts(_e399);_context78.next=13;return Promise.all(_e399.map(function(t){return t.load();}));case 13:e();case 14:case"end":return _context78.stop();}}},_callee77);}));return function(_x82){return _ref87.apply(this,arguments);};}());}},{key:"Ro",value:function Ro(t){return new Promise(/*#__PURE__*/function(){var _ref88=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee78(e){var i,s,_iterator265,_step265,_step265$value,_e400,_n185,_s254,_o148,_l135,_h102,_a89;return regeneratorRuntime.wrap(function _callee78$(_context79){while(1){switch(_context79.prev=_context79.next){case 0:i=[];_context79.next=3;return wr();case 3:s=_context79.sent.items.find(function(e){return e.family===t;});if(!s){_context79.next=34;break;}_iterator265=_createForOfIteratorHelper(kr(s.urls));_context79.prev=6;_iterator265.s();case 8:if((_step265=_iterator265.n()).done){_context79.next=26;break;}_step265$value=_slicedToArray(_step265.value,2),_e400=_step265$value[0],_n185=_step265$value[1];_s254={weight:_e400.substring(0,3),style:_e400.includes("italic")?"italic":"normal"};_context79.next=13;return fetch(_n185);case 13:_o148=_context79.sent;_context79.next=16;return _o148.blob();case 16:_l135=_context79.sent;_context79.next=19;return Ra(_l135);case 19:_context79.t0=_context79.sent;_context79.t1='url("'+_context79.t0;_h102=_context79.t1+'")';_a89=new FontFace(t,_h102,_s254);_a89.src=_h102,i.push(_a89);case 24:_context79.next=8;break;case 26:_context79.next=31;break;case 28:_context79.prev=28;_context79.t2=_context79["catch"](6);_iterator265.e(_context79.t2);case 31:_context79.prev=31;_iterator265.f();return _context79.finish(31);case 34:e(i);case 35:case"end":return _context79.stop();}}},_callee78,null,[[6,28,31,34]]);}));return function(_x83){return _ref88.apply(this,arguments);};}());}},{key:"Go",value:function Go(t){var _this195=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref89=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee79(i){var _iterator266,_step266,_e401;return regeneratorRuntime.wrap(function _callee79$(_context80){while(1){switch(_context80.prev=_context80.next){case 0:_context80.t0=void 0===_this195.$o[t];if(!_context80.t0){_context80.next=6;break;}_context80.next=4;return _this195.Ro(t);case 4:_this195.$o[t]=_context80.sent;_context80.t0=e;case 6:if(!_context80.t0){_context80.next=9;break;}_iterator266=_createForOfIteratorHelper(_this195.$o[t]);try{for(_iterator266.s();!(_step266=_iterator266.n()).done;){_e401=_step266.value;_e401.load();}}catch(err){_iterator266.e(err);}finally{_iterator266.f();}case 9:i();case 10:case"end":return _context80.stop();}}},_callee79);}));return function(_x84){return _ref89.apply(this,arguments);};}());}},{key:"Io",value:function Io(){var _this196=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;return new Promise(/*#__PURE__*/function(){var _ref90=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee80(e){var i;return regeneratorRuntime.wrap(function _callee80$(_context81){while(1){switch(_context81.prev=_context81.next){case 0:i=_this196.Qs.getConfig("bx-textsettings:style",E)["font-family"];_context81.t0=i;if(!_context81.t0){_context81.next=5;break;}_context81.next=5;return _this196.Go(i,t);case 5:e();case 6:case"end":return _context81.stop();}}},_callee80);}));return function(_x85){return _ref90.apply(this,arguments);};}());}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return Sr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Sr,"observedAttributes",["enabled"]);customElements.define("bx-textcontext",Sr);var _r="Enter your text here.",Cr='\n  <x-menuitem value="none">\n    <x-label>None</x-label>\n  </x-menuitem>\n\n  <hr/>\n\n  <x-menuitem value="random">\n    <x-label>Random</x-label>\n  </x-menuitem>\n\n  <x-menuitem value="pressure">\n    <x-label>Pressure</x-label>\n  </x-menuitem>\n\n  <x-menuitem value="speed">\n    <x-label>Speed</x-label>\n  </x-menuitem>\n\n  <x-menuitem value="speedInverse">\n    <x-label>Speed inverse</x-label>\n  </x-menuitem>\n';var Mr=/*#__PURE__*/function(_ta3){_inherits(Mr,_ta3);var _super58=_createSuper(Mr);function Mr(){var _this197;_classCallCheck(this,Mr);_this197=_super58.call(this),_this197.To=Xi(_this197.Ao,350,_assertThisInitialized(_this197)),_this197["#font-size-dynamics-param-select"].addEventListener("change",function(t){return _this197.eo(t);}),_this197["#font-size-dynamics-variance-input"].addEventListener("changeend",function(t){return _this197.eo(t);}),_this197["#glyph-rotation-dynamics-param-select"].addEventListener("change",function(t){return _this197.eo(t);}),_this197["#glyph-rotation-dynamics-variance-input"].addEventListener("changeend",function(t){return _this197.eo(t);}),_this197["#opacity-dynamics-param-select"].addEventListener("change",function(t){return _this197.eo(t);}),_this197["#opacity-dynamics-variance-input"].addEventListener("changeend",function(t){return _this197.eo(t);}),_this197["#content-editor"].addEventListener("input",function(){return _this197.To();}),_this197["#style-picker"].addEventListener("change",function(){return _this197.io();});return _this197;}_createClass(Mr,[{key:"tn",value:function tn(){this.qs();}},{key:"Ao",value:function Ao(){""===this["#content-editor"].value?this.Qs.setConfig("bx-textpathsettings:content",null):this.Qs.setConfig("bx-textpathsettings:content",this["#content-editor"].value);}},{key:"eo",value:function eo(t){var e={};"x-select"===t.target.localName&&"none"===t.detail.oldValue&&(t.target.nextElementSibling.value=50),"none"!==this["#font-size-dynamics-param-select"].value&&(e.fontSize={param:this["#font-size-dynamics-param-select"].value,variance:this["#font-size-dynamics-variance-input"].value/100}),"none"!==this["#glyph-rotation-dynamics-param-select"].value&&(e.glyphRotation={param:this["#glyph-rotation-dynamics-param-select"].value,variance:this["#glyph-rotation-dynamics-variance-input"].value/100}),"none"!==this["#opacity-dynamics-param-select"].value&&(e.opacity={param:this["#opacity-dynamics-param-select"].value,variance:this["#opacity-dynamics-variance-input"].value/100}),this.Qs.setConfig("bx-textpathsettings:dynamics",e),this.qs();}},{key:"io",value:function io(){this.Qs.setConfig("bx-textpathsettings:style",this["#style-picker"].value);}},{key:"qs",value:function qs(){var t=this.Qs.getConfig("bx-textpathsettings:dynamics",{}),e=this.Qs.getConfig("bx-textpathsettings:content",_r),i=this.Qs.getConfig("bx-textpathsettings:style",E);t.fontSize?(this["#font-size-dynamics-param-select"].value=t.fontSize.param,this["#font-size-dynamics-variance-input"].value=X(100*t.fontSize.variance,0),this["#font-size-dynamics-variance-input"].disabled=!1):(this["#font-size-dynamics-param-select"].value="none",this["#font-size-dynamics-variance-input"].value=0,this["#font-size-dynamics-variance-input"].disabled=!0),t.glyphRotation?(this["#glyph-rotation-dynamics-param-select"].value=t.glyphRotation.param,this["#glyph-rotation-dynamics-variance-input"].value=X(100*t.glyphRotation.variance,0),this["#glyph-rotation-dynamics-variance-input"].disabled=!1):(this["#glyph-rotation-dynamics-param-select"].value="none",this["#glyph-rotation-dynamics-variance-input"].value=0,this["#glyph-rotation-dynamics-variance-input"].disabled=!0),t.opacity?(this["#opacity-dynamics-param-select"].value=t.opacity.param,this["#opacity-dynamics-variance-input"].value=X(100*t.opacity.variance,0),this["#opacity-dynamics-variance-input"].disabled=!1):(this["#opacity-dynamics-param-select"].value="none",this["#opacity-dynamics-variance-input"].value=0,this["#opacity-dynamics-variance-input"].disabled=!0),this["#content-editor"].value=e,this["#style-picker"].value=i;}}]);return Mr;}(ta);_defineProperty(Mr,"_shadowTemplate",Hi(_templateObject194(),_r,Cr,Cr,Cr));_defineProperty(Mr,"_shadowStyleSheet",Yi(_templateObject195()));customElements.define("bx-textpathsettings",Mr);var Pr=Object.entries;var Dr=/*#__PURE__*/function(_HTMLElement55){_inherits(Dr,_HTMLElement55);var _super59=_createSuper(Dr);_createClass(Dr,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Dr(){_classCallCheck(this,Dr);return _super59.call(this);}_createClass(Dr,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this.Pn=Ti(this,"bx-board"),this.$o={};}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function(){var _tn2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee81(){var _this198=this;return regeneratorRuntime.wrap(function _callee81$(_context82){while(1){switch(_context82.prev=_context82.next){case 0:this.jn=.7,this.Pn.pathHud.passive=!0,this.Pn.style.cursor="crosshair",this.Io(),this.Qs.addEventListener("configchange",this.ln=function(t){_this198.hn(t.detail);}),this.Pn.workspaces.addEventListener("pointerdown",this.yn=function(t){_this198.kn(t);});case 1:case"end":return _context82.stop();}}},_callee81,this);}));function tn(){return _tn2.apply(this,arguments);}return tn;}()},{key:"sn",value:function sn(){this.Pn.pathHud.passive=!1,this.Qs.removeEventListener("configchange",this.ln),this.Pn.workspaces.removeEventListener("pointerdown",this.yn);}},{key:"hn",value:function hn(_ref91){var t=_ref91.key,e=_ref91.value;"bx-textpathsettings:smoothing"===t&&null!==e&&(this.jn=e);}},{key:"kn",value:function kn(t){var _this199=this;if(1!==t.buttons)return;var _e402,_i406,s=new DOMPoint(t.clientX,t.clientY);window.addEventListener("pointermove",_e402=function e(i){var n=new DOMPoint(i.clientX,i.clientY);Pe(s,n)<3||(window.removeEventListener("pointermove",_e402),_this199.Tn(t));}),window.addEventListener("pointerup",_i406=function i(t){window.removeEventListener("pointermove",_e402),window.removeEventListener("pointerup",_i406);});}},{key:"Tn",value:function Tn(t){var _this200=this;var e,_i411,s=this.Pn,n=this.Qs.getConfig("bx-textpathsettings:dynamics",{}),o=this.Qs.getConfig("bx-textpathsettings:content",_r),l=this.Qs.getConfig("bx-textpathsettings:style",E),h=s.currentContainer||s.currentWorkspace,a=null,r=null,d=null,c=s.geometryPrecision,p=new Array(250).fill(o).join(" "),u=0,x=0,b=null;s.undoManager.checkpoint("Text path"),a=Di("svg:path"),a.style.fill="none",a.id=s.generateUniqueID("path"),s.defs.append(a),r=Di("svg:text"),r.style.whiteSpace="pre",h.append(r),il(r,l),d=Di("svg:textPath"),d.setAttribute("href","#"+a.id),r.append(d),l["font-family"]&&this.Bo(l["font-family"]);var m=Vt(a).inverse(),g=new DOMPoint(t.clientX,t.clientY).matrixTransform(m),f=[],w=[];f.push({type:"M",values:[g.x,g.y].map(function(t){return X(t,c);})}),a.setPathData(f),s.selectedElements=[r],s.setPointerCapture(t.pointerId);var v=function v(){f.length=f.length-(w.length-1);var _iterator267=_createForOfIteratorHelper(Vh(w,6*_this200.jn/s.scale)),_step267;try{for(_iterator267.s();!(_step267=_iterator267.n()).done;){var _t535=_step267.value;var _e403=[_t535[1].x,_t535[1].y,_t535[2].x,_t535[2].y,_t535[3].x,_t535[3].y];_e403=_e403.map(function(t){return X(t,c);}),f.push({type:"C",values:_e403});}}catch(err){_iterator267.e(err);}finally{_iterator267.f();}a.setPathData(f),w=[];},y=function y(t){var e=Di("svg:tspan");if(e.textContent=p[d.childElementCount],n.fontSize){var _i407,_s255=parseInt(l["font-size"]),_o149=X(_s255-_s255*n.fontSize.variance,0),_h103=X(_s255+_s255*n.fontSize.variance,0);"random"===n.fontSize.param?_i407=ol(_o149,_h103):"speed"===n.fontSize.param?_i407=_o149+u/8*(_h103-_o149):"speedInverse"===n.fontSize.param?_i407=_h103-u/8*(_h103-_o149):"pressure"===n.fontSize.param&&(_i407=_o149+t.pressure*(_h103-_o149)),_i407=Z(_i407,5,Infinity,0),e.style.fontSize=_i407+"px";}if(n.opacity){var _i408,_s256=void 0!==l.opacity?parseInt(l.opacity):1,_o150=X(_s256-_s256*n.opacity.variance,2),_h104=X(_s256+_s256*n.opacity.variance,2);console.log(_s256,_o150,_h104),"random"===n.opacity.param?_i408=ol(_o150,_h104,2):"speed"===n.opacity.param?_i408=_o150+u/8*(_h104-_o150):"speedInverse"===n.opacity.param?_i408=_h104-u/8*(_h104-_o150):"pressure"===n.opacity.param&&(_i408=_o150+t.pressure*(_h104-_o150)),_i408=Z(_i408,0,1,2),e.style.opacity=_i408;}if(n.glyphRotation){var _i409,_s257=-360*n.glyphRotation.variance,_o151=360*n.glyphRotation.variance;"random"===n.glyphRotation.param?_i409=ol(_s257,_o151,0):"speed"===n.glyphRotation.param?_i409=_s257+u/8*(_o151-_s257):"speedInverse"===n.glyphRotation.param?_i409=_o151-u/8*(_o151-_s257):"pressure"===n.glyphRotation.param&&(_i409=_s257+t.pressure*(_o151-_s257)),_i409=Z(_i409,-360,360,0),e.setAttribute("rotate",_i409);}d.append(e),0===e.getComputedTextLength()?e.remove():y(t);};s.addEventListener("pointermove",e=function e(t){x+=1;var e=new DOMPoint(t.clientX,t.clientY),i=e.matrixTransform(m);if(!b||!_e(b,e,0)){if(b){var _t536=u;u=Pe(b,e),x>1&&(u=function(t,e,i){return(1-i)*t+i*e;}(_t536,u,.05));}if(b=e,w.push(i),12===w.length)v();else{var _t537=[i.x,i.y];_t537=_t537.map(function(t){return X(t,c);}),f.push({type:"L",values:_t537}),a.setPathData(f);}y(t);}}),s.addEventListener("pointerup",_i411=function i(t){if(s.removeEventListener("pointermove",e),s.removeEventListener("pointerup",_i411),w.length>2&&v(),0===d.childElementCount){var _e404=new DOMPoint(t.clientX,t.clientY).matrixTransform(m),_i410=new q(g,_e404);for(;0===d.childElementCount;){_i410.length+=10,f=[{type:"M",values:[g.x,g.y]},{type:"L",values:[g.x+_i410.x,g.y+_i410.y]}],a.setPathData(f),y(t);}}ci(r);});}},{key:"Bo",value:function Bo(t){var _this201=this;return new Promise(/*#__PURE__*/function(){var _ref92=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee82(e){var _e405;return regeneratorRuntime.wrap(function _callee82$(_context83){while(1){switch(_context83.prev=_context83.next){case 0:if(!(!1===_this201.Js.board.fontsManager.getFamilies().includes(t))){_context83.next=13;break;}_e405=[];if(!_this201.$o[t]){_context83.next=6;break;}_context83.t0=_this201.$o[t];_context83.next=9;break;case 6:_context83.next=8;return _this201.Ro(t);case 8:_context83.t0=_context83.sent;case 9:_e405=_context83.t0;_this201.Js.board.fontsManager.addFonts(_e405);_context83.next=13;return Promise.all(_e405.map(function(t){return t.load();}));case 13:e();case 14:case"end":return _context83.stop();}}},_callee82);}));return function(_x86){return _ref92.apply(this,arguments);};}());}},{key:"Ro",value:function Ro(t){return new Promise(/*#__PURE__*/function(){var _ref93=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee83(e){var i,s,_iterator268,_step268,_step268$value,_e406,_n186,_s258,_o152,_l136,_h105,_a90;return regeneratorRuntime.wrap(function _callee83$(_context84){while(1){switch(_context84.prev=_context84.next){case 0:i=[];_context84.next=3;return wr();case 3:s=_context84.sent.items.find(function(e){return e.family===t;});if(!s){_context84.next=34;break;}_iterator268=_createForOfIteratorHelper(Pr(s.urls));_context84.prev=6;_iterator268.s();case 8:if((_step268=_iterator268.n()).done){_context84.next=26;break;}_step268$value=_slicedToArray(_step268.value,2),_e406=_step268$value[0],_n186=_step268$value[1];_s258={weight:_e406.substring(0,3),style:_e406.includes("italic")?"italic":"normal"};_context84.next=13;return fetch(_n186);case 13:_o152=_context84.sent;_context84.next=16;return _o152.blob();case 16:_l136=_context84.sent;_context84.next=19;return Ra(_l136);case 19:_context84.t0=_context84.sent;_context84.t1='url("'+_context84.t0;_h105=_context84.t1+'")';_a90=new FontFace(t,_h105,_s258);_a90.src=_h105,i.push(_a90);case 24:_context84.next=8;break;case 26:_context84.next=31;break;case 28:_context84.prev=28;_context84.t2=_context84["catch"](6);_iterator268.e(_context84.t2);case 31:_context84.prev=31;_iterator268.f();return _context84.finish(31);case 34:e(i);case 35:case"end":return _context84.stop();}}},_callee83,null,[[6,28,31,34]]);}));return function(_x87){return _ref93.apply(this,arguments);};}());}},{key:"Go",value:function Go(t){var _this202=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref94=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee84(i){var _iterator269,_step269,_e407;return regeneratorRuntime.wrap(function _callee84$(_context85){while(1){switch(_context85.prev=_context85.next){case 0:_context85.t0=void 0===_this202.$o[t];if(!_context85.t0){_context85.next=6;break;}_context85.next=4;return _this202.Ro(t);case 4:_this202.$o[t]=_context85.sent;_context85.t0=e;case 6:if(!_context85.t0){_context85.next=9;break;}_iterator269=_createForOfIteratorHelper(_this202.$o[t]);try{for(_iterator269.s();!(_step269=_iterator269.n()).done;){_e407=_step269.value;_e407.load();}}catch(err){_iterator269.e(err);}finally{_iterator269.f();}case 9:i();case 10:case"end":return _context85.stop();}}},_callee84);}));return function(_x88){return _ref94.apply(this,arguments);};}());}},{key:"Io",value:function Io(){var _this203=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;return new Promise(/*#__PURE__*/function(){var _ref95=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee85(e){var i;return regeneratorRuntime.wrap(function _callee85$(_context86){while(1){switch(_context86.prev=_context86.next){case 0:i=_this203.Qs.getConfig("bx-textsettings:style",E)["font-family"];_context86.t0=i;if(!_context86.t0){_context86.next=5;break;}_context86.next=5;return _this203.Go(i,t);case 5:e();case 6:case"end":return _context86.stop();}}},_callee85);}));return function(_x89){return _ref95.apply(this,arguments);};}());}}]);return Dr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Dr,"observedAttributes",["enabled"]);customElements.define("bx-textpathcontext",Dr);var zr=Math.abs,Or=Symbol();var Er=/*#__PURE__*/function(_HTMLElement56){_inherits(Er,_HTMLElement56);var _super60=_createSuper(Er);_createClass(Er,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Er(){var _this204;_classCallCheck(this,Er);_this204=_super60.call(this),_this204.En=!1;return _this204;}_createClass(Er,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this.Pn=Ti(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this205=this;this.Pn.style.cursor=null,this.Pn.workspaces.addEventListener("contextmenu",this.Dn=function(t){_this205.zn(t);}),this.Pn.workspaces.addEventListener("pointerdown",this.On=function(t){_this205.kn(t);});}},{key:"sn",value:function sn(){this.Pn.workspaces.removeEventListener("contextmenu",this.Dn),this.Pn.workspaces.removeEventListener("pointerdown",this.On);}},{key:"zn",value:function zn(t){var e=this.Pn.getHitWorkspaceElements(t.clientX,t.clientY);if(e.length>0){var _t538=e[e.length-1],_i412=this.In(_t538),_s259=this.Pn.selectedElements.includes(_t538);var _iterator270=_createForOfIteratorHelper(_i412),_step270;try{for(_iterator270.s();!(_step270=_iterator270.n()).done;){var _t539=_step270.value;this.Pn.selectedElements.includes(_t539)&&(_s259=!0);}}catch(err){_iterator270.e(err);}finally{_iterator270.f();}!1===_s259&&this.An(_t538);}else this.$n(t);}},{key:"kn",value:function kn(t){var _this206=this;if(1!==t.buttons||!1===t.isPrimary||this.Qs.pointers.length>1)return;var _e408,_i413,s=t.target,n=new DOMPoint(t.clientX,t.clientY),o=n,l="touch"===t.pointerType?9:3;this.En=!1,window.addEventListener("pointermove",_e408=function e(i){if(i.pointerId!==t.pointerId||_this206.Qs.pointers.length>1)return;var s=new DOMPoint(i.clientX,i.clientY),h=i.timeStamp-t.timeStamp,a=Pe(n,s)>l||h>80,r=!1===_e(o,s,0);if(o=s,!0===a&&!0===r){window.removeEventListener("pointermove",_e408),_this206.En=!0;var _s260=new q(i.clientX-t.clientX,i.clientY-t.clientY),_n187=zr(_s260.x)>zr(_s260.y)?"horizontal":"vertical";_this206.Fo(t,i,_n187);}}),window.addEventListener("pointerup",_i413=function i(o){if(o.pointerId!==t.pointerId)return;window.removeEventListener("pointermove",_e408),window.removeEventListener("pointerup",_i413);var h=new DOMPoint(o.clientX,o.clientY);Pe(n,h)<l&&_this206.Cn(s,o);});}},{key:"Fo",value:function Fo(t,e,i){var s=this.Pn.getHitWorkspaceElements(e.clientX,e.clientY);s.length>0?this.Uo(e,s[s.length-1],i):this.No(t);}},{key:"Vo",value:function Vo(t){var e=t.querySelector("textPath"),i=null;return e&&e.hasAttribute("href")&&(i=this.Pn.workspaces.querySelector(e.href.baseVal)),i;}},{key:"Uo",value:function Uo(t,e,i){var _this207=this;var s=this.Js.board;s.undoManager.checkpoint("Move");{var _t540=this.In(e),_i414=!1;s.outermostSelectedElements.includes(e)&&(_i414=!0);var _iterator271=_createForOfIteratorHelper(_t540),_step271;try{for(_iterator271.s();!(_step271=_iterator271.n()).done;){var _e409=_step271.value;s.outermostSelectedElements.includes(_e409)&&(_i414=!0);}}catch(err){_iterator271.e(err);}finally{_iterator271.f();}if(!_i414)if(s.transformHud.mode="scale",0===_t540.length)s.currentContainer=null,s.selectedElements=[e];else{var _t541=this.jo(e,s.currentContainer);for(;e.parentNode!==_t541&&e.parentNode!==s.currentWorkspace;){e=e.parentNode;}s.currentContainer=_t541,s.selectedElements=[e];}}this.Qs.modKeys.alt&&(this.Pn.insertArtwork(this.Pn.extractArtworkWithSelectedElements(),"original"),e=this.Pn.selectedElements[0]);{var _e410,_n189,_o153=[];var _iterator272=_createForOfIteratorHelper(s.outermostSelectedElements),_step272;try{for(_iterator272.s();!(_step272=_iterator272.n()).done;){var _t546=_step272.value;if("text"===_t546.localName){var _e414=this.Vo(_t546);if(_e414&&s.outermostSelectedElements.includes(_e414))continue;}var _e413=Vt(_t546),_i417=_e413.inverse(),_n190=Ut(_t546).multiplySelf(_i417);_t546[Or]={clientToUserTransform:_e413,initialClientTransform:_n190},_o153.push(_t546);}}catch(err){_iterator272.e(err);}finally{_iterator272.f();}this.style.cursor="move",this.setPointerCapture(t.pointerId),s.snapManager.snapStart(),this.addEventListener("pointermove",_e410=function _e410(e){if(e.pointerId!==t.pointerId)return;var n=e.clientX-t.clientX,l=e.clientY-t.clientY,h=_this207.Qs.modKeys.shift;h&&("vertical"===i?n=0:"horizontal"===i&&(l=0));var _iterator273=_createForOfIteratorHelper(_o153),_step273;try{for(_iterator273.s();!(_step273=_iterator273.n()).done;){var _t544=_step273.value;var _t544$Or=_t544[Or],_e412=_t544$Or.clientToUserTransform,_i416=_t544$Or.initialClientTransform,_s262=DOMMatrix.fromMatrix(_i416);_s262.translateSelf(n,l),_s262.multiplySelf(_e412),_t544.setAttribute("transform",_s262.toString());}}catch(err){_iterator273.e(err);}finally{_iterator273.f();}if(s.showManualGuides||s.showSmartGuides||s.showGrid){var _t542=_o153.map(function(t){return Ci(t);}),_e411=Ue(_t542),_i415=s.snapManager.snapBBox(_e411);if(!1===function(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return null!==i?X(t.x,i)===X(e.x,i)&&X(t.y,i)===X(e.y,i)&&X(t.width,i)===X(e.width,i)&&X(t.height,i)===X(e.height,i):t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.neight;}(_e411,_i415)){var _iterator274=_createForOfIteratorHelper(_o153),_step274;try{for(_iterator274.s();!(_step274=_iterator274.n()).done;){var _t543=_step274.value;var _t543$Or=_t543[Or],_s261=_t543$Or.clientToUserTransform,_o154=_t543$Or.initialClientTransform,_h106=_i415.x-_e411.x,_a91=_i415.y-_e411.y,_r48=DOMMatrix.fromMatrix(_o154);_r48.translateSelf(n+_h106,l+_a91),_r48.multiplySelf(_s261),_t543.setAttribute("transform",_r48.toString());}}catch(err){_iterator274.e(err);}finally{_iterator274.f();}}}}),this.addEventListener("lostpointercapture",_n189=function _n188(){_this207.removeEventListener("pointermove",_e410),_this207.removeEventListener("lostpointercapture",_n189),_this207.style.cursor=null,s.snapManager.snapEnd();var _iterator275=_createForOfIteratorHelper(s.outermostSelectedObjectElements),_step275;try{for(_iterator275.s();!(_step275=_iterator275.n()).done;){var _t545=_step275.value;uh(_t545,{geometryPrecision:s.geometryPrecision,transformPrecision:s.transformPrecision});}}catch(err){_iterator275.e(err);}finally{_iterator275.f();}});}}},{key:"No",value:function(){var _No=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee86(t){var _this208=this;var e,i,s,n,o,l,h,_t547,_iterator276,_step276,_e415,_i418,_t548,_s263,_l137,_iterator278,_step278,_t550,_e417,_i419,_iterator279,_step279,_t551,_iterator281,_step281,_t553,_e419,_iterator282,_step282,_i420;return regeneratorRuntime.wrap(function _callee86$(_context87){while(1){switch(_context87.prev=_context87.next){case 0:e=t.clientX,i=t.clientY,s=this.Qs.getConfig("bx-transformsettings:selectionShape","rect"),n=this.Qs.getConfig("bx-transformsettings:selectionMode","contain"),o=this.Pn.currentContainer||this.Pn.currentWorkspace,l=Vt(this.Pn.currentWorkspace).inverse(),h=[];if(!("rect-contain"===n&&(n="contain"),this.Qs.modKeys.ctrl&&("polygon"===s?s="rect":"rect"===s&&(s="polygon")),"rect"===s)){_context87.next=9;break;}_context87.next=4;return this.Pn.rubberBandHud.grabSelection(e,i);case 4:_t547=_context87.sent;_iterator276=_createForOfIteratorHelper(o.children);try{for(_iterator276.s();!(_step276=_iterator276.n()).done;){_e415=_step276.value;if([].concat(m,["svg","g","a","use"]).includes(_e415.localName)){_i418=Fe(Ci(_e415),l);!1===(0===_i418.width&&0===_i418.height)&&("contain"===n?Ve(_t547,_i418)&&h.push(_e415):"intersect"===n&&je(_t547,_i418)&&h.push(_e415));}}}catch(err){_iterator276.e(err);}finally{_iterator276.f();}_context87.next=100;break;case 9:if(!("polygon"===s)){_context87.next=100;break;}_context87.next=12;return this.Pn.rubberBandHud.grabSelection(e,i,"polygon");case 12:_t548=_context87.sent;_s263=$i(_toConsumableArray(o.children));_l137=[];if(!("contain"===n)){_context87.next=60;break;}_l137=function(t,e){var i=[];var _iterator277=_createForOfIteratorHelper(e),_step277;try{for(_iterator277.s();!(_step277=_iterator277.n()).done;){var _s264=_step277.value;var _e416=null;if(x.includes(_s264.localName))_e416=_s264.getPathData({normalize:!0});else if(["image","text","use"].includes(_s264.localName)){var _t549=_i(_s264);_e416=[{type:"M",values:[_t549.x,_t549.y]},{type:"L",values:[_t549.x+_t549.width,_t549.y]},{type:"L",values:[_t549.x+_t549.width,_t549.y+_t549.height]},{type:"L",values:[_t549.x,_t549.y+_t549.height]}];}if(_e416){var _n191=Nt(_s264,_s264.closest("g#vector-canvas"));!1===_n191.isIdentity&&(_e416=ee(_e416,_n191));var _o155=new paper.Path(_toConsumableArray(t)),_l138=Mt(tt(_e416));_o155.closePath(),_l138.closePath(),0===_l138.subtract(_o155).length&&i.push(_s264);}}}catch(err){_iterator277.e(err);}finally{_iterator277.f();}return i;}(_t548,_s263);_iterator278=_createForOfIteratorHelper(o.children);_context87.prev=18;_iterator278.s();case 20:if((_step278=_iterator278.n()).done){_context87.next=50;break;}_t550=_step278.value;if(!("g"===_t550.localName||"a"===_t550.localName)){_context87.next=47;break;}_e417=$i(_toConsumableArray(_t550.children));if(!(_e417.length>0)){_context87.next=45;break;}_i419=!0;_iterator279=_createForOfIteratorHelper(_e417);_context87.prev=27;_iterator279.s();case 29:if((_step279=_iterator279.n()).done){_context87.next=36;break;}_t551=_step279.value;if(!(!1===_l137.includes(_t551))){_context87.next=34;break;}_i419=!1;return _context87.abrupt("break",36);case 34:_context87.next=29;break;case 36:_context87.next=41;break;case 38:_context87.prev=38;_context87.t0=_context87["catch"](27);_iterator279.e(_context87.t0);case 41:_context87.prev=41;_iterator279.f();return _context87.finish(41);case 44:_i419&&h.push(_t550);case 45:_context87.next=48;break;case 47:m.includes(_t550.localName)&&_l137.includes(_t550)&&h.push(_t550);case 48:_context87.next=20;break;case 50:_context87.next=55;break;case 52:_context87.prev=52;_context87.t1=_context87["catch"](18);_iterator278.e(_context87.t1);case 55:_context87.prev=55;_iterator278.f();return _context87.finish(55);case 58:_context87.next=100;break;case 60:if(!("intersect"===n)){_context87.next=100;break;}_l137=function(t,e){var i=[];var _iterator280=_createForOfIteratorHelper(e),_step280;try{for(_iterator280.s();!(_step280=_iterator280.n()).done;){var _s265=_step280.value;var _e418=null;if(x.includes(_s265.localName))_e418=_s265.getPathData({normalize:!0});else if(["image","text","use"].includes(_s265.localName)){var _t552=_i(_s265);_e418=[{type:"M",values:[_t552.x,_t552.y]},{type:"L",values:[_t552.x+_t552.width,_t552.y]},{type:"L",values:[_t552.x+_t552.width,_t552.y+_t552.height]},{type:"L",values:[_t552.x,_t552.y+_t552.height]}];}if(_e418){var _n192=Nt(_s265,_s265.closest("g#vector-canvas"));!1===_n192.isIdentity&&(_e418=ee(_e418,_n192));var _o156=new paper.Path(_toConsumableArray(t)),_l139=Mt(tt(_e418));_o156.closePath(),_l139.closePath(),_o156.intersect(_l139).length>0&&i.push(_s265);}}}catch(err){_iterator280.e(err);}finally{_iterator280.f();}return i;}(_t548,_s263);_iterator281=_createForOfIteratorHelper(o.children);_context87.prev=63;_iterator281.s();case 65:if((_step281=_iterator281.n()).done){_context87.next=92;break;}_t553=_step281.value;if(!("g"===_t553.localName||"a"===_t553.localName)){_context87.next=89;break;}_e419=$i(_toConsumableArray(_t553.children));_iterator282=_createForOfIteratorHelper(_e419);_context87.prev=70;_iterator282.s();case 72:if((_step282=_iterator282.n()).done){_context87.next=79;break;}_i420=_step282.value;if(!_l137.includes(_i420)){_context87.next=77;break;}h.push(_t553);return _context87.abrupt("break",79);case 77:_context87.next=72;break;case 79:_context87.next=84;break;case 81:_context87.prev=81;_context87.t2=_context87["catch"](70);_iterator282.e(_context87.t2);case 84:_context87.prev=84;_iterator282.f();return _context87.finish(84);case 87:_context87.next=90;break;case 89:m.includes(_t553.localName)&&_l137.includes(_t553)&&h.push(_t553);case 90:_context87.next=65;break;case 92:_context87.next=97;break;case 94:_context87.prev=94;_context87.t3=_context87["catch"](63);_iterator281.e(_context87.t3);case 97:_context87.prev=97;_iterator281.f();return _context87.finish(97);case 100:this.Qs.modKeys.shift?(h=h.filter(function(t){var _iterator283=_createForOfIteratorHelper(_this208.Pn.selectedElements),_step283;try{for(_iterator283.s();!(_step283=_iterator283.n()).done;){var _e420=_step283.value;if(_e420===t||_e420.contains(t))return!1;}}catch(err){_iterator283.e(err);}finally{_iterator283.f();}return!0;}),this.Pn.selectedElements=[].concat(_toConsumableArray(this.Pn.selectedElements),_toConsumableArray(h))):this.Pn.selectedElements=_toConsumableArray(h);case 101:case"end":return _context87.stop();}}},_callee86,this,[[18,52,55,58],[27,38,41,44],[63,94,97,100],[70,81,84,87]]);}));function No(_x90){return _No.apply(this,arguments);}return No;}()},{key:"Cn",value:function Cn(t,e){if(0!==e.button||this.En)return;var i=this.Pn["#transform-hud"],s=this.Pn.getHitWorkspaceElements(e.clientX,e.clientY);if(s.length>0){var _t554=s[s.length-1];if(this.Qs.pointerClickCount%2==1)this.Pn.isSelectableElement(_t554)&&this.An(_t554);else if(this.Qs.pointerClickCount%2==0){var _e421=this.Ho(_t554);if(_e421)this.Pn.currentContainer=_e421,this.Pn.selectedElements=[];else if("use"===_t554.localName){var _e422=_t554.href.baseVal.trim(),_s266=null;if(_e422.length>1&&(_s266=this.Pn.workspaces.querySelector("#"+CSS.escape(_e422.substring(1)))),_s266&&"symbol"===_s266.localName){var _t555=_s266;this.Pn.editSymbol(_t555.id);}else i.mode="scale",this.Js.toggleTool("edit-tool");}else"text"===_t554.localName?(i.mode="scale",this.Js.toggleTool("text-tool")):(i.mode="scale",this.Js.toggleTool("edit-tool"));}}else this.$n(e);}},{key:"An",value:function An(t){var e=this.Js.board,_this$Qs$modKeys3=this.Qs.modKeys,i=_this$Qs$modKeys3.ctrl,s=_this$Qs$modKeys3.alt,n=_this$Qs$modKeys3.shift,o=this.In(t),l=e.selectedElements.includes(t);var _iterator284=_createForOfIteratorHelper(o),_step284;try{for(_iterator284.s();!(_step284=_iterator284.n()).done;){var _t557=_step284.value;e.selectedElements.includes(_t557)&&(l=!0);}}catch(err){_iterator284.e(err);}finally{_iterator284.f();}if(i||n){if(!i&&n){if(0===o.length)e.currentContainer=null,e.selectedElements.includes(t)?e.selectedElements=e.selectedElements.filter(function(e){return e!==t;}):e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[t]);else if(e.currentContainer&&e.currentContainer.contains(t)){for(;t.parentNode!==e.currentContainer;){t=t.parentNode;}e.selectedElements.includes(t)?e.selectedElements=e.selectedElements.filter(function(e){return e!==t;}):e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[t]);}else{var _i421=this.jo(t,e.currentContainer);for(;t.parentNode!==_i421&&t.parentNode!==e.currentWorkspace;){t=t.parentNode;}e.currentContainer=_i421,e.selectedElements.includes(t)?e.selectedElements=e.selectedElements.filter(function(e){return e!==t;}):e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[t]);}}else if(i&&!n){var _i422=null;for(var _s267=t.parentElement;_s267!==e.currentWorkspace;_s267=_s267.parentElement){if("g"===_s267.localName||"a"===_s267.localName){_i422=_s267;break;}}e.currentContainer=_i422,e.selectedElements=[t];}else if(i&&n){var _i423=e.currentContainer,_s268=e.selectedElements;if(_s268=_s268.includes(t)?_s268.filter(function(e){return e!==t;}):[].concat(_toConsumableArray(_s268),[t]),0===_s268.length)_i423=null;else for(var _t556=_s268[0].parentElement;_t556!==e.currentWorkspace;_t556=_t556.parentElement){if("g"===_t556.localName||"a"===_t556.localName){_i423=_t556;break;}}e.currentContainer=_i423,e.selectedElements=_s268;}}else if(l)"scale"===e.transformHud.mode?e.transformHud.mode="rotate-and-skew":e.transformHud.mode="scale";else if(e.transformHud.mode="scale",0===o.length)e.currentContainer=null,e.selectedElements=[t];else{var _i424=e.currentContainer;if(_i424&&_i424.contains(t)){for(;t.parentNode!==_i424;){t=t.parentNode;}e.selectedElements=[t];}else{var _s269=this.jo(t,_i424);for(;t.parentNode!==_s269&&t.parentNode!==e.currentWorkspace;){t=t.parentNode;}e.currentContainer=_s269,e.selectedElements=[t];}}}},{key:"$n",value:function $n(t){if(0!==t.button)return;var _this$Qs$modKeys4=this.Qs.modKeys,e=_this$Qs$modKeys4.ctrl,i=_this$Qs$modKeys4.shift;e||i||(2===this.Qs.pointerClickCount&&(this.Pn.currentContainer=null),this.Pn.selectedElements=[]);}},{key:"In",value:function In(t){var e=[];if(t!==this.Pn.currentWorkspace)for(;t.parentElement&&t.parentElement!==this.Pn.currentWorkspace;){t=t.parentElement,["g","a"].includes(t.localName)&&e.unshift(t);}return e;}},{key:"Ho",value:function Ho(t){var e=[];for(var _i425=t.parentElement;_i425!==this.Pn.currentWorkspace&&_i425!==this.Pn.currentContainer;_i425=_i425.parentElement){"g"!==_i425.localName&&"a"!==_i425.localName||e.push(_i425);}return e.length>0?e[e.length-1]:null;}},{key:"jo",value:function jo(t,e){var i=Ii(t,e);if(i)for(;!1===["g","a"].includes(i.localName);){i=i.parentNode;}return i;}}]);return Er;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Er,"observedAttributes",["enabled"]);customElements.define("bx-transformselectcontext",Er);var Tr=Math.abs,Ar=Math.min;var $r=/*#__PURE__*/function(_HTMLElement57){_inherits($r,_HTMLElement57);var _super61=_createSuper($r);function $r(){_classCallCheck(this,$r);return _super61.apply(this,arguments);}_createClass($r,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this209=this;var t=this.Js.board;t.style.cursor="crosshair",t.workspaces.addEventListener("pointerdown",this.yn=function(t){_this209.kn(t);});}},{key:"sn",value:function sn(){this.Js.board.workspaces.removeEventListener("pointerdown",this.yn);}},{key:"kn",value:function kn(t){var _this210=this;var _e423,_i426,s=new DOMPoint(t.clientX,t.clientY);window.addEventListener("pointermove",_e423=function e(i){var n=new DOMPoint(i.clientX,i.clientY);Pe(s,n)>=3&&(window.removeEventListener("pointermove",_e423),_this210.ro(t,i));}),window.addEventListener("click",_i426=function i(t){window.removeEventListener("pointermove",_e423),window.removeEventListener("click",_i426);});}},{key:"ro",value:function ro(t){var _this211=this;var e,_i427,s=this.Js.board,n=s.geometryPrecision,o=Vt(s.currentWorkspace).inverse();s.undoManager.checkpoint("Draw view"),s.snapManager.snapStart(!1);var l=s.maybeCreateDefsForCurrentWorkspace(),h=null;!1===s.currentWorkspace.hasAttribute("viewBox")?s.selectedElements=[]:(h=Di("svg:view"),h.id=s.generateUniqueID("view",null,1),h.innerHTML="<bx-title>View ".concat(h.id.substring(h.id.indexOf("-")+1),"</bx-title>"),l.append(h),s.selectedElements=[h]);var a=new DOMPoint(t.clientX,t.clientY);a=s.snapManager.snapPoint(a),a=a.matrixTransform(o),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=s.snapManager.snapPoint(e),e=e.matrixTransform(o);var i=e.x-a.x||1,l=e.y-a.y||1,r=Tr(i)||1,d=Tr(l)||1;if(_this211.Qs.modKeys.shift){var _t558=Ar(r,d);r=_t558,d=_t558;}var c=i<0?a.x-r:a.x,p=l<0?a.y-d:a.y;c=X(c,n),p=X(p,n),r=X(r,n),d=X(d,n),h?h.setAttribute("viewBox","".concat(c," ").concat(p," ").concat(r," ").concat(d)):s.currentWorkspace.setAttribute("viewBox","".concat(c," ").concat(p," ").concat(r," ").concat(d));}),window.addEventListener("pointerup",_i427=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i427),s.snapManager.snapEnd();});}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return $r;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty($r,"observedAttributes",["enabled"]);customElements.define("bx-viewcontext",$r);var Ir=Math.min,Lr=Symbol();var Br={id:"rect-hud",createdCallback:function createdCallback(){this.Yo=!1,this.Wo=[],this.qo=null,this.Xo=qi(this.Zo,200,this),this.innerHTML='\n  <style>\n    #rect-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie" data-corner="1"></circle>\n      <circle class="grippie" data-corner="2"></circle>\n      <circle class="grippie" data-corner="3"></circle>\n      <circle class="grippie" data-corner="4"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator285=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step285;try{for(_iterator285.s();!(_step285=_iterator285.n()).done;){var _t559=_step285.value;this["#"+_t559.getAttribute("uid")]=_t559;}}catch(err){_iterator285.e(err);}finally{_iterator285.f();}},enabledCallback:function enabledCallback(){var _this212=this;this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this212.Qo();}),this.Qo();},disabledCallback:function disabledCallback(){this.Yo&&this.Jo(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Ko);},tl:function tl(){var _this213=this;this.Yo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this213.el();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this213.il(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this213.wo(t);});},Jo:function Jo(){this.qo&&this.qo.dispatchEvent(new CustomEvent("lostpointercapture")),this.Yo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Qo:function Qo(){this.qo||(this.Wo=this.sl(),0===this.Wo.length?!0===this.Yo&&this.Jo():(!1===this.Yo&&this.tl(),this.nl()));},il:function il(t){t.attributeName;this.qo?this.Zo():this.Xo();},el:function el(){this.ol();},wo:function wo(t){1===t.buttons&&t.target.matches(".grippie")&&this.ll(t);},ll:function ll(t){var _this214=this;var e,_i431,s,n,o=this.Pn,l=t.target,h=l.parentElement,a=h[Lr],r=l.getAttribute("data-corner"),d=Vt(a).inverse(),c=o.geometryPrecision,p=new DOMPoint(t.clientX,t.clientY).matrixTransform(d),u=new DOMPoint(p.x,p.y),x="normal",b=!1,m=function m(t){var e,i,s,n,o,l,h,a,r,d,c,p;if("rect"===t.localName){var _u24=t.hasAttribute("rx")?t.rx.baseVal.value:t.ry.baseVal.value,_x91=t.hasAttribute("ry")?t.ry.baseVal.value:t.rx.baseVal.value;e=t.x.baseVal.value,i=t.y.baseVal.value,s=t.width.baseVal.value,n=t.height.baseVal.value,o=_u24,l=_u24,h=_u24,a=_u24,r=_x91,d=_x91,c=_x91,p=_x91;}else if("path"===t.localName){var _u25=pl(t).values;e=_u25[0],i=_u25[1],s=_u25[2],n=_u25[3],o=_u25[4],l=_u25[5],h=_u25[6],a=_u25[7],r=void 0===_u25[8]?o:_u25[8],d=void 0===_u25[9]?l:_u25[9],c=void 0===_u25[10]?h:_u25[10],p=void 0===_u25[11]?a:_u25[11];}return[e,i,s,n,o,l,h,a,r,d,c,p];},g=function g(){var _this214$Qs$modKeys=_this214.Qs.modKeys,t=_this214$Qs$modKeys.ctrl,e=_this214$Qs$modKeys.shift;if(!0===t&&!1===e)x="normal";else if(!1===t&&!0===e)x="symmetric-1234";else if(!0===t&&!0===e)x="symmetric-1234";else{var _t560,_e424,_m22=m(a),_m23=_slicedToArray(_m22,12),_i428=_m23[0],_s270=_m23[1],_n193=_m23[2],_o157=_m23[3],_l140=_m23[4],_h107=_m23[5],_d35=_m23[6],_c31=_m23[7],_p28=_m23[8],_u26=_m23[9],_b23=_m23[10],_g19=_m23[11],_f15=[];if("1"===r&&(_t560=_l140,_e424=_p28),"2"===r&&(_t560=_h107,_e424=_u26),"3"===r&&(_t560=_d35,_e424=_b23),"4"===r&&(_t560=_c31,_e424=_g19),_l140===_t560&&_p28===_e424&&_f15.push("1"),_h107===_t560&&_u26===_e424&&_f15.push("2"),_d35===_t560&&_b23===_e424&&_f15.push("3"),_c31===_t560&&_g19===_e424&&_f15.push("4"),1===_f15.length)x="normal";else{x="symmetric-";var _iterator286=_createForOfIteratorHelper(_f15),_step286;try{for(_iterator286.s();!(_step286=_iterator286.n()).done;){var _t561=_step286.value;x+=_t561;}}catch(err){_iterator286.e(err);}finally{_iterator286.f();}}}},f=function f(){var t=u.x-p.x,e=(u.y,p.y,0),_m24=m(a),_m25=_slicedToArray(_m24,12),i=_m25[0],s=_m25[1],l=_m25[2],d=_m25[3],b=_m25[4],g=_m25[5],f=_m25[6],w=_m25[7],v=_m25[8],y=_m25[9],k=_m25[10],S=_m25[11];if("1"===r?e=n[4]+t:"2"===r?e=n[5]-t:"3"===r?e=n[6]-t:"4"===r&&(e=n[7]+t),e=Z(e,0,Ir(l/2,d/2),c),"normal"===x?"1"===r?(b=e,v=e):"2"===r?(g=e,y=e):"3"===r?(f=e,k=e):"4"===r&&(w=e,S=e):(x.includes("1")&&(b=e,v=e),x.includes("2")&&(g=e,y=e),x.includes("3")&&(f=e,k=e),x.includes("4")&&(w=e,S=e)),b===g&&b===f&&b===w&&v===y&&v===k&&v===S){if("path"===a.localName){var _t563=a,_e426=Di("svg:rect");var _iterator287=_createForOfIteratorHelper(_t563.attributes),_step287;try{for(_iterator287.s();!(_step287=_iterator287.n()).done;){var _i429=_step287.value;"d"!==_i429.name&&"data-bx-shape"!==_i429.name&&_e426.setAttribute(_i429.name,_i429.value);}}catch(err){_iterator287.e(err);}finally{_iterator287.f();}_e426.setAttribute("x",i),_e426.setAttribute("y",s),_e426.setAttribute("width",l),_e426.setAttribute("height",d),_e426.innerHTML=_t563.innerHTML,_t563.replaceWith(_e426),a=_e426,h[Lr]=_e426,o.selectedElements=o.selectedElements.map(function(i){return i===_t563?_e426:i;});}var _t562=X(b,c),_e425=X(g,c);0===_t562?a.removeAttribute("rx"):a.setAttribute("rx",_t562),0===_e425?a.removeAttribute("ry"):a.setAttribute("ry",_e425);}else{if("rect"===a.localName){var _t565=a,_e427=Di("svg:path");var _iterator288=_createForOfIteratorHelper(_t565.attributes),_step288;try{for(_iterator288.s();!(_step288=_iterator288.n()).done;){var _i430=_step288.value;!1===["x","y","width","height","rx","ry"].includes(_i430.name)&&_e427.setAttribute(_i430.name,_i430.value);}}catch(err){_iterator288.e(err);}finally{_iterator288.f();}_e427.innerHTML=_t565.innerHTML,_t565.replaceWith(_e427),a=_e427,h[Lr]=_e427,o.selectedElements=o.selectedElements.map(function(i){return i===_t565?_e427:i;});}var _t564;if(b===v&&g===y&&f===k&&w&&S){_t564=[i,s,l,d,b,g,f,w];}else _t564=[i,s,l,d,b,g,f,w,v,y,k,S];_t564=_t564.map(function(t){return X(t,c);}),ul(a,{type:"rect",values:_t564},c);}};l.parentElement.append(l),l.setPointerCapture(t.pointerId),this.qo=l,n=m(a),l.addEventListener("pointermove",e=function e(t){b||(b=!0,o.undoManager.checkpoint("Edit rectangle")),u=new DOMPoint(t.clientX,t.clientY).matrixTransform(d),f();}),l.addEventListener("lostpointercapture",_i431=function i(){l.removeEventListener("pointermove",e),l.removeEventListener("lostpointercapture",_i431),_this214.Qs.removeEventListener("modkeyschange",s),_this214.qo=null;}),this.Qs.addEventListener("modkeyschange",s=function s(){g(),f();}),g();},nl:function nl(){this["#subhuds"].innerHTML="";var _iterator289=_createForOfIteratorHelper(this.Wo),_step289;try{for(_iterator289.s();!(_step289=_iterator289.n()).done;){var _t566=_step289.value;var _e428=this["#subhud-template"].cloneNode(!0);_e428.removeAttribute("uid"),_e428[Lr]=_t566,this["#subhuds"].append(_e428);}}catch(err){_iterator289.e(err);}finally{_iterator289.f();}this.Zo(),this.ol();},Zo:function Zo(){var _iterator290=_createForOfIteratorHelper(this["#subhuds"].children),_step290;try{for(_iterator290.s();!(_step290=_iterator290.n()).done;){var _t567=_step290.value;var _e429=void 0,_i432=void 0,_s271=void 0,_n194=void 0,_o158=void 0,_l141=void 0,_h108=void 0,_a92=void 0,_r49=_t567[Lr],_d36=Nt(_r49,this);if("rect"===_r49.localName)_e429=_r49.x.baseVal.value,_i432=_r49.y.baseVal.value,_s271=_r49.width.baseVal.value,_n194=_r49.height.baseVal.value,_o158=_r49.rx.baseVal.value,_l141=_r49.rx.baseVal.value,_h108=_r49.rx.baseVal.value,_a92=_r49.rx.baseVal.value;else if("path"===_r49.localName){var _t568=pl(_r49);_e429=_t568.values[0],_i432=_t568.values[1],_s271=_t568.values[2],_n194=_t568.values[3],_o158=_t568.values[4],_l141=_t568.values[5],_h108=_t568.values[6],_a92=_t568.values[7];}var _iterator291=_createForOfIteratorHelper(_t567.children),_step291;try{for(_iterator291.s();!(_step291=_iterator291.n()).done;){var _r50=_step291.value;var _t569=void 0,_c32=_r50.getAttribute("data-corner");"1"===_c32&&(_t569=new DOMPoint(_e429+_o158,_i432)),"2"===_c32?_t569=new DOMPoint(_e429+_s271-_l141,_i432):"3"===_c32?_t569=new DOMPoint(_e429+_s271-_h108,_i432+_n194):"4"===_c32&&(_t569=new DOMPoint(_e429+_a92,_i432+_n194));var _p29=_t569.matrixTransform(_d36);_r50.setAttribute("cx",_p29.x),_r50.setAttribute("cy",_p29.y);}}catch(err){_iterator291.e(err);}finally{_iterator291.f();}}}catch(err){_iterator290.e(err);}finally{_iterator290.f();}},ol:function ol(){var _iterator292=_createForOfIteratorHelper(this["#subhuds"].children),_step292;try{for(_iterator292.s();!(_step292=_iterator292.n()).done;){var _t570=_step292.value;var _iterator293=_createForOfIteratorHelper(_t570.children),_step293;try{for(_iterator293.s();!(_step293=_iterator293.n()).done;){var _e430=_step293.value;_e430.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator293.e(err);}finally{_iterator293.f();}}}catch(err){_iterator292.e(err);}finally{_iterator292.f();}},sl:function sl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator294=_createForOfIteratorHelper(t),_step294;try{for(_iterator294.s();!(_step294=_iterator294.n()).done;){var _i433=_step294.value;"path"===_i433.localName?_i433.hasAttribute("data-bx-shape")&&_i433.getAttribute("data-bx-shape").startsWith("rect")&&e.push(_i433):"rect"===_i433.localName?e.push(_i433):["g","a"].includes(_i433.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.sl(_i433.children))));}}catch(err){_iterator294.e(err);}finally{_iterator294.f();}return e;}};var Rr=Symbol(),Gr=6;var Fr={id:"circle-hud",createdCallback:function createdCallback(){this.Yo=!1,this.hl=[],this.qo=null,this.Xo=qi(this.Zo,200,this),this.innerHTML='\n  <style>\n    #circle-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie" fill="none"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator295=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step295;try{for(_iterator295.s();!(_step295=_iterator295.n()).done;){var _t571=_step295.value;this["#"+_t571.getAttribute("uid")]=_t571;}}catch(err){_iterator295.e(err);}finally{_iterator295.f();}},enabledCallback:function enabledCallback(){var _this215=this;this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this215.Qo();}),this.Qo();},disabledCallback:function disabledCallback(){this.Yo&&this.Jo(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Ko);},tl:function tl(){var _this216=this;this.Yo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this216.el();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this216.il(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this216.wo(t);});},Jo:function Jo(){this.Yo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Qo:function Qo(){this.hl=this.al(),0===this.hl.length?this.Yo&&this.Jo():(this.Yo||this.tl(),this.nl());},il:function il(t){t.attributeName;this.qo?this.Zo():this.Xo();},el:function el(){this.ol();},wo:function wo(t){t.target.classList.contains("grippie")&&this.ll(t);},ll:function ll(t){var _this217=this;if(0!==t.button)return;var e,_i434,s=t.target,n=s.parentElement[Rr],o=Vt(n).inverse(),l=n.r.baseVal.value,h=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),a=this.Pn.geometryPrecision,r=new DOMPoint(h.x,h.y),d=!1;s.parentElement.append(s),this.qo=s,window.addEventListener("pointermove",e=function e(t){d||(d=!0,_this217.Pn.undoManager.checkpoint("Circle radius")),r=new DOMPoint(t.clientX,t.clientY).matrixTransform(o);var e=r.x-h.x,i=Z(l+e,0,Infinity,a);n.setAttribute("r",i);}),window.addEventListener("pointerup",_i434=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i434),_this217.qo=null;});},nl:function nl(){this["#subhuds"].innerHTML="";var _iterator296=_createForOfIteratorHelper(this.hl),_step296;try{for(_iterator296.s();!(_step296=_iterator296.n()).done;){var _t572=_step296.value;var _e431=this["#subhud-template"].cloneNode(!0);_e431.removeAttribute("uid"),_e431[Rr]=_t572,this["#subhuds"].append(_e431);}}catch(err){_iterator296.e(err);}finally{_iterator296.f();}this.Zo(),this.ol();},Zo:function Zo(){var _iterator297=_createForOfIteratorHelper(this["#subhuds"].children),_step297;try{for(_iterator297.s();!(_step297=_iterator297.n()).done;){var _t573=_step297.value;var _e432=_t573[Rr],_i435=Nt(_e432,this),_s272=_t573.children[0],_n195=new DOMPoint(_e432.cx.baseVal.value+_e432.r.baseVal.value,_e432.cy.baseVal.value);_n195=_n195.matrixTransform(_i435),_s272.setAttribute("cx",_n195.x),_s272.setAttribute("cy",_n195.y);}}catch(err){_iterator297.e(err);}finally{_iterator297.f();}},ol:function ol(){var _iterator298=_createForOfIteratorHelper(this["#subhuds"].children),_step298;try{for(_iterator298.s();!(_step298=_iterator298.n()).done;){var _t574=_step298.value;var _iterator299=_createForOfIteratorHelper(_t574.children),_step299;try{for(_iterator299.s();!(_step299=_iterator299.n()).done;){var _e433=_step299.value;_e433.setAttribute("r",Gr/this.Pn.scale);}}catch(err){_iterator299.e(err);}finally{_iterator299.f();}}}catch(err){_iterator298.e(err);}finally{_iterator298.f();}},al:function al(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator300=_createForOfIteratorHelper(t),_step300;try{for(_iterator300.s();!(_step300=_iterator300.n()).done;){var _i436=_step300.value;"circle"===_i436.localName?e.push(_i436):["g","a"].includes(_i436.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.al(_i436.children))));}}catch(err){_iterator300.e(err);}finally{_iterator300.f();}return e;}};var Ur=Symbol(),Nr=6;var Vr={id:"ellipse-hud",createdCallback:function createdCallback(){this.Yo=!1,this.rl=[],this.qo=null,this.Xo=qi(this.Zo,200,this),this.innerHTML='\n  <style>\n    #ellipse-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie" data-axis="rx" fill="none"></circle>\n      <circle class="grippie" data-axis="ry" fill="none"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator301=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step301;try{for(_iterator301.s();!(_step301=_iterator301.n()).done;){var _t575=_step301.value;this["#"+_t575.getAttribute("uid")]=_t575;}}catch(err){_iterator301.e(err);}finally{_iterator301.f();}},enabledCallback:function enabledCallback(){var _this218=this;this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this218.Qo();}),this.Qo();},disabledCallback:function disabledCallback(){this.Yo&&this.Jo(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Ko);},tl:function tl(){var _this219=this;this.Yo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this219.el();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this219.il(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this219.wo(t);});},Jo:function Jo(){this.Yo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Qo:function Qo(){this.rl=this.dl(),0===this.rl.length?this.Yo&&this.Jo():(this.Yo||this.tl(),this.nl());},il:function il(t){t.attributeName;this.qo?this.Zo():this.Xo();},el:function el(){this.ol();},wo:function wo(t){1===t.buttons&&t.target.classList.contains("grippie")&&this.ll(t);},ll:function ll(t){var _this220=this;var e,_i437,s,n=t.target,o=n.parentElement[Ur],l=n.getAttribute("data-axis"),h=Vt(o).inverse(),a=o.rx.baseVal.value,r=o.ry.baseVal.value,d=new DOMPoint(t.clientX,t.clientY).matrixTransform(h),c=this.Pn.geometryPrecision,p=new DOMPoint(d.x,d.y),u="normal",x=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.qo=n;var b=function b(){var _this220$Qs$modKeys=_this220.Qs.modKeys,t=_this220$Qs$modKeys.ctrl,e=_this220$Qs$modKeys.shift;!0===t&&!1===e?u="normal":(!1===t&&!0===e||!0===t&&!0===e||o.rx.baseVal.value===o.ry.baseVal.value)&&(u="symmetric");},m=function m(){var t=p.x-d.x,e=p.y-d.y;if("rx"===l){if("normal"===u){var _e434=Z(a+t,0,Infinity,c);o.setAttribute("rx",_e434);}else if("symmetric"===u){var _e435=Z(a+t,0,Infinity,c);o.setAttribute("rx",_e435),o.setAttribute("ry",_e435);}}else if("ry"===l)if("normal"===u){var _t576=Z(r+e,0,Infinity,c);o.setAttribute("ry",_t576);}else if("symmetric"===u){var _t577=Z(r+e,0,Infinity,c);o.setAttribute("rx",_t577),o.setAttribute("ry",_t577);}};n.addEventListener("pointermove",e=function e(t){x||(x=!0,_this220.Pn.undoManager.checkpoint("Edit ellipse")),p=new DOMPoint(t.clientX,t.clientY).matrixTransform(h),m();}),n.addEventListener("lostpointercapture",_i437=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i437),_this220.Qs.removeEventListener("modkeyschange",s),_this220.qo=null;}),this.Qs.addEventListener("modkeyschange",s=function s(){b(),m();}),b();},nl:function nl(){this["#subhuds"].innerHTML="";var _iterator302=_createForOfIteratorHelper(this.rl),_step302;try{for(_iterator302.s();!(_step302=_iterator302.n()).done;){var _t578=_step302.value;var _e436=this["#subhud-template"].cloneNode(!0);_e436.removeAttribute("uid"),_e436[Ur]=_t578,this["#subhuds"].append(_e436);}}catch(err){_iterator302.e(err);}finally{_iterator302.f();}this.Zo(),this.ol();},Zo:function Zo(){var _iterator303=_createForOfIteratorHelper(this["#subhuds"].children),_step303;try{for(_iterator303.s();!(_step303=_iterator303.n()).done;){var _t579=_step303.value;var _e437=_t579[Ur],_i438=Nt(_e437,this);var _iterator304=_createForOfIteratorHelper(_t579.children),_step304;try{for(_iterator304.s();!(_step304=_iterator304.n()).done;){var _s273=_step304.value;var _t580=_s273.getAttribute("data-axis");if("rx"===_t580){var _t581=new DOMPoint(_e437.cx.baseVal.value+_e437.rx.baseVal.value,_e437.cy.baseVal.value).matrixTransform(_i438);_s273.setAttribute("cx",_t581.x),_s273.setAttribute("cy",_t581.y);}else if("ry"===_t580){var _t582=new DOMPoint(_e437.cx.baseVal.value,_e437.cy.baseVal.value+_e437.ry.baseVal.value).matrixTransform(_i438);_s273.setAttribute("cx",_t582.x),_s273.setAttribute("cy",_t582.y);}}}catch(err){_iterator304.e(err);}finally{_iterator304.f();}}}catch(err){_iterator303.e(err);}finally{_iterator303.f();}},ol:function ol(){var _iterator305=_createForOfIteratorHelper(this["#subhuds"].children),_step305;try{for(_iterator305.s();!(_step305=_iterator305.n()).done;){var _t583=_step305.value;var _iterator306=_createForOfIteratorHelper(_t583.children),_step306;try{for(_iterator306.s();!(_step306=_iterator306.n()).done;){var _e438=_step306.value;_e438.setAttribute("r",Nr/this.Pn.scale);}}catch(err){_iterator306.e(err);}finally{_iterator306.f();}}}catch(err){_iterator305.e(err);}finally{_iterator305.f();}},dl:function dl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator307=_createForOfIteratorHelper(t),_step307;try{for(_iterator307.s();!(_step307=_iterator307.n()).done;){var _i439=_step307.value;"ellipse"===_i439.localName?e.push(_i439):["g","a"].includes(_i439.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.dl(_i439.children))));}}catch(err){_iterator307.e(err);}finally{_iterator307.f();}return e;}};var jr=Math.min,Hr=Math.max,Yr=Symbol();var Wr={id:"ring-hud",createdCallback:function createdCallback(){this.Yo=!1,this.cl=[],this.qo=null,this.Xo=qi(this.Zo,200,this),this.innerHTML='\n  <style>\n    #ring-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie" data-axis="r1x"></circle>\n      <circle class="grippie" data-axis="r1y"></circle>\n      <circle class="grippie" data-axis="r2x"></circle>\n      <circle class="grippie" data-axis="r2y"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator308=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step308;try{for(_iterator308.s();!(_step308=_iterator308.n()).done;){var _t584=_step308.value;this["#"+_t584.getAttribute("uid")]=_t584;}}catch(err){_iterator308.e(err);}finally{_iterator308.f();}},enabledCallback:function enabledCallback(){var _this221=this;this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this221.Qo();}),this.Qo();},disabledCallback:function disabledCallback(){this.Yo&&this.Jo(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Ko);},tl:function tl(){var _this222=this;this.Yo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this222.el();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this222.il(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this222.wo(t);});},Jo:function Jo(){this.Yo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Qo:function Qo(){this.cl=this.pl(),0===this.cl.length?this.Yo&&this.Jo():(this.Yo||this.tl(),this.nl());},il:function il(t){t.attributeName;this.qo?this.Zo():this.Xo();},el:function el(){this.ol();},wo:function wo(t){1===t.buttons&&t.target.classList.contains("grippie")&&this.ll(t);},ll:function ll(t){var _this223=this;var e,_i448,s,n=t.target,o=n.parentElement[Yr],l=Vt(o).inverse(),h=new DOMPoint(t.clientX,t.clientY).matrixTransform(l),a=n.getAttribute("data-axis"),r=new DOMPoint(h.x,h.y),d="normal",c=!1,_pl$values9=_slicedToArray(pl(o).values,6),p=_pl$values9[0],u=_pl$values9[1],x=_pl$values9[2],b=_pl$values9[3],m=_pl$values9[4],g=_pl$values9[5],f=x,w=b,v=m,y=g;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.qo=n;var k=function k(){var _this223$Qs$modKeys=_this223.Qs.modKeys,t=_this223$Qs$modKeys.ctrl,e=_this223$Qs$modKeys.shift;!0===t&&!1===e?d="normal":!1===t&&!0===e?d="symmetric":!0===t&&!0===e?d="double-symmetric":(("r1x"===a&&x===b||"r1y"===a&&x===b)&&(d="symmetric"),("r2x"===a&&m===g||"r2y"===a&&m===g)&&(d="symmetric"));},S=function S(){var t=r.x-h.x,e=r.y-h.y;if("r1x"===a){if("normal"===d){x=Z(f+t,1,m-1);}else if("symmetric"===d){var _e439=1,_i440=jr(m,g)-1,_s274=Z(f+t,_e439,_i440);x=b=_s274;}else if("double-symmetric"===d){var _e440=m-x,_i441=Z(f+t,1,Infinity);x=b=_i441,m=g=_i441+_e440;}}else if("r1y"===a){if("normal"===d){b=Z(w+e,1,g-1);}else if("symmetric"===d){var _t585=1,_i442=jr(m,g)-1,_s275=Z(w+e,_t585,_i442);x=b=_s275;}else if("double-symmetric"===d){var _t586=g-b,_i443=Z(w+e,1,Infinity);x=b=_i443,m=g=_i443+_t586;}}else if("r2x"===a){if("normal"===d){m=Z(v+t,x+1,Infinity);}else if("symmetric"===d){var _e441=Hr(x,b)+1,_i444=Z(v+t,_e441,Infinity);m=g=_i444;}else if("double-symmetric"===d){var _e442=m-x,_i445=Z(v+t,_e442+1,Infinity);x=b=_i445-_e442,m=g=_i445;}}else if("r2y"===a)if("normal"===d){g=Z(y+e,b+1,Infinity);}else if("symmetric"===d){var _t587=Hr(x,b)+1,_i446=Z(y+e,_t587,Infinity);m=g=_i446;}else if("double-symmetric"===d){var _t588=g-b,_i447=Z(y+e,_t588+1,r2max);x=b=_i447-_t588,m=g=_i447;}var i=[p,u,x,b,m,g];i=i.map(function(t){return X(t,_this223.Pn.geometryPrecision);}),ul(o,{type:"ring",values:i},_this223.Pn.geometryPrecision);};n.addEventListener("pointermove",e=function e(t){c||(_this223.Pn.undoManager.checkpoint("Ring radius"),c=!0),r=new DOMPoint(t.clientX,t.clientY).matrixTransform(l),S();}),n.addEventListener("lostpointercapture",_i448=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i448),_this223.Qs.removeEventListener("modkeyschange",s),_this223.qo=null;}),this.Qs.addEventListener("modkeyschange",s=function s(){k(),S();}),k();},nl:function nl(){this["#subhuds"].innerHTML="";var _iterator309=_createForOfIteratorHelper(this.cl),_step309;try{for(_iterator309.s();!(_step309=_iterator309.n()).done;){var _t589=_step309.value;var _e443=this["#subhud-template"].cloneNode(!0);_e443.removeAttribute("uid"),_e443[Yr]=_t589,this["#subhuds"].append(_e443);}}catch(err){_iterator309.e(err);}finally{_iterator309.f();}this.Zo(),this.ol();},Zo:function Zo(){var _iterator310=_createForOfIteratorHelper(this["#subhuds"].children),_step310;try{for(_iterator310.s();!(_step310=_iterator310.n()).done;){var _t590=_step310.value;var _e444=_t590[Yr],_i449=Nt(_e444,this),_pl$values10=_slicedToArray(pl(_e444).values,6),_s276=_pl$values10[0],_n196=_pl$values10[1],_o159=_pl$values10[2],_l142=_pl$values10[3],_h109=_pl$values10[4],_a93=_pl$values10[5];var _iterator311=_createForOfIteratorHelper(_t590.children),_step311;try{for(_iterator311.s();!(_step311=_iterator311.n()).done;){var _e445=_step311.value;var _t591=_e445.getAttribute("data-axis");if("r1x"===_t591){var _t592=new DOMPoint(_s276+_o159,_n196).matrixTransform(_i449);_e445.setAttribute("cx",_t592.x),_e445.setAttribute("cy",_t592.y);}else if("r1y"===_t591){var _t593=new DOMPoint(_s276,_n196+_l142).matrixTransform(_i449);_e445.setAttribute("cx",_t593.x),_e445.setAttribute("cy",_t593.y);}else if("r2x"===_t591){var _t594=new DOMPoint(_s276+_h109,_n196).matrixTransform(_i449);_e445.setAttribute("cx",_t594.x),_e445.setAttribute("cy",_t594.y);}else if("r2y"===_t591){var _t595=new DOMPoint(_s276,_n196+_a93).matrixTransform(_i449);_e445.setAttribute("cx",_t595.x),_e445.setAttribute("cy",_t595.y);}}}catch(err){_iterator311.e(err);}finally{_iterator311.f();}}}catch(err){_iterator310.e(err);}finally{_iterator310.f();}},ol:function ol(){var _iterator312=_createForOfIteratorHelper(this["#subhuds"].children),_step312;try{for(_iterator312.s();!(_step312=_iterator312.n()).done;){var _t596=_step312.value;var _iterator313=_createForOfIteratorHelper(_t596.children),_step313;try{for(_iterator313.s();!(_step313=_iterator313.n()).done;){var _e446=_step313.value;_e446.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator313.e(err);}finally{_iterator313.f();}}}catch(err){_iterator312.e(err);}finally{_iterator312.f();}},pl:function pl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator314=_createForOfIteratorHelper(t),_step314;try{for(_iterator314.s();!(_step314=_iterator314.n()).done;){var _i450=_step314.value;"path"===_i450.localName?_i450.hasAttribute("data-bx-shape")&&_i450.getAttribute("data-bx-shape").startsWith("ring")&&e.push(_i450):["g","a"].includes(_i450.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.pl(_i450.children))));}}catch(err){_iterator314.e(err);}finally{_iterator314.f();}return e;}};var qr=Number.MAX_SAFE_INTEGER,Xr=Symbol();var Zr={id:"pie-hud",createdCallback:function createdCallback(){this.Yo=!1,this.cl=[],this.qo=null,this.Xo=qi(this.Zo,200,this),this.innerHTML='\n  <style>\n    #pie-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #pie-hud .start-angle-grippie,\n    #pie-hud .end-angle-grippie {\n      fill: #C3C303;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie r-grippie r1-grippie"></circle>\n      <circle class="grippie r-grippie r2-grippie"></circle>\n      <circle class="grippie angle-grippie start-angle-grippie"></circle>\n      <circle class="grippie angle-grippie end-angle-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator315=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step315;try{for(_iterator315.s();!(_step315=_iterator315.n()).done;){var _t597=_step315.value;this["#"+_t597.getAttribute("uid")]=_t597;}}catch(err){_iterator315.e(err);}finally{_iterator315.f();}},enabledCallback:function enabledCallback(){var _this224=this;this.Pn=Ti(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this224.Qo();}),this.Qo();},disabledCallback:function disabledCallback(){this.Yo&&this.Jo(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Ko);},tl:function tl(){var _this225=this;this.Yo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this225.el();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this225.il(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this225.wo(t);});},Jo:function Jo(){this.Yo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Qo:function Qo(){this.ul=this.xl(),0===this.ul.length?this.Yo&&this.Jo():(this.Yo||this.tl(),this.nl());},il:function il(t){t.attributeName;this.qo?this.Zo():this.Xo();},el:function el(){this.ol();},wo:function wo(t){1===t.buttons&&(t.target.matches(".r-grippie")?this.bl(t):t.target.matches(".angle-grippie")&&this.ml(t));},bl:function bl(t){var _this226=this;var e,_i451,s,n=this.Pn,o=t.target,l=o.parentElement[Xr],_pl$values11=_slicedToArray(pl(l).values,6),h=_pl$values11[0],a=_pl$values11[1],r=_pl$values11[2],d=_pl$values11[3],c=_pl$values11[4],p=_pl$values11[5],u=!1,x=Vt(l).inverse(),b=Nt(l,n.vectorCanvas).inverse(),m=new DOMPoint(t.clientX,t.clientY).matrixTransform(x),g=new DOMPoint(h,a),f=new DOMPoint(o.cx.baseVal.value,o.cy.baseVal.value).matrixTransform(b),w=new q(m,f),v=g;{var _t598=(c+p)/2;c>p&&(_t598-=180);var _e447=new DOMMatrix();_e447.translateSelf(h,a),_e447.rotateSelf(_t598),_e447.translateSelf(-h,-a),s=new DOMPoint(h,a-qr).matrixTransform(_e447);}o.parentElement.append(o),o.setPointerCapture(t.pointerId),this.qo=o,o.addEventListener("pointermove",e=function e(t){!1===u&&(u=!0,n.undoManager.checkpoint("Pie radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(x),i=w.transformPoint(e),_ze5=ze(v,s,i,!1),_ze6=_slicedToArray(_ze5,1),b=_ze6[0],m=Pe(g,b);o.matches(".r1-grippie")?r=m>d-1?d-1:m:o.matches(".r2-grippie")&&(d=m<r+1?r+1:m),ul(l,{type:"pie",values:[h,a,r,d,c,p]},n.geometryPrecision);}),o.addEventListener("lostpointercapture",_i451=function i(){o.removeEventListener("pointermove",e),o.removeEventListener("lostpointercapture",_i451),_this226.qo=null;});},ml:function ml(t){var _this227=this;var e,_i452,s=t.target,n=s.parentElement[Xr],o=Vt(n).inverse(),l=this.Pn.geometryPrecision,_pl$values12=_slicedToArray(pl(n).values,6),h=_pl$values12[0],a=_pl$values12[1],r=_pl$values12[2],d=_pl$values12[3],c=_pl$values12[4],p=_pl$values12[5],u=c,x=p,b=new DOMPoint(h,a),m=new DOMPoint(b.x,b.y-100),g=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.qo=s,s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=$e(b,m,e);i=_this227.gl(i),s.matches(".start-angle-grippie")?c=i:p=i,!1!==g||c===u&&p===x||(_this227.Pn.undoManager.checkpoint("Pie start angle"),g=!0),ul(n,{type:"pie",values:[h,a,r,d,c,p]},l);}),s.addEventListener("lostpointercapture",_i452=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i452),_this227.qo=null;});},nl:function nl(){this["#subhuds"].innerHTML="";var _iterator316=_createForOfIteratorHelper(this.ul),_step316;try{for(_iterator316.s();!(_step316=_iterator316.n()).done;){var _t599=_step316.value;var _e448=this["#subhud-template"].cloneNode(!0);_e448.removeAttribute("uid"),_e448[Xr]=_t599,this["#subhuds"].append(_e448);}}catch(err){_iterator316.e(err);}finally{_iterator316.f();}this.Zo(),this.ol();},Zo:function Zo(){var _iterator317=_createForOfIteratorHelper(this["#subhuds"].children),_step317;try{for(_iterator317.s();!(_step317=_iterator317.n()).done;){var _t600=_step317.value;var _e449=_t600[Xr],_i453=Nt(_e449,this.Pn.vectorCanvas),_pl$values13=_slicedToArray(pl(_e449).values,6),_s277=_pl$values13[0],_n197=_pl$values13[1],_o160=_pl$values13[2],_l143=_pl$values13[3],_h110=_pl$values13[4],_a94=_pl$values13[5];var _iterator318=_createForOfIteratorHelper(_t600.children),_step318;try{for(_iterator318.s();!(_step318=_iterator318.n()).done;){var _e450=_step318.value;if(_e450.matches(".start-angle-grippie")){var _t601=new DOMMatrix();_t601.translateSelf(_s277,_n197),_t601.rotateSelf(_h110),_t601.translateSelf(-_s277,-_n197);var _a95=new DOMPoint(_s277,_n197-_o160+(_o160-_l143)/2);_a95=_a95.matrixTransform(_t601),_a95=_a95.matrixTransform(_i453),_e450.setAttribute("cx",_a95.x),_e450.setAttribute("cy",_a95.y);}else if(_e450.matches(".end-angle-grippie")){var _t602=new DOMMatrix();_t602.translateSelf(_s277,_n197),_t602.rotateSelf(_a94),_t602.translateSelf(-_s277,-_n197);var _h111=new DOMPoint(_s277,_n197-_o160+(_o160-_l143)/2);_h111=_h111.matrixTransform(_t602),_h111=_h111.matrixTransform(_i453),_e450.setAttribute("cx",_h111.x),_e450.setAttribute("cy",_h111.y);}else if(_e450.matches(".r1-grippie")){var _t603=(_h110+_a94)/2;_h110>_a94&&(_t603-=180);var _l144=new DOMMatrix();_l144.translateSelf(_s277,_n197),_l144.rotateSelf(_t603),_l144.translateSelf(-_s277,-_n197);var _r51=new DOMPoint(_s277,_n197-_o160);_r51=_r51.matrixTransform(_l144),_r51=_r51.matrixTransform(_i453),_e450.setAttribute("cx",_r51.x),_e450.setAttribute("cy",_r51.y);}else if(_e450.matches(".r2-grippie")){var _t604=(_h110+_a94)/2;_h110>_a94&&(_t604-=180);var _o161=new DOMMatrix();_o161.translateSelf(_s277,_n197),_o161.rotateSelf(_t604),_o161.translateSelf(-_s277,-_n197);var _r52=new DOMPoint(_s277,_n197-_l143);_r52=_r52.matrixTransform(_o161),_r52=_r52.matrixTransform(_i453),_e450.setAttribute("cx",_r52.x),_e450.setAttribute("cy",_r52.y);}}}catch(err){_iterator318.e(err);}finally{_iterator318.f();}}}catch(err){_iterator317.e(err);}finally{_iterator317.f();}},ol:function ol(){var _iterator319=_createForOfIteratorHelper(this["#subhuds"].children),_step319;try{for(_iterator319.s();!(_step319=_iterator319.n()).done;){var _t605=_step319.value;var _iterator320=_createForOfIteratorHelper(_t605.children),_step320;try{for(_iterator320.s();!(_step320=_iterator320.n()).done;){var _e451=_step320.value;_e451.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator320.e(err);}finally{_iterator320.f();}}}catch(err){_iterator319.e(err);}finally{_iterator319.f();}},xl:function xl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator321=_createForOfIteratorHelper(t),_step321;try{for(_iterator321.s();!(_step321=_iterator321.n()).done;){var _i454=_step321.value;"path"===_i454.localName?_i454.hasAttribute("data-bx-shape")&&_i454.getAttribute("data-bx-shape").startsWith("pie")&&e.push(_i454):["g","a"].includes(_i454.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.xl(_i454.children))));}}catch(err){_iterator321.e(err);}finally{_iterator321.f();}return e;},gl:function gl(t){for(;t<0;){t+=360;}for(;t>360;){t-=360;}return t;}};var Kr=Math.abs,Qr=Math.min,Jr=Math.max,td=Math.sin,ed=Math.cos,id=Symbol();var sd={id:"crescent-hud",createdCallback:function createdCallback(){this.Yo=!1,this.fl=[],this.qo=null,this.Xo=qi(this.Zo,200,this),this.innerHTML='\n  <style>\n    #crescent-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie arch-grippie"></circle>\n      <circle class="grippie hollow-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator322=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step322;try{for(_iterator322.s();!(_step322=_iterator322.n()).done;){var _t606=_step322.value;this["#"+_t606.getAttribute("uid")]=_t606;}}catch(err){_iterator322.e(err);}finally{_iterator322.f();}},enabledCallback:function enabledCallback(){var _this228=this;this.Pn=Ti(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this228.Qo();}),this.Qo();},disabledCallback:function disabledCallback(){this.Yo&&this.Jo(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Ko);},tl:function tl(){var _this229=this;this.Yo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this229.el();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this229.il(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this229.wo(t);});},Jo:function Jo(){this.Yo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Qo:function Qo(){this.fl=this.wl(),0===this.fl.length?this.Yo&&this.Jo():(this.Yo||this.tl(),this.nl());},il:function il(t){t.attributeName;this.qo?this.Zo():this.Xo();},el:function el(){this.ol();},wo:function wo(t){1===t.buttons&&(t.target.matches(".arch-grippie")?this.vl(t):t.target.matches(".hollow-grippie")&&this.yl(t));},vl:function vl(t){var _this230=this;var e,_i455,s=this.Pn,n=t.target,o=n.parentElement[id],_pl$values14=_slicedToArray(pl(o).values,5),l=_pl$values14[0],h=_pl$values14[1],a=_pl$values14[2],r=_pl$values14[3],d=_pl$values14[4],c=r,p=Vt(o).inverse(),u=Nt(o,s.vectorCanvas).inverse(),x=new DOMPoint(t.clientX,t.clientY).matrixTransform(p),b=new DOMPoint(n.cx.baseVal.value,n.cy.baseVal.value).matrixTransform(u),m=new DOMPoint(l,h),g=new DOMPoint(l+a,h),f=new q(x,b),w=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.qo=n,n.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(p),i=f.transformPoint(e),n=Ye(i,m,a),u=$e(m,n,g);r=u<0&&u>=-90?1:u<-90&&u>=-180?359:Z(Kr(2*u),1,359,0),!1===w&&r!==c&&(s.undoManager.checkpoint("Crescent arch"),w=!0),ul(o,{type:"crescent",values:[l,h,a,r,d]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i455=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i455),_this230.qo=null;});},yl:function yl(t){var _this231=this;var e,_i456,s=this.Pn,n=t.target,o=n.parentElement[id],_pl$values15=_slicedToArray(pl(o).values,5),l=_pl$values15[0],h=_pl$values15[1],a=_pl$values15[2],r=_pl$values15[3],d=_pl$values15[4],c=d,p=Vt(o).inverse(),u=Nt(o,s.vectorCanvas).inverse(),x=new DOMPoint(t.clientX,t.clientY).matrixTransform(p),b=new DOMPoint(n.cx.baseVal.value,n.cy.baseVal.value).matrixTransform(u),m=new DOMPoint(l-a,h),g=new DOMPoint(l+a,h),f=new q(x,b),w=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.qo=n,n.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(p),i=f.transformPoint(e),_ze7=ze(m,g,i,!1),_ze8=_slicedToArray(_ze7,1),n=_ze8[0];d=(n.x-m.x)/(2*a),d=Z(d,0,1,4),!1===w&&d!==c&&(s.undoManager.checkpoint("Crescent hollow"),w=!0),ul(o,{type:"crescent",values:[l,h,a,r,d]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i456=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i456),_this231.qo=null;});},nl:function nl(){this["#subhuds"].innerHTML="";var _iterator323=_createForOfIteratorHelper(this.fl),_step323;try{for(_iterator323.s();!(_step323=_iterator323.n()).done;){var _t607=_step323.value;var _e452=this["#subhud-template"].cloneNode(!0);_e452.removeAttribute("uid"),_e452[id]=_t607,this["#subhuds"].append(_e452);}}catch(err){_iterator323.e(err);}finally{_iterator323.f();}this.Zo(),this.ol();},Zo:function Zo(){var _iterator324=_createForOfIteratorHelper(this["#subhuds"].children),_step324;try{for(_iterator324.s();!(_step324=_iterator324.n()).done;){var _t608=_step324.value;var _e453=_t608[id],_i457=Nt(_e453,this.Pn.vectorCanvas),_pl$values16=_slicedToArray(pl(_e453).values,5),_s278=_pl$values16[0],_n198=_pl$values16[1],_o162=_pl$values16[2],_l145=_pl$values16[3],_h112=_pl$values16[4];var _iterator325=_createForOfIteratorHelper(_t608.children),_step325;try{for(_iterator325.s();!(_step325=_iterator325.n()).done;){var _e454=_step325.value;if(_e454.matches(".arch-grippie")){var _t609=Ie(90-_l145/2),_h113=Re(_t609),_a96=new DOMPoint(_s278+_o162*td(_h113),_n198+_o162*-ed(_h113));_a96=_a96.matrixTransform(_i457),_e454.setAttribute("cx",_a96.x),_e454.setAttribute("cy",_a96.y);}else if(_e454.matches(".hollow-grippie")){var _t610=new DOMPoint(_s278-_o162+2*_o162*_h112,_n198);_t610=_t610.matrixTransform(_i457),_e454.setAttribute("cx",_t610.x),_e454.setAttribute("cy",_t610.y);}}}catch(err){_iterator325.e(err);}finally{_iterator325.f();}}}catch(err){_iterator324.e(err);}finally{_iterator324.f();}},ol:function ol(){var _iterator326=_createForOfIteratorHelper(this["#subhuds"].children),_step326;try{for(_iterator326.s();!(_step326=_iterator326.n()).done;){var _t611=_step326.value;var _iterator327=_createForOfIteratorHelper(_t611.children),_step327;try{for(_iterator327.s();!(_step327=_iterator327.n()).done;){var _e455=_step327.value;_e455.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator327.e(err);}finally{_iterator327.f();}}}catch(err){_iterator326.e(err);}finally{_iterator326.f();}},wl:function wl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator328=_createForOfIteratorHelper(t),_step328;try{for(_iterator328.s();!(_step328=_iterator328.n()).done;){var _i458=_step328.value;"path"===_i458.localName?_i458.hasAttribute("data-bx-shape")&&_i458.getAttribute("data-bx-shape").startsWith("crescent")&&e.push(_i458):["g","a"].includes(_i458.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.wl(_i458.children))));}}catch(err){_iterator328.e(err);}finally{_iterator328.f();}return e;}};var nd=Math.abs,od=Symbol();var ld={id:"triangle-hud",createdCallback:function createdCallback(){this.Yo=!1,this.cl=[],this.qo=null,this.Xo=qi(this.Zo,200,this),this.innerHTML='\n  <style>\n    #triangle-hud .grippie {\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #triangle-hud .shift-grippie {\n      fill: #C3C303;\n    }\n    #triangle-hud .corner-grippie {\n      fill: #73BA09;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie shift-grippie"></circle>\n      <circle class="grippie corner-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator329=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step329;try{for(_iterator329.s();!(_step329=_iterator329.n()).done;){var _t612=_step329.value;this["#"+_t612.getAttribute("uid")]=_t612;}}catch(err){_iterator329.e(err);}finally{_iterator329.f();}},enabledCallback:function enabledCallback(){var _this232=this;this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this232.Qo();}),this.Qo();},disabledCallback:function disabledCallback(){this.Yo&&this.Jo(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Ko);},tl:function tl(){var _this233=this;this.Yo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this233.el();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this233.il(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this233.wo(t);});},Jo:function Jo(){this.Yo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Qo:function Qo(){this.kl=this.Sl(),0===this.kl.length?this.Yo&&this.Jo():(this.Yo||this.tl(),this.nl());},il:function il(t){t.attributeName;this.qo?this.Zo():this.Xo();},el:function el(){this.ol();},wo:function wo(t){1===t.buttons&&(t.target.matches(".shift-grippie")?this._l(t):t.target.matches(".corner-grippie")&&this.Cl(t));},_l:function _l(t){var _this234=this;var e,_i459,s=t.target,n=s.parentElement[od],o=Vt(n).inverse(),_pl$values17=_slicedToArray(pl(n).values,6),l=_pl$values17[0],h=_pl$values17[1],a=_pl$values17[2],r=_pl$values17[3],d=_pl$values17[4],c=_pl$values17[5],p=this.Pn.geometryPrecision,u=new DOMPoint(l,h),x=new DOMPoint(l+a,h),b=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),m=new DOMPoint(l+a*d,h),g=new q(m,b).getOppositeVector(),f=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.qo=s,s.addEventListener("pointermove",e=function e(t){!1===f&&(f=!0,_this234.Pn.undoManager.checkpoint("Triangle radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o);e=g.transformPoint(e);var _ze9=ze(u,x,e,!1),_ze10=_slicedToArray(_ze9,1),i=_ze10[0];d=(i.x-u.x)/a,d=Z(d,0,1,4),_this234.Qs.modKeys.shift&&(d=[0,.5,1].reduce(function(t,e){return nd(e-d)<nd(t-d)?e:t;}));var s=[l,h,a,r,d,c].map(function(t){return X(t,p);});ul(n,{type:"triangle",values:s},p);}),s.addEventListener("lostpointercapture",_i459=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i459),_this234.qo=null;});},Cl:function Cl(t){var _this235=this;var e,_i460,s=t.target,n=s.parentElement[od],o=(Ut(n),Vt(n).inverse()),_pl$values18=_slicedToArray(pl(n).values,6),l=_pl$values18[0],h=_pl$values18[1],a=_pl$values18[2],r=_pl$values18[3],d=_pl$values18[4],c=_pl$values18[5],p=this.Pn.geometryPrecision,u=new DOMPoint(l+a*d,h),x=new DOMPoint(l+a,h+r),b=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),m=new DOMPoint(b.x,b.y),g=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.qo=s,s.addEventListener("pointermove",e=function e(t){!1===g&&(g=!0,_this235.Pn.undoManager.checkpoint("Triangle radius"));var e=new DOMPoint(t.clientX,t.clientY);m=e.matrixTransform(o);var _ze11=ze(x,u,m,!1),_ze12=_slicedToArray(_ze11,1),i=_ze12[0],s=new q(x,i),c=new q(x,u),b=s.length/c.length,f=Z(b,0,.5,4),w=[l,h,a,r,d,f].map(function(t){return X(t,p);});ul(n,{type:"triangle",values:w},p);}),s.addEventListener("lostpointercapture",_i460=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i460),_this235.qo=null;});},nl:function nl(){this["#subhuds"].innerHTML="";var _iterator330=_createForOfIteratorHelper(this.kl),_step330;try{for(_iterator330.s();!(_step330=_iterator330.n()).done;){var _t613=_step330.value;var _e456=this["#subhud-template"].cloneNode(!0);_e456.removeAttribute("uid"),_e456[od]=_t613,this["#subhuds"].append(_e456);}}catch(err){_iterator330.e(err);}finally{_iterator330.f();}this.Zo(),this.ol();},Zo:function Zo(){var _iterator331=_createForOfIteratorHelper(this["#subhuds"].children),_step331;try{for(_iterator331.s();!(_step331=_iterator331.n()).done;){var _t614=_step331.value;var _e457=_t614[od],_i461=Nt(_e457,this),_pl$values19=_slicedToArray(pl(_e457).values,6),_s279=_pl$values19[0],_n199=_pl$values19[1],_o163=_pl$values19[2],_l146=_pl$values19[3],_h114=_pl$values19[4],_a97=_pl$values19[5];var _iterator332=_createForOfIteratorHelper(_t614.children),_step332;try{for(_iterator332.s();!(_step332=_iterator332.n()).done;){var _e458=_step332.value;if(_e458.matches(".shift-grippie")){var _t615=new DOMPoint(_s279+_o163*_h114,_n199).matrixTransform(_i461);_e458.setAttribute("cx",_t615.x),_e458.setAttribute("cy",_t615.y);}else if(_e458.matches(".corner-grippie")){var _t616=new DOMPoint(_s279+_o163*_h114,_n199).matrixTransform(_i461),_r53=new DOMPoint(_s279+_o163,_n199+_l146).matrixTransform(_i461),_d37=Oe(_r53,_t616,_a97);_e458.setAttribute("cx",_d37.x),_e458.setAttribute("cy",_d37.y);}}}catch(err){_iterator332.e(err);}finally{_iterator332.f();}}}catch(err){_iterator331.e(err);}finally{_iterator331.f();}},ol:function ol(){var _iterator333=_createForOfIteratorHelper(this["#subhuds"].children),_step333;try{for(_iterator333.s();!(_step333=_iterator333.n()).done;){var _t617=_step333.value;var _iterator334=_createForOfIteratorHelper(_t617.children),_step334;try{for(_iterator334.s();!(_step334=_iterator334.n()).done;){var _e459=_step334.value;_e459.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator334.e(err);}finally{_iterator334.f();}}}catch(err){_iterator333.e(err);}finally{_iterator333.f();}},Sl:function Sl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator335=_createForOfIteratorHelper(t),_step335;try{for(_iterator335.s();!(_step335=_iterator335.n()).done;){var _i462=_step335.value;"path"===_i462.localName?_i462.hasAttribute("data-bx-shape")&&_i462.getAttribute("data-bx-shape").startsWith("triangle")&&e.push(_i462):["g","a"].includes(_i462.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Sl(_i462.children))));}}catch(err){_iterator335.e(err);}finally{_iterator335.f();}return e;}};var hd=Symbol(),ad=6;var rd={id:"n-gon-hud",createdCallback:function createdCallback(){this.Yo=!1,this.cl=[],this.qo=null,this.Xo=qi(this.Zo,200,this),this.innerHTML='\n  <style>\n    #n-gon-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #n-gon-hud .grippie.r-grippie {\n      fill: red;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie arms-grippie"></circle>\n      <circle class="grippie corner-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator336=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step336;try{for(_iterator336.s();!(_step336=_iterator336.n()).done;){var _t618=_step336.value;this["#"+_t618.getAttribute("uid")]=_t618;}}catch(err){_iterator336.e(err);}finally{_iterator336.f();}},enabledCallback:function enabledCallback(){var _this236=this;this.Pn=Ti(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this236.Qo();}),this.Qo();},disabledCallback:function disabledCallback(){this.Yo&&this.Jo(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Ko);},tl:function tl(){var _this237=this;this.Yo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this237.el();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this237.il(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this237.wo(t);});},Jo:function Jo(){this.Yo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Qo:function Qo(){this.Ml=this.Pl(),0===this.Ml.length?this.Yo&&this.Jo():(this.Yo||this.tl(),this.nl());},il:function il(t){t.attributeName;this.qo?this.Zo():this.Xo();},el:function el(){this.ol();},wo:function wo(t){1===t.buttons&&(t.target.matches(".arms-grippie")?this.Dl(t):t.target.matches(".corner-grippie")&&this.Cl(t));},Dl:function Dl(t){var _this238=this;if(0!==t.button)return;var e,_i463,s=t.target,n=s.parentElement[hd],o=this.Pn.geometryPrecision,_pl$values20=_slicedToArray(pl(n).values,6),l=_pl$values20[0],h=_pl$values20[1],a=_pl$values20[2],r=_pl$values20[3],d=_pl$values20[4],c=_pl$values20[5],p=d,u=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.qo=s,s.addEventListener("pointermove",e=function e(_e460){var i=X((_e460.clientX-t.clientX)/10,0);d=p+i,d<5&&(d=5),!1===u&&d!==p&&(_this238.Pn.undoManager.checkpoint("Change number of n-gon arms"),u=!0),ul(n,{type:"n-gon",values:[l,h,a,r,d,c]},o);}),s.addEventListener("lostpointercapture",_i463=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i463),_this238.qo=null;});},Cl:function Cl(t){var _this239=this;if(0!==t.button)return;var e,_i464,s=t.target,n=s.parentElement[hd],o=(Ut(n),Vt(n).inverse()),l=this.Pn.geometryPrecision,_pl$values21=_slicedToArray(pl(n).values,6),h=_pl$values21[0],a=_pl$values21[1],r=_pl$values21[2],d=_pl$values21[3],c=_pl$values21[4],p=_pl$values21[5],u=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),x=new DOMPoint(u.x,u.y),b=Ml(0,h,a,r,d,c),m=Ml(1,h,a,r,d,c),g=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.qo=s,s.addEventListener("pointermove",e=function e(t){!1===g&&(g=!0,_this239.Pn.undoManager.checkpoint("N-gon radius"));var e=new DOMPoint(t.clientX,t.clientY);x=e.matrixTransform(o);var _ze13=ze(b,m,x,!1),_ze14=_slicedToArray(_ze13,1),i=_ze14[0],s=new q(b,i),p=new q(b,m),u=s.length/p.length,f=Z(u,0,.5,2);ul(n,{type:"n-gon",values:[h,a,r,d,c,f]},l);}),s.addEventListener("lostpointercapture",_i464=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i464),_this239.qo=null;});},nl:function nl(){this["#subhuds"].innerHTML="";var _iterator337=_createForOfIteratorHelper(this.Ml),_step337;try{for(_iterator337.s();!(_step337=_iterator337.n()).done;){var _t619=_step337.value;var _e461=this["#subhud-template"].cloneNode(!0);_e461.removeAttribute("uid"),_e461[hd]=_t619,this["#subhuds"].append(_e461);}}catch(err){_iterator337.e(err);}finally{_iterator337.f();}this.Zo(),this.ol();},Zo:function Zo(){var _iterator338=_createForOfIteratorHelper(this["#subhuds"].children),_step338;try{for(_iterator338.s();!(_step338=_iterator338.n()).done;){var _t620=_step338.value;var _e462=_t620[hd],_i465=Nt(_e462,this),_pl$values22=_slicedToArray(pl(_e462).values,6),_s280=_pl$values22[0],_n200=_pl$values22[1],_o164=_pl$values22[2],_l147=_pl$values22[3],_h115=_pl$values22[4],_a98=_pl$values22[5];var _iterator339=_createForOfIteratorHelper(_t620.children),_step339;try{for(_iterator339.s();!(_step339=_iterator339.n()).done;){var _e463=_step339.value;if(_e463.matches(".arms-grippie")){var _t621=new DOMPoint(_s280,_n200).matrixTransform(_i465);_e463.setAttribute("cx",_t621.x),_e463.setAttribute("cy",_t621.y);}else if(_e463.matches(".corner-grippie")){var _t622=Ml(0,_s280,_n200,_o164,_l147,_h115).matrixTransform(_i465),_r54=Ml(1,_s280,_n200,_o164,_l147,_h115).matrixTransform(_i465),_d38=Oe(_t622,_r54,_a98);_e463.setAttribute("cx",_d38.x),_e463.setAttribute("cy",_d38.y);}}}catch(err){_iterator339.e(err);}finally{_iterator339.f();}}}catch(err){_iterator338.e(err);}finally{_iterator338.f();}},ol:function ol(){var _iterator340=_createForOfIteratorHelper(this["#subhuds"].children),_step340;try{for(_iterator340.s();!(_step340=_iterator340.n()).done;){var _t623=_step340.value;var _iterator341=_createForOfIteratorHelper(_t623.children),_step341;try{for(_iterator341.s();!(_step341=_iterator341.n()).done;){var _e464=_step341.value;_e464.setAttribute("r",ad/this.Pn.scale);}}catch(err){_iterator341.e(err);}finally{_iterator341.f();}}}catch(err){_iterator340.e(err);}finally{_iterator340.f();}},Pl:function Pl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator342=_createForOfIteratorHelper(t),_step342;try{for(_iterator342.s();!(_step342=_iterator342.n()).done;){var _i466=_step342.value;"path"===_i466.localName?_i466.hasAttribute("data-bx-shape")&&_i466.getAttribute("data-bx-shape").startsWith("n-gon")&&e.push(_i466):["g","a"].includes(_i466.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Pl(_i466.children))));}}catch(err){_iterator342.e(err);}finally{_iterator342.f();}return e;}};var dd=Math.sin,cd=Math.cos,pd=Math.PI,ud=Symbol();var xd={id:"star-hud",createdCallback:function createdCallback(){this.Yo=!1,this.cl=[],this.qo=null,this.Xo=qi(this.Zo,200,this),this.innerHTML='\n  <style>\n    #star-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie arms-grippie"></circle>\n      <circle class="grippie depth-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator343=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step343;try{for(_iterator343.s();!(_step343=_iterator343.n()).done;){var _t624=_step343.value;this["#"+_t624.getAttribute("uid")]=_t624;}}catch(err){_iterator343.e(err);}finally{_iterator343.f();}},enabledCallback:function enabledCallback(){var _this240=this;this.Pn=Ti(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this240.Qo();}),this.Qo();},disabledCallback:function disabledCallback(){this.Yo&&this.Jo(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Ko);},tl:function tl(){var _this241=this;this.Yo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this241.el();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this241.il(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this241.wo(t);});},Jo:function Jo(){this.Yo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Qo:function Qo(){this.zl=this.Ol(),0===this.zl.length?this.Yo&&this.Jo():(this.Yo||this.tl(),this.nl());},il:function il(t){t.attributeName;this.qo?this.Zo():this.Xo();},el:function el(){this.ol();},wo:function wo(t){1===t.buttons&&(t.target.matches(".depth-grippie")?this.El(t):t.target.matches(".arms-grippie")&&this.Dl(t));},El:function El(t){var _this242=this;var e,_i467,s=t.target,n=s.parentElement[ud],o=Vt(n).inverse(),_pl$values23=_slicedToArray(pl(n).values,6),l=_pl$values23[0],h=_pl$values23[1],a=_pl$values23[2],r=_pl$values23[3],d=_pl$values23[4],c=_pl$values23[5],p=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),u=new DOMPoint(l,h),x=Pl(1,l,h,a,r,d,c),b=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.qo=s,s.addEventListener("pointermove",e=function e(t){!1===b&&(b=!0,_this242.Pn.undoManager.checkpoint("Inner star radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=new q(x,p).getOppositeVector().transformPoint(e),s=2*pd*(1/c/2)-pd/2,m=u,g=new DOMPoint(a*cd(s)+l,r*dd(s)+h),_ze15=ze(m,g,i,!1),_ze16=_slicedToArray(_ze15,1),f=_ze16[0];d=new q(m,f).length/new q(m,g).length,d=X(d,_this242.Pn.geometryPrecision),ul(n,{type:"star",values:[l,h,a,r,d,c]},_this242.Pn.geometryPrecision);}),s.addEventListener("lostpointercapture",_i467=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i467),_this242.qo=null;});},Dl:function Dl(t){var _this243=this;var e,_i468,s=t.target,n=s.parentElement[ud],_pl$values24=_slicedToArray(pl(n).values,6),o=_pl$values24[0],l=_pl$values24[1],h=_pl$values24[2],a=_pl$values24[3],r=_pl$values24[4],d=_pl$values24[5],c=d,p=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.qo=s,s.addEventListener("pointermove",e=function e(_e465){var i=X((_e465.clientX-t.clientX)/10,0);d=c+i,d<3&&(d=3),!1===p&&d!==c&&(_this243.Pn.undoManager.checkpoint("Change number of star arms"),p=!0),ul(n,{type:"star",values:[o,l,h,a,r,d]},_this243.Pn.geometryPrecision);}),s.addEventListener("lostpointercapture",_i468=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i468),_this243.qo=null;});},nl:function nl(){this["#subhuds"].innerHTML="";var _iterator344=_createForOfIteratorHelper(this.zl),_step344;try{for(_iterator344.s();!(_step344=_iterator344.n()).done;){var _t625=_step344.value;var _e466=this["#subhud-template"].cloneNode(!0);_e466.removeAttribute("uid"),_e466[ud]=_t625,this["#subhuds"].append(_e466);}}catch(err){_iterator344.e(err);}finally{_iterator344.f();}this.Zo(),this.ol();},Zo:function Zo(){var _iterator345=_createForOfIteratorHelper(this["#subhuds"].children),_step345;try{for(_iterator345.s();!(_step345=_iterator345.n()).done;){var _t626=_step345.value;var _e467=_t626[ud],_i469=Nt(_e467,this),_pl$values25=_slicedToArray(pl(_e467).values,6),_s281=_pl$values25[0],_n201=_pl$values25[1],_o165=_pl$values25[2],_l148=_pl$values25[3],_h116=_pl$values25[4],_a99=_pl$values25[5];var _iterator346=_createForOfIteratorHelper(_t626.children),_step346;try{for(_iterator346.s();!(_step346=_iterator346.n()).done;){var _e468=_step346.value;if(_e468.matches(".arms-grippie")){var _t627=new DOMPoint(_s281,_n201).matrixTransform(_i469);_e468.setAttribute("cx",_t627.x),_e468.setAttribute("cy",_t627.y);}else if(_e468.matches(".depth-grippie")){var _t628=Pl(1,_s281,_n201,_o165,_l148,_h116,_a99).matrixTransform(_i469);_e468.setAttribute("cx",_t628.x),_e468.setAttribute("cy",_t628.y);}}}catch(err){_iterator346.e(err);}finally{_iterator346.f();}}}catch(err){_iterator345.e(err);}finally{_iterator345.f();}},ol:function ol(){var _iterator347=_createForOfIteratorHelper(this["#subhuds"].children),_step347;try{for(_iterator347.s();!(_step347=_iterator347.n()).done;){var _t629=_step347.value;var _iterator348=_createForOfIteratorHelper(_t629.children),_step348;try{for(_iterator348.s();!(_step348=_iterator348.n()).done;){var _e469=_step348.value;_e469.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator348.e(err);}finally{_iterator348.f();}}}catch(err){_iterator347.e(err);}finally{_iterator347.f();}},Ol:function Ol(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator349=_createForOfIteratorHelper(t),_step349;try{for(_iterator349.s();!(_step349=_iterator349.n()).done;){var _i470=_step349.value;"path"===_i470.localName?_i470.hasAttribute("data-bx-shape")&&_i470.getAttribute("data-bx-shape").startsWith("star")&&e.push(_i470):["g","a"].includes(_i470.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Ol(_i470.children))));}}catch(err){_iterator349.e(err);}finally{_iterator349.f();}return e;}};var bd=Math.sin,md=Math.cos,gd=Math.tan,fd=Number.MAX_SAFE_INTEGER,wd=Symbol();var vd={id:"cog-hud",createdCallback:function createdCallback(){this.Yo=!1,this.cl=[],this.qo=null,this.Xo=qi(this.Zo,200,this),this.innerHTML='\n  <style>\n    #cog-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #cog-hud .splay-grippie {\n      fill: #C3C303;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie teeth-grippie"></circle>\n      <circle class="grippie splay-grippie"></circle>\n      <circle class="grippie r-grippie r1-grippie"></circle>\n      <circle class="grippie r-grippie r2-grippie"></circle>\n      <circle class="grippie r-grippie r3-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator350=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step350;try{for(_iterator350.s();!(_step350=_iterator350.n()).done;){var _t630=_step350.value;this["#"+_t630.getAttribute("uid")]=_t630;}}catch(err){_iterator350.e(err);}finally{_iterator350.f();}},enabledCallback:function enabledCallback(){var _this244=this;this.Pn=Ti(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this244.Qo();}),this.Qo();},disabledCallback:function disabledCallback(){this.Yo&&this.Jo(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Ko);},tl:function tl(){var _this245=this;this.Yo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this245.el();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this245.il(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this245.wo(t);});},Jo:function Jo(){this.Yo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Qo:function Qo(){this.Tl=this.Al(),0===this.Tl.length?this.Yo&&this.Jo():(this.Yo||this.tl(),this.nl());},il:function il(t){t.attributeName;this.qo?this.Zo():this.Xo();},el:function el(){this.ol();},wo:function wo(t){1===t.buttons&&(t.target.matches(".r1-grippie")?this.$l(t):t.target.matches(".r2-grippie")?this.Il(t):t.target.matches(".r3-grippie")?this.Ll(t):t.target.matches(".teeth-grippie")?this.Bl(t):t.target.matches(".splay-grippie")&&this.Rl(t));},$l:function $l(t){var _this246=this;var e,_i471,s=this.Pn,n=t.target,o=n.parentElement[wd],l=Vt(o).inverse(),_pl$values26=_slicedToArray(pl(o).values,7),h=_pl$values26[0],a=_pl$values26[1],r=_pl$values26[2],d=_pl$values26[3],c=_pl$values26[4],p=_pl$values26[5],u=_pl$values26[6],x=t.clientX,b=t.clientY,m=new DOMMatrix().translateSelf(h,a).rotateSelf(360/u/2).translateSelf(-h,-a),g=new DOMPoint(x,b).matrixTransform(l),f=new DOMPoint(h,a),w=new DOMPoint(h,a-r).matrixTransform(m),v=new q(g,w),y=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.qo=n;var k=f,S=new DOMPoint(h,a-fd).matrixTransform(m);n.addEventListener("pointermove",e=function e(t){!1===y&&(y=!0,s.undoManager.checkpoint("Inner cog radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);e=v.transformPoint(e);var _ze17=ze(k,S,e,!1),_ze18=_slicedToArray(_ze17,1),i=_ze18[0],n=Pe(f,i);ul(o,{type:"cog",values:[h,a,n,d,c,p,u]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i471=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i471),_this246.qo=null;});},Il:function Il(t){var _this247=this;var e,_i472,s=this.Pn,n=t.target,o=n.parentElement[wd],l=Vt(o).inverse(),_pl$values27=_slicedToArray(pl(o).values,7),h=_pl$values27[0],a=_pl$values27[1],r=_pl$values27[2],d=_pl$values27[3],c=_pl$values27[4],p=_pl$values27[5],u=_pl$values27[6],x=t.clientX,b=t.clientY,m=new DOMMatrix().translateSelf(h,a).rotateSelf(360/u/2).translateSelf(-h,-a),g=new DOMPoint(x,b).matrixTransform(l),f=new DOMPoint(h,a),w=new DOMPoint(h,a-d).matrixTransform(m),v=new q(g,w),y=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.qo=n;var k=f,S=new DOMPoint(h,a-fd).matrixTransform(m);n.addEventListener("pointermove",e=function e(t){!1===y&&(y=!0,s.undoManager.checkpoint("Inner cog radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);e=v.transformPoint(e);var _ze19=ze(k,S,e,!1),_ze20=_slicedToArray(_ze19,1),i=_ze20[0];d=Pe(f,i),ul(o,{type:"cog",values:[h,a,r,d,c,p,u]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i472=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i472),_this247.qo=null;});},Ll:function Ll(t){var _this248=this;var e,_i473,s=this.Pn,n=t.target,o=n.parentElement[wd],l=Vt(o).inverse(),_pl$values28=_slicedToArray(pl(o).values,7),h=_pl$values28[0],a=_pl$values28[1],r=_pl$values28[2],d=_pl$values28[3],c=_pl$values28[4],p=_pl$values28[5],u=_pl$values28[6],x=t.clientX,b=t.clientY,m=new DOMPoint(x,b).matrixTransform(l),g=new DOMPoint(h,a),f=new DOMPoint(h,a-c),w=new q(m,f),v=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.qo=n;var y=g,k=new DOMPoint(h,a-fd);n.addEventListener("pointermove",e=function e(t){!1===v&&(v=!0,s.undoManager.checkpoint("Inner cog radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);e=w.transformPoint(e);var _ze21=ze(y,k,e,!1),_ze22=_slicedToArray(_ze21,1),i=_ze22[0];c=Pe(g,i),ul(o,{type:"cog",values:[h,a,r,d,c,p,u]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i473=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i473),_this248.qo=null;});},Bl:function Bl(t){var _this249=this;var e,_i474,s=this.Pn,n=t.target,o=n.parentElement[wd],_pl$values29=_slicedToArray(pl(o).values,7),l=_pl$values29[0],h=_pl$values29[1],a=_pl$values29[2],r=_pl$values29[3],d=_pl$values29[4],c=_pl$values29[5],p=_pl$values29[6],u=p,x=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.qo=n,n.addEventListener("pointermove",e=function e(_e470){var i=X((_e470.clientX-t.clientX)/10,0);p=u+i,p<3&&(p=3),!1===x&&p!==u&&(s.undoManager.checkpoint("Change number of cog teeth"),x=!0),ul(o,{type:"cog",values:[l,h,a,r,d,c,p]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i474=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i474),_this249.qo=null;});},Rl:function Rl(t){var _this250=this;var e,_i475,s=this.Pn,n=t.target,o=n.parentElement[wd],_pl$values30=_slicedToArray(pl(o).values,7),l=_pl$values30[0],h=_pl$values30[1],a=_pl$values30[2],r=_pl$values30[3],d=_pl$values30[4],c=_pl$values30[5],p=_pl$values30[6],u=t.clientX,x=t.clientY,b=c,m=Vt(o).inverse(),g=!1,f=function f(t){var e=360/p,i=e/4,s=gd(Re(i-t*i))*d,n=Re(e-90);return new DOMPoint(l+d*md(n)-bd(n)*s,h+d*bd(n)+md(n)*s);},w=new DOMPoint(u,x).matrixTransform(m),v=f(b),y=new q(w,v),k=f(0),S=f(1);n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.qo=n,n.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(m),i=y.transformPoint(e),_ze23=ze(k,S,i,!1),_ze24=_slicedToArray(_ze23,1),n=_ze24[0],c=Pe(k,n)/Pe(k,S);c=Z(c,0,1,3),!1===g&&c!==b&&(s.undoManager.checkpoint("Cog splay"),g=!0),ul(o,{type:"cog",values:[l,h,a,r,d,c,p]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i475=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i475),_this250.qo=null;});},nl:function nl(){this["#subhuds"].innerHTML="";var _iterator351=_createForOfIteratorHelper(this.Tl),_step351;try{for(_iterator351.s();!(_step351=_iterator351.n()).done;){var _t631=_step351.value;var _e471=this["#subhud-template"].cloneNode(!0);_e471.removeAttribute("uid"),_e471[wd]=_t631,this["#subhuds"].append(_e471);}}catch(err){_iterator351.e(err);}finally{_iterator351.f();}this.Zo(),this.ol();},Zo:function Zo(){var _iterator352=_createForOfIteratorHelper(this["#subhuds"].children),_step352;try{for(_iterator352.s();!(_step352=_iterator352.n()).done;){var _t632=_step352.value;var _e472=_t632[wd],_i476=Nt(_e472,this.Pn.vectorCanvas),_pl$values31=_slicedToArray(pl(_e472).values,7),_s282=_pl$values31[0],_n202=_pl$values31[1],_o166=_pl$values31[2],_l149=_pl$values31[3],_h117=_pl$values31[4],_a100=_pl$values31[5],_r55=_pl$values31[6];var _iterator353=_createForOfIteratorHelper(_t632.children),_step353;try{for(_iterator353.s();!(_step353=_iterator353.n()).done;){var _e473=_step353.value;if(_e473.matches(".r1-grippie")){var _t633=new DOMMatrix();_t633.translateSelf(_s282,_n202),_t633.rotateSelf(360/_r55/2),_t633.translateSelf(-_s282,-_n202);var _l150=new DOMPoint(_s282,_n202-_o166);_l150=_l150.matrixTransform(_t633),_l150=_l150.matrixTransform(_i476),_e473.setAttribute("cx",_l150.x),_e473.setAttribute("cy",_l150.y);}else if(_e473.matches(".r2-grippie")){var _t634=new DOMMatrix();_t634.translateSelf(_s282,_n202),_t634.rotateSelf(360/_r55/2),_t634.translateSelf(-_s282,-_n202);var _o167=new DOMPoint(_s282,_n202-_l149);_o167=_o167.matrixTransform(_t634),_o167=_o167.matrixTransform(_i476),_e473.setAttribute("cx",_o167.x),_e473.setAttribute("cy",_o167.y);}else if(_e473.matches(".r3-grippie")){var _t635=new DOMPoint(_s282,_n202-_h117);_t635=_t635.matrixTransform(_i476),_e473.setAttribute("cx",_t635.x),_e473.setAttribute("cy",_t635.y);}else if(_e473.matches(".teeth-grippie")){var _t636=new DOMPoint(_s282,_n202).matrixTransform(_i476);_e473.setAttribute("cx",_t636.x),_e473.setAttribute("cy",_t636.y);}else if(_e473.matches(".splay-grippie")){var _t637=360/_r55,_o168=_t637/4,_l151=gd(Re(_o168-_a100*_o168))*_h117,_d39=Re(_t637-90),_c33=new DOMPoint(_s282+_h117*md(_d39)-bd(_d39)*_l151,_n202+_h117*bd(_d39)+md(_d39)*_l151);_c33=_c33.matrixTransform(_i476),_e473.setAttribute("cx",_c33.x),_e473.setAttribute("cy",_c33.y);}}}catch(err){_iterator353.e(err);}finally{_iterator353.f();}}}catch(err){_iterator352.e(err);}finally{_iterator352.f();}},ol:function ol(){var _iterator354=_createForOfIteratorHelper(this["#subhuds"].children),_step354;try{for(_iterator354.s();!(_step354=_iterator354.n()).done;){var _t638=_step354.value;var _iterator355=_createForOfIteratorHelper(_t638.children),_step355;try{for(_iterator355.s();!(_step355=_iterator355.n()).done;){var _e474=_step355.value;_e474.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator355.e(err);}finally{_iterator355.f();}}}catch(err){_iterator354.e(err);}finally{_iterator354.f();}},Al:function Al(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator356=_createForOfIteratorHelper(t),_step356;try{for(_iterator356.s();!(_step356=_iterator356.n()).done;){var _i477=_step356.value;"path"===_i477.localName?_i477.hasAttribute("data-bx-shape")&&_i477.getAttribute("data-bx-shape").startsWith("cog")&&e.push(_i477):["g","a"].includes(_i477.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Al(_i477.children))));}}catch(err){_iterator356.e(err);}finally{_iterator356.f();}return e;}};var yd=Symbol();var kd={id:"arrow-hud",createdCallback:function createdCallback(){this.Yo=!1,this.Gl=[],this.qo=null,this.Xo=qi(this.Zo,200,this),this.innerHTML='\n  <style>\n    #arrow-hud .grippie {\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #arrow-hud .start-grippie,\n    #arrow-hud .end-grippie {\n      fill: #C3C303;\n    }\n    #arrow-hud .base-thickness-grippie,\n    #arrow-hud .head-size-grippie,\n    #arrow-hud .head-inset-grippie {\n      fill: #73BA09;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie start-grippie"></circle>\n      <circle class="grippie end-grippie"></circle>\n      <circle class="grippie base-thickness-grippie"></circle>\n      <circle class="grippie head-size-grippie"></circle>\n      <circle class="grippie head-inset-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator357=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step357;try{for(_iterator357.s();!(_step357=_iterator357.n()).done;){var _t639=_step357.value;this["#"+_t639.getAttribute("uid")]=_t639;}}catch(err){_iterator357.e(err);}finally{_iterator357.f();}},enabledCallback:function enabledCallback(){var _this251=this;this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this251.Qo();}),this.Qo();},disabledCallback:function disabledCallback(){this.Yo&&this.Jo(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Ko);},tl:function tl(){var _this252=this;this.Yo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this252.el();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this252.il(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this252.wo(t);});},Jo:function Jo(){this.Yo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Qo:function Qo(){this.Gl=this.Fl(),0===this.Gl.length?this.Yo&&this.Jo():(this.Yo||this.tl(),this.nl());},il:function il(t){t.attributeName;this.qo?this.Zo():this.Xo();},el:function el(){this.ol();},wo:function wo(t){1===t.buttons&&(t.target.matches(".start-grippie")?this.Ul(t):t.target.matches(".end-grippie")?this.Nl(t):t.target.matches(".base-thickness-grippie")?this.Vl(t):t.target.matches(".head-size-grippie")?this.jl(t):t.target.matches(".head-inset-grippie")&&this.Hl(t));},Ul:function Ul(t){var _this253=this;var e,_i479,s=t.target,n=s.parentElement[yd],_this$Pn=this.Pn,o=_this$Pn.geometryPrecision,l=_this$Pn.transformPrecision,_pl$values32=_slicedToArray(pl(n).values,7),h=_pl$values32[0],a=_pl$values32[1],r=_pl$values32[2],d=_pl$values32[3],c=_pl$values32[4],p=_pl$values32[5],u=_pl$values32[6],x=Vt(n),b=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value).matrixTransform(Vt(s)),m=new DOMPoint(h+r,a+d/2),g=m.matrixTransform(x),f=h,w=r,v=Jt(n,m);this.qo=s,this.Pn.undoManager.checkpoint("Move arrow"),this.Pn.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this253.Pn.snapManager.snapPoint(e);var i=$e(g,b,e),s=v+i;{var _t640=new DOMPoint(h,a+d/2),_i478=_t640.matrixTransform(x),_s283=new DOMPoint(h+r,a+d/2),_l152=_s283.matrixTransform(x),_b24=Pe(_t640,_s283)/Pe(_i478,_l152);r=Pe(g,e)*_b24,r=Z(r,p,Infinity,o),h=f+(w-r),h=X(h,o),ul(n,{type:"arrow",values:[h,a,r,d,c,p,u]});}_this253.Qs.modKeys.shift&&(s=Le(s,15)),te(n,s,null,m);}),window.addEventListener("pointerup",_i479=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i479),_this253.qo=null,_this253.Pn.snapManager.snapEnd(),uh(n,{geometryPrecision:o,transformPrecision:l});});},Nl:function Nl(t){var _this254=this;var e,_i481,s=t.target,n=s.parentElement[yd],_this$Pn2=this.Pn,o=_this$Pn2.geometryPrecision,l=_this$Pn2.transformPrecision,_pl$values33=_slicedToArray(pl(n).values,7),h=_pl$values33[0],a=_pl$values33[1],r=_pl$values33[2],d=_pl$values33[3],c=_pl$values33[4],p=_pl$values33[5],u=_pl$values33[6],x=Vt(n),b=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value).matrixTransform(Vt(s)),m=new DOMPoint(h,a+d/2),g=m.matrixTransform(x),f=Jt(n,m);this.qo=s,this.Pn.undoManager.checkpoint("Move arrow"),this.Pn.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this254.Pn.snapManager.snapPoint(e);var i=$e(g,b,e),s=f+i;{var _t641=new DOMPoint(h,a+d/2),_i480=_t641.matrixTransform(x),_s284=new DOMPoint(h+r,a+d/2),_l153=_s284.matrixTransform(x),_b25=Pe(_t641,_s284)/Pe(_i480,_l153);r=Pe(g,e)*_b25,r=Z(r,p,Infinity,o),ul(n,{type:"arrow",values:[h,a,r,d,c,p,u]});}_this254.Qs.modKeys.shift&&(s=Le(s,15)),te(n,s,null,m);}),window.addEventListener("pointerup",_i481=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i481),_this254.qo=null,_this254.Pn.snapManager.snapEnd(),uh(n,{geometryPrecision:o,transformPrecision:l});});},Vl:function Vl(t){var _this255=this;var e,_i482,s=t.target,n=s.parentElement[yd],o=pl(n),l=Vt(n).inverse(),_o$values=_slicedToArray(o.values,7),h=_o$values[0],a=_o$values[1],r=_o$values[2],d=_o$values[3],c=_o$values[4],p=_o$values[5],u=_o$values[6],_Dl=Dl.apply(void 0,_toConsumableArray(o.values)),x=_Dl.minBaseThickness,b=_Dl.maxBaseThickness,m=this.Pn.geometryPrecision;x=X(x,m),b=X(b,m),this.qo=s,this.Pn.undoManager.checkpoint("Arrow base thickness"),this.Pn.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this255.Pn.snapManager.snapPoint(e);var i=e.matrixTransform(l);c=2*(a+d/2-i.y),c=Z(c,x,b,m),ul(n,{type:"arrow",values:[h,a,r,d,c,p,u]}),_this255.Zo();}),window.addEventListener("pointerup",_i482=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i482),_this255.qo=null,_this255.Pn.snapManager.snapEnd();});},jl:function jl(t){var _this256=this;var e,_i483,s=t.target,n=s.parentElement[yd],o=this.Pn.geometryPrecision,l=Vt(n).inverse(),_pl$values34=_slicedToArray(pl(n).values,7),h=_pl$values34[0],a=_pl$values34[1],r=_pl$values34[2],d=_pl$values34[3],c=_pl$values34[4],p=_pl$values34[5],u=_pl$values34[6],x=a,b=d,m=c;this.qo=s,this.Pn.undoManager.checkpoint("Arrow head size"),this.Pn.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this256.Pn.snapManager.snapPoint(e);var i=e.matrixTransform(l);!1===_this256.Qs.modKeys.shift&&(p=h+r-i.x,p=Z(p,1,r,o)),d=i.y-a,d=Z(d,c,Infinity,o),a=x-d/2+b/2,a=X(a,o);{var _Dl2=Dl(h,a,r,d,c,p,u),_t642=_Dl2.maxBaseThickness;_t642=X(_t642,o),(c>_t642||c<m)&&(c=_t642);}ul(n,{type:"arrow",values:[h,a,r,d,c,p,u]}),_this256.Zo();}),window.addEventListener("pointerup",_i483=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i483),_this256.qo=null,_this256.Pn.snapManager.snapEnd();});},Hl:function Hl(t){var _this257=this;var e,_i484,s=t.target,n=s.parentElement[yd],o=this.Pn.geometryPrecision,l=pl(n),_l$values=_slicedToArray(l.values,7),h=_l$values[0],a=_l$values[1],r=_l$values[2],d=_l$values[3],c=_l$values[4],p=_l$values[5],u=_l$values[6],x=Vt(n).inverse(),_Dl3=Dl.apply(void 0,_toConsumableArray(l.values)),b=_Dl3.minHeadInset,m=_Dl3.maxHeadInset;b=X(b,o),m=X(m,o),this.qo=s,this.Pn.undoManager.checkpoint("Arrow head inset"),this.Pn.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this257.Pn.snapManager.snapPoint(e);var i=e.matrixTransform(x);u=i.x-(h+r-p),u=Z(u,b,m,o),ul(n,{type:"arrow",values:[h,a,r,d,c,p,u]}),_this257.Zo();}),window.addEventListener("pointerup",_i484=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i484),_this257.qo=null,_this257.Pn.snapManager.snapEnd();});},nl:function nl(){this["#subhuds"].innerHTML="";var _iterator358=_createForOfIteratorHelper(this.Gl),_step358;try{for(_iterator358.s();!(_step358=_iterator358.n()).done;){var _t643=_step358.value;var _e475=this["#subhud-template"].cloneNode(!0);_e475.removeAttribute("uid"),_e475[yd]=_t643,this["#subhuds"].append(_e475);}}catch(err){_iterator358.e(err);}finally{_iterator358.f();}this.Zo(),this.ol();},Zo:function Zo(){var _iterator359=_createForOfIteratorHelper(this["#subhuds"].children),_step359;try{for(_iterator359.s();!(_step359=_iterator359.n()).done;){var _t644=_step359.value;var _e476=_t644[yd],_i485=Nt(_e476,this),_pl$values35=_slicedToArray(pl(_e476).values,7),_s285=_pl$values35[0],_n203=_pl$values35[1],_o169=_pl$values35[2],_l154=_pl$values35[3],_h118=_pl$values35[4],_a101=_pl$values35[5],_r56=_pl$values35[6];_r56>_a101&&(_r56=_a101);var _iterator360=_createForOfIteratorHelper(_t644.children),_step360;try{for(_iterator360.s();!(_step360=_iterator360.n()).done;){var _e477=_step360.value;if(_e477.matches(".start-grippie")){var _t645=new DOMPoint(_s285,_n203+_l154/2).matrixTransform(_i485);_e477.setAttribute("cx",_t645.x),_e477.setAttribute("cy",_t645.y);}else if(_e477.matches(".end-grippie")){var _t646=new DOMPoint(_s285+_o169,_n203+_l154/2).matrixTransform(_i485);_e477.setAttribute("cx",_t646.x),_e477.setAttribute("cy",_t646.y);}else if(_e477.matches(".base-thickness-grippie")){var _t647=new DOMPoint(_s285+(_o169-_a101+_r56)/2,_n203+_l154/2-_h118/2).matrixTransform(_i485);_e477.setAttribute("cx",_t647.x),_e477.setAttribute("cy",_t647.y);}else if(_e477.matches(".head-size-grippie")){var _t648=new DOMPoint(_s285+_o169-_a101,_n203+_l154).matrixTransform(_i485);_e477.setAttribute("cx",_t648.x),_e477.setAttribute("cy",_t648.y);}else if(_e477.matches(".head-inset-grippie")){var _t649=new DOMPoint(_s285+_o169-_a101+_r56,_n203+_l154/2-_h118/2).matrixTransform(_i485);_e477.setAttribute("cx",_t649.x),_e477.setAttribute("cy",_t649.y);}}}catch(err){_iterator360.e(err);}finally{_iterator360.f();}}}catch(err){_iterator359.e(err);}finally{_iterator359.f();}},ol:function ol(){var _iterator361=_createForOfIteratorHelper(this["#subhuds"].children),_step361;try{for(_iterator361.s();!(_step361=_iterator361.n()).done;){var _t650=_step361.value;var _iterator362=_createForOfIteratorHelper(_t650.children),_step362;try{for(_iterator362.s();!(_step362=_iterator362.n()).done;){var _e478=_step362.value;_e478.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator362.e(err);}finally{_iterator362.f();}}}catch(err){_iterator361.e(err);}finally{_iterator361.f();}},Fl:function Fl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator363=_createForOfIteratorHelper(t),_step363;try{for(_iterator363.s();!(_step363=_iterator363.n()).done;){var _i486=_step363.value;"path"===_i486.localName?_i486.hasAttribute("data-bx-shape")&&_i486.getAttribute("data-bx-shape").startsWith("arrow")&&e.push(_i486):["g","a"].includes(_i486.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Fl(_i486.children))));}}catch(err){_iterator363.e(err);}finally{_iterator363.f();}return e;}};var Sd=Math.abs,_d=Symbol();var Cd={id:"cross-hud",createdCallback:function createdCallback(){this.Yo=!1,this.cl=[],this.qo=null,this.Xo=qi(this.Zo,200,this),this.innerHTML='\n  <style>\n    #cross-hud .grippie {\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #cross-hud .shift-grippie {\n      fill: #C3C303;\n    }\n    #cross-hud .arms-grippie {\n      fill: #73BA09;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie shift-grippie"></circle>\n      <circle class="grippie arms-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator364=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step364;try{for(_iterator364.s();!(_step364=_iterator364.n()).done;){var _t651=_step364.value;this["#"+_t651.getAttribute("uid")]=_t651;}}catch(err){_iterator364.e(err);}finally{_iterator364.f();}},enabledCallback:function enabledCallback(){var _this258=this;this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this258.Qo();}),this.Qo();},disabledCallback:function disabledCallback(){this.Yo&&this.Jo(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Ko);},tl:function tl(){var _this259=this;this.Yo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this259.el();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this259.il(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this259.wo(t);});},Jo:function Jo(){this.Yo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Qo:function Qo(){this.Yl=this.Wl(),0===this.Yl.length?this.Yo&&this.Jo():(this.Yo||this.tl(),this.nl());},il:function il(t){t.attributeName;this.qo?this.Zo():this.Xo();},el:function el(){this.ol();},wo:function wo(t){1===t.buttons&&(t.target.matches(".shift-grippie")?this._l(t):t.target.matches(".arms-grippie")&&this.Dl(t));},_l:function _l(t){var _this260=this;var e,_i487,s=t.target,n=s.parentElement[_d],o=Vt(n),l=o.inverse(),h=pl(n),_h$values=_slicedToArray(h.values,7),a=_h$values[0],r=_h$values[1],d=_h$values[2],c=_h$values[3],p=_h$values[4],u=_h$values[5],x=_h$values[6],_zl=zl.apply(void 0,_toConsumableArray(h.values)),b=_zl.minShift,m=_zl.maxShift,g=this.Pn.geometryPrecision,f=new DOMPoint(a+d/2,r),w=new DOMPoint(a+d/2,r+c),v=new DOMPoint(a+d/2,r+c*x).matrixTransform(o),y=new DOMPoint(t.clientX,t.clientY),k=(y.matrixTransform(l),new q(v,y).getOppositeVector()),S=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.qo=s,s.addEventListener("pointermove",e=function e(t){!1===S&&(S=!0,_this260.Pn.undoManager.checkpoint("Cross radius"));var e=new DOMPoint(t.clientX,t.clientY);e=k.transformPoint(e);var i=e.matrixTransform(l),_ze25=ze(f,w,i,!1),_ze26=_slicedToArray(_ze25,1),s=_ze26[0];x=(s.y-f.y)/c,_this260.Qs.modKeys.shift&&(x=[0,.5,1].reduce(function(t,e){return Sd(e-x)<Sd(t-x)?e:t;})),x=Z(x,b,m,4),ul(n,{type:"cross",values:[a,r,d,c,p,u,x]},g);}),s.addEventListener("lostpointercapture",_i487=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i487),_this260.qo=null;});},Dl:function Dl(t){var _this261=this;var e,_i488,s=t.target,n=s.parentElement[_d],o=(Ut(n),Vt(n)),l=o.inverse(),h=pl(n),_h$values2=_slicedToArray(h.values,7),a=_h$values2[0],r=_h$values2[1],d=_h$values2[2],c=_h$values2[3],p=_h$values2[4],u=_h$values2[5],x=_h$values2[6],b=this.Pn.geometryPrecision,m=new DOMPoint(t.clientX,t.clientY),g=m.matrixTransform(l),f=new DOMPoint(g.x,g.y),w=new DOMPoint(a+d/2-u/2,r+c*x-p/2).matrixTransform(o),v=new q(w,m).getOppositeVector(),y=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.qo=s;var k=new DOMPoint(a+d/2,r+x*c),_zl2=zl.apply(void 0,_toConsumableArray(h.values)),S=_zl2.maxHorizontalArmThickness;s.addEventListener("pointermove",e=function e(t){!1===y&&(y=!0,_this261.Pn.undoManager.checkpoint("Cross radius"));var e=new DOMPoint(t.clientX,t.clientY);e=v.transformPoint(e),f=e.matrixTransform(l),u=2*(k.x-f.x),u=Z(u,.001,d),p=2*(k.y-f.y),p=Z(p,.001,S),_this261.Qs.modKeys.shift&&(p>u?p=u:u=p),ul(n,{type:"cross",values:[a,r,d,c,p,u,x]},b);}),s.addEventListener("lostpointercapture",_i488=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i488),_this261.qo=null;});},nl:function nl(){this["#subhuds"].innerHTML="";var _iterator365=_createForOfIteratorHelper(this.Yl),_step365;try{for(_iterator365.s();!(_step365=_iterator365.n()).done;){var _t652=_step365.value;var _e479=this["#subhud-template"].cloneNode(!0);_e479.removeAttribute("uid"),_e479[_d]=_t652,this["#subhuds"].append(_e479);}}catch(err){_iterator365.e(err);}finally{_iterator365.f();}this.Zo(),this.ol();},Zo:function Zo(){var _iterator366=_createForOfIteratorHelper(this["#subhuds"].children),_step366;try{for(_iterator366.s();!(_step366=_iterator366.n()).done;){var _t653=_step366.value;var _e480=_t653[_d],_i489=Nt(_e480,this),_pl$values36=_slicedToArray(pl(_e480).values,7),_s286=_pl$values36[0],_n204=_pl$values36[1],_o170=_pl$values36[2],_l155=_pl$values36[3],_h119=_pl$values36[4],_a102=_pl$values36[5],_r57=_pl$values36[6];var _iterator367=_createForOfIteratorHelper(_t653.children),_step367;try{for(_iterator367.s();!(_step367=_iterator367.n()).done;){var _e481=_step367.value;if(_e481.matches(".shift-grippie")){var _t654=new DOMPoint(_s286+_o170/2,_n204+_r57*_l155).matrixTransform(_i489);_e481.setAttribute("cx",_t654.x),_e481.setAttribute("cy",_t654.y);}else if(_e481.matches(".arms-grippie")){var _t655=new DOMPoint(_s286+_o170/2-_a102/2,_n204+_l155*_r57-_h119/2).matrixTransform(_i489);_e481.setAttribute("cx",_t655.x),_e481.setAttribute("cy",_t655.y);}}}catch(err){_iterator367.e(err);}finally{_iterator367.f();}}}catch(err){_iterator366.e(err);}finally{_iterator366.f();}},ol:function ol(){var _iterator368=_createForOfIteratorHelper(this["#subhuds"].children),_step368;try{for(_iterator368.s();!(_step368=_iterator368.n()).done;){var _t656=_step368.value;var _iterator369=_createForOfIteratorHelper(_t656.children),_step369;try{for(_iterator369.s();!(_step369=_iterator369.n()).done;){var _e482=_step369.value;_e482.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator369.e(err);}finally{_iterator369.f();}}}catch(err){_iterator368.e(err);}finally{_iterator368.f();}},Wl:function Wl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator370=_createForOfIteratorHelper(t),_step370;try{for(_iterator370.s();!(_step370=_iterator370.n()).done;){var _i490=_step370.value;"path"===_i490.localName?_i490.hasAttribute("data-bx-shape")&&_i490.getAttribute("data-bx-shape").startsWith("cross")&&e.push(_i490):["g","a"].includes(_i490.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Wl(_i490.children))));}}catch(err){_iterator370.e(err);}finally{_iterator370.f();}return e;}};var Md=Symbol(),Pd=6;var Dd={id:"line-hud",createdCallback:function createdCallback(){this.Yo=!1,this.ql=[],this.qo=null,this.Xo=qi(this.Zo,200,this),this.innerHTML='\n  <style>\n    #line-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="start-grippie grippie" fill="none"></circle>\n      <circle class="end-grippie grippie" fill="none"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator371=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step371;try{for(_iterator371.s();!(_step371=_iterator371.n()).done;){var _t657=_step371.value;this["#"+_t657.getAttribute("uid")]=_t657;}}catch(err){_iterator371.e(err);}finally{_iterator371.f();}},enabledCallback:function enabledCallback(){var _this262=this;this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this262.Qo();}),this.Qo();},disabledCallback:function disabledCallback(){this.Yo&&this.Jo(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Ko);},tl:function tl(){var _this263=this;this.Yo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this263.el();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this263.il(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this263.wo(t);});},Jo:function Jo(){this.Yo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Qo:function Qo(){this.ql=this.Xl(),0===this.ql.length?this.Yo&&this.Jo():(this.Yo||this.tl(),this.nl());},il:function il(t){t.attributeName;this.qo?this.Zo():this.Xo();},el:function el(){this.ol();},wo:function wo(t){t.target.matches(".start-grippie")?this.Ul(t):t.target.matches(".end-grippie")&&this.Nl(t);},Ul:function Ul(t){var _this264=this;if(0!==t.button)return;var e,_i491,s=t.target,n=s.parentElement[Md],o=Vt(n),l=o.inverse(),h=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value).matrixTransform(o),a=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value).matrixTransform(o),r=new DOMPoint(t.clientX,t.clientY),d=this.Pn.geometryPrecision,c=!1;s.parentElement.append(s),this.qo=s,window.addEventListener("pointermove",e=function e(t){c||(c=!0,_this264.Pn.undoManager.checkpoint("Line start point"));var e=new DOMPoint(t.clientX,t.clientY),i=new q(r,e),s=new DOMPoint(h.x+i.x,h.y+i.y);if(_this264.Qs.modKeys.shift){var _Te=Te(a,s,22.5),_Te2=_slicedToArray(_Te,1),_t658=_Te2[0];s=_t658;}var o=s.matrixTransform(l);n.setAttribute("x1",X(o.x,d)),n.setAttribute("y1",X(o.y,d));}),window.addEventListener("pointerup",_i491=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i491),_this264.qo=null;});},Nl:function Nl(t){var _this265=this;if(0!==t.button)return;var e,_i492,s=t.target,n=s.parentElement[Md],o=Vt(n),l=o.inverse(),h=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value).matrixTransform(o),a=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value).matrixTransform(o),r=new DOMPoint(t.clientX,t.clientY),d=this.Pn.geometryPrecision,c=!1;s.parentElement.append(s),this.qo=s,window.addEventListener("pointermove",e=function e(t){c||(c=!0,_this265.Pn.undoManager.checkpoint("Line start point"));var e=new DOMPoint(t.clientX,t.clientY),i=new q(r,e),s=new DOMPoint(a.x+i.x,a.y+i.y);if(_this265.Qs.modKeys.shift){var _Te3=Te(h,s,22.5),_Te4=_slicedToArray(_Te3,1),_t659=_Te4[0];s=_t659;}var o=s.matrixTransform(l);n.setAttribute("x2",X(o.x,d)),n.setAttribute("y2",X(o.y,d));}),window.addEventListener("pointerup",_i492=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i492),_this265.qo=null;});},nl:function nl(){this["#subhuds"].innerHTML="";var _iterator372=_createForOfIteratorHelper(this.ql),_step372;try{for(_iterator372.s();!(_step372=_iterator372.n()).done;){var _t660=_step372.value;var _e483=this["#subhud-template"].cloneNode(!0);_e483.removeAttribute("uid"),_e483[Md]=_t660,this["#subhuds"].append(_e483);}}catch(err){_iterator372.e(err);}finally{_iterator372.f();}this.Zo(),this.ol();},Zo:function Zo(){var _iterator373=_createForOfIteratorHelper(this["#subhuds"].children),_step373;try{for(_iterator373.s();!(_step373=_iterator373.n()).done;){var _t661=_step373.value;var _e484=_t661[Md],_i493=Nt(_e484,this),_s287=_t661.querySelector(".start-grippie"),_n205=_t661.querySelector(".end-grippie"),_o171=new DOMPoint(_e484.x1.baseVal.value,_e484.y1.baseVal.value).matrixTransform(_i493),_l156=new DOMPoint(_e484.x2.baseVal.value,_e484.y2.baseVal.value).matrixTransform(_i493);_s287.setAttribute("cx",_o171.x),_s287.setAttribute("cy",_o171.y),_n205.setAttribute("cx",_l156.x),_n205.setAttribute("cy",_l156.y);}}catch(err){_iterator373.e(err);}finally{_iterator373.f();}},ol:function ol(){var _iterator374=_createForOfIteratorHelper(this["#subhuds"].children),_step374;try{for(_iterator374.s();!(_step374=_iterator374.n()).done;){var _t662=_step374.value;var _iterator375=_createForOfIteratorHelper(_t662.children),_step375;try{for(_iterator375.s();!(_step375=_iterator375.n()).done;){var _e485=_step375.value;_e485.setAttribute("r",Pd/this.Pn.scale);}}catch(err){_iterator375.e(err);}finally{_iterator375.f();}}}catch(err){_iterator374.e(err);}finally{_iterator374.f();}},Xl:function Xl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.outermostSelectedElements;var e=[];var _iterator376=_createForOfIteratorHelper(t),_step376;try{for(_iterator376.s();!(_step376=_iterator376.n()).done;){var _i494=_step376.value;"line"===_i494.localName?e.push(_i494):["g","a"].includes(_i494.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Xl(_i494.children))));}}catch(err){_iterator376.e(err);}finally{_iterator376.f();}return e;}};var zd=Symbol(),Od=Symbol(),Ed=Symbol(),Td=6;var Ad={id:"poly-hud",createdCallback:function createdCallback(){this.Yo=!1,this.Zl=[],this.qo=null,this.Kl=qi(this.Ql,200,this),this.innerHTML='\n  <style>\n    #poly-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #poly-hud .grippie[data-selected] {\n      fill: red;\n    }\n  </style>\n\n  <g uid="node-grippies"></g>\n';var _iterator377=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step377;try{for(_iterator377.s();!(_step377=_iterator377.n()).done;){var _t663=_step377.value;this["#"+_t663.getAttribute("uid")]=_t663;}}catch(err){_iterator377.e(err);}finally{_iterator377.f();}},enabledCallback:function enabledCallback(){var _this266=this;this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this266.Qo();}),this.Qo();},disabledCallback:function disabledCallback(){this.Yo&&this.Jo(),this["#node-grippies"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Ko);},tl:function tl(){var _this267=this;this.Yo=!0,this.Pn.addEventListener("zoomchange",this.an=function(){_this267.el();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this267.il(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this267.wo(t);});},Jo:function Jo(){this.Yo=!1,this["#node-grippies"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Qo:function Qo(){this.Zl=this.Jl(),0===this.Zl.length?!0===this.Yo&&this.Jo():(!1===this.Yo&&this.tl(),this.Ql());},il:function il(t){t.attributeName;this.qo?this.Ql():this.Kl();},el:function el(){this.th();},wo:function wo(t){t.target.matches(".grippie")&&this.ll(t);},ll:function ll(t){var _this268=this;if(0!==t.button)return;var e,_i495,s=this.Qs.modKeys.shift,n=t.target,o=n[zd],l=n[Od],h=Vt(o),a=h.inverse(),r=DOMPoint.fromPoint(0===l?o.points[1]:o.points[l-1]).matrixTransform(h),d=DOMPoint.fromPoint(o.points[l]).matrixTransform(h),c=new DOMPoint(t.clientX,t.clientY),p=this.Pn.geometryPrecision,u=!1;n.parentElement.append(n),this.qo=n,window.addEventListener("pointermove",e=function e(t){u||(u=!0,_this268.Pn.undoManager.checkpoint("Edit ".concat(o.localName)));var e=new DOMPoint(t.clientX,t.clientY),i=new q(c,e),s=new DOMPoint(d.x+i.x,d.y+i.y);if(_this268.Qs.modKeys.shift){var _Te5=Te(r,s,22.5),_Te6=_slicedToArray(_Te5,1),_t664=_Te6[0];s=_t664;}var n=s.matrixTransform(a);o.points[l].x=X(n.x,p),o.points[l].y=X(n.y,p);var h=[];var _iterator378=_createForOfIteratorHelper(o.points),_step378;try{for(_iterator378.s();!(_step378=_iterator378.n()).done;){var _t665=_step378.value;h.push(_t665.x,_t665.y);}}catch(err){_iterator378.e(err);}finally{_iterator378.f();}o.setAttribute("points",h.join(" "));}),window.addEventListener("pointerup",_i495=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i495),_this268.qo=null;});},Ql:function Ql(){var t=0;var _iterator379=_createForOfIteratorHelper(this.Zl),_step379;try{for(_iterator379.s();!(_step379=_iterator379.n()).done;){var _e486=_step379.value;var _i496=Nt(_e486,this);for(var _s288=0;_s288<_e486.points.length;_s288+=1){var _n206=DOMPoint.fromPoint(_e486.points[_s288]).matrixTransform(_i496),_o172=this["#node-grippies"].children[t];_o172||(_o172=Di("svg:circle"),_o172.setAttribute("class","grippie"),this["#node-grippies"].append(_o172)),_o172[zd]=_e486,_o172[Od]=_s288,_o172.setAttribute("cx",_n206.x),_o172.setAttribute("cy",_n206.y),_e486[Ed]&&_e486[Ed].includes(_s288)?_o172.setAttribute("data-selected",""):_o172.removeAttribute("data-selected"),t+=1;}}}catch(err){_iterator379.e(err);}finally{_iterator379.f();}for(;this["#node-grippies"].childElementCount>t;){this["#node-grippies"].lastElementChild.remove();}this.th();},th:function th(){var _iterator380=_createForOfIteratorHelper(this["#node-grippies"].children),_step380;try{for(_iterator380.s();!(_step380=_iterator380.n()).done;){var _t666=_step380.value;_t666.setAttribute("r",Td/this.Pn.scale);}}catch(err){_iterator380.e(err);}finally{_iterator380.f();}},Jl:function Jl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator381=_createForOfIteratorHelper(t),_step381;try{for(_iterator381.s();!(_step381=_iterator381.n()).done;){var _i497=_step381.value;"polyline"===_i497.localName||"polygon"===_i497.localName?e.push(_i497):["g","a"].includes(_i497.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Jl(_i497.children))));}}catch(err){_iterator381.e(err);}finally{_iterator381.f();}return e;}};var $d=Math.abs,Id=Math.sin,Ld=Math.asin,Bd=Math.cos,Rd=Math.acos,Gd=Math.tan,Fd=Math.pow,Ud=Math.sqrt,Nd=Math.PI,Vd=function Vd(t,e,i,s,n){var o=function o(t){return $d(t)<1e-11?0:t>0?1:-1;},l=function l(t,e,i,s,n){var o=3*e-t-3*i+s;0===o&&(o=1e-10);var l=[3,-1];h(l,(3*t-6*e+3*i)/o,(-3*t+3*e)/o,(-n+t)/o);var a=[];for(var _i498=0,_l157=l;_i498<_l157.length;_i498++){var _t667=_l157[_i498];_t667>=0&&_t667<=1&&a.push(_t667);}return a;},h=function h(t,e,i,s){var n=(Fd(e,2)-3*i)/9,l=(2*Fd(e,3)-9*e*i+27*s)/54;if(Fd(l,2)<Fd(n,3)){var _i499=Rd(l/Ud(Fd(n,3)))/3;return t.splice(0,0,-2*Ud(n)*Bd(_i499)-e/3),t.splice(1,0,-2*Ud(n)*Bd(_i499+4*Nd/3)-e/3),t.splice(2,0,-2*Ud(n)*Bd(_i499-4*Nd/3)-e/3),3;}{var _i500=-o(l)*Fd($d(l)+Ud(Fd(l,2)-Fd(n,3)),1/3),_s289=0==o(_i500)?0:n/_i500;return t.splice(0,0,_i500+_s289-e/3),t.splice(1,0,-.5*(_i500+_s289)-e/3),t.splice(2,0,.5*Ud(3)*$d(_i500-_s289)),t[2]+1===1?2:1;}},a=[].concat(_toConsumableArray(l(e.x,i.x,s.x,n.x,t.x)),_toConsumableArray(l(e.y,i.y,s.y,n.y,t.y)));if(0===a.length)return-1;{var _o173=-1,_l158=3;var _iterator382=_createForOfIteratorHelper(a),_step382;try{for(_iterator382.s();!(_step382=_iterator382.n()).done;){var _h120=_step382.value;var _a103=Fd(1-_h120,3)*e.x+3*Fd(1-_h120,2)*_h120*i.x+3*(1-_h120)*Fd(_h120,2)*s.x+Fd(_h120,3)*n.x,_u27=Fd(1-_h120,3)*e.y+3*Fd(1-_h120,2)*_h120*i.y+3*(1-_h120)*Fd(_h120,2)*s.y+Fd(_h120,3)*n.y,_x92=(r=t.x,d=t.y,Ud(((c=_a103)-r)*(c-r)+((p=_u27)-d)*(p-d)));_x92<_l158&&(_o173=_h120,_l158=_x92);}}catch(err){_iterator382.e(err);}finally{_iterator382.f();}return _o173;}var r,d,c,p;},jd=Math.abs,Hd=Math.max,Yd=Math.pow,Wd=Number.parseFloat,qd=5,Xd=4,Zd=Symbol(),Kd=Symbol(),Qd=Symbol();var Jd={id:"path-hud",get passive(){return this.hasAttribute("passive");},set passive(t){t?this.setAttribute("passive",""):this.removeAttribute("passive");},get selectedNodes(){return _toConsumableArray(this.eh);},set selectedNodes(t){this.eh=t,this.ih(),this.sh();},createdCallback:function createdCallback(){var _this269=this;this.commands={selectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this269.nh();}}},this.Yo=!1,this.oh=0,this.lh=[],this.eh=[],this.hh=null,this.ah=null,this.rh=null,this.dh=qi(this.ph,1500,this),this.ih=qi(this.Ql,40,this),this.sh=qi(this.uh,40,this),this.xh=qi(this.th,40,this),this.bh=qi(this.mh,40,this),this.gh=qi(this.fh,1500,this),this.innerHTML='\n  <style>\n    #path-hud [uid="grippies"] {\n      cursor: default;\n    }\n    #path-hud [uid="grippies"]:focus {\n      outline: none;\n    }\n\n    #path-hud .node-grippie .outer-circle {\n      fill: white;\n      stroke: #4d2782;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n    }\n    #path-hud .node-grippie[data-selected] .outer-circle {\n      fill: #bc9aec;\n    }\n    #path-hud #grippies:focus .node-grippie[data-selected] .outer-circle {\n      fill: #a370ea;\n    }\n    #path-hud[passive] .node-grippie[data-position="mid"] {\n      display: none;\n    }\n\n    #path-hud .node-grippie .inner-circle {\n      pointer-events: none;\n      fill: #4d2782;\n    }\n\n    #path-hud[passive] .outline-grippie {\n      display: none;\n    }\n    #path-hud .outline-grippie path {\n      fill: none;\n      stroke: blue;\n      stroke-width: 10px;\n      vector-effect: non-scaling-stroke;\n      opacity: 0;\n    }\n    #path-hud .outline-grippie path:hover {\n      opacity: 0.2;\n    }\n\n    #path-hud .control-grippie {\n      fill: white;\n      stroke: #ef6c6c;\n      stroke-width: 1.5;\n      vector-effect: non-scaling-stroke;\n    }\n\n    #path-hud .control-line {\n      stroke: red;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      opacity: 0.3;\n    }\n  </style>\n\n  <g uid="grippies" tabindex="-1">\n    <g uid="outline-grippies"></g>\n    <g uid="control-lines"></g>\n    <g uid="node-grippies"></g>\n    <g uid="control-grippies"></g>\n  </g>\n';var _iterator383=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step383;try{for(_iterator383.s();!(_step383=_iterator383.n()).done;){var _t668=_step383.value;this["#"+_t668.getAttribute("uid")]=_t668;}}catch(err){_iterator383.e(err);}finally{_iterator383.f();}this.addEventListener("keydown",function(t){_this269.vn(t);}),this.addEventListener("pointerdown",function(t){_this269.wo(t);}),this.addEventListener("click",function(t){2===t.detail&&Date.now()-_this269.oh<300&&_this269.wh(t),_this269.oh=Date.now();});},enabledCallback:function enabledCallback(){var _this270=this;this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this270.Qo();}),this.Qo();},disabledCallback:function disabledCallback(){this.Yo&&this.Jo();var _iterator384=_createForOfIteratorHelper(this["#grippies"].children),_step384;try{for(_iterator384.s();!(_step384=_iterator384.n()).done;){var _t669=_step384.value;_t669.innerHTML="";}}catch(err){_iterator384.e(err);}finally{_iterator384.f();}this.Pn.removeEventListener("selectedelementschange",this.Ko);},tl:function tl(){var _this271=this;this.Yo=!0,this.Pn.addEventListener("workspacemutation",this.rn=function(){_this271.il();}),this.Pn.addEventListener("zoomchange",this.an=function(){_this271.el();}),this.Pn.undoManager.addEventListener("undo",this.yh=function(){_this271.deselectAllSegs();}),this.Pn.undoManager.addEventListener("redo",this.kh=function(){_this271.deselectAllSegs();});},Jo:function Jo(){this.lh=[],this.eh=[],this.Yo=!1,this["#outline-grippies"].innerHTML="",this["#node-grippies"].innerHTML="",this["#control-grippies"].innerHTML="",this["#control-lines"].innerHTML="",this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("zoomchange",this.an),this.Pn.undoManager.removeEventListener("undo",this.yh),this.Pn.undoManager.removeEventListener("redo",this.kh),this.dispatchEvent(new CustomEvent("selectednodeschange"));},rubberBandSelectionCallback:function rubberBandSelectionCallback(t){var _this272=this;var e=this.Qs.modKeys.shift,i=[];if(t instanceof DOMRect){var _e487=t;var _iterator385=_createForOfIteratorHelper(this["#node-grippies"].children),_step385;try{for(_iterator385.s();!(_step385=_iterator385.n()).done;){var _t670=_step385.value;var _s290=_i(_t670);Ve(_e487,_s290)&&i.push(_t670);}}catch(err){_iterator385.e(err);}finally{_iterator385.f();}}else{var _iterator386=_createForOfIteratorHelper(this["#node-grippies"].children),_step386;try{for(_iterator386.s();!(_step386=_iterator386.n()).done;){var _e488=_step386.value;var _s291=new DOMPoint(_e488.firstElementChild.cx.baseVal.value,_e488.firstElementChild.cy.baseVal.value);!0===Ke(t,_s291)&&i.push(_e488);}}catch(err){_iterator386.e(err);}finally{_iterator386.f();}}if(!1===e){this.eh=[];var _iterator387=_createForOfIteratorHelper(i),_step387;try{for(_iterator387.s();!(_step387=_iterator387.n()).done;){var _t671=_step387.value;var _e489={path:_t671[Zd],index:_t671[Qd]};this.eh.push(_e489);}}catch(err){_iterator387.e(err);}finally{_iterator387.f();}}else if(!0===e){var _iterator388=_createForOfIteratorHelper(i),_step388;try{var _loop5=function _loop5(){var t=_step388.value;var e={path:t[Zd],index:t[Qd]};void 0===_this272.eh.find(function(t){return t.path===e.path&&t.index===e.index;})&&_this272.eh.push(e);};for(_iterator388.s();!(_step388=_iterator388.n()).done;){_loop5();}}catch(err){_iterator388.e(err);}finally{_iterator388.f();}}this.ih(),this.sh(),this.dh(),this.dispatchEvent(new CustomEvent("selectednodeschange")),this.eh.length>0&&this["#grippies"].focus();},Qo:function Qo(){this.lh=this.Sh(),this.eh=[],this.dispatchEvent(new CustomEvent("selectednodeschange")),0===this.lh.length?this.Yo&&this.Jo():(this.Yo||this.tl(),this.ih(),this.sh(),this.dh());},il:function il(){this.ih(),this.sh(),this.dh();},el:function el(){this.xh(),this.bh(),this.gh();},vn:function vn(t){if(!1===this.passive&&this["#node-grippies"].querySelector("[data-selected]")){var _e490=to.fromEvent(t);_e490.matches("Backspace")||_e490.matches("Delete")?(t.preventDefault(),t.stopPropagation(),this._h("smooth")):(_e490.matches("Shift","Backspace")||_e490.matches("Shift","Delete"))&&(t.preventDefault(),t.stopPropagation(),this._h("sharp"));}},wo:function wo(t){t.preventDefault(),this["#grippies"].focus(),t.target.closest(".node-grippie")?this.Ch(t):t.target.matches(".control-grippie")?this.Mh(t):t.target.matches(".outline-grippie path")&&this.Ph(t);},Ch:function Ch(t){var _this273=this;if(0!==t.button)return;var e=!1,i=t.target.closest(".node-grippie"),s=i[Zd],n=s.getPathData({normalize:!0}),o=i[Qd],l=function(t,e){var i=-1,s=-1;var _iterator389=_createForOfIteratorHelper(ot(t)),_step389;try{for(_iterator389.s();!(_step389=_iterator389.n()).done;){var _n207=_step389.value;i+=1;var _iterator390=_createForOfIteratorHelper(_n207),_step390;try{for(_iterator390.s();!(_step390=_iterator390.n()).done;){var _t672=_step390.value;if(s+=1,s===e)return i;}}catch(err){_iterator390.e(err);}finally{_iterator390.f();}}}catch(err){_iterator389.e(err);}finally{_iterator389.f();}return i;}(n,o),h={position:i.getAttribute("data-position"),selected:i.hasAttribute("data-selected"),path:s,index:o,subpathIndex:l};if(i.setPointerCapture(t.pointerId),!1===this.passive){var _t674,_s292=this.Qs.modKeys.shift,_n208=i[Zd],_o174=i[Qd];i.addEventListener("pointerup",_t674=function _t673(l){i.removeEventListener("pointerup",_t674);var h=void 0!==_this273.eh.find(function(t){return t.path===_n208&&t.index===_o174;}),a={path:_n208,index:_o174};!1===h?(!1===_s292?_this273.eh=[a]:!0===_s292&&_this273.eh.push(a),_this273.ih(),_this273.sh()):!0===_s292&&!1===e&&(_this273.eh=_this273.eh.filter(function(t){return t.path!==_n208||t.index!==_o174;}),_this273.ih(),_this273.sh()),_this273.dispatchEvent(new CustomEvent("selectednodeschange"));});}{var _s294,_n210,_o175=new DOMPoint(t.clientX,t.clientY),_l159=_o175,_a104=new CustomEvent("nodepointerdown",{detail:h,cancelable:!0});this.dispatchEvent(_a104),i.addEventListener("pointermove",_s294=function _s293(n){var h=new DOMPoint(n.clientX,n.clientY),a=n.timeStamp-t.timeStamp,r=Pe(_o175,h)>3||a>80,d=!1===_e(_l159,h,0);if(_l159=h,!1===_this273.passive&&!0===r&&!0===d){i.removeEventListener("pointermove",_s294);var _o176=new q(n.clientX-t.clientX,n.clientY-t.clientY);e=!0;var _l160=jd(_o176.x)>jd(_o176.y)?"horizontal":"vertical";new DOMPoint(n.clientX,n.clientY);_this273.Dh(t,i,_l160);}}),i.addEventListener("pointerup",_n210=function _n209(t){i.removeEventListener("pointermove",_s294),i.removeEventListener("pointerup",_n210),_this273.dispatchEvent(new CustomEvent("nodepointerup",{detail:h})),!1===e&&!1===_a104.defaultPrevented&&_this273.dispatchEvent(new CustomEvent("nodeclick",{detail:h}));});}},Dh:function Dh(t,e,i){var _this274=this;var s,_n214,o=this.Pn,l=Symbol(),h=Symbol(),a=Symbol(),r=Symbol(),d=e[Zd],c=e[Qd],p=new DOMPoint(t.clientX,t.clientY),u=null;o.undoManager.checkpoint("Edit path"),o.snapManager.snapStart(!0);{var _t675={path:d,index:c};void 0===this.eh.find(function(e){return e.path===_t675.path&&e.index===_t675.index;})&&(this.eh=[_t675],this.ih(),this.sh(),this.dispatchEvent(new CustomEvent("selectednodeschange")));}this.hh=e;var _iterator391=_createForOfIteratorHelper(this.lh),_step391;try{for(_iterator391.s();!(_step391=_iterator391.n()).done;){var _t682=_step391.value;var _e493=void 0,_i501=_t682[Kd];if(_i501){var _s296=Ut(_t682);_e493=Vt(_i501).multiply(_s296).inverse();}else _e493=Vt(_t682).inverse();_t682[r]=_e493,_t682[a]=_e493.inverse(),_t682[l]=st(_t682.getPathData({normalize:!0})),_t682[h]=nt(_t682[l]);}}catch(err){_iterator391.e(err);}finally{_iterator391.f();}{var _t676=d[l][c],_e491=null;"M"===_t676.type||"L"===_t676.type?_e491=new DOMPoint(_t676.values[0],_t676.values[1]):"C"===_t676.type&&(_e491=new DOMPoint(_t676.values[4],_t676.values[5])),u=_e491.matrixTransform(d[a]);}window.addEventListener("pointermove",s=function s(t){var e=new DOMPoint(t.clientX,t.clientY);_this274.Qs.modKeys.shift&&("horizontal"===i?e.y=p.y:"vertical"===i&&(e.x=p.x));var s=o.snapManager.snapPoint(new DOMPoint(u.x+e.x-p.x,u.y+e.y-p.y)),n=new q(u,s);var _iterator392=_createForOfIteratorHelper(_this274.lh),_step392;try{var _loop6=function _loop6(){var t=_step392.value;var e=t[l],i=t[h],s=_this274.eh.filter(function(e){return e.path===t;}).map(function(t){return t.index;}),o=n.matrixTransform(t[r]);var _iterator393=_createForOfIteratorHelper(s),_step393;try{for(_iterator393.s();!(_step393=_iterator393.n()).done;){var _t677=_step393.value;var _s295=e[_t677],_n211=e[_t677+1],_l161=i[_t677],_h121=i[_t677+1];if("M"===_s295.type||"L"===_s295.type){if(_s295.values[0]=_l161.values[0]+o.x,_s295.values[1]=_l161.values[1]+o.y,_n211&&"C"===_n211.type)_n211.values[0]=_h121.values[0]+o.x,_n211.values[1]=_h121.values[1]+o.y;else if(_n211&&"Z"===_n211.type){var _t678=ft(_s295,e),_n212=_t678[0],_h122=_t678[1],_a105=ft(_l161,i);_n212.values[0]=_s295.values[0],_n212.values[1]=_s295.values[1],_h122&&"C"===_h122.type&&(_h122.values[0]=_a105[1].values[0]+o.x,_h122.values[1]=_a105[1].values[1]+o.y);}}else if("C"===_s295.type)if(_s295.values[2]=_l161.values[2]+o.x,_s295.values[3]=_l161.values[3]+o.y,_s295.values[4]=_l161.values[4]+o.x,_s295.values[5]=_l161.values[5]+o.y,_n211&&"C"===_n211.type)_n211.values[0]=_h121.values[0]+o.x,_n211.values[1]=_h121.values[1]+o.y;else if(_n211&&"Z"===_n211.type){var _t679=ft(_s295,e),_n213=_t679[0],_h123=_t679[1],_a106=ft(_l161,i);_n213.values[0]=_s295.values[4],_n213.values[1]=_s295.values[5],"C"===_h123.type&&(_h123.values[0]=_a106[1].values[0]+o.x,_h123.values[1]=_a106[1].values[1]+o.y);}}}catch(err){_iterator393.e(err);}finally{_iterator393.f();}t.setPathData(e);};for(_iterator392.s();!(_step392=_iterator392.n()).done;){_loop6();}}catch(err){_iterator392.e(err);}finally{_iterator392.f();}}),window.addEventListener("pointerup",_n214=function n(t){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n214);var _iterator394=_createForOfIteratorHelper(_this274.lh),_step394;try{for(_iterator394.s();!(_step394=_iterator394.n()).done;){var _t680=_step394.value;var _e492=_t680[l];var _iterator395=_createForOfIteratorHelper(_e492),_step395;try{for(_iterator395.s();!(_step395=_iterator395.n()).done;){var _t681=_step395.value;_t681.values=_t681.values.map(function(t){return X(t,o.geometryPrecision);});}}catch(err){_iterator395.e(err);}finally{_iterator395.f();}_t680.setPathData(_e492);}}catch(err){_iterator394.e(err);}finally{_iterator394.f();}o.snapManager.snapEnd(),_this274.hh=null,_this274.ph();});},wh:function wh(t){t.target.closest(".node-grippie")?this.zh(t):t.target.matches(".control-grippie")?this.Oh(t):t.target.matches(".outline-grippie > path")&&this.Eh(t);},zh:function zh(t){var _this275=this;var e=t.target.closest(".node-grippie"),i=e[Zd],s=e[Qd],n=st(i.getPathData({normalize:!0})),o=n[s],l=n[s+1]||null,h=n[s-1]||null,a=ft(o,n),r=!1;if(St(n),"M"===o.type){if("C"===l.type){!1===(l.values[0]===o.values[0]&&l.values[1]===o.values[1])&&(l.values[0]=o.values[0],l.values[1]=o.values[1],r=!0);}}else if("C"===o.type)if(null===l||"M"===l.type){!1===(o.values[2]===o.values[4]&&o.values[3]===o.values[5])&&(o.values[2]=o.values[4],o.values[3]=o.values[5],r=!0);}else if("Z"===l.type){var _t683=a[1];if("C"===_t683.type){!1===(o.values[4]===_t683.values[0]&&o.values[5]===_t683.values[1]&&o.values[4]===o.values[2]&&o.values[5]===o.values[3])?(_t683.values[0]=o.values[4],_t683.values[1]=o.values[5],o.values[2]=o.values[4],o.values[3]=o.values[5]):kt(h,o,_t683),r=!0;}}else if("C"===l.type){!1===(l.values[0]===o.values[4]&&l.values[1]===o.values[5]&&o.values[2]===o.values[4]&&o.values[3]===o.values[5])?(o.values[2]=o.values[4],o.values[3]=o.values[5],l.values[0]=o.values[4],l.values[1]=o.values[5]):kt(h,o,l),r=!0;}if(r){this.Pn.undoManager.checkpoint("Edit path"),_t(n);var _iterator396=_createForOfIteratorHelper(n),_step396;try{for(_iterator396.s();!(_step396=_iterator396.n()).done;){var _t684=_step396.value;_t684.values=_t684.values.map(function(t){return X(t,_this275.Pn.geometryPrecision);});}}catch(err){_iterator396.e(err);}finally{_iterator396.f();}i.setPathData(n);}},Oh:function Oh(t){var _this276=this;var e=t.target,i=e.getAttribute("data-index"),s=e[Zd],n=e[Qd],o=st(s.getPathData({normalize:!0})),l=o[n],h=o[n-1]||null;"1"===i?"C"===h.type?(l.values[0]=h.values[4],l.values[1]=h.values[5]):"M"!==h.type&&"L"!==h.type||(l.values[0]=h.values[0],l.values[1]=h.values[1]):"2"===i&&(l.values[2]=l.values[4],l.values[3]=l.values[5]),this.Pn.undoManager.checkpoint("Edit path"),_t(o);var _iterator397=_createForOfIteratorHelper(o),_step397;try{for(_iterator397.s();!(_step397=_iterator397.n()).done;){var _t685=_step397.value;_t685.values=_t685.values.map(function(t){return X(t,_this276.Pn.geometryPrecision);});}}catch(err){_iterator397.e(err);}finally{_iterator397.f();}s.setPathData(o);},Eh:function Eh(t){var _this277=this;var e,i=t.target.closest(".outline-grippie"),s=t.target,n=i[Zd],o=n[Kd];if(o){var _t686=Ut(n);e=Vt(o).multiply(_t686).inverse();}else e=Vt(n).inverse();var l,h,a=st(n.getPathData({normalize:!0})),r=new DOMPoint(t.clientX,t.clientY).matrixTransform(e),_gt=gt(s,r),_gt2=_slicedToArray(_gt,1),d=_gt2[0],c=_toConsumableArray(i.children).indexOf(s),p=a[c];if("L"===p.type){var _t687=new DOMPoint(p.values[0],p.values[1]);l={type:"L",values:[d.x,d.y]},h={type:"L",values:[_t687.x,_t687.y]};}else if("C"===p.type){var _t688,_e494=a[c-1]||null;"M"===_e494.type||"L"===_e494.type?_t688=new DOMPoint(_e494.values[0],_e494.values[1]):"C"===_e494.type&&(_t688=new DOMPoint(_e494.values[4],_e494.values[5]));var _i502=new DOMPoint(p.values[4],p.values[5]),_s297=new DOMPoint(p.values[0],p.values[1]),_n215=new DOMPoint(p.values[2],p.values[3]),_o177=Vd(d,_t688,_s297,_n215,_i502),_r58=function(t,e,i,s,n){var o=(e.x-t.x)*n+t.x,l=(e.y-t.y)*n+t.y,h=(i.x-e.x)*n+e.x,a=(i.y-e.y)*n+e.y,r=(s.x-i.x)*n+i.x,d=(s.y-i.y)*n+i.y,c=(h-o)*n+o,p=(a-l)*n+l,u=(r-h)*n+h,x=(d-a)*n+a,b=(u-c)*n+c,m=(x-p)*n+p;return[[new DOMPoint(t.x,t.y),new DOMPoint(o,l),new DOMPoint(c,p),new DOMPoint(b,m)],[new DOMPoint(b,m),new DOMPoint(u,x),new DOMPoint(r,d),new DOMPoint(s.x,s.y)]];}(_t688,_s297,_n215,_i502,_o177);if(-1===_o177)return;l={type:"C",values:[_r58[0][1].x,_r58[0][1].y,_r58[0][2].x,_r58[0][2].y,_r58[0][3].x,_r58[0][3].y]},h={type:"C",values:[_r58[1][1].x,_r58[1][1].y,_r58[1][2].x,_r58[1][2].y,_r58[1][3].x,_r58[1][3].y]};}this.Pn.undoManager.checkpoint("Add path node"),a=[].concat(_toConsumableArray(a.slice(0,c)),[l,h],_toConsumableArray(a.slice(c+1)));var _iterator398=_createForOfIteratorHelper(a),_step398;try{for(_iterator398.s();!(_step398=_iterator398.n()).done;){var _t689=_step398.value;_t689.values=_t689.values.map(function(t){return X(t,_this277.Pn.geometryPrecision);});}}catch(err){_iterator398.e(err);}finally{_iterator398.f();}n.setPathData(a),this.eh=[{path:n,index:c}],this.Ql(),this.uh(),this.dispatchEvent(new CustomEvent("selectednodeschange"));},Mh:function Mh(t){var _this278=this;if(0===t.button){var _e496,_i504,_s298=t.target,_n216=new DOMPoint(t.clientX,t.clientY),_o178=_n216;window.addEventListener("pointermove",_e496=function _e495(l){var h=new DOMPoint(l.clientX,l.clientY),a=l.timeStamp-t.timeStamp,r=Pe(_n216,h)>3||a>80,d=!1===_e(_o178,h,0);_o178=h,!0===r&&!0===d&&(window.removeEventListener("pointermove",_e496),window.removeEventListener("pointerup",_i504),_this278.Th(t,_s298));}),window.addEventListener("pointerup",_i504=function _i503(t){window.removeEventListener("pointermove",_e496),window.removeEventListener("pointerup",_i504);});}},Th:function Th(t,e){var _this279=this;var i,s,n=this.Pn,o=e.getAttribute("data-index"),l=e[Zd],h=l[Kd];if(n.undoManager.checkpoint("Move control point"),n.snapManager.snapStart(!0),h){var _t690=Ut(l),_e497=Vt(h);s=_e497.multiply(_t690),i=s.inverse();}else s=Vt(l),i=s.inverse();var a=l.getPathData({normalize:!0});a=st(a),St(a);var r,_d40,c,p=e[Qd],u=a[p],x=a[p-1]||null,b=a[p+1]||null,m=ft(u,a),g=Ct(u,a),f=new DOMPoint(t.clientX,t.clientY).matrixTransform(i),w=_toConsumableArray(u.values),v=null,y=null,k=null;v="M"===x.type&&g?m[m.length-2]:x,b&&("Z"===b.type?y=g?m[1]:null:"C"===b.type&&(y=b)),"1"===o?"M"===v.type||"L"===v.type?k=new DOMPoint(v.values[0],v.values[1]):"C"===v.type&&(k=new DOMPoint(v.values[4],v.values[5])):"2"===o&&(k=new DOMPoint(u.values[4],u.values[5]));var S="sharp",_=k.matrixTransform(s),C=new DOMPoint(f.x,f.y);this.ah=e;var M=function M(){var _this279$Qs$modKeys=_this279.Qs.modKeys,t=_this279$Qs$modKeys.ctrl,e=_this279$Qs$modKeys.shift;!0===t&&!1===e?S="sharp":!1===t&&!0===e?"1"===o?S=v&&"C"===v.type?"smooth":"sharp":"2"===o&&(S=y&&"C"===y.type?"smooth":"sharp"):!0===t&&!0===e?"1"===o?S=v&&"C"===v.type?"symmetric-smooth":"sharp":"2"===o&&(S=y&&"C"===y.type?"symmetric-smooth":"sharp"):!1===t&&!1===e&&("1"===o?S=wt(v,u):"2"===o&&(S=wt(u,y)));},P=function P(){if("1"===o){var _t691;if(_this279.Qs.modKeys.shift)_t691=C;else{var _e498=C.x-f.x,_i505=C.y-f.y;_t691=new DOMPoint(w[0]+_e498,w[1]+_i505);}{var _e499=_t691.matrixTransform(s);_t691=n.snapManager.snapPoint(_e499).matrixTransform(i);}if(u.values[0]=_t691.x,u.values[1]=_t691.y,"smooth"===S){var _e500=new DOMPoint(v.values[2],v.values[3]),_i506=new q(k,_t691),_s299=new q(k,_e500),_n217=_i506.getOppositeVector();_n217.length=_s299.length,v.values[2]=k.x+_n217.x,v.values[3]=k.y+_n217.y;}else if("symmetric-smooth"===S){var _e501=new q(k,_t691);_e501=_e501.negate(),v.values[2]=k.x+_e501.x,v.values[3]=k.y+_e501.y;}}else if("2"===o){var _t692;if(_this279.Qs.modKeys.shift)_t692=C;else{var _e502=C.x-f.x,_i507=C.y-f.y;_t692=new DOMPoint(w[2]+_e502,w[3]+_i507);}{var _e503=_t692.matrixTransform(s);_t692=n.snapManager.snapPoint(_e503).matrixTransform(i);}if(u.values[2]=_t692.x,u.values[3]=_t692.y,"smooth"===S){var _e504=new DOMPoint(y.values[0],y.values[1]),_i508=new q(k,_t692),_s300=new q(k,_e504),_n218=_i508.getOppositeVector();_n218.length=_s300.length,y.values[0]=k.x+_n218.x,y.values[1]=k.y+_n218.y;}else if("symmetric-smooth"===S){var _e505=new q(k,_t692);_e505=_e505.negate(),y.values[0]=k.x+_e505.x,y.values[1]=k.y+_e505.y;}}l.setPathData(a);};window.addEventListener("pointermove",r=function r(t){var e=new DOMPoint(t.clientX,t.clientY);if(_this279.Qs.modKeys.shift){var _Te7=Te(_,e,22.5),_Te8=_slicedToArray(_Te7,1),_t693=_Te8[0];e=_t693;}C=e.matrixTransform(i),P();}),window.addEventListener("pointerup",_d40=function d(t){window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",_d40),_this279.Qs.removeEventListener("modkeyschange",c),_t(a);var _iterator399=_createForOfIteratorHelper(a),_step399;try{for(_iterator399.s();!(_step399=_iterator399.n()).done;){var _t694=_step399.value;_t694.values=_t694.values.map(function(t){return X(t,_this279.Pn.geometryPrecision);});}}catch(err){_iterator399.e(err);}finally{_iterator399.f();}l.setPathData(a),_this279.ah=null,n.snapManager.snapEnd();}),this.Qs.addEventListener("modkeyschange",c=function c(){M();}),M();},Ph:function Ph(t){var _this280=this;if(0===t.button){var _e507,_i511,_s301=!1,_n219=new DOMPoint(t.clientX,t.clientY),_o179=_n219,_l162=t.target.closest(".outline-grippie"),_h124=t.target;window.addEventListener("pointermove",_e507=function _e506(l){var a=new DOMPoint(l.clientX,l.clientY),r=l.timeStamp-t.timeStamp,d=Pe(_n219,a)>3||r>80,c=!1===_e(_o179,a,0);_o179=a,!0===d&&!0===c&&(window.removeEventListener("pointermove",_e507),window.removeEventListener("pointerup",_i511),_this280.Ah(l,_h124),_s301=!0);}),window.addEventListener("pointerup",_i511=function _i509(n){if(window.removeEventListener("pointermove",_e507),window.removeEventListener("pointerup",_i511),!1===_s301){var _e508,_i510=_l162[Zd],_s302=_i510[Kd];if(_s302){var _t695=Ut(_i510);_e508=Vt(_s302).multiply(_t695).inverse();}else _e508=Vt(_i510).inverse();var _n220=st(_i510.getPathData({normalize:!0})),_o180=(new DOMPoint(t.clientX,t.clientY).matrixTransform(_e508),_toConsumableArray(_l162.children).indexOf(_h124)),_a107=_o180-1,_r59=_n220[_o180],_d41=_n220[_a107],_c34=ft(_r59,_n220),_p30=Ct(_r59,_n220);_d41?_p30&&"M"===_d41.type?_this280.eh=[{path:_i510,index:_o180},{path:_i510,index:_c34.length-2}]:_this280.eh=[{path:_i510,index:_o180},{path:_i510,index:_a107}]:_this280.eh=[{path:_i510,index:_o180}],_this280.ih(),_this280.sh(),_this280.dispatchEvent(new CustomEvent("selectednodeschange"));}});}},Ah:function Ah(t,e){var _this281=this;var i,s=e.closest(".outline-grippie"),n=s[Zd],o=n[Kd];if(this.Pn.undoManager.checkpoint("Edit path"),this.rh=s,this["#outline-grippies"].style.display="none",o){var _t696=Ut(n),_e509=Vt(o);i=_e509.multiply(_t696).inverse();}else i=Vt(n).inverse();var l,_h125,a,r=st(n.getPathData({normalize:!0})),d=new DOMPoint(t.clientX,t.clientY).matrixTransform(i),_gt3=gt(e,d),_gt4=_slicedToArray(_gt3,1),c=_gt4[0],p=_toConsumableArray(s.children).indexOf(e),u=r[p],x=r[p-1],b=r[p+1],m=ft(u,r),g=Ct(u,r),f=new q(d,c),w=new DOMPoint(d.x,d.y),v=null,y=null,k=null,S=null,_=!1,C=!1;St(r),v="M"===x.type&&g?m[m.length-2]:x,b&&("Z"===b.type?y=g?m[1]:null:"C"===b.type&&(y=b)),"M"===v.type||"L"===v.type?k=new DOMPoint(v.values[0],v.values[1]):"C"===v.type&&(k=new DOMPoint(v.values[4],v.values[5])),"M"===u.type||"L"===u.type?S=new DOMPoint(u.values[0],u.values[1]):"C"===u.type&&(S=new DOMPoint(u.values[4],u.values[5]));var M=function M(){var _this281$Qs$modKeys=_this281.Qs.modKeys,t=_this281$Qs$modKeys.ctrl,e=_this281$Qs$modKeys.shift;!0===t&&!1===e?(_=!1,C=!1):!1===t&&!0===e?(_=!(!v||"C"!==v.type)&&"smooth",C=!(!y||"C"!==y.type)&&"smooth"):!0===t&&!0===e?(_=!(!v||"C"!==v.type)&&"symmetric-smooth",C=!(!y||"C"!==y.type)&&"symmetric-smooth"):!1===t&&!1===e&&(_=wt(v,u),C=wt(u,y));},P=function P(){var t=new DOMPoint(u.values[0],u.values[1]),e=new DOMPoint(u.values[2],u.values[3]),i=Vd(c,k,t,e,S),s=1;if(i<=1/6?s=0:i<=.5?s=Yd((6*i-1)/2,3)/2:i<=5/6&&(s=(1-Yd((6*(1-i)-1)/2,3))/2+.5),-1===i)return;var o=(1-s)/(3*i*(1-i)*(1-i)),l=s/(3*i*i*(1-i)),h=w.x-c.x,a=w.y-c.y;u.values[0]=u.values[0]+o*h,u.values[1]=u.values[1]+o*a,u.values[2]=u.values[2]+l*h,u.values[3]=u.values[3]+l*a,"smooth"===_?vt(u,v,!1):"symmetric-smooth"===_&&vt(u,v,!0),"smooth"===C?yt(u,y,!1):"symmetric-smooth"===C&&yt(u,y,!0),c=w,n.setPathData(r);};window.addEventListener("pointermove",l=function l(t){w=new DOMPoint(t.clientX,t.clientY).matrixTransform(i),w.x+=f.x,w.y+=f.y,P();}),window.addEventListener("pointerup",_h125=function h(t){_this281.Qs.removeEventListener("modkeyschange",a),window.removeEventListener("pointermove",l),window.removeEventListener("pointerup",_h125),_t(r);var _iterator400=_createForOfIteratorHelper(r),_step400;try{for(_iterator400.s();!(_step400=_iterator400.n()).done;){var _t697=_step400.value;_t697.values=_t697.values.map(function(t){return X(t,_this281.Pn.geometryPrecision);});}}catch(err){_iterator400.e(err);}finally{_iterator400.f();}n.setPathData(r),_this281.rh=null,_this281["#outline-grippies"].style.display=null,_this281.ph();}),this.Qs.addEventListener("modkeyschange",a=function a(){M(),P();}),M();},ph:function ph(){if(this.rh||this.hh||this.ah)return;var t=document.createDocumentFragment();var _iterator401=_createForOfIteratorHelper(this.lh),_step401;try{for(_iterator401.s();!(_step401=_iterator401.n()).done;){var _e510=_step401.value;var _i512=void 0;if(_e510[Kd]){var _t698=Nt(_e510[Kd],this),_s304=Ut(_e510);_i512=_t698.multiply(_s304);}else _i512=Nt(_e510,this);var _s303=st(_e510.getPathData({normalize:!0})),_n221=Di("svg:g");_n221[Zd]=_e510,_n221.setAttribute("class","outline-grippie"),_n221.setAttribute("transform",_i512.toString()),t.append(_n221);var _o181=0,_l163=0,_h126=0,_a108=0;var _iterator402=_createForOfIteratorHelper(_s303),_step402;try{for(_iterator402.s();!(_step402=_iterator402.n()).done;){var _t699=_step402.value;var _e511=Di("svg:path");"M"===_t699.type?(_e511.setPathData([_t699]),_o181=_t699.values[0],_l163=_t699.values[1],_h126=_o181,_a108=_l163):"C"===_t699.type?(_e511.setPathData([{type:"M",values:[_o181,_l163]},_t699]),_o181=_t699.values[4],_l163=_t699.values[5]):"L"===_t699.type?(_e511.setPathData([{type:"M",values:[_o181,_l163]},_t699]),_o181=_t699.values[0],_l163=_t699.values[1]):"Z"===_t699.type&&(_e511.setPathData([{type:"M",values:[_o181,_l163]},{type:"L",values:[_h126,_a108]}]),_o181=_h126,_l163=_a108),_n221.append(_e511);}}catch(err){_iterator402.e(err);}finally{_iterator402.f();}}}catch(err){_iterator401.e(err);}finally{_iterator401.f();}this["#outline-grippies"].innerHTML="",this["#outline-grippies"].append(t),this.fh();},Ql:function Ql(){var _this282=this;if(this.rh||this.ah)return;var t=document.createDocumentFragment(),e=qd/this.Pn.scale,i=.3*e;var _iterator403=_createForOfIteratorHelper(this.lh),_step403;try{var _loop7=function _loop7(){var s=_step403.value;var n=void 0;if(s[Kd]){var _t700=Nt(s[Kd],_this282),_e512=Ut(s);n=_t700.multiply(_e512);}else n=Nt(s,_this282);var o=st(s.getPathData({normalize:!0})),l=[],h=-1;var _iterator404=_createForOfIteratorHelper(ot(o)),_step404;try{for(_iterator404.s();!(_step404=_iterator404.n()).done;){var _t701=_step404.value;var _o182="Z"===_t701[_t701.length-1].type,_a109=-1;var _iterator405=_createForOfIteratorHelper(_t701),_step405;try{for(_iterator405.s();!(_step405=_iterator405.n()).done;){var _r60=_step405.value;_a109+=1,h+=1;_t701[_a109-1];var _d42=void 0,_c35=_t701[_a109+1]||null,_p31="mid";if("C"===_r60.type)_d42=new DOMPoint(_r60.values[4],_r60.values[5]),!1===_o182&&null===_c35&&(_p31="end");else if("L"===_r60.type)_d42=new DOMPoint(_r60.values[0],_r60.values[1]),!1===_o182&&null===_c35&&(_p31="end");else{if("M"!==_r60.type)continue;if(!1!==_o182)continue;_d42=new DOMPoint(_r60.values[0],_r60.values[1]),_p31="start";}var _u28=_d42.matrixTransform(n),_x93=Di("svg:g");_x93.setAttribute("class","node-grippie"),_x93.setAttribute("data-position",_p31),_x93[Zd]=s,_x93[Qd]=h;var _b26=" <circle class=\"outer-circle\" cx=\"".concat(_u28.x,"\" cy=\"").concat(_u28.y,"\" r=\"").concat(e,"\"></circle>");"start"!==_p31&&"end"!==_p31||(_b26+="<circle class=\"inner-circle\" cx=\"".concat(_u28.x,"\" cy=\"").concat(_u28.y,"\" r=\"").concat(i,"\"></circle>")),_x93.innerHTML=_b26,_this282.eh.find(function(t){return t.path===s&&t.index===h;})&&_x93.setAttribute("data-selected",""),l.push(_x93);}}catch(err){_iterator405.e(err);}finally{_iterator405.f();}}}catch(err){_iterator404.e(err);}finally{_iterator404.f();}for(var _i513=0,_l164=l;_i513<_l164.length;_i513++){var _e513=_l164[_i513];!1===_e513.hasAttribute("data-selected")&&t.append(_e513);}for(var _i514=0,_l165=l;_i514<_l165.length;_i514++){var _e514=_l165[_i514];!0===_e514.hasAttribute("data-selected")&&t.append(_e514);}};for(_iterator403.s();!(_step403=_iterator403.n()).done;){_loop7();}}catch(err){_iterator403.e(err);}finally{_iterator403.f();}this["#node-grippies"].innerHTML="",this["#node-grippies"].append(t);},uh:function uh(){var _this283=this;var t=document.createDocumentFragment(),e=document.createDocumentFragment();var _iterator406=_createForOfIteratorHelper(this.lh),_step406;try{var _loop8=function _loop8(){var i=_step406.value;var s=void 0,n=st(i.getPathData({normalize:!0})),o=_this283.eh.filter(function(t){return t.path===i;}).map(function(t){return t.index;});if(i[Kd]){var _t702=Nt(i[Kd],_this283),_e515=Ut(i);s=_t702.multiply(_e515);}else s=Nt(i,_this283);var _iterator407=_createForOfIteratorHelper(o),_step407;try{for(_iterator407.s();!(_step407=_iterator407.n()).done;){var _l166=_step407.value;var _o183=void 0,_h127=n[_l166],_a110=n[_l166+1]||null,_r61=ft(_h127,n)[1],_d43=n.indexOf(_r61),_c36=null,_p32=null;if("M"===_h127.type||"L"===_h127.type?_o183=new DOMPoint(_h127.values[0],_h127.values[1]):"C"===_h127.type&&(_o183=new DOMPoint(_h127.values[4],_h127.values[5])),"C"===_h127.type&&(_c36=new DOMPoint(_h127.values[2],_h127.values[3])),_a110&&("C"===_a110.type?_p32=new DOMPoint(_a110.values[0],_a110.values[1]):"Z"===_a110.type&&"C"===_r61.type&&(_p32=new DOMPoint(_r61.values[0],_r61.values[1]))),_c36&&!1===_e(_o183,_c36)){var _n222=_o183.matrixTransform(s),_h128=_c36.matrixTransform(s),_a111=Di("svg:circle");_a111.setAttribute("class","control-grippie"),_a111.setAttribute("data-index","2"),_a111.setAttribute("cx",_h128.x),_a111.setAttribute("cy",_h128.y),_a111.setAttribute("r",Xd/_this283.Pn.scale),_a111[Zd]=i,_a111[Qd]=_l166;var _r62=Di("svg:line");_r62.setAttribute("class","control-line"),_r62.setAttribute("x1",_n222.x),_r62.setAttribute("y1",_n222.y),_r62.setAttribute("x2",_h128.x),_r62.setAttribute("y2",_h128.y),t.append(_a111),e.append(_r62);}if(_p32&&!1===_e(_o183,_p32)){var _n223=_o183.matrixTransform(s),_h129=_p32.matrixTransform(s),_r63=Di("svg:circle");_r63.setAttribute("class","control-grippie"),_r63.setAttribute("data-index","1"),_r63.setAttribute("cx",_h129.x),_r63.setAttribute("cy",_h129.y),_r63.setAttribute("r",Xd/_this283.Pn.scale),_r63[Zd]=i,_r63[Qd]="Z"===_a110.type?_d43:_l166+1;var _c37=Di("svg:line");_c37.setAttribute("class","control-line"),_c37.setAttribute("x1",_n223.x),_c37.setAttribute("y1",_n223.y),_c37.setAttribute("x2",_h129.x),_c37.setAttribute("y2",_h129.y),t.append(_r63),e.append(_c37);}}}catch(err){_iterator407.e(err);}finally{_iterator407.f();}};for(_iterator406.s();!(_step406=_iterator406.n()).done;){_loop8();}}catch(err){_iterator406.e(err);}finally{_iterator406.f();}this["#control-grippies"].innerHTML="",this["#control-grippies"].append(t),this["#control-lines"].innerHTML="",this["#control-lines"].append(e);},th:function th(){var t=qd/this.Pn.scale,e=.3*t;var _iterator408=_createForOfIteratorHelper(this["#node-grippies"].children),_step408;try{for(_iterator408.s();!(_step408=_iterator408.n()).done;){var _i515=_step408.value;_i515.children[0].setAttribute("r",t),_i515.children[1]&&_i515.children[1].setAttribute("r",e);}}catch(err){_iterator408.e(err);}finally{_iterator408.f();}},mh:function mh(){var _iterator409=_createForOfIteratorHelper(this["#control-grippies"].children),_step409;try{for(_iterator409.s();!(_step409=_iterator409.n()).done;){var _t703=_step409.value;_t703.setAttribute("r",Xd/this.Pn.scale);}}catch(err){_iterator409.e(err);}finally{_iterator409.f();}},fh:function fh(){var _iterator410=_createForOfIteratorHelper(this["#outline-grippies"].children),_step410;try{for(_iterator410.s();!(_step410=_iterator410.n()).done;){var _t704=_step410.value;var _e516=_t704[Zd],_i516=getComputedStyle(_e516),_s305=Wd(_i516.getPropertyValue("stroke-width"))*this.Pn.scale;_s305<10&&(_s305=10),_t704.style.setProperty("stroke-width",_s305);}}catch(err){_iterator410.e(err);}finally{_iterator410.f();}},nh:function nh(){var t=[];var _iterator411=_createForOfIteratorHelper(this.lh),_step411;try{for(_iterator411.s();!(_step411=_iterator411.n()).done;){var _e517=_step411.value;var _i517=st(_e517.getPathData({normalize:!0}));for(var _s306=0;_s306<_i517.length;_s306+=1){var _n224=_i517[_s306];("C"===_n224.type||"L"===_n224.type||"M"===_n224.type&&!1===Ct(_n224,_i517))&&t.push({path:_e517,index:_s306});}}}catch(err){_iterator411.e(err);}finally{_iterator411.f();}this.eh=t,this.Ql(),this.uh(),this.dispatchEvent(new CustomEvent("selectednodeschange"));},deselectAllSegs:function deselectAllSegs(){this.eh=[],this.ih(),this.sh(),this.dispatchEvent(new CustomEvent("selectednodeschange"));},_h:function _h(){var _this284=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"smooth";this.Pn.undoManager.checkpoint("Delete segments");var _iterator412=_createForOfIteratorHelper(this.lh),_step412;try{var _loop9=function _loop9(){var e=_step412.value;var i=st(e.getPathData({normalize:!0}));St(i);var s=_this284.eh.filter(function(t){return t.path===e;});s=s.map(function(t){return t.index;}),s=s.sort(function(t,e){return e-t;});var n=s.filter(function(t){return"C"===i[t].type;}),o=s.filter(function(t){return"M"===i[t].type;});if(0!==s.length){var _iterator413=_createForOfIteratorHelper(n),_step413;try{var _loop10=function _loop10(){var e=_step413.value;var s=i[e],n=i[e+1]||null,o=i[e-1]||null;if(null===n)i=i.filter(function(t){return t!==s;});else if("M"===n.type)i=i.filter(function(t){return t!==s;});else if("Z"===n.type){var _e518=ft(s,i),_n225=_e518[0],_l167=_e518[1];i=i.filter(function(t){return t!==s;}),"L"===o.type||"M"===o.type?(_n225.values[0]=o.values[0],_n225.values[1]=o.values[1]):"C"===o.type&&(_n225.values[0]=o.values[4],_n225.values[1]=o.values[5]),"C"===_l167.type&&("smooth"===t?(_l167.values[0]=s.values[0],_l167.values[1]=s.values[1]):"sharp"===t&&("L"===o.type||"M"===o.type?(_l167.values[0]=o.values[0],_l167.values[1]=o.values[1]):"C"===o.type&&(_l167.values[0]=o.values[4],_l167.values[1]=o.values[5]),_l167.values[2]=_l167.values[4],_l167.values[3]=_l167.values[5]));}else"C"===n.type?(i=i.filter(function(t){return t!==s;}),"smooth"===t?(n.values[0]=s.values[0],n.values[1]=s.values[1]):"sharp"===t&&("M"===o.type||"L"===o.type?(n.values[0]=o.values[0],n.values[1]=o.values[1]):"C"===o.type&&(n.values[0]=o.values[4],n.values[1]=o.values[5]),n.values[2]=n.values[4],n.values[3]=n.values[5])):"L"===n.type&&(i=i.filter(function(t){return t!==s;}));};for(_iterator413.s();!(_step413=_iterator413.n()).done;){_loop10();}}catch(err){_iterator413.e(err);}finally{_iterator413.f();}var _iterator414=_createForOfIteratorHelper(o),_step414;try{for(_iterator414.s();!(_step414=_iterator414.n()).done;){var _t705=_step414.value;var _e519=i[_t705],_s307=ft(_e519,i);if(_s307.length>1){(function(){var t=_s307[0],e=_s307[1];i=i.filter(function(t){return t!==e;}),"L"===e.type?(t.values[0]=e.values[0],t.values[1]=e.values[1]):"C"===e.type&&(t.values[0]=e.values[4],t.values[1]=e.values[5]);})();}}}catch(err){_iterator414.e(err);}finally{_iterator414.f();}var _iterator415=_createForOfIteratorHelper(ot(i)),_step415;try{for(_iterator415.s();!(_step415=_iterator415.n()).done;){var _t706=_step415.value;var _e520=_t706.filter(function(t){return"C"===t.type;}),_s308="Z"===_t706[_t706.length-1].type?2:1;if(_e520.length<_s308){var _iterator417=_createForOfIteratorHelper(_t706),_step417;try{var _loop11=function _loop11(){var e=_step417.value;i=i.filter(function(t){return t!==e;});};for(_iterator417.s();!(_step417=_iterator417.n()).done;){_loop11();}}catch(err){_iterator417.e(err);}finally{_iterator417.f();}}}}catch(err){_iterator415.e(err);}finally{_iterator415.f();}_t(i);var _iterator416=_createForOfIteratorHelper(i),_step416;try{for(_iterator416.s();!(_step416=_iterator416.n()).done;){var _t707=_step416.value;_t707.values=_t707.values.map(function(t){return X(t,_this284.Pn.geometryPrecision);});}}catch(err){_iterator416.e(err);}finally{_iterator416.f();}e.setPathData(i),!1===e.hasAttribute("d")&&e.remove();}};for(_iterator412.s();!(_step412=_iterator412.n()).done;){_loop9();}}catch(err){_iterator412.e(err);}finally{_iterator412.f();}this.eh=[],this.Ql(),this.uh(),this.ph(),this.dispatchEvent(new CustomEvent("selectednodeschange"));},getNodeGrippieDescriptor:function getNodeGrippieDescriptor(t,e){var _iterator418=_createForOfIteratorHelper(this.Pn.getElementsFromPoint(t,e)),_step418;try{for(_iterator418.s();!(_step418=_iterator418.n()).done;){var _i518=_step418.value;var _t708=_i518.closest(".node-grippie");if(_t708&&this.contains(_t708))return{position:_t708.getAttribute("data-position"),selected:_t708.hasAttribute("data-selected"),path:_t708[Zd],index:_t708[Qd]};}}catch(err){_iterator418.e(err);}finally{_iterator418.f();}return null;},Sh:function Sh(){var _this285=this;var t=[],e=[],i=function i(s){var _iterator419=_createForOfIteratorHelper(s),_step419;try{for(_iterator419.s();!(_step419=_iterator419.n()).done;){var _n226=_step419.value;if("path"===_n226.localName)_n226.hasAttribute("d")&&!_n226.hasAttribute("data-bx-shape")&&(_n226[Kd]=null,t.push(_n226));else if("text"===_n226.localName){var _t709=_n226,_i519=_toConsumableArray(_n226.children).find(function(t){return"textPath"===t.localName;});if(_i519){var _s309=_i519.getAttribute("href");if(_s309){var _i520=_s309.trim().substring(1),_n227=_this285.Pn.workspaces.querySelector("#"+CSS.escape(_i520));_n227&&_n227.hasAttribute("d")&&!_n227.hasAttribute("data-bx-shape")&&(_n227[Kd]=_t709,e.push(_n227));}}}else["g","a"].includes(_n226.localName)&&i(_n226.children);}}catch(err){_iterator419.e(err);}finally{_iterator419.f();}};return i(this.Pn.selectedElements),t=t.filter(function(t){return!1===e.includes(t);}),[].concat(_toConsumableArray(t),e);}};var tc=Symbol(),ec=Symbol(),ic=Symbol(),sc=Symbol();var nc={id:"linear-gradient-hud",get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";},set context(t){this.setAttribute("context",t),this.enabled&&(this.selectedStops=[],this.$h());},get selectedStops(){var t=_toConsumableArray(this["#subhuds"].querySelectorAll(".stop-grippie")).map(function(t){return t[sc];});return this.Ih.filter(function(e){return t.includes(e)&&e.isConnected;});},set selectedStops(t){this.Lh(t);},createdCallback:function createdCallback(){var _this286=this;this.commands={selectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this286.Bh();}},deselectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this286.Rh();}}},this.Ih=[],this.qo=null,this.Gh=null,this.$h=qi(this.Fh,80,this),this.tabIndex=-1,this.innerHTML='\n  <style>\n    #linear-gradient-hud .subhud:focus {\n      outline: none;\n    }\n\n    #linear-gradient-hud .slider {\n      stroke: white;\n      stroke-width: 7;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      outline: none;\n    }\n\n    #linear-gradient-hud .slider-shadow {\n      stroke: rgba(0, 0, 0, 0.3);\n      stroke-width: 10;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      outline: none;\n    }\n\n    #linear-gradient-hud .stop-grippie {\n      fill: black;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #linear-gradient-hud .stop-grippie[data-selected] {\n      stroke: rgb(186, 186, 186); /* gray */\n    }\n    #linear-gradient-hud .subhud:focus .stop-grippie[data-selected] {\n      stroke: rgb(147, 210, 255); /* blue */\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud" tabindex="0">\n      <line class="slider-shadow"></line>\n      <line class="slider"></line>\n      <g class="stop-grippies"></g>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator420=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step420;try{for(_iterator420.s();!(_step420=_iterator420.n()).done;){var _t710=_step420.value;this["#"+_t710.getAttribute("uid")]=_t710;}}catch(err){_iterator420.e(err);}finally{_iterator420.f();}this.addEventListener("keydown",function(t){return _this286.vn(t);}),this.addEventListener("pointerdown",function(t){return _this286.wo(t);}),this.addEventListener("pointerup",function(t){return _this286.Uh(t);}),this.addEventListener("dblclick",function(t){return _this286.wh(t);});},enabledCallback:function enabledCallback(){var _this287=this;this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this287.Qo();}),this.Pn.addEventListener("selectedtextrangechange",this.Nh=function(){_this287.Vh();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this287.il(t.detail);}),this.Pn.addEventListener("zoomchange",this.an=function(){_this287.el();}),this.Pn.workspaces.addEventListener("pointerdown",this.yn=function(t){_this287.kn(t);}),this.Pn.huds.addEventListener("pointerdown",this.jh=function(t){_this287.Hh(t);}),this.Pn.undoManager.addEventListener("undo",this.yh=function(){_this287.Yh();}),this.Pn.undoManager.addEventListener("redo",this.kh=function(){_this287.Yh();}),this.Qo();},disabledCallback:function disabledCallback(){this.Lh([]),this.Pn.removeEventListener("selectedelementschange",this.Ko),this.Pn.removeEventListener("selectedtextrangechange",this.Nh),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("zoomchange",this.an),this.Pn.workspaces.removeEventListener("pointerdown",this.yn),this.Pn.huds.removeEventListener("pointerdown",this.jh),this.Pn.undoManager.removeEventListener("undo",this.yh),this.Pn.undoManager.removeEventListener("redo",this.kh);},Qo:function Qo(){this.$h();},Vh:function Vh(){this.$h();},il:function il(t){if(this.qo)this.Wh(this.qo.closest(".subhud"));else if(this.Gh)this.Wh(this.Gh.parentElement);else{var _iterator421=_createForOfIteratorHelper(t),_step421;try{for(_iterator421.s();!(_step421=_iterator421.n()).done;){var _e521=_step421.value;"style"===_e521.attributeName&&"stop"===_e521.target.localName?this.qh():this.$h();}}catch(err){_iterator421.e(err);}finally{_iterator421.f();}}},el:function el(){this.ol();},Yh:function Yh(){this.Lh([]);},kn:function kn(t){1===t.buttons&&this.Lh([]);},Hh:function Hh(t){t.target!==this&&!1===this.contains(t.target)&&1===t.buttons&&this.Lh([]);},wo:function wo(t){var _this288=this;if(1!==t.buttons)return;var e,_i521;t.target.classList.contains("slider")?this.Xh(t):t.target.classList.contains("stop-grippie")&&this.Zh(t),this.Kh=!1,this.Qh=t.timeStamp,window.addEventListener("pointermove",e=function e(){_this288.Kh=!0;}),window.addEventListener("pointerup",_i521=function i(){window.removeEventListener("pointerup",_i521),window.removeEventListener("pointermove",e);});},Uh:function Uh(t){t.target.classList.contains("stop-grippie")&&this.Jh(t);},wh:function wh(t){t.timeStamp-this.Qh<300&&t.target.classList.contains("slider")&&this.ta(t);},Zh:function Zh(t){var _this289=this;var e=t.target[sc],i=e.closest("linearGradient, radialGradient"),s=Po(i),n=s.filter(function(t){return _this289.Ih.includes(t);}),o=s[0],l=s[s.length-1],_this$Qs$modKeys5=this.Qs.modKeys,h=_this$Qs$modKeys5.alt,a=_this$Qs$modKeys5.shift;this.ea=_toConsumableArray(n),!1===a?!1===n.includes(e)&&this.Lh([e]):!0===a&&!1===n.includes(e)&&(n.push(e),this.Lh(n)),e===o&&0===e.offset.baseVal&&!1===h?this.ia(t,"start"):e===l&&1===e.offset.baseVal&&!1===h?this.ia(t,"end"):this.sa(t);},Jh:function Jh(t){if(this.Kh)return;var e=t.target,i=this.ea,s=e[sc],n=e.closest(".subhud")[ec],o=this.Qs.modKeys.shift,l=[];var _iterator422=_createForOfIteratorHelper(this.Pn.selectedElements),_step422;try{for(_iterator422.s();!(_step422=_iterator422.n()).done;){var _t712=_step422.value;if("g"!==_t712.localName&&"a"!==_t712.localName||!_t712.contains(n))l.push(_t712);else{var _iterator423=_createForOfIteratorHelper($i(_toConsumableArray(_t712.children))),_step423;try{for(_iterator423.s();!(_step423=_iterator423.n()).done;){var _e522=_step423.value;l.unshift(_e522);}}catch(err){_iterator423.e(err);}finally{_iterator423.f();}}}}catch(err){_iterator422.e(err);}finally{_iterator422.f();}this.Pn.isSelectableElement(n)&&(l=l.filter(function(t){return t!==n;}),l.unshift(n)),this.Pn.selectedElements=l;for(var _t711=n.parentElement;_t711!==this.Pn.currentWorkspace;_t711=_t711.parentElement){if("g"===_t711.localName||"a"===_t711.localName){this.Pn.currentContainer=_t711;break;}}!0===o&&!0===this.ea.includes(s)&&(i=i.filter(function(t){return t!==s;}),this.Lh(i));},sa:function sa(t){var _this290=this;var e,_i524,s=t.target,n=s.closest(".subhud").querySelector(".slider"),o=this.Pn.geometryPrecision,l=this.na(),h=Vt(this),a=h.inverse(),r=new DOMPoint(t.clientX,t.clientY),d=r,c=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value),p=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value),u=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value),x=u.matrixTransform(h),_ze27=ze(c,p,u,!1),_ze28=_slicedToArray(_ze27,1),b=_ze28[0],m=Pe(c,b)/Pe(c,p),g=!1;this.qo=s,s.setPointerCapture(t.pointerId),s.addEventListener("pointermove",e=function e(_e524){{var _i522=new DOMPoint(_e524.clientX,_e524.clientY),_s310=_e524.timeStamp-t.timeStamp;if(!0===_e(d,_i522,0))return;if(d=_i522,Pe(r,_i522)<3&&_s310<80)return;}!1===g&&(_this290.Pn.undoManager.checkpoint("Move gradient stop"),g=!0);var i=new DOMPoint(x.x+_e524.clientX-t.clientX,x.y+_e524.clientY-t.clientY).matrixTransform(a),_ze29=ze(c,p,i,!1),_ze30=_slicedToArray(_ze29,1),s=_ze30[0],n=Pe(c,s)/Pe(c,p)-m;var _iterator424=_createForOfIteratorHelper(_this290.Ih),_step424;try{for(_iterator424.s();!(_step424=_iterator424.n()).done;){var _t713=_step424.value;var _l$get=l.get(_t713),_e523=_l$get.minOffset,_i523=_l$get.maxOffset,_s311=_l$get.initialOffset;_s311+n<_e523?_t713.setAttribute("offset",_e523):_s311+n>_i523?_t713.setAttribute("offset",_i523):_t713.setAttribute("offset",_s311+n);}}catch(err){_iterator424.e(err);}finally{_iterator424.f();}}),s.addEventListener("pointerup",_i524=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("pointerup",_i524);var _iterator425=_createForOfIteratorHelper(_this290.Ih),_step425;try{for(_iterator425.s();!(_step425=_iterator425.n()).done;){var _t714=_step425.value;_t714.setAttribute("offset",X(_t714.offset.baseVal,o));}}catch(err){_iterator425.e(err);}finally{_iterator425.f();}_this290.qo=null;});},ia:function ia(t){var _this291=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"start";var i,s,n,o,l,h,a,r,d=t.target,c=_toConsumableArray(this["#subhuds"].children).find(function(t){return t.contains(d);}),p=c[tc],u=Mo(p),x=c[ec],b=_i(x),m=Vt(x),g=m.inverse(),f=u.gradientTransform,w=this.Pn.transformPrecision,v=new DOMPoint(t.clientX,t.clientY),y=v,k=!1,S=!1;d.matches(".stop-grippie")?this.qo=d:d.matches(".slider")&&(this.Gh=d),d.setPointerCapture(t.pointerId);d.addEventListener("pointermove",i=function i(_i529){if(!1===k){{var _e525=new DOMPoint(_i529.clientX,_i529.clientY),_s312=_i529.timeStamp-t.timeStamp;if(!0===_e(y,_e525,0))return;if(y=_e525,Pe(v,_e525)<3&&_s312<80)return;}if(_this291.Pn.undoManager.checkpoint("Transform gradient"),_this291.Pn.snapManager.snapStart(!0),Co(p)){var _t715=Di("svg:linearGradient");_t715.setAttribute("id",_this291.Pn.generateUniqueID(p.id)),_t715.setAttribute("href","#"+p.id),_this291.Pn.maybeCreateDefsForMasterWorkspace(),_this291.Pn.defs.append(_t715),p=_t715,c[tc]=_t715,x.style[_this291.context]="url(#"+_t715.id+")";}k=!0,function(){if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){"start"===e?(n=new DOMPoint(u.x1.value,u.y1.value),o=new DOMPoint(u.x2.value,u.y2.value)):"end"===e&&(n=new DOMPoint(u.x2.value,u.y2.value),o=new DOMPoint(u.x1.value,u.y1.value));var _t716=new q(o,n).getNormalVector();l=new DOMPoint(o.x+_t716.x,o.y+_t716.y);var _i525=n.matrixTransform(f),_s313=o.matrixTransform(f),_d44=l.matrixTransform(f);h=_i525.matrixTransform(m),a=_s313.matrixTransform(m),r=_d44.matrixTransform(m);}else if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t717=u.x1.valueInSpecifiedUnits,_i526=u.y1.valueInSpecifiedUnits,_s314=u.x2.valueInSpecifiedUnits,_d45=u.y2.valueInSpecifiedUnits;u.x1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t717/=100),u.y1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i526/=100),u.x2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_s314/=100),u.y2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_d45/=100),"start"===e?(n=new DOMPoint(_t717,_i526),o=new DOMPoint(_s314,_d45)):"end"===e&&(n=new DOMPoint(_s314,_d45),o=new DOMPoint(_t717,_i526));var _c38=new q(o,n).getNormalVector();l=new DOMPoint(o.x+_c38.x,o.y+_c38.y);var _p33=n.matrixTransform(f),_x94=o.matrixTransform(f),_g20=l.matrixTransform(f),_w13=oe(_p33,b),_v11=oe(_x94,b),_y3=oe(_g20,b);h=_w13.matrixTransform(m),a=_v11.matrixTransform(m),r=_y3.matrixTransform(m);}}();}var s,d,_,C,M=_this291.Qs.modKeys.shift,P=new DOMPoint(_i529.clientX+(h.x-t.clientX),_i529.clientY+(h.y-t.clientY)),D=new DOMPoint(h.x+_i529.clientX-t.clientX,h.y+_i529.clientY-t.clientY);D=_this291.Pn.snapManager.snapPoint(D);var z=DOMPoint.fromPoint(a);if(!1===M){var _t718=$e(a,h,P),_e526=new DOMMatrix();_e526.translateSelf(a.x,a.y),_e526.rotateSelf(_t718),_e526.translateSelf(-a.x,-a.y),C=r.matrixTransform(_e526);}else if(!0===M){S=!0;var _Te9=Te(a,D,22.5),_Te10=_slicedToArray(_Te9,1),_t719=_Te10[0];D=_t719;}if(S){var _t720=new q(z,D).getNormalVector();C=new DOMPoint(z.x+_t720.x,z.y+_t720.y);}if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t721=D.matrixTransform(g),_e527=z.matrixTransform(g),_i527=C.matrixTransform(g);s=_t721.matrixTransform(f.inverse()),d=_e527.matrixTransform(f.inverse()),_=_i527.matrixTransform(f.inverse());}else if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t722=D.matrixTransform(g),_e528=z.matrixTransform(g),_i528=C.matrixTransform(g),_n228=le(_t722,b),_o184=le(_e528,b),_l168=le(_i528,b);s=_n228.matrixTransform(f.inverse()),d=_o184.matrixTransform(f.inverse()),_=_l168.matrixTransform(f.inverse());}var O=jt(n,o,l,s,d,_),E=Bt(f.multiply(O),w);p.setAttribute("gradientTransform",E.toString());}),d.addEventListener("pointerup",s=function(_s315){function s(){return _s315.apply(this,arguments);}s.toString=function(){return _s315.toString();};return s;}(function(){d.removeEventListener("pointermove",i),d.removeEventListener("pointerup",s),_this291.qo=null,_this291.Gh=null,_this291.Pn.snapManager.snapEnd();}));},Xh:function Xh(t){var e=t.target,i=Vt(e),s=new DOMPoint(t.clientX,t.clientY),n=new DOMPoint(e.x1.baseVal.value,e.y1.baseVal.value),o=new DOMPoint(e.x2.baseVal.value,e.y2.baseVal.value),l=n.matrixTransform(i),h=o.matrixTransform(i),a=new q(l,s).length,r=new q(h,s).length;a<=5?this.ia(t,"start"):r<=5?this.ia(t,"end"):this.oa(t);},oa:function oa(t){var _this292=this;var e,_i535,s,n,o=t.target,l=o.closest(".subhud"),h=l[ec],a=l[tc],r=Mo(a),d=_i(h),c=Vt(h),p=c.inverse(),u=this.Pn.geometryPrecision,x=new DOMPoint(t.clientX,t.clientY),b=x,m=!1;if(this.Gh=o,o.setPointerCapture(t.pointerId),r.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t723=new DOMPoint(r.x1.value,r.y1.value),_e529=new DOMPoint(r.x2.value,r.y2.value),_i530=_t723.matrixTransform(r.gradientTransform),_o185=_e529.matrixTransform(r.gradientTransform);s=_i530.matrixTransform(c),n=_o185.matrixTransform(c);}else if(r.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t724=r.x1.valueInSpecifiedUnits,_e530=r.y1.valueInSpecifiedUnits,_i531=r.x2.valueInSpecifiedUnits,_o186=r.y2.valueInSpecifiedUnits;r.x1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t724/=100),r.y1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e530/=100),r.x2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i531/=100),r.y2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_o186/=100);var _l169=new DOMPoint(_t724,_e530),_h130=new DOMPoint(_i531,_o186),_a112=_l169.matrixTransform(r.gradientTransform),_p34=_h130.matrixTransform(r.gradientTransform),_u29=oe(_a112,d),_x95=oe(_p34,d);s=_u29.matrixTransform(c),n=_x95.matrixTransform(c);}o.addEventListener("pointermove",e=function e(_e531){if(!1===m){{var _i532=new DOMPoint(_e531.clientX,_e531.clientY),_s316=_e531.timeStamp-t.timeStamp;if(!0===_e(b,_i532,0))return;if(b=_i532,Pe(x,_i532)<3&&_s316<80)return;}if(m=!0,_this292.Pn.undoManager.checkpoint("Transform gradient"),Co(a)){var _t725=Di("svg:linearGradient");_t725.setAttribute("id",_this292.Pn.generateUniqueID(a.id)),_t725.setAttribute("href","#"+a.id),_this292.Pn.maybeCreateDefsForMasterWorkspace(),_this292.Pn.defs.append(_t725),a=_t725,l[tc]=_t725,h.style[_this292.context]="url(#"+_t725.id+")";}}if(r.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _i533=new DOMPoint(s.x+_e531.clientX-t.clientX,s.y+_e531.clientY-t.clientY),_o187=new DOMPoint(n.x+_e531.clientX-t.clientX,n.y+_e531.clientY-t.clientY),_l170=_i533.matrixTransform(p),_h131=_o187.matrixTransform(p),_d46=_l170.matrixTransform(r.gradientTransform.inverse()),_c39=_h131.matrixTransform(r.gradientTransform.inverse());a.setAttribute("x1",X(_d46.x,u)),a.setAttribute("y1",X(_d46.y,u)),a.setAttribute("x2",X(_c39.x,u)),a.setAttribute("y2",X(_c39.y,u));}else if(r.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _i534=new DOMPoint(s.x+_e531.clientX-t.clientX,s.y+_e531.clientY-t.clientY),_o188=new DOMPoint(n.x+_e531.clientX-t.clientX,n.y+_e531.clientY-t.clientY),_l171=_i534.matrixTransform(p),_h132=_o188.matrixTransform(p),_c40=le(_l171,d),_x96=le(_h132,d),_b27=_c40.matrixTransform(r.gradientTransform.inverse()),_m26=_x96.matrixTransform(r.gradientTransform.inverse());a.setAttribute("x1",X(_b27.x,u)),a.setAttribute("y1",X(_b27.y,u)),a.setAttribute("x2",X(_m26.x,u)),a.setAttribute("y2",X(_m26.y,u));}}),o.addEventListener("pointerup",_i535=function i(){o.removeEventListener("pointermove",e),o.removeEventListener("pointerup",_i535),_this292.Gh=null;});},ta:function ta(t){this.Pn.undoManager.checkpoint("Add Stop");var e=t.target,i=e.closest(".subhud")[tc],s=ko(i),n=Vt(this).inverse(),o=Po(i),l=new DOMPoint(e.x1.baseVal.value,e.y1.baseVal.value),h=new DOMPoint(e.x2.baseVal.value,e.y2.baseVal.value),a=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),r=Pe(l,a)/Pe(l,h);r=Z(r,0,1,this.Pn.geometryPrecision);var d=null;for(var _t726=0;_t726<o.length;_t726+=1){var _e532=o[_t726];if(_e532.offset.baseVal<r)d=_t726;else if(_e532.offset.baseVal>r)break;}var c=Di("svg:stop");if(c.setAttribute("offset",r),c.style.stopColor=zo(i,r),null===d){var _t727=o[0];_t727?_t727.before(c):s.append(c);}else o[d].after(c);this.Lh([c]);},vn:function vn(t){var e=to.fromEvent(t);0!==this.Ih.length&&(e.matches("Backspace")||e.matches("Delete")?(t.stopPropagation(),this.la()):e.matches("Tab")?(t.stopPropagation(),t.preventDefault(),this.ha()):e.matches("Shift","Tab")?(t.stopPropagation(),t.preventDefault(),this.aa()):e.matches("ArrowLeft")?(t.stopPropagation(),this.ra("left")&&this.da(1,"left")):e.matches("ArrowRight")?(t.stopPropagation(),this.ra("right")&&this.da(1,"right")):e.matches("Shift","ArrowLeft")?(t.stopPropagation(),this.ra("left")&&this.da(10,"left")):e.matches("Shift","ArrowRight")&&(t.stopPropagation(),this.ra("right")&&this.da(10,"right")));},Fh:function Fh(){var t=this.ca();if(0===t.length)this["#subhuds"].innerHTML="";else{var _e533=this.querySelector(".subhud:focus"),_i536=[];this["#subhuds"].innerHTML="";var _iterator426=_createForOfIteratorHelper(t),_step426;try{for(_iterator426.s();!(_step426=_iterator426.n()).done;){var _e534=_step426.value;var _t729=qo(_e534,this.context);if(_i536.includes(_t729))continue;_i536.push(_t729);var _s317=Po(_t729),_n229=this["#subhud-template"].cloneNode(!0);_n229.removeAttribute("uid"),_n229[tc]=_t729,_n229[ec]=_e534,_n229[ic]=_s317;var _o189=_n229.querySelector(".stop-grippies"),_l172=document.createDocumentFragment();var _iterator427=_createForOfIteratorHelper(_s317),_step427;try{for(_iterator427.s();!(_step427=_iterator427.n()).done;){var _t730=_step427.value;var _e535=Di("svg:circle");_e535.setAttribute("class","stop-grippie"),_e535[sc]=_t730,_t730.offset.baseVal>.95?_l172.prepend(_e535):_o189.append(_e535);}}catch(err){_iterator427.e(err);}finally{_iterator427.f();}_o189.append(_l172),this["#subhuds"].append(_n229);}}catch(err){_iterator426.e(err);}finally{_iterator426.f();}if(_e533){var _t728=_toConsumableArray(this["#subhuds"].children).find(function(t){return t[tc]===_e533[tc];});_t728&&_t728.focus();}this.Wh(),this.ol(),this.qh(),this.pa(),this.ua();}},Wh:function Wh(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var _iterator428=_createForOfIteratorHelper(this["#subhuds"].children),_step428;try{for(_iterator428.s();!(_step428=_iterator428.n()).done;){var _e536=_step428.value;if(t&&_e536!==t)continue;var _i537=_e536[tc],_s318=_e536[ec],_n230=_e536[ic],_o190=Mo(_i537),_l173=Nt(_s318,this),_h133=_e536.querySelector(".slider"),_a113=_e536.querySelector(".slider-shadow"),_r64=_toConsumableArray(_e536.querySelector(".stop-grippies").children);if(_o190.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t731=new DOMPoint(_o190.x1.value,_o190.y1.value),_e537=new DOMPoint(_o190.x2.value,_o190.y2.value),_i538=_t731.matrixTransform(_o190.gradientTransform),_s319=_e537.matrixTransform(_o190.gradientTransform),_d47=_i538.matrixTransform(_l173),_c41=_s319.matrixTransform(_l173);_h133.setAttribute("x1",_d47.x),_h133.setAttribute("y1",_d47.y),_h133.setAttribute("x2",_c41.x),_h133.setAttribute("y2",_c41.y),_a113.setAttribute("x1",_d47.x),_a113.setAttribute("y1",_d47.y),_a113.setAttribute("x2",_c41.x),_a113.setAttribute("y2",_c41.y);var _iterator429=_createForOfIteratorHelper(_n230),_step429;try{var _loop12=function _loop12(){var t=_step429.value;var e=_r64.find(function(e){return e[sc]===t;}),i=Oe(_d47,_c41,t.offset.baseVal);e.cx.baseVal.value=i.x,e.cy.baseVal.value=i.y;};for(_iterator429.s();!(_step429=_iterator429.n()).done;){_loop12();}}catch(err){_iterator429.e(err);}finally{_iterator429.f();}}else if(_o190.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t732=_i(_s318),_e538=_o190.x1.valueInSpecifiedUnits,_i539=_o190.y1.valueInSpecifiedUnits,_d48=_o190.x2.valueInSpecifiedUnits,_c42=_o190.y2.valueInSpecifiedUnits;_o190.x1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e538/=100),_o190.y1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i539/=100),_o190.x2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_d48/=100),_o190.y2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_c42/=100);var _p35=new DOMPoint(_e538,_i539),_u30=new DOMPoint(_d48,_c42),_x97=_p35.matrixTransform(_o190.gradientTransform),_b28=_u30.matrixTransform(_o190.gradientTransform),_m27=new DOMPoint(_t732.x+_x97.x*_t732.width,_t732.y+_x97.y*_t732.height),_g21=new DOMPoint(_t732.x+_b28.x*_t732.width,_t732.y+_b28.y*_t732.height),_f16=_m27.matrixTransform(_l173),_w14=_g21.matrixTransform(_l173);_h133.setAttribute("x1",_f16.x),_h133.setAttribute("y1",_f16.y),_h133.setAttribute("x2",_w14.x),_h133.setAttribute("y2",_w14.y),_a113.setAttribute("x1",_f16.x),_a113.setAttribute("y1",_f16.y),_a113.setAttribute("x2",_w14.x),_a113.setAttribute("y2",_w14.y);var _iterator430=_createForOfIteratorHelper(_n230),_step430;try{var _loop13=function _loop13(){var t=_step430.value;var e=_r64.find(function(e){return e[sc]===t;}),i=Oe(_f16,_w14,t.offset.baseVal);e.cx.baseVal.value=i.x,e.cy.baseVal.value=i.y;};for(_iterator430.s();!(_step430=_iterator430.n()).done;){_loop13();}}catch(err){_iterator430.e(err);}finally{_iterator430.f();}}}}catch(err){_iterator428.e(err);}finally{_iterator428.f();}},qh:function qh(){var _iterator431=_createForOfIteratorHelper(this["#subhuds"].children),_step431;try{for(_iterator431.s();!(_step431=_iterator431.n()).done;){var _t733=_step431.value;var _iterator432=_createForOfIteratorHelper(_t733.querySelectorAll(".stop-grippie")),_step432;try{for(_iterator432.s();!(_step432=_iterator432.n()).done;){var _e539=_step432.value;var _t734=_e539[sc];_e539.style.fill=getComputedStyle(_t734).stopColor;}}catch(err){_iterator432.e(err);}finally{_iterator432.f();}}}catch(err){_iterator431.e(err);}finally{_iterator431.f();}},ol:function ol(){var _iterator433=_createForOfIteratorHelper(this.querySelectorAll(".stop-grippie")),_step433;try{for(_iterator433.s();!(_step433=_iterator433.n()).done;){var _t735=_step433.value;_t735.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator433.e(err);}finally{_iterator433.f();}},pa:function pa(){var _iterator434=_createForOfIteratorHelper(this["#subhuds"].children),_step434;try{for(_iterator434.s();!(_step434=_iterator434.n()).done;){var _t736=_step434.value;var _iterator435=_createForOfIteratorHelper(_t736.querySelectorAll(".stop-grippie")),_step435;try{for(_iterator435.s();!(_step435=_iterator435.n()).done;){var _e540=_step435.value;this.Ih.includes(_e540[sc])?_e540.setAttribute("data-selected",""):_e540.removeAttribute("data-selected");}}catch(err){_iterator435.e(err);}finally{_iterator435.f();}}}catch(err){_iterator434.e(err);}finally{_iterator434.f();}},ua:function ua(){var t=this["#subhuds"].querySelectorAll(".stop-grippie");var _iterator436=_createForOfIteratorHelper(this.Ih),_step436;try{for(_iterator436.s();!(_step436=_iterator436.n()).done;){var _e541=_step436.value;var _iterator437=_createForOfIteratorHelper(t),_step437;try{for(_iterator437.s();!(_step437=_iterator437.n()).done;){var _i540=_step437.value;_i540[sc]===_e541&&_i540.parentElement.append(_i540);}}catch(err){_iterator437.e(err);}finally{_iterator437.f();}}}catch(err){_iterator436.e(err);}finally{_iterator436.f();}},Lh:function Lh(t){0===t.length&&0===this.Ih.length||(this.Ih=_toConsumableArray(t),this.pa(),this.ua(),this.dispatchEvent(new CustomEvent("selectedstopschange")));},Bh:function Bh(){var t=this.querySelector(".subhud:focus")[tc],e=Po(t);this.Lh(e);},Rh:function Rh(){var t=this.querySelector(".subhud:focus")[tc],e=Po(t);this.Lh(this.Ih.filter(function(t){return!1===e.includes(t);}));},ha:function ha(){var _this293=this;var t=this.querySelector(".subhud:focus")[tc];if(t){var _e542=Po(t),_i541=_e542.filter(function(t){return _this293.Ih.includes(t);}),_s320=_i541[_i541.length-1],_n231=_e542[0];if(_s320&&_e542.length>1){for(var _t737=_s320.nextElementSibling;_t737;_t737=_t737.nextElementSibling){if("stop"===_t737.localName){_n231=_t737;break;}}this.Lh([_n231]);}}},aa:function aa(){var _this294=this;var t=this.querySelector(".subhud:focus")[tc];if(t){var _e543=Po(t),_i542=_e543.filter(function(t){return _this294.Ih.includes(t);}),_s321=_i542[_i542.length-1],_n232=_e543[_e543.length-1];if(_s321&&_e543.length>1){for(var _t738=_s321.previousElementSibling;_t738;_t738=_t738.previousElementSibling){if("stop"===_t738.localName){_n232=_t738;break;}}this.Lh([_n232]);}}},la:function la(){var _this295=this;var t=this.querySelector(".subhud:focus");if(null===t)return;var e=t[tc],i=Po(e).filter(function(t){return _this295.Ih.includes(t);});if(this.Lh([]),i.length>0){this.Pn.undoManager.checkpoint("Delete gradient stop(s)");var _iterator438=_createForOfIteratorHelper(i),_step438;try{for(_iterator438.s();!(_step438=_iterator438.n()).done;){var _t739=_step438.value;_t739.remove();}}catch(err){_iterator438.e(err);}finally{_iterator438.f();}}},da:function da(){var _this296=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"left";var i=this.Pn,s=this.querySelector(".subhud:focus");if(null===s)return;var n=s.querySelector(".slider"),o=s[tc],l=Po(o).filter(function(t){return _this296.Ih.includes(t);}),h=this.na(),a=Vt(this),r=this.Pn.geometryPrecision,d=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value),c=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value),p=d.matrixTransform(a),u=c.matrixTransform(a),x=t/new q(p,u).length;r<2&&(r=2),i.undoManager.checkpoint("Move "+(1===l.length?" stop ":" stops ")+t+(1===t?" unit ":" units ")+e);var _iterator439=_createForOfIteratorHelper(l),_step439;try{for(_iterator439.s();!(_step439=_iterator439.n()).done;){var _t740=_step439.value;var _h$get=h.get(_t740),_i543=_h$get.minOffset,_s322=_h$get.maxOffset;if("left"===e){var _e544=Z(_t740.offset.baseVal-x,_i543,_s322,r);_t740.setAttribute("offset",_e544);}else if("right"===e){var _e545=Z(_t740.offset.baseVal+x,_i543,_s322,r);_t740.setAttribute("offset",_e545);}}}catch(err){_iterator439.e(err);}finally{_iterator439.f();}},ra:function ra(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"left";var e=this.querySelector(".subhud:focus");if(null===e)return;e.querySelector(".slider");var i=e[tc],s=Po(i),n=this.Ih.find(function(t){return s.includes(t);});if(null===n)return;var o=this.na(),_o$get=o.get(n),l=_o$get.minOffset,h=_o$get.maxOffset;return"left"===t?n.offset.baseVal>l:"right"===t?n.offset.baseVal<h:void 0;},xa:function xa(t){for(var _e546=t;_e546;_e546=_e546.previousElementSibling){if("stop"===_e546.localName&&!1===this.Ih.includes(_e546))return _e546;}return null;},ba:function ba(t){for(var _e547=t;_e547;_e547=_e547.nextElementSibling){if("stop"===_e547.localName&&!1===this.Ih.includes(_e547))return _e547;}return null;},na:function na(){var t=new Map(),e=[];var _iterator440=_createForOfIteratorHelper(this.Ih),_step440;try{for(_iterator440.s();!(_step440=_iterator440.n()).done;){var _t742=_step440.value;var _i545=this.xa(_t742),_s324=this.ba(_t742),_n233={};_n233.min=_i545?_t742.offset.baseVal-_i545.offset.baseVal:_t742.offset.baseVal,_n233.max=_s324?_s324.offset.baseVal-_t742.offset.baseVal:1-_t742.offset.baseVal,e.push(_n233);}}catch(err){_iterator440.e(err);}finally{_iterator440.f();}if(e.length>0){var _i544=e[0].min,_s323=e[0].max;var _iterator441=_createForOfIteratorHelper(e),_step441;try{for(_iterator441.s();!(_step441=_iterator441.n()).done;){var _t741=_step441.value;_t741.min<_i544&&(_i544=_t741.min),_t741.max<_s323&&(_s323=_t741.max);}}catch(err){_iterator441.e(err);}finally{_iterator441.f();}var _iterator442=_createForOfIteratorHelper(this.Ih),_step442;try{for(_iterator442.s();!(_step442=_iterator442.n()).done;){var _e548=_step442.value;t.set(_e548,{initialOffset:_e548.offset.baseVal,minOffset:_e548.offset.baseVal-_i544,maxOffset:_e548.offset.baseVal+_s323});}}catch(err){_iterator442.e(err);}finally{_iterator442.f();}}return t;},ca:function ca(){var _this297=this;var t=function t(e){var i=[],s=_this297.Pn.selectedTextRange;var _iterator443=_createForOfIteratorHelper(e),_step443;try{for(_iterator443.s();!(_step443=_iterator443.n()).done;){var _n234=_step443.value;var _e549=_n234.localName;if(["circle","ellipse","line","path","polygon","polyline","rect","use"].includes(_e549))i.push(_n234);else if(["a","g"].includes(_e549))i.push.apply(i,_toConsumableArray(t(_n234.children)));else if("text"===_e549){var _t743=xi(_n234);if(s&&s.intersectsNode(_n234)){"backward"===s.direction&&_t743.reverse();var _iterator444=_createForOfIteratorHelper(_t743),_step444;try{for(_iterator444.s();!(_step444=_iterator444.n()).done;){var _e550=_step444.value;if(s.intersectsNode(_e550)){var _t744=_e550.closest("text, textPath, tspan, a");_t744&&!i.includes(_t744)&&i.push(_t744);}}}catch(err){_iterator444.e(err);}finally{_iterator444.f();}}else{var _iterator445=_createForOfIteratorHelper(_t743),_step445;try{for(_iterator445.s();!(_step445=_iterator445.n()).done;){var _e551=_step445.value;var _t745=_e551.closest("text, textPath, tspan, a");_t745&&!i.includes(_t745)&&i.push(_t745);}}catch(err){_iterator445.e(err);}finally{_iterator445.f();}}}}}catch(err){_iterator443.e(err);}finally{_iterator443.f();}return i;};return t(this.Pn.outermostSelectedElements).filter(function(t){return"linearGradient"===Wo(t,_this297.context);});}};var oc=Symbol(),lc=Symbol(),hc=Symbol(),ac=Symbol();var rc={id:"radial-gradient-hud",get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";},set context(t){this.setAttribute("context",t),this.enabled&&(this.selectedStops=[],this.$h());},get selectedStops(){var t=_toConsumableArray(this["#subhuds"].querySelectorAll(".stop-grippie")).map(function(t){return t[ac];});return this.Ih.filter(function(e){return t.includes(e)&&e.isConnected;});},set selectedStops(t){this.Lh(t);},createdCallback:function createdCallback(){var _this298=this;this.commands={selectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this298.Bh();}},deselectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this298.Rh();}}},this.Ih=[],this.qo=null,this.Gh=null,this.$h=qi(this.Fh,80,this),this.tabIndex=-1,this.innerHTML='\n  <style>\n    #radial-gradient-hud .subhud:focus {\n      outline: none;\n    }\n\n    #radial-gradient-hud .slider {\n      stroke: white;\n      stroke-width: 7;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      outline: none;\n    }\n\n    #radial-gradient-hud .slider-shadow {\n      stroke: rgba(0, 0, 0, 0.3);\n      stroke-width: 10;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      outline: none;\n    }\n\n    #radial-gradient-hud .stop-grippie {\n      fill: black;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #radial-gradient-hud .stop-grippie[data-selected] {\n      stroke: rgb(186, 186, 186); /* gray */\n    }\n    #radial-gradient-hud .subhud:focus .stop-grippie[data-selected] {\n      stroke: rgb(147, 210, 255); /* blue */\n    }\n\n    #radial-gradient-hud .r2-outline {\n      fill: none;\n      stroke: rgb(46, 102, 249);\n      stroke-width: 1.5;\n      stroke-dasharray: 5, 5;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      outline: none;\n      pointer-events: none;\n    }\n\n    #radial-gradient-hud .r2-grippie {\n      fill: rgb(46, 102, 249);\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud" tabindex="0">\n      <line class="r2-outline"></line>\n      <line class="slider-shadow"></line>\n      <line class="slider"></line>\n      <circle class="r2-grippie grippie"></circle>\n      <g class="stop-grippies"></g>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator446=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step446;try{for(_iterator446.s();!(_step446=_iterator446.n()).done;){var _t746=_step446.value;this["#"+_t746.getAttribute("uid")]=_t746;}}catch(err){_iterator446.e(err);}finally{_iterator446.f();}this.addEventListener("keydown",function(t){return _this298.vn(t);}),this.addEventListener("pointerdown",function(t){return _this298.wo(t);}),this.addEventListener("pointerup",function(t){return _this298.Uh(t);}),this.addEventListener("dblclick",function(t){return _this298.wh(t);});},enabledCallback:function enabledCallback(){var _this299=this;this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this299.Qo();}),this.Pn.addEventListener("selectedtextrangechange",this.Nh=function(){_this299.Vh();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this299.il(t.detail);}),this.Pn.addEventListener("zoomchange",this.an=function(){_this299.el();}),this.Pn.workspaces.addEventListener("pointerdown",this.yn=function(t){_this299.kn(t);}),this.Pn.huds.addEventListener("pointerdown",this.Hn=function(t){_this299.Hh(t);}),this.Pn.undoManager.addEventListener("undo",this.yh=function(){_this299.Yh();}),this.Pn.undoManager.addEventListener("redo",this.kh=function(){_this299.Yh();}),this.Qo();},disabledCallback:function disabledCallback(){this.Lh([]),this.Pn.removeEventListener("selectedelementschange",this.Ko),this.Pn.removeEventListener("selectedtextrangechange",this.Nh),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("zoomchange",this.an),this.Pn.workspaces.removeEventListener("pointerdown",this.yn),this.Pn.huds.removeEventListener("pointerdown",this.Hn),this.Pn.undoManager.removeEventListener("undo",this.yh),this.Pn.undoManager.removeEventListener("redo",this.kh);},Qo:function Qo(){this.$h();},Vh:function Vh(){this.$h();},il:function il(t){if(this.qo)this.Wh(this.qo.closest(".subhud"));else if(this.Gh)this.Wh(this.Gh.parentElement);else{var _iterator447=_createForOfIteratorHelper(t),_step447;try{for(_iterator447.s();!(_step447=_iterator447.n()).done;){var _e552=_step447.value;"style"===_e552.attributeName&&"stop"===_e552.target.localName?this.qh():this.$h();}}catch(err){_iterator447.e(err);}finally{_iterator447.f();}}},el:function el(){this.ol();},Yh:function Yh(){this.Lh([]);},kn:function kn(t){1===t.buttons&&this.Lh([]);},Hh:function Hh(t){t.target!==this&&!1===this.contains(t.target)&&1===t.buttons&&this.Lh([]);},wo:function wo(t){var _this300=this;if(1!==t.buttons)return;var e,_i546;t.target.classList.contains("slider")?this.Xh(t):t.target.classList.contains("stop-grippie")?this.Zh(t):t.target.classList.contains("r2-grippie")&&this.ma(t,"r2"),this.Kh=!1,this.Qh=t.timeStamp,window.addEventListener("pointermove",e=function e(){_this300.Kh=!0;}),window.addEventListener("pointerup",_i546=function i(){window.removeEventListener("pointerup",_i546),window.removeEventListener("pointermove",e);});},Uh:function Uh(t){t.target.classList.contains("stop-grippie")&&this.Jh(t);},wh:function wh(t){t.timeStamp-this.Qh<300&&t.target.classList.contains("slider")&&this.ta(t);},Zh:function Zh(t){var _this301=this;var e=t.target[ac],i=e.closest("linearGradient, radialGradient"),s=Po(i),n=s.filter(function(t){return _this301.Ih.includes(t);}),o=s[0],l=s[s.length-1],_this$Qs$modKeys6=this.Qs.modKeys,h=_this$Qs$modKeys6.alt,a=_this$Qs$modKeys6.shift;this.ea=_toConsumableArray(n),!1===a?!1===n.includes(e)&&this.Lh([e]):!0===a&&!1===n.includes(e)&&(n.push(e),this.Lh(n)),e===o&&0===e.offset.baseVal&&!1===h?this.ga(t):e===l&&1===e.offset.baseVal&&!1===h?this.ma(t,"r1"):this.sa(t);},Jh:function Jh(t){if(this.Kh)return;var e=t.target,i=this.ea,s=e[ac],n=e.closest(".subhud")[lc],o=this.Qs.modKeys.shift,l=[];var _iterator448=_createForOfIteratorHelper(this.Pn.selectedElements),_step448;try{for(_iterator448.s();!(_step448=_iterator448.n()).done;){var _t748=_step448.value;if("g"!==_t748.localName&&"a"!==_t748.localName||!_t748.contains(n))l.push(_t748);else{var _iterator449=_createForOfIteratorHelper($i(_toConsumableArray(_t748.children))),_step449;try{for(_iterator449.s();!(_step449=_iterator449.n()).done;){var _e553=_step449.value;l.unshift(_e553);}}catch(err){_iterator449.e(err);}finally{_iterator449.f();}}}}catch(err){_iterator448.e(err);}finally{_iterator448.f();}this.Pn.isSelectableElement(n)&&(l=l.filter(function(t){return t!==n;}),l.unshift(n)),this.Pn.selectedElements=l;for(var _t747=n.parentElement;_t747!==this.Pn.currentWorkspace;_t747=_t747.parentElement){if("g"===_t747.localName||"a"===_t747.localName){this.Pn.currentContainer=_t747;break;}}!0===o&&!0===this.ea.includes(s)&&(i=i.filter(function(t){return t!==s;}),this.Lh(i));},sa:function sa(t){var _this302=this;var e,_i549,s=t.target,n=s.closest(".subhud").querySelector(".slider"),o=this.Pn.geometryPrecision,l=this.na(),h=Vt(this),a=h.inverse(),r=new DOMPoint(t.clientX,t.clientY),d=r,c=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value),p=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value),u=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value),x=u.matrixTransform(h),_ze31=ze(c,p,u,!1),_ze32=_slicedToArray(_ze31,1),b=_ze32[0],m=Pe(c,b)/Pe(c,p),g=!1;this.qo=s,s.setPointerCapture(t.pointerId),s.addEventListener("pointermove",e=function e(_e555){{var _i547=new DOMPoint(_e555.clientX,_e555.clientY),_s325=_e555.timeStamp-t.timeStamp;if(!0===_e(d,_i547,0))return;if(d=_i547,Pe(r,_i547)<3&&_s325<80)return;}!1===g&&(_this302.Pn.undoManager.checkpoint("Move gradient stop"),g=!0);var i=new DOMPoint(x.x+_e555.clientX-t.clientX,x.y+_e555.clientY-t.clientY).matrixTransform(a),_ze33=ze(c,p,i,!1),_ze34=_slicedToArray(_ze33,1),s=_ze34[0],n=Pe(c,s)/Pe(c,p)-m;var _iterator450=_createForOfIteratorHelper(_this302.Ih),_step450;try{for(_iterator450.s();!(_step450=_iterator450.n()).done;){var _t749=_step450.value;var _l$get2=l.get(_t749),_e554=_l$get2.minOffset,_i548=_l$get2.maxOffset,_s326=_l$get2.initialOffset;_s326+n<_e554?_t749.setAttribute("offset",_e554):_s326+n>_i548?_t749.setAttribute("offset",_i548):_t749.setAttribute("offset",_s326+n);}}catch(err){_iterator450.e(err);}finally{_iterator450.f();}}),s.addEventListener("pointerup",_i549=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("pointerup",_i549);var _iterator451=_createForOfIteratorHelper(_this302.Ih),_step451;try{for(_iterator451.s();!(_step451=_iterator451.n()).done;){var _t750=_step451.value;_t750.setAttribute("offset",X(_t750.offset.baseVal,o));}}catch(err){_iterator451.e(err);}finally{_iterator451.f();}_this302.qo=null;});},ma:function ma(t){var _this303=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"r1";var i,s,n,o,l,h,a,r,d=t.target,c=_toConsumableArray(this["#subhuds"].children).find(function(t){return t.contains(d);}),p=c[oc],u=Mo(p),x=c[lc],b=_i(x),m=Vt(x),g=m.inverse(),f=u.gradientTransform,w=this.Pn.transformPrecision,v=new DOMPoint(t.clientX,t.clientY),y=v,_Bl15=Bl(m),k=_Bl15.scaleX,S=_Bl15.scaleY,_=!1,C=!1;d.matches(".grippie")?this.qo=d:d.matches(".slider")&&(this.Gh=d),d.setPointerCapture(t.pointerId);d.addEventListener("pointermove",i=function i(_i554){if(!1===_){{var _e556=new DOMPoint(_i554.clientX,_i554.clientY),_s327=_i554.timeStamp-t.timeStamp;if(!0===_e(y,_e556,0))return;if(y=_e556,Pe(v,_e556)<3&&_s327<80)return;}if(_this303.Pn.undoManager.checkpoint("Transform gradient"),Co(p)){var _t751=Di("svg:radialGradient");_t751.setAttribute("id",_this303.Pn.generateUniqueID(p.id)),_t751.setAttribute("href","#"+p.id),_this303.Pn.maybeCreateDefsForMasterWorkspace(),_this303.Pn.defs.append(_t751),p=_t751,c[oc]=_t751,x.style[_this303.context]="url(#"+_t751.id+")";}_=!0,function(){if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){n=new DOMPoint(u.cx.value,u.cy.value),o=new DOMPoint(u.cx.value+u.r.value,u.cy.value),l=new DOMPoint(u.cx.value,u.cy.value-u.r.value);var _t752=n.matrixTransform(f),_e557=o.matrixTransform(f),_i550=l.matrixTransform(f);h=_t752.matrixTransform(m),a=_e557.matrixTransform(m),r=_i550.matrixTransform(m);}else if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t753=u.cx.valueInSpecifiedUnits,_e558=u.cy.valueInSpecifiedUnits,_i551=u.r.valueInSpecifiedUnits;u.cx.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t753/=100),u.cy.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e558/=100),u.r.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i551/=100),n=new DOMPoint(_t753,_e558),o=new DOMPoint(_t753-_i551,_e558),l=new DOMPoint(_t753,_e558-_i551);var _s328=n.matrixTransform(f),_d49=o.matrixTransform(f),_c43=l.matrixTransform(f),_p36=oe(_s328,b),_x98=oe(_d49,b),_g22=oe(_c43,b);h=_p36.matrixTransform(m),a=_x98.matrixTransform(m),r=_g22.matrixTransform(m);}}();}var s,d,_this303$Qs$modKeys=_this303.Qs.modKeys,M=_this303$Qs$modKeys.ctrl,P=_this303$Qs$modKeys.shift;"r1"===e?(s=new DOMPoint(_i554.clientX+(a.x-t.clientX),_i554.clientY+(a.y-t.clientY)),d=$e(h,a,s)):"r2"===e&&(s=new DOMPoint(_i554.clientX+(r.x-t.clientX),_i554.clientY+(r.y-t.clientY)),d=$e(h,r,s));var D=new DOMMatrix();D.translateSelf(h.x,h.y),D.rotateSelf(d),D.translateSelf(-h.x,-h.y);var z,O,E,T=h.matrixTransform(D),A=a.matrixTransform(D),$=r.matrixTransform(D),I=new q(T,A),L=new q(T,$),B=new q(T,s);if("r1"===e){if(I.length=B.length,A.x=T.x+I.x,A.y=T.y+I.y,M){var _t754=new q(T,r);L.length=B.length,_t754.length=B.length,$.x=T.x+L.x,$.y=T.y+L.y,r.x=T.x+_t754.x,r.y=T.y+_t754.y;}if(P){var _Te11=Te(T,A,22.5),_Te12=_slicedToArray(_Te11,2),_t755=_Te12[0],_e559=_Te12[1];A=_t755,C=!0;}if(C){var _t756=new DOMPoint(h.x,h.y-100),_e560=$e(h,_t756,A);$=Ae(T,$,k<0&&S<0?_e560+90:_e560-90);}}else if("r2"===e){if(L.length=B.length,$.x=T.x+L.x,$.y=T.y+L.y,M){var _t757=new q(T,a);I.length=B.length,_t757.length=B.length,A.x=T.x+I.x,A.y=T.y+I.y,a.x=T.x+_t757.x,a.y=T.y+_t757.y;}if(P){var _Te13=Te(T,$,22.5),_Te14=_slicedToArray(_Te13,2),_t758=_Te14[0],_e561=_Te14[1];$=_t758,C=!0;}if(C){var _t759=new DOMPoint(h.x,h.y-100),_e562=$e(h,_t759,$);A=Ae(T,A,k<0&&S<0?_e562-90:_e562+90);}}if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t760=T.matrixTransform(g),_e563=A.matrixTransform(g),_i552=$.matrixTransform(g);z=_t760.matrixTransform(f.inverse()),O=_e563.matrixTransform(f.inverse()),E=_i552.matrixTransform(f.inverse());}else if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t761=T.matrixTransform(g),_e564=A.matrixTransform(g),_i553=$.matrixTransform(g),_s329=le(_t761,b),_n235=le(_e564,b),_o191=le(_i553,b);z=_s329.matrixTransform(f.inverse()),O=_n235.matrixTransform(f.inverse()),E=_o191.matrixTransform(f.inverse());}var R=jt(n,o,l,z,O,E),G=Bt(f.multiply(R),w);p.setAttribute("gradientTransform",G.toString());}),d.addEventListener("pointerup",s=function(_s330){function s(){return _s330.apply(this,arguments);}s.toString=function(){return _s330.toString();};return s;}(function(){d.removeEventListener("pointermove",i),d.removeEventListener("pointerup",s),_this303.qo=null,_this303.Gh=null;}));},Xh:function Xh(t){var e=t.target,i=Vt(e),s=new DOMPoint(t.clientX,t.clientY),n=new DOMPoint(e.x2.baseVal.value,e.y2.baseVal.value).matrixTransform(i);Pe(n,s)<=5?this.ma(t,"r1"):this.ga(t);},ga:function ga(t){var _this304=this;var e,_i557,s,n=t.target,o=t.target.closest(".subhud"),l=o[lc],h=o[oc],a=Mo(h),r=_i(l),d=Vt(l),c=d.inverse(),p=this.Pn.geometryPrecision,u=new DOMPoint(t.clientX,t.clientY),x=u,b=!1;if(n.matches(".grippie")?this.qo=n:n.matches(".slider")&&(this.Gh=n),n.setPointerCapture(t.pointerId),a.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t762=new DOMPoint(a.cx.value,a.cy.value).matrixTransform(a.gradientTransform);s=_t762.matrixTransform(d);}else if(a.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t763=a.cx.valueInSpecifiedUnits,_e565=a.cy.valueInSpecifiedUnits;a.cx.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t763/=100),a.cy.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e565/=100);var _i555=new DOMPoint(_t763,_e565).matrixTransform(a.gradientTransform),_n236=oe(_i555,r);s=_n236.matrixTransform(d);}n.addEventListener("pointermove",e=function e(_e566){var i,n=new DOMPoint(_e566.clientX,_e566.clientY),d=new q(u,n);if(!1===b){{var _i556=_e566.timeStamp-t.timeStamp;if(!0===_e(x,n,0))return;if(x=n,Pe(u,n)<3&&_i556<80)return;}if(b=!0,_this304.Pn.undoManager.checkpoint("Transform gradient"),_this304.Pn.snapManager.snapStart(!1),Co(h)){var _t764=Di("svg:radialGradient");_t764.setAttribute("id",_this304.Pn.generateUniqueID(h.id)),_t764.setAttribute("href","#"+h.id),_this304.Pn.maybeCreateDefsForMasterWorkspace(),_this304.Pn.defs.append(_t764),h=_t764,o[oc]=_t764,l.style[_this304.context]="url(#"+_t764.id+")";}}if(a.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t765=new DOMPoint(s.x+d.x,s.y+d.y);_t765=_this304.Pn.snapManager.snapPoint(_t765),i=_t765.matrixTransform(c).matrixTransform(a.gradientTransform.inverse());}else if(a.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t766=new DOMPoint(s.x+d.x,s.y+d.y).matrixTransform(c);i=le(_t766,r).matrixTransform(a.gradientTransform.inverse());}h.setAttribute("cx",X(i.x,p)),h.setAttribute("cy",X(i.y,p));}),n.addEventListener("pointerup",_i557=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("pointerup",_i557),_this304.qo=null,_this304.Gh=null,_this304.Pn.snapManager.snapEnd();});},ta:function ta(t){this.Pn.undoManager.checkpoint("Add Stop");var e=t.target,i=e.closest(".subhud")[oc],s=ko(i),n=Vt(this).inverse(),o=Po(i),l=new DOMPoint(e.x1.baseVal.value,e.y1.baseVal.value),h=new DOMPoint(e.x2.baseVal.value,e.y2.baseVal.value),a=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),r=Pe(l,a),d=Pe(l,h),c=Z(r/d,0,1,this.Pn.geometryPrecision),p=null;for(var _t767=0;_t767<o.length;_t767+=1){var _e567=o[_t767];if(_e567.offset.baseVal<c)p=_t767;else if(_e567.offset.baseVal>c)break;}var u=Di("svg:stop");if(u.setAttribute("offset",c),u.style.stopColor=zo(i,c),null===p){var _t768=o[0];_t768?_t768.before(u):s.append(u);}else o[p].after(u);this.Lh([u]);},vn:function vn(t){var e=to.fromEvent(t);0!==this.Ih.length&&(e.matches("Backspace")||e.matches("Delete")?(t.stopPropagation(),this.la()):e.matches("Tab")?(t.stopPropagation(),t.preventDefault(),this.ha()):e.matches("Shift","Tab")?(t.stopPropagation(),t.preventDefault(),this.aa()):e.matches("ArrowLeft")?(t.stopPropagation(),this.ra("left")&&this.da(1,"left")):e.matches("ArrowRight")?(t.stopPropagation(),this.ra("right")&&this.da(1,"right")):e.matches("Shift","ArrowLeft")?(t.stopPropagation(),this.ra("left")&&this.da(10,"left")):e.matches("Shift","ArrowRight")&&(t.stopPropagation(),this.ra("right")&&this.da(10,"right")));},Fh:function Fh(){var t=this.fa();if(0===t.length)this["#subhuds"].innerHTML="";else{var _e568=this.querySelector(".subhud:focus"),_i558=[];this["#subhuds"].innerHTML="";var _iterator452=_createForOfIteratorHelper(t),_step452;try{for(_iterator452.s();!(_step452=_iterator452.n()).done;){var _e569=_step452.value;var _t770=qo(_e569,this.context);if(_i558.includes(_t770))continue;_i558.push(_t770);var _s331=Po(_t770),_n237=this["#subhud-template"].cloneNode(!0);_n237.removeAttribute("uid"),_n237[oc]=_t770,_n237[lc]=_e569,_n237[hc]=_s331;var _o192=_n237.querySelector(".stop-grippies"),_l174=document.createDocumentFragment();var _iterator453=_createForOfIteratorHelper(_s331),_step453;try{for(_iterator453.s();!(_step453=_iterator453.n()).done;){var _t771=_step453.value;var _e570=Di("svg:circle");_e570.setAttribute("class","stop-grippie grippie"),_e570[ac]=_t771,_t771.offset.baseVal>.95?_l174.prepend(_e570):_o192.append(_e570);}}catch(err){_iterator453.e(err);}finally{_iterator453.f();}_o192.append(_l174),this["#subhuds"].append(_n237);}}catch(err){_iterator452.e(err);}finally{_iterator452.f();}if(_e568){var _t769=_toConsumableArray(this["#subhuds"].children).find(function(t){return t[oc]===_e568[oc];});_t769&&_t769.focus();}this.Wh(),this.ol(),this.qh(),this.pa(),this.ua();}},Wh:function Wh(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var _iterator454=_createForOfIteratorHelper(this["#subhuds"].children),_step454;try{for(_iterator454.s();!(_step454=_iterator454.n()).done;){var _e571=_step454.value;if(t&&_e571!==t)continue;var _i559=_e571[oc],_s332=_e571[lc],_n238=_e571[hc],_o193=Mo(_i559),_l175=Nt(_s332,this),_h134=_e571.querySelector(".slider"),_a114=_e571.querySelector(".slider-shadow"),_r65=_toConsumableArray(_e571.querySelector(".stop-grippies").children),_d50=_e571.querySelector(".r2-grippie"),_c44=_e571.querySelector(".r2-outline");if(_o193.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t772=new DOMPoint(_i559.cx.baseVal.value,_i559.cy.baseVal.value),_e572=new DOMPoint(_i559.cx.baseVal.value+_i559.r.baseVal.value,_i559.cy.baseVal.value),_s333=new DOMPoint(_i559.cx.baseVal.value,_i559.cy.baseVal.value-_i559.r.baseVal.value),_p37=_t772.matrixTransform(_o193.gradientTransform),_u31=_e572.matrixTransform(_o193.gradientTransform),_x99=_s333.matrixTransform(_o193.gradientTransform),_b29=_p37.matrixTransform(_l175),_m28=_u31.matrixTransform(_l175),_g23=_x99.matrixTransform(_l175);_h134.setAttribute("x1",_b29.x),_h134.setAttribute("y1",_b29.y),_h134.setAttribute("x2",_m28.x),_h134.setAttribute("y2",_m28.y),_a114.setAttribute("x1",_b29.x),_a114.setAttribute("y1",_b29.y),_a114.setAttribute("x2",_m28.x),_a114.setAttribute("y2",_m28.y),_c44.setAttribute("x1",_b29.x),_c44.setAttribute("y1",_b29.y),_c44.setAttribute("x2",_g23.x),_c44.setAttribute("y2",_g23.y),_d50.setAttribute("cx",_g23.x),_d50.setAttribute("cy",_g23.y);var _iterator455=_createForOfIteratorHelper(_n238),_step455;try{var _loop14=function _loop14(){var t=_step455.value;var e=_r65.find(function(e){return e[ac]===t;}),i=Oe(_b29,_m28,t.offset.baseVal);e.cx.baseVal.value=i.x,e.cy.baseVal.value=i.y;};for(_iterator455.s();!(_step455=_iterator455.n()).done;){_loop14();}}catch(err){_iterator455.e(err);}finally{_iterator455.f();}}else if(_o193.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t773=_i(_s332),_e573=_o193.cx.valueInSpecifiedUnits,_i560=_o193.cy.valueInSpecifiedUnits,_p38=_o193.r.valueInSpecifiedUnits;_o193.cx.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e573/=100),_o193.cy.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i560/=100),_o193.r.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_p38/=100);var _u32=new DOMPoint(_e573,_i560),_x100=new DOMPoint(_e573-_p38,_i560),_b30=new DOMPoint(_e573,_i560-_p38),_m29=_u32.matrixTransform(_o193.gradientTransform),_g24=_x100.matrixTransform(_o193.gradientTransform),_f17=_b30.matrixTransform(_o193.gradientTransform),_w15=oe(_m29,_t773),_v12=oe(_g24,_t773),_y4=oe(_f17,_t773),_k3=_w15.matrixTransform(_l175),_S3=_v12.matrixTransform(_l175),_4=_y4.matrixTransform(_l175);_h134.setAttribute("x1",_k3.x),_h134.setAttribute("y1",_k3.y),_h134.setAttribute("x2",_S3.x),_h134.setAttribute("y2",_S3.y),_a114.setAttribute("x1",_k3.x),_a114.setAttribute("y1",_k3.y),_a114.setAttribute("x2",_S3.x),_a114.setAttribute("y2",_S3.y),_c44.setAttribute("x1",_k3.x),_c44.setAttribute("y1",_k3.y),_c44.setAttribute("x2",_4.x),_c44.setAttribute("y2",_4.y),_d50.setAttribute("cx",_4.x),_d50.setAttribute("cy",_4.y);var _iterator456=_createForOfIteratorHelper(_n238),_step456;try{var _loop15=function _loop15(){var t=_step456.value;var e=_r65.find(function(e){return e[ac]===t;});if(e){var _i561=Oe(_k3,_S3,t.offset.baseVal);e.cx.baseVal.value=_i561.x,e.cy.baseVal.value=_i561.y;}};for(_iterator456.s();!(_step456=_iterator456.n()).done;){_loop15();}}catch(err){_iterator456.e(err);}finally{_iterator456.f();}}}}catch(err){_iterator454.e(err);}finally{_iterator454.f();}},qh:function qh(){var _iterator457=_createForOfIteratorHelper(this["#subhuds"].children),_step457;try{for(_iterator457.s();!(_step457=_iterator457.n()).done;){var _t774=_step457.value;var _iterator458=_createForOfIteratorHelper(_t774.querySelectorAll(".stop-grippie")),_step458;try{for(_iterator458.s();!(_step458=_iterator458.n()).done;){var _e574=_step458.value;var _t775=_e574[ac];_e574.style.fill=getComputedStyle(_t775).stopColor;}}catch(err){_iterator458.e(err);}finally{_iterator458.f();}}}catch(err){_iterator457.e(err);}finally{_iterator457.f();}},ol:function ol(){var _iterator459=_createForOfIteratorHelper(this.querySelectorAll(".grippie")),_step459;try{for(_iterator459.s();!(_step459=_iterator459.n()).done;){var _t776=_step459.value;_t776.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator459.e(err);}finally{_iterator459.f();}},pa:function pa(){var _iterator460=_createForOfIteratorHelper(this["#subhuds"].children),_step460;try{for(_iterator460.s();!(_step460=_iterator460.n()).done;){var _t777=_step460.value;var _iterator461=_createForOfIteratorHelper(_t777.querySelectorAll(".stop-grippie")),_step461;try{for(_iterator461.s();!(_step461=_iterator461.n()).done;){var _e575=_step461.value;this.Ih.includes(_e575[ac])?_e575.setAttribute("data-selected",""):_e575.removeAttribute("data-selected");}}catch(err){_iterator461.e(err);}finally{_iterator461.f();}}}catch(err){_iterator460.e(err);}finally{_iterator460.f();}},ua:function ua(){var t=this["#subhuds"].querySelectorAll(".stop-grippie");var _iterator462=_createForOfIteratorHelper(this.Ih),_step462;try{for(_iterator462.s();!(_step462=_iterator462.n()).done;){var _e576=_step462.value;var _iterator463=_createForOfIteratorHelper(t),_step463;try{for(_iterator463.s();!(_step463=_iterator463.n()).done;){var _i562=_step463.value;_i562[ac]===_e576&&_i562.parentElement.append(_i562);}}catch(err){_iterator463.e(err);}finally{_iterator463.f();}}}catch(err){_iterator462.e(err);}finally{_iterator462.f();}},Lh:function Lh(t){0===t.length&&0===this.Ih.length||(this.Ih=_toConsumableArray(t),this.pa(),this.ua(),this.dispatchEvent(new CustomEvent("selectedstopschange")));},Bh:function Bh(){var t=this.querySelector(".subhud:focus")[oc],e=Po(t);this.Lh(e);},Rh:function Rh(){var t=this.querySelector(".subhud:focus")[oc],e=Po(t);this.Lh(this.Ih.filter(function(t){return!1===e.includes(t);}));},ha:function ha(){var _this305=this;var t=this.querySelector(".subhud:focus")[oc];if(t){var _e577=Po(t),_i563=_e577.filter(function(t){return _this305.Ih.includes(t);}),_s334=_i563[_i563.length-1],_n239=_e577[0];if(_s334&&_e577.length>1){for(var _t778=_s334.nextElementSibling;_t778;_t778=_t778.nextElementSibling){if("stop"===_t778.localName){_n239=_t778;break;}}this.Lh([_n239]);}}},aa:function aa(){var _this306=this;var t=this.querySelector(".subhud:focus")[oc];if(t){var _e578=Po(t),_i564=_e578.filter(function(t){return _this306.Ih.includes(t);}),_s335=_i564[_i564.length-1],_n240=_e578[_e578.length-1];if(_s335&&_e578.length>1){for(var _t779=_s335.previousElementSibling;_t779;_t779=_t779.previousElementSibling){if("stop"===_t779.localName){_n240=_t779;break;}}this.Lh([_n240]);}}},la:function la(){var _this307=this;var t=this.querySelector(".subhud:focus");if(null===t)return;var e=t[oc],i=Po(e).filter(function(t){return _this307.Ih.includes(t);});if(this.Lh([]),i.length>0){this.Pn.undoManager.checkpoint("Delete gradient stop(s)");var _iterator464=_createForOfIteratorHelper(i),_step464;try{for(_iterator464.s();!(_step464=_iterator464.n()).done;){var _t780=_step464.value;_t780.remove();}}catch(err){_iterator464.e(err);}finally{_iterator464.f();}}},da:function da(){var _this308=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"left";var i=this.Pn,s=this.querySelector(".subhud:focus");if(null===s)return;var n=s.querySelector(".slider"),o=s[oc],l=Po(o).filter(function(t){return _this308.Ih.includes(t);}),h=this.na(),a=Vt(this),r=this.Pn.geometryPrecision,d=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value),c=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value),p=d.matrixTransform(a),u=c.matrixTransform(a),x=t/new q(p,u).length;r<2&&(r=2),i.undoManager.checkpoint("Move "+(1===l.length?" stop ":" stops ")+t+(1===t?" unit ":" units ")+e);var _iterator465=_createForOfIteratorHelper(l),_step465;try{for(_iterator465.s();!(_step465=_iterator465.n()).done;){var _t781=_step465.value;var _h$get2=h.get(_t781),_i565=_h$get2.minOffset,_s336=_h$get2.maxOffset;if("left"===e){var _e579=Z(_t781.offset.baseVal-x,_i565,_s336,r);_t781.setAttribute("offset",_e579);}else if("right"===e){var _e580=Z(_t781.offset.baseVal+x,_i565,_s336,r);_t781.setAttribute("offset",_e580);}}}catch(err){_iterator465.e(err);}finally{_iterator465.f();}},ra:function ra(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"left";var e=this.querySelector(".subhud:focus");if(null===e)return;e.querySelector(".slider");var i=e[oc],s=Po(i),n=this.Ih.find(function(t){return s.includes(t);});if(null===n)return;var o=this.na(),_o$get2=o.get(n),l=_o$get2.minOffset,h=_o$get2.maxOffset;return"left"===t?n.offset.baseVal>l:"right"===t?n.offset.baseVal<h:void 0;},xa:function xa(t){for(var _e581=t;_e581;_e581=_e581.previousElementSibling){if("stop"===_e581.localName&&!1===this.Ih.includes(_e581))return _e581;}return null;},ba:function ba(t){for(var _e582=t;_e582;_e582=_e582.nextElementSibling){if("stop"===_e582.localName&&!1===this.Ih.includes(_e582))return _e582;}return null;},na:function na(){var t=new Map(),e=[];var _iterator466=_createForOfIteratorHelper(this.Ih),_step466;try{for(_iterator466.s();!(_step466=_iterator466.n()).done;){var _t783=_step466.value;var _i567=this.xa(_t783),_s338=this.ba(_t783),_n241={};_n241.min=_i567?_t783.offset.baseVal-_i567.offset.baseVal:_t783.offset.baseVal,_n241.max=_s338?_s338.offset.baseVal-_t783.offset.baseVal:1-_t783.offset.baseVal,e.push(_n241);}}catch(err){_iterator466.e(err);}finally{_iterator466.f();}if(e.length>0){var _i566=e[0].min,_s337=e[0].max;var _iterator467=_createForOfIteratorHelper(e),_step467;try{for(_iterator467.s();!(_step467=_iterator467.n()).done;){var _t782=_step467.value;_t782.min<_i566&&(_i566=_t782.min),_t782.max<_s337&&(_s337=_t782.max);}}catch(err){_iterator467.e(err);}finally{_iterator467.f();}var _iterator468=_createForOfIteratorHelper(this.Ih),_step468;try{for(_iterator468.s();!(_step468=_iterator468.n()).done;){var _e583=_step468.value;t.set(_e583,{initialOffset:_e583.offset.baseVal,minOffset:_e583.offset.baseVal-_i566,maxOffset:_e583.offset.baseVal+_s337});}}catch(err){_iterator468.e(err);}finally{_iterator468.f();}}return t;},fa:function fa(){var _this309=this;var t=function t(e){var i=[],s=_this309.Pn.selectedTextRange;var _iterator469=_createForOfIteratorHelper(e),_step469;try{for(_iterator469.s();!(_step469=_iterator469.n()).done;){var _n242=_step469.value;var _e584=_n242.localName;if(["circle","ellipse","line","path","polygon","polyline","rect","use"].includes(_e584))i.push(_n242);else if(["a","g"].includes(_e584))i.push.apply(i,_toConsumableArray(t(_n242.children)));else if("text"===_e584){var _t784=xi(_n242);if(s&&s.intersectsNode(_n242)){"backward"===s.direction&&_t784.reverse();var _iterator470=_createForOfIteratorHelper(_t784),_step470;try{for(_iterator470.s();!(_step470=_iterator470.n()).done;){var _e585=_step470.value;if(s.intersectsNode(_e585)){var _t785=_e585.closest("text, textPath, tspan, a");_t785&&!i.includes(_t785)&&i.push(_t785);}}}catch(err){_iterator470.e(err);}finally{_iterator470.f();}}else{var _iterator471=_createForOfIteratorHelper(_t784),_step471;try{for(_iterator471.s();!(_step471=_iterator471.n()).done;){var _e586=_step471.value;var _t786=_e586.closest("text, textPath, tspan, a");_t786&&!i.includes(_t786)&&i.push(_t786);}}catch(err){_iterator471.e(err);}finally{_iterator471.f();}}}}}catch(err){_iterator469.e(err);}finally{_iterator469.f();}return i;};return t(this.Pn.outermostSelectedElements).filter(function(t){return"radialGradient"===Wo(t,_this309.context);});}};var dc=6,cc=Symbol(),pc=Symbol();var uc={id:"pattern-hud",get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";},set context(t){this.setAttribute("context",t),this.enabled&&this.wa();},createdCallback:function createdCallback(){var _this310=this;this.qo=null,this.va=null,this.ya=qi(this.qs,50,this),this.wa=qi(this.qs,200,this),this.innerHTML='\n  <style>\n    #pattern-hud .outline {\n      fill: rgba(0, 0, 0, 0.07);\n      stroke: rgb(46, 102, 249);\n      stroke-width: 1.5;\n      vector-effect: non-scaling-stroke;\n    }\n\n    #pattern-hud .grippie {\n      fill: #E40DD6;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <path class="outline"></path>\n      <circle class="grippie rotate-grippie"></circle>\n      <rect class="grippie scale-grippie"></rect>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator472=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step472;try{for(_iterator472.s();!(_step472=_iterator472.n()).done;){var _t787=_step472.value;this["#"+_t787.getAttribute("uid")]=_t787;}}catch(err){_iterator472.e(err);}finally{_iterator472.f();}this.addEventListener("pointerdown",function(t){return _this310.wo(t);});},enabledCallback:function enabledCallback(){var _this311=this;this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this311.Qo();}),this.Pn.addEventListener("selectedtextrangechange",this.Nh=function(){_this311.Vh();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this311.il(t.detail);}),this.Pn.addEventListener("zoomchange",this.an=function(){_this311.el();}),this.Qo();},disabledCallback:function disabledCallback(){this.Pn.removeEventListener("selectedelementschange",this.Ko),this.Pn.removeEventListener("selectedtextrangechange",this.Nh),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("zoomchange",this.an);},Qo:function Qo(){this.wa();},Vh:function Vh(){this.wa();},el:function el(){this.ya();},il:function il(t){this.qo?this.Wh(this.qo.parentElement):this.va?this.Wh(this.va.parentElement):this.wa();},wo:function wo(t){if(0!==t.button)return;var _e587;t.target.classList.contains("outline")?this.ka(t):t.target.classList.contains("scale-grippie")?this.Sa(t):t.target.classList.contains("rotate-grippie")&&this._a(t),window.addEventListener("pointerup",_e587=function e(){window.removeEventListener("pointerup",_e587);});},ka:function ka(t){var _this312=this;this.Pn.undoManager.checkpoint("Transform pattern");var e=t.target,i=e.parentElement,s=i[pc],n=i[cc];if(jo(n).length>1&&"tspan"!==s.localName){var _t788=Di("svg:pattern");_t788.setAttribute("id",this.Pn.generateUniqueID(n.id)),_t788.setAttribute("href","#"+n.id),this.Pn.maybeCreateDefsForMasterWorkspace(),this.Pn.defs.append(_t788),s.style.setProperty(this.context,"url(#".concat(_t788.id,")")),n=_t788,i[cc]=_t788;}var o,_l177,h,a,r,d=Vt(s),c=d.inverse(),p=_i(s),u=Vo(n);if(this.va=e,u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE)h=new DOMPoint(u.x.value,u.y.value),a=new DOMPoint(u.x.value+u.width.value,u.y.value),r=new DOMPoint(u.x.value+u.width.value,u.y.value+u.height.value);else if(u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t789=u.x.valueInSpecifiedUnits,_e588=u.y.valueInSpecifiedUnits,_i568=u.width.valueInSpecifiedUnits,_s339=u.height.valueInSpecifiedUnits;u.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t789/=100),u.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e588/=100),u.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i568/=100),u.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_s339/=100);var _n243=new DOMPoint(_t789,_e588),_o194=new DOMPoint(_t789+_i568,_e588),_l176=new DOMPoint(_t789+_i568,_e588+_s339);h=new DOMPoint(p.x+_n243.x*p.width,p.y+_n243.y*p.height),a=new DOMPoint(p.x+_o194.x*p.width,p.y+_o194.y*p.height),r=new DOMPoint(p.x+_l176.x*p.width,p.y+_l176.y*p.height);}var x=h.matrixTransform(u.patternTransform),b=a.matrixTransform(u.patternTransform),m=r.matrixTransform(u.patternTransform),g=x.matrixTransform(d),f=b.matrixTransform(d),w=m.matrixTransform(d);window.addEventListener("pointermove",o=function o(e){var i=new q(e.clientX-t.clientX,e.clientY-t.clientY),s=new DOMPoint(g.x+i.x,g.y+i.y),o=new DOMPoint(f.x+i.x,f.y+i.y),l=new DOMPoint(w.x+i.x,w.y+i.y),d=s.matrixTransform(c),p=o.matrixTransform(c),x=l.matrixTransform(c),b=d.matrixTransform(u.patternTransform.inverse()),m=p.matrixTransform(u.patternTransform.inverse()),v=x.matrixTransform(u.patternTransform.inverse()),y=jt(h,a,r,b,m,v),k=u.patternTransform.multiply(y);k=Bt(k,_this312.Pn.transformPrecision),n.setAttribute("patternTransform",k.toString());}),window.addEventListener("pointerup",_l177=function l(t){window.removeEventListener("pointermove",o),window.removeEventListener("pointerup",_l177),_this312.va=null;});},_a:function _a(t){var _this313=this;this.Pn.undoManager.checkpoint("Transform pattern");var e=t.target,i=e.parentElement,s=i[cc],n=i[pc];if(jo(s).length>1&&"tspan"!==n.localName){var _t790=Di("svg:pattern");_t790.setAttribute("id",this.Pn.generateUniqueID(s.id)),_t790.setAttribute("href","#"+s.id),this.Pn.maybeCreateDefsForMasterWorkspace(),this.Pn.defs.append(_t790),n.style.setProperty(this.context,"url(#".concat(_t790.id,")")),s=_t790,i[cc]=_t790;}var o,_l179,h,a,r,d=Vt(n),c=d.inverse(),p=_i(n),u=Vo(s);if(this.qo=e,u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE)h=new DOMPoint(u.x.value+u.width.value/2,u.y.value+u.height.value/2),a=new DOMPoint(u.x.value+u.width.value,u.y.value),r=new DOMPoint(u.x.value+u.width.value,u.y.value+u.height.value);else if(u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t791=u.x.valueInSpecifiedUnits,_e589=u.y.valueInSpecifiedUnits,_i569=u.width.valueInSpecifiedUnits,_s340=u.height.valueInSpecifiedUnits;u.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t791/=100),u.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e589/=100),u.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i569/=100),u.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_s340/=100);var _n244=new DOMPoint(_t791+_i569/2,_e589+_s340/2),_o195=new DOMPoint(_t791+_i569,_e589),_l178=new DOMPoint(_t791+_i569,_e589+_s340);h=new DOMPoint(p.x+_n244.x*p.width,p.y+_n244.y*p.height),a=new DOMPoint(p.x+_o195.x*p.width,p.y+_o195.y*p.height),r=new DOMPoint(p.x+_l178.x*p.width,p.y+_l178.y*p.height);}var x=h.matrixTransform(u.patternTransform),b=a.matrixTransform(u.patternTransform),m=r.matrixTransform(u.patternTransform),g=x.matrixTransform(d),f=b.matrixTransform(d),w=m.matrixTransform(d);window.addEventListener("pointermove",o=function o(e){var i=new DOMPoint(e.clientX+(f.x-t.clientX),e.clientY+(f.y-t.clientY)),n=$e(g,f,i);_this313.Qs.modKeys.shift&&(n=Le(n,45));var o=new DOMMatrix();o.translateSelf(g.x,g.y),o.rotateSelf(n),o.translateSelf(-g.x,-g.y);var l=f.matrixTransform(o),d=w.matrixTransform(o),p=l.matrixTransform(c),x=d.matrixTransform(c),b=p.matrixTransform(u.patternTransform.inverse()),m=x.matrixTransform(u.patternTransform.inverse()),v=jt(h,a,r,h,b,m),y=u.patternTransform.multiply(v);y=Bt(y,_this313.Pn.transformPrecision),s.setAttribute("patternTransform",y.toString());}),window.addEventListener("pointerup",_l179=function l(t){window.removeEventListener("pointermove",o),window.removeEventListener("pointerup",_l179),_this313.qo=null;});},Sa:function Sa(t){var _this314=this;this.Pn.undoManager.checkpoint("Transform pattern");var e=t.target,i=e.parentElement,s=i[cc],n=i[pc];if(jo(s).length>1&&"tspan"!==n.localName){var _t792=Di("svg:pattern");_t792.setAttribute("id",this.Pn.generateUniqueID(s.id)),_t792.setAttribute("href","#"+s.id),this.Pn.maybeCreateDefsForMasterWorkspace(),this.Pn.defs.append(_t792),n.style.setProperty(this.context,"url(#".concat(_t792.id,")")),s=_t792,i[cc]=_t792;}var o,_l181,h,a,r,d=Vt(n),c=d.inverse(),p=_i(n),u=Vo(s);if(this.qo=e,u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE)h=new DOMPoint(u.x.value,u.y.value),a=new DOMPoint(u.x.value+u.width.value,u.y.value),r=new DOMPoint(u.x.value+u.width.value,u.y.value+u.height.value);else if(u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t793=u.x.valueInSpecifiedUnits,_e590=u.y.valueInSpecifiedUnits,_i570=u.width.valueInSpecifiedUnits,_s341=u.height.valueInSpecifiedUnits;u.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t793/=100),u.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e590/=100),u.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i570/=100),u.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_s341/=100);var _n245=new DOMPoint(_t793,_e590),_o196=new DOMPoint(_t793+_i570,_e590),_l180=new DOMPoint(_t793+_i570,_e590+_s341);h=new DOMPoint(p.x+_n245.x*p.width,p.y+_n245.y*p.height),a=new DOMPoint(p.x+_o196.x*p.width,p.y+_o196.y*p.height),r=new DOMPoint(p.x+_l180.x*p.width,p.y+_l180.y*p.height);}var x=r.matrixTransform(u.patternTransform).matrixTransform(d);window.addEventListener("pointermove",o=function o(e){var i=new DOMPoint(x.x+e.clientX-t.clientX,x.y+e.clientY-t.clientY).matrixTransform(c).matrixTransform(u.patternTransform.inverse()),n=new DOMPoint(i.x,a.y),o=jt(h,a,r,h,n,i),l=u.patternTransform.multiply(o);l=Bt(l,_this314.Pn.transformPrecision),s.setAttribute("patternTransform",l.toString());}),window.addEventListener("pointerup",_l181=function l(t){window.removeEventListener("pointermove",o),window.removeEventListener("pointerup",_l181),_this314.qo=null;});},qs:function qs(){var t=this.Ca();if(this["#subhuds"].innerHTML="",t.length>0){var _e591=Symbol();var _iterator473=_createForOfIteratorHelper(t),_step473;try{for(_iterator473.s();!(_step473=_iterator473.n()).done;){var _i571=_step473.value;var _t794=qo(_i571,this.context);if(!_t794[_e591]){_t794[_e591]=!0;var _s342=this["#subhud-template"].cloneNode(!0);_s342.removeAttribute("id"),_s342[cc]=_t794,_s342[pc]=_i571,this["#subhuds"].append(_s342);}}}catch(err){_iterator473.e(err);}finally{_iterator473.f();}this.Wh();}},Wh:function Wh(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var _iterator474=_createForOfIteratorHelper(this["#subhuds"].children),_step474;try{for(_iterator474.s();!(_step474=_iterator474.n()).done;){var _e592=_step474.value;if(t&&_e592!==t)continue;var _i572=void 0,_s343=void 0,_n246=void 0,_o197=void 0,_l182=_e592[pc],_h135=_e592[cc],_a115=_e592.querySelector(".rotate-grippie"),_r66=_e592.querySelector(".scale-grippie"),_d51=_e592.querySelector(".outline"),_c45=Nt(_l182,this),_p39=_i(_l182),_u33=Vo(_h135);if(_u33.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE)_i572=new DOMPoint(_u33.x.value,_u33.y.value),_s343=new DOMPoint(_u33.x.value+_u33.width.value,_u33.y.value),_n246=new DOMPoint(_u33.x.value+_u33.width.value,_u33.y.value+_u33.height.value),_o197=new DOMPoint(_u33.x.value,_u33.y.value+_u33.height.value);else if(_u33.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t795=_u33.x.valueInSpecifiedUnits,_e593=_u33.y.valueInSpecifiedUnits,_l183=_u33.width.valueInSpecifiedUnits,_h136=_u33.height.valueInSpecifiedUnits;_u33.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t795/=100),_u33.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e593/=100),_u33.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_l183/=100),_u33.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_h136/=100);var _a116=new DOMPoint(_t795,_e593),_r67=new DOMPoint(_t795+_l183,_e593),_d52=new DOMPoint(_t795+_l183,_e593+_h136),_c46=new DOMPoint(_t795,_e593+_h136);_i572=new DOMPoint(_p39.x+_a116.x*_p39.width,_p39.y+_a116.y*_p39.height),_s343=new DOMPoint(_p39.x+_r67.x*_p39.width,_p39.y+_r67.y*_p39.height),_n246=new DOMPoint(_p39.x+_d52.x*_p39.width,_p39.y+_d52.y*_p39.height),_o197=new DOMPoint(_p39.x+_c46.x*_p39.width,_p39.y+_c46.y*_p39.height);}var _x101=_i572.matrixTransform(_u33.patternTransform),_b31=_s343.matrixTransform(_u33.patternTransform),_m30=_n246.matrixTransform(_u33.patternTransform),_g25=_o197.matrixTransform(_u33.patternTransform),_f18=_x101.matrixTransform(_c45),_w16=_b31.matrixTransform(_c45),_v13=_m30.matrixTransform(_c45),_y5=_g25.matrixTransform(_c45);_d51.setAttribute("d","\n        M ".concat(_f18.x," ").concat(_f18.y,"\n        L ").concat(_w16.x," ").concat(_w16.y,"\n        L ").concat(_v13.x," ").concat(_v13.y,"\n        L ").concat(_y5.x," ").concat(_y5.y,"\n        Z\n      "));var _k4=dc/this.Pn.scale;_a115.cx.baseVal.value=_w16.x,_a115.cy.baseVal.value=_w16.y,_a115.r.baseVal.value=_k4,_r66.width.baseVal.value=2*_k4,_r66.height.baseVal.value=2*_k4,_r66.x.baseVal.value=_v13.x-_r66.width.baseVal.value/2,_r66.y.baseVal.value=_v13.y-_r66.height.baseVal.value/2,_r66.hudPoint=_v13;}}catch(err){_iterator474.e(err);}finally{_iterator474.f();}},Ca:function Ca(){var _this315=this;var t=function t(e){var i=[],s=_this315.Pn.selectedTextRange;var _iterator475=_createForOfIteratorHelper(e),_step475;try{for(_iterator475.s();!(_step475=_iterator475.n()).done;){var _n247=_step475.value;var _e594=_n247.localName;if(["circle","ellipse","line","path","polygon","polyline","rect","use"].includes(_e594))i.push(_n247);else if(["a","g"].includes(_e594))i.push.apply(i,_toConsumableArray(t(_n247.children)));else if("text"===_e594){var _t796=xi(_n247);if(s&&s.intersectsNode(_n247)){"backward"===s.direction&&_t796.reverse();var _iterator476=_createForOfIteratorHelper(_t796),_step476;try{for(_iterator476.s();!(_step476=_iterator476.n()).done;){var _e595=_step476.value;if(s.intersectsNode(_e595)){var _t797=_e595.closest("text, textPath, tspan, a");_t797&&!i.includes(_t797)&&i.push(_t797);}}}catch(err){_iterator476.e(err);}finally{_iterator476.f();}}else{var _iterator477=_createForOfIteratorHelper(_t796),_step477;try{for(_iterator477.s();!(_step477=_iterator477.n()).done;){var _e596=_step477.value;var _t798=_e596.closest("text, textPath, tspan, a");_t798&&!i.includes(_t798)&&i.push(_t798);}}catch(err){_iterator477.e(err);}finally{_iterator477.f();}}}}}catch(err){_iterator475.e(err);}finally{_iterator475.f();}return i;};return t(this.Pn.outermostSelectedElements).filter(function(t){return"pattern"===Wo(t,_this315.context);});}};var xc={id:"cubic-bezier-seg-hud",get startPoint(){return this.Ma;},get endPoint(){return this.Pa;},get controlPoint1(){return this.Da;},get controlPoint2(){return this.za;},get curved(){return!1===_e(this.startPoint,this.controlPoint1)||!1===_e(this.endPoint,this.controlPoint2);},createdCallback:function createdCallback(){this.Oa=null,this.Ea="end",this.Ta="none",this.Aa=!1,this.$a=null,this.Ia=null,this.innerHTML='\n  <style>\n    #cubic-bezier-seg-hud [uid="control-line-1"],\n    #cubic-bezier-seg-hud [uid="control-line-2"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      opacity: 0.4;\n    }\n\n    #cubic-bezier-seg-hud [uid="control-point-1-grippie"],\n    #cubic-bezier-seg-hud [uid="control-point-2-grippie"] {\n      fill: red;\n      stroke: none;\n      pointer-events: none;\n      opacity: 1;\n    }\n\n    #cubic-bezier-seg-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <path uid="outline" d="M 0 0 C 0 0 0 0 0 0"></path>\n\n  <line uid="control-line-1"></line>\n  <line uid="control-line-2"></line>\n\n  <circle uid="control-point-1-grippie"></circle>\n  <circle uid="control-point-2-grippie"></circle>\n';var _iterator478=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step478;try{for(_iterator478.s();!(_step478=_iterator478.n()).done;){var _t799=_step478.value;this["#"+_t799.getAttribute("uid")]=_t799;}}catch(err){_iterator478.e(err);}finally{_iterator478.f();}},show:function show(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"end";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board"),this.Ea=e,this.Oa=t,this.La=i,this.Ta="none",this.removeAttribute("drawing"),!1===this.Aa&&this.Ba(),this.Ra(),this.Ga(),this.Fa(),this.Ua();},hide:function hide(){this.Oa=null,this.$a=null,this.Ia=null,this.removeAttribute("drawing"),!0===this.Aa&&this.Na();},Ba:function Ba(){var _this316=this;this.Aa=!0,this.Va=!1,this.Qs.addEventListener("modkeyschange",this.ja=function(){!1===_this316.Va&&(_this316.Ga(),_this316.Fa(),_this316.Ua());}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this316.il(t);}),this.Pn.addEventListener("pointerdown",this.On=function(t){_this316.$a=t.clientX,_this316.Ia=t.clientY,_this316.Fa(),_this316.Ua();var e=Vt(_this316.Oa).inverse();if(_this316.La){var _t800=_this316.La.closest("text"),_i573=Ut(_this316.Oa);e=Vt(_t800).inverse().multiply(_i573);}_this316.Va=!0,_this316.Ha=new DOMPoint(t.clientX,t.clientY),_this316.Ha=_this316.Ha.matrixTransform(e),_this316.Ya=DOMPoint.fromPoint(_this316.Da),_this316.Wa=DOMPoint.fromPoint(_this316.za);}),this.Pn.addEventListener("contextmenu",this.Dn=function(t){t.preventDefault();}),window.addEventListener("pointermove",this.Un=function(t){_this316.$a=t.clientX,_this316.Ia=t.clientY,_this316.setAttribute("drawing",""),_this316.Fa(),_this316.Ua();}),window.addEventListener("pointerup",this.Nn=function(t){_this316.Ga(),_this316.Va=!1,_this316.removeAttribute("drawing");});},Na:function Na(){this.Aa=!1,this.Qs.removeEventListener("modkeyschange",this.ja),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("pointerdown",this.On),this.Pn.removeEventListener("contextmenu",this.Dn),window.removeEventListener("pointermove",this.Un),window.removeEventListener("pointerup",this.Nn);},il:function il(t){var _iterator479=_createForOfIteratorHelper(t.detail),_step479;try{for(_iterator479.s();!(_step479=_iterator479.n()).done;){var _e597=_step479.value;(_e597.target===this.Oa||_e597.target.contains(this.Oa))&&this.Oa.hasAttribute("d")&&(this.Ra(),this.Ga(),this.Fa(),this.Ua());}}catch(err){_iterator479.e(err);}finally{_iterator479.f();}},Ra:function Ra(){if("end"===this.Ea){var _t801=this.Oa.getPathData({normalize:!0}),_e598=_t801[_t801.length-1];this.qa=_e598;for(var _e599=_t801.length-1;_e599>=0;_e599-=1){var _i574=_t801[_e599];if("Z"!==_i574.type){this.Xa=_i574;break;}}"C"===_e598.type?this.Za=new DOMPoint(_e598.values[2],_e598.values[3]):"M"===_e598.type||"L"===_e598.type?this.Za=new DOMPoint(_e598.values[0],_e598.values[1]):this.Za=null,"C"===_e598.type?this.Ka=_e598.values[2]!==_e598.values[4]||_e598.values[3]!==_e598.values[5]:this.Ka=!1;}else if("start"===this.Ea){var _t802=this.Oa.getPathData({normalize:!0}),_e600=_t802[0],_i575=_t802[1];this.Qa=_e600,"C"===_i575.type?this.Ja=new DOMPoint(_i575.values[0],_i575.values[1]):"M"===_i575.type||"L"===_i575.type?this.Ja=new DOMPoint(_e600.values[0],_e600.values[1]):this.Ja=null,"C"===_i575.type?this.tr=_i575.values[0]!==_e600.values[0]&&_i575.values[1]!==_e600.values[1]:this.tr=!1;}},Fa:function Fa(){if(!1===this.Va){var _t803=Vt(this.Oa).inverse();if(this.La){var _e601=this.La.closest("text"),_i576=Ut(this.Oa);_t803=Vt(_e601).inverse().multiply(_i576);}if("end"===this.Ea?("L"===this.Xa.type||"M"===this.Xa.type?this.Ma=new DOMPoint(this.Xa.values[0],this.Xa.values[1]):"C"===this.Xa.type&&(this.Ma=new DOMPoint(this.Xa.values[4],this.Xa.values[5])),null===this.$a?this.Pa=DOMPoint.fromPoint(this.Ma):this.Pa=new DOMPoint(this.$a,this.Ia).matrixTransform(_t803)):"start"===this.Ea&&(null===this.$a?this.Ma=new DOMPoint(this.Qa.values[0],this.Qa.values[1]):this.Ma=new DOMPoint(this.$a,this.Ia).matrixTransform(_t803),this.Pa=new DOMPoint(this.Qa.values[0],this.Qa.values[1])),"none"===this.Ta){var _t804;new q(this.Ma,this.Pa);"end"===this.Ea?_t804=new q(this.Ma,this.Za):"start"===this.Ea&&(_t804=new q(this.Pa,this.Ja)),_t804=_t804.negate(),"end"===this.Ea?(this.Da=new DOMPoint(this.Ma.x+_t804.x,this.Ma.y+_t804.y),this.za=DOMPoint.fromPoint(this.Pa)):"start"===this.Ea&&(this.za=new DOMPoint(this.Pa.x+_t804.x,this.Pa.y+_t804.y),this.Da=DOMPoint.fromPoint(this.Ma));}else if("polygon"===this.Ta)this.Da=DOMPoint.fromPoint(this.Ma),this.za=DOMPoint.fromPoint(this.Pa);else if("paraxialPolygon"===this.Ta){if("end"===this.Ea){var _Te15=Te(this.Ma,this.Pa,45),_Te16=_slicedToArray(_Te15,1),_t805=_Te16[0];this.Pa=_t805;}else if("start"===this.Ea){var _Te17=Te(this.Pa,this.Ma,45),_Te18=_slicedToArray(_Te17,1),_t806=_Te18[0];this.Ma=_t806;}this.Da=DOMPoint.fromPoint(this.Ma),this.za=DOMPoint.fromPoint(this.Pa);}}else if(!0===this.Va){var _t807=Vt(this.Oa).inverse();if(this.La){var _e603=this.La.closest("text"),_i578=Ut(this.Oa);_t807=Vt(_e603).inverse().multiply(_i578);}var _e602=new DOMPoint(this.$a,this.Ia);_e602=_e602.matrixTransform(_t807);var _i577=new q(this.Ha,_e602).negate();"end"===this.Ea?this.za=new DOMPoint(this.Wa.x+_i577.x,this.Wa.y+_i577.y):"start"===this.Ea&&(this.Da=new DOMPoint(this.Ya.x+_i577.x,this.Ya.y+_i577.y));}},Ga:function Ga(){var _this$Qs$modKeys7=this.Qs.modKeys,t=_this$Qs$modKeys7.ctrl,e=_this$Qs$modKeys7.alt,i=_this$Qs$modKeys7.shift;this.Ta=t&&i?"polygon":!t&&i?"paraxialPolygon":"none","end"===this.Ea?this.Ka||"none"!==this.Ta||(this.Ta="polygon"):"start"===this.Ea&&(this.tr||"none"!==this.Ta||(this.Ta="polygon"));},Ua:function Ua(){var t=Nt(this.Oa,this);if(this.La){var _e604=this.La.closest("text"),_i579=Nt(_e604,this),_s344=Ut(this.Oa);t=_i579.multiply(_s344);}var e=this.Ma.matrixTransform(t),i=this.Pa.matrixTransform(t),s=this.Da.matrixTransform(t),n=this.za.matrixTransform(t),o=3/this.Pn.scale,l=[{type:"M",values:[e.x,e.y]},{type:"C",values:[s.x,s.y,n.x,n.y,i.x,i.y]}];this["#outline"].setPathData(l),this["#control-point-1-grippie"].cx.baseVal.value=s.x,this["#control-point-1-grippie"].cy.baseVal.value=s.y,this["#control-point-1-grippie"].r.baseVal.value=o,this["#control-point-2-grippie"].cx.baseVal.value=n.x,this["#control-point-2-grippie"].cy.baseVal.value=n.y,this["#control-point-2-grippie"].r.baseVal.value=o,this["#control-line-1"].x1.baseVal.value=e.x,this["#control-line-1"].y1.baseVal.value=e.y,this["#control-line-1"].x2.baseVal.value=s.x,this["#control-line-1"].y2.baseVal.value=s.y,this["#control-line-2"].x1.baseVal.value=i.x,this["#control-line-2"].y1.baseVal.value=i.y,this["#control-line-2"].x2.baseVal.value=n.x,this["#control-line-2"].y2.baseVal.value=n.y;}};var bc={id:"quad-bezier-seg-hud",get startPoint(){return this.Ma;},get endPoint(){return this.Pa;},get controlPoint(){return this.er;},get curved(){var t=De(this.Ma,this.Pa);return this.er.x!==t.x||this.er.y!==t.y;},createdCallback:function createdCallback(){this.Oa=null,this.Ea="end",this.Ta="none",this.Aa=!1,this.$a=null,this.Ia=null,this.innerHTML='\n  <style>\n    #quad-bezier-seg-hud [uid="control-line-1"],\n    #quad-bezier-seg-hud [uid="control-line-2"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      opacity: 0.4;\n    }\n\n    #quad-bezier-seg-hud [uid="control-point-grippie"] {\n      fill: red;\n      stroke: none;\n      pointer-events: none;\n      opacity: 1;\n    }\n\n    #quad-bezier-seg-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <path uid="outline" d="M 0 0 C 0 0 0 0 0 0"></path>\n\n  <line uid="control-line-1"></line>\n  <line uid="control-line-2"></line>\n\n  <circle uid="control-point-grippie"></circle>\n';var _iterator480=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step480;try{for(_iterator480.s();!(_step480=_iterator480.n()).done;){var _t808=_step480.value;this["#"+_t808.getAttribute("uid")]=_t808;}}catch(err){_iterator480.e(err);}finally{_iterator480.f();}},show:function show(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"end";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board"),this.Ea=e,this.Oa=t,this.La=i,this.Ta="none",this.removeAttribute("drawing"),!1===this.Aa&&this.Ba(),this.Ra(),this.Ga(),this.Fa(),this.Ua();},hide:function hide(){this.Oa=null,this.$a=null,this.Ia=null,this.removeAttribute("drawing"),!0===this.Aa&&this.Na();},Ba:function Ba(){var _this317=this;this.Aa=!0,this.Va=!1,this.Qs.addEventListener("modkeyschange",this.ja=function(){!1===_this317.Va&&(_this317.Ga(),_this317.Fa(),_this317.Ua());}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this317.il(t);}),this.Pn.addEventListener("pointerdown",this.On=function(t){_this317.$a=t.clientX,_this317.Ia=t.clientY,_this317.Fa(),_this317.Ua();var e=Vt(_this317.Oa).inverse();if(_this317.La){var _t809=_this317.La.closest("text"),_i580=Ut(_this317.Oa);e=Vt(_t809).inverse().multiply(_i580);}_this317.Va=!0,_this317.Ha=new DOMPoint(t.clientX,t.clientY),_this317.Ha=_this317.Ha.matrixTransform(e),_this317.ir=DOMPoint.fromPoint(_this317.er);}),this.Pn.addEventListener("contextmenu",this.Dn=function(t){t.preventDefault();}),window.addEventListener("pointermove",this.Un=function(t){_this317.$a=t.clientX,_this317.Ia=t.clientY,_this317.setAttribute("drawing",""),_this317.Fa(),_this317.Ua();}),window.addEventListener("pointerup",this.Nn=function(t){_this317.Ga(),_this317.Va=!1,_this317.removeAttribute("drawing");});},Na:function Na(){this.Aa=!1,this.Qs.removeEventListener("modkeyschange",this.ja),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("pointerdown",this.On),this.Pn.removeEventListener("contextmenu",this.Dn),window.removeEventListener("pointermove",this.Un),window.removeEventListener("pointerup",this.Nn);},il:function il(t){var _iterator481=_createForOfIteratorHelper(t.detail),_step481;try{for(_iterator481.s();!(_step481=_iterator481.n()).done;){var _e605=_step481.value;(_e605.target===this.Oa||_e605.target.contains(this.Oa))&&this.Oa.hasAttribute("d")&&(this.Ra(),this.Ga(),this.Fa(),this.Ua());}}catch(err){_iterator481.e(err);}finally{_iterator481.f();}},Ra:function Ra(){if("end"===this.Ea){var _t810=this.Oa.getPathData({normalize:!0}),_e606=_t810[_t810.length-1];this.qa=_e606;for(var _e607=_t810.length-1;_e607>=0;_e607-=1){var _i581=_t810[_e607];if("Z"!==_i581.type){this.Xa=_i581;break;}}"C"===_e606.type?this.Za=new DOMPoint(_e606.values[2],_e606.values[3]):"M"===_e606.type||"L"===_e606.type?this.Za=new DOMPoint(_e606.values[0],_e606.values[1]):this.Za=null,"C"===_e606.type?this.Ka=_e606.values[2]!==_e606.values[4]||_e606.values[3]!==_e606.values[5]:this.Ka=!1;}else if("start"===this.Ea){var _t811=this.Oa.getPathData({normalize:!0}),_e608=_t811[0],_i582=_t811[1];this.Qa=_e608,"C"===_i582.type?this.Ja=new DOMPoint(_i582.values[0],_i582.values[1]):"M"===_i582.type||"L"===_i582.type?this.Ja=new DOMPoint(_e608.values[0],_e608.values[1]):this.Ja=null,"C"===_i582.type?this.tr=_i582.values[0]!==_e608.values[0]&&_i582.values[1]!==_e608.values[1]:this.tr=!1;}},Fa:function Fa(){if(!1===this.Va){var _t812=Vt(this.Oa).inverse();if(this.La){var _e609=this.La.closest("text"),_i583=Ut(this.Oa);_t812=Vt(_e609).inverse().multiply(_i583);}if("end"===this.Ea?("L"===this.Xa.type||"M"===this.Xa.type?this.Ma=new DOMPoint(this.Xa.values[0],this.Xa.values[1]):"C"===this.Xa.type&&(this.Ma=new DOMPoint(this.Xa.values[4],this.Xa.values[5])),null===this.$a?this.Pa=DOMPoint.fromPoint(this.Ma):this.Pa=new DOMPoint(this.$a,this.Ia).matrixTransform(_t812)):"start"===this.Ea&&(null===this.$a?this.Ma=new DOMPoint(this.Qa.values[0],this.Qa.values[1]):this.Ma=new DOMPoint(this.$a,this.Ia).matrixTransform(_t812),this.Pa=new DOMPoint(this.Qa.values[0],this.Qa.values[1])),"none"===this.Ta){var _t813,_e610=new q(this.Ma,this.Pa);"end"===this.Ea?_t813=new q(this.Ma,this.Za):"start"===this.Ea&&(_t813=new q(this.Pa,this.Ja)),_t813=_t813.negate().scale(_e610.length/2),"end"===this.Ea?this.er=new DOMPoint(this.Ma.x+_t813.x,this.Ma.y+_t813.y):"start"===this.Ea&&(this.er=new DOMPoint(this.Pa.x+_t813.x,this.Pa.y+_t813.y));}else if("polygon"===this.Ta)this.er=De(this.Ma,this.Pa);else if("paraxialPolygon"===this.Ta){if("end"===this.Ea){var _Te19=Te(this.Ma,this.Pa,45),_Te20=_slicedToArray(_Te19,1),_t814=_Te20[0];this.Pa=_t814;}else if("start"===this.Ea){var _Te21=Te(this.Pa,this.Ma,45),_Te22=_slicedToArray(_Te21,1),_t815=_Te22[0];this.Ma=_t815;}this.er=De(this.Ma,this.Pa);}}else if(!0===this.Va){var _t816=Vt(this.Oa).inverse();if(this.La){var _e612=this.La.closest("text"),_i585=Ut(this.Oa);_t816=Vt(_e612).inverse().multiply(_i585);}var _e611=new DOMPoint(this.$a,this.Ia);_e611=_e611.matrixTransform(_t816);var _i584=new q(this.Ha,_e611).negate();if(this.er=new DOMPoint(this.ir.x+_i584.x,this.ir.y+_i584.y),"none"===this.Ta)if("end"===this.Ea){var _ze35=ze(this.Za,this.Ma,this.er,!0),_ze36=_slicedToArray(_ze35,2),_t817=_ze36[0],_e613=_ze36[1];this.er=_e613<1?DOMPoint.fromPoint(this.Ma):_t817;}else if("start"===this.Ea){var _ze37=ze(this.Ja,this.Pa,this.er,!0),_ze38=_slicedToArray(_ze37,2),_t818=_ze38[0],_e614=_ze38[1];this.er=_e614<1?DOMPoint.fromPoint(this.Pa):_t818;}}},Ga:function Ga(){var _this$Qs$modKeys8=this.Qs.modKeys,t=_this$Qs$modKeys8.ctrl,e=_this$Qs$modKeys8.alt,i=_this$Qs$modKeys8.shift;this.Ta=t&&i?"polygon":!t&&i?"paraxialPolygon":"none","end"===this.Ea?this.Ka||"none"!==this.Ta||(this.Ta="polygon"):"start"===this.Ea&&(this.tr||"none"!==this.Ta||(this.Ta="polygon"));},Ua:function Ua(){var t=Nt(this.Oa,this);if(this.La){var _e615=this.La.closest("text"),_i586=Nt(_e615,this),_s345=Ut(this.Oa);t=_i586.multiply(_s345);}var e=this.Ma.matrixTransform(t),i=this.Pa.matrixTransform(t),s=this.er.matrixTransform(t),n=3/this.Pn.scale,o=[{type:"M",values:[e.x,e.y]},{type:"Q",values:[s.x,s.y,i.x,i.y]}];this["#outline"].setPathData(o),this["#control-point-grippie"].cx.baseVal.value=s.x,this["#control-point-grippie"].cy.baseVal.value=s.y,this["#control-point-grippie"].r.baseVal.value=n,this["#control-line-1"].x1.baseVal.value=e.x,this["#control-line-1"].y1.baseVal.value=e.y,this["#control-line-1"].x2.baseVal.value=s.x,this["#control-line-1"].y2.baseVal.value=s.y,this["#control-line-2"].x1.baseVal.value=i.x,this["#control-line-2"].y1.baseVal.value=i.y,this["#control-line-2"].x2.baseVal.value=s.x,this["#control-line-2"].y2.baseVal.value=s.y;}};var mc=Math.abs,gc=Math.pow,fc=Number.isFinite;var wc={id:"arc-seg-hud",get values(){return this["#arc-outline"].getPathData()[1].values;},createdCallback:function createdCallback(){this.innerHTML='\n  <style>\n    #arc-seg-hud [uid="circle-outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n      opacity: 0.4;\n      pointer-events: none;\n    }\n\n    #arc-seg-hud [uid="arc-outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <circle uid="circle-outline" r="0"></circle>\n  <path uid="arc-outline" d="M 0 0 A 0 0 0 0 0 0 0"></path>\n';var _iterator482=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step482;try{for(_iterator482.s();!(_step482=_iterator482.n()).done;){var _t819=_step482.value;this["#"+_t819.getAttribute("uid")]=_t819;}}catch(err){_iterator482.e(err);}finally{_iterator482.f();}},draw:function draw(t,e,i){var _this318=this;this.hasAttribute("drawing")&&this.drawEnd(),this.setAttribute("drawing",""),this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board"),this.Pn.snapManager.snapStart(!0);var s=Vt(this.Pn.vectorCanvas).inverse(),n=Nt(t,this.Pn.vectorCanvas),o=n.inverse(),l=e.matrixTransform(s),h=i.matrixTransform(s),a=l.matrixTransform(o),r=h.matrixTransform(o);a=Ce(a,6),r=Ce(r,6),a.x===r.x&&a.y===r.y&&(r.x-=10);var d=function d(){var _this318$Qs$modKeys=_this318.Qs.modKeys,t=_this318$Qs$modKeys.ctrl,i=_this318$Qs$modKeys.shift,l=_this318.Qs.pointerClientPoint;if(i){var _i587;_i587=t?_this318.Pn.snapManager.snapPointToAngleMultiple(e,l,22.5):_this318.Pn.snapManager.snapPoint(l);var _h137=_i587.matrixTransform(s).matrixTransform(o);_this318["#circle-outline"].cx.baseVal.value=0,_this318["#circle-outline"].cy.baseVal.value=0,_this318["#circle-outline"].r.baseVal.value=0,_this318["#circle-outline"].setAttribute("transform",n.toString()),_this318["#arc-outline"].setPathData([{type:"M",values:[a.x,a.y]},{type:"A",values:[0,0,0,0,0,_h137.x,_h137.y]}]),_this318["#arc-outline"].setAttribute("transform",n.toString());}else{var _t820=_this318.Pn.snapManager.snapPoint(l).matrixTransform(s).matrixTransform(o);_t820=Ce(_t820,6),a.x===_t820.x&&(_t820.x+=1e-9);var _e616=(a.x-r.x)*(gc(a.x-_t820.x,2)+(gc(_t820.y,2)-gc(a.y,2)))/((a.y-r.y)*(a.x-_t820.x)+(a.x-r.x)*(_t820.y-a.y))*.5+a.y*(a.y-r.y)*(a.x-_t820.x)/((a.y-r.y)*(a.x-_t820.x)+(a.x-r.x)*(_t820.y-a.y)),_i588=.5*((gc(a.y-_e616,2)-gc(_t820.y-_e616,2))/(a.x-_t820.x)+_t820.x+a.x);if(!fc(_i588)||!fc(_e616))return;var _h138=new DOMPoint(_i588,_e616),_d53=new q(_h138,a).length;_this318["#circle-outline"].cx.baseVal.value=_h138.x,_this318["#circle-outline"].cy.baseVal.value=_h138.y,_this318["#circle-outline"].r.baseVal.value=_d53,_this318["#circle-outline"].setAttribute("transform",n.toString());{var _e617,_i589,_s346=new q(a,r).getOppositeVector(),_o198=new q(a,_t820),_l184=Ie(ce(_s346,_o198));_this318.Qs.modKeys.ctrl?(_e617=_l184>0?0:1,_i589=mc(_l184)<90?1:0):(_e617=_l184<0?0:1,_i589=mc(_l184)>90?1:0),_this318["#arc-outline"].setPathData([{type:"M",values:[a.x,a.y]},{type:"A",values:[_d53,_d53,0,_i589,_e617,_t820.x,_t820.y]}]),_this318["#arc-outline"].setAttribute("transform",n.toString());}}};this.Pn.addEventListener("zoomchange",this.an=function(){d();}),this.Qs.addEventListener("modkeyschange",this.ja=function(){d();}),window.addEventListener("pointermove",this.Un=function(t){d();}),d();},drawEnd:function drawEnd(){this.hasAttribute("drawing")&&(this.removeAttribute("drawing"),this["#circle-outline"].setAttribute("r","0"),this["#arc-outline"].setAttribute("d","M 0 0 A 0 0 0 0 0 0 0"),this.Pn.snapManager.snapEnd(),this.Pn.removeEventListener("zoomchange",this.an),this.Qs.removeEventListener("modkeyschange",this.ja),window.removeEventListener("pointermove",this.Un));}};var vc={id:"freehand-hud",get points(){return _toConsumableArray(this["#outline"].points).map(function(t){return DOMPoint.fromPoint(t);});},createdCallback:function createdCallback(){this.Oa=null,this.innerHTML='\n  <style>\n    #freehand-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <polyline uid="outline"></polyline>\n';var _iterator483=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step483;try{for(_iterator483.s();!(_step483=_iterator483.n()).done;){var _t821=_step483.value;this["#"+_t821.getAttribute("uid")]=_t821;}}catch(err){_iterator483.e(err);}finally{_iterator483.f();}},show:function show(t,e){var _this319=this;this.Oa&&this.hide(),this.Oa=t;var i=Vt(this.Oa).inverse(),s=Nt(this.Oa,this);if(this["#outline"].setAttribute("points",""),this["#outline"].setAttribute("transform",s.toString()),this.setAttribute("drawing",""),e){var _t822=e.matrixTransform(i);this["#outline"].points.appendItem(Ee(_t822));}window.addEventListener("pointermove",this.Un=function(t){var _iterator484=_createForOfIteratorHelper(t.getCoalescedEvents()),_step484;try{for(_iterator484.s();!(_step484=_iterator484.n()).done;){var _e618=_step484.value;var _t823=new DOMPoint(_e618.clientX,_e618.clientY).matrixTransform(i);_this319["#outline"].points.appendItem(Ee(_t823));}}catch(err){_iterator484.e(err);}finally{_iterator484.f();}});},hide:function hide(){this.Oa=null,this.removeAttribute("drawing"),this["#outline"].setAttribute("points",""),window.removeEventListener("pointermove",this.Un);},clear:function clear(){this["#outline"].setAttribute("points","");}};var yc={id:"line-seg-hud",get startPoint(){return this.Ma;},set startPoint(t){this.Ma=t,this.qs();},get endPoint(){return this.Pa;},set endPoint(t){this.Pa=t,this.qs();},createdCallback:function createdCallback(){this.Ma=new DOMPoint(),this.Pa=new DOMPoint(),this.innerHTML='\n  <style>\n    #line-seg-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <line uid="outline" class="outline" x1="0" y1="0" x2="0" y2="0"></line>\n';var _iterator485=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step485;try{for(_iterator485.s();!(_step485=_iterator485.n()).done;){var _t824=_step485.value;this["#"+_t824.getAttribute("uid")]=_t824;}}catch(err){_iterator485.e(err);}finally{_iterator485.f();}},qs:function qs(){this.Pn||(this.Pn=Ti(this,"bx-board"));var t=Vt(this.Pn.vectorCanvas).inverse(),e=this.Ma.matrixTransform(t),i=this.Pa.matrixTransform(t);this["#outline"].setAttribute("x1",e.x),this["#outline"].setAttribute("y1",e.y),this["#outline"].setAttribute("x2",i.x),this["#outline"].setAttribute("y2",i.y);}};var kc={id:"polyline-seg-hud",get startPoint(){return DOMPoint.fromPoint(this["#outline"].points[0]);},get endPoint(){return DOMPoint.fromPoint(this["#outline"].points[1]);},createdCallback:function createdCallback(){this.sr=null,this.Aa=!1,this.innerHTML='\n  <style>\n    #polyline-seg-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <polyline uid="outline" class="outline" points="0 0 0 0"></polyline>\n';var _iterator486=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step486;try{for(_iterator486.s();!(_step486=_iterator486.n()).done;){var _t825=_step486.value;this["#"+_t825.getAttribute("uid")]=_t825;}}catch(err){_iterator486.e(err);}finally{_iterator486.f();}},show:function show(t){this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board"),this.sr=t,this.setAttribute("drawing",""),!1===this.Aa&&this.Ba(),this.qs();},hide:function hide(){this.sr=null,this.removeAttribute("drawing"),!0===this.Aa&&this.Na();},Ba:function Ba(){var _this320=this;this.Aa=!0,window.addEventListener("pointermove",this.Un=function(){_this320.qs();}),window.addEventListener("pointerup",this.Nn=function(){_this320.qs();}),this.Qs.addEventListener("modkeyschange",this.ja=function(){_this320.qs();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){var _iterator487=_createForOfIteratorHelper(t.detail),_step487;try{for(_iterator487.s();!(_step487=_iterator487.n()).done;){var _e619=_step487.value;(_e619.target===_this320.sr||_e619.target.contains(_this320.sr))&&_this320.qs();}}catch(err){_iterator487.e(err);}finally{_iterator487.f();}});},Na:function Na(){this.Aa=!1,window.removeEventListener("pointermove",this.Un),window.removeEventListener("pointerup",this.Nn),this.Qs.removeEventListener("modkeyschange",this.ja),this.Pn.removeEventListener("workspacemutation",this.rn);},qs:function qs(){if(0===this.sr.points.length)this["#outline"].removeAttribute("points");else{var _t826=Nt(this.sr,this.Pn.vectorCanvas),_e620=Vt(this.Pn.vectorCanvas).inverse(),_i590=DOMPoint.fromPoint(this.sr.points[this.sr.points.length-1]),_s347=this.Qs.pointerClientPoint;if(_i590=_i590.matrixTransform(_t826),_s347=_s347.matrixTransform(_e620),this.Qs.modKeys.shift){var _Te23=Te(_i590,_s347,22.5),_Te24=_slicedToArray(_Te23,1),_t827=_Te24[0];_s347=_t827;}this["#outline"].setAttribute("points","".concat(_i590.x," ").concat(_i590.y," ").concat(_s347.x," ").concat(_s347.y));}}};var Sc={id:"polygon-seg-hud",get startPoint(){return DOMPoint.fromPoint(this["#outline-1"].points[0]);},get endPoint(){return DOMPoint.fromPoint(this["#outline-2"].points[1]);},createdCallback:function createdCallback(){this.nr=null,this.Aa=!1,this.innerHTML='\n  <style>\n    #polygon-seg-hud [uid="outline-1"],\n    #polygon-seg-hud [uid="outline-2"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n    #polygon-seg-hud [uid="outline-1"] {\n      opacity: 0.1;\n    }\n  </style>\n\n  <polygon uid="outline-1" class="outline" points="0 0 0 0"></polygon>\n  <polygon uid="outline-2" class="outline" points="0 0 0 0"></polygon>\n';var _iterator488=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step488;try{for(_iterator488.s();!(_step488=_iterator488.n()).done;){var _t828=_step488.value;this["#"+_t828.getAttribute("uid")]=_t828;}}catch(err){_iterator488.e(err);}finally{_iterator488.f();}},show:function show(t){this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board"),this.nr=t,this.setAttribute("drawing",""),!1===this.Aa&&this.Ba(),this.qs();},hide:function hide(){this.nr=null,this.removeAttribute("drawing"),!0===this.Aa&&this.Na();},Ba:function Ba(){var _this321=this;this.Aa=!0,window.addEventListener("pointermove",this.Un=function(){_this321.qs();}),window.addEventListener("pointerup",this.Nn=function(){_this321.qs();}),this.Qs.addEventListener("modkeyschange",this.ja=function(){_this321.qs();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){var _iterator489=_createForOfIteratorHelper(t.detail),_step489;try{for(_iterator489.s();!(_step489=_iterator489.n()).done;){var _e621=_step489.value;(_e621.target===_this321.nr||_e621.target.contains(_this321.nr))&&_this321.qs();}}catch(err){_iterator489.e(err);}finally{_iterator489.f();}});},Na:function Na(){this.Aa=!1,window.removeEventListener("pointermove",this.Un),window.removeEventListener("pointerup",this.Nn),this.Qs.removeEventListener("modkeyschange",this.ja),this.Pn.removeEventListener("workspacemutation",this.rn);},qs:function qs(){if(0===this.nr.points.length)this["#outline-1"].removeAttribute("points"),this["#outline-2"].removeAttribute("points");else{var _t829=Nt(this.nr,this.Pn.vectorCanvas),_e622=Vt(this.Pn.vectorCanvas).inverse(),_i591=DOMPoint.fromPoint(this.nr.points[0]),_s348=DOMPoint.fromPoint(this.nr.points[this.nr.points.length-1]),_n248=this.Qs.pointerClientPoint;if(_i591=_i591.matrixTransform(_t829),_s348=_s348.matrixTransform(_t829),_n248=_n248.matrixTransform(_e622),this.Qs.modKeys.shift){var _Te25=Te(_s348,_n248,22.5),_Te26=_slicedToArray(_Te25,1),_t830=_Te26[0];_n248=_t830;}this["#outline-1"].setAttribute("points","".concat(_i591.x," ").concat(_i591.y," ").concat(_n248.x," ").concat(_n248.y)),this["#outline-2"].setAttribute("points","".concat(_s348.x," ").concat(_s348.y," ").concat(_n248.x," ").concat(_n248.y));}}};var _c=Number.parseFloat;var Cc={id:"grid-hud",get selected(){return this.hasAttribute("selected");},set selected(t){t?this.setAttribute("selected",""):this.removeAttribute("selected"),this.dispatchEvent(new CustomEvent("selectedchange"));},createdCallback:function createdCallback(){var _this322=this;this.tabIndex=-1,this.lr=qi(this.qs,500,this),this.hr=qi(this.qs,1e3,this),this.ar=!1,this.rr=!1,this.innerHTML='\n  <style>\n    /**\n     * Grid lines\n     */\n\n    #grid-hud .line {\n      fill: none;\n      stroke: green;\n      stroke-width: 1px;\n      stroke-opacity: 0.2;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n\n    /**\n     * Grippies\n     */\n\n    #grid-hud .grippie {\n      stroke: green;\n      stroke-width: 1px;\n      fill: white;\n      pointer-events: all;\n      vector-effect: non-scaling-stroke;\n    }\n    #grid-hud[selected] .grippie {\n      fill: green;\n    }\n\n    /**\n     * Cell rect\n     */\n\n    #grid-hud [uid="cell-rect"] {\n      display: none;\n      fill: green;\n      fill-opacity: 0.05;\n      stroke: green;\n      stroke-width: 1px;\n      stroke-opacity: 1;\n      vector-effect: non-scaling-stroke;\n    }\n    #grid-hud[selected] [uid="cell-rect"] {\n      display: initial;\n    }\n  </style>\n\n  <g uid="main">\n    <g uid="lines">\n      <g uid="horizontal-lines" class="lines"></g>\n      <g uid="vertical-lines" class="lines"></g>\n    </g>\n\n    <rect uid="cell-rect"></rect>\n\n    <g uid="grippies">\n      <circle uid="origin-grippie" class="grippie" r="10" cx="0" cy="0"></circle>\n      <rect uid="resize-grippie" class="grippie" width="10" height="10" x="0" y="0"></rect>\n    </g>\n  </g>\n';var _iterator490=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step490;try{for(_iterator490.s();!(_step490=_iterator490.n()).done;){var _t831=_step490.value;this["#"+_t831.getAttribute("uid")]=_t831;}}catch(err){_iterator490.e(err);}finally{_iterator490.f();}this.addEventListener("pointerdown",function(t){return _this322.wo(t);}),this.addEventListener("focus",function(){return _this322.qs();}),this.addEventListener("blur",function(){return _this322.qs();});},enabledCallback:function enabledCallback(){var _this323=this;this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board"),this.tabIndex=0,this.hr(),this.dispatchEvent(new CustomEvent("enabled")),this.Pn.addEventListener("workspacemutation",this.rn=function(t){if(_this323.ar||_this323.rr)_this323.qs();else{var _iterator491=_createForOfIteratorHelper(t.detail),_step491;try{for(_iterator491.s();!(_step491=_iterator491.n()).done;){var _e623=_step491.value;"bx-grid"===_e623.target.localName&&_this323.lr();}}catch(err){_iterator491.e(err);}finally{_iterator491.f();}}}),this.Pn.addEventListener("artworkchange",this.dr=function(t){_this323.hr();}),this.Pn.addEventListener("zoomchange",this.an=function(){_this323.lr(),_this323.cr();}),this.Pn.workspaces.addEventListener("pointerdown",this.yn=function(t){_this323.kn(t);}),this.Pn.huds.addEventListener("pointerdown",this.Hn=function(t){_this323.Hh(t);});},disabledCallback:function disabledCallback(){this.dispatchEvent(new CustomEvent("disabled")),this.tabIndex=-1,this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("artworkchange",this.dr),this.Pn.removeEventListener("zoomchange",this.an),this.Pn.workspaces.removeEventListener("pointerdown",this.yn),this.Pn.huds.removeEventListener("pointerdown",this.Hn);},kn:function kn(){this.selected=!1;},Hh:function Hh(t){t.target!==this&&!1===this.contains(t.target)&&(this.selected=!1);},wo:function wo(t){var _this324=this;var _e624,_i592,s=t.target,n=new DOMPoint(t.clientX,t.clientY),o=n;s.setPointerCapture(t.pointerId),this.selected=!0,this.Pn.selectedElements=[],this.Pn.selectedTextRange=null,this.Pn.currentContainer=null,s.addEventListener("pointermove",_e624=function e(l){var h=new DOMPoint(l.clientX,l.clientY),a=l.timeStamp-t.timeStamp,r=Pe(n,h)>3||a>80,d=!1===_e(o,h,0);o=h,!0===r&&!0===d&&(s.removeEventListener("pointermove",_e624),s.removeEventListener("pointerup",_i592),s===_this324["#origin-grippie"]||s===_this324["#cell-rect"]?_this324.pr(t):s===_this324["#resize-grippie"]&&_this324.ur(t));}),s.addEventListener("pointerup",_i592=function i(t){s.removeEventListener("pointermove",_e624),s.removeEventListener("pointerup",_i592);});},pr:function pr(t){var _this325=this;this.Pn.undoManager.checkpoint("Move grid");var e,_i593,s=this.Pn,n=s.maybeCreateGridForCurrentWorkspace(),o=Vt(s.vectorCanvas).inverse(),l=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),h=_c(n.getAttribute("x")),a=_c(n.getAttribute("y"));this.setPointerCapture(t.pointerId),this.ar=!0,this.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=h+(e.x-l.x),r=a+(e.y-l.y);i=X(i,s.geometryPrecision),r=X(r,s.geometryPrecision),n.setAttribute("x",i),n.setAttribute("y",r);}),this.addEventListener("pointerup",_i593=function i(t){_this325.removeEventListener("pointermove",e),_this325.removeEventListener("pointerup",_i593),_this325.ar=!1;});},ur:function ur(t){var _this326=this;this.Pn.undoManager.checkpoint("Resize grid");var e,_i594,s=this.Pn,n=s.maybeCreateGridForCurrentWorkspace(),o=Vt(s.vectorCanvas).inverse(),l=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),h=n?_c(n.getAttribute("width")):100,a=n?_c(n.getAttribute("height")):100,r=8/s.scale;this.setPointerCapture(t.pointerId),this.rr=!0,this.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=h+(e.x-l.x),d=a+(e.y-l.y);i<r&&(i=r),d<r&&(d=r),t.shiftKey&&(d=i),i=X(i,s.geometryPrecision),d=X(d,s.geometryPrecision),n.setAttribute("width",i),n.setAttribute("height",d);}),this.addEventListener("pointerup",_i594=function i(t){_this326.removeEventListener("pointermove",e),_this326.removeEventListener("pointerup",_i594),_this326.rr=!1;});},qs:function qs(){var t=this.Pn,e=t.currentWorkspace.querySelector(":scope > defs > bx-grid"),i=Vt(t.vectorCanvas).inverse(),s=Fe(t.getBoundingClientRect(),i),n=e?_c(e.getAttribute("x")):0,o=e?_c(e.getAttribute("y")):0,l=e?_c(e.getAttribute("width")):100,h=e?_c(e.getAttribute("height")):100,a=s.x-s.width/2,r=s.x+s.width+s.width/2,d=s.y-s.height/2,c=s.y+s.height+s.height/2;{var _t832="";for(var _e625=n;_e625<=r;_e625+=l){_e625>=a&&(_t832+="<line class=\"line\" x1=\"".concat(_e625,"\" y1=\"-99999\" x2=\"").concat(_e625,"\" y2=\"99999\"></line>"));}for(var _e626=n-l;_e626>=a;_e626-=l){_e626<=r&&(_t832+="<line class=\"line\" x1=\"".concat(_e626,"\" y1=\"-99999\" x2=\"").concat(_e626,"\" y2=\"99999\"></line>"));}this["#vertical-lines"].innerHTML=_t832;}{var _t833="";for(var _e627=o;_e627<=c;_e627+=h){_e627>=d&&(_t833+="<line class=\"line\" y1=\"".concat(_e627,"\" x1=\"-99999\" y2=\"").concat(_e627,"\" x2=\"99999\"></line>"));}for(var _e628=o-h;_e628>=d;_e628-=h){_e628<=c&&(_t833+="<line class=\"line\" y1=\"".concat(_e628,"\" x1=\"-99999\" y2=\"").concat(_e628,"\" x2=\"99999\"></line>"));}this["#horizontal-lines"].innerHTML=_t833;}this["#cell-rect"].setAttribute("x",n),this["#cell-rect"].setAttribute("y",o),this["#cell-rect"].setAttribute("width",l),this["#cell-rect"].setAttribute("height",h),this.cr();},cr:function cr(){var t=this.Pn,e=t.currentWorkspace.querySelector(":scope > defs > bx-grid"),i=e?_c(e.getAttribute("x")):0,s=e?_c(e.getAttribute("y")):0,n=e?_c(e.getAttribute("width")):100,o=e?_c(e.getAttribute("height")):100;this["#origin-grippie"].setAttribute("cx",i),this["#origin-grippie"].setAttribute("cy",s),this["#origin-grippie"].setAttribute("r",4/t.scale),this["#resize-grippie"].setAttribute("width",8/t.scale),this["#resize-grippie"].setAttribute("height",8/t.scale),this["#resize-grippie"].setAttribute("x",i+n-5/t.scale),this["#resize-grippie"].setAttribute("y",s+o-5/t.scale);},requestImmidiateUpdate:function requestImmidiateUpdate(){this.qs();}};var Mc=Symbol(),Pc=4,Dc=!1;var zc={id:"manual-guides-hud",createdCallback:function createdCallback(){var _this327=this;this.br=[],this.mr=!1,this.lr=qi(this.qs,500,this),this.gr=qi(this.wr,200,this),this.innerHTML='\n  <style>\n    #manual-guides-hud .repr {\n      color: red;\n      pointer-events: none;\n    }\n    #manual-guides-hud .repr[data-snapping="true"] {\n      color: blue;\n    }\n\n    #manual-guides-hud .repr .outer-line {\n      fill: none;\n      stroke: currentColor;\n      stroke-width: 10;\n      vector-effect: non-scaling-stroke;\n      opacity: 0;\n    }\n    #manual-guides-hud .repr[data-selected] .outer-line {\n      opacity: 0.1;\n      pointer-events: all;\n    }\n\n    #manual-guides-hud .repr .inner-line {\n      fill: none;\n      stroke: currentColor;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n    }\n\n    #manual-guides-hud .repr .grippie {\n      stroke: currentColor;\n      stroke-width: 1px;\n      fill: white;\n      pointer-events: all;\n      vector-effect: non-scaling-stroke;\n    }\n    #manual-guides-hud .repr[data-selected] .grippie {\n      fill: currentColor;\n    }\n  </style>\n\n  <g uid="reprs"></g>\n';var _iterator492=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step492;try{for(_iterator492.s();!(_step492=_iterator492.n()).done;){var _t834=_step492.value;this["#"+_t834.getAttribute("uid")]=_t834;}}catch(err){_iterator492.e(err);}finally{_iterator492.f();}this.addEventListener("pointerdown",function(t){return _this327.wo(t);});},enabledCallback:function enabledCallback(){var _this328=this;this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board"),this.Pn.addEventListener("workspacemutation",this.rn=function(){_this328.lr();}),this.Pn.addEventListener("artworkchange",this.dr=function(){_this328.lr();}),this.Pn.addEventListener("zoomchange",this.an=function(){_this328.ol();}),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this328.vr();}),this.Pn.rulers.addEventListener("pointerdown",this.yr=function(t){_this328.kr(t);}),this.Pn.snapManager.addEventListener("snapperschange",this.Sr=function(t){_this328.gr();}),this.qs();},disabledCallback:function disabledCallback(){this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("artworkchange",this.dr),this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("selectedelementschange",this.Ko),this.Pn.rulers.removeEventListener("pointerdown",this.yr),this.Pn.snapManager.removeEventListener("snapperschange",this.Sr);},requestImmidiateUpdate:function requestImmidiateUpdate(){this.qs();},wo:function wo(t){var _this329=this;if(1!==t.buttons)return;var e,_i595,s=t.target.closest("g.repr"),n=s[Mc],o=Vt(this.Pn.vectorCanvas).inverse(),l=new DOMPoint(t.clientX,t.clientY),h=l.matrixTransform(o),a=l,r=this.Qs.modKeys.ctrl&&Dc?"rotate":"translate",d=this.Pn.geometryPrecision;this.mr=!0,s.setAttribute("data-dragging",""),t.target.closest(".grippie")&&(this.Pn.selectedElements=[n],this.Pn.selectedTextRange=null,this.Pn.currentContainer=null);var c=parseFloat(n.getAttribute("x")),p=parseFloat(n.getAttribute("y")),u=parseFloat(n.getAttribute("angle")),x=c,b=p,m=u;this.setPointerCapture(t.pointerId),this.addEventListener("pointermove",e=function e(_e631){var i=new DOMPoint(_e631.clientX,_e631.clientY),n=i.matrixTransform(o),d=_e631.timeStamp-t.timeStamp,g=Pe(l,i)>3||d>80,f=!1===_e(a,i,0);if(a=i,!0===g&&!0===f)if("translate"===r){var _t835=n.x-h.x,_e629=n.y-h.y;x=c+_t835,b=p+_e629,s.setAttribute("transform","translate(".concat(x," ").concat(b,") rotate(").concat(u,")"));}else if("rotate"===r){var _t836=new DOMPoint(c,p),_e630=$e(_t836,h,n);m=u+_e630,_this329.Qs.modKeys.shift&&(m=Le(m,15)),s.setAttribute("transform","translate(".concat(c," ").concat(p,") rotate(").concat(m,")"));}}),this.addEventListener("lostpointercapture",_i595=function i(t){_this329.removeEventListener("pointermove",e),_this329.removeEventListener("lostpointercapture",_i595),_this329.mr=!1,s.removeAttribute("data-dragging");var o=s.querySelector(".inner-line"),l=Vt(o),h=new DOMPoint(o.x1.baseVal.value,o.y1.baseVal.value);h=h.matrixTransform(l);var a=new DOMPoint(o.x2.baseVal.value,o.y2.baseVal.value);a=a.matrixTransform(l);var r=_this329.Pn.getBoundingClientRect(!0),g=We(h,a,r);h=Ce(h,8),a=Ce(a,8),g&&_this329.Pn.isPointOverBoard(t.clientX,t.clientY)?(x=X(x,d),b=X(b,d),m=X(m,d),x===c&&b===p&&m===u||(_this329.Pn.undoManager.checkpoint("Move guide"),n.setAttribute("x",x),n.setAttribute("y",b),n.setAttribute("angle",m))):(_this329.Pn.undoManager.checkpoint("Remove guide"),_this329.Pn.selectedElements=_this329.Pn.selectedElements.filter(function(t){return t!==n;}),n.remove());});},kr:function kr(t){if(1!==t.buttons)return;var e,_i597,s=this.Pn,n=s.rulers.getRulerTypeFromPoint(t.x,t.y),o=this.Pn.geometryPrecision,l=Vt(this.Pn.vectorCanvas).inverse(),h=0,a=99999,r=-a,d=-a;"vertical"===n?h=0:"horizontal"===n?h=90:"corner"===n&&(h=45);var c=Wi(_templateObject6(),r,d,h,-a,a,-a,a,Pc/s.scale);this["#reprs"].append(c),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);r=e.x,d=e.y,c.setAttribute("transform","translate(".concat(r," ").concat(d,") rotate(").concat(h,")"));}),window.addEventListener("pointerup",_i597=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i597);var n=c.querySelector(".inner-line"),a=Vt(n),p=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value);p=p.matrixTransform(a),p=Ce(p,8);var u=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value);u=u.matrixTransform(a),u=Ce(u,8);var x=s.getBoundingClientRect(!0),b=We(p,u,x);if(c.remove(),b&&!0===s.isPointOverBoard(t.clientX,t.clientY)&&!1===s.isPointOverRuler(t.clientX,t.clientY)){var _e632=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);r=X(_e632.x,o),d=X(_e632.y,o);var _i596=Wi(_templateObject7(),r,d,h);s.selectedElements=[_i596],s.selectedTextRange=null,s.currentContainer=null,s.undoManager.checkpoint("Add guide"),s.currentWorkspace===s.masterWorkspace?(s.maybeCreateDefsForMasterWorkspace(),s.defs.append(_i596)):s.currentWorkspace.append(_i596);}});},qs:function qs(){if(this.mr)return;var t=this.Pn.currentWorkspace.querySelectorAll("bx-guide"),e=!1;if(t.length!==this["#reprs"].childElementCount)e=!0;else for(var _i598=0;_i598<t.length;_i598+=1){var _s349=t[_i598],_n249=this["#reprs"].children[_i598],_o199=_n249.transform.baseVal[0].matrix.e,_l185=_n249.transform.baseVal[0].matrix.f,_h139=_n249.transform.baseVal[1].angle;if(parseFloat(_s349.getAttribute("x"))!==_o199||parseFloat(_s349.getAttribute("y"))!==_l185||parseFloat(_s349.getAttribute("angle"))!==_h139){e=!0;break;}}if(e){var _e633="";var _iterator493=_createForOfIteratorHelper(t),_step493;try{for(_iterator493.s();!(_step493=_iterator493.n()).done;){var _i599=_step493.value;var _t837=99999;_e633+="\n          <g class=\"repr\" transform=\"translate(".concat(parseFloat(_i599.getAttribute("x")),", ").concat(parseFloat(_i599.getAttribute("y")),") rotate(").concat(parseFloat(_i599.getAttribute("angle")),")\" data-snapping=\"").concat(this.Pn.snapManager.isGuideSnapping(_i599),"\">\n            <line class=\"outer-line\" x1=\"0\" y1=\"").concat(-_t837,"\" x2=\"0\" y2=\"").concat(_t837,"\"></line>\n            <line class=\"inner-line\" x1=\"0\" y1=\"").concat(-_t837,"\" x2=\"0\" y2=\"").concat(_t837,"\"></line>\n            <circle class=\"grippie\" cx=\"0\" cy=\"0\"></rect>\n          </g>\n        ");}}catch(err){_iterator493.e(err);}finally{_iterator493.f();}this["#reprs"].innerHTML=_e633;for(var _e634=0;_e634<t.length;_e634+=1){this["#reprs"].children[_e634][Mc]=t[_e634];}}this.ol(),this.vr();},ol:function ol(){var _iterator494=_createForOfIteratorHelper(this["#reprs"].querySelectorAll(".grippie")),_step494;try{for(_iterator494.s();!(_step494=_iterator494.n()).done;){var _t838=_step494.value;_t838.setAttribute("r",Pc/this.Pn.scale);}}catch(err){_iterator494.e(err);}finally{_iterator494.f();}},vr:function vr(){var _iterator495=_createForOfIteratorHelper(this["#reprs"].children),_step495;try{for(_iterator495.s();!(_step495=_iterator495.n()).done;){var _t839=_step495.value;this.Pn.selectedElements.includes(_t839[Mc])?_t839.setAttribute("data-selected",""):_t839.removeAttribute("data-selected");}}catch(err){_iterator495.e(err);}finally{_iterator495.f();}},wr:function wr(){var _iterator496=_createForOfIteratorHelper(this["#reprs"].children),_step496;try{for(_iterator496.s();!(_step496=_iterator496.n()).done;){var _t840=_step496.value;var _e635=this.Pn.snapManager.isGuideSnapping(_t840[Mc]);_t840.setAttribute("data-snapping",_e635);}}catch(err){_iterator496.e(err);}finally{_iterator496.f();}}};var Oc=Math.min,Ec=Math.max;var Tc={id:"smart-guides-hud",get enabled(){return this.hasAttribute("enabled");},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");},createdCallback:function createdCallback(){this.lr=qi(this.qs,100,this),this.innerHTML='\n  <style>\n    #smart-guides-hud .repr {\n      fill: none;\n      stroke: blue;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n      opacity: 0.6;\n      pointer-events: none;\n    }\n  </style>\n\n  <g uid="reprs"></g>\n';var _iterator497=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step497;try{for(_iterator497.s();!(_step497=_iterator497.n()).done;){var _t841=_step497.value;this["#"+_t841.getAttribute("uid")]=_t841;}}catch(err){_iterator497.e(err);}finally{_iterator497.f();}},enabledCallback:function enabledCallback(){var _this330=this;this.Pn=Ti(this,"bx-board"),this.Pn.snapManager.addEventListener("snapperschange",this.Sr=function(){_this330.lr();});},disabledCallback:function disabledCallback(){this.Pn.snapManager.removeEventListener("snapperschange",this.Sr);},qs:function qs(){var t=this.Pn.snapManager.snappers.filter(function(t){return"smart"===t.type&&t.snapping;}),e=Vt(this.Pn.currentWorkspace).inverse();this["#reprs"].innerHTML="";var _iterator498=_createForOfIteratorHelper(t),_step498;try{for(_iterator498.s();!(_step498=_iterator498.n()).done;){var _i600=_step498.value;var _t842=void 0,_s350=void 0;"vertical"===_i600.orientation?_i600.snappedBBox?(_t842=new DOMPoint(_i600.x,Oc(_i600.snappingBBox.y,_i600.snappedBBox.y)),_s350=new DOMPoint(_i600.x,Ec(_i600.snappingBBox.bottom,_i600.snappedBBox.bottom))):_i600.snappedPoint&&(_t842=new DOMPoint(_i600.x,Oc(_i600.snappingBBox.y,_i600.snappedPoint.y)),_s350=new DOMPoint(_i600.x,Ec(_i600.snappingBBox.bottom,_i600.snappedPoint.y))):"horizontal"===_i600.orientation&&(_i600.snappedBBox?(_t842=new DOMPoint(Oc(_i600.snappingBBox.x,_i600.snappedBBox.x),_i600.y),_s350=new DOMPoint(Ec(_i600.snappingBBox.right,_i600.snappedBBox.right),_i600.y)):_i600.snappedPoint&&(_t842=new DOMPoint(Oc(_i600.snappingBBox.x,_i600.snappedPoint.x),_i600.y),_s350=new DOMPoint(Ec(_i600.snappingBBox.right,_i600.snappedPoint.x),_i600.y)));var _t842$matrixTransform=_t842.matrixTransform(e),_n250=_t842$matrixTransform.x,_o200=_t842$matrixTransform.y,_s350$matrixTransform=_s350.matrixTransform(e),_l186=_s350$matrixTransform.x,_h140=_s350$matrixTransform.y,_a117=Wi(_templateObject8(),_n250,_o200,_l186,_h140);this["#reprs"].append(_a117);}}catch(err){_iterator498.e(err);}finally{_iterator498.f();}}};var Ac=Di("svg:marker"),$c=function $c(t){return t.hasAttribute("refX")?Ac.setAttribute("refX",t.getAttribute("refX")):Ac.removeAttribute("refX"),t.hasAttribute("refY")?Ac.setAttribute("refY",t.getAttribute("refY")):Ac.removeAttribute("refY"),new DOMPoint(Ac.refX.baseVal.value,Ac.refY.baseVal.value);},Ic=function Ic(t){return t.hasAttribute("orient")?Ac.setAttribute("orient",t.getAttribute("orient")):Ac.removeAttribute("orient"),[Ac.orientType.baseVal,Ac.orientAngle.baseVal.value];},Lc=Math.abs,Bc=Symbol(),Rc=Symbol(),Gc=Symbol(),Fc=Symbol();var Uc={id:"view-hud",createdCallback:function createdCallback(){var _this331=this;this._r=!1,this.wa=qi(this.qs,200,this),this.innerHTML='\n  <style>\n    #view-hud .grippie[data-position="center"] {\n      fill: rgba(0, 0, 0, 0);\n      shape-rendering: crispEdges;\n    }\n    #view-hud .grippie[data-position="center"] {\n      cursor: -webkit-grab;\n    }\n    #view-hud .grippie[data-position="center"]:active {\n      cursor: -webkit-grabbing;\n    }\n\n    #view-hud .grippie[data-position="left"],\n    #view-hud .grippie[data-position="right"],\n    #view-hud .grippie[data-position="top"],\n    #view-hud .grippie[data-position="bottom"] {\n      stroke: red;\n      vector-effect: non-scaling-stroke;\n      stroke-width: 8;\n      opacity: 0;\n    }\n\n    #view-hud .grippie[data-position="top-left"] rect,\n    #view-hud .grippie[data-position="top-right"] rect,\n    #view-hud .grippie[data-position="bottom-left"] rect,\n    #view-hud .grippie[data-position="bottom-right"] rect {\n      fill: transparent;\n    }\n\n    #view-hud .grippie[data-position="top-left"] path,\n    #view-hud .grippie[data-position="top-right"] path,\n    #view-hud .grippie[data-position="bottom-left"] path,\n    #view-hud .grippie[data-position="bottom-right"] path {\n      fill: white;\n      stroke: rgb(88, 88, 88);\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n    }\n    #view-hud .subhud[data-selected] .grippie[data-position="top-left"] path,\n    #view-hud .subhud[data-selected] .grippie[data-position="top-right"] path,\n    #view-hud .subhud[data-selected] .grippie[data-position="bottom-left"] path,\n    #view-hud .subhud[data-selected] .grippie[data-position="bottom-right"] path {\n      fill: rgb(176, 214, 255);\n      stroke: rgb(2, 81, 165);\n    }\n\n    #view-hud .grippie[data-position="left"],\n    #view-hud .grippie[data-position="right"] {\n      cursor: ew-resize;\n    }\n    #view-hud .grippie[data-position="top"],\n    #view-hud .grippie[data-position="bottom"] {\n      cursor: ns-resize;\n    }\n    #view-hud .grippie[data-position="top-left"] {\n      cursor: nwse-resize;\n    }\n    #view-hud .grippie[data-position="top-right"] {\n      cursor: nesw-resize;\n    }\n    #view-hud .grippie[data-position="bottom-left"] {\n      cursor: nesw-resize;\n    }\n    #view-hud .grippie[data-position="bottom-right"] {\n      cursor: nwse-resize;\n    }\n\n    #view-hud .grippie[data-position="ref"] {\n      display: none;\n      cursor: default;\n    }\n    #view-hud .subhud[data-selected] .grippie[data-position="ref"] {\n      display: initial;\n    }\n    #view-hud .grippie[data-position="ref"] path {\n      fill: white;\n      stroke: rgb(88, 88, 88);\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n    }\n    #view-hud .subhud[data-selected] .grippie[data-position="ref"] path {\n      fill: rgb(176, 214, 255);\n      stroke: rgb(2, 81, 165);\n    }\n    #view-hud .grippie[data-position="ref"] rect {\n      fill: transparent;\n    }\n\n    #view-hud .label {\n      pointer-events: none;\n      font-weight: 700;\n      fill: #636363;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <rect class="grippie" data-position="center"></rect>\n\n      <line class="grippie" data-position="left"></line>\n      <line class="grippie" data-position="right"></line>\n      <line class="grippie" data-position="top"></line>\n      <line class="grippie" data-position="bottom"></line>\n\n      <g class="grippie" data-position="top-left">\n        <rect width="30" height="30"></rect>\n        <path d="M 15 15 h 15 v -5 h -20 v 20 h 5 z"/>\n      </g>\n\n      <g class="grippie" data-position="top-right">\n        <rect width="30" height="30"></rect>\n        <path d="M 0 15 h 15 v 15 h 5 v -20 h -20 z"/>\n      </g>\n\n      <g class="grippie" data-position="bottom-left">\n        <rect width="30" height="30"></rect>\n        <path d="M 15 15 h 15 v 5 h -20 v -20 h 5 z"/>\n      </g>\n\n      <g class="grippie" data-position="bottom-right">\n        <rect width="30" height="30"></rect>\n        <path d="M 15 15 v -15 h 5 v 20 h -20 v -5 z"/>\n      </g>\n\n      <g class="grippie" data-position="ref">\n        <rect width="24" height="24"></rect>\n        <path d="M 24 10 L 24 14 L 14 14 L 14 24 L 10 24 L 10 14 L 0 14 L 0 10 L 10 10 L 10 0 L 14 0 L 14 10 Z"/>\n      </g>\n\n      <text class="label">Default view</text>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator499=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step499;try{for(_iterator499.s();!(_step499=_iterator499.n()).done;){var _t843=_step499.value;this["#"+_t843.getAttribute("uid")]=_t843;}}catch(err){_iterator499.e(err);}finally{_iterator499.f();}this.addEventListener("pointerdown",function(t){_this331.wo(t);}),this.addEventListener("dblclick",function(t){_this331.wh(t);});},enabledCallback:function enabledCallback(){var _this332=this;this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board"),this._r=this.Qs.getConfig("bx-viewsettings:showIds",!1),this.Cr=this.Qs.getConfig("bx-viewsettings:moveObjects",!1),this.Mr=!1,this.Pr=!1,this.Dr=!1,this.Qs.addEventListener("configchange",this.ln=function(t){_this332.hn(t);}),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this332.zr();}),this.Pn.addEventListener("zoomchange",this.an=function(){_this332.el();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this332.il(t.detail);}),this.nl(),this.zr();},disabledCallback:function disabledCallback(){this["#subhuds"].innerHTML="",this.Qs.removeEventListener("configchange",this.ln),this.Pn.removeEventListener("selectedelementschange",this.Ko),this.Pn.removeEventListener("zoomchange",this.an),this.Pn.removeEventListener("workspacemutation",this.rn);},hn:function hn(t){var _t$detail2=t.detail,e=_t$detail2.key,i=_t$detail2.value;"bx-viewsettings:showIds"===e?(this._r=this.Qs.getConfig("bx-viewsettings:showIds",!1),this.nl()):"bx-viewsettings:moveObjects"===e&&(this.Cr=this.Qs.getConfig("bx-viewsettings:moveObjects",!1));},il:function il(t){this.Mr||this.Pr||this.Dr?this.Or():this.nl();},el:function el(){this.Or();},wo:function wo(t){1===t.buttons&&t.target.closest(".grippie")&&this.ll(t);},ll:function ll(t){var _this333=this;var _e636,_i601,s=this.Pn,n=t.target.closest(".grippie"),o=n.closest(".subhud")[Bc],l=new DOMPoint(t.clientX,t.clientY),h=l;s.selectedElements="view"===o.localName?[o]:[],window.addEventListener("pointermove",_e636=function e(i){var s=new DOMPoint(i.clientX,i.clientY),o=i.timeStamp-t.timeStamp,a=Pe(l,s)>3||o>80,r=!1===_e(h,s,0);if(h=s,!0===a&&!0===r){window.removeEventListener("pointermove",_e636);var _s351=new q(i.clientX-t.clientX,i.clientY-t.clientY),_o201=Lc(_s351.x)>Lc(_s351.y)?"horizontal":"vertical",_l187=n.getAttribute("data-position");"center"===_l187?_this333.Er(t,n,_o201):"ref"===_l187?_this333.Tr(t,n,_o201):_this333.Ar(t,n,_o201);}}),window.addEventListener("pointerup",_i601=function i(t){window.removeEventListener("pointermove",_e636),window.removeEventListener("pointerup",_i601);});},wh:function wh(t){t.target.closest('.grippie[data-position="ref"]')&&this.$r(t);},Er:function Er(t,e,i){var _this334=this;var s,_n251,o=this.Pn,l=e.closest(".subhud"),h=(_toConsumableArray(this["#subhuds"].children).filter(function(t){return t!==l;}),l[Bc]),a=Lt.fromString(h.getAttribute("viewBox")||"0 0 0 0").toRect(),r=null,d=Vt(o.vectorCanvas),c=d.inverse(),p=new DOMPoint(t.clientX,t.clientY),u=[];if(o.undoManager.checkpoint("View box"),o.snapManager.snapStart(),this.Mr=!0,"marker"===h.getAttribute("data-bx-workspace")&&(r=$c(this.Pn.currentWorkspace)),this.Cr){var _iterator500=_createForOfIteratorHelper(o.currentWorkspace.children),_step500;try{for(_iterator500.s();!(_step500=_iterator500.n()).done;){var _t844=_step500.value;if(f.includes(_t844.localName)){var _e637=Nt(_t844,o.vectorCanvas),_i602=Fe(_i(_t844),_e637);if(je(_i602,a)){var _e638=Vt(_t844),_i603=_e638.inverse(),_s352=Ut(_t844).multiplySelf(_i603);_t844[Fc]={clientToUserTransform:_e638,initialClientTransform:_s352},u.push(_t844);}}}}catch(err){_iterator500.e(err);}finally{_iterator500.f();}}window.addEventListener("pointermove",s=function s(t){var e=new DOMPoint(t.clientX,t.clientY);_this334.Qs.modKeys.shift&&("horizontal"===i?e.y=p.y:"vertical"===i&&(e.x=p.x));var s=new q(p,e).matrixTransform(c).transformRect(a);s=Fe(s,d),s=o.snapManager.snapBBox(s),s=Fe(s,c),s=Ge(s,o.geometryPrecision);var n=new q(s.x-a.x,s.y-a.y),l=n.matrixTransform(d);h.setAttribute("viewBox","".concat(s.x," ").concat(s.y," ").concat(s.width," ").concat(s.height));var _iterator501=_createForOfIteratorHelper(u),_step501;try{for(_iterator501.s();!(_step501=_iterator501.n()).done;){var _t846=_step501.value;var _t846$Fc=_t846[Fc],_e639=_t846$Fc.clientToUserTransform,_i604=_t846$Fc.initialClientTransform,_s353=DOMMatrix.fromMatrix(_i604);_s353.translateSelf(l.x,l.y),_s353.multiplySelf(_e639),_t846.setAttribute("transform",_s353.toString());}}catch(err){_iterator501.e(err);}finally{_iterator501.f();}if(r){var _t845=n.transformPoint(r);_t845=Ce(_t845,o.geometryPrecision),h.setAttribute("refX",_t845.x),h.setAttribute("refY",_t845.y);}}),window.addEventListener("pointerup",_n251=function n(t){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n251),o.snapManager.snapEnd(),_this334.Mr=!1;var _iterator502=_createForOfIteratorHelper(u),_step502;try{for(_iterator502.s();!(_step502=_iterator502.n()).done;){var _t847=_step502.value;uh(_t847,{geometryPrecision:o.geometryPrecision,transformPrecision:o.transformPrecision});}}catch(err){_iterator502.e(err);}finally{_iterator502.f();}});},Ar:function Ar(t,e,i){var _this335=this;var s,_n252,o=this.Pn,l=e.closest(".subhud"),h=(_toConsumableArray(this["#subhuds"].children).filter(function(t){return t!==l;}),e.closest(".subhud")[Bc]),a=e.getAttribute("data-position"),r=Lt.fromString(h.getAttribute("viewBox")||"0 0 0 0").toRect(),d=Vt(o.vectorCanvas),c=d.inverse(),p=new DOMPoint(t.clientX,t.clientY),u=p.matrixTransform(c);o.undoManager.checkpoint("View box"),o.snapManager.snapStart(),this.Pr=!0;var x=new DOMPoint(e[Rc],e[Gc]).matrixTransform(d),b=new q(p,x);window.addEventListener("pointermove",s=function s(t){var e=new DOMPoint(t.clientX,t.clientY),i=o.snapManager.snapPoint(e);!1===_e(e,i)&&(e=i,e.x-=b.x,e.y-=b.y);var s=e.matrixTransform(c),n=DOMRect.fromRect(r),l=new q(u,s);"left"===a?(n.x=r.x+l.x,n.width=r.width-l.x,n.width<0&&(n.x=r.x+r.width,n.width=Lc(n.width))):"right"===a?(n.width=r.width+l.x,n.width<0&&(n.width=Lc(n.width),n.x=r.x-n.width)):"top"===a?(n.height=r.height-l.y,n.y=r.y+l.y,n.height<0&&(n.height=Lc(n.height),n.y=r.y+r.height)):"bottom"===a?(n.height=r.height+l.y,n.height<0&&(n.height=Lc(n.height),n.y=r.y-n.height)):"top-left"===a?(n.width=r.width-l.x,n.height=r.height-l.y,n.x=r.x+l.x,n.y=r.y+l.y,n.width<0&&(n.width=Lc(n.width),n.x=r.x+r.width),n.height<0&&(n.height=Lc(n.height),n.y=r.y+r.height)):"top-right"===a?(n.width=r.width+l.x,n.height=r.height-l.y,n.y=r.y+l.y,n.width<0&&(n.width=Lc(n.width),n.x=r.x-n.width),n.height<0&&(n.height=Lc(n.height),n.y=r.y+r.height)):"bottom-left"===a?(n.width=r.width-l.x,n.height=r.height+l.y,n.x=r.x+l.x,n.width<0&&(n.width=Lc(n.width),n.x=r.x+r.width),n.height<0&&(n.height=Lc(n.height),n.y=r.y-n.height)):"bottom-right"===a&&(n.width=r.width+l.x,n.height=r.height+l.y,n.width<0&&(n.width=Lc(n.width),n.x=r.x-n.width),n.height<0&&(n.height=Lc(n.height),n.y=r.y-n.height)),n=Ge(n,o.geometryPrecision),h.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),window.addEventListener("pointerup",_n252=function n(t){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n252),o.snapManager.snapEnd(),_this335.Pr=!1;});},Tr:function Tr(t,e,i){var _this336=this;var s,_n253,o=this.Pn,l=this.Pn.currentWorkspace,h=o.geometryPrecision,a=Vt(l),r=a.inverse(),d=$c(l),c=d.matrixTransform(a),p=new DOMPoint(t.clientX,t.clientY);o.undoManager.checkpoint("Move marker reference point"),o.snapManager.snapStart(),this.Dr=!0,window.addEventListener("pointermove",s=function s(t){var e=new DOMPoint(t.clientX,t.clientY);_this336.Qs.modKeys.shift&&("horizontal"===i?e.y=p.y:"vertical"===i&&(e.x=p.x));var s=o.snapManager.snapPoint(new DOMPoint(c.x+e.x-p.x,c.y+e.y-p.y)),n=new q(c,s).matrixTransform(r).transformPoint(d);n=Ce(n,h),l.setAttribute("refX",n.x),l.setAttribute("refY",n.y);}),window.addEventListener("pointerup",_n253=function n(){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n253),_this336.Pn.snapManager.snapEnd(),_this336.Dr=!1;});},$r:function $r(t){var e=this.Pn,i=this.Pn.currentWorkspace,s=e.geometryPrecision;if(e.undoManager.checkpoint("Reset marker reference point"),i.hasAttribute("viewBox")){var _Lt$fromString=Lt.fromString(i.getAttribute("viewBox")),_t848=_Lt$fromString.x,_e640=_Lt$fromString.y,_n254=_Lt$fromString.width,_o202=_Lt$fromString.height,_l188=X(_t848+_n254/2,s),_h141=X(_e640+_o202/2,s);i.setAttribute("refX",_l188),i.setAttribute("refY",_h141);}else i.removeAttribute("refX"),i.removeAttribute("refY");},nl:function nl(){var t=this.Pn.currentWorkspace;if(this["#subhuds"].innerHTML="",t.hasAttribute("viewBox")){var _e641=this["#subhud-template"].cloneNode(!0);_e641.removeAttribute("uid"),_e641[Bc]=t,this["#subhuds"].append(_e641);}var _iterator503=_createForOfIteratorHelper(t.querySelectorAll(":scope > view, :scope > defs > view")),_step503;try{for(_iterator503.s();!(_step503=_iterator503.n()).done;){var _e642=_step503.value;var _t849=this["#subhud-template"].cloneNode(!0);_t849.removeAttribute("uid"),_t849[Bc]=_e642,this["#subhuds"].append(_t849);}}catch(err){_iterator503.e(err);}finally{_iterator503.f();}this.zr(),this.Or();},zr:function zr(){var t=this.Pn.outermostSelectedElements;if(0===t.length){var _iterator504=_createForOfIteratorHelper(this["#subhuds"].children),_step504;try{for(_iterator504.s();!(_step504=_iterator504.n()).done;){var _t850=_step504.value;_t850[Bc]===this.Pn.currentWorkspace?_t850.setAttribute("data-selected",""):_t850.removeAttribute("data-selected");}}catch(err){_iterator504.e(err);}finally{_iterator504.f();}}else{var _iterator505=_createForOfIteratorHelper(this["#subhuds"].children),_step505;try{for(_iterator505.s();!(_step505=_iterator505.n()).done;){var _e643=_step505.value;t.includes(_e643[Bc])?_e643.setAttribute("data-selected",""):_e643.removeAttribute("data-selected");}}catch(err){_iterator505.e(err);}finally{_iterator505.f();}}},Or:function Or(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var _iterator506=_createForOfIteratorHelper(this["#subhuds"].children),_step506;try{for(_iterator506.s();!(_step506=_iterator506.n()).done;){var _e644=_step506.value;var _i605=_e644[Bc];if(_e644===t||null===t){var _Lt$fromString2=Lt.fromString(_i605.getAttribute("viewBox")||"0 0 0 0"),_t851=_Lt$fromString2.x,_s354=_Lt$fromString2.y,_n255=_Lt$fromString2.width,_o203=_Lt$fromString2.height;var _iterator507=_createForOfIteratorHelper(_e644.children),_step507;try{for(_iterator507.s();!(_step507=_iterator507.n()).done;){var _l189=_step507.value;if("text"===_l189.localName){var _e645=_l189;if(_e645.setAttribute("x",_t851),_e645.setAttribute("y",_s354-10/this.Pn.scale),_e645.style.fontSize=12/this.Pn.scale+"px","view"===_i605.localName){if(this._r)_i605.hasAttribute("id")?(_e645.textContent="#"+_i605.id,_e645.style.fontWeight="700"):(_e645.textContent="Custom view",_e645.style.fontWeight="400");else{var _t852=_i605.querySelector("bx-title");_t852&&_t852.textContent.length>0?(_e645.textContent=_t852.textContent,_e645.style.fontWeight="700"):(_e645.textContent="Custom view",_e645.style.fontWeight="400");}}else _e645.textContent="Default view",_e645.style.fontWeight="400";}else{var _e646=_l189,_h142=_e646.getAttribute("data-position");if("center"===_h142)_e646.x.baseVal.value=_t851,_e646.y.baseVal.value=_s354,_e646.width.baseVal.value=_n255,_e646.height.baseVal.value=_o203;else if("left"===_h142)_e646.x1.baseVal.value=_t851,_e646.y1.baseVal.value=_s354,_e646.x2.baseVal.value=_t851,_e646.y2.baseVal.value=_s354+_o203,_e646[Rc]=_t851,_e646[Gc]=_s354+_o203/2;else if("right"===_h142)_e646.x1.baseVal.value=_t851+_n255,_e646.y1.baseVal.value=_s354,_e646.x2.baseVal.value=_t851+_n255,_e646.y2.baseVal.value=_s354+_o203,_e646[Rc]=_t851+_n255,_e646[Gc]=_s354+_o203/2;else if("top"===_h142)_e646.x1.baseVal.value=_t851,_e646.y1.baseVal.value=_s354,_e646.x2.baseVal.value=_t851+_n255,_e646.y2.baseVal.value=_s354,_e646[Rc]=_t851+_n255/2,_e646[Gc]=_s354;else if("bottom"===_h142)_e646.x1.baseVal.value=_t851,_e646.y1.baseVal.value=_s354+_o203,_e646.x2.baseVal.value=_t851+_n255,_e646.y2.baseVal.value=_s354+_o203,_e646[Rc]=_t851+_n255/2,_e646[Gc]=_s354+_o203;else if("top-left"===_h142){var _i606=new DOMMatrix();_i606.scaleSelf(1/this.Pn.scale,1/this.Pn.scale,1,_t851,_s354),_i606.translateSelf(_t851-15,_s354-15),_e646.setAttribute("transform",_i606.toString()),_e646[Rc]=_t851,_e646[Gc]=_s354;}else if("top-right"===_h142){var _i607=new DOMMatrix();_i607.scaleSelf(1/this.Pn.scale,1/this.Pn.scale,1,_t851+_n255,_s354),_i607.translateSelf(_t851+_n255-15,_s354-15),_e646.setAttribute("transform",_i607.toString()),_e646[Rc]=_t851+_n255,_e646[Gc]=_s354;}else if("bottom-left"===_h142){var _i608=new DOMMatrix();_i608.scaleSelf(1/this.Pn.scale,1/this.Pn.scale,1,_t851,_s354+_o203),_i608.translateSelf(_t851-15,_s354+_o203-15),_e646.setAttribute("transform",_i608.toString()),_e646[Rc]=_t851,_e646[Gc]=_s354+_o203;}else if("bottom-right"===_h142){var _i609=new DOMMatrix();_i609.scaleSelf(1/this.Pn.scale,1/this.Pn.scale,1,_t851+_n255,_s354+_o203),_i609.translateSelf(_t851+_n255-15,_s354+_o203-15),_e646.setAttribute("transform",_i609.toString()),_e646[Rc]=_t851+_n255,_e646[Gc]=_s354+_o203;}else if("ref"===_h142)if("marker"===_i605.getAttribute("data-bx-workspace")){var _t853=$c(this.Pn.currentWorkspace),_i610=new DOMMatrix();_i610.scaleSelf(1/this.Pn.scale,1/this.Pn.scale,1,_t853.x,_t853.y),_i610.translateSelf(_t853.x-12,_t853.y-12),_e646.setAttribute("x",_t853.x-12),_e646.setAttribute("y",_t853.y-12),_e646.setAttribute("transform",_i610.toString()),_e646.style.display=null;}else _e646.style.display="none";}}}catch(err){_iterator507.e(err);}finally{_iterator507.f();}}}}catch(err){_iterator506.e(err);}finally{_iterator506.f();}}};var Nc={id:"outline-hud",get context(){return this.getAttribute("context")||"transform";},set context(t){this.setAttribute("context",t);},createdCallback:function createdCallback(){this.Ir=null,this.Lr=qi(this.qs,30,this),this.wa=qi(this.qs,200,this),this.innerHTML='\n  <style>\n    #outline-hud [uid="outline"] {\n      fill: none;\n      stroke: rgb(245, 92, 54);\n      stroke-width: 2;\n      pointer-events: none;\n      vector-effect: non-scaling-stroke;\n    }\n  </style>\n\n  <path uid="outline"></path>\n';var _iterator508=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step508;try{for(_iterator508.s();!(_step508=_iterator508.n()).done;){var _t854=_step508.value;this["#"+_t854.getAttribute("uid")]=_t854;}}catch(err){_iterator508.e(err);}finally{_iterator508.f();}},enabledCallback:function enabledCallback(){var _this337=this;this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this.Pn=Ti(this,"bx-board"),this.Qs.addEventListener("modkeyschange",this.ja=function(){_this337.Lr();}),this.Pn.addEventListener("workspacemutation",this.rn=function(){_this337.Lr();}),this.Pn.addEventListener("currentcontainerchange",this.Br=function(){_this337.Lr();}),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this337.Qo();}),this.Pn.workspaces.addEventListener("pointerover",this.Rr=function(t){_this337.Gr(t);}),this.Pn.workspaces.addEventListener("pointerout",this.Fr=function(t){_this337.Ur(t);}),this.qs();},disabledCallback:function disabledCallback(){this["#outline"].removeAttribute("d"),this.Qs.removeEventListener("modkeyschange",this.ja),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("currentcontainerchange",this.Br),this.Pn.removeEventListener("selectedelementschange",this.Ko),this.Pn.workspaces.removeEventListener("pointerover",this.Rr),this.Pn.workspaces.removeEventListener("pointerout",this.Fr);},Qo:function Qo(){this.qs();},Gr:function Gr(t){this.Ir=t.target,this.Lr();},Ur:function Ur(){this.Ir=null,this.wa();},qs:function qs(){var t=this.Nr();if(t){var _e647=t.localName,_i611=null,_s355=null;if("path"===_e647?_i611=t.getAttribute("d"):"rect"!==_e647&&"circle"!==_e647&&"ellipse"!==_e647&&"line"!==_e647&&"polyline"!==_e647&&"polygon"!==_e647||(_i611=tt(t.getPathData())),null===_i611){var _e648=_i(t);_i611="\n          M ".concat(_e648.x," ").concat(_e648.y,"\n          L ").concat(_e648.x+_e648.width," ").concat(_e648.y,"\n          L ").concat(_e648.x+_e648.width," ").concat(_e648.y+_e648.height,"\n          L ").concat(_e648.x," ").concat(_e648.y+_e648.height,"\n          L ").concat(_e648.x," ").concat(_e648.y,"\n        ");}null===_s355&&(_s355=Nt(t,this).toString()),_i611?this["#outline"].setAttribute("d",_i611):this["#outline"].removeAttribute("d"),_s355?this["#outline"].setAttribute("transform",_s355):this["#outline"].removeAttribute("transform");}else this["#outline"].removeAttribute("d");},Nr:function Nr(){var _this$Qs$modKeys9=this.Qs.modKeys,t=_this$Qs$modKeys9.ctrl,e=_this$Qs$modKeys9.alt,i=_this$Qs$modKeys9.shift,s=this.Js.board,n=this.Ir,o=null,l=null;if("transform"===this.context?t||i?!t&&i?o="normal-multi":t&&!i?o="direct":t&&i&&(o="direct-multi"):o="normal":"edit"===this.context?o="direct":"edit-text"===this.context&&(o="direct-text"),n&&s.isSelectableElement(n)){var _t855=this.In(n),_e649=s.selectedElements.includes(n),_i612=_e649;var _iterator509=_createForOfIteratorHelper(_t855),_step509;try{for(_iterator509.s();!(_step509=_iterator509.n()).done;){var _e652=_step509.value;s.selectedElements.includes(_e652)&&(_i612=!0);}}catch(err){_iterator509.e(err);}finally{_iterator509.f();}if("normal"===o){if(!1===_i612)if(0===_t855.length)l=n;else{var _t856=s.currentContainer,_e650=n;if(_t856&&_t856.contains(_e650))for(;_e650.parentNode!==_t856;){_e650=_e650.parentNode;}else{var _i613=this.jo(_e650,_t856);for(;_e650.parentNode!==_i613&&_e650.parentNode!==s.currentWorkspace;){_e650=_e650.parentNode;}}l=_e650;}}else if("normal-multi"===o){if(0===_t855.length)l=n;else{var _t857=n;if(s.currentContainer&&s.currentContainer.contains(_t857))for(;_t857.parentNode!==s.currentContainer;){_t857=_t857.parentNode;}else{var _e651=this.jo(_t857,s.currentContainer);for(;_t857.parentNode!==_e651&&_t857.parentNode!==s.currentWorkspace;){_t857=_t857.parentNode;}}l=_t857;}}else"direct"===o?!1===_e649&&(l=n):"direct-multi"===o?l=n:"direct-text"===o&&!1===_e649&&n.closest("text")&&(l=n.closest("text"));}return l;},In:function In(t){var e=[];if(t!==this.Pn.currentWorkspace)for(;t.parentElement&&t.parentElement!==this.Pn.currentWorkspace;){t=t.parentElement,["g","a"].includes(t.localName)&&e.unshift(t);}return e;},jo:function jo(t,e){var i=Ii(t,e);if(i)for(;!1===["g","a"].includes(i.localName);){i=i.parentNode;}return i;}};var Vc={id:"rubber-band-hud",createdCallback:function createdCallback(){this.innerHTML='\n  <style>\n    #rubber-band-hud [uid="rect"] {\n      fill: var(--rubber-band-background-color);\n      stroke: var(--rubber-band-border-color);\n      stroke-width: 1;\n      pointer-events: none;\n      shape-rendering: crispEdges;\n      vector-effect: non-scaling-stroke;\n    }\n    #rubber-band-hud [uid="rect"][hidden] {\n      display: none;\n    }\n\n    #rubber-band-hud [uid="polygon"] {\n      fill: var(--rubber-band-background-color);\n      stroke: var(--rubber-band-border-color);\n      stroke-width: 1;\n      pointer-events: none;\n      shape-rendering: crispEdges;\n      vector-effect: non-scaling-stroke;\n    }\n    #rubber-band-hud [uid="polygon"][hidden] {\n      display: none;\n    }\n  </style>\n\n  <rect uid="rect" x="0" y="0" width="0" height="0" hidden></rect>\n  <polyline uid="polygon" hidden></polyline>\n';var _iterator510=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step510;try{for(_iterator510.s();!(_step510=_iterator510.n()).done;){var _t858=_step510.value;this["#"+_t858.getAttribute("uid")]=_t858;}}catch(err){_iterator510.e(err);}finally{_iterator510.f();}},grabSelection:function grabSelection(t,e){var _this338=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"rect";return new Promise(function(s){var n,_o205,l=Vt(_this338).inverse(),h=new DOMPoint(t,e).matrixTransform(l);if("rect"===i){var _t859=0,_e653=0,_i614=0,_a118=0;_this338["#rect"].removeAttribute("hidden"),window.addEventListener("pointermove",n=function n(s){if(!1===s.isPrimary)return;var n=new DOMPoint(s.clientX,s.clientY).matrixTransform(l);_i614=n.x-h.x,_a118=n.y-h.y,_i614<0?(_i614=-_i614,_t859=h.x-_i614):_t859=h.x,_a118<0?(_a118=-_a118,_e653=h.y-_a118):_e653=h.y,_this338["#rect"].setAttribute("x",_t859),_this338["#rect"].setAttribute("y",_e653),_this338["#rect"].setAttribute("width",_i614),_this338["#rect"].setAttribute("height",_a118);}),window.addEventListener("pointerup",_o205=function o(l){if(!1===l.isPrimary)return;window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",_o205),_this338["#rect"].setAttribute("hidden",""),_this338["#rect"].setAttribute("x",0),_this338["#rect"].setAttribute("y",0),_this338["#rect"].setAttribute("width",0),_this338["#rect"].setAttribute("height",0);var h=new DOMRect(_t859,_e653,_i614,_a118);s(h);});}else if("polygon"===i){var _t860=0,_e654=0;_this338["#polygon"].removeAttribute("hidden"),_this338["#polygon"].points.appendItem(Ee(h)),window.addEventListener("pointermove",n=function n(i){if(!1===i.isPrimary)return;var s=new DOMPoint(i.clientX,i.clientY).matrixTransform(l);_t860=s.x,_e654=s.y;var _iterator511=_createForOfIteratorHelper(i.getCoalescedEvents()),_step511;try{for(_iterator511.s();!(_step511=_iterator511.n()).done;){var _t861=_step511.value;var _e655=new DOMPoint(_t861.clientX,_t861.clientY).matrixTransform(l);_this338["#polygon"].points.appendItem(Ee(_e655));}}catch(err){_iterator511.e(err);}finally{_iterator511.f();}}),window.addEventListener("pointerup",_o205=function _o204(t){if(!1===t.isPrimary)return;window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",_o205);var e=_toConsumableArray(_this338["#polygon"].points).map(function(t){return DOMPoint.fromPoint(t);});_this338["#polygon"].setAttribute("points",""),_this338["#polygon"].setAttribute("hidden",""),s(e);});}});}};var jc=Math.abs,Hc=Math.atan,Yc=Math.min,Wc=Math.max,qc=Number.parseFloat,Xc=12,Zc=12,Kc=12,Qc=10,Jc=Symbol(),tp=Symbol(),ep=Symbol(),ip=Symbol();var sp={id:"transform-hud",get mode(){return this.Vr;},set mode(t){this.Vr=t,this.jr();},get isScaling(){return this.Hr;},createdCallback:function createdCallback(){var _this339=this;this.Yr={},this.Wr={},this.qr={},this.Xr=!1,this.Hr=!1,this.Zr=!1,this.Vr="scale",this.Kr=qi(this.cr,25,this),this.Qr=qi(this.cr,250,this),this.innerHTML='\n  <style>\n    #transform-hud [uid="scale-grippies"] > .grippie {\n      fill: rgb(46, 102, 249);\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n\n    #transform-hud [uid="rotate-grippies"] > .grippie {\n      fill: red;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n\n    #transform-hud [uid="skew-grippies"] > .grippie {\n      fill: orange;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <g uid="grippies">\n    <g uid="scale-grippies">\n      <rect class="grippie" data-position="top"></rect>\n      <rect class="grippie" data-position="left"></rect>\n      <rect class="grippie" data-position="bottom"></rect>\n      <rect class="grippie" data-position="right"></rect>\n      <rect class="grippie" data-position="top-left"></rect>\n      <rect class="grippie" data-position="top-right"></rect>\n      <rect class="grippie" data-position="bottom-left"></rect>\n      <rect class="grippie" data-position="bottom-right"></rect>\n    </g>\n\n    <g uid="rotate-grippies">\n      <rect class="grippie" rx="999" data-position="top-left"></rect>\n      <rect class="grippie" rx="999" data-position="top-right"></rect>\n      <rect class="grippie" rx="999" data-position="bottom-left"></rect>\n      <rect class="grippie" rx="999" data-position="bottom-right"></rect>\n    </g>\n\n    <g uid="skew-grippies">\n      <rect class="grippie" data-position="top"></rect>\n      <rect class="grippie" data-position="left"></rect>\n      <rect class="grippie" data-position="bottom"></rect>\n      <rect class="grippie" data-position="right"></rect>\n    </g>\n\n    <svg uid="origin-grippie" viewBox="0 0 100 100" visibility="hidden">\n      <rect x="41" width="17" height="100" fill="inherit"></rect>\n      <rect x="41" width="17" height="100" fill="inherit" transform="matrix(0, 1, -1, 0, 100, 0.5)"></rect>\n      <rect x="0" y="0" width="100" height="100" style="opacity: 0;"/>\n    </svg>\n  </g>\n';var _iterator512=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step512;try{for(_iterator512.s();!(_step512=_iterator512.n()).done;){var _t862=_step512.value;this["#"+_t862.getAttribute("uid")]=_t862;}}catch(err){_iterator512.e(err);}finally{_iterator512.f();}var _iterator513=_createForOfIteratorHelper(this["#scale-grippies"].children),_step513;try{for(_iterator513.s();!(_step513=_iterator513.n()).done;){var _t863=_step513.value;this.Yr[_t863.getAttribute("data-position")]=_t863;}}catch(err){_iterator513.e(err);}finally{_iterator513.f();}var _iterator514=_createForOfIteratorHelper(this["#rotate-grippies"].children),_step514;try{for(_iterator514.s();!(_step514=_iterator514.n()).done;){var _t864=_step514.value;this.qr[_t864.getAttribute("data-position")]=_t864;}}catch(err){_iterator514.e(err);}finally{_iterator514.f();}var _iterator515=_createForOfIteratorHelper(this["#skew-grippies"].children),_step515;try{for(_iterator515.s();!(_step515=_iterator515.n()).done;){var _t865=_step515.value;this.Wr[_t865.getAttribute("data-position")]=_t865;}}catch(err){_iterator515.e(err);}finally{_iterator515.f();}this.addEventListener("pointerdown",function(t){_this339.wo(t);}),this.addEventListener("dblclick",function(t){_this339.wh(t);});},enabledCallback:function enabledCallback(){var _this340=this;this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this340.Qo();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this340.il(t.detail);}),this.Pn.addEventListener("zoomchange",this.an=function(){_this340.el();}),this.Qo(),this.el();},disabledCallback:function disabledCallback(){this.Pn.removeEventListener("selectedelementschange",this.Ko),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("zoomchange",this.an);},jr:function jr(){"scale"===this.mode?(this["#scale-grippies"].style.setProperty("visibility","visible"),this["#rotate-grippies"].style.setProperty("visibility","hidden"),this["#skew-grippies"].style.setProperty("visibility","hidden"),this["#origin-grippie"].style.setProperty("visibility","hidden")):"rotate-and-skew"===this.mode&&(this["#scale-grippies"].style.setProperty("visibility","hidden"),this["#rotate-grippies"].style.setProperty("visibility","visible"),this["#skew-grippies"].style.setProperty("visibility","visible"),this["#origin-grippie"].style.setProperty("visibility","visible")),this.cr();},Qo:function Qo(){0===this.Pn.selectedObjectElements.length?this["#grippies"].style.setProperty("display","none"):this["#grippies"].style.setProperty("display","block"),this.cr();},il:function il(t){this.Pn.selectedElements.length>100?this.Qr():this.Kr();},el:function el(){this.Kr();},wo:function wo(t){var _this341=this;var _e656,_i615,s=t.target,n=new DOMPoint(t.clientX,t.clientY),o=n;s.setPointerCapture(t.pointerId),s.addEventListener("pointermove",_e656=function e(i){var l=new DOMPoint(i.clientX,i.clientY),h=i.timeStamp-t.timeStamp,a=Pe(n,l)>3||h>80,r=!1===_e(o,l,0);o=l,!0===a&&!0===r&&(s.removeEventListener("pointermove",_e656),_this341.ro(t,i));}),s.addEventListener("pointerup",_i615=function i(t){s.removeEventListener("pointermove",_e656),s.removeEventListener("pointerup",_i615);});},wh:function wh(t){var e=t.target.parentElement;e===this["#rotate-grippies"]?this.Jr(t):e===this["#skew-grippies"]?this.td(t):e===this["#origin-grippie"]&&this.ed(t);},ro:function ro(t,e){var i=e.target.parentElement;if(i===this["#scale-grippies"]){var _i616=e.target;this.sd(t,_i616);}else if(i===this["#rotate-grippies"])this.nd(t);else if(i===this["#skew-grippies"]){var _i617=e.target;this.od(t,_i617);}else i===this["#origin-grippie"]&&this.ld(t);},sd:function sd(t,e){var _this342=this;if(0!==t.button)return;var i,s,n=_toConsumableArray(this.Pn.outermostSelectedObjectElements),o=e.getAttribute("data-position"),l=new DOMPoint(e.x.baseVal.value+e.width.baseVal.value/2,e.y.baseVal.value+e.height.baseVal.value/2).matrixTransform(Vt(e)),h=new DOMPoint(t.clientX,t.clientY),a=new q(h,l),r=this.Qs.getConfig("bx-transformsettings:preserveStrokeWidth",!0),d=this.Qs.getConfig("bx-transformsettings:preserveRectRadii",!0),c=this.Qs.getConfig("bx-transformsettings:preserveRotation",!0),p=this.Qs.getConfig("bx-transformsettings:preserveAspectRatio",!1);this.Hr=!0,this.Pn.undoManager.checkpoint("Scale"),this.Pn.snapManager.snapStart(),n=n.filter(function(t){if("text"===t.localName){var _e657=_this342.Vo(t);if(_e657&&_this342.Pn.outermostSelectedElements.includes(_e657))return!1;}return!0;});var _iterator516=_createForOfIteratorHelper(n),_step516;try{for(_iterator516.s();!(_step516=_iterator516.n()).done;){var _t871=_step516.value;if(!0===r){var _e663=Vt(_t871),_Bl16=Bl(_e663),_i622=_Bl16.scaleX,_s361=_Bl16.scaleY,_n260="left"===o||"right"===o?_i622:_s361,_l192=getComputedStyle(_t871);_t871[Jc]=_t871.style.getPropertyValue("stroke-width"),_t871[tp]=_t871.style.getPropertyValue("vector-effect");var _h144=jc(_n260)*qc(_l192.getPropertyValue("stroke-width"));_t871.style.setProperty("stroke-width",_h144),_t871.style.setProperty("vector-effect","non-scaling-stroke");}}}catch(err){_iterator516.e(err);}finally{_iterator516.f();}if(this.hd(n)){var _n256=n,_n257=_toArray(_n256),_t866=_n257[0],_e658=_n257.slice(1),_s356=Symbol();this.Zr=!0;Nt(_t866,this);var _iterator517=_createForOfIteratorHelper(n),_step517;try{var _loop16=function _loop16(){var t=_step517.value;var e=Vt(t).inverse(),i=Ut(t),o=n.filter(function(e){return e!==t;}),l=[_i(t)];var _iterator519=_createForOfIteratorHelper(o),_step519;try{for(_iterator519.s();!(_step519=_iterator519.n()).done;){var _e660=_step519.value;var _i619=Nt(_e660,t),_s357=Fe(_i(_e660),_i619);l.push(_s357);}}catch(err){_iterator519.e(err);}finally{_iterator519.f();}var h=Ue(l);t[_s356]={clientToUserTransform:e,userTransform:i,bbox:h};};for(_iterator517.s();!(_step517=_iterator517.n()).done;){_loop16();}}catch(err){_iterator517.e(err);}finally{_iterator517.f();}window.addEventListener("pointermove",i=function i(t){var _iterator518=_createForOfIteratorHelper(n),_step518;try{for(_iterator518.s();!(_step518=_iterator518.n()).done;){var _e659=_step518.value;var _e659$_s=_e659[_s356],_i618=_e659$_s.clientToUserTransform,_n258=_e659$_s.userTransform,_l190=_e659$_s.bbox,_r68=h.matrixTransform(_i618),_d54=new DOMPoint(t.clientX,t.clientY);{var _t867=_this342.Pn.snapManager.snapPoint(_d54);!1===_e(_d54,_t867)&&(_d54=_t867,_d54.x-=a.x,_d54.y-=a.y);}var _c47=_d54.matrixTransform(_i618),_u34=_c47.x-_r68.x,_x102=_c47.y-_r68.y,_this342$ad=_this342.ad(_u34,_x102,_l190,o,p),_b32=_this342$ad.centerX,_m31=_this342$ad.centerY,_g26=_this342$ad.scaleX,_f19=_this342$ad.scaleY,_w17=-_b32*(_g26-1),_v14=-_m31*(_f19-1),_y6=DOMMatrix.fromMatrix(_n258);_y6.translateSelf(_w17,_v14),_y6.scaleSelf(_g26,_f19),_e659.setAttribute("transform",_y6);}}catch(err){_iterator518.e(err);}finally{_iterator518.f();}});}else{var _e661=this.Pn.outermostSelectedObjectElements.map(function(t){return Ci(t);}),_s358=Ue(_e661);var _iterator520=_createForOfIteratorHelper(n),_step520;try{for(_iterator520.s();!(_step520=_iterator520.n()).done;){var _t869=_step520.value;var _e662=Vt(_t869),_i621=_e662.inverse(),_s359=Ut(_t869);_t869[ep]={clientToUserTransform:_e662,userToClientTransform:_i621,userTransform:_s359};}}catch(err){_iterator520.e(err);}finally{_iterator520.f();}window.addEventListener("pointermove",i=function i(e){var _iterator521=_createForOfIteratorHelper(n),_step521;try{for(_iterator521.s();!(_step521=_iterator521.n()).done;){var _i620=_step521.value;var _n259=new DOMPoint(t.clientX,t.clientY),_l191=new DOMPoint(e.clientX,e.clientY);{var _t868=_this342.Pn.snapManager.snapPoint(_l191);!1===_e(_l191,_t868)&&(_l191=_t868,_l191.x-=a.x,_l191.y-=a.y);}var _h143=_l191.x-_n259.x,_r69=_l191.y-_n259.y,_i620$ep=_i620[ep],_d55=_i620$ep.clientToUserTransform,_c48=_i620$ep.userToClientTransform,_u35=_i620$ep.userTransform,_this342$ad2=_this342.ad(_h143,_r69,_s358,o,p),_x103=_this342$ad2.centerX,_b33=_this342$ad2.centerY,_m32=_this342$ad2.scaleX,_g27=_this342$ad2.scaleY,_f20=-_x103*(_m32-1),_w18=-_b33*(_g27-1),_v15=DOMMatrix.fromMatrix(_u35);_v15.multiplySelf(_c48),_v15.translateSelf(_f20,_w18),_v15.scaleSelf(_m32,_g27),_v15.multiplySelf(_d55),_i620.setAttribute("transform",_v15.toString());}}catch(err){_iterator521.e(err);}finally{_iterator521.f();}});}window.addEventListener("pointerup",s=function(_s360){function s(_x104){return _s360.apply(this,arguments);}s.toString=function(){return _s360.toString();};return s;}(function(t){window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",s);var _iterator522=_createForOfIteratorHelper(n),_step522;try{for(_iterator522.s();!(_step522=_iterator522.n()).done;){var _t870=_step522.value;!0===r&&(_t870.style.setProperty("stroke-width",_t870[Jc]),_t870.style.setProperty("vector-effect",_t870[tp])),uh(_t870,{geometryPrecision:_this342.Pn.geometryPrecision,transformPrecision:_this342.Pn.transformPrecision,preserveStrokeWidth:r,preserveRectRadii:d,preserveRotation:c,transformDirection:o});}}catch(err){_iterator522.e(err);}finally{_iterator522.f();}_this342.Pn.snapManager.snapEnd(),_this342.Hr=!1,_this342.Zr=!1;}));},nd:function nd(t){var _this343=this;if(0!==t.button)return;var e=_toConsumableArray(this.Pn.outermostSelectedObjectElements),i=this.Qs.getConfig("bx-transformsettings:preserveRotation",!0);if(this.Pn.undoManager.checkpoint("Rotate"),e=e.filter(function(t){if("text"===t.localName){var _e664=_this343.Vo(t);if(_e664&&_this343.Pn.outermostSelectedObjectElements.includes(_e664))return!1;}return!0;}),this.hd(e)&&(this.Zr=!0),1===e.length){var _s362,_n262,_o206=e[0],_l193=Jt(_o206),_h145=new DOMPoint(t.clientX,t.clientY),_a119=Qt([_o206]);this.Xr=!0,window.addEventListener("pointermove",_s362=function _s362(t){var e=new DOMPoint(t.clientX,t.clientY),i=$e(_a119,_h145,e),s=_l193+i;_this343.Qs.modKeys.shift&&(s=Le(s,15)),te(_o206,s);}),window.addEventListener("pointerup",_n262=function _n261(t){window.removeEventListener("pointermove",_s362),window.removeEventListener("pointerup",_n262),uh(_o206,{geometryPrecision:_this343.Pn.geometryPrecision,transformPrecision:_this343.Pn.transformPrecision,preserveStrokeWidth:!0,preserveRectRadii:!0,preserveRotation:i}),_this343.Xr=!1,_this343.Zr=!1;});}else{var _s363,_n265,_o207=Qt(e),_l194=new DOMPoint(t.clientX,t.clientY);var _iterator523=_createForOfIteratorHelper(e),_step523;try{for(_iterator523.s();!(_step523=_iterator523.n()).done;){var _t873=_step523.value;var _e666=Ut(_t873),_i624=Vt(_t873),_s365=_i624.inverse();_t873[ep]={clientToUserTransform:_i624,userToClientTransform:_s365,userTransform:_e666};}}catch(err){_iterator523.e(err);}finally{_iterator523.f();}this.Xr=!0,window.addEventListener("pointermove",_s363=function _s363(t){var _iterator524=_createForOfIteratorHelper(e),_step524;try{for(_iterator524.s();!(_step524=_iterator524.n()).done;){var _i623=_step524.value;var _i623$ep=_i623[ep],_e665=_i623$ep.clientToUserTransform,_s364=_i623$ep.userToClientTransform,_n264=_i623$ep.userTransform,_h146=new DOMPoint(t.clientX,t.clientY),_a120=$e(_o207,_l194,_h146);_this343.Qs.modKeys.shift&&(_a120=Le(_a120,15));var _r70=DOMMatrix.fromMatrix(_n264);_r70.multiplySelf(_s364),_r70.translateSelf(_o207.x,_o207.y),_r70.rotateSelf(_a120),_r70.translateSelf(-_o207.x,-_o207.y),_r70.multiplySelf(_e665),_i623.setAttribute("transform",_r70);}}catch(err){_iterator524.e(err);}finally{_iterator524.f();}}),window.addEventListener("pointerup",_n265=function _n263(t){window.removeEventListener("pointermove",_s363),window.removeEventListener("pointerup",_n265);var _iterator525=_createForOfIteratorHelper(e),_step525;try{for(_iterator525.s();!(_step525=_iterator525.n()).done;){var _t872=_step525.value;uh(_t872,{geometryPrecision:_this343.Pn.geometryPrecision,transformPrecision:_this343.Pn.transformPrecision,preserveStrokeWidth:!0,preserveRectRadii:!0,preserveRotation:i});}}catch(err){_iterator525.e(err);}finally{_iterator525.f();}_this343.Xr=!1,_this343.Zr=!1;});}},od:function od(t,e){var _this344=this;if(0!==t.button)return;var i,s,n,o=_toConsumableArray(this.Pn.outermostSelectedObjectElements),l=e.getAttribute("data-position");n="top"===l||"bottom"===l?"horizontal":"vertical";this.Qs.getConfig("bx-transformsettings:preserveStrokeWidth",!0);var h=this.Qs.getConfig("bx-transformsettings:preserveRectRadii",!0),a=this.Qs.getConfig("bx-transformsettings:preserveRotation",!0);this.Pn.undoManager.checkpoint("Skew"),o=o.filter(function(t){if("text"===t.localName){var _e667=_this344.Vo(t);if(_e667&&_this344.Pn.outermostSelectedElements.includes(_e667))return!1;}return!0;});var _iterator526=_createForOfIteratorHelper(o),_step526;try{for(_iterator526.s();!(_step526=_iterator526.n()).done;){var _t878=_step526.value;_t878[Jc]=_t878.style.getPropertyValue("stroke-width"),_t878[tp]=_t878.style.getPropertyValue("vector-effect");var _e673=Vt(_t878),_Bl17=Bl(_e673),_i630=_Bl17.scaleX,_s372=_Bl17.scaleY,_n266=(_i630+_s372)/2,_o212=getComputedStyle(_t878),_l198=jc(_n266)*qc(_o212.getPropertyValue("stroke-width"));_t878.style.setProperty("stroke-width",_l198),_t878.style.setProperty("vector-effect","non-scaling-stroke");}}catch(err){_iterator526.e(err);}finally{_iterator526.f();}if(this.hd(o)){var _o208=o,_o209=_toArray(_o208),_e668=_o209[0],_s366=_o209.slice(1),_l195=_i(_e668),_h147=[],_a121=Symbol();var _iterator527=_createForOfIteratorHelper(_s366),_step527;try{for(_iterator527.s();!(_step527=_iterator527.n()).done;){var _t874=_step527.value;var _i626=Nt(_t874,_e668),_s368=Fe(_i(_t874),_i626);_h147.push(_s368);}}catch(err){_iterator527.e(err);}finally{_iterator527.f();}Ue([_l195].concat(_h147)),Nt(_e668,this);var _r71=new DOMPoint(t.clientX,t.clientY),_d56=Qt(o);var _iterator528=_createForOfIteratorHelper(o),_step528;try{for(_iterator528.s();!(_step528=_iterator528.n()).done;){var _t875=_step528.value;var _e670=Vt(_t875).inverse(),_i627=Ut(_t875);_t875[_a121]={clientToUserTransform:_e670,userTransform:_i627};}}catch(err){_iterator528.e(err);}finally{_iterator528.f();}window.addEventListener("pointermove",i=function i(t){var _this344$Qs$modKeys=_this344.Qs.modKeys,e=_this344$Qs$modKeys.ctrl,i=_this344$Qs$modKeys.alt,s=_this344$Qs$modKeys.shift;var _iterator529=_createForOfIteratorHelper(o),_step529;try{for(_iterator529.s();!(_step529=_iterator529.n()).done;){var _e669=_step529.value;var _e669$_a=_e669[_a121],_i625=_e669$_a.clientToUserTransform,_s367=_e669$_a.userTransform,_o210=_r71.matrixTransform(_i625),_l196=_d56.matrixTransform(_i625),_h148=new DOMPoint(t.clientX,t.clientY).matrixTransform(_i625),_c49=$e(_l196,_o210,_h148),_p40=DOMMatrix.fromMatrix(_s367);_p40="horizontal"===n?ie(_p40,-_c49,0,_l196.x,_l196.y):ie(_p40,0,_c49,_l196.x,_l196.y),_e669.setAttribute("transform",_p40.toString());}}catch(err){_iterator529.e(err);}finally{_iterator529.f();}});}else{var _e671=new DOMPoint(t.clientX,t.clientY),_s369=Qt(o);var _iterator530=_createForOfIteratorHelper(o),_step530;try{for(_iterator530.s();!(_step530=_iterator530.n()).done;){var _t876=_step530.value;var _e672=Vt(_t876),_i629=_e672.inverse(),_s370=Ut(_t876);_t876[ep]={clientToUserTransform:_e672,userToClientTransform:_i629,userTransform:_s370};}}catch(err){_iterator530.e(err);}finally{_iterator530.f();}window.addEventListener("pointermove",i=function i(t){var _iterator531=_createForOfIteratorHelper(o),_step531;try{for(_iterator531.s();!(_step531=_iterator531.n()).done;){var _i628=_step531.value;var _i628$ep=_i628[ep],_o211=_i628$ep.clientToUserTransform,_l197=_i628$ep.userToClientTransform,_h149=_i628$ep.userTransform,_a122=new DOMPoint(t.clientX,t.clientY),_r72=$e(_s369,_e671,_a122),_d57=DOMMatrix.fromMatrix(_h149);_d57.multiplySelf(_l197),_d57="horizontal"===n?ie(_d57,-_r72,0,_s369.x,_s369.y):ie(_d57,0,_r72,_s369.x,_s369.y),_d57.multiplySelf(_o211),_i628.setAttribute("transform",_d57.toString());}}catch(err){_iterator531.e(err);}finally{_iterator531.f();}});}window.addEventListener("pointerup",s=function(_s371){function s(_x105){return _s371.apply(this,arguments);}s.toString=function(){return _s371.toString();};return s;}(function(t){window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",s);var _iterator532=_createForOfIteratorHelper(o),_step532;try{for(_iterator532.s();!(_step532=_iterator532.n()).done;){var _t877=_step532.value;_t877.style.setProperty("stroke-width",_t877[Jc]),_t877.style.setProperty("vector-effect",_t877[tp]),uh(_t877,{geometryPrecision:_this344.Pn.geometryPrecision,transformPrecision:_this344.Pn.transformPrecision,preserveStrokeWidth:!0,preserveRectRadii:h,preserveRotation:a});}}catch(err){_iterator532.e(err);}finally{_iterator532.f();}}));},ld:function ld(t){var _this345=this;if(0!==t.button)return;var e,_i632,s=_toConsumableArray(this.Pn.outermostSelectedObjectElements),n=new DOMPoint(t.clientX,t.clientY);var _iterator533=_createForOfIteratorHelper(s),_step533;try{for(_iterator533.s();!(_step533=_iterator533.n()).done;){var _t880=_step533.value;var _e675=Vt(_t880).inverse(),_i633=_i(_t880);_t880[ep]={clientToUserTransform:_e675},_t880[ip]=_i633;}}catch(err){_iterator533.e(err);}finally{_iterator533.f();}this.Pn.undoManager.checkpoint("Move origin");var o=Qt(s);window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new q(n,e),l=new DOMPoint(o.x+i.x,o.y+i.y);var _iterator534=_createForOfIteratorHelper(s),_step534;try{for(_iterator534.s();!(_step534=_iterator534.n()).done;){var _t879=_step534.value;var _e674=_t879[ep].clientToUserTransform,_i631=_t879[ip],_s373=l.matrixTransform(_e674),_n267=le(_s373,_i631),_o213=X(_n267.x,_this345.Pn.geometryPrecision),_h150=X(_n267.y,_this345.Pn.geometryPrecision);_t879.setAttribute("data-bx-origin","".concat(_o213," ").concat(_h150));}}catch(err){_iterator534.e(err);}finally{_iterator534.f();}}),window.addEventListener("pointerup",_i632=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i632);});},Jr:function Jr(t){this.Pn.undoManager.checkpoint("Remove transform");var _iterator535=_createForOfIteratorHelper(this.Pn.outermostSelectedObjectElements),_step535;try{for(_iterator535.s();!(_step535=_iterator535.n()).done;){var _t881=_step535.value;_t881.removeAttribute("transform");}}catch(err){_iterator535.e(err);}finally{_iterator535.f();}},td:function td(t){this.Pn.undoManager.checkpoint("Remove transform");var _iterator536=_createForOfIteratorHelper(this.Pn.outermostSelectedObjectElements),_step536;try{for(_iterator536.s();!(_step536=_iterator536.n()).done;){var _t882=_step536.value;_t882.removeAttribute("transform");}}catch(err){_iterator536.e(err);}finally{_iterator536.f();}},ed:function ed(t){this.Pn.undoManager.checkpoint("Reset transform origin");var _iterator537=_createForOfIteratorHelper(this.Pn.outermostSelectedObjectElements),_step537;try{for(_iterator537.s();!(_step537=_iterator537.n()).done;){var _t883=_step537.value;_t883.removeAttribute("data-bx-origin");}}catch(err){_iterator537.e(err);}finally{_iterator537.f();}},cr:function cr(){"scale"===this.mode?this.rd():"rotate-and-skew"===this.mode&&(this.dd(),this.pd(),!1===this.Xr&&this.ud());},rd:function rd(){var t=this.Pn.outermostSelectedObjectElements;if(t.length>0){var _e676,_i634=Xc/this.Pn.scale,_s374=(this.Pn.scale,this.Yr);var _iterator538=_createForOfIteratorHelper(this["#scale-grippies"].children),_step538;try{for(_iterator538.s();!(_step538=_iterator538.n()).done;){var _t886=_step538.value;_t886.width.baseVal.value=_i634,_t886.height.baseVal.value=_i634;}}catch(err){_iterator538.e(err);}finally{_iterator538.f();}if(this.Zr||this.hd(t)){var _t884=_toArray(t),_n268=_t884[0],_o214=_t884.slice(1),_l199=_i(_n268),_h151=[];var _iterator539=_createForOfIteratorHelper(_o214),_step539;try{for(_iterator539.s();!(_step539=_iterator539.n()).done;){var _t885=_step539.value;var _e677=Nt(_t885,_n268),_i635=Fe(_i(_t885),_e677);_h151.push(_i635);}}catch(err){_iterator539.e(err);}finally{_iterator539.f();}_e676=Ue([_l199].concat(_h151));var _a123=Nt(_n268,this),_r73=new DOMPoint(_e676.x+_e676.width/2,_e676.y).matrixTransform(_a123);_s374.top.x.baseVal.value=_r73.x-_i634/2,_s374.top.y.baseVal.value=_r73.y-_i634/2;var _d58=new DOMPoint(_e676.x+_e676.width/2,_e676.y+_e676.height).matrixTransform(_a123);_s374.bottom.x.baseVal.value=_d58.x-_i634/2,_s374.bottom.y.baseVal.value=_d58.y-_i634/2;var _c50=new DOMPoint(_e676.x,_e676.y+_e676.height/2).matrixTransform(_a123);_s374.left.x.baseVal.value=_c50.x-_i634/2,_s374.left.y.baseVal.value=_c50.y-_i634/2;var _p41=new DOMPoint(_e676.x+_e676.width,_e676.y+_e676.height/2).matrixTransform(_a123);_s374.right.x.baseVal.value=_p41.x-_i634/2,_s374.right.y.baseVal.value=_p41.y-_i634/2;var _u36=new DOMPoint(_e676.x,_e676.y).matrixTransform(_a123);_s374["top-left"].x.baseVal.value=_u36.x-_i634/2,_s374["top-left"].y.baseVal.value=_u36.y-_i634/2;var _x106=new DOMPoint(_e676.x+_e676.width,_e676.y).matrixTransform(_a123);_s374["top-right"].x.baseVal.value=_x106.x-_i634/2,_s374["top-right"].y.baseVal.value=_x106.y-_i634/2;var _b34=new DOMPoint(_e676.x,_e676.y+_e676.height).matrixTransform(_a123);_s374["bottom-left"].x.baseVal.value=_b34.x-_i634/2,_s374["bottom-left"].y.baseVal.value=_b34.y-_i634/2;var _m33=new DOMPoint(_e676.x+_e676.width,_e676.y+_e676.height).matrixTransform(_a123);_s374["bottom-right"].x.baseVal.value=_m33.x-_i634/2,_s374["bottom-right"].y.baseVal.value=_m33.y-_i634/2;}else{var _n269=Vt(this).inverse(),_o215=t.map(function(t){return Ci(t);});_e676=Ue(_o215),_e676=Fe(_e676,_n269),_s374.top.x.baseVal.value=_e676.x+_e676.width/2-_i634/2,_s374.top.y.baseVal.value=_e676.y-_i634/2,_s374.bottom.x.baseVal.value=_e676.x+_e676.width/2-_i634/2,_s374.bottom.y.baseVal.value=_e676.y+_e676.height-_i634/2,_s374.left.x.baseVal.value=_e676.x-_i634/2,_s374.left.y.baseVal.value=_e676.y+_e676.height/2-_i634/2,_s374.right.x.baseVal.value=_e676.x+_e676.width-_i634/2,_s374.right.y.baseVal.value=_e676.y+_e676.height/2-_i634/2,_s374["top-left"].x.baseVal.value=_e676.x-_i634/2,_s374["top-left"].y.baseVal.value=_e676.y-_i634/2,_s374["top-right"].x.baseVal.value=_e676.x+_e676.width-_i634/2,_s374["top-right"].y.baseVal.value=_e676.y-_i634/2,_s374["bottom-left"].x.baseVal.value=_e676.x-_i634/2,_s374["bottom-left"].y.baseVal.value=_e676.y+_e676.height-_i634/2,_s374["bottom-right"].x.baseVal.value=_e676.x+_e676.width-_i634/2,_s374["bottom-right"].y.baseVal.value=_e676.y+_e676.height-_i634/2;}_s374.top.style.visibility=0===_e676.height?"hidden":null,_s374.bottom.style.visibility=0===_e676.height?"hidden":null,_s374.left.style.visibility=0===_e676.width?"hidden":null,_s374.right.style.visibility=0===_e676.width?"hidden":null,_s374["top-left"].style.visibility=0===_e676.width||0===_e676.height?"hidden":null,_s374["top-right"].style.visibility=0===_e676.width||0===_e676.height?"hidden":null,_s374["bottom-left"].style.visibility=0===_e676.width||0===_e676.height?"hidden":null,_s374["bottom-right"].style.visibility=0===_e676.width||0===_e676.height?"hidden":null;}},dd:function dd(){var t=this.Pn.outermostSelectedObjectElements;if(t.length>0){var _e678,_i636=Zc/this.Pn.scale,_s375=(this.Pn.scale,this.qr);var _iterator540=_createForOfIteratorHelper(this["#rotate-grippies"].children),_step540;try{for(_iterator540.s();!(_step540=_iterator540.n()).done;){var _t889=_step540.value;_t889.width.baseVal.value=_i636,_t889.height.baseVal.value=_i636;}}catch(err){_iterator540.e(err);}finally{_iterator540.f();}if(this.Zr||this.hd(t)){var _t887=_toArray(t),_n270=_t887[0],_o216=_t887.slice(1),_l200=_i(_n270),_h152=[];var _iterator541=_createForOfIteratorHelper(_o216),_step541;try{for(_iterator541.s();!(_step541=_iterator541.n()).done;){var _t888=_step541.value;var _e679=Nt(_t888,_n270),_i637=Fe(_i(_t888),_e679);_h152.push(_i637);}}catch(err){_iterator541.e(err);}finally{_iterator541.f();}_e678=Ue([_l200].concat(_h152));var _a124=Nt(_n270,this),_r74=new DOMPoint(_e678.x,_e678.y).matrixTransform(_a124);_s375["top-left"].x.baseVal.value=_r74.x-_i636/2,_s375["top-left"].y.baseVal.value=_r74.y-_i636/2;var _d59=new DOMPoint(_e678.x+_e678.width,_e678.y).matrixTransform(_a124);_s375["top-right"].x.baseVal.value=_d59.x-_i636/2,_s375["top-right"].y.baseVal.value=_d59.y-_i636/2;var _c51=new DOMPoint(_e678.x,_e678.y+_e678.height).matrixTransform(_a124);_s375["bottom-left"].x.baseVal.value=_c51.x-_i636/2,_s375["bottom-left"].y.baseVal.value=_c51.y-_i636/2;var _p42=new DOMPoint(_e678.x+_e678.width,_e678.y+_e678.height).matrixTransform(_a124);_s375["bottom-right"].x.baseVal.value=_p42.x-_i636/2,_s375["bottom-right"].y.baseVal.value=_p42.y-_i636/2;}else{var _n271=Vt(this).inverse(),_o217=t.map(function(t){return Ci(t);});_e678=Ue(_o217),_e678=Fe(_e678,_n271),_s375["top-left"].x.baseVal.value=_e678.x-_i636/2,_s375["top-left"].y.baseVal.value=_e678.y-_i636/2,_s375["top-right"].x.baseVal.value=_e678.x+_e678.width-_i636/2,_s375["top-right"].y.baseVal.value=_e678.y-_i636/2,_s375["bottom-left"].x.baseVal.value=_e678.x-_i636/2,_s375["bottom-left"].y.baseVal.value=_e678.y+_e678.height-_i636/2,_s375["bottom-right"].x.baseVal.value=_e678.x+_e678.width-_i636/2,_s375["bottom-right"].y.baseVal.value=_e678.y+_e678.height-_i636/2;}_s375["bottom-left"].style.visibility=0===_e678.width||0===_e678.height?"hidden":null,_s375["bottom-right"].style.visibility=0===_e678.width||0===_e678.height?"hidden":null;}},pd:function pd(){var t=this.Pn.outermostSelectedObjectElements;if(t.length>0){var _e680,_i638=Kc/this.Pn.scale,_s376=(this.Pn.scale,this.Wr);var _iterator542=_createForOfIteratorHelper(this["#skew-grippies"].children),_step542;try{for(_iterator542.s();!(_step542=_iterator542.n()).done;){var _t892=_step542.value;_t892.width.baseVal.value=_i638,_t892.height.baseVal.value=_i638;}}catch(err){_iterator542.e(err);}finally{_iterator542.f();}if(this.Zr||this.hd(t)){var _t890=_toArray(t),_n272=_t890[0],_o218=_t890.slice(1),_l201=_i(_n272),_h153=[];var _iterator543=_createForOfIteratorHelper(_o218),_step543;try{for(_iterator543.s();!(_step543=_iterator543.n()).done;){var _t891=_step543.value;var _e681=Nt(_t891,_n272),_i639=Fe(_i(_t891),_e681);_h153.push(_i639);}}catch(err){_iterator543.e(err);}finally{_iterator543.f();}_e680=Ue([_l201].concat(_h153));var _a125=Nt(_n272,this),_r75=new DOMPoint(_e680.x+_e680.width/2,_e680.y).matrixTransform(_a125);_s376.top.x.baseVal.value=_r75.x-_i638/2,_s376.top.y.baseVal.value=_r75.y-_i638/2;var _d60=new DOMPoint(_e680.x+_e680.width/2,_e680.y+_e680.height).matrixTransform(_a125);_s376.bottom.x.baseVal.value=_d60.x-_i638/2,_s376.bottom.y.baseVal.value=_d60.y-_i638/2;var _c52=new DOMPoint(_e680.x,_e680.y+_e680.height/2).matrixTransform(_a125);_s376.left.x.baseVal.value=_c52.x-_i638/2,_s376.left.y.baseVal.value=_c52.y-_i638/2;var _p43=new DOMPoint(_e680.x+_e680.width,_e680.y+_e680.height/2).matrixTransform(_a125);_s376.right.x.baseVal.value=_p43.x-_i638/2,_s376.right.y.baseVal.value=_p43.y-_i638/2;}else{var _n273=Vt(this).inverse(),_o219=t.map(function(t){return Ci(t);});_e680=Ue(_o219),_e680=Fe(_e680,_n273),_s376.top.x.baseVal.value=_e680.x+_e680.width/2-_i638/2,_s376.top.y.baseVal.value=_e680.y-_i638/2,_s376.bottom.x.baseVal.value=_e680.x+_e680.width/2-_i638/2,_s376.bottom.y.baseVal.value=_e680.y+_e680.height-_i638/2,_s376.left.x.baseVal.value=_e680.x-_i638/2,_s376.left.y.baseVal.value=_e680.y+_e680.height/2-_i638/2,_s376.right.x.baseVal.value=_e680.x+_e680.width-_i638/2,_s376.right.y.baseVal.value=_e680.y+_e680.height/2-_i638/2;}_s376.top.style.visibility=0===_e680.width||0===_e680.height?"hidden":null,_s376.bottom.style.visibility=0===_e680.width||0===_e680.height?"hidden":null,_s376.left.style.visibility=0===_e680.width||0===_e680.height?"hidden":null,_s376.right.style.visibility=0===_e680.width||0===_e680.height?"hidden":null;}},ud:function ud(){if(this.Pn.selectedObjectElements.length>=1){var _t893=Qc/this.Pn.scale,_e682=Vt(this.Pn.currentWorkspace).inverse(),_i640=Qt(this.Pn.outermostSelectedObjectElements);_i640=_i640.matrixTransform(_e682),this["#origin-grippie"].setAttribute("width",_t893),this["#origin-grippie"].setAttribute("height",_t893),this["#origin-grippie"].setAttribute("x",_i640.x-_t893/2),this["#origin-grippie"].setAttribute("y",_i640.y-_t893/2);}},blink:function blink(){var _this346=this;return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee87(){return regeneratorRuntime.wrap(function _callee87$(_context88){while(1){switch(_context88.prev=_context88.next){case 0:_this346["#grippies"].style.setProperty("display","none");_context88.next=3;return Ki(200);case 3:_this346.Pn.selectedObjectElements.length>0&&_this346["#grippies"].style.setProperty("display","block");case 4:case"end":return _context88.stop();}}},_callee87);}))();},Vo:function Vo(t){var e=t.querySelector("textPath"),i=null;return e&&e.hasAttribute("href")&&(i=this.Pn.workspaces.querySelector(e.href.baseVal)),i;},hd:function hd(t){if(t.length>1){var _t894=_toArray(t),_e683=_t894[0],_i641=_t894.slice(1);var _iterator544=_createForOfIteratorHelper(_i641),_step544;try{for(_iterator544.s();!(_step544=_iterator544.n()).done;){var _t895=_step544.value;if(_t895.parentElement!==_e683.parentElement)return!1;}}catch(err){_iterator544.e(err);}finally{_iterator544.f();}var _s377=Ut(_e683),_n274=X(Hc(_s377.c/_s377.d),2),_o220=X(Hc(-_s377.b/_s377.a),2);var _iterator545=_createForOfIteratorHelper(_i641),_step545;try{for(_iterator545.s();!(_step545=_iterator545.n()).done;){var _t896=_step545.value;var _e684=Ut(_t896),_i642=X(Hc(_e684.c/_e684.d),2),_s378=X(Hc(-_e684.b/_e684.a),2);if(!1===Object.is(_i642,_n274)||!1===Object.is(_s378,_o220))return!1;}}catch(err){_iterator545.e(err);}finally{_iterator545.f();}}return!0;},ad:function ad(t,e,i,s,n){var o,l,h,a,r,_this$Qs$modKeys10=this.Qs.modKeys,d=_this$Qs$modKeys10.ctrl,c=_this$Qs$modKeys10.alt,p=_this$Qs$modKeys10.shift;return!1===n?d||p?!d&&p?r="B":d&&!p?r="C":d&&p&&(r="D"):r="A":!0===n&&(d||p?!d&&p?r="A":d&&!p?r="D":d&&p&&(r="C"):r="B"),"top"===s?"A"===r?(o=i.x+i.width/2,l=i.y+i.height,h=1,a=(i.height-e)/i.height):"B"===r?(o=i.x+i.width/2,l=i.y+i.height,a=(i.height-e)/i.height,h=a):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,h=1,a=(i.height-i.height/2-e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.height-i.height/2-e)/(i.height-i.height/2),h=a):"bottom"===s?"A"===r?(o=i.x+i.width/2,l=i.y,h=1,a=(i.height+e)/i.height):"B"===r?(o=i.x+i.width/2,l=i.y,a=(i.height+e)/i.height,h=a):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,h=1,a=(i.height-i.height/2+e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.height-i.height/2+e)/(i.height-i.height/2),h=a):"left"===s?"A"===r?(o=i.x+i.width,l=i.y+i.height/2,h=(i.width-t)/i.width,a=1):"B"===r?(o=i.x+i.width,l=i.y+i.height/2,h=(i.width-t)/i.width,a=h):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.width-i.width/2-t)/(i.width-i.width/2),a=1):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.width-i.width/2-t)/(i.width-i.width/2),a=h):"right"===s&&("A"===r?(o=i.x,l=i.y+i.height/2,h=(i.width+t)/i.width,a=1):"B"===r?(o=i.x,l=i.y+i.height/2,h=(i.width+t)/i.width,a=h):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.width-i.width/2+t)/(i.width-i.width/2),a=1):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,h=a=(i.width-i.width/2+t)/(i.width-i.width/2))),"top-left"===s?"A"===r?(o=i.x+i.width,l=i.y+i.height,h=(i.width-t)/i.width,a=(i.height-e)/i.height):"B"===r?(o=i.x+i.width,l=i.y+i.height,h=(i.width-t)/i.width,a=(i.height-e)/i.height,h=a=Yc(h,a)):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.width-i.width/2-t)/(i.width-i.width/2),a=(i.height-i.height/2-e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.width-i.width/2-t)/(i.width-i.width/2),a=(i.height-i.height/2-e)/(i.height-i.height/2),h>=0&&a>=0?h=a=Yc(h,a):h<=0&&a<=0?h=a=Wc(h,a):jc(h)>=jc(a)?h=-a:a=-h):"top-right"===s?"A"===r?(o=i.x,l=i.y+i.height,h=(i.width+t)/i.width,a=(i.height-e)/i.height):"B"===r?(o=i.x,l=i.y+i.height,h=(i.width+t)/i.width,a=(i.height-e)/i.height,h=a=Yc(h,a)):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.width-i.width/2+t)/(i.width-i.width/2),a=(i.height-i.height/2-e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.width-i.width/2+t)/(i.width-i.width/2),a=(i.height-i.height/2-e)/(i.height-i.height/2),h>=0&&a>=0?h=a=Yc(h,a):h<=0&&a<=0?h=a=Wc(h,a):jc(h)>=jc(a)?h=-a:a=-h):"bottom-left"===s?"A"===r?(o=i.x+i.width,l=i.y,h=(i.width-t)/i.width,a=(i.height+e)/i.height):"B"===r?(o=i.x+i.width,l=i.y,h=(i.width-t)/i.width,a=(i.height+e)/i.height,h=a=Yc(h,a)):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.width-i.width/2-t)/(i.width-i.width/2),a=(i.height-i.height/2+e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.width-i.width/2-t)/(i.width-i.width/2),a=(i.height-i.height/2+e)/(i.height-i.height/2),h>=0&&a>=0?h=a=Yc(h,a):h<=0&&a<=0?h=a=Wc(h,a):jc(h)>=jc(a)?h=-a:a=-h):"bottom-right"===s&&("A"===r?(o=i.x,l=i.y,h=(i.width+t)/i.width,a=(i.height+e)/i.height):"B"===r?(o=i.x,l=i.y,h=(i.width+t)/i.width,a=(i.height+e)/i.height,h=a=Yc(h,a)):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.width-i.width/2+t)/(i.width-i.width/2),a=(i.height-i.height/2+e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.width-i.width/2+t)/(i.width-i.width/2),a=(i.height-i.height/2+e)/(i.height-i.height/2),h>=0&&a>=0?h=a=Yc(h,a):h<=0&&a<=0?h=a=Wc(h,a):jc(h)>=jc(a)?h=-a:a=-h)),{centerX:o,centerY:l,scaleX:h,scaleY:a};}};var np={id:"text-hud",get inputMode(){return this.hasAttribute("inputmode");},createdCallback:function createdCallback(){var _this347=this;this.xd=qi(this.bd,200,this),this.md=Xi(this.md,300,this,!0),this.gd=null,this.tabIndex=-1,this.innerHTML='\n  <style>\n    /**\n     * Overlays\n     */\n\n    #text-hud [uid="caret-line"] {\n      stroke-width: 3;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      stroke: gray;\n    }\n    #text-hud[inputmode] [uid="caret-line"] {\n      stroke: blue;\n    }\n\n    #text-hud [uid="selection-rects"] rect {\n      fill: rgba(179, 179, 179, 0.3);\n      pointer-events: none;\n    }\n    #text-hud[inputmode] [uid="selection-rects"] rect {\n      fill: var(--selection-background-color);\n    }\n\n    /**\n     * HTML input\n     */\n\n    #text-hud [uid="html-input-object"] {\n      width: 1px;\n      height: 1px;\n      opacity: 0;\n      background: white;\n      pointer-events: none;\n    }\n    #text-hud[debug] [uid="html-input-object"] {\n      width: 150px;\n      height: 50px;\n      opacity: 1;\n      pointer-events: all;\n    }\n\n    #text-hud [uid="html-input-object"] * {\n      /* Needed for correct positioning of IME dialog */\n      font-size: 0.01px !important;\n    }\n    #text-hud[debug] [uid="html-input-object"] * {\n      font-size: 10px !important;\n    }\n\n    #text-hud [uid="html-input"] {\n      width: 100%;\n      height: 100%;\n      padding: 0;\n      margin: 0;\n      white-space: pre;\n    }\n    #text-hud[inputmode] [uid="html-input"] {\n      /* Make text editable and selectable */\n      -webkit-user-modify: read-write-plaintext-only;\n      -webkit-user-select: text;\n    }\n\n    #text-hud [uid="html-input"] *:not(span):not(a) {\n      display: none;\n    }\n  </style>\n\n  <g uid="overlays">\n    <line uid="caret-line"></line>\n    <g uid="selection-rects"></g>\n  </g>\n\n  <foreignObject uid="html-input-object" width="200" height="16">\n    <p uid="html-input" tabindex="0"></p>\n  </foreignObject>\n',this.commands={selectAll:{enabled:function enabled(){return null!==_this347.Pn.selectedTextRange;},exec:function exec(){return _this347.fd(Ti(_this347.Pn.selectedTextRange.startContainer,"text"));}},deselectAll:{enabled:function enabled(){return null!==_this347.Pn.selectedTextRange;},exec:function exec(){var t=_this347.Pn.selectedTextRange.cloneRange();t.collapse(!0),_this347.Pn.selectedTextRange=t;}}};var _iterator546=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step546;try{for(_iterator546.s();!(_step546=_iterator546.n()).done;){var _t897=_step546.value;this["#"+_t897.getAttribute("uid")]=_t897;}}catch(err){_iterator546.e(err);}finally{_iterator546.f();}var t=!1;this.addEventListener("focus",function(){return _this347["#html-input"].focus();}),this["#html-input"].addEventListener("focus",function(t){_this347.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0})),_this347["#html-input"].setAttribute("contenteditable","plaintext-only"),_this347.setAttribute("inputmode",""),_this347.wd();}),this["#html-input"].addEventListener("blur",function(){_this347.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),_this347["#html-input"].removeAttribute("contenteditable"),_this347.removeAttribute("inputmode");}),this["#html-input"].addEventListener("input",function(t){_this347.vd(t);}),this["#html-input"].addEventListener("keydown",/*#__PURE__*/function(){var _ref96=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee88(e){return regeneratorRuntime.wrap(function _callee88$(_context89){while(1){switch(_context89.prev=_context89.next){case 0:_context89.t0=t;if(_context89.t0){_context89.next=5;break;}t=!0;_context89.next=5;return Ki(1);case 5:_this347.yd(e);case 6:case"end":return _context89.stop();}}},_callee88);}));return function(_x107){return _ref96.apply(this,arguments);};}()),this["#html-input"].addEventListener("keyup",function(e){t=!1,_this347.yd(e);});},enabledCallback:function enabledCallback(){var _this348=this;this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this.Pn=Ti(this,"bx-board"),this.Pn.workspaces.addEventListener("pointerdown",this.yn=function(t){_this348.kn(t);}),this.Pn.addEventListener("selectedtextrangechange",this.Nh=function(){_this348.Vh();}),1===this.Pn.selectedElements.length&&"text"===this.Pn.selectedElements[0].localName&&this.fd(this.Pn.selectedElements[0]);},disabledCallback:function disabledCallback(){this.Yo&&this.Jo(),this.Pn.workspaces.removeEventListener("pointerdown",this.yn),this.Pn.removeEventListener("selectedtextrangechange",this.Nh);},tl:function tl(){var _this349=this;this.style.display=null,this.Yo=!0,this["#html-input-object"].append(this["#html-input"]),this["#html-input"].focus(),this.kd(),this.wd(),this.bd(),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this349.Qo();}),this.Pn.addEventListener("workspacemutation",this.rn=function(){_this349.xd();}),this.Pn.undoManager.addEventListener("undo",this.yh=function(){_this349.Yh();}),this.Pn.undoManager.addEventListener("redo",this.kh=function(){_this349.Yh();});},Jo:function Jo(){this["#html-input"].remove(),this.style.display="none",this.Yo=!1,this.Js.focus(),this.Pn.selectedTextRange=null,this.Pn.removeEventListener("selectedelementschange",this.Ko),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.undoManager.removeEventListener("undo",this.yh),this.Pn.undoManager.removeEventListener("redo",this.kh);},Qo:function Qo(){var t=this.Pn;if(t.selectedTextRange){var _e685=t.selectedTextRange.startContainer.closest("text");t.selectedElements.find(function(t){return t===_e685||t.contains(_e685);})||(t.selectedTextRange=null);}this.kd(),this.wd(),this.bd();},Vh:function Vh(){this.Yo&&!this.Pn.selectedTextRange?this.Jo():!this.Yo&&this.Pn.selectedTextRange&&this.tl(),this.Yo&&(this.bd(),this.wd());},Yh:function Yh(){if(this.Pn.selectedTextRange){var _t898=this.Pn.selectedTextRange.startContainer.closest("text");_t898?this.fd(_t898):this.Pn.selectedTextRange=null;}},kn:function kn(t){t.target.closest("text")&&this.Sd(t);},Sd:function Sd(t){var _this350=this;if(0!==t.button)return;t.preventDefault();var e=t.target.closest("text");if(1===this.Qs.pointerClickCount){var _i643,_s381,_n275=xi(e),_o221=Vt(e).inverse(),_l202=new DOMPoint(t.clientX,t.clientY),_h154=_l202.matrixTransform(_o221),_a126=e.getCharNumAtPosition(Ee(_h154)),_r76=_a126,_d61=null;Pe(_h154,e.getStartPositionOfChar(_a126))>Pe(_h154,e.getEndPositionOfChar(_a126))&&(_r76+=1);var _ki=ki(e,_r76),_ki2=_slicedToArray(_ki,2),_c53=_ki2[0],_p44=_ki2[1];if(this.Pn.selectedElements=[e],this.Qs.modKeys.shift){var _t899=this.Pn.selectedTextRange;if(null===_t899||!1===e.contains(_t899.startContainer)){var _t900=new Range();_t900.setStart(_c53,_p44),_t900.setEnd(_c53,_p44),this.Pn.selectedTextRange=_t900;}this._d(_r76);}else{var _t901=new Range();_t901.setStart(_c53,_p44),_t901.setEnd(_c53,_p44),this.Pn.selectedTextRange=_t901;}this["#html-input"].focus(),window.addEventListener("pointermove",_i643=function _i643(t){var i=new DOMPoint(t.clientX,t.clientY);if(Pe(_l202,i)<3)return;var s=t.clientX,h=t.clientY,a=new DOMPoint(s,h).matrixTransform(_o221),r=e.getCharNumAtPosition(Ee(a));if(-1===r){var _t902=e.getNumberOfChars(),_i644=0,_s380=Infinity;if(null===_d61){_d61=[];for(var _i645=0;_i645<_t902;_i645+=1){var _t903=De(e.getStartPositionOfChar(_i645),e.getEndPositionOfChar(_i645));_d61.push(_t903);}}for(var _e686=0;_e686<_t902;_e686+=1){var _t904=_d61[_e686],_n276=Pe(a,_t904);_n276<_s380&&(_i644=_e686,_s380=_n276);}r=_i644;}var u=r;Pe(a,e.getStartPositionOfChar(r))>Pe(a,e.getEndPositionOfChar(r))&&(u+=1);var _ki3=ki(e,u),_ki4=_slicedToArray(_ki3,2),x=_ki4[0],b=_ki4[1],m="forward";if(_c53===x)b<_p44&&(m="backward");else{_c53.compareDocumentPosition(x)===Node.DOCUMENT_POSITION_PRECEDING&&(m="backward");}var g=new Range();if(g.direction=m,"forward"===m?(g.setStart(_c53,_p44),g.setEnd(x,b)):(g.setStart(x,b),g.setEnd(_c53,_p44)),!1===_this350.Pn.selectedTextRange.collapsed&&g.startOffset===g.startContainer.textContent.length){var _t905=_n275[_n275.indexOf(g.startContainer)+1];_t905&&g.setStart(_t905,0);}_this350.Pn.selectedTextRange=g;}),window.addEventListener("pointerup",_s381=function _s379(){window.removeEventListener("pointermove",_i643),window.removeEventListener("pointerup",_s381);});}else if(2===this.Qs.pointerClickCount){var _i646=t.clientX,_s382=t.clientY,_n277=Vt(e).inverse(),_o222=new DOMPoint(_i646,_s382).matrixTransform(_n277),_l203=e.getCharNumAtPosition(Ee(_o222));this.Cd(e,_l203);}else if(3===this.Qs.pointerClickCount){var _i647=t.clientX,_s383=t.clientY,_n278=Vt(e).inverse(),_o223=new DOMPoint(_i647,_s383).matrixTransform(_n278),_l204=e.getCharNumAtPosition(Ee(_o223));this.Md(e,_l204);}else this.Qs.pointerClickCount>=4&&this.fd(e);},yd:function yd(t){"Home"===t.key||"End"===t.key||t.key.startsWith("Arrow")?this.Pd():t.key;},vd:function vd(t){var _this351=this;return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee89(){return regeneratorRuntime.wrap(function _callee89$(_context90){while(1){switch(_context90.prev=_context90.next){case 0:"historyUndo"!==t.inputType&&(0===_this351["#html-input"].innerText.length&&(_this351["#html-input"].innerHTML=" ",document.execCommand("selectAll")),_this351.md()),_this351.Dd(),_this351.Pd();case 1:case"end":return _context90.stop();}}},_callee89);}))();},md:function md(t){this.Pn.undoManager.checkpoint("Edit text");},fd:function fd(t){var e=xi(t);if(e.length>0){var _i648=e[0],_s384=e[e.length-1],_n279=new Range();_n279.setStart(_i648,0),_n279.setEnd(_s384,_s384.textContent.length),this.Pn.selectedElements=[t],this.Pn.selectedTextRange=_n279,this.bd(),this.wd();}},zd:function zd(){this.Pn.selectedTextRange=null;},Cd:function Cd(t,e){var i=bi(t),s=i[e],n=t.getNumberOfChars(),o=e,l=e,h=function h(t){return ba(t)||t===ri;};for(var _t906=e-1;_t906>=0&&!(h(s)&&!h(i[_t906])||!h(s)&&h(i[_t906]));_t906-=1){o-=1;}for(var _t907=e;_t907<n&&!(h(s)&&!h(i[_t907])||!h(s)&&h(i[_t907]));_t907+=1){l+=1;}var _ki5=ki(t,o),_ki6=_slicedToArray(_ki5,2),a=_ki6[0],r=_ki6[1],_ki7=ki(t,l),_ki8=_slicedToArray(_ki7,2),d=_ki8[0],c=_ki8[1];if(r===a.textContent.length){var _e687=xi(t),_i649=_e687[_e687.indexOf(a)+1];_i649&&(a=_i649,r=0);}var p=new Range();p.setStart(a,r),p.setEnd(d,c),this.Pn.selectedTextRange=p;},Md:function Md(t,e){var i=bi(t),s=t.getNumberOfChars(),n=e,o=e;for(var _t908=e-1;_t908>=0&&i[_t908]!==ri;_t908-=1){n-=1;}for(var _t909=e;_t909<s&&i[_t909]!==ri;_t909+=1){o+=1;}var _ki9=ki(t,n),_ki10=_slicedToArray(_ki9,2),l=_ki10[0],h=_ki10[1],_ki11=ki(t,o),_ki12=_slicedToArray(_ki11,2),a=_ki12[0],r=_ki12[1];if(h===l.textContent.length){var _e688=xi(t),_i650=_e688[_e688.indexOf(l)+1];_i650&&(l=_i650,h=0);}var d=new Range();d.setStart(l,h),d.setEnd(a,r),this.Pn.selectedTextRange=d;},_d:function _d(t){var e=this.Pn.selectedTextRange,i=e.startContainer.closest("text"),_yi6=yi(e.startContainer,e.startOffset),_yi7=_slicedToArray(_yi6,2),s=_yi7[1],_yi8=yi(e.endContainer,e.endOffset),_yi9=_slicedToArray(_yi8,2),n=_yi9[1];if(t<s)s=t;else if(t>n)n=t;else{if(!(t>s&&t<n))return;t-s>n-t?n=t:s=t;}var _ki13=ki(i,s),_ki14=_slicedToArray(_ki13,2),o=_ki14[0],l=_ki14[1],_ki15=ki(i,n),_ki16=_slicedToArray(_ki15,2),h=_ki16[0],a=_ki16[1];if(l===o.textContent.length){var _t910=xi(i),_e689=_t910[_t910.indexOf(o)+1];_e689&&(o=_e689,l=0);}var r=new Range();r.setStart(o,l),r.setEnd(h,a),r.direction="backward",this.Pn.selectedTextRange=r;},bd:function bd(){var t=this.Pn.selectedTextRange,e=t?t.startContainer.closest("text"):null,i=t?e.getNumberOfChars():0,_ref97=t?yi(t.startContainer,t.startOffset):[,-1],_ref98=_slicedToArray(_ref97,2),s=_ref98[1],_ref99=t?yi(t.endContainer,t.endOffset):[,-1],_ref100=_slicedToArray(_ref99,2),n=_ref100[1];if(1===i&&t&&" "===t.toString()){var _t911=0,_i651=e.getExtentOfChar(_t911),_s385=e.getStartPositionOfChar(_t911),_n280=e.getSubStringLength(_t911,1),_o224=_i651.height,_l205=e.getRotationOfChar(_t911),_h155=new DOMPoint(_s385.x+_n280/2,_s385.y),_a127=new DOMMatrix();_a127.multiplySelf(Nt(e,this)),_a127.translateSelf(_h155.x,_h155.y),_a127.rotateSelf(_l205),_a127.translateSelf(-_h155.x,-_h155.y),this["#caret-line"].setAttribute("x1",_s385.x),this["#caret-line"].setAttribute("y1",_i651.y),this["#caret-line"].setAttribute("x2",_s385.x),this["#caret-line"].setAttribute("y2",_i651.y+_o224),this["#caret-line"].setAttribute("transform",_a127.toString()),this["#caret-line"].style.setProperty("visibility","visible");}else if(t&&!0===t.collapsed){var _o225="backward"===t.direction?s:n;if(0===_o225){var _t912=e.getExtentOfChar(_o225),_i652=e.getStartPositionOfChar(_o225),_s386=e.getSubStringLength(_o225,1),_n281=_t912.height,_l206=e.getRotationOfChar(_o225),_h156=new DOMPoint(_i652.x+_s386/2,_i652.y),_a128=new DOMMatrix();_a128.multiplySelf(Nt(e,this)),_a128.translateSelf(_h156.x,_h156.y),_a128.rotateSelf(_l206),_a128.translateSelf(-_h156.x,-_h156.y),this["#caret-line"].setAttribute("x1",_i652.x),this["#caret-line"].setAttribute("y1",_t912.y),this["#caret-line"].setAttribute("x2",_i652.x),this["#caret-line"].setAttribute("y2",_t912.y+_n281),this["#caret-line"].setAttribute("transform",_a128.toString()),this["#caret-line"].style.visibility="visible";}else if(_o225>0&&_o225<=i){var _t913=e.getExtentOfChar(_o225-1),_i653=e.getEndPositionOfChar(_o225-1),_s387=e.getSubStringLength(_o225-1,1),_n282=_t913.height,_l207=e.getRotationOfChar(_o225-1),_h157=new DOMPoint(_i653.x+_s387/2,_i653.y),_a129=new DOMMatrix();_a129.multiplySelf(Nt(e,this)),_a129.translateSelf(_h157.x,_h157.y),_a129.rotateSelf(_l207),_a129.translateSelf(-_h157.x,-_h157.y),this["#caret-line"].setAttribute("x1",_i653.x),this["#caret-line"].setAttribute("y1",_t913.y),this["#caret-line"].setAttribute("x2",_i653.x),this["#caret-line"].setAttribute("y2",_t913.y+_n282),this["#caret-line"].setAttribute("transform",_a129.toString()),this["#caret-line"].style.visibility="visible";}else _o225>i&&(this["#caret-line"].style.visibility="hidden");}else this["#caret-line"].style.visibility="hidden";if(this["#selection-rects"].innerHTML="",t&&!1===t.collapsed){var _e690=t.startContainer.closest("text"),_i654=_e690.getNumberOfChars();for(var _t914=s;_t914<n&&_t914<_i654;_t914+=1){var _i655=_e690.getExtentOfChar(_t914),_s388=_e690.getStartPositionOfChar(_t914),_n283=(_e690.getEndPositionOfChar(_t914),_e690.getSubStringLength(_t914,1)),_o226=_i655.height,_l208=_e690.getRotationOfChar(_t914),_h158=new DOMPoint(_s388.x+_n283/2,_s388.y),_a130=new DOMMatrix();_a130.multiplySelf(Nt(_e690,this)),_a130.translateSelf(_h158.x,_h158.y),_a130.rotateSelf(_l208),_a130.translateSelf(-_h158.x,-_h158.y);var _r77=Di("svg:rect");_r77.setAttribute("x",_s388.x),_r77.setAttribute("y",_i655.y),_r77.setAttribute("width",_n283),_r77.setAttribute("height",_o226),_r77.setAttribute("transform",_a130.toString()),this["#selection-rects"].append(_r77);}}if("visible"===this["#caret-line"].style.visibility)this["#html-input-object"].setAttribute("x",this["#caret-line"].x2.baseVal.value),this["#html-input-object"].setAttribute("y",this["#caret-line"].y2.baseVal.value),this["#caret-line"].hasAttribute("transform")?this["#html-input-object"].setAttribute("transform",this["#caret-line"].getAttribute("transform")):this["#html-input-object"].removeAttribute("transform");else if(this["#selection-rects"].children.length>0){var _t915=this["#selection-rects"].children[0];this["#html-input-object"].setAttribute("x",_t915.x.baseVal.value),this["#html-input-object"].setAttribute("y",_t915.y.baseVal.value+_t915.height.baseVal.value),_t915.hasAttribute("transform")?this["#html-input-object"].setAttribute("transform",_t915.getAttribute("transform")):this["#html-input-object"].removeAttribute("transform");}},Pd:function Pd(){var t=pa(this).getSelection(),e=t.rangeCount>0?t.getRangeAt(0):null;if(e){var _t916=this.Od(e.startContainer,e.startOffset)[1],_i656=this.Od(e.endContainer,e.endOffset)[1],_s389=0,_n284=new Range(),_o227=null,_l209=this.gd;var _iterator547=_createForOfIteratorHelper(xi(_l209)),_step547;try{for(_iterator547.s();!(_step547=_iterator547.n()).done;){var _e691=_step547.value;for(var _l210=0;_l210<=_e691.textContent.length;_l210+=1,_s389+=1){_s389===_t916&&_n284.setStart(_e691,_l210),_s389===_i656&&(0===_l210&&_o227?_n284.setEnd(_o227,_o227.textContent.length):_n284.setEnd(_e691,_l210));}_s389-=1,_o227=_e691;}}catch(err){_iterator547.e(err);}finally{_iterator547.f();}this.Pn.selectedTextRange=_n284;}},wd:function wd(){var t=this.Pn.selectedTextRange;if(t){var _e692=yi(t.startContainer,t.startOffset)[1],_i657=yi(t.endContainer,t.endOffset)[1],_s390=0,_n285=new Range(),_o228=null;var _iterator548=_createForOfIteratorHelper(this.Ed(this["#html-input"])),_step548;try{for(_iterator548.s();!(_step548=_iterator548.n()).done;){var _t917=_step548.value;for(var _l212=0;_l212<=_t917.textContent.length;_l212+=1,_s390+=1){_s390===_e692&&_n285.setStart(_t917,_l212),_s390===_i657&&(0===_l212&&_o228?_n285.setEnd(_o228,_o228.textContent.length):_n285.setEnd(_t917,_l212));}_s390-=1,_o228=_t917;}}catch(err){_iterator548.e(err);}finally{_iterator548.f();}var _l211=window.getSelection();_l211.removeAllRanges(),_l211.addRange(_n285);}},Dd:function Dd(){var t=this.gd,e=t?t.querySelector("textPath")||t:null;if(e){var _i658=Di("svg:g");_i658.innerHTML=this["#html-input"].innerHTML;var _s391=document.createNodeIterator(_i658,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT),_n286=null,_o229=mi(t),_l213=vi(t);for(;_n286=_s391.nextNode();){if(_n286.nodeType===Element.TEXT_NODE){if(_n286.textContent.includes("\n")){var _t918=document.createDocumentFragment();var _iterator549=_createForOfIteratorHelper(_n286.textContent),_step549;try{for(_iterator549.s();!(_step549=_iterator549.n()).done;){var _e693=_step549.value;if("\n"===_e693){var _e694=Wi(_templateObject9(),_o229.x,_l213+1,ri);_t918.append(_e694);}else _t918.append(new Text(_e693));}}catch(err){_iterator549.e(err);}finally{_iterator549.f();}_n286.replaceWith(_t918);}}else if(_n286.nodeType===Element.ELEMENT_NODE)if("span"===_n286.localName){var _t919=Di("svg:tspan");for(var _i659=0,_arr24=_toConsumableArray(_n286.attributes);_i659<_arr24.length;_i659++){var _arr24$_i=_arr24[_i659],_e695=_arr24$_i.name,_i660=_arr24$_i.value;_t919.setAttribute(_e695,_i660);}for(var _i661=0,_arr25=_toConsumableArray(_n286.childNodes);_i661<_arr25.length;_i661++){var _e696=_arr25[_i661];_t919.append(_e696);}_n286.replaceWith(_t919);}else"br"===_n286.localName&&_n286.remove();}e.innerHTML=_i658.innerHTML;var _h159=mi(t);_h159.x!==_o229.x&&t.setAttribute("x",_o229.x),_h159.y!==_o229.y&&t.setAttribute("y",_o229.y);}},kd:function kd(){var t=this.Pn.selectedTextRange,e=t?t.startContainer.closest("text"):null,i=e?e.querySelector("textPath")||e:null;if(i){var _t920=document.createElement("div");_t920.innerHTML=i.innerHTML;var _iterator550=_createForOfIteratorHelper(_t920.querySelectorAll("tspan")),_step550;try{for(_iterator550.s();!(_step550=_iterator550.n()).done;){var _e697=_step550.value;if(fi(_e697))_e697.replaceWith(new Text("\n"));else{var _t921=document.createElement("span");for(var _i662=0,_arr26=_toConsumableArray(_e697.attributes);_i662<_arr26.length;_i662++){var _arr26$_i=_arr26[_i662],_i663=_arr26$_i.name,_s392=_arr26$_i.value;_t921.setAttribute(_i663,_s392);}for(var _i664=0,_arr27=_toConsumableArray(_e697.childNodes);_i664<_arr27.length;_i664++){var _i665=_arr27[_i664];_t921.append(_i665);}_e697.replaceWith(_t921);}}}catch(err){_iterator550.e(err);}finally{_iterator550.f();}this["#html-input"].innerHTML=_t920.innerHTML,this.gd=e;}},Ed:function Ed(t){var e=[],i=document.createTreeWalker(t,NodeFilter.SHOW_TEXT);for(;i.nextNode();){i.currentNode.closest("bx-title, desc")||e.push(i.currentNode);}return e;},Od:function Od(t,e){var i=this["#html-input"],s=0,n=-1;var _iterator551=_createForOfIteratorHelper(this.Ed(i)),_step551;try{for(_iterator551.s();!(_step551=_iterator551.n()).done;){var _o230=_step551.value;if(_o230===t){n=s+e;break;}s+=_o230.length;}}catch(err){_iterator551.e(err);}finally{_iterator551.f();}return[i,n];}};var op=Math.abs,lp=4.5,hp=Symbol(),ap=Symbol();var rp={id:"char-hud",get selectedChar(){return this.Td;},createdCallback:function createdCallback(){var _this352=this;this.Yo=!1,this.Ad=[],this.Td=null,this.ih=qi(this.Ql,40,this),this.xh=qi(this.th,40,this),this.innerHTML='\n  <style>\n    #char-hud [uid="grippies"] {\n      cursor: default;\n      outline: none;\n    }\n\n    #char-hud .node-grippie .outer-circle {\n      fill: white;\n      stroke: #4d2782;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n    }\n    #char-hud .node-grippie[data-selected] .outer-circle {\n      fill: #dabfff;\n    }\n\n    #char-hud .node-grippie .inner-circle {\n      display: none;\n      fill: #4d2782;\n    }\n    #char-hud .node-grippie[data-adjusted] .inner-circle {\n      display: block;\n    }\n  </style>\n\n  <g uid="grippies" tabindex="-1">\n    <g uid="node-grippies"></g>\n  </g>\n';var _iterator552=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step552;try{for(_iterator552.s();!(_step552=_iterator552.n()).done;){var _t922=_step552.value;this["#"+_t922.getAttribute("uid")]=_t922;}}catch(err){_iterator552.e(err);}finally{_iterator552.f();}this.addEventListener("pointerdown",function(t){_this352.wo(t);}),this.addEventListener("dblclick",function(t){_this352.wh(t);});},enabledCallback:function enabledCallback(){var _this353=this;this.Qs=Ti(this,"#app"),this.Pn=Ti(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this353.Qo();}),this.Qo();},disabledCallback:function disabledCallback(){this.Yo&&this.Jo(),this.Pn.removeEventListener("selectedelementschange",this.Ko);},tl:function tl(){var _this354=this;this.Yo=!0,this.Pn.addEventListener("workspacemutation",this.rn=function(){_this354.il();}),this.Pn.addEventListener("zoomchange",this.an=function(){_this354.el();});},Jo:function Jo(){this.Yo=!1,this.Ad=[],this.Td&&(this.Td=null,this.dispatchEvent(new CustomEvent("selectedcharchange"))),this["#node-grippies"].innerHTML="",this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("zoomchange",this.an);},Qo:function Qo(){this.Ad=this.$d(),this.Td&&(this.Td=null,this.dispatchEvent(new CustomEvent("selectedcharchange"))),0===this.Ad.length?this.Yo&&this.Jo():(this.Yo||this.tl(),this.ih());},il:function il(){this.ih();},el:function el(){this.xh();},wo:function wo(t){t.preventDefault(),this["#grippies"].focus(),t.target.closest(".node-grippie")&&this.Ch(t);},wh:function wh(t){t.target.closest(".node-grippie")&&this.zh(t);},Ch:function Ch(t){var _this355=this;if(0!==t.button)return;var _e698,_i666,s=t.target.closest(".node-grippie"),n=new DOMPoint(t.clientX,t.clientY),o=n,l=this["#node-grippies"].querySelector("[data-selected]");l&&l.removeAttribute("data-selected"),s.setAttribute("data-selected",""),this.Td={textElement:s[hp],charIndex:s[ap]},this.dispatchEvent(new CustomEvent("selectedcharchange")),window.addEventListener("pointermove",_e698=function e(l){var h=new DOMPoint(l.clientX,l.clientY),a=l.timeStamp-t.timeStamp,r=Pe(n,h)>3||a>80,d=!1===_e(o,h,0);if(o=h,!0===r&&!0===d){window.removeEventListener("pointermove",_e698),window.removeEventListener("pointerup",_i666);var _n287=new q(l.clientX-t.clientX,l.clientY-t.clientY),_o231=op(_n287.x)>op(_n287.y)?"horizontal":"vertical",_h160=new DOMPoint(l.clientX,l.clientY);_this355.Dh(t,s,_h160,_o231);}}),window.addEventListener("pointerup",_i666=function i(t){window.removeEventListener("pointermove",_e698),window.removeEventListener("pointerup",_i666);});},Dh:function Dh(t,e,i,s){var _this356=this;var n,_o232,l=this.Pn,h=e[hp],a=e[ap],r=e.querySelector("circle"),d=new DOMPoint(r.cx.baseVal.value,r.cy.baseVal.value).matrixTransform(Vt(this)),c=Vt(h).inverse(),p=null,u=null,x=null,b=[],m=[];l.undoManager.checkpoint("Adjust text character position"),l.snapManager.snapStart(!0),e.setPointerCapture(t.pointerId),di(h);{var _t923=0;var _iterator553=_createForOfIteratorHelper(xi(h)),_step553;try{for(_iterator553.s();!(_step553=_iterator553.n()).done;){var _e699=_step553.value;var _i667=0;var _iterator554=_createForOfIteratorHelper(_e699.textContent),_step554;try{for(_iterator554.s();!(_step554=_iterator554.n()).done;){var _s393=_step554.value;if(_t923===a){p=_e699.parentNode,u=_e699,x=_i667;break;}_t923+=1,_i667+=1;}}catch(err){_iterator554.e(err);}finally{_iterator554.f();}if(p)break;}}catch(err){_iterator553.e(err);}finally{_iterator553.f();}}for(var _t924=0;_t924<u.textContent.length;_t924+=1){b[_t924]=void 0!==p.dx.baseVal[_t924]?p.dx.baseVal[_t924].value:0,m[_t924]=void 0!==p.dy.baseVal[_t924]?p.dy.baseVal[_t924].value:0;}var g=[].concat(b),f=[].concat(m);window.addEventListener("pointermove",n=function n(t){var e=new DOMPoint(t.clientX,t.clientY);_this356.Qs.modKeys.shift&&("horizontal"===s?e.y=i.y:"vertical"===s&&(e.x=i.x));var n=l.snapManager.snapPoint(new DOMPoint(d.x+e.x-i.x,d.y+e.y-i.y)),o=new q(d,n).matrixTransform(c);b[x]=X(g[x]+o.x,l.geometryPrecision),m[x]=X(f[x]+o.y,l.geometryPrecision),p.setAttribute("dx",b.join(" ")),p.setAttribute("dy",m.join(" "));}),window.addEventListener("pointerup",_o232=function o(t){window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",_o232),l.snapManager.snapEnd(),ci(h);});},zh:function zh(t){var e=t.target.closest(".node-grippie"),i=this.Pn,s=e[hp],n=e[ap],o=null,l=null,h=null,a=[],r=[],d=[];if(!1!==e.hasAttribute("data-adjusted")){i.undoManager.checkpoint("Reset text character position"),di(s);{var _t925=0;var _iterator555=_createForOfIteratorHelper(xi(s)),_step555;try{for(_iterator555.s();!(_step555=_iterator555.n()).done;){var _e700=_step555.value;var _i668=0;var _iterator556=_createForOfIteratorHelper(_e700.textContent),_step556;try{for(_iterator556.s();!(_step556=_iterator556.n()).done;){var _s394=_step556.value;if(_t925===n){o=_e700.parentNode,l=_e700,h=_i668;break;}_t925+=1,_i668+=1;}}catch(err){_iterator556.e(err);}finally{_iterator556.f();}if(o)break;}}catch(err){_iterator555.e(err);}finally{_iterator555.f();}}for(var _t926=0;_t926<l.textContent.length;_t926+=1){a[_t926]=void 0!==o.dx.baseVal[_t926]?o.dx.baseVal[_t926].value:0,r[_t926]=void 0!==o.dy.baseVal[_t926]?o.dy.baseVal[_t926].value:0,d[_t926]=void 0!==o.rotate.baseVal[_t926]?o.rotate.baseVal[_t926].value:0;}a[h]=0,r[h]=0,d[h]=0,o.setAttribute("dx",a.join(" ")),o.setAttribute("dy",r.join(" ")),o.setAttribute("rotate",d.join(" ")),ci(s);}},Ql:function Ql(){var t=document.createDocumentFragment();var _iterator557=_createForOfIteratorHelper(this.Ad),_step557;try{for(_iterator557.s();!(_step557=_iterator557.n()).done;){var _e701=_step557.value;var _i669=_e701.getNumberOfChars(),_s395=Nt(_e701,this),_n288=xi(_e701).map(function(t){return t.textContent;}).join(""),_o233=Si(_e701);for(var _l214=0;_l214<_i669;_l214+=1){if(_n288[_l214]!==ri){var _i670=_e701.getStartPositionOfChar(_l214),_n289=_e701.getEndPositionOfChar(_l214),_h161=De(_i670,_n289).matrixTransform(_s395),_a131=lp/this.Pn.scale,_r78=lp/2.5/this.Pn.scale,_d62=Di("svg:g");_d62.setAttribute("class","node-grippie"),_d62.innerHTML="\n            <circle class=\"outer-circle\" cx=\"".concat(_h161.x,"\" cy=\"").concat(_h161.y,"\" r=\"").concat(_a131,"\"></circle>\n            <circle class=\"inner-circle\" cx=\"").concat(_h161.x,"\" cy=\"").concat(_h161.y,"\" r=\"").concat(_r78,"\"></circle>\n          "),_d62[hp]=_e701,_d62[ap]=_l214,0===_o233.dx[_l214]&&0===_o233.dy[_l214]&&0===_o233.rotate[_l214]||_d62.setAttribute("data-adjusted",""),this.Td&&this.Td.textElement===_e701&&this.Td.charIndex===_l214&&_d62.setAttribute("data-selected",""),t.append(_d62);}}}}catch(err){_iterator557.e(err);}finally{_iterator557.f();}this["#node-grippies"].innerHTML="",this["#node-grippies"].append(t),this.th();},th:function th(){var t=lp/this.Pn.scale,e=lp/2.5/this.Pn.scale;var _iterator558=_createForOfIteratorHelper(this["#node-grippies"].children),_step558;try{for(_iterator558.s();!(_step558=_iterator558.n()).done;){var _i671=_step558.value;_i671.children[0].setAttribute("r",t),_i671.children[1].setAttribute("r",e);}}catch(err){_iterator558.e(err);}finally{_iterator558.f();}},$d:function $d(){var t=[],e=function e(i){var _iterator559=_createForOfIteratorHelper(i),_step559;try{for(_iterator559.s();!(_step559=_iterator559.n()).done;){var _s396=_step559.value;"text"===_s396.localName?t.push(_s396):"g"!==_s396.localName&&"a"!==_s396.localName||e(_s396.children);}}catch(err){_iterator559.e(err);}finally{_iterator559.f();}};return e(this.Pn.selectedElements),t=t.filter(function(t){return null===t.querySelector("textPath");}),t;}};var dp={id:"blob-hud",createdCallback:function createdCallback(){this.innerHTML='\n  <style>\n    #blob-hud [uid="ellipse"] {\n      fill: rgba(0, 0, 0, 0.2);\n      stroke: rgba(255, 255, 255, 0.75);\n      transform: rotate(0deg);\n      transform-origin: 50% 50%;\n      pointer-events: none;\n      vector-effect: non-scaling-stroke;\n    }\n\n    #blob-hud [uid="ellipse"][data-mode="erase"] {\n      fill: rgba(255, 255, 255, 0.5);\n      stroke: rgba(0, 0, 0, 0.3);\n    }\n  </style>\n\n  <ellipse uid="ellipse"></ellipse>\n';var _iterator560=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step560;try{for(_iterator560.s();!(_step560=_iterator560.n()).done;){var _t927=_step560.value;this["#"+_t927.getAttribute("uid")]=_t927;}}catch(err){_iterator560.e(err);}finally{_iterator560.f();}},enabledCallback:function enabledCallback(){var _this357=this;this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this.Pn=Ti(this,"bx-board"),this.Qs.addEventListener("configchange",this.ln=function(t){_this357.hn(t);}),this.Qs.addEventListener("modkeyschange",this.ja=function(){_this357.Id();}),this.Js.board.addEventListener("zoomchange",this.an=function(){_this357.el();}),this.Pn.workspaces.addEventListener("pointermove",this.Un=function(t){_this357.Ld(t);}),this.Pn.workspaces.addEventListener("pointerleave",this.Bd=function(t){_this357.Rd(t);}),this.qs();},disabledCallback:function disabledCallback(){this.Qs.removeEventListener("modkeyschange",this.ja),this.Qs.removeEventListener("configchange",this.ln),this.Js.board.addEventListener("zoomchange",this.an),this.Pn.workspaces.removeEventListener("pointermove",this.Un),this.Pn.workspaces.removeEventListener("pointerleave",this.Bd);},hn:function hn(t){var _t$detail3=t.detail,e=_t$detail3.key,i=_t$detail3.value;"bx-blobsettings:mode"!==e&&"bx-blobsettings:size"!==e&&"bx-blobsettings:roundness"!==e&&"bx-blobsettings:angle"!==e||this.qs();},Id:function Id(){this.qs();},el:function el(){this.qs();},Ld:function Ld(t){var _iterator561=_createForOfIteratorHelper(t.getCoalescedEvents()),_step561;try{for(_iterator561.s();!(_step561=_iterator561.n()).done;){var _e702=_step561.value;var _t928=new DOMPoint(_e702.clientX,_e702.clientY);this.qs(_t928);}}catch(err){_iterator561.e(err);}finally{_iterator561.f();}},Rd:function Rd(){this["#ellipse"].cy.baseVal.value=999999999;},qs:function qs(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Qs.pointerClientPoint;var e=this.Qs.getConfig("bx-blobsettings:mode","draw"),i=this.Qs.getConfig("bx-blobsettings:size",30),s=this.Qs.getConfig("bx-blobsettings:roundness",100),n=this.Qs.getConfig("bx-blobsettings:angle",0),o=this.Qs.getConfig("bx-blobsettings:dynamics",ea),l=Vt(this).inverse(),h=t.matrixTransform(l),a=this.Qs.pointerPressure;if(this.Qs.modKeys.ctrl&&(e="draw"===e?"erase":"draw"),i*this.Pn.scale<10&&(i=10/this.Pn.scale),s<25&&(s=25),o.size){var _t929=X(i-i*o.size.variance,0),_e703=X(i+i*o.size.variance,0);"pressure"===o.size.param&&a>0&&(i=_t929+a*(_e703-_t929));}this["#ellipse"].setAttribute("data-mode",e),this["#ellipse"].cx.baseVal.value=h.x,this["#ellipse"].cy.baseVal.value=h.y,this["#ellipse"].rx.baseVal.value=i/2,this["#ellipse"].ry.baseVal.value=s/100*(i/2),this["#ellipse"].style.transform="rotate(".concat(n,"deg)"),this["#ellipse"].style.transformOrigin="".concat(h.x,"px ").concat(h.y,"px");}};var cp=/*#__PURE__*/function(){function cp(){_classCallCheck(this,cp);}_createClass(cp,[{key:"addEventListener",value:function addEventListener(t,e){this.Gd||(this.Gd={});var i=this.Gd[t];i||(this.Gd[t]=i=[]),i.push(e),i.length>300&&console.warn("Potential EventEmitter memory leak: ".concat(i.length," listeners subscribed to event \"").concat(t,"\""));}},{key:"removeEventListener",value:function removeEventListener(t,e){if(this.Gd&&this.Gd[t]){for(var i=[],s=0;s<this.Gd[t].length;s+=1){this.Gd[t][s]!==e&&i.push(this.Gd[t][s]);}this.Gd[t]=i;}}},{key:"dispatchEvent",value:function dispatchEvent(t){if(!this.Gd)return;var e=this.Gd[t.type];if(!e)return;var i=null;for(var _s397=e.length-1;_s397>=0;_s397-=1){var _n290=void 0,_o234=e[_s397];try{_n290=_o234.call(window,t);}catch(t){null===i&&(i=t);}if(!1===_n290)break;}if(i)throw i;}}]);return cp;}();var pp={childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0};var up=/*#__PURE__*/function(_cp){_inherits(up,_cp);var _super62=_createSuper(up);function up(t){var _this358;_classCallCheck(this,up);_this358=_super62.call(this),_this358.Fd=t,_this358.Ud=[],_this358.Ea=0,_this358.Nd=!1,_this358.Vd=new MutationObserver(function(t){var _iterator562=_createForOfIteratorHelper(t),_step562;try{for(_iterator562.s();!(_step562=_iterator562.n()).done;){var _e704=_step562.value;_this358.jd(_e704);}}catch(err){_iterator562.e(err);}finally{_iterator562.f();}}),_this358.Hd();return _this358;}_createClass(up,[{key:"clear",value:function clear(){this.Ud=[],this.Ea=0,this.dispatchEvent(new CustomEvent("change",{detail:"clear"}));}},{key:"checkpoint",value:function checkpoint(t){this.Vd.takeRecords(),this.Ea<this.Ud.length&&(this.Ud=this.Ud.slice(0,this.Ea));var e={label:t,transactions:[]};this.Ud.push(e),this.Ea+=1;}},{key:"undo",value:function undo(){if(this.canUndo()){this.Yd(),this.disabled=!0,this.Ea-=1;var _t930=this.Ud[this.Ea],_e705=_toConsumableArray(_t930.transactions).reverse(),_i672=_t930.label||"",_s398=new Set(),_n291=new Set(),_o235=new Set();var _iterator563=_createForOfIteratorHelper(_e705),_step563;try{for(_iterator563.s();!(_step563=_iterator563.n()).done;){var _t931=_step563.value;if("childList"===_t931.type){var _e706=document.createDocumentFragment();var _iterator564=_createForOfIteratorHelper(_t931.addedNodes),_step564;try{for(_iterator564.s();!(_step564=_iterator564.n()).done;){var _e707=_step564.value;_t931.target.removeChild(_e707),_n291.add(_e707),_s398["delete"](_e707);}}catch(err){_iterator564.e(err);}finally{_iterator564.f();}var _iterator565=_createForOfIteratorHelper(_t931.removedNodes),_step565;try{for(_iterator565.s();!(_step565=_iterator565.n()).done;){var _i673=_step565.value;_e706.append(_i673),_s398.add(_i673),_n291["delete"](_i673);}}catch(err){_iterator565.e(err);}finally{_iterator565.f();}_t931.nextSibling?_t931.target.insertBefore(_e706,_t931.nextSibling):_t931.previousSibling?_t931.target.insertBefore(_e706,_t931.previousSibling.nextSibling):_t931.target.append(_e706);}else"attributes"===_t931.type?(null===_t931.oldValue?_t931.target.removeAttribute(_t931.attributeName):_t931.target.setAttribute(_t931.attributeName,_t931.oldValue),_o235.add(_t931.target)):"characterData"===_t931.type&&(_t931.target.data=_t931.oldValue,_o235.add(_t931.target));}}catch(err){_iterator563.e(err);}finally{_iterator563.f();}this.disabled=!1,this.dispatchEvent(new CustomEvent("undo",{detail:{label:_i672,addedNodes:_s398,removedNodes:_n291,modifiedNodes:_o235}})),this.dispatchEvent(new CustomEvent("undoorredo",{detail:{label:_i672,addedNodes:_s398,removedNodes:_n291,modifiedNodes:_o235}})),this.dispatchEvent(new CustomEvent("change",{detail:"decrement"}));}else console.info("Can't undo");}},{key:"redo",value:function redo(){if(this.canRedo()){var _t932=this.Ud[this.Ea],_e708=_t932.transactions;this.disabled=!0,this.Ea+=1;var _i674=_t932.label||"",_s399=new Set(),_n292=new Set(),_o236=new Set();var _iterator566=_createForOfIteratorHelper(_e708),_step566;try{for(_iterator566.s();!(_step566=_iterator566.n()).done;){var _t933=_step566.value;if("childList"===_t933.type){var _e709=document.createDocumentFragment();var _iterator567=_createForOfIteratorHelper(_t933.removedNodes),_step567;try{for(_iterator567.s();!(_step567=_iterator567.n()).done;){var _e710=_step567.value;_t933.target.removeChild(_e710),_n292.add(_e710),_s399["delete"](_e710);}}catch(err){_iterator567.e(err);}finally{_iterator567.f();}var _iterator568=_createForOfIteratorHelper(_t933.addedNodes),_step568;try{for(_iterator568.s();!(_step568=_iterator568.n()).done;){var _i675=_step568.value;_e709.append(_i675),_s399.add(_i675),_n292["delete"](_i675);}}catch(err){_iterator568.e(err);}finally{_iterator568.f();}_t933.nextSibling?_t933.target.insertBefore(_e709,_t933.nextSibling):_t933.previousSibling?_t933.target.insertBefore(_e709,_t933.previousSibling.nextSibling):_t933.target.append(_e709);}else"attributes"===_t933.type?(null===_t933.newValue?_t933.target.removeAttribute(_t933.attributeName):_t933.target.setAttribute(_t933.attributeName,_t933.newValue),_o236.add(_t933.target)):"characterData"===_t933.type&&(_t933.target.data=_t933.newValue,_o236.add(_t933.target));}}catch(err){_iterator566.e(err);}finally{_iterator566.f();}this.disabled=!1,this.dispatchEvent(new CustomEvent("redo",{detail:{label:_i674,addedNodes:_s399,removedNodes:_n292,modifiedNodes:_o236}})),this.dispatchEvent(new CustomEvent("undoorredo",{detail:{label:_i674,addedNodes:_s399,removedNodes:_n292,modifiedNodes:_o236}})),this.dispatchEvent(new CustomEvent("change",{detail:"increment"}));}else console.info("Can't redo");}},{key:"canUndo",value:function canUndo(){return 0!==this.Ea&&!this.disabled&&(1!==this.Ea||!this.Wd());}},{key:"canRedo",value:function canRedo(){return this.Ea!==this.Ud.length&&!this.disabled;}},{key:"Hd",value:function Hd(){!0===this.disabled?(this.Vd.takeRecords(),this.Vd.disconnect()):!1===this.disabled&&this.Vd.observe(this.Fd,pp);}},{key:"jd",value:function jd(t){if(0===this.Ud.length)return;if(t.attributeName&&t.attributeName.startsWith("_bx"))return;var e=this.Ud[this.Ud.length-1].transactions,i=e.length;if("attributes"===t.type){var _i676=t.attributeName,_s400=e.find(function(e){return"attributes"===e.type&&e.attributeName===_i676&&e.target===t.target;});_s400?_s400.newValue=_s400.target.getAttribute(_i676):(_s400={type:"attributes",target:t.target,attributeName:_i676,oldValue:t.oldValue,newValue:t.target.getAttribute(_i676)},e.push(_s400));}else if("characterData"===t.type){var _i677=e.find(function(e){return"characterData"===e.type&&e.target===t.target;});if(_i677)_i677.newValue=_i677.target.data;else{var _i678={type:"characterData",target:t.target,oldValue:t.oldValue,newValue:t.target.data};e.push(_i678);}}else if("childList"===t.type){var _i679={type:"childList",target:t.target,addedNodes:_toConsumableArray(t.addedNodes),removedNodes:_toConsumableArray(t.removedNodes),nextSibling:t.nextSibling,previousSibling:t.previousSibling};e.push(_i679);}0===i&&e.length>0&&this.dispatchEvent(new CustomEvent("change",{detail:"increment"}));}},{key:"Wd",value:function Wd(){return 0===this.Ud[this.Ea-1].transactions.length;}},{key:"Yd",value:function Yd(){var _this359=this;this.Ea>0&&0===this.Ud[this.Ea-1].transactions.length&&(this.Ud=this.Ud.filter(function(t){return t!==_this359.Ud[_this359.Ea];}),this.Ea-=1);}},{key:"groups",get:function get(){return this.Ud;}},{key:"position",get:function get(){return this.Ea;}},{key:"disabled",get:function get(){return this.Nd;},set:function set(t){var e;(e=t)===!!e&&t!==this.Nd&&(this.Nd=t,this.Hd());}},{key:"undoLabel",get:function get(){var t="Undo";if(this.canUndo()){var _e711;_e711=this.Ud[this.Ea-1].transactions.length>0?this.Ud[this.Ea-1]:this.Ud[this.Ea-2],t="Undo: ".concat(_e711.label);}return t;}},{key:"redoLabel",get:function get(){var t="Redo";if(this.canRedo()){t="Redo: ".concat(this.Ud[this.Ea].label);}return t;}}]);return up;}(cp);var _window5=window,xp=_window5.tokenize,bp=_window5.EOFToken;var mp=/*#__PURE__*/function(){_createClass(mp,[{key:"items",get:function get(){return this.qd;},set:function set(t){this.qd=_toConsumableArray(t);}},{key:"type",get:function get(){return"<font-family>";}}]);function mp(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];_classCallCheck(this,mp);this.qd=_toConsumableArray(t);}_createClass(mp,[{key:"toString",value:function toString(){return this.items.map(function(t){return p.includes(t)?t:"\"".concat(t,"\"");}).join(", ");}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(xp(t)),[new bp()]),s=new Pt(i),n=[];if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"STRING"!==s.currentToken.tokenType&&"IDENT"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected STRING or IDENT token.","SyntaxError");return null;}for(n.push(s.currentToken.value);;){var _t934=!1;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),","===s.currentToken.tokenType&&(_t934=!0,s.read()),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"STRING"!==s.currentToken.tokenType&&"IDENT"!==s.currentToken.tokenType){if("EOF"===s.currentToken.tokenType){if(_t934){if(e)throw new DOMException("Unexpected trailing comma.","SyntaxError");return null;}return new mp(n);}if(e)throw new DOMException("Unexpected token \"".concat(s.currentToken.tokenType,"\"."),"SyntaxError");return null;}if(!_t934){if(e)throw new DOMException("Unexpected STRING or IDENT token.","SyntaxError");return null;}n.push(s.currentToken.value);}}}]);return mp;}();var _window6=window,gp=_window6.tokenize,fp=_window6.EOFToken,wp=_window6.parseACommaSeparatedListOfComponentValues;var vp=/*#__PURE__*/function(){_createClass(vp,[{key:"items",get:function get(){return this.qd;},set:function set(t){this.qd=_toConsumableArray(t);}},{key:"type",get:function get(){return"<font-face-src>";}}]);function vp(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];_classCallCheck(this,vp);this.qd=_toConsumableArray(t);}_createClass(vp,[{key:"toString",value:function toString(){var t=[];var _iterator569=_createForOfIteratorHelper(this.items),_step569;try{for(_iterator569.s();!(_step569=_iterator569.n()).done;){var _e712=_step569.value;if("local"===_e712.type){var _i680="local(".concat(_e712.name,")");t.push(_i680);}else if("external"===_e712.type||"embedded"===_e712.type){var _i681="url(".concat(_e712.url,")");_e712.format&&(_i681+=" format(\"".concat(_e712.format,"\")")),t.push(_i681);}}}catch(err){_iterator569.e(err);}finally{_iterator569.f();}return t.join(", ");}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=wp(t),s=[];var _iterator570=_createForOfIteratorHelper(i),_step570;try{for(_iterator570.s();!(_step570=_iterator570.n()).done;){var _t935=_step570.value;var _e713=[].concat(_toConsumableArray(_t935),[new fp()]).filter(function(t){return"WHITESPACE"!==t.tokenType;}),_i682=new Pt(_e713),_n293={};if(_i682.read(),"FUNCTION"===_i682.currentToken.type){if("local"===_i682.currentToken.name){var _t936="";var _iterator571=_createForOfIteratorHelper(_i682.currentToken.value),_step571;try{for(_iterator571.s();!(_step571=_iterator571.n()).done;){var _e714=_step571.value;"STRING"===_e714.tokenType?_t936+=_e714.value:_t936+=_e714.toSource();}}catch(err){_iterator571.e(err);}finally{_iterator571.f();}_n293.type="local",_n293.name=_t936;}else if("url"===_i682.currentToken.name){var _t937="";var _iterator572=_createForOfIteratorHelper(_i682.currentToken.value),_step572;try{for(_iterator572.s();!(_step572=_iterator572.n()).done;){var _e715=_step572.value;"STRING"===_e715.tokenType?_t937+=_e715.value:_t937+=_e715.toSource();}}catch(err){_iterator572.e(err);}finally{_iterator572.f();}_t937.trim(),_t937.startsWith("data:")?_n293.type="embedded":_n293.type="external",_n293.url=new so(_t937),_i682.read(),"FUNCTION"==_i682.currentToken.type&&"format"===_i682.currentToken.name&&(_n293.format=_i682.currentToken.value[0].value);}}else if("URL"===_i682.currentToken.tokenType){var _t938=_i682.currentToken.value;_t938.startsWith("data:")?_n293.type="embedded":_n293.type="external",_n293.url=new so(_t938),_i682.read(),"FUNCTION"==_i682.currentToken.type&&"format"===_i682.currentToken.name&&(_n293.format=_i682.currentToken.value[0].value);}s.push(_n293);}}catch(err){_iterator570.e(err);}finally{_iterator570.f();}return new vp(s);}}]);return vp;}();var yp=Math.tan,kp=Math.PI,Sp=function Sp(t){return new Promise(function(e){opentype.load(t,function(t,i){return e(t?null:i);});});},_p=function _p(t,e,i,s,n,o){var l=t.path;if(o&&(l=Mp(l,14)),s){var _i683=e.ascender/20;s.includes("underline")&&(l=Pp(l,t.advanceWidth,_i683,e.descender/3)),s.includes("overline")&&(l=Pp(l,t.advanceWidth,_i683,e.ascender-_i683)),s.includes("line-through")&&(l=Pp(l,t.advanceWidth,_i683,(e.ascender+e.descender)/2));}return l=Dp(l,1/e.unitsPerEm*i),l;},Cp=function Cp(t){var e;if("M"===t.type||"L"===t.type){var _i684=t.type,_s401=t.x,_n294=t.y;e={type:_i684,x:_s401,y:_n294};}else if("Q"===t.type){var _i685=t.type,_s402=t.x1,_n295=t.y1,_o237=t.x,_l215=t.y;e={type:_i685,x1:_s402,y1:_n295,x:_o237,y:_l215};}else if("C"===t.type){var _i686=t.type,_s403=t.x1,_n296=t.y1,_o238=t.x2,_l216=t.y2,_h162=t.x,_a132=t.y;e={type:_i686,x1:_s403,y1:_n296,x2:_o238,y2:_l216,x:_h162,y:_a132};}else"Z"===t.type&&(e={type:"Z"});return e;},Mp=function Mp(t,e){var i=new DOMMatrix([1,0,yp(kp*e/180),1,0,0]),s=[];var _iterator573=_createForOfIteratorHelper(t.commands),_step573;try{for(_iterator573.s();!(_step573=_iterator573.n()).done;){var _e716=_step573.value;if("M"===_e716.type){var _t939=new DOMPoint(_e716.x,_e716.y).matrixTransform(i);s.push({type:"M",x:_t939.x,y:_t939.y});}else if("L"===_e716.type){var _t940=new DOMPoint(_e716.x,_e716.y).matrixTransform(i);s.push({type:"L",x:_t940.x,y:_t940.y});}else if("Q"===_e716.type){var _t941=new DOMPoint(_e716.x1,_e716.y1).matrixTransform(i),_n297=new DOMPoint(_e716.x,_e716.y).matrixTransform(i);s.push({type:"Q",x1:_t941.x,y1:_t941.y,x:_n297.x,y:_n297.y});}else if("C"===_e716.type){var _t942=new DOMPoint(_e716.x1,_e716.y1).matrixTransform(i),_n298=new DOMPoint(_e716.x2,_e716.y2).matrixTransform(i),_o239=new DOMPoint(_e716.x,_e716.y).matrixTransform(i);s.push({type:"C",x1:_t942.x,y1:_t942.y,x2:_n298.x,y2:_n298.y,x:_o239.x,y:_o239.y});}else"Z"===_e716.type&&s.push({type:"Z"});}}catch(err){_iterator573.e(err);}finally{_iterator573.f();}var n=new opentype.Path();return n.commands=s,n.fill=t.fill,n.stroke=t.stroke,n.strokeWidth=t.strokeWidth,n;},Pp=function Pp(t,e,i,s){var n=[];var _iterator574=_createForOfIteratorHelper(t.commands),_step574;try{for(_iterator574.s();!(_step574=_iterator574.n()).done;){var _e717=_step574.value;n.push(Cp(_e717));}}catch(err){_iterator574.e(err);}finally{_iterator574.f();}n.push({type:"M",x:0,y:s}),n.push({type:"L",x:e,y:s}),n.push({type:"L",x:e,y:s-i}),n.push({type:"L",x:0,y:s-i}),n.push({type:"Z"});var o=new opentype.Path();return o.commands=n,o.fill=t.fill,o.stroke=t.stroke,o.strokeWidth=t.strokeWidth,o;},Dp=function Dp(t,e){var i=new opentype.Path();for(var _s404=0;_s404<t.commands.length;_s404+=1){var _n299=t.commands[_s404];"M"===_n299.type?i.moveTo(_n299.x*e,-_n299.y*e):"L"===_n299.type?i.lineTo(_n299.x*e,-_n299.y*e):"Q"===_n299.type?i.quadraticCurveTo(_n299.x1*e,-_n299.y1*e,_n299.x*e,-_n299.y*e):"C"===_n299.type?i.curveTo(_n299.x1*e,-_n299.y1*e,_n299.x2*e,-_n299.y2*e,_n299.x*e,-_n299.y*e):"Z"===_n299.type&&i.closePath();}return i;},zp=Math.abs,Op=function Op(t){switch(t){case"normal":return"400";case"bold":return"700";default:return t;}},Ep=function Ep(t){switch(Op(t)){case"100":return"Thin";case"200":return"Extra-Light";case"300":return"Light";case"400":return"Normal";case"500":return"Medium";case"600":return"Semi-Bold";case"700":return"Bold";case"800":return"Extra-Bold";case"900":return"Ultra-Bold";default:return"Normal";}},Tp=function Tp(t,e){var _iterator575=_createForOfIteratorHelper(L[t]),_step575;try{for(_iterator575.s();!(_step575=_iterator575.n()).done;){var _i687=_step575.value;if(e.includes(_i687))return _i687;}}catch(err){_iterator575.e(err);}finally{_iterator575.f();}},Ap=function Ap(t){var e=[],i=Ep(Op(t.weight));if(e.push(i),"normal"!==t.style){var _i688=si(t.style);e.push(_i688);}if("normal"!==t.stretch){var _i689=si(t.stretch);e.push(_i689);}return e.join(" ");},$p=function $p(t){return new Promise(/*#__PURE__*/function(){var _ref101=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee90(e){var i,_e718,_t943;return regeneratorRuntime.wrap(function _callee90$(_context91){while(1){switch(_context91.prev=_context91.next){case 0:i=1;if(!t.src){_context91.next=8;break;}_e718=vp.fromString(t.src);if(!(_e718.items[0]&&"local"!==_e718.items[0].type)){_context91.next=8;break;}_context91.next=6;return Sp(_e718.items[0].url.value);case 6:_t943=_context91.sent;_t943&&(i=1-zp(_t943.descender)/(zp(_t943.ascender)+zp(_t943.descender)));case 8:e(i);case 9:case"end":return _context91.stop();}}},_callee90);}));return function(_x108){return _ref101.apply(this,arguments);};}());};var Ip=/*#__PURE__*/function(){function Ip(t){_classCallCheck(this,Ip);this.Xd=null,this.Zd=t;}_createClass(Ip,[{key:"getFamilies",value:function getFamilies(){return _toConsumableArray(this.Zd.querySelectorAll("style[data-bx-fonts]")).map(function(t){return t.getAttribute("data-bx-fonts");});}},{key:"getWeights",value:function getWeights(t){var e=new Set(),i=this.Zd.querySelector("style[data-bx-fonts=\"".concat(t,"\"]"));if(i){var _iterator576=_createForOfIteratorHelper(i.sheet.rules),_step576;try{for(_iterator576.s();!(_step576=_iterator576.n()).done;){var _t944=_step576.value;var _i690=_t944.style.fontWeight?Op(_t944.style.fontWeight):"400";e.add(_i690);}}catch(err){_iterator576.e(err);}finally{_iterator576.f();}}return _toConsumableArray(e);}},{key:"reorderFamilies",value:function reorderFamilies(t){var e=[];var _iterator577=_createForOfIteratorHelper(t),_step577;try{for(_iterator577.s();!(_step577=_iterator577.n()).done;){var _i692=_step577.value;var _t946=this.Zd.querySelector("style[data-bx-fonts=\"".concat(_i692,"\"]"));e.push(_t946);}}catch(err){_iterator577.e(err);}finally{_iterator577.f();}var i=this.Zd.querySelector("defs");for(var _i691=0,_e719=e;_i691<_e719.length;_i691++){var _t945=_e719[_i691];i.append(_t945);}}},{key:"getFonts",value:function getFonts(){var t=[];var _iterator578=_createForOfIteratorHelper(this.getFamilies()),_step578;try{for(_iterator578.s();!(_step578=_iterator578.n()).done;){var _e720=_step578.value;t.push.apply(t,_toConsumableArray(this.getFamilyFonts(_e720)));}}catch(err){_iterator578.e(err);}finally{_iterator578.f();}return t;}},{key:"getMatchedFont",value:function getMatchedFont(t,e,i){return function(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"400";var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"normal";return function(t,e){var _iterator579=_createForOfIteratorHelper(L[e]),_step579;try{for(_iterator579.s();!(_step579=_iterator579.n()).done;){var _i693=_step579.value;var _iterator580=_createForOfIteratorHelper(t),_step580;try{for(_iterator580.s();!(_step580=_iterator580.n()).done;){var _e721=_step580.value;if(_e721.weight===_i693)return _e721;}}catch(err){_iterator580.e(err);}finally{_iterator580.f();}}}catch(err){_iterator579.e(err);}finally{_iterator579.f();}return t[0]?t[0]:null;}(function(t,e){var i=t.filter(function(t){return"normal"===e?"normal"===t.style:"italic"===e||"oblique"===e?"italic"===t.style||"oblique"===t.style:void 0;});return 0===i.length&&(i=_toConsumableArray(t)),i;}(function(t,e){return t.filter(function(t){return t.family===e;});}(t,e),s),i);}(this.getFonts(),t,e,i);}},{key:"addFont",value:function addFont(t){var e=this.getFamilyFonts(t.family);var _iterator581=_createForOfIteratorHelper(e),_step581;try{for(_iterator581.s();!(_step581=_iterator581.n()).done;){var _i694=_step581.value;_i694.weight===t.weight&&_i694.style===t.weight&&_i694.stretch===t.stretch&&_i694.unicodeRange===t.unicodeRange&&_i694.variant===t.variant&&_i694.featureSettings===t.featureSettings&&e.remove(_i694);}}catch(err){_iterator581.e(err);}finally{_iterator581.f();}e.push(t),this.setFamilyFonts(e);}},{key:"addFonts",value:function addFonts(t){var e={};var _iterator582=_createForOfIteratorHelper(t),_step582;try{for(_iterator582.s();!(_step582=_iterator582.n()).done;){var _i698=_step582.value;void 0===e[_i698.family]&&(e[_i698.family]=[]),e[_i698.family].push(_i698);}}catch(err){_iterator582.e(err);}finally{_iterator582.f();}for(var _i695=0,_Object$entries2=Object.entries(e);_i695<_Object$entries2.length;_i695++){var _Object$entries2$_i=_slicedToArray(_Object$entries2[_i695],2),_t947=_Object$entries2$_i[0],_i696=_Object$entries2$_i[1];var _e722=this.getFamilyFonts(_t947);var _iterator583=_createForOfIteratorHelper(_i696),_step583;try{for(_iterator583.s();!(_step583=_iterator583.n()).done;){var _t948=_step583.value;var _iterator584=_createForOfIteratorHelper(_e722),_step584;try{for(_iterator584.s();!(_step584=_iterator584.n()).done;){var _i697=_step584.value;_i697.weight===_t948.weight&&_i697.style===_t948.weight&&_i697.stretch===_t948.stretch&&_i697.unicodeRange===_t948.unicodeRange&&_i697.variant===_t948.variant&&_i697.featureSettings===_t948.featureSettings&&_e722.remove(_i697);}}catch(err){_iterator584.e(err);}finally{_iterator584.f();}_e722.push(_t948);}}catch(err){_iterator583.e(err);}finally{_iterator583.f();}this.setFamilyFonts(_e722);}}},{key:"removeFont",value:function removeFont(t){var e=this.getFamilyFonts(t.family),i=e.filter(function(e){return e.style!==t.style||e.weight!==t.weight||e.stretch!==t.stretch||e.unicodeRange!==t.unicodeRange;});i.length!==e.length&&this.setFamilyFonts(i);}},{key:"getFamilyFonts",value:function getFamilyFonts(t){var e=[],i=this.Zd.querySelector("style[data-bx-fonts=\"".concat(t,"\"]"));if(i){var _iterator585=_createForOfIteratorHelper(i.sheet.rules),_step585;try{for(_iterator585.s();!(_step585=_iterator585.n()).done;){var _s405=_step585.value;var _i699=_s405.style.src,_n300={style:_s405.style.fontStyle||"normal",weight:_s405.style.fontWeight?Op(_s405.style.fontWeight):"400",stretch:_s405.style.fontStretch||"normal",unicodeRange:_s405.style.unicodeRange||"U+0-10FFFF",variant:_s405.style.fontVariant||"normal",featureSettings:_s405.style.fontFeatureSettings||"normal"},_o240=new FontFace(t,_i699,_n300);_o240.src=_i699,e.push(_o240);}}catch(err){_iterator585.e(err);}finally{_iterator585.f();}}return e;}},{key:"setFamilyFonts",value:function setFamilyFonts(t){var e=t.length>0?t[0].family:null;if(null===e)return;if(t.find(function(t){return t.family!==e;}))return void console.error("Passed fonts from different families to fontsManger.setFamilyFonts().");var i=this.Zd.querySelector("style[data-bx-fonts=\"".concat(e,"\"]"));i||(i=Di("svg:style"),i.setAttribute("data-bx-fonts",e),this.Zd.querySelector("defs").append(i));var s="";var _iterator586=_createForOfIteratorHelper(t),_step586;try{for(_iterator586.s();!(_step586=_iterator586.n()).done;){var _e723=_step586.value;s+=this.Kd(_e723);}}catch(err){_iterator586.e(err);}finally{_iterator586.f();}i.textContent=s;}},{key:"removeFamily",value:function removeFamily(t){var e=this.Zd.querySelector("style[data-bx-fonts=\"".concat(t,"\"]"));e&&e.remove();}},{key:"renameFamily",value:function renameFamily(t,e){var _iterator587=_createForOfIteratorHelper(this.Zd.querySelectorAll("style[data-bx-fonts]")),_step587;try{for(_iterator587.s();!(_step587=_iterator587.n()).done;){var _i701=_step587.value;if(_i701.getAttribute("data-bx-fonts")===t){_i701.setAttribute("data-bx-fonts",e);var _iterator588=_createForOfIteratorHelper(_i701.sheet.rules),_step588;try{for(_iterator588.s();!(_step588=_iterator588.n()).done;){var _t949=_step588.value;_t949.style.fontFamily="\"".concat(e,"\""),wa(_i701);}}catch(err){_iterator588.e(err);}finally{_iterator588.f();}}}}catch(err){_iterator587.e(err);}finally{_iterator587.f();}{var _i700,_s406=document.createNodeIterator(this.Zd,NodeFilter.SHOW_ELEMENT);for(;_i700=_s406.nextNode();){var _s407=mp.fromString(_i700.style.fontFamily);_s407&&_s407.items.includes(t)&&(_s407.items=_s407.items.map(function(i){return i===t?e:i;}),_i700.style.fontFamily=_s407.toString());}}}},{key:"pinFamily",value:function pinFamily(t){var _iterator589=_createForOfIteratorHelper(this.Zd.querySelectorAll("style[data-bx-fonts]")),_step589;try{for(_iterator589.s();!(_step589=_iterator589.n()).done;){var _e724=_step589.value;_e724.getAttribute("data-bx-fonts")===t&&_e724.setAttribute("data-bx-pinned","true");}}catch(err){_iterator589.e(err);}finally{_iterator589.f();}}},{key:"unpinFamily",value:function unpinFamily(t){var _iterator590=_createForOfIteratorHelper(this.Zd.querySelectorAll("style[data-bx-fonts]")),_step590;try{for(_iterator590.s();!(_step590=_iterator590.n()).done;){var _e725=_step590.value;_e725.getAttribute("data-bx-fonts")===t&&_e725.removeAttribute("data-bx-pinned");}}catch(err){_iterator590.e(err);}finally{_iterator590.f();}}},{key:"embedLinkedFonts",value:function(){var _embedLinkedFonts=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee91(){var t,_iterator591,_step591,_e726,_t950,_iterator592,_step592,_i702,_e727,_s408,_n301,_o241;return regeneratorRuntime.wrap(function _callee91$(_context92){while(1){switch(_context92.prev=_context92.next){case 0:t=_toConsumableArray(this.Zd.querySelectorAll("style[data-bx-fonts]"));_iterator591=_createForOfIteratorHelper(t);_context92.prev=2;_iterator591.s();case 4:if((_step591=_iterator591.n()).done){_context92.next=37;break;}_e726=_step591.value;_t950=!1;_iterator592=_createForOfIteratorHelper(_e726.sheet.rules);_context92.prev=8;_iterator592.s();case 10:if((_step592=_iterator592.n()).done){_context92.next=26;break;}_i702=_step592.value;_e727=vp.fromString(_i702.style.src).items[0]||null;if(!(_e727&&"external"===_e727.type)){_context92.next=24;break;}_context92.next=16;return fetch(_e727.url.value);case 16:_s408=_context92.sent;_context92.next=19;return _s408.blob();case 19:_n301=_context92.sent;_context92.next=22;return Ra(_n301);case 22:_o241=_context92.sent;_i702.style.src='url("'+_o241+'")',_t950=!0;case 24:_context92.next=10;break;case 26:_context92.next=31;break;case 28:_context92.prev=28;_context92.t0=_context92["catch"](8);_iterator592.e(_context92.t0);case 31:_context92.prev=31;_iterator592.f();return _context92.finish(31);case 34:_t950&&wa(_e726);case 35:_context92.next=4;break;case 37:_context92.next=42;break;case 39:_context92.prev=39;_context92.t1=_context92["catch"](2);_iterator591.e(_context92.t1);case 42:_context92.prev=42;_iterator591.f();return _context92.finish(42);case 45:case"end":return _context92.stop();}}},_callee91,this,[[2,39,42,45],[8,28,31,34]]);}));function embedLinkedFonts(){return _embedLinkedFonts.apply(this,arguments);}return embedLinkedFonts;}()},{key:"replaceTextWithPaths",value:function replaceTextWithPaths(t){var _this360=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:3;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:6;return new Promise(/*#__PURE__*/function(){var _ref102=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee92(s){var n,o,l,_iterator593,_step593,_s409,_l217,_h163,_a133,_r79,_d63,_c54,_p45,_u37,_x110,_t951,_n302,_o242,_l218,_h164,_a134,_e729,_i703,_l219,_iterator594,_step594,_t952,_h165,_iterator595,_step595,_e730,_iterator596,_step596,_t953,_e728;return regeneratorRuntime.wrap(function _callee92$(_context93){while(1){switch(_context93.prev=_context93.next){case 0:di(t);n=Ut(t),o=document.createDocumentFragment(),l=t.querySelectorAll("tspan");_iterator593=_createForOfIteratorHelper(l);_context93.prev=3;_iterator593.s();case 5:if((_step593=_iterator593.n()).done){_context93.next=25;break;}_s409=_step593.value;_l217=bi(_s409).filter(function(t){return t!==ri;});_h163=getComputedStyle(_s409);_a133=mp.fromString(_h163.fontFamily).items[0];_r79=parseFloat(_h163.getPropertyValue("font-size"));_d63=Op(_h163.getPropertyValue("font-weight"));_c54=_h163.getPropertyValue("font-style");_p45=_h163.getPropertyValue("text-decoration");_context93.next=16;return _this360.Qd(_l217,_a133,_r79,_d63,_c54,_p45);case 16:_u37=_context93.sent;_x110=[];if(_u37){_context93.next=21;break;}o=null;return _context93.abrupt("break",25);case 21:for(_t951=0;_t951<_u37.length;_t951+=1){_n302=_u37[_t951];if(_n302.length>0){_o242=_s409.getStartPositionOfChar(_t951),_l218=_s409.getRotationOfChar(_t951),_h164=new DOMMatrix();_h164.translateSelf(_o242.x,_o242.y),_h164.rotateSelf(_l218);_a134=Di("svg:path");_a134.setPathData(_n302),_a134.setAttribute("transform",_h164.toString()),uh(_a134,{geometryPrecision:e,transformPrecision:i,preserveRotation:!1}),_x110.push(_a134);}}if(_x110.length>0){_e729=_x110[0],_i703=_x110.slice(1),_l219=_e729.getAttribute("d");_iterator594=_createForOfIteratorHelper(_i703);try{for(_iterator594.s();!(_step594=_iterator594.n()).done;){_t952=_step594.value;_l219+=_t952.getAttribute("d");}}catch(err){_iterator594.e(err);}finally{_iterator594.f();}_h165=Di("svg:path");_h165.setAttribute("d",_l219),_h165.setAttribute("transform",n.toString());_iterator595=_createForOfIteratorHelper(t.style);try{for(_iterator595.s();!(_step595=_iterator595.n()).done;){_e730=_step595.value;!1===A.includes(_e730)&&_h165.style.setProperty(_e730,t.style.getPropertyValue(_e730));}}catch(err){_iterator595.e(err);}finally{_iterator595.f();}_iterator596=_createForOfIteratorHelper(_s409.style);try{for(_iterator596.s();!(_step596=_iterator596.n()).done;){_t953=_step596.value;!1===A.includes(_t953)&&_h165.style.setProperty(_t953,_s409.style.getPropertyValue(_t953));}}catch(err){_iterator596.e(err);}finally{_iterator596.f();}o.append(_h165);}case 23:_context93.next=5;break;case 25:_context93.next=30;break;case 27:_context93.prev=27;_context93.t0=_context93["catch"](3);_iterator593.e(_context93.t0);case 30:_context93.prev=30;_iterator593.f();return _context93.finish(30);case 33:if(o){_e728=_toConsumableArray(o.children);t.replaceWith(o),s(_e728);}else s(null);case 34:case"end":return _context93.stop();}}},_callee92,null,[[3,27,30,33]]);}));return function(_x109){return _ref102.apply(this,arguments);};}());}},{key:"canReplaceTextWithPaths",value:function canReplaceTextWithPaths(t){var e=!0,i=this.getFamilies(),s=[];var _iterator597=_createForOfIteratorHelper(xi(t)),_step597;try{for(_iterator597.s();!(_step597=_iterator597.n()).done;){var _e731=_step597.value;s.includes(_e731.parentElement)||s.push(_e731.parentElement);}}catch(err){_iterator597.e(err);}finally{_iterator597.f();}for(var _i704=0,_s410=s;_i704<_s410.length;_i704++){var _t954=_s410[_i704];var _s411=getComputedStyle(_t954),_n303=mp.fromString(_s411.fontFamily).items[0];if(!1===i.includes(_n303)){e=!1;break;}}return e;}},{key:"Qd",value:function Qd(t,e,i,s,n,o){var _this361=this;return new Promise(/*#__PURE__*/function(){var _ref103=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee93(l){var h,_e732,_a135,_e733,_r80,_iterator598,_step598,_s412,_t955,_n304,_l220;return regeneratorRuntime.wrap(function _callee93$(_context94){while(1){switch(_context94.prev=_context94.next){case 0:h=_this361.getMatchedFont(e,s,n);if(!h){_context94.next=9;break;}_e732=vp.fromString(h.src);_context94.next=5;return Sp(_e732.items[0].url.value);case 5:_a135=_context94.sent;if(null===_a135)l(null);else{_e733=[],_r80=("700"===s&&h.weight,("italic"===n||"oblique"===n)&&"italic"!==h.style);_iterator598=_createForOfIteratorHelper(t);try{for(_iterator598.s();!(_step598=_iterator598.n()).done;){_s412=_step598.value;_t955=_a135.charToGlyph(_s412),_n304=_p(_t955,_a135,i,o,0,_r80).toPathData(),_l220=et(_n304);_l220=it(_l220),_l220=st(_l220),_e733.push(_l220);}}catch(err){_iterator598.e(err);}finally{_iterator598.f();}l(_e733);}_context94.next=10;break;case 9:l(null);case 10:case"end":return _context94.stop();}}},_callee93);}));return function(_x111){return _ref103.apply(this,arguments);};}());}},{key:"Kd",value:function Kd(t){var e="@font-face { ";return e+="font-family: \"".concat(t.family,"\"; "),e+="font-style: ".concat(t.style,"; "),e+="font-weight: ".concat(t.weight,"; "),e+="font-stretch: ".concat(t.stretch,"; "),e+="font-unicode-range: ".concat(t.unicodeRange,"; "),e+="font-variant: ".concat(t.variant,"; "),e+="font-feature-settings: ".concat(t.featureSettings,"; "),e+="src: ".concat(t.src,"; "),e+="}",e;}}]);return Ip;}();var Lp=Math.abs;var Bp=/*#__PURE__*/function(_cp2){_inherits(Bp,_cp2);var _super63=_createSuper(Bp);function Bp(t){var _this362;_classCallCheck(this,Bp);_this362=_super63.call(this),_this362.Pn=t,_this362.Jd=[];return _this362;}_createClass(Bp,[{key:"snapStart",value:function snapStart(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.Pn;if(this.Jd=[],e.showGrid){var _t956=Vt(e.vectorCanvas),_i705=e.currentWorkspace.querySelector(":scope > defs > bx-grid"),_s413=0,_n305=0,_o243=100,_l221=100;_i705&&(_s413=parseFloat(_i705.getAttribute("x")),_n305=parseFloat(_i705.getAttribute("y")),_o243=parseFloat(_i705.getAttribute("width")),_l221=parseFloat(_i705.getAttribute("height")));var _h166=e.getBoundingClientRect(),_a136=Fe(new DOMRect(_s413,_n305,_o243,_l221),_t956);_s413=_a136.x,_n305=_a136.y,_o243=_a136.width,_l221=_a136.height;var _r81=_h166.x,_d64=_h166.x+_h166.width,_c55=_h166.y,_p46=_h166.y+_h166.height,_u38=[],_x112=[];for(var _t957=_s413;_t957<=_d64;_t957+=_o243){_t957>=_r81&&_u38.push(_t957);}for(var _t958=_s413-_o243;_t958>=_r81;_t958-=_o243){_t958<=_d64&&_u38.push(_t958);}for(var _t959=_n305;_t959<=_p46;_t959+=_l221){_t959>=_c55&&_x112.push(_t959);}for(var _t960=_n305-_l221;_t960>=_c55;_t960-=_l221){_t960<=_p46&&_x112.push(_t960);}for(var _i706=0,_u39=_u38;_i706<_u39.length;_i706++){var _t961=_u39[_i706];this.Jd.push({type:"grid",orientation:"vertical",snapping:!1,x:_t961,grid:_i705});}for(var _i707=0,_x113=_x112;_i707<_x113.length;_i707++){var _t962=_x113[_i707];this.Jd.push({type:"grid",orientation:"horizontal",snapping:!1,y:_t962,grid:_i705});}}if(e.showManualGuides){var _t963=Vt(e.vectorCanvas),_i708=e.currentWorkspace.querySelectorAll("bx-guide");var _iterator599=_createForOfIteratorHelper(_i708),_step599;try{for(_iterator599.s();!(_step599=_iterator599.n()).done;){var _e734=_step599.value;var _i709=parseFloat(_e734.getAttribute("angle")),_s414=parseFloat(_e734.getAttribute("x")),_n306=parseFloat(_e734.getAttribute("y")),_o244=new DOMPoint(_s414,_n306).matrixTransform(_t963);0===_i709?this.Jd.push({type:"manual",orientation:"vertical",snapping:!1,x:_o244.x,guide:_e734}):90===_i709?this.Jd.push({type:"manual",orientation:"horizontal",snapping:!1,y:_o244.y,guide:_e734}):this.Jd.push({type:"manual",orientation:"angular",snapping:!1,x:_o244.x,y:_o244.y,guide:_e734});}}catch(err){_iterator599.e(err);}finally{_iterator599.f();}}if(e.showSmartGuides){var _i710=Vt(e.vectorCanvas),_s415=e.outermostSelectedElements,_n307=[];if(_s415.length>0){var _iterator600=_createForOfIteratorHelper(_s415[0].parentElement.children),_step600;try{for(_iterator600.s();!(_step600=_iterator600.n()).done;){var _i711=_step600.value;e.isSelectableElement(_i711)&&(!1!==t&&!1!==_s415.includes(_i711)||_n307.push(_i711));}}catch(err){_iterator600.e(err);}finally{_iterator600.f();}}else{var _iterator601=_createForOfIteratorHelper(e.currentWorkspace.children),_step601;try{for(_iterator601.s();!(_step601=_iterator601.n()).done;){var _t964=_step601.value;e.isSelectableElement(_t964)&&_n307.push(_t964);}}catch(err){_iterator601.e(err);}finally{_iterator601.f();}}var _o245=_n307.map(function(t){return Ci(t);});if(e.currentWorkspace.hasAttribute("viewBox")){var _t965=Lt.fromString(e.currentWorkspace.getAttribute("viewBox")).toRect();_t965=Fe(_t965,_i710),_o245.push(_t965);}{var _t966=e.currentWorkspace.querySelectorAll(":scope > view, :scope > defs > view");var _iterator602=_createForOfIteratorHelper(_t966),_step602;try{for(_iterator602.s();!(_step602=_iterator602.n()).done;){var _e735=_step602.value;var _t967=Lt.fromString(_e735.getAttribute("viewBox")).toRect();_t967=Fe(_t967,_i710),_o245.push(_t967);}}catch(err){_iterator602.e(err);}finally{_iterator602.f();}}{var _t968=e.getBoundingClientRect();_o245=_o245.filter(function(e){return je(_t968,e);});}var _iterator603=_createForOfIteratorHelper(_o245),_step603;try{for(_iterator603.s();!(_step603=_iterator603.n()).done;){var _t969=_step603.value;this.Jd.push({type:"smart",orientation:"vertical",snapping:!1,x:_t969.x,snappingBBox:_t969,snappedBBox:null,side:"left"}),this.Jd.push({type:"smart",orientation:"vertical",snapping:!1,x:_t969.x+_t969.width,snappingBBox:_t969,side:"right"}),this.Jd.push({type:"smart",orientation:"horizontal",snapping:!1,y:_t969.y,snappingBBox:_t969,snappedBBox:null,side:"top"}),this.Jd.push({type:"smart",orientation:"horizontal",snapping:!1,y:_t969.y+_t969.height,snappingBBox:_t969,snappedBBox:null,side:"bottom"});}}catch(err){_iterator603.e(err);}finally{_iterator603.f();}}this.dispatchEvent(new CustomEvent("snapperschange"));}},{key:"snapEnd",value:function snapEnd(){this.Jd.length>0&&(this.Jd=[],this.dispatchEvent(new CustomEvent("snapperschange")));}},{key:"snapBBox",value:function snapBBox(t){var e=new DOMRect(t.x,t.y,t.width,t.height);if(this.Jd.length>0){var _i712=Infinity,_s416=Infinity,_n308=null,_o246=null,_l222=null,_h167=null,_a137=[new DOMPoint(t.x,t.y),new DOMPoint(t.x+t.width,t.y),new DOMPoint(t.x+t.width,t.y+t.height),new DOMPoint(t.x,t.y+t.height)];for(var _i713=0,_a138=_a137;_i713<_a138.length;_i713++){var _t970=_a138[_i713];var _iterator604=_createForOfIteratorHelper(this.Jd),_step604;try{for(_iterator604.s();!(_step604=_iterator604.n()).done;){var _e736=_step604.value;if("vertical"===_e736.orientation){var _s417=Lp(_t970.x-_e736.x);_s417<_i712&&(_i712=_s417,_n308=_e736,_l222=_e736.x-_t970.x);}else if("horizontal"===_e736.orientation){var _i714=Lp(_t970.y-_e736.y);_i714<_s416&&(_s416=_i714,_o246=_e736,_h167=_e736.y-_t970.y);}}}catch(err){_iterator604.e(err);}finally{_iterator604.f();}}var _iterator605=_createForOfIteratorHelper(this.Jd),_step605;try{for(_iterator605.s();!(_step605=_iterator605.n()).done;){var _t971=_step605.value;_t971.snapping=!1,_t971.snappedBBox=null,_t971.snappedPoint=null;}}catch(err){_iterator605.e(err);}finally{_iterator605.f();}_i712<10&&(e.x+=_l222,_n308.snapping=!0,_n308.snappedBBox=e),_s416<10&&(e.y+=_h167,_o246.snapping=!0,_o246.snappedBBox=e),this.dispatchEvent(new CustomEvent("snapperschange"));}return e;}},{key:"snapPoint",value:function snapPoint(t){var e=new DOMPoint(t.x,t.y);if(this.Jd.length>0){var _i715=Infinity,_s418=Infinity,_n309=null,_o247=null,_l223=null,_h168=null;var _iterator606=_createForOfIteratorHelper(this.Jd),_step606;try{for(_iterator606.s();!(_step606=_iterator606.n()).done;){var _e737=_step606.value;if("vertical"===_e737.orientation){var _s419=Lp(t.x-_e737.x);_s419<_i715&&(_i715=_s419,_n309=_e737,_l223=_e737.x-t.x);}else if("horizontal"===_e737.orientation){var _i716=Lp(t.y-_e737.y);_i716<_s418&&(_s418=_i716,_o247=_e737,_h168=_e737.y-t.y);}}}catch(err){_iterator606.e(err);}finally{_iterator606.f();}var _iterator607=_createForOfIteratorHelper(this.Jd),_step607;try{for(_iterator607.s();!(_step607=_iterator607.n()).done;){var _t972=_step607.value;_t972.snapping=!1,_t972.snappedBBox=null,_t972.snappedPoint=null;}}catch(err){_iterator607.e(err);}finally{_iterator607.f();}_i715<10&&(e.x+=_l223,_n309.snapping=!0,_n309.snappedPoint=e),_s418<10&&(e.y+=_h168,_o247.snapping=!0,_o247.snappedPoint=e),this.dispatchEvent(new CustomEvent("snapperschange"));}return e;}},{key:"snapPointToAngleMultiple",value:function snapPointToAngleMultiple(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:22.5;var _Te27=Te(t,e,i),_Te28=_slicedToArray(_Te27,1),s=_Te28[0];if(this.Jd.length>0){var _e738=null,_i717=null,_n310=Infinity;var _iterator608=_createForOfIteratorHelper(this.Jd),_step608;try{for(_iterator608.s();!(_step608=_iterator608.n()).done;){var _o248=_step608.value;var _l224=void 0,_h169=void 0;"vertical"===_o248.orientation?(_l224=new DOMPoint(_o248.x,0),_h169=new DOMPoint(_o248.x,100)):(_l224=new DOMPoint(0,_o248.y),_h169=new DOMPoint(100,_o248.y));var _a139=Ze(t,s,_l224,_h169);if(_a139){var _t975=Pe(s,_a139);_t975<_n310&&(_e738=_o248,_i717=_a139,_n310=_t975);}}}catch(err){_iterator608.e(err);}finally{_iterator608.f();}if(_n310<5){s=_i717;var _iterator609=_createForOfIteratorHelper(this.Jd),_step609;try{for(_iterator609.s();!(_step609=_iterator609.n()).done;){var _t973=_step609.value;_t973.snapping=_t973===_e738,_t973.snappedBBox=null,_t973.snappedPoint=_t973===_e738?s:null;}}catch(err){_iterator609.e(err);}finally{_iterator609.f();}}else{var _iterator610=_createForOfIteratorHelper(this.Jd),_step610;try{for(_iterator610.s();!(_step610=_iterator610.n()).done;){var _t974=_step610.value;_t974.snapping=!1,_t974.snappedBBox=null,_t974.snappedPoint=null;}}catch(err){_iterator610.e(err);}finally{_iterator610.f();}}this.dispatchEvent(new CustomEvent("snapperschange"));}return s;}},{key:"isGuideSnapping",value:function isGuideSnapping(t){var _iterator611=_createForOfIteratorHelper(this.Jd),_step611;try{for(_iterator611.s();!(_step611=_iterator611.n()).done;){var _e739=_step611.value;if(_e739.guide===t)return _e739.snapping;}}catch(err){_iterator611.e(err);}finally{_iterator611.f();}return!1;}},{key:"isGridSnapping",value:function isGridSnapping(t){}},{key:"snappers",get:function get(){return _toConsumableArray(this.Jd);}}]);return Bp;}(cp);var Rp={colors:"unpinned",gradients:"unpinned",patterns:"unpinned",markers:"unpinned",symbols:"none",filters:"unpinned",fonts:"unpinned",clipPaths:"unpinned",masks:"unpinned"};var Gp=/*#__PURE__*/function(){function Gp(t){_classCallCheck(this,Gp);this.Fd=t;}_createClass(Gp,[{key:"collect",value:function collect(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Rp;for(var _i718=0,_Object$entries3=Object.entries(Rp);_i718<_Object$entries3.length;_i718++){var _Object$entries3$_i=_slicedToArray(_Object$entries3[_i718],2),_e740=_Object$entries3$_i[0],_i719=_Object$entries3$_i[1];void 0===t[_e740]&&(t[_e740]=_i719);}var e=this.tc(),i={gradients:[],patterns:[],markers:[],symbols:[],filters:[],fonts:[],clipPaths:[],masks:[]};if("all"===t.colors||"unpinned"===t.colors){var _s420=_toConsumableArray(this.Fd.querySelectorAll("linearGradient, radialGradient"));_s420=_s420.filter(function(t){return!0===So(t);});var _iterator612=_createForOfIteratorHelper(_s420),_step612;try{for(_iterator612.s();!(_step612=_iterator612.n()).done;){var _n311=_step612.value;var _o249=e.paintServers.has(_n311.id),_l225="unpinned"===t.colors&&_n311.hasAttribute("data-bx-pinned");if(!1===_o249&&!1===_l225){var _h170=this.ec(_n311,_s420);var _iterator613=_createForOfIteratorHelper(_h170),_step613;try{for(_iterator613.s();!(_step613=_iterator613.n()).done;){var _i720=_step613.value;if(_o249=e.paintServers.has(_i720.id),_l225="unpinned"===t.colors&&_i720.hasAttribute("data-bx-pinned"),_o249||_l225)break;}}catch(err){_iterator613.e(err);}finally{_iterator613.f();}!1===_o249&&!1===_l225&&(i.gradients.push(_n311),_n311.remove());}}}catch(err){_iterator612.e(err);}finally{_iterator612.f();}}if("all"===t.gradients||"unpinned"===t.gradients){var _s421=_toConsumableArray(this.Fd.querySelectorAll("linearGradient, radialGradient"));_s421=_s421.filter(function(t){return!1===So(t);});var _iterator614=_createForOfIteratorHelper(_s421),_step614;try{for(_iterator614.s();!(_step614=_iterator614.n()).done;){var _n312=_step614.value;var _o250=e.paintServers.has(_n312.id),_l226="unpinned"===t.gradients&&_n312.hasAttribute("data-bx-pinned");if(!1===_o250&&!1===_l226){var _h171=this.ec(_n312,_s421);var _iterator615=_createForOfIteratorHelper(_h171),_step615;try{for(_iterator615.s();!(_step615=_iterator615.n()).done;){var _i721=_step615.value;if(_o250=e.paintServers.has(_i721.id),_l226="unpinned"===t.gradients&&_i721.hasAttribute("data-bx-pinned"),_o250||_l226)break;}}catch(err){_iterator615.e(err);}finally{_iterator615.f();}!1===_o250&&!1===_l226&&(i.gradients.push(_n312),_n312.remove());}}}catch(err){_iterator614.e(err);}finally{_iterator614.f();}}if("all"===t.patterns||"unpinned"===t.patterns){var _s422=_toConsumableArray(this.Fd.querySelectorAll("pattern"));var _iterator616=_createForOfIteratorHelper(_s422),_step616;try{for(_iterator616.s();!(_step616=_iterator616.n()).done;){var _n313=_step616.value;var _o251=e.paintServers.has(_n313.id),_l227="unpinned"===t.patterns&&_n313.hasAttribute("data-bx-pinned");if(!1===_o251&&!1===_l227){var _h172=this.ic(_n313,_s422);var _iterator617=_createForOfIteratorHelper(_h172),_step617;try{for(_iterator617.s();!(_step617=_iterator617.n()).done;){var _i722=_step617.value;if(_o251=e.paintServers.has(_i722.id),_l227="unpinned"===t.patterns&&_i722.hasAttribute("data-bx-pinned"),_o251||_l227)break;}}catch(err){_iterator617.e(err);}finally{_iterator617.f();}!1===_o251&&!1===_l227&&(i.patterns.push(_n313),_n313.remove());}}}catch(err){_iterator616.e(err);}finally{_iterator616.f();}}if("all"===t.markers||"unpinned"===t.markers){var _s423=_toConsumableArray(this.Fd.querySelectorAll("marker"));var _iterator618=_createForOfIteratorHelper(_s423),_step618;try{for(_iterator618.s();!(_step618=_iterator618.n()).done;){var _n314=_step618.value;var _s424=e.markers.has(_n314.id),_o252="unpinned"===t.markers&&_n314.hasAttribute("data-bx-pinned");!1===_s424&&!1===_o252&&(i.markers.push(_n314),_n314.remove());}}catch(err){_iterator618.e(err);}finally{_iterator618.f();}}if("all"===t.filters||"unpinned"===t.filters){var _s425=this.Fd.querySelectorAll("filter");var _iterator619=_createForOfIteratorHelper(_s425),_step619;try{for(_iterator619.s();!(_step619=_iterator619.n()).done;){var _n315=_step619.value;var _s426=e.filters.has(_n315.id),_o253="unpinned"===t.filters&&_n315.hasAttribute("data-bx-pinned");!1===_s426&&!1===_o253&&(i.filters.push(_n315),_n315.remove());}}catch(err){_iterator619.e(err);}finally{_iterator619.f();}}if("all"===t.clipPaths||"unpinned"===t.clipPaths){var _s427=this.Fd.querySelectorAll("clipPath, clippath");var _iterator620=_createForOfIteratorHelper(_s427),_step620;try{for(_iterator620.s();!(_step620=_iterator620.n()).done;){var _n316=_step620.value;var _s428=e.clipPaths.has(_n316.id),_o254="unpinned"===t.clipPaths&&_n316.hasAttribute("data-bx-pinned");!1===_s428&&!1===_o254&&(i.clipPaths.push(_n316),_n316.remove());}}catch(err){_iterator620.e(err);}finally{_iterator620.f();}}if("all"===t.masks||"unpinned"===t.masks){var _s429=this.Fd.querySelectorAll("mask");var _iterator621=_createForOfIteratorHelper(_s429),_step621;try{for(_iterator621.s();!(_step621=_iterator621.n()).done;){var _n317=_step621.value;var _s430=e.masks.has(_n317.id),_o255="unpinned"===t.masks&&_n317.hasAttribute("data-bx-pinned");!1===_s430&&!1===_o255&&(i.masks.push(_n317),_n317.remove());}}catch(err){_iterator621.e(err);}finally{_iterator621.f();}}if("all"===t.symbols||"unpinned"===t.symbols){var _s431=this.Fd.querySelectorAll("symbol");var _iterator622=_createForOfIteratorHelper(_s431),_step622;try{for(_iterator622.s();!(_step622=_iterator622.n()).done;){var _n318=_step622.value;var _s432=e.symbols.has(_n318.id),_o256="unpinned"===t.symbols&&_n318.hasAttribute("data-bx-pinned");!1===_s432&&!1===_o256&&(i.symbols.push(_n318),_n318.remove());}}catch(err){_iterator622.e(err);}finally{_iterator622.f();}}if("all"===t.fonts||"unpinned"===t.fonts){var _e741=this.sc(),_s433=_toConsumableArray(this.Fd.querySelectorAll("style[data-bx-fonts]"));var _iterator623=_createForOfIteratorHelper(_s433),_step623;try{for(_iterator623.s();!(_step623=_iterator623.n()).done;){var _n319=_step623.value;var _s434=_n319.getAttribute("data-bx-fonts"),_o257=_e741.has(_s434),_l228="unpinned"===t.fonts&&_n319.hasAttribute("data-bx-pinned");!1===_o257&&!1===_l228&&(i.fonts.push(_s434),_n319.remove());}}catch(err){_iterator623.e(err);}finally{_iterator623.f();}}(i.gradients.length>0||i.patterns.length>0||i.markers.length>0||i.filters.length>0||i.clipPaths.length>0||i.masks.length>0||i.symbols.length>0||i.fonts.length>0)&&this.collect(t);}},{key:"tc",value:function tc(){var t=document.createNodeIterator(this.Fd,NodeFilter.SHOW_ELEMENT),e=null,i={paintServers:new Set(),markers:new Set(),filters:new Set(),clipPaths:new Set(),masks:new Set(),symbols:new Set(),fontFamilies:new Set()};for(;e=t.nextNode();){var _t976=getComputedStyle(e);if(w.includes(e.localName)){var _e742=_t976.fill,_s435=_t976.stroke;if(_e742&&_e742.startsWith("url(")){var _t977=_e742.substring(6,_e742.length-2);i.paintServers.add(_t977);}if(_s435&&_s435.startsWith("url(")){var _t978=_s435.substring(6,_s435.length-2);i.paintServers.add(_t978);}}if(z.includes(e.localName)){var _e743=_t976.markerStart,_s436=_t976.markerMid,_n320=_t976.markerEnd;if(_e743&&_e743.startsWith("url(")){var _t979=_e743.substring(6,_e743.length-2);i.markers.add(_t979);}if(_s436&&_s436.startsWith("url(")){var _t980=_s436.substring(6,_s436.length-2);i.markers.add(_t980);}if(_n320&&_n320.startsWith("url(")){var _t981=_n320.substring(6,_n320.length-2);i.markers.add(_t981);}}if(D.includes(e.localName)){var _e744=_t976.filter;if(_e744&&_e744.startsWith("url(")){var _t982=_e744.substring(6,_e744.length-2);i.filters.add(_t982);}}if(_.includes(e.localName)){var _e745=_t976.clipPath;if(_e745&&_e745.startsWith("url(")){var _t983=_e745.substring(6,_e745.length-2);i.clipPaths.add(_t983);}}if(M.includes(e.localName)){var _e746=_t976.mask;if(_e746&&_e746.startsWith("url(")){var _t984=_e746.substring(6,_e746.length-2);i.masks.add(_t984);}}if("use"===e.localName&&"#"===e.href.baseVal[0]){var _t985=e.href.baseVal.substring(1);i.symbols.add(_t985);}if(b.includes(e.localName)||"a"===e.localName){var _e747=_t976.fontFamily;_e747&&i.fontFamilies.add(_e747);}}return i;}},{key:"sc",value:function sc(){var t,e=new Set(),i=document.createNodeIterator(this.Fd,NodeFilter.SHOW_ELEMENT);for(;t=i.nextNode();){if(""!==t.style.fontFamily){var _i723=mp.fromString(t.style.fontFamily);if(_i723){var _iterator624=_createForOfIteratorHelper(_i723.items),_step624;try{for(_iterator624.s();!(_step624=_iterator624.n()).done;){var _t986=_step624.value;e.add(_t986);}}catch(err){_iterator624.e(err);}finally{_iterator624.f();}}}}var _iterator625=_createForOfIteratorHelper(this.Fd.querySelectorAll("style")),_step625;try{for(_iterator625.s();!(_step625=_iterator625.n()).done;){var _t987=_step625.value;var _iterator626=_createForOfIteratorHelper(_t987.sheet.rules),_step626;try{for(_iterator626.s();!(_step626=_iterator626.n()).done;){var _i724=_step626.value;if(_i724.type===CSSStyleRule.STYLE_RULE&&""!==_i724.style.fontFamily){var _t988=mp.fromString(_i724.style.fontFamily);var _iterator627=_createForOfIteratorHelper(_t988.items),_step627;try{for(_iterator627.s();!(_step627=_iterator627.n()).done;){var _i725=_step627.value;e.add(_i725);}}catch(err){_iterator627.e(err);}finally{_iterator627.f();}}}}catch(err){_iterator626.e(err);}finally{_iterator626.f();}}}catch(err){_iterator625.e(err);}finally{_iterator625.f();}return e;}},{key:"ec",value:function ec(t,e){var i=[],s=t;for(;;){var _t989=e.find(function(t){return t.href.baseVal==="#"+s.id;});if(!_t989||!1!==i.includes(_t989))break;i.push(_t989),s=_t989;}return i;}},{key:"ic",value:function ic(t,e){var i=[],s=t;for(;;){var _t990=e.find(function(t){return t.href.baseVal==="#"+s.id;});if(!_t990||!1!==i.includes(_t990))break;i.push(_t990),s=_t990;}return i;}}]);return Gp;}();var _window7=window,Fp=_window7.tokenize,Up=_window7.EOFToken;var Np=/*#__PURE__*/function(){_createClass(Np,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t;}},{key:"type",get:function get(){return"<number>";}}]);function Np(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;_classCallCheck(this,Np);this._t=t;}_createClass(Np,[{key:"toString",value:function toString(){return""+this.value;}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(Fp(t)),[new Up()]),s=new Pt(i),n=null;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"NUMBER"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected NUMBER token.","SyntaxError");return null;}if(n=s.currentToken.value,s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new Np(n);if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}}]);return Np;}();var _window8=window,Vp=_window8.tokenize,jp=_window8.EOFToken;var Hp=/*#__PURE__*/function(){_createClass(Hp,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t;}},{key:"type",get:function get(){return"<percentage>";}}]);function Hp(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;_classCallCheck(this,Hp);this._t=t;}_createClass(Hp,[{key:"toString",value:function toString(){return this.value+"%";}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(Vp(t)),[new jp()]),s=new Pt(i),n=null;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"PERCENTAGE"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected PERCENTAGE token.","SyntaxError");return null;}if(n=s.currentToken.value,s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new Hp(n);if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}}]);return Hp;}();var Yp=function Yp(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"xml";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:2;t=t.cloneNode(!0);var s,n=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT);for(;s=n.nextNode();){if(s.nodeType==Node.ELEMENT_NODE)if("defs"===s.localName)0===s.children.length&&s.remove();else if("style"===s.localName)""===s.textContent.replace(/\s+/g," ").trim()?s.remove():s.matches('[data-bx-fonts="google"]')&&s.removeAttribute("data-bx-fonts");else if("xml"===e&&"path"===s.localName){var _t991=s.getAttribute("d");_t991&&/[\t\n\r]/.test(_t991)&&s.setAttribute("d",_t991.replace(/[\t\n\r ]+/g," "));}}return Xp(t,e),ua(t,i),Wp(t,e);},Wp=function Wp(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"xml";var i;if("xml"===e){i='<?xml version="1.0" encoding="utf-8"?>\n'+new XMLSerializer().serializeToString(t);}else if("html"===e){i="<!doctype html>\n"+t.outerHTML,i=ii(i,' xmlns:xlink="http://www.w3.org/1999/xlink"',"");}return i=ii(i,"url(&quot;","url("),i=ii(i,"&quot;)",")"),i;},qp=function qp(t){return new Promise(/*#__PURE__*/function(){var _ref104=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee94(e){var _i726,s,n,o;return regeneratorRuntime.wrap(function _callee94$(_context95){while(1){switch(_context95.prev=_context95.next){case 0:n=new Blob([t],{type:"image/svg+xml"}),o=new FileReader();o.readAsDataURL(n),o.addEventListener("load",_i726=function i(t){o.removeEventListener("load",_i726),o.removeEventListener("error",s);var n=t.target.result;e(n);}),o.addEventListener("error",s=function(_s437){function s(_x115){return _s437.apply(this,arguments);}s.toString=function(){return _s437.toString();};return s;}(function(t){o.removeEventListener("load",_i726),o.removeEventListener("error",s),e(null);}));case 2:case"end":return _context95.stop();}}},_callee94);}));return function(_x114){return _ref104.apply(this,arguments);};}());},Xp=function Xp(t,e){if("xml"===e){var _e748,_i727=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT),_s438=!1,_n321=!1;for(;_e748=_i727.nextNode();){if("bx-title"!==_e748.localName){if(_e748.localName.startsWith("bx-")){var _t992=document.createElementNS(l.bx,"bx:"+_e748.localName.substring(3));for(var _i728=0,_arr28=_toConsumableArray(_e748.attributes);_i728<_arr28.length;_i728++){var _i729=_arr28[_i728];_t992.setAttribute(_i729.name,_i729.value);}for(var _i730=0,_arr29=_toConsumableArray(_e748.childNodes);_i730<_arr29.length;_i730++){var _i731=_arr29[_i730];_t992.append(_i731);}_e748.replaceWith(_t992),_n321=!0;}else for(var _i732=0,_arr30=_toConsumableArray(_e748.attributes);_i732<_arr30.length;_i732++){var _arr30$_i=_arr30[_i732],_t993=_arr30$_i.name,_i733=_arr30$_i.value;if("href"===_t993||"_href"===_t993)_e748.setAttribute("xlink:href",_i733),_e748.removeAttribute(_t993),_s438=!0;else if(_t993.startsWith("data-bx-")){var _s439=_t993.substring(8);_e748.setAttributeNS(l.bx,"bx:".concat(_s439),_i733),_e748.removeAttribute(_t993),_n321=!0;}}}else{var _t994=Di("svg:title");_t994.innerHTML=_e748.innerHTML;var _iterator628=_createForOfIteratorHelper(_e748.attributes),_step628;try{for(_iterator628.s();!(_step628=_iterator628.n()).done;){var _step628$value=_step628.value,_i734=_step628$value.name,_s440=_step628$value.value;_t994.setAttribute(_i734,_s440);}}catch(err){_iterator628.e(err);}finally{_iterator628.f();}_e748.replaceWith(_t994);}}t.removeAttribute("xmlns"),t.removeAttribute("xmlns:bx"),t.removeAttribute("xmlns:xlink"),t.setAttributeNS(l.xmlns,"xmlns",l.svg),_s438&&t.setAttributeNS(l.xmlns,"xmlns:xlink",l.xlink),_n321&&t.setAttributeNS(l.xmlns,"xmlns:bx",l.bx);}else if("html"===e){var _e749,_i735=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT);for(;_e749=_i735.nextNode();){if("bx-title"!==_e749.localName)for(var _i736=0,_arr31=_toConsumableArray(_e749.attributes);_i736<_arr31.length;_i736++){var _arr31$_i=_arr31[_i736],_t995=_arr31$_i.name,_i737=_arr31$_i.value;"href"!==_t995&&"_href"!==_t995||(_e749.setAttribute("xlink:href",_i737),_e749.removeAttribute(_t995));}else{var _t996=Di("svg:title");_t996.innerHTML=_e749.innerHTML;var _iterator629=_createForOfIteratorHelper(_e749.attributes),_step629;try{for(_iterator629.s();!(_step629=_iterator629.n()).done;){var _step629$value=_step629.value,_i738=_step629$value.name,_s441=_step629$value.value;_t996.setAttribute(_i738,_s441);}}catch(err){_iterator629.e(err);}finally{_iterator629.f();}_e749.replaceWith(_t996);}}}},Zp=function Zp(t){return null!==new DOMParser().parseFromString(t,"text/html").querySelector("svg");},Kp=function Kp(t,e){var i=document.createElement("div");i.setAttribute("style","width: 1px; height: 1px; position: fixed; top: -1px; left: -1px; overflow: hidden;"),i.attachShadow({mode:"open"}),i.shadowRoot.append(t),i.shadowRoot.append(e),document.body.append(i);var _iterator630=_createForOfIteratorHelper(t.querySelectorAll("use")),_step630;try{for(_iterator630.s();!(_step630=_iterator630.n()).done;){var _i752=_step630.value;if(""!==_i752.href.baseVal){var _s453=t.querySelector(_i752.href.baseVal),_n325=e.querySelector(_i752.href.baseVal);_s453&&_n325&&Ei(_s453,_n325)&&_s453.remove();}}}catch(err){_iterator630.e(err);}finally{_iterator630.f();}{var _i739=_toConsumableArray(t.querySelectorAll("linearGradient,radialGradient"));_i739=_i739.filter(function(t){return So(t);});var _s442=_toConsumableArray(e.querySelectorAll("linearGradient,radialGradient"));_s442=_s442.filter(function(t){return So(t);});var _iterator631=_createForOfIteratorHelper(_i739),_step631;try{var _loop17=function _loop17(){var t=_step631.value;var e=_s442.find(function(e){return e.id===t.id;});e&&!0===$o([t,e])&&t.remove();};for(_iterator631.s();!(_step631=_iterator631.n()).done;){_loop17();}}catch(err){_iterator631.e(err);}finally{_iterator631.f();}}{var _i740=_toConsumableArray(t.querySelectorAll("linearGradient,radialGradient"));_i740=_i740.filter(function(t){return Co(t);});var _s443=_toConsumableArray(e.querySelectorAll("linearGradient,radialGradient"));_s443=_s443.filter(function(t){return Co(t);});var _iterator632=_createForOfIteratorHelper(_i740),_step632;try{var _loop18=function _loop18(){var t=_step632.value;var e=_s443.find(function(e){return e.id===t.id;});e&&!0===$o([t,e])&&t.remove();};for(_iterator632.s();!(_step632=_iterator632.n()).done;){_loop18();}}catch(err){_iterator632.e(err);}finally{_iterator632.f();}}{var _i741=_toConsumableArray(t.querySelectorAll("pattern:not([href])")),_s444=_toConsumableArray(e.querySelectorAll("pattern:not([href])"));var _iterator633=_createForOfIteratorHelper(_i741),_step633;try{var _loop19=function _loop19(){var t=_step633.value;var e=_s444.find(function(e){return e.id===t.id;});e&&Ei(t,e)&&t.remove();};for(_iterator633.s();!(_step633=_iterator633.n()).done;){_loop19();}}catch(err){_iterator633.e(err);}finally{_iterator633.f();}}{var _i742=_toConsumableArray(t.querySelectorAll("marker")),_s445=_toConsumableArray(e.querySelectorAll("marker"));var _iterator634=_createForOfIteratorHelper(_i742),_step634;try{var _loop20=function _loop20(){var t=_step634.value;var e=_s445.find(function(e){return e.id===t.id;});e&&Ei(t,e)&&t.remove();};for(_iterator634.s();!(_step634=_iterator634.n()).done;){_loop20();}}catch(err){_iterator634.e(err);}finally{_iterator634.f();}}{var _i743=_toConsumableArray(t.querySelectorAll("filter"));_i743=_i743.filter(function(t){return!1===t.hasAttribute("data-bx-preset");});var _s446=_toConsumableArray(e.querySelectorAll("filter"));_s446=_s446.filter(function(t){return!1===t.hasAttribute("data-bx-preset");});var _iterator635=_createForOfIteratorHelper(_i743),_step635;try{var _loop21=function _loop21(){var t=_step635.value;var e=_s446.find(function(e){return e.id===t.id;});e&&Ei(t,e)&&t.remove();};for(_iterator635.s();!(_step635=_iterator635.n()).done;){_loop21();}}catch(err){_iterator635.e(err);}finally{_iterator635.f();}}{var _e750=_toConsumableArray(t.querySelectorAll("view"));var _iterator636=_createForOfIteratorHelper(_e750),_step636;try{for(_iterator636.s();!(_step636=_iterator636.n()).done;){var _t997=_step636.value;_t997.remove();}}catch(err){_iterator636.e(err);}finally{_iterator636.f();}}var _iterator637=_createForOfIteratorHelper(t.querySelectorAll("[data-bx-pinned]")),_step637;try{for(_iterator637.s();!(_step637=_iterator637.n()).done;){var _e758=_step637.value;_e758.removeAttribute("data-bx-pinned");}}catch(err){_iterator637.e(err);}finally{_iterator637.f();}{var _e751=_toConsumableArray(t.querySelectorAll("style")).filter(function(t){return!t.hasAttribute("data-bx-fonts");}),_i744=new Set();var _iterator638=_createForOfIteratorHelper(_e751),_step638;try{for(_iterator638.s();!(_step638=_iterator638.n()).done;){var _s448=_step638.value;var _iterator642=_createForOfIteratorHelper(_s448.sheet.rules),_step642;try{for(_iterator642.s();!(_step642=_iterator642.n()).done;){var _e752=_step642.value;if(_e752.type===CSSRule.STYLE_RULE){var _iterator643=_createForOfIteratorHelper(t.querySelectorAll(_e752.selectorText)),_step643;try{for(_iterator643.s();!(_step643=_iterator643.n()).done;){var _s449=_step643.value;_i744.add(_s449);}}catch(err){_iterator643.e(err);}finally{_iterator643.f();}}}}catch(err){_iterator642.e(err);}finally{_iterator642.f();}}}catch(err){_iterator638.e(err);}finally{_iterator638.f();}var _s447=Symbol();var _iterator639=_createForOfIteratorHelper(_i744),_step639;try{for(_iterator639.s();!(_step639=_iterator639.n()).done;){var _t998=_step639.value;_t998[_s447]=ma(_t998);}}catch(err){_iterator639.e(err);}finally{_iterator639.f();}var _iterator640=_createForOfIteratorHelper(_e751),_step640;try{for(_iterator640.s();!(_step640=_iterator640.n()).done;){var _t999=_step640.value;_t999.remove();}}catch(err){_iterator640.e(err);}finally{_iterator640.f();}var _iterator641=_createForOfIteratorHelper(_i744),_step641;try{for(_iterator641.s();!(_step641=_iterator641.n()).done;){var _t1000=_step641.value;var _e753=_t1000[_s447],_i745=ma(_t1000);for(var _i746=0,_Object$entries4=Object.entries(_e753);_i746<_Object$entries4.length;_i746++){var _Object$entries4$_i=_slicedToArray(_Object$entries4[_i746],2),_s450=_Object$entries4$_i[0],_n322=_Object$entries4$_i[1];_n322!==_i745[_s450]&&_t1000.style.setProperty(_s450,_n322);}}}catch(err){_iterator641.e(err);}finally{_iterator641.f();}t.remove();}{var _i747=_toConsumableArray(t.querySelectorAll("[id]")).map(function(t){return t.id;}),_s451=_toConsumableArray(e.querySelectorAll("[id]")).map(function(t){return t.id;});t.id&&_i747.push(t.id),e.id&&_s451.push(e.id);var _n323=_i747.filter(function(t){return _s451.includes(t);});_n323=Je(_n323);var _o258={},_l229={},_h173={};for(var _i748=0,_arr32=[].concat(_toConsumableArray(_i747),_toConsumableArray(_s451));_i748<_arr32.length;_i748++){var _t1001=_arr32[_i748];_h173[_t1001]=!0;}var _iterator644=_createForOfIteratorHelper(_n323),_step644;try{for(_iterator644.s();!(_step644=_iterator644.n()).done;){var _e757=_step644.value;var _i751=void 0,_s452=void 0,_n324=void 0;for(_i751=t.id===_e757?t:t.querySelector("#"+CSS.escape(_e757)),_s452="linearGradient"===_i751.localName||"radialGradient"===_i751.localName?_i751.href.baseVal.length>1?_i751.href.baseVal.substring(1):So(_i751)?"color":"gradient":"clipPath"===_i751.localName?"clip":_i751.localName,void 0===_o258[_s452]&&(_o258[_s452]=1);;){var _t1004=_s452+"-"+_o258[_s452];if(void 0===_h173[_t1004]){_n324=_t1004;break;}_o258[_s452]+=1;}_l229[_e757]=_n324,_h173[_n324]=!0;}}catch(err){_iterator644.e(err);}finally{_iterator644.f();}var _a140=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT),_r82=null;for(;_r82=_a140.nextNode();){if(void 0!==_l229[_r82.id]&&(_r82.id=_l229[_r82.id]),_r82.href&&"#"===_r82.href.baseVal[0]){var _t1002=_r82.href.baseVal.substring(1);void 0!==_l229[_t1002]&&_r82.setAttribute("href","#"+_l229[_t1002]);}var _iterator645=_createForOfIteratorHelper($),_step645;try{for(_iterator645.s();!(_step645=_iterator645.n()).done;){var _t1003=_step645.value;{var _e754=_r82.style.getPropertyValue(_t1003);if(_e754&&_e754.startsWith("url(")){var _i749=_e754.substring(6,_e754.length-2);void 0!==_l229[_i749]&&(_r82.style.removeProperty(_t1003),_r82.style.setProperty(_t1003,"url(#".concat(_l229[_i749],")")));}}{var _e755=_r82.getAttribute(_t1003);if(_e755&&_e755.includes("url(")){var _i750=so.fromString(_e755);if(_i750&&"#"===_i750.value[0]){var _e756=_i750.value.substring(1);void 0!==_l229[_e756]&&_r82.setAttribute(_t1003,"url(#".concat(_l229[_e756],")"));}}}}}catch(err){_iterator645.e(err);}finally{_iterator645.f();}}}i.remove();},Qp=function Qp(t){return new Promise(function(e){var i=new Image();i.src=t,i.onload=function(){var s=i.naturalWidth,n=i.naturalHeight;e("<?xml version=\"1.0\" encoding=\"utf-8\"?><svg xmlns=\"".concat(l.svg,"\" xmlns:xlink=\"").concat(l.xlink,"\" viewBox=\"0 0 ").concat(s," ").concat(n,"\">  <image width=\"").concat(s,"\" height=\"").concat(n,"\" xlink:href=\"").concat(t,"\"></image></svg>"));};});},Jp=function Jp(t){var e=document.createElementNS(l.svg,"g");for(var _i753=0,_Object$entries5=Object.entries(Object.getOwnPropertyDescriptors(t));_i753<_Object$entries5.length;_i753++){var _Object$entries5$_i=_slicedToArray(_Object$entries5[_i753],2),_s454=_Object$entries5$_i[0],_n326=_Object$entries5$_i[1];_n326.get||_n326.set?Object.defineProperty(e,_s454,_n326):_n326.value&&(i=_n326.value,e[_s454]=i instanceof Function?_n326.value.bind(e):_n326.value);}var i;return Object.defineProperty(e,"enabled",{get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t&&!1===this.enabled?(this.setAttribute("enabled",""),this.enabledCallback&&this.enabledCallback()):!1===t&&!0===this.enabled&&(this.removeAttribute("enabled"),this.disabledCallback&&this.disabledCallback());}}),e.createdCallback&&e.createdCallback(),e;},tu=Object.defineProperty,eu=Object.freeze,iu=.1,su=6e3,nu=450,ou=1.8,lu=20,hu=14,au={childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!1,characterDataOldValue:!1},ru=[Nc,zc,Tc,Cc,Br,Fr,Vr,Wr,Zr,sd,ld,rd,xd,vd,kd,Cd,Dd,Ad,Jd,xc,bc,wc,vc,yc,kc,Sc,np,rp,nc,rc,uc,dp,Uc,Vc,sp];var du=/*#__PURE__*/function(_HTMLElement58){_inherits(du,_HTMLElement58);var _super64=_createSuper(du);_createClass(du,[{key:"whenConnected",get:function get(){var _this364=this;return new Promise(function(t){_this364.isConnected?t():_this364.nc.push(t);});}},{key:"defs",get:function get(){return this.masterWorkspace.querySelector("defs");}},{key:"selectedElements",get:function get(){return _toConsumableArray(this.oc);},set:function set(t){this.oc=t,this.dispatchEvent(new CustomEvent("selectedelementschange"));}},{key:"selectedObjectElements",get:function get(){return this.selectedElements.filter(function(t){return g.includes(t.localName);});}},{key:"outermostSelectedElements",get:function get(){var t=this.selectedElements,e=[];var _iterator646=_createForOfIteratorHelper(t),_step646;try{for(_iterator646.s();!(_step646=_iterator646.n()).done;){var _i754=_step646.value;var _s455=!0;var _iterator647=_createForOfIteratorHelper(t),_step647;try{for(_iterator647.s();!(_step647=_iterator647.n()).done;){var _e759=_step647.value;if(_e759!==_i754&&_e759.contains(_i754)){_s455=!1;break;}}}catch(err){_iterator647.e(err);}finally{_iterator647.f();}_s455&&e.push(_i754);}}catch(err){_iterator646.e(err);}finally{_iterator646.f();}return e;}},{key:"outermostSelectedObjectElements",get:function get(){return this.outermostSelectedElements.filter(function(t){return g.includes(t.localName);});}},{key:"selectedTextRange",get:function get(){return this.lc;},set:function set(t){null===this.lc&&null===t||this.lc&&t&&this.lc.startContainer===t.startContainer&&this.lc.endContainer===t.endContainer&&this.lc.startOffset===t.startOffset&&this.lc.endOffset===t.endOffset||(this.lc=t,this.dispatchEvent(new CustomEvent("selectedtextrangechange")));}},{key:"currentContainer",get:function get(){return this.hc;},set:function set(t){this.hc=t,this.dispatchEvent(new CustomEvent("currentcontainerchange"));}},{key:"zoom",get:function get(){var t=this["#vector-canvas"].transform.baseVal[0].matrix.a;return t>0?100*t:iu;},set:function set(t){var e;if(this.ac)e=this.Qs.pointerClientPoint;else{var _t1005=this.getBoundingClientRect();e=new DOMPoint(_t1005.x+_t1005.width/2,_t1005.y+_t1005.height/2);}var i=Z(t,iu,su)/100,s=Vt(this["#vector-layer"]).inverse(),n=e.matrixTransform(s),o=new DOMMatrix();o.scaleSelf(i/this.scale,i/this.scale,1,n.x,n.y),o.multiplySelf(Ut(this["#vector-canvas"])),this["#vector-canvas"].setAttribute("transform",o),this.rc(),this.dispatchEvent(new CustomEvent("zoomchange"));}},{key:"scale",get:function get(){return this.zoom/100;},set:function set(t){this.zoom=100*t;}},{key:"geometryPrecision",get:function get(){return this.dc;}},{key:"transformPrecision",get:function get(){return this.cc;}},{key:"huds",get:function get(){return this["#huds"];}},{key:"rulers",get:function get(){return this["#rulers"];}},{key:"workspaces",get:function get(){return this["#workspaces"];}},{key:"masterWorkspace",get:function get(){return this["#workspaces"].children[1];}},{key:"currentWorkspace",get:function get(){return this["#workspaces"]?this["#workspaces"].lastElementChild:null;}},{key:"vectorCanvas",get:function get(){return this["#vector-canvas"];}},{key:"pixelCanvas",get:function get(){return this["#pixel-canvas"];}},{key:"undoManager",get:function get(){return this.uc;}},{key:"snapManager",get:function get(){return this.xc;}},{key:"fontsManager",get:function get(){return this.bc;}},{key:"showManualGuides",get:function get(){return this.mc;},set:function set(t){this.mc=t,this.Qs.setConfig("bx-board:showManualGuides",t),this.gc(),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"showSmartGuides",get:function get(){return this.fc;},set:function set(t){this.fc=t,this.Qs.setConfig("bx-board:showSmartGuides",t),this.gc(),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"showGrid",get:function get(){return this.wc;},set:function set(t){this.wc=t,this.Qs.setConfig("bx-board:showGrid",t),this.gc(),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"showTransparency",get:function get(){return this.vc;},set:function set(t){this.vc=t,this.Qs.setConfig("bx-board:showTransparency",t),t?this["#vector-canvas"].setAttribute("data-transparent",""):this["#vector-canvas"].removeAttribute("data-transparent"),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"showViews",get:function get(){return this.yc;},set:function set(t){this.yc=t,this.Qs.setConfig("bx-board:showViews",t),this.kc(),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}}]);function du(){var _this363;_classCallCheck(this,du);_this363=_super64.call(this),_this363.oc=[],_this363.lc=null,_this363.hc=null,_this363.dc=3,_this363.cc=6,_this363.Sc=!1,_this363._c=!1,_this363.ac=!1,_this363.Ln=!1,_this363.nc=[],_this363.Cc=qi(_this363.Mc,100,_assertThisInitialized(_this363)),_this363._shadowRoot=_this363.attachShadow({mode:"closed"}),_this363._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,du._shadowStyleSheet],_this363._shadowRoot.append(document.importNode(du._shadowTemplate.content,!0));var _iterator648=_createForOfIteratorHelper(_this363._shadowRoot.querySelectorAll("[id]")),_step648;try{for(_iterator648.s();!(_step648=_iterator648.n()).done;){var _t1006=_step648.value;_this363["#"+_t1006.id]=_t1006;}}catch(err){_iterator648.e(err);}finally{_iterator648.f();}var _iterator649=_createForOfIteratorHelper(ru),_step649;try{for(_iterator649.s();!(_step649=_iterator649.n()).done;){var _t1007=_step649.value;var _e760=Jp(_t1007);_this363["#huds"].append(_e760);}}catch(err){_iterator649.e(err);}finally{_iterator649.f();}var _iterator650=_createForOfIteratorHelper(_this363["#huds"].children),_step650;try{var _loop22=function _loop22(){var t=_step650.value;_this363["#"+t.id]=t,tu(_assertThisInitialized(_this363),ni(t.id),{get:function get(){return t;}});};for(_iterator650.s();!(_step650=_iterator650.n()).done;){_loop22();}}catch(err){_iterator650.e(err);}finally{_iterator650.f();}var _iterator651=_createForOfIteratorHelper(_this363["#contexts"].children),_step651;try{var _loop23=function _loop23(){var t=_step651.value;tu(_assertThisInitialized(_this363),ni(t.id),{get:function get(){return t;}});};for(_iterator651.s();!(_step651=_iterator651.n()).done;){_loop23();}}catch(err){_iterator651.e(err);}finally{_iterator651.f();}_this363["#vector-layer"].pauseAnimations(),_this363["#pixel-canvas"].setAttribute("width",window.innerWidth),_this363["#pixel-canvas"].setAttribute("height",window.innerHeight),_this363.uc=new up(_this363["#workspaces"]),_this363.xc=new Bp(_assertThisInitialized(_this363)),_this363.bc=new Ip(_this363["#workspaces"]),new MutationObserver(function(t){return _this363.il(t);}).observe(_this363["#workspaces"],au),_this363.addEventListener("pointerenter",function(){return _this363.ac=!0;}),_this363.addEventListener("pointerleave",function(){return _this363.ac=!1;}),_this363.addEventListener("pointerdown",function(t){return _this363.wo(t);}),_this363.addEventListener("scroll",function(t){return _this363.Pc(t);}),_this363.addEventListener("wheel",function(t){return _this363.lo(t);}),_this363.uc.addEventListener("undo",function(t){return _this363.Dc(t);}),_this363.uc.addEventListener("redo",function(t){return _this363.Dc(t);}),navigator.maxTouchPoints>0&&_this363.zc();return _this363;}_createClass(du,[{key:"connectedCallback",value:function connectedCallback(){var _this365=this;this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this.tabIndex=0,this.Sc=this.Qs.getConfig("bx-uisettings:limitScrollableArea",!1),this._c=this.Qs.getConfig("bx-uisettings:showViewOutlineAboveObjects",!1),this.dc=this.Qs.getConfig("bx-markupsettings:geometryPrecision",3),this.cc=this.Qs.getConfig("bx-markupsettings:transformPrecision",6),this.showManualGuides=this.Qs.getConfig("bx-board:showManualGuides",!1),this.showSmartGuides=this.Qs.getConfig("bx-board:showSmartGuides",!1),this.showGrid=this.Qs.getConfig("bx-board:showGrid",!1),this.showTransparency=this.Qs.getConfig("bx-board:showTransparency",!1),this.showViews=this.Qs.getConfig("bx-board:showViews",!0),window.addEventListener("orientationchange",this.Oc=function(){return _this365.Ec();}),this.Qs.addEventListener("configchange",this.ln=function(t){return _this365.hn(t);}),this.Qs.addEventListener("keydown",this.wn=function(t){return _this365.vn(t);});var _iterator652=_createForOfIteratorHelper(this.nc),_step652;try{for(_iterator652.s();!(_step652=_iterator652.n()).done;){var _t1009=_step652.value;_t1009();}}catch(err){_iterator652.e(err);}finally{_iterator652.f();}if(this.nc=[],this.Ec(),this.gc(),this.Mc(),!this.Tc){var _t1008=function _t1008(){!1===document.webkitHidden&&_this365.isConnected&&!_this365.Tc&&(document.removeEventListener("visibilitychange",_t1008),_e761&&_e761.unobserve(_this365),_this365.Tc=!0,_this365.Ac(),Ki(300).then(function(){return _this365.Ac();}));},_e761=window.ResizeObserver?new ResizeObserver(_t1008):null;_e761?_e761.observe(this):(this.Tc=!0,Ki(200).then(function(){return _this365.Ac();}),Ki(300).then(function(){return _this365.Ac();}),Ki(800).then(function(){return _this365.Ac();}),Ki(1200).then(function(){return _this365.Ac();})),document.addEventListener("visibilitychange",_t1008),this.Ac();}}},{key:"disconnectedCallback",value:function disconnectedCallback(){window.removeEventListener("orientationchange",this.Oc),this.Qs.removeEventListener("configchange",this.ln),this.Qs.removeEventListener("keydown",this.wn);}},{key:"hn",value:function hn(t){var _t$detail4=t.detail,e=_t$detail4.key,i=_t$detail4.value;"bx-uisettings:limitScrollableArea"===e?this.Sc=this.Qs.getConfig("bx-uisettings:limitScrollableArea",!1):"bx-uisettings:showViewOutlineAboveObjects"===e?(this._c=this.Qs.getConfig("bx-uisettings:showViewOutlineAboveObjects",!1),this.kc()):"bx-markupsettings:geometryPrecision"===e?this.dc=this.Qs.getConfig("bx-markupsettings:geometryPrecision",3):"bx-markupsettings:transformPrecision"===e&&(this.cc=this.Qs.getConfig("bx-markupsettings:transformPrecision",6));}},{key:"wo",value:function wo(t){var _this366=this;if(1===t.button){var _e762,_i757,_s456=t.clientX,_n327=t.clientY;this.setPointerCapture(t.pointerId),this.addEventListener("pointermove",_e762=function _e762(t){var _iterator653=_createForOfIteratorHelper(t.getCoalescedEvents()),_step653;try{for(_iterator653.s();!(_step653=_iterator653.n()).done;){var _e763=_step653.value;var _t1010=_e763.clientX-_s456,_i756=_e763.clientY-_n327;_this366.Vn(_t1010,_i756),_s456=_e763.clientX,_n327=_e763.clientY;}}catch(err){_iterator653.e(err);}finally{_iterator653.f();}}),this.addEventListener("pointerup",_i757=function _i755(){_this366.removeEventListener("pointermove",_e762),_this366.removeEventListener("pointerup",_i757);});}}},{key:"vn",value:function vn(t){var _this367=this;if("Space"===t.code&&!1===this.Qs.isPointerDown&&!1===this.Qs.textInputMode){var _e764=this.Qs.getConfig("bx-keyboardsettings:spaceKeyMode","togglePreviousTool");if("togglePreviousTool"===_e764)this.Js.togglePreviousTool(),t.preventDefault();else if("pan"===_e764&&!1===this.Ln){var _e765,_i760;this.Ln=!0;var _s457=this.Qs.pointerClientPoint.x,_n328=this.Qs.pointerClientPoint.y;window.addEventListener("pointermove",_e765=function _e765(t){var _iterator654=_createForOfIteratorHelper(t.getCoalescedEvents()),_step654;try{for(_iterator654.s();!(_step654=_iterator654.n()).done;){var _e766=_step654.value;var _t1011=_e766.clientX-_s457,_i759=_e766.clientY-_n328;_this367.Vn(_t1011,_i759),_s457=_e766.clientX,_n328=_e766.clientY;}}catch(err){_iterator654.e(err);}finally{_iterator654.f();}}),window.addEventListener("keyup",_i760=function _i758(){"Space"===t.code&&!0===_this367.Ln&&(window.removeEventListener("pointermove",_e765),window.removeEventListener("keyup",_i760),_this367.Ln=!1);});}}}},{key:"Pc",value:function Pc(t){this.scrollLeft=0,this.scrollTop=0,document.documentElement.scrollLeft=0,document.documentElement.scrollTop=0,document.body.scrollLeft=0,document.body.scrollTop=0;}},{key:"lo",value:function lo(t){t.preventDefault();var e=Z(t.wheelDeltaX,-lu,lu,1),i=Z(t.wheelDeltaY,-lu,lu,1);if(!t.metaKey&&!t.ctrlKey||t.altKey||t.shiftKey)this.Vn(e/ou,i/ou);else{var _e767=new DOMPoint(t.clientX,t.clientY);this.$c(i/nu,_e767);}}},{key:"il",value:function il(t){this.dispatchEvent(new CustomEvent("workspacemutation",{detail:t}));var e=!1,i=!1,s=!1;var _iterator655=_createForOfIteratorHelper(t),_step655;try{for(_iterator655.s();!(_step655=_iterator655.n()).done;){var _n329=_step655.value;if(_n329.target===this["#workspaces"])"childList"===_n329.type&&(e=!0);else if("defs"===_n329.target.localName){if(_n329.removedNodes.length>0){"view"===_n329.removedNodes[0].localName&&(s=!0);var _iterator656=_createForOfIteratorHelper(_n329.removedNodes),_step656;try{for(_iterator656.s();!(_step656=_iterator656.n()).done;){var _t1012=_step656.value;if(_t1012.hasAttribute&&_t1012.hasAttribute("data-bx-fonts")){i=!0;break;}}}catch(err){_iterator656.e(err);}finally{_iterator656.f();}}else if(_n329.addedNodes.length>0){"view"===_n329.addedNodes[0].localName&&(s=!0);var _iterator657=_createForOfIteratorHelper(_n329.addedNodes),_step657;try{for(_iterator657.s();!(_step657=_iterator657.n()).done;){var _t1013=_step657.value;if(_t1013.hasAttribute&&_t1013.hasAttribute("data-bx-fonts")){i=!0;break;}}}catch(err){_iterator657.e(err);}finally{_iterator657.f();}}}else"style"===_n329.target.localName?_n329.target.hasAttribute("data-bx-fonts")&&(i=!0):"g"===_n329.target.localName?_n329.target.hasAttribute("data-bx-workspace")&&"attributes"===_n329.type&&"viewBox"===_n329.attributeName&&(s=!0):"view"===_n329.target.localName?"attributes"===_n329.type&&"viewBox"===_n329.attributeName&&(s=!0):"#text"===_n329.target.nodeName&&_n329.target.parentElement&&_n329.target.parentElement.hasAttribute("data-bx-fonts")&&(i=!0);}}catch(err){_iterator655.e(err);}finally{_iterator655.f();}e&&(this.Ac(),this.dispatchEvent(new CustomEvent("currentworkspacechange"))),i&&this.Cc(),(s||e)&&this.kc();}},{key:"Dc",value:function Dc(t){var _this368=this;var _t$detail5=t.detail,e=_t$detail5.addedNodes,i=_t$detail5.removedNodes,s=_t$detail5.modifiedNodes,n=new Set(this.selectedElements),o=null;var _iterator658=_createForOfIteratorHelper(e),_step658;try{for(_iterator658.s();!(_step658=_iterator658.n()).done;){var _t1016=_step658.value;n.add(_t1016);}}catch(err){_iterator658.e(err);}finally{_iterator658.f();}var _iterator659=_createForOfIteratorHelper(s),_step659;try{for(_iterator659.s();!(_step659=_iterator659.n()).done;){var _t1017=_step659.value;n.add(_t1017);}}catch(err){_iterator659.e(err);}finally{_iterator659.f();}var _iterator660=_createForOfIteratorHelper(i),_step660;try{for(_iterator660.s();!(_step660=_iterator660.n()).done;){var _t1018=_step660.value;n["delete"](_t1018);}}catch(err){_iterator660.e(err);}finally{_iterator660.f();}if(n=_toConsumableArray(n).filter(function(t){return _this368.isSelectableElement(t);}),n.length>0){var _t1014=n[0];_t1014.parentElement!==this.currentWorkspace&&(o=_t1014.parentElement);}if(this.currentContainer=o,this.selectedElements=n,this.selectedTextRange){var _this$selectedTextRan=this.selectedTextRange,_t1015=_this$selectedTextRan.startContainer,_e768=_this$selectedTextRan.endContainer,_i761=!1;var _iterator661=_createForOfIteratorHelper(n),_step661;try{for(_iterator661.s();!(_step661=_iterator661.n()).done;){var _s458=_step661.value;(_s458.contains(_t1015)||_s458.contains(_e768))&&(_i761=!0);}}catch(err){_iterator661.e(err);}finally{_iterator661.f();}!1===_i761&&(this.selectedTextRange=null);}{var _e769="undo"===t.type?"Undo":"Redo";t.detail.label&&(_e769="<strong>".concat(_e769,"</strong>: ").concat(t.detail.label)),this.Qs.openNotification(_e769);}}},{key:"zc",value:function zc(){var _this369=this;var t=new Map(),e=null,i=0,s=-1,n=1,o=new q(),l="auto",h=function h(_h175){if("touch"===_h175.pointerType&&t.has(_h175.pointerId))if(t.get(_h175.pointerId).push(new DOMPoint(_h175.clientX,_h175.clientY)),1===t.size){var _ref105=_toConsumableArray(t.values()),_e770=_ref105[0];_e770.length>3&&t["delete"](_h175.pointerId);}else if(2===t.size){var _ref106=_toConsumableArray(t.values()),_h174=_ref106[0],_a141=_ref106[1],_r83=_h174[_h174.length-1],_d65=_a141[_a141.length-1],_c56=De(_r83,_d65),_p47=Pe(_r83,_d65),_u40=_p47/i,_x116=_u40-n,_b35=new q(e,_c56),_m34=re(_b35,o);if("auto"===l){if(!(_h174.length>=3&&_a141.length>=3&&(_h174.length>=9||_a141.length>=9)))return;{var _t1019=ce(new q(_h174[0],_h174[_h174.length-1]),new q(_a141[0],_a141[_a141.length-1]));l=_t1019<-130||_t1019>130?"zoom":"scroll";}}s>0&&("auto"===l||"scroll"===l?_this369.Vn(_m34.x,_m34.y):"zoom"===l&&_this369.$c(_x116,e)),s=_p47,n=_u40,o=_b35;}},a=function a(e){"touch"===e.pointerType&&(t["delete"](e.pointerId),t.size<2&&(s=-1,l="auto"));};this.addEventListener("pointerdown",function(s){return function(s){if("touch"===s.pointerType)if(t.set(s.pointerId,[new DOMPoint(s.clientX,s.clientY)]),2===t.size){var _ref107=_toConsumableArray(t.values()),_s459=_ref107[0],_n330=_ref107[1],_o259=_s459[_s459.length-1],_l230=_n330[_n330.length-1];e=De(_o259,_l230),i=Pe(_o259,_l230);}else e=null;}(s);}),this.addEventListener("pointermove",function(t){return h(t);}),this.addEventListener("pointerup",function(t){return a(t);}),this.addEventListener("pointercancel",function(t){return a(t);}),this.addEventListener("pointerout",function(t){return a(t);}),this.addEventListener("pointerleave",function(t){return a(t);});}},{key:"setArtwork",value:function setArtwork(t){for(var _i762=0,_arr33=_toConsumableArray(this["#workspaces"].children);_i762<_arr33.length;_i762++){var _t1020=_arr33[_i762];_t1020!==this["#whitespace"]&&_t1020.remove();}var e=Wi(_templateObject10());var _iterator662=_createForOfIteratorHelper(t.attributes),_step662;try{for(_iterator662.s();!(_step662=_iterator662.n()).done;){var _step662$value=_step662.value,_i763=_step662$value.name,_s460=_step662$value.value;"transform"===_i763?e.setAttribute("data-bx-transform",_s460):e.setAttribute(_i763,_s460);}}catch(err){_iterator662.e(err);}finally{_iterator662.f();}for(;t.firstChild;){e.appendChild(t.firstChild);}this["#workspaces"].append(e);var _iterator663=_createForOfIteratorHelper(this.masterWorkspace.querySelectorAll("style[data-bx-fonts]")),_step663;try{for(_iterator663.s();!(_step663=_iterator663.n()).done;){var _t1021=_step663.value;_t1021.replaceWith(_t1021);}}catch(err){_iterator663.e(err);}finally{_iterator663.f();}this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null,this.undoManager.clear(),this.dispatchEvent(new CustomEvent("artworkchange"));}},{key:"setDefaultArtwork",value:function setDefaultArtwork(){var t=ka('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500"></svg>');this.setArtwork(t);}},{key:"insertBitmap",value:function(){var _insertBitmap=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee95(t){var e,_yield$ja,i,s,n,o,l,h,_t1022,a,r,_args96=arguments;return regeneratorRuntime.wrap(function _callee95$(_context96){while(1){switch(_context96.prev=_context96.next){case 0:e=_args96.length>1&&_args96[1]!==undefined?_args96[1]:"boardCenter";_context96.next=3;return ja(t);case 3:_yield$ja=_context96.sent;i=_yield$ja.width;s=_yield$ja.height;n=Di("svg:image");n.setAttribute("href",t),n.setAttribute("width",i),n.setAttribute("height",s);l=this.currentContainer||this.currentWorkspace,h=Vt(l).inverse();if("boardCenter"===e){_t1022=this.getBoundingClientRect();o=new DOMPoint(_t1022.left+_t1022.width/2,_t1022.top+_t1022.height/2);}else"pointer"===e&&(o=this.Qs.pointerClientPoint);a=o.matrixTransform(h);l.append(n);r=_i(n);n.setAttribute("x",a.x-r.width/2),n.setAttribute("y",a.y-r.height/2),this.selectedElements=[n];case 14:case"end":return _context96.stop();}}},_callee95,this);}));function insertBitmap(_x117){return _insertBitmap.apply(this,arguments);}return insertBitmap;}()},{key:"insertBitmapIntoBBox",value:function insertBitmapIntoBBox(t,e){var _this370=this;return new Promise(/*#__PURE__*/function(){var _ref108=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee96(i){var s,n,o,_yield$ja2,l,h,a,r,d,c,p,u,x,b,m,g;return regeneratorRuntime.wrap(function _callee96$(_context97){while(1){switch(_context97.prev=_context97.next){case 0:s=_this370.currentContainer||_this370.currentWorkspace;n=_this370.geometryPrecision;o=_this370.transformPrecision;_context97.next=5;return ja(t);case 5:_yield$ja2=_context97.sent;l=_yield$ja2.width;h=_yield$ja2.height;a=l/h;r=e.width/a;d=new DOMPoint(0,0);c=new DOMPoint(l,0);p=new DOMPoint(0,h);u=new DOMPoint(e.x,e.y);x=new DOMPoint(e.x+e.width,e.y);b=new DOMPoint(e.x,e.y+r);m=Vt(s).inverse().multiply(jt(d,c,p,u,x,b));g=Di("svg:image");g.setAttribute("href",t),g.setAttribute("width",l),g.setAttribute("height",h),g.setAttribute("transform",m.toString()),s.append(g),uh(g,{geometryPrecision:n,transformPrecision:o}),_this370.selectedTextRange=null,_this370.selectedElements=[g],i(g);case 19:case"end":return _context97.stop();}}},_callee96);}));return function(_x118){return _ref108.apply(this,arguments);};}());}},{key:"insertArtworkIntoBBox",value:function insertArtworkIntoBBox(t,e){var i=this.currentWorkspace,s=this.extractArtwork(),n=Vt(this["#vector-canvas"]).inverse(),o=Fe(e,n),l=Di("svg:g");Kp(t,s);{var _e771=null;if(t.hasAttribute("viewBox")?_e771=Lt.fromString(t.getAttribute("viewBox")):t.width.baseVal.unitType!==SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&t.height.baseVal.unitType!==SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e771=new Lt(0,0,t.width.baseVal.value,t.height.baseVal.value)),_e771){var _i764=t.getAttribute("preserveAspectRatio")||"xMidYMid meet",_At$fromString=At.fromString(_i764),_s461=_At$fromString.align,_n331=_At$fromString.meetOrSlice,_h176=o.width/_e771.width,_a142=o.height/_e771.height;"none"!==_s461&&"meet"===_n331?_h176>_a142?_h176=_a142:_a142>_h176&&(_a142=_h176):"none"!==_s461&&"slice"===_n331&&(_h176<_a142?_h176=_a142:_a142<_h176&&(_a142=_h176));var _r84=o.x-_e771.x*_h176,_d66=o.y-_e771.y*_a142;_s461.includes("xMid")&&(_r84+=(o.width-_e771.width*_h176)/2),_s461.includes("xMax")&&(_r84+=o.width-_e771.width*_h176),_s461.includes("YMid")&&(_d66+=(o.height-_e771.height*_a142)/2),_s461.includes("YMax")&&(_d66+=o.height-_e771.height*_a142);var _c57=new DOMMatrix();_c57.translateSelf(_r84,_d66),_c57.scaleSelf(_h176,_a142),_c57=Bt(_c57,this.transformPrecision),l.setAttribute("transform",_c57);}}var _iterator664=_createForOfIteratorHelper(t.style),_step664;try{for(_iterator664.s();!(_step664=_iterator664.n()).done;){var _e774=_step664.value;"shape-rendering"===_e774&&l.style.setProperty(_e774,t.style.getPropertyValue(_e774));}}catch(err){_iterator664.e(err);}finally{_iterator664.f();}for(var _i765=0,_arr34=_toConsumableArray(t.children);_i765<_arr34.length;_i765++){var _e772=_arr34[_i765];if("defs"===_e772.localName)for(var _i766=0,_arr35=_toConsumableArray(_e772.children);_i766<_arr35.length;_i766++){var _t1023=_arr35[_i766];if("style"===_t1023.localName&&_t1023.hasAttribute("data-bx-fonts")){var _e773=_t1023.getAttribute("data-bx-fonts");!1===this.workspaces.querySelector("style[data-bx-fonts=\"".concat(_e773,"\"]"))&&this.defs.append(_t1023);}else this.maybeCreateDefsForMasterWorkspace(),this.defs.append(_t1023);}l.append(_e772);}return i.append(l),l;}},{key:"insertArtwork",value:function insertArtwork(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"boardCenter";var i=this.currentContainer||this.currentWorkspace,s=[],n=this.extractArtwork();Kp(t,n);var _iterator665=_createForOfIteratorHelper(t.style),_step665;try{for(_iterator665.s();!(_step665=_iterator665.n()).done;){var _e778=_step665.value;"shape-rendering"===_e778&&i.style.setProperty(_e778,t.style.getPropertyValue(_e778));}}catch(err){_iterator665.e(err);}finally{_iterator665.f();}for(var _i767=0,_arr36=_toConsumableArray(t.children);_i767<_arr36.length;_i767++){var _e775=_arr36[_i767];if("defs"===_e775.localName)for(var _i768=0,_arr37=_toConsumableArray(_e775.children);_i768<_arr37.length;_i768++){var _t1024=_arr37[_i768];if("style"===_t1024.localName&&_t1024.hasAttribute("data-bx-fonts")){var _e776=_t1024.getAttribute("data-bx-fonts");null===this.workspaces.querySelector("style[data-bx-fonts=\"".concat(_e776,"\"]"))&&this.defs.append(_t1024);}else this.maybeCreateDefsForMasterWorkspace(),this.defs.append(_t1024);}else if(f.includes(_e775.localName)){var _t1025=Nt(i,this.currentWorkspace),_n332=Ut(_e775),_o260=new DOMMatrix();_o260.multiplySelf(_t1025.inverse()),_o260.multiplySelf(_n332),_o260=Bt(_o260,this.transformPrecision),_o260.isIdentity?_e775.removeAttribute("transform"):_e775.setAttribute("transform",_o260.toString()),i.append(_e775),s.push(_e775);}else i.append(_e775);}if("original"!==e){var _t1026=s.map(function(t){return Ci(t);});_t1026=_t1026.filter(function(t){return t.width>0||t.height>0;});var _i769,_n333=Ue(_t1026);if("boardCenter"===e){var _t1027=this.getBoundingClientRect();_i769=new DOMPoint(_t1027.left+_t1027.width/2,_t1027.top+_t1027.height/2);}else _i769="belowOriginal"===e?new DOMPoint(_n333.x+_n333.width/2+15,_n333.y+_n333.height/2+15):this.Qs.pointerClientPoint;var _o261=_i769.x-(_n333.x+_n333.width/2),_l231=_i769.y-(_n333.y+_n333.height/2);var _iterator666=_createForOfIteratorHelper(s),_step666;try{for(_iterator666.s();!(_step666=_iterator666.n()).done;){var _t1028=_step666.value;var _e777=Vt(_t1028),_i770=_e777.inverse(),_s462=Ut(_t1028);_s462.multiplySelf(_i770),_s462.translateSelf(_o261,_l231),_s462.multiplySelf(_e777),_s462=Bt(_s462,this.transformPrecision),_t1028.setAttribute("transform",_s462.toString());}}catch(err){_iterator666.e(err);}finally{_iterator666.f();}}this.selectedElements=s;}},{key:"extractArtwork",value:function extractArtwork(){this.collectGarbage();var t=Di("svg:svg"),e=this.masterWorkspace;var _iterator667=_createForOfIteratorHelper(e.attributes),_step667;try{for(_iterator667.s();!(_step667=_iterator667.n()).done;){var _step667$value=_step667.value,_i774=_step667$value.name,_s469=_step667$value.value;"data-bx-workspace"!==_i774&&("data-bx-transform"===_i774?t.setAttribute("transform",_s469):t.setAttribute(_i774,_s469));}}catch(err){_iterator667.e(err);}finally{_iterator667.f();}var _iterator668=_createForOfIteratorHelper(e.childNodes),_step668;try{for(_iterator668.s();!(_step668=_iterator668.n()).done;){var _i775=_step668.value;t.append(_i775.cloneNode(!0));}}catch(err){_iterator668.e(err);}finally{_iterator668.f();}if("symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")){var _e779=this.currentWorkspace,_i771=t.querySelector("symbol#".concat(CSS.escape(_e779.id)));var _iterator669=_createForOfIteratorHelper(_i771.attributes),_step669;try{for(_iterator669.s();!(_step669=_iterator669.n()).done;){var _step669$value=_step669.value,_t1029=_step669$value.name,_s463=_step669$value.value;!1===_e779.hasAttribute(_t1029)&&_i771.removeAttribute(_t1029);}}catch(err){_iterator669.e(err);}finally{_iterator669.f();}var _iterator670=_createForOfIteratorHelper(_e779.attributes),_step670;try{for(_iterator670.s();!(_step670=_iterator670.n()).done;){var _step670$value=_step670.value,_t1030=_step670$value.name,_s464=_step670$value.value;"data-bx-workspace"!==_t1030&&_i771.setAttribute(_t1030,_s464);}}catch(err){_iterator670.e(err);}finally{_iterator670.f();}_i771.innerHTML=_e779.innerHTML;}if("pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")){var _e780=this.currentWorkspace,_i772=t.querySelector("pattern#".concat(CSS.escape(_e780.id)));var _iterator671=_createForOfIteratorHelper(_i772.attributes),_step671;try{for(_iterator671.s();!(_step671=_iterator671.n()).done;){var _step671$value=_step671.value,_t1031=_step671$value.name,_s465=_step671$value.value;!1===_e780.hasAttribute(_t1031)&&_i772.removeAttribute(_t1031);}}catch(err){_iterator671.e(err);}finally{_iterator671.f();}var _iterator672=_createForOfIteratorHelper(_e780.attributes),_step672;try{for(_iterator672.s();!(_step672=_iterator672.n()).done;){var _step672$value=_step672.value,_t1032=_step672$value.name,_s466=_step672$value.value;"data-bx-workspace"!==_t1032&&_i772.setAttribute(_t1032,_s466);}}catch(err){_iterator672.e(err);}finally{_iterator672.f();}_i772.innerHTML=_e780.innerHTML;}if("marker"===this.currentWorkspace.getAttribute("data-bx-workspace")){var _e781=this.currentWorkspace,_i773=t.querySelector("marker#".concat(CSS.escape(_e781.id)));var _iterator673=_createForOfIteratorHelper(_i773.attributes),_step673;try{for(_iterator673.s();!(_step673=_iterator673.n()).done;){var _step673$value=_step673.value,_t1033=_step673$value.name,_s467=_step673$value.value;!1===_e781.hasAttribute(_t1033)&&_i773.removeAttribute(_t1033);}}catch(err){_iterator673.e(err);}finally{_iterator673.f();}var _iterator674=_createForOfIteratorHelper(_e781.attributes),_step674;try{for(_iterator674.s();!(_step674=_iterator674.n()).done;){var _step674$value=_step674.value,_t1034=_step674$value.name,_s468=_step674$value.value;"data-bx-workspace"!==_t1034&&_i773.setAttribute(_t1034,_s468);}}catch(err){_iterator674.e(err);}finally{_iterator674.f();}_i773.innerHTML=_e781.innerHTML;}return t;}},{key:"extractArtworkWithSelectedElements",value:function extractArtworkWithSelectedElements(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[0,0,0,0];return this.extractArtworkWithElements(this.outermostSelectedElements,t);}},{key:"extractArtworkWithViewBoxElements",value:function extractArtworkWithViewBoxElements(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var e=Vt(this.currentWorkspace).inverse(),i=[],s=new DOMRect(),n=t||this.currentWorkspace;if(n.hasAttribute("viewBox")){s=Lt.fromString(n.getAttribute("viewBox")).toRect();var _iterator675=_createForOfIteratorHelper(this.currentWorkspace.children),_step675;try{for(_iterator675.s();!(_step675=_iterator675.n()).done;){var _t1035=_step675.value;if([].concat(m,["svg","g","a","use"]).includes(_t1035.localName)){var _n334=Ci(_t1035);_n334=Fe(_n334,e),je(s,_n334)&&i.push(_t1035);}}}catch(err){_iterator675.e(err);}finally{_iterator675.f();}}var o=this.extractArtworkWithElements(i);o.setAttribute("viewBox","".concat(s.x," ").concat(s.y," ").concat(s.width," ").concat(s.height)),o.setAttribute("width",s.width),o.setAttribute("height",s.height);var _iterator676=_createForOfIteratorHelper(this.currentWorkspace.attributes),_step676;try{for(_iterator676.s();!(_step676=_iterator676.n()).done;){var _step676$value=_step676.value,_t1036=_step676$value.name,_e782=_step676$value.value;(G.includes(_t1036)||"style"===_t1036)&&o.setAttribute(_t1036,_e782);}}catch(err){_iterator676.e(err);}finally{_iterator676.f();}return o;}},{key:"extractArtworkWithElements",value:function extractArtworkWithElements(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[0,0,0,0];this.collectGarbage(),t=Li(t);var i=this.Ic(t),s=[];var _iterator677=_createForOfIteratorHelper(i),_step677;try{for(_iterator677.s();!(_step677=_iterator677.n()).done;){var _t1038=_step677.value;var _e784=this.currentWorkspace.querySelector("#".concat(CSS.escape(_t1038)));_e784||this.currentWorkspace===this.masterWorkspace||(_e784=this.masterWorkspace.querySelector("#".concat(CSS.escape(_t1038)))),_e784&&s.push(_e784);}}catch(err){_iterator677.e(err);}finally{_iterator677.f();}s=s.filter(function(e){var _iterator678=_createForOfIteratorHelper(t),_step678;try{for(_iterator678.s();!(_step678=_iterator678.n()).done;){var _i776=_step678.value;if(_i776.contains(e)||_i776===e)return!1;}}catch(err){_iterator678.e(err);}finally{_iterator678.f();}var _iterator679=_createForOfIteratorHelper(s),_step679;try{for(_iterator679.s();!(_step679=_iterator679.n()).done;){var _t1037=_step679.value;if(_t1037.contains(e)&&_t1037!==e)return!1;}}catch(err){_iterator679.e(err);}finally{_iterator679.f();}return!0;});var n=Di("svg:svg"),o=Di("svg:defs");n.append(o);var _iterator680=_createForOfIteratorHelper(s),_step680;try{for(_iterator680.s();!(_step680=_iterator680.n()).done;){var _t1039=_step680.value;_t1039.closest("defs")?o.append(_t1039.cloneNode(!0)):n.append(_t1039.cloneNode(!0));}}catch(err){_iterator680.e(err);}finally{_iterator680.f();}var _iterator681=_createForOfIteratorHelper(t),_step681;try{for(_iterator681.s();!(_step681=_iterator681.n()).done;){var _e785=_step681.value;var _t1040=_e785.cloneNode(!0),_i778=Nt(_e785,this.currentWorkspace);_i778=Bt(_i778,this.transformPrecision),_i778.isIdentity?_t1040.removeAttribute("transform"):_t1040.setAttribute("transform",_i778.toString()),n.append(_t1040);}}catch(err){_iterator681.e(err);}finally{_iterator681.f();}var _iterator682=_createForOfIteratorHelper(this["#workspaces"].querySelectorAll("style")),_step682;try{for(_iterator682.s();!(_step682=_iterator682.n()).done;){var _t1041=_step682.value;o.append(_t1041.cloneNode(!0));}}catch(err){_iterator682.e(err);}finally{_iterator682.f();}this.Js.offscreenBoard.setArtwork(n),new Gp(n).collect({colors:"none",gradients:"none",patterns:"none",markers:"none",symbols:"none",filters:"none",fonts:"all",clipPaths:"none",masks:"none"}),this.Js.offscreenBoard.clear(),0===o.childElementCount&&o.remove();{var _i777=t.map(function(t){return Ci(t);}),_s470=Ue(_i777);_s470=Fe(_s470,Vt(this.currentWorkspace).inverse()),_s470=Ge(_s470,this.dc);var _e783=_slicedToArray(e,4),_o262=_e783[0],_l232=_e783[1],_h177=_e783[2],_a143=_e783[3],_r85=_s470.x-_a143,_d67=_s470.y-_o262,_c58=_s470.width+_a143+_l232,_p48=_s470.height+_o262+_h177;n.setAttribute("viewBox","".concat(_r85," ").concat(_d67," ").concat(_c58," ").concat(_p48)),n.setAttribute("width",_c58),n.setAttribute("height",_p48);}return n;}},{key:"extractArtworkWithSymbols",value:function extractArtworkWithSymbols(t){t=Li(t);var e=this.Ic(t),i=[];var _iterator683=_createForOfIteratorHelper(e),_step683;try{for(_iterator683.s();!(_step683=_iterator683.n()).done;){var _t1043=_step683.value;var _e786=this.currentWorkspace.querySelector("#".concat(CSS.escape(_t1043)));_e786||this.currentWorkspace===this.masterWorkspace||(_e786=this.masterWorkspace.querySelector("#".concat(CSS.escape(_t1043)))),_e786&&i.push(_e786);}}catch(err){_iterator683.e(err);}finally{_iterator683.f();}i=i.filter(function(e){var _iterator684=_createForOfIteratorHelper(t),_step684;try{for(_iterator684.s();!(_step684=_iterator684.n()).done;){var _i779=_step684.value;if(_i779.contains(e)||_i779===e)return!1;}}catch(err){_iterator684.e(err);}finally{_iterator684.f();}var _iterator685=_createForOfIteratorHelper(i),_step685;try{for(_iterator685.s();!(_step685=_iterator685.n()).done;){var _t1042=_step685.value;if(_t1042.contains(e)&&_t1042!==e)return!1;}}catch(err){_iterator685.e(err);}finally{_iterator685.f();}return!0;});var s=Di("svg:svg"),n=Di("svg:defs");s.append(n);var _iterator686=_createForOfIteratorHelper(i),_step686;try{for(_iterator686.s();!(_step686=_iterator686.n()).done;){var _t1044=_step686.value;_t1044.closest("defs")?n.append(_t1044.cloneNode(!0)):s.append(_t1044.cloneNode(!0));}}catch(err){_iterator686.e(err);}finally{_iterator686.f();}var _iterator687=_createForOfIteratorHelper(t),_step687;try{for(_iterator687.s();!(_step687=_iterator687.n()).done;){var _e787=_step687.value;var _t1045=_e787.cloneNode(!0);n.append(_t1045);}}catch(err){_iterator687.e(err);}finally{_iterator687.f();}return this.Js.offscreenBoard.setArtwork(s),new Gp(s).collect({colors:"all",gradients:"all",patterns:"all",markers:"all",symbols:"none",filters:"all",fonts:"all",clipPaths:"all",masks:"all"}),this.Js.offscreenBoard.clear(),s;}},{key:"collectGarbage",value:function collectGarbage(){var t=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",{});new Gp(this["#workspaces"]).collect(t);}},{key:"editSymbol",value:function editSymbol(t){var e=this.masterWorkspace.querySelector("symbol#".concat(CSS.escape(t)));if(null===e)return;if(this.currentWorkspace.id===t)return;this.undoManager.checkpoint("Edit Symbol"),"pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editPatternEnd(!1):"marker"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editMarkerEnd(!1):"symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")&&this.editSymbolEnd(!1);var i=Wi(_templateObject11(),e.innerHTML);var _iterator688=_createForOfIteratorHelper(e.attributes),_step688;try{for(_iterator688.s();!(_step688=_iterator688.n()).done;){var _step688$value=_step688.value,_t1046=_step688$value.name,_s471=_step688$value.value;i.setAttribute(_t1046,_s471);}}catch(err){_iterator688.e(err);}finally{_iterator688.f();}this["#workspaces"].append(i),this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}},{key:"editSymbolEnd",value:function editSymbolEnd(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if("symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")){t&&this.undoManager.checkpoint("Edit Symbol");var _e788=this.currentWorkspace,_i780=this.masterWorkspace.querySelector("symbol#".concat(CSS.escape(_e788.id)));var _iterator689=_createForOfIteratorHelper(_i780.attributes),_step689;try{for(_iterator689.s();!(_step689=_iterator689.n()).done;){var _step689$value=_step689.value,_t1047=_step689$value.name,_s472=_step689$value.value;!1===_e788.hasAttribute(_t1047)&&_i780.removeAttribute(_t1047);}}catch(err){_iterator689.e(err);}finally{_iterator689.f();}var _iterator690=_createForOfIteratorHelper(_e788.attributes),_step690;try{for(_iterator690.s();!(_step690=_iterator690.n()).done;){var _step690$value=_step690.value,_t1048=_step690$value.name,_s473=_step690$value.value;"data-bx-workspace"!==_t1048&&_i780.setAttribute(_t1048,_s473);}}catch(err){_iterator690.e(err);}finally{_iterator690.f();}_e788.remove(),_i780.innerHTML=_e788.innerHTML,this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}}},{key:"editPattern",value:function editPattern(t){var e=this.masterWorkspace.querySelector("pattern#".concat(CSS.escape(t)));if(null===e)return;if(this.currentWorkspace.id===t)return;this.undoManager.checkpoint("Edit Pattern"),"pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editPatternEnd(!1):"marker"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editMarkerEnd(!1):"symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")&&this.editSymbolEnd(!1);var i=Wi(_templateObject12(),e.innerHTML);var _iterator691=_createForOfIteratorHelper(e.attributes),_step691;try{for(_iterator691.s();!(_step691=_iterator691.n()).done;){var _step691$value=_step691.value,_t1049=_step691$value.name,_s474=_step691$value.value;i.setAttribute(_t1049,_s474);}}catch(err){_iterator691.e(err);}finally{_iterator691.f();}this["#workspaces"].append(i),this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}},{key:"editPatternEnd",value:function editPatternEnd(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if("pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")){t&&this.undoManager.checkpoint("Edit Pattern");var _e789=this.currentWorkspace,_i781=this.masterWorkspace.querySelector("pattern#".concat(CSS.escape(_e789.id)));var _iterator692=_createForOfIteratorHelper(_i781.attributes),_step692;try{for(_iterator692.s();!(_step692=_iterator692.n()).done;){var _step692$value=_step692.value,_t1050=_step692$value.name,_s475=_step692$value.value;!1===_e789.hasAttribute(_t1050)&&_i781.removeAttribute(_t1050);}}catch(err){_iterator692.e(err);}finally{_iterator692.f();}var _iterator693=_createForOfIteratorHelper(_e789.attributes),_step693;try{for(_iterator693.s();!(_step693=_iterator693.n()).done;){var _step693$value=_step693.value,_t1051=_step693$value.name,_s476=_step693$value.value;"data-bx-workspace"!==_t1051&&_i781.setAttribute(_t1051,_s476);}}catch(err){_iterator693.e(err);}finally{_iterator693.f();}_e789.remove(),_i781.innerHTML=_e789.innerHTML,this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}}},{key:"editMarker",value:function editMarker(t){var e=this.masterWorkspace.querySelector("marker#".concat(CSS.escape(t)));if(null===e)return;if(this.currentWorkspace.id===t)return;this.undoManager.checkpoint("Edit Marker"),"pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editPatternEnd(!1):"marker"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editMarkerEnd(!1):"symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")&&this.editSymbolEnd(!1);var i=Wi(_templateObject13(),e.innerHTML);var _iterator694=_createForOfIteratorHelper(e.attributes),_step694;try{for(_iterator694.s();!(_step694=_iterator694.n()).done;){var _step694$value=_step694.value,_t1052=_step694$value.name,_s477=_step694$value.value;i.setAttribute(_t1052,_s477);}}catch(err){_iterator694.e(err);}finally{_iterator694.f();}this["#workspaces"].append(i),this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}},{key:"editMarkerEnd",value:function editMarkerEnd(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if("marker"===this.currentWorkspace.getAttribute("data-bx-workspace")){t&&this.undoManager.checkpoint("Edit marker");var _e790=this.currentWorkspace,_i782=this.masterWorkspace.querySelector("marker#".concat(CSS.escape(_e790.id)));var _iterator695=_createForOfIteratorHelper(_i782.attributes),_step695;try{for(_iterator695.s();!(_step695=_iterator695.n()).done;){var _step695$value=_step695.value,_t1053=_step695$value.name,_s478=_step695$value.value;!1===_e790.hasAttribute(_t1053)&&_i782.removeAttribute(_t1053);}}catch(err){_iterator695.e(err);}finally{_iterator695.f();}var _iterator696=_createForOfIteratorHelper(_e790.attributes),_step696;try{for(_iterator696.s();!(_step696=_iterator696.n()).done;){var _step696$value=_step696.value,_t1054=_step696$value.name,_s479=_step696$value.value;"data-bx-workspace"!==_t1054&&_i782.setAttribute(_t1054,_s479);}}catch(err){_iterator696.e(err);}finally{_iterator696.f();}_e790.remove(),_i782.innerHTML=_e790.innerHTML,this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}}},{key:"zoomIn",value:function zoomIn(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;t&&this.ac?this.$c(.2,this.Qs.pointerClientPoint):this.$c(.2);}},{key:"zoomOut",value:function zoomOut(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;t&&this.ac?this.$c(-.2,this.Qs.pointerClientPoint):this.$c(-.2);}},{key:"zoomToFitAllViews",value:function zoomToFitAllViews(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"top-left";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=this.currentWorkspace,n=null;{var _t1055=[];if(s.hasAttribute("viewBox")){var _e791=Lt.fromString(this.currentWorkspace.getAttribute("viewBox")).toRect();_t1055.push(_e791);}var _iterator697=_createForOfIteratorHelper(s.querySelectorAll(":scope > view, :scope > defs > view")),_step697;try{for(_iterator697.s();!(_step697=_iterator697.n()).done;){var _e792=_step697.value;_t1055.push(_e792.viewBox.baseVal);}}catch(err){_iterator697.e(err);}finally{_iterator697.f();}_t1055.length>0&&(n=Ue(_t1055));}n&&this.zoomToArea(n,t,e,i);}},{key:"canZoomToFitAllViews",value:function canZoomToFitAllViews(){var t=this.currentWorkspace;if(t.hasAttribute("viewBox")){var _t1056=Lt.fromString(this.currentWorkspace.getAttribute("viewBox"));if(_t1056.width>0&&_t1056.height>0)return!0;}var _iterator698=_createForOfIteratorHelper(t.querySelectorAll(":scope > view, :scope > defs > view")),_step698;try{for(_iterator698.s();!(_step698=_iterator698.n()).done;){var _e793=_step698.value;if(_e793.viewBox.baseVal.width>0&&_e793.viewBox.baseVal.height>0)return!0;}}catch(err){_iterator698.e(err);}finally{_iterator698.f();}return!1;}},{key:"zoomToFitAllObjects",value:function zoomToFitAllObjects(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"top-left";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=DOMRect.fromRect(this.currentWorkspace.getBBox());this.zoomToArea(s,t,e,i);}},{key:"canZoomToFitAllObjects",value:function canZoomToFitAllObjects(){var t=this.currentWorkspace.getBBox();return t.width>0&&t.height>0;}},{key:"zoomToFitSelectedObjects",value:function zoomToFitSelectedObjects(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"top-left";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=[];var _iterator699=_createForOfIteratorHelper(this.selectedObjectElements),_step699;try{for(_iterator699.s();!(_step699=_iterator699.n()).done;){var _t1057=_step699.value;var _e794=Nt(_t1057,this.vectorCanvas),_i783=_i(_t1057);_i783=Fe(_i783,_e794),s.push(_i783);}}catch(err){_iterator699.e(err);}finally{_iterator699.f();}var n=s.length>0?Ue(s):new DOMRect();this.zoomToArea(n,t,e,i);}},{key:"canZoomToFitSelectedObjects",value:function canZoomToFitSelectedObjects(){if(0===this.selectedObjectElements.length)return!1;{var _t1058=this.selectedObjectElements.map(function(t){return t.getBBox();}),_e795=_t1058.length>0?Ue(_t1058):new DOMRect();return _e795.width>0&&_e795.height>0;}}},{key:"getZoomArea",value:function getZoomArea(){var t=this.getBoundingClientRect(),e=Vt(this.currentWorkspace).inverse();return Fe(t,e);}},{key:"zoomToArea",value:function zoomToArea(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"top-left";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:20;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;var n=Vt(this["#vector-layer"]).inverse(),o=Fe(this.getBoundingClientRect(),n),l=DOMRect.fromRect(t);if(o.x+=i,o.y+=i,o.width-=2*i,o.height-=2*i,this.showManualGuides&&(o.x+=hu,o.y+=hu,o.width-=hu,o.height-=hu),l.width>0&&l.height>0){var _t1059=o.width/l.width,_i784=o.height/l.height;_t1059>_i784?_t1059=_i784:_i784>_t1059&&(_i784=_t1059),!1===s&&(_t1059>1||_i784>1)&&(_t1059=1,_i784=1);var _n335=o.x-l.x*_t1059,_h178=o.y-l.y*_i784;"center"===e&&(_n335+=(o.width-l.width*_t1059)/2,_h178+=(o.height-l.height*_i784)/2);var _a144=new DOMMatrix();_a144.translateSelf(_n335,_h178),_a144.scaleSelf(_t1059,_i784),this["#vector-canvas"].setAttribute("transform",_a144),this.rc(),this.dispatchEvent(new CustomEvent("zoomchange"));}}},{key:"Ac",value:function Ac(){var t=null;this.currentWorkspace&&this.currentWorkspace.hasAttribute("viewBox")&&(t=Lt.fromString(this.currentWorkspace.getAttribute("viewBox"))),t&&t.width>0&&t.height>0?this.zoomToFitAllViews("top-left"):this.zoomToFitAllObjects("top-left");}},{key:"$c",value:function $c(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:.3;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(null===e){var _t1060=this.getBoundingClientRect();e=new DOMPoint(_t1060.x+_t1060.width/2,_t1060.y+_t1060.height/2);}var i=Ut(this["#vector-canvas"]),s=Vt(this["#vector-layer"]).inverse(),n=e.matrixTransform(s);if(i.a>0){100*(i.a+t*i.a)<iu?t=(iu-100*i.a)/(100*i.a):100*(i.a+t*i.a)>su&&(t=(su-100*i.a)/(100*i.a));var _e796=new DOMMatrix();_e796.scaleSelf(1+t,1+t,1,n.x,n.y),_e796.multiplySelf(i),this["#vector-canvas"].setAttribute("transform",_e796),this.rc(),this.dispatchEvent(new CustomEvent("zoomchange"));}}},{key:"Vn",value:function Vn(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i,s=this.currentWorkspace;{var _t1061=[];if(s.hasAttribute("viewBox")){var _e797=Lt.fromString(this.currentWorkspace.getAttribute("viewBox")).toRect();_t1061.push(_e797);}var _iterator700=_createForOfIteratorHelper(s.querySelectorAll(":scope > view, :scope > defs > view")),_step700;try{for(_iterator700.s();!(_step700=_iterator700.n()).done;){var _e798=_step700.value;_t1061.push(_e798.viewBox.baseVal);}}catch(err){_iterator700.e(err);}finally{_iterator700.f();}i=_t1061.length>0?Ue(_t1061):new DOMRect();}if(!1===this.Sc||!1===this.showViews||0===i.width||0===i.height){var _i785=new DOMMatrix();_i785.translateSelf(t,e),_i785.multiplySelf(Ut(this["#vector-canvas"])),this["#vector-canvas"].setAttribute("transform",_i785);}else{var _s480=Fe(i,Vt(this["#vector-canvas"]));_s480=Ge(_s480,0);var _n336=DOMRect.fromRect(_s480);_n336.x+=t,_n336.y+=e,_n336=Ge(_n336,0);var _o263=DOMRect.fromRect(this.getBoundingClientRect());this.showManualGuides&&(_o263.x+=hu,_o263.y+=hu,_o263.width-=hu,_o263.height-=hu,_o263=Ge(_o263,0)),Ve(_o263,_s480)?(_n336.width<_o263.width&&(_n336.x<_o263.x?_n336.x=_o263.x:_n336.x+_n336.width>_o263.x+_o263.width&&(_n336.x=_o263.x+_o263.width-_n336.width)),_n336.height<_o263.height&&(_n336.y<_o263.y?_n336.y=_o263.y:_n336.y+_n336.height>_o263.y+_o263.height&&(_n336.y=_o263.y+_o263.height-_n336.height))):!1===je(_o263,_s480)&&(_n336.x+_n336.width<_o263.x?_n336.x=_o263.x-_n336.width:_n336.x>_o263.x+_o263.width&&(_n336.x=_o263.x+_o263.width),_n336.y+_n336.height<_o263.y?_n336.y=_o263.y-_n336.height:_n336.y>_o263.y+_o263.height&&(_n336.y=_o263.y+_o263.height));var _l233=_n336.x-_s480.x,_h179=_n336.y-_s480.y,_a145=new DOMMatrix();_a145.translateSelf(_l233,_h179),_a145.multiplySelf(Ut(this["#vector-canvas"])),this["#vector-canvas"].setAttribute("transform",_a145);}this.rc(),this.dispatchEvent(new CustomEvent("zoomchange"));}},{key:"showPixelCanvas",value:function showPixelCanvas(){var t=this.getBoundingClientRect();this["#pixel-canvas"].hidden=!1,this["#pixel-canvas"].style.left=-t.x+"px",this["#pixel-canvas"].style.top=-t.y+"px",this["#pixel-canvas"].style.width=t.x+t.width+"px",this["#pixel-canvas"].style.height=t.y+t.height+"px",this["#pixel-canvas"].setAttribute("width",t.x+t.width),this["#pixel-canvas"].setAttribute("height",t.y+t.height);}},{key:"hidePixelCanvas",value:function hidePixelCanvas(){var t=this["#pixel-canvas"];t.hidden=!0,t.getContext("2d").clearRect(0,0,t.width,t.height);}},{key:"Ec",value:function Ec(){this["#vector-layer"].setAttribute("width",screen.width+"px"),this["#vector-layer"].setAttribute("height",screen.height+"px"),this["#vector-layer"].setAttribute("viewBox","0 0 ".concat(screen.width," ").concat(screen.height));}},{key:"gc",value:function gc(){!0===this.mc?(this["#manual-guides-hud"].enabled=!0,this["#rulers"].setAttribute("enabled","")):(this["#manual-guides-hud"].enabled=!1,this["#rulers"].removeAttribute("enabled")),!0===this.fc?this["#smart-guides-hud"].enabled=!0:this["#smart-guides-hud"].enabled=!1,!0===this.wc?this["#grid-hud"].enabled=!0:this["#grid-hud"].enabled=!1;}},{key:"Mc",value:function Mc(){document.fonts.clear();var _iterator701=_createForOfIteratorHelper(this.bc.getFonts()),_step701;try{for(_iterator701.s();!(_step701=_iterator701.n()).done;){var _t1062=_step701.value;_t1062.load(),document.fonts.add(_t1062);}}catch(err){_iterator701.e(err);}finally{_iterator701.f();}}},{key:"rc",value:function rc(){this["#grippie-fe-offset"].dx.baseVal=1/this.scale,this["#grippie-fe-offset"].dy.baseVal=1/this.scale,this["#grippie-fe-blur"].stdDeviationX.baseVal=1/this.scale,this["#grippie-fe-blur"].stdDeviationY.baseVal=1/this.scale;}},{key:"kc",value:function kc(){var t=this.currentWorkspace;if(t){var _e799=[];this.yc?this["#vector-canvas"].setAttribute("data-outlines",this._c?"above":"below"):this["#vector-canvas"].removeAttribute("data-outlines"),t.hasAttribute("viewBox")&&_e799.push(Lt.fromString(t.getAttribute("viewBox")));var _iterator702=_createForOfIteratorHelper(t.querySelectorAll(":scope > view, :scope > defs > view")),_step702;try{for(_iterator702.s();!(_step702=_iterator702.n()).done;){var _i788=_step702.value;_e799.push(_i788.viewBox.baseVal);}}catch(err){_iterator702.e(err);}finally{_iterator702.f();}if(this["#background-outlines"].childElementCount!==_e799.length){for(;this["#background-outlines"].childElementCount<_e799.length;){var _t1063=Di("svg:rect");this["#background-outlines"].append(_t1063);}for(;this["#background-outlines"].childElementCount>_e799.length;){this["#background-outlines"].lastElementChild.remove();}}if(this["#foreground-outlines"].childElementCount!==_e799.length){for(;this["#foreground-outlines"].childElementCount<_e799.length;){var _t1064=Di("svg:rect");this["#foreground-outlines"].append(_t1064);}for(;this["#foreground-outlines"].childElementCount>_e799.length;){this["#foreground-outlines"].lastElementChild.remove();}}for(var _t1065=0;_t1065<_e799.length;_t1065+=1){var _i786=_e799[_t1065];for(var _i787=0,_arr38=[this["#background-outlines"].children[_t1065],this["#foreground-outlines"].children[_t1065]];_i787<_arr38.length;_i787++){var _e800=_arr38[_i787];_e800.x.baseVal.value=_i786.x,_e800.y.baseVal.value=_i786.y,_e800.width.baseVal.value=_i786.width,_e800.height.baseVal.value=_i786.height;}}}}},{key:"maybeCreateDefsForMasterWorkspace",value:function maybeCreateDefsForMasterWorkspace(){var t=this.defs;return null===t&&(t=Di("svg:defs"),this.masterWorkspace.prepend(t)),t;}},{key:"maybeCreateDefsForCurrentWorkspace",value:function maybeCreateDefsForCurrentWorkspace(){var t=this.currentWorkspace.querySelector(":scope > defs");return null===t&&(t=Di("svg:defs"),this.currentWorkspace.prepend(t)),t;}},{key:"maybeCreateGridForCurrentWorkspace",value:function maybeCreateGridForCurrentWorkspace(){var t=this.currentWorkspace.querySelector(":scope > defs");null===t&&(t=Wi(_templateObject14()),this.currentWorkspace.append(t));var e=t.querySelector(":scope > bx-grid");return null===e&&(e=Wi(_templateObject15()),t.append(e)),e;}},{key:"generateUniqueID",value:function generateUniqueID(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;for(var _s481=i;_s481<Infinity;_s481+=1){var _i789=t+"-"+_s481;if(!this["#workspaces"].querySelector("#".concat(CSS.escape(_i789)))){if(!e)return _i789;if(!e.querySelector("#".concat(CSS.escape(_i789))))return _i789;}}}},{key:"Ic",value:function Ic(t){t=Li(t);var e=new Set();var _iterator703=_createForOfIteratorHelper(t),_step703;try{for(_iterator703.s();!(_step703=_iterator703.n()).done;){var _i790=_step703.value;var _iterator704=_createForOfIteratorHelper(this.Lc(_i790)),_step704;try{for(_iterator704.s();!(_step704=_iterator704.n()).done;){var _t1066=_step704.value;e.add(_t1066);}}catch(err){_iterator704.e(err);}finally{_iterator704.f();}}}catch(err){_iterator703.e(err);}finally{_iterator703.f();}return _toConsumableArray(e);}},{key:"Lc",value:function Lc(t){var _this371=this;var e=new Set();var i=["fill","stroke","filter","clip-path","mask","marker-mid","marker-start","marker-end"];var s=function s(t){var n=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT),o=null;for(;o=n.nextNode();){var _t1067=getComputedStyle(o);var _iterator705=_createForOfIteratorHelper(i),_step705;try{for(_iterator705.s();!(_step705=_iterator705.n()).done;){var _n337=_step705.value;var _i792=_t1067.getPropertyValue(_n337);if(_i792&&_i792.startsWith('url("#')){var _t1069=_i792.substring(6,_i792.length-2);if(!1===e.has(_t1069)){e.add(_t1069);var _i793=_this371.currentWorkspace.querySelector("#"+CSS.escape(_t1069));_i793||_this371.currentWorkspace===_this371.masterWorkspace||(_i793=_this371.masterWorkspace.querySelector("#"+CSS.escape(_t1069))),_i793&&s(_i793);}else e.add(_t1069);}}}catch(err){_iterator705.e(err);}finally{_iterator705.f();}if(o.href&&o.href.baseVal&&"#"===o.href.baseVal[0]){var _t1068=o.href.baseVal.substring(1,o.href.baseVal.length);if(!1===e.has(_t1068)){e.add(_t1068);var _i791=_this371.currentWorkspace.querySelector("#"+CSS.escape(_t1068));_i791||_this371.currentWorkspace===_this371.masterWorkspace||(_i791=_this371.masterWorkspace.querySelector("#"+CSS.escape(_t1068))),_i791&&s(_i791);}else e.add(_t1068);}}};return s(t),_toConsumableArray(e);}},{key:"getComputedViewportWidth",value:function getComputedViewportWidth(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.currentWorkspace;var e=t.getAttribute("data-bx-workspace"),i=null;if("master"===e){var _e801=null;if(""!==t.style.width?_e801=t.style.width:t.hasAttribute("width")&&(_e801=t.getAttribute("width")),null!==_e801){var _t1070=Ot.fromString(_e801),_s482=Np.fromString(_e801);_t1070&&_t1070.isAbsolute?i=_t1070:_s482&&(i=new Ot(_s482.value,"px"));}}else if("pattern"===e||"symbol"===e){var _e802=null;if(""!==t.style.width?_e802=t.style.width:t.hasAttribute("width")&&(_e802=t.getAttribute("width")),null!==_e802){var _t1071=Ot.fromString(_e802),_s483=Np.fromString(_e802);_t1071&&_t1071.isAbsolute?i=new Np(_t1071.toLength("px").value):_s483&&(i=_s483);}}else if("marker"===e&&(i=new Np(3),t.hasAttribute("markerWidth"))){var _e803=t.getAttribute("markerWidth"),_s484=Np.fromString(_e803),_n338=Ot.fromString(_e803),_o264=Hp.fromString(_e803);_s484?i=_s484:_n338?i=_n338.isAbsolute?new Np(_n338.toLength("px").value):null:_o264&&(i=null);}return i;}},{key:"getComputedViewportHeight",value:function getComputedViewportHeight(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.currentWorkspace;var e=t.getAttribute("data-bx-workspace"),i=null;if("master"===e){var _e804=null;if(""!==t.style.height?_e804=t.style.height:t.hasAttribute("height")&&(_e804=t.getAttribute("height")),null!==_e804){var _t1072=Ot.fromString(_e804),_s485=Np.fromString(_e804);_t1072&&_t1072.isAbsolute?i=_t1072:_s485&&(i=new Ot(_s485.value,"px"));}}else if("pattern"===e||"symbol"===e){var _e805=null;if(""!==t.style.height?_e805=t.style.height:t.hasAttribute("height")&&(_e805=t.getAttribute("height")),null!==_e805){var _t1073=Ot.fromString(_e805),_s486=Np.fromString(_e805);_t1073&&_t1073.isAbsolute?i=new Np(_t1073.toLength("px").value):_s486&&(i=_s486);}}else if("marker"===e&&(i=new Np(3),t.hasAttribute("markerHeight"))){var _e806=t.getAttribute("markerHeight"),_s487=Np.fromString(_e806),_n339=Ot.fromString(_e806),_o265=Hp.fromString(_e806);_s487?i=_s487:_n339?i=_n339.isAbsolute?new Np(_n339.toLength("px").value):null:_o265&&(i=null);}return i;}},{key:"getElementsFromPoint",value:function getElementsFromPoint(t,e){return this._shadowRoot.elementsFromPoint(t,e);}},{key:"getHitWorkspaceElements",value:function getHitWorkspaceElements(t,e){var i=[];var _iterator706=_createForOfIteratorHelper(c),_step706;try{for(_iterator706.s();!(_step706=_iterator706.n()).done;){var _step706$value=_slicedToArray(_step706.value,2),_s488=_step706$value[0],_n340=_step706$value[1];var _o266=this._shadowRoot.elementFromPoint(t+_s488,e+_n340);if(_o266.getRootNode()!==this._shadowRoot&&(_o266=null),_o266){if("tspan"===_o266.localName||"textPath"===_o266.localName)_o266=_o266.closest("text");else if("a"===_o266.localName){var _t1074=_o266.closest("text");_t1074&&(_o266=_t1074);}!i.includes(_o266)&&this.currentWorkspace.contains(_o266)&&i.push(_o266);}}}catch(err){_iterator706.e(err);}finally{_iterator706.f();}return Li(i);}},{key:"getWorkspaceElementFromPoint",value:function getWorkspaceElementFromPoint(t,e){var i=this._shadowRoot.elementFromPoint(t,e);if(i.getRootNode()!==this._shadowRoot&&(i=null),i){if("tspan"===i.localName||"textPath"===i.localName)i=i.closest("text");else if("a"===i.localName){var _t1075=i.closest("text");_t1075&&(i=_t1075);}!1===this.currentWorkspace.contains(i)&&(i=null);}return i;}},{key:"getBoundingClientRect",value:function getBoundingClientRect(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=_get(_getPrototypeOf(du.prototype),"getBoundingClientRect",this).call(this);if(t&&(i=new DOMRect(i.x+hu,i.y+hu,i.width-hu,i.height-hu)),e){var _t1076=this.Js.primaryPanelsDock,_e807=this.Js.secondaryPanelsDock;null!==_t1076.value&&(i.width-=_t1076.width-_t1076.getBoundingClientRect().width),null!==_e807.value&&(i.height-=_e807.height);}return i;}},{key:"selectAll",value:function selectAll(){var t=[],e=this.currentContainer||this.currentWorkspace;var _iterator707=_createForOfIteratorHelper(e.children),_step707;try{for(_iterator707.s();!(_step707=_iterator707.n()).done;){var _i794=_step707.value;this.isSelectableElement(_i794)&&t.push(_i794);}}catch(err){_iterator707.e(err);}finally{_iterator707.f();}this.selectedElements=[].concat(t);}},{key:"deselectAll",value:function deselectAll(){this.selectedElements=[],this.currentContainer=null,this.selectedTextRange=null;}},{key:"captureVisibleCanvasArea",value:function captureVisibleCanvasArea(){var _this372=this;return new Promise(/*#__PURE__*/function(){var _ref109=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee97(t){var e,i,s,_t1077,_e808,_iterator708,_step708,_i795,_e809,_s489,_i796,_arr39,_t1078,n,_e810,_i797,_s490,_o267,_l234;return regeneratorRuntime.wrap(function _callee97$(_context98){while(1){switch(_context98.prev=_context98.next){case 0:e=_this372["#vector-layer"].getBoundingClientRect(),i=_this372["#vector-layer"].cloneNode();i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),i.setAttribute("width",e.width+"px"),i.setAttribute("height",e.height+"px");s=_this372["#vector-canvas"].cloneNode();_t1077=Di("svg:g"),_e808=[_this372["#background-rect"]].concat(_toConsumableArray(_this372["#background-outlines"].children),_toConsumableArray(_this372["#foreground-outlines"].children));_iterator708=_createForOfIteratorHelper(_e808);try{for(_iterator708.s();!(_step708=_iterator708.n()).done;){_i795=_step708.value;_e809=getComputedStyle(_i795),_s489=_i795.cloneNode();for(_i796=0,_arr39=["fill","stroke","vector-effect"];_i796<_arr39.length;_i796++){_t1078=_arr39[_i796];_s489.style.setProperty(_t1078,_e809.getPropertyValue(_t1078));}_t1077.append(_s489);}}catch(err){_iterator708.e(err);}finally{_iterator708.f();}s.append(_t1077);s.append(_this372["#workspaces"].cloneNode(!0)),s.querySelector("#whitespace").remove(),i.append(s);n=Wp(i,"xml");_e810=Di("canvas"),_i797=_e810.getContext("2d"),_s490=new Blob([n],{type:"image/svg+xml;charset=utf-8"}),_o267=URL.createObjectURL(_s490),_l234=new Image();_l234.src=_o267,_l234.addEventListener("load",function(){_e810.width=_l234.naturalWidth,_e810.height=_l234.naturalHeight,_i797.fillStyle="rgba(0, 0, 0, 0)",_i797.fillRect(0,0,_l234.naturalWidth,_l234.naturalHeight),_i797.drawImage(_l234,0,0),URL.revokeObjectURL(_o267),t(_i797);});case 11:case"end":return _context98.stop();}}},_callee97);}));return function(_x119){return _ref109.apply(this,arguments);};}());}},{key:"isSelectableElement",value:function isSelectableElement(t){return!1!==f.includes(t.localName)&&t.parentElement!==this["#workspaces"]&&!1!==this.currentWorkspace.contains(t)&&!t.closest("defs")&&(!t.closest("text")||"text"===t.localName);}},{key:"isPointOverBoard",value:function isPointOverBoard(t,e){var i=this._shadowRoot.elementFromPoint(t,e);return(i.getRootNode()!==this._shadowRoot||i===this["#rulers"])&&(i=null),null!==i;}},{key:"isPointOverRuler",value:function isPointOverRuler(t,e){return this._shadowRoot.elementFromPoint(t,e)===this["#rulers"];}}]);return du;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(du,"_shadowTemplate",Hi(_templateObject196()));_defineProperty(du,"_shadowStyleSheet",Yi(_templateObject197()));customElements.define("bx-board",du);var cu=/*#__PURE__*/function(_HTMLElement59){_inherits(cu,_HTMLElement59);var _super65=_createSuper(cu);function cu(){_classCallCheck(this,cu);return _super65.apply(this,arguments);}_createClass(cu,[{key:"connectedCallback",value:function connectedCallback(){if(this.Js=Ti(this,"bx-editor"),!this._shadowRoot){this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,cu._shadowStyleSheet],this._shadowRoot.append(document.importNode(cu._shadowTemplate.content,!0));var _iterator709=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll("[id]")),_step709;try{for(_iterator709.s();!(_step709=_iterator709.n()).done;){var _t1079=_step709.value;this["#"+_t1079.id]=_t1079;}}catch(err){_iterator709.e(err);}finally{_iterator709.f();}}}},{key:"setArtwork",value:function setArtwork(t){this["#main"].append(t);}},{key:"clear",value:function clear(){this["#main"].innerHTML="";var _iterator710=_createForOfIteratorHelper(this.Js.board.workspaces.querySelectorAll("style[data-bx-fonts]")),_step710;try{for(_iterator710.s();!(_step710=_iterator710.n()).done;){var _t1080=_step710.value;_t1080.setAttribute("_bx-redraw",""),_t1080.removeAttribute("_bx-redraw");}}catch(err){_iterator710.e(err);}finally{_iterator710.f();}}}]);return cu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(cu,"_shadowTemplate",Hi(_templateObject198()));_defineProperty(cu,"_shadowStyleSheet",Yi(_templateObject199()));customElements.define("bx-offscreenboard",cu);var pu=10;var uu=/*#__PURE__*/function(_HTMLElement60){_inherits(uu,_HTMLElement60);var _super66=_createSuper(uu);_createClass(uu,[{key:"grabbing",get:function get(){return this.hasAttribute("grabbing");}}]);function uu(){var _this373;_classCallCheck(this,uu);_this373=_super66.call(this),_this373.Bc=null,_this373.Rc=null,_this373._shadowRoot=_this373.attachShadow({mode:"closed"}),_this373._shadowRoot.adoptedStyleSheets=[uu._shadowStyleSheet],_this373._shadowRoot.append(document.importNode(uu._shadowTemplate.content,!0));var _iterator711=_createForOfIteratorHelper(_this373._shadowRoot.querySelectorAll("[id]")),_step711;try{for(_iterator711.s();!(_step711=_iterator711.n()).done;){var _t1081=_step711.value;_this373["#"+_t1081.id]=_t1081;}}catch(err){_iterator711.e(err);}finally{_iterator711.f();}_this373.addEventListener("pointerenter",function(){return _this373["#lens"].style.display=null;}),_this373.addEventListener("pointerleave",function(){return _this373["#lens"].style.display="none";}),_this373.addEventListener("pointermove",function(){return _this373.Gc();}),_this373.addEventListener("click",function(t){return _this373["do"](t);}),_this373.addEventListener("keydown",function(t){return _this373.vn(t);});return _this373;}_createClass(uu,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app");}},{key:"grab",value:function grab(){var _this374=this;return new Promise(/*#__PURE__*/function(){var _ref110=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee98(t){return regeneratorRuntime.wrap(function _callee98$(_context99){while(1){switch(_context99.prev=_context99.next){case 0:_this374.Rc&&_this374.Rc(null);_context99.prev=1;_this374.Rc=t;_this374.Fc=_this374.Qs.currentEditor.board;_this374.Uc=_this374.Fc.getBoundingClientRect();_this374.setAttribute("tabindex","0");_this374.setAttribute("grabbing","");_this374.focus();_context99.next=10;return _this374.Fc.captureVisibleCanvasArea();case 10:_this374.Bc=_context99.sent;_this374.Nc();_this374.Gc();_context99.next=18;break;case 15:_context99.prev=15;_context99.t0=_context99["catch"](1);console.log("Failed to grab color",_context99.t0),_this374.Rc(null),_this374.Rc=null,_this374.removeAttribute("grabbing");case 18:case"end":return _context99.stop();}}},_callee98,null,[[1,15]]);}));return function(_x120){return _ref110.apply(this,arguments);};}());}},{key:"Nc",value:function Nc(){if(0===this["#grid"].childElementCount)for(var _t1082=0;_t1082<pu;_t1082+=1){for(var _e811=0;_e811<pu;_e811+=1){var _i798=Di("svg:rect");_i798.setAttribute("width",10),_i798.setAttribute("height",10),_i798.setAttribute("x",11*_e811),_i798.setAttribute("y",11*_t1082),_i798.style.fill="transparent",this["#grid"].append(_i798),4===_e811&&4===_t1082&&_i798.setAttribute("id","center-rect");}}}},{key:"Gc",value:function Gc(){var _this$Qs$pointerClien=this.Qs.pointerClientPoint,t=_this$Qs$pointerClien.x,e=_this$Qs$pointerClien.y;if(this["#lens"].style.left=t+15+"px",this["#lens"].style.top=e+15+"px",!1===this.ac())this["#lens"].setAttribute("offscreen","");else if(this["#lens"].removeAttribute("offscreen"),this.Bc){var _i799=[],_s491=this.Bc.getImageData(t-this.Uc.left-pu/2+1,e-this.Uc.top-pu/2+1,pu,pu);for(var _t1083=0,_e812=_s491.data.length;_t1083<_e812;_t1083+=4){var _e813=_s491.data[_t1083],_n341=_s491.data[_t1083+1],_o268=_s491.data[_t1083+2],_l235=_s491.data[_t1083+3]/255;_i799.push("rgba(".concat(_e813,", ").concat(_n341,", ").concat(_o268,", ").concat(_l235,")"));}for(var _t1084=0;_t1084<_i799.length;_t1084+=1){this["#grid"].children[_t1084].style.fill=_i799[_t1084];}}}},{key:"vn",value:function vn(t){"Escape"===t.key&&(this.Rc&&(this.Rc(null),this.Rc=null),this.removeAttribute("grabbing"));}},{key:"do",value:function _do(t){var e=null;if(this.Bc&&this.ac()){var _this$Qs$pointerClien2=this.Qs.pointerClientPoint,_t1085=_this$Qs$pointerClien2.x,_i800=_this$Qs$pointerClien2.y,_s492=this.Bc.getImageData(_t1085-this.Uc.left,_i800-this.Uc.top,1,1),_s492$data=_slicedToArray(_s492.data,4),_n342=_s492$data[0],_o269=_s492$data[1],_l236=_s492$data[2],_h180=_s492$data[3];e="rgba(".concat(_n342,", ").concat(_o269,", ").concat(_l236,", ").concat(_h180/255,")");}this.Rc(e),this.Rc=null,this.removeAttribute("grabbing");}},{key:"ac",value:function ac(){this.style.pointerEvents="none";var _this$Qs$pointerClien3=this.Qs.pointerClientPoint,t=_this$Qs$pointerClien3.x,e=_this$Qs$pointerClien3.y,i=this.Fc.isPointOverBoard(t,e);return this.style.pointerEvents=null,i;}}]);return uu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(uu,"_shadowTemplate",Hi(_templateObject200()));_defineProperty(uu,"_shadowStyleSheet",Yi(_templateObject201()));customElements.define("bx-colorgrabber",uu);var xu=/*#__PURE__*/function(_HTMLElement61){_inherits(xu,_HTMLElement61);var _super67=_createSuper(xu);function xu(){var _this375;_classCallCheck(this,xu);_this375=_super67.call(this),_this375._shadowRoot=_this375.attachShadow({mode:"closed"}),_this375._shadowRoot.adoptedStyleSheets=[xu._shadowStyleSheet],_this375._shadowRoot.append(document.importNode(xu._shadowTemplate.content,!0));var _iterator712=_createForOfIteratorHelper(_this375._shadowRoot.querySelectorAll("[id]")),_step712;try{for(_iterator712.s();!(_step712=_iterator712.n()).done;){var _t1086=_step712.value;_this375["#"+_t1086.id]=_t1086;}}catch(err){_iterator712.e(err);}finally{_iterator712.f();}return _this375;}return xu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(xu,"_shadowTemplate",Hi(_templateObject202()));_defineProperty(xu,"_shadowStyleSheet",Yi(_templateObject203()));customElements.define("bx-tooltip",xu);var bu=/*#__PURE__*/function(_HTMLElement62){_inherits(bu,_HTMLElement62);var _super68=_createSuper(bu);_createClass(bu,[{key:"grabbing",get:function get(){return this.hasAttribute("grabbing");}}]);function bu(){var _this376;_classCallCheck(this,bu);_this376=_super68.call(this),_this376.Rc=null,_this376._shadowRoot=_this376.attachShadow({mode:"closed"}),_this376._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,bu._shadowStyleSheet],_this376._shadowRoot.append(document.importNode(bu._shadowTemplate.content,!0));var _iterator713=_createForOfIteratorHelper(_this376._shadowRoot.querySelectorAll("[id]")),_step713;try{for(_iterator713.s();!(_step713=_iterator713.n()).done;){var _t1087=_step713.value;_this376["#"+_t1087.id]=_t1087;}}catch(err){_iterator713.e(err);}finally{_iterator713.f();}_this376.addEventListener("pointerenter",function(){return _this376["#tooltip"].hidden=!1;}),_this376.addEventListener("pointerleave",function(){return _this376["#tooltip"].hidden=!0;}),_this376.addEventListener("pointermove",function(){return _this376.Vc();}),_this376.addEventListener("click",function(t){return _this376["do"](t);}),_this376.addEventListener("keydown",function(t){return _this376.vn(t);});return _this376;}_createClass(bu,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");}},{key:"grab",value:function grab(){var _this377=this;return new Promise(/*#__PURE__*/function(){var _ref111=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee99(t){return regeneratorRuntime.wrap(function _callee99$(_context100){while(1){switch(_context100.prev=_context100.next){case 0:_this377.Rc&&_this377.Rc(null);_this377.Rc=t;_this377.setAttribute("tabindex","0");_this377.setAttribute("grabbing","");_this377.Vc();_this377.focus();_context100.next=8;return Ki(200);case 8:_this377.focus();case 9:case"end":return _context100.stop();}}},_callee99);}));return function(_x121){return _ref111.apply(this,arguments);};}());}},{key:"Vc",value:function Vc(){if(this.jc())this["#tooltip"].hidden=!0;else{var _this$Qs$pointerClien4=this.Qs.pointerClientPoint,_t1088=_this$Qs$pointerClien4.x,_e814=_this$Qs$pointerClien4.y;this["#tooltip"].hidden=!1,this["#tooltip"].style.left=_t1088+15+"px",this["#tooltip"].style.top=_e814+15+"px";}}},{key:"vn",value:function vn(t){"Escape"===t.key&&this.Rc&&(t.preventDefault(),this.Rc(null),this.Rc=null,this.removeAttribute("grabbing"));}},{key:"do",value:function _do(t){var e=this.jc();this.Rc(e),this.Rc=null,this.removeAttribute("grabbing");}},{key:"jc",value:function jc(){this.style.pointerEvents="none";var _this$Qs$pointerClien5=this.Qs.pointerClientPoint,t=_this$Qs$pointerClien5.x,e=_this$Qs$pointerClien5.y,i=this.Js.board.getWorkspaceElementFromPoint(t,e);return this.style.pointerEvents=null,i;}}]);return bu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(bu,"_shadowTemplate",Hi(_templateObject204()));_defineProperty(bu,"_shadowStyleSheet",Yi(_templateObject205()));customElements.define("bx-objectgrabber",bu);var mu=Symbol();var gu=/*#__PURE__*/function(_HTMLElement63){_inherits(gu,_HTMLElement63);var _super69=_createSuper(gu);_createClass(gu,[{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function gu(){var _this378;_classCallCheck(this,gu);_this378=_super69.call(this),_this378._r=!1,_this378.Hc=Xi(_this378.qs,80,_assertThisInitialized(_this378)),_this378.Yc=Xi(_this378.qs,1e3,_assertThisInitialized(_this378)),_this378._shadowRoot=_this378.attachShadow({mode:"closed"}),_this378._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,gu._shadowStyleSheet],_this378._shadowRoot.append(document.importNode(gu._shadowTemplate.content,!0));var _iterator714=_createForOfIteratorHelper(_this378._shadowRoot.querySelectorAll("[id]")),_step714;try{for(_iterator714.s();!(_step714=_iterator714.n()).done;){var _t1089=_step714.value;_this378["#"+_t1089.id]=_t1089;}}catch(err){_iterator714.e(err);}finally{_iterator714.f();}_this378["#items"].addEventListener("pointerdown",function(t){return _this378.Wc(t);}),_this378["#items"].addEventListener("click",function(t){return _this378.qc(t);}),_this378["#items"].addEventListener("contextmenu",function(t){return _this378.Xc(t);}),_this378["#items"].addEventListener("keydown",function(t){return _this378.Zc(t);});return _this378;}_createClass(gu,[{key:"connectedCallback",value:function connectedCallback(){var _this379=this;this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this.Pn=this.Js.board,this._r=this.Qs.getConfig("bx-editorbreadcrumb:showIds",!1),this.qs(),this.Kc(),As.addEventListener("sizechange",this.Qc=function(){return _this379.Kc();}),this.Qs.addEventListener("configchange",this.ln=function(t){_this379.hn(t);}),this.Pn.addEventListener("selectedelementschange",this.Ko=function(){_this379.Hc();}),this.Pn.addEventListener("currentcontainerchange",this.Jc=function(){_this379.Hc();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this379.Yc();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.Qc),this.Qs.removeEventListener("configchange",this.ln),this.Pn.removeEventListener("selectedelementschange",this.Ko),this.Pn.removeEventListener("currentcontainerchange",this.Jc),this.Pn.removeEventListener("workspacemutation",this.rn);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"size"===t&&this.Kc();}},{key:"hn",value:function hn(t){var _t$detail6=t.detail,e=_t$detail6.key,i=_t$detail6.value;"bx-editorbreadcrumb:showIds"===e&&(this._r=this.Qs.getConfig("bx-editorbreadcrumb:showIds",!1),this.qs());}},{key:"Wc",value:function Wc(t){t.target.closest(".item")&&t.preventDefault();}},{key:"qc",value:function qc(t){var e=this.Js.board,i=t.target.closest(".item");if(i){var _t1090=i[mu];_t1090===e.currentWorkspace?(e.currentContainer=null,e.selectedElements=[]):_t1090===e.masterWorkspace?("symbol"===e.currentWorkspace.getAttribute("data-bx-workspace")?e.editSymbolEnd():"pattern"===e.currentWorkspace.getAttribute("data-bx-workspace")?e.editPatternEnd():"marker"===e.currentWorkspace.getAttribute("data-bx-workspace")&&e.editMarkerEnd(),e.currentContainer=null,e.selectedElements=[]):(_t1090.parentElement===e.currentWorkspace?e.currentContainer=null:e.currentContainer=_t1090.parentElement,e.selectedElements=[_t1090]);}}},{key:"Xc",value:function(){var _Xc=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee100(t){return regeneratorRuntime.wrap(function _callee100$(_context101){while(1){switch(_context101.prev=_context101.next){case 0:t.preventDefault();_context101.next=3;return this.Qs.openContextMenu([{label:"Show IDs",value:"show-ids",disabled:!1,toggled:this._r}]);case 3:_context101.t0=_context101.sent;_context101.t1="show-ids"===_context101.t0;if(!_context101.t1){_context101.next=7;break;}this.Qs.setConfig("bx-editorbreadcrumb:showIds",!this._r),this.qs();case 7:case"end":return _context101.stop();}}},_callee100,this);}));function Xc(_x122){return _Xc.apply(this,arguments);}return Xc;}()},{key:"Zc",value:function Zc(t){var e=this["#items"].querySelector(":focus");e&&("Enter"!==t.code&&"Space"!==t.code||e.click());}},{key:"qs",value:function qs(){var t=this.Js.board,e=[],i=null;if(e.push(t.masterWorkspace),t.currentWorkspace!==t.masterWorkspace&&e.push(t.currentWorkspace),t.currentContainer){var _i801=[];for(var _e815=t.currentContainer;_e815!==t.currentWorkspace;_e815=_e815.parentElement){_i801.unshift(_e815);}e=[].concat(_toConsumableArray(e),_i801);}t.selectedElements.length>0?(e.push(t.selectedElements[0]),i=t.selectedElements[0]):t.currentContainer||(i=t.currentWorkspace),this["#items"].innerHTML="";var _iterator715=_createForOfIteratorHelper(e),_step715;try{for(_iterator715.s();!(_step715=_iterator715.n()).done;){var _t1091=_step715.value;var _e816=F(_t1091),_s493=U(_t1091),_n343=_t1091.querySelector(":scope > bx-title"),_o270=Gi(_t1091),_l237="";this._r?_t1091.id?_l237="#"+_t1091.id:(_l237=Ri(_t1091,"developer"),_l237=li(_l237)):(_l237=_n343?_n343.textContent:Ri(_t1091),_e816&&_s493?_l237+=" (clipped, masked)":_e816?_l237+=" (clipped)":_s493&&(_l237+=" (masked)"));var _h181=Hi(_templateObject16(),_o270,_l237);i===_t1091?(_h181.setAttribute("data-selected",""),_h181.setAttribute("part","toggled-item")):_h181.setAttribute("tabindex","0"),_h181[mu]=_t1091,this["#items"].append(_h181);}}catch(err){_iterator715.e(err);}finally{_iterator715.f();}this["#items"].firstElementChild.part.add("first-item"),this["#items"].lastElementChild.part.add("last-item");}},{key:"Kc",value:function Kc(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return gu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(gu,"observedAttributes",["size"]);_defineProperty(gu,"_shadowTemplate",Hi(_templateObject206()));_defineProperty(gu,"_shadowStyleSheet",Yi(_templateObject207()));customElements.define("bx-editorbreadcrumb",gu);var fu=/*#__PURE__*/function(_ta4){_inherits(fu,_ta4);var _super70=_createSuper(fu);function fu(){var _this380;_classCallCheck(this,fu);_this380=_super70.call(this),_this380["#selection-shape-buttons"].addEventListener("toggle",function(){_this380.tp();}),_this380["#selection-mode-buttons"].addEventListener("toggle",function(){_this380.ep();}),_this380["#preserve-stroke-width-checkbox"].addEventListener("toggle",function(){_this380.ip();}),_this380["#preserve-rect-radii-checkbox"].addEventListener("toggle",function(){_this380.sp();}),_this380["#preserve-rotation-checkbox"].addEventListener("toggle",function(){_this380.np();}),_this380["#preserve-aspect-ratio-checkbox"].addEventListener("toggle",function(){_this380.op();});return _this380;}_createClass(fu,[{key:"tn",value:function tn(){var t=this.Qs.getConfig("bx-transformsettings:selectionShape","rect"),e=this.Qs.getConfig("bx-transformsettings:selectionMode","contain"),i=this.Qs.getConfig("bx-transformsettings:preserveStrokeWidth",!0),s=this.Qs.getConfig("bx-transformsettings:preserveRectRadii",!0),n=this.Qs.getConfig("bx-transformsettings:preserveRotation",!0),o=this.Qs.getConfig("bx-transformsettings:preserveAspectRatio",!1);"rect-contain"===e&&(e="contain"),this["#selection-shape-buttons"].value=t,this["#selection-mode-buttons"].value=e,this["#preserve-stroke-width-checkbox"].toggled=i,this["#preserve-rect-radii-checkbox"].toggled=s,this["#preserve-rotation-checkbox"].toggled=n,this["#preserve-aspect-ratio-checkbox"].toggled=o;}},{key:"tp",value:function tp(){var t=this["#selection-shape-buttons"].value;this.Qs.setConfig("bx-transformsettings:selectionShape",t);}},{key:"ep",value:function ep(){var t=this["#selection-mode-buttons"].value;this.Qs.setConfig("bx-transformsettings:selectionMode",t);}},{key:"ip",value:function ip(){var t=this["#preserve-stroke-width-checkbox"].toggled;this.Qs.setConfig("bx-transformsettings:preserveStrokeWidth",t);}},{key:"sp",value:function sp(){var t=this["#preserve-rect-radii-checkbox"].toggled;this.Qs.setConfig("bx-transformsettings:preserveRectRadii",t);}},{key:"np",value:function np(){var t=this["#preserve-rotation-checkbox"].toggled;this.Qs.setConfig("bx-transformsettings:preserveRotation",t);}},{key:"op",value:function op(){var t=this["#preserve-aspect-ratio-checkbox"].toggled;this.Qs.setConfig("bx-transformsettings:preserveAspectRatio",t);}}]);return fu;}(ta);_defineProperty(fu,"_shadowTemplate",Hi(_templateObject208()));_defineProperty(fu,"_shadowStyleSheet",Yi(_templateObject209()));customElements.define("bx-transformsettings",fu);var wu=/*#__PURE__*/function(_ta5){_inherits(wu,_ta5);var _super71=_createSuper(wu);function wu(){var _this381;_classCallCheck(this,wu);_this381=_super71.call(this),_this381["#selection-shape-buttons"].addEventListener("toggle",function(){return _this381.tp();});return _this381;}_createClass(wu,[{key:"tn",value:function tn(){this["#selection-shape-buttons"].value=this.Qs.getConfig("bx-editsettings:selectionShape","rect");}},{key:"tp",value:function tp(){this.Qs.setConfig("bx-editsettings:selectionShape",this["#selection-shape-buttons"].value);}}]);return wu;}(ta);_defineProperty(wu,"_shadowTemplate",Hi(_templateObject210()));_defineProperty(wu,"_shadowStyleSheet",Yi(_templateObject211()));customElements.define("bx-editsettings",wu);var vu=/*#__PURE__*/function(_ta6){_inherits(vu,_ta6);var _super72=_createSuper(vu);function vu(){var _this382;_classCallCheck(this,vu);_this382=_super72.call(this),_this382["#style-picker"].addEventListener("change",function(){return _this382.io();});return _this382;}_createClass(vu,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-quadbeziersettings:style");}},{key:"io",value:function io(){this.Qs.setConfig("bx-quadbeziersettings:style",this["#style-picker"].value);}}]);return vu;}(ta);_defineProperty(vu,"_shadowTemplate",Hi(_templateObject212()));customElements.define("bx-quadbeziersettings",vu);var yu=/*#__PURE__*/function(_ta7){_inherits(yu,_ta7);var _super73=_createSuper(yu);function yu(){var _this383;_classCallCheck(this,yu);_this383=_super73.call(this),_this383["#style-picker"].addEventListener("change",function(){return _this383.io();});return _this383;}_createClass(yu,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-cubicbeziersettings:style");}},{key:"io",value:function io(){this.Qs.setConfig("bx-cubicbeziersettings:style",this["#style-picker"].value);}}]);return yu;}(ta);_defineProperty(yu,"_shadowTemplate",Hi(_templateObject213()));customElements.define("bx-cubicbeziersettings",yu);var ku=/*#__PURE__*/function(_ta8){_inherits(ku,_ta8);var _super74=_createSuper(ku);function ku(){var _this384;_classCallCheck(this,ku);_this384=_super74.call(this),_this384["#style-picker"].addEventListener("change",function(){return _this384.io();});return _this384;}_createClass(ku,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-arcsettings:style");}},{key:"io",value:function io(){this.Qs.setConfig("bx-arcsettings:style",this["#style-picker"].value);}}]);return ku;}(ta);_defineProperty(ku,"_shadowTemplate",Hi(_templateObject214()));customElements.define("bx-arcsettings",ku);var Su=/*#__PURE__*/function(_ta9){_inherits(Su,_ta9);var _super75=_createSuper(Su);function Su(){var _this385;_classCallCheck(this,Su);_this385=_super75.call(this),_this385["#smoothing-slider"].addEventListener("change",function(){return _this385.lp();}),_this385["#smoothing-input"].addEventListener("change",function(){return _this385.hp();}),_this385["#style-picker"].addEventListener("change",function(){return _this385.io();});return _this385;}_createClass(Su,[{key:"tn",value:function tn(){var t=this.Qs.getConfig("bx-freehandsettings:smoothing",.5),e=this.Qs.getConfig("bx-freehandsettings:style");this["#smoothing-slider"].value=t,this["#smoothing-input"].value=t,this["#style-picker"].value=e;}},{key:"lp",value:function lp(){this["#smoothing-input"].value=this["#smoothing-slider"].value,this.Qs.setConfig("bx-freehandsettings:smoothing",this["#smoothing-slider"].value);}},{key:"hp",value:function hp(){this["#smoothing-slider"].value=this["#smoothing-input"].value,this.Qs.setConfig("bx-freehandsettings:smoothing",this["#smoothing-slider"].value);}},{key:"io",value:function io(){this.Qs.setConfig("bx-freehandsettings:style",this["#style-picker"].value);}}]);return Su;}(ta);_defineProperty(Su,"_shadowTemplate",Hi(_templateObject215()));_defineProperty(Su,"_shadowStyleSheet",Yi(_templateObject216()));customElements.define("bx-freehandsettings",Su);var _u=/*#__PURE__*/function(_ta10){_inherits(_u,_ta10);var _super76=_createSuper(_u);function _u(){var _this386;_classCallCheck(this,_u);_this386=_super76.call(this),_this386["#move-objects-checkbox"].addEventListener("toggle",function(){return _this386.ap();}),_this386["#show-ids-checkbox"].addEventListener("toggle",function(){return _this386.rp();});return _this386;}_createClass(_u,[{key:"tn",value:function tn(){this["#move-objects-checkbox"].toggled=this.Qs.getConfig("bx-viewsettings:moveObjects",!1),this["#show-ids-checkbox"].toggled=this.Qs.getConfig("bx-viewsettings:showIds",!1);}},{key:"ap",value:function ap(){this.Qs.setConfig("bx-viewsettings:moveObjects",this["#move-objects-checkbox"].toggled);}},{key:"rp",value:function rp(){this.Qs.setConfig("bx-viewsettings:showIds",this["#show-ids-checkbox"].toggled);}}]);return _u;}(ta);_defineProperty(_u,"_shadowTemplate",Hi(_templateObject217()));customElements.define("bx-viewsettings",_u);var Cu=/*#__PURE__*/function(_ta11){_inherits(Cu,_ta11);var _super77=_createSuper(Cu);function Cu(){var _this387;_classCallCheck(this,Cu);_this387=_super77.call(this),_this387["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this387.dp();}),_this387["#r-grippie"].addEventListener("pointerdown",function(t){return _this387.bl(t);}),_this387["#r-box"].addEventListener("changestart",function(t){return _this387.cp(t);}),_this387["#style-picker"].addEventListener("change",function(){return _this387.io();});return _this387;}_createClass(Cu,[{key:"tn",value:function tn(){this.pp=this.Qs.getConfig("bx-rectsettings:drawingMode","planar"),this.up=this.Qs.getConfig("bx-rectsettings:r",0),this.xp=this.Qs.getConfig("bx-rectsettings:style"),this.bp(),this.mp(),this.gp();}},{key:"dp",value:function dp(){this.Qs.setConfig("bx-rectsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"bl",value:function bl(t){var _this388=this;var e,_i802,s=Vt(this["#geometry-preview-shape"]).inverse();this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s).x-_this388["#geometry-preview-shape"].x.baseVal.value;_this388.up=Z(n,0,30,0),_this388.mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i802=function i(){_this388["#geometry-preview"].removeEventListener("pointermove",e),_this388["#geometry-preview"].removeEventListener("lostpointercapture",_i802),_this388.Qs.setConfig("bx-rectsettings:r",_this388.up);});}},{key:"cp",value:function cp(){var _this389=this;var t,_e817;this["#r-box"].addEventListener("change",t=function t(_t1092){_this389.up=Z(_t1092.target.value,0,Infinity,0),_this389.mp();}),this["#r-box"].addEventListener("changeend",_e817=function e(){_this389["#r-box"].removeEventListener("change",t),_this389["#r-box"].removeEventListener("changeend",_e817),_this389.Qs.setConfig("bx-rectsettings:r",_this389.up);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-rectsettings:style",this["#style-picker"].value);}},{key:"bp",value:function bp(){this["#drawing-mode-buttons"].value=this.pp;}},{key:"mp",value:function mp(){this.no(),this.fp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.height-10,e=t,i=this["#geometry-preview"].viewBox.baseVal.width/2-e/2,s=Z(this.up,0,30,0);this["#geometry-preview-shape"].x.baseVal.value=i,this["#geometry-preview-shape"].y.baseVal.value=5,this["#geometry-preview-shape"].width.baseVal.value=e,this["#geometry-preview-shape"].height.baseVal.value=t,this["#geometry-preview-shape"].rx.baseVal.value=s,this["#geometry-preview-shape"].ry.baseVal.value=s,this["#r-grippie"].setAttribute("cx",i+s),this["#r-grippie"].setAttribute("cy",5);}},{key:"fp",value:function fp(){this["#r-slider"].value=this.up,this["#r-input"].value=this.up;}},{key:"gp",value:function gp(){this["#style-picker"].value=this.xp;}}]);return Cu;}(ta);_defineProperty(Cu,"_shadowTemplate",Hi(_templateObject218()));_defineProperty(Cu,"_shadowStyleSheet",Yi(_templateObject219()));customElements.define("bx-rectsettings",Cu);var Mu=/*#__PURE__*/function(_ta12){_inherits(Mu,_ta12);var _super78=_createSuper(Mu);function Mu(){var _this390;_classCallCheck(this,Mu);_this390=_super78.call(this),_this390["#style-picker"].addEventListener("change",function(){return _this390.io();});return _this390;}_createClass(Mu,[{key:"tn",value:function tn(){this.gp();}},{key:"io",value:function io(){this.Qs.setConfig("bx-circlesettings:style",this["#style-picker"].value);}},{key:"gp",value:function gp(){this["#style-picker"].value=this.Qs.getConfig("bx-circlesettings:style");}}]);return Mu;}(ta);_defineProperty(Mu,"_shadowTemplate",Hi(_templateObject220()));customElements.define("bx-circlesettings",Mu);var Pu=/*#__PURE__*/function(_ta13){_inherits(Pu,_ta13);var _super79=_createSuper(Pu);function Pu(){var _this391;_classCallCheck(this,Pu);_this391=_super79.call(this),_this391["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this391.dp();}),_this391["#style-picker"].addEventListener("change",function(){return _this391.io();});return _this391;}_createClass(Pu,[{key:"tn",value:function tn(){this.bp(),this.gp();}},{key:"dp",value:function dp(){this.Qs.setConfig("bx-ellipsesettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"io",value:function io(){this.Qs.setConfig("bx-ellipsesettings:style",this["#style-picker"].value);}},{key:"bp",value:function bp(){this["#drawing-mode-buttons"].value=this.Qs.getConfig("bx-ellipsesettings:drawingMode","planar");}},{key:"gp",value:function gp(){this["#style-picker"].value=this.Qs.getConfig("bx-ellipsesettings:style");}}]);return Pu;}(ta);_defineProperty(Pu,"_shadowTemplate",Hi(_templateObject221()));_defineProperty(Pu,"_shadowStyleSheet",Yi(_templateObject222()));customElements.define("bx-ellipsesettings",Pu);var Du=Number.MAX_SAFE_INTEGER;var zu=/*#__PURE__*/function(_ta14){_inherits(zu,_ta14);var _super80=_createSuper(zu);function zu(){var _this392;_classCallCheck(this,zu);_this392=_super80.call(this),_this392["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this392.dp();}),_this392["#r1-grippie"].addEventListener("pointerdown",function(t){return _this392.$l(t);}),_this392["#r1-box"].addEventListener("changestart",function(t){return _this392.wp(t);}),_this392["#style-picker"].addEventListener("change",function(){return _this392.io();});return _this392;}_createClass(zu,[{key:"tn",value:function tn(){this.pp=this.Qs.getConfig("bx-ringsettings:drawingMode","polar"),this.vp=this.Qs.getConfig("bx-ringsettings:r1",.6),this.xp=this.Qs.getConfig("bx-ringsettings:style"),this.bp(),this.mp(),this.gp();}},{key:"dp",value:function dp(){this.Qs.setConfig("bx-ringsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"$l",value:function $l(t){var _this393=this;var e,_i803,s=Vt(this["#geometry-preview-shape"]).inverse(),n=pl(this["#geometry-preview-shape"]),_n$values=_slicedToArray(n.values,6),o=_n$values[0],l=_n$values[1],h=_n$values[2],a=_n$values[3],r=_n$values[4],d=_n$values[5],c=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,p=new DOMPoint(o,l),u=p,x=new DOMPoint(o,l-Du);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_ze39=ze(u,x,n,!1),_ze40=_slicedToArray(_ze39,1),o=_ze40[0],l=Pe(p,o),h=Z(l/c,0,1,2);_this393.vp=h,_this393.mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i803=function i(){_this393["#geometry-preview"].removeEventListener("pointermove",e),_this393["#geometry-preview"].removeEventListener("lostpointercapture",_i803),_this393.Qs.setConfig("bx-ringsettings:r1",_this393.vp);});}},{key:"wp",value:function wp(){var _this394=this;var t,_e818;this["#r1-box"].addEventListener("change",t=function t(_t1093){_this394.vp=Z(_t1093.target.value/100,0,1,2),_this394.mp();}),this["#r1-box"].addEventListener("changeend",_e818=function e(){_this394["#r1-box"].removeEventListener("change",t),_this394["#r1-box"].removeEventListener("changeend",_e818),_this394.Qs.setConfig("bx-ringsettings:r1",_this394.vp);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-ringsettings:style",this["#style-picker"].value);}},{key:"bp",value:function bp(){this["#drawing-mode-buttons"].value=this.pp;}},{key:"mp",value:function mp(){this.no(),this.fp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.width/2,e=this["#geometry-preview"].viewBox.baseVal.height/2,i=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,s=this.vp*i;ul(this["#geometry-preview-shape"],{type:"ring",values:[t,e,s,s,i,i]}),this["#r1-grippie"].cx.baseVal.value=t,this["#r1-grippie"].cy.baseVal.value=e-s;}},{key:"fp",value:function fp(){var t=this["#geometry-preview"].viewBox.baseVal.height-10,e=(this.vp,Z(100*this.vp,0,100,0));this["#r1-slider"].value=e,this["#r1-input"].value=e;}},{key:"gp",value:function gp(){this["#style-picker"].value=this.xp;}}]);return zu;}(ta);_defineProperty(zu,"_shadowTemplate",Hi(_templateObject223()));_defineProperty(zu,"_shadowStyleSheet",Yi(_templateObject224()));customElements.define("bx-ringsettings",zu);var Ou=Number.MAX_SAFE_INTEGER;var Eu=/*#__PURE__*/function(_ta15){_inherits(Eu,_ta15);var _super81=_createSuper(Eu);function Eu(){var _this395;_classCallCheck(this,Eu);_this395=_super81.call(this),_this395["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this395.dp();}),_this395["#r1-grippie"].addEventListener("pointerdown",function(t){return _this395.$l(t);}),_this395["#r1-box"].addEventListener("changestart",function(t){return _this395.wp(t);}),_this395["#style-picker"].addEventListener("change",function(){return _this395.io();});return _this395;}_createClass(Eu,[{key:"tn",value:function tn(){this.pp=this.Qs.getConfig("bx-piesettings:drawingMode","polar"),this.vp=this.Qs.getConfig("bx-piesettings:r1",0),this.xp=this.Qs.getConfig("bx-piesettings:style"),this.bp(),this.mp(),this.gp();}},{key:"dp",value:function dp(){this.Qs.setConfig("bx-piesettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"$l",value:function $l(t){var _this396=this;var e,_i804,s=Vt(this["#geometry-preview-shape"]).inverse(),n=pl(this["#geometry-preview-shape"]),_n$values2=_slicedToArray(n.values,6),o=_n$values2[0],l=_n$values2[1],h=_n$values2[2],a=_n$values2[3],r=_n$values2[4],d=_n$values2[5],c=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,p=new DOMPoint(o,l),u=p,x=new DOMPoint(o,l-Ou);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_ze41=ze(u,x,n,!1),_ze42=_slicedToArray(_ze41,1),o=_ze42[0],l=Pe(p,o),h=Z(l/c,0,1,2);_this396.vp=h,_this396.mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i804=function i(){_this396["#geometry-preview"].removeEventListener("pointermove",e),_this396["#geometry-preview"].removeEventListener("lostpointercapture",_i804),_this396.Qs.setConfig("bx-piesettings:r1",_this396.vp);});}},{key:"wp",value:function wp(){var _this397=this;var t,_e819;this["#r1-box"].addEventListener("change",t=function t(_t1094){_this397.vp=Z(_t1094.target.value/100,0,1,2),_this397.mp();}),this["#r1-box"].addEventListener("changeend",_e819=function e(){_this397["#r1-box"].removeEventListener("change",t),_this397["#r1-box"].removeEventListener("changeend",_e819),_this397.Qs.setConfig("bx-piesettings:r1",_this397.vp);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-piesettings:style",this["#style-picker"].value);}},{key:"bp",value:function bp(){this["#drawing-mode-buttons"].value=this.pp;}},{key:"mp",value:function mp(){this.no(),this.fp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.width/2,e=this["#geometry-preview"].viewBox.baseVal.height/2,i=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,s=this.vp*i;ul(this["#geometry-preview-shape"],{type:"pie",values:[t,e,s,i,90,360]}),this["#r1-grippie"].cx.baseVal.value=t,this["#r1-grippie"].cy.baseVal.value=e-s;}},{key:"fp",value:function fp(){var t=this["#geometry-preview"].viewBox.baseVal.height-10,e=(this.vp,Z(100*this.vp,0,100,0));this["#r1-slider"].value=e,this["#r1-input"].value=e;}},{key:"gp",value:function gp(){this["#style-picker"].value=this.xp;}}]);return Eu;}(ta);_defineProperty(Eu,"_shadowTemplate",Hi(_templateObject225()));_defineProperty(Eu,"_shadowStyleSheet",Yi(_templateObject226()));customElements.define("bx-piesettings",Eu);var Tu=Math.abs,Au=Math.sin,$u=Math.cos;var Iu=/*#__PURE__*/function(_ta16){_inherits(Iu,_ta16);var _super82=_createSuper(Iu);function Iu(){var _this398;_classCallCheck(this,Iu);_this398=_super82.call(this),_this398["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this398.dp();}),_this398["#arch-grippie"].addEventListener("pointerdown",function(t){return _this398.vl(t);}),_this398["#hollow-grippie"].addEventListener("pointerdown",function(t){return _this398.yl(t);}),_this398["#arch-box"].addEventListener("changestart",function(t){return _this398.yp(t);}),_this398["#hollow-box"].addEventListener("changestart",function(t){return _this398.kp(t);}),_this398["#style-picker"].addEventListener("change",function(){return _this398.io();});return _this398;}_createClass(Iu,[{key:"tn",value:function tn(){this.pp=this.Qs.getConfig("bx-crescentsettings:drawingMode","polar"),this.Sp=this.Qs.getConfig("bx-crescentsettings:arch",300),this._p=this.Qs.getConfig("bx-crescentsettings:hollow",.7),this.xp=this.Qs.getConfig("bx-crescentsettings:style"),this.bp(),this.mp(),this.gp();}},{key:"vl",value:function vl(t){var _this399=this;var e,_i805,s=pl(this["#geometry-preview-shape"]),n=Vt(this["#geometry-preview-shape"]).inverse(),_s$values=_slicedToArray(s.values,5),o=_s$values[0],l=_s$values[1],h=_s$values[2],a=_s$values[3],r=_s$values[4];new DOMPoint(o+h,l),new DOMPoint(o-h,l);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),i=Ye(e,new DOMPoint(o,l),h),s=new DOMPoint(o,l),a=new DOMPoint(o+h,l),r=$e(s,i,a);_this399.Sp=r<0&&r>=-90?1:r<-90&&r>=-180?359:Z(Tu(2*r),1,359,0),_this399.mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i805=function i(){_this399["#geometry-preview"].removeEventListener("pointermove",e),_this399["#geometry-preview"].removeEventListener("lostpointercapture",_i805),_this399.Qs.setConfig("bx-crescentsettings:arch",_this399.Sp);});}},{key:"yl",value:function yl(t){var _this400=this;var e,_i806,s=pl(this["#geometry-preview-shape"]),n=Vt(this["#geometry-preview-shape"]).inverse(),_s$values2=_slicedToArray(s.values,5),o=_s$values2[0],l=_s$values2[1],h=_s$values2[2],a=_s$values2[3],r=_s$values2[4],d=new DOMPoint(o-h,l),c=new DOMPoint(o+h,l);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),_ze43=ze(d,c,e,!1),_ze44=_slicedToArray(_ze43,1),i=_ze44[0];r=(i.x-d.x)/(2*h),r=Z(r,0,1,4),_this400._p=r,_this400.mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i806=function i(){_this400["#geometry-preview"].removeEventListener("pointermove",e),_this400["#geometry-preview"].removeEventListener("lostpointercapture",_i806),_this400.Qs.setConfig("bx-crescentsettings:hollow",_this400._p);});}},{key:"yp",value:function yp(){var _this401=this;var t,_e820;this["#arch-box"].addEventListener("change",t=function t(_t1095){_this401.Sp=Z(_t1095.target.value,1,359,0),_this401.mp();}),this["#arch-box"].addEventListener("changeend",_e820=function e(){_this401["#arch-box"].removeEventListener("change",t),_this401["#arch-box"].removeEventListener("changeend",_e820),_this401.Qs.setConfig("bx-crescentsettings:arch",_this401.Sp);});}},{key:"kp",value:function kp(){var _this402=this;var t,_e821;this["#hollow-box"].addEventListener("change",t=function t(_t1096){_this402._p=Z(_t1096.target.value/100,0,1,2),_this402.mp();}),this["#hollow-box"].addEventListener("changeend",_e821=function e(){_this402["#hollow-box"].removeEventListener("change",t),_this402["#hollow-box"].removeEventListener("changeend",_e821),_this402.Qs.setConfig("bx-crescentsettings:hollow",_this402._p);});}},{key:"dp",value:function dp(){this.Qs.setConfig("bx-crescentsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"io",value:function io(){this.Qs.setConfig("bx-crescentsettings:style",this["#style-picker"].value);}},{key:"bp",value:function bp(){this["#drawing-mode-buttons"].value=this.pp;}},{key:"mp",value:function mp(){this.no(),this.fp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.width/2,e=this["#geometry-preview"].viewBox.baseVal.height/2,i=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,s=this.Sp,n=this._p;ul(this["#geometry-preview-shape"],{type:"crescent",values:[t,e,i,s,n]});{var _n344=Ie(90-s/2),_o271=Re(_n344);this["#arch-grippie"].cx.baseVal.value=t+i*Au(_o271),this["#arch-grippie"].cy.baseVal.value=e+i*-$u(_o271);}this["#hollow-grippie"].cx.baseVal.value=t-i+2*i*n,this["#hollow-grippie"].cy.baseVal.value=e;}},{key:"fp",value:function fp(){var t=Z(this.Sp,1,359,0),e=Z(100*this._p,0,100,0);this["#arch-slider"].value=t,this["#arch-input"].value=t,this["#hollow-slider"].value=e,this["#hollow-input"].value=e;}},{key:"gp",value:function gp(){this["#style-picker"].value=this.xp;}}]);return Iu;}(ta);_defineProperty(Iu,"_shadowTemplate",Hi(_templateObject227()));_defineProperty(Iu,"_shadowStyleSheet",Yi(_templateObject228()));customElements.define("bx-crescentsettings",Iu);var Lu=Math.abs;var Bu=/*#__PURE__*/function(_ta17){_inherits(Bu,_ta17);var _super83=_createSuper(Bu);function Bu(){var _this403;_classCallCheck(this,Bu);_this403=_super83.call(this),_this403["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this403.dp();}),_this403["#shift-grippie"].addEventListener("pointerdown",function(t){return _this403._l(t);}),_this403["#corner-grippie"].addEventListener("pointerdown",function(t){return _this403.Cl(t);}),_this403["#shift-box"].addEventListener("changestart",function(t){return _this403.Cp(t);}),_this403["#corner-box"].addEventListener("changestart",function(t){return _this403.Mp(t);}),_this403["#style-picker"].addEventListener("change",function(){return _this403.io();});return _this403;}_createClass(Bu,[{key:"tn",value:function tn(){this.pp=this.Qs.getConfig("bx-trianglesettings:drawingMode","polar"),this.un=this.Qs.getConfig("bx-trianglesettings:shift",.5),this.Pp=this.Qs.getConfig("bx-trianglesettings:corner",0),this.xp=this.Qs.getConfig("bx-trianglesettings:style"),this.bp(),this.mp(),this.gp();}},{key:"_l",value:function _l(t){var _this404=this;var e,_i807,s=pl(this["#geometry-preview-shape"]),n=Vt(this["#geometry-preview-shape"]).inverse(),_s$values3=_slicedToArray(s.values,6),o=_s$values3[0],l=_s$values3[1],h=_s$values3[2],a=_s$values3[3],r=_s$values3[4],d=_s$values3[5],c=new DOMPoint(o,l),p=new DOMPoint(o+h,l);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),_ze45=ze(c,p,e,!1),_ze46=_slicedToArray(_ze45,1),i=_ze46[0];r=(i.x-c.x)/h,r=Z(r,0,1,4),_this404.Qs.modKeys.shift&&(r=[0,.5,1].reduce(function(t,e){return Lu(e-r)<Lu(t-r)?e:t;})),_this404.un=r,_this404.mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i807=function i(){_this404["#geometry-preview"].removeEventListener("pointermove",e),_this404["#geometry-preview"].removeEventListener("lostpointercapture",_i807),_this404.Qs.setConfig("bx-trianglesettings:shift",_this404.un);});}},{key:"Cl",value:function Cl(t){var _this405=this;var e,_i808,s=pl(this["#geometry-preview-shape"]),n=Vt(this["#geometry-preview-shape"]).inverse(),_s$values4=_slicedToArray(s.values,6),o=_s$values4[0],l=_s$values4[1],h=_s$values4[2],a=_s$values4[3],r=_s$values4[4],d=_s$values4[5],c=new DOMPoint(o+h*r,l),p=new DOMPoint(o+h,l+a),u=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),x=new DOMPoint(u.x,u.y);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);x=e.matrixTransform(n);var _ze47=ze(p,c,x,!1),_ze48=_slicedToArray(_ze47,1),i=_ze48[0],s=new q(p,i),o=new q(p,c),l=s.length/o.length;_this405.Pp=Z(l,0,.5,4),_this405.mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i808=function i(){_this405["#geometry-preview"].removeEventListener("pointermove",e),_this405["#geometry-preview"].removeEventListener("lostpointercapture",_i808),_this405.Qs.setConfig("bx-trianglesettings:corner",_this405.Pp);});}},{key:"Cp",value:function Cp(){var _this406=this;var t,_e822;this["#shift-box"].addEventListener("change",t=function t(_t1097){_this406.un=Z((_t1097.target.value+50)/100,0,1,2),_this406.mp();}),this["#shift-box"].addEventListener("changeend",_e822=function e(){_this406["#shift-box"].removeEventListener("change",t),_this406["#shift-box"].removeEventListener("changeend",_e822),_this406.Qs.setConfig("bx-trianglesettings:shift",_this406.un);});}},{key:"Mp",value:function Mp(){var _this407=this;var t,_e823;this["#corner-box"].addEventListener("change",t=function t(_t1098){_this407.Pp=Z(_t1098.target.value/200,0,1,2),_this407.mp();}),this["#corner-box"].addEventListener("changeend",_e823=function e(){_this407["#corner-box"].removeEventListener("change",t),_this407["#corner-box"].removeEventListener("changeend",_e823),_this407.Qs.setConfig("bx-trianglesettings:corner",_this407.Pp);});}},{key:"dp",value:function dp(){this.Qs.setConfig("bx-trianglesettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"io",value:function io(){this.Qs.setConfig("bx-trianglesettings:style",this["#style-picker"].value);}},{key:"bp",value:function bp(){this["#drawing-mode-buttons"].value=this.pp;}},{key:"mp",value:function mp(){this.no(),this.fp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.height-10,e=t,i=this["#geometry-preview"].viewBox.baseVal.width/2-e/2,s=this.un,n=this.Pp;ul(this["#geometry-preview-shape"],{type:"triangle",values:[i,5,e,t,s,n]});{var _o272=new DOMPoint(i+e*s,5),_l238=new DOMPoint(i+e,5+t),_h182=Oe(_l238,_o272,n);this["#corner-grippie"].cx.baseVal.value=_h182.x,this["#corner-grippie"].cy.baseVal.value=_h182.y;}{var _t1099=new DOMPoint(i+e*s,5);this["#shift-grippie"].setAttribute("cx",_t1099.x),this["#shift-grippie"].setAttribute("cy",_t1099.y);}}},{key:"fp",value:function fp(){var t=Z(200*this.Pp,0,100,0),e=Z(100*(this.un-.5),-50,50,0);this["#corner-slider"].value=t,this["#corner-input"].value=t,this["#shift-slider"].value=e,this["#shift-input"].value=e;}},{key:"gp",value:function gp(){this["#style-picker"].value=this.xp;}}]);return Bu;}(ta);_defineProperty(Bu,"_shadowTemplate",Hi(_templateObject229()));_defineProperty(Bu,"_shadowStyleSheet",Yi(_templateObject230()));customElements.define("bx-trianglesettings",Bu);var Ru=/*#__PURE__*/function(_ta18){_inherits(Ru,_ta18);var _super84=_createSuper(Ru);function Ru(){var _this408;_classCallCheck(this,Ru);_this408=_super84.call(this),_this408["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this408.dp();}),_this408["#corner-grippie"].addEventListener("pointerdown",function(t){return _this408.Cl(t);}),_this408["#arms-box"].addEventListener("changestart",function(t){return _this408.Dp(t);}),_this408["#corner-box"].addEventListener("changestart",function(t){return _this408.Mp(t);}),_this408["#style-picker"].addEventListener("change",function(){return _this408.io();});return _this408;}_createClass(Ru,[{key:"tn",value:function tn(){this.pp=this.Qs.getConfig("bx-ngonsettings:drawingMode","polar"),this.zp=this.Qs.getConfig("bx-ngonsettings:arms",5),this.Pp=this.Qs.getConfig("bx-ngonsettings:corner",0),this.xp=this.Qs.getConfig("bx-ngonsettings:style"),this.bp(),this.mp(),this.gp();}},{key:"dp",value:function dp(){this.Qs.setConfig("bx-ngonsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"Cl",value:function Cl(t){var _this409=this;var e,_i809,s=pl(this["#geometry-preview-shape"]),n=Vt(this["#geometry-preview-shape"]).inverse(),_s$values5=_slicedToArray(s.values,6),o=_s$values5[0],l=_s$values5[1],h=_s$values5[2],a=_s$values5[3],r=_s$values5[4],d=_s$values5[5],c=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),p=new DOMPoint(c.x,c.y),u=Ml(0,o,l,h,a,r),x=Ml(1,o,l,h,a,r);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);p=e.matrixTransform(n);var _ze49=ze(u,x,p,!1),_ze50=_slicedToArray(_ze49,1),i=_ze50[0],s=new q(u,i),o=new q(u,x),l=s.length/o.length;_this409.Pp=Z(l,0,.5,2),_this409.mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i809=function i(){_this409["#geometry-preview"].removeEventListener("pointermove",e),_this409["#geometry-preview"].removeEventListener("lostpointercapture",_i809),_this409.Qs.setConfig("bx-ngonsettings:corner",_this409.Pp);});}},{key:"Dp",value:function Dp(){var _this410=this;var t,_e824;this["#arms-box"].addEventListener("change",t=function t(_t1100){_this410.zp=Z(_t1100.target.value,4,Infinity,0),_this410.mp();}),this["#arms-box"].addEventListener("changeend",_e824=function e(){_this410["#arms-box"].removeEventListener("change",t),_this410["#arms-box"].removeEventListener("changeend",_e824),_this410.Qs.setConfig("bx-ngonsettings:arms",_this410.zp);});}},{key:"Mp",value:function Mp(){var _this411=this;var t,_e825;this["#corner-box"].addEventListener("change",t=function t(_t1101){_this411.Pp=Z(_t1101.target.value/200,0,1,2),_this411.mp();}),this["#corner-box"].addEventListener("changeend",_e825=function e(){_this411["#corner-box"].removeEventListener("change",t),_this411["#corner-box"].removeEventListener("changeend",_e825),_this411.Qs.setConfig("bx-ngonsettings:corner",_this411.Pp);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-ngonsettings:style",this["#style-picker"].value);}},{key:"bp",value:function bp(){this["#drawing-mode-buttons"].value=this.pp;}},{key:"mp",value:function mp(){this.no(),this.fp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.width/2,e=this["#geometry-preview"].viewBox.baseVal.height/2,i=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,s=i;ul(this["#geometry-preview-shape"],{type:"n-gon",values:[t,e,i,s,this.zp,this.Pp]});{var _n345=Ml(0,t,e,i,s,this.zp),_o273=Ml(1,t,e,i,s,this.zp),_l239=Oe(_n345,_o273,this.Pp);this["#corner-grippie"].cx.baseVal.value=_l239.x,this["#corner-grippie"].cy.baseVal.value=_l239.y;}}},{key:"fp",value:function fp(){var t=X(200*this.Pp,0);this["#arms-slider"].value=this.zp,this["#arms-input"].value=this.zp,this["#corner-slider"].value=t,this["#corner-input"].value=t;}},{key:"gp",value:function gp(){this["#style-picker"].value=this.xp;}}]);return Ru;}(ta);_defineProperty(Ru,"_shadowTemplate",Hi(_templateObject231()));_defineProperty(Ru,"_shadowStyleSheet",Yi(_templateObject232()));customElements.define("bx-ngonsettings",Ru);var Gu=Math.sin,Fu=Math.cos,Uu=Math.PI;var Nu=/*#__PURE__*/function(_ta19){_inherits(Nu,_ta19);var _super85=_createSuper(Nu);function Nu(){var _this412;_classCallCheck(this,Nu);_this412=_super85.call(this),_this412["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this412.dp();}),_this412["#depth-grippie"].addEventListener("pointerdown",function(t){return _this412.El(t);}),_this412["#depth-box"].addEventListener("changestart",function(t){return _this412.Op(t);}),_this412["#arms-box"].addEventListener("changestart",function(t){return _this412.Dp(t);}),_this412["#style-picker"].addEventListener("change",function(){return _this412.io();});return _this412;}_createClass(Nu,[{key:"tn",value:function tn(){this.pp=this.Qs.getConfig("bx-starsettings:drawingMode","polar"),this.Ep=this.Qs.getConfig("bx-starsettings:depth",.4),this.zp=this.Qs.getConfig("bx-starsettings:arms",5),this.xp=this.Qs.getConfig("bx-starsettings:style"),this.bp(),this.mp(),this.gp();}},{key:"dp",value:function dp(){this.Qs.setConfig("bx-starsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"El",value:function El(t){var _this413=this;var e,_i810,s=Vt(this["#geometry-preview-shape"]).inverse(),n=pl(this["#geometry-preview-shape"]),_n$values3=_slicedToArray(n.values,6),o=_n$values3[0],l=_n$values3[1],h=_n$values3[2],a=_n$values3[3],r=_n$values3[4],d=_n$values3[5],c=new DOMPoint(o,l);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(s),i=2*Uu*(1/d/2)-Uu/2,n=c,r=new DOMPoint(h*Fu(i)+o,a*Gu(i)+l),_ze51=ze(n,r,e,!1),_ze52=_slicedToArray(_ze51,1),p=_ze52[0],u=new q(n,p).length/new q(n,r).length;_this413.Ep=Z(u,0,1,2),_this413.mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i810=function i(){_this413["#geometry-preview"].removeEventListener("pointermove",e),_this413["#geometry-preview"].removeEventListener("lostpointercapture",_i810),_this413.Qs.setConfig("bx-starsettings:depth",_this413.Ep);});}},{key:"Op",value:function Op(){var _this414=this;var t,_e826;this["#depth-box"].addEventListener("change",t=function t(_t1102){_this414.Ep=Z(_t1102.target.value/100,0,1,2),_this414.mp();}),this["#depth-box"].addEventListener("changeend",_e826=function e(){_this414["#depth-box"].removeEventListener("change",t),_this414["#depth-box"].removeEventListener("changeend",_e826),_this414.Qs.setConfig("bx-starsettings:depth",_this414.Ep);});}},{key:"Dp",value:function Dp(){var _this415=this;var t,_e827;this["#arms-box"].addEventListener("change",t=function t(_t1103){_this415.zp=Z(_t1103.target.value,4,Infinity,0),_this415.mp();}),this["#arms-box"].addEventListener("changeend",_e827=function e(){_this415["#arms-box"].removeEventListener("change",t),_this415["#arms-box"].removeEventListener("changeend",_e827),_this415.Qs.setConfig("bx-starsettings:arms",_this415.zp);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-starsettings:style",this["#style-picker"].value);}},{key:"bp",value:function bp(){this["#drawing-mode-buttons"].value=this.pp;}},{key:"mp",value:function mp(){this.no(),this.fp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.width/2,e=this["#geometry-preview"].viewBox.baseVal.height/2,i=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,s=i,n=Pl(1,t,e,i,s,this.Ep,this.zp);ul(this["#geometry-preview-shape"],{type:"star",values:[t,e,i,s,this.Ep,this.zp]}),this["#depth-grippie"].cx.baseVal.value=n.x,this["#depth-grippie"].cy.baseVal.value=n.y;}},{key:"fp",value:function fp(){var t=X(100*this.Ep,0);this["#depth-slider"].value=t,this["#depth-input"].value=t,this["#arms-slider"].value=this.zp,this["#arms-input"].value=this.zp;}},{key:"gp",value:function gp(){this["#style-picker"].value=this.xp;}}]);return Nu;}(ta);_defineProperty(Nu,"_shadowTemplate",Hi(_templateObject233()));_defineProperty(Nu,"_shadowStyleSheet",Yi(_templateObject234()));customElements.define("bx-starsettings",Nu);var Vu=Math.sin,ju=Math.cos,Hu=Math.tan,Yu=Number.MAX_SAFE_INTEGER;var Wu=/*#__PURE__*/function(_ta20){_inherits(Wu,_ta20);var _super86=_createSuper(Wu);function Wu(){var _this416;_classCallCheck(this,Wu);_this416=_super86.call(this),_this416["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this416.dp();}),_this416["#r1-grippie"].addEventListener("pointerdown",function(t){return _this416.$l(t);}),_this416["#r2-grippie"].addEventListener("pointerdown",function(t){return _this416.Il(t);}),_this416["#r3-grippie"].addEventListener("pointerdown",function(t){return _this416.Ll(t);}),_this416["#splay-grippie"].addEventListener("pointerdown",function(t){return _this416.Rl(t);}),_this416["#r1-box"].addEventListener("changestart",function(t){return _this416.wp(t);}),_this416["#r2-box"].addEventListener("changestart",function(t){return _this416.Tp(t);}),_this416["#r3-box"].addEventListener("changestart",function(t){return _this416.Ap(t);}),_this416["#splay-box"].addEventListener("changestart",function(t){return _this416.$p(t);}),_this416["#teeth-box"].addEventListener("changestart",function(t){return _this416.Ip(t);}),_this416["#style-picker"].addEventListener("change",function(){return _this416.io();});return _this416;}_createClass(Wu,[{key:"tn",value:function tn(){this.pp=this.Qs.getConfig("bx-cogsettings:drawingMode","polar"),this.vp=this.Qs.getConfig("bx-cogsettings:r1",.3),this.Lp=this.Qs.getConfig("bx-cogsettings:r2",.65),this.Bp=this.Qs.getConfig("bx-cogsettings:r3",1),this.Rp=this.Qs.getConfig("bx-cogsettings:splay",.38),this.Gp=this.Qs.getConfig("bx-cogsettings:teeth",8),this.xp=this.Qs.getConfig("bx-cogsettings:style"),this.bp(),this.mp(),this.gp();}},{key:"dp",value:function dp(){this.Qs.setConfig("bx-cogsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"$l",value:function $l(t){var _this417=this;var e,_i811,s=Vt(this["#geometry-preview-shape"]).inverse(),n=pl(this["#geometry-preview-shape"]),_n$values4=_slicedToArray(n.values,7),o=_n$values4[0],l=_n$values4[1],h=_n$values4[2],a=_n$values4[3],r=_n$values4[4],d=_n$values4[5],c=_n$values4[6],p=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,u=new DOMMatrix().translateSelf(o,l).rotateSelf(360/c/2).translateSelf(-o,-l),x=new DOMPoint(o,l),b=x,m=new DOMPoint(o,l-Yu).matrixTransform(u);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_ze53=ze(b,m,n,!1),_ze54=_slicedToArray(_ze53,1),o=_ze54[0],l=Pe(x,o),h=Z(l/p,0,1,2);_this417.vp=h,_this417.mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i811=function i(){_this417["#geometry-preview"].removeEventListener("pointermove",e),_this417["#geometry-preview"].removeEventListener("lostpointercapture",_i811),_this417.Qs.setConfig("bx-cogsettings:r1",_this417.vp);});}},{key:"Il",value:function Il(t){var _this418=this;var e,_i812,s=Vt(this["#geometry-preview-shape"]).inverse(),n=pl(this["#geometry-preview-shape"]),_n$values5=_slicedToArray(n.values,7),o=_n$values5[0],l=_n$values5[1],h=_n$values5[2],a=_n$values5[3],r=_n$values5[4],d=_n$values5[5],c=_n$values5[6],p=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,u=new DOMMatrix().translateSelf(o,l).rotateSelf(360/c/2).translateSelf(-o,-l),x=new DOMPoint(o,l),b=x,m=new DOMPoint(o,l-Yu).matrixTransform(u);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_ze55=ze(b,m,n,!1),_ze56=_slicedToArray(_ze55,1),o=_ze56[0],l=Pe(x,o),h=Z(l/p,0,1,2);_this418.Lp=h,_this418.mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i812=function i(){_this418["#geometry-preview"].removeEventListener("pointermove",e),_this418["#geometry-preview"].removeEventListener("lostpointercapture",_i812),_this418.Qs.setConfig("bx-cogsettings:r2",_this418.Lp);});}},{key:"Ll",value:function Ll(t){var _this419=this;var e,_i813,s=Vt(this["#geometry-preview-shape"]).inverse(),n=pl(this["#geometry-preview-shape"]),_n$values6=_slicedToArray(n.values,5),o=_n$values6[0],l=_n$values6[1],h=_n$values6[2],a=_n$values6[3],r=_n$values6[4],d=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,c=new DOMPoint(o,l),p=c,u=new DOMPoint(o,l-Yu);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_ze57=ze(p,u,n,!1),_ze58=_slicedToArray(_ze57,1),o=_ze58[0],l=Pe(c,o),h=Z(l/d,0,1,2);_this419.Bp=h,_this419.mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i813=function i(){_this419["#geometry-preview"].removeEventListener("pointermove",e),_this419["#geometry-preview"].removeEventListener("lostpointercapture",_i813),_this419.Qs.setConfig("bx-cogsettings:r3",_this419.Bp);});}},{key:"Rl",value:function Rl(t){var _this420=this;var e,_i814,_pl$values37=_slicedToArray(pl(this["#geometry-preview-shape"]).values,7),s=_pl$values37[0],n=_pl$values37[1],o=_pl$values37[2],l=_pl$values37[3],h=_pl$values37[4],a=_pl$values37[5],r=_pl$values37[6],d=Vt(this["#geometry-preview-shape"]).inverse(),c=function c(t){var e=360/r,i=e/4,o=Hu(Re(i-t*i))*h,l=Re(e-90);return new DOMPoint(s+h*ju(l)-Vu(l)*o,n+h*Vu(l)+ju(l)*o);},p=c(0),u=c(1);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,s=new DOMPoint(e,i).matrixTransform(d),_ze59=ze(p,u,s,!1),_ze60=_slicedToArray(_ze59,1),n=_ze60[0],o=Pe(p,n)/Pe(p,u);_this420.Rp=Z(o,0,1,3),_this420.mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i814=function i(){_this420["#geometry-preview"].removeEventListener("pointermove",e),_this420["#geometry-preview"].removeEventListener("lostpointercapture",_i814),_this420.Qs.setConfig("bx-cogsettings:splay",_this420.Rp);});}},{key:"wp",value:function wp(){var _this421=this;var t,_e828;this["#r1-box"].addEventListener("change",t=function t(_t1104){_this421.vp=Z(_t1104.target.value/100,0,1,2),_this421.mp();}),this["#r1-box"].addEventListener("changeend",_e828=function e(){_this421["#r1-box"].removeEventListener("change",t),_this421["#r1-box"].removeEventListener("changeend",_e828),_this421.Qs.setConfig("bx-cogsettings:r1",_this421.vp);});}},{key:"Tp",value:function Tp(){var _this422=this;var t,_e829;this["#r2-box"].addEventListener("change",t=function t(_t1105){_this422.Lp=Z(_t1105.target.value/100,0,1,2),_this422.mp();}),this["#r2-box"].addEventListener("changeend",_e829=function e(){_this422["#r2-box"].removeEventListener("change",t),_this422["#r2-box"].removeEventListener("changeend",_e829),_this422.Qs.setConfig("bx-cogsettings:r2",_this422.Lp);});}},{key:"Ap",value:function Ap(){var _this423=this;var t,_e830;this["#r3-box"].addEventListener("change",t=function t(_t1106){_this423.Bp=Z(_t1106.target.value/100,0,1,2),_this423.mp();}),this["#r3-box"].addEventListener("changeend",_e830=function e(){_this423["#r3-box"].removeEventListener("change",t),_this423["#r3-box"].removeEventListener("changeend",_e830),_this423.Qs.setConfig("bx-cogsettings:r3",_this423.Bp);});}},{key:"$p",value:function $p(){var _this424=this;var t,_e831;this["#splay-box"].addEventListener("change",t=function t(_t1107){_this424.Rp=Z(_t1107.target.value/100,0,1,3),_this424.mp();}),this["#splay-box"].addEventListener("changeend",_e831=function e(){_this424["#splay-box"].removeEventListener("change",t),_this424["#splay-box"].removeEventListener("changeend",_e831),_this424.Qs.setConfig("bx-cogsettings:splay",_this424.Rp);});}},{key:"Ip",value:function Ip(){var _this425=this;var t,_e832;this["#teeth-box"].addEventListener("change",t=function t(_t1108){_this425.Gp=Z(_t1108.target.value,4,Infinity,0),_this425.mp();}),this["#teeth-box"].addEventListener("changeend",_e832=function e(){_this425["#teeth-box"].removeEventListener("change",t),_this425["#teeth-box"].removeEventListener("changeend",_e832),_this425.Qs.setConfig("bx-cogsettings:teeth",_this425.Gp);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-cogsettings:style",this["#style-picker"].value);}},{key:"bp",value:function bp(){this["#drawing-mode-buttons"].value=this.pp;}},{key:"mp",value:function mp(){this.no(),this.fp();}},{key:"no",value:function no(){var t=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,e=this["#geometry-preview"].viewBox.baseVal.width/2,i=this["#geometry-preview"].viewBox.baseVal.height/2,s=this.vp*t,n=this.Lp*t,o=this.Bp*t;ul(this["#geometry-preview-shape"],{type:"cog",values:[e,i,s,n,o,this.Rp,this.Gp]});{var _t1109=360/this.Gp,_s494=_t1109/4,_n346=Hu(Re(_s494-this.Rp*_s494))*o,_l240=Re(_t1109-90);this["#splay-grippie"].cx.baseVal.value=e+o*ju(_l240)-Vu(_l240)*_n346,this["#splay-grippie"].cy.baseVal.value=i+o*Vu(_l240)+ju(_l240)*_n346;}{var _t1110=new DOMMatrix().translate(e,i).rotate(360/this.Gp/2).translate(-e,-i),_n347=new DOMPoint(e,i-s).matrixTransform(_t1110);this["#r1-grippie"].cx.baseVal.value=_n347.x,this["#r1-grippie"].cy.baseVal.value=_n347.y;}{var _t1111=new DOMMatrix().translate(e,i).rotate(360/this.Gp/2).translate(-e,-i),_s495=new DOMPoint(e,i-n).matrixTransform(_t1111);this["#r2-grippie"].cx.baseVal.value=_s495.x,this["#r2-grippie"].cy.baseVal.value=_s495.y;}{var _t1112=new DOMPoint(e,i-o);this["#r3-grippie"].cx.baseVal.value=_t1112.x,this["#r3-grippie"].cy.baseVal.value=_t1112.y;}}},{key:"fp",value:function fp(){var t=X(100*this.vp,0),e=X(100*this.Lp,0),i=X(100*this.Bp,0),s=X(100*this.Rp,0);this["#r1-slider"].value=t,this["#r1-input"].value=t,this["#r2-slider"].value=e,this["#r2-input"].value=e,this["#r3-slider"].value=i,this["#r3-input"].value=i,this["#splay-slider"].value=s,this["#splay-input"].value=s,this["#teeth-slider"].value=this.Gp,this["#teeth-input"].value=this.Gp;}},{key:"gp",value:function gp(){this["#style-picker"].value=this.xp;}}]);return Wu;}(ta);_defineProperty(Wu,"_shadowTemplate",Hi(_templateObject235()));_defineProperty(Wu,"_shadowStyleSheet",Yi(_templateObject236()));customElements.define("bx-cogsettings",Wu);var qu=/*#__PURE__*/function(_ta21){_inherits(qu,_ta21);var _super87=_createSuper(qu);function qu(){var _this426;_classCallCheck(this,qu);_this426=_super87.call(this),_this426["#base-thickness-grippie"].addEventListener("pointerdown",function(t){return _this426.Vl(t);}),_this426["#head-size-grippie"].addEventListener("pointerdown",function(t){return _this426.jl(t);}),_this426["#head-inset-grippie"].addEventListener("pointerdown",function(t){return _this426.Hl(t);}),_this426["#base-thickness-box"].addEventListener("changestart",function(){return _this426.Fp();}),_this426["#head-thickness-box"].addEventListener("changestart",function(){return _this426.Up();}),_this426["#head-length-box"].addEventListener("changestart",function(){return _this426.Np();}),_this426["#head-inset-box"].addEventListener("changestart",function(){return _this426.Vp();}),_this426["#style-picker"].addEventListener("change",function(){return _this426.io();});return _this426;}_createClass(qu,[{key:"tn",value:function tn(){this.jp=this.Qs.getConfig("bx-arrowsettings:baseThickness",10),this.Hp=this.Qs.getConfig("bx-arrowsettings:headThickness",40),this.Yp=this.Qs.getConfig("bx-arrowsettings:headLength",40),this.Wp=this.Qs.getConfig("bx-arrowsettings:headInset",0),this.xp=this.Qs.getConfig("bx-arrowsettings:style"),this.mp(),this.gp();}},{key:"Vl",value:function Vl(t){var _this427=this;if(1!==t.buttons)return;var e,_i815,s=pl(this["#geometry-preview-shape"]),_s$values6=_slicedToArray(s.values,7),n=_s$values6[0],o=_s$values6[1],l=_s$values6[2],h=_s$values6[3],a=_s$values6[4],r=_s$values6[5],d=_s$values6[6],c=a,_Dl4=Dl.apply(void 0,_toConsumableArray(s.values)),p=_Dl4.maxBaseThickness;p=X(p,0),this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(_e833){var i=_e833.clientY-t.clientY;a=c-2*i,a=Z(a,1,p,0),_this427.jp=a,_this427.mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i815=function i(){_this427["#geometry-preview"].removeEventListener("pointermove",e),_this427["#geometry-preview"].removeEventListener("lostpointercapture",_i815),_this427.Qs.setConfig("bx-arrowsettings:baseThickness",a);});}},{key:"jl",value:function jl(t){var _this428=this;if(1!==t.buttons)return;var e,_i816,s=pl(this["#geometry-preview-shape"]),_s$values7=_slicedToArray(s.values,7),n=_s$values7[0],o=_s$values7[1],l=_s$values7[2],h=_s$values7[3],a=_s$values7[4],r=_s$values7[5],d=_s$values7[6],c=a,p=h,u=r;this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(_e834){var i=_e834.clientX-t.clientX,s=_e834.clientY-t.clientY;h=p+2*s,h=Z(h,a,60,0),r=u-i,r=Z(r,1,l,0);{var _Dl5=Dl(n,o,l,h,a,r,d),_t1113=_Dl5.maxBaseThickness;_t1113=X(_t1113,0),(a>_t1113||a<c)&&(a=_t1113);}_this428.Yp=r,_this428.Hp=h,_this428.jp=a,_this428.mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i816=function i(){_this428["#geometry-preview"].removeEventListener("pointermove",e),_this428["#geometry-preview"].removeEventListener("lostpointercapture",_i816),_this428.Qs.setConfig("bx-arrowsettings:baseThickness",_this428.jp),_this428.Qs.setConfig("bx-arrowsettings:headThickness",_this428.Hp),_this428.Qs.setConfig("bx-arrowsettings:headLength",_this428.Yp);});}},{key:"Hl",value:function Hl(t){var _this429=this;if(1!==t.buttons)return;var e,_i817,s=pl(this["#geometry-preview-shape"]),_s$values8=_slicedToArray(s.values,7),n=_s$values8[0],o=_s$values8[1],l=_s$values8[2],h=_s$values8[3],a=_s$values8[4],r=_s$values8[5],d=_s$values8[6],c=d,_Dl6=Dl.apply(void 0,_toConsumableArray(s.values)),p=_Dl6.maxHeadInset;p=X(p,0),this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(_e835){var i=_e835.clientX-t.clientX;d=c+i,d=Z(d,0,p,0),_this429.Wp=d,_this429.mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i817=function i(){_this429["#geometry-preview"].removeEventListener("pointermove",e),_this429["#geometry-preview"].removeEventListener("lostpointercapture",_i817),_this429.Qs.setConfig("bx-arrowsettings:headInset",d);});}},{key:"Fp",value:function Fp(){var _this430=this;var t,_e836,i=pl(this["#geometry-preview-shape"]),_Dl7=Dl.apply(void 0,_toConsumableArray(i.values)),s=_Dl7.maxBaseThickness;s=X(s,0),this["#base-thickness-box"].addEventListener("change",t=function t(_t1114){_this430.jp=Z(_t1114.target.value,1,s,0),_this430.mp();}),this["#base-thickness-box"].addEventListener("changeend",_e836=function e(){_this430["#base-thickness-box"].removeEventListener("change",t),_this430["#base-thickness-box"].removeEventListener("changeend",_e836),_this430.Qs.setConfig("bx-arrowsettings:baseThickness",_this430.jp);});}},{key:"Up",value:function Up(){var _this431=this;var t,_e837,i=pl(this["#geometry-preview-shape"]),_Dl8=Dl.apply(void 0,_toConsumableArray(i.values)),s=_Dl8.minHeadThickness;s=X(s,0),this["#head-thickness-box"].addEventListener("change",t=function t(_t1115){_this431.Hp=Z(_t1115.target.value,s,60,0),_this431.mp();}),this["#head-thickness-box"].addEventListener("changeend",_e837=function e(){_this431["#head-thickness-box"].removeEventListener("change",t),_this431["#head-thickness-box"].removeEventListener("changeend",_e837),_this431.Qs.setConfig("bx-arrowsettings:headThickness",_this431.Hp);});}},{key:"Np",value:function Np(){var _this432=this;var t,_e838,i=pl(this["#geometry-preview-shape"]),_Dl9=Dl.apply(void 0,_toConsumableArray(i.values)),s=_Dl9.minHeadLength;s=X(s,0),this["#head-length-box"].addEventListener("change",t=function t(_t1116){_this432.Yp=Z(_t1116.target.value,s,136,0),_this432.mp();}),this["#head-length-box"].addEventListener("changeend",_e838=function e(){_this432["#head-length-box"].removeEventListener("change",t),_this432["#head-length-box"].removeEventListener("changeend",_e838),_this432.Qs.setConfig("bx-arrowsettings:headLength",_this432.Yp);});}},{key:"Vp",value:function Vp(){var _this433=this;var t,_e839,i=pl(this["#geometry-preview-shape"]),_Dl10=Dl.apply(void 0,_toConsumableArray(i.values)),s=_Dl10.maxHeadInset;s=X(s,0),this["#head-inset-box"].addEventListener("change",t=function t(_t1117){_this433.Wp=Z(_t1117.target.value,0,s,0),_this433.mp();}),this["#head-inset-box"].addEventListener("changeend",_e839=function e(){_this433["#head-inset-box"].removeEventListener("change",t),_this433["#head-inset-box"].removeEventListener("changeend",_e839),_this433.Qs.setConfig("bx-arrowsettings:headInset",_this433.Wp);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-arrowsettings:style",this["#style-picker"].value);}},{key:"mp",value:function mp(){this.no(),this.fp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.width-10,e=this.Hp,i=this["#geometry-preview"].viewBox.baseVal.height/2-e/2,s=this.Wp;s>this.Yp&&(s=this.Yp),ul(this["#geometry-preview-shape"],{type:"arrow",values:[5,i,t,e,this.jp,this.Yp,s]}),this["#base-thickness-grippie"].cx.baseVal.value=5+(t-this.Yp+s)/2,this["#base-thickness-grippie"].cy.baseVal.value=i+e/2-this.jp/2,this["#head-size-grippie"].cx.baseVal.value=t-this.Yp+5,this["#head-size-grippie"].cy.baseVal.value=i+e,this["#head-inset-grippie"].cx.baseVal.value=5+t-this.Yp+s,this["#head-inset-grippie"].cy.baseVal.value=i+e/2-this.jp/2;}},{key:"fp",value:function fp(){this["#base-thickness-input"].value=this.jp,this["#base-thickness-slider"].value=this.jp,this["#head-thickness-input"].value=this.Hp,this["#head-thickness-slider"].value=this.Hp,this["#head-length-input"].value=this.Yp,this["#head-length-slider"].value=this.Yp,this["#head-inset-input"].value=this.Wp,this["#head-inset-slider"].value=this.Wp;}},{key:"gp",value:function gp(){this["#style-picker"].value=this.xp;}}]);return qu;}(ta);_defineProperty(qu,"_shadowTemplate",Hi(_templateObject237()));_defineProperty(qu,"_shadowStyleSheet",Yi(_templateObject238()));customElements.define("bx-arrowsettings",qu);var Xu=Math.min,Zu=Math.abs;var Ku=/*#__PURE__*/function(_ta22){_inherits(Ku,_ta22);var _super88=_createSuper(Ku);function Ku(){var _this434;_classCallCheck(this,Ku);_this434=_super88.call(this),_this434["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this434.dp();}),_this434["#thickness-grippie"].addEventListener("pointerdown",function(t){return _this434.qp(t);}),_this434["#shift-grippie"].addEventListener("pointerdown",function(t){return _this434._l(t);}),_this434["#thickness-box"].addEventListener("changestart",function(){return _this434.Xp();}),_this434["#shift-box"].addEventListener("changestart",function(){return _this434.Cp();}),_this434["#style-picker"].addEventListener("change",function(){return _this434.io();});return _this434;}_createClass(Ku,[{key:"tn",value:function tn(){this.pp=this.Qs.getConfig("bx-crosssettings:drawingMode","polar"),this.Zp=this.Qs.getConfig("bx-crosssettings:thickness",.2),this.un=this.Qs.getConfig("bx-crosssettings:shift",.5),this.xp=this.Qs.getConfig("bx-crosssettings:style"),this.bp(),this.mp(),this.gp();}},{key:"dp",value:function dp(){this.Qs.setConfig("bx-crosssettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"qp",value:function qp(t){var _this435=this;if(1!==t.buttons)return;var e,_i818,s=pl(this["#geometry-preview-shape"]),_s$values9=_slicedToArray(s.values,5),n=_s$values9[0],o=_s$values9[1],l=_s$values9[2],h=_s$values9[3],a=_s$values9[4],r=this["#geometry-preview"].getBoundingClientRect(),d=new DOMPoint(r.x+r.width/2,r.y+r.height*this.un),c=X(zl.apply(void 0,_toConsumableArray(s.values)).maxHorizontalArmThickness/h,2);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new q(e,d);a=Xu(i.x,i.y),a=a/l*2,a=Z(a,.01,c,2),_this435.Zp=a,_this435.mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i818=function i(){_this435["#geometry-preview"].removeEventListener("pointermove",e),_this435["#geometry-preview"].removeEventListener("lostpointercapture",_i818),_this435.Qs.setConfig("bx-crosssettings:thickness",a);});}},{key:"_l",value:function _l(t){var _this436=this;if(1!==t.buttons)return;var e,_i819,s=pl(this["#geometry-preview-shape"]),_s$values10=_slicedToArray(s.values,7),n=_s$values10[0],o=_s$values10[1],l=_s$values10[2],h=_s$values10[3],a=_s$values10[4],r=_s$values10[5],d=_s$values10[6],c=this["#geometry-preview"].getBoundingClientRect(),p=new DOMPoint(c.x+c.width/2,c.y+c.height/2),_zl3=zl.apply(void 0,_toConsumableArray(s.values)),u=_zl3.minShift,x=_zl3.maxShift;this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new q(p,e);d=i.y/h+.5,d=Z(d,u,x,2),_this436.un=d,_this436.mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i819=function i(){_this436["#geometry-preview"].removeEventListener("pointermove",e),_this436["#geometry-preview"].removeEventListener("lostpointercapture",_i819),_this436.Qs.setConfig("bx-crosssettings:shift",d);});}},{key:"Xp",value:function Xp(){var _this437=this;var t,_e840,i=pl(this["#geometry-preview-shape"]),_i$values=_slicedToArray(i.values,4),s=_i$values[0],n=_i$values[1],o=_i$values[2],l=_i$values[3],h=zl.apply(void 0,_toConsumableArray(i.values)).maxHorizontalArmThickness;h=X(h/l,2),this["#thickness-box"].addEventListener("change",t=function t(_t1118){var e=_t1118.target.value/100;_this437.Zp=Z(e,.01,h,2),_this437.mp();}),this["#thickness-box"].addEventListener("changeend",_e840=function e(){_this437["#thickness-box"].removeEventListener("change",t),_this437["#thickness-box"].removeEventListener("changeend",_e840),_this437.Qs.setConfig("bx-crosssettings:thickness",_this437.Zp);});}},{key:"Cp",value:function Cp(){var _this438=this;var t,_e841,i=pl(this["#geometry-preview-shape"]),_i$values2=_slicedToArray(i.values,4),s=_i$values2[0],n=_i$values2[1],o=_i$values2[2],l=_i$values2[3],_zl4=zl.apply(void 0,_toConsumableArray(i.values)),h=_zl4.minShift,a=_zl4.maxShift;this["#shift-box"].addEventListener("change",t=function t(_t1119){var e=(_t1119.target.value+50)/100;_this438.un=Z(e,h,a,2),_this438.mp();}),this["#shift-box"].addEventListener("changeend",_e841=function e(){_this438["#shift-box"].removeEventListener("change",t),_this438["#shift-box"].removeEventListener("changeend",_e841),_this438.Qs.setConfig("bx-crosssettings:shift",_this438.un);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-crosssettings:style",this["#style-picker"].value);}},{key:"bp",value:function bp(){this["#drawing-mode-buttons"].value=this.pp;}},{key:"mp",value:function mp(){this.no(),this.fp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.height-10,e=t,i=this["#geometry-preview"].viewBox.baseVal.width/2-e/2,s=this["#geometry-preview"].viewBox.baseVal.height/2-t/2;ul(this["#geometry-preview-shape"],{type:"cross",values:[i,s,e,t,this.Zp*e,this.Zp*t,this.un]}),this["#thickness-grippie"].cx.baseVal.value=i+e/2-this.Zp*e/2,this["#thickness-grippie"].cy.baseVal.value=s+t*this.un-this.Zp*t/2,this["#shift-grippie"].cx.baseVal.value=i+e/2,this["#shift-grippie"].cy.baseVal.value=s+t*this.un;}},{key:"fp",value:function fp(){var t=pl(this["#geometry-preview-shape"]),_t$values15=_slicedToArray(t.values,4),e=_t$values15[0],i=_t$values15[1],s=_t$values15[2],n=_t$values15[3],_zl5=zl.apply(void 0,_toConsumableArray(t.values)),o=_zl5.minShift,l=_zl5.maxShift,h=_zl5.maxHorizontalArmThickness,a=X(h/n*100,0),r=X(100*this.Zp,0),d=X(100*this.un-50,0),c=X(100*o-50,0),p=X(100*l-50,0);this["#thickness-input"].max=a,this["#thickness-input"].value=r,this["#thickness-slider"].max=a,this["#thickness-slider"].value=r,this["#shift-input"].min=c,this["#shift-input"].max=p,this["#shift-input"].value=d,this["#shift-slider"].min=c,this["#shift-slider"].max=p,this["#shift-slider"].value=d;}},{key:"gp",value:function gp(){this["#style-picker"].value=this.xp;}}]);return Ku;}(ta);_defineProperty(Ku,"_shadowTemplate",Hi(_templateObject239()));_defineProperty(Ku,"_shadowStyleSheet",Yi(_templateObject240()));customElements.define("bx-crosssettings",Ku);var Qu=/*#__PURE__*/function(_ta23){_inherits(Qu,_ta23);var _super89=_createSuper(Qu);function Qu(){var _this439;_classCallCheck(this,Qu);_this439=_super89.call(this),_this439["#style-picker"].addEventListener("change",function(){return _this439.io();});return _this439;}_createClass(Qu,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-linesettings:style");}},{key:"io",value:function io(){this.Qs.setConfig("bx-linesettings:style",this["#style-picker"].value);}}]);return Qu;}(ta);_defineProperty(Qu,"_shadowTemplate",Hi(_templateObject241()));customElements.define("bx-linesettings",Qu);var Ju=/*#__PURE__*/function(_ta24){_inherits(Ju,_ta24);var _super90=_createSuper(Ju);function Ju(){var _this440;_classCallCheck(this,Ju);_this440=_super90.call(this),_this440["#style-picker"].addEventListener("change",function(){return _this440.io();});return _this440;}_createClass(Ju,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-polylinesettings:style");}},{key:"io",value:function io(){this.Qs.setConfig("bx-polylinesettings:style",this["#style-picker"].value);}}]);return Ju;}(ta);_defineProperty(Ju,"_shadowTemplate",Hi(_templateObject242()));customElements.define("bx-polylinesettings",Ju);var tx=/*#__PURE__*/function(_ta25){_inherits(tx,_ta25);var _super91=_createSuper(tx);function tx(){var _this441;_classCallCheck(this,tx);_this441=_super91.call(this),_this441["#style-picker"].addEventListener("change",function(){return _this441.io();});return _this441;}_createClass(tx,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-polygonsettings:style");}},{key:"io",value:function io(){this.Qs.setConfig("bx-polygonsettings:style",this["#style-picker"].value);}}]);return tx;}(ta);_defineProperty(tx,"_shadowTemplate",Hi(_templateObject243()));customElements.define("bx-polygonsettings",tx);var ex=/*#__PURE__*/function(_HTMLElement64){_inherits(ex,_HTMLElement64);var _super92=_createSuper(ex);_createClass(ex,[{key:"value",get:function get(){var t=this["#buttons"].querySelector("x-button[toggled]");return t?t.getAttribute("value"):null;},set:function set(t){var e=this["#popovers"].querySelector("x-popover[opened]");if(e){var _t1120=e.id.replace("-popover","-button"),_i820=this["#buttons"].querySelector("x-button[id=\"".concat(_t1120,"\"]"));e.close(),_i820.removeAttribute("expanded");}var _iterator716=_createForOfIteratorHelper(this["#buttons"].children),_step716;try{for(_iterator716.s();!(_step716=_iterator716.n()).done;){var _e842=_step716.value;_e842.getAttribute("value")===t?_e842.setAttribute("toggled",""):_e842.removeAttribute("toggled");}}catch(err){_iterator716.e(err);}finally{_iterator716.f();}}}]);function ex(){var _this442;_classCallCheck(this,ex);_this442=_super92.call(this),_this442.Kp=!0,_this442.Qp=null,_this442._shadowRoot=_this442.attachShadow({mode:"closed"}),_this442._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,ex._shadowStyleSheet],_this442._shadowRoot.append(document.importNode(ex._shadowTemplate.content,!0));var _iterator717=_createForOfIteratorHelper(_this442._shadowRoot.querySelectorAll("[id]")),_step717;try{for(_iterator717.s();!(_step717=_iterator717.n()).done;){var _t1121=_step717.value;_this442["#"+_t1121.id]=_t1121;}}catch(err){_iterator717.e(err);}finally{_iterator717.f();}_this442["#buttons"].addEventListener("toggle",function(t){return _this442.Jp(t);}),_this442["#buttons"].addEventListener("pointerdown",function(t){return _this442.tu(t);}),_this442["#buttons"].addEventListener("pointerover",function(t){return _this442.eu(t);}),_this442["#buttons"].addEventListener("pointerout",function(t){return _this442.iu(t);});return _this442;}_createClass(ex,[{key:"connectedCallback",value:function connectedCallback(){var _this443=this;this.Qs=Ti(this,"#app"),this.Kp=this.Qs.getConfig("bx-uisettings:showDockTooltips",!0),this.Qs.addEventListener("configchange",this.ln=function(t){return _this443.hn(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Qs.removeEventListener("configchange",this.ln);}},{key:"hn",value:function hn(t){var _t$detail7=t.detail,e=_t$detail7.key,i=_t$detail7.value;"bx-uisettings:showDockTooltips"===e&&(this.Kp=null===i||i);}},{key:"Jp",value:function Jp(t){this.value=this["#buttons"].value,this.dispatchEvent(new CustomEvent("toggle"));}},{key:"tu",value:function tu(t){var e=t.target.closest("x-button");if(e&&e.toggled){var _t1122=e.id.replace("button","popover"),_i821=this["#popovers"].querySelector("x-popover[id=\"".concat(_t1122,"\"]"));if(_i821){var _t1123=_i821.firstElementChild;_i821.opened?(_i821.close(),_t1123.enabled=!1,e.removeAttribute("expanded")):(_t1123.enabled=!0,_i821.open(e,3),e.setAttribute("expanded","")),this.Vc();}}}},{key:"eu",value:function(){var _eu=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee101(t){var e;return regeneratorRuntime.wrap(function _callee101$(_context102){while(1){switch(_context102.prev=_context102.next){case 0:e=t.target.closest("x-button");_context102.t0=e!==this.Qp;if(!_context102.t0){_context102.next=9;break;}this.Qp=e;_context102.t1="touch"===t.pointerType;if(!_context102.t1){_context102.next=8;break;}_context102.next=8;return Ki(400);case 8:this.Vc();case 9:case"end":return _context102.stop();}}},_callee101,this);}));function eu(_x123){return _eu.apply(this,arguments);}return eu;}()},{key:"iu",value:function iu(t){t.target.closest("x-button")&&(this.Qp=null,this.Vc());}},{key:"Vc",value:function Vc(){if(this.Kp&&this.Qp&&!1===this.Qp.expanded){this["#tooltip"].hidden=!1,this["#tooltip"].textContent=this.Qp.getAttribute("data-tooltip");var _t1124=this["#buttons"].getBoundingClientRect(),_e843=this.Qp.getBoundingClientRect(),_i822=this["#tooltip"].getBoundingClientRect(),_s496=_e843.top-_t1124.top+_e843.height/2-_i822.height/2,_n348=_e843.right+4;this["#tooltip"].style.top=_s496+"px",this["#tooltip"].style.left=_n348+"px";}else this["#tooltip"].hidden=!0;}}]);return ex;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ex,"_shadowTemplate",Hi(_templateObject244()));_defineProperty(ex,"_shadowStyleSheet",Yi(_templateObject245()));customElements.define("bx-toolsdock",ex);var ix=/*#__PURE__*/function(_HTMLElement65){_inherits(ix,_HTMLElement65);var _super93=_createSuper(ix);_createClass(ix,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"width",get:function get(){return this.Fs;}}]);function ix(){var _this444;_classCallCheck(this,ix);_this444=_super93.call(this),_this444.Fs=0,_this444.Kp=!0,_this444.Qp=null,_this444.su=null,_this444._shadowRoot=_this444.attachShadow({mode:"closed"}),_this444._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,ix._shadowStyleSheet],_this444._shadowRoot.append(document.importNode(ix._shadowTemplate.content,!0));var _iterator718=_createForOfIteratorHelper(_this444._shadowRoot.querySelectorAll("[id]")),_step718;try{for(_iterator718.s();!(_step718=_iterator718.n()).done;){var _t1125=_step718.value;_this444["#"+_t1125.id]=_t1125;}}catch(err){_iterator718.e(err);}finally{_iterator718.f();}_this444.nu(),_this444["#buttons"].addEventListener("toggle",function(t){return _this444.Jp(t);}),_this444["#buttons"].addEventListener("pointerover",function(t){return _this444.eu(t);}),_this444["#buttons"].addEventListener("pointerout",function(t){return _this444.iu(t);}),_this444["#main"].addEventListener("transitionend",function(t){return _this444.ou(t);}),_this444["#resize-grippie"].addEventListener("pointerdown",function(t){return _this444.lu(t);});return _this444;}_createClass(ix,[{key:"connectedCallback",value:function(){var _connectedCallback2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee102(){var _this445=this;return regeneratorRuntime.wrap(function _callee102$(_context103){while(1){switch(_context103.prev=_context103.next){case 0:this.Qs=Ti(this,"#app");this.Kp=this.Qs.getConfig("bx-uisettings:showDockTooltips",!0);this.Fs=this.Qs.getConfig("bx-primarypanelsdock:width",318);As.addEventListener("sizechange",this.Qc=function(){return _this445.hu();});window.addEventListener("resize",this.au=function(){return _this445.hu();});this.Qs.addEventListener("configchange",this.ln=function(t){return _this445.hn(t);});_context103.next=8;return As.whenThemeReady;case 8:this.hu();case 9:case"end":return _context103.stop();}}},_callee102,this);}));function connectedCallback(){return _connectedCallback2.apply(this,arguments);}return connectedCallback;}()},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.Qc),window.removeEventListener("resize",this.au),this.Qs.removeEventListener("configchange",this.ln);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"value"===t&&this.ru(e);}},{key:"hn",value:function hn(t){var _t$detail8=t.detail,e=_t$detail8.key,i=_t$detail8.value;"bx-uisettings:showDockTooltips"===e?(this.Kp=null===i||i,this.Vc()):"bx-primarypanelsdock:width"===e&&(this.Fs=null===i?318:i,this.hu());}},{key:"ru",value:function ru(t){if(this["#buttons"].value=this.value,null===this.value)this.Vc(),this.setAttribute("animating",""),this.dispatchEvent(new CustomEvent("collapse"));else{this.Vc(),null===t&&this.setAttribute("animating","");var _iterator719=_createForOfIteratorHelper(this.children),_step719;try{for(_iterator719.s();!(_step719=_iterator719.n()).done;){var _t1126=_step719.value;_t1126.enabled=_t1126.id===this.value;}}catch(err){_iterator719.e(err);}finally{_iterator719.f();}null===this.su&&this.dispatchEvent(new CustomEvent("expand"));}this.su=this.value;}},{key:"Jp",value:function Jp(t){this.value=this["#buttons"].value,this.dispatchEvent(new CustomEvent("toggle"));}},{key:"eu",value:function(){var _eu2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee103(t){var e;return regeneratorRuntime.wrap(function _callee103$(_context104){while(1){switch(_context104.prev=_context104.next){case 0:e=t.target.closest("x-button");_context104.t0=e!==this.Qp;if(!_context104.t0){_context104.next=9;break;}this.Qp=e;_context104.t1="touch"===t.pointerType;if(!_context104.t1){_context104.next=8;break;}_context104.next=8;return Ki(400);case 8:this.Vc();case 9:case"end":return _context104.stop();}}},_callee103,this);}));function eu(_x124){return _eu2.apply(this,arguments);}return eu;}()},{key:"iu",value:function iu(t){t.target.closest("x-button")&&(this.Qp=null,this.Vc());}},{key:"ou",value:function ou(t){this.removeAttribute("animating");var _iterator720=_createForOfIteratorHelper(this.children),_step720;try{for(_iterator720.s();!(_step720=_iterator720.n()).done;){var _t1127=_step720.value;_t1127.enabled=_t1127.id===this.value;}}catch(err){_iterator720.e(err);}finally{_iterator720.f();}}},{key:"lu",value:function lu(t){var _this446=this;if(1!==t.buttons)return;this["#resize-grippie"].setPointerCapture(t.pointerId);var e,_i823,s=this["#buttons"].clientWidth,n=this.Fs-s;t.preventDefault(),this["#resize-grippie"].addEventListener("pointermove",e=function e(_e844){var i=n-(_e844.clientX-t.clientX);_this446.Fs=i+s,_this446.hu(),_this446.dispatchEvent(new CustomEvent("resize"));}),this["#resize-grippie"].addEventListener("lostpointercapture",_i823=function i(){_this446["#resize-grippie"].removeEventListener("pointermove",e),_this446["#resize-grippie"].removeEventListener("lostpointercapture",_i823),_this446.Qs.setConfig("bx-primarypanelsdock:width",_this446.Fs);});}},{key:"nu",value:function nu(){var t="";var _iterator721=_createForOfIteratorHelper(this.children),_step721;try{for(_iterator721.s();!(_step721=_iterator721.n()).done;){var _e845=_step721.value;var _i824=_e845.getAttribute("name");t+="\n        <x-button id=\"".concat(_e845.id,"-button\" skin=\"dock\" value=\"").concat(_e845.id,"\" data-tooltip=\"").concat(_i824,"\">\n          <x-icon name=\"").concat(_e845.id,"\"></x-icon>\n        </x-button>\n        ");}}catch(err){_iterator721.e(err);}finally{_iterator721.f();}this["#buttons"].innerHTML=t;}},{key:"hu",value:function hu(){this.Fs<318?this.Fs=318:this.Fs>window.innerWidth-38&&(this.Fs=window.innerWidth-38);var t=this["#buttons"].clientWidth;0===t&&(t=parseFloat(getComputedStyle(this["#buttons"].firstElementChild).width));var e=this.Fs-t;this["#main"].style.right=t+"px",this["#main"].style.width=e+"px",this["#main"].style.transform="translateX(".concat(e+1,"px)");}},{key:"Vc",value:function Vc(){if(this.Kp&&this.Qp&&!1===this.Qp.toggled){this["#tooltip"].hidden=!1,this["#tooltip"].textContent=this.Qp.getAttribute("data-tooltip");var _t1128=this["#buttons"].getBoundingClientRect(),_e846=this.Qp.getBoundingClientRect(),_i825=this["#tooltip"].getBoundingClientRect(),_s497=_e846.top-_t1128.top+_e846.height/2-_i825.height/2,_n349=_e846.width+4;this["#tooltip"].style.top=_s497+"px",this["#tooltip"].style.right=_n349+"px";}else this["#tooltip"].hidden=!0;}}]);return ix;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ix,"observedAttributes",["value"]);_defineProperty(ix,"_shadowTemplate",Hi(_templateObject246()));_defineProperty(ix,"_shadowStyleSheet",Yi(_templateObject247()));customElements.define("bx-primarypanelsdock",ix);var sx=/*#__PURE__*/function(_HTMLElement66){_inherits(sx,_HTMLElement66);var _super94=_createSuper(sx);_createClass(sx,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"height",get:function get(){return this.Us;}}]);function sx(){var _this447;_classCallCheck(this,sx);_this447=_super94.call(this),_this447.Us=0,_this447._shadowRoot=_this447.attachShadow({mode:"closed"}),_this447._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,sx._shadowStyleSheet],_this447._shadowRoot.append(document.importNode(sx._shadowTemplate.content,!0));var _iterator722=_createForOfIteratorHelper(_this447._shadowRoot.querySelectorAll("[id]")),_step722;try{for(_iterator722.s();!(_step722=_iterator722.n()).done;){var _t1129=_step722.value;_this447["#"+_t1129.id]=_t1129;}}catch(err){_iterator722.e(err);}finally{_iterator722.f();}_this447.nu(),_this447.addEventListener("transitionend",function(t){return _this447.ou(t);}),_this447["#buttons"].addEventListener("toggle",function(){return _this447.Jp();}),_this447["#resize-grippie"].addEventListener("pointerdown",function(t){return _this447.lu(t);});return _this447;}_createClass(sx,[{key:"connectedCallback",value:function(){var _connectedCallback3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee104(){var _this448=this;return regeneratorRuntime.wrap(function _callee104$(_context105){while(1){switch(_context105.prev=_context105.next){case 0:this.Qs=Ti(this,"#app");this.Js=Ti(this,"bx-editor");this.Us=this.Qs.getConfig("bx-secondarypanelsdock:height",250);_context105.next=5;return customElements.whenDefined("bx-primarypanelsdock");case 5:window.addEventListener("resize",this.nn=function(){_this448.du();});this.Qs.addEventListener("configchange",this.ln=function(t){_this448.hn(t);});this.Js.primaryPanelsDock.addEventListener("expand",this.cu=function(){_this448.pu();});this.Js.primaryPanelsDock.addEventListener("collapse",this.uu=function(){_this448.pu();});this.Js.primaryPanelsDock.addEventListener("resize",this.xu=function(){_this448.pu();});case 10:case"end":return _context105.stop();}}},_callee104,this);}));function connectedCallback(){return _connectedCallback3.apply(this,arguments);}return connectedCallback;}()},{key:"disconnectedCallback",value:function disconnectedCallback(){window.removeEventListener("resize",this.nn),this.Qs.removeEventListener("configchange",this.ln),this.Js.primaryPanelsDock.removeEventListener("expand",this.cu),this.Js.primaryPanelsDock.removeEventListener("collapse",this.uu),this.Js.primaryPanelsDock.removeEventListener("resize",this.xu);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"value"===t&&this.ru();}},{key:"hn",value:function hn(t){var _t$detail9=t.detail,e=_t$detail9.key,i=_t$detail9.value;"bx-secondarypanelsdock:height"===e&&(this.Us=null===i?250:i,this.du());}},{key:"ru",value:function ru(){var t=this.value;if(this["#buttons"].value=t,null!==this.value){var _iterator723=_createForOfIteratorHelper(this.children),_step723;try{for(_iterator723.s();!(_step723=_iterator723.n()).done;){var _t1130=_step723.value;_t1130.enabled=_t1130.id===this.value;}}catch(err){_iterator723.e(err);}finally{_iterator723.f();}this.du();}"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"ou",value:function ou(t){if(null===this.value){var _iterator724=_createForOfIteratorHelper(this.children),_step724;try{for(_iterator724.s();!(_step724=_iterator724.n()).done;){var _t1131=_step724.value;_t1131.enabled=!1;}}catch(err){_iterator724.e(err);}finally{_iterator724.f();}this.du();}}},{key:"Jp",value:function Jp(){this.value!==this["#buttons"].value&&(this.value=this["#buttons"].value,this.ru());var _iterator725=_createForOfIteratorHelper(this["#buttons"].children),_step725;try{for(_iterator725.s();!(_step725=_iterator725.n()).done;){var _t1132=_step725.value;_t1132.toggled?_t1132.part.add("toggled-button"):_t1132.part.remove("toggled-button");}}catch(err){_iterator725.e(err);}finally{_iterator725.f();}}},{key:"lu",value:function lu(t){var _this449=this;if(1!==t.buttons)return;this["#resize-grippie"].setPointerCapture(t.pointerId);var e,_i826,s=this.clientHeight,n=s;t.preventDefault(),this["#resize-grippie"].addEventListener("pointermove",e=function e(_e847){n=s-(_e847.clientY-t.clientY),n<30?n=0:n>window.innerHeight-32&&(n=window.innerHeight-32),_this449.style.height=n+"px";}),this["#resize-grippie"].addEventListener("lostpointercapture",_i826=function i(){_this449["#resize-grippie"].removeEventListener("pointermove",e),_this449["#resize-grippie"].removeEventListener("lostpointercapture",_i826),0===n?_this449.value=null:_this449.Qs.setConfig("bx-secondarypanelsdock:height",n);});}},{key:"nu",value:function nu(){var t="";var _iterator726=_createForOfIteratorHelper(this.children),_step726;try{for(_iterator726.s();!(_step726=_iterator726.n()).done;){var _e848=_step726.value;if(!1===_e848.hasAttribute("hidden")){var _i827=_e848.getAttribute("name");t+="\n          <x-button id=\"".concat(_e848.id,"-button\" value=\"").concat(_e848.id,"\" part=\"button\">\n            <x-label>").concat(_i827,"</x-label>\n          </x-button>\n        ");}}}catch(err){_iterator726.e(err);}finally{_iterator726.f();}this["#buttons"].innerHTML=t;}},{key:"pu",value:function pu(){if(null===this.Js.primaryPanelsDock.value)this.style.width=null;else{var _t1133=this.Js.toolsDock.clientWidth,_e849=this.Js.primaryPanelsDock.width;this.style.width="calc(100% - ".concat(_t1133+_e849,"px)");}}},{key:"du",value:function du(){var t=0;null!==this.value&&(t=this.Us,t>window.innerHeight-32&&(t=window.innerHeight-32)),this.style.height=t+"px";}}]);return sx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(sx,"observedAttributes",["value"]);_defineProperty(sx,"_shadowTemplate",Hi(_templateObject248()));_defineProperty(sx,"_shadowStyleSheet",Yi(_templateObject249()));customElements.define("bx-secondarypanelsdock",sx);var nx=Symbol();var ox=/*#__PURE__*/function(_HTMLElement67){_inherits(ox,_HTMLElement67);var _super95=_createSuper(ox);_createClass(ox,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function ox(){var _this450;_classCallCheck(this,ox);_this450=_super95.call(this),_this450.wa=qi(_this450.qs,200,_assertThisInitialized(_this450)),_this450._shadowRoot=_this450.attachShadow({mode:"closed"}),_this450._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,ox._shadowStyleSheet],_this450._shadowRoot.append(document.importNode(ox._shadowTemplate.content,!0));var _iterator727=_createForOfIteratorHelper(_this450._shadowRoot.querySelectorAll("[id]")),_step727;try{for(_iterator727.s();!(_step727=_iterator727.n()).done;){var _t1134=_step727.value;_this450["#"+_t1134.id]=_t1134;}}catch(err){_iterator727.e(err);}finally{_iterator727.f();}_this450.addEventListener("keydown",function(t){return _this450.vn(t);}),_this450["#popover"].addEventListener("open",function(){return _this450.bu();}),_this450["#items"].addEventListener("click",function(t){return _this450.qc(t);}),_this450["#items"].addEventListener("dblclick",function(t){return _this450.mu(t);}),_this450["#manage-button"].addEventListener("click",function(){return _this450.gu();}),_this450["#developer-mode-button"].addEventListener("toggle",function(){return _this450.fu();});return _this450;}_createClass(ox,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this.wu=Ti(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.sn():"value"===t&&this.ru());}},{key:"tn",value:function tn(){var _this451=this;this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-solidcolorselect:developerMode",!1),this["#popover"].style.width=this["#button"].clientWidth+"px",this.qs(),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this451.il(t.detail);}),this.wu.addEventListener("resize",this.vu=function(){_this451.yu();});}},{key:"sn",value:function sn(){this["#button"].collapse(),this.Js.board.removeEventListener("workspacemutation",this.rn),this.wu.removeEventListener("resize",this.vu);}},{key:"ru",value:function ru(){this.ku(),this.Su();}},{key:"il",value:function il(){this.wa();}},{key:"yu",value:function yu(){this["#popover"].style.width=this["#button"].clientWidth+"px";}},{key:"qc",value:function qc(t){var e=t.target.closest(".item");if(e){var _t1135=e.getAttribute("data-value");_t1135===this.value&&!0!==this.mixed||(this.value=_t1135,this.dispatchEvent(new CustomEvent("change")));}}},{key:"mu",value:function mu(t){var e=t.target.closest(".item");if(e){this["#button"].collapse();var _t1136=e.getAttribute("data-value");this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.editColor(_t1136);}}},{key:"gu",value:function gu(){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("colors-browser");}},{key:"fu",value:function fu(){var t=this["#developer-mode-button"].toggled;this.Qs.setConfig("bx-solidcolorselect:developerMode",t),this.ku(),this._u(),this.Cu();}},{key:"vn",value:function vn(t){var e=to.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Mu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Pu());}},{key:"qs",value:function qs(){this.ku(),this.Du(),this.Cu();}},{key:"ku",value:function ku(){if(null===this.value)this["#button-thumbnail"].setAttribute("hidden",""),this["#button-label"].textContent="Ad hoc";else{var _t1137=this.Js.board.masterWorkspace.querySelector("#"+this.value),_e850=To(_t1137);this["#button-thumbnail"].removeAttribute("hidden"),this["#button-thumbnail-inner"].setAttribute("style","background: ".concat(_e850,";")),this["#button-label"].textContent=this.zu(_t1137,this["#developer-mode-button"].toggled);}}},{key:"Du",value:function Du(){var t=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("linearGradient, radialGradient")).filter(function(t){return So(t);});this["#items"].innerHTML="";var _iterator728=_createForOfIteratorHelper(t),_step728;try{for(_iterator728.s();!(_step728=_iterator728.n()).done;){var _e851=_step728.value;var _t1138=To(_e851),_i828=Hi(_templateObject17(),_e851.id,_t1138,_e851.id);_i828[nx]=_e851,this["#items"].append(_i828);}}catch(err){_iterator728.e(err);}finally{_iterator728.f();}this.Su(),this._u();}},{key:"Su",value:function Su(){var _iterator729=_createForOfIteratorHelper(this["#items"].children),_step729;try{for(_iterator729.s();!(_step729=_iterator729.n()).done;){var _t1139=_step729.value;_t1139.getAttribute("data-value")===this.value?_t1139.setAttribute("data-selected",""):_t1139.removeAttribute("data-selected");}}catch(err){_iterator729.e(err);}finally{_iterator729.f();}}},{key:"_u",value:function _u(){var _iterator730=_createForOfIteratorHelper(this["#items"].children),_step730;try{for(_iterator730.s();!(_step730=_iterator730.n()).done;){var _t1140=_step730.value;var _e852=_t1140[nx];_t1140.querySelector(".label").textContent=this.zu(_e852,this["#developer-mode-button"].toggled);}}catch(err){_iterator730.e(err);}finally{_iterator730.f();}}},{key:"Cu",value:function Cu(){this["#items"].querySelector(":scope > .item")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"Mu",value:function Mu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.previousElementSibling?e=t.previousElementSibling:this["#items"].lastElementChild!==t&&(e=this["#items"].lastElementChild):this["#items"].lastElementChild&&(e=this["#items"].lastElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Pu",value:function Pu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.nextElementSibling?e=t.nextElementSibling:this["#items"].firstElementChild!==t&&(e=this["#items"].firstElementChild):this["#items"].firstElementChild&&(e=this["#items"].firstElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"bu",value:function bu(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"zu",value:function zu(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i="";if(e)i=t.hasAttribute("id")?"#"+t.id:"<color>";else{var _e853=t.querySelector(":scope > bx-title");i=_e853?_e853.textContent:"Color";}return i;}}]);return ox;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ox,"observedAttributes",["enabled","value"]);_defineProperty(ox,"_shadowTemplate",Hi(_templateObject250()));_defineProperty(ox,"_shadowStyleSheet",Yi(_templateObject251()));customElements.define("bx-colorselect",ox);var lx=Symbol();var hx=/*#__PURE__*/function(_HTMLElement68){_inherits(hx,_HTMLElement68);var _super96=_createSuper(hx);_createClass(hx,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function hx(){var _this452;_classCallCheck(this,hx);_this452=_super96.call(this),_this452.wa=qi(_this452.qs,200,_assertThisInitialized(_this452)),_this452._shadowRoot=_this452.attachShadow({mode:"closed"}),_this452._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,hx._shadowStyleSheet],_this452._shadowRoot.append(document.importNode(hx._shadowTemplate.content,!0));var _iterator731=_createForOfIteratorHelper(_this452._shadowRoot.querySelectorAll("[id]")),_step731;try{for(_iterator731.s();!(_step731=_iterator731.n()).done;){var _t1141=_step731.value;_this452["#"+_t1141.id]=_t1141;}}catch(err){_iterator731.e(err);}finally{_iterator731.f();}_this452.addEventListener("keydown",function(t){return _this452.vn(t);}),_this452["#popover"].addEventListener("open",function(){return _this452.bu();}),_this452["#items"].addEventListener("click",function(t){return _this452.qc(t);}),_this452["#items"].addEventListener("dblclick",function(t){return _this452.mu(t);}),_this452["#manage-button"].addEventListener("click",function(){return _this452.gu();}),_this452["#developer-mode-button"].addEventListener("toggle",function(){return _this452.fu();});return _this452;}_createClass(hx,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this.wu=Ti(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.sn():"value"===t&&this.ru());}},{key:"tn",value:function tn(){var _this453=this;this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-gradientselect:developerMode",!1),this["#popover"].style.width=this["#button"].clientWidth+"px",this.qs(),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this453.il(t.detail);}),this.wu.addEventListener("resize",this.vu=function(){_this453.yu();});}},{key:"sn",value:function sn(){this["#button"].collapse(),this.Js.board.removeEventListener("workspacemutation",this.rn),this.wu.removeEventListener("resize",this.vu);}},{key:"ru",value:function ru(){this.ku(),this.Su();}},{key:"il",value:function il(){this.wa();}},{key:"yu",value:function yu(){this["#popover"].style.width=this["#button"].clientWidth+"px";}},{key:"qc",value:function qc(t){var e=t.target.closest(".item");if(e){var _t1142=e.getAttribute("data-value");_t1142===this.value&&!0!==this.mixed||(this.value=_t1142,this.dispatchEvent(new CustomEvent("change")));}}},{key:"mu",value:function mu(t){var e=t.target.closest(".item");if(e){this["#button"].collapse();var _t1143=e.getAttribute("data-value");this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.editGradient(_t1143);}}},{key:"gu",value:function gu(){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("gradients-browser");}},{key:"fu",value:function fu(){var t=this["#developer-mode-button"].toggled;this.Qs.setConfig("bx-gradientselect:developerMode",t),this.ku(),this._u(),this.Cu();}},{key:"vn",value:function vn(t){var e=to.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Mu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Pu());}},{key:"qs",value:function qs(){this.ku(),this.Du(),this.Cu();}},{key:"ku",value:function ku(){if(null===this.value)this["#button-thumbnail"].setAttribute("hidden",""),this["#button-label"].textContent="Ad hoc";else{var _t1144=this.Js.board.masterWorkspace.querySelector("#"+this.value),_e854=Po(_t1144),_i829="";if(0===_e854.length)_i829="background: transparent";else if(1===_e854.length){_i829="background: ".concat(Eo(_e854[0]));}else if(_e854.length>1){_i829="background-image: linear-gradient(90deg, "+_e854.map(function(t){return"".concat(Eo(t)," ").concat(100*t.offset.baseVal,"%");}).join(", ")+")";}this["#button-thumbnail"].removeAttribute("hidden"),this["#button-thumbnail-inner"].setAttribute("style",_i829),this["#button-label"].textContent=this.Ou(_t1144,this["#developer-mode-button"].toggled);}}},{key:"Du",value:function Du(){var t=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("linearGradient, radialGradient")).filter(function(t){return Co(t);});this["#items"].innerHTML="";var _iterator732=_createForOfIteratorHelper(t),_step732;try{for(_iterator732.s();!(_step732=_iterator732.n()).done;){var _e855=_step732.value;var _t1145=Po(_e855),_i830="";if(0===_t1145.length)_i830="background: transparent";else if(1===_t1145.length){_i830="background: ".concat(Eo(_t1145[0]));}else if(_t1145.length>1){_i830="background-image: linear-gradient(90deg, "+_t1145.map(function(t){return"".concat(Eo(t)," ").concat(100*t.offset.baseVal,"%");}).join(", ")+")";}var _s498=Hi(_templateObject18(),_e855.id,_i830,_e855.id);_s498[lx]=_e855,this["#items"].append(_s498);}}catch(err){_iterator732.e(err);}finally{_iterator732.f();}this.Su(),this._u();}},{key:"Su",value:function Su(){var _iterator733=_createForOfIteratorHelper(this["#items"].children),_step733;try{for(_iterator733.s();!(_step733=_iterator733.n()).done;){var _t1146=_step733.value;_t1146.getAttribute("data-value")===this.value?_t1146.setAttribute("data-selected",""):_t1146.removeAttribute("data-selected");}}catch(err){_iterator733.e(err);}finally{_iterator733.f();}}},{key:"_u",value:function _u(){var _iterator734=_createForOfIteratorHelper(this["#items"].children),_step734;try{for(_iterator734.s();!(_step734=_iterator734.n()).done;){var _t1147=_step734.value;var _e856=_t1147[lx];_t1147.querySelector(".label").textContent=this.Ou(_e856,this["#developer-mode-button"].toggled);}}catch(err){_iterator734.e(err);}finally{_iterator734.f();}}},{key:"Cu",value:function Cu(){this["#items"].querySelector(":scope > .item")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"Mu",value:function Mu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.previousElementSibling?e=t.previousElementSibling:this["#items"].lastElementChild!==t&&(e=this["#items"].lastElementChild):this["#items"].lastElementChild&&(e=this["#items"].lastElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Pu",value:function Pu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.nextElementSibling?e=t.nextElementSibling:this["#items"].firstElementChild!==t&&(e=this["#items"].firstElementChild):this["#items"].firstElementChild&&(e=this["#items"].firstElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"bu",value:function bu(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"Ou",value:function Ou(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i="";if(e)i=t.hasAttribute("id")?"#"+t.id:"<gradient>";else{var _e857=t.querySelector(":scope > bx-title");i=_e857?_e857.textContent:"Gradient";}return i;}}]);return hx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(hx,"observedAttributes",["enabled","value"]);_defineProperty(hx,"_shadowTemplate",Hi(_templateObject252()));_defineProperty(hx,"_shadowStyleSheet",Yi(_templateObject253()));customElements.define("bx-gradientselect",hx);var ax=Symbol();var rx=/*#__PURE__*/function(_HTMLElement69){_inherits(rx,_HTMLElement69);var _super97=_createSuper(rx);_createClass(rx,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function rx(){var _this454;_classCallCheck(this,rx);_this454=_super97.call(this),_this454.wa=qi(_this454.qs,200,_assertThisInitialized(_this454)),_this454.Eu=Xi(_this454.Tu,2e3,_assertThisInitialized(_this454)),_this454._shadowRoot=_this454.attachShadow({mode:"closed"}),_this454._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,rx._shadowStyleSheet],_this454._shadowRoot.append(document.importNode(rx._shadowTemplate.content,!0));var _iterator735=_createForOfIteratorHelper(_this454._shadowRoot.querySelectorAll("[id]")),_step735;try{for(_iterator735.s();!(_step735=_iterator735.n()).done;){var _t1148=_step735.value;_this454["#"+_t1148.id]=_t1148;}}catch(err){_iterator735.e(err);}finally{_iterator735.f();}_this454.addEventListener("keydown",function(t){return _this454.vn(t);}),_this454["#popover"].addEventListener("open",function(){return _this454.bu();}),_this454["#items"].addEventListener("click",function(t){return _this454.qc(t);}),_this454["#items"].addEventListener("dblclick",function(t){return _this454.mu(t);}),_this454["#manage-button"].addEventListener("click",function(t){return _this454.gu(t);}),_this454["#developer-mode-button"].addEventListener("toggle",function(){return _this454.fu();});return _this454;}_createClass(rx,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this.wu=Ti(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.sn():"value"===t&&this.ru());}},{key:"tn",value:function tn(){var _this455=this;this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-patternselect:developerMode",!1),this["#popover"].style.width=this["#button"].clientWidth+"px",this.qs(),this.Tu(),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this455.il(t.detail);}),this.wu.addEventListener("resize",this.vu=function(){_this455.yu();});}},{key:"sn",value:function sn(){this["#mirror"].innerHTML="",this["#button"].collapse(),this.Js.board.removeEventListener("workspacemutation",this.rn),this.wu.removeEventListener("resize",this.vu);}},{key:"ru",value:function ru(){this.ku(),this.Su();}},{key:"il",value:function il(){this.wa(),this.Eu();}},{key:"yu",value:function yu(){this["#popover"].style.width=this["#button"].clientWidth+"px";}},{key:"qc",value:function qc(t){var e=t.target.closest(".item");if(e){var _t1149=e.getAttribute("data-value");_t1149!==this.value&&(this.value=_t1149,this.dispatchEvent(new CustomEvent("change")));}}},{key:"mu",value:function mu(t){var e=t.target.closest(".item");if(e){this["#button"].collapse();var _t1150=e.getAttribute("data-value");this.Js.board.editPattern(_t1150);}}},{key:"gu",value:function gu(t){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("patterns-browser");}},{key:"fu",value:function fu(){var t=this["#developer-mode-button"].toggled;this.Qs.setConfig("bx-patternselect:developerMode",t),this.ku(),this._u();}},{key:"vn",value:function vn(t){var e=to.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Mu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Pu());}},{key:"qs",value:function qs(){this.ku(),this.Du();}},{key:"ku",value:function ku(){if(null===this.value)this["#button-thumbnail"].setAttribute("hidden",""),this["#button-label"].textContent="";else{var _t1151=this.Js.board.masterWorkspace.querySelector("#"+this.value);this["#button-thumbnail"].removeAttribute("hidden"),this["#button-thumbnail"].style.fill="url(#".concat(this.value,")"),this["#button-label"].textContent=this.Au(_t1151,this["#developer-mode-button"].toggled);}}},{key:"Du",value:function Du(){var t=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("pattern")).filter(function(t){return!1===t.hasAttribute("href");});this["#items"].innerHTML="";var _iterator736=_createForOfIteratorHelper(t),_step736;try{for(_iterator736.s();!(_step736=_iterator736.n()).done;){var _e858=_step736.value;var _t1152=Hi(_templateObject19(),_e858.id,_e858.id,_e858.id);_t1152[ax]=_e858,this["#items"].append(_t1152);}}catch(err){_iterator736.e(err);}finally{_iterator736.f();}this.Su(),this._u();}},{key:"Su",value:function Su(){var _iterator737=_createForOfIteratorHelper(this["#items"].children),_step737;try{for(_iterator737.s();!(_step737=_iterator737.n()).done;){var _t1153=_step737.value;_t1153.getAttribute("data-value")===this.value?_t1153.setAttribute("data-selected",""):_t1153.removeAttribute("data-selected");}}catch(err){_iterator737.e(err);}finally{_iterator737.f();}}},{key:"_u",value:function _u(){var _iterator738=_createForOfIteratorHelper(this["#items"].children),_step738;try{for(_iterator738.s();!(_step738=_iterator738.n()).done;){var _t1154=_step738.value;var _e859=_t1154[ax];_t1154.querySelector(".label").textContent=this.Au(_e859,this["#developer-mode-button"].toggled);}}catch(err){_iterator738.e(err);}finally{_iterator738.f();}}},{key:"Tu",value:function Tu(){this["#mirror"].innerHTML=this.Js.board.masterWorkspace.innerHTML;}},{key:"Mu",value:function Mu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.previousElementSibling?e=t.previousElementSibling:this["#items"].lastElementChild!==t&&(e=this["#items"].lastElementChild):this["#items"].lastElementChild&&(e=this["#items"].lastElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Pu",value:function Pu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.nextElementSibling?e=t.nextElementSibling:this["#items"].firstElementChild!==t&&(e=this["#items"].firstElementChild):this["#items"].firstElementChild&&(e=this["#items"].firstElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"bu",value:function bu(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"Au",value:function Au(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i="";if(e)i=t.hasAttribute("id")?"#"+t.id:"<pattern>";else{var _e860;_e860=this.Js.board.currentWorkspace.id===t.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):t.querySelector(":scope > bx-title"),i=_e860?_e860.textContent:"Pattern";}return i;}}]);return rx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(rx,"observedAttributes",["enabled","value"]);_defineProperty(rx,"_shadowTemplate",Hi(_templateObject254()));_defineProperty(rx,"_shadowStyleSheet",Yi(_templateObject255()));customElements.define("bx-patternselect",rx);var dx=/*#__PURE__*/function(_HTMLElement70){_inherits(dx,_HTMLElement70);var _super98=_createSuper(dx);_createClass(dx,[{key:"type",get:function get(){return this.hasAttribute("type")?this.getAttribute("type"):"rect";},set:function set(t){this.setAttribute("type",t);}},{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"#000000";},set:function set(t){this.setAttribute("value",t);}},{key:"format",get:function get(){return this.hasAttribute("format")?this.getAttribute("format"):"hex";},set:function set(t){t?this.setAttribute("format",t):this.removeAttribute("format");}},{key:"formatSelect",get:function get(){return this.hasAttribute("formatselect");},set:function set(t){t?this.setAttribute("formatselect",""):this.removeAttribute("formatselect");}},{key:"alphaSlider",get:function get(){return this.hasAttribute("alphaslider");},set:function set(t){t?this.setAttribute("alphaslider",""):this.removeAttribute("alphaslider");}}]);function dx(){var _this456;_classCallCheck(this,dx);_this456=_super98.call(this),_this456.$u=!1,_this456._shadowRoot=_this456.attachShadow({mode:"closed"}),_this456._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,dx._shadowStyleSheet],_this456._shadowRoot.append(document.importNode(dx._shadowTemplate.content,!0));var _iterator739=_createForOfIteratorHelper(_this456._shadowRoot.querySelectorAll("[id]")),_step739;try{for(_iterator739.s();!(_step739=_iterator739.n()).done;){var _t1155=_step739.value;_this456["#"+_t1155.id]=_t1155;}}catch(err){_iterator739.e(err);}finally{_iterator739.f();}_this456["#pickers"].addEventListener("change",function(t){return _this456.Iu(t);}),_this456["#pickers"].addEventListener("changestart",function(t){return _this456.Lu(t);}),_this456["#pickers"].addEventListener("changeend",function(t){return _this456.Bu(t);}),_this456["#input"].addEventListener("click",function(t){return _this456.Ru(t);}),_this456["#input"].addEventListener("change",function(t){return _this456.Gu(t);}),_this456["#input"].addEventListener("keydown",function(t){return _this456.Fu(t);}),_this456["#format-select"].addEventListener("change",function(t){return _this456.Uu(t);}),_this456["#grab-button"].addEventListener("toggle",function(){return _this456.Wn();});return _this456;}_createClass(dx,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ti(this,"bx-editor"),this.Nu=Ti(this,"x-popover"),this.Vu();}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("type"===t?this.ju():"value"===t?this.Hu():"format"===t?this.Yu():"alphaslider"===t&&this.Wu());}},{key:"Hu",value:function Hu(){this["#pickers"].querySelector(":scope > :not([hidden])").setAttribute("value",this.value),this["#input"].value=mo(this.value,this.format),this["#input"].matches(":focus")&&this["#input"].selectAll();}},{key:"ju",value:function ju(){this.Vu();}},{key:"Yu",value:function Yu(){this["#input"].value=mo(this.value,this.format),this["#format-select"].value=this.format;}},{key:"Wu",value:function Wu(){this.alphaSlider?(this["#rect-picker"].setAttribute("alphaslider",""),this["#wheel-picker"].setAttribute("alphaslider",""),this["#bars-picker"].setAttribute("alphaslider","")):(this["#rect-picker"].removeAttribute("alphaslider"),this["#wheel-picker"].removeAttribute("alphaslider"),this["#bars-picker"].removeAttribute("alphaslider"));}},{key:"Lu",value:function Lu(t){this.$u=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));}},{key:"Iu",value:function Iu(t){this.value=t.target.value,this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}},{key:"Bu",value:function Bu(t){this.$u=!1,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}));}},{key:"Ru",value:function Ru(t){t.detail>=2&&"hex"===this.format&&this["#input"].selectAll();}},{key:"Gu",value:function Gu(t){!1===this.$u&&(null!==this["#input"].error?(this["#input"].value=mo(this.value,this.format),this["#input"].matches(":focus")&&this["#input"].selectAll()):(this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.value=this["#input"].value,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))));}},{key:"Fu",value:function Fu(t){"Enter"!==t.code&&"Space"!==t.code||this.closest("x-popover")&&t.stopPropagation();}},{key:"Uu",value:function Uu(t){this.format=this["#format-select"].value,this.dispatchEvent(new CustomEvent("formatchange",{bubbles:!0}));}},{key:"Wn",value:function(){var _Wn2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee105(){var t,e;return regeneratorRuntime.wrap(function _callee105$(_context106){while(1){switch(_context106.prev=_context106.next){case 0:t=null!==this.Nu&&!0===this.Nu.modal;t&&(this.Nu.modal=!1);_context106.next=4;return this.Js.colorGrabber.grab();case 4:e=_context106.sent;this["#grab-button"].toggled=!1,t&&(this.Nu.modal=!0),null!==e&&(this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.value=e,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})));case 6:case"end":return _context106.stop();}}},_callee105,this);}));function Wn(){return _Wn2.apply(this,arguments);}return Wn;}()},{key:"Vu",value:function Vu(){"rect"===this.type?(this["#rect-picker"].hidden=!1,this["#rect-picker"].setAttribute("value",this.value),this["#wheel-picker"].hidden=!0,this["#bars-picker"].hidden=!0):"wheel"===this.type?(this["#rect-picker"].hidden=!0,this["#wheel-picker"].hidden=!1,this["#wheel-picker"].value=this.value,this["#bars-picker"].hidden=!0):"bars"===this.type&&(this["#rect-picker"].hidden=!0,this["#wheel-picker"].hidden=!0,this["#bars-picker"].value=this.value,this["#bars-picker"].hidden=!1);}}]);return dx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(dx,"observedAttributes",["type","value","format","alphaslider"]);_defineProperty(dx,"_shadowTemplate",Hi(_templateObject256()));_defineProperty(dx,"_shadowStyleSheet",Yi(_templateObject257()));customElements.define("bx-colorpicker",dx);var cx=/*#__PURE__*/function(_HTMLElement71){_inherits(cx,_HTMLElement71);var _super99=_createSuper(cx);_createClass(cx,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value").split(" "):["fill","stroke","markers"];},set:function set(t){this.setAttribute("value",t.join(" "));}},{key:"context",get:function get(){return this.getAttribute("context");},set:function set(t){this.setAttribute("context",t);}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function cx(){var _this457;_classCallCheck(this,cx);_this457=_super99.call(this),_this457._shadowRoot=_this457.attachShadow({mode:"closed"}),_this457._shadowRoot.adoptedStyleSheets=[cx._shadowStyleSheet],_this457._shadowRoot.append(document.importNode(cx._shadowTemplate.content,!0));var _iterator740=_createForOfIteratorHelper(_this457._shadowRoot.querySelectorAll("[id]")),_step740;try{for(_iterator740.s();!(_step740=_iterator740.n()).done;){var _t1156=_step740.value;_this457["#"+_t1156.id]=_t1156;}}catch(err){_iterator740.e(err);}finally{_iterator740.f();}_this457.addEventListener("pointerdown",function(t){return _this457.wo(t);}),_this457._shadowRoot.addEventListener("pointerdown",function(t){return _this457.qu(t);}),_this457.addEventListener("keydown",function(t){return _this457.vn(t);});return _this457;}_createClass(cx,[{key:"connectedCallback",value:function connectedCallback(){var _this458=this;As.addEventListener("sizechange",this.Qc=function(){return _this458.Kc();}),this.Kc(),this.setAttribute("tabindex",this.disabled?"-1":"0"),this.setAttribute("role","switch"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled);}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.Qc);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.Hu():"context"===t?this.Xu():"disabled"===t?this.Zu():"size"===t&&this.Kc());}},{key:"Hu",value:function Hu(){var _this$value5=_slicedToArray(this.value,3),t=_this$value5[0],e=_this$value5[1],i=_this$value5[2];this["#".concat(t,"-thumb")].setAttribute("data-socket","1"),this["#".concat(e,"-thumb")].setAttribute("data-socket","2"),this["#".concat(i,"-thumb")].setAttribute("data-socket","3");}},{key:"Xu",value:function Xu(){var _iterator741=_createForOfIteratorHelper(this["#thumbs"].children),_step741;try{for(_iterator741.s();!(_step741=_iterator741.n()).done;){var _t1157=_step741.value;_t1157.getAttribute("data-value")===this.context?(_t1157.setAttribute("data-toggled",""),_t1157.part.add("toggled-thumb")):(_t1157.removeAttribute("data-toggled"),_t1157.part.remove("toggled-thumb"));}}catch(err){_iterator741.e(err);}finally{_iterator741.f();}}},{key:"Zu",value:function Zu(){this.setAttribute("tabindex",this.disabled?"-1":"0"),this.setAttribute("aria-disabled",this.disabled);}},{key:"wo",value:function wo(t){t.preventDefault(),this.focus(),this.blur();}},{key:"Kc",value:function Kc(){var t=As.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Ku",value:function Ku(t){var e=t.getBoundingClientRect(),i=this.getBoundingClientRect();if(e.left-i.left<e.width/2)return 1;{var _t1158=e.width/2;for(var _s499=1;_s499<=3;_s499+=1){if(e.left-i.left>=_t1158&&e.left-i.left<_t1158+e.width)return _s499>this["#thumbs"].childElementCount?this["#thumbs"].childElementCount:_s499+1;_t1158+=e.width;}}}},{key:"qu",value:function qu(t){var _this459=this;if(1!==t.buttons)return;var e,_i833;this.setPointerCapture(t.pointerId);var s=t.target,n=new DOMPoint(t.clientX,t.clientY),o=null,l=null;this.Qu(9999999),this.addEventListener("pointermove",e=function e(_e861){var i=new DOMPoint(_e861.clientX,_e861.clientY),h=_e861.timeStamp-t.timeStamp;if(null===o&&(Pe(n,i)>=3||h>80)&&(o=s,l=parseFloat(getComputedStyle(o).left),o.style.transition="none",o.setAttribute("data-dragged",""),o.part.add("dragged-thumb")),o){var _i831=_e861.clientX-t.clientX,_s500=0,_n350=_this459["#thumbs"].clientWidth-o.clientWidth,_h183=Z(l+_i831,_s500,_n350);o.style.left="".concat(_h183,"px");var _a146=o.getAttribute("data-socket"),_r86=_this459.Ku(o).toString();if(_r86!==_a146){o.setAttribute("data-socket",_r86);var _iterator742=_createForOfIteratorHelper(_this459["#thumbs"].children),_step742;try{for(_iterator742.s();!(_step742=_iterator742.n()).done;){var _t1159=_step742.value;_t1159!==o&&_t1159.getAttribute("data-socket")===_r86&&_t1159.setAttribute("data-socket",_a146);}}catch(err){_iterator742.e(err);}finally{_iterator742.f();}}}}),this.addEventListener("lostpointercapture",_i833=function i(){if(_this459.removeEventListener("pointermove",e),_this459.removeEventListener("lostpointercapture",_i833),_this459.Qu(500),o)o.style.transition=null,o.style.left=null,o.removeAttribute("data-dragged"),o.part.remove("dragged-thumb");else{var _t1160=s,_e862=_this459["#thumbs"].querySelector(".thumb[data-toggled]"),_i832=_toConsumableArray(_this459["#thumbs"].children).find(function(i){return i!==_t1160&&i!==_e862;});if(_t1160!==_e862){var _s501=_t1160.getAttribute("data-socket"),_n351=_e862.getAttribute("data-socket");"1"===_n351?"2"===_s501?(_t1160.setAttribute("data-socket","1"),_e862.setAttribute("data-socket","2")):"3"===_s501&&(_i832.setAttribute("data-socket","1"),_t1160.setAttribute("data-socket","2"),_e862.setAttribute("data-socket","3")):"2"===_n351?"1"===_s501?(_e862.setAttribute("data-socket","1"),_t1160.setAttribute("data-socket","2")):"3"===_s501&&(_t1160.setAttribute("data-socket","2"),_e862.setAttribute("data-socket","3")):"3"===_n351&&("1"===_s501?(_e862.setAttribute("data-socket","1"),_t1160.setAttribute("data-socket","2"),_i832.setAttribute("data-socket","3")):"2"===_s501&&(_e862.setAttribute("data-socket","2"),_t1160.setAttribute("data-socket","3")));}}_this459.Ju();});}},{key:"vn",value:function vn(t){"Enter"===t.code||"Space"===t.code?(t.preventDefault(),t.stopPropagation(),this.tx(),this.Ju()):"ArrowRight"===t.code?(t.preventDefault(),t.stopPropagation(),this.tx(!1),this.Ju()):"ArrowLeft"===t.code&&(t.preventDefault(),t.stopPropagation(),this.ix(!1),this.Ju());}},{key:"Ju",value:function Ju(){var t=[this["#thumbs"].querySelector('[data-socket="1"]').getAttribute("data-value"),this["#thumbs"].querySelector('[data-socket="2"]').getAttribute("data-value"),this["#thumbs"].querySelector('[data-socket="3"]').getAttribute("data-value")];!1===Qe(this.value,t,!0)&&(this.value=t,this.dispatchEvent(new CustomEvent("change")));}},{key:"tx",value:function tx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;this.Qu(500);var e=this["#thumbs"].querySelector(".thumb[data-toggled]");"1"===e.getAttribute("data-socket")?(this["#thumbs"].querySelector('.thumb[data-socket="2"]').setAttribute("data-socket","1"),e.setAttribute("data-socket","2")):"2"===e.getAttribute("data-socket")?(this["#thumbs"].querySelector('.thumb[data-socket="3"]').setAttribute("data-socket","2"),e.setAttribute("data-socket","3")):"3"===e.getAttribute("data-socket")&&t&&(this["#thumbs"].querySelector('.thumb[data-socket="2"]').setAttribute("data-socket","3"),this["#thumbs"].querySelector('.thumb[data-socket="1"]').setAttribute("data-socket","2"),e.setAttribute("data-socket","1"));}},{key:"ix",value:function ix(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;this.Qu(500);var e=this["#thumbs"].querySelector(".thumb[data-toggled]");"3"===e.getAttribute("data-socket")?(this["#thumbs"].querySelector('.thumb[data-socket="2"]').setAttribute("data-socket","3"),e.setAttribute("data-socket","2")):"2"===e.getAttribute("data-socket")?(this["#thumbs"].querySelector('.thumb[data-socket="1"]').setAttribute("data-socket","2"),e.setAttribute("data-socket","1")):"1"===e.getAttribute("data-socket")&&t&&(this["#thumbs"].querySelector('.thumb[data-socket="2"]').setAttribute("data-socket","1"),this["#thumbs"].querySelector('.thumb[data-socket="3"]').setAttribute("data-socket","2"),e.setAttribute("data-socket","3"));}},{key:"Qu",value:function Qu(){var _this460=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:500;clearTimeout(this.sx),this["#thumbs"].setAttribute("data-animate",""),this.sx=setTimeout(function(){_this460["#thumbs"].removeAttribute("data-animate","");},t);}}]);return cx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(cx,"observedAttributes",["value","context","disabled","size"]);_defineProperty(cx,"_shadowTemplate",Hi(_templateObject258()));_defineProperty(cx,"_shadowStyleSheet",Yi(_templateObject259()));customElements.define("bx-paintorderswitch",cx);var px=/*#__PURE__*/function(_HTMLElement72){_inherits(px,_HTMLElement72);var _super100=_createSuper(px);_createClass(px,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"context",get:function get(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";},set:function set(t){"fill"!==t&&"stroke"!==t||this.setAttribute("context",t);}}]);function px(){var _this461;_classCallCheck(this,px);_this461=_super100.call(this),_this461.wa=qi(_this461.qs,200,_assertThisInitialized(_this461)),_this461.nx=!1,_this461._shadowRoot=_this461.attachShadow({mode:"closed"}),_this461._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,px._shadowStyleSheet],_this461._shadowRoot.append(document.importNode(px._shadowTemplate.content,!0));var _iterator743=_createForOfIteratorHelper(_this461._shadowRoot.querySelectorAll("[id]")),_step743;try{for(_iterator743.s();!(_step743=_iterator743.n()).done;){var _t1161=_step743.value;_this461["#"+_t1161.id]=_t1161;}}catch(err){_iterator743.e(err);}finally{_iterator743.f();}_this461["#paint-type-buttons"].addEventListener("toggle",function(t){return _this461.ox(t);}),_this461["#color-select"].addEventListener("change",function(){return _this461.lx();}),_this461["#color-unlink-button"].addEventListener("click",function(){return _this461.hx();}),_this461["#gradient-select"].addEventListener("change",function(){return _this461.ux();}),_this461["#gradient-unlink-button"].addEventListener("click",function(){return _this461.xx();}),_this461["#color-picker"].addEventListener("changestart",function(t){return _this461.mx(t);}),_this461["#color-picker"].addEventListener("formatchange",function(t){return _this461.gx(t);}),_this461["#color-picker-type-buttons"].addEventListener("toggle",function(t){return _this461.wx(t);}),_this461["#color-picker-hint"].addEventListener("click",function(t){return _this461.vx(t);}),_this461["#stop-opacity-section"].addEventListener("changestart",function(){return _this461.yx();}),_this461["#pattern-select"].addEventListener("change",function(){return _this461.kx();}),_this461["#spread-method-buttons"].addEventListener("toggle",function(t){return _this461.Sx(t);}),_this461["#paint-order-switch"].addEventListener("change",function(){return _this461._x();});return _this461;}_createClass(px,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.sn():"context"===t&&this["#paint-order-switch"].setAttribute("context",this.context));}},{key:"tn",value:function tn(){var _this462=this;var t=this.Qs,e=this.Js.board;this["#color-picker"].type=t.getConfig("bx-paintinspector#".concat(this.id,":colorPickerType"),"rect"),this["#color-picker"].format=t.getConfig("bx-paintinspector#".concat(this.id,":colorPickerFormat"),"hex"),this["#color-picker-type-buttons"].value=this["#color-picker"].type,this.qs(),e.addEventListener("selectedelementschange",this.Ko=function(){_this462.wa();}),e.addEventListener("selectedtextrangechange",this.Nh=function(){_this462.qs();}),e.addEventListener("workspacemutation",this.rn=function(t){_this462.wa();}),e.addEventListener("currentworkspacechange",this.Cx=function(){_this462.qs();}),e.linearGradientHud.addEventListener("selectedstopschange",this.Mx=function(){_this462.wa();}),e.radialGradientHud.addEventListener("selectedstopschange",this.Px=function(){_this462.wa();});}},{key:"sn",value:function sn(){var t=this.Js.board;this["#color-select"].enabled=!1,this["#gradient-select"].enabled=!1,this["#pattern-select"].enabled=!1,t.removeEventListener("selectedelementschange",this.Ko),t.removeEventListener("selectedtextrangechange",this.Nh),t.removeEventListener("workspacemutation",this.rn),t.removeEventListener("currentworkspacechange",this.Cx),t.linearGradientHud.removeEventListener("selectedstopschange",this.Mx),t.radialGradientHud.removeEventListener("selectedstopschange",this.Px);}},{key:"ox",value:function ox(t){var e=this["#paint-type-buttons"].value;"solid"===e?this.Dx():"linear-gradient"===e?this.zx():"radial-gradient"===e?this.Ox():"pattern"===e?this.Ex():"inherit"===e?this.Tx():"none"===e&&this.Ax();}},{key:"Dx",value:function Dx(){var t=this.Js.board,e=this.$x(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange,n="#bada55";t.undoManager.checkpoint("Paint type");var _iterator744=_createForOfIteratorHelper(i),_step744;try{for(_iterator744.s();!(_step744=_iterator744.n()).done;){var _t1163=_step744.value;di(_t1163,s);}}catch(err){_iterator744.e(err);}finally{_iterator744.f();}{var _t1162=e[0];if("text"===_t1162.localName){var _e863=_t1162.querySelectorAll("tspan"),_i835=pi(s,_t1162),_n352=_i835.length>0?_i835:_e863;_n352.length>0&&(_t1162=_n352[0]);}var _i834=Wo(_t1162,this.context);if("solid"===_i834)n=getComputedStyle(_t1162)[this.context];else if("linearGradient"===_i834||"radialGradient"===_i834){var _e864=qo(_t1162,this.context),_i836=Po(_e864);_i836[0]&&(n=Eo(_i836[0]));}}var _iterator745=_createForOfIteratorHelper(e),_step745;try{for(_iterator745.s();!(_step745=_iterator745.n()).done;){var _t1164=_step745.value;if("text"===_t1164.localName&&_t1164.querySelector("tspan")){var _e865=_t1164.querySelectorAll("tspan"),_i837=pi(s,_t1164),_o274=_i837.length>0&&!s.collapsed?_i837:_e865;var _iterator747=_createForOfIteratorHelper(_o274),_step747;try{for(_iterator747.s();!(_step747=_iterator747.n()).done;){var _t1165=_step747.value;_t1165.style[this.context]=n;}}catch(err){_iterator747.e(err);}finally{_iterator747.f();}}else _t1164.style[this.context]=n,ga(this.context,_t1164);}}catch(err){_iterator745.e(err);}finally{_iterator745.f();}var _iterator746=_createForOfIteratorHelper(i),_step746;try{for(_iterator746.s();!(_step746=_iterator746.n()).done;){var _t1166=_step746.value;ci(_t1166,s);}}catch(err){_iterator746.e(err);}finally{_iterator746.f();}}},{key:"zx",value:function zx(){var _this463=this;var t=this.Js.board,e=this.$x(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange,n=t.geometryPrecision;t.undoManager.checkpoint("Paint type"),t.collectGarbage();var o=function o(e){var i=null,s=Wo(e,_this463.context);if("linearGradient"===s||"radialGradient"===s){var _s502=Zo(t.masterWorkspace,getComputedStyle(e)[_this463.context]),_n353=yo(_s502);if(_n353)i=_n353;else{i=Di("linearGradient");var _iterator748=_createForOfIteratorHelper(Po(_s502)),_step748;try{for(_iterator748.s();!(_step748=_iterator748.n()).done;){var _t1167=_step748.value;i.append(_t1167.cloneNode());}}catch(err){_iterator748.e(err);}finally{_iterator748.f();}}}else if("solid"===s){var _t1168="",_s503=qo(e,_this463.context);_t1168=_s503?To(_s503):getComputedStyle(e)[_this463.context];var _uo3=uo(_t1168,"hsla"),_uo4=_slicedToArray(_uo3,4),_n354=_uo4[0],_o275=_uo4[1],_l241=_uo4[2],_h184=_uo4[3],_a147=_l241-20<0?0:_l241-20,_r87=xo([_n354,_o275,_l241,_h184],"hsla","rgba"),_d68=xo([_n354,_o275,_a147,_h184],"hsla","rgba");i=Pi("\n          <linearGradient>\n            <stop offset=\"0\" style=\"stop-color: ".concat(_r87,"\"></stop>\n            <stop offset=\"1\" style=\"stop-color: ").concat(_d68,"\"></stop>\n          </linearGradient>\n        "));}else i=Pi('\n          <linearGradient>\n            <stop offset="0" style="stop-color: #bada55"></stop>\n            <stop offset="1" style="stop-color: #758d29"></stop>\n          </linearGradient>\n        ');return i;};var _iterator749=_createForOfIteratorHelper(i),_step749;try{for(_iterator749.s();!(_step749=_iterator749.n()).done;){var _t1173=_step749.value;di(_t1173,s);}}catch(err){_iterator749.e(err);}finally{_iterator749.f();}if(s&&!1===s.collapsed){var _e866=s.startContainer.closest("text"),_i838=_e866.querySelectorAll("tspan"),_l242=pi(s,_e866),_h185=_l242.length>0?_l242:_i838,_a148=_h185[0];if("linearGradient"===Wo(_a148,this.context)){var _e867=Zo(t.masterWorkspace,getComputedStyle(_a148)[this.context]);var _iterator750=_createForOfIteratorHelper(_h185),_step750;try{for(_iterator750.s();!(_step750=_iterator750.n()).done;){var _t1169=_step750.value;_t1169!==_a148&&(_t1169.style[this.context]="url(#".concat(_e867.id,")"));}}catch(err){_iterator750.e(err);}finally{_iterator750.f();}}else{var _i839=o(_a148);var _iterator751=_createForOfIteratorHelper(_h185),_step751;try{for(_iterator751.s();!(_step751=_iterator751.n()).done;){var _s504=_step751.value;var _o276=_i(_e866),_l243=X(_o276.x+_o276.width/2,n),_h186=X(_o276.y,n),_a149=X(_o276.x+_o276.width/2,n),_r88=X(_o276.y+_o276.height,n),_d69=Di("svg:linearGradient");if(_d69.setAttribute("gradientUnits","userSpaceOnUse"),_d69.setAttribute("x1",_l243),_d69.setAttribute("y1",_h186),_d69.setAttribute("x2",_a149),_d69.setAttribute("y2",_r88),_i839.isConnected)_d69.setAttribute("id",t.generateUniqueID(_i839.id)),_d69.setAttribute("href","#"+_i839.id);else{_d69.setAttribute("id",t.generateUniqueID("gradient"));var _iterator752=_createForOfIteratorHelper(Oo(_i839)),_step752;try{for(_iterator752.s();!(_step752=_iterator752.n()).done;){var _t1170=_step752.value;_d69.append(_t1170.cloneNode());}}catch(err){_iterator752.e(err);}finally{_iterator752.f();}}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_d69),_s504.style[this.context]="url(#".concat(_d69.id,")");}}catch(err){_iterator751.e(err);}finally{_iterator751.f();}}}else{var _i840=e[0];"text"===_i840.localName&&_i840.querySelector("tspan")&&(_i840=_i840.querySelector("tspan"));var _s505=o(_i840);var _iterator753=_createForOfIteratorHelper(e),_step753;try{for(_iterator753.s();!(_step753=_iterator753.n()).done;){var _i841=_step753.value;var _e868=!1;if("linearGradient"===Wo(_i841,this.context)){var _n355=Zo(t.masterWorkspace,getComputedStyle(_i841)[this.context]);yo(_n355)===_s505&&(_e868=!0);}if(!1===_e868){var _e869=_i(_i841),_o277="use"===_i841.localName?"objectBoundingBox":"userSpaceOnUse",_l244="use"===_i841.localName?.5:X(_e869.x+_e869.width/2,n),_h187="use"===_i841.localName?0:X(_e869.y,n),_a150="use"===_i841.localName?.5:X(_e869.x+_e869.width/2,n),_r89="use"===_i841.localName?1:X(_e869.y+_e869.height,n),_d70=Di("svg:linearGradient");if(_d70.setAttribute("gradientUnits",_o277),_d70.setAttribute("x1",_l244),_d70.setAttribute("y1",_h187),_d70.setAttribute("x2",_a150),_d70.setAttribute("y2",_r89),_s505.isConnected)_d70.setAttribute("id",t.generateUniqueID(_s505.id)),_d70.setAttribute("href","#"+_s505.id);else{_d70.setAttribute("id",t.generateUniqueID("gradient"));var _iterator754=_createForOfIteratorHelper(Oo(_s505)),_step754;try{for(_iterator754.s();!(_step754=_iterator754.n()).done;){var _t1171=_step754.value;_d70.append(_t1171.cloneNode());}}catch(err){_iterator754.e(err);}finally{_iterator754.f();}}if(t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_d70),"text"===_i841.localName&&_i841.querySelector("tspan")){var _iterator755=_createForOfIteratorHelper(_i841.querySelectorAll("tspan")),_step755;try{for(_iterator755.s();!(_step755=_iterator755.n()).done;){var _t1172=_step755.value;_t1172.style[this.context]="url(#".concat(_d70.id,")"),ga(this.context,_t1172);}}catch(err){_iterator755.e(err);}finally{_iterator755.f();}}else _i841.style[this.context]="url(#".concat(_d70.id,")"),ga(this.context,_i841);}}}catch(err){_iterator753.e(err);}finally{_iterator753.f();}}var _iterator756=_createForOfIteratorHelper(i),_step756;try{for(_iterator756.s();!(_step756=_iterator756.n()).done;){var _t1174=_step756.value;ci(_t1174,s);}}catch(err){_iterator756.e(err);}finally{_iterator756.f();}}},{key:"Ox",value:function Ox(){var _this464=this;var t=this.Js.board,e=this.$x(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange,n=t.geometryPrecision;t.undoManager.checkpoint("Paint type"),t.collectGarbage();var o=function o(e){var i=null,s=Wo(e,_this464.context);if("linearGradient"===s||"radialGradient"===s){var _s506=Zo(t.masterWorkspace,getComputedStyle(e)[_this464.context]),_n356=yo(_s506);if(_n356)i=_n356;else{i=Di("radialGradient");var _iterator757=_createForOfIteratorHelper(Po(_s506)),_step757;try{for(_iterator757.s();!(_step757=_iterator757.n()).done;){var _t1175=_step757.value;i.append(_t1175.cloneNode());}}catch(err){_iterator757.e(err);}finally{_iterator757.f();}}}else if("solid"===s){var _t1176="",_s507=qo(e,_this464.context);_t1176=_s507?To(_s507):getComputedStyle(e)[_this464.context];var _uo5=uo(_t1176,"hsla"),_uo6=_slicedToArray(_uo5,4),_n357=_uo6[0],_o278=_uo6[1],_l245=_uo6[2],_h188=_uo6[3],_a151=_l245-20<0?0:_l245-20,_r90=xo([_n357,_o278,_l245,_h188],"hsla","rgba"),_d71=xo([_n357,_o278,_a151,_h188],"hsla","rgba");i=Pi("\n          <radialGradient>\n            <stop offset=\"0\" style=\"stop-color: ".concat(_r90,"\"></stop>\n            <stop offset=\"1\" style=\"stop-color: ").concat(_d71,"\"></stop>\n          </radialGradient>\n        "));}else i=Pi('\n          <radialGradient>\n            <stop offset="0" style="stop-color: #bada55"></stop>\n            <stop offset="1" style="stop-color: #758d29"></stop>\n          </radialGradient>\n        ');return i;};var _iterator758=_createForOfIteratorHelper(i),_step758;try{for(_iterator758.s();!(_step758=_iterator758.n()).done;){var _t1181=_step758.value;di(_t1181,s);}}catch(err){_iterator758.e(err);}finally{_iterator758.f();}if(s&&!1===s.collapsed){var _e870=s.startContainer.closest("text"),_i842=_e870.querySelectorAll("tspan"),_l246=pi(s,_e870),_h189=_l246.length>0?_l246:_i842,_a152=_h189[0];if("radialGradient"===Wo(_a152,this.context)){var _e871=Zo(t.masterWorkspace,getComputedStyle(_a152)[this.context]);var _iterator759=_createForOfIteratorHelper(_h189),_step759;try{for(_iterator759.s();!(_step759=_iterator759.n()).done;){var _t1177=_step759.value;_t1177!==_a152&&(_t1177.style[this.context]="url(#".concat(_e871.id,")"));}}catch(err){_iterator759.e(err);}finally{_iterator759.f();}}else{var _i843=o(_a152);var _iterator760=_createForOfIteratorHelper(_h189),_step760;try{for(_iterator760.s();!(_step760=_iterator760.n()).done;){var _s508=_step760.value;var _o279=_i(_e870),_l247=X(_o279.x+_o279.width/2,n),_h190=X(_o279.y+_o279.height/2,n),_a153=X(_o279.width/2,n),_r91=Di("svg:radialGradient");if(_r91.setAttribute("gradientUnits","userSpaceOnUse"),_r91.setAttribute("cx",_l247),_r91.setAttribute("cy",_h190),_r91.setAttribute("r",_a153),_i843.isConnected)_r91.setAttribute("id",t.generateUniqueID(_i843.id)),_r91.setAttribute("href","#"+_i843.id);else{_r91.setAttribute("id",t.generateUniqueID("gradient"));var _iterator761=_createForOfIteratorHelper(Oo(_i843)),_step761;try{for(_iterator761.s();!(_step761=_iterator761.n()).done;){var _t1178=_step761.value;_r91.append(_t1178.cloneNode());}}catch(err){_iterator761.e(err);}finally{_iterator761.f();}}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_r91),_s508.style[this.context]="url(#".concat(_r91.id,")");}}catch(err){_iterator760.e(err);}finally{_iterator760.f();}}}else{var _i844=e[0];"text"===_i844.localName&&_i844.querySelector("tspan")&&(_i844=_i844.querySelector("tspan"));var _s509=o(_i844);var _iterator762=_createForOfIteratorHelper(e),_step762;try{for(_iterator762.s();!(_step762=_iterator762.n()).done;){var _i845=_step762.value;var _e872=!1;if("radialGradient"===Wo(_i845,this.context)){var _n358=Zo(t.masterWorkspace,getComputedStyle(_i845)[this.context]);yo(_n358)===_s509&&(_e872=!0);}if(!1===_e872){var _e873=_i(_i845),_o280="use"===_i845.localName?"objectBoundingBox":"userSpaceOnUse",_l248="use"===_i845.localName?.5:X(_e873.x+_e873.width/2,n),_h191="use"===_i845.localName?.5:X(_e873.y+_e873.height/2,n),_a154="use"===_i845.localName?.5:X(_e873.width/2,n),_r92=Di("svg:radialGradient");if(_r92.setAttribute("gradientUnits",_o280),_r92.setAttribute("cx",_l248),_r92.setAttribute("cy",_h191),_r92.setAttribute("r",_a154),_s509.isConnected)_r92.setAttribute("id",t.generateUniqueID(_s509.id)),_r92.setAttribute("href","#"+_s509.id);else{_r92.setAttribute("id",t.generateUniqueID("gradient"));var _iterator763=_createForOfIteratorHelper(Oo(_s509)),_step763;try{for(_iterator763.s();!(_step763=_iterator763.n()).done;){var _t1179=_step763.value;_r92.append(_t1179.cloneNode());}}catch(err){_iterator763.e(err);}finally{_iterator763.f();}}if(t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_r92),"text"===_i845.localName&&_i845.querySelector("tspan")){var _iterator764=_createForOfIteratorHelper(_i845.querySelectorAll("tspan")),_step764;try{for(_iterator764.s();!(_step764=_iterator764.n()).done;){var _t1180=_step764.value;_t1180.style[this.context]="url(#".concat(_r92.id,")"),ga(this.context,_t1180);}}catch(err){_iterator764.e(err);}finally{_iterator764.f();}}else _i845.style[this.context]="url(#".concat(_r92.id,")"),ga(this.context,_i845);}}}catch(err){_iterator762.e(err);}finally{_iterator762.f();}}var _iterator765=_createForOfIteratorHelper(i),_step765;try{for(_iterator765.s();!(_step765=_iterator765.n()).done;){var _t1182=_step765.value;ci(_t1182,s);}}catch(err){_iterator765.e(err);}finally{_iterator765.f();}}},{key:"Ex",value:function Ex(){var _this465=this;var t=this.Js.board,e=this.$x(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange;t.geometryPrecision;t.undoManager.checkpoint("Paint type"),t.collectGarbage();var n=function n(e){var i=null;if("pattern"===Wo(e,_this465.context)){var _s510=getComputedStyle(e)[_this465.context];i=Zo(t.masterWorkspace,_s510),i=Ro(i);}else{var _e874=t.masterWorkspace.querySelector("pattern:not([href])");i=_e874||Pi('\n            <pattern x="0" y="0" width="25" height="25" patternUnits="userSpaceOnUse" viewBox="0 0 100 100">\n              <rect x="0" y="0" width="50" height="100" style="fill: black;"></rect>\n            </pattern>\n          ');}return i;};var _iterator766=_createForOfIteratorHelper(i),_step766;try{for(_iterator766.s();!(_step766=_iterator766.n()).done;){var _t1186=_step766.value;di(_t1186,s);}}catch(err){_iterator766.e(err);}finally{_iterator766.f();}if(s&&!1===s.collapsed){var _e875=s.startContainer.closest("text"),_i846=_e875.querySelectorAll("tspan"),_o281=pi(s,_e875),_l249=_o281.length>0?_o281:_i846,_h192=_l249[0];if("pattern"===Wo(_h192,this.context)){var _e876=Zo(t.masterWorkspace,getComputedStyle(_h192)[this.context]);var _iterator767=_createForOfIteratorHelper(_l249),_step767;try{for(_iterator767.s();!(_step767=_iterator767.n()).done;){var _t1183=_step767.value;_t1183!==_h192&&(_t1183.style[this.context]="url(#".concat(_e876.id,")"));}}catch(err){_iterator767.e(err);}finally{_iterator767.f();}}else{var _i847=n(_h192);!1===_i847.isConnected&&(_i847.id=t.generateUniqueID("pattern"),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_i847));var _s511=Di("svg:pattern");_s511.setAttribute("id",t.generateUniqueID(_i847.id)),_s511.setAttribute("href","#"+_i847.id),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_s511);var _iterator768=_createForOfIteratorHelper(_l249),_step768;try{for(_iterator768.s();!(_step768=_iterator768.n()).done;){var _t1184=_step768.value;_t1184.style[this.context]="url(#".concat(_s511.id,")");}}catch(err){_iterator768.e(err);}finally{_iterator768.f();}Yo(_s511,_e875,t.transformPrecision);}}else{var _i848=e[0];"text"===_i848.localName&&_i848.querySelector("tspan")&&(_i848=_i848.querySelector("tspan"));var _s512=n(_i848);!1===_s512.isConnected&&(_s512.id=t.generateUniqueID("pattern"),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_s512));var _iterator769=_createForOfIteratorHelper(e),_step769;try{for(_iterator769.s();!(_step769=_iterator769.n()).done;){var _i849=_step769.value;var _e877=!1;if("pattern"===Wo(_i849,this.context)){var _n359=Zo(t.masterWorkspace,getComputedStyle(_i849)[this.context]);Ro(_n359)===_s512&&(_e877=!0);}if(!1===_e877){var _e878=Di("svg:pattern");if(_e878.setAttribute("id",t.generateUniqueID(_s512.id)),_e878.setAttribute("href","#"+_s512.id),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_e878),"text"===_i849.localName&&_i849.querySelector("tspan")){var _iterator770=_createForOfIteratorHelper(_i849.querySelectorAll("tspan")),_step770;try{for(_iterator770.s();!(_step770=_iterator770.n()).done;){var _t1185=_step770.value;_t1185.style[this.context]="url(#".concat(_e878.id,")"),ga(this.context,_t1185);}}catch(err){_iterator770.e(err);}finally{_iterator770.f();}}else _i849.style[this.context]="url(#".concat(_e878.id,")"),ga(this.context,_i849);Yo(_e878,_i849,t.transformPrecision);}}}catch(err){_iterator769.e(err);}finally{_iterator769.f();}}var _iterator771=_createForOfIteratorHelper(i),_step771;try{for(_iterator771.s();!(_step771=_iterator771.n()).done;){var _t1187=_step771.value;ci(_t1187,s);}}catch(err){_iterator771.e(err);}finally{_iterator771.f();}}},{key:"Tx",value:function Tx(){var t=this.Js.board,e=this.$x(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange;t.undoManager.checkpoint("Paint type");var _iterator772=_createForOfIteratorHelper(i),_step772;try{for(_iterator772.s();!(_step772=_iterator772.n()).done;){var _t1188=_step772.value;di(_t1188,s);}}catch(err){_iterator772.e(err);}finally{_iterator772.f();}var _iterator773=_createForOfIteratorHelper(e),_step773;try{for(_iterator773.s();!(_step773=_iterator773.n()).done;){var _t1189=_step773.value;if("text"===_t1189.localName&&_t1189.querySelector("tspan")){var _e879=_t1189.querySelectorAll("tspan"),_i850=pi(s,_t1189),_n360=_i850.length>0&&!s.collapsed?_i850:_e879;_t1189.style[this.context]="inherit",ga(this.context,_t1189);var _iterator774=_createForOfIteratorHelper(_n360),_step774;try{for(_iterator774.s();!(_step774=_iterator774.n()).done;){var _t1190=_step774.value;_t1190.style[this.context]="inherit",ga(this.context,_t1190);}}catch(err){_iterator774.e(err);}finally{_iterator774.f();}}else _t1189.style[this.context]="inherit",ga(this.context,_t1189);}}catch(err){_iterator773.e(err);}finally{_iterator773.f();}}},{key:"Ax",value:function Ax(){var t=this.Js.board,e=this.$x(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange;t.undoManager.checkpoint("Paint type");var _iterator775=_createForOfIteratorHelper(i),_step775;try{for(_iterator775.s();!(_step775=_iterator775.n()).done;){var _t1191=_step775.value;di(_t1191,s);}}catch(err){_iterator775.e(err);}finally{_iterator775.f();}var _iterator776=_createForOfIteratorHelper(e),_step776;try{for(_iterator776.s();!(_step776=_iterator776.n()).done;){var _t1192=_step776.value;if("text"===_t1192.localName&&_t1192.querySelector("tspan")){var _e880=_t1192.querySelectorAll("tspan"),_i851=pi(s,_t1192),_n361=_i851.length>0&&!s.collapsed?_i851:_e880;var _iterator778=_createForOfIteratorHelper(_n361),_step778;try{for(_iterator778.s();!(_step778=_iterator778.n()).done;){var _t1193=_step778.value;_t1193.style[this.context]="none";}}catch(err){_iterator778.e(err);}finally{_iterator778.f();}}else _t1192.style[this.context]="none",ga(this.context,_t1192);}}catch(err){_iterator776.e(err);}finally{_iterator776.f();}var _iterator777=_createForOfIteratorHelper(i),_step777;try{for(_iterator777.s();!(_step777=_iterator777.n()).done;){var _t1194=_step777.value;ci(_t1194,s);}}catch(err){_iterator777.e(err);}finally{_iterator777.f();}}},{key:"Sx",value:function Sx(t){var e=this.Js.board,i=e.selectedTextRange,s=this["#spread-method-buttons"].querySelector("x-button[toggled]"),n=[];e.undoManager.checkpoint("Spread Method");var _iterator779=_createForOfIteratorHelper(this.$x()),_step779;try{for(_iterator779.s();!(_step779=_iterator779.n()).done;){var _t1196=_step779.value;if("text"===_t1196.localName){var _e882=xi(_t1196);if(i&&i.intersectsNode(_t1196)){var _iterator780=_createForOfIteratorHelper(_e882),_step780;try{for(_iterator780.s();!(_step780=_iterator780.n()).done;){var _t1197=_step780.value;i.intersectsNode(_t1197)&&!n.includes(_t1197.parentElement)&&n.push(_t1197.parentElement);}}catch(err){_iterator780.e(err);}finally{_iterator780.f();}}else{var _iterator781=_createForOfIteratorHelper(_e882),_step781;try{for(_iterator781.s();!(_step781=_iterator781.n()).done;){var _t1198=_step781.value;!1===n.includes(_t1198.parentElement)&&n.push(_t1198.parentElement);}}catch(err){_iterator781.e(err);}finally{_iterator781.f();}}}else n.push(_t1196);}}catch(err){_iterator779.e(err);}finally{_iterator779.f();}for(var _i852=0,_n362=n;_i852<_n362.length;_i852++){var _t1195=_n362[_i852];var _e881=Wo(_t1195,this.context);if("linearGradient"===_e881||"radialGradient"===_e881){qo(_t1195,this.context).setAttribute("spreadMethod",s.value);}}}},{key:"lx",value:function lx(){var t=this.Js.board,e=this.$x(),i=e.filter(function(t){return"text"===t.localName;}),s=this["#color-select"].value,n=t.selectedTextRange;t.undoManager.checkpoint("Paint color");var _iterator782=_createForOfIteratorHelper(i),_step782;try{for(_iterator782.s();!(_step782=_iterator782.n()).done;){var _t1202=_step782.value;di(_t1202,n);}}catch(err){_iterator782.e(err);}finally{_iterator782.f();}if(n&&!1===n.collapsed){var _t1199=n.startContainer.closest("text"),_e883=[];{var _i853=_t1199.querySelectorAll("tspan"),_s513=pi(n,_t1199);_e883=_s513.length>0?_s513:_i853;}var _iterator783=_createForOfIteratorHelper(_e883),_step783;try{for(_iterator783.s();!(_step783=_iterator783.n()).done;){var _t1200=_step783.value;_t1200.style[this.context]="url(#".concat(s,")"),ga(this.context,_t1200);}}catch(err){_iterator783.e(err);}finally{_iterator783.f();}}else{var _iterator784=_createForOfIteratorHelper(e),_step784;try{for(_iterator784.s();!(_step784=_iterator784.n()).done;){var _t1201=_step784.value;if(_t1201.style[this.context]="url(#".concat(s,")"),ga(this.context,_t1201),"text"===_t1201.localName&&_t1201.querySelector("tspan")){var _iterator785=_createForOfIteratorHelper(_t1201.querySelectorAll("tspan")),_step785;try{for(_iterator785.s();!(_step785=_iterator785.n()).done;){var _e884=_step785.value;_e884.style[this.context]="url(#".concat(s,")"),ga(this.context,_e884);}}catch(err){_iterator785.e(err);}finally{_iterator785.f();}}}}catch(err){_iterator784.e(err);}finally{_iterator784.f();}}var _iterator786=_createForOfIteratorHelper(i),_step786;try{for(_iterator786.s();!(_step786=_iterator786.n()).done;){var _t1203=_step786.value;ci(_t1203,n);}}catch(err){_iterator786.e(err);}finally{_iterator786.f();}t.collectGarbage();}},{key:"hx",value:function hx(){var t=this.Js.board,e=this.$x(),i=e.filter(function(t){return"text"===t.localName;}),s=this["#color-select"].value,n=t.masterWorkspace.querySelector("#"+s),o=To(n),l=t.selectedTextRange;t.undoManager.checkpoint("Unlink color"),t.collectGarbage();var _iterator787=_createForOfIteratorHelper(i),_step787;try{for(_iterator787.s();!(_step787=_iterator787.n()).done;){var _t1207=_step787.value;di(_t1207,l);}}catch(err){_iterator787.e(err);}finally{_iterator787.f();}if(l&&!1===l.collapsed){var _t1204=l.startContainer.closest("text"),_e885=[];{var _i854=_t1204.querySelectorAll("tspan"),_s514=pi(l,_t1204);_e885=_s514.length>0?_s514:_i854;}var _iterator788=_createForOfIteratorHelper(_e885),_step788;try{for(_iterator788.s();!(_step788=_iterator788.n()).done;){var _t1205=_step788.value;_t1205.style[this.context]=o,ga(this.context,_t1205);}}catch(err){_iterator788.e(err);}finally{_iterator788.f();}}else{var _iterator789=_createForOfIteratorHelper(e),_step789;try{for(_iterator789.s();!(_step789=_iterator789.n()).done;){var _t1206=_step789.value;if(_t1206.style[this.context]=o,ga(this.context,_t1206),"text"===_t1206.localName&&_t1206.querySelector("tspan")){var _iterator790=_createForOfIteratorHelper(_t1206.querySelectorAll("tspan")),_step790;try{for(_iterator790.s();!(_step790=_iterator790.n()).done;){var _e886=_step790.value;_e886.style[this.context]=o,ga(this.context,_e886);}}catch(err){_iterator790.e(err);}finally{_iterator790.f();}}}}catch(err){_iterator789.e(err);}finally{_iterator789.f();}}var _iterator791=_createForOfIteratorHelper(i),_step791;try{for(_iterator791.s();!(_step791=_iterator791.n()).done;){var _t1208=_step791.value;ci(_t1208,l);}}catch(err){_iterator791.e(err);}finally{_iterator791.f();}}},{key:"ux",value:function ux(){var t=this.Js.board,e=this.$x(),i=e.filter(function(t){return"text"===t.localName;}),s=this["#gradient-select"].value,n=t.masterWorkspace.querySelector("#"+CSS.escape(s)),o=ni(this["#paint-type-buttons"].value),l=t.selectedTextRange,h=t.geometryPrecision;t.undoManager.checkpoint("Gradient");var _iterator792=_createForOfIteratorHelper(i),_step792;try{for(_iterator792.s();!(_step792=_iterator792.n()).done;){var _t1216=_step792.value;di(_t1216,l);}}catch(err){_iterator792.e(err);}finally{_iterator792.f();}if(l&&!1===l.collapsed){var _e887=l.startContainer.closest("text"),_i855=[],_s515=null;{var _t1209=_e887.querySelectorAll("tspan"),_s516=pi(l,_e887);_i855=_s516.length>0?_s516:_t1209;}{var _e888=Wo(_i855[0],this.context);if("linearGradient"===_e888||"radialGradient"===_e888){var _e889=getComputedStyle(_i855[0])[this.context];_s515=Zo(t.masterWorkspace,_e889);}}if(_s515&&yo(_s515)===n){var _iterator793=_createForOfIteratorHelper(_i855),_step793;try{for(_iterator793.s();!(_step793=_iterator793.n()).done;){var _t1210=_step793.value;_t1210!==_i855[0]&&(_t1210.style[this.context]="url(#".concat(_s515.id,")"));}}catch(err){_iterator793.e(err);}finally{_iterator793.f();}}else{var _s517=_i(_e887);var _iterator794=_createForOfIteratorHelper(_i855),_step794;try{for(_iterator794.s();!(_step794=_iterator794.n()).done;){var _e890=_step794.value;var _i856=Di("svg:".concat(o));if(_i856.setAttribute("id",t.generateUniqueID(n.id)),_i856.setAttribute("href","#"+n.id),_i856.setAttribute("gradientUnits","userSpaceOnUse"),"linearGradient"===o){var _t1211=X(_s517.x+_s517.width/2,h),_e891=X(_s517.y,h),_n363=X(_s517.x+_s517.width/2,h),_o282=X(_s517.y+_s517.height,h);_i856.setAttribute("x1",_t1211),_i856.setAttribute("y1",_e891),_i856.setAttribute("x2",_n363),_i856.setAttribute("y2",_o282);}else if("radialGradient"===o){var _t1212=X(_s517.x+_s517.width/2,h),_e892=X(_s517.y+_s517.height/2,h),_n364=X(_s517.width/2,h);_i856.setAttribute("cx",_t1212),_i856.setAttribute("cy",_e892),_i856.setAttribute("r",_n364);}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_i856),_e890.style[this.context]="url(#".concat(_i856.id,")"),ga(this.context,_e890);}}catch(err){_iterator794.e(err);}finally{_iterator794.f();}}}else{var _iterator795=_createForOfIteratorHelper(e),_step795;try{for(_iterator795.s();!(_step795=_iterator795.n()).done;){var _i857=_step795.value;if(Wo(_i857,this.context)===o){var _e894=Zo(t.masterWorkspace,getComputedStyle(_i857)[this.context]);if(yo(_e894)===n)continue;}var _e893=_i(_i857),_s518=Di("svg:".concat(o));if(_s518.setAttribute("id",t.generateUniqueID(n.id)),_s518.setAttribute("href","#"+n.id),_s518.setAttribute("gradientUnits","use"===_i857.localName?"objectBoundingBox":"userSpaceOnUse"),"linearGradient"===o){var _t1213="use"===_i857.localName?.5:X(_e893.x+_e893.width/2,h),_n365="use"===_i857.localName?0:X(_e893.y,h),_o283="use"===_i857.localName?.5:X(_e893.x+_e893.width/2,h),_l250="use"===_i857.localName?1:X(_e893.y+_e893.height,h);_s518.setAttribute("x1",_t1213),_s518.setAttribute("y1",_n365),_s518.setAttribute("x2",_o283),_s518.setAttribute("y2",_l250);}else if("radialGradient"===o){var _t1214="use"===_i857.localName?.5:X(_e893.x+_e893.width/2,h),_n366="use"===_i857.localName?.5:X(_e893.y+_e893.height/2,h),_o284="use"===_i857.localName?.5:X(_e893.width/2,h);_s518.setAttribute("cx",_t1214),_s518.setAttribute("cy",_n366),_s518.setAttribute("r",_o284);}if(t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_s518),_i857.style[this.context]="url(#".concat(_s518.id,")"),ga(this.context,_i857),"text"===_i857.localName&&_i857.querySelector("tspan")){var _iterator796=_createForOfIteratorHelper(_i857.querySelectorAll("tspan")),_step796;try{for(_iterator796.s();!(_step796=_iterator796.n()).done;){var _t1215=_step796.value;_t1215.style[this.context]="url(#".concat(_s518.id,")"),ga(this.context,_t1215);}}catch(err){_iterator796.e(err);}finally{_iterator796.f();}}}}catch(err){_iterator795.e(err);}finally{_iterator795.f();}}var _iterator797=_createForOfIteratorHelper(i),_step797;try{for(_iterator797.s();!(_step797=_iterator797.n()).done;){var _t1217=_step797.value;ci(_t1217,l);}}catch(err){_iterator797.e(err);}finally{_iterator797.f();}t.collectGarbage();}},{key:"xx",value:function xx(){var t=this.Js.board,e=t.selectedTextRange,i=t.geometryPrecision,s=[];t.undoManager.checkpoint("Unlink gradient"),t.collectGarbage();var _iterator798=_createForOfIteratorHelper(this.$x()),_step798;try{for(_iterator798.s();!(_step798=_iterator798.n()).done;){var _t1223=_step798.value;if("text"===_t1223.localName){var _i860=xi(_t1223);if(e&&e.intersectsNode(_t1223)){"backward"===e.direction&&_i860.reverse();var _iterator800=_createForOfIteratorHelper(_i860),_step800;try{for(_iterator800.s();!(_step800=_iterator800.n()).done;){var _t1224=_step800.value;e.intersectsNode(_t1224)&&!1===s.includes(_t1224.parentElement)&&s.push(_t1224.parentElement);}}catch(err){_iterator800.e(err);}finally{_iterator800.f();}}else{var _iterator801=_createForOfIteratorHelper(_i860),_step801;try{for(_iterator801.s();!(_step801=_iterator801.n()).done;){var _t1225=_step801.value;!1===s.includes(_t1225.parentElement)&&s.push(_t1225.parentElement);}}catch(err){_iterator801.e(err);}finally{_iterator801.f();}}}else s.push(_t1223);}}catch(err){_iterator798.e(err);}finally{_iterator798.f();}for(var _i858=0,_s519=s;_i858<_s519.length;_i858++){var _e895=_s519[_i858];var _s520=Wo(_e895,this.context),_n367=null;if("linearGradient"===_s520||"radialGradient"===_s520){_n367=Zo(t.masterWorkspace,getComputedStyle(_e895)[this.context]);{var _o285=Di("svg:".concat(_s520));_o285.setAttribute("id",t.generateUniqueID("gradient"));var _iterator799=_createForOfIteratorHelper(Po(_n367)),_step799;try{for(_iterator799.s();!(_step799=_iterator799.n()).done;){var _t1222=_step799.value;_o285.append(_t1222.cloneNode());}}catch(err){_iterator799.e(err);}finally{_iterator799.f();}{var _t1218=[],_l251=[];"linearGradient"===_s520?_t1218=["x1","x2","y1","y2","gradientUnits","gradientTransform","spreadMethod"]:"radialGradient"===_s520&&(_t1218=["cx","cy","r","fx","fy","fr","gradientUnits","gradientTransform","spreadMethod"]);for(var _i859=0,_t1219=_t1218;_i859<_t1219.length;_i859++){var _e896=_t1219[_i859];var _t1220=Do(_n367,_e896);null!==_t1220&&(_o285.setAttribute(_e896,_t1220),_l251.push(_e896));}if(0===_l251.length){var _t1221=_i(_e895);if(_o285.setAttribute("gradientUnits","userSpaceOnUse"),"linearGradient"===_s520){var _e897=X(_t1221.x,i),_s521=X(_t1221.y,i),_n368=X(_t1221.x+_t1221.width,i),_l252=X(_t1221.y,i);_o285.setAttribute("x1",_e897),_o285.setAttribute("y1",_s521),_o285.setAttribute("x2",_n368),_o285.setAttribute("y2",_l252);}else if("radialGradient"===_s520){var _e898=X(_t1221.x+_t1221.width/2,i),_s522=X(_t1221.y+_t1221.height/2,i),_n369=X(_t1221.width/2,i);_o285.setAttribute("cx",_e898),_o285.setAttribute("cy",_s522),_o285.setAttribute("r",_n369);}}}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_o285),_e895.style[this.context]="url(#".concat(_o285.id,")"),ga(this.context,_e895);}}}t.collectGarbage();}},{key:"gx",value:function gx(){this.Qs.setConfig("bx-paintinspector#".concat(this.id,":colorPickerFormat"),this["#color-picker"].format);}},{key:"wx",value:function wx(t){this["#color-picker"].type=t.detail.value,this.Qs.setConfig("bx-paintinspector#".concat(this.id,":colorPickerType"),this["#color-picker"].type);}},{key:"mx",value:function mx(t){var _this466=this;var e,_i862,s=this.Js.board,n=[].concat(_toConsumableArray(s.linearGradientHud.selectedStops),_toConsumableArray(s.radialGradientHud.selectedStops));if(s.undoManager.checkpoint("Change color"),n.length>0)this["#color-picker"].addEventListener("change",e=function e(){var _iterator802=_createForOfIteratorHelper(n),_step802;try{for(_iterator802.s();!(_step802=_iterator802.n()).done;){var _t1226=_step802.value;_t1226.style.stopColor=_this466["#color-picker"].value,ga("stop-color",_t1226);}}catch(err){_iterator802.e(err);}finally{_iterator802.f();}}),this["#color-picker"].addEventListener("changeend",_i862=function i(){_this466["#color-picker"].removeEventListener("change",e),_this466["#color-picker"].removeEventListener("changeend",_i862);});else{var _t1227=this.$x(),_n370=_t1227.filter(function(t){return"text"===t.localName;}),_o286=s.selectedTextRange,_l253=[],_h193=null;null!==this["#color-select"].value&&(_h193=s.masterWorkspace.querySelector("#"+this["#color-select"].value));var _iterator803=_createForOfIteratorHelper(_n370),_step803;try{for(_iterator803.s();!(_step803=_iterator803.n()).done;){var _t1231=_step803.value;di(_t1231,_o286);}}catch(err){_iterator803.e(err);}finally{_iterator803.f();}var _iterator804=_createForOfIteratorHelper(_t1227),_step804;try{for(_iterator804.s();!(_step804=_iterator804.n()).done;){var _e899=_step804.value;if("text"===_e899.localName&&_e899.querySelector("tspan")){var _t1232=_e899.querySelectorAll("tspan"),_i863=pi(_o286,_e899),_s523=_i863.length>0&&!_o286.collapsed?_i863:_t1232;_l253.push.apply(_l253,_toConsumableArray(_s523));}else _l253.push(_e899);}}catch(err){_iterator804.e(err);}finally{_iterator804.f();}this["#color-picker"].addEventListener("change",e=function e(){if(_h193){Ao(_h193,_this466["#color-picker"].value);var _iterator805=_createForOfIteratorHelper(_l253),_step805;try{for(_iterator805.s();!(_step805=_iterator805.n()).done;){var _t1228=_step805.value;_t1228.style[_this466.context]="url(#".concat(_h193.id,")"),ga(_this466.context,_t1228);}}catch(err){_iterator805.e(err);}finally{_iterator805.f();}}else{var _iterator806=_createForOfIteratorHelper(_l253),_step806;try{for(_iterator806.s();!(_step806=_iterator806.n()).done;){var _t1229=_step806.value;_t1229.style[_this466.context]=_this466["#color-picker"].value,ga(_this466.context,_t1229);}}catch(err){_iterator806.e(err);}finally{_iterator806.f();}}}),this["#color-picker"].addEventListener("changeend",_i862=function _i861(){_this466["#color-picker"].removeEventListener("change",e),_this466["#color-picker"].removeEventListener("changeend",_i862);var _iterator807=_createForOfIteratorHelper(_n370),_step807;try{for(_iterator807.s();!(_step807=_iterator807.n()).done;){var _t1230=_step807.value;ci(_t1230,_o286);}}catch(err){_iterator807.e(err);}finally{_iterator807.f();}});}}},{key:"vx",value:function vx(t){0===t.button&&"edit-tool-span"===t.target.id&&this.Js.toggleTool("edit-tool");}},{key:"yx",value:function yx(){var _this467=this;var t,_e900,i=this.Js.board,s=[].concat(_toConsumableArray(i.linearGradientHud.selectedStops),_toConsumableArray(i.radialGradientHud.selectedStops));i.undoManager.checkpoint("Stop opacity"),this.nx=!0,this["#stop-opacity-section"].addEventListener("change",t=function t(_t1234){_t1234.target===_this467["#stop-opacity-slider"]?_this467["#stop-opacity-input"].value=_this467["#stop-opacity-slider"].value:_t1234.target===_this467["#stop-opacity-input"]&&(_this467["#stop-opacity-slider"].value=_this467["#stop-opacity-input"].value),_this467["#stop-opacity-slider"].mixed=!1,_this467["#stop-opacity-input"].mixed=!1;var _iterator808=_createForOfIteratorHelper(s),_step808;try{for(_iterator808.s();!(_step808=_iterator808.n()).done;){var _t1233=_step808.value;_t1233.style.setProperty("stop-opacity",_this467["#stop-opacity-slider"].value);}}catch(err){_iterator808.e(err);}finally{_iterator808.f();}}),this["#stop-opacity-section"].addEventListener("changeend",_e900=function e(){_this467["#stop-opacity-section"].removeEventListener("change",t),_this467["#stop-opacity-section"].removeEventListener("changeend",_e900);var _iterator809=_createForOfIteratorHelper(s),_step809;try{for(_iterator809.s();!(_step809=_iterator809.n()).done;){var _t1235=_step809.value;ga("stop-opacity",_t1235);}}catch(err){_iterator809.e(err);}finally{_iterator809.f();}_this467.nx=!1;});}},{key:"kx",value:function kx(){var t=this.Js.board,e=this.$x(),i=e.filter(function(t){return"text"===t.localName;}),s=this["#pattern-select"].value,n=t.masterWorkspace.querySelector("#"+CSS.escape(s)),o=t.selectedTextRange;t.geometryPrecision;t.undoManager.checkpoint("Pattern");var _iterator810=_createForOfIteratorHelper(i),_step810;try{for(_iterator810.s();!(_step810=_iterator810.n()).done;){var _t1236=_step810.value;di(_t1236,o);}}catch(err){_iterator810.e(err);}finally{_iterator810.f();}var _iterator811=_createForOfIteratorHelper(e),_step811;try{for(_iterator811.s();!(_step811=_iterator811.n()).done;){var _i864=_step811.value;if("text"===_i864.localName&&_i864.querySelectorAll("tspan").length>0){var _e901=_i864.querySelectorAll("tspan"),_s524=pi(o,_i864),_l254=_s524.length>0&&!o.collapsed?_s524:_e901,_h194=qo(_l254[0],this.context),_a155=_h194&&"pattern"===_h194.localName?_h194:null;if(_a155&&Ho([_a155,n])){var _iterator813=_createForOfIteratorHelper(_l254),_step813;try{for(_iterator813.s();!(_step813=_iterator813.n()).done;){var _t1237=_step813.value;_t1237.style[this.context]="url(#".concat(_a155.id,")");}}catch(err){_iterator813.e(err);}finally{_iterator813.f();}}else{var _e902=Di("svg:pattern");_e902.setAttribute("id",t.generateUniqueID(n.id)),_e902.setAttribute("href","#"+n.id),n.hasAttribute("patternTransform")&&_e902.setAttribute("patternTransform",""),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_e902);var _iterator814=_createForOfIteratorHelper(_l254),_step814;try{for(_iterator814.s();!(_step814=_iterator814.n()).done;){var _t1238=_step814.value;_t1238.style[this.context]="url(#".concat(_e902.id,")");}}catch(err){_iterator814.e(err);}finally{_iterator814.f();}Yo(_e902,_i864,t.transformPrecision);}}else{if("pattern"===Wo(_i864,this.context)){var _e904=getComputedStyle(_i864)[this.context],_s525=Zo(t.masterWorkspace,_e904);if(Ho([_s525,n]))continue;}var _e903=Di("svg:pattern");_e903.setAttribute("id",t.generateUniqueID(n.id)),_e903.setAttribute("href","#"+n.id),n.hasAttribute("patternTransform")&&_e903.setAttribute("patternTransform",""),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_e903),_i864.style[this.context]="url(#".concat(_e903.id,")"),ga(this.context,_i864),Yo(_e903,_i864,t.transformPrecision);}}}catch(err){_iterator811.e(err);}finally{_iterator811.f();}var _iterator812=_createForOfIteratorHelper(i),_step812;try{for(_iterator812.s();!(_step812=_iterator812.n()).done;){var _t1239=_step812.value;ci(_t1239,o);}}catch(err){_iterator812.e(err);}finally{_iterator812.f();}t.collectGarbage();}},{key:"_x",value:function _x(){var t=this.Js.board,e=this.$x(),i=t.selectedTextRange;t.undoManager.checkpoint("Paint order");var _iterator815=_createForOfIteratorHelper(e),_step815;try{for(_iterator815.s();!(_step815=_iterator815.n()).done;){var _t1240=_step815.value;if("text"===_t1240.localName){di(_t1240,i);var _e905=_t1240.querySelectorAll("tspan"),_s526=pi(i,_t1240),_n371=_s526.length>0&&!i.collapsed?_s526:_e905;if(_n371.length>0){var _iterator816=_createForOfIteratorHelper(_n371),_step816;try{for(_iterator816.s();!(_step816=_iterator816.n()).done;){var _t1241=_step816.value;_t1241.style.paintOrder=this["#paint-order-switch"].value.join(" ");}}catch(err){_iterator816.e(err);}finally{_iterator816.f();}}else _t1240.style.paintOrder=this["#paint-order-switch"].value.join(" "),ga("paint-order",_t1240);ci(_t1240,i);}else _t1240.style.paintOrder=this["#paint-order-switch"].value.join(" "),ga("paint-order",_t1240);}}catch(err){_iterator815.e(err);}finally{_iterator815.f();}}},{key:"qs",value:function qs(){var _this468=this;var t=this.Js.board,e=[].concat(_toConsumableArray(t.linearGradientHud.selectedStops),_toConsumableArray(t.radialGradientHud.selectedStops)),i=[],s=null,n=null,o=null;{var _l255=t.selectedTextRange;var _iterator817=_createForOfIteratorHelper(this.$x()),_step817;try{for(_iterator817.s();!(_step817=_iterator817.n()).done;){var _t1243=_step817.value;if("text"===_t1243.localName){var _e906=xi(_t1243);if(_l255&&_l255.intersectsNode(_t1243)){"backward"===_l255.direction&&_e906.reverse();var _iterator818=_createForOfIteratorHelper(_e906),_step818;try{for(_iterator818.s();!(_step818=_iterator818.n()).done;){var _t1244=_step818.value;_l255.intersectsNode(_t1244)&&!1===i.includes(_t1244.parentElement)&&i.push(_t1244.parentElement);}}catch(err){_iterator818.e(err);}finally{_iterator818.f();}}else{var _iterator819=_createForOfIteratorHelper(_e906),_step819;try{for(_iterator819.s();!(_step819=_iterator819.n()).done;){var _t1245=_step819.value;!1===i.includes(_t1245.parentElement)&&i.push(_t1245.parentElement);}}catch(err){_iterator819.e(err);}finally{_iterator819.f();}}}else i.push(_t1243);}}catch(err){_iterator817.e(err);}finally{_iterator817.f();}if(i.length>0&&(s=i[0]),e.length>0){var _t1242=e[0].closest("linearGradient, radialGradient"),_n372=i.find(function(e){return qo(e,_this468.context)===_t1242;});_n372&&(s=_n372);}s&&(n=Wo(s,this.context),o=qo(s,this.context));}if(this["#section-heading"].disabled=!s,this["#inherit-paint-button"].hidden="symbol"!==t.currentWorkspace.getAttribute("data-bx-workspace"),s){var _e907=n;"symbol"===t.currentWorkspace.getAttribute("data-bx-workspace")&&"inherit"===s.style[this.context]&&(_e907="inherit");var _o287=Xo(i,this.context);if(this["#paint-type-heading"].disabled=!1,"solid"===_e907){var _iterator820=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step820;try{for(_iterator820.s();!(_step820=_iterator820.n()).done;){var _t1246=_step820.value;_t1246.disabled=!1,"solid"===_t1246.value?(_t1246.toggled=!0,_t1246.mixed=_o287):(_t1246.toggled=!1,_t1246.mixed=!1);}}catch(err){_iterator820.e(err);}finally{_iterator820.f();}}else if("linearGradient"===_e907){var _iterator821=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step821;try{for(_iterator821.s();!(_step821=_iterator821.n()).done;){var _t1247=_step821.value;_t1247.disabled=!1,"linear-gradient"===_t1247.value?(_t1247.toggled=!0,_t1247.mixed=_o287):(_t1247.toggled=!1,_t1247.mixed=!1);}}catch(err){_iterator821.e(err);}finally{_iterator821.f();}}else if("radialGradient"===_e907){var _iterator822=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step822;try{for(_iterator822.s();!(_step822=_iterator822.n()).done;){var _t1248=_step822.value;_t1248.disabled=!1,"radial-gradient"===_t1248.value?(_t1248.toggled=!0,_t1248.mixed=_o287):(_t1248.toggled=!1,_t1248.mixed=!1);}}catch(err){_iterator822.e(err);}finally{_iterator822.f();}}else if("pattern"===_e907){var _iterator823=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step823;try{for(_iterator823.s();!(_step823=_iterator823.n()).done;){var _t1249=_step823.value;_t1249.disabled=!1,"pattern"===_t1249.value?(_t1249.toggled=!0,_t1249.mixed=_o287):(_t1249.toggled=!1,_t1249.mixed=!1);}}catch(err){_iterator823.e(err);}finally{_iterator823.f();}}else if("inherit"===_e907){var _iterator824=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step824;try{for(_iterator824.s();!(_step824=_iterator824.n()).done;){var _t1250=_step824.value;_t1250.disabled=!1,"inherit"===_t1250.value?(_t1250.toggled=!0,_t1250.mixed=_o287):(_t1250.toggled=!1,_t1250.mixed=!1);}}catch(err){_iterator824.e(err);}finally{_iterator824.f();}}else if("none"===_e907){var _iterator825=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step825;try{for(_iterator825.s();!(_step825=_iterator825.n()).done;){var _t1251=_step825.value;_t1251.disabled=!1,"none"===_t1251.value?(_t1251.toggled=!0,_t1251.mixed=_o287):(_t1251.toggled=!1,_t1251.mixed=!1);}}catch(err){_iterator825.e(err);}finally{_iterator825.f();}}}else{this["#paint-type-heading"].disabled=!0;var _iterator826=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step826;try{for(_iterator826.s();!(_step826=_iterator826.n()).done;){var _t1252=_step826.value;_t1252.disabled=!0,_t1252.toggled=!1,_t1252.mixed=!1;}}catch(err){_iterator826.e(err);}finally{_iterator826.f();}}if("solid"===n?(this["#color-select-section"].hidden=!1,this["#color-select"].enabled=!0,this["#color-select"].mixed=Xo(i,this.context),this["#color-select"].value=o?o.id:null,this["#color-unlink-button"].hidden=null===o):(this["#color-select-section"].hidden=!0,this["#color-select"].enabled=!1),"linearGradient"===n||"radialGradient"===n){var _t1253=yo(o);this["#gradient-select-section"].hidden=!1,this["#gradient-select"].enabled=!0,this["#gradient-select"].mixed=Xo(i,this.context),this["#gradient-select"].value=_t1253?_t1253.id:null,this["#gradient-unlink-button"].hidden=!1===this.Ix();}else this["#gradient-select-section"].hidden=!0,this["#gradient-select"].enabled=!1;if("pattern"===n){var _e908=_toConsumableArray(t.masterWorkspace.querySelectorAll("pattern"));_e908=_e908.filter(function(t){return!1===t.hasAttribute("href");});var _s527=Ro(o);this["#pattern-select-section"].hidden=!1,this["#pattern-select"].enabled=!0,this["#pattern-select"].mixed=Xo(i,this.context),this["#pattern-select"].value=_s527?_s527.id:null;}else this["#pattern-select-section"].hidden=!0,this["#pattern-select"].mixed=!1,this["#pattern-select"].enabled=!1;if("solid"===n){var _t1254=getComputedStyle(s)[this.context],_e909=Xo(i,this.context);if(!1===fo(_t1254)){var _e910=so.fromString(_t1254),_i865=this.Js.board.masterWorkspace.querySelector(_e910.value);_t1254=To(_i865);}this["#color-section"].hidden=!1,this["#color-section"].style.marginTop="11px",this["#color-section-heading"].hidden=!0,this["#color-picker"].hidden=!1,this["#color-picker"].value=_t1254,this["#color-picker"].mixed=_e909,this["#color-picker-type-buttons"].hidden=!1,this["#color-picker-hint"].hidden=!0;}else if("linearGradient"===n||"radialGradient"===n){var _e911=Xo(i,this.context),_s528=t["".concat(n,"Hud")].selectedStops;this["#color-section"].hidden=!1,this["#color-section"].style.marginTop=null,this["#color-section-heading"].hidden=!1,this["#color-section-heading"].textContent="Stop color",0===_s528.length?(this["#color-picker"].hidden=!0,this["#color-picker-type-buttons"].hidden=!0,this["#color-picker-hint"].hidden=!1):(this["#color-picker"].hidden=!1,this["#color-picker"].mixed=_e911,this["#color-picker"].value=getComputedStyle(_s528[0]).stopColor||"#000",this["#color-picker-type-buttons"].hidden=!1,this["#color-picker-hint"].hidden=!0);}else this["#color-section"].hidden=!0;if(!1===this.nx)if("linearGradient"===n||"radialGradient"===n){var _e912=t["".concat(n,"Hud")].selectedStops;if(0===_e912.length)this["#stop-opacity-section"].hidden=!0;else{var _t1255=_e912.map(function(t){return getComputedStyle(t).stopOpacity;}),_i866=!1===ti(_t1255,_t1255[0]);this["#stop-opacity-section"].hidden=!1,this["#stop-opacity-slider"].value=_t1255[0],this["#stop-opacity-input"].mixed=_i866,this["#stop-opacity-input"].value=_t1255[0];}}else this["#stop-opacity-section"].hidden=!0;if("linearGradient"===n||"radialGradient"===n){this["#spread-method-section"].hidden=!1;var _t1256=o,_e913=!1;var _iterator827=_createForOfIteratorHelper(i),_step827;try{for(_iterator827.s();!(_step827=_iterator827.n()).done;){var _s529=_step827.value;var _i867=qo(_s529,this.context);_i867&&_i867.localName.endsWith("Gradient")&&_i867.spreadMethod.baseVal!==_t1256.spreadMethod.baseVal&&(_e913=!0);}}catch(err){_iterator827.e(err);}finally{_iterator827.f();}_t1256.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_REPEAT?(this["#repeat-spread-method-button"].toggled=!0,this["#repeat-spread-method-button"].mixed=_e913,this["#pad-spread-method-button"].toggled=!1,this["#pad-spread-method-button"].mixed=!1,this["#reflect-spread-method-button"].toggled=!1,this["#reflect-spread-method-button"].mixed=!1):_t1256.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_PAD?(this["#repeat-spread-method-button"].toggled=!1,this["#repeat-spread-method-button"].mixed=!1,this["#pad-spread-method-button"].toggled=!0,this["#pad-spread-method-button"].mixed=_e913,this["#reflect-spread-method-button"].toggled=!1,this["#reflect-spread-method-button"].mixed=!1):_t1256.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_REFLECT&&(this["#repeat-spread-method-button"].toggled=!1,this["#repeat-spread-method-button"].mixed=!1,this["#pad-spread-method-button"].toggled=!1,this["#pad-spread-method-button"].mixed=!1,this["#reflect-spread-method-button"].toggled=!0,this["#reflect-spread-method-button"].mixed=_e913);}else this["#spread-method-section"].hidden=!0;if(s){if("none"===n)this["#paint-order-section"].hidden=!0;else{var _t1257=getComputedStyle(s).paintOrder;if("normal"===_t1257)_t1257=["fill","stroke","markers"];else{_t1257=_t1257.split(" ");for(var _i868=0,_arr40=["fill","stroke","markers"];_i868<_arr40.length;_i868++){var _e914=_arr40[_i868];!1===_t1257.includes(_e914)&&_t1257.push(_e914);}}this["#paint-order-section"].hidden=!1,this["#paint-order-switch"].value=_t1257;}}else this["#paint-order-section"].hidden=!0;}},{key:"Ix",value:function Ix(){var _this469=this;var t=this.Js.board,e=t.selectedTextRange,i=[];var _iterator828=_createForOfIteratorHelper(this.$x()),_step828;try{for(_iterator828.s();!(_step828=_iterator828.n()).done;){var _t1258=_step828.value;if("text"===_t1258.localName){var _s530=xi(_t1258);if(e&&e.intersectsNode(_t1258)){"backward"===e.direction&&_s530.reverse();var _iterator829=_createForOfIteratorHelper(_s530),_step829;try{for(_iterator829.s();!(_step829=_iterator829.n()).done;){var _t1259=_step829.value;e.intersectsNode(_t1259)&&!1===i.includes(_t1259.parentElement)&&i.push(_t1259.parentElement);}}catch(err){_iterator829.e(err);}finally{_iterator829.f();}}else{var _iterator830=_createForOfIteratorHelper(_s530),_step830;try{for(_iterator830.s();!(_step830=_iterator830.n()).done;){var _t1260=_step830.value;!1===i.includes(_t1260.parentElement)&&i.push(_t1260.parentElement);}}catch(err){_iterator830.e(err);}finally{_iterator830.f();}}}else i.push(_t1258);}}catch(err){_iterator828.e(err);}finally{_iterator828.f();}return i=i.filter(function(e){var i=Wo(e,_this469.context);if("linearGradient"===i||"radialGradient"===i){var _i869=Zo(t.masterWorkspace,getComputedStyle(e)[_this469.context]);if(yo(_i869))return!0;}return!1;}),i.length>0;}},{key:"$x",value:function $x(){var t=[],e=function e(i){var _iterator831=_createForOfIteratorHelper(i),_step831;try{for(_iterator831.s();!(_step831=_iterator831.n()).done;){var _s531=_step831.value;w.includes(_s531.localName)||"use"===_s531.localName?t.push(_s531):"g"!==_s531.localName&&"a"!==_s531.localName||e(_s531.children);}}catch(err){_iterator831.e(err);}finally{_iterator831.f();}};return e(this.Js.board.outermostSelectedElements),t;}}]);return px;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(px,"observedAttributes",["enabled","context"]);_defineProperty(px,"_shadowTemplate",Hi(_templateObject260()));_defineProperty(px,"_shadowStyleSheet",Yi(_templateObject261()));customElements.define("bx-paintinspector",px);var ux=Number.parseFloat;var xx=/*#__PURE__*/function(_HTMLElement73){_inherits(xx,_HTMLElement73);var _super101=_createSuper(xx);_createClass(xx,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function xx(){var _this470;_classCallCheck(this,xx);_this470=_super101.call(this),_this470.wa=qi(_this470.qs,200,_assertThisInitialized(_this470)),_this470.Lx=!1,_this470._shadowRoot=_this470.attachShadow({mode:"closed"}),_this470._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,xx._shadowStyleSheet],_this470._shadowRoot.append(document.importNode(xx._shadowTemplate.content,!0));var _iterator832=_createForOfIteratorHelper(_this470._shadowRoot.querySelectorAll("[id]")),_step832;try{for(_iterator832.s();!(_step832=_iterator832.n()).done;){var _t1261=_step832.value;_this470["#"+_t1261.id]=_t1261;}}catch(err){_iterator832.e(err);}finally{_iterator832.f();}_this470["#opacity-section"].addEventListener("changestart",function(){return _this470.Bx();}),_this470["#rule-buttons"].addEventListener("toggle",function(t){return _this470.Rx(t);});return _this470;}_createClass(xx,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ti(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this471=this;this["#fill-paint-inspector"].enabled=!0,this.wa(),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this471.Qo();}),this.Js.board.addEventListener("selectedtextrangechange",this.Nh=function(){_this471.Vh();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this471.il(t);});}},{key:"sn",value:function sn(){this["#fill-paint-inspector"].enabled=!1,this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("selectedtextrangechange",this.Nh),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Qo",value:function Qo(){this.wa();}},{key:"Vh",value:function Vh(){this.wa();}},{key:"il",value:function il(t){this.wa();}},{key:"Bx",value:function Bx(){var _this472=this;this.Js.board.undoManager.checkpoint("Fill opacity");var t,_e915,i=this.$x(),s=i.filter(function(t){return"text"===t.localName;}),n=this.Js.board.selectedTextRange,o=[];var _iterator833=_createForOfIteratorHelper(s),_step833;try{for(_iterator833.s();!(_step833=_iterator833.n()).done;){var _t1266=_step833.value;di(_t1266,n);}}catch(err){_iterator833.e(err);}finally{_iterator833.f();}var _iterator834=_createForOfIteratorHelper(i),_step834;try{for(_iterator834.s();!(_step834=_iterator834.n()).done;){var _t1267=_step834.value;if("text"===_t1267.localName){var _e916=_t1267.querySelectorAll("tspan"),_i870=pi(n,_t1267),_s532=_i870.length>0&&!n.collapsed?_i870:_e916;o.push.apply(o,_toConsumableArray(_s532));}else o.push(_t1267);}}catch(err){_iterator834.e(err);}finally{_iterator834.f();}this.Lx=!0,this["#opacity-section"].addEventListener("change",t=function t(_t1263){_t1263.target===_this472["#opacity-slider"]?_this472["#opacity-input"].value=_this472["#opacity-slider"].value:_t1263.target===_this472["#opacity-input"]&&(_this472["#opacity-slider"].value=_this472["#opacity-input"].value),_this472["#opacity-slider"].mixed=!1,_this472["#opacity-input"].mixed=!1;var _iterator835=_createForOfIteratorHelper(o),_step835;try{for(_iterator835.s();!(_step835=_iterator835.n()).done;){var _t1262=_step835.value;_t1262.style.setProperty("fill-opacity",_this472["#opacity-slider"].value);}}catch(err){_iterator835.e(err);}finally{_iterator835.f();}}),this["#opacity-section"].addEventListener("changeend",_e915=function e(){_this472["#opacity-section"].removeEventListener("change",t),_this472["#opacity-section"].removeEventListener("changeend",_e915),_this472.Lx=!1;var _iterator836=_createForOfIteratorHelper(o),_step836;try{for(_iterator836.s();!(_step836=_iterator836.n()).done;){var _t1264=_step836.value;ga("fill-opacity",_t1264);}}catch(err){_iterator836.e(err);}finally{_iterator836.f();}var _iterator837=_createForOfIteratorHelper(s),_step837;try{for(_iterator837.s();!(_step837=_iterator837.n()).done;){var _t1265=_step837.value;ci(_t1265,n);}}catch(err){_iterator837.e(err);}finally{_iterator837.f();}});}},{key:"Rx",value:function Rx(t){var e=this.$x(),i=e.filter(function(t){return"text"===t.localName;}),s=this.Js.board.selectedTextRange,n=[];this.Js.board.undoManager.checkpoint("Fill rule");var _iterator838=_createForOfIteratorHelper(i),_step838;try{for(_iterator838.s();!(_step838=_iterator838.n()).done;){var _t1269=_step838.value;di(_t1269,s);}}catch(err){_iterator838.e(err);}finally{_iterator838.f();}var _iterator839=_createForOfIteratorHelper(e),_step839;try{for(_iterator839.s();!(_step839=_iterator839.n()).done;){var _t1270=_step839.value;if("text"===_t1270.localName&&_t1270.querySelector("tspan")){var _e917=_t1270.querySelectorAll("tspan"),_i872=pi(s,_t1270),_o288=_i872.length>0&&!s.collapsed?_i872:_e917;n.push.apply(n,_toConsumableArray(_o288));}else n.push(_t1270);}}catch(err){_iterator839.e(err);}finally{_iterator839.f();}for(var _i871=0,_n373=n;_i871<_n373.length;_i871++){var _t1268=_n373[_i871];_t1268.style.setProperty("fill-rule",this["#rule-buttons"].value),ga("fill-rule",_t1268);}var _iterator840=_createForOfIteratorHelper(i),_step840;try{for(_iterator840.s();!(_step840=_iterator840.n()).done;){var _t1271=_step840.value;ci(_t1271,s);}}catch(err){_iterator840.e(err);}finally{_iterator840.f();}}},{key:"qs",value:function qs(){var t=[],e=this.Js.board.selectedTextRange,i=Symbol();var _iterator841=_createForOfIteratorHelper(this.$x()),_step841;try{for(_iterator841.s();!(_step841=_iterator841.n()).done;){var _i874=_step841.value;if("text"===_i874.localName){var _s535=xi(_i874);if(e&&e.intersectsNode(_i874)){"backward"===e.direction&&_s535.reverse();var _iterator844=_createForOfIteratorHelper(_s535),_step844;try{for(_iterator844.s();!(_step844=_iterator844.n()).done;){var _i875=_step844.value;e.intersectsNode(_i875)&&!1===t.includes(_i875.parentElement)&&t.push(_i875.parentElement);}}catch(err){_iterator844.e(err);}finally{_iterator844.f();}}else{var _iterator845=_createForOfIteratorHelper(_s535),_step845;try{for(_iterator845.s();!(_step845=_iterator845.n()).done;){var _e921=_step845.value;!1===t.includes(_e921.parentElement)&&t.push(_e921.parentElement);}}catch(err){_iterator845.e(err);}finally{_iterator845.f();}}}else t.push(_i874);}}catch(err){_iterator841.e(err);}finally{_iterator841.f();}for(var _i873=0,_t1272=t;_i873<_t1272.length;_i873++){var _e918=_t1272[_i873];_e918[i]=getComputedStyle(_e918);}var s=t[0],n=t.slice(1);if(this["#panel-heading"].disabled=void 0===s,!1===this.Lx)if(s){var _t1273=s[i].fillOpacity,_e919=X(ux(_t1273),2),_o289=!1;var _iterator842=_createForOfIteratorHelper(n),_step842;try{for(_iterator842.s();!(_step842=_iterator842.n()).done;){var _t1274=_step842.value;var _s533=_t1274[i].fillOpacity;if(X(ux(_s533),2)!==_e919){_o289=!0;break;}}}catch(err){_iterator842.e(err);}finally{_iterator842.f();}this["#opacity-section-heading"].disabled=!1,this["#opacity-slider"].disabled=!1,this["#opacity-slider"].value=_e919,this["#opacity-slider"].mixed=_o289,this["#opacity-input"].disabled=!1,this["#opacity-input"].value=_e919;}else this["#opacity-section-heading"].disabled=!0,this["#opacity-slider"].disabled=!0,this["#opacity-slider"].value=1,this["#opacity-slider"].mixed=!1,this["#opacity-input"].disabled=!0,this["#opacity-input"].value=1;if(s){var _t1275=!1,_e920=s[i].fillRule;var _iterator843=_createForOfIteratorHelper(n),_step843;try{for(_iterator843.s();!(_step843=_iterator843.n()).done;){var _s534=_step843.value;_s534[i].fillRule!==_e920&&(_t1275=!0);}}catch(err){_iterator843.e(err);}finally{_iterator843.f();}this["#rule-section-heading"].disabled=!1,this["#non-zero-rule-button"].disabled=!1,this["#even-odd-rule-button"].disabled=!1,"evenodd"===_e920?(this["#non-zero-rule-button"].toggled=!1,this["#non-zero-rule-button"].mixed=!1,this["#even-odd-rule-button"].toggled=!0,this["#even-odd-rule-button"].mixed=_t1275):"nonzero"===_e920&&(this["#non-zero-rule-button"].toggled=!0,this["#non-zero-rule-button"].mixed=_t1275,this["#even-odd-rule-button"].toggled=!1,this["#even-odd-rule-button"].mixed=!1);}else this["#rule-section-heading"].disabled=!0,this["#non-zero-rule-button"].disabled=!0,this["#non-zero-rule-button"].toggled=!1,this["#non-zero-rule-button"].mixed=!1,this["#even-odd-rule-button"].disabled=!0,this["#even-odd-rule-button"].toggled=!1,this["#even-odd-rule-button"].mixed=!1;}},{key:"$x",value:function $x(){var t=[],e=function e(i){var _iterator846=_createForOfIteratorHelper(i),_step846;try{for(_iterator846.s();!(_step846=_iterator846.n()).done;){var _s536=_step846.value;w.includes(_s536.localName)||"use"===_s536.localName?t.push(_s536):"g"!==_s536.localName&&"a"!==_s536.localName||e(_s536.children);}}catch(err){_iterator846.e(err);}finally{_iterator846.f();}};return e(this.Js.board.outermostSelectedElements),t;}}]);return xx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(xx,"observedAttributes",["enabled"]);_defineProperty(xx,"_shadowTemplate",Hi(_templateObject262()));_defineProperty(xx,"_shadowStyleSheet",Yi(_templateObject263()));customElements.define("bx-fillpanel",xx);var bx=/*#__PURE__*/function(_HTMLElement74){_inherits(bx,_HTMLElement74);var _super102=_createSuper(bx);_createClass(bx,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function bx(){var _this473;_classCallCheck(this,bx);_this473=_super102.call(this),_this473.wa=qi(_this473.qs,200,_assertThisInitialized(_this473)),_this473.Gx=Xi(_this473.Fx,600,_assertThisInitialized(_this473)),_this473._shadowRoot=_this473.attachShadow({mode:"closed",delegatesFocus:!0}),_this473._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,bx._shadowStyleSheet],_this473._shadowRoot.append(document.importNode(bx._shadowTemplate.content,!0));var _iterator847=_createForOfIteratorHelper(_this473._shadowRoot.querySelectorAll("[id]")),_step847;try{for(_iterator847.s();!(_step847=_iterator847.n()).done;){var _t1276=_step847.value;_this473["#"+_t1276.id]=_t1276;}}catch(err){_iterator847.e(err);}finally{_iterator847.f();}_this473.addEventListener("keydown",function(t){return _this473.vn(t);}),_this473["#button"].addEventListener("pointerdown",function(t){return _this473.Ux(t);}),_this473["#popover"].addEventListener("open",function(){return _this473.bu();}),_this473["#items"].addEventListener("click",function(t){return _this473.qc(t);}),_this473["#items"].addEventListener("dblclick",function(t){return _this473.mu(t);}),_this473["#clear-button"].addEventListener("click",function(t){return _this473.Nx(t);}),_this473["#manage-button"].addEventListener("click",function(t){return _this473.gu(t);});return _this473;}_createClass(bx,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.sn():"value"===t&&this.ru());}},{key:"tn",value:function tn(){var _this474=this;this.qs(),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this474.il(t.detail);});}},{key:"sn",value:function sn(){this["#button"].collapse(),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"ru",value:function ru(){this.ku(),this.Vx(),this.Su();}},{key:"il",value:function il(){this.wa();}},{key:"Ux",value:function Ux(t){t.preventDefault();}},{key:"qc",value:function qc(t){var e=t.target.closest(".item");if(e){var _t1277=e.getAttribute("data-value");_t1277!==this.value&&(this.value=_t1277,this.dispatchEvent(new CustomEvent("change")));}}},{key:"mu",value:function mu(t){var e=t.target.closest(".item");if(e){this["#button"].collapse();var _t1278=e.getAttribute("data-value");this.Js.board.editMarker(_t1278);}}},{key:"Nx",value:function Nx(t){0===t.button&&null!==this.value&&(this.value=null,this.dispatchEvent(new CustomEvent("change")));}},{key:"gu",value:function gu(t){0===t.button&&(this["#button"].collapse(),this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("markers-browser"));}},{key:"vn",value:function vn(t){var e=to.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Mu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Pu());}},{key:"qs",value:function qs(){this.ku(),this.Vx(),this.Du();}},{key:"ku",value:function ku(){if(null===this.value)this["#button-thumbnail"].setAttribute("hidden","");else{this["#button-thumbnail"].removeAttribute("hidden");var _t1279=this["#items"].querySelector(":scope > [data-value=\"".concat(this.value,"\"]"));this["#button-thumbnail"].innerHTML=_t1279.innerHTML;}}},{key:"Vx",value:function Vx(){this["#clear-button"].disabled=null===this.value;}},{key:"Du",value:function Du(){var t=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("marker")),e="";var _iterator848=_createForOfIteratorHelper(t),_step848;try{for(_iterator848.s();!(_step848=_iterator848.n()).done;){var _i876=_step848.value;var _t1280=_i876.hasAttribute("viewBox")?"viewBox=\"".concat(_i876.getAttribute("viewBox"),"\""):"";e+="\n        <div class=\"item\" data-value=\"".concat(_i876.id,"\">\n          <svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"xMidYMid\" ").concat(_t1280,">\n            ").concat(_i876.innerHTML,"\n          </svg>\n          <div class=\"label\">#").concat(_i876.id,"</div>\n        </div>\n      ");}}catch(err){_iterator848.e(err);}finally{_iterator848.f();}this["#items"].innerHTML=e,this["#placeholder"].hidden=this["#items"].childElementCount>0,this.Su();}},{key:"Su",value:function Su(){var _iterator849=_createForOfIteratorHelper(this["#items"].children),_step849;try{for(_iterator849.s();!(_step849=_iterator849.n()).done;){var _t1281=_step849.value;_t1281.getAttribute("data-value")===this.value?_t1281.setAttribute("data-selected",""):_t1281.removeAttribute("data-selected");}}catch(err){_iterator849.e(err);}finally{_iterator849.f();}}},{key:"Mu",value:function Mu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.previousElementSibling?e=t.previousElementSibling:this["#items"].lastElementChild!==t&&(e=this["#items"].lastElementChild):this["#items"].lastElementChild&&(e=this["#items"].lastElementChild),e&&(this.value=e.getAttribute("data-value"),this.Gx());}},{key:"Pu",value:function Pu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.nextElementSibling?e=t.nextElementSibling:this["#items"].firstElementChild!==t&&(e=this["#items"].firstElementChild):this["#items"].firstElementChild&&(e=this["#items"].firstElementChild),e&&(this.value=e.getAttribute("data-value"),this.Gx());}},{key:"bu",value:function bu(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"Fx",value:function Fx(){this.dispatchEvent(new CustomEvent("change"));}}]);return bx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(bx,"observedAttributes",["enabled","value"]);_defineProperty(bx,"_shadowTemplate",Hi(_templateObject264()));_defineProperty(bx,"_shadowStyleSheet",Yi(_templateObject265()));customElements.define("bx-markerselect",bx);var mx=Math.abs,gx=Number.parseFloat,fx=["none","2px","4px","5px","8px","10px","20px","30px","1px, 4px","5px, 10px"],wx=fx.map(function(t){return"\n    <x-menuitem value=\"".concat(t,"\">\n      <svg viewBox=\"0 0 100 20\" preserveAspectRatio=\"none\" style=\"width: 195px; height: 20px; display: block;\">\n        <path\n          d=\"M 0 10 L 100 10\"\n          style=\"stroke-dasharray: ").concat(t,"; stroke: currentColor; vector-effect: non-scaling-stroke;\">\n        </path>\n      </svg>\n    </x-menuitem>\n  ");}).join("");var vx=/*#__PURE__*/function(_HTMLElement75){_inherits(vx,_HTMLElement75);var _super103=_createSuper(vx);_createClass(vx,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function vx(){var _this475;_classCallCheck(this,vx);_this475=_super103.call(this),_this475.wa=qi(_this475.qs,200,_assertThisInitialized(_this475)),_this475.Lx=!1,_this475.jx=!1,_this475.Hx=!1,_this475.Yx=!1,_this475.Wx=!1,_this475._shadowRoot=_this475.attachShadow({mode:"closed"}),_this475._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,vx._shadowStyleSheet],_this475._shadowRoot.append(document.importNode(vx._shadowTemplate.content,!0));var _iterator850=_createForOfIteratorHelper(_this475._shadowRoot.querySelectorAll("[id]")),_step850;try{for(_iterator850.s();!(_step850=_iterator850.n()).done;){var _t1282=_step850.value;_this475["#"+_t1282.id]=_t1282;}}catch(err){_iterator850.e(err);}finally{_iterator850.f();}_this475["#opacity-section"].addEventListener("changestart",function(){return _this475.Bx();}),_this475["#width-box"].addEventListener("changestart",function(){return _this475.qx();}),_this475["#non-scaling-stroke-checkbox"].addEventListener("toggle",function(){return _this475.Xx();}),_this475["#line-cap-buttons"].addEventListener("toggle",function(){return _this475.Zx();}),_this475["#line-join-buttons"].addEventListener("toggle",function(){return _this475.Kx();}),_this475["#miter-limit-box"].addEventListener("changestart",function(){return _this475.Qx();}),_this475["#dash-array-select"].addEventListener("change",function(){return _this475.Jx();}),_this475["#dash-array-inputs"].addEventListener("changestart",function(t){return _this475.tb(t);}),_this475["#dash-offset-box"].addEventListener("changestart",function(){return _this475.eb();}),_this475["#marker-start-select"].addEventListener("change",function(t){return _this475.ib(t);}),_this475["#marker-mid-select"].addEventListener("change",function(t){return _this475.ib(t);}),_this475["#marker-end-select"].addEventListener("change",function(t){return _this475.ib(t);});return _this475;}_createClass(vx,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ti(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this476=this;this["#stroke-paint-inspector"].enabled=!0,this.wa(),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this476.Qo();}),this.Js.board.addEventListener("selectedtextrangechange",this.Nh=function(){_this476.Vh();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this476.il(t);});}},{key:"sn",value:function sn(){this["#stroke-paint-inspector"].enabled=!1,this["#marker-start-select"].enabled=!1,this["#marker-mid-select"].enabled=!1,this["#marker-end-select"].enabled=!1,this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("selectedtextrangechange",this.Nh),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Qo",value:function Qo(){this.wa();}},{key:"Vh",value:function Vh(){this.wa();}},{key:"il",value:function il(t){this.wa();}},{key:"Bx",value:function Bx(){var _this477=this;this.Js.board.undoManager.checkpoint("Stroke opacity");var t,_e922,i=this.$x(),s=i.filter(function(t){return"text"===t.localName;}),n=this.Js.board.selectedTextRange,o=[];var _iterator851=_createForOfIteratorHelper(s),_step851;try{for(_iterator851.s();!(_step851=_iterator851.n()).done;){var _t1287=_step851.value;di(_t1287,n);}}catch(err){_iterator851.e(err);}finally{_iterator851.f();}var _iterator852=_createForOfIteratorHelper(i),_step852;try{for(_iterator852.s();!(_step852=_iterator852.n()).done;){var _t1288=_step852.value;if("text"===_t1288.localName){var _e923=_t1288.querySelectorAll("tspan"),_i877=pi(n,_t1288),_s537=_i877.length>0&&!n.collapsed?_i877:_e923;o.push.apply(o,_toConsumableArray(_s537));}else o.push(_t1288);}}catch(err){_iterator852.e(err);}finally{_iterator852.f();}this.Lx=!0,this["#opacity-section"].addEventListener("change",t=function t(_t1284){_t1284.target===_this477["#opacity-slider"]?_this477["#opacity-input"].value=_this477["#opacity-slider"].value:_t1284.target===_this477["#opacity-input"]&&(_this477["#opacity-slider"].value=_this477["#opacity-input"].value),_this477["#opacity-slider"].mixed=!1,_this477["#opacity-input"].mixed=!1;var _iterator853=_createForOfIteratorHelper(o),_step853;try{for(_iterator853.s();!(_step853=_iterator853.n()).done;){var _t1283=_step853.value;_t1283.style.setProperty("stroke-opacity",_this477["#opacity-slider"].value);}}catch(err){_iterator853.e(err);}finally{_iterator853.f();}}),this["#opacity-section"].addEventListener("changeend",_e922=function e(){_this477["#opacity-section"].removeEventListener("change",t),_this477["#opacity-section"].removeEventListener("changeend",_e922),_this477.Lx=!1;var _iterator854=_createForOfIteratorHelper(o),_step854;try{for(_iterator854.s();!(_step854=_iterator854.n()).done;){var _t1285=_step854.value;ga("stroke-opacity",_t1285);}}catch(err){_iterator854.e(err);}finally{_iterator854.f();}var _iterator855=_createForOfIteratorHelper(s),_step855;try{for(_iterator855.s();!(_step855=_iterator855.n()).done;){var _t1286=_step855.value;ci(_t1286,n);}}catch(err){_iterator855.e(err);}finally{_iterator855.f();}});}},{key:"qx",value:function qx(){var _this478=this;this.Js.board.undoManager.checkpoint("Stroke width");var t,_e924,i=this.$x(),s=i.filter(function(t){return"text"===t.localName;}),n=this.Js.board.selectedTextRange,o=[],l=Symbol();var _iterator856=_createForOfIteratorHelper(s),_step856;try{for(_iterator856.s();!(_step856=_iterator856.n()).done;){var _t1293=_step856.value;di(_t1293,n);}}catch(err){_iterator856.e(err);}finally{_iterator856.f();}var _iterator857=_createForOfIteratorHelper(i),_step857;try{for(_iterator857.s();!(_step857=_iterator857.n()).done;){var _t1294=_step857.value;var _e925=Nt(_t1294,this.Js.board.masterWorkspace),_Bl18=Bl(_e925),_i878=_Bl18.scaleX,_s538=_Bl18.scaleY,_h195=(mx(_i878)+mx(_s538))/2;if("text"===_t1294.localName&&_t1294.querySelector("tspan")){var _e926=_t1294.querySelectorAll("tspan"),_i879=pi(n,_t1294),_s539=_i879.length>0&&!n.collapsed?_i879:_e926;var _iterator861=_createForOfIteratorHelper(_s539),_step861;try{for(_iterator861.s();!(_step861=_iterator861.n()).done;){var _t1295=_step861.value;var _e927=getComputedStyle(_t1295).getPropertyValue("vector-effect");_t1295[l]="non-scaling-stroke"===_e927?1:_h195,o.push(_t1295);}}catch(err){_iterator861.e(err);}finally{_iterator861.f();}}else{var _e928=getComputedStyle(_t1294).getPropertyValue("vector-effect");_t1294[l]="non-scaling-stroke"===_e928?1:_h195,o.push(_t1294);}}}catch(err){_iterator857.e(err);}finally{_iterator857.f();}this.jx=!0,this["#width-section"].addEventListener("change",t=function t(_t1290){_t1290.target===_this478["#width-slider"]?_this478["#width-input"].value=_this478["#width-slider"].value:_t1290.target===_this478["#width-input"]&&(_this478["#width-slider"].value=_this478["#width-input"].value),_this478["#width-slider"].mixed=!1,_this478["#width-input"].mixed=!1;var _iterator858=_createForOfIteratorHelper(o),_step858;try{for(_iterator858.s();!(_step858=_iterator858.n()).done;){var _t1289=_step858.value;_t1289.style.setProperty("stroke-width",_this478["#width-input"].value/_t1289[l]+"px");}}catch(err){_iterator858.e(err);}finally{_iterator858.f();}}),this["#width-section"].addEventListener("changeend",_e924=function e(){_this478["#width-section"].removeEventListener("change",t),_this478["#width-section"].removeEventListener("changeend",_e924),_this478.jx=!1;var _iterator859=_createForOfIteratorHelper(o),_step859;try{for(_iterator859.s();!(_step859=_iterator859.n()).done;){var _t1291=_step859.value;ga("stroke-width",_t1291);}}catch(err){_iterator859.e(err);}finally{_iterator859.f();}var _iterator860=_createForOfIteratorHelper(s),_step860;try{for(_iterator860.s();!(_step860=_iterator860.n()).done;){var _t1292=_step860.value;ci(_t1292,n);}}catch(err){_iterator860.e(err);}finally{_iterator860.f();}});}},{key:"Qx",value:function Qx(){var _this479=this;this.Js.board.undoManager.checkpoint("Miter limit");var t,_e929,i=this.$x(),s=i.filter(function(t){return"text"===t.localName;}),n=this.Js.board.selectedTextRange,o=[];var _iterator862=_createForOfIteratorHelper(s),_step862;try{for(_iterator862.s();!(_step862=_iterator862.n()).done;){var _t1300=_step862.value;di(_t1300,n);}}catch(err){_iterator862.e(err);}finally{_iterator862.f();}var _iterator863=_createForOfIteratorHelper(i),_step863;try{for(_iterator863.s();!(_step863=_iterator863.n()).done;){var _t1301=_step863.value;if("text"===_t1301.localName&&_t1301.querySelector("tspan")){var _e930=_t1301.querySelectorAll("tspan"),_i880=pi(n,_t1301),_s540=_i880.length>0&&!n.collapsed?_i880:_e930;var _iterator867=_createForOfIteratorHelper(_s540),_step867;try{for(_iterator867.s();!(_step867=_iterator867.n()).done;){var _t1302=_step867.value;o.push(_t1302);}}catch(err){_iterator867.e(err);}finally{_iterator867.f();}}else o.push(_t1301);}}catch(err){_iterator863.e(err);}finally{_iterator863.f();}o=o.filter(function(t){return"miter"===getComputedStyle(t).getPropertyValue("stroke-linejoin");}),this.Yx=!0,this["#miter-limit-box"].addEventListener("change",t=function t(_t1297){_t1297.target===_this479["#miter-limit-slider"]?_this479["#miter-limit-input"].value=_this479["#miter-limit-slider"].value:_t1297.target===_this479["#width-input"]&&(_this479["#miter-limit-slider"].value=_this479["#miter-limit-input"].value),_this479["#miter-limit-slider"].mixed=!1,_this479["#miter-limit-input"].mixed=!1;var _iterator864=_createForOfIteratorHelper(o),_step864;try{for(_iterator864.s();!(_step864=_iterator864.n()).done;){var _t1296=_step864.value;_t1296.style.setProperty("stroke-miterlimit",_this479["#miter-limit-input"].value);}}catch(err){_iterator864.e(err);}finally{_iterator864.f();}}),this["#miter-limit-box"].addEventListener("changeend",_e929=function e(){_this479["#miter-limit-box"].removeEventListener("change",t),_this479["#miter-limit-box"].removeEventListener("changeend",_e929),_this479.Yx=!1;var _iterator865=_createForOfIteratorHelper(o),_step865;try{for(_iterator865.s();!(_step865=_iterator865.n()).done;){var _t1298=_step865.value;ga("stroke-miterlimit",_t1298);}}catch(err){_iterator865.e(err);}finally{_iterator865.f();}var _iterator866=_createForOfIteratorHelper(s),_step866;try{for(_iterator866.s();!(_step866=_iterator866.n()).done;){var _t1299=_step866.value;ci(_t1299,n);}}catch(err){_iterator866.e(err);}finally{_iterator866.f();}});}},{key:"eb",value:function eb(){var _this480=this;this.Js.board.undoManager.checkpoint("Dash offset");var t,_e931,i=this.$x(),s=i.filter(function(t){return"text"===t.localName;}),n=this.Js.board.selectedTextRange,o=[];var _iterator868=_createForOfIteratorHelper(s),_step868;try{for(_iterator868.s();!(_step868=_iterator868.n()).done;){var _t1307=_step868.value;di(_t1307,n);}}catch(err){_iterator868.e(err);}finally{_iterator868.f();}var _iterator869=_createForOfIteratorHelper(i),_step869;try{for(_iterator869.s();!(_step869=_iterator869.n()).done;){var _t1308=_step869.value;if("text"===_t1308.localName&&_t1308.querySelector("tspan")){var _e932=_t1308.querySelectorAll("tspan"),_i881=pi(n,_t1308),_s541=_i881.length>0&&!n.collapsed?_i881:_e932;var _iterator873=_createForOfIteratorHelper(_s541),_step873;try{for(_iterator873.s();!(_step873=_iterator873.n()).done;){var _t1309=_step873.value;o.push(_t1309);}}catch(err){_iterator873.e(err);}finally{_iterator873.f();}}else o.push(_t1308);}}catch(err){_iterator869.e(err);}finally{_iterator869.f();}this.Wx=!0,this["#dash-offset-box"].addEventListener("change",t=function t(_t1304){_t1304.target===_this480["#dash-offset-slider"]?_this480["#dash-offset-input"].value=_this480["#dash-offset-slider"].value:_t1304.target===_this480["#width-input"]&&(_this480["#dash-offset-slider"].value=_this480["#dash-offset-input"].value),_this480["#dash-offset-slider"].mixed=!1,_this480["#dash-offset-input"].mixed=!1;var _iterator870=_createForOfIteratorHelper(o),_step870;try{for(_iterator870.s();!(_step870=_iterator870.n()).done;){var _t1303=_step870.value;_t1303.style.setProperty("stroke-dashoffset",_this480["#dash-offset-input"].value+"px");}}catch(err){_iterator870.e(err);}finally{_iterator870.f();}}),this["#dash-offset-box"].addEventListener("changeend",_e931=function e(){_this480["#dash-offset-box"].removeEventListener("change",t),_this480["#dash-offset-box"].removeEventListener("changeend",_e931),_this480.Wx=!1;var _iterator871=_createForOfIteratorHelper(o),_step871;try{for(_iterator871.s();!(_step871=_iterator871.n()).done;){var _t1305=_step871.value;ga("stroke-dashoffset",_t1305);}}catch(err){_iterator871.e(err);}finally{_iterator871.f();}var _iterator872=_createForOfIteratorHelper(s),_step872;try{for(_iterator872.s();!(_step872=_iterator872.n()).done;){var _t1306=_step872.value;ci(_t1306,n);}}catch(err){_iterator872.e(err);}finally{_iterator872.f();}});}},{key:"Jx",value:function Jx(){this.Js.board.undoManager.checkpoint("Dash array");var t=this.$x(),e=t.filter(function(t){return"text"===t.localName;}),i=this.Js.board.selectedTextRange,s=[];var _iterator874=_createForOfIteratorHelper(e),_step874;try{for(_iterator874.s();!(_step874=_iterator874.n()).done;){var _t1311=_step874.value;di(_t1311,i);}}catch(err){_iterator874.e(err);}finally{_iterator874.f();}var _iterator875=_createForOfIteratorHelper(t),_step875;try{for(_iterator875.s();!(_step875=_iterator875.n()).done;){var _e933=_step875.value;if("text"===_e933.localName&&_e933.querySelector("tspan")){var _t1312=_e933.querySelectorAll("tspan"),_n374=pi(i,_e933),_o290=_n374.length>0&&!i.collapsed?_n374:_t1312;var _iterator877=_createForOfIteratorHelper(_o290),_step877;try{for(_iterator877.s();!(_step877=_iterator877.n()).done;){var _t1313=_step877.value;s.push(_t1313);}}catch(err){_iterator877.e(err);}finally{_iterator877.f();}}else s.push(_e933);}}catch(err){_iterator875.e(err);}finally{_iterator875.f();}for(var _i882=0,_s542=s;_i882<_s542.length;_i882++){var _t1310=_s542[_i882];_t1310.style.setProperty("stroke-dasharray",this["#dash-array-select"].value),ga("stroke-dasharray",_t1310);}var _iterator876=_createForOfIteratorHelper(e),_step876;try{for(_iterator876.s();!(_step876=_iterator876.n()).done;){var _t1314=_step876.value;ci(_t1314,i);}}catch(err){_iterator876.e(err);}finally{_iterator876.f();}}},{key:"tb",value:function tb(t){var _this481=this;this.Js.board.undoManager.checkpoint("Dash array");var e,_i883,s=this.$x(),n=s.filter(function(t){return"text"===t.localName;}),o=this.Js.board.selectedTextRange,l=t.target,h=_toConsumableArray(this["#dash-array-inputs"].querySelectorAll("x-numberinput")),a=[];var _iterator878=_createForOfIteratorHelper(n),_step878;try{for(_iterator878.s();!(_step878=_iterator878.n()).done;){var _t1318=_step878.value;di(_t1318,o);}}catch(err){_iterator878.e(err);}finally{_iterator878.f();}var _iterator879=_createForOfIteratorHelper(s),_step879;try{for(_iterator879.s();!(_step879=_iterator879.n()).done;){var _t1319=_step879.value;if("text"===_t1319.localName&&_t1319.querySelector("tspan")){var _e934=_t1319.querySelectorAll("tspan"),_i884=pi(o,_t1319),_s543=_i884.length>0&&!o.collapsed?_i884:_e934;var _iterator883=_createForOfIteratorHelper(_s543),_step883;try{for(_iterator883.s();!(_step883=_iterator883.n()).done;){var _t1320=_step883.value;a.push(_t1320);}}catch(err){_iterator883.e(err);}finally{_iterator883.f();}}else a.push(_t1319);}}catch(err){_iterator879.e(err);}finally{_iterator879.f();}this.Hx=!0,l.addEventListener("change",e=function e(t){l.mixed=!1;var e=h.map(function(t){return t.value;}).join(" ").trim();var _iterator880=_createForOfIteratorHelper(a),_step880;try{for(_iterator880.s();!(_step880=_iterator880.n()).done;){var _t1315=_step880.value;_t1315.style.setProperty("stroke-dasharray",e);}}catch(err){_iterator880.e(err);}finally{_iterator880.f();}}),l.addEventListener("changeend",_i883=function i(){l.removeEventListener("change",e),l.removeEventListener("changeend",_i883),_this481.Hx=!1;var _iterator881=_createForOfIteratorHelper(a),_step881;try{for(_iterator881.s();!(_step881=_iterator881.n()).done;){var _t1316=_step881.value;ga("stroke-dasharray",_t1316);}}catch(err){_iterator881.e(err);}finally{_iterator881.f();}var _iterator882=_createForOfIteratorHelper(n),_step882;try{for(_iterator882.s();!(_step882=_iterator882.n()).done;){var _t1317=_step882.value;ci(_t1317,o);}}catch(err){_iterator882.e(err);}finally{_iterator882.f();}});}},{key:"Xx",value:function Xx(){this.Js.board.undoManager.checkpoint("Non-scaling stroke");var t=this.$x(),e=t.filter(function(t){return"text"===t.localName;}),i=this["#non-scaling-stroke-checkbox"].toggled?"non-scaling-stroke":"none",s=this.Js.board.selectedTextRange,n=[];var _iterator884=_createForOfIteratorHelper(e),_step884;try{for(_iterator884.s();!(_step884=_iterator884.n()).done;){var _t1322=_step884.value;di(_t1322,s);}}catch(err){_iterator884.e(err);}finally{_iterator884.f();}var _iterator885=_createForOfIteratorHelper(t),_step885;try{for(_iterator885.s();!(_step885=_iterator885.n()).done;){var _e935=_step885.value;if("text"===_e935.localName&&_e935.querySelector("tspan")&&s&&_e935.contains(s.commonAncestorContainer)){var _t1323=_e935.querySelectorAll("tspan"),_i886=pi(s,_e935),_o291=s.collapsed?_t1323:_i886;n.push.apply(n,_toConsumableArray(_o291));}else n.push(_e935);}}catch(err){_iterator885.e(err);}finally{_iterator885.f();}for(var _i885=0,_n375=n;_i885<_n375.length;_i885++){var _t1321=_n375[_i885];_t1321.style.setProperty("vector-effect",i),ga("vector-effect",_t1321);}var _iterator886=_createForOfIteratorHelper(e),_step886;try{for(_iterator886.s();!(_step886=_iterator886.n()).done;){var _t1324=_step886.value;ci(_t1324,s);}}catch(err){_iterator886.e(err);}finally{_iterator886.f();}}},{key:"Zx",value:function Zx(){this.Js.board.undoManager.checkpoint("Line cap");var t=this.$x(),e=t.filter(function(t){return"text"===t.localName;}),i=this.Js.board.selectedTextRange,s=[];var _iterator887=_createForOfIteratorHelper(e),_step887;try{for(_iterator887.s();!(_step887=_iterator887.n()).done;){var _t1326=_step887.value;di(_t1326,i);}}catch(err){_iterator887.e(err);}finally{_iterator887.f();}var _iterator888=_createForOfIteratorHelper(t),_step888;try{for(_iterator888.s();!(_step888=_iterator888.n()).done;){var _e936=_step888.value;if("text"===_e936.localName&&_e936.querySelector("tspan")){var _t1327=_e936.querySelectorAll("tspan"),_n376=pi(i,_e936),_o292=_n376.length>0&&!i.collapsed?_n376:_t1327;s.push.apply(s,_toConsumableArray(_o292));}else s.push(_e936);}}catch(err){_iterator888.e(err);}finally{_iterator888.f();}for(var _i887=0,_s544=s;_i887<_s544.length;_i887++){var _t1325=_s544[_i887];_t1325.style.setProperty("stroke-linecap",this["#line-cap-buttons"].value),ga("stroke-linecap",_t1325);}var _iterator889=_createForOfIteratorHelper(e),_step889;try{for(_iterator889.s();!(_step889=_iterator889.n()).done;){var _t1328=_step889.value;ci(_t1328,i);}}catch(err){_iterator889.e(err);}finally{_iterator889.f();}}},{key:"Kx",value:function Kx(){this.Js.board.undoManager.checkpoint("Line join");var t=this.$x(),e=t.filter(function(t){return"text"===t.localName;}),i=this.Js.board.selectedTextRange,s=[];var _iterator890=_createForOfIteratorHelper(e),_step890;try{for(_iterator890.s();!(_step890=_iterator890.n()).done;){var _t1330=_step890.value;di(_t1330,i);}}catch(err){_iterator890.e(err);}finally{_iterator890.f();}var _iterator891=_createForOfIteratorHelper(t),_step891;try{for(_iterator891.s();!(_step891=_iterator891.n()).done;){var _e937=_step891.value;if("text"===_e937.localName&&_e937.querySelector("tspan")){var _t1331=_e937.querySelectorAll("tspan"),_n377=pi(i,_e937),_o293=_n377.length>0&&!i.collapsed?_n377:_t1331;s.push.apply(s,_toConsumableArray(_o293));}else s.push(_e937);}}catch(err){_iterator891.e(err);}finally{_iterator891.f();}for(var _i888=0,_s545=s;_i888<_s545.length;_i888++){var _t1329=_s545[_i888];_t1329.style.setProperty("stroke-linejoin",this["#line-join-buttons"].value),ga("stroke-linejoin",_t1329);}var _iterator892=_createForOfIteratorHelper(e),_step892;try{for(_iterator892.s();!(_step892=_iterator892.n()).done;){var _t1332=_step892.value;ci(_t1332,i);}}catch(err){_iterator892.e(err);}finally{_iterator892.f();}}},{key:"ib",value:function ib(t){this.Js.board.undoManager.checkpoint("Marker");var e=t.target,i=this.sb(),s="marker-"+e.dataset.position;var _iterator893=_createForOfIteratorHelper(i),_step893;try{for(_iterator893.s();!(_step893=_iterator893.n()).done;){var _t1333=_step893.value;_t1333.style.setProperty(s,null===e.value?"none":"url(\"#".concat(e.value,"\")")),ga(s,_t1333);}}catch(err){_iterator893.e(err);}finally{_iterator893.f();}}},{key:"qs",value:function qs(){var t=this.Js.board,e=[],i=[],s=Symbol(),n=Symbol();{var _o294=t.selectedTextRange;var _iterator894=_createForOfIteratorHelper(this.$x()),_step894;try{for(_iterator894.s();!(_step894=_iterator894.n()).done;){var _t1334=_step894.value;if("text"===_t1334.localName){var _s546=xi(_t1334);if(_o294&&_o294.intersectsNode(_t1334)){"backward"===_o294.direction&&_s546.reverse();var _iterator896=_createForOfIteratorHelper(_s546),_step896;try{for(_iterator896.s();!(_step896=_iterator896.n()).done;){var _t1335=_step896.value;_o294.intersectsNode(_t1335)&&(e.includes(_t1335.parentElement)||e.push(_t1335.parentElement),i.includes(_t1335.parentElement)||i.push(_t1335.parentElement));}}catch(err){_iterator896.e(err);}finally{_iterator896.f();}}else{var _iterator897=_createForOfIteratorHelper(_s546),_step897;try{for(_iterator897.s();!(_step897=_iterator897.n()).done;){var _t1336=_step897.value;!1===e.includes(_t1336.parentElement)&&e.push(_t1336.parentElement);}}catch(err){_iterator897.e(err);}finally{_iterator897.f();}i.push(_t1334);}}else e.push(_t1334),i.push(_t1334);}}catch(err){_iterator894.e(err);}finally{_iterator894.f();}var _iterator895=_createForOfIteratorHelper(new Set([].concat(e,i))),_step895;try{for(_iterator895.s();!(_step895=_iterator895.n()).done;){var _o295=_step895.value;var _e938=Nt(_o295,t.masterWorkspace),_Bl19=Bl(_e938),_i889=_Bl19.scaleX,_l256=_Bl19.scaleY;_o295[s]=getComputedStyle(_o295),_o295[n]=(mx(_i889)+mx(_l256))/2;}}catch(err){_iterator895.e(err);}finally{_iterator895.f();}}{var _t1337=e[0],_i890=e.slice(1);this["#panel-heading"].disabled=void 0===_t1337;}if(!1===this.Lx){var _t1338=e[0],_i891=e.slice(1);if(_t1338){var _e939=_t1338[s].strokeOpacity,_n378=X(gx(_e939),2),_o296=!1;var _iterator898=_createForOfIteratorHelper(_i891),_step898;try{for(_iterator898.s();!(_step898=_iterator898.n()).done;){var _t1339=_step898.value;var _e940=_t1339[s].strokeOpacity;if(X(gx(_e940),2)!==_n378){_o296=!0;break;}}}catch(err){_iterator898.e(err);}finally{_iterator898.f();}this["#opacity-section-heading"].disabled=!1,this["#opacity-slider"].disabled=!1,this["#opacity-slider"].value=_n378,this["#opacity-slider"].mixed=_o296,this["#opacity-input"].disabled=!1,this["#opacity-input"].value=_n378;}else this["#opacity-section-heading"].disabled=!0,this["#opacity-slider"].disabled=!0,this["#opacity-slider"].value=1,this["#opacity-slider"].mixed=!1,this["#opacity-input"].disabled=!0,this["#opacity-input"].value=1;}if(!1===this.jx&&!1===t.transformHud.isScaling){{var _t1340=e[0],_i892=e.slice(1);if(_t1340){var _e941=!1,_o297="non-scaling-stroke"===_t1340[s].getPropertyValue("vector-effect"),_l257=gx(_t1340[s].getPropertyValue("stroke-width")),_h196=X(_t1340[n]*_l257,3);var _iterator899=_createForOfIteratorHelper(_i892),_step899;try{for(_iterator899.s();!(_step899=_iterator899.n()).done;){var _t1341=_step899.value;var _i893=gx(_t1341[s].getPropertyValue("stroke-width"));if(_h196!==X(_t1341[n]*_i893,3)){_e941=!0;break;}}}catch(err){_iterator899.e(err);}finally{_iterator899.f();}this["#width-slider"].value=_o297?_l257:_h196,this["#width-slider"].disabled=!1,this["#width-slider"].mixed=_e941,this["#width-input"].value=_o297?_l257:_h196,this["#width-input"].disabled=!1;}else this["#width-slider"].value=0,this["#width-slider"].disabled=!0,this["#width-slider"].mixed=!1,this["#width-input"].value=0,this["#width-input"].disabled=!0;}{var _t1342=i[0],_e942=i.slice(1);if(_t1342){var _i894=_t1342[s].getPropertyValue("vector-effect"),_n379=!1;var _iterator900=_createForOfIteratorHelper(_e942),_step900;try{for(_iterator900.s();!(_step900=_iterator900.n()).done;){var _t1343=_step900.value;if(_t1343[s].getPropertyValue("vector-effect")!==_i894){_n379=!0;break;}}}catch(err){_iterator900.e(err);}finally{_iterator900.f();}this["#non-scaling-stroke-checkbox"].disabled=!1,this["#non-scaling-stroke-checkbox"].toggled="non-scaling-stroke"===_i894,this["#non-scaling-stroke-checkbox"].mixed=_n379;}else this["#non-scaling-stroke-checkbox"].disabled=!0,this["#non-scaling-stroke-checkbox"].toggled=!1,this["#non-scaling-stroke-checkbox"].mixed=!1;}this["#width-section-heading"].disabled=this["#width-slider"].disabled||this["#non-scaling-stroke-checkbox"].disabled;}if(!1===this.Yx){{var _t1344=e[0],_i895=e.slice(1);if(this["#line-section-heading"].disabled=void 0===_t1344,this["#line-cap-box-heading"].disabled=void 0===_t1344,this["#line-join-box-heading"].disabled=void 0===_t1344,_t1344){var _iterator901=_createForOfIteratorHelper(this["#line-cap-buttons"].children),_step901;try{for(_iterator901.s();!(_step901=_iterator901.n()).done;){var _t1345=_step901.value;_t1345.disabled=!1;}}catch(err){_iterator901.e(err);}finally{_iterator901.f();}var _iterator902=_createForOfIteratorHelper(this["#line-join-buttons"].children),_step902;try{for(_iterator902.s();!(_step902=_iterator902.n()).done;){var _t1346=_step902.value;_t1346.disabled=!1;}}catch(err){_iterator902.e(err);}finally{_iterator902.f();}var _e943=_t1344[s].getPropertyValue("stroke-linecap"),_n380=_t1344[s].getPropertyValue("stroke-linejoin"),_o298=!1,_l258=!1;var _iterator903=_createForOfIteratorHelper(_i895),_step903;try{for(_iterator903.s();!(_step903=_iterator903.n()).done;){var _t1347=_step903.value;var _i896=_t1347[s].getPropertyValue("stroke-linecap"),_h197=_t1347[s].getPropertyValue("stroke-linejoin");_i896!==_e943&&(_o298=!0),_h197!==_n380&&(_l258=!0);}}catch(err){_iterator903.e(err);}finally{_iterator903.f();}var _iterator904=_createForOfIteratorHelper(this["#line-cap-buttons"].children),_step904;try{for(_iterator904.s();!(_step904=_iterator904.n()).done;){var _t1348=_step904.value;_t1348.value===_e943?(_t1348.toggled=!0,_t1348.mixed=_o298):(_t1348.toggled=!1,_t1348.mixed=!1);}}catch(err){_iterator904.e(err);}finally{_iterator904.f();}var _iterator905=_createForOfIteratorHelper(this["#line-join-buttons"].children),_step905;try{for(_iterator905.s();!(_step905=_iterator905.n()).done;){var _t1349=_step905.value;_t1349.value===_n380?(_t1349.toggled=!0,_t1349.mixed=_l258):(_t1349.toggled=!1,_t1349.mixed=!1);}}catch(err){_iterator905.e(err);}finally{_iterator905.f();}}else{var _iterator906=_createForOfIteratorHelper(this["#line-cap-buttons"].children),_step906;try{for(_iterator906.s();!(_step906=_iterator906.n()).done;){var _t1350=_step906.value;_t1350.disabled=!0,_t1350.toggled=!1,_t1350.mixed=!1;}}catch(err){_iterator906.e(err);}finally{_iterator906.f();}var _iterator907=_createForOfIteratorHelper(this["#line-join-buttons"].children),_step907;try{for(_iterator907.s();!(_step907=_iterator907.n()).done;){var _t1351=_step907.value;_t1351.disabled=!0,_t1351.toggled=!1,_t1351.mixed=!1;}}catch(err){_iterator907.e(err);}finally{_iterator907.f();}}}{var _t1352=e[0],_i897=e.slice(1),_n381=_t1352?_t1352[s].getPropertyValue("stroke-linejoin"):null;if(_t1352&&"miter"===_n381){var _e944=_t1352[s].getPropertyValue("stroke-miterlimit"),_n382=!1;var _iterator908=_createForOfIteratorHelper(_i897),_step908;try{for(_iterator908.s();!(_step908=_iterator908.n()).done;){var _t1353=_step908.value;if(_t1353[s].getPropertyValue("stroke-miterlimit")!==_e944){_n382=!0;break;}}}catch(err){_iterator908.e(err);}finally{_iterator908.f();}this["#miter-limit-heading"].disabled=!1,this["#miter-limit-slider"].value=gx(_e944),this["#miter-limit-slider"].mixed=_n382,this["#miter-limit-slider"].disabled=!1,this["#miter-limit-input"].value=gx(_e944),this["#miter-limit-input"].mixed=_n382,this["#miter-limit-input"].disabled=!1;}else this["#miter-limit-heading"].disabled=!0,this["#miter-limit-slider"].value=0,this["#miter-limit-slider"].mixed=!1,this["#miter-limit-slider"].disabled=!0,this["#miter-limit-input"].value=0,this["#miter-limit-input"].mixed=!1,this["#miter-limit-input"].disabled=!0;}}if(!1===this.Wx){var _t1354=e[0],_i898=e.slice(1);if(this["#dash-section-heading"].disabled=void 0===_t1354,this["#dash-array-box-heading"].disabled=void 0===_t1354,this["#dash-array-select"].disabled=void 0===_t1354,_t1354){var _iterator909=_createForOfIteratorHelper(this["#dash-array-inputs"].children),_step909;try{for(_iterator909.s();!(_step909=_iterator909.n()).done;){var _t1356=_step909.value;var _iterator910=_createForOfIteratorHelper(_t1356.children),_step910;try{for(_iterator910.s();!(_step910=_iterator910.n()).done;){var _e946=_step910.value;_e946.disabled=!1;}}catch(err){_iterator910.e(err);}finally{_iterator910.f();}}}catch(err){_iterator909.e(err);}finally{_iterator909.f();}var _e945=this["#dash-array-inputs"].querySelectorAll("x-numberinput"),_i899=_t1354[s].getPropertyValue("stroke-dasharray"),_n383=[];"none"!==_i899&&(_n383=_i899.split(",").map(function(t){return gx(t.trim());}));for(var _t1355=0;_t1355<6;_t1355+=1){var _i900=void 0===_n383[_t1355]?null:_n383[_t1355],_s547=_e945[_t1355];_s547.value=_i900,_s547.disabled=_t1355>_n383.length;}fx.includes(_i899)?this["#dash-array-select"].value=_i899:this["#dash-array-select"].value=null;}else{var _iterator911=_createForOfIteratorHelper(this["#dash-array-inputs"].children),_step911;try{for(_iterator911.s();!(_step911=_iterator911.n()).done;){var _t1357=_step911.value;var _iterator912=_createForOfIteratorHelper(_t1357.children),_step912;try{for(_iterator912.s();!(_step912=_iterator912.n()).done;){var _e947=_step912.value;_e947.disabled=!0;}}catch(err){_iterator912.e(err);}finally{_iterator912.f();}}}catch(err){_iterator911.e(err);}finally{_iterator911.f();}}if(_t1354){var _e948=_t1354[s].getPropertyValue("stroke-dashoffset"),_n384=!1;var _iterator913=_createForOfIteratorHelper(_i898),_step913;try{for(_iterator913.s();!(_step913=_iterator913.n()).done;){var _t1358=_step913.value;if(_t1358[s].getPropertyValue("stroke-dashoffset")!==_e948){_n384=!0;break;}}}catch(err){_iterator913.e(err);}finally{_iterator913.f();}this["#dash-offset-heading"].disabled=!1,this["#dash-offset-slider"].disabled=!1,this["#dash-offset-slider"].mixed=_n384,this["#dash-offset-slider"].value=gx(_e948),this["#dash-offset-input"].disabled=!1,this["#dash-offset-input"].mixed=_n384,this["#dash-offset-input"].value=gx(_e948);}else this["#dash-offset-heading"].disabled=!0,this["#dash-offset-slider"].disabled=!0,this["#dash-offset-slider"].mixed=!1,this["#dash-offset-input"].disabled=!0,this["#dash-offset-input"].mixed=!1;}{var _t1359=this.sb();if(0===_t1359.length)this["#marker-section-heading"].disabled=!0,this["#marker-start-heading"].disabled=!0,this["#marker-start-select"].enabled=!1,this["#marker-start-select"].value=null,this["#marker-mid-heading"].disabled=!0,this["#marker-mid-select"].enabled=!1,this["#marker-mid-select"].value=null,this["#marker-end-heading"].disabled=!0,this["#marker-end-select"].enabled=!1,this["#marker-end-select"].value=null;else{var _t1360=_toArray(_t1359),_e949=_t1360[0],_i901=_t1360.slice(1),_n385=function _n385(t,e){var i=t[s].getPropertyValue("marker-".concat(e)),n=so.fromString(i);return"none"===i?null:n.value.substring(1);},_o299=_n385(_e949,"start"),_l259=_n385(_e949,"mid"),_h198=_n385(_e949,"end"),_a156=!1,_r93=!1,_d72=!1;var _iterator914=_createForOfIteratorHelper(_i901),_step914;try{for(_iterator914.s();!(_step914=_iterator914.n()).done;){var _t1361=_step914.value;var _e950=_n385(_t1361,"start"),_i902=_n385(_t1361,"mid"),_s548=_n385(_t1361,"end");_e950!==_o299&&(_a156=!0),_i902!==_l259&&(_r93=!0),_s548!==_h198&&(_d72=!0);}}catch(err){_iterator914.e(err);}finally{_iterator914.f();}this["#marker-section-heading"].disabled=!1,this["#marker-start-heading"].disabled=!1,this["#marker-start-select"].enabled=!0,this["#marker-start-select"].mixed=_a156,this["#marker-start-select"].value=_o299,this["#marker-mid-heading"].disabled=!1,this["#marker-mid-select"].enabled=!0,this["#marker-mid-select"].mixed=_r93,this["#marker-mid-select"].value=_l259,this["#marker-end-heading"].disabled=!1,this["#marker-end-select"].enabled=!0,this["#marker-end-select"].mixed=_d72,this["#marker-end-select"].value=_h198;}}}},{key:"$x",value:function $x(){var t=[],e=function e(i){var _iterator915=_createForOfIteratorHelper(i),_step915;try{for(_iterator915.s();!(_step915=_iterator915.n()).done;){var _s549=_step915.value;w.includes(_s549.localName)||"use"===_s549.localName?t.push(_s549):"g"!==_s549.localName&&"a"!==_s549.localName||e(_s549.children);}}catch(err){_iterator915.e(err);}finally{_iterator915.f();}};return e(this.Js.board.outermostSelectedElements),t;}},{key:"sb",value:function sb(){var t=[];return function(e){var _iterator916=_createForOfIteratorHelper(e),_step916;try{for(_iterator916.s();!(_step916=_iterator916.n()).done;){var _i903=_step916.value;z.includes(_i903.localName)&&t.push(_i903);}}catch(err){_iterator916.e(err);}finally{_iterator916.f();}}(this.Js.board.outermostSelectedElements),t;}}]);return vx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(vx,"observedAttributes",["enabled"]);_defineProperty(vx,"_shadowTemplate",Hi(_templateObject266(),wx));_defineProperty(vx,"_shadowStyleSheet",Yi(_templateObject267()));customElements.define("bx-strokepanel",vx);var yx={"drop-shadow":1,"inner-shadow":1,"point-light":1,"spot-light":1,outline:1,"gaussian-blur":1,"motion-blur":1,warp:1,pixelete:1,morphology:1,"black-and-white":1,grayscale:1,sepia:1,saturate:1,"hue-rotate":1,invert:1,brightness:1,contrast:1,posterize:1,duotone:1,"x-ray":1};var kx=function kx(t){var e=null;return"drop-shadow"===t?e={offsetX:10,offsetY:10,blurRadius:0,spread:.5,color:"rgba(0,0,0,0.3)"}:"inner-shadow"===t?e={offsetX:0,offsetY:0,blurRadius:10,choke:.5,color:"rgba(0,0,0,0.7)"}:"point-light"===t?e={sourceX:.5,sourceY:.5,sourceZ:.5,specularExponent:70,specularConstant:1,diffuseConstant:.2,ambientConstant:0,color:"#ffffff"}:"spot-light"===t?e={sourceX:.5,sourceY:.5,sourceZ:1,targetX:.5,targetY:.5,targetZ:0,coneAngle:20,color:"#ffffff",specularExponent:30,specularConstant:2,diffuseConstant:.1,ambientConstant:0}:"outline"===t?e={width:4,color:"#bada55"}:"gaussian-blur"===t?e={radius:5}:"motion-blur"===t?e={distance:5,orientation:"horizontal"}:"warp"===t?e={amount:50,frequency:.1}:"pixelete"===t?e={pixelSize:10}:"morphology"===t?e={operator:"dilate",radius:4}:"black-and-white"===t?e={balance:0}:"grayscale"===t||"sepia"===t?e={amount:1}:"saturate"===t?e={amount:.5}:"hue-rotate"===t?e={angle:90}:"invert"===t?e={amount:1}:"brightness"===t?e={amount:1.5}:"contrast"===t?e={amount:.7}:"posterize"===t?e={channels:["r"],amount:3,saturation:.9}:"duotone"===t?e={shadowsColor:"rgb(189,11,145)",highlightsColor:"rgb(252,187,13)",gamma:1}:"x-ray"===t&&(e={}),e&&(e.name=t),e;},Sx=function Sx(t){var e=null;if(t.hasAttribute("data-bx-preset")){var _t$getAttribute$split=t.getAttribute("data-bx-preset").split(" "),_t$getAttribute$split2=_toArray(_t$getAttribute$split),_i904=_t$getAttribute$split2[0],_s550=_t$getAttribute$split2[1],_n386=_t$getAttribute$split2.slice(2);if("drop-shadow"===_i904){var _ref112=_toConsumableArray(_n386),_t1362=_ref112[0],_s551=_ref112[1],_o300=_ref112[2],_l260=_ref112[3],_h199=_ref112[4];e={name:_i904,offsetX:parseFloat(_t1362),offsetY:parseFloat(_s551),blurRadius:parseFloat(_o300),spread:parseFloat(_l260),color:_h199};}else if("inner-shadow"===_i904){var _ref113=_toConsumableArray(_n386),_t1363=_ref113[0],_s552=_ref113[1],_o301=_ref113[2],_l261=_ref113[3],_h200=_ref113[4];e={name:_i904,offsetX:parseFloat(_t1363),offsetY:parseFloat(_s552),blurRadius:parseFloat(_o301),choke:parseFloat(_l261),color:_h200};}else if("point-light"===_i904){var _ref114=_toConsumableArray(_n386),_t1364=_ref114[0],_s553=_ref114[1],_o302=_ref114[2],_l262=_ref114[3],_h201=_ref114[4],_a157=_ref114[5],_r94=_ref114[6],_d73=_ref114[7];e={name:_i904,sourceX:parseFloat(_t1364),sourceY:parseFloat(_s553),sourceZ:parseFloat(_o302),specularExponent:parseFloat(_l262),specularConstant:parseFloat(_h201),diffuseConstant:parseFloat(_a157),ambientConstant:parseFloat(_r94),color:_d73};}else if("spot-light"===_i904){var _ref115=_toConsumableArray(_n386),_t1365=_ref115[0],_s554=_ref115[1],_o303=_ref115[2],_l263=_ref115[3],_h202=_ref115[4],_a158=_ref115[5],_r95=_ref115[6],_d74=_ref115[7],_c59=_ref115[8],_p49=_ref115[9],_u41=_ref115[10],_x125=_ref115[11];e={name:_i904,sourceX:parseFloat(_t1365),sourceY:parseFloat(_s554),sourceZ:parseFloat(_o303),targetX:parseFloat(_l263),targetY:parseFloat(_h202),targetZ:parseFloat(_a158),coneAngle:parseFloat(_r95),color:_d74,specularExponent:parseFloat(_c59),specularConstant:parseFloat(_p49),diffuseConstant:parseFloat(_u41),ambientConstant:parseFloat(_x125)};}else if("outline"===_i904){var _ref116=_toConsumableArray(_n386),_t1366=_ref116[0],_s555=_ref116[1];e={name:_i904,width:parseFloat(_t1366),color:_s555};}else if("gaussian-blur"===_i904){var _ref117=_toConsumableArray(_n386),_t1367=_ref117[0];e={name:_i904,radius:parseFloat(_t1367)};}else if("motion-blur"===_i904){var _ref118=_toConsumableArray(_n386),_t1368=_ref118[0],_s556=_ref118[1];e={name:_i904,distance:parseFloat(_t1368),orientation:_s556};}else if("warp"===_i904){var _ref119=_toConsumableArray(_n386),_t1369=_ref119[0],_s557=_ref119[1];e={name:_i904,amount:parseFloat(_t1369),frequency:parseFloat(_s557)};}else if("pixelete"===_i904){var _ref120=_toConsumableArray(_n386),_t1370=_ref120[0];e={name:_i904,pixelSize:parseFloat(_t1370)};}else if("morphology"===_i904){var _ref121=_toConsumableArray(_n386),_t1371=_ref121[0],_s558=_ref121[1];e={name:_i904,operator:_t1371,radius:parseFloat(_s558)};}else if("black-and-white"===_i904){var _ref122=_toConsumableArray(_n386),_t1372=_ref122[0];e={name:_i904,balance:parseFloat(_t1372)};}else if("grayscale"===_i904){var _ref123=_toConsumableArray(_n386),_t1373=_ref123[0];e={name:_i904,amount:parseFloat(_t1373)};}else if("sepia"===_i904){var _ref124=_toConsumableArray(_n386),_t1374=_ref124[0];e={name:_i904,amount:parseFloat(_t1374)};}else if("saturate"===_i904){var _ref125=_toConsumableArray(_n386),_t1375=_ref125[0];e={name:_i904,amount:parseFloat(_t1375)};}else if("hue-rotate"===_i904){var _ref126=_toConsumableArray(_n386),_t1376=_ref126[0];e={name:_i904,angle:parseFloat(_t1376)};}else if("invert"===_i904){var _ref127=_toConsumableArray(_n386),_t1377=_ref127[0];e={name:_i904,amount:parseFloat(_t1377)};}else if("brightness"===_i904){var _ref128=_toConsumableArray(_n386),_t1378=_ref128[0];e={name:_i904,amount:parseFloat(_t1378)};}else if("contrast"===_i904){var _ref129=_toConsumableArray(_n386),_t1379=_ref129[0];e={name:_i904,amount:parseFloat(_t1379)};}else if("posterize"===_i904){var _ref130=_toConsumableArray(_n386),_t1380=_ref130[0],_s559=_ref130[1],_o304=_ref130[2];e={name:_i904,amount:parseInt(_s559),channels:_t1380.split(""),saturation:parseFloat(_o304)};}else if("duotone"===_i904){var _ref131=_toConsumableArray(_n386),_t1381=_ref131[0],_s560=_ref131[1],_o305=_ref131[2];e={name:_i904,shadowsColor:_t1381,highlightsColor:_s560,gamma:parseFloat(_o305)};}else"x-ray"===_i904&&(e={name:_i904});}return e;},_x=function _x(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;var s=yx[e.name];if("drop-shadow"===e.name){var _n387=e.offsetX,_o306=e.offsetY,_l264=e.blurRadius,_h203=e.spread,_a159=e.color;_n387=X(_n387,3),_o306=X(_o306,3),_l264=X(_l264,3),_h203=X(_h203,3),_a159=ii(_a159," ",""),t.setAttribute("data-bx-preset","drop-shadow ".concat(s," ").concat(_n387," ").concat(_o306," ").concat(_l264," ").concat(_h203," ").concat(_a159)),_h203*=2,i?(t.querySelector(":scope > feGaussianBlur").setAttribute("stdDeviation",_l264),t.querySelector(":scope > feOffset").setAttribute("dx",_n387),t.querySelector(":scope > feOffset").setAttribute("dy",_o306),t.querySelector(":scope > feComponentTransfer > feFuncA").setAttribute("slope",_h203),t.querySelector(":scope > feFlood").setAttribute("flood-color",_a159),t.querySelector(":scope > feFlood").removeAttribute("x"),t.querySelector(":scope > feFlood").removeAttribute("y")):t.innerHTML="\n        <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"".concat(_l264,"\"/>\n        <feOffset dx=\"").concat(_n387,"\" dy=\"").concat(_o306,"\"/>\n        <feComponentTransfer result=\"offsetblur\">\n          <feFuncA id=\"spread-ctrl\" type=\"linear\" slope=\"").concat(_h203,"\"/>\n        </feComponentTransfer>\n        <feFlood flood-color=\"").concat(_a159,"\"/>\n        <feComposite in2=\"offsetblur\" operator=\"in\"/>\n        <feMerge>\n          <feMergeNode/>\n          <feMergeNode in=\"SourceGraphic\"/>\n        </feMerge>\n      ");}else if("inner-shadow"===e.name){var _n388=e.offsetX,_o307=e.offsetY,_l265=e.blurRadius,_h204=e.choke,_a160=e.color;_n388=X(_n388,3),_o307=X(_o307,3),_l265=X(_l265,3),_h204=X(_h204,3),_a160=ii(_a160," ",""),t.setAttribute("data-bx-preset","inner-shadow ".concat(s," ").concat(_n388," ").concat(_o307," ").concat(_l265," ").concat(_h204," ").concat(_a160)),_h204*=2,i?(t.querySelector(":scope > feOffset").setAttribute("dx",_n388),t.querySelector(":scope > feOffset").setAttribute("dy",_o307),t.querySelector(":scope > feGaussianBlur").setAttribute("stdDeviation",_l265),t.querySelector(":scope > feComponentTransfer > feFuncA").setAttribute("slope",_h204),t.querySelector(":scope > feFlood").setAttribute("flood-color",_a160)):t.innerHTML="\n        <feOffset dx=\"".concat(_n388,"\" dy=\"").concat(_o307,"\"/>\n        <feGaussianBlur stdDeviation=\"").concat(_l265,"\"/>\n        <feComposite operator=\"out\" in=\"SourceGraphic\"/>\n        <feComponentTransfer result=\"choke\">\n          <feFuncA type=\"linear\" slope=\"").concat(_h204,"\"/>\n        </feComponentTransfer>\n        <feFlood flood-color=\"").concat(_a160,"\" result=\"color\"/>\n        <feComposite operator=\"in\" in=\"color\" in2=\"choke\" result=\"shadow\"/>\n        <feComposite operator=\"over\" in=\"shadow\" in2=\"SourceGraphic\"/>\n      ");}else if("point-light"===e.name){var _n389=e.sourceX,_o308=e.sourceY,_l266=e.sourceZ,_h205=e.specularExponent,_a161=e.specularConstant,_r96=e.diffuseConstant,_d75=e.ambientConstant,_c60=e.color;_n389=X(_n389,3),_o308=X(_o308,3),_l266=X(_l266,3),_h205=X(_h205,3),_a161=X(_a161,3),_r96=X(_r96,3),_d75=X(_d75,3),_c60=ii(_c60," ",""),t.setAttribute("data-bx-preset",["point-light",s,_n389,_o308,_l266,_h205,_a161,_r96,_d75,_c60].join(" ")),i?(t.querySelector(":scope > feSpecularLighting").setAttribute("specularExponent",_h205),t.querySelector(":scope > feSpecularLighting").setAttribute("specularConstant",_a161),t.querySelector(":scope > feSpecularLighting").setAttribute("lighting-color",_c60),t.querySelector(":scope > feSpecularLighting > fePointLight").setAttribute("x",_n389),t.querySelector(":scope > feSpecularLighting > fePointLight").setAttribute("y",_o308),t.querySelector(":scope > feSpecularLighting > fePointLight").setAttribute("z",_l266),t.querySelector(":scope > feDiffuseLighting").setAttribute("diffuseConstant",_r96),t.querySelector(":scope > feDiffuseLighting").setAttribute("lighting-color",_c60),t.querySelector(":scope > feDiffuseLighting > fePointLight").setAttribute("x",_n389),t.querySelector(":scope > feDiffuseLighting > fePointLight").setAttribute("y",_o308),t.querySelector(":scope > feDiffuseLighting > fePointLight").setAttribute("z",_l266),t.querySelector(":scope > feComposite").setAttribute("k2",_d75)):(t.setAttribute("primitiveUnits","objectBoundingBox"),t.innerHTML="\n        <feSpecularLighting result=\"specular-lighting\" lighting-color=\"".concat(_c60,"\"\n          specularConstant=\"").concat(_a161,"\" specularExponent=\"").concat(_h205,"\">\n          <fePointLight x=\"").concat(_n389,"\" y=\"").concat(_o308,"\" z=\"").concat(_l266,"\"></fePointLight>\n        </feSpecularLighting>\n        <feDiffuseLighting result=\"diffuse-lighting\" lighting-color=\"").concat(_c60,"\" diffuseConstant=\"").concat(_r96,"\">\n          <fePointLight x=\"").concat(_n389,"\" y=\"").concat(_o308,"\" z=\"").concat(_l266,"\"></fePointLight>\n        </feDiffuseLighting>\n        <feMerge result=\"lighting\">\n          <feMergeNode in=\"diffuse-lighting\"></feMergeNode>\n          <feMergeNode in=\"specular-lighting\"></feMergeNode>\n        </feMerge>\n        <feComposite in=\"SourceGraphic\" in2=\"lighting\" operator=\"arithmetic\"\n          k1=\"1\" k2=\"").concat(_d75,"\" k3=\"0\" k4=\"0\"></feComposite>\n      "));}else if("spot-light"===e.name){var _n390=X(e.sourceX,3),_o309=X(e.sourceY,3),_l267=X(e.sourceZ,3),_h206=X(e.targetX,3),_a162=X(e.targetY,3),_r97=X(e.targetZ,3),_d76=X(e.coneAngle,3),_c61=X(e.specularExponent,3),_p50=X(e.specularConstant,3),_u42=X(e.diffuseConstant,3),_x126=X(e.ambientConstant,3),_b36=ii(e.color," ","");t.setAttribute("data-bx-preset",["spot-light",s,_n390,_o309,_l267,_h206,_a162,_r97,_d76,_b36,_c61,_p50,_u42,_x126].join(" ")),i?(t.querySelector(":scope > feSpecularLighting").setAttribute("specularExponent",_c61),t.querySelector(":scope > feSpecularLighting").setAttribute("specularConstant",_p50),t.querySelector(":scope > feSpecularLighting").setAttribute("lighting-color",_b36),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("x",_n390),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("y",_o309),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("z",_l267),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("pointsAtX",_h206),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("pointsAtY",_a162),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("pointsAtZ",_r97),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("limitingConeAngle",_d76),t.querySelector(":scope > feDiffuseLighting").setAttribute("diffuseConstant",_u42),t.querySelector(":scope > feDiffuseLighting").setAttribute("lighting-color",_b36),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("x",_n390),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("y",_o309),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("z",_l267),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("pointsAtX",_h206),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("pointsAtY",_a162),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("pointsAtZ",_r97),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("limitingConeAngle",_d76),t.querySelector(":scope > feComposite").setAttribute("k2",_x126)):(t.setAttribute("primitiveUnits","objectBoundingBox"),t.innerHTML="\n        <feSpecularLighting result=\"specular-lighting\" lighting-color=\"".concat(_b36,"\"\n          specularConstant=\"").concat(_p50,"\" specularExponent=\"").concat(_c61,"\">\n          <feSpotLight x=\"").concat(_n390,"\" y=\"").concat(_o309,"\" z=\"").concat(_l267,"\" limitingConeAngle=\"").concat(_d76,"\"\n            pointsAtX=\"").concat(_h206,"\" pointsAtY=\"").concat(_a162,"\" pointsAtZ=\"").concat(_r97,"\"></feSpotLight>\n        </feSpecularLighting>\n        <feDiffuseLighting result=\"diffuse-lighting\" lighting-color=\"").concat(_b36,"\" diffuseConstant=\"").concat(_u42,"\">\n          <feSpotLight x=\"").concat(_n390,"\" y=\"").concat(_o309,"\" z=\"").concat(_l267,"\" limitingConeAngle=\"").concat(_d76,"\"\n            pointsAtX=\"").concat(_h206,"\" pointsAtY=\"").concat(_a162,"\" pointsAtZ=\"").concat(_r97,"\"></feSpotLight>\n        </feDiffuseLighting>\n        <feMerge result=\"lighting\">\n          <feMergeNode in=\"diffuse-lighting\"></feMergeNode>\n          <feMergeNode in=\"specular-lighting\"></feMergeNode>\n        </feMerge>\n        <feComposite in=\"SourceGraphic\" in2=\"lighting\" operator=\"arithmetic\"\n          k1=\"1\" k2=\"").concat(_x126,"\" k3=\"0\" k4=\"0\"></feComposite>\n      "));}else if("outline"===e.name){var _n391=e.width,_o310=ii(e.color," ","");_n391=X(_n391,3),t.setAttribute("data-bx-preset","outline ".concat(s," ").concat(_n391," ").concat(_o310)),i?(t.querySelector(":scope > feMorphology").setAttribute("radius","".concat(_n391)),t.querySelector(":scope > feFlood").setAttribute("flood-color","".concat(_o310))):t.innerHTML="\n        <feMorphology in=\"SourceAlpha\" result=\"dilated\" operator=\"dilate\" radius=\"".concat(_n391,"\"></feMorphology>\n        <feFlood flood-color=\"").concat(_o310,"\" result=\"flood\"></feFlood>\n        <feComposite in=\"flood\" in2=\"dilated\" operator=\"in\" result=\"outline\"></feComposite>\n        <feMerge>\n          <feMergeNode in=\"outline\" />\n          <feMergeNode in=\"SourceGraphic\" />\n        </feMerge>\n      ");}else if("gaussian-blur"===e.name){var _n392=e.radius;_n392=X(_n392,3),t.setAttribute("data-bx-preset","gaussian-blur ".concat(s," ").concat(_n392)),i?t.querySelector(":scope > feGaussianBlur").setAttribute("stdDeviation","".concat(_n392," ").concat(_n392)):(t.setAttribute("color-interpolation-filters","sRGB"),t.innerHTML="<feGaussianBlur stdDeviation=\"".concat(_n392," ").concat(_n392,"\" edgeMode=\"none\" >"));}else if("motion-blur"===e.name){var _n393=e.distance,_o311=e.orientation,_l268="horizontal"===_o311?"".concat(_n393," 0"):"0 ".concat(_n393);_n393=X(_n393,3),t.setAttribute("data-bx-preset","motion-blur ".concat(s," ").concat(_n393," ").concat(_o311)),i?t.querySelector(":scope > feGaussianBlur").setAttribute("stdDeviation","".concat(_l268)):(t.setAttribute("color-interpolation-filters","sRGB"),t.innerHTML="<feGaussianBlur stdDeviation=\"".concat(_l268,"\" edgeMode=\"none\">"));}else if("warp"===e.name){var _n394=e.amount,_o312=e.frequency;_n394=X(_n394,1),_o312=X(_o312,3),t.setAttribute("data-bx-preset","warp ".concat(s," ").concat(_n394," ").concat(_o312)),i?(t.querySelector(":scope > feTurbulence").setAttribute("baseFrequency",_o312/10),t.querySelector(":scope > feDisplacementMap").setAttribute("scale",_n394)):t.innerHTML="\n        <feComponentTransfer>\n          <feFuncR type=\"table\" tableValues=\"1 0.5\"/>\n        </feComponentTransfer>\n        <feMerge result=\"a\">\n          <feMergeNode/>\n          <feMergeNode in=\"SourceGraphic\"/>\n        </feMerge>\n        <feTurbulence type=\"fractalNoise\" baseFrequency=\"".concat(_o312/10,"\" numOctaves=\"1\" result=\"warp\" />\n        <feDisplacementMap xChannelSelector=\"R\" yChannelSelector=\"G\" scale=\"").concat(_n394,"\" in=\"a\" in2=\"warp\"  />\n      ");}else if("pixelete"===e.name){var _n395=e.pixelSize;_n395=X(_n395,3),t.setAttribute("data-bx-preset","pixelete ".concat(s," ").concat(_n395)),i?(t.querySelector(":scope > feComposite").setAttribute("width",_n395),t.querySelector(":scope > feComposite").setAttribute("height",_n395),t.querySelector(":scope > feMorphology").setAttribute("radius",_n395/2)):t.innerHTML="\n        <feFlood height=\"2\" width=\"2\"/>\n        <feComposite width=\"".concat(_n395,"\" height=\"").concat(_n395,"\"></feComposite>\n        <feTile result=\"a\"/>\n        <feComposite in=\"SourceGraphic\" in2=\"a\" operator=\"in\"/>\n        <feMorphology operator=\"dilate\" radius=\"").concat(_n395/2,"\"></feMorphology>\n      ");}else if("morphology"===e.name){var _n396=e.operator,_o313=e.radius;_o313=X(_o313,3),t.setAttribute("data-bx-preset","morphology ".concat(s," ").concat(_n396," ").concat(_o313)),i?(t.querySelector(":scope > feMorphology").setAttribute("operator",_n396),t.querySelector(":scope > feMorphology").setAttribute("radius",_o313)):t.innerHTML="\n        <feMorphology operator=\"".concat(_n396,"\" radius=\"").concat(_o313,"\"></feMorphology>\n      ");}else if("black-and-white"===e.name){var _n397=e.balance;t.setAttribute("data-bx-preset","black-and-white ".concat(s," ").concat(_n397));var _o314=X((-1*_n397+1)/2*250,1),_l269="0 ".repeat(_o314)+"1 ".repeat(255-_o314);i?(t.querySelector("feFuncR").setAttribute("tableValues",_l269),t.querySelector("feFuncG").setAttribute("tableValues",_l269),t.querySelector("feFuncB").setAttribute("tableValues",_l269)):(t.setAttribute("color-interpolation-filters","sRGB"),t.innerHTML="\n        <feColorMatrix type=\"saturate\" values=\"0\"></feColorMatrix>\n\n        <feComponentTransfer>\n          <feFuncR type=\"discrete\" tableValues=\"".concat(_l269,"\"/>\n          <feFuncG type=\"discrete\" tableValues=\"").concat(_l269,"\"/>\n          <feFuncB type=\"discrete\" tableValues=\"").concat(_l269,"\"/>\n        </feComponentTransfer>\n      "));}else if("grayscale"===e.name){var _n398=e.amount,_o315=[.2126+.7874*[1-_n398],.7152-.7152*[1-_n398],.0722-.0722*[1-_n398],0,0,.2126-.2126*[1-_n398],.7152+.2848*[1-_n398],.0722-.0722*[1-_n398],0,0,.2126-.2126*[1-_n398],.7152-.7152*[1-_n398],.0722+.9278*[1-_n398],0,0,0,0,0,1,0];_o315=_o315.map(function(t){return X(t,3);}).join(" "),t.setAttribute("data-bx-preset","grayscale ".concat(s," ").concat(_n398)),i?t.querySelector(":scope > feColorMatrix").setAttribute("values",_o315):t.innerHTML="<feColorMatrix type=\"matrix\" values=\"".concat(_o315,"\"/>");}else if("sepia"===e.name){var _n399=e.amount,_o316=[.393+.607*[1-_n399],.769-.769*[1-_n399],.189-.189*[1-_n399],0,0,.349-.349*[1-_n399],.686+.314*[1-_n399],.168-.168*[1-_n399],0,0,.272-.272*[1-_n399],.534-.534*[1-_n399],.131+.869*[1-_n399],0,0,0,0,0,1,0];_o316=_o316.map(function(t){return X(t,3);}).join(" "),t.setAttribute("data-bx-preset","sepia ".concat(s," ").concat(_n399)),i?t.querySelector(":scope > feColorMatrix").setAttribute("values",_o316):t.innerHTML="<feColorMatrix type=\"matrix\" values=\"".concat(_o316,"\"/>");}else if("saturate"===e.name){var _n400=e.amount;_n400=X(_n400,3),t.setAttribute("data-bx-preset","saturate ".concat(s," ").concat(_n400)),i?t.querySelector(":scope > feColorMatrix").setAttribute("values",_n400):t.innerHTML="<feColorMatrix type=\"saturate\" values=\"".concat(_n400,"\"/>");}else if("hue-rotate"===e.name){var _n401=e.angle;_n401=X(_n401,0),t.setAttribute("data-bx-preset","hue-rotate ".concat(s," ").concat(_n401)),i?t.querySelector(":scope > feColorMatrix").setAttribute("values",_n401):t.innerHTML="<feColorMatrix type=\"hueRotate\" values=\"".concat(_n401,"\"/>");}else if("invert"===e.name){var _n402=e.amount;if(_n402=X(_n402,3),t.setAttribute("data-bx-preset","invert ".concat(s," ").concat(_n402)),i){var _iterator917=_createForOfIteratorHelper(t.querySelector(":scope > feComponentTransfer").children),_step917;try{for(_iterator917.s();!(_step917=_iterator917.n()).done;){var _e951=_step917.value;_e951.setAttribute("tableValues","".concat(_n402," ").concat(1-_n402));}}catch(err){_iterator917.e(err);}finally{_iterator917.f();}}else t.innerHTML="\n        <feComponentTransfer>\n          <feFuncR type=\"table\" tableValues=\"".concat(_n402," ").concat(1-_n402,"\"/>\n          <feFuncG type=\"table\" tableValues=\"").concat(_n402," ").concat(1-_n402,"\"/>\n          <feFuncB type=\"table\" tableValues=\"").concat(_n402," ").concat(1-_n402,"\"/>\n        </feComponentTransfer>\n      ");}else if("brightness"===e.name){var _n403=e.amount;if(_n403=X(_n403,3),t.setAttribute("data-bx-preset","brightness ".concat(s," ").concat(_n403)),i){var _iterator918=_createForOfIteratorHelper(t.querySelector(":scope > feComponentTransfer").children),_step918;try{for(_iterator918.s();!(_step918=_iterator918.n()).done;){var _e952=_step918.value;_e952.setAttribute("slope","".concat(_n403));}}catch(err){_iterator918.e(err);}finally{_iterator918.f();}}else t.innerHTML="\n        <feComponentTransfer>\n          <feFuncR type=\"linear\" slope=\"".concat(_n403,"\"/>\n          <feFuncG type=\"linear\" slope=\"").concat(_n403,"\"/>\n          <feFuncB type=\"linear\" slope=\"").concat(_n403,"\"/>\n        </feComponentTransfer>\n      ");}else if("contrast"===e.name){var _n404=e.amount;if(_n404=X(_n404,3),t.setAttribute("data-bx-preset","contrast ".concat(s," ").concat(_n404)),i){var _iterator919=_createForOfIteratorHelper(t.querySelector(":scope > feComponentTransfer").children),_step919;try{for(_iterator919.s();!(_step919=_iterator919.n()).done;){var _e953=_step919.value;_e953.setAttribute("slope","".concat(_n404)),_e953.setAttribute("intercept",""+(-.5*_n404+.5));}}catch(err){_iterator919.e(err);}finally{_iterator919.f();}}else t.innerHTML="\n        <feComponentTransfer>\n          <feFuncR type=\"linear\" slope=\"".concat(_n404,"\" intercept=\"").concat(-.5*_n404+.5,"\"/>\n          <feFuncG type=\"linear\" slope=\"").concat(_n404,"\" intercept=\"").concat(-.5*_n404+.5,"\"/>\n          <feFuncB type=\"linear\" slope=\"").concat(_n404,"\" intercept=\"").concat(-.5*_n404+.5,"\"/>\n        </feComponentTransfer>\n      ");}else if("posterize"===e.name){var _n405=e.channels,_o317=e.amount,_l270=e.saturation;t.setAttribute("data-bx-preset","posterize ".concat(s," ").concat(_n405.join("")," ").concat(_o317," ").concat(_l270));var _h207=[0],_a163=1/_o317,_r98=0;for(var _t1382=1;_t1382<_o317;_t1382+=1){_r98+=_a163,_h207.push(_r98);}_h207.push(1),_h207=_h207.map(function(t){return X(t,3);});var _d77=_n405.includes("r")?_h207:[],_c62=_n405.includes("g")?_h207:[],_p51=_n405.includes("b")?_h207:[];i?(t.querySelector(":scope > feColorMatrix").setAttribute("values",_l270),t.querySelector(":scope > feComponentTransfer>  feFuncR").setAttribute("tableValues",_d77.join(" ")),t.querySelector(":scope > feComponentTransfer>  feFuncG").setAttribute("tableValues",_c62.join(" ")),t.querySelector(":scope > feComponentTransfer>  feFuncB").setAttribute("tableValues",_p51.join(" "))):t.innerHTML="\n        <feColorMatrix type=\"saturate\" values=\"".concat(_l270,"\"/>\n        <feComponentTransfer>\n          <feFuncR type=\"discrete\" tableValues=\"").concat(_d77.join(" "),"\" />\n          <feFuncG type=\"discrete\" tableValues=\"").concat(_c62.join(" "),"\" />\n          <feFuncB type=\"discrete\" tableValues=\"").concat(_p51.join(" "),"\" />\n        </feComponentTransfer>\n      ");}else if("duotone"===e.name){var _n406=e.shadowsColor,_o318=e.highlightsColor,_l271=e.gamma,_uo7=uo(_n406,"rgba"),_uo8=_slicedToArray(_uo7,3),_h208=_uo8[0],_a164=_uo8[1],_r99=_uo8[2],_uo9=uo(_o318,"rgba"),_uo10=_slicedToArray(_uo9,3),_d78=_uo10[0],_c63=_uo10[1],_p52=_uo10[2],_u43=X(_h208/255,3),_x127=X(_a164/255,3),_b37=X(_r99/255,3),_m35=X(_d78/255,3),_g28=X(_c63/255,3),_f21=X(_p52/255,3);_n406=ii(_n406," ",""),_o318=ii(_o318," ",""),t.setAttribute("data-bx-preset","duotone ".concat(s," ").concat(_n406," ").concat(_o318," ").concat(_l271)),i?(t.children[1].children[0].setAttribute("amplitude",_l271),t.children[1].children[1].setAttribute("amplitude",_l271),t.children[1].children[2].setAttribute("amplitude",_l271),t.children[2].children[0].setAttribute("tableValues","".concat(_u43," ").concat(_m35)),t.children[2].children[1].setAttribute("tableValues","".concat(_x127," ").concat(_g28)),t.children[2].children[2].setAttribute("tableValues","".concat(_b37," ").concat(_f21))):t.innerHTML="\n        <feColorMatrix\n          type=\"matrix\" result=\"grayscale\" values=\"1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 0 0 0 1 0\">\n        </feColorMatrix>\n        <feComponentTransfer color-interpolation-filters=\"sRGB\">\n          <feFuncR type=\"gamma\" exponent=\"1.5\" amplitude=\"".concat(_l271,"\" offset=\"0\"></feFuncR>\n          <feFuncG type=\"gamma\" exponent=\"1.5\" amplitude=\"").concat(_l271,"\" offset=\"0\"></feFuncG>\n          <feFuncB type=\"gamma\" exponent=\"1.5\" amplitude=\"").concat(_l271,"\" offset=\"0\"></feFuncB>\n        </feComponentTransfer>\n        <feComponentTransfer color-interpolation-filters=\"sRGB\" result=\"duotone\">\n          <feFuncR type=\"table\" tableValues=\"").concat(_u43," ").concat(_m35,"\"></feFuncR>\n          <feFuncG type=\"table\" tableValues=\"").concat(_x127," ").concat(_g28,"\"></feFuncG>\n          <feFuncB type=\"table\" tableValues=\"").concat(_b37," ").concat(_f21,"\"></feFuncB>\n          <feFuncA type=\"table\" tableValues=\"0 1\"></feFuncA>\n        </feComponentTransfer>\n      ");}else"x-ray"===e.name&&(t.setAttribute("data-bx-preset","x-ray ".concat(s)),i?t.querySelector("feColorMatrix").setAttribute("values","-1 0 0 0 0 0 -1 0 0 0 0 0 -1 0 0 1 1 1 0 0"):t.innerHTML='\n        <feColorMatrix type="matrix" values="-1 0 0 0 0 0 -1 0 0 0 0 0 -1 0 0 1 1 1 0 0"/>\n      ');!1===i&&("pixelete"===e.name?(t.setAttribute("x","0"),t.setAttribute("y","0"),t.setAttribute("width","100%"),t.setAttribute("height","100%")):(t.setAttribute("x","-500%"),t.setAttribute("y","-500%"),t.setAttribute("width","1000%"),t.setAttribute("height","1000%")));},Cx=Symbol(),Mx="/images/logos/logo-full.svg";var Px=/*#__PURE__*/function(_HTMLElement76){_inherits(Px,_HTMLElement76);var _super104=_createSuper(Px);_createClass(Px,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"none";},set:function set(t){this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function Px(){var _this482;_classCallCheck(this,Px);_this482=_super104.call(this),_this482.wa=qi(_this482.qs,200,_assertThisInitialized(_this482)),_this482._shadowRoot=_this482.attachShadow({mode:"closed"}),_this482._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Px._shadowStyleSheet],_this482._shadowRoot.append(document.importNode(Px._shadowTemplate.content,!0));var _iterator920=_createForOfIteratorHelper(_this482._shadowRoot.querySelectorAll("[id]")),_step920;try{for(_iterator920.s();!(_step920=_iterator920.n()).done;){var _t1383=_step920.value;_this482["#"+_t1383.id]=_t1383;}}catch(err){_iterator920.e(err);}finally{_iterator920.f();}_this482.addEventListener("keydown",function(t){return _this482.vn(t);}),_this482["#popover"].addEventListener("open",function(){return _this482.bu();}),_this482["#items"].addEventListener("click",function(t){return _this482.qc(t);}),_this482["#items"].addEventListener("dblclick",function(t){return _this482.mu(t);}),_this482["#manage-button"].addEventListener("click",function(){return _this482.gu();}),_this482["#developer-mode-button"].addEventListener("toggle",function(){return _this482.fu();});return _this482;}_createClass(Px,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this.wu=Ti(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.sn():"value"===t&&this.ru());}},{key:"tn",value:function tn(){var _this483=this;this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-filterselect:developerMode",!1),this["#expand-button"].disabled=!1,this["#popover"].style.width=this["#expand-button"].clientWidth+"px",this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this483.il(t.detail);}),this.wu.addEventListener("resize",this.vu=function(){_this483.yu();}),this.qs();}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("workspacemutation",this.rn),this.wu.removeEventListener("resize",this.vu),this["#expand-button"].collapse(),this["#expand-button"].disabled=!0,this["#custom-filters-mirror"].innerHTML="";}},{key:"ru",value:function ru(){this.nb(),this.Su();}},{key:"il",value:function il(){this.wa();}},{key:"yu",value:function yu(){this["#popover"].style.width=this["#expand-button"].clientWidth+"px";}},{key:"qc",value:function qc(t){var e=t.target.closest(".item");if(e){var _t1384=e.getAttribute("data-value");_t1384===this.value&&!0!==this.mixed||(this.value=_t1384,this.dispatchEvent(new CustomEvent("change")));}}},{key:"mu",value:function mu(t){var e=t.target.closest(".item");if(e){var _t1385=e.getAttribute("data-value");this["#expand-button"].collapse(),_t1385.startsWith("#")&&(this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.editFilter(_t1385.substring(1)));}}},{key:"gu",value:function gu(){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("filters-browser");}},{key:"fu",value:function fu(){var t=this["#developer-mode-button"].toggled;this.Qs.setConfig("bx-filterselect:developerMode",t),this.nb(),this._u(),this.Cu();}},{key:"vn",value:function vn(t){var e=to.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Mu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Pu());}},{key:"qs",value:function qs(){this.nb(),this.Du(),this.Cu(),this.ob();}},{key:"nb",value:function nb(){if("none"===this.value)this["#expand-button-thumbnail-img"].style.filter="none",this["#expand-button-label"].textContent="None";else if(this.value.startsWith("#")){var _t1386=this.Js.board.masterWorkspace.querySelector(this.value),_e954=this["#developer-mode-button"].toggled;this["#expand-button-thumbnail-img"].style.filter="url("+this.value+")",this["#expand-button-label"].textContent=this.lb(_t1386,_e954);}else{var _t1387=this.value;this["#expand-button-thumbnail-img"].style.filter="url(#"+_t1387+"-filter)",this["#expand-button-label"].textContent=u[_t1387];}}},{key:"Du",value:function Du(){var t=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("filter")).filter(function(t){return!1===t.hasAttribute("data-bx-preset");});this["#custom-items"].innerHTML="";var _iterator921=_createForOfIteratorHelper(t),_step921;try{for(_iterator921.s();!(_step921=_iterator921.n()).done;){var _e955=_step921.value;var _t1388=Hi(_templateObject20(),_e955.id,Mx,_e955.id,_e955.id);_t1388[Cx]=_e955,this["#custom-items"].append(_t1388);}}catch(err){_iterator921.e(err);}finally{_iterator921.f();}this.Su(),this._u();}},{key:"Su",value:function Su(){for(var _i905=0,_arr41=[this["#none-item"]].concat(_toConsumableArray(this["#custom-items"].children),_toConsumableArray(this["#preset-items"].children));_i905<_arr41.length;_i905++){var _t1389=_arr41[_i905];_t1389.getAttribute("data-value")===this.value?_t1389.setAttribute("data-selected",""):_t1389.removeAttribute("data-selected");}}},{key:"_u",value:function _u(){var _iterator922=_createForOfIteratorHelper(this["#custom-items"].children),_step922;try{for(_iterator922.s();!(_step922=_iterator922.n()).done;){var _t1390=_step922.value;var _e956=_t1390[Cx];_t1390.querySelector(".label").textContent=this.lb(_e956,this["#developer-mode-button"].toggled);}}catch(err){_iterator922.e(err);}finally{_iterator922.f();}}},{key:"Cu",value:function Cu(){this["#custom-items"].querySelector(":scope > .item")?this["#custom-items-placeholder"].hidden=!0:this["#custom-items-placeholder"].hidden=!1;}},{key:"ob",value:function ob(){if(this["#custom-filters-mirror"].innerHTML=this.Js.board.defs.innerHTML,0===this["#preset-filters-mirror"].childElementCount){var _iterator923=_createForOfIteratorHelper(this["#preset-items"].children),_step923;try{for(_iterator923.s();!(_step923=_iterator923.n()).done;){var _t1391=_step923.value;if("hr"!==_t1391.localName){var _e957=_t1391.dataset.value,_i906=kx(_e957),_s561=Di("svg:filter");_s561.id="".concat(_i906.name,"-filter"),_x(_s561,_i906),this["#preset-filters-mirror"].append(_s561),_t1391.querySelector("img").style.filter="url(#"+_s561.id+")";}}}catch(err){_iterator923.e(err);}finally{_iterator923.f();}}}},{key:"Mu",value:function Mu(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item")),e=this["#items"].querySelector(".item[data-selected]"),i=null;if(e){var _s562=t.indexOf(e);t[_s562-1]?i=t[_s562-1]:t[t.length-1]!==e&&(i=t[t.length-1]);}else t.length>0&&(i=t[t.length-1]);i&&(i.scrollIntoViewIfNeeded(),this.value=i.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Pu",value:function Pu(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item")),e=this["#items"].querySelector(".item[data-selected]"),i=null;if(e){var _s563=t.indexOf(e);t[_s563+1]?i=t[_s563+1]:t[0]!==e&&(i=t[0]);}else t.length>0&&(i=t[0]);i&&(i.scrollIntoViewIfNeeded(),this.value=i.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"bu",value:function bu(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"lb",value:function lb(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i="";if(e)i=t.hasAttribute("id")?"#"+t.id:"<filter>";else{var _e958=t.querySelector(":scope > bx-title");i=_e958?_e958.textContent:"Filter";}return i;}}]);return Px;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Px,"observedAttributes",["enabled","value"]);_defineProperty(Px,"_shadowTemplate",Hi(_templateObject268(),Mx,Mx,Mx,u["drop-shadow"],Mx,u["inner-shadow"],Mx,u["point-light"],Mx,u["spot-light"],Mx,u.outline,Mx,u["gaussian-blur"],Mx,u["motion-blur"],Mx,u.warp,Mx,u.pixelete,Mx,u.morphology,Mx,u["black-and-white"],Mx,u.grayscale,Mx,u.sepia,Mx,u.saturate,Mx,u["hue-rotate"],Mx,u.invert,Mx,u.brightness,Mx,u.contrast,Mx,u.posterize,Mx,u.duotone,Mx,u["x-ray"]));_defineProperty(Px,"_shadowStyleSheet",Yi(_templateObject269()));customElements.define("bx-filterselect",Px);var Dx=function Dx(t){var e=document.createNodeIterator(zi(t),NodeFilter.SHOW_ELEMENT),i=null,s=[];for(;i=e.nextNode();){if(D.includes(i.localName)){var _e959=getComputedStyle(i).filter,_n407=so.fromString(_e959);if(_n407){_n407.value.substring(1)===t.id&&!1===s.includes(i)&&s.push(i);}}}return s;},zx=function zx(t){var e=null,i=getComputedStyle(t).getPropertyValue("filter");if(i&&i.startsWith('url("#')){var _s564=i.substring(6,i.length-2);_s564&&(e=zi(t).querySelector("filter#"+_s564));}return e;},Ox=function Ox(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;if(!1===i){var _i907=[];var _iterator924=_createForOfIteratorHelper(t),_step924;try{for(_iterator924.s();!(_step924=_iterator924.n()).done;){var _s565=_step924.value;if(D.includes(_s565.localName))if("text"===_s565.localName){if(e&&e.intersectsNode(_s565)){var _t1392=xi(_s565);"backward"===e.direction&&_t1392.reverse();var _iterator925=_createForOfIteratorHelper(_t1392),_step925;try{for(_iterator925.s();!(_step925=_iterator925.n()).done;){var _s566=_step925.value;e.intersectsNode(_s566)&&(_i907.includes(_s566.parentElement)||_i907.push(_s566.parentElement));}}catch(err){_iterator925.e(err);}finally{_iterator925.f();}}else _i907.push(_s565);}else _i907.push(_s565);}}catch(err){_iterator924.e(err);}finally{_iterator924.f();}return _i907;}if(!0===i){var _i908=e,_s567=[],_n408=[];var _iterator926=_createForOfIteratorHelper(t),_step926;try{for(_iterator926.s();!(_step926=_iterator926.n()).done;){var _e960=_step926.value;if("text"===_e960.localName&&_i908&&_e960.contains(_i908.commonAncestorContainer)){di(_e960,_i908),_s567.push(_e960);var _t1393=_e960.querySelectorAll("tspan"),_o319=pi(_i908,_e960),_l272=_i908.collapsed?_t1393:_o319;_n408.push.apply(_n408,_toConsumableArray(_l272));}else D.includes(_e960.localName)&&_n408.push(_e960);}}catch(err){_iterator926.e(err);}finally{_iterator926.f();}return[_n408,_s567];}},Ex=function Ex(t){var e=t.closest("filter"),i=new DOMRect(),s=t.viewportElement,n=s.createSVGLength(),o=s.createSVGLength(),l=s.createSVGLength(),h=s.createSVGLength();return n.valueAsString=t.hasAttribute("x")?t.getAttribute("x"):"0%",o.valueAsString=t.hasAttribute("y")?t.getAttribute("y"):"0%",l.valueAsString=t.hasAttribute("width")?t.getAttribute("width"):"100%",h.valueAsString=t.hasAttribute("height")?t.getAttribute("height"):"100%","objectBoundingBox"===e.getAttribute("primitiveUnits")?(n.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.x=n.valueInSpecifiedUnits:i.x=100*n.valueInSpecifiedUnits,o.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.y=o.valueInSpecifiedUnits:i.y=100*o.valueInSpecifiedUnits,l.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.width=l.valueInSpecifiedUnits:i.width=100*l.valueInSpecifiedUnits,h.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.height=h.valueInSpecifiedUnits:i.height=100*h.valueInSpecifiedUnits):(n.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.x=n.valueInSpecifiedUnits/100*s.viewBox.baseVal.width:i.x=n.value,o.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.y=o.valueInSpecifiedUnits/100*s.viewBox.baseVal.height:i.y=o.value,l.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.width=l.valueInSpecifiedUnits/100*s.viewBox.baseVal.width:i.width=l.value,h.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.height=h.valueInSpecifiedUnits/100*s.viewBox.baseVal.height:i.height=h.value),i;};var Tx=/*#__PURE__*/function(_HTMLElement77){_inherits(Tx,_HTMLElement77);var _super105=_createSuper(Tx);function Tx(){var _this484;_classCallCheck(this,Tx);_this484=_super105.call(this),_this484.hb=!1,_this484.ab=!1,_this484.rb=!1,_this484.cb=!1,_this484.wa=qi(_this484.qs,200,_assertThisInitialized(_this484)),_this484._shadowRoot=_this484.attachShadow({mode:"closed"}),_this484._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Tx._shadowStyleSheet],_this484._shadowRoot.append(document.importNode(Tx._shadowTemplate.content,!0));var _iterator927=_createForOfIteratorHelper(_this484._shadowRoot.querySelectorAll("[id]")),_step927;try{for(_iterator927.s();!(_step927=_iterator927.n()).done;){var _t1394=_step927.value;_this484["#"+_t1394.id]=_t1394;}}catch(err){_iterator927.e(err);}finally{_iterator927.f();}_this484["#offset-section"].addEventListener("changestart",function(){return _this484.pb(event);}),_this484["#blur-radius-box"].addEventListener("changestart",function(){return _this484.ub(event);}),_this484["#spread-box"].addEventListener("changestart",function(){return _this484.xb(event);}),_this484["#color-select"].addEventListener("changestart",function(){return _this484.bb();});return _this484;}_createClass(Tx,[{key:"connectedCallback",value:function connectedCallback(){var _this485=this;this.Js=Ti(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this485.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this485.wa();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"pb",value:function pb(t){var _this486=this;var e,_i910;this.Js.board.undoManager.checkpoint("Drop shadow offset"),this.ab=!0;var _this$Js$board=this.Js.board,s=_this$Js$board.outermostSelectedElements,n=_this$Js$board.selectedTextRange,_Ox=Ox(s,n,!0),_Ox2=_slicedToArray(_Ox,2),o=_Ox2[0],l=_Ox2[1];this["#offset-section"].addEventListener("change",e=function e(t){var _iterator928=_createForOfIteratorHelper(o),_step928;try{for(_iterator928.s();!(_step928=_iterator928.n()).done;){var _t1395=_step928.value;var _e961=zx(_t1395),_i909=_e961?Sx(_e961):null;_i909&&"drop-shadow"===_i909.name&&(_i909.offsetX=_this486["#offset-x-input"].value,_i909.offsetY=_this486["#offset-y-input"].value,_x(_e961,_i909,!0));}}catch(err){_iterator928.e(err);}finally{_iterator928.f();}}),this["#offset-section"].addEventListener("changeend",_i910=function i(){_this486["#offset-section"].removeEventListener("change",e),_this486["#offset-section"].removeEventListener("changeend",_i910),_this486.ab=!1;var _iterator929=_createForOfIteratorHelper(l),_step929;try{for(_iterator929.s();!(_step929=_iterator929.n()).done;){var _t1396=_step929.value;ci(_t1396,n);}}catch(err){_iterator929.e(err);}finally{_iterator929.f();}});}},{key:"ub",value:function ub(t){var _this487=this;var e,_i912;this.Js.board.undoManager.checkpoint("Drop shadow blur radius"),this.hb=!0;var _this$Js$board2=this.Js.board,s=_this$Js$board2.outermostSelectedElements,n=_this$Js$board2.selectedTextRange,_Ox3=Ox(s,n,!0),_Ox4=_slicedToArray(_Ox3,2),o=_Ox4[0],l=_Ox4[1];this["#blur-radius-box"].addEventListener("change",e=function e(t){t.target===_this487["#blur-radius-slider"]?_this487["#blur-radius-input"].value=_this487["#blur-radius-slider"].value:t.target===_this487["#blur-radius-input"]&&(_this487["#blur-radius-slider"].value=_this487["#blur-radius-input"].value);var _iterator930=_createForOfIteratorHelper(o),_step930;try{for(_iterator930.s();!(_step930=_iterator930.n()).done;){var _t1397=_step930.value;var _e962=zx(_t1397),_i911=_e962?Sx(_e962):null;_i911&&"drop-shadow"===_i911.name&&(_i911.blurRadius=_this487["#blur-radius-input"].value,_x(_e962,_i911,!0));}}catch(err){_iterator930.e(err);}finally{_iterator930.f();}}),this["#blur-radius-box"].addEventListener("changeend",_i912=function i(){_this487["#blur-radius-box"].removeEventListener("change",e),_this487["#blur-radius-box"].removeEventListener("changeend",_i912),_this487.hb=!1;var _iterator931=_createForOfIteratorHelper(l),_step931;try{for(_iterator931.s();!(_step931=_iterator931.n()).done;){var _t1398=_step931.value;ci(_t1398,n);}}catch(err){_iterator931.e(err);}finally{_iterator931.f();}});}},{key:"xb",value:function xb(t){var _this488=this;var e,_i914;this.Js.board.undoManager.checkpoint("Drop shadow spread"),this.rb=!0;var _this$Js$board3=this.Js.board,s=_this$Js$board3.outermostSelectedElements,n=_this$Js$board3.selectedTextRange,_Ox5=Ox(s,n,!0),_Ox6=_slicedToArray(_Ox5,2),o=_Ox6[0],l=_Ox6[1];this["#spread-box"].addEventListener("change",e=function e(t){t.target===_this488["#spread-slider"]?_this488["#spread-input"].value=_this488["#spread-slider"].value:t.target===_this488["#spread-input"]&&(_this488["#spread-slider"].value=_this488["#spread-input"].value);var _iterator932=_createForOfIteratorHelper(o),_step932;try{for(_iterator932.s();!(_step932=_iterator932.n()).done;){var _t1399=_step932.value;var _e963=zx(_t1399),_i913=_e963?Sx(_e963):null;_i913&&"drop-shadow"===_i913.name&&(_i913.spread=_this488["#spread-input"].value/100,_x(_e963,_i913,!0));}}catch(err){_iterator932.e(err);}finally{_iterator932.f();}}),this["#spread-box"].addEventListener("changeend",_i914=function i(){_this488["#spread-box"].removeEventListener("change",e),_this488["#spread-box"].removeEventListener("changeend",_i914),_this488.rb=!1;var _iterator933=_createForOfIteratorHelper(l),_step933;try{for(_iterator933.s();!(_step933=_iterator933.n()).done;){var _t1400=_step933.value;ci(_t1400,n);}}catch(err){_iterator933.e(err);}finally{_iterator933.f();}});}},{key:"bb",value:function bb(){var _this489=this;var t,_e965;this.Js.board.undoManager.checkpoint("Drop shadow color"),this.cb=!0;var _this$Js$board4=this.Js.board,i=_this$Js$board4.outermostSelectedElements,s=_this$Js$board4.selectedTextRange,_Ox7=Ox(i,s,!0),_Ox8=_slicedToArray(_Ox7,2),n=_Ox8[0],o=_Ox8[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator934=_createForOfIteratorHelper(n),_step934;try{for(_iterator934.s();!(_step934=_iterator934.n()).done;){var _t1401=_step934.value;var _e964=zx(_t1401),_i915=_e964?Sx(_e964):null;_i915&&"drop-shadow"===_i915.name&&(_i915.color=_this489["#color-select"].value,_x(_e964,_i915,!0));}}catch(err){_iterator934.e(err);}finally{_iterator934.f();}}),this["#color-select"].addEventListener("changeend",_e965=function e(){_this489["#color-select"].removeEventListener("change",t),_this489["#color-select"].removeEventListener("changeend",_e965),_this489.cb=!1;var _iterator935=_createForOfIteratorHelper(o),_step935;try{for(_iterator935.s();!(_step935=_iterator935.n()).done;){var _t1402=_step935.value;ci(_t1402,s);}}catch(err){_iterator935.e(err);}finally{_iterator935.f();}});}},{key:"qs",value:function qs(){if(!(this.hb||this.ab||this.rb||this.cb)){var _t1403=this.Js.board,_e966=Ox(_t1403.outermostSelectedElements,_t1403.selectedTextRange).map(function(t){return zx(t);}).map(function(t){return t?Sx(t):null;}),_e967=_toArray(_e966),_i916=_e967[0],_s568=_e967.slice(1);if(_i916&&"drop-shadow"===_i916.name){var _t1404=!1,_e968=!1,_n409=!1,_o320=!1;var _iterator936=_createForOfIteratorHelper(_s568),_step936;try{for(_iterator936.s();!(_step936=_iterator936.n()).done;){var _l273=_step936.value;null!==_l273&&"drop-shadow"===_l273.name&&(_l273.offsetX!==_i916.offsetX&&(_t1404=!0),_l273.offsetY!==_i916.offsetY&&(_e968=!0),_l273.blurRadius!==_i916.blurRadius&&(_n409=!0),_l273.spread!==_i916.spread&&(_o320=!0));}}catch(err){_iterator936.e(err);}finally{_iterator936.f();}this["#offset-x-input"].mixed=_t1404,this["#offset-x-input"].disabled=!1,this["#offset-x-input"].value=_i916.offsetX,this["#offset-y-input"].mixed=_e968,this["#offset-y-input"].disabled=!1,this["#offset-y-input"].value=_i916.offsetY,this["#blur-radius-input"].mixed=_n409,this["#blur-radius-input"].disabled=!1,this["#blur-radius-input"].value=_i916.blurRadius,this["#blur-radius-slider"].disabled=!1,this["#blur-radius-slider"].value=_i916.blurRadius,this["#spread-input"].mixed=_o320,this["#spread-input"].disabled=!1,this["#spread-input"].value=100*_i916.spread,this["#spread-slider"].disabled=!1,this["#spread-slider"].value=100*_i916.spread,this["#color-select"].disabled=!1,this["#color-select"].value=_i916.color;}else this["#offset-x-input"].mixed=!1,this["#offset-x-input"].disabled=!0,this["#offset-x-input"].value=0,this["#offset-y-input"].mixed=!1,this["#offset-y-input"].disabled=!0,this["#offset-y-input"].value=0,this["#blur-radius-input"].mixed=!1,this["#blur-radius-input"].disabled=!0,this["#blur-radius-input"].value=0,this["#blur-radius-slider"].disabled=!0,this["#blur-radius-slider"].value=0,this["#spread-input"].mixed=!1,this["#spread-input"].disabled=!0,this["#spread-input"].value=0,this["#spread-slider"].disabled=!0,this["#spread-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="rgba(0,0,0,0)";}}}]);return Tx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Tx,"_shadowTemplate",Hi(_templateObject270()));_defineProperty(Tx,"_shadowStyleSheet",Yi(_templateObject271()));customElements.define("bx-dropshadowfilterinspector",Tx);var Ax=/*#__PURE__*/function(_HTMLElement78){_inherits(Ax,_HTMLElement78);var _super106=_createSuper(Ax);function Ax(){var _this490;_classCallCheck(this,Ax);_this490=_super106.call(this),_this490.hb=!1,_this490.mb=!1,_this490.ab=!1,_this490.cb=!1,_this490.wa=qi(_this490.qs,200,_assertThisInitialized(_this490)),_this490._shadowRoot=_this490.attachShadow({mode:"closed"}),_this490._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Ax._shadowStyleSheet],_this490._shadowRoot.append(document.importNode(Ax._shadowTemplate.content,!0));var _iterator937=_createForOfIteratorHelper(_this490._shadowRoot.querySelectorAll("[id]")),_step937;try{for(_iterator937.s();!(_step937=_iterator937.n()).done;){var _t1405=_step937.value;_this490["#"+_t1405.id]=_t1405;}}catch(err){_iterator937.e(err);}finally{_iterator937.f();}_this490["#offset-section"].addEventListener("changestart",function(){return _this490.pb(event);}),_this490["#blur-radius-box"].addEventListener("changestart",function(){return _this490.ub(event);}),_this490["#choke-box"].addEventListener("changestart",function(){return _this490.gb(event);}),_this490["#color-select"].addEventListener("changestart",function(){return _this490.bb();});return _this490;}_createClass(Ax,[{key:"connectedCallback",value:function connectedCallback(){var _this491=this;this.Js=Ti(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this491.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this491.wa();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"pb",value:function pb(t){var _this492=this;var e,_i918;this.Js.board.undoManager.checkpoint("Inner shadow offset"),this.ab=!0;var _this$Js$board5=this.Js.board,s=_this$Js$board5.outermostSelectedElements,n=_this$Js$board5.selectedTextRange,_Ox9=Ox(s,n,!0),_Ox10=_slicedToArray(_Ox9,2),o=_Ox10[0],l=_Ox10[1];this["#offset-section"].addEventListener("change",e=function e(t){var _iterator938=_createForOfIteratorHelper(o),_step938;try{for(_iterator938.s();!(_step938=_iterator938.n()).done;){var _t1406=_step938.value;var _e969=zx(_t1406),_i917=_e969?Sx(_e969):null;_i917&&"inner-shadow"===_i917.name&&(_i917.offsetX=_this492["#offset-x-input"].value,_i917.offsetY=_this492["#offset-y-input"].value,_x(_e969,_i917,!0));}}catch(err){_iterator938.e(err);}finally{_iterator938.f();}}),this["#offset-section"].addEventListener("changeend",_i918=function i(){_this492["#offset-section"].removeEventListener("change",e),_this492["#offset-section"].removeEventListener("changeend",_i918),_this492.ab=!1;var _iterator939=_createForOfIteratorHelper(l),_step939;try{for(_iterator939.s();!(_step939=_iterator939.n()).done;){var _t1407=_step939.value;ci(_t1407,n);}}catch(err){_iterator939.e(err);}finally{_iterator939.f();}});}},{key:"ub",value:function ub(t){var _this493=this;var e,_i920;this.Js.board.undoManager.checkpoint("Inner shadow blur radius"),this.hb=!0;var _this$Js$board6=this.Js.board,s=_this$Js$board6.outermostSelectedElements,n=_this$Js$board6.selectedTextRange,_Ox11=Ox(s,n,!0),_Ox12=_slicedToArray(_Ox11,2),o=_Ox12[0],l=_Ox12[1];this["#blur-radius-box"].addEventListener("change",e=function e(t){t.target===_this493["#blur-radius-slider"]?_this493["#blur-radius-input"].value=_this493["#blur-radius-slider"].value:t.target===_this493["#blur-radius-input"]&&(_this493["#blur-radius-slider"].value=_this493["#blur-radius-input"].value);var _iterator940=_createForOfIteratorHelper(o),_step940;try{for(_iterator940.s();!(_step940=_iterator940.n()).done;){var _t1408=_step940.value;var _e970=zx(_t1408),_i919=_e970?Sx(_e970):null;_i919&&"inner-shadow"===_i919.name&&(_i919.blurRadius=_this493["#blur-radius-input"].value,_x(_e970,_i919,!0));}}catch(err){_iterator940.e(err);}finally{_iterator940.f();}}),this["#blur-radius-box"].addEventListener("changeend",_i920=function i(){_this493["#blur-radius-box"].removeEventListener("change",e),_this493["#blur-radius-box"].removeEventListener("changeend",_i920),_this493.hb=!1;var _iterator941=_createForOfIteratorHelper(l),_step941;try{for(_iterator941.s();!(_step941=_iterator941.n()).done;){var _t1409=_step941.value;ci(_t1409,n);}}catch(err){_iterator941.e(err);}finally{_iterator941.f();}});}},{key:"gb",value:function gb(t){var _this494=this;var e,_i922;this.Js.board.undoManager.checkpoint("Inner shadow choke"),this.mb=!0;var _this$Js$board7=this.Js.board,s=_this$Js$board7.outermostSelectedElements,n=_this$Js$board7.selectedTextRange,_Ox13=Ox(s,n,!0),_Ox14=_slicedToArray(_Ox13,2),o=_Ox14[0],l=_Ox14[1];this["#choke-box"].addEventListener("change",e=function e(t){t.target===_this494["#choke-slider"]?_this494["#choke-input"].value=_this494["#choke-slider"].value:t.target===_this494["#choke-input"]&&(_this494["#choke-slider"].value=_this494["#choke-input"].value);var _iterator942=_createForOfIteratorHelper(o),_step942;try{for(_iterator942.s();!(_step942=_iterator942.n()).done;){var _t1410=_step942.value;var _e971=zx(_t1410),_i921=_e971?Sx(_e971):null;_i921&&"inner-shadow"===_i921.name&&(_i921.choke=_this494["#choke-input"].value/100,_x(_e971,_i921,!0));}}catch(err){_iterator942.e(err);}finally{_iterator942.f();}}),this["#choke-box"].addEventListener("changeend",_i922=function i(){_this494["#choke-box"].removeEventListener("change",e),_this494["#choke-box"].removeEventListener("changeend",_i922),_this494.mb=!1;var _iterator943=_createForOfIteratorHelper(l),_step943;try{for(_iterator943.s();!(_step943=_iterator943.n()).done;){var _t1411=_step943.value;ci(_t1411,n);}}catch(err){_iterator943.e(err);}finally{_iterator943.f();}});}},{key:"bb",value:function bb(){var _this495=this;var t,_e973;this.Js.board.undoManager.checkpoint("Inner shadow color"),this.cb=!0;var _this$Js$board8=this.Js.board,i=_this$Js$board8.outermostSelectedElements,s=_this$Js$board8.selectedTextRange,_Ox15=Ox(i,s,!0),_Ox16=_slicedToArray(_Ox15,2),n=_Ox16[0],o=_Ox16[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator944=_createForOfIteratorHelper(n),_step944;try{for(_iterator944.s();!(_step944=_iterator944.n()).done;){var _t1412=_step944.value;var _e972=zx(_t1412),_i923=_e972?Sx(_e972):null;_i923&&"inner-shadow"===_i923.name&&(_i923.color=_this495["#color-select"].value,_x(_e972,_i923,!0));}}catch(err){_iterator944.e(err);}finally{_iterator944.f();}}),this["#color-select"].addEventListener("changeend",_e973=function e(){_this495["#color-select"].removeEventListener("change",t),_this495["#color-select"].removeEventListener("changeend",_e973),_this495.cb=!1;var _iterator945=_createForOfIteratorHelper(o),_step945;try{for(_iterator945.s();!(_step945=_iterator945.n()).done;){var _t1413=_step945.value;ci(_t1413,s);}}catch(err){_iterator945.e(err);}finally{_iterator945.f();}});}},{key:"qs",value:function qs(){if(!(this.hb||this.mb||this.ab||this.cb)){var _t1414=this.Js.board,_e974=Ox(_t1414.outermostSelectedElements,_t1414.selectedTextRange).map(function(t){return zx(t);}).map(function(t){return t?Sx(t):null;}),_e975=_toArray(_e974),_i924=_e975[0],_s569=_e975.slice(1);if(_i924&&"inner-shadow"===_i924.name){var _t1415=!1,_e976=!1,_n410=!1,_o321=!1;var _iterator946=_createForOfIteratorHelper(_s569),_step946;try{for(_iterator946.s();!(_step946=_iterator946.n()).done;){var _l274=_step946.value;null!==_l274&&"inner-shadow"===_l274.name&&(_l274.offsetX!==_i924.offsetX&&(_t1415=!0),_l274.offsetY!==_i924.offsetY&&(_e976=!0),_l274.blurRadius!==_i924.blurRadius&&(_n410=!0),_l274.choke!==_i924.choke&&(_o321=!0));}}catch(err){_iterator946.e(err);}finally{_iterator946.f();}this["#offset-x-input"].mixed=_t1415,this["#offset-x-input"].disabled=!1,this["#offset-x-input"].value=_i924.offsetX,this["#offset-y-input"].mixed=_e976,this["#offset-y-input"].disabled=!1,this["#offset-y-input"].value=_i924.offsetY,this["#blur-radius-input"].mixed=_n410,this["#blur-radius-input"].disabled=!1,this["#blur-radius-input"].value=_i924.blurRadius,this["#blur-radius-slider"].disabled=!1,this["#blur-radius-slider"].value=_i924.blurRadius,this["#choke-input"].mixed=_o321,this["#choke-input"].disabled=!1,this["#choke-input"].value=100*_i924.choke,this["#choke-slider"].disabled=!1,this["#choke-slider"].value=100*_i924.choke,this["#color-select"].disabled=!1,this["#color-select"].value=_i924.color;}else this["#offset-x-input"].mixed=!1,this["#offset-x-input"].disabled=!0,this["#offset-x-input"].value=0,this["#offset-y-input"].mixed=!1,this["#offset-y-input"].disabled=!0,this["#offset-y-input"].value=0,this["#blur-radius-input"].mixed=!1,this["#blur-radius-input"].disabled=!0,this["#blur-radius-input"].value=0,this["#blur-radius-slider"].disabled=!0,this["#blur-radius-slider"].value=0,this["#choke-input"].mixed=!1,this["#choke-input"].disabled=!0,this["#choke-input"].value=0,this["#choke-slider"].disabled=!0,this["#choke-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="rgba(0,0,0,0)";}}}]);return Ax;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ax,"_shadowTemplate",Hi(_templateObject272()));_defineProperty(Ax,"_shadowStyleSheet",Yi(_templateObject273()));customElements.define("bx-innershadowfilterinspector",Ax);var $x=/*#__PURE__*/function(_HTMLElement79){_inherits($x,_HTMLElement79);var _super107=_createSuper($x);function $x(){var _this496;_classCallCheck(this,$x);_this496=_super107.call(this),_this496.fb=!1,_this496.wb=!1,_this496.vb=!1,_this496.yb=!1,_this496.kb=!1,_this496.cb=!1,_this496.wa=qi(_this496.qs,200,_assertThisInitialized(_this496)),_this496._shadowRoot=_this496.attachShadow({mode:"closed"}),_this496._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,$x._shadowStyleSheet],_this496._shadowRoot.append(document.importNode($x._shadowTemplate.content,!0));var _iterator947=_createForOfIteratorHelper(_this496._shadowRoot.querySelectorAll("[id]")),_step947;try{for(_iterator947.s();!(_step947=_iterator947.n()).done;){var _t1416=_step947.value;_this496["#"+_t1416.id]=_t1416;}}catch(err){_iterator947.e(err);}finally{_iterator947.f();}_this496["#source-section"].addEventListener("changestart",function(t){return _this496.Sb(t);}),_this496["#specular-exponent-box"].addEventListener("changestart",function(t){return _this496._b(t);}),_this496["#specular-constant-box"].addEventListener("changestart",function(t){return _this496.Cb(t);}),_this496["#diffuse-constant-box"].addEventListener("changestart",function(t){return _this496.Mb(t);}),_this496["#ambient-constant-box"].addEventListener("changestart",function(t){return _this496.Pb(t);}),_this496["#color-select"].addEventListener("changestart",function(t){return _this496.bb(t);});return _this496;}_createClass($x,[{key:"connectedCallback",value:function connectedCallback(){var _this497=this;this.Js=Ti(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this497.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this497.wa();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Sb",value:function Sb(t){var _this498=this;var e,_i926;this.Js.board.undoManager.checkpoint("Point light source position"),this.fb=!0;var _this$Js$board9=this.Js.board,s=_this$Js$board9.outermostSelectedElements,n=_this$Js$board9.selectedTextRange,_Ox17=Ox(s,n,!0),_Ox18=_slicedToArray(_Ox17,2),o=_Ox18[0],l=_Ox18[1],h=t.target.dataset.param;this["#source-section"].addEventListener("change",e=function e(t){var _iterator948=_createForOfIteratorHelper(o),_step948;try{for(_iterator948.s();!(_step948=_iterator948.n()).done;){var _t1417=_step948.value;var _e977=zx(_t1417),_i925=_e977?Sx(_e977):null;_i925&&"point-light"===_i925.name&&("x"===h?_i925.sourceX=_this498["#source-x-input"].value/100:"y"===h?_i925.sourceY=_this498["#source-y-input"].value/100:"z"===h&&(_i925.sourceZ=_this498["#source-z-input"].value/100),_x(_e977,_i925,!0));}}catch(err){_iterator948.e(err);}finally{_iterator948.f();}}),this["#source-section"].addEventListener("changeend",_i926=function i(){_this498["#source-section"].removeEventListener("change",e),_this498["#source-section"].removeEventListener("changeend",_i926),_this498.fb=!1;var _iterator949=_createForOfIteratorHelper(l),_step949;try{for(_iterator949.s();!(_step949=_iterator949.n()).done;){var _t1418=_step949.value;ci(_t1418,n);}}catch(err){_iterator949.e(err);}finally{_iterator949.f();}});}},{key:"_b",value:function _b(t){var _this499=this;var e,_i928;this.Js.board.undoManager.checkpoint("Point light specular exponent"),this.wb=!0;var _this$Js$board10=this.Js.board,s=_this$Js$board10.outermostSelectedElements,n=_this$Js$board10.selectedTextRange,_Ox19=Ox(s,n,!0),_Ox20=_slicedToArray(_Ox19,2),o=_Ox20[0],l=_Ox20[1];this["#specular-exponent-box"].addEventListener("change",e=function e(t){t.target===_this499["#specular-exponent-slider"]?_this499["#specular-exponent-input"].value=_this499["#specular-exponent-slider"].value:t.target===_this499["#specular-exponent-input"]&&(_this499["#specular-exponent-slider"].value=_this499["#specular-exponent-input"].value);var _iterator950=_createForOfIteratorHelper(o),_step950;try{for(_iterator950.s();!(_step950=_iterator950.n()).done;){var _t1419=_step950.value;var _e978=zx(_t1419),_i927=_e978?Sx(_e978):null;_i927&&"point-light"===_i927.name&&(_i927.specularExponent=_this499["#specular-exponent-input"].value,_x(_e978,_i927,!0));}}catch(err){_iterator950.e(err);}finally{_iterator950.f();}}),this["#specular-exponent-box"].addEventListener("changeend",_i928=function i(){_this499["#specular-exponent-box"].removeEventListener("change",e),_this499["#specular-exponent-box"].removeEventListener("changeend",_i928),_this499.wb=!1;var _iterator951=_createForOfIteratorHelper(l),_step951;try{for(_iterator951.s();!(_step951=_iterator951.n()).done;){var _t1420=_step951.value;ci(_t1420,n);}}catch(err){_iterator951.e(err);}finally{_iterator951.f();}});}},{key:"Cb",value:function Cb(t){var _this500=this;var e,_i930;this.Js.board.undoManager.checkpoint("Point light specular constant"),this.vb=!0;var _this$Js$board11=this.Js.board,s=_this$Js$board11.outermostSelectedElements,n=_this$Js$board11.selectedTextRange,_Ox21=Ox(s,n,!0),_Ox22=_slicedToArray(_Ox21,2),o=_Ox22[0],l=_Ox22[1];this["#specular-constant-box"].addEventListener("change",e=function e(t){t.target===_this500["#specular-constant-slider"]?_this500["#specular-constant-input"].value=_this500["#specular-constant-slider"].value:t.target===_this500["#specular-constant-input"]&&(_this500["#specular-constant-slider"].value=_this500["#specular-constant-input"].value);var _iterator952=_createForOfIteratorHelper(o),_step952;try{for(_iterator952.s();!(_step952=_iterator952.n()).done;){var _t1421=_step952.value;var _e979=zx(_t1421),_i929=_e979?Sx(_e979):null;_i929&&"point-light"===_i929.name&&(_i929.specularConstant=_this500["#specular-constant-input"].value,_x(_e979,_i929,!0));}}catch(err){_iterator952.e(err);}finally{_iterator952.f();}}),this["#specular-constant-box"].addEventListener("changeend",_i930=function i(){_this500["#specular-constant-box"].removeEventListener("change",e),_this500["#specular-constant-box"].removeEventListener("changeend",_i930),_this500.vb=!1;var _iterator953=_createForOfIteratorHelper(l),_step953;try{for(_iterator953.s();!(_step953=_iterator953.n()).done;){var _t1422=_step953.value;ci(_t1422,n);}}catch(err){_iterator953.e(err);}finally{_iterator953.f();}});}},{key:"Mb",value:function Mb(t){var _this501=this;var e,_i932;this.Js.board.undoManager.checkpoint("Point light diffuse constant"),this.yb=!0;var _this$Js$board12=this.Js.board,s=_this$Js$board12.outermostSelectedElements,n=_this$Js$board12.selectedTextRange,_Ox23=Ox(s,n,!0),_Ox24=_slicedToArray(_Ox23,2),o=_Ox24[0],l=_Ox24[1];this["#diffuse-constant-box"].addEventListener("change",e=function e(t){t.target===_this501["#diffuse-constant-slider"]?_this501["#diffuse-constant-input"].value=_this501["#diffuse-constant-slider"].value:t.target===_this501["#diffuse-constant-input"]&&(_this501["#diffuse-constant-slider"].value=_this501["#diffuse-constant-input"].value);var _iterator954=_createForOfIteratorHelper(o),_step954;try{for(_iterator954.s();!(_step954=_iterator954.n()).done;){var _t1423=_step954.value;var _e980=zx(_t1423),_i931=_e980?Sx(_e980):null;_i931&&"point-light"===_i931.name&&(_i931.diffuseConstant=_this501["#diffuse-constant-input"].value,_x(_e980,_i931,!0));}}catch(err){_iterator954.e(err);}finally{_iterator954.f();}}),this["#diffuse-constant-box"].addEventListener("changeend",_i932=function i(){_this501["#diffuse-constant-box"].removeEventListener("change",e),_this501["#diffuse-constant-box"].removeEventListener("changeend",_i932),_this501.yb=!1;var _iterator955=_createForOfIteratorHelper(l),_step955;try{for(_iterator955.s();!(_step955=_iterator955.n()).done;){var _t1424=_step955.value;ci(_t1424,n);}}catch(err){_iterator955.e(err);}finally{_iterator955.f();}});}},{key:"Pb",value:function Pb(t){var _this502=this;var e,_i934;this.Js.board.undoManager.checkpoint("Point light ambient constant"),this.kb=!0;var _this$Js$board13=this.Js.board,s=_this$Js$board13.outermostSelectedElements,n=_this$Js$board13.selectedTextRange,_Ox25=Ox(s,n,!0),_Ox26=_slicedToArray(_Ox25,2),o=_Ox26[0],l=_Ox26[1];this["#ambient-constant-box"].addEventListener("change",e=function e(t){t.target===_this502["#ambient-constant-slider"]?_this502["#ambient-constant-input"].value=_this502["#ambient-constant-slider"].value:t.target===_this502["#ambient-constant-input"]&&(_this502["#ambient-constant-slider"].value=_this502["#ambient-constant-input"].value);var _iterator956=_createForOfIteratorHelper(o),_step956;try{for(_iterator956.s();!(_step956=_iterator956.n()).done;){var _t1425=_step956.value;var _e981=zx(_t1425),_i933=_e981?Sx(_e981):null;_i933&&"point-light"===_i933.name&&(_i933.ambientConstant=_this502["#ambient-constant-input"].value,_x(_e981,_i933,!0));}}catch(err){_iterator956.e(err);}finally{_iterator956.f();}}),this["#ambient-constant-box"].addEventListener("changeend",_i934=function i(){_this502["#ambient-constant-box"].removeEventListener("change",e),_this502["#ambient-constant-box"].removeEventListener("changeend",_i934),_this502.kb=!1;var _iterator957=_createForOfIteratorHelper(l),_step957;try{for(_iterator957.s();!(_step957=_iterator957.n()).done;){var _t1426=_step957.value;ci(_t1426,n);}}catch(err){_iterator957.e(err);}finally{_iterator957.f();}});}},{key:"bb",value:function bb(){var _this503=this;var t,_e983;this.Js.board.undoManager.checkpoint("Point light color"),this.cb=!0;var _this$Js$board14=this.Js.board,i=_this$Js$board14.outermostSelectedElements,s=_this$Js$board14.selectedTextRange,_Ox27=Ox(i,s,!0),_Ox28=_slicedToArray(_Ox27,2),n=_Ox28[0],o=_Ox28[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator958=_createForOfIteratorHelper(n),_step958;try{for(_iterator958.s();!(_step958=_iterator958.n()).done;){var _t1427=_step958.value;var _e982=zx(_t1427),_i935=_e982?Sx(_e982):null;_i935&&"point-light"===_i935.name&&(_i935.color=_this503["#color-select"].value,_x(_e982,_i935,!0));}}catch(err){_iterator958.e(err);}finally{_iterator958.f();}}),this["#color-select"].addEventListener("changeend",_e983=function e(){_this503["#color-select"].removeEventListener("change",t),_this503["#color-select"].removeEventListener("changeend",_e983),_this503.cb=!1;var _iterator959=_createForOfIteratorHelper(o),_step959;try{for(_iterator959.s();!(_step959=_iterator959.n()).done;){var _t1428=_step959.value;ci(_t1428,s);}}catch(err){_iterator959.e(err);}finally{_iterator959.f();}});}},{key:"qs",value:function qs(){if(!1===this.fb&&!1===this.wb&&!1===this.vb&&!1===this.yb&&!1===this.kb&&!1===this.cb){var _t1429=this.Js.board,_e984=Ox(_t1429.outermostSelectedElements,_t1429.selectedTextRange).map(function(t){return zx(t);}).map(function(t){return t?Sx(t):null;}),_e985=_toArray(_e984),_i936=_e985[0],_s570=_e985.slice(1);if(_i936&&"point-light"===_i936.name){var _t1430=!1,_e986=!1,_n411=!1,_o322=!1,_l275=!1,_h209=!1,_a165=!1;var _iterator960=_createForOfIteratorHelper(_s570),_step960;try{for(_iterator960.s();!(_step960=_iterator960.n()).done;){var _r100=_step960.value;null!==_r100&&"point-light"===_r100.name&&(_r100.sourceX!==_i936.sourceX&&(_t1430=!0),_r100.sourceY!==_i936.sourceY&&(_e986=!0),_r100.sourceZ!==_i936.sourceZ&&(_n411=!0),_r100.specularExponent!==_i936.specularExponent&&(_o322=!0),_r100.specularConstant!==_i936.specularConstant&&(_l275=!0),_r100.diffuseConstant!==_i936.diffuseConstant&&(_h209=!0),_r100.ambientConstant!==_i936.ambientConstant&&(_a165=!0));}}catch(err){_iterator960.e(err);}finally{_iterator960.f();}this["#source-x-input"].mixed=_t1430,this["#source-x-input"].disabled=!1,this["#source-x-input"].value=X(100*_i936.sourceX,3),this["#source-y-input"].mixed=_e986,this["#source-y-input"].disabled=!1,this["#source-y-input"].value=X(100*_i936.sourceY,3),this["#source-z-input"].mixed=_n411,this["#source-z-input"].disabled=!1,this["#source-z-input"].value=X(100*_i936.sourceZ,3),this["#specular-exponent-input"].mixed=_o322,this["#specular-exponent-input"].disabled=!1,this["#specular-exponent-input"].value=_i936.specularExponent,this["#specular-exponent-slider"].disabled=!1,this["#specular-exponent-slider"].value=_i936.specularExponent,this["#specular-constant-input"].mixed=_l275,this["#specular-constant-input"].disabled=!1,this["#specular-constant-input"].value=_i936.specularConstant,this["#specular-constant-slider"].disabled=!1,this["#specular-constant-slider"].value=_i936.specularConstant,this["#diffuse-constant-input"].mixed=_h209,this["#diffuse-constant-input"].disabled=!1,this["#diffuse-constant-input"].value=_i936.diffuseConstant,this["#diffuse-constant-slider"].disabled=!1,this["#diffuse-constant-slider"].value=_i936.diffuseConstant,this["#ambient-constant-input"].mixed=_a165,this["#ambient-constant-input"].disabled=!1,this["#ambient-constant-input"].value=_i936.ambientConstant,this["#ambient-constant-slider"].disabled=!1,this["#ambient-constant-slider"].value=_i936.ambientConstant,this["#color-select"].disabled=!1,this["#color-select"].value=_i936.color;}else this["#source-x-input"].mixed=!1,this["#source-x-input"].disabled=!0,this["#source-x-input"].value=0,this["#source-y-input"].mixed=!1,this["#source-y-input"].disabled=!0,this["#source-y-input"].value=0,this["#source-z-input"].mixed=!1,this["#source-z-input"].disabled=!0,this["#source-z-input"].value=0,this["#specular-exponent-input"].mixed=!1,this["#specular-exponent-input"].disabled=!0,this["#specular-exponent-input"].value=0,this["#specular-exponent-slider"].disabled=!0,this["#specular-exponent-slider"].value=0,this["#specular-constant-input"].mixed=!1,this["#specular-constant-input"].disabled=!0,this["#specular-constant-input"].value=0,this["#specular-constant-slider"].disabled=!0,this["#specular-constant-slider"].value=0,this["#diffuse-constant-input"].mixed=!1,this["#diffuse-constant-input"].disabled=!0,this["#diffuse-constant-input"].value=0,this["#diffuse-constant-slider"].disabled=!0,this["#diffuse-constant-slider"].value=0,this["#ambient-constant-input"].mixed=!1,this["#ambient-constant-input"].disabled=!0,this["#ambient-constant-input"].value=0,this["#ambient-constant-slider"].disabled=!0,this["#ambient-constant-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="#ffffff";}}}]);return $x;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty($x,"_shadowTemplate",Hi(_templateObject274()));_defineProperty($x,"_shadowStyleSheet",Yi(_templateObject275()));customElements.define("bx-pointlightfilterinspector",$x);var Ix=/*#__PURE__*/function(_HTMLElement80){_inherits(Ix,_HTMLElement80);var _super108=_createSuper(Ix);function Ix(){var _this504;_classCallCheck(this,Ix);_this504=_super108.call(this),_this504.fb=!1,_this504.Db=!1,_this504.zb=!1,_this504.wb=!1,_this504.vb=!1,_this504.yb=!1,_this504.kb=!1,_this504.cb=!1,_this504.wa=qi(_this504.qs,200,_assertThisInitialized(_this504)),_this504._shadowRoot=_this504.attachShadow({mode:"closed"}),_this504._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Ix._shadowStyleSheet],_this504._shadowRoot.append(document.importNode(Ix._shadowTemplate.content,!0));var _iterator961=_createForOfIteratorHelper(_this504._shadowRoot.querySelectorAll("[id]")),_step961;try{for(_iterator961.s();!(_step961=_iterator961.n()).done;){var _t1431=_step961.value;_this504["#"+_t1431.id]=_t1431;}}catch(err){_iterator961.e(err);}finally{_iterator961.f();}_this504["#source-section"].addEventListener("changestart",function(t){return _this504.Sb(t);}),_this504["#target-section"].addEventListener("changestart",function(t){return _this504.Ob(t);}),_this504["#cone-angle-box"].addEventListener("changestart",function(t){return _this504.Eb(t);}),_this504["#specular-exponent-box"].addEventListener("changestart",function(t){return _this504._b(t);}),_this504["#specular-constant-box"].addEventListener("changestart",function(t){return _this504.Cb(t);}),_this504["#diffuse-constant-box"].addEventListener("changestart",function(t){return _this504.Mb(t);}),_this504["#ambient-constant-box"].addEventListener("changestart",function(t){return _this504.Pb(t);}),_this504["#color-select"].addEventListener("changestart",function(t){return _this504.bb(t);});return _this504;}_createClass(Ix,[{key:"connectedCallback",value:function connectedCallback(){var _this505=this;this.Js=Ti(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this505.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this505.wa();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Sb",value:function Sb(t){var _this506=this;var e,_i938;this.Js.board.undoManager.checkpoint("Spot light source position"),this.fb=!0;var _this$Js$board15=this.Js.board,s=_this$Js$board15.outermostSelectedElements,n=_this$Js$board15.selectedTextRange,_Ox29=Ox(s,n,!0),_Ox30=_slicedToArray(_Ox29,2),o=_Ox30[0],l=_Ox30[1],h=t.target.dataset.param;this["#source-section"].addEventListener("change",e=function e(t){var _iterator962=_createForOfIteratorHelper(o),_step962;try{for(_iterator962.s();!(_step962=_iterator962.n()).done;){var _t1432=_step962.value;var _e987=zx(_t1432),_i937=_e987?Sx(_e987):null;_i937&&"spot-light"===_i937.name&&("x"===h?_i937.sourceX=_this506["#source-x-input"].value/100:"y"===h?_i937.sourceY=_this506["#source-y-input"].value/100:"z"===h&&(_i937.sourceZ=_this506["#source-z-input"].value/100),_x(_e987,_i937,!0));}}catch(err){_iterator962.e(err);}finally{_iterator962.f();}}),this["#source-section"].addEventListener("changeend",_i938=function i(){_this506["#source-section"].removeEventListener("change",e),_this506["#source-section"].removeEventListener("changeend",_i938),_this506.fb=!1;var _iterator963=_createForOfIteratorHelper(l),_step963;try{for(_iterator963.s();!(_step963=_iterator963.n()).done;){var _t1433=_step963.value;ci(_t1433,n);}}catch(err){_iterator963.e(err);}finally{_iterator963.f();}});}},{key:"Ob",value:function Ob(t){var _this507=this;var e,_i940;this.Js.board.undoManager.checkpoint("Spot light target position"),this.Db=!0;var _this$Js$board16=this.Js.board,s=_this$Js$board16.outermostSelectedElements,n=_this$Js$board16.selectedTextRange,_Ox31=Ox(s,n,!0),_Ox32=_slicedToArray(_Ox31,2),o=_Ox32[0],l=_Ox32[1],h=t.target.dataset.param;this["#target-section"].addEventListener("change",e=function e(t){var _iterator964=_createForOfIteratorHelper(o),_step964;try{for(_iterator964.s();!(_step964=_iterator964.n()).done;){var _t1434=_step964.value;var _e988=zx(_t1434),_i939=_e988?Sx(_e988):null;_i939&&"spot-light"===_i939.name&&("x"===h?_i939.targetX=_this507["#target-x-input"].value/100:"y"===h?_i939.targetY=_this507["#target-y-input"].value/100:"z"===h&&(_i939.targetZ=_this507["#target-z-input"].value/100),_x(_e988,_i939,!0));}}catch(err){_iterator964.e(err);}finally{_iterator964.f();}}),this["#target-section"].addEventListener("changeend",_i940=function i(){_this507["#target-section"].removeEventListener("change",e),_this507["#target-section"].removeEventListener("changeend",_i940),_this507.Db=!1;var _iterator965=_createForOfIteratorHelper(l),_step965;try{for(_iterator965.s();!(_step965=_iterator965.n()).done;){var _t1435=_step965.value;ci(_t1435,n);}}catch(err){_iterator965.e(err);}finally{_iterator965.f();}});}},{key:"Eb",value:function Eb(t){var _this508=this;var e,_i942;this.Js.board.undoManager.checkpoint("Spot light cone angle"),this.zb=!0;var _this$Js$board17=this.Js.board,s=_this$Js$board17.outermostSelectedElements,n=_this$Js$board17.selectedTextRange,_Ox33=Ox(s,n,!0),_Ox34=_slicedToArray(_Ox33,2),o=_Ox34[0],l=_Ox34[1];this["#cone-angle-box"].addEventListener("change",e=function e(t){t.target===_this508["#cone-angle-slider"]?_this508["#cone-angle-input"].value=_this508["#cone-angle-slider"].value:t.target===_this508["#cone-angle-input"]&&(_this508["#cone-angle-slider"].value=_this508["#cone-angle-input"].value);var _iterator966=_createForOfIteratorHelper(o),_step966;try{for(_iterator966.s();!(_step966=_iterator966.n()).done;){var _t1436=_step966.value;var _e989=zx(_t1436),_i941=_e989?Sx(_e989):null;_i941&&"spot-light"===_i941.name&&(_i941.coneAngle=_this508["#cone-angle-input"].value,_x(_e989,_i941,!0));}}catch(err){_iterator966.e(err);}finally{_iterator966.f();}}),this["#cone-angle-box"].addEventListener("changeend",_i942=function i(){_this508["#cone-angle-box"].removeEventListener("change",e),_this508["#cone-angle-box"].removeEventListener("changeend",_i942),_this508.zb=!1;var _iterator967=_createForOfIteratorHelper(l),_step967;try{for(_iterator967.s();!(_step967=_iterator967.n()).done;){var _t1437=_step967.value;ci(_t1437,n);}}catch(err){_iterator967.e(err);}finally{_iterator967.f();}});}},{key:"_b",value:function _b(t){var _this509=this;var e,_i944;this.Js.board.undoManager.checkpoint("Spot light specular exponent"),this.wb=!0;var _this$Js$board18=this.Js.board,s=_this$Js$board18.outermostSelectedElements,n=_this$Js$board18.selectedTextRange,_Ox35=Ox(s,n,!0),_Ox36=_slicedToArray(_Ox35,2),o=_Ox36[0],l=_Ox36[1];this["#specular-exponent-box"].addEventListener("change",e=function e(t){t.target===_this509["#specular-exponent-slider"]?_this509["#specular-exponent-input"].value=_this509["#specular-exponent-slider"].value:t.target===_this509["#specular-exponent-input"]&&(_this509["#specular-exponent-slider"].value=_this509["#specular-exponent-input"].value);var _iterator968=_createForOfIteratorHelper(o),_step968;try{for(_iterator968.s();!(_step968=_iterator968.n()).done;){var _t1438=_step968.value;var _e990=zx(_t1438),_i943=_e990?Sx(_e990):null;_i943&&"spot-light"===_i943.name&&(_i943.specularExponent=_this509["#specular-exponent-input"].value,_x(_e990,_i943,!0));}}catch(err){_iterator968.e(err);}finally{_iterator968.f();}}),this["#specular-exponent-box"].addEventListener("changeend",_i944=function i(){_this509["#specular-exponent-box"].removeEventListener("change",e),_this509["#specular-exponent-box"].removeEventListener("changeend",_i944),_this509.wb=!1;var _iterator969=_createForOfIteratorHelper(l),_step969;try{for(_iterator969.s();!(_step969=_iterator969.n()).done;){var _t1439=_step969.value;ci(_t1439,n);}}catch(err){_iterator969.e(err);}finally{_iterator969.f();}});}},{key:"Cb",value:function Cb(t){var _this510=this;var e,_i946;this.Js.board.undoManager.checkpoint("Spot light specular constant"),this.vb=!0;var _this$Js$board19=this.Js.board,s=_this$Js$board19.outermostSelectedElements,n=_this$Js$board19.selectedTextRange,_Ox37=Ox(s,n,!0),_Ox38=_slicedToArray(_Ox37,2),o=_Ox38[0],l=_Ox38[1];this["#specular-constant-box"].addEventListener("change",e=function e(t){t.target===_this510["#specular-constant-slider"]?_this510["#specular-constant-input"].value=_this510["#specular-constant-slider"].value:t.target===_this510["#specular-constant-input"]&&(_this510["#specular-constant-slider"].value=_this510["#specular-constant-input"].value);var _iterator970=_createForOfIteratorHelper(o),_step970;try{for(_iterator970.s();!(_step970=_iterator970.n()).done;){var _t1440=_step970.value;var _e991=zx(_t1440),_i945=_e991?Sx(_e991):null;_i945&&"spot-light"===_i945.name&&(_i945.specularConstant=_this510["#specular-constant-input"].value,_x(_e991,_i945,!0));}}catch(err){_iterator970.e(err);}finally{_iterator970.f();}}),this["#specular-constant-box"].addEventListener("changeend",_i946=function i(){_this510["#specular-constant-box"].removeEventListener("change",e),_this510["#specular-constant-box"].removeEventListener("changeend",_i946),_this510.vb=!1;var _iterator971=_createForOfIteratorHelper(l),_step971;try{for(_iterator971.s();!(_step971=_iterator971.n()).done;){var _t1441=_step971.value;ci(_t1441,n);}}catch(err){_iterator971.e(err);}finally{_iterator971.f();}});}},{key:"Mb",value:function Mb(t){var _this511=this;var e,_i948;this.Js.board.undoManager.checkpoint("Spot light diffuse constant"),this.yb=!0;var _this$Js$board20=this.Js.board,s=_this$Js$board20.outermostSelectedElements,n=_this$Js$board20.selectedTextRange,_Ox39=Ox(s,n,!0),_Ox40=_slicedToArray(_Ox39,2),o=_Ox40[0],l=_Ox40[1];this["#diffuse-constant-box"].addEventListener("change",e=function e(t){t.target===_this511["#diffuse-constant-slider"]?_this511["#diffuse-constant-input"].value=_this511["#diffuse-constant-slider"].value:t.target===_this511["#diffuse-constant-input"]&&(_this511["#diffuse-constant-slider"].value=_this511["#diffuse-constant-input"].value);var _iterator972=_createForOfIteratorHelper(o),_step972;try{for(_iterator972.s();!(_step972=_iterator972.n()).done;){var _t1442=_step972.value;var _e992=zx(_t1442),_i947=_e992?Sx(_e992):null;_i947&&"spot-light"===_i947.name&&(_i947.diffuseConstant=_this511["#diffuse-constant-input"].value,_x(_e992,_i947,!0));}}catch(err){_iterator972.e(err);}finally{_iterator972.f();}}),this["#diffuse-constant-box"].addEventListener("changeend",_i948=function i(){_this511["#diffuse-constant-box"].removeEventListener("change",e),_this511["#diffuse-constant-box"].removeEventListener("changeend",_i948),_this511.yb=!1;var _iterator973=_createForOfIteratorHelper(l),_step973;try{for(_iterator973.s();!(_step973=_iterator973.n()).done;){var _t1443=_step973.value;ci(_t1443,n);}}catch(err){_iterator973.e(err);}finally{_iterator973.f();}});}},{key:"Pb",value:function Pb(t){var _this512=this;var e,_i950;this.Js.board.undoManager.checkpoint("Spot light ambient constant"),this.kb=!0;var _this$Js$board21=this.Js.board,s=_this$Js$board21.outermostSelectedElements,n=_this$Js$board21.selectedTextRange,_Ox41=Ox(s,n,!0),_Ox42=_slicedToArray(_Ox41,2),o=_Ox42[0],l=_Ox42[1];this["#ambient-constant-box"].addEventListener("change",e=function e(t){t.target===_this512["#ambient-constant-slider"]?_this512["#ambient-constant-input"].value=_this512["#ambient-constant-slider"].value:t.target===_this512["#ambient-constant-input"]&&(_this512["#ambient-constant-slider"].value=_this512["#ambient-constant-input"].value);var _iterator974=_createForOfIteratorHelper(o),_step974;try{for(_iterator974.s();!(_step974=_iterator974.n()).done;){var _t1444=_step974.value;var _e993=zx(_t1444),_i949=_e993?Sx(_e993):null;_i949&&"spot-light"===_i949.name&&(_i949.ambientConstant=_this512["#ambient-constant-input"].value,_x(_e993,_i949,!0));}}catch(err){_iterator974.e(err);}finally{_iterator974.f();}}),this["#ambient-constant-box"].addEventListener("changeend",_i950=function i(){_this512["#ambient-constant-box"].removeEventListener("change",e),_this512["#ambient-constant-box"].removeEventListener("changeend",_i950),_this512.kb=!1;var _iterator975=_createForOfIteratorHelper(l),_step975;try{for(_iterator975.s();!(_step975=_iterator975.n()).done;){var _t1445=_step975.value;ci(_t1445,n);}}catch(err){_iterator975.e(err);}finally{_iterator975.f();}});}},{key:"bb",value:function bb(){var _this513=this;var t,_e995;this.Js.board.undoManager.checkpoint("Spot light color"),this.cb=!0;var _this$Js$board22=this.Js.board,i=_this$Js$board22.outermostSelectedElements,s=_this$Js$board22.selectedTextRange,_Ox43=Ox(i,s,!0),_Ox44=_slicedToArray(_Ox43,2),n=_Ox44[0],o=_Ox44[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator976=_createForOfIteratorHelper(n),_step976;try{for(_iterator976.s();!(_step976=_iterator976.n()).done;){var _t1446=_step976.value;var _e994=zx(_t1446),_i951=_e994?Sx(_e994):null;_i951&&"spot-light"===_i951.name&&(_i951.color=_this513["#color-select"].value,_x(_e994,_i951,!0));}}catch(err){_iterator976.e(err);}finally{_iterator976.f();}}),this["#color-select"].addEventListener("changeend",_e995=function e(){_this513["#color-select"].removeEventListener("change",t),_this513["#color-select"].removeEventListener("changeend",_e995),_this513.cb=!1;var _iterator977=_createForOfIteratorHelper(o),_step977;try{for(_iterator977.s();!(_step977=_iterator977.n()).done;){var _t1447=_step977.value;ci(_t1447,s);}}catch(err){_iterator977.e(err);}finally{_iterator977.f();}});}},{key:"qs",value:function qs(){if(!1===this.fb&&!1===this.Db&&!1===this.zb&&!1===this.wb&&!1===this.vb&&!1===this.yb&&!1===this.kb&&!1===this.cb){var _t1448=this.Js.board,_e996=Ox(_t1448.outermostSelectedElements,_t1448.selectedTextRange).map(function(t){return zx(t);}).map(function(t){return t?Sx(t):null;}),_e997=_toArray(_e996),_i952=_e997[0],_s571=_e997.slice(1);if(_i952&&"spot-light"===_i952.name){var _t1449=!1,_e998=!1,_n412=!1,_o323=!1,_l276=!1,_h210=!1,_a166=!1,_r101=!1,_d79=!1,_c64=!1,_p53=!1;var _iterator978=_createForOfIteratorHelper(_s571),_step978;try{for(_iterator978.s();!(_step978=_iterator978.n()).done;){var _u44=_step978.value;null!==_u44&&"spot-light"===_u44.name&&(_u44.sourceX!==_i952.sourceX&&(_t1449=!0),_u44.sourceY!==_i952.sourceY&&(_e998=!0),_u44.sourceZ!==_i952.sourceZ&&(_n412=!0),_u44.targetX!==_i952.targetX&&(_o323=!0),_u44.targetY!==_i952.targetY&&(_l276=!0),_u44.targetZ!==_i952.targetZ&&(_h210=!0),_u44.coneAngle!==_i952.coneAngle&&(_a166=!0),_u44.specularExponent!==_i952.specularExponent&&(_r101=!0),_u44.specularConstant!==_i952.specularConstant&&(_d79=!0),_u44.diffuseConstant!==_i952.diffuseConstant&&(_c64=!0),_u44.ambientConstant!==_i952.ambientConstant&&(_p53=!0));}}catch(err){_iterator978.e(err);}finally{_iterator978.f();}this["#source-x-input"].mixed=_t1449,this["#source-x-input"].disabled=!1,this["#source-x-input"].value=X(100*_i952.sourceX,3),this["#source-y-input"].mixed=_e998,this["#source-y-input"].disabled=!1,this["#source-y-input"].value=X(100*_i952.sourceY,3),this["#source-z-input"].mixed=_n412,this["#source-z-input"].disabled=!1,this["#source-z-input"].value=X(100*_i952.sourceZ,3),this["#target-x-input"].mixed=_o323,this["#target-x-input"].disabled=!1,this["#target-x-input"].value=X(100*_i952.targetX,3),this["#target-y-input"].mixed=_l276,this["#target-y-input"].disabled=!1,this["#target-y-input"].value=X(100*_i952.targetY,3),this["#target-z-input"].mixed=_h210,this["#target-z-input"].disabled=!1,this["#target-z-input"].value=X(100*_i952.targetZ,3),this["#cone-angle-input"].mixed=_a166,this["#cone-angle-input"].disabled=!1,this["#cone-angle-input"].value=_i952.coneAngle,this["#cone-angle-slider"].disabled=!1,this["#cone-angle-slider"].value=_i952.coneAngle,this["#specular-exponent-input"].mixed=_r101,this["#specular-exponent-input"].disabled=!1,this["#specular-exponent-input"].value=_i952.specularExponent,this["#specular-exponent-slider"].disabled=!1,this["#specular-exponent-slider"].value=_i952.specularExponent,this["#specular-constant-input"].mixed=_d79,this["#specular-constant-input"].disabled=!1,this["#specular-constant-input"].value=_i952.specularConstant,this["#specular-constant-slider"].disabled=!1,this["#specular-constant-slider"].value=_i952.specularConstant,this["#diffuse-constant-input"].mixed=_c64,this["#diffuse-constant-input"].disabled=!1,this["#diffuse-constant-input"].value=_i952.diffuseConstant,this["#diffuse-constant-slider"].disabled=!1,this["#diffuse-constant-slider"].value=_i952.diffuseConstant,this["#ambient-constant-input"].mixed=_p53,this["#ambient-constant-input"].disabled=!1,this["#ambient-constant-input"].value=_i952.ambientConstant,this["#ambient-constant-slider"].disabled=!1,this["#ambient-constant-slider"].value=_i952.ambientConstant,this["#color-select"].disabled=!1,this["#color-select"].value=_i952.color;}else this["#source-x-input"].mixed=!1,this["#source-x-input"].disabled=!0,this["#source-x-input"].value=0,this["#source-y-input"].mixed=!1,this["#source-y-input"].disabled=!0,this["#source-y-input"].value=0,this["#source-z-input"].mixed=!1,this["#source-z-input"].disabled=!0,this["#source-z-input"].value=0,this["#target-x-input"].mixed=!1,this["#target-x-input"].disabled=!0,this["#target-x-input"].value=0,this["#target-y-input"].mixed=!1,this["#target-y-input"].disabled=!0,this["#target-y-input"].value=0,this["#target-z-input"].mixed=!1,this["#target-z-input"].disabled=!0,this["#target-z-input"].value=0,this["#cone-angle-input"].mixed=!1,this["#cone-angle-input"].disabled=!0,this["#cone-angle-input"].value=0,this["#cone-angle-slider"].disabled=!0,this["#cone-angle-slider"].value=0,this["#specular-exponent-input"].mixed=!1,this["#specular-exponent-input"].disabled=!0,this["#specular-exponent-input"].value=0,this["#specular-exponent-slider"].disabled=!0,this["#specular-exponent-slider"].value=0,this["#specular-constant-input"].mixed=!1,this["#specular-constant-input"].disabled=!0,this["#specular-constant-input"].value=0,this["#specular-constant-slider"].disabled=!0,this["#specular-constant-slider"].value=0,this["#diffuse-constant-input"].mixed=!1,this["#diffuse-constant-input"].disabled=!0,this["#diffuse-constant-input"].value=0,this["#diffuse-constant-slider"].disabled=!0,this["#diffuse-constant-slider"].value=0,this["#ambient-constant-input"].mixed=!1,this["#ambient-constant-input"].disabled=!0,this["#ambient-constant-input"].value=0,this["#ambient-constant-slider"].disabled=!0,this["#ambient-constant-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="#ffffff";}}}]);return Ix;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ix,"_shadowTemplate",Hi(_templateObject276()));_defineProperty(Ix,"_shadowStyleSheet",Yi(_templateObject277()));customElements.define("bx-spotlightfilterinspector",Ix);var Lx=/*#__PURE__*/function(_HTMLElement81){_inherits(Lx,_HTMLElement81);var _super109=_createSuper(Lx);function Lx(){var _this514;_classCallCheck(this,Lx);_this514=_super109.call(this),_this514.jx=!1,_this514.cb=!1,_this514.wa=qi(_this514.qs,200,_assertThisInitialized(_this514)),_this514._shadowRoot=_this514.attachShadow({mode:"closed"}),_this514._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Lx._shadowStyleSheet],_this514._shadowRoot.append(document.importNode(Lx._shadowTemplate.content,!0));var _iterator979=_createForOfIteratorHelper(_this514._shadowRoot.querySelectorAll("[id]")),_step979;try{for(_iterator979.s();!(_step979=_iterator979.n()).done;){var _t1450=_step979.value;_this514["#"+_t1450.id]=_t1450;}}catch(err){_iterator979.e(err);}finally{_iterator979.f();}_this514["#width-box"].addEventListener("changestart",function(){return _this514.qx(event);}),_this514["#color-select"].addEventListener("changestart",function(){return _this514.bb();});return _this514;}_createClass(Lx,[{key:"connectedCallback",value:function connectedCallback(){var _this515=this;this.Js=Ti(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this515.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this515.wa();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"qx",value:function qx(t){var _this516=this;var e,_i954;this.Js.board.undoManager.checkpoint("Outline width"),this.jx=!0;var _this$Js$board23=this.Js.board,s=_this$Js$board23.outermostSelectedElements,n=_this$Js$board23.selectedTextRange,_Ox45=Ox(s,n,!0),_Ox46=_slicedToArray(_Ox45,2),o=_Ox46[0],l=_Ox46[1];this["#width-box"].addEventListener("change",e=function e(t){t.target===_this516["#width-slider"]?_this516["#width-input"].value=_this516["#width-slider"].value:t.target===_this516["#width-input"]&&(_this516["#width-slider"].value=_this516["#width-input"].value);var _iterator980=_createForOfIteratorHelper(o),_step980;try{for(_iterator980.s();!(_step980=_iterator980.n()).done;){var _t1451=_step980.value;var _e999=zx(_t1451),_i953=_e999?Sx(_e999):null;_i953&&"outline"===_i953.name&&(_i953.width=_this516["#width-input"].value,_x(_e999,_i953,!0));}}catch(err){_iterator980.e(err);}finally{_iterator980.f();}}),this["#width-box"].addEventListener("changeend",_i954=function i(){_this516["#width-box"].removeEventListener("change",e),_this516["#width-box"].removeEventListener("changeend",_i954),_this516.jx=!1;var _iterator981=_createForOfIteratorHelper(l),_step981;try{for(_iterator981.s();!(_step981=_iterator981.n()).done;){var _t1452=_step981.value;ci(_t1452,n);}}catch(err){_iterator981.e(err);}finally{_iterator981.f();}});}},{key:"bb",value:function bb(){var _this517=this;var t,_e1001;this.Js.board.undoManager.checkpoint("Outline color"),this.cb=!0;var _this$Js$board24=this.Js.board,i=_this$Js$board24.outermostSelectedElements,s=_this$Js$board24.selectedTextRange,_Ox47=Ox(i,s,!0),_Ox48=_slicedToArray(_Ox47,2),n=_Ox48[0],o=_Ox48[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator982=_createForOfIteratorHelper(n),_step982;try{for(_iterator982.s();!(_step982=_iterator982.n()).done;){var _t1453=_step982.value;var _e1000=zx(_t1453),_i955=_e1000?Sx(_e1000):null;_i955&&"outline"===_i955.name&&(_i955.color=_this517["#color-select"].value,_x(_e1000,_i955,!0));}}catch(err){_iterator982.e(err);}finally{_iterator982.f();}}),this["#color-select"].addEventListener("changeend",_e1001=function e(){_this517["#color-select"].removeEventListener("change",t),_this517["#color-select"].removeEventListener("changeend",_e1001),_this517.cb=!1;var _iterator983=_createForOfIteratorHelper(o),_step983;try{for(_iterator983.s();!(_step983=_iterator983.n()).done;){var _t1454=_step983.value;ci(_t1454,s);}}catch(err){_iterator983.e(err);}finally{_iterator983.f();}});}},{key:"qs",value:function qs(){if(!this.jx&&!this.cb){var _t1455=this.Js.board,_e1002=Ox(_t1455.outermostSelectedElements,_t1455.selectedTextRange).map(function(t){return zx(t);}).map(function(t){return t?Sx(t):null;}),_e1003=_toArray(_e1002),_i956=_e1003[0],_s572=_e1003.slice(1);if(_i956&&"outline"===_i956.name){var _t1456=!1;var _iterator984=_createForOfIteratorHelper(_s572),_step984;try{for(_iterator984.s();!(_step984=_iterator984.n()).done;){var _e1004=_step984.value;null!==_e1004&&"outline"===_e1004.name&&_e1004.width!==_i956.width&&(_t1456=!0);}}catch(err){_iterator984.e(err);}finally{_iterator984.f();}this["#width-input"].mixed=_t1456,this["#width-input"].disabled=!1,this["#width-input"].value=_i956.width,this["#width-slider"].disabled=!1,this["#width-slider"].value=_i956.width,this["#color-select"].disabled=!1,this["#color-select"].value=_i956.color;}else this["#width-input"].mixed=!1,this["#width-input"].disabled=!0,this["#width-input"].value=0,this["#width-slider"].disabled=!0,this["#width-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="rgba(0,0,0,0)";}}}]);return Lx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Lx,"_shadowTemplate",Hi(_templateObject278()));_defineProperty(Lx,"_shadowStyleSheet",Yi(_templateObject279()));customElements.define("bx-outlinefilterinspector",Lx);var Bx=/*#__PURE__*/function(_HTMLElement82){_inherits(Bx,_HTMLElement82);var _super110=_createSuper(Bx);function Bx(){var _this518;_classCallCheck(this,Bx);_this518=_super110.call(this),_this518.Tb=!1,_this518.wa=qi(_this518.qs,200,_assertThisInitialized(_this518)),_this518._shadowRoot=_this518.attachShadow({mode:"closed"}),_this518._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Bx._shadowStyleSheet],_this518._shadowRoot.append(document.importNode(Bx._shadowTemplate.content,!0));var _iterator985=_createForOfIteratorHelper(_this518._shadowRoot.querySelectorAll("[id]")),_step985;try{for(_iterator985.s();!(_step985=_iterator985.n()).done;){var _t1457=_step985.value;_this518["#"+_t1457.id]=_t1457;}}catch(err){_iterator985.e(err);}finally{_iterator985.f();}_this518["#radius-box"].addEventListener("changestart",function(){return _this518.Ab(event);});return _this518;}_createClass(Bx,[{key:"connectedCallback",value:function connectedCallback(){var _this519=this;this.Js=Ti(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this519.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this519.wa();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Ab",value:function Ab(t){var _this520=this;var e,_i958;this.Js.board.undoManager.checkpoint("Gaussian blur radius"),this.Tb=!0;var _this$Js$board25=this.Js.board,s=_this$Js$board25.outermostSelectedElements,n=_this$Js$board25.selectedTextRange,_Ox49=Ox(s,n,!0),_Ox50=_slicedToArray(_Ox49,2),o=_Ox50[0],l=_Ox50[1];this["#radius-box"].addEventListener("change",e=function e(t){t.target===_this520["#radius-slider"]?_this520["#radius-input"].value=_this520["#radius-slider"].value:t.target===_this520["#radius-input"]&&(_this520["#radius-slider"].value=_this520["#radius-input"].value);var _iterator986=_createForOfIteratorHelper(o),_step986;try{for(_iterator986.s();!(_step986=_iterator986.n()).done;){var _t1458=_step986.value;var _e1005=zx(_t1458),_i957=_e1005?Sx(_e1005):null;_i957&&"gaussian-blur"===_i957.name&&(_i957.radius=_this520["#radius-input"].value,_x(_e1005,_i957,!0));}}catch(err){_iterator986.e(err);}finally{_iterator986.f();}}),this["#radius-box"].addEventListener("changeend",_i958=function i(){_this520["#radius-box"].removeEventListener("change",e),_this520["#radius-box"].removeEventListener("changeend",_i958),_this520.Tb=!1;var _iterator987=_createForOfIteratorHelper(l),_step987;try{for(_iterator987.s();!(_step987=_iterator987.n()).done;){var _t1459=_step987.value;ci(_t1459,n);}}catch(err){_iterator987.e(err);}finally{_iterator987.f();}});}},{key:"qs",value:function qs(){if(!1===this.Tb){var _t1460=this.Js.board,_e1006=Ox(_t1460.outermostSelectedElements,_t1460.selectedTextRange).map(function(t){return zx(t);}).map(function(t){return t?Sx(t):null;}),_e1007=_toArray(_e1006),_i959=_e1007[0],_s573=_e1007.slice(1);if(_i959&&"gaussian-blur"===_i959.name){var _t1461=!1;var _iterator988=_createForOfIteratorHelper(_s573),_step988;try{for(_iterator988.s();!(_step988=_iterator988.n()).done;){var _e1008=_step988.value;null!==_e1008&&"gaussian-blur"===_e1008.name&&_e1008.radius!==_i959.radius&&(_t1461=!0);}}catch(err){_iterator988.e(err);}finally{_iterator988.f();}this["#radius-input"].mixed=_t1461,this["#radius-input"].disabled=!1,this["#radius-input"].value=_i959.radius,this["#radius-slider"].disabled=!1,this["#radius-slider"].value=_i959.radius;}else this["#radius-input"].mixed=!1,this["#radius-input"].disabled=!0,this["#radius-input"].value=0,this["#radius-slider"].disabled=!0,this["#radius-slider"].value=0;}}}]);return Bx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Bx,"_shadowTemplate",Hi(_templateObject280()));_defineProperty(Bx,"_shadowStyleSheet",Yi(_templateObject281()));customElements.define("bx-gaussianblurfilterinspector",Bx);var Rx=/*#__PURE__*/function(_HTMLElement83){_inherits(Rx,_HTMLElement83);var _super111=_createSuper(Rx);function Rx(){var _this521;_classCallCheck(this,Rx);_this521=_super111.call(this),_this521.$b=!1,_this521.wa=qi(_this521.qs,200,_assertThisInitialized(_this521)),_this521._shadowRoot=_this521.attachShadow({mode:"closed"}),_this521._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Rx._shadowStyleSheet],_this521._shadowRoot.append(document.importNode(Rx._shadowTemplate.content,!0));var _iterator989=_createForOfIteratorHelper(_this521._shadowRoot.querySelectorAll("[id]")),_step989;try{for(_iterator989.s();!(_step989=_iterator989.n()).done;){var _t1462=_step989.value;_this521["#"+_t1462.id]=_t1462;}}catch(err){_iterator989.e(err);}finally{_iterator989.f();}_this521["#orientation-buttons"].addEventListener("toggle",function(){return _this521.Ib();}),_this521["#distance-box"].addEventListener("changestart",function(){return _this521.Lb(event);});return _this521;}_createClass(Rx,[{key:"connectedCallback",value:function connectedCallback(){var _this522=this;this.Js=Ti(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this522.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this522.wa();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Ib",value:function Ib(){this.Js.board.undoManager.checkpoint("Motion blur orientation");var _this$Js$board26=this.Js.board,t=_this$Js$board26.outermostSelectedElements,e=_this$Js$board26.selectedTextRange,_Ox51=Ox(t,e,!0),_Ox52=_slicedToArray(_Ox51,2),i=_Ox52[0],s=_Ox52[1];var _iterator990=_createForOfIteratorHelper(i),_step990;try{for(_iterator990.s();!(_step990=_iterator990.n()).done;){var _t1463=_step990.value;var _e1009=zx(_t1463),_i960=_e1009?Sx(_e1009):null;_i960&&"motion-blur"===_i960.name&&(_i960.orientation=this["#orientation-buttons"].value,_x(_e1009,_i960,!0));}}catch(err){_iterator990.e(err);}finally{_iterator990.f();}var _iterator991=_createForOfIteratorHelper(s),_step991;try{for(_iterator991.s();!(_step991=_iterator991.n()).done;){var _t1464=_step991.value;ci(_t1464,e);}}catch(err){_iterator991.e(err);}finally{_iterator991.f();}}},{key:"Lb",value:function Lb(t){var _this523=this;var e,_i962;this.Js.board.undoManager.checkpoint("Motion blur distance"),this.$b=!0;var _this$Js$board27=this.Js.board,s=_this$Js$board27.outermostSelectedElements,n=_this$Js$board27.selectedTextRange,_Ox53=Ox(s,n,!0),_Ox54=_slicedToArray(_Ox53,2),o=_Ox54[0],l=_Ox54[1];this["#distance-box"].addEventListener("change",e=function e(t){t.target===_this523["#distance-slider"]?_this523["#distance-input"].value=_this523["#distance-slider"].value:t.target===_this523["#distance-input"]&&(_this523["#distance-slider"].value=_this523["#distance-input"].value);var _iterator992=_createForOfIteratorHelper(o),_step992;try{for(_iterator992.s();!(_step992=_iterator992.n()).done;){var _t1465=_step992.value;var _e1010=zx(_t1465),_i961=_e1010?Sx(_e1010):null;_i961&&"motion-blur"===_i961.name&&(_i961.distance=_this523["#distance-input"].value,_x(_e1010,_i961,!0));}}catch(err){_iterator992.e(err);}finally{_iterator992.f();}}),this["#distance-box"].addEventListener("changeend",_i962=function i(){_this523["#distance-box"].removeEventListener("change",e),_this523["#distance-box"].removeEventListener("changeend",_i962),_this523.$b=!1;var _iterator993=_createForOfIteratorHelper(l),_step993;try{for(_iterator993.s();!(_step993=_iterator993.n()).done;){var _t1466=_step993.value;ci(_t1466,n);}}catch(err){_iterator993.e(err);}finally{_iterator993.f();}});}},{key:"qs",value:function qs(){if(!1===this.$b){var _t1467=this.Js.board,_e1011=Ox(_t1467.outermostSelectedElements,_t1467.selectedTextRange).map(function(t){return zx(t);}).map(function(t){return t?Sx(t):null;}),_e1012=_toArray(_e1011),_i963=_e1012[0],_s574=_e1012.slice(1);if(_i963&&"motion-blur"===_i963.name){var _t1468=!1;var _iterator994=_createForOfIteratorHelper(_s574),_step994;try{for(_iterator994.s();!(_step994=_iterator994.n()).done;){var _e1013=_step994.value;null!==_e1013&&"motion-blur"===_e1013.name&&_e1013.distance!==_i963.distance&&(_t1468=!0);}}catch(err){_iterator994.e(err);}finally{_iterator994.f();}this["#orientation-buttons"].value=_i963.orientation,this["#distance-input"].mixed=_t1468,this["#distance-input"].disabled=!1,this["#distance-input"].value=_i963.distance,this["#distance-slider"].disabled=!1,this["#distance-slider"].value=_i963.distance;}else this["#distance-input"].mixed=!1,this["#distance-input"].disabled=!0,this["#distance-input"].value=0,this["#distance-slider"].disabled=!0,this["#distance-slider"].value=0;}}}]);return Rx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Rx,"_shadowTemplate",Hi(_templateObject282()));_defineProperty(Rx,"_shadowStyleSheet",Yi(_templateObject283()));customElements.define("bx-motionblurfilterinspector",Rx);var Gx=/*#__PURE__*/function(_HTMLElement84){_inherits(Gx,_HTMLElement84);var _super112=_createSuper(Gx);function Gx(){var _this524;_classCallCheck(this,Gx);_this524=_super112.call(this),_this524.wa=qi(_this524.qs,200,_assertThisInitialized(_this524)),_this524.Bb=!1,_this524.Rb=!1,_this524._shadowRoot=_this524.attachShadow({mode:"closed"}),_this524._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Gx._shadowStyleSheet],_this524._shadowRoot.append(document.importNode(Gx._shadowTemplate.content,!0));var _iterator995=_createForOfIteratorHelper(_this524._shadowRoot.querySelectorAll("[id]")),_step995;try{for(_iterator995.s();!(_step995=_iterator995.n()).done;){var _t1469=_step995.value;_this524["#"+_t1469.id]=_t1469;}}catch(err){_iterator995.e(err);}finally{_iterator995.f();}_this524["#amount-box"].addEventListener("changestart",function(){return _this524.Gb(event);}),_this524["#frequency-box"].addEventListener("changestart",function(){return _this524.Fb(event);});return _this524;}_createClass(Gx,[{key:"connectedCallback",value:function connectedCallback(){var _this525=this;this.Js=Ti(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this525.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this525.wa();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Gb",value:function Gb(t){var _this526=this;var e,_i965;this.Js.board.undoManager.checkpoint("Warp amount"),this.Bb=!0;var _this$Js$board28=this.Js.board,s=_this$Js$board28.outermostSelectedElements,n=_this$Js$board28.selectedTextRange,_Ox55=Ox(s,n,!0),_Ox56=_slicedToArray(_Ox55,2),o=_Ox56[0],l=_Ox56[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this526["#amount-slider"]?_this526["#amount-input"].value=_this526["#amount-slider"].value:t.target===_this526["#amount-input"]&&(_this526["#amount-slider"].value=_this526["#amount-input"].value);var _iterator996=_createForOfIteratorHelper(o),_step996;try{for(_iterator996.s();!(_step996=_iterator996.n()).done;){var _t1470=_step996.value;var _e1014=zx(_t1470),_i964=_e1014?Sx(_e1014):null;_i964&&"warp"===_i964.name&&(_i964.amount=_this526["#amount-input"].value,_x(_e1014,_i964,!0));}}catch(err){_iterator996.e(err);}finally{_iterator996.f();}}),this["#amount-box"].addEventListener("changeend",_i965=function i(){_this526["#amount-box"].removeEventListener("change",e),_this526["#amount-box"].removeEventListener("changeend",_i965),_this526.Bb=!1;var _iterator997=_createForOfIteratorHelper(l),_step997;try{for(_iterator997.s();!(_step997=_iterator997.n()).done;){var _t1471=_step997.value;ci(_t1471,n);}}catch(err){_iterator997.e(err);}finally{_iterator997.f();}});}},{key:"Fb",value:function Fb(t){var _this527=this;var e,_i967;this.Js.board.undoManager.checkpoint("Warp frequency"),this.Rb=!0;var _this$Js$board29=this.Js.board,s=_this$Js$board29.outermostSelectedElements,n=_this$Js$board29.selectedTextRange,_Ox57=Ox(s,n,!0),_Ox58=_slicedToArray(_Ox57,2),o=_Ox58[0],l=_Ox58[1];this["#frequency-box"].addEventListener("change",e=function e(t){t.target===_this527["#frequency-slider"]?_this527["#frequency-input"].value=_this527["#frequency-slider"].value:t.target===_this527["#frequency-input"]&&(_this527["#frequency-slider"].value=_this527["#frequency-input"].value);var _iterator998=_createForOfIteratorHelper(o),_step998;try{for(_iterator998.s();!(_step998=_iterator998.n()).done;){var _t1472=_step998.value;var _e1015=zx(_t1472),_i966=_e1015?Sx(_e1015):null;_i966&&"warp"===_i966.name&&(_i966.frequency=_this527["#frequency-input"].value,_x(_e1015,_i966,!0));}}catch(err){_iterator998.e(err);}finally{_iterator998.f();}}),this["#frequency-box"].addEventListener("changeend",_i967=function i(){_this527["#frequency-box"].removeEventListener("change",e),_this527["#frequency-box"].removeEventListener("changeend",_i967),_this527.Rb=!1;var _iterator999=_createForOfIteratorHelper(l),_step999;try{for(_iterator999.s();!(_step999=_iterator999.n()).done;){var _t1473=_step999.value;ci(_t1473,n);}}catch(err){_iterator999.e(err);}finally{_iterator999.f();}});}},{key:"qs",value:function qs(){if(!1===this.Bb&&!1===this.Rb){var _t1474=this.Js.board,_e1016=Ox(_t1474.outermostSelectedElements,_t1474.selectedTextRange).map(function(t){return zx(t);}).map(function(t){return t?Sx(t):null;}),_e1017=_toArray(_e1016),_i968=_e1017[0],_s575=_e1017.slice(1);if(_i968&&"warp"===_i968.name){var _t1475=!1;var _iterator1000=_createForOfIteratorHelper(_s575),_step1000;try{for(_iterator1000.s();!(_step1000=_iterator1000.n()).done;){var _e1018=_step1000.value;null!==_e1018&&"warp"===_e1018.name&&(_e1018.amount!==_i968.amount&&(_t1475=!0),_e1018.frequency,_i968.frequency);}}catch(err){_iterator1000.e(err);}finally{_iterator1000.f();}this["#amount-input"].mixed=_t1475,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i968.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i968.amount,this["#frequency-input"].mixed=_t1475,this["#frequency-input"].disabled=!1,this["#frequency-input"].value=_i968.frequency,this["#frequency-slider"].disabled=!1,this["#frequency-slider"].value=_i968.frequency;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0,this["#frequency-input"].mixed=!1,this["#frequency-input"].disabled=!0,this["#frequency-input"].value=0,this["#frequency-slider"].disabled=!0,this["#frequency-slider"].value=0;}}}]);return Gx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Gx,"_shadowTemplate",Hi(_templateObject284()));_defineProperty(Gx,"_shadowStyleSheet",Yi(_templateObject285()));customElements.define("bx-warpfilterinspector",Gx);var Fx=/*#__PURE__*/function(_HTMLElement85){_inherits(Fx,_HTMLElement85);var _super113=_createSuper(Fx);function Fx(){var _this528;_classCallCheck(this,Fx);_this528=_super113.call(this),_this528.Ub=!1,_this528.wa=qi(_this528.qs,200,_assertThisInitialized(_this528)),_this528._shadowRoot=_this528.attachShadow({mode:"closed"}),_this528._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Fx._shadowStyleSheet],_this528._shadowRoot.append(document.importNode(Fx._shadowTemplate.content,!0));var _iterator1001=_createForOfIteratorHelper(_this528._shadowRoot.querySelectorAll("[id]")),_step1001;try{for(_iterator1001.s();!(_step1001=_iterator1001.n()).done;){var _t1476=_step1001.value;_this528["#"+_t1476.id]=_t1476;}}catch(err){_iterator1001.e(err);}finally{_iterator1001.f();}_this528["#pixel-size-box"].addEventListener("changestart",function(){return _this528.Nb(event);});return _this528;}_createClass(Fx,[{key:"connectedCallback",value:function connectedCallback(){var _this529=this;this.Js=Ti(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this529.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this529.wa();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Nb",value:function Nb(t){var _this530=this;var e,_i970;this.Js.board.undoManager.checkpoint("Pixelete pixel size"),this.Ub=!0;var _this$Js$board30=this.Js.board,s=_this$Js$board30.outermostSelectedElements,n=_this$Js$board30.selectedTextRange,_Ox59=Ox(s,n,!0),_Ox60=_slicedToArray(_Ox59,2),o=_Ox60[0],l=_Ox60[1];this["#pixel-size-box"].addEventListener("change",e=function e(t){t.target===_this530["#pixel-size-slider"]?_this530["#pixel-size-input"].value=_this530["#pixel-size-slider"].value:t.target===_this530["#pixel-size-input"]&&(_this530["#pixel-size-slider"].value=_this530["#pixel-size-input"].value);var _iterator1002=_createForOfIteratorHelper(o),_step1002;try{for(_iterator1002.s();!(_step1002=_iterator1002.n()).done;){var _t1477=_step1002.value;var _e1019=zx(_t1477),_i969=_e1019?Sx(_e1019):null;_i969&&"pixelete"===_i969.name&&(_i969.pixelSize=_this530["#pixel-size-input"].value,_x(_e1019,_i969,!0));}}catch(err){_iterator1002.e(err);}finally{_iterator1002.f();}}),this["#pixel-size-box"].addEventListener("changeend",_i970=function i(){_this530["#pixel-size-box"].removeEventListener("change",e),_this530["#pixel-size-box"].removeEventListener("changeend",_i970),_this530.Ub=!1;var _iterator1003=_createForOfIteratorHelper(l),_step1003;try{for(_iterator1003.s();!(_step1003=_iterator1003.n()).done;){var _t1478=_step1003.value;ci(_t1478,n);}}catch(err){_iterator1003.e(err);}finally{_iterator1003.f();}});}},{key:"qs",value:function qs(){if(!1===this.Ub){var _t1479=this.Js.board,_e1020=Ox(_t1479.outermostSelectedElements,_t1479.selectedTextRange).map(function(t){return zx(t);}).map(function(t){return t?Sx(t):null;}),_e1021=_toArray(_e1020),_i971=_e1021[0],_s576=_e1021.slice(1);if(_i971&&"pixelete"===_i971.name){var _t1480=!1;var _iterator1004=_createForOfIteratorHelper(_s576),_step1004;try{for(_iterator1004.s();!(_step1004=_iterator1004.n()).done;){var _e1022=_step1004.value;null!==_e1022&&"pixelete"===_e1022.name&&_e1022.pixelSize!==_i971.pixelSize&&(_t1480=!0);}}catch(err){_iterator1004.e(err);}finally{_iterator1004.f();}this["#pixel-size-input"].mixed=_t1480,this["#pixel-size-input"].disabled=!1,this["#pixel-size-input"].value=_i971.pixelSize,this["#pixel-size-slider"].disabled=!1,this["#pixel-size-slider"].value=_i971.pixelSize;}else this["#pixel-size-input"].mixed=!1,this["#pixel-size-input"].disabled=!0,this["#pixel-size-input"].value=0,this["#pixel-size-slider"].disabled=!0,this["#pixel-size-slider"].value=0;}}}]);return Fx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Fx,"_shadowTemplate",Hi(_templateObject286()));_defineProperty(Fx,"_shadowStyleSheet",Yi(_templateObject287()));customElements.define("bx-pixeletefilterinspector",Fx);var Ux=/*#__PURE__*/function(_HTMLElement86){_inherits(Ux,_HTMLElement86);var _super114=_createSuper(Ux);function Ux(){var _this531;_classCallCheck(this,Ux);_this531=_super114.call(this),_this531.Tb=!1,_this531.wa=qi(_this531.qs,200,_assertThisInitialized(_this531)),_this531._shadowRoot=_this531.attachShadow({mode:"closed"}),_this531._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Ux._shadowStyleSheet],_this531._shadowRoot.append(document.importNode(Ux._shadowTemplate.content,!0));var _iterator1005=_createForOfIteratorHelper(_this531._shadowRoot.querySelectorAll("[id]")),_step1005;try{for(_iterator1005.s();!(_step1005=_iterator1005.n()).done;){var _t1481=_step1005.value;_this531["#"+_t1481.id]=_t1481;}}catch(err){_iterator1005.e(err);}finally{_iterator1005.f();}_this531["#operator-buttons"].addEventListener("toggle",function(){return _this531.Vb();}),_this531["#radius-box"].addEventListener("changestart",function(){return _this531.Ab(event);});return _this531;}_createClass(Ux,[{key:"connectedCallback",value:function connectedCallback(){var _this532=this;this.Js=Ti(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this532.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this532.wa();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Vb",value:function Vb(){this.Js.board.undoManager.checkpoint("Morphology operator");var _this$Js$board31=this.Js.board,t=_this$Js$board31.outermostSelectedElements,e=_this$Js$board31.selectedTextRange,_Ox61=Ox(t,e,!0),_Ox62=_slicedToArray(_Ox61,2),i=_Ox62[0],s=_Ox62[1];var _iterator1006=_createForOfIteratorHelper(i),_step1006;try{for(_iterator1006.s();!(_step1006=_iterator1006.n()).done;){var _t1482=_step1006.value;var _e1023=zx(_t1482),_i972=_e1023?Sx(_e1023):null;_i972&&"morphology"===_i972.name&&(_i972.operator=this["#operator-buttons"].value,_x(_e1023,_i972,!0));}}catch(err){_iterator1006.e(err);}finally{_iterator1006.f();}var _iterator1007=_createForOfIteratorHelper(s),_step1007;try{for(_iterator1007.s();!(_step1007=_iterator1007.n()).done;){var _t1483=_step1007.value;ci(_t1483,e);}}catch(err){_iterator1007.e(err);}finally{_iterator1007.f();}}},{key:"Ab",value:function Ab(t){var _this533=this;var e,_i974;this.Js.board.undoManager.checkpoint("Morphology radius"),this.Tb=!0;var _this$Js$board32=this.Js.board,s=_this$Js$board32.outermostSelectedElements,n=_this$Js$board32.selectedTextRange,_Ox63=Ox(s,n,!0),_Ox64=_slicedToArray(_Ox63,2),o=_Ox64[0],l=_Ox64[1];this["#radius-box"].addEventListener("change",e=function e(t){t.target===_this533["#radius-slider"]?_this533["#radius-input"].value=_this533["#radius-slider"].value:t.target===_this533["#radius-input"]&&(_this533["#radius-slider"].value=_this533["#radius-input"].value);var _iterator1008=_createForOfIteratorHelper(o),_step1008;try{for(_iterator1008.s();!(_step1008=_iterator1008.n()).done;){var _t1484=_step1008.value;var _e1024=zx(_t1484),_i973=_e1024?Sx(_e1024):null;_i973&&"morphology"===_i973.name&&(_i973.radius=_this533["#radius-input"].value,_x(_e1024,_i973,!0));}}catch(err){_iterator1008.e(err);}finally{_iterator1008.f();}}),this["#radius-box"].addEventListener("changeend",_i974=function i(){_this533["#radius-box"].removeEventListener("change",e),_this533["#radius-box"].removeEventListener("changeend",_i974),_this533.Tb=!1;var _iterator1009=_createForOfIteratorHelper(l),_step1009;try{for(_iterator1009.s();!(_step1009=_iterator1009.n()).done;){var _t1485=_step1009.value;ci(_t1485,n);}}catch(err){_iterator1009.e(err);}finally{_iterator1009.f();}});}},{key:"qs",value:function qs(){if(!1===this.Tb){var _t1486=this.Js.board,_e1025=Ox(_t1486.outermostSelectedElements,_t1486.selectedTextRange).map(function(t){return zx(t);}).map(function(t){return t?Sx(t):null;}),_e1026=_toArray(_e1025),_i975=_e1026[0],_s577=_e1026.slice(1);if(_i975&&"morphology"===_i975.name){var _t1487=!1;var _iterator1010=_createForOfIteratorHelper(_s577),_step1010;try{for(_iterator1010.s();!(_step1010=_iterator1010.n()).done;){var _e1027=_step1010.value;null!==_e1027&&"morphology"===_e1027.name&&_e1027.radius!==_i975.radius&&(_t1487=!0);}}catch(err){_iterator1010.e(err);}finally{_iterator1010.f();}this["#operator-buttons"].value=_i975.operator,this["#radius-input"].mixed=_t1487,this["#radius-input"].disabled=!1,this["#radius-input"].value=_i975.radius,this["#radius-slider"].disabled=!1,this["#radius-slider"].value=_i975.radius;}else this["#radius-input"].mixed=!1,this["#radius-input"].disabled=!0,this["#radius-input"].value=0,this["#radius-slider"].disabled=!0,this["#radius-slider"].value=0;}}}]);return Ux;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ux,"_shadowTemplate",Hi(_templateObject288()));_defineProperty(Ux,"_shadowStyleSheet",Yi(_templateObject289()));customElements.define("bx-morphologyfilterinspector",Ux);var Nx=/*#__PURE__*/function(_HTMLElement87){_inherits(Nx,_HTMLElement87);var _super115=_createSuper(Nx);function Nx(){var _this534;_classCallCheck(this,Nx);_this534=_super115.call(this),_this534.jb=!1,_this534.wa=qi(_this534.qs,200,_assertThisInitialized(_this534)),_this534._shadowRoot=_this534.attachShadow({mode:"closed"}),_this534._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Nx._shadowStyleSheet],_this534._shadowRoot.append(document.importNode(Nx._shadowTemplate.content,!0));var _iterator1011=_createForOfIteratorHelper(_this534._shadowRoot.querySelectorAll("[id]")),_step1011;try{for(_iterator1011.s();!(_step1011=_iterator1011.n()).done;){var _t1488=_step1011.value;_this534["#"+_t1488.id]=_t1488;}}catch(err){_iterator1011.e(err);}finally{_iterator1011.f();}_this534["#balance-box"].addEventListener("changestart",function(){return _this534.Hb(event);});return _this534;}_createClass(Nx,[{key:"connectedCallback",value:function connectedCallback(){var _this535=this;this.Js=Ti(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this535.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this535.wa();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Hb",value:function Hb(t){var _this536=this;var e,_i977;this.Js.board.undoManager.checkpoint("Black and white balance"),this.jb=!0;var _this$Js$board33=this.Js.board,s=_this$Js$board33.outermostSelectedElements,n=_this$Js$board33.selectedTextRange,_Ox65=Ox(s,n,!0),_Ox66=_slicedToArray(_Ox65,2),o=_Ox66[0],l=_Ox66[1];this["#balance-box"].addEventListener("change",e=function e(t){t.target===_this536["#balance-slider"]?_this536["#balance-input"].value=_this536["#balance-slider"].value:t.target===_this536["#balance-input"]&&(_this536["#balance-slider"].value=_this536["#balance-input"].value);var _iterator1012=_createForOfIteratorHelper(o),_step1012;try{for(_iterator1012.s();!(_step1012=_iterator1012.n()).done;){var _t1489=_step1012.value;var _e1028=zx(_t1489),_i976=_e1028?Sx(_e1028):null;_i976&&"black-and-white"===_i976.name&&(_i976.balance=_this536["#balance-input"].value,_x(_e1028,_i976,!0));}}catch(err){_iterator1012.e(err);}finally{_iterator1012.f();}}),this["#balance-box"].addEventListener("changeend",_i977=function i(){_this536["#balance-box"].removeEventListener("change",e),_this536["#balance-box"].removeEventListener("changeend",_i977),_this536.jb=!1;var _iterator1013=_createForOfIteratorHelper(l),_step1013;try{for(_iterator1013.s();!(_step1013=_iterator1013.n()).done;){var _t1490=_step1013.value;ci(_t1490,n);}}catch(err){_iterator1013.e(err);}finally{_iterator1013.f();}});}},{key:"qs",value:function qs(){if(!1===this.jb){var _t1491=this.Js.board,_e1029=Ox(_t1491.outermostSelectedElements,_t1491.selectedTextRange).map(function(t){return zx(t);}).map(function(t){return t?Sx(t):null;}),_e1030=_toArray(_e1029),_i978=_e1030[0],_s578=_e1030.slice(1);if(_i978&&"black-and-white"===_i978.name){var _t1492=!1;var _iterator1014=_createForOfIteratorHelper(_s578),_step1014;try{for(_iterator1014.s();!(_step1014=_iterator1014.n()).done;){var _e1031=_step1014.value;null!==_e1031&&"black-and-white"===_e1031.name&&_e1031.balance!==_i978.balance&&(_t1492=!0);}}catch(err){_iterator1014.e(err);}finally{_iterator1014.f();}this["#balance-input"].mixed=_t1492,this["#balance-input"].disabled=!1,this["#balance-input"].value=_i978.balance,this["#balance-slider"].disabled=!1,this["#balance-slider"].value=_i978.balance;}else this["#balance-input"].mixed=!1,this["#balance-input"].disabled=!0,this["#balance-input"].value=0,this["#balance-slider"].disabled=!0,this["#balance-slider"].value=0;}}}]);return Nx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Nx,"_shadowTemplate",Hi(_templateObject290()));_defineProperty(Nx,"_shadowStyleSheet",Yi(_templateObject291()));customElements.define("bx-blackandwhitefilterinspector",Nx);var Vx=/*#__PURE__*/function(_HTMLElement88){_inherits(Vx,_HTMLElement88);var _super116=_createSuper(Vx);function Vx(){var _this537;_classCallCheck(this,Vx);_this537=_super116.call(this),_this537.Bb=!1,_this537.wa=qi(_this537.qs,200,_assertThisInitialized(_this537)),_this537._shadowRoot=_this537.attachShadow({mode:"closed"}),_this537._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Vx._shadowStyleSheet],_this537._shadowRoot.append(document.importNode(Vx._shadowTemplate.content,!0));var _iterator1015=_createForOfIteratorHelper(_this537._shadowRoot.querySelectorAll("[id]")),_step1015;try{for(_iterator1015.s();!(_step1015=_iterator1015.n()).done;){var _t1493=_step1015.value;_this537["#"+_t1493.id]=_t1493;}}catch(err){_iterator1015.e(err);}finally{_iterator1015.f();}_this537["#amount-box"].addEventListener("changestart",function(){return _this537.Gb(event);});return _this537;}_createClass(Vx,[{key:"connectedCallback",value:function connectedCallback(){var _this538=this;this.Js=Ti(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this538.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this538.wa();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Gb",value:function Gb(t){var _this539=this;var e,_i980;this.Js.board.undoManager.checkpoint("Grayscale amount"),this.Bb=!0;var _this$Js$board34=this.Js.board,s=_this$Js$board34.outermostSelectedElements,n=_this$Js$board34.selectedTextRange,_Ox67=Ox(s,n,!0),_Ox68=_slicedToArray(_Ox67,2),o=_Ox68[0],l=_Ox68[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this539["#amount-slider"]?_this539["#amount-input"].value=_this539["#amount-slider"].value:t.target===_this539["#amount-input"]&&(_this539["#amount-slider"].value=_this539["#amount-input"].value);var _iterator1016=_createForOfIteratorHelper(o),_step1016;try{for(_iterator1016.s();!(_step1016=_iterator1016.n()).done;){var _t1494=_step1016.value;var _e1032=zx(_t1494),_i979=_e1032?Sx(_e1032):null;_i979&&"grayscale"===_i979.name&&(_i979.amount=_this539["#amount-input"].value,_x(_e1032,_i979,!0));}}catch(err){_iterator1016.e(err);}finally{_iterator1016.f();}}),this["#amount-box"].addEventListener("changeend",_i980=function i(){_this539["#amount-box"].removeEventListener("change",e),_this539["#amount-box"].removeEventListener("changeend",_i980),_this539.Bb=!1;var _iterator1017=_createForOfIteratorHelper(l),_step1017;try{for(_iterator1017.s();!(_step1017=_iterator1017.n()).done;){var _t1495=_step1017.value;ci(_t1495,n);}}catch(err){_iterator1017.e(err);}finally{_iterator1017.f();}});}},{key:"qs",value:function qs(){if(!1===this.Bb){var _t1496=this.Js.board,_e1033=Ox(_t1496.outermostSelectedElements,_t1496.selectedTextRange).map(function(t){return zx(t);}).map(function(t){return t?Sx(t):null;}),_e1034=_toArray(_e1033),_i981=_e1034[0],_s579=_e1034.slice(1);if(_i981&&"grayscale"===_i981.name){var _t1497=!1;var _iterator1018=_createForOfIteratorHelper(_s579),_step1018;try{for(_iterator1018.s();!(_step1018=_iterator1018.n()).done;){var _e1035=_step1018.value;null!==_e1035&&"grayscale"===_e1035.name&&_e1035.amount!==_i981.amount&&(_t1497=!0);}}catch(err){_iterator1018.e(err);}finally{_iterator1018.f();}this["#amount-input"].mixed=_t1497,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i981.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i981.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return Vx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Vx,"_shadowTemplate",Hi(_templateObject292()));_defineProperty(Vx,"_shadowStyleSheet",Yi(_templateObject293()));customElements.define("bx-grayscalefilterinspector",Vx);var jx=/*#__PURE__*/function(_HTMLElement89){_inherits(jx,_HTMLElement89);var _super117=_createSuper(jx);function jx(){var _this540;_classCallCheck(this,jx);_this540=_super117.call(this),_this540.Bb=!1,_this540.wa=qi(_this540.qs,200,_assertThisInitialized(_this540)),_this540._shadowRoot=_this540.attachShadow({mode:"closed"}),_this540._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,jx._shadowStyleSheet],_this540._shadowRoot.append(document.importNode(jx._shadowTemplate.content,!0));var _iterator1019=_createForOfIteratorHelper(_this540._shadowRoot.querySelectorAll("[id]")),_step1019;try{for(_iterator1019.s();!(_step1019=_iterator1019.n()).done;){var _t1498=_step1019.value;_this540["#"+_t1498.id]=_t1498;}}catch(err){_iterator1019.e(err);}finally{_iterator1019.f();}_this540["#amount-box"].addEventListener("changestart",function(){return _this540.Gb(event);});return _this540;}_createClass(jx,[{key:"connectedCallback",value:function connectedCallback(){var _this541=this;this.Js=Ti(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this541.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this541.wa();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Gb",value:function Gb(t){var _this542=this;var e,_i983;this.Js.board.undoManager.checkpoint("Sepia amount"),this.Bb=!0;var _this$Js$board35=this.Js.board,s=_this$Js$board35.outermostSelectedElements,n=_this$Js$board35.selectedTextRange,_Ox69=Ox(s,n,!0),_Ox70=_slicedToArray(_Ox69,2),o=_Ox70[0],l=_Ox70[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this542["#amount-slider"]?_this542["#amount-input"].value=_this542["#amount-slider"].value:t.target===_this542["#amount-input"]&&(_this542["#amount-slider"].value=_this542["#amount-input"].value);var _iterator1020=_createForOfIteratorHelper(o),_step1020;try{for(_iterator1020.s();!(_step1020=_iterator1020.n()).done;){var _t1499=_step1020.value;var _e1036=zx(_t1499),_i982=_e1036?Sx(_e1036):null;_i982&&"sepia"===_i982.name&&(_i982.amount=_this542["#amount-input"].value,_x(_e1036,_i982,!0));}}catch(err){_iterator1020.e(err);}finally{_iterator1020.f();}}),this["#amount-box"].addEventListener("changeend",_i983=function i(){_this542["#amount-box"].removeEventListener("change",e),_this542["#amount-box"].removeEventListener("changeend",_i983),_this542.Bb=!1;var _iterator1021=_createForOfIteratorHelper(l),_step1021;try{for(_iterator1021.s();!(_step1021=_iterator1021.n()).done;){var _t1500=_step1021.value;ci(_t1500,n);}}catch(err){_iterator1021.e(err);}finally{_iterator1021.f();}});}},{key:"qs",value:function qs(){if(!1===this.Bb){var _t1501=this.Js.board,_e1037=Ox(_t1501.outermostSelectedElements,_t1501.selectedTextRange).map(function(t){return zx(t);}).map(function(t){return t?Sx(t):null;}),_e1038=_toArray(_e1037),_i984=_e1038[0],_s580=_e1038.slice(1);if(_i984&&"sepia"===_i984.name){var _t1502=!1;var _iterator1022=_createForOfIteratorHelper(_s580),_step1022;try{for(_iterator1022.s();!(_step1022=_iterator1022.n()).done;){var _e1039=_step1022.value;null!==_e1039&&"sepia"===_e1039.name&&_e1039.amount!==_i984.amount&&(_t1502=!0);}}catch(err){_iterator1022.e(err);}finally{_iterator1022.f();}this["#amount-input"].mixed=_t1502,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i984.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i984.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return jx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(jx,"_shadowTemplate",Hi(_templateObject294()));_defineProperty(jx,"_shadowStyleSheet",Yi(_templateObject295()));customElements.define("bx-sepiafilterinspector",jx);var Hx=/*#__PURE__*/function(_HTMLElement90){_inherits(Hx,_HTMLElement90);var _super118=_createSuper(Hx);function Hx(){var _this543;_classCallCheck(this,Hx);_this543=_super118.call(this),_this543.Bb=!1,_this543.wa=qi(_this543.qs,200,_assertThisInitialized(_this543)),_this543._shadowRoot=_this543.attachShadow({mode:"closed"}),_this543._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Hx._shadowStyleSheet],_this543._shadowRoot.append(document.importNode(Hx._shadowTemplate.content,!0));var _iterator1023=_createForOfIteratorHelper(_this543._shadowRoot.querySelectorAll("[id]")),_step1023;try{for(_iterator1023.s();!(_step1023=_iterator1023.n()).done;){var _t1503=_step1023.value;_this543["#"+_t1503.id]=_t1503;}}catch(err){_iterator1023.e(err);}finally{_iterator1023.f();}_this543["#amount-box"].addEventListener("changestart",function(){return _this543.Gb(event);});return _this543;}_createClass(Hx,[{key:"connectedCallback",value:function connectedCallback(){var _this544=this;this.Js=Ti(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this544.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this544.wa();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Gb",value:function Gb(t){var _this545=this;var e,_i986;this.Js.board.undoManager.checkpoint("Saturate amount"),this.Bb=!0;var _this$Js$board36=this.Js.board,s=_this$Js$board36.outermostSelectedElements,n=_this$Js$board36.selectedTextRange,_Ox71=Ox(s,n,!0),_Ox72=_slicedToArray(_Ox71,2),o=_Ox72[0],l=_Ox72[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this545["#amount-slider"]?_this545["#amount-input"].value=_this545["#amount-slider"].value:t.target===_this545["#amount-input"]&&(_this545["#amount-slider"].value=_this545["#amount-input"].value);var _iterator1024=_createForOfIteratorHelper(o),_step1024;try{for(_iterator1024.s();!(_step1024=_iterator1024.n()).done;){var _t1504=_step1024.value;var _e1040=zx(_t1504),_i985=_e1040?Sx(_e1040):null;_i985&&"saturate"===_i985.name&&(_i985.amount=_this545["#amount-input"].value,_x(_e1040,_i985,!0));}}catch(err){_iterator1024.e(err);}finally{_iterator1024.f();}}),this["#amount-box"].addEventListener("changeend",_i986=function i(){_this545["#amount-box"].removeEventListener("change",e),_this545["#amount-box"].removeEventListener("changeend",_i986),_this545.Bb=!1;var _iterator1025=_createForOfIteratorHelper(l),_step1025;try{for(_iterator1025.s();!(_step1025=_iterator1025.n()).done;){var _t1505=_step1025.value;ci(_t1505,n);}}catch(err){_iterator1025.e(err);}finally{_iterator1025.f();}});}},{key:"qs",value:function qs(){if(!1===this.Bb){var _t1506=this.Js.board,_e1041=Ox(_t1506.outermostSelectedElements,_t1506.selectedTextRange).map(function(t){return zx(t);}).map(function(t){return t?Sx(t):null;}),_e1042=_toArray(_e1041),_i987=_e1042[0],_s581=_e1042.slice(1);if(_i987&&"saturate"===_i987.name){var _t1507=!1;var _iterator1026=_createForOfIteratorHelper(_s581),_step1026;try{for(_iterator1026.s();!(_step1026=_iterator1026.n()).done;){var _e1043=_step1026.value;null!==_e1043&&"saturate"===_e1043.name&&_e1043.amount!==_i987.amount&&(_t1507=!0);}}catch(err){_iterator1026.e(err);}finally{_iterator1026.f();}this["#amount-input"].mixed=_t1507,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i987.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i987.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return Hx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Hx,"_shadowTemplate",Hi(_templateObject296()));_defineProperty(Hx,"_shadowStyleSheet",Yi(_templateObject297()));customElements.define("bx-saturatefilterinspector",Hx);var Yx=/*#__PURE__*/function(_HTMLElement91){_inherits(Yx,_HTMLElement91);var _super119=_createSuper(Yx);function Yx(){var _this546;_classCallCheck(this,Yx);_this546=_super119.call(this),_this546.Yb=!1,_this546.wa=qi(_this546.qs,200,_assertThisInitialized(_this546)),_this546._shadowRoot=_this546.attachShadow({mode:"closed"}),_this546._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Yx._shadowStyleSheet],_this546._shadowRoot.append(document.importNode(Yx._shadowTemplate.content,!0));var _iterator1027=_createForOfIteratorHelper(_this546._shadowRoot.querySelectorAll("[id]")),_step1027;try{for(_iterator1027.s();!(_step1027=_iterator1027.n()).done;){var _t1508=_step1027.value;_this546["#"+_t1508.id]=_t1508;}}catch(err){_iterator1027.e(err);}finally{_iterator1027.f();}_this546["#angle-box"].addEventListener("changestart",function(){return _this546.Jn(event);});return _this546;}_createClass(Yx,[{key:"connectedCallback",value:function connectedCallback(){var _this547=this;this.Js=Ti(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this547.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this547.wa();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Jn",value:function Jn(t){var _this548=this;var e,_i989;this.Js.board.undoManager.checkpoint("Hue rotate angle"),this.Yb=!0;var _this$Js$board37=this.Js.board,s=_this$Js$board37.outermostSelectedElements,n=_this$Js$board37.selectedTextRange,_Ox73=Ox(s,n,!0),_Ox74=_slicedToArray(_Ox73,2),o=_Ox74[0],l=_Ox74[1];this["#angle-box"].addEventListener("change",e=function e(t){t.target===_this548["#angle-slider"]?_this548["#angle-input"].value=_this548["#angle-slider"].value:t.target===_this548["#angle-input"]&&(_this548["#angle-slider"].value=_this548["#angle-input"].value);var _iterator1028=_createForOfIteratorHelper(o),_step1028;try{for(_iterator1028.s();!(_step1028=_iterator1028.n()).done;){var _t1509=_step1028.value;var _e1044=zx(_t1509),_i988=_e1044?Sx(_e1044):null;_i988&&"hue-rotate"===_i988.name&&(_i988.angle=_this548["#angle-input"].value,_x(_e1044,_i988,!0));}}catch(err){_iterator1028.e(err);}finally{_iterator1028.f();}}),this["#angle-box"].addEventListener("changeend",_i989=function i(){_this548["#angle-box"].removeEventListener("change",e),_this548["#angle-box"].removeEventListener("changeend",_i989),_this548.Yb=!1;var _iterator1029=_createForOfIteratorHelper(l),_step1029;try{for(_iterator1029.s();!(_step1029=_iterator1029.n()).done;){var _t1510=_step1029.value;ci(_t1510,n);}}catch(err){_iterator1029.e(err);}finally{_iterator1029.f();}});}},{key:"qs",value:function qs(){if(!1===this.Yb){var _t1511=this.Js.board,_e1045=Ox(_t1511.outermostSelectedElements,_t1511.selectedTextRange).map(function(t){return zx(t);}).map(function(t){return t?Sx(t):null;}),_e1046=_toArray(_e1045),_i990=_e1046[0],_s582=_e1046.slice(1);if(_i990&&"hue-rotate"===_i990.name){var _t1512=!1;var _iterator1030=_createForOfIteratorHelper(_s582),_step1030;try{for(_iterator1030.s();!(_step1030=_iterator1030.n()).done;){var _e1047=_step1030.value;null!==_e1047&&"hue-rotate"===_e1047.name&&_e1047.angle!==_i990.angle&&(_t1512=!0);}}catch(err){_iterator1030.e(err);}finally{_iterator1030.f();}this["#angle-input"].mixed=_t1512,this["#angle-input"].disabled=!1,this["#angle-input"].value=_i990.angle,this["#angle-slider"].disabled=!1,this["#angle-slider"].value=_i990.angle;}else this["#angle-input"].mixed=!1,this["#angle-input"].disabled=!0,this["#angle-input"].value=0,this["#angle-slider"].disabled=!0,this["#angle-slider"].value=0;}}}]);return Yx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Yx,"_shadowTemplate",Hi(_templateObject298()));_defineProperty(Yx,"_shadowStyleSheet",Yi(_templateObject299()));customElements.define("bx-huerotatefilterinspector",Yx);var Wx=/*#__PURE__*/function(_HTMLElement92){_inherits(Wx,_HTMLElement92);var _super120=_createSuper(Wx);function Wx(){var _this549;_classCallCheck(this,Wx);_this549=_super120.call(this),_this549.Bb=!1,_this549.wa=qi(_this549.qs,200,_assertThisInitialized(_this549)),_this549._shadowRoot=_this549.attachShadow({mode:"closed"}),_this549._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Wx._shadowStyleSheet],_this549._shadowRoot.append(document.importNode(Wx._shadowTemplate.content,!0));var _iterator1031=_createForOfIteratorHelper(_this549._shadowRoot.querySelectorAll("[id]")),_step1031;try{for(_iterator1031.s();!(_step1031=_iterator1031.n()).done;){var _t1513=_step1031.value;_this549["#"+_t1513.id]=_t1513;}}catch(err){_iterator1031.e(err);}finally{_iterator1031.f();}_this549["#amount-box"].addEventListener("changestart",function(){return _this549.Gb(event);});return _this549;}_createClass(Wx,[{key:"connectedCallback",value:function connectedCallback(){var _this550=this;this.Js=Ti(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this550.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this550.wa();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Gb",value:function Gb(t){var _this551=this;var e,_i992;this.Js.board.undoManager.checkpoint("Invert amount"),this.Bb=!0;var _this$Js$board38=this.Js.board,s=_this$Js$board38.outermostSelectedElements,n=_this$Js$board38.selectedTextRange,_Ox75=Ox(s,n,!0),_Ox76=_slicedToArray(_Ox75,2),o=_Ox76[0],l=_Ox76[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this551["#amount-slider"]?_this551["#amount-input"].value=_this551["#amount-slider"].value:t.target===_this551["#amount-input"]&&(_this551["#amount-slider"].value=_this551["#amount-input"].value);var _iterator1032=_createForOfIteratorHelper(o),_step1032;try{for(_iterator1032.s();!(_step1032=_iterator1032.n()).done;){var _t1514=_step1032.value;var _e1048=zx(_t1514),_i991=_e1048?Sx(_e1048):null;_i991&&"invert"===_i991.name&&(_i991.amount=_this551["#amount-input"].value,_x(_e1048,_i991,!0));}}catch(err){_iterator1032.e(err);}finally{_iterator1032.f();}}),this["#amount-box"].addEventListener("changeend",_i992=function i(){_this551["#amount-box"].removeEventListener("change",e),_this551["#amount-box"].removeEventListener("changeend",_i992),_this551.Bb=!1;var _iterator1033=_createForOfIteratorHelper(l),_step1033;try{for(_iterator1033.s();!(_step1033=_iterator1033.n()).done;){var _t1515=_step1033.value;ci(_t1515,n);}}catch(err){_iterator1033.e(err);}finally{_iterator1033.f();}});}},{key:"qs",value:function qs(){if(!1===this.Bb){var _t1516=this.Js.board,_e1049=Ox(_t1516.outermostSelectedElements,_t1516.selectedTextRange).map(function(t){return zx(t);}).map(function(t){return t?Sx(t):null;}),_e1050=_toArray(_e1049),_i993=_e1050[0],_s583=_e1050.slice(1);if(_i993&&"invert"===_i993.name){var _t1517=!1;var _iterator1034=_createForOfIteratorHelper(_s583),_step1034;try{for(_iterator1034.s();!(_step1034=_iterator1034.n()).done;){var _e1051=_step1034.value;null!==_e1051&&"invert"===_e1051.name&&_e1051.amount!==_i993.amount&&(_t1517=!0);}}catch(err){_iterator1034.e(err);}finally{_iterator1034.f();}this["#amount-input"].mixed=_t1517,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i993.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i993.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return Wx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Wx,"_shadowTemplate",Hi(_templateObject300()));_defineProperty(Wx,"_shadowStyleSheet",Yi(_templateObject301()));customElements.define("bx-invertfilterinspector",Wx);var qx=/*#__PURE__*/function(_HTMLElement93){_inherits(qx,_HTMLElement93);var _super121=_createSuper(qx);function qx(){var _this552;_classCallCheck(this,qx);_this552=_super121.call(this),_this552.Bb=!1,_this552.wa=qi(_this552.qs,200,_assertThisInitialized(_this552)),_this552._shadowRoot=_this552.attachShadow({mode:"closed"}),_this552._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,qx._shadowStyleSheet],_this552._shadowRoot.append(document.importNode(qx._shadowTemplate.content,!0));var _iterator1035=_createForOfIteratorHelper(_this552._shadowRoot.querySelectorAll("[id]")),_step1035;try{for(_iterator1035.s();!(_step1035=_iterator1035.n()).done;){var _t1518=_step1035.value;_this552["#"+_t1518.id]=_t1518;}}catch(err){_iterator1035.e(err);}finally{_iterator1035.f();}_this552["#amount-box"].addEventListener("changestart",function(){return _this552.Gb(event);});return _this552;}_createClass(qx,[{key:"connectedCallback",value:function connectedCallback(){var _this553=this;this.Js=Ti(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this553.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this553.wa();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Gb",value:function Gb(t){var _this554=this;var e,_i995;this.Js.board.undoManager.checkpoint("Brightness amount"),this.Bb=!0;var _this$Js$board39=this.Js.board,s=_this$Js$board39.outermostSelectedElements,n=_this$Js$board39.selectedTextRange,_Ox77=Ox(s,n,!0),_Ox78=_slicedToArray(_Ox77,2),o=_Ox78[0],l=_Ox78[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this554["#amount-slider"]?_this554["#amount-input"].value=_this554["#amount-slider"].value:t.target===_this554["#amount-input"]&&(_this554["#amount-slider"].value=_this554["#amount-input"].value);var _iterator1036=_createForOfIteratorHelper(o),_step1036;try{for(_iterator1036.s();!(_step1036=_iterator1036.n()).done;){var _t1519=_step1036.value;var _e1052=zx(_t1519),_i994=_e1052?Sx(_e1052):null;_i994&&"brightness"===_i994.name&&(_i994.amount=_this554["#amount-input"].value,_x(_e1052,_i994,!0));}}catch(err){_iterator1036.e(err);}finally{_iterator1036.f();}}),this["#amount-box"].addEventListener("changeend",_i995=function i(){_this554["#amount-box"].removeEventListener("change",e),_this554["#amount-box"].removeEventListener("changeend",_i995),_this554.Bb=!1;var _iterator1037=_createForOfIteratorHelper(l),_step1037;try{for(_iterator1037.s();!(_step1037=_iterator1037.n()).done;){var _t1520=_step1037.value;ci(_t1520,n);}}catch(err){_iterator1037.e(err);}finally{_iterator1037.f();}});}},{key:"qs",value:function qs(){if(!1===this.Bb){var _t1521=this.Js.board,_e1053=Ox(_t1521.outermostSelectedElements,_t1521.selectedTextRange).map(function(t){return zx(t);}).map(function(t){return t?Sx(t):null;}),_e1054=_toArray(_e1053),_i996=_e1054[0],_s584=_e1054.slice(1);if(_i996&&"brightness"===_i996.name){var _t1522=!1;var _iterator1038=_createForOfIteratorHelper(_s584),_step1038;try{for(_iterator1038.s();!(_step1038=_iterator1038.n()).done;){var _e1055=_step1038.value;null!==_e1055&&"brightness"===_e1055.name&&_e1055.amount!==_i996.amount&&(_t1522=!0);}}catch(err){_iterator1038.e(err);}finally{_iterator1038.f();}this["#amount-input"].mixed=_t1522,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i996.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i996.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return qx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(qx,"_shadowTemplate",Hi(_templateObject302()));_defineProperty(qx,"_shadowStyleSheet",Yi(_templateObject303()));customElements.define("bx-brightnessfilterinspector",qx);var Xx=/*#__PURE__*/function(_HTMLElement94){_inherits(Xx,_HTMLElement94);var _super122=_createSuper(Xx);function Xx(){var _this555;_classCallCheck(this,Xx);_this555=_super122.call(this),_this555.Bb=!1,_this555.wa=qi(_this555.qs,200,_assertThisInitialized(_this555)),_this555._shadowRoot=_this555.attachShadow({mode:"closed"}),_this555._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Xx._shadowStyleSheet],_this555._shadowRoot.append(document.importNode(Xx._shadowTemplate.content,!0));var _iterator1039=_createForOfIteratorHelper(_this555._shadowRoot.querySelectorAll("[id]")),_step1039;try{for(_iterator1039.s();!(_step1039=_iterator1039.n()).done;){var _t1523=_step1039.value;_this555["#"+_t1523.id]=_t1523;}}catch(err){_iterator1039.e(err);}finally{_iterator1039.f();}_this555["#amount-box"].addEventListener("changestart",function(){return _this555.Gb(event);});return _this555;}_createClass(Xx,[{key:"connectedCallback",value:function connectedCallback(){var _this556=this;this.Js=Ti(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this556.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this556.wa();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Gb",value:function Gb(t){var _this557=this;var e,_i998;this.Js.board.undoManager.checkpoint("Contrast amount"),this.Bb=!0;var _this$Js$board40=this.Js.board,s=_this$Js$board40.outermostSelectedElements,n=_this$Js$board40.selectedTextRange,_Ox79=Ox(s,n,!0),_Ox80=_slicedToArray(_Ox79,2),o=_Ox80[0],l=_Ox80[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this557["#amount-slider"]?_this557["#amount-input"].value=_this557["#amount-slider"].value:t.target===_this557["#amount-input"]&&(_this557["#amount-slider"].value=_this557["#amount-input"].value);var _iterator1040=_createForOfIteratorHelper(o),_step1040;try{for(_iterator1040.s();!(_step1040=_iterator1040.n()).done;){var _t1524=_step1040.value;var _e1056=zx(_t1524),_i997=_e1056?Sx(_e1056):null;_i997&&"contrast"===_i997.name&&(_i997.amount=_this557["#amount-input"].value,_x(_e1056,_i997,!0));}}catch(err){_iterator1040.e(err);}finally{_iterator1040.f();}}),this["#amount-box"].addEventListener("changeend",_i998=function i(){_this557["#amount-box"].removeEventListener("change",e),_this557["#amount-box"].removeEventListener("changeend",_i998),_this557.Bb=!1;var _iterator1041=_createForOfIteratorHelper(l),_step1041;try{for(_iterator1041.s();!(_step1041=_iterator1041.n()).done;){var _t1525=_step1041.value;ci(_t1525,n);}}catch(err){_iterator1041.e(err);}finally{_iterator1041.f();}});}},{key:"qs",value:function qs(){if(!1===this.Bb){var _t1526=this.Js.board,_e1057=Ox(_t1526.outermostSelectedElements,_t1526.selectedTextRange).map(function(t){return zx(t);}).map(function(t){return t?Sx(t):null;}),_e1058=_toArray(_e1057),_i999=_e1058[0],_s585=_e1058.slice(1);if(_i999&&"contrast"===_i999.name){var _t1527=!1;var _iterator1042=_createForOfIteratorHelper(_s585),_step1042;try{for(_iterator1042.s();!(_step1042=_iterator1042.n()).done;){var _e1059=_step1042.value;null!==_e1059&&"contrast"===_e1059.name&&_e1059.amount!==_i999.amount&&(_t1527=!0);}}catch(err){_iterator1042.e(err);}finally{_iterator1042.f();}this["#amount-input"].mixed=_t1527,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i999.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i999.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return Xx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Xx,"_shadowTemplate",Hi(_templateObject304()));_defineProperty(Xx,"_shadowStyleSheet",Yi(_templateObject305()));customElements.define("bx-contrastfilterinspector",Xx);var Zx=/*#__PURE__*/function(_HTMLElement95){_inherits(Zx,_HTMLElement95);var _super123=_createSuper(Zx);function Zx(){var _this558;_classCallCheck(this,Zx);_this558=_super123.call(this),_this558.Bb=!1,_this558.Wb=!1,_this558.wa=qi(_this558.qs,200,_assertThisInitialized(_this558)),_this558._shadowRoot=_this558.attachShadow({mode:"closed"}),_this558._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Zx._shadowStyleSheet],_this558._shadowRoot.append(document.importNode(Zx._shadowTemplate.content,!0));var _iterator1043=_createForOfIteratorHelper(_this558._shadowRoot.querySelectorAll("[id]")),_step1043;try{for(_iterator1043.s();!(_step1043=_iterator1043.n()).done;){var _t1528=_step1043.value;_this558["#"+_t1528.id]=_t1528;}}catch(err){_iterator1043.e(err);}finally{_iterator1043.f();}_this558["#channels-buttons"].addEventListener("toggle",function(t){return _this558.qb(t);}),_this558["#amount-box"].addEventListener("changestart",function(t){return _this558.Gb(t);}),_this558["#saturation-box"].addEventListener("changestart",function(t){return _this558.Xb(t);});return _this558;}_createClass(Zx,[{key:"connectedCallback",value:function connectedCallback(){var _this559=this;this.Js=Ti(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this559.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this559.wa();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"qb",value:function qb(t){this.Js.board.undoManager.checkpoint("Posterize channels");var _this$Js$board41=this.Js.board,e=_this$Js$board41.outermostSelectedElements,i=_this$Js$board41.selectedTextRange,_Ox81=Ox(e,i,!0),_Ox82=_slicedToArray(_Ox81,2),s=_Ox82[0],n=_Ox82[1];var _iterator1044=_createForOfIteratorHelper(s),_step1044;try{for(_iterator1044.s();!(_step1044=_iterator1044.n()).done;){var _t1529=_step1044.value;var _e1060=zx(_t1529),_i1000=_e1060?Sx(_e1060):null;_i1000&&"posterize"===_i1000.name&&(_i1000.channels=this["#channels-buttons"].value,_x(_e1060,_i1000,!0));}}catch(err){_iterator1044.e(err);}finally{_iterator1044.f();}}},{key:"Gb",value:function Gb(t){var _this560=this;var e,_i1002;this.Js.board.undoManager.checkpoint("Posterize amount"),this.Bb=!0;var _this$Js$board42=this.Js.board,s=_this$Js$board42.outermostSelectedElements,n=_this$Js$board42.selectedTextRange,_Ox83=Ox(s,n,!0),_Ox84=_slicedToArray(_Ox83,2),o=_Ox84[0],l=_Ox84[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this560["#amount-slider"]?_this560["#amount-input"].value=_this560["#amount-slider"].value:t.target===_this560["#amount-input"]&&(_this560["#amount-slider"].value=_this560["#amount-input"].value);var _iterator1045=_createForOfIteratorHelper(o),_step1045;try{for(_iterator1045.s();!(_step1045=_iterator1045.n()).done;){var _t1530=_step1045.value;var _e1061=zx(_t1530),_i1001=_e1061?Sx(_e1061):null;_i1001&&"posterize"===_i1001.name&&(_i1001.amount=_this560["#amount-input"].value,_x(_e1061,_i1001,!0));}}catch(err){_iterator1045.e(err);}finally{_iterator1045.f();}}),this["#amount-box"].addEventListener("changeend",_i1002=function i(){_this560["#amount-box"].removeEventListener("change",e),_this560["#amount-box"].removeEventListener("changeend",_i1002),_this560.Bb=!1;var _iterator1046=_createForOfIteratorHelper(l),_step1046;try{for(_iterator1046.s();!(_step1046=_iterator1046.n()).done;){var _t1531=_step1046.value;ci(_t1531,n);}}catch(err){_iterator1046.e(err);}finally{_iterator1046.f();}});}},{key:"Xb",value:function Xb(t){var _this561=this;var e,_i1004;this.Js.board.undoManager.checkpoint("Posterize saturation"),this.Wb=!0;var _this$Js$board43=this.Js.board,s=_this$Js$board43.outermostSelectedElements,n=_this$Js$board43.selectedTextRange,_Ox85=Ox(s,n,!0),_Ox86=_slicedToArray(_Ox85,2),o=_Ox86[0],l=_Ox86[1];this["#saturation-box"].addEventListener("change",e=function e(t){t.target===_this561["#saturation-slider"]?_this561["#saturation-input"].value=_this561["#saturation-slider"].value:t.target===_this561["#saturation-input"]&&(_this561["#saturation-slider"].value=_this561["#saturation-input"].value);var _iterator1047=_createForOfIteratorHelper(o),_step1047;try{for(_iterator1047.s();!(_step1047=_iterator1047.n()).done;){var _t1532=_step1047.value;var _e1062=zx(_t1532),_i1003=_e1062?Sx(_e1062):null;_i1003&&"posterize"===_i1003.name&&(_i1003.saturation=_this561["#saturation-input"].value,_x(_e1062,_i1003,!0));}}catch(err){_iterator1047.e(err);}finally{_iterator1047.f();}}),this["#saturation-box"].addEventListener("changeend",_i1004=function i(){_this561["#saturation-box"].removeEventListener("change",e),_this561["#saturation-box"].removeEventListener("changeend",_i1004),_this561.Wb=!1;var _iterator1048=_createForOfIteratorHelper(l),_step1048;try{for(_iterator1048.s();!(_step1048=_iterator1048.n()).done;){var _t1533=_step1048.value;ci(_t1533,n);}}catch(err){_iterator1048.e(err);}finally{_iterator1048.f();}});}},{key:"qs",value:function qs(){if(!1===this.Bb&&!1===this.Wb){var _t1534=this.Js.board,_e1063=Ox(_t1534.outermostSelectedElements,_t1534.selectedTextRange).map(function(t){return zx(t);}).map(function(t){return t?Sx(t):null;}),_e1064=_toArray(_e1063),_i1005=_e1064[0],_s586=_e1064.slice(1);if(_i1005&&"posterize"===_i1005.name){var _t1535=!1,_e1065=!1,_n413=!1;var _iterator1049=_createForOfIteratorHelper(_s586),_step1049;try{for(_iterator1049.s();!(_step1049=_iterator1049.n()).done;){var _o324=_step1049.value;null!==_o324&&"posterize"===_o324.name&&(!1===compareArrays(_o324.channels,_i1005.channels)&&(_t1535=!0),_o324.amount!==_i1005.amount&&(_e1065=!0),_o324.saturation!==_i1005.saturation&&(_n413=!0));}}catch(err){_iterator1049.e(err);}finally{_iterator1049.f();}this["#channels-buttons"].mixed=_t1535,this["#channels-buttons"].disabled=!1,this["#channels-buttons"].value=_i1005.channels,this["#amount-input"].mixed=_e1065,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1005.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1005.amount,this["#saturation-input"].mixed=_n413,this["#saturation-input"].disabled=!1,this["#saturation-input"].value=_i1005.saturation,this["#saturation-slider"].disabled=!1,this["#saturation-slider"].value=_i1005.saturation;}else this["#channels-buttons"].mixed=!1,this["#channels-buttons"].disabled=!0,this["#channels-buttons"].value=[],this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0,this["#saturation-input"].mixed=!1,this["#saturation-input"].disabled=!0,this["#saturation-input"].value=0,this["#saturation-slider"].disabled=!0,this["#saturation-slider"].value=0;}}}]);return Zx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Zx,"_shadowTemplate",Hi(_templateObject306()));_defineProperty(Zx,"_shadowStyleSheet",Yi(_templateObject307()));customElements.define("bx-posterizefilterinspector",Zx);var Kx=/*#__PURE__*/function(_HTMLElement96){_inherits(Kx,_HTMLElement96);var _super124=_createSuper(Kx);function Kx(){var _this562;_classCallCheck(this,Kx);_this562=_super124.call(this),_this562.Zb=!1,_this562.Kb=!1,_this562.Qb=!1,_this562.wa=qi(_this562.qs,200,_assertThisInitialized(_this562)),_this562._shadowRoot=_this562.attachShadow({mode:"closed"}),_this562._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Kx._shadowStyleSheet],_this562._shadowRoot.append(document.importNode(Kx._shadowTemplate.content,!0));var _iterator1050=_createForOfIteratorHelper(_this562._shadowRoot.querySelectorAll("[id]")),_step1050;try{for(_iterator1050.s();!(_step1050=_iterator1050.n()).done;){var _t1536=_step1050.value;_this562["#"+_t1536.id]=_t1536;}}catch(err){_iterator1050.e(err);}finally{_iterator1050.f();}_this562["#shadows-color-select"].addEventListener("changestart",function(){return _this562.Jb();}),_this562["#highlights-color-select"].addEventListener("changestart",function(){return _this562.tm();}),_this562["#gamma-box"].addEventListener("changestart",function(){return _this562.im(event);});return _this562;}_createClass(Kx,[{key:"connectedCallback",value:function connectedCallback(){var _this563=this;this.Js=Ti(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this563.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this563.wa();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Jb",value:function Jb(){var _this564=this;var t,_e1067;this.Js.board.undoManager.checkpoint("Duotone shadows color"),this.Zb=!0;var _this$Js$board44=this.Js.board,i=_this$Js$board44.outermostSelectedElements,s=_this$Js$board44.selectedTextRange,_Ox87=Ox(i,s,!0),_Ox88=_slicedToArray(_Ox87,2),n=_Ox88[0],o=_Ox88[1];this["#shadows-color-select"].addEventListener("change",t=function t(){var _iterator1051=_createForOfIteratorHelper(n),_step1051;try{for(_iterator1051.s();!(_step1051=_iterator1051.n()).done;){var _t1537=_step1051.value;var _e1066=zx(_t1537),_i1006=_e1066?Sx(_e1066):null;_i1006&&"duotone"===_i1006.name&&(_i1006.shadowsColor=_this564["#shadows-color-select"].value,_x(_e1066,_i1006,!0));}}catch(err){_iterator1051.e(err);}finally{_iterator1051.f();}}),this["#shadows-color-select"].addEventListener("changeend",_e1067=function e(){_this564["#shadows-color-select"].removeEventListener("change",t),_this564["#shadows-color-select"].removeEventListener("changeend",_e1067),_this564.Zb=!1;var _iterator1052=_createForOfIteratorHelper(o),_step1052;try{for(_iterator1052.s();!(_step1052=_iterator1052.n()).done;){var _t1538=_step1052.value;ci(_t1538,s);}}catch(err){_iterator1052.e(err);}finally{_iterator1052.f();}});}},{key:"tm",value:function tm(){var _this565=this;var t,_e1069;this.Js.board.undoManager.checkpoint("Duotone highlights color"),this.Kb=!0;var _this$Js$board45=this.Js.board,i=_this$Js$board45.outermostSelectedElements,s=_this$Js$board45.selectedTextRange,_Ox89=Ox(i,s,!0),_Ox90=_slicedToArray(_Ox89,2),n=_Ox90[0],o=_Ox90[1];this["#highlights-color-select"].addEventListener("change",t=function t(){var _iterator1053=_createForOfIteratorHelper(n),_step1053;try{for(_iterator1053.s();!(_step1053=_iterator1053.n()).done;){var _t1539=_step1053.value;var _e1068=zx(_t1539),_i1007=_e1068?Sx(_e1068):null;_i1007&&"duotone"===_i1007.name&&(_i1007.highlightsColor=_this565["#highlights-color-select"].value,_x(_e1068,_i1007,!0));}}catch(err){_iterator1053.e(err);}finally{_iterator1053.f();}}),this["#highlights-color-select"].addEventListener("changeend",_e1069=function e(){_this565["#highlights-color-select"].removeEventListener("change",t),_this565["#highlights-color-select"].removeEventListener("changeend",_e1069),_this565.Kb=!1;var _iterator1054=_createForOfIteratorHelper(o),_step1054;try{for(_iterator1054.s();!(_step1054=_iterator1054.n()).done;){var _t1540=_step1054.value;ci(_t1540,s);}}catch(err){_iterator1054.e(err);}finally{_iterator1054.f();}});}},{key:"im",value:function im(t){var _this566=this;var e,_i1009;this.Js.board.undoManager.checkpoint("Duotone gamma"),this.Qb=!0;var _this$Js$board46=this.Js.board,s=_this$Js$board46.outermostSelectedElements,n=_this$Js$board46.selectedTextRange,_Ox91=Ox(s,n,!0),_Ox92=_slicedToArray(_Ox91,2),o=_Ox92[0],l=_Ox92[1];this["#gamma-box"].addEventListener("change",e=function e(t){t.target===_this566["#gamma-slider"]?_this566["#gamma-input"].value=_this566["#gamma-slider"].value:t.target===_this566["#gamma-input"]&&(_this566["#gamma-slider"].value=_this566["#gamma-input"].value);var _iterator1055=_createForOfIteratorHelper(o),_step1055;try{for(_iterator1055.s();!(_step1055=_iterator1055.n()).done;){var _t1541=_step1055.value;var _e1070=zx(_t1541),_i1008=_e1070?Sx(_e1070):null;_i1008&&"duotone"===_i1008.name&&(_i1008.gamma=_this566["#gamma-input"].value,_x(_e1070,_i1008,!0));}}catch(err){_iterator1055.e(err);}finally{_iterator1055.f();}}),this["#gamma-box"].addEventListener("changeend",_i1009=function i(){_this566["#gamma-box"].removeEventListener("change",e),_this566["#gamma-box"].removeEventListener("changeend",_i1009),_this566.Qb=!1;var _iterator1056=_createForOfIteratorHelper(l),_step1056;try{for(_iterator1056.s();!(_step1056=_iterator1056.n()).done;){var _t1542=_step1056.value;ci(_t1542,n);}}catch(err){_iterator1056.e(err);}finally{_iterator1056.f();}});}},{key:"qs",value:function qs(){if(!this.Zb&&!this.Kb&&!this.Qb){var _t1543=this.Js.board,_e1071=Ox(_t1543.outermostSelectedElements,_t1543.selectedTextRange).map(function(t){return zx(t);}).map(function(t){return t?Sx(t):null;}),_e1072=_toArray(_e1071),_i1010=_e1072[0],_s587=_e1072.slice(1);if(_i1010&&"duotone"===_i1010.name){var _t1544=!1;var _iterator1057=_createForOfIteratorHelper(_s587),_step1057;try{for(_iterator1057.s();!(_step1057=_iterator1057.n()).done;){var _e1073=_step1057.value;null!==_e1073&&"duotone"===_e1073.name&&_e1073.gamma!==_i1010.gamma&&(_t1544=!0);}}catch(err){_iterator1057.e(err);}finally{_iterator1057.f();}this["#shadows-color-select"].disabled=!1,this["#shadows-color-select"].value=_i1010.shadowsColor,this["#highlights-color-select"].disabled=!1,this["#highlights-color-select"].value=_i1010.highlightsColor,this["#gamma-input"].mixed=_t1544,this["#gamma-input"].disabled=!1,this["#gamma-input"].value=_i1010.gamma,this["#gamma-slider"].disabled=!1,this["#gamma-slider"].value=_i1010.gamma;}else this["#shadows-color-select"].disabled=!0,this["#shadows-color-select"].value="rgb(0,0,0)",this["#highlights-color-select"].disabled=!0,this["#highlights-color-select"].value="rgb(0,0,0)",this["#gamma-input"].mixed=!1,this["#gamma-input"].disabled=!0,this["#gamma-input"].value=0,this["#gamma-slider"].disabled=!0,this["#gamma-slider"].value=0;}}}]);return Kx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Kx,"_shadowTemplate",Hi(_templateObject308()));_defineProperty(Kx,"_shadowStyleSheet",Yi(_templateObject309()));customElements.define("bx-duotonefilterinspector",Kx);var Qx=Number.parseFloat;var Jx=/*#__PURE__*/function(_HTMLElement97){_inherits(Jx,_HTMLElement97);var _super125=_createSuper(Jx);_createClass(Jx,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"#filter-settings",get:function get(){return this["#filter-settings-wrapper"].firstElementChild;}}]);function Jx(){var _this567;_classCallCheck(this,Jx);_this567=_super125.call(this),_this567.wa=qi(_this567.qs,200,_assertThisInitialized(_this567)),_this567.Lx=!1,_this567._shadowRoot=_this567.attachShadow({mode:"closed"}),_this567._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Jx._shadowStyleSheet],_this567._shadowRoot.append(document.importNode(Jx._shadowTemplate.content,!0));var _iterator1058=_createForOfIteratorHelper(_this567._shadowRoot.querySelectorAll("[id]")),_step1058;try{for(_iterator1058.s();!(_step1058=_iterator1058.n()).done;){var _t1545=_step1058.value;_this567["#"+_t1545.id]=_t1545;}}catch(err){_iterator1058.e(err);}finally{_iterator1058.f();}_this567["#filter-select"].addEventListener("change",function(){return _this567.sm();}),_this567["#filter-convert-button"].addEventListener("click",function(){return _this567.nm();}),_this567["#filter-edit-button"].addEventListener("click",function(){return _this567.om();}),_this567["#blend-mode-select"].addEventListener("change",function(){return _this567.lm();}),_this567["#isolation-checkbox"].addEventListener("toggle",function(){return _this567.hm();}),_this567["#opacity-box"].addEventListener("changestart",function(t){return _this567.Bx(t);}),_this567["#clip-button"].addEventListener("toggle",function(){return _this567.am();}),_this567["#mask-button"].addEventListener("toggle",function(){return _this567.rm();});return _this567;}_createClass(Jx,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this568=this;var t=this.Js.board;this.qs(),t.addEventListener("selectedelementschange",this.Ko=function(){_this568.Qo();}),t.addEventListener("selectedtextrangechange",this.Nh=function(){_this568.Vh();}),t.addEventListener("workspacemutation",this.rn=function(t){_this568.il(t.detail);});}},{key:"sn",value:function sn(){var t=this.Js.board;this["#filter-select"].enabled=!1,this.dm(null),t.removeEventListener("selectedelementschange",this.Ko),t.removeEventListener("selectedtextrangechange",this.Nh),t.removeEventListener("workspacemutation",this.rn);}},{key:"Qo",value:function Qo(){this.wa();}},{key:"Vh",value:function Vh(){this.wa();}},{key:"il",value:function il(t){this.wa();}},{key:"sm",value:function sm(){var t=this.Js.board;if(this.Js.board.undoManager.checkpoint("Apply filter"),"none"===this["#filter-select"].value){var _iterator1059=_createForOfIteratorHelper(this.pm()),_step1059;try{for(_iterator1059.s();!(_step1059=_iterator1059.n()).done;){var _t1546=_step1059.value;_t1546.style.filter="none";}}catch(err){_iterator1059.e(err);}finally{_iterator1059.f();}}else if(this["#filter-select"].value.startsWith("#")){var _t1547=this.Js.board.masterWorkspace.querySelector(this["#filter-select"].value),_e1074=this.pm(),_i1011=this.Js.board.selectedTextRange;var _iterator1060=_createForOfIteratorHelper(_e1074),_step1060;try{for(_iterator1060.s();!(_step1060=_iterator1060.n()).done;){var _s588=_step1060.value;if("text"===_s588.localName&&_i1011&&_s588.contains(_i1011.commonAncestorContainer)){di(_s588,_i1011);var _e1075=_s588.querySelectorAll("tspan"),_n414=pi(_i1011,_s588),_o325=_i1011.collapsed?_e1075:_n414;var _iterator1061=_createForOfIteratorHelper(_o325),_step1061;try{for(_iterator1061.s();!(_step1061=_iterator1061.n()).done;){var _e1076=_step1061.value;_e1076.style.setProperty("filter","url(#".concat(_t1547.id,")"));}}catch(err){_iterator1061.e(err);}finally{_iterator1061.f();}ci(_s588,_i1011);}else _s588.style.setProperty("filter","url(#".concat(_t1547.id,")")),ga("filter",_s588);}}catch(err){_iterator1060.e(err);}finally{_iterator1060.f();}_e1074.find(function(t){return"image"===t.localName;})&&(_t1547.previousElementSibling?_t1547.previousElementSibling.after(_t1547):_t1547.nextElementSibling?_t1547.nextElementSibling.before(_t1547):_t1547.parentElement.append(_t1547));}else{var _e1077=Di("svg:filter"),_i1012=kx(this["#filter-select"].value),_s589=this.Js.board.selectedTextRange;_e1077.id=t.generateUniqueID("".concat(_i1012.name,"-filter")),_x(_e1077,_i1012),t.defs.append(_e1077);var _iterator1062=_createForOfIteratorHelper(this.pm()),_step1062;try{for(_iterator1062.s();!(_step1062=_iterator1062.n()).done;){var _t1548=_step1062.value;if("text"===_t1548.localName&&_s589&&_t1548.contains(_s589.commonAncestorContainer)){di(_t1548,_s589);var _i1013=_t1548.querySelectorAll("tspan"),_n415=pi(_s589,_t1548),_o326=_s589.collapsed?_i1013:_n415;var _iterator1063=_createForOfIteratorHelper(_o326),_step1063;try{for(_iterator1063.s();!(_step1063=_iterator1063.n()).done;){var _t1549=_step1063.value;_t1549.style.setProperty("filter","url(#".concat(_e1077.id,")"));}}catch(err){_iterator1063.e(err);}finally{_iterator1063.f();}ci(_t1548,_s589);}else _t1548.style.setProperty("filter","url(#".concat(_e1077.id,")")),ga("filter",_t1548);}}catch(err){_iterator1062.e(err);}finally{_iterator1062.f();}}this.Js.board.collectGarbage();}},{key:"nm",value:function nm(){var t=this["#filter-select"].value,e=[];var _iterator1064=_createForOfIteratorHelper(this.Js.board.selectedObjectElements),_step1064;try{for(_iterator1064.s();!(_step1064=_iterator1064.n()).done;){var _i1015=_step1064.value;var _s590=so.fromString(getComputedStyle(_i1015).filter);if(_s590&&"#"===_s590.value[0]){var _i1016=this.Js.board.masterWorkspace.querySelector(_s590.value),_n416=Sx(_i1016);_n416&&_n416.name===t&&e.push(_i1016);}}}catch(err){_iterator1064.e(err);}finally{_iterator1064.f();}if(e.length>0){this.Js.board.undoManager.checkpoint("Convert to custom filter");var _iterator1065=_createForOfIteratorHelper(e),_step1065;try{for(_iterator1065.s();!(_step1065=_iterator1065.n()).done;){var _i1014=_step1065.value;{var _e1078=_i1014.querySelector(":scope > title");_e1078||(_e1078=Di("svg:bx-title"),_i1014.prepend(_e1078)),_e1078.textContent=u[t];}_i1014.removeAttribute("data-bx-preset");}}catch(err){_iterator1065.e(err);}finally{_iterator1065.f();}}}},{key:"om",value:function om(){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.editFilter(this["#filter-select"].value.substring(1));}},{key:"lm",value:function lm(){this.Js.board.undoManager.checkpoint("Blend mode");var t=this.Js.board.selectedTextRange,e=this["#blend-mode-select"].value;var _iterator1066=_createForOfIteratorHelper(this.pm()),_step1066;try{for(_iterator1066.s();!(_step1066=_iterator1066.n()).done;){var _i1017=_step1066.value;if("text"===_i1017.localName&&t&&_i1017.contains(t.commonAncestorContainer)){di(_i1017,t);var _s591=_i1017.querySelectorAll("tspan"),_n417=pi(t,_i1017),_o327=t.collapsed?_s591:_n417;var _iterator1067=_createForOfIteratorHelper(_o327),_step1067;try{for(_iterator1067.s();!(_step1067=_iterator1067.n()).done;){var _t1550=_step1067.value;_t1550.style.setProperty("mix-blend-mode",e);}}catch(err){_iterator1067.e(err);}finally{_iterator1067.f();}ci(_i1017,t);}else _i1017.style.setProperty("mix-blend-mode",e),ga("mix-blend-mode",_i1017);}}catch(err){_iterator1066.e(err);}finally{_iterator1066.f();}}},{key:"hm",value:function hm(){this.Js.board.undoManager.checkpoint("Isolate");var t=this.Js.board.selectedTextRange,e=this["#isolation-checkbox"].toggled?"isolate":"auto";var _iterator1068=_createForOfIteratorHelper(this.pm()),_step1068;try{for(_iterator1068.s();!(_step1068=_iterator1068.n()).done;){var _i1018=_step1068.value;if("text"===_i1018.localName&&t&&_i1018.contains(t.commonAncestorContainer)){di(_i1018,t);var _s592=_i1018.querySelectorAll("tspan"),_n418=pi(t,_i1018),_o328=t.collapsed?_s592:_n418;var _iterator1069=_createForOfIteratorHelper(_o328),_step1069;try{for(_iterator1069.s();!(_step1069=_iterator1069.n()).done;){var _t1551=_step1069.value;_t1551.style.setProperty("isolation",e);}}catch(err){_iterator1069.e(err);}finally{_iterator1069.f();}ci(_i1018,t);}else _i1018.style.setProperty("isolation",e),ga("isolation",_i1018);}}catch(err){_iterator1068.e(err);}finally{_iterator1068.f();}}},{key:"Bx",value:function Bx(){var _this569=this;this.Js.board.undoManager.checkpoint("Opacity");var t,_e1079,i=this.pm(),s=this.Js.board.selectedTextRange,n=[],o=[];var _iterator1070=_createForOfIteratorHelper(i),_step1070;try{for(_iterator1070.s();!(_step1070=_iterator1070.n()).done;){var _t1556=_step1070.value;if("text"===_t1556.localName&&s&&_t1556.contains(s.commonAncestorContainer)){di(_t1556,s),n.push(_t1556);var _e1080=_t1556.querySelectorAll("tspan"),_i1019=pi(s,_t1556),_l277=s.collapsed?_e1080:_i1019;o.push.apply(o,_toConsumableArray(_l277));}else o.push(_t1556);}}catch(err){_iterator1070.e(err);}finally{_iterator1070.f();}this.Lx=!0,this["#opacity-section"].addEventListener("change",t=function t(_t1553){_t1553.target===_this569["#opacity-slider"]?_this569["#opacity-input"].value=_this569["#opacity-slider"].value:_t1553.target===_this569["#opacity-input"]&&(_this569["#opacity-slider"].value=_this569["#opacity-input"].value),_this569["#opacity-slider"].mixed=!1,_this569["#opacity-input"].mixed=!1;var _iterator1071=_createForOfIteratorHelper(o),_step1071;try{for(_iterator1071.s();!(_step1071=_iterator1071.n()).done;){var _t1552=_step1071.value;_t1552.style.setProperty("opacity",_this569["#opacity-slider"].value);}}catch(err){_iterator1071.e(err);}finally{_iterator1071.f();}}),this["#opacity-section"].addEventListener("changeend",_e1079=function e(){_this569["#opacity-section"].removeEventListener("change",t),_this569["#opacity-section"].removeEventListener("changeend",_e1079),_this569.Lx=!1;var _iterator1072=_createForOfIteratorHelper(o),_step1072;try{for(_iterator1072.s();!(_step1072=_iterator1072.n()).done;){var _t1554=_step1072.value;ga("opacity",_t1554);}}catch(err){_iterator1072.e(err);}finally{_iterator1072.f();}var _iterator1073=_createForOfIteratorHelper(n),_step1073;try{for(_iterator1073.s();!(_step1073=_iterator1073.n()).done;){var _t1555=_step1073.value;ci(_t1555,s);}}catch(err){_iterator1073.e(err);}finally{_iterator1073.f();}});}},{key:"am",value:function am(){this["#clip-button"].toggled?this.Qs.execCommand("clip"):this.Qs.execCommand("unclip");}},{key:"rm",value:function rm(){this["#mask-button"].toggled?this.Qs.execCommand("mask"):this.Qs.execCommand("unmask");}},{key:"dm",value:function dm(t){var e=this["#filter-settings-wrapper"].firstElementChild;if(t!==(e?e.dataset.name:null)){var _e1081="";"drop-shadow"===t?_e1081='<bx-dropshadowfilterinspector data-name="drop-shadow"/>':"inner-shadow"===t?_e1081='<bx-innershadowfilterinspector data-name="inner-shadow"/>':"point-light"===t?_e1081='<bx-pointlightfilterinspector data-name="point-light"/>':"spot-light"===t?_e1081='<bx-spotlightfilterinspector data-name="spot-light"/>':"outline"===t?_e1081='<bx-outlinefilterinspector data-name="outline"/>':"gaussian-blur"===t?_e1081='<bx-gaussianblurfilterinspector data-name="gaussian-blur"/>':"motion-blur"===t?_e1081='<bx-motionblurfilterinspector data-name="motion-blur"/>':"warp"===t?_e1081='<bx-warpfilterinspector data-name="warp"/>':"pixelete"===t?_e1081='<bx-pixeletefilterinspector data-name="pixelete"/>':"morphology"===t?_e1081='<bx-morphologyfilterinspector data-name="morphology"/>':"black-and-white"===t?_e1081='<bx-blackandwhitefilterinspector data-name="black-and-white"/>':"grayscale"===t?_e1081='<bx-grayscalefilterinspector data-name="grayscale"/>':"sepia"===t?_e1081='<bx-sepiafilterinspector data-name="sepia"/>':"saturate"===t?_e1081='<bx-saturatefilterinspector data-name="saturate"/>':"hue-rotate"===t?_e1081='<bx-huerotatefilterinspector data-name="hue-rotate"/>':"invert"===t?_e1081='<bx-invertfilterinspector data-name="invert"/>':"brightness"===t?_e1081='<bx-brightnessfilterinspector data-name="brightness"/>':"contrast"===t?_e1081='<bx-contrastfilterinspector data-name="contrast"/>':"posterize"===t?_e1081='<bx-posterizefilterinspector data-name="posterize"/>':"duotone"===t?_e1081='<bx-duotonefilterinspector data-name="duotone"/>':"x-ray"===t&&(_e1081=""),this["#filter-settings-wrapper"].innerHTML=_e1081;}}},{key:"pm",value:function pm(){var t=[];var _iterator1074=_createForOfIteratorHelper(this.Js.board.outermostSelectedElements),_step1074;try{for(_iterator1074.s();!(_step1074=_iterator1074.n()).done;){var _e1082=_step1074.value;D.includes(_e1082.localName)&&t.push(_e1082);}}catch(err){_iterator1074.e(err);}finally{_iterator1074.f();}return t;}},{key:"qs",value:function qs(){var t=[],e=Symbol();var _iterator1075=_createForOfIteratorHelper(this.pm()),_step1075;try{for(_iterator1075.s();!(_step1075=_iterator1075.n()).done;){var _e1086=_step1075.value;if("text"===_e1086.localName){var _i1027=this.Js.board.selectedTextRange;if(_i1027&&_i1027.intersectsNode(_e1086)){var _s598=xi(_e1086);"backward"===_i1027.direction&&_s598.reverse();var _iterator1079=_createForOfIteratorHelper(_s598),_step1079;try{for(_iterator1079.s();!(_step1079=_iterator1079.n()).done;){var _e1087=_step1079.value;_i1027.intersectsNode(_e1087)&&(t.includes(_e1087.parentElement)||t.push(_e1087.parentElement));}}catch(err){_iterator1079.e(err);}finally{_iterator1079.f();}}else t.push(_e1086);}else t.push(_e1086);}}catch(err){_iterator1075.e(err);}finally{_iterator1075.f();}for(var _i1020=0,_t1557=t;_i1020<_t1557.length;_i1020++){var _i1021=_t1557[_i1020];_i1021[e]=getComputedStyle(_i1021);}if(this["#panel-heading"].disabled=0===t.length,0===t.length)this["#filter-section-heading"].disabled=!0,this["#filter-select"].value="none",this["#filter-select"].enabled=!1,this["#filter-select"].mixed=!1,this["#filter-convert-button"].hidden=!0,this["#filter-edit-button"].hidden=!0,this["#filter-settings-wrapper"].innerHTML="";else{var _e1083=t.map(function(t){return zx(t);}),_e1084=_toArray(_e1083),_i1022=_e1084[0],_s593=_e1084.slice(1),_e1083$map=_e1083.map(function(t){return t?Sx(t):null;}),_e1083$map2=_toArray(_e1083$map),_n419=_e1083$map2[0],_o329=_e1083$map2.slice(1),_l278=!1;!!_i1022&&getComputedStyle(_i1022).display;var _iterator1076=_createForOfIteratorHelper(_o329),_step1076;try{for(_iterator1076.s();!(_step1076=_iterator1076.n()).done;){var _t1558=_step1076.value;if(null===_n419){if(null!==_t1558){_l278=!0;break;}}else if(null===_t1558||_t1558.name!==_n419.name){_l278=!0;break;}}}catch(err){_iterator1076.e(err);}finally{_iterator1076.f();}_n419?(this["#filter-section-heading"].disabled=!1,this["#filter-select"].value=_n419.name,this["#filter-select"].enabled=!0,this["#filter-select"].mixed=_l278,this["#filter-convert-button"].hidden=!1,this["#filter-edit-button"].hidden=!0,this.dm(_n419.name)):_i1022?(this["#filter-section-heading"].disabled=!1,this["#filter-select"].value="#"+_i1022.id,this["#filter-select"].enabled=!0,this["#filter-select"].mixed=_l278,this["#filter-convert-button"].hidden=!0,this["#filter-edit-button"].hidden=!1,this.dm(null)):(this["#filter-section-heading"].disabled=!1,this["#filter-select"].value="none",this["#filter-select"].enabled=!0,this["#filter-select"].mixed=_l278,this["#filter-convert-button"].hidden=!0,this["#filter-edit-button"].hidden=!0,this.dm(null));}{var _i1023=t[0],_s594=t.slice(1);if(_i1023){var _t1559=_i1023[e],_n420=_t1559.getPropertyValue("mix-blend-mode"),_o330=_t1559.getPropertyValue("isolation"),_l279=!1,_h211=!1;var _iterator1077=_createForOfIteratorHelper(_s594),_step1077;try{for(_iterator1077.s();!(_step1077=_iterator1077.n()).done;){var _t1560=_step1077.value;var _i1024=_t1560[e],_s595=_i1024.getPropertyValue("mix-blend-mode"),_a167=_i1024.getPropertyValue("isolation");_s595!==_n420&&(_l279=!0),_a167!==_o330&&(_h211=!0);}}catch(err){_iterator1077.e(err);}finally{_iterator1077.f();}this["#blend-mode-section-heading"].disabled=!1,this["#blend-mode-select"].value=_i1023[e].getPropertyValue("mix-blend-mode"),this["#blend-mode-select"].disabled=!1,this["#blend-mode-select"].mixed=_l279,this["#isolation-checkbox"].toggled="isolate"===_o330,this["#isolation-checkbox"].disabled=!1,this["#isolation-checkbox"].mixed=_h211,this["#isolation-label"].disabled=!1;}else this["#blend-mode-section-heading"].disabled=!0,this["#blend-mode-select"].value="normal",this["#blend-mode-select"].disabled=!0,this["#blend-mode-select"].mixed=!1,this["#isolation-checkbox"].disabled=!0,this["#isolation-checkbox"].toggled=!1,this["#isolation-checkbox"].mixed=!1,this["#isolation-label"].disabled=!0;}if(!1===this.Lx){var _i1025=t[0],_s596=t.slice(1),_n421=_i1025?X(Qx(_i1025[e].opacity),2):1,_o331=!1;var _iterator1078=_createForOfIteratorHelper(_s596),_step1078;try{for(_iterator1078.s();!(_step1078=_iterator1078.n()).done;){var _t1561=_step1078.value;(_t1561?X(Qx(_t1561[e].opacity),2):1)!==_n421&&(_o331=!0);}}catch(err){_iterator1078.e(err);}finally{_iterator1078.f();}_i1025?(this["#opacity-section-heading"].disabled=!1,this["#opacity-slider"].value=_n421,this["#opacity-slider"].disabled=!1,this["#opacity-slider"].mixed=_o331,this["#opacity-input"].value=_n421,this["#opacity-input"].disabled=!1,this["#opacity-input"].mixed=_o331):(this["#opacity-section-heading"].disabled=!0,this["#opacity-slider"].value=1,this["#opacity-slider"].disabled=!0,this["#opacity-slider"].mixed=!1,this["#opacity-input"].value=1,this["#opacity-input"].disabled=!0,this["#opacity-input"].mixed=!1);}{var _t1562=this.Qs.isCommandEnabled("clip"),_e1085=this.Qs.isCommandEnabled("unclip"),_i1026=this.Qs.isCommandEnabled("mask"),_s597=this.Qs.isCommandEnabled("unmask");this["#clip-button"].toggled=!0===_e1085,this["#clip-button"].disabled=!1===_t1562&&!1===_e1085,this["#mask-button"].toggled=!0===_s597,this["#mask-button"].disabled=!1===_i1026&&!1===_s597,this["#cover-section-heading"].disabled=this["#clip-button"].disabled&&this["#mask-button"].disabled;}}}]);return Jx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Jx,"observedAttributes",["enabled"]);_defineProperty(Jx,"_shadowTemplate",Hi(_templateObject310()));_defineProperty(Jx,"_shadowStyleSheet",Yi(_templateObject311()));customElements.define("bx-compositingpanel",Jx);var tb=/*#__PURE__*/function(_HTMLElement98){_inherits(tb,_HTMLElement98);var _super126=_createSuper(tb);_createClass(tb,[{key:"value",get:function get(){return this._t;},set:function set(t){t!==this._t&&(this._t=t,this.Su());}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function tb(){var _this570;_classCallCheck(this,tb);_this570=_super126.call(this),_this570.tabIndex=0,_this570._t=null,_this570.Gx=Xi(_this570.Fx,600,_assertThisInitialized(_this570)),_this570._shadowRoot=_this570.attachShadow({mode:"closed"}),_this570._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,tb._shadowStyleSheet],_this570._shadowRoot.append(document.importNode(tb._shadowTemplate.content,!0));var _iterator1080=_createForOfIteratorHelper(_this570._shadowRoot.querySelectorAll("[id]")),_step1080;try{for(_iterator1080.s();!(_step1080=_iterator1080.n()).done;){var _t1563=_step1080.value;_this570["#"+_t1563.id]=_t1563;}}catch(err){_iterator1080.e(err);}finally{_iterator1080.f();}_this570.addEventListener("keydown",function(t){return _this570.vn(t);}),_this570["#items"].addEventListener("pointerdown",function(t){return _this570.Wc(t);}),_this570["#sort-select"].addEventListener("change",function(){return _this570.um();}),_this570["#filter-input"].addEventListener("input",function(){return _this570.xm();}),_this570["#manage-button"].addEventListener("click",function(){return _this570.gu();}),_this570.enabled&&_this570.tn();return _this570;}_createClass(tb,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");}},{key:"tn",value:function tn(){this.bm=this.Qs.getConfig("bx-fontfamilypicker:sort","alphabetical"),this["#sort-select"].value=this.bm,this.qs(),this.bu();}},{key:"sn",value:function sn(){}},{key:"Wc",value:function Wc(t){t.target.closest(".item")&&this.gm(t);}},{key:"gm",value:function gm(t){this["#embedded-items"].children,this["#google-fonts-items"].children;var e=t.target.closest(".item").getAttribute("data-family");e!==this.value&&(this.value=e,this.dispatchEvent(new CustomEvent("change")));}},{key:"um",value:function(){var _um=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee106(){return regeneratorRuntime.wrap(function _callee106$(_context107){while(1){switch(_context107.prev=_context107.next){case 0:this.Qs.setConfig("bx-fontfamilypicker:sort",this["#sort-select"].value);this.bm=this["#sort-select"].value;_context107.next=4;return this.fm();case 4:this.Su();this.wm();this.vm();case 7:case"end":return _context107.stop();}}},_callee106,this);}));function um(){return _um.apply(this,arguments);}return um;}()},{key:"xm",value:function xm(){this.wm(),this.vm();}},{key:"gu",value:function gu(){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("fonts-browser");}},{key:"vn",value:function vn(t){var e=to.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Mu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Pu());}},{key:"Mu",value:function Mu(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item:not([hidden])")),e=this["#items"].querySelector(".item[data-selected]");if(e){var _i1028=t.indexOf(e),_s599=t[_i1028-1];_s599&&(_s599.scrollIntoViewIfNeeded(),this.value=_s599.getAttribute("data-family"),this.Gx());}}},{key:"Pu",value:function Pu(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item:not([hidden])")),e=this["#items"].querySelector(".item[data-selected]");if(e){var _i1029=t.indexOf(e),_s600=t[_i1029+1];_s600&&(_s600.scrollIntoViewIfNeeded(),this.value=_s600.getAttribute("data-family"),this.Gx());}}},{key:"bu",value:function bu(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"Fx",value:function Fx(){this.dispatchEvent(new CustomEvent("change"));}},{key:"qs",value:function(){var _qs=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee107(){return regeneratorRuntime.wrap(function _callee107$(_context108){while(1){switch(_context108.prev=_context108.next){case 0:this.ym();_context108.next=3;return this.fm();case 3:this.Su();this.wm();this.vm();case 6:case"end":return _context108.stop();}}},_callee107,this);}));function qs(){return _qs.apply(this,arguments);}return qs;}()},{key:"ym",value:function ym(){var t=document.createDocumentFragment(),e=this.Js.board.fontsManager.getFamilies();var _iterator1081=_createForOfIteratorHelper(e),_step1081;try{for(_iterator1081.s();!(_step1081=_iterator1081.n()).done;){var _i1030=_step1081.value;var _e1088=Hi(_templateObject21(),_i1030,_i1030,_i1030);t.append(_e1088);}}catch(err){_iterator1081.e(err);}finally{_iterator1081.f();}this["#embedded-items"].innerHTML="",this["#embedded-items"].append(t);}},{key:"fm",value:function(){var _fm=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee111(){var _this571=this;return regeneratorRuntime.wrap(function _callee111$(_context112){while(1){switch(_context112.prev=_context112.next){case 0:return _context112.abrupt("return",new Promise(/*#__PURE__*/function(){var _ref132=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee110(t){var _t1564,_e1089,_i1031,_iterator1082,_step1082,_s601,_e1091;return regeneratorRuntime.wrap(function _callee110$(_context111){while(1){switch(_context111.prev=_context111.next){case 0:if(!(0===_this571["#google-fonts-items"].children.length||_this571["#google-fonts-items"].getAttribute("data-sort")!==_this571.bm)){_context111.next=11;break;}_t1564=document.createDocumentFragment();_context111.next=4;return function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"alphabetical";return new Promise(/*#__PURE__*/function(){var _ref133=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee108(e){var i;return regeneratorRuntime.wrap(function _callee108$(_context109){while(1){switch(_context109.prev=_context109.next){case 0:_context109.next=2;return wr();case 2:i=_context109.sent;"alphabetical"===t?e(i.items.map(function(t){return t.family;})):"popularity"!==t&&"trending"!==t&&"date"!==t||e(i.sortedFamilies[t]);case 4:case"end":return _context109.stop();}}},_callee108);}));return function(_x129){return _ref133.apply(this,arguments);};}());}(_this571.bm);case 4:_e1089=_context111.sent;_context111.next=7;return new Promise(/*#__PURE__*/function(){var _ref134=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee109(t){var _e1090,_i1032;return regeneratorRuntime.wrap(function _callee109$(_context110){while(1){switch(_context110.prev=_context110.next){case 0:if(!fr){_context110.next=4;break;}t(fr);_context110.next=11;break;case 4:_context110.next=6;return fetch("metadata/fonts/google-fonts-thumbnails.json");case 6:_e1090=_context110.sent;_context110.next=9;return _e1090.json();case 9:_i1032=_context110.sent;fr=_i1032,t(_i1032);case 11:case"end":return _context110.stop();}}},_callee109);}));return function(_x130){return _ref134.apply(this,arguments);};}());case 7:_i1031=_context111.sent;_iterator1082=_createForOfIteratorHelper(_e1089);try{for(_iterator1082.s();!(_step1082=_iterator1082.n()).done;){_s601=_step1082.value;_e1091=Hi(_templateObject22(),_s601,_i1031[_s601]);_t1564.append(_e1091);}}catch(err){_iterator1082.e(err);}finally{_iterator1082.f();}_this571["#google-fonts-items"].innerHTML="",_this571["#google-fonts-items"].append(_t1564),_this571["#google-fonts-items"].setAttribute("data-sort",_this571.bm);case 11:t();case 12:case"end":return _context111.stop();}}},_callee110);}));return function(_x128){return _ref132.apply(this,arguments);};}()));case 1:case"end":return _context112.stop();}}},_callee111);}));function fm(){return _fm.apply(this,arguments);}return fm;}()},{key:"Su",value:function Su(){var t=this["#items"].querySelector(".item[data-selected]"),e=this["#items"].querySelector(".item[data-family=\"".concat(this.value,"\"]"));t!==e&&(t&&(t.removeAttribute("data-selected"),"img"===t.firstElementChild.localName&&t.firstElementChild.part.remove("selected-thumbnail")),e&&(e.setAttribute("data-selected",""),"img"===e.firstElementChild.localName&&e.firstElementChild.part.add("selected-thumbnail")));}},{key:"wm",value:function wm(){var t=this["#filter-input"].value,e=this["#embedded-items"].children,i=this["#google-fonts-items"].children,s=[];var _iterator1083=_createForOfIteratorHelper(e),_step1083;try{for(_iterator1083.s();!(_step1083=_iterator1083.n()).done;){var _i1033=_step1083.value;var _e1092=_i1033.getAttribute("data-family");_i1033.hidden=!1===_e1092.toLowerCase().startsWith(t.toLowerCase()),s.push(_e1092);}}catch(err){_iterator1083.e(err);}finally{_iterator1083.f();}var _iterator1084=_createForOfIteratorHelper(i),_step1084;try{for(_iterator1084.s();!(_step1084=_iterator1084.n()).done;){var _e1093=_step1084.value;var _i1034=_e1093.getAttribute("data-family");_e1093.hidden=!_i1034.toLowerCase().startsWith(t.toLowerCase())||s.includes(_i1034);}}catch(err){_iterator1084.e(err);}finally{_iterator1084.f();}}},{key:"vm",value:function vm(){var t=null===this["#embedded-items"].querySelector(".item:not([hidden])"),e=null===this["#google-fonts-items"].querySelector(".item:not([hidden])");this["#embedded-items-placeholder"].hidden=!t,this["#google-fonts-items-placeholder"].hidden=!e;}}]);return tb;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(tb,"observedAttributes",["enabled"]);_defineProperty(tb,"_shadowTemplate",Hi(_templateObject312()));_defineProperty(tb,"_shadowStyleSheet",Yi(_templateObject313()));customElements.define("bx-fontfamilypicker",tb);var eb=Math.abs,ib=Number.parseFloat,sb=Object.entries;var nb=/*#__PURE__*/function(_HTMLElement99){_inherits(nb,_HTMLElement99);var _super127=_createSuper(nb);_createClass(nb,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function nb(){var _this572;_classCallCheck(this,nb);_this572=_super127.call(this),_this572.wa=qi(_this572.qs,200,_assertThisInitialized(_this572)),_this572.km=!1,_this572.Sm=!1,_this572._m=!1,_this572.Cm=!1,_this572.Mm=!1,_this572.Pm=!1,_this572._shadowRoot=_this572.attachShadow({mode:"closed"}),_this572._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,nb._shadowStyleSheet],_this572._shadowRoot.append(document.importNode(nb._shadowTemplate.content,!0));var _iterator1085=_createForOfIteratorHelper(_this572._shadowRoot.querySelectorAll("[id]")),_step1085;try{for(_iterator1085.s();!(_step1085=_iterator1085.n()).done;){var _t1565=_step1085.value;_this572["#"+_t1565.id]=_t1565;}}catch(err){_iterator1085.e(err);}finally{_iterator1085.f();}_this572["#font-family-popover"].addEventListener("open",function(){return _this572.Dm();}),_this572["#font-family-popover"].addEventListener("close",function(){return _this572.zm();}),_this572["#font-family-picker"].addEventListener("change",function(){return _this572.Om();}),_this572["#font-weight-select"].addEventListener("change",function(){return _this572.Em();}),_this572["#font-style-button"].addEventListener("toggle",function(){return _this572.Tm();}),_this572["#font-size-box"].addEventListener("changestart",function(){return _this572.Am();}),_this572["#text-decoration-buttons"].addEventListener("toggle",function(t){return _this572.$m(t);}),_this572["#text-transform-buttons"].addEventListener("toggle",function(t){return _this572.Im(t);}),_this572["#text-anchor-buttons"].addEventListener("toggle",function(){return _this572.Lm();}),_this572["#text-on-path-button"].addEventListener("toggle",function(){return _this572.Bm();}),_this572["#path-start-offset-slider"].addEventListener("changestart",function(){return _this572.Rm();}),_this572["#path-start-offset-input"].addEventListener("changestart",function(){return _this572.Rm();}),_this572["#letter-spacing-slider"].addEventListener("changestart",function(){return _this572.Gm();}),_this572["#letter-spacing-input"].addEventListener("changestart",function(){return _this572.Gm();}),_this572["#word-spacing-slider"].addEventListener("changestart",function(){return _this572.Fm();}),_this572["#word-spacing-input"].addEventListener("changestart",function(){return _this572.Fm();}),_this572["#line-spacing-slider"].addEventListener("changestart",function(){return _this572.Um();}),_this572["#line-spacing-input"].addEventListener("changestart",function(){return _this572.Um();});return _this572;}_createClass(nb,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this.wu=Ti(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this573=this;this.qs();var t=this.Js.board;this["#font-family-picker"].enabled=!0,this["#font-family-popover"].style.width=this["#font-family-button"].clientWidth+"px",t.addEventListener("selectedelementschange",this.Ko=function(){_this573.Qo();}),t.addEventListener("selectedtextrangechange",this.Nh=function(){_this573.Vh();}),t.addEventListener("workspacemutation",this.rn=function(t){_this573.il(t.detail);}),this.wu.addEventListener("resize",this.vu=function(){_this573.yu();});}},{key:"sn",value:function sn(){var t=this.Js.board;this["#font-family-button"].collapse(),t.removeEventListener("selectedelementschange",this.Ko),t.removeEventListener("selectedtextrangechange",this.Nh),t.removeEventListener("workspacemutation",this.rn),this.wu.removeEventListener("resize",this.vu);}},{key:"Qo",value:function Qo(){this.wa();}},{key:"Vh",value:function Vh(){this.wa();}},{key:"il",value:function il(t){this.wa();}},{key:"yu",value:function yu(){this["#font-family-popover"].style.width=this["#font-family-button"].clientWidth+"px";}},{key:"Dm",value:function(){var _Dm=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee112(){return regeneratorRuntime.wrap(function _callee112$(_context113){while(1){switch(_context113.prev=_context113.next){case 0:this["#font-family-picker"].enabled=!0;_context113.next=3;return Ki(10);case 3:this["#font-family-picker"].focus();case 4:case"end":return _context113.stop();}}},_callee112,this);}));function Dm(){return _Dm.apply(this,arguments);}return Dm;}()},{key:"zm",value:function(){var _zm=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee113(){return regeneratorRuntime.wrap(function _callee113$(_context114){while(1){switch(_context114.prev=_context114.next){case 0:this["#font-family-picker"].enabled=!1;_context114.next=3;return Ki(200);case 3:this.Js.board.collectGarbage();"bx-chromeapp"!==this.Qs.localName&&this.Js.board.fontsManager.embedLinkedFonts();case 5:case"end":return _context114.stop();}}},_callee113,this);}));function zm(){return _zm.apply(this,arguments);}return zm;}()},{key:"Om",value:function(){var _Om=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee114(){var t,e,i,s,_t1566,_iterator1086,_step1086,_step1086$value,_i1035,_n422,_t1567,_o332,_e1094,_i1036,_l280,_t1568,_i1037,_iterator1087,_step1087,_s602,_t1569,_n423,_o333,_iterator1088,_step1088,_t1570;return regeneratorRuntime.wrap(function _callee114$(_context115){while(1){switch(_context115.prev=_context115.next){case 0:t=this.Js.board,e=this["#font-family-picker"].value,i=t.fontsManager.getFamilies(),s=[];if(!(this.km=!0,!1===i.includes(e))){_context115.next=49;break;}_context115.next=4;return wr();case 4:_t1566=_context115.sent.items.find(function(t){return t.family===e;});if(!_t1566){_context115.next=49;break;}_iterator1086=_createForOfIteratorHelper(sb(_t1566.urls));_context115.prev=7;_iterator1086.s();case 9:if((_step1086=_iterator1086.n()).done){_context115.next=31;break;}_step1086$value=_slicedToArray(_step1086.value,2),_i1035=_step1086$value[0],_n422=_step1086$value[1];_t1567=void 0,_o332={weight:_i1035.substring(0,3),style:_i1035.includes("italic")?"italic":"normal"};if(!("bx-chromeapp"!==this.Qs.localName)){_context115.next=16;break;}_t1567="url("+_n422+")";_context115.next=27;break;case 16:_context115.next=18;return fetch(_n422);case 18:_e1094=_context115.sent;_context115.next=21;return _e1094.blob();case 21:_i1036=_context115.sent;_context115.next=24;return Ra(_i1036);case 24:_context115.t0=_context115.sent;_context115.t1='url("'+_context115.t0;_t1567=_context115.t1+'")';case 27:_l280=new FontFace(e,_t1567,_o332);_l280.src=_t1567,s.push(_l280);case 29:_context115.next=9;break;case 31:_context115.next=36;break;case 33:_context115.prev=33;_context115.t2=_context115["catch"](7);_iterator1086.e(_context115.t2);case 36:_context115.prev=36;_iterator1086.f();return _context115.finish(36);case 39:_context115.prev=39;_context115.next=42;return Promise.all(s.map(function(t){return t.load();}));case 42:_context115.next=49;break;case 44:_context115.prev=44;_context115.t3=_context115["catch"](39);_context115.next=48;return Ki(100);case 48:return _context115.abrupt("return",void this.Qs.openMessageDialog({message:"Can't load the chosen font family",detail:_context115.t3.message,buttons:["OK"]}));case 49:this.Js.board.undoManager.checkpoint("Font family"),s.length>0&&this.Js.board.fontsManager.addFonts(s);_t1568=this.$d(),_i1037=this.Js.board.selectedTextRange;_iterator1087=_createForOfIteratorHelper(_t1568);try{for(_iterator1087.s();!(_step1087=_iterator1087.n()).done;){_s602=_step1087.value;di(_s602,_i1037);_t1569=_s602.querySelectorAll("tspan"),_n423=pi(_i1037,_s602),_o333=_n423.length>0&&!_i1037.collapsed?_n423:_t1569;_iterator1088=_createForOfIteratorHelper(_o333);try{for(_iterator1088.s();!(_step1088=_iterator1088.n()).done;){_t1570=_step1088.value;_t1570.style.fontFamily="\"".concat(e,"\"");}}catch(err){_iterator1088.e(err);}finally{_iterator1088.f();}ci(_s602,_i1037);}}catch(err){_iterator1087.e(err);}finally{_iterator1087.f();}this.km=!1;case 54:case"end":return _context115.stop();}}},_callee114,this,[[7,33,36,39],[39,44]]);}));function Om(){return _Om.apply(this,arguments);}return Om;}()},{key:"Em",value:function Em(){this.Js.board.undoManager.checkpoint("Font weight");var t=this.$d(),e=this["#font-weight-select"].value,i=this.Js.board.selectedTextRange;var _iterator1089=_createForOfIteratorHelper(t),_step1089;try{for(_iterator1089.s();!(_step1089=_iterator1089.n()).done;){var _s603=_step1089.value;di(_s603,i);var _t1571=_s603.querySelectorAll("tspan"),_n424=pi(i,_s603),_o334=_n424.length>0&&!i.collapsed?_n424:_t1571;var _iterator1090=_createForOfIteratorHelper(_o334),_step1090;try{for(_iterator1090.s();!(_step1090=_iterator1090.n()).done;){var _t1572=_step1090.value;_t1572.style.setProperty("font-weight",e);}}catch(err){_iterator1090.e(err);}finally{_iterator1090.f();}ci(_s603,i);}}catch(err){_iterator1089.e(err);}finally{_iterator1089.f();}}},{key:"Tm",value:function Tm(){this.Js.board.undoManager.checkpoint("Font style");var t=this.$d(),e=this["#font-style-button"].toggled?"italic":"normal",i=this.Js.board.selectedTextRange;var _iterator1091=_createForOfIteratorHelper(t),_step1091;try{for(_iterator1091.s();!(_step1091=_iterator1091.n()).done;){var _s604=_step1091.value;di(_s604,i);var _t1573=_s604.querySelectorAll("tspan"),_n425=pi(i,_s604),_o335=_n425.length>0&&!i.collapsed?_n425:_t1573;var _iterator1092=_createForOfIteratorHelper(_o335),_step1092;try{for(_iterator1092.s();!(_step1092=_iterator1092.n()).done;){var _t1574=_step1092.value;_t1574.style.setProperty("font-style",e);}}catch(err){_iterator1092.e(err);}finally{_iterator1092.f();}ci(_s604,i);}}catch(err){_iterator1091.e(err);}finally{_iterator1091.f();}}},{key:"Am",value:function Am(){var _this574=this;this.Js.board.undoManager.checkpoint("Font size");var t,_e1096,i=Symbol(),s=Symbol(),n=this.$d(),o=this.Js.board.selectedTextRange;var _iterator1093=_createForOfIteratorHelper(n),_step1093;try{for(_iterator1093.s();!(_step1093=_iterator1093.n()).done;){var _t1579=_step1093.value;di(_t1579,o);var _e1097=_t1579.querySelectorAll("tspan"),_n427=pi(o,_t1579),_l281=_n427.length>0&&!o.collapsed?_n427:_e1097;_t1579[i]=_l281,_t1579[s]=Bl(Nt(_t1579,this.Js.board.currentWorkspace).inverse()).scaleY;}}catch(err){_iterator1093.e(err);}finally{_iterator1093.f();}this.Sm=!0,this["#font-size-box"].addEventListener("change",t=function t(_t1577){_t1577.target===_this574["#font-size-slider"]?_this574["#font-size-input"].value=_this574["#font-size-slider"].value:_t1577.target===_this574["#font-size-input"]&&(_this574["#font-size-slider"].value=_this574["#font-size-input"].value),_this574["#font-size-input"].mixed=!1,_this574["#font-size-slider"].mixed=!1;var _iterator1094=_createForOfIteratorHelper(n),_step1094;try{for(_iterator1094.s();!(_step1094=_iterator1094.n()).done;){var _t1575=_step1094.value;var _e1095=_t1575[i],_n426=_t1575[s],_o336=_this574["#font-size-input"].value*_n426;if(_e1095.length>0){var _iterator1095=_createForOfIteratorHelper(_e1095),_step1095;try{for(_iterator1095.s();!(_step1095=_iterator1095.n()).done;){var _t1576=_step1095.value;_t1576.style.setProperty("font-size",_o336);}}catch(err){_iterator1095.e(err);}finally{_iterator1095.f();}}else _t1575.style.setProperty("font-size",_o336);}}catch(err){_iterator1094.e(err);}finally{_iterator1094.f();}}),this["#font-size-box"].addEventListener("changeend",_e1096=function e(){_this574["#font-size-box"].removeEventListener("change",t),_this574["#font-size-box"].removeEventListener("changeend",_e1096);var _iterator1096=_createForOfIteratorHelper(n),_step1096;try{for(_iterator1096.s();!(_step1096=_iterator1096.n()).done;){var _t1578=_step1096.value;ci(_t1578,o);}}catch(err){_iterator1096.e(err);}finally{_iterator1096.f();}_this574.Sm=!1;});}},{key:"$m",value:function $m(t){this.Js.board.undoManager.checkpoint("Text decoration");var e=t.detail,i=this.$d(),s=this.Js.board.selectedTextRange;var _iterator1097=_createForOfIteratorHelper(i),_step1097;try{for(_iterator1097.s();!(_step1097=_iterator1097.n()).done;){var _t1580=_step1097.value;di(_t1580,s);var _i1038=[];if(s&&_t1580.contains(s.commonAncestorContainer)){var _e1098=_t1580.querySelectorAll("tspan"),_n428=pi(s,_t1580),_o337=s.collapsed?_e1098:_n428;_i1038.push.apply(_i1038,_toConsumableArray(_o337));}else _i1038.push(_t1580);for(var _i1040=0,_i1039=_i1038;_i1040<_i1039.length;_i1040++){var _t1581=_i1039[_i1040];var _i1041=getComputedStyle(_t1581).getPropertyValue("text-decoration"),_s605=_i1041.includes("underline"),_n429=_i1041.includes("line-through"),_o338=_i1041.includes("overline");"underline"===e.value?_s605=e.toggled:"line-through"===e.value?_n429=e.toggled:"overline"===e.value&&(_o338=e.toggled);var _l282=[];_s605&&_l282.push("underline"),_n429&&_l282.push("line-through"),_o338&&_l282.push("overline"),0===_l282.length?_t1581.style.removeProperty("text-decoration"):_t1581.style.setProperty("text-decoration",_l282.join(" "));}ci(_t1580,s);}}catch(err){_iterator1097.e(err);}finally{_iterator1097.f();}}},{key:"Im",value:function Im(t){this.Js.board.undoManager.checkpoint("Text transform");var e=this.$d(),i=this["#text-transform-buttons"].value||"none",s=this.Js.board.selectedTextRange;var _iterator1098=_createForOfIteratorHelper(e),_step1098;try{for(_iterator1098.s();!(_step1098=_iterator1098.n()).done;){var _t1582=_step1098.value;di(_t1582,s);var _e1099=_t1582.querySelectorAll("tspan"),_n430=pi(s,_t1582),_o339=_n430.length>0&&!s.collapsed?_n430:_e1099;var _iterator1099=_createForOfIteratorHelper(_o339),_step1099;try{for(_iterator1099.s();!(_step1099=_iterator1099.n()).done;){var _t1583=_step1099.value;_t1583.style.setProperty("text-transform",i);}}catch(err){_iterator1099.e(err);}finally{_iterator1099.f();}ci(_t1582,s);}}catch(err){_iterator1098.e(err);}finally{_iterator1098.f();}}},{key:"Lm",value:function Lm(){this.Js.board.undoManager.checkpoint("Text anchor");var t=this.$d(),e=this["#text-anchor-buttons"].value||"start";var _iterator1100=_createForOfIteratorHelper(t),_step1100;try{for(_iterator1100.s();!(_step1100=_iterator1100.n()).done;){var _i1042=_step1100.value;!1===(null!==_i1042.querySelector("textPath"))&&(_i1042.style.setProperty("text-anchor",e),ga("text-anchor",_i1042));}}catch(err){_iterator1100.e(err);}finally{_iterator1100.f();}}},{key:"Bm",value:function(){var _Bm=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee115(){var t,e,i,_s606,_n431,_o340,_o341,_e1100,_i1043,_iterator1101,_step1101,_e1101,_i1044,_s607,_n432,_o342,_l283,_h212,_a168,_r102,_d80,_s608,_n433,_s609,_o343,_l284,_i1045,_o344,_l285,_h213,_a169,_c65,_p54,_Bl20,_u45;return regeneratorRuntime.wrap(function _callee115$(_context116){while(1){switch(_context116.prev=_context116.next){case 0:t=this.Js.board,e=!1,i=Zi(function(){return t.undoManager.checkpoint("Put text on path");});if(!(2===t.outermostSelectedElements.length)){_context116.next=20;break;}_s606=t.outermostSelectedElements.find(function(t){return"text"===t.localName;}),_n431=t.outermostSelectedElements.find(function(t){return x.includes(t.localName);});if(!(_s606&&_n431)){_context116.next=20;break;}if(!(null!==_s606.querySelector("textPath"))){_context116.next=8;break;}e=!1;_context116.next=20;break;case 8:if(!("path"===_n431.localName)){_context116.next=12;break;}e=!0;_context116.next=20;break;case 12:_o340=Ri(_n431).toLowerCase();_context116.next=15;return this.Qs.openMessageDialog({message:"Convert ".concat(_o340," to path?"),detail:"This shape must be converted to path before you put a text on it.",buttons:["Convert","Cancel"]});case 15:_context116.t0=_context116.sent;if(!(0!==_context116.t0)){_context116.next=18;break;}return _context116.abrupt("return",void(this["#text-on-path-button"].toggled=!this["#text-on-path-button"].toggled));case 18:_o341=oa(_n431,this.Js.board.geometryPrecision);i(),_n431.replaceWith(_o341),t.selectedElements=[_s606,_o341],e=!0;case 20:if(!(i(),e)){_context116.next=25;break;}_e1100=t.outermostSelectedElements.find(function(t){return"text"===t.localName;}),_i1043=t.outermostSelectedElements.find(function(t){return"path"===t.localName;});!1===_i1043.hasAttribute("id")&&_i1043.setAttribute("id",this.Js.board.generateUniqueID("path")),_e1100.removeAttribute("transform"),_e1100.innerHTML="<textPath href=\"#".concat(_i1043.id,"\">").concat(_e1100.innerHTML,"</textPath>");_context116.next=57;break;case 25:_iterator1101=_createForOfIteratorHelper(this.$d());_context116.prev=26;_iterator1101.s();case 28:if((_step1101=_iterator1101.n()).done){_context116.next=49;break;}_e1101=_step1101.value;_i1044=_e1101.querySelector("textPath");_s607=getComputedStyle(_e1101);_n432=ib(_s607.fontSize);_o342=mp.fromString(_s607.fontFamily).items[0];_l283=Op(_s607.fontWeight);_h212=_s607.fontStyle;_a168=t.fontsManager.getMatchedFont(_o342,_l283,_h212);if(!_a168){_context116.next=43;break;}_context116.next=40;return $p(_a168);case 40:_context116.t1=_context116.sent;_context116.next=44;break;case 43:_context116.t1=1;case 44:_r102=_context116.t1;_d80=_i(_e1101);if(_i1044){_s608=_i1044.href.baseVal.trim(),_n433=_s608.length>1?_s608.substring(1):null;if(null!==_n433){_s609=t.workspaces.querySelector("#"+CSS.escape(_n433)),_o343=_d80.x,_l284=_d80.y+_d80.height*_r102;_s609.remove(),_e1101.innerHTML=_i1044.innerHTML,_e1101.setAttribute("x",_o343),_e1101.setAttribute("y",_l284);}}else{_i1045=Ut(_e1101),_o344=new DOMPoint(_d80.x,_d80.y+_d80.height*_r102),_l285=new DOMPoint(_d80.x+_d80.width/2,_d80.y),_h213=new DOMPoint(_d80.x+_d80.width,_d80.y+_d80.height*_r102);_o344=_o344.matrixTransform(_i1045),_l285=_l285.matrixTransform(_i1045),_h213=_h213.matrixTransform(_i1045);_a169="M ".concat(_o344.x," ").concat(_o344.y," Q ").concat(_l285.x," ").concat(_l285.y," ").concat(_h213.x," ").concat(_h213.y),_c65=t.generateUniqueID("text-path"),_p54=Wi(_templateObject23(),_c65,_a169);t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_p54),"start"!==_s607.textAnchor&&(_e1101.style.setProperty("text-anchor","start"),ga("text-anchor",_e1101)),_e1101.innerHTML="<textPath href=\"#".concat(_c65,"\">").concat(_e1101.innerHTML,"</textPath>");_Bl20=Bl(_i1045),_u45=_Bl20.scaleY;_e1101.style.fontSize=X(_n432*_u45,2),_e1101.removeAttribute("transform"),_e1101.removeAttribute("x"),_e1101.removeAttribute("y");}case 47:_context116.next=28;break;case 49:_context116.next=54;break;case 51:_context116.prev=51;_context116.t2=_context116["catch"](26);_iterator1101.e(_context116.t2);case 54:_context116.prev=54;_iterator1101.f();return _context116.finish(54);case 57:t.selectedElements=_toConsumableArray(t.selectedElements);case 58:case"end":return _context116.stop();}}},_callee115,this,[[26,51,54,57]]);}));function Bm(){return _Bm.apply(this,arguments);}return Bm;}()},{key:"Rm",value:function Rm(){var _this575=this;var t,_e1102,i=this.Js.board,s=this.$d().map(function(t){return t.querySelector("textPath");}).filter(function(t){return null!==t;});i.undoManager.checkpoint("Text path start offset"),this._m=!0,this["#path-start-offset-box"].addEventListener("change",t=function t(_t1585){_t1585.target===_this575["#path-start-offset-slider"]?_this575["#path-start-offset-input"].value=_this575["#path-start-offset-slider"].value:_t1585.target===_this575["#path-start-offset-input"]&&(_this575["#path-start-offset-slider"].value=_this575["#path-start-offset-input"].value),_this575["#path-start-offset-slider"].mixed=!1,_this575["#path-start-offset-input"].mixed=!1;var _iterator1102=_createForOfIteratorHelper(s),_step1102;try{for(_iterator1102.s();!(_step1102=_iterator1102.n()).done;){var _t1584=_step1102.value;_t1584.startOffset.baseVal.value=_this575["#path-start-offset-input"].value;}}catch(err){_iterator1102.e(err);}finally{_iterator1102.f();}}),this["#path-start-offset-box"].addEventListener("changeend",_e1102=function e(){_this575["#path-start-offset-box"].removeEventListener("change",t),_this575["#path-start-offset-box"].removeEventListener("changeend",_e1102),_this575._m=!1;});}},{key:"Gm",value:function Gm(){var _this576=this;var t,_e1104,i=this.Js.board,s=this.$d(),n=i.selectedTextRange,o=Symbol();i.undoManager.checkpoint("Letter spacing");var _iterator1103=_createForOfIteratorHelper(s),_step1103;try{for(_iterator1103.s();!(_step1103=_iterator1103.n()).done;){var _t1590=_step1103.value;di(_t1590,n);var _e1105=_t1590.querySelectorAll("tspan"),_i1046=pi(n,_t1590),_s610=_i1046.length>0&&!n.collapsed?_i1046:_e1105;_t1590[o]=_s610;}}catch(err){_iterator1103.e(err);}finally{_iterator1103.f();}this.Cm=!0,this["#letter-spacing-box"].addEventListener("change",t=function t(_t1588){_t1588.target===_this576["#letter-spacing-slider"]?_this576["#letter-spacing-input"].value=_this576["#letter-spacing-slider"].value:_t1588.target===_this576["#letter-spacing-input"]&&(_this576["#letter-spacing-slider"].value=_this576["#letter-spacing-input"].value),_this576["#letter-spacing-slider"].mixed=!1,_this576["#letter-spacing-input"].mixed=!1;var _iterator1104=_createForOfIteratorHelper(s),_step1104;try{for(_iterator1104.s();!(_step1104=_iterator1104.n()).done;){var _t1586=_step1104.value;var _e1103=_t1586[o];if(_e1103.length>0){var _iterator1105=_createForOfIteratorHelper(_e1103),_step1105;try{for(_iterator1105.s();!(_step1105=_iterator1105.n()).done;){var _t1587=_step1105.value;_t1587.style.setProperty("letter-spacing",_this576["#letter-spacing-input"].value);}}catch(err){_iterator1105.e(err);}finally{_iterator1105.f();}}else _t1586.style.setProperty("letter-spacing",_this576["#letter-spacing-input"].value);}}catch(err){_iterator1104.e(err);}finally{_iterator1104.f();}}),this["#letter-spacing-box"].addEventListener("changeend",_e1104=function e(){_this576["#letter-spacing-box"].removeEventListener("change",t),_this576["#letter-spacing-box"].removeEventListener("changeend",_e1104);var _iterator1106=_createForOfIteratorHelper(s),_step1106;try{for(_iterator1106.s();!(_step1106=_iterator1106.n()).done;){var _t1589=_step1106.value;ci(_t1589,i.selectedTextRange);}}catch(err){_iterator1106.e(err);}finally{_iterator1106.f();}_this576.Cm=!1;});}},{key:"Fm",value:function Fm(){var _this577=this;var t,_e1107,i=this.Js.board,s=this.$d(),n=i.selectedTextRange,o=Symbol();i.undoManager.checkpoint("Word spacing");var _iterator1107=_createForOfIteratorHelper(s),_step1107;try{for(_iterator1107.s();!(_step1107=_iterator1107.n()).done;){var _t1595=_step1107.value;di(_t1595,n);var _e1108=_t1595.querySelectorAll("tspan"),_i1047=pi(n,_t1595),_s611=_i1047.length>0&&!n.collapsed?_i1047:_e1108;_t1595[o]=_s611;}}catch(err){_iterator1107.e(err);}finally{_iterator1107.f();}this.Mm=!0,this["#word-spacing-box"].addEventListener("change",t=function t(_t1593){_t1593.target===_this577["#word-spacing-slider"]?_this577["#word-spacing-input"].value=_this577["#word-spacing-slider"].value:_t1593.target===_this577["#word-spacing-input"]&&(_this577["#word-spacing-slider"].value=_this577["#word-spacing-input"].value),_this577["#word-spacing-slider"].mixed=!1,_this577["#word-spacing-input"].mixed=!1;var _iterator1108=_createForOfIteratorHelper(s),_step1108;try{for(_iterator1108.s();!(_step1108=_iterator1108.n()).done;){var _t1591=_step1108.value;var _e1106=_t1591[o];if(_e1106.length>0){var _iterator1109=_createForOfIteratorHelper(_e1106),_step1109;try{for(_iterator1109.s();!(_step1109=_iterator1109.n()).done;){var _t1592=_step1109.value;_t1592.style.setProperty("word-spacing",_this577["#word-spacing-slider"].value);}}catch(err){_iterator1109.e(err);}finally{_iterator1109.f();}}else _t1591.style.setProperty("word-spacing",_this577["#word-spacing-slider"].value);}}catch(err){_iterator1108.e(err);}finally{_iterator1108.f();}}),this["#word-spacing-box"].addEventListener("changeend",_e1107=function e(){_this577["#word-spacing-box"].removeEventListener("change",t),_this577["#word-spacing-box"].removeEventListener("changeend",_e1107);var _iterator1110=_createForOfIteratorHelper(s),_step1110;try{for(_iterator1110.s();!(_step1110=_iterator1110.n()).done;){var _t1594=_step1110.value;ci(_t1594,i.selectedTextRange);}}catch(err){_iterator1110.e(err);}finally{_iterator1110.f();}_this577.Mm=!1;});}},{key:"Um",value:function Um(){var _this578=this;var t,_e1110,i=this.Js.board,s=this.$d(),n=(i.selectedTextRange,Symbol());i.undoManager.checkpoint("Line spacing");var _iterator1111=_createForOfIteratorHelper(s),_step1111;try{for(_iterator1111.s();!(_step1111=_iterator1111.n()).done;){var _t1598=_step1111.value;_t1598[n]=[];var _iterator1114=_createForOfIteratorHelper(_t1598.querySelectorAll("tspan")),_step1114;try{for(_iterator1114.s();!(_step1114=_iterator1114.n()).done;){var _e1111=_step1114.value;fi(_e1111)&&_t1598[n].push(_e1111);}}catch(err){_iterator1114.e(err);}finally{_iterator1114.f();}}}catch(err){_iterator1111.e(err);}finally{_iterator1111.f();}this.Pm=!0,this["#line-spacing-box"].addEventListener("change",t=function t(_t1597){_t1597.target===_this578["#line-spacing-slider"]?_this578["#line-spacing-input"].value=_this578["#line-spacing-slider"].value:_t1597.target===_this578["#line-spacing-input"]&&(_this578["#line-spacing-slider"].value=_this578["#line-spacing-input"].value),_this578["#line-spacing-slider"].mixed=!1,_this578["#line-spacing-input"].mixed=!1;var _iterator1112=_createForOfIteratorHelper(s),_step1112;try{for(_iterator1112.s();!(_step1112=_iterator1112.n()).done;){var _t1596=_step1112.value;var _iterator1113=_createForOfIteratorHelper(_t1596[n]),_step1113;try{for(_iterator1113.s();!(_step1113=_iterator1113.n()).done;){var _e1109=_step1113.value;_e1109.setAttribute("dy",_this578["#line-spacing-slider"].value+1+"em");}}catch(err){_iterator1113.e(err);}finally{_iterator1113.f();}}}catch(err){_iterator1112.e(err);}finally{_iterator1112.f();}}),this["#line-spacing-box"].addEventListener("changeend",_e1110=function e(){_this578["#line-spacing-box"].removeEventListener("change",t),_this578["#line-spacing-box"].removeEventListener("changeend",_e1110),_this578.Pm=!1;});}},{key:"qs",value:function qs(){var _this579=this;var t=[],e=[],i=this.$d(),s=Symbol();{var _n434=this.Js.board.selectedTextRange;var _iterator1115=_createForOfIteratorHelper(i),_step1115;try{for(_iterator1115.s();!(_step1115=_iterator1115.n()).done;){var _s612=_step1115.value;var _i1048=xi(_s612);if(_n434&&_n434.intersectsNode(_s612)){"backward"===_n434.direction&&_i1048.reverse();var _iterator1117=_createForOfIteratorHelper(_i1048),_step1117;try{for(_iterator1117.s();!(_step1117=_iterator1117.n()).done;){var _s613=_step1117.value;if(_n434.intersectsNode(_s613)){var _i1049=_s613.closest("tspan, text");t.includes(_s613.parentElement)||t.push(_s613.parentElement),e.includes(_i1049)||e.push(_i1049);}}}catch(err){_iterator1117.e(err);}finally{_iterator1117.f();}}else{var _iterator1118=_createForOfIteratorHelper(_i1048),_step1118;try{for(_iterator1118.s();!(_step1118=_iterator1118.n()).done;){var _e1112=_step1118.value;t.includes(_e1112.parentElement)||t.push(_e1112.parentElement);}}catch(err){_iterator1118.e(err);}finally{_iterator1118.f();}e.push(_s612);}}}catch(err){_iterator1115.e(err);}finally{_iterator1115.f();}var _iterator1116=_createForOfIteratorHelper(new Set([].concat(t,e))),_step1116;try{for(_iterator1116.s();!(_step1116=_iterator1116.n()).done;){var _i1050=_step1116.value;_i1050[s]=getComputedStyle(_i1050);}}catch(err){_iterator1116.e(err);}finally{_iterator1116.f();}}if(!1===this.Sm&&!1===this.km){var _e1113=t[0],_i1051=t.slice(1),_n435=function _n435(t){var e=_this579.Js.board.fontsManager.getWeights(t),i=[];return 0===e.length&&(e=["400","700"]),1===e.length&&"400"===e[0]&&(e.push("700"),i.push("700")),[e,i];};if(_e1113){var _t1599=_e1113[s],_o345=mp.fromString(_t1599.getPropertyValue("font-family")).items[0],_l286=Ot.fromString(_t1599.getPropertyValue("font-size")).value,_h214=(_t1599.getPropertyValue("font-variant"),_t1599.getPropertyValue("font-style")),_a170=Op(_t1599.getPropertyValue("font-weight")),_n436=_n435(_o345),_n437=_slicedToArray(_n436,2),_r103=_n437[0],_d81=_n437[1],_c66=Tp(_a170,_r103),_p55=Nt(_e1113.closest("text"),this.Js.board.currentWorkspace),_Bl21=Bl(_p55),_u46=_Bl21.scaleY,_x131=X(_l286*eb(_u46),2),_b38=!1,_m36=!1,_g29=!1;var _iterator1119=_createForOfIteratorHelper(_i1051),_step1119;try{for(_iterator1119.s();!(_step1119=_iterator1119.n()).done;){var _t1600=_step1119.value;var _e1114=_t1600[s],_i1052=_e1114.getPropertyValue("font-family"),_o346=mp.fromString(_i1052).items[0],_a171=Ot.fromString(_e1114.getPropertyValue("font-size")).value,_r104=(_e1114.getPropertyValue("font-variant"),_e1114.getPropertyValue("font-style")),_d82=Op(_e1114.getPropertyValue("font-weight")),_n438=_n435(_o346),_n439=_slicedToArray(_n438,1),_p56=_n439[0],_u47=Tp(_d82,_p56);_a171!==_l286&&(_b38=!0),_u47!==_c66&&(_m36=!0),_r104!==_h214&&(_g29=!0);}}catch(err){_iterator1119.e(err);}finally{_iterator1119.f();}this["#panel-heading"].disabled=!1,this["#font-section-heading"].disabled=!1,this["#font-family-heading"].disabled=!1,this["#font-family-button"].disabled=!1,this["#font-family-label"].textContent=_o345,this["#font-family-label"].style.fontFamily='"'+_o345+'"',this["#font-family-picker"].enabled=!0,this["#font-family-picker"].value=_o345,this["#font-face-heading"].disabled=!1;var _iterator1120=_createForOfIteratorHelper(this["#font-weight-menu"].children),_step1120;try{for(_iterator1120.s();!(_step1120=_iterator1120.n()).done;){var _t1601=_step1120.value;if(_r103.includes(_t1601.value)){var _e1115="".concat(_t1601.value," - ").concat(Ep(_t1601.value));_d81.includes(_t1601.value)&&(_e1115+=" (synthesized)"),_t1601.firstElementChild.textContent=_e1115,_t1601.hidden=!1;}else _t1601.hidden=!0;}}catch(err){_iterator1120.e(err);}finally{_iterator1120.f();}this["#font-weight-select"].disabled=!1,this["#font-weight-select"].value=_c66,this["#font-weight-select"].mixed=_m36,this["#font-style-button"].toggled="italic"===_h214,this["#font-style-button"].mixed=_g29,this["#font-style-button"].disabled=!1,this["#font-size-heading"].disabled=!1,this["#font-size-slider"].disabled=!1,this["#font-size-slider"].value=_x131,this["#font-size-slider"].mixed=_b38,this["#font-size-input"].disabled=!1,this["#font-size-input"].value=_x131,this["#font-size-input"].mixed=_b38;}else this["#panel-heading"].disabled=!0,this["#font-section-heading"].disabled=!0,this["#font-family-heading"].disabled=!0,this["#font-family-button"].disabled=!0,this["#font-family-button"].mixed=!1,this["#font-family-label"].textContent="System",this["#font-family-label"].style.fontFamily=null,this["#font-family-picker"].enabled=!1,this["#font-family-picker"].value=null,this["#font-face-heading"].disabled=!0,this["#font-weight-select"].disabled=!0,this["#font-style-button"].disabled=!0,this["#font-style-button"].mixed=!1,this["#font-size-heading"].disabled=!0,this["#font-size-slider"].value=13,this["#font-size-slider"].mixed=!1,this["#font-size-slider"].disabled=!0,this["#font-size-input"].disabled=!0,this["#font-size-input"].value=13,this["#font-size-input"].mixed=!1;}this["#text-section-heading"].disabled=0===i.length;{var _t1602=e[0],_i1053=e.slice(1);if(_t1602){var _e1116=_t1602[s].getPropertyValue("text-decoration"),_n440=!1,_o347=!1,_l287=!1;var _iterator1121=_createForOfIteratorHelper(_i1053),_step1121;try{for(_iterator1121.s();!(_step1121=_iterator1121.n()).done;){var _t1603=_step1121.value;var _i1054=_t1603[s].getPropertyValue("text-decoration");_e1116!==_i1054&&(_e1116.includes("underline")!==_i1054.includes("underline")&&(_n440=!0),_e1116.includes("line-through")!==_i1054.includes("line-through")&&(_o347=!0),_e1116.includes("overline")!==_i1054.includes("overline")&&(_l287=!0));}}catch(err){_iterator1121.e(err);}finally{_iterator1121.f();}this["#text-decoration-heading"].disabled=!1,this["#underline-button"].disabled=!1,this["#underline-button"].mixed=_n440,this["#underline-button"].toggled=_e1116.includes("underline"),this["#line-through-button"].disabled=!1,this["#line-through-button"].mixed=_o347,this["#line-through-button"].toggled=_e1116.includes("line-through"),this["#overline-button"].disabled=!1,this["#overline-button"].mixed=_l287,this["#overline-button"].toggled=_e1116.includes("overline");}else this["#text-decoration-heading"].disabled=!0,this["#underline-button"].disabled=!0,this["#underline-button"].mixed=!1,this["#underline-button"].toggled=!1,this["#line-through-button"].disabled=!0,this["#line-through-button"].mixed=!1,this["#line-through-button"].toggled=!1,this["#overline-button"].disabled=!0,this["#overline-button"].mixed=!1,this["#overline-button"].toggled=!1;}{var _e1117=t[0],_i1055=t.slice(1);if(_e1117){var _t1604=_e1117[s].getPropertyValue("text-transform"),_n441=!1;var _iterator1122=_createForOfIteratorHelper(_i1055),_step1122;try{for(_iterator1122.s();!(_step1122=_iterator1122.n()).done;){var _e1118=_step1122.value;_e1118[s].getPropertyValue("text-transform")!==_t1604&&(_n441=!0);}}catch(err){_iterator1122.e(err);}finally{_iterator1122.f();}this["#text-transform-heading"].disabled=!1,this["#capitalize-button"].disabled=!1,this["#capitalize-button"].mixed=_n441,this["#capitalize-button"].toggled="capitalize"===_t1604,this["#uppercase-button"].disabled=!1,this["#uppercase-button"].toggled="uppercase"===_t1604,this["#uppercase-button"].mixed=_n441,this["#lowercase-button"].disabled=!1,this["#lowercase-button"].toggled="lowercase"===_t1604,this["#lowercase-button"].mixed=_n441;}else this["#text-transform-heading"].disabled=!0,this["#capitalize-button"].disabled=!0,this["#capitalize-button"].toggled=!1,this["#capitalize-button"].mixed=!1,this["#uppercase-button"].disabled=!0,this["#uppercase-button"].toggled=!1,this["#uppercase-button"].mixed=!1,this["#lowercase-button"].disabled=!0,this["#lowercase-button"].toggled=!1,this["#lowercase-button"].mixed=!1;}{var _i1056=_toArray(i),_t1605=_i1056[0],_e1119=_i1056.slice(1),_s614=i.filter(function(t){return null!==t.querySelector("textPath");});if(_t1605&&_s614.length<i.length){var _i1057=getComputedStyle(_t1605).getPropertyValue("text-anchor"),_s615=!1;var _iterator1123=_createForOfIteratorHelper(_e1119),_step1123;try{for(_iterator1123.s();!(_step1123=_iterator1123.n()).done;){var _t1606=_step1123.value;getComputedStyle(_t1606).getPropertyValue("text-anchor")!==_i1057&&(_s615=!0);}}catch(err){_iterator1123.e(err);}finally{_iterator1123.f();}this["#text-anchor-heading"].disabled=!1,this["#text-anchor-buttons"].value=_i1057,this["#start-text-anchor-button"].disabled=!1,this["#start-text-anchor-button"].mixed=_s615,this["#middle-text-anchor-button"].disabled=!1,this["#middle-text-anchor-button"].mixed=_s615,this["#end-text-anchor-button"].disabled=!1,this["#end-text-anchor-button"].mixed=_s615;}else this["#text-anchor-heading"].disabled=!0,this["#text-anchor-buttons"].value=null,this["#start-text-anchor-button"].disabled=!0,this["#start-text-anchor-button"].mixed=!1,this["#middle-text-anchor-button"].disabled=!0,this["#middle-text-anchor-button"].mixed=!1,this["#end-text-anchor-button"].disabled=!0,this["#end-text-anchor-button"].mixed=!1;}if(!this._m){if(0===i.length)this["#text-on-path-button"].toggled=!1,this["#text-on-path-button"].disabled=!0;else{var _t1607=!1,_e1120=null!==i[0].querySelector("textPath");var _iterator1124=_createForOfIteratorHelper(i),_step1124;try{for(_iterator1124.s();!(_step1124=_iterator1124.n()).done;){var _s616=_step1124.value;if(null!==_s616.querySelector("textPath")!==_e1120){_t1607=!0;break;}}}catch(err){_iterator1124.e(err);}finally{_iterator1124.f();}this["#text-on-path-button"].toggled=_e1120,this["#text-on-path-button"].disabled=!1,this["#text-on-path-button"].mixed=_t1607;}{var _t1608=i.map(function(t){return t.querySelector("textPath");}).filter(function(t){return null!==t;});if(0===_t1608.length)this["#path-start-offset-heading"].disabled=!0,this["#path-start-offset-slider"].value=0,this["#path-start-offset-slider"].disabled=!0,this["#path-start-offset-input"].value=0,this["#path-start-offset-input"].disabled=!0;else{var _t1609=_toArray(_t1608),_e1121=_t1609[0],_i1058=_t1609.slice(1),_s617=_e1121.startOffset.baseVal.value,_n442=!1;var _iterator1125=_createForOfIteratorHelper(_i1058),_step1125;try{for(_iterator1125.s();!(_step1125=_iterator1125.n()).done;){var _t1610=_step1125.value;_t1610.startOffset.baseVal.value!==_s617&&(_n442=!0);}}catch(err){_iterator1125.e(err);}finally{_iterator1125.f();}this["#path-start-offset-heading"].disabled=!1,this["#path-start-offset-slider"].value=_s617,this["#path-start-offset-slider"].disabled=!1,this["#path-start-offset-slider"].mixed=_n442,this["#path-start-offset-input"].value=_s617,this["#path-start-offset-input"].disabled=!1,this["#path-start-offset-input"].mixed=_n442;}}this["#path-section-heading"].disabled=this["#text-on-path-button"].disabled&&this["#path-start-offset-heading"].disabled;}if(!this.Cm&&!this.Mm&&!this.Pm){{var _e1122=t[0],_i1059=t.slice(1);if(_e1122){var _t1611=_e1122[s].getPropertyValue("letter-spacing"),_n443=_e1122[s].getPropertyValue("word-spacing");_t1611="normal"===_t1611?0:ib(_t1611),_n443="normal"===_n443?0:ib(_n443);var _o348=!1,_l288=!1;var _iterator1126=_createForOfIteratorHelper(_i1059),_step1126;try{for(_iterator1126.s();!(_step1126=_iterator1126.n()).done;){var _e1123=_step1126.value;var _i1060=_e1123[s].getPropertyValue("letter-spacing"),_h215=_e1123[s].getPropertyValue("word-spacing");_i1060="normal"===_i1060?0:ib(_i1060),_h215="normal"===_h215?0:ib(_h215),_i1060!==_t1611&&(_o348=!0),_h215!==_n443&&(_l288=!0);}}catch(err){_iterator1126.e(err);}finally{_iterator1126.f();}this["#letter-spacing-heading"].disabled=!1,this["#letter-spacing-slider"].value=X(_t1611,2),this["#letter-spacing-slider"].mixed=_o348,this["#letter-spacing-slider"].disabled=!1,this["#letter-spacing-input"].value=X(_t1611,2),this["#letter-spacing-input"].mixed=_o348,this["#letter-spacing-input"].disabled=!1,this["#word-spacing-heading"].disabled=!1,this["#word-spacing-slider"].value=X(_n443,2),this["#word-spacing-slider"].mixed=_l288,this["#word-spacing-slider"].disabled=!1,this["#word-spacing-input"].value=X(_n443,2),this["#word-spacing-input"].mixed=_l288,this["#word-spacing-input"].disabled=!1;}else this["#letter-spacing-heading"].disabled=!0,this["#letter-spacing-slider"].value=0,this["#letter-spacing-slider"].mixed=!1,this["#letter-spacing-slider"].disabled=!0,this["#letter-spacing-input"].value=0,this["#letter-spacing-input"].mixed=!1,this["#letter-spacing-input"].disabled=!0,this["#word-spacing-heading"].disabled=!0,this["#word-spacing-slider"].value=0,this["#word-spacing-slider"].mixed=!1,this["#word-spacing-slider"].disabled=!0,this["#word-spacing-input"].value=0,this["#word-spacing-input"].mixed=!1,this["#word-spacing-input"].disabled=!0;}{var _t1612=i.filter(function(t){return wi(t);}),_t1613=_toArray(_t1612),_e1124=_t1613[0],_s618=_t1613.slice(1);if(_e1124){var _t1614=vi(_e1124),_i1061=!1;var _iterator1127=_createForOfIteratorHelper(_s618),_step1127;try{for(_iterator1127.s();!(_step1127=_iterator1127.n()).done;){var _e1125=_step1127.value;if(vi(_e1125)!==_t1614){_i1061=!0;break;}}}catch(err){_iterator1127.e(err);}finally{_iterator1127.f();}this["#line-spacing-heading"].disabled=!1,this["#line-spacing-slider"].value=_t1614,this["#line-spacing-slider"].mixed=_i1061,this["#line-spacing-slider"].disabled=!1,this["#line-spacing-input"].value=_t1614,this["#line-spacing-input"].mixed=_i1061,this["#line-spacing-input"].disabled=!1;}else this["#line-spacing-heading"].disabled=!0,this["#line-spacing-slider"].value=0,this["#line-spacing-slider"].mixed=!1,this["#line-spacing-slider"].disabled=!0,this["#line-spacing-input"].value=0,this["#line-spacing-input"].mixed=!1,this["#line-spacing-input"].disabled=!0;}this["#spacing-section-heading"].disabled=this["#letter-spacing-heading"].disabled&&this["#word-spacing-heading"].disabled&&this["#line-spacing-heading"].disabled;}}},{key:"$d",value:function $d(){var t=[],e=function e(i){var _iterator1128=_createForOfIteratorHelper(i),_step1128;try{for(_iterator1128.s();!(_step1128=_iterator1128.n()).done;){var _s619=_step1128.value;"text"===_s619.localName?t.push(_s619):"g"!==_s619.localName&&"a"!==_s619.localName||e(_s619.children);}}catch(err){_iterator1128.e(err);}finally{_iterator1128.f();}};return e(this.Js.board.outermostSelectedElements),t;}}]);return nb;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(nb,"observedAttributes",["enabled"]);_defineProperty(nb,"_shadowTemplate",Hi(_templateObject314()));_defineProperty(nb,"_shadowStyleSheet",Yi(_templateObject315()));customElements.define("bx-typographypanel",nb);var ob=/*#__PURE__*/function(_HTMLElement100){_inherits(ob,_HTMLElement100);var _super128=_createSuper(ob);_createClass(ob,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function ob(){var _this580;_classCallCheck(this,ob);_this580=_super128.call(this),_this580._shadowRoot=_this580.attachShadow({mode:"closed"}),_this580._shadowRoot.append(document.importNode(_this580.constructor._shadowTemplate.content,!0)),_this580._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,ob._shadowStyleSheet,_this580.constructor._shadowStyleSheet];var _iterator1129=_createForOfIteratorHelper(_this580._shadowRoot.querySelectorAll("[id]")),_step1129;try{for(_iterator1129.s();!(_step1129=_iterator1129.n()).done;){var _t1615=_step1129.value;_this580["#"+_t1615.id]=_t1615;}}catch(err){_iterator1129.e(err);}finally{_iterator1129.f();}_this580.setAttribute("extends","bx-geometryinspector");return _this580;}_createClass(ob,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this.Nm=Ti(this,"bx-geometrypanel");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){}},{key:"sn",value:function sn(){}}]);return ob;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ob,"observedAttributes",["enabled"]);_defineProperty(ob,"_shadowStyleSheet",Yi(_templateObject316()));var lb=Math.pow;var hb=/*#__PURE__*/function(_ob){_inherits(hb,_ob);var _super129=_createSuper(hb);function hb(){var _this581;_classCallCheck(this,hb);_this581=_super129.call(this),_this581.Vm=!1,_this581.jm=!1,_this581.Hm=!1,_this581.Ym=!1,_this581.wa=qi(_this581.qs,200,_assertThisInitialized(_this581)),_this581["#base-thickness-section"].addEventListener("changestart",function(){return _this581.Fp();}),_this581["#head-thickness-section"].addEventListener("changestart",function(){return _this581.Up();}),_this581["#head-length-section"].addEventListener("changestart",function(){return _this581.Np();}),_this581["#head-inset-section"].addEventListener("changestart",function(){return _this581.Vp();}),_this581["#head-thickness-input"].validate=function(){return null;},_this581["#head-length-input"].validate=function(){return null;};return _this581;}_createClass(hb,[{key:"tn",value:function tn(){var _this582=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this582.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this582.wa();}),this.Nm.addEventListener("spacebuttonstoggle",this.Wm=function(){_this582.wa();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Nm.removeEventListener("spacebuttonstoggle",this.Wm);}},{key:"Fp",value:function Fp(){var _this583=this;var t,_e1126,i=this.Js.board,s=i.selectedElements[0],n=pl(s),o=i.geometryPrecision,_this$Nm=this.Nm,l=_this$Nm.displaySpace,h=_this$Nm.displayUnit,_Dl11=Dl.apply(void 0,_toConsumableArray(n.values)),a=_Dl11.minBaseThickness,r=_Dl11.maxBaseThickness,_n$values7=_slicedToArray(n.values,7),d=_n$values7[0],c=_n$values7[1],p=_n$values7[2],u=_n$values7[3],x=_n$values7[4],b=_n$values7[5],m=_n$values7[6],g=Wt("px",h),f=g.inverse(),w=Nt(s,i.vectorCanvas);"viewport"===l&&(w=Yt(i.currentWorkspace).multiply(w));var v=w.inverse();i.undoManager.checkpoint("Arrow base thickness"),this.Vm=!0,this["#base-thickness-section"].addEventListener("change",t=function t(_t1616){_t1616.target===_this583["#base-thickness-slider"]?_this583["#base-thickness-input"].value=_this583["#base-thickness-slider"].value:_t1616.target===_this583["#base-thickness-input"]&&(_this583["#base-thickness-slider"].value=_this583["#base-thickness-input"].value);var e=new q(new DOMPoint(d,c+u/2),new DOMPoint(d,c));e=e.matrixTransform(w),e=e.matrixTransform(g),e.length=_t1616.target.value,e=e.matrixTransform(f),e=e.matrixTransform(v),x=Z(e.length,a,r,o),ul(s,{type:"arrow",values:[d,c,p,u,x,b,m]});}),this["#base-thickness-section"].addEventListener("changeend",_e1126=function e(){_this583["#base-thickness-section"].removeEventListener("change",t),_this583["#base-thickness-section"].removeEventListener("changeend",_e1126),_this583.Vm=!1;});}},{key:"Up",value:function Up(){var _this584=this;var t,_e1127,i=this.Js.board,s=i.selectedElements[0],n=pl(s),o=i.geometryPrecision,_n$values8=_slicedToArray(n.values,7),l=_n$values8[0],h=_n$values8[1],a=_n$values8[2],r=_n$values8[3],d=_n$values8[4],c=_n$values8[5],p=_n$values8[6],u=h,x=r,b=Dl(l,h,a,r,d,c,p),m=Wt("px",this.Nm.displayUnit),g=m.inverse(),f=Nt(s,i.vectorCanvas);"viewport"===this.Nm.displaySpace&&(f=Yt(i.currentWorkspace).multiply(f));var w=f.inverse();i.undoManager.checkpoint("Arrow head thickness"),this.jm=!0,this["#head-thickness-section"].addEventListener("change",t=function t(_t1617){_t1617.target===_this584["#head-thickness-slider"]?_this584["#head-thickness-input"].value=_this584["#head-thickness-slider"].value:_t1617.target===_this584["#head-thickness-input"]&&(_this584["#head-thickness-slider"].value=_this584["#head-thickness-input"].value);var e=new q(new DOMPoint(l+a-c,h),new DOMPoint(l+a-c,h+1e3));e=e.matrixTransform(f),e=e.matrixTransform(m),e.length=_t1617.target.value,e=e.matrixTransform(g),e=e.matrixTransform(w),r=Z(e.length,b.minHeadThickness,b.maxHeadThickness,o),h=X(u-(r-x)/2,o),ul(s,{type:"arrow",values:[l,h,a,r,d,c,p]});}),this["#head-thickness-section"].addEventListener("changeend",_e1127=function e(){_this584["#head-thickness-section"].removeEventListener("change",t),_this584["#head-thickness-section"].removeEventListener("changeend",_e1127),_this584.jm=!1;});}},{key:"Np",value:function Np(){var _this585=this;var t,_e1128,i=this.Js.board,s=i.selectedElements[0],n=pl(s),_Dl12=Dl.apply(void 0,_toConsumableArray(n.values)),o=_Dl12.minHeadLength,l=_Dl12.maxHeadLength,h=i.geometryPrecision,_n$values9=_slicedToArray(n.values,7),a=_n$values9[0],r=_n$values9[1],d=_n$values9[2],c=_n$values9[3],p=_n$values9[4],u=_n$values9[5],x=_n$values9[6],b=Wt("px",this.Nm.displayUnit),m=b.inverse(),g=Nt(s,i.vectorCanvas);"viewport"===this.Nm.displaySpace&&(g=Yt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Arrow head length"),this.Hm=!0,this["#head-length-section"].addEventListener("change",t=function t(_t1618){_t1618.target===_this585["#head-length-slider"]?_this585["#head-length-input"].value=_this585["#head-length-slider"].value:_t1618.target===_this585["#head-length-input"]&&(_this585["#head-length-slider"].value=_this585["#head-length-input"].value);var e=new q(new DOMPoint(a+d-1e3,r+c/2),new DOMPoint(a+d,r+c/2));e=e.matrixTransform(g),e=e.matrixTransform(b),e.length=_t1618.target.value,e=e.matrixTransform(m),e=e.matrixTransform(f),u=Z(e.length,o,l,h),ul(s,{type:"arrow",values:[a,r,d,c,p,u,x]});}),this["#head-length-section"].addEventListener("changeend",_e1128=function e(){_this585["#head-length-section"].removeEventListener("change",t),_this585["#head-length-section"].removeEventListener("changeend",_e1128),_this585.Hm=!1;});}},{key:"Vp",value:function Vp(){var _this586=this;var t,_e1129,i=this.Js.board,s=i.selectedElements[0],n=pl(s),_Dl13=Dl.apply(void 0,_toConsumableArray(n.values)),o=_Dl13.minHeadInset,l=_Dl13.maxHeadInset,h=i.geometryPrecision,_n$values10=_slicedToArray(n.values,7),a=_n$values10[0],r=_n$values10[1],d=_n$values10[2],c=_n$values10[3],p=_n$values10[4],u=_n$values10[5],x=_n$values10[6],b=Wt("px",this.Nm.displayUnit),m=b.inverse(),g=Nt(s,i.vectorCanvas);"viewport"===this.Nm.displaySpace&&(g=Yt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Arrow head inset"),this.Ym=!0,this["#head-inset-section"].addEventListener("change",t=function t(_t1619){_t1619.target===_this586["#head-inset-slider"]?_this586["#head-inset-input"].value=_this586["#head-inset-slider"].value:_t1619.target===_this586["#head-inset-input"]&&(_this586["#head-inset-slider"].value=_this586["#head-inset-input"].value);var e=new q(new DOMPoint(a+d-u,r+c/2-p/2),new DOMPoint(a+d-u+1e3,r+c/2-p/2));e=e.matrixTransform(g),e=e.matrixTransform(b),e.length=_t1619.target.value,e=e.matrixTransform(m),e=e.matrixTransform(f),x=Z(e.length,o,l,h),ul(s,{type:"arrow",values:[a,r,d,c,p,u,x]});}),this["#head-inset-section"].addEventListener("changeend",_e1129=function e(){_this586["#head-inset-section"].removeEventListener("change",t),_this586["#head-inset-section"].removeEventListener("changeend",_e1129),_this586.Ym=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements,i=null,s=null;if(1===e.length&&"path"===e[0].localName&&(i=e[0],s=pl(i)),s&&"arrow"===s.type){var _this$Nm2=this.Nm,_e1130=_this$Nm2.displayUnit,_n444=_this$Nm2.displaySpace,_o349=_this$Nm2.displayPrecision,_s$values11=_slicedToArray(s.values,7),_l289=_s$values11[0],_h216=_s$values11[1],_a172=_s$values11[2],_r105=_s$values11[3],_d83=_s$values11[4],_c67=_s$values11[5],_p57=_s$values11[6],_u48=Dl.apply(void 0,_toConsumableArray(s.values)),_x132=1/lb(10,_o349-1),_b39=_e1130?" "+_e1130:"",_m37=Nt(i,t.vectorCanvas),_g30=Wt("px",_e1130);if("viewport"===_n444&&(_m37=Yt(t.currentWorkspace).multiply(_m37)),!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),!1===this.Vm){var _t1620=new q(new DOMPoint(_l289,_h216+_r105/2-_d83/2),new DOMPoint(_l289,_h216+_r105/2+_d83/2)).matrixTransform(_m37).matrixTransform(_g30).length,_e1131=new q(new DOMPoint(_l289,_h216+_r105/2-_u48.minBaseThickness/2),new DOMPoint(_l289,_h216+_r105/2+_u48.minBaseThickness/2)).matrixTransform(_m37).matrixTransform(_g30).length,_i1062=new q(new DOMPoint(_l289,_h216+_r105/2-_u48.maxBaseThickness/2),new DOMPoint(_l289,_h216+_r105/2+_u48.maxBaseThickness/2)).matrixTransform(_m37).matrixTransform(_g30).length;this["#base-thickness-slider"].min=X(_e1131,_o349),this["#base-thickness-slider"].max=X(_i1062,_o349),this["#base-thickness-slider"].value=X(_t1620,_o349),this["#base-thickness-slider"].step=_x132,this["#base-thickness-input"].min=X(_e1131,_o349),this["#base-thickness-input"].max=X(_i1062,_o349),this["#base-thickness-input"].value=X(_t1620,_o349),this["#base-thickness-input"].step=_x132,this["#base-thickness-input"].suffix=_b39;}if(!1===this.jm){var _t1621=new q(new DOMPoint(_l289+_a172-_c67,_h216),new DOMPoint(_l289+_a172-_c67,_h216+_r105)).matrixTransform(_m37).matrixTransform(_g30).length,_i1063=new q(new DOMPoint(0,0),new DOMPoint(0,_u48.minHeadThickness)).matrixTransform(_m37).matrixTransform(_g30).length,_s620=new Ot(_t1621,_e1130||"px");_s620=_s620.toLength("px"),_s620.value=Math.max(2*_s620.value,100),_s620=_s620.toLength(_e1130||"px"),this["#head-thickness-slider"].min=X(_i1063,_o349),this["#head-thickness-slider"].max=X(_s620.value,_o349),this["#head-thickness-slider"].value=X(_t1621,_o349),this["#head-thickness-slider"].step=_x132,this["#head-thickness-input"].min=X(_i1063,_o349),this["#head-thickness-input"].value=X(_t1621,_o349),this["#head-thickness-input"].suffix=_b39,this["#head-thickness-input"].step=_x132;}if(!1===this.Hm){var _t1622=new q(new DOMPoint(_l289+_a172-_c67,_h216+_r105/2),new DOMPoint(_l289+_a172,_h216+_r105/2)).matrixTransform(_m37).matrixTransform(_g30).length,_e1132=new q(new DOMPoint(0,0),new DOMPoint(_u48.minHeadLength,0)).matrixTransform(_m37).matrixTransform(_g30).length,_i1064=new q(new DOMPoint(0,0),new DOMPoint(_u48.maxHeadLength,0)).matrixTransform(_m37).matrixTransform(_g30).length;this["#head-length-slider"].min=X(_e1132,_o349),this["#head-length-slider"].max=X(_i1064,_o349),this["#head-length-slider"].value=X(_t1622,_o349),this["#head-length-slider"].step=_x132,this["#head-length-input"].min=X(_e1132,_o349),this["#head-length-input"].max=X(_i1064,_o349),this["#head-length-input"].value=X(_t1622,_o349),this["#head-length-input"].suffix=_b39,this["#head-length-input"].step=_x132;}if(!1===this.Ym){var _t1623=new q(new DOMPoint(_l289+_a172-_c67,_h216+_r105/2-_d83/2),new DOMPoint(_l289+_a172-_c67+_p57,_h216+_r105/2-_d83/2)).matrixTransform(_m37).matrixTransform(_g30).length,_e1133=new q(new DOMPoint(_l289+_a172-_c67,_h216+_r105/2-_d83/2),new DOMPoint(_l289+_a172-_c67+_u48.minHeadInset,_h216+_r105/2-_d83/2)).matrixTransform(_m37).matrixTransform(_g30).length,_i1065=new q(new DOMPoint(_l289+_a172-_c67,_h216+_r105/2-_d83/2),new DOMPoint(_l289+_a172-_c67+_u48.maxHeadInset,_h216+_r105/2-_d83/2)).matrixTransform(_m37).matrixTransform(_g30).length;this["#head-inset-slider"].min=X(_e1133,_o349),this["#head-inset-slider"].max=X(_i1065,_o349),this["#head-inset-slider"].value=X(_t1623,_o349),this["#head-inset-slider"].step=_x132,this["#head-inset-input"].min=0,this["#head-inset-input"].max=Infinity,this["#head-inset-input"].value=X(_t1623,_o349),this["#head-inset-input"].step=_x132,this["#head-inset-input"].suffix=_b39;}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return hb;}(ob);_defineProperty(hb,"_shadowTemplate",Hi(_templateObject317()));_defineProperty(hb,"_shadowStyleSheet",Yi(_templateObject318()));customElements.define("bx-arrowgeometryinspector",hb);var ab=Math.pow;var rb=/*#__PURE__*/function(_ob2){_inherits(rb,_ob2);var _super130=_createSuper(rb);function rb(){var _this587;_classCallCheck(this,rb);_this587=_super130.call(this),_this587.qm=!1,_this587.Xm=!1,_this587.wa=qi(_this587.qs,200,_assertThisInitialized(_this587)),_this587["#dx-input"].addEventListener("changestart",function(t){return _this587.Zm(t);}),_this587["#dy-input"].addEventListener("changestart",function(t){return _this587.Zm(t);}),_this587["#rotation-box"].addEventListener("changestart",function(){return _this587.Km();});return _this587;}_createClass(rb,[{key:"tn",value:function tn(){var _this588=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this588.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this588.wa();}),this.Js.board.charHud.addEventListener("selectedcharchange",this.Qm=function(){_this588.wa();}),this.Nm.addEventListener("spacebuttonstoggle",this.Wm=function(){_this588.wa();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.charHud.removeEventListener("selectedcharchange",this.Qm),this.Nm.removeEventListener("spacebuttonstoggle",this.Wm);}},{key:"Zm",value:function Zm(t){var _this589=this;var e,_i1067,s,n,o,l=this.Js.board,_this$Nm3=this.Nm,h=_this$Nm3.displaySpace,a=_this$Nm3.displayUnit,_l$charHud$selectedCh=l.charHud.selectedChar,r=_l$charHud$selectedCh.textElement,d=_l$charHud$selectedCh.charIndex,c=t.target,p=[],u=[];this.qm=!0,l.undoManager.checkpoint("Character delta"),di(r);{var _t1624=0;var _iterator1130=_createForOfIteratorHelper(xi(r)),_step1130;try{for(_iterator1130.s();!(_step1130=_iterator1130.n()).done;){var _e1134=_step1130.value;var _i1066=0;var _iterator1131=_createForOfIteratorHelper(_e1134.textContent),_step1131;try{for(_iterator1131.s();!(_step1131=_iterator1131.n()).done;){var _l290=_step1131.value;if(_t1624===d){s=_e1134.parentNode,n=_e1134,o=_i1066;break;}_t1624+=1,_i1066+=1;}}catch(err){_iterator1131.e(err);}finally{_iterator1131.f();}if(s)break;}}catch(err){_iterator1130.e(err);}finally{_iterator1130.f();}}for(var _t1625=0;_t1625<n.textContent.length;_t1625+=1){p[_t1625]=void 0!==s.dx.baseVal[_t1625]?s.dx.baseVal[_t1625].value:0,u[_t1625]=void 0!==s.dy.baseVal[_t1625]?s.dy.baseVal[_t1625].value:0;}var x=Wt("px",a),b=x.inverse(),m=Nt(s,l.vectorCanvas);"viewport"===h&&(m=Yt(l.currentWorkspace).multiply(m));var g=m.inverse(),f=new DOMPoint(0,0);f=f.matrixTransform(m),f=f.matrixTransform(x),c.addEventListener("change",e=function e(t){var e=new DOMPoint(_this589["#dx-input"].value+f.x,_this589["#dy-input"].value+f.y).matrixTransform(b);e=e.matrixTransform(g),e=Ce(e,l.geometryPrecision),p[o]=e.x,u[o]=e.y,s.setAttribute("dx",p.join(" ")),s.setAttribute("dy",u.join(" "));}),c.addEventListener("changeend",_i1067=function i(){c.removeEventListener("change",e),c.removeEventListener("changeend",_i1067),ci(r),_this589.qm=!1;});}},{key:"Km",value:function Km(){var _this590=this;var t,_e1136,i,s,n,o=this.Js.board,_o$charHud$selectedCh=o.charHud.selectedChar,l=_o$charHud$selectedCh.textElement,h=_o$charHud$selectedCh.charIndex,a=[];this.Xm=!0,o.undoManager.checkpoint("Character delta"),di(l);{var _t1626=0;var _iterator1132=_createForOfIteratorHelper(xi(l)),_step1132;try{for(_iterator1132.s();!(_step1132=_iterator1132.n()).done;){var _e1135=_step1132.value;var _o350=0;var _iterator1133=_createForOfIteratorHelper(_e1135.textContent),_step1133;try{for(_iterator1133.s();!(_step1133=_iterator1133.n()).done;){var _l291=_step1133.value;if(_t1626===h){i=_e1135.parentNode,s=_e1135,n=_o350;break;}_t1626+=1,_o350+=1;}}catch(err){_iterator1133.e(err);}finally{_iterator1133.f();}if(i)break;}}catch(err){_iterator1132.e(err);}finally{_iterator1132.f();}for(var _t1627=0;_t1627<s.textContent.length;_t1627+=1){a[_t1627]=void 0!==i.rotate.baseVal[_t1627]?i.rotate.baseVal[_t1627].value:0;}}this["#rotation-box"].addEventListener("change",t=function t(_t1628){_t1628.target===_this590["#rotation-slider"]?_this590["#rotation-input"].value=_this590["#rotation-slider"].value:_t1628.target===_this590["#rotation-input"]&&(_this590["#rotation-slider"].value=_this590["#rotation-input"].value),_this590.Qs.modKeys.shift&&(_this590["#rotation-input"].value=Le(_this590["#rotation-slider"].value,15),_this590["#rotation-slider"].value=_this590["#rotation-input"].value),a[n]=X(_this590["#rotation-input"].value,o.geometryPrecision),i.setAttribute("rotate",a.join(" "));}),this["#rotation-box"].addEventListener("changeend",_e1136=function e(){_this590["#rotation-box"].removeEventListener("change",t),_this590["#rotation-box"].removeEventListener("changeend",_e1136),ci(l),_this590.Xm=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board;if(!1===this.qm&&!1===this.Xm)if(t.charHud.selectedChar){var _t$charHud$selectedCh=t.charHud.selectedChar,_e1137=_t$charHud$selectedCh.textElement,_i1068=_t$charHud$selectedCh.charIndex,_this$Nm4=this.Nm,_s621=_this$Nm4.displayUnit,_n445=_this$Nm4.displaySpace,_o351=_this$Nm4.displayPrecision,_l292=Si(_e1137),_h217=_l292.dx[_i1068],_a173=_l292.dy[_i1068],_r106=_l292.rotate[_i1068],_d84=_s621?" "+_s621:"",_c68=1/ab(10,_o351-1),_p58=Wt("px",_s621),_u49=Nt(_e1137,t.vectorCanvas);"viewport"===_n445&&(_u49=Yt(t.currentWorkspace).multiply(_u49));var _x133=new DOMPoint(0,0);_x133=_x133.matrixTransform(_u49),_x133=_x133.matrixTransform(_p58);var _b40=new DOMPoint(_h217,_a173);_b40=_b40.matrixTransform(_u49),_b40=_b40.matrixTransform(_p58),_h217=_b40.x-_x133.x,_a173=_b40.y-_x133.y,!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#dx-input"].value=X(_h217,_o351),this["#dx-input"].suffix=_d84,this["#dx-input"].step=_c68,this["#dy-input"].value=X(_a173,_o351),this["#dy-input"].suffix=_d84,this["#dy-input"].step=_c68,this["#rotation-input"].value=X(_r106,1),this["#rotation-slider"].value=X(_r106,1);}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return rb;}(ob);_defineProperty(rb,"_shadowTemplate",Hi(_templateObject319()));_defineProperty(rb,"_shadowStyleSheet",Yi(_templateObject320()));customElements.define("bx-chargeometryinspector",rb);var db=Math.pow;var cb=/*#__PURE__*/function(_ob3){_inherits(cb,_ob3);var _super131=_createSuper(cb);function cb(){var _this591;_classCallCheck(this,cb);_this591=_super131.call(this),_this591.Jm=!1,_this591.tg=!1,_this591.Tb=!1,_this591.wa=qi(_this591.qs,200,_assertThisInitialized(_this591)),_this591["#cx-input"].addEventListener("changestart",function(){return _this591.eg();}),_this591["#cy-input"].addEventListener("changestart",function(){return _this591.ig();}),_this591["#radius-input"].addEventListener("changestart",function(){return _this591.sg();});return _this591;}_createClass(cb,[{key:"tn",value:function tn(){var _this592=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this592.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this592.wa();}),this.Nm.addEventListener("spacebuttonstoggle",this.Wm=function(){_this592.wa();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Nm.removeEventListener("spacebuttonstoggle",this.Wm);}},{key:"eg",value:function eg(){var _this593=this;var t,_e1138,i=this.Js.board,s=i.selectedElements[0],_this$Nm5=this.Nm,n=_this$Nm5.displaySpace,o=_this$Nm5.displayUnit,l=i.geometryPrecision,h=Wt(o,"px"),a=Nt(s,i.vectorCanvas);"viewport"===n&&(a=Yt(i.currentWorkspace).multiply(a));var r=a.inverse();i.undoManager.checkpoint("Circle center"),this.Jm=!0,this["#cx-input"].addEventListener("change",t=function t(_t1629){var e=new DOMPoint(_this593["#cx-input"].value,_this593["#cy-input"].value);e=e.matrixTransform(h),e=e.matrixTransform(r),e=Ce(e,l),s.setAttribute("cx",e.x),s.setAttribute("cy",e.y);}),this["#cx-input"].addEventListener("changeend",_e1138=function e(){_this593["#cx-input"].removeEventListener("change",t),_this593["#cx-input"].removeEventListener("changeend",_e1138),_this593.Jm=!1;});}},{key:"ig",value:function ig(){var _this594=this;var t,_e1139,i=this.Js.board,s=i.selectedElements[0],_this$Nm6=this.Nm,n=_this$Nm6.displaySpace,o=_this$Nm6.displayUnit,l=i.geometryPrecision,h=Wt(o,"px"),a=Nt(s,i.currentWorkspace);"viewport"===n&&(a=Yt(i.currentWorkspace).multiply(a));var r=a.inverse();i.undoManager.checkpoint("Circle center"),this.tg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1630){var e=new DOMPoint(_this594["#cx-input"].value,_this594["#cy-input"].value);e=e.matrixTransform(h),e=e.matrixTransform(r),e=Ce(e,l),s.setAttribute("cx",e.x),s.setAttribute("cy",e.y);}),this["#cy-input"].addEventListener("changeend",_e1139=function e(){_this594["#cy-input"].removeEventListener("change",t),_this594["#cy-input"].removeEventListener("changeend",_e1139),_this594.tg=!1;});}},{key:"sg",value:function sg(){var _this595=this;var t,_e1140,i=this.Js.board,s=i.selectedElements[0],_this$Nm7=this.Nm,n=_this$Nm7.displaySpace,o=_this$Nm7.displayUnit,l=i.geometryPrecision,h=Wt(o,"px"),a=Nt(s,i.currentWorkspace);"viewport"===n&&(a=Yt(i.currentWorkspace).multiply(a));var r=a.inverse();i.undoManager.checkpoint("Circle radius"),this.Tb=!0;var d=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value);d=d.matrixTransform(a),d=d.matrixTransform(h);var c=new DOMPoint(s.cx.baseVal.value+100,s.cy.baseVal.value);c=c.matrixTransform(a),c=c.matrixTransform(h),this["#radius-input"].addEventListener("change",t=function t(_t1631){var e=new q(d,c);e.length=_this595["#radius-input"].value,e=e.matrixTransform(h),e=e.matrixTransform(r);var i=X(e.length,l);s.setAttribute("r",i);}),this["#radius-input"].addEventListener("changeend",_e1140=function e(){_this595["#radius-input"].removeEventListener("change",t),_this595["#radius-input"].removeEventListener("changeend",_e1140),_this595.Tb=!1;});}},{key:"qs",value:function qs(){if(!1===this.Jm&&!1===this.tg&&!1===this.Tb){var _t1632=this.Js.board,_e1141=_t1632.outermostSelectedElements;if(0===_e1141.length||"circle"!==_e1141[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _this$Nm8=this.Nm,_i1069=_this$Nm8.displayUnit,_s622=_this$Nm8.displaySpace,_n446=_this$Nm8.displayPrecision,_o352=_e1141[0],_l293=Nt(_o352,_t1632.currentWorkspace),_h218=Wt("px",_i1069),_a174=_i1069?" "+_i1069:"",_r107=1/db(10,_n446-1);"viewport"===_s622&&(_l293=Yt(_t1632.currentWorkspace).multiply(_l293));var _d85=new DOMPoint(_o352.cx.baseVal.value,_o352.cy.baseVal.value);_d85=_d85.matrixTransform(_l293),_d85=_d85.matrixTransform(_h218),_d85=Ce(_d85,_n446);var _c69=new DOMPoint(_o352.cx.baseVal.value+_o352.r.baseVal.value,_o352.cy.baseVal.value);_c69=_c69.matrixTransform(_l293),_c69=_c69.matrixTransform(_h218);var _p59=new q(_d85,_c69).length;_p59=X(_p59,_n446),this["#cx-input"].value=_d85.x,this["#cx-input"].suffix=_a174,this["#cx-input"].step=_r107,this["#cy-input"].value=_d85.y,this["#cy-input"].suffix=_a174,this["#cy-input"].step=_r107,this["#radius-input"].value=_p59,this["#radius-input"].suffix=_a174,this["#radius-input"].step=_r107;}}}}]);return cb;}(ob);_defineProperty(cb,"_shadowTemplate",Hi(_templateObject321()));_defineProperty(cb,"_shadowStyleSheet",Yi(_templateObject322()));customElements.define("bx-circlegeometryinspector",cb);var pb=Math.pow;var ub=/*#__PURE__*/function(_ob4){_inherits(ub,_ob4);var _super132=_createSuper(ub);function ub(){var _this596;_classCallCheck(this,ub);_this596=_super132.call(this),_this596.Jm=!1,_this596.tg=!1,_this596.ng=!1,_this596.og=!1,_this596.lg=!1,_this596.hg=!1,_this596.ag=!1,_this596.wa=qi(_this596.qs,200,_assertThisInitialized(_this596)),_this596["#cx-input"].addEventListener("changestart",function(){return _this596.eg();}),_this596["#cy-input"].addEventListener("changestart",function(){return _this596.ig();}),_this596["#r1-input"].addEventListener("changestart",function(){return _this596.rg();}),_this596["#r2-input"].addEventListener("changestart",function(){return _this596.dg();}),_this596["#r3-input"].addEventListener("changestart",function(){return _this596.cg();}),_this596["#splay-section"].addEventListener("changestart",function(){return _this596.$p();}),_this596["#teeth-section"].addEventListener("changestart",function(){return _this596.Ip();});return _this596;}_createClass(ub,[{key:"tn",value:function tn(){var _this597=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this597.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this597.wa();}),this.Nm.addEventListener("spacebuttonstoggle",this.Wm=function(){_this597.wa();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Nm.removeEventListener("spacebuttonstoggle",this.Wm);}},{key:"eg",value:function eg(){var _this598=this;var t,_e1142,i=this.Js.board,s=i.selectedElements[0],_pl$values38=_slicedToArray(pl(s).values,7),n=_pl$values38[0],o=_pl$values38[1],l=_pl$values38[2],h=_pl$values38[3],a=_pl$values38[4],r=_pl$values38[5],d=_pl$values38[6],_this$Nm9=this.Nm,c=_this$Nm9.displaySpace,p=_this$Nm9.displayUnit,u=i.geometryPrecision,x=Wt(p,"px"),b=Nt(s,i.vectorCanvas);"viewport"===c&&(b=Yt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog center"),this.Jm=!0,this["#cx-input"].addEventListener("change",t=function t(_t1633){var e=new DOMPoint(_this598["#cx-input"].value,_this598["#cy-input"].value);e=e.matrixTransform(x),e=e.matrixTransform(m),e=Ce(e,u),n=e.x,o=e.y,ul(s,{type:"cog",values:[n,o,l,h,a,r,d]});}),this["#cx-input"].addEventListener("changeend",_e1142=function e(){_this598["#cx-input"].removeEventListener("change",t),_this598["#cx-input"].removeEventListener("changeend",_e1142),_this598.Jm=!1;});}},{key:"ig",value:function ig(){var _this599=this;var t,_e1143,i=this.Js.board,s=i.selectedElements[0],_pl$values39=_slicedToArray(pl(s).values,7),n=_pl$values39[0],o=_pl$values39[1],l=_pl$values39[2],h=_pl$values39[3],a=_pl$values39[4],r=_pl$values39[5],d=_pl$values39[6],_this$Nm10=this.Nm,c=_this$Nm10.displaySpace,p=_this$Nm10.displayUnit,u=i.geometryPrecision,x=Wt(p,"px"),b=Nt(s,i.currentWorkspace);"viewport"===c&&(b=Yt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog center"),this.tg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1634){var e=new DOMPoint(_this599["#cx-input"].value,_this599["#cy-input"].value);e=e.matrixTransform(x),e=e.matrixTransform(m),e=Ce(e,u),n=e.x,o=e.y,ul(s,{type:"cog",values:[n,o,l,h,a,r,d]});}),this["#cy-input"].addEventListener("changeend",_e1143=function e(){_this599["#cy-input"].removeEventListener("change",t),_this599["#cy-input"].removeEventListener("changeend",_e1143),_this599.tg=!1;});}},{key:"rg",value:function rg(){var _this600=this;var t,_e1144,i=this.Js.board,s=i.selectedElements[0],_pl$values40=_slicedToArray(pl(s).values,7),n=_pl$values40[0],o=_pl$values40[1],l=_pl$values40[2],h=_pl$values40[3],a=_pl$values40[4],r=_pl$values40[5],d=_pl$values40[6],_this$Nm11=this.Nm,c=_this$Nm11.displaySpace,p=_this$Nm11.displayUnit,u=i.geometryPrecision,x=Wt(p,"px"),b=Nt(s,i.currentWorkspace);"viewport"===c&&(b=Yt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog radius"),this.ng=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r1-input"].addEventListener("change",t=function t(_t1635){var e=new q(g,f);e.length=_this600["#r1-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),l=X(e.length,u),ul(s,{type:"cog",values:[n,o,l,h,a,r,d]});}),this["#r1-input"].addEventListener("changeend",_e1144=function e(){_this600["#r1-input"].removeEventListener("change",t),_this600["#r1-input"].removeEventListener("changeend",_e1144),_this600.ng=!1;});}},{key:"dg",value:function dg(){var _this601=this;var t,_e1145,i=this.Js.board,s=i.selectedElements[0],_pl$values41=_slicedToArray(pl(s).values,7),n=_pl$values41[0],o=_pl$values41[1],l=_pl$values41[2],h=_pl$values41[3],a=_pl$values41[4],r=_pl$values41[5],d=_pl$values41[6],_this$Nm12=this.Nm,c=_this$Nm12.displaySpace,p=_this$Nm12.displayUnit,u=i.geometryPrecision,x=Wt(p,"px"),b=Nt(s,i.currentWorkspace);"viewport"===c&&(b=Yt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog radius"),this.og=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r2-input"].addEventListener("change",t=function t(_t1636){var e=new q(g,f);e.length=_this601["#r2-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),h=X(e.length,u),ul(s,{type:"cog",values:[n,o,l,h,a,r,d]});}),this["#r2-input"].addEventListener("changeend",_e1145=function e(){_this601["#r2-input"].removeEventListener("change",t),_this601["#r2-input"].removeEventListener("changeend",_e1145),_this601.og=!1;});}},{key:"cg",value:function cg(){var _this602=this;var t,_e1146,i=this.Js.board,s=i.selectedElements[0],_pl$values42=_slicedToArray(pl(s).values,7),n=_pl$values42[0],o=_pl$values42[1],l=_pl$values42[2],h=_pl$values42[3],a=_pl$values42[4],r=_pl$values42[5],d=_pl$values42[6],_this$Nm13=this.Nm,c=_this$Nm13.displaySpace,p=_this$Nm13.displayUnit,u=i.geometryPrecision,x=Wt(p,"px"),b=Nt(s,i.currentWorkspace);"viewport"===c&&(b=Yt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog radius"),this.lg=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r3-input"].addEventListener("change",t=function t(_t1637){var e=new q(g,f);e.length=_this602["#r3-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),a=X(e.length,u),ul(s,{type:"cog",values:[n,o,l,h,a,r,d]});}),this["#r3-input"].addEventListener("changeend",_e1146=function e(){_this602["#r3-input"].removeEventListener("change",t),_this602["#r3-input"].removeEventListener("changeend",_e1146),_this602.lg=!1;});}},{key:"$p",value:function $p(){var _this603=this;var t,_e1147,i=this.Js.board,s=i.selectedElements[0],n=pl(s),o=i.geometryPrecision,_n$values11=_slicedToArray(n.values,7),l=_n$values11[0],h=_n$values11[1],a=_n$values11[2],r=_n$values11[3],d=_n$values11[4],c=_n$values11[5],p=_n$values11[6];i.undoManager.checkpoint("Cog splay"),this.hg=!0,this["#splay-section"].addEventListener("change",t=function t(_t1638){_t1638.target===_this603["#splay-slider"]?_this603["#splay-input"].value=_this603["#splay-slider"].value:_t1638.target===_this603["#splay-input"]&&(_this603["#splay-slider"].value=_this603["#splay-input"].value),c=(100-_this603["#splay-input"].value)/100,c=X(c,o),ul(s,{type:"cog",values:[l,h,a,r,d,c,p]});}),this["#splay-section"].addEventListener("changeend",_e1147=function e(){_this603["#splay-section"].removeEventListener("change",t),_this603["#splay-section"].removeEventListener("changeend",_e1147),_this603.hg=!1;});}},{key:"Ip",value:function Ip(){var _this604=this;var t,_e1148,i=this.Js.board,s=i.selectedElements[0],n=pl(s),_n$values12=_slicedToArray(n.values,7),o=_n$values12[0],l=_n$values12[1],h=_n$values12[2],a=_n$values12[3],r=_n$values12[4],d=_n$values12[5],c=_n$values12[6];i.undoManager.checkpoint("Cog teeth"),this.ag=!0,this["#teeth-section"].addEventListener("change",t=function t(_t1639){_t1639.target===_this604["#teeth-slider"]?_this604["#teeth-input"].value=_this604["#teeth-slider"].value:_t1639.target===_this604["#teeth-input"]&&(_this604["#teeth-slider"].value=_this604["#teeth-input"].value),c=_this604["#teeth-input"].value,ul(s,{type:"cog",values:[o,l,h,a,r,d,c]});}),this["#teeth-section"].addEventListener("changeend",_e1148=function e(){_this604["#teeth-section"].removeEventListener("change",t),_this604["#teeth-section"].removeEventListener("changeend",_e1148),_this604.ag=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _i1070=e[0],_s623=pl(_i1070);if(_s623&&"cog"===_s623.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _s623$values=_slicedToArray(_s623.values,7),_i1071=_s623$values[0],_n447=_s623$values[1],_o353=_s623$values[2],_l294=_s623$values[3],_h219=_s623$values[4],_a175=_s623$values[5],_r108=_s623$values[6],_this$Nm14=this.Nm,_d86=_this$Nm14.displayUnit,_c70=_this$Nm14.displaySpace,_p60=_this$Nm14.displayPrecision,_u50=e[0],_x134=Nt(_u50,t.currentWorkspace),_b41=Wt("px",_d86),_m38=_d86?" "+_d86:"",_g31=1/pb(10,_p60-1);"viewport"===_c70&&(_x134=Yt(t.currentWorkspace).multiply(_x134));var _f22=new DOMPoint(_i1071,_n447);if(_f22=_f22.matrixTransform(_x134),_f22=_f22.matrixTransform(_b41),_f22=Ce(_f22,_p60),!1===this.Jm&&(this["#cx-input"].value=_f22.x,this["#cx-input"].suffix=_m38,this["#cx-input"].step=_g31),!1===this.tg&&(this["#cy-input"].value=_f22.y,this["#cy-input"].suffix=_m38,this["#cy-input"].step=_g31),!1===this.ng){var _t1640=new DOMPoint(_i1071+_o353,_n447);_t1640=_t1640.matrixTransform(_x134),_t1640=_t1640.matrixTransform(_b41),this["#r1-input"].value=X(new q(_f22,_t1640).length,_p60),this["#r1-input"].suffix=_m38,this["#r1-input"].step=_g31;}if(!1===this.og){var _t1641=new DOMPoint(_i1071+_l294,_n447);_t1641=_t1641.matrixTransform(_x134),_t1641=_t1641.matrixTransform(_b41),this["#r2-input"].value=X(new q(_f22,_t1641).length,_p60),this["#r2-input"].suffix=_m38,this["#r2-input"].step=_g31;}if(!1===this.lg){var _t1642=new DOMPoint(_i1071+_h219,_n447);_t1642=_t1642.matrixTransform(_x134),_t1642=_t1642.matrixTransform(_b41),this["#r3-input"].value=X(new q(_f22,_t1642).length,_p60),this["#r3-input"].suffix=_m38,this["#r3-input"].step=_g31;}if(!1===this.hg){var _t1643=X(100-100*_a175,_p60);this["#splay-slider"].value=_t1643,this["#splay-input"].value=_t1643;}!1===this.ag&&(this["#teeth-slider"].value=X(_r108,0),this["#teeth-input"].value=X(_r108,0));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return ub;}(ob);_defineProperty(ub,"_shadowTemplate",Hi(_templateObject323()));_defineProperty(ub,"_shadowStyleSheet",Yi(_templateObject324()));customElements.define("bx-coggeometryinspector",ub);var xb=Math.abs,bb=Math.min,mb=Math.pow;var gb=/*#__PURE__*/function(_ob5){_inherits(gb,_ob5);var _super133=_createSuper(gb);function gb(){var _this605;_classCallCheck(this,gb);_this605=_super133.call(this),_this605.Jm=!1,_this605.tg=!1,_this605.pg=!1,_this605.ug=!1,_this605.xg=!1,_this605.wa=qi(_this605.qs,200,_assertThisInitialized(_this605)),_this605["#cx-input"].addEventListener("changestart",function(){_this605.eg();}),_this605["#cy-input"].addEventListener("changestart",function(){_this605.ig();}),_this605["#horizontal-arm-thickness-input"].addEventListener("changestart",function(){_this605.bg();}),_this605["#vertical-arm-thickness-input"].addEventListener("changestart",function(){_this605.mg();}),_this605["#shift-section"].addEventListener("changestart",function(){_this605.Cp();}),_this605["#horizontal-arm-thickness-input"].validate=function(){return null;},_this605["#vertical-arm-thickness-input"].validate=function(){return null;},_this605["#shift-input"].validate=function(){return null;};return _this605;}_createClass(gb,[{key:"tn",value:function tn(){var _this606=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this606.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this606.wa();}),this.Nm.addEventListener("spacebuttonstoggle",this.Wm=function(){_this606.wa();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Nm.removeEventListener("spacebuttonstoggle",this.Wm);}},{key:"eg",value:function eg(){var _this607=this;var t,_e1149,i=this.Js.board,s=i.selectedElements[0],_pl$values43=_slicedToArray(pl(s).values,7),n=_pl$values43[0],o=_pl$values43[1],l=_pl$values43[2],h=_pl$values43[3],a=_pl$values43[4],r=_pl$values43[5],d=_pl$values43[6],_this$Nm15=this.Nm,c=_this$Nm15.displaySpace,p=_this$Nm15.displayUnit,u=i.geometryPrecision,x=Wt(p,"px"),b=Nt(s,i.vectorCanvas);"viewport"===c&&(b=Yt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cross center"),this.Jm=!0,this["#cx-input"].addEventListener("change",t=function t(_t1644){var e=new DOMPoint(_this607["#cx-input"].value,_this607["#cy-input"].value);e=e.matrixTransform(x),e=e.matrixTransform(m),e=Ce(e,u);var i=X(e.x-l/2,u),n=X(e.y-h*d,u);ul(s,{type:"cross",values:[i,n,l,h,a,r,d]});}),this["#cx-input"].addEventListener("changeend",_e1149=function e(){_this607["#cx-input"].removeEventListener("change",t),_this607["#cx-input"].removeEventListener("changeend",_e1149),_this607.Jm=!1;});}},{key:"ig",value:function ig(){var _this608=this;var t,_e1150,i=this.Js.board,s=i.selectedElements[0],_pl$values44=_slicedToArray(pl(s).values,7),n=_pl$values44[0],o=_pl$values44[1],l=_pl$values44[2],h=_pl$values44[3],a=_pl$values44[4],r=_pl$values44[5],d=_pl$values44[6],_this$Nm16=this.Nm,c=_this$Nm16.displaySpace,p=_this$Nm16.displayUnit,u=i.geometryPrecision,x=Wt(p,"px"),b=Nt(s,i.currentWorkspace);"viewport"===c&&(b=Yt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cross center"),this.tg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1645){var e=new DOMPoint(_this608["#cx-input"].value,_this608["#cy-input"].value);e=e.matrixTransform(x),e=e.matrixTransform(m),e=Ce(e,u);var i=X(e.x-l/2,u),n=X(e.y-h*d,u);ul(s,{type:"cross",values:[i,n,l,h,a,r,d]});}),this["#cy-input"].addEventListener("changeend",_e1150=function e(){_this608["#cy-input"].removeEventListener("change",t),_this608["#cy-input"].removeEventListener("changeend",_e1150),_this608.tg=!1;});}},{key:"bg",value:function bg(){var _this609=this;var t,_e1151,i=this.Js.board,s=i.selectedElements[0],n=pl(s),o=i.geometryPrecision,_n$values13=_slicedToArray(n.values,7),l=_n$values13[0],h=_n$values13[1],a=_n$values13[2],r=_n$values13[3],d=_n$values13[4],c=_n$values13[5],p=_n$values13[6],_this$Nm17=this.Nm,u=_this$Nm17.displaySpace,x=_this$Nm17.displayUnit,b=Wt(x,"px"),m=Wt("px",x),g=Nt(s,i.currentWorkspace);"viewport"===u&&(g=Yt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Cross horizontal arm thickness"),this.pg=!0,this["#horizontal-arm-thickness-input"].addEventListener("change",t=function t(_t1646){var e=new q(0,100);e=e.matrixTransform(g),e=e.matrixTransform(m),e.length=_this609["#horizontal-arm-thickness-input"].value,e=e.matrixTransform(b),e=e.matrixTransform(f),d=X(e.length,o),ul(s,{type:"cross",values:[l,h,a,r,d,c,p]});}),this["#horizontal-arm-thickness-input"].addEventListener("changeend",_e1151=function e(){_this609["#horizontal-arm-thickness-input"].removeEventListener("change",t),_this609["#horizontal-arm-thickness-input"].removeEventListener("changeend",_e1151),_this609.pg=!1;});}},{key:"mg",value:function mg(){var _this610=this;var t,_e1152,i=this.Js.board,s=i.selectedElements[0],n=pl(s),o=i.geometryPrecision,_n$values14=_slicedToArray(n.values,7),l=_n$values14[0],h=_n$values14[1],a=_n$values14[2],r=_n$values14[3],d=_n$values14[4],c=_n$values14[5],p=_n$values14[6],_this$Nm18=this.Nm,u=_this$Nm18.displaySpace,x=_this$Nm18.displayUnit,b=Wt(x,"px"),m=Wt("px",x),g=Nt(s,i.currentWorkspace);"viewport"===u&&(g=Yt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Cross vertical arm thickness"),this.ug=!0,this["#vertical-arm-thickness-input"].addEventListener("change",t=function t(_t1647){var e=new q(100,0);e=e.matrixTransform(g),e=e.matrixTransform(m),e.length=_this610["#vertical-arm-thickness-input"].value,e=e.matrixTransform(b),e=e.matrixTransform(f),c=X(e.length,o),ul(s,{type:"cross",values:[l,h,a,r,d,c,p]});}),this["#vertical-arm-thickness-input"].addEventListener("changeend",_e1152=function e(){_this610["#vertical-arm-thickness-input"].removeEventListener("change",t),_this610["#vertical-arm-thickness-input"].removeEventListener("changeend",_e1152),_this610.ug=!1;});}},{key:"Cp",value:function Cp(){var _this611=this;var t,_e1153,i=this.Js.board,s=i.selectedElements[0],n=pl(s),o=i.geometryPrecision,_n$values15=_slicedToArray(n.values,7),l=_n$values15[0],h=_n$values15[1],a=_n$values15[2],r=_n$values15[3],d=_n$values15[4],c=_n$values15[5],p=_n$values15[6],_this$Nm19=this.Nm,u=_this$Nm19.displaySpace,x=_this$Nm19.displayUnit,b=Wt(x,"px"),m=Wt("px",x),g=Nt(s,i.currentWorkspace);"viewport"===u&&(g=Yt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Cross shift"),this.xg=!0,this["#shift-section"].addEventListener("change",t=function t(_t1648){_t1648.target===_this611["#shift-slider"]?_this611["#shift-input"].value=_this611["#shift-slider"].value:_t1648.target===_this611["#shift-input"]&&(_this611["#shift-slider"].value=_this611["#shift-input"].value);var e=new q(0,100);e=e.matrixTransform(g),e=e.matrixTransform(m),e.length=xb(_this611["#shift-input"].value),e=e.matrixTransform(b),e=e.matrixTransform(f),p=e.length*(_this611["#shift-input"].value<0?-1:1),p=p/r+.5,p=X(p,o),ul(s,{type:"cross",values:[l,h,a,r,d,c,p]});}),this["#shift-section"].addEventListener("changeend",_e1153=function e(){_this611["#shift-section"].removeEventListener("change",t),_this611["#shift-section"].removeEventListener("changeend",_e1153),_this611.xg=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _i1072=e[0],_s624=pl(_i1072);if(_s624&&"cross"===_s624.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _s624$values=_slicedToArray(_s624.values,7),_i1073=_s624$values[0],_n448=_s624$values[1],_o354=_s624$values[2],_l295=_s624$values[3],_h220=_s624$values[4],_a176=_s624$values[5],_r109=_s624$values[6],_this$Nm20=this.Nm,_d87=_this$Nm20.displayUnit,_c71=_this$Nm20.displaySpace,_p61=_this$Nm20.displayPrecision,_u51=e[0],_x135=Nt(_u51,t.currentWorkspace),_b42=Wt("px",_d87),_m39=_d87?" "+_d87:"",_g32=1/mb(10,_p61-1);"viewport"===_c71&&(_x135=Yt(t.currentWorkspace).multiply(_x135));var _f23=new DOMPoint(_i1073+_o354/2,_n448+_l295*_r109);if(_f23=_f23.matrixTransform(_x135),_f23=_f23.matrixTransform(_b42),_f23=Ce(_f23,_p61),!1===this.Jm&&(this["#cx-input"].value=_f23.x,this["#cx-input"].suffix=_m39,this["#cx-input"].step=_g32),!1===this.tg&&(this["#cy-input"].value=_f23.y,this["#cy-input"].suffix=_m39,this["#cy-input"].step=_g32),!1===this.pg){var _t1649=new q(0,_h220);_t1649=_t1649.matrixTransform(_x135),_t1649=_t1649.matrixTransform(_b42);var _e1154=new q(0,2*bb(_l295*_r109,_l295-_l295*_r109));_e1154=_e1154.matrixTransform(_x135),_e1154=_e1154.matrixTransform(_b42),this["#horizontal-arm-thickness-input"].max=X(_e1154.length,_p61),this["#horizontal-arm-thickness-input"].value=X(_t1649.length,_p61),this["#horizontal-arm-thickness-input"].step=_g32,this["#horizontal-arm-thickness-input"].suffix=_m39;}if(!1===this.ug){var _t1650=new q(_a176,0);_t1650=_t1650.matrixTransform(_x135),_t1650=_t1650.matrixTransform(_b42);var _e1155=new q(_o354,0);_e1155=_e1155.matrixTransform(_x135),_e1155=_e1155.matrixTransform(_b42),this["#vertical-arm-thickness-input"].max=X(_e1155.length,_p61),this["#vertical-arm-thickness-input"].value=X(_t1650.length,_p61),this["#vertical-arm-thickness-input"].step=_g32,this["#vertical-arm-thickness-input"].suffix=_m39;}if(!1===this.xg){var _t1651=new q(0,(_r109-.5)*_l295);_t1651=_t1651.matrixTransform(_x135),_t1651=_t1651.matrixTransform(_b42);var _e1156=new q(0,_l295/2-_h220/2);_e1156=_e1156.matrixTransform(_x135),_e1156=_e1156.matrixTransform(_b42);var _i1074=X(_t1651.length,_p61);_i1074*=_r109<.5?-1:1;var _s625=-X(_e1156.length,_p61),_n449=X(_e1156.length,_p61);this["#shift-slider"].min=_s625,this["#shift-slider"].max=_n449,this["#shift-slider"].step=_g32,this["#shift-slider"].value=_i1074,this["#shift-input"].min=_s625,this["#shift-input"].max=_n449,this["#shift-input"].step=_g32,this["#shift-input"].value=_i1074,this["#shift-input"].suffix=_m39;}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return gb;}(ob);_defineProperty(gb,"_shadowTemplate",Hi(_templateObject325()));_defineProperty(gb,"_shadowStyleSheet",Yi(_templateObject326()));customElements.define("bx-crossgeometryinspector",gb);var fb=Math.pow;var wb=/*#__PURE__*/function(_ob6){_inherits(wb,_ob6);var _super134=_createSuper(wb);function wb(){var _this612;_classCallCheck(this,wb);_this612=_super134.call(this),_this612.Jm=!1,_this612.tg=!1,_this612.gg=!1,_this612.fg=!1,_this612.wa=qi(_this612.qs,200,_assertThisInitialized(_this612)),_this612["#cx-input"].addEventListener("changestart",function(){return _this612.eg();}),_this612["#cy-input"].addEventListener("changestart",function(){return _this612.ig();}),_this612["#rx-input"].addEventListener("changestart",function(){return _this612.wg();}),_this612["#ry-input"].addEventListener("changestart",function(){return _this612.vg();}),_this612["#aspect-ratio-button"].addEventListener("toggle",function(){return _this612.yg();});return _this612;}_createClass(wb,[{key:"tn",value:function tn(){var _this613=this;this["#aspect-ratio-button"].toggled=app.getConfig("bx-ellipsegeometry:preserveAspectRatio",!1),this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off",this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this613.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this613.wa();}),this.Nm.addEventListener("spacebuttonstoggle",this.Wm=function(){_this613.wa();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Nm.removeEventListener("spacebuttonstoggle",this.Wm);}},{key:"eg",value:function eg(){var _this614=this;var t,_e1157,i=this.Js.board,s=i.selectedElements[0],_this$Nm21=this.Nm,n=_this$Nm21.displaySpace,o=_this$Nm21.displayUnit,l=i.geometryPrecision,h=Wt(o,"px"),a=Nt(s,i.vectorCanvas);"viewport"===n&&(a=Yt(i.currentWorkspace).multiply(a));var r=a.inverse();i.undoManager.checkpoint("Ellipse center"),this.Jm=!0,this["#cx-input"].addEventListener("change",t=function t(_t1652){var e=new DOMPoint(_this614["#cx-input"].value,_this614["#cy-input"].value);e=e.matrixTransform(h),e=e.matrixTransform(r),e=Ce(e,l),s.setAttribute("cx",e.x),s.setAttribute("cy",e.y);}),this["#cx-input"].addEventListener("changeend",_e1157=function e(){_this614["#cx-input"].removeEventListener("change",t),_this614["#cx-input"].removeEventListener("changeend",_e1157),_this614.Jm=!1;});}},{key:"ig",value:function ig(){var _this615=this;var t,_e1158,i=this.Js.board,s=i.selectedElements[0],_this$Nm22=this.Nm,n=_this$Nm22.displaySpace,o=_this$Nm22.displayUnit,l=i.geometryPrecision,h=Wt(o,"px"),a=Nt(s,i.currentWorkspace);"viewport"===n&&(a=Yt(i.currentWorkspace).multiply(a));var r=a.inverse();i.undoManager.checkpoint("Ellipse center"),this.tg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1653){var e=new DOMPoint(_this615["#cx-input"].value,_this615["#cy-input"].value);e=e.matrixTransform(h),e=e.matrixTransform(r),e=Ce(e,l),s.setAttribute("cx",e.x),s.setAttribute("cy",e.y);}),this["#cy-input"].addEventListener("changeend",_e1158=function e(){_this615["#cy-input"].removeEventListener("change",t),_this615["#cy-input"].removeEventListener("changeend",_e1158),_this615.tg=!1;});}},{key:"wg",value:function wg(){var _this616=this;var t,_e1159,i=this.Js.board,s=i.selectedElements[0],_this$Nm23=this.Nm,n=_this$Nm23.displaySpace,o=_this$Nm23.displayUnit,l=i.geometryPrecision,h=this["#ry-input"].value/this["#rx-input"].value,a=Wt(o,"px"),r=Nt(s,i.currentWorkspace);"viewport"===n&&(r=Yt(i.currentWorkspace).multiply(r));var d=r.inverse();i.undoManager.checkpoint("Ellipse radius X"),this.gg=!0;var c=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value);c=c.matrixTransform(r),c=c.matrixTransform(a);var p=new DOMPoint(s.cx.baseVal.value+100,s.cy.baseVal.value);p=p.matrixTransform(r),p=p.matrixTransform(a),this["#rx-input"].addEventListener("change",t=function t(_t1655){var e=new q(c,p);e.length=_this616["#rx-input"].value,e=e.matrixTransform(a),e=e.matrixTransform(d);var i=X(e.length,l);if(s.setAttribute("rx",i),_this616["#aspect-ratio-button"].toggled){var _t1654=X(i*h,l);s.setAttribute("ry",_t1654);}}),this["#rx-input"].addEventListener("changeend",_e1159=function e(){_this616["#rx-input"].removeEventListener("change",t),_this616["#rx-input"].removeEventListener("changeend",_e1159),_this616.gg=!1;});}},{key:"vg",value:function vg(){var _this617=this;var t,_e1160,i=this.Js.board,s=i.selectedElements[0],_this$Nm24=this.Nm,n=_this$Nm24.displaySpace,o=_this$Nm24.displayUnit,l=i.geometryPrecision,h=this["#rx-input"].value/this["#ry-input"].value,a=Wt(o,"px"),r=Nt(s,i.currentWorkspace);"viewport"===n&&(r=Yt(i.currentWorkspace).multiply(r));var d=r.inverse();i.undoManager.checkpoint("Ellipse radius Y"),this.fg=!0;var c=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value);c=c.matrixTransform(r),c=c.matrixTransform(a);var p=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value+100);p=p.matrixTransform(r),p=p.matrixTransform(a),this["#ry-input"].addEventListener("change",t=function t(_t1657){var e=new q(c,p);e.length=_this617["#ry-input"].value,e=e.matrixTransform(a),e=e.matrixTransform(d);var i=X(e.length,l);if(s.setAttribute("ry",i),_this617["#aspect-ratio-button"].toggled){var _t1656=X(i*h,l);s.setAttribute("rx",_t1656);}}),this["#ry-input"].addEventListener("changeend",_e1160=function e(){_this617["#ry-input"].removeEventListener("change",t),_this617["#ry-input"].removeEventListener("changeend",_e1160),_this617.fg=!1;});}},{key:"yg",value:function yg(){this.Qs.setConfig("bx-ellipsegeometry:preserveAspectRatio",this["#aspect-ratio-button"].toggled),this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off";}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"ellipse"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _this$Nm25=this.Nm,_i1075=_this$Nm25.displayUnit,_s626=_this$Nm25.displaySpace,_n450=_this$Nm25.displayPrecision,_o355=e[0],_l296=Nt(_o355,t.currentWorkspace),_h221=Wt("px",_i1075),_a177=_i1075?" "+_i1075:"",_r110=1/fb(10,_n450-1);"viewport"===_s626&&(_l296=Yt(t.currentWorkspace).multiply(_l296));var _d88=new DOMPoint(_o355.cx.baseVal.value,_o355.cy.baseVal.value);_d88=_d88.matrixTransform(_l296),_d88=_d88.matrixTransform(_h221),_d88=Ce(_d88,_n450);var _c72=new DOMPoint(_o355.cx.baseVal.value+_o355.rx.baseVal.value,_o355.cy.baseVal.value);_c72=_c72.matrixTransform(_l296),_c72=_c72.matrixTransform(_h221);var _p62=new DOMPoint(_o355.cx.baseVal.value,_o355.cy.baseVal.value+_o355.ry.baseVal.value);_p62=_p62.matrixTransform(_l296),_p62=_p62.matrixTransform(_h221);var _u52=X(new q(_d88,_c72).length,_n450),_x136=X(new q(_d88,_p62).length,_n450);!1===this.Jm&&(this["#cx-input"].value=_d88.x,this["#cx-input"].suffix=_a177,this["#cx-input"].step=_r110),!1===this.tg&&(this["#cy-input"].value=_d88.y,this["#cy-input"].suffix=_a177,this["#cy-input"].step=_r110),!1===this.gg&&(this["#rx-input"].value=_u52,this["#rx-input"].suffix=_a177,this["#rx-input"].step=_r110),!1===this.fg&&(this["#ry-input"].value=_x136,this["#ry-input"].suffix=_a177,this["#ry-input"].step=_r110);}}}]);return wb;}(ob);_defineProperty(wb,"_shadowTemplate",Hi(_templateObject327()));_defineProperty(wb,"_shadowStyleSheet",Yi(_templateObject328()));customElements.define("bx-ellipsegeometryinspector",wb);var vb=Math.pow;var yb=/*#__PURE__*/function(_ob7){_inherits(yb,_ob7);var _super135=_createSuper(yb);function yb(){var _this618;_classCallCheck(this,yb);_this618=_super135.call(this),_this618.kg=!1,_this618.Sg=!1,_this618.jx=!1,_this618._g=!1,_this618.wa=qi(_this618.qs,200,_assertThisInitialized(_this618)),_this618["#x-input"].addEventListener("changestart",function(){return _this618.Cg();}),_this618["#y-input"].addEventListener("changestart",function(){return _this618.Mg();}),_this618["#width-input"].addEventListener("changestart",function(){return _this618.Pg();}),_this618["#height-input"].addEventListener("changestart",function(){return _this618.Dg();}),_this618["#aspect-ratio-button"].addEventListener("toggle",function(){return _this618.yg();});return _this618;}_createClass(yb,[{key:"tn",value:function tn(){var _this619=this;this.qs(),this["#aspect-ratio-button"].toggled=this.Qs.getConfig("bx-gridgeometry:preserveAspectRatio",!1),this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this619.wa();}),this.Js.board.gridHud.addEventListener("selectedchange",this.zg=function(){_this619.wa();}),this.Nm.addEventListener("spacebuttonstoggle",this.Wm=function(){_this619.wa();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.gridHud.removeEventListener("selectedchange",this.zg),this.Nm.removeEventListener("spacebuttonstoggle",this.Wm);}},{key:"Cg",value:function Cg(){var _this620=this;var t,_e1161,i=this.Js.board,s=i.maybeCreateGridForCurrentWorkspace(),_this$Nm26=this.Nm,n=_this$Nm26.displaySpace,o=_this$Nm26.displayUnit,l=Wt(o,"px"),h=new DOMMatrix();"viewport"===n&&(h=Yt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Grid X"),this.kg=!0,this["#x-input"].addEventListener("change",t=function t(_t1658){var e=new DOMRect(_this620["#x-input"].value,_this620["#y-input"].value,_this620["#width-input"].value,_this620["#height-input"].value);e=Fe(e,l),e=Fe(e,h),s.setAttribute("x",X(e.x,i.geometryPrecision)),i.gridHud.requestImmidiateUpdate();}),this["#x-input"].addEventListener("changeend",_e1161=function e(){_this620["#x-input"].removeEventListener("change",t),_this620["#x-input"].removeEventListener("changeend",_e1161),_this620.kg=!1;});}},{key:"Mg",value:function Mg(){var _this621=this;var t,_e1162,i=this.Js.board,s=i.maybeCreateGridForCurrentWorkspace(),_this$Nm27=this.Nm,n=_this$Nm27.displaySpace,o=_this$Nm27.displayUnit,l=Wt(o,"px"),h=new DOMMatrix();"viewport"===n&&(h=Yt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Grid Y"),this.Sg=!0,this["#y-input"].addEventListener("change",t=function t(_t1659){var e=new DOMRect(_this621["#x-input"].value,_this621["#y-input"].value,_this621["#width-input"].value,_this621["#height-input"].value);e=Fe(e,l),e=Fe(e,h),s.setAttribute("y",X(e.y,i.geometryPrecision)),i.gridHud.requestImmidiateUpdate();}),this["#y-input"].addEventListener("changeend",_e1162=function e(){_this621["#y-input"].removeEventListener("change",t),_this621["#y-input"].removeEventListener("changeend",_e1162),_this621.Sg=!1;});}},{key:"Pg",value:function Pg(){var _this622=this;var t,_e1163,i=this.Js.board,s=i.maybeCreateGridForCurrentWorkspace(),n=this["#height-input"].value/this["#width-input"].value,_this$Nm28=this.Nm,o=_this$Nm28.displaySpace,l=_this$Nm28.displayUnit,h=_this$Nm28.displayPrecision,a=Wt(l,"px"),r=new DOMMatrix();"viewport"===o&&(r=Yt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Grid width"),this.jx=!0,this["#width-input"].addEventListener("change",t=function t(_t1660){var e=new DOMRect(0,0,_this622["#width-input"].value,_this622["#height-input"].value);!1===_this622["#aspect-ratio-button"].toggled?(e=Fe(e,a),e=Fe(e,r),s.setAttribute("width",X(e.width,i.geometryPrecision))):!0===_this622["#aspect-ratio-button"].toggled&&(e.height=e.width*n,_this622["#height-input"].value=X(e.height,h),e=Fe(e,a),e=Fe(e,r),s.setAttribute("width",X(e.width,i.geometryPrecision)),s.setAttribute("height",X(e.height,i.geometryPrecision))),i.gridHud.requestImmidiateUpdate();}),this["#width-input"].addEventListener("changeend",_e1163=function e(){_this622["#width-input"].removeEventListener("change",t),_this622["#width-input"].removeEventListener("changeend",_e1163),_this622.jx=!1;});}},{key:"Dg",value:function Dg(){var _this623=this;var t,_e1164,i=this.Js.board,s=i.maybeCreateGridForCurrentWorkspace(),n=this["#width-input"].value/this["#height-input"].value,_this$Nm29=this.Nm,o=_this$Nm29.displaySpace,l=_this$Nm29.displayUnit,h=_this$Nm29.displayPrecision,a=Wt(l,"px"),r=new DOMMatrix();"viewport"===o&&(r=Yt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Grid height"),this._g=!0,this["#height-input"].addEventListener("change",t=function t(_t1661){var e=new DOMRect(0,0,_this623["#width-input"].value,_this623["#height-input"].value);!1===_this623["#aspect-ratio-button"].toggled?(e=Fe(e,a),e=Fe(e,r),s.setAttribute("height",X(e.height,i.geometryPrecision))):!0===_this623["#aspect-ratio-button"].toggled&&(e.width=e.height*n,_this623["#width-input"].value=X(e.width,h),e=Fe(e,a),e=Fe(e,r),s.setAttribute("width",X(e.width,i.geometryPrecision)),s.setAttribute("height",X(e.height,i.geometryPrecision))),i.gridHud.requestImmidiateUpdate();}),this["#height-input"].addEventListener("changeend",_e1164=function e(){_this623["#height-input"].removeEventListener("change",t),_this623["#height-input"].removeEventListener("changeend",_e1164),_this623._g=!1;});}},{key:"yg",value:function yg(){this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-gridgeometry:preserveAspectRatio",this["#aspect-ratio-button"].toggled);}},{key:"qs",value:function qs(){var t=this.Js.board;if(!1===this.kg&&!1===this.Sg&&!1===this.jx&&!1===this._g)if(t.gridHud.enabled&&t.gridHud.selected){var _e1165=t.currentWorkspace.querySelector(":scope > defs > bx-grid"),_this$Nm30=this.Nm,_i1076=_this$Nm30.displayUnit,_s627=_this$Nm30.displaySpace,_n451=_this$Nm30.displayPrecision,_o356=_i1076?" "+_i1076:"",_l297=1/vb(10,_n451-1),_h222=Wt("px",_i1076),_a178=new DOMMatrix();"viewport"===_s627&&(_a178=Yt(t.currentWorkspace).multiply(_a178));var _r111=new DOMRect(0,0,100,100);for(var _i1077=0,_arr42=["x","y","width","height"];_i1077<_arr42.length;_i1077++){var _t1662=_arr42[_i1077];_e1165&&_e1165.hasAttribute(_t1662)&&(_r111[_t1662]=Np.fromString(_e1165.getAttribute(_t1662)).value);}_r111=Fe(_r111,_a178),_r111=Fe(_r111,_h222),_r111=Ge(_r111,_n451),!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#x-input"].value=_r111.x,this["#x-input"].suffix=_o356,this["#x-input"].step=_l297,this["#y-input"].value=_r111.y,this["#y-input"].suffix=_o356,this["#y-input"].step=_l297,this["#width-input"].value=_r111.width,this["#width-input"].suffix=_o356,this["#width-input"].step=_l297,this["#height-input"].value=_r111.height,this["#height-input"].suffix=_o356,this["#height-input"].step=_l297;}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return yb;}(ob);_defineProperty(yb,"_shadowTemplate",Hi(_templateObject329()));_defineProperty(yb,"_shadowStyleSheet",Yi(_templateObject330()));customElements.define("bx-gridgeometryinspector",yb);var kb=Math.pow;var Sb=/*#__PURE__*/function(_ob8){_inherits(Sb,_ob8);var _super136=_createSuper(Sb);function Sb(){var _this624;_classCallCheck(this,Sb);_this624=_super136.call(this),_this624.kg=!1,_this624.Sg=!1,_this624.wa=qi(_this624.qs,200,_assertThisInitialized(_this624)),_this624["#x-input"].addEventListener("changestart",function(){return _this624.Cg();}),_this624["#y-input"].addEventListener("changestart",function(){return _this624.Mg();}),_this624["#orientation-buttons"].addEventListener("toggle",function(){return _this624.Ib();});return _this624;}_createClass(Sb,[{key:"tn",value:function tn(){var _this625=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this625.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this625.wa();}),this.Nm.addEventListener("spacebuttonstoggle",this.Wm=function(){_this625.wa();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Nm.removeEventListener("spacebuttonstoggle",this.Wm);}},{key:"Cg",value:function Cg(){var _this626=this;var t,_e1166,i=this.Js.board,s=i.selectedElements.find(function(t){return"bx-guide"===t.localName;}),_this$Nm31=this.Nm,n=_this$Nm31.displaySpace,o=_this$Nm31.displayUnit,l=Wt(o,"px"),h=new DOMMatrix();"viewport"===n&&(h=Yt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Guide X"),this.kg=!0,this["#x-input"].addEventListener("change",t=function t(_t1663){var e=new DOMPoint(_this626["#x-input"].value,_this626["#y-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(h),e=Ce(e,i.geometryPrecision),s.setAttribute("x",e.x),i.manualGuidesHud.requestImmidiateUpdate();}),this["#x-input"].addEventListener("changeend",_e1166=function e(){_this626["#x-input"].removeEventListener("change",t),_this626["#x-input"].removeEventListener("changeend",_e1166),_this626.kg=!1;});}},{key:"Mg",value:function Mg(){var _this627=this;var t,_e1167,i=this.Js.board,s=i.selectedElements.find(function(t){return"bx-guide"===t.localName;}),_this$Nm32=this.Nm,n=_this$Nm32.displaySpace,o=_this$Nm32.displayUnit,l=Wt(o,"px"),h=new DOMMatrix();"viewport"===n&&(h=Yt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Guide Y"),this.Sg=!0,this["#y-input"].addEventListener("change",t=function t(_t1664){var e=new DOMPoint(_this627["#x-input"].value,_this627["#y-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(h),e=Ce(e,i.geometryPrecision),s.setAttribute("y",e.y),i.manualGuidesHud.requestImmidiateUpdate();}),this["#y-input"].addEventListener("changeend",_e1167=function e(){_this627["#y-input"].removeEventListener("change",t),_this627["#y-input"].removeEventListener("changeend",_e1167),_this627.Sg=!1;});}},{key:"Ib",value:function Ib(){var t=this.Js.board,e=this["#orientation-buttons"].value,i=t.selectedElements.filter(function(t){return"bx-guide"===t.localName;});if(i.length>0){t.undoManager.checkpoint("Guide orientation");var _iterator1134=_createForOfIteratorHelper(i),_step1134;try{for(_iterator1134.s();!(_step1134=_iterator1134.n()).done;){var _t1665=_step1134.value;var _i1078=Np.fromString(_t1665.getAttribute("angle")).value;"horizontal"===e?_i1078%180!=90&&_t1665.setAttribute("angle","90"):"vertical"===e&&_i1078%180!=0&&_t1665.setAttribute("angle","0");}}catch(err){_iterator1134.e(err);}finally{_iterator1134.f();}}}},{key:"qs",value:function qs(){if(!1===this.kg&&!1===this.Sg){var _t1666=this.Js.board,_e1168=_t1666.selectedElements.filter(function(t){return"bx-guide"===t.localName;});if(0===_e1168.length)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _this$Nm33=this.Nm,_i1079=_this$Nm33.displayUnit,_s628=_this$Nm33.displaySpace,_n452=_this$Nm33.displayPrecision,_o357=_e1168[0],_l298=Np.fromString(_o357.getAttribute("angle")).value,_h223=_i1079?" "+_i1079:"",_a179=1/kb(10,_n452-1),_r112=Wt("px",_i1079),_d89=new DOMMatrix();"viewport"===_s628&&(_d89=Yt(_t1666.currentWorkspace).multiply(_d89));var _c73=Np.fromString(_o357.getAttribute("x")).value,_p63=Np.fromString(_o357.getAttribute("y")).value,_u53=new DOMPoint(_c73,_p63);_u53=_u53.matrixTransform(_d89),_u53=_u53.matrixTransform(_r112),_u53=Ce(_u53,_n452),this["#x-input"].value=_u53.x,this["#x-input"].suffix=_h223,this["#x-input"].step=_a179,this["#y-input"].value=_u53.y,this["#y-input"].suffix=_h223,this["#y-input"].step=_a179,this["#orientation-buttons"].value=_l298%180==90?"horizontal":"vertical";}}}}]);return Sb;}(ob);_defineProperty(Sb,"_shadowTemplate",Hi(_templateObject331()));_defineProperty(Sb,"_shadowStyleSheet",Yi(_templateObject332()));customElements.define("bx-guidegeometryinspector",Sb);var _b=/*#__PURE__*/function(_ob9){_inherits(_b,_ob9);var _super137=_createSuper(_b);function _b(){var _this628;_classCallCheck(this,_b);_this628=_super137.call(this),_this628.wa=qi(_this628.qs,200,_assertThisInitialized(_this628));return _this628;}_createClass(_b,[{key:"tn",value:function tn(){var _this629=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this629.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this629.wa();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"qs",value:function(){var _qs2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee116(){var t,_e1169,_i1080,_s629;return regeneratorRuntime.wrap(function _callee116$(_context117){while(1){switch(_context117.prev=_context117.next){case 0:t=this.Js.board.outermostSelectedElements[0];if(!t){_context117.next=14;break;}if(!("image"===t.localName)){_context117.next=11;break;}_context117.next=5;return createImageBitmap(t);case 5:_e1169=_context117.sent;_i1080=_e1169.width;_s629=_e1169.height;_e1169.close(),this["#natural-width-input"].value=_i1080,this["#natural-height-input"].value=_s629,!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));_context117.next=12;break;case 11:!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));case 12:_context117.next=15;break;case 14:!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));case 15:case"end":return _context117.stop();}}},_callee116,this);}));function qs(){return _qs2.apply(this,arguments);}return qs;}()}]);return _b;}(ob);_defineProperty(_b,"_shadowTemplate",Hi(_templateObject333()));_defineProperty(_b,"_shadowStyleSheet",Yi(_templateObject334()));customElements.define("bx-imagegeometryinspector",_b);var Cb=Math.pow;var Mb=/*#__PURE__*/function(_ob10){_inherits(Mb,_ob10);var _super138=_createSuper(Mb);function Mb(){var _this630;_classCallCheck(this,Mb);_this630=_super138.call(this),_this630.Og=!1,_this630.Eg=!1,_this630.Tg=!1,_this630.Ag=!1,_this630.$g=!1,_this630.wa=qi(_this630.qs,200,_assertThisInitialized(_this630)),_this630["#x1-input"].addEventListener("changestart",function(){return _this630.Ig();}),_this630["#y1-input"].addEventListener("changestart",function(){return _this630.Lg();}),_this630["#x2-input"].addEventListener("changestart",function(){return _this630.Bg();}),_this630["#y2-input"].addEventListener("changestart",function(){return _this630.Rg();}),_this630["#length-input"].addEventListener("changestart",function(){return _this630.Gg();});return _this630;}_createClass(Mb,[{key:"tn",value:function tn(){var _this631=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this631.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this631.wa();}),this.Nm.addEventListener("spacebuttonstoggle",this.Wm=function(){_this631.wa();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Nm.removeEventListener("spacebuttonstoggle",this.Wm);}},{key:"Ig",value:function Ig(){var _this632=this;var t,_e1170,i=this.Js.board,s=i.selectedElements[0],_this$Nm34=this.Nm,n=_this$Nm34.displaySpace,o=_this$Nm34.displayUnit,l=Wt(o,"px"),h=Nt(s,i.vectorCanvas);"viewport"===n&&(h=Yt(i.currentWorkspace).multiply(h));var a=h.inverse();i.undoManager.checkpoint("Line X1"),this.Og=!0,this["#x1-input"].addEventListener("change",t=function t(_t1667){var e=new DOMPoint(_this632["#x1-input"].value,_this632["#y1-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(a),e=Ce(e,i.geometryPrecision),s.setAttribute("x1",e.x),s.setAttribute("y1",e.y);}),this["#x1-input"].addEventListener("changeend",_e1170=function e(){_this632["#x1-input"].removeEventListener("change",t),_this632["#x1-input"].removeEventListener("changeend",_e1170),_this632.Og=!1;});}},{key:"Lg",value:function Lg(){var _this633=this;var t,_e1171,i=this.Js.board,s=i.selectedElements[0],_this$Nm35=this.Nm,n=_this$Nm35.displaySpace,o=_this$Nm35.displayUnit,l=Wt(o,"px"),h=Nt(s,i.vectorCanvas);"viewport"===n&&(h=Yt(i.currentWorkspace).multiply(h));var a=h.inverse();i.undoManager.checkpoint("Line Y1"),this.Eg=!0,this["#y1-input"].addEventListener("change",t=function t(_t1668){var e=new DOMPoint(_this633["#x1-input"].value,_this633["#y1-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(a),e=Ce(e,i.geometryPrecision),s.setAttribute("x1",e.x),s.setAttribute("y1",e.y);}),this["#y1-input"].addEventListener("changeend",_e1171=function e(){_this633["#y1-input"].removeEventListener("change",t),_this633["#y1-input"].removeEventListener("changeend",_e1171),_this633.Eg=!1;});}},{key:"Bg",value:function Bg(){var _this634=this;var t,_e1172,i=this.Js.board,s=i.selectedElements[0],_this$Nm36=this.Nm,n=_this$Nm36.displaySpace,o=_this$Nm36.displayUnit,l=Wt(o,"px"),h=Nt(s,i.vectorCanvas);"viewport"===n&&(h=Yt(i.currentWorkspace).multiply(h));var a=h.inverse();i.undoManager.checkpoint("Line X2"),this.Tg=!0,this["#x2-input"].addEventListener("change",t=function t(_t1669){var e=new DOMPoint(_this634["#x2-input"].value,_this634["#y2-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(a),e=Ce(e,i.geometryPrecision),s.setAttribute("x2",e.x),s.setAttribute("y2",e.y);}),this["#x2-input"].addEventListener("changeend",_e1172=function e(){_this634["#x2-input"].removeEventListener("change",t),_this634["#x2-input"].removeEventListener("changeend",_e1172),_this634.Tg=!1;});}},{key:"Rg",value:function Rg(){var _this635=this;var t,_e1173,i=this.Js.board,s=i.selectedElements[0],_this$Nm37=this.Nm,n=_this$Nm37.displaySpace,o=_this$Nm37.displayUnit,l=Wt(o,"px"),h=Nt(s,i.vectorCanvas);"viewport"===n&&(h=Yt(i.currentWorkspace).multiply(h));var a=h.inverse();i.undoManager.checkpoint("Line Y2"),this.Ag=!0,this["#y2-input"].addEventListener("change",t=function t(_t1670){var e=new DOMPoint(_this635["#x2-input"].value,_this635["#y2-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(a),e=Ce(e,i.geometryPrecision),s.setAttribute("x2",e.x),s.setAttribute("y2",e.y);}),this["#y2-input"].addEventListener("changeend",_e1173=function e(){_this635["#y2-input"].removeEventListener("change",t),_this635["#y2-input"].removeEventListener("changeend",_e1173),_this635.Ag=!1;});}},{key:"Gg",value:function Gg(){var _this636=this;var t,_e1174,i=this.Js.board,s=i.selectedElements[0],_this$Nm38=this.Nm,n=_this$Nm38.displaySpace,o=_this$Nm38.displayUnit,l=Wt("px",o),h=Nt(s,i.vectorCanvas);"viewport"===n&&(h=Yt(i.currentWorkspace).multiply(h));var a=h.inverse();i.undoManager.checkpoint("Line length"),this.$g=!0;var r=new DOMPoint(s.x1.baseVal.value,s.y1.baseVal.value),d=new DOMPoint(s.x2.baseVal.value,s.y2.baseVal.value);this["#length-input"].addEventListener("change",t=function t(_t1671){console.log("change");var e=new q(r,d);e=e.matrixTransform(h),e=e.matrixTransform(l),e.length=_this636["#length-input"].value,e=e.matrixTransform(l.inverse()),e=e.matrixTransform(a);var n=e.transformPoint(r);n=Ce(n,i.geometryPrecision),s.setAttribute("x2",n.x),s.setAttribute("y2",n.y);}),this["#length-input"].addEventListener("changeend",_e1174=function e(){_this636["#length-input"].removeEventListener("change",t),_this636["#length-input"].removeEventListener("changeend",_e1174),_this636.$g=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"line"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _i1081=e[0],_this$Nm39=this.Nm,_s630=_this$Nm39.displayUnit,_n453=_this$Nm39.displaySpace,_o358=_this$Nm39.displayPrecision,_l299=Nt(_i1081,t.currentWorkspace),_h224=Wt("px",_s630),_a180=_s630?" "+_s630:"",_r113=1/Cb(10,_o358-1);"viewport"===_n453&&(_l299=Yt(t.currentWorkspace).multiply(_l299));var _d90=new DOMPoint(_i1081.x1.baseVal.value,_i1081.y1.baseVal.value);_d90=_d90.matrixTransform(_l299),_d90=_d90.matrixTransform(_h224);var _c74=new DOMPoint(_i1081.x2.baseVal.value,_i1081.y2.baseVal.value);_c74=_c74.matrixTransform(_l299),_c74=_c74.matrixTransform(_h224);var _p64=new q(_d90,_c74).length;_d90=Ce(_d90,_o358),_c74=Ce(_c74,_o358),_p64=X(_p64,_o358),!1===this.Og&&(this["#x1-input"].value=_d90.x,this["#x1-input"].suffix=_a180,this["#x1-input"].step=_r113),!1===this.Eg&&(this["#y1-input"].value=_d90.y,this["#y1-input"].suffix=_a180,this["#y1-input"].step=_r113),!1===this.Tg&&(this["#x2-input"].value=_c74.x,this["#x2-input"].suffix=_a180,this["#x2-input"].step=_r113),!1===this.Ag&&(this["#y2-input"].value=_c74.y,this["#y2-input"].suffix=_a180,this["#y2-input"].step=_r113),!1===this.$g&&(this["#length-input"].value=_p64,this["#length-input"].suffix=_a180,this["#length-input"].step=_r113);}}}]);return Mb;}(ob);_defineProperty(Mb,"_shadowTemplate",Hi(_templateObject335()));_defineProperty(Mb,"_shadowStyleSheet",Yi(_templateObject336()));customElements.define("bx-linegeometryinspector",Mb);var Pb={ArrowRight:{xMinYMin:"xMidYMin",xMidYMin:"xMaxYMin",xMinYMid:"xMidYMid",xMidYMid:"xMaxYMid",xMinYMax:"xMidYMax",xMidYMax:"xMaxYMax"},ArrowLeft:{xMaxYMin:"xMidYMin",xMidYMin:"xMinYMin",xMaxYMid:"xMidYMid",xMidYMid:"xMinYMid",xMaxYMax:"xMidYMax",xMidYMax:"xMinYMax"},ArrowDown:{xMinYMin:"xMinYMid",xMinYMid:"xMinYMax",xMidYMin:"xMidYMid",xMidYMid:"xMidYMax",xMaxYMin:"xMaxYMid",xMaxYMid:"xMaxYMax"},ArrowUp:{xMinYMax:"xMinYMid",xMinYMid:"xMinYMin",xMidYMax:"xMidYMid",xMidYMid:"xMidYMin",xMaxYMax:"xMaxYMid",xMaxYMid:"xMaxYMin"}};var Db=/*#__PURE__*/function(_HTMLElement101){_inherits(Db,_HTMLElement101);var _super139=_createSuper(Db);_createClass(Db,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"none";},set:function set(t){this.setAttribute("value",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function Db(){var _this637;_classCallCheck(this,Db);_this637=_super139.call(this),_this637._shadowRoot=_this637.attachShadow({mode:"closed",delegatesFocus:!0}),_this637._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Db._shadowStyleSheet],_this637._shadowRoot.append(document.importNode(Db._shadowTemplate.content,!0));var _iterator1135=_createForOfIteratorHelper(_this637._shadowRoot.querySelectorAll("[id]")),_step1135;try{for(_iterator1135.s();!(_step1135=_iterator1135.n()).done;){var _t1672=_step1135.value;_this637["#"+_t1672.id]=_t1672;}}catch(err){_iterator1135.e(err);}finally{_iterator1135.f();}_this637.addEventListener("pointerdown",function(t){return _this637.wo(t);}),_this637["#buttons"].addEventListener("click",function(t){return _this637.Fg(t);}),_this637["#buttons"].addEventListener("keydown",function(t){return _this637.vn(t);},!0);return _this637;}_createClass(Db,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.Ug():"disabled"===t&&this.Zu());}},{key:"connectedCallback",value:function connectedCallback(){this.setAttribute("aria-disabled",this.disabled),this.qs();}},{key:"Zu",value:function Zu(){this.setAttribute("aria-disabled",this.disabled);}},{key:"wo",value:function wo(t){!1===this.matches(":focus")&&(t.preventDefault(),this.focus(),this.blur());}},{key:"Fg",value:function Fg(t){var e=t.target.closest("x-button");if(e&&!1===e.toggled){var _t1673=this["#buttons"].querySelector("x-button[toggled]");_t1673&&(_t1673.toggled=!1),e.toggled=!0,this.setAttribute("value",e?e.value:"none"),this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0}));}}},{key:"vn",value:function vn(t){var e=t.key;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(e)){t.preventDefault(),t.stopImmediatePropagation();var _i1082=this["#buttons"].querySelector("x-button:focus"),_s631=Pb[e][_i1082.value],_n454=this["#buttons"].querySelector("x-button[value=\"".concat(_s631,"\"]"));_n454&&_n454.focus();}}},{key:"qs",value:function qs(){this.Ug();}},{key:"Ug",value:function Ug(){var _iterator1136=_createForOfIteratorHelper(this["#buttons"].children),_step1136;try{for(_iterator1136.s();!(_step1136=_iterator1136.n()).done;){var _t1674=_step1136.value;_t1674.toggled=_t1674.value===this.value;}}catch(err){_iterator1136.e(err);}finally{_iterator1136.f();}}}]);return Db;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Db,"observedAttributes",["value","disabled"]);_defineProperty(Db,"_shadowTemplate",Hi(_templateObject337()));_defineProperty(Db,"_shadowStyleSheet",Yi(_templateObject338()));customElements.define("bx-alignbuttons",Db);var zb=Number.isFinite;var Ob=/*#__PURE__*/function(_ob11){_inherits(Ob,_ob11);var _super140=_createSuper(Ob);function Ob(){var _this638;_classCallCheck(this,Ob);_this638=_super140.call(this),_this638.Ng=!1,_this638.Vg=!1,_this638.jg=!1,_this638.Hg=!1,_this638.Yg=!1,_this638.Wg=!1,_this638.qg=!1,_this638.Xg=!1,_this638.Zg=!1,_this638.Kg=null,_this638.Qg=null,_this638.Jg=0,_this638.tf=qi(_this638.qs,100,_assertThisInitialized(_this638)),_this638["#viewport-width-input"].addEventListener("changestart",function(){return _this638.ef();}),_this638["#viewport-height-input"].addEventListener("changestart",function(){return _this638["if"]();}),_this638["#viewport-lock-button"].addEventListener("toggle",function(){return _this638.sf();}),_this638["#viewport-units-select"].addEventListener("change",function(){return _this638.nf();}),_this638["#viewbox-x-input"].addEventListener("changestart",function(t){return _this638.lf(t);}),_this638["#viewbox-y-input"].addEventListener("changestart",function(t){return _this638.hf(t);}),_this638["#viewbox-width-input"].addEventListener("changestart",function(t){return _this638.af(t);}),_this638["#viewbox-height-input"].addEventListener("changestart",function(t){return _this638.rf(t);}),_this638["#viewbox-switch"].addEventListener("toggle",function(){return _this638.df();}),_this638["#viewbox-lock-button"].addEventListener("toggle",function(){return _this638.cf();}),_this638["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this638.pf();}),_this638["#align-buttons"].addEventListener("toggle",function(){return _this638.uf();}),_this638["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this638.xf();}),_this638["#ref-x-input"].addEventListener("changestart",function(){return _this638.bf();}),_this638["#ref-y-input"].addEventListener("changestart",function(){return _this638.mf();}),_this638["#orient-switch"].addEventListener("toggle",function(){return _this638.gf();}),_this638["#orient-box"].addEventListener("changestart",function(){return _this638.ff();});return _this638;}_createClass(Ob,[{key:"tn",value:function tn(){var _this639=this;this.qs(),this["#viewport-lock-button"].toggled=app.getConfig("bx-markergeometryinspector:lockViewport",!1),this["#viewport-lock-icon"].name=this["#viewport-lock-button"].toggled?"lock-on":"lock-off",this["#viewbox-lock-button"].toggled=app.getConfig("bx-markergeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this639.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this639.il(t.detail);});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"il",value:function il(t){this.tf();}},{key:"ef",value:function ef(){var _this640=this;var t,_e1175,i=this.Js.board,s=i.geometryPrecision,n=null;this["#viewport-lock-button"].toggled&&null!==this["#viewport-width-input"].value&&null!==this["#viewport-height-input"].value&&(n=this["#viewport-height-input"].value/this["#viewport-width-input"].value,!1===zb(n)&&(n=1)),i.undoManager.checkpoint("Viewport width"),this.Ng=!0,this["#viewport-width-input"].addEventListener("change",t=function t(){if(null===_this640["#viewport-width-input"].value)i.currentWorkspace.removeAttribute("markerWidth");else{var _t1675=X(_this640["#viewport-width-input"].value,s);if(i.currentWorkspace.setAttribute("markerWidth",_t1675),null!==n){var _t1676=X(_this640["#viewport-width-input"].value*n,s);i.currentWorkspace.setAttribute("markerHeight",_t1676);}}}),this["#viewport-width-input"].addEventListener("changeend",_e1175=function e(){_this640["#viewport-width-input"].removeEventListener("change",t),_this640["#viewport-width-input"].removeEventListener("changeend",_e1175),_this640.Ng=!1;});}},{key:"if",value:function _if(){var _this641=this;var t,_e1176,i=this.Js.board,s=i.geometryPrecision,n=null;this["#viewport-lock-button"].toggled&&null!==this["#viewport-height-input"].value&&null!==this["#viewport-width-input"].value&&(n=this["#viewport-width-input"].value/this["#viewport-height-input"].value,!1===zb(n)&&(n=1)),i.undoManager.checkpoint("Viewport height"),this.Vg=!0,this["#viewport-height-input"].addEventListener("change",t=function t(){if(null===_this641["#viewport-height-input"].value)i.currentWorkspace.removeAttribute("markerHeight");else{var _t1677=X(_this641["#viewport-height-input"].value,s);if(i.currentWorkspace.setAttribute("markerHeight",_t1677),null!==n){var _t1678=X(_this641["#viewport-height-input"].value*n,s);i.currentWorkspace.setAttribute("markerWidth",_t1678);}}}),this["#viewport-height-input"].addEventListener("changeend",_e1176=function e(){_this641["#viewport-height-input"].removeEventListener("change",t),_this641["#viewport-height-input"].removeEventListener("changeend",_e1176),_this641.Vg=!1;});}},{key:"sf",value:function sf(){var t=this["#viewport-lock-button"].toggled;this.Qs.setConfig("bx-markergeometryinspector:lockViewport",t),this["#viewport-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"nf",value:function nf(){var t=this.Js.board,e=this["#viewport-units-select"].value;t.undoManager.checkpoint("Marker units"),"userSpaceOnUse"===e?t.currentWorkspace.setAttribute("markerUnits","userSpaceOnUse"):t.currentWorkspace.setAttribute("markerUnits","strokeWidth");}},{key:"df",value:function df(){var t=this.Js.board;t.undoManager.checkpoint("View box"),this["#viewbox-switch"].toggled?this.Kg?t.currentWorkspace.setAttribute("viewBox",this.Kg):t.currentWorkspace.setAttribute("viewBox","0 0 500 500"):(this.Kg=t.currentWorkspace.getAttribute("viewBox"),t.currentWorkspace.removeAttribute("viewBox"));}},{key:"lf",value:function lf(t){var _this642=this;var e,_i1083,s=this.Js.board.currentWorkspace,n=Lt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.jg=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){n.x=_this642["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-x-input"].addEventListener("changeend",_i1083=function i(){_this642["#viewbox-x-input"].removeEventListener("change",e),_this642["#viewbox-x-input"].removeEventListener("changeend",_i1083),_this642.jg=!1;});}},{key:"hf",value:function hf(t){var _this643=this;var e,_i1084,s=this.Js.board.currentWorkspace,n=Lt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.Hg=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){n.y=_this643["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-y-input"].addEventListener("changeend",_i1084=function i(){_this643["#viewbox-y-input"].removeEventListener("change",e),_this643["#viewbox-y-input"].removeEventListener("changeend",_i1084),_this643.Hg=!1;});}},{key:"af",value:function af(t){var _this644=this;var e,_i1085,_this$Js$board47=this.Js.board,s=_this$Js$board47.geometryPrecision,n=_this$Js$board47.currentWorkspace,o=Lt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===zb(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.Yg=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){o.width=_this644["#viewbox-width-input"].value,null!==l&&(o.height=X(_this644["#viewbox-width-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-width-input"].addEventListener("changeend",_i1085=function i(){_this644["#viewbox-width-input"].removeEventListener("change",e),_this644["#viewbox-width-input"].removeEventListener("changeend",_i1085),_this644.Yg=!1;});}},{key:"rf",value:function rf(t){var _this645=this;var e,_i1086,_this$Js$board48=this.Js.board,s=_this$Js$board48.geometryPrecision,n=_this$Js$board48.currentWorkspace,o=Lt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===zb(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.Wg=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){o.height=_this645["#viewbox-height-input"].value,null!==l&&(o.width=X(_this645["#viewbox-height-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-height-input"].addEventListener("changeend",_i1086=function i(){_this645["#viewbox-height-input"].removeEventListener("change",e),_this645["#viewbox-height-input"].removeEventListener("changeend",_i1086),_this645.Wg=!1;});}},{key:"cf",value:function cf(){var t=this["#viewbox-lock-button"].toggled;this.Qs.setConfig("bx-markergeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"pf",value:function pf(){var t=this.Js.board.currentWorkspace;this.Js.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.Qg?t.setAttribute("preserveAspectRatio",this.Qg):t.removeAttribute("preserveAspectRatio"):(this.Qg=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"uf",value:function uf(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s632=e;"none"!==_s632&&"slice"===i&&(_s632+=" slice"),t.setAttribute("preserveAspectRatio",_s632);}}},{key:"xf",value:function xf(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s633=e;"none"!==_s633&&"slice"===i&&(_s633+=" slice"),t.setAttribute("preserveAspectRatio",_s633);}}},{key:"bf",value:function bf(){var _this646=this;var t,_e1177,i=this["#ref-x-input"],s=this.Js.board;s.undoManager.checkpoint("Marker reference point"),this.qg=!0,i.addEventListener("change",t=function t(){s.currentWorkspace.setAttribute("refX",i.value);}),i.addEventListener("changeend",_e1177=function e(){i.removeEventListener("change",t),i.removeEventListener("changeend",_e1177),_this646.qg=!1;});}},{key:"mf",value:function mf(){var _this647=this;var t,_e1178,i=this["#ref-y-input"],s=this.Js.board;s.undoManager.checkpoint("Marker reference point"),this.Xg=!0,i.addEventListener("change",t=function t(){s.currentWorkspace.setAttribute("refY",i.value);}),i.addEventListener("changeend",_e1178=function e(){i.removeEventListener("change",t),i.removeEventListener("changeend",_e1178),_this647.Xg=!1;});}},{key:"gf",value:function gf(){var t=this.Js.board;if(t.undoManager.checkpoint("Marker orient"),this["#orient-switch"].toggled)t.currentWorkspace.setAttribute("orient",this.Jg);else{var _Ic=Ic(t.currentWorkspace),_Ic2=_slicedToArray(_Ic,2),_e1179=_Ic2[1];this.Jg=_e1179,t.currentWorkspace.setAttribute("orient","auto");}}},{key:"ff",value:function ff(){var _this648=this;var t,_e1180,i=this.Js.board;i.undoManager.checkpoint("Marker orient"),this.Zg=!0,this["#orient-box"].addEventListener("change",t=function t(_t1679){_t1679.target===_this648["#orient-slider"]?_this648["#orient-input"].value=_this648["#orient-slider"].value:_t1679.target===_this648["#object-rotation-input"]&&(_this648["#orient-slider"].value=_this648["#orient-input"].value),_this648.Qs.modKeys.shift&&(_this648["#orient-input"].value=Le(_this648["#orient-slider"].value,15),_this648["#orient-slider"].value=_this648["#orient-input"].value),i.currentWorkspace.setAttribute("orient",_this648["#orient-input"].value+"deg");}),this["#orient-box"].addEventListener("changeend",_e1180=function e(){_this648["#orient-box"].removeEventListener("change",t),_this648["#orient-box"].removeEventListener("changeend",_e1180),_this648.Zg=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.currentWorkspace,i=t.currentContainer,s=t.selectedElements,n=t.gridHud,o=this.Nm.displayPrecision;if("marker"!==e.getAttribute("data-bx-workspace")||s.length>0||0===s.length&&null!==i||n.selected)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));{var _i1087=t.getComputedViewportWidth(),_s634=t.getComputedViewportHeight();null!==_i1087&&null!==_s634?(!1===this.Ng&&(this["#viewport-width-input"].value=X(_i1087.value,o)),!1===this.Vg&&(this["#viewport-height-input"].value=X(_s634.value,o)),this["#viewport-lock-button"].disabled=!1):null!==_i1087&&null===_s634?(!1===this.Ng&&(this["#viewport-width-input"].value=X(_i1087.value,o)),!1===this.Vg&&(this["#viewport-height-input"].value=null),this["#viewport-lock-button"].disabled=!0):null===_i1087&&null!==_s634?(!1===this.Ng&&(this["#viewport-width-input"].value=null),!1===this.Vg&&(this["#viewport-height-input"].value=X(_s634.value,o)),this["#viewport-lock-button"].disabled=!0):null===_i1087&&null===_s634&&(!1===this.Ng&&(this["#viewport-width-input"].value=null),!1===this.Vg&&(this["#viewport-height-input"].value=null),this["#viewport-lock-button"].disabled=!0),this["#viewport-units-select"].value=e.getAttribute("markerUnits")||"strokeWidth";}if(e.hasAttribute("viewBox")){var _Lt$fromString3=Lt.fromString(e.getAttribute("viewBox")),_t1680=_Lt$fromString3.x,_i1088=_Lt$fromString3.y,_s635=_Lt$fromString3.width,_n455=_Lt$fromString3.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-switch"].toggled=!0,this["#viewbox-lock-button"].disabled=!1,!1===this.jg&&(this["#viewbox-x-input"].value=X(_t1680,o),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this.Hg&&(this["#viewbox-y-input"].value=X(_i1088,o),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.Yg&&(this["#viewbox-width-input"].value=X(_s635,o),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.Wg&&(this["#viewbox-height-input"].value=X(_n455,o),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}else this["#viewbox-heading"].disabled=!0,this["#viewbox-switch"].toggled=!1,this["#viewbox-lock-button"].disabled=!0,this["#viewbox-x-input"].value=0,this["#viewbox-x-input"].disabled=!0,this["#viewbox-x-label"].disabled=!0,this["#viewbox-y-input"].value=0,this["#viewbox-y-input"].disabled=!0,this["#viewbox-y-label"].disabled=!0,this["#viewbox-width-input"].value=0,this["#viewbox-width-input"].disabled=!0,this["#viewbox-width-label"].disabled=!0,this["#viewbox-height-input"].value=0,this["#viewbox-height-input"].disabled=!0,this["#viewbox-height-label"].disabled=!0;if(!1===e.hasAttribute("viewBox"))this["#preserve-aspect-ratio-heading"].disabled=!0,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!0,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0;else{var _t1681=e.getAttribute("preserveAspectRatio")||"xMidYMid meet",_At$fromString2=At.fromString(_t1681),_i1089=_At$fromString2.align,_s636=_At$fromString2.meetOrSlice;"none"===_i1089?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1089,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s636,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}if(!1===this.qg&&!1===this.Xg){var _t1682=$c(e);this["#ref-x-input"].value=X(_t1682.x,2),this["#ref-y-input"].value=X(_t1682.y,2);}if(!1===this.Zg){var _Ic3=Ic(e),_Ic4=_slicedToArray(_Ic3,2),_t1683=_Ic4[0],_i1090=_Ic4[1];this["#orient-section"].hidden=!1,_t1683===SVGMarkerElement.SVG_MARKER_ORIENT_AUTO?(this["#orient-switch"].toggled=!1,this["#orient-input"].disabled=!0,this["#orient-input"].value=null,this["#orient-slider"].disabled=!0,this["#orient-slider"].value=0):(this["#orient-switch"].toggled=!0,this["#orient-input"].disabled=!1,this["#orient-input"].value=_i1090,this["#orient-slider"].disabled=!1,this["#orient-slider"].value=_i1090);}}}}]);return Ob;}(ob);_defineProperty(Ob,"_shadowTemplate",Hi(_templateObject339()));_defineProperty(Ob,"_shadowStyleSheet",Yi(_templateObject340()));customElements.define("bx-markergeometryinspector",Ob);var Eb=/*#__PURE__*/function(_ob12){_inherits(Eb,_ob12);var _super141=_createSuper(Eb);function Eb(){var _this649;_classCallCheck(this,Eb);_this649=_super141.call(this),_this649.wf=!1,_this649.vf=!1,_this649.wa=qi(_this649.qs,200,_assertThisInitialized(_this649)),_this649["#arms-section"].addEventListener("changestart",function(){return _this649.Dp();}),_this649["#corner-section"].addEventListener("changestart",function(){return _this649.Mp();});return _this649;}_createClass(Eb,[{key:"tn",value:function tn(){var _this650=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this650.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this650.wa();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Dp",value:function Dp(){var _this651=this;var t,_e1181,i=this.Js.board,s=[],n=Symbol();var _iterator1137=_createForOfIteratorHelper(i.selectedElements),_step1137;try{for(_iterator1137.s();!(_step1137=_iterator1137.n()).done;){var _t1686=_step1137.value;if("path"===_t1686.localName){var _e1182=pl(_t1686);_e1182&&"n-gon"===_e1182.type&&(_t1686[n]=_e1182,s.push(_t1686));}}}catch(err){_iterator1137.e(err);}finally{_iterator1137.f();}i.undoManager.checkpoint("N-gon arms"),this.wf=!0,this["#arms-section"].addEventListener("change",t=function t(_t1685){_t1685.target===_this651["#arms-slider"]?_this651["#arms-input"].value=_this651["#arms-slider"].value:_t1685.target===_this651["#arms-input"]&&(_this651["#arms-slider"].value=_this651["#arms-input"].value);var _iterator1138=_createForOfIteratorHelper(s),_step1138;try{for(_iterator1138.s();!(_step1138=_iterator1138.n()).done;){var _t1684=_step1138.value;_t1684[n].values[4]=_this651["#arms-slider"].value,ul(_t1684,_t1684[n]);}}catch(err){_iterator1138.e(err);}finally{_iterator1138.f();}}),this["#arms-section"].addEventListener("changeend",_e1181=function e(){_this651["#arms-section"].removeEventListener("change",t),_this651["#arms-section"].removeEventListener("changeend",_e1181),_this651.wf=!1;});}},{key:"Mp",value:function Mp(){var _this652=this;var t,_e1183,i=this.Js.board,s=[],n=Symbol();var _iterator1139=_createForOfIteratorHelper(i.selectedElements),_step1139;try{for(_iterator1139.s();!(_step1139=_iterator1139.n()).done;){var _t1689=_step1139.value;if("path"===_t1689.localName){var _e1184=pl(_t1689);_e1184&&"n-gon"===_e1184.type&&(_t1689[n]=_e1184,s.push(_t1689));}}}catch(err){_iterator1139.e(err);}finally{_iterator1139.f();}i.undoManager.checkpoint("N-gon corner"),this.vf=!0,this["#corner-section"].addEventListener("change",t=function t(_t1688){_t1688.target===_this652["#corner-slider"]?_this652["#corner-input"].value=_this652["#corner-slider"].value:_t1688.target===_this652["#corner-input"]&&(_this652["#corner-slider"].value=_this652["#corner-input"].value);var e=X(_this652["#corner-slider"].value/200,3);var _iterator1140=_createForOfIteratorHelper(s),_step1140;try{for(_iterator1140.s();!(_step1140=_iterator1140.n()).done;){var _t1687=_step1140.value;_t1687[n].values[5]=e,ul(_t1687,_t1687[n]);}}catch(err){_iterator1140.e(err);}finally{_iterator1140.f();}}),this["#corner-section"].addEventListener("changeend",_e1183=function e(){_this652["#corner-section"].removeEventListener("change",t),_this652["#corner-section"].removeEventListener("changeend",_e1183),_this652.vf=!1;});}},{key:"qs",value:function qs(){if(!1===this.wf&&!1===this.vf){var _t1690=this.Js.board.outermostSelectedElements;if(0===_t1690.length||"path"!==_t1690[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _e1185=pl(_t1690[0]);if(_e1185&&"n-gon"===_e1185.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _e1185$values=_slicedToArray(_e1185.values,6),_t1691=_e1185$values[0],_i1091=_e1185$values[1],_s637=_e1185$values[2],_n456=_e1185$values[3],_o359=_e1185$values[4],_l300=_e1185$values[5],_h225=Z(200*_l300,0,100,0);this["#arms-slider"].value=X(_o359,0),this["#arms-input"].value=X(_o359,0),this["#corner-slider"].value=_h225,this["#corner-input"].value=_h225;}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}}]);return Eb;}(ob);_defineProperty(Eb,"_shadowTemplate",Hi(_templateObject341()));_defineProperty(Eb,"_shadowStyleSheet",Yi(_templateObject342()));customElements.define("bx-ngongeometryinspector",Eb);var Tb=Math.pow;var Ab=/*#__PURE__*/function(_ob13){_inherits(Ab,_ob13);var _super142=_createSuper(Ab);function Ab(){var _this653;_classCallCheck(this,Ab);_this653=_super142.call(this),_this653.kg=!1,_this653.Sg=!1,_this653.Og=!1,_this653.Eg=!1,_this653.Tg=!1,_this653.Ag=!1,_this653.wa=qi(_this653.qs,200,_assertThisInitialized(_this653)),_this653["#x-input"].addEventListener("changestart",function(){return _this653.Cg();}),_this653["#y-input"].addEventListener("changestart",function(){return _this653.Mg();}),_this653["#x1-input"].addEventListener("changestart",function(){return _this653.Ig();}),_this653["#y1-input"].addEventListener("changestart",function(){return _this653.Lg();}),_this653["#x2-input"].addEventListener("changestart",function(){return _this653.Bg();}),_this653["#y2-input"].addEventListener("changestart",function(){return _this653.Rg();});return _this653;}_createClass(Ab,[{key:"tn",value:function tn(){var _this654=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this654.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this654.wa();}),this.Js.board.pathHud.addEventListener("selectednodeschange",this.yf=function(){_this654.qs();}),this.Nm.addEventListener("spacebuttonstoggle",this.Wm=function(){_this654.wa();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.pathHud.removeEventListener("selectednodeschange",this.yf),this.Nm.removeEventListener("spacebuttonstoggle",this.Wm);}},{key:"Cg",value:function Cg(){var _this655=this;var t,_e1186,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=st(n.getPathData({normalize:!0})),l=s.index,h=o[l].type,_this$Nm40=this.Nm,a=_this$Nm40.displaySpace,r=_this$Nm40.displayUnit,d=Wt(r,"px"),c=Nt(n,i.vectorCanvas);"viewport"===a&&(c=Yt(i.currentWorkspace).multiply(c));var p=c.inverse();i.undoManager.checkpoint("Node X"),this.kg=!0,this["#x-input"].addEventListener("change",t=function t(_t1692){var e=new DOMPoint(_this655["#x-input"].value,_this655["#y-input"].value);e=e.matrixTransform(d),e=e.matrixTransform(p),o[l].values["C"===h?4:0]=X(e.x,i.geometryPrecision),o[l].values["C"===h?5:1]=X(e.y,i.geometryPrecision),n.setPathData(o);}),this["#x-input"].addEventListener("changeend",_e1186=function e(){_this655["#x-input"].removeEventListener("change",t),_this655["#x-input"].removeEventListener("changeend",_e1186),_this655.kg=!1;});}},{key:"Mg",value:function Mg(){var _this656=this;var t,_e1187,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=st(n.getPathData({normalize:!0})),l=s.index,h=o[l].type,_this$Nm41=this.Nm,a=_this$Nm41.displaySpace,r=_this$Nm41.displayUnit,d=Wt(r,"px"),c=Nt(n,i.vectorCanvas);"viewport"===a&&(c=Yt(i.currentWorkspace).multiply(c));var p=c.inverse();i.undoManager.checkpoint("Node Y"),this.Sg=!0,this["#y-input"].addEventListener("change",t=function t(_t1693){var e=new DOMPoint(_this656["#x-input"].value,_this656["#y-input"].value);e=e.matrixTransform(d),e=e.matrixTransform(p),o[l].values["C"===h?4:0]=X(e.x,i.geometryPrecision),o[l].values["C"===h?5:1]=X(e.y,i.geometryPrecision),n.setPathData(o);}),this["#y-input"].addEventListener("changeend",_e1187=function e(){_this656["#y-input"].removeEventListener("change",t),_this656["#y-input"].removeEventListener("changeend",_e1187),_this656.Sg=!1;});}},{key:"Ig",value:function Ig(){var _this657=this;var t,_e1188,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=st(n.getPathData({normalize:!0})),l=s.index,_this$Nm42=this.Nm,h=_this$Nm42.displaySpace,a=_this$Nm42.displayUnit,r=Wt(a,"px"),d=Nt(n,i.vectorCanvas);"viewport"===h&&(d=Yt(i.currentWorkspace).multiply(d));var c=d.inverse();i.undoManager.checkpoint("Node X1"),this.Og=!0,this["#x1-input"].addEventListener("change",t=function t(_t1694){var e=new DOMPoint(_this657["#x1-input"].value,_this657["#y1-input"].value);e=e.matrixTransform(r),e=e.matrixTransform(c),o[l+1].values[0]=X(e.x,i.geometryPrecision),o[l+1].values[1]=X(e.y,i.geometryPrecision),n.setPathData(o);}),this["#x1-input"].addEventListener("changeend",_e1188=function e(){_this657["#x1-input"].removeEventListener("change",t),_this657["#x1-input"].removeEventListener("changeend",_e1188),_this657.Og=!1;});}},{key:"Lg",value:function Lg(){var _this658=this;var t,_e1189,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=st(n.getPathData({normalize:!0})),l=s.index,_this$Nm43=this.Nm,h=_this$Nm43.displaySpace,a=_this$Nm43.displayUnit,r=Wt(a,"px"),d=Nt(n,i.vectorCanvas);"viewport"===h&&(d=Yt(i.currentWorkspace).multiply(d));var c=d.inverse();i.undoManager.checkpoint("Node Y1"),this.Eg=!0,this["#y1-input"].addEventListener("change",t=function t(_t1695){var e=new DOMPoint(_this658["#x1-input"].value,_this658["#y1-input"].value);e=e.matrixTransform(r),e=e.matrixTransform(c),o[l+1].values[0]=X(e.x,i.geometryPrecision),o[l+1].values[1]=X(e.y,i.geometryPrecision),n.setPathData(o);}),this["#y1-input"].addEventListener("changeend",_e1189=function e(){_this658["#y1-input"].removeEventListener("change",t),_this658["#y1-input"].removeEventListener("changeend",_e1189),_this658.Eg=!1;});}},{key:"Bg",value:function Bg(){var _this659=this;var t,_e1190,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=st(n.getPathData({normalize:!0})),l=s.index,_this$Nm44=this.Nm,h=_this$Nm44.displaySpace,a=_this$Nm44.displayUnit,r=Wt(a,"px"),d=Nt(n,i.vectorCanvas);"viewport"===h&&(d=Yt(i.currentWorkspace).multiply(d));var c=d.inverse();i.undoManager.checkpoint("Node X2"),this.Tg=!0,this["#x2-input"].addEventListener("change",t=function t(_t1696){var e=new DOMPoint(_this659["#x2-input"].value,_this659["#y2-input"].value);e=e.matrixTransform(r),e=e.matrixTransform(c),o[l].values[2]=X(e.x,i.geometryPrecision),o[l].values[3]=X(e.y,i.geometryPrecision),n.setPathData(o);}),this["#x2-input"].addEventListener("changeend",_e1190=function e(){_this659["#x2-input"].removeEventListener("change",t),_this659["#x2-input"].removeEventListener("changeend",_e1190),_this659.Tg=!1;});}},{key:"Rg",value:function Rg(){var _this660=this;var t,_e1191,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=st(n.getPathData({normalize:!0})),l=s.index,_this$Nm45=this.Nm,h=_this$Nm45.displaySpace,a=_this$Nm45.displayUnit,r=Wt(a,"px"),d=Nt(n,i.vectorCanvas);"viewport"===h&&(d=Yt(i.currentWorkspace).multiply(d));var c=d.inverse();i.undoManager.checkpoint("Node Y2"),this.Ag=!0,this["#y2-input"].addEventListener("change",t=function t(_t1697){var e=new DOMPoint(_this660["#x2-input"].value,_this660["#y2-input"].value);e=e.matrixTransform(r),e=e.matrixTransform(c),o[l].values[2]=X(e.x,i.geometryPrecision),o[l].values[3]=X(e.y,i.geometryPrecision),n.setPathData(o);}),this["#y2-input"].addEventListener("changeend",_e1191=function e(){_this660["#y2-input"].removeEventListener("change",t),_this660["#y2-input"].removeEventListener("changeend",_e1191),_this660.Ag=!1;});}},{key:"qs",value:function qs(){if(!1===this.kg&&!1===this.Sg&&!1===this.Og&&!1===this.Eg&&!1===this.Tg&&!1===this.Ag){var _t1698=this.Js.board;if(1===_t1698.pathHud.selectedNodes.length){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _e1192=_t1698.pathHud.selectedNodes[0],_i1092=_e1192.path,_s638=_e1192.index,_n457=st(_i1092.getPathData({normalize:!0})),_o360=_n457[_s638],_l301=_n457[_s638+1]||null,_this$Nm46=this.Nm,_h226=_this$Nm46.displaySpace,_a181=_this$Nm46.displayUnit,_r114=_this$Nm46.displayPrecision,_d91=Nt(_i1092,_t1698.currentWorkspace),_c75=Wt("px",_a181),_p65=_a181?" "+_a181:"",_u54=1/Tb(10,_r114-1);"viewport"===_h226&&(_d91=Yt(_t1698.currentWorkspace).multiply(_d91));{var _t1699="C"===_o360.type?new DOMPoint(_o360.values[4],_o360.values[5]):new DOMPoint(_o360.values[0],_o360.values[1]);_t1699=_t1699.matrixTransform(_d91),_t1699=_t1699.matrixTransform(_c75),this["#x-input"].value=X(_t1699.x,_r114),this["#x-input"].suffix=_p65,this["#x-input"].step=_u54,this["#y-input"].value=X(_t1699.y,_r114),this["#y-input"].suffix=_p65,this["#y-input"].step=_u54;}if(_l301&&"C"===_l301.type){var _t1700=new DOMPoint(_l301.values[0],_l301.values[1]);_t1700=_t1700.matrixTransform(_d91),_t1700=_t1700.matrixTransform(_c75),this["#control-point-1-section"].hidden=!1,this["#x1-input"].value=X(_t1700.x,_r114),this["#x1-input"].suffix=_p65,this["#x1-input"].step=_u54,this["#y1-input"].value=X(_t1700.y,_r114),this["#y1-input"].suffix=_p65,this["#y1-input"].step=_u54;}else this["#control-point-1-section"].hidden=!0;if("C"===_o360.type){var _t1701=new DOMPoint(_o360.values[2],_o360.values[3]);_t1701=_t1701.matrixTransform(_d91),_t1701=_t1701.matrixTransform(_c75),this["#control-point-2-section"].hidden=!1,this["#x2-input"].value=X(_t1701.x,_r114),this["#x2-input"].suffix=_p65,this["#x2-input"].step=_u54,this["#y2-input"].value=X(_t1701.y,_r114),this["#y2-input"].suffix=_p65,this["#y2-input"].step=_u54;}else this["#control-point-2-section"].hidden=!0;}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return Ab;}(ob);_defineProperty(Ab,"_shadowTemplate",Hi(_templateObject343()));_defineProperty(Ab,"_shadowStyleSheet",Yi(_templateObject344()));customElements.define("bx-nodegeometryinspector",Ab);var $b=Math.min,Ib=Math.max,Lb=Math.pow;var Bb=/*#__PURE__*/function(_ob14){_inherits(Bb,_ob14);var _super143=_createSuper(Bb);function Bb(){var _this661;_classCallCheck(this,Bb);_this661=_super143.call(this),_this661.kg=!1,_this661.Sg=!1,_this661.jx=!1,_this661._g=!1,_this661.kf=!1,_this661.Sf=!1,_this661.Xm=!1,_this661.wa=qi(_this661.qs,200,_assertThisInitialized(_this661)),_this661["#x-input"].addEventListener("changestart",function(){return _this661.Cg();}),_this661["#y-input"].addEventListener("changestart",function(){return _this661.Mg();}),_this661["#width-input"].addEventListener("changestart",function(){return _this661.Pg();}),_this661["#height-input"].addEventListener("changestart",function(){return _this661.Dg();}),_this661["#aspect-ratio-button"].addEventListener("toggle",function(){return _this661.yg();}),_this661["#origin-x-input"].addEventListener("changestart",function(){return _this661._f();}),_this661["#origin-y-input"].addEventListener("changestart",function(){return _this661.Cf();}),_this661["#rotation-section"].addEventListener("changestart",function(){return _this661.Km();});return _this661;}_createClass(Bb,[{key:"tn",value:function tn(){var _this662=this;var t=this.Qs,e=this.Js.board;this["#aspect-ratio-button"].toggled=t.getConfig("bx-objectgeometry:preserveAspectRatio",!1),this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off",this.qs(),e.addEventListener("selectedelementschange",this.Ko=function(){_this662.wa();}),e.addEventListener("workspacemutation",this.rn=function(){_this662.wa();}),this.Nm.addEventListener("spacebuttonstoggle",this.Wm=function(){_this662.wa();});}},{key:"sn",value:function sn(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.Ko),t.removeEventListener("workspacemutation",this.rn),this.Nm.removeEventListener("spacebuttonstoggle",this.Wm);}},{key:"Cg",value:function Cg(){var _this663=this;var t,_e1194,i=this.Js.board,s=i.outermostSelectedObjectElements,n=[],_this$Nm47=this.Nm,o=_this$Nm47.displaySpace,l=_this$Nm47.displayUnit,h=Symbol();this.kg=!0;var _iterator1141=_createForOfIteratorHelper(s),_step1141;try{for(_iterator1141.s();!(_step1141=_iterator1141.n()).done;){var _t1704=_step1141.value;var _e1195=Nt(_t1704,i.vectorCanvas);"viewport"===o&&(_e1195=Yt(i.currentWorkspace).multiply(_e1195));var _s640=_e1195.inverse(),_a182=Ut(_t1704),_r115=Wt(l,"px"),_d92=_i(_t1704);_t1704[h]={userToDisplayTransform:_e1195,displayToUserTransform:_s640,userTransform:_a182,unitTransform:_r115},n.push(Fe(_d92,_e1195));}}catch(err){_iterator1141.e(err);}finally{_iterator1141.f();}var a=Ue(n).x;i.undoManager.checkpoint("X"),this["#x-input"].addEventListener("change",t=function t(){var _iterator1142=_createForOfIteratorHelper(s),_step1142;try{for(_iterator1142.s();!(_step1142=_iterator1142.n()).done;){var _t1702=_step1142.value;var _t1702$h=_t1702[h],_e1193=_t1702$h.userToDisplayTransform,_i1093=_t1702$h.displayToUserTransform,_s639=_t1702$h.userTransform,_n458=_t1702$h.unitTransform,_o361=_this663["#x-input"].value*_n458.a,_l302=DOMMatrix.fromMatrix(_s639);_l302.multiplySelf(_i1093),_l302.translateSelf(_o361-a,0),_l302.multiplySelf(_e1193),_t1702.setAttribute("transform",_l302.toString());}}catch(err){_iterator1142.e(err);}finally{_iterator1142.f();}}),this["#x-input"].addEventListener("changeend",_e1194=function e(){_this663["#x-input"].removeEventListener("change",t),_this663["#x-input"].removeEventListener("changeend",_e1194),_this663.kg=!1;var _iterator1143=_createForOfIteratorHelper(s),_step1143;try{for(_iterator1143.s();!(_step1143=_iterator1143.n()).done;){var _t1703=_step1143.value;uh(_t1703,{geometryPrecision:i.geometryPrecision,transformPrecision:i.transformPrecision});}}catch(err){_iterator1143.e(err);}finally{_iterator1143.f();}});}},{key:"Mg",value:function Mg(){var _this664=this;var t,_e1197,i=this.Js.board,s=i.outermostSelectedObjectElements,n=[],_this$Nm48=this.Nm,o=_this$Nm48.displaySpace,l=_this$Nm48.displayUnit,h=Symbol();this.Sg=!0;var _iterator1144=_createForOfIteratorHelper(s),_step1144;try{for(_iterator1144.s();!(_step1144=_iterator1144.n()).done;){var _t1707=_step1144.value;var _e1198=Nt(_t1707,i.vectorCanvas);"viewport"===o&&(_e1198=Yt(i.currentWorkspace).multiply(_e1198));var _s642=_e1198.inverse(),_a183=Ut(_t1707),_r116=Wt(l,"px"),_d93=_i(_t1707);_t1707[h]={userToDisplayTransform:_e1198,displayToUserTransform:_s642,userTransform:_a183,unitTransform:_r116},n.push(Fe(_d93,_e1198));}}catch(err){_iterator1144.e(err);}finally{_iterator1144.f();}var a=Ue(n).y;i.undoManager.checkpoint("Y"),this["#y-input"].addEventListener("change",t=function t(){var _iterator1145=_createForOfIteratorHelper(s),_step1145;try{for(_iterator1145.s();!(_step1145=_iterator1145.n()).done;){var _t1705=_step1145.value;var _t1705$h=_t1705[h],_e1196=_t1705$h.userToDisplayTransform,_i1094=_t1705$h.displayToUserTransform,_s641=_t1705$h.userTransform,_n459=_t1705$h.unitTransform,_o362=_this664["#y-input"].value*_n459.d,_l303=DOMMatrix.fromMatrix(_s641);_l303.multiplySelf(_i1094),_l303.translateSelf(0,_o362-a),_l303.multiplySelf(_e1196),_t1705.setAttribute("transform",_l303.toString());}}catch(err){_iterator1145.e(err);}finally{_iterator1145.f();}}),this["#y-input"].addEventListener("changeend",_e1197=function e(){_this664["#y-input"].removeEventListener("change",t),_this664["#y-input"].removeEventListener("changeend",_e1197),_this664.Sg=!1;var _iterator1146=_createForOfIteratorHelper(s),_step1146;try{for(_iterator1146.s();!(_step1146=_iterator1146.n()).done;){var _t1706=_step1146.value;uh(_t1706,{geometryPrecision:i.geometryPrecision,transformPrecision:i.transformPrecision});}}catch(err){_iterator1146.e(err);}finally{_iterator1146.f();}});}},{key:"Pg",value:function Pg(){var _this665=this;var t=this.Js.board,e=t.outermostSelectedObjectElements,_this$Nm49=this.Nm,i=_this$Nm49.displaySpace,s=_this$Nm49.displayUnit,n=Wt(s,"px");if(this.jx=!0,t.undoManager.checkpoint("Width"),1===e.length){var _s643=e[0],_o363=_i(_s643),_l304=Ut(_s643),_h227=Nt(_s643,t.vectorCanvas);"viewport"===i&&(_h227=Yt(t.currentWorkspace).multiply(_h227));var _a184,_r118,_d94=Pe(new DOMPoint(_o363.x,_o363.y).matrixTransform(_h227),new DOMPoint(_o363.x+_o363.width,_o363.y).matrixTransform(_h227));this["#width-input"].addEventListener("change",_a184=function _a184(){var t=_this665["#width-input"].value*n.a/_d94,e=1;_this665["#aspect-ratio-button"].toggled&&(e=t);var i=-_o363.x*(t-1),h=-_o363.y*(e-1),a=DOMMatrix.fromMatrix(_l304);a.translateSelf(i,h),a.scaleSelf(t,e),_s643.setAttribute("transform",a.toString());}),this["#width-input"].addEventListener("changeend",_r118=function _r117(){_this665["#width-input"].removeEventListener("change",_a184),_this665["#width-input"].removeEventListener("changeend",_r118),_this665.jx=!1,uh(_s643,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});});}else{var _s644,_o366,_l305=[],_h228=Symbol();var _iterator1147=_createForOfIteratorHelper(e),_step1147;try{for(_iterator1147.s();!(_step1147=_iterator1147.n()).done;){var _s646=_step1147.value;var _e1200=Ut(_s646),_n461=Nt(_s646,t.vectorCanvas);"viewport"===i&&(_n461=Yt(t.currentWorkspace).multiply(_n461));var _o367=_n461.inverse(),_a186=Fe(_i(_s646),_n461);_s646[_h228]={userTransform:_e1200,userToDisplayTransform:_n461,displayToUserTransform:_o367},_l305.push(_a186);}}catch(err){_iterator1147.e(err);}finally{_iterator1147.f();}var _a185=Ue(_l305),_r119=_a185.width;this["#width-input"].addEventListener("change",_s644=function _s644(){var t=_this665["#width-input"].value*n.a;var _iterator1148=_createForOfIteratorHelper(e),_step1148;try{for(_iterator1148.s();!(_step1148=_iterator1148.n()).done;){var _i1095=_step1148.value;var _i1095$_h=_i1095[_h228],_e1199=_i1095$_h.userTransform,_s645=_i1095$_h.userToDisplayTransform,_n460=_i1095$_h.displayToUserTransform,_o365=t/_r119,_l306=1;_this665["#aspect-ratio-button"].toggled&&(_l306=_o365);var _d95=-_a185.x*(_o365-1),_c76=-_a185.y*(_l306-1),_p66=DOMMatrix.fromMatrix(_e1199);_p66.multiplySelf(_n460),_p66.translateSelf(_d95,_c76),_p66.scaleSelf(_o365,_l306),_p66.multiplySelf(_s645),_i1095.setAttribute("transform",_p66.toString());}}catch(err){_iterator1148.e(err);}finally{_iterator1148.f();}}),this["#width-input"].addEventListener("changeend",_o366=function _o364(){_this665["#width-input"].removeEventListener("change",_s644),_this665["#width-input"].removeEventListener("changeend",_o366),_this665.jx=!1;var _iterator1149=_createForOfIteratorHelper(e),_step1149;try{for(_iterator1149.s();!(_step1149=_iterator1149.n()).done;){var _i1096=_step1149.value;uh(_i1096,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});}}catch(err){_iterator1149.e(err);}finally{_iterator1149.f();}});}}},{key:"Dg",value:function Dg(){var _this666=this;var t=this.Js.board,e=t.outermostSelectedObjectElements,_this$Nm50=this.Nm,i=_this$Nm50.displaySpace,s=_this$Nm50.displayUnit,n=Wt(s,"px");if(this._g=!0,t.undoManager.checkpoint("Height"),1===e.length){var _s647=e[0],_o368=_i(_s647),_l307=Ut(_s647),_h229=Nt(_s647,t.vectorCanvas);"viewport"===i&&(_h229=Yt(t.currentWorkspace).multiply(_h229));var _a187,_r121,_d96=Pe(new DOMPoint(_o368.x,_o368.y).matrixTransform(_h229),new DOMPoint(_o368.x,_o368.y+_o368.height).matrixTransform(_h229));this["#height-input"].addEventListener("change",_a187=function _a187(){var t=1,e=_this666["#height-input"].value*n.d/_d96;_this666["#aspect-ratio-button"].toggled&&(t=e);var i=-_o368.x*(t-1),h=-_o368.y*(e-1),a=DOMMatrix.fromMatrix(_l307);a.translateSelf(i,h),a.scaleSelf(t,e),_s647.setAttribute("transform",a.toString());}),this["#height-input"].addEventListener("changeend",_r121=function _r120(){_this666["#height-input"].removeEventListener("change",_a187),_this666["#height-input"].removeEventListener("changeend",_r121),_this666._g=!1,uh(_s647,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});});}else{var _s648,_o371,_l308=[],_h230=Symbol();var _iterator1150=_createForOfIteratorHelper(e),_step1150;try{for(_iterator1150.s();!(_step1150=_iterator1150.n()).done;){var _s650=_step1150.value;var _e1202=Ut(_s650),_n463=Nt(_s650,t.vectorCanvas);"viewport"===i&&(_n463=Yt(t.currentWorkspace).multiply(_n463));var _o372=_n463.inverse(),_a189=Fe(_i(_s650),_n463);_s650[_h230]={userTransform:_e1202,userToDisplayTransform:_n463,displayToUserTransform:_o372},_l308.push(_a189);}}catch(err){_iterator1150.e(err);}finally{_iterator1150.f();}var _a188=Ue(_l308),_r122=_a188.height;this["#height-input"].addEventListener("change",_s648=function _s648(){var t=_this666["#height-input"].value*n.d;var _iterator1151=_createForOfIteratorHelper(e),_step1151;try{for(_iterator1151.s();!(_step1151=_iterator1151.n()).done;){var _i1097=_step1151.value;var _i1097$_h=_i1097[_h230],_e1201=_i1097$_h.userTransform,_s649=_i1097$_h.userToDisplayTransform,_n462=_i1097$_h.displayToUserTransform,_o370=1,_l309=t/_r122;_this666["#aspect-ratio-button"].toggled&&(_o370=_l309);var _d97=-_a188.x*(_o370-1),_c77=-_a188.y*(_l309-1),_p67=DOMMatrix.fromMatrix(_e1201);_p67.multiplySelf(_n462),_p67.translateSelf(_d97,_c77),_p67.scaleSelf(_o370,_l309),_p67.multiplySelf(_s649),_i1097.setAttribute("transform",_p67.toString());}}catch(err){_iterator1151.e(err);}finally{_iterator1151.f();}}),this["#height-input"].addEventListener("changeend",_o371=function _o369(){_this666["#height-input"].removeEventListener("change",_s648),_this666["#height-input"].removeEventListener("changeend",_o371),_this666._g=!1;var _iterator1152=_createForOfIteratorHelper(e),_step1152;try{for(_iterator1152.s();!(_step1152=_iterator1152.n()).done;){var _i1098=_step1152.value;uh(_i1098,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});}}catch(err){_iterator1152.e(err);}finally{_iterator1152.f();}});}}},{key:"yg",value:function yg(){var t=this["#aspect-ratio-button"].toggled;this.Qs.setConfig("bx-objectgeometry:preserveAspectRatio",t),this["#aspect-ratio-icon"].name=t?"lock-on":"lock-off";}},{key:"_f",value:function _f(){var _this667=this;var t,_e1203,i=this.Js.board,s=i.outermostSelectedObjectElements,_this$Nm51=this.Nm,n=_this$Nm51.displaySpace,o=_this$Nm51.displayUnit,l=Wt(o,"px"),h=new DOMMatrix();"viewport"===n&&(h=Yt(i.currentWorkspace));var a=Vt(i.vectorCanvas).inverse(),r=h.multiply(a),d=Qt(s).matrixTransform(r),c=Symbol(),p=Symbol();var _iterator1153=_createForOfIteratorHelper(s),_step1153;try{for(_iterator1153.s();!(_step1153=_iterator1153.n()).done;){var _t1709=_step1153.value;var _e1204=Nt(_t1709,i.vectorCanvas);_e1204=h.multiply(_e1204),_t1709[c]=_e1204.inverse(),_t1709[p]=_i(_t1709);}}catch(err){_iterator1153.e(err);}finally{_iterator1153.f();}i.undoManager.checkpoint("Origin X"),this.kf=!0,this.Js.board.transformHud.enabled&&(this.Js.board.transformHud.mode="rotate-and-skew"),this["#origin-x-input"].addEventListener("change",t=function t(){var t=_this667["#origin-x-input"].value*l.a,e=new DOMPoint(t,d.y);var _iterator1154=_createForOfIteratorHelper(s),_step1154;try{for(_iterator1154.s();!(_step1154=_iterator1154.n()).done;){var _t1708=_step1154.value;var _s651=e.matrixTransform(_t1708[c]),_n464=le(_s651,_t1708[p]);Xt(_t1708,_n464,Ib(i.geometryPrecision,6));}}catch(err){_iterator1154.e(err);}finally{_iterator1154.f();}}),this["#origin-x-input"].addEventListener("changeend",_e1203=function e(){_this667["#origin-x-input"].removeEventListener("change",t),_this667["#origin-x-input"].removeEventListener("changeend",_e1203),_this667.kf=!1;});}},{key:"Cf",value:function Cf(){var _this668=this;var t,_e1205,i=this.Js.board,s=i.outermostSelectedObjectElements,_this$Nm52=this.Nm,n=_this$Nm52.displaySpace,o=_this$Nm52.displayUnit,l=Wt(o,"px"),h=new DOMMatrix();"viewport"===n&&(h=Yt(i.currentWorkspace));var a=Vt(i.vectorCanvas).inverse(),r=h.multiply(a),d=Qt(s).matrixTransform(r),c=Symbol(),p=Symbol();var _iterator1155=_createForOfIteratorHelper(s),_step1155;try{for(_iterator1155.s();!(_step1155=_iterator1155.n()).done;){var _t1711=_step1155.value;var _e1206=Nt(_t1711,i.vectorCanvas);_e1206=h.multiply(_e1206),_t1711[c]=_e1206.inverse(),_t1711[p]=_i(_t1711);}}catch(err){_iterator1155.e(err);}finally{_iterator1155.f();}i.undoManager.checkpoint("Origin Y"),this.Sf=!0,this.Js.board.transformHud.enabled&&(this.Js.board.transformHud.mode="rotate-and-skew"),this["#origin-y-input"].addEventListener("change",t=function t(){var t=_this668["#origin-y-input"].value*l.d,e=new DOMPoint(d.x,t);var _iterator1156=_createForOfIteratorHelper(s),_step1156;try{for(_iterator1156.s();!(_step1156=_iterator1156.n()).done;){var _t1710=_step1156.value;var _s652=e.matrixTransform(_t1710[c]),_n465=le(_s652,_t1710[p]);Xt(_t1710,_n465,Ib(i.geometryPrecision,6));}}catch(err){_iterator1156.e(err);}finally{_iterator1156.f();}}),this["#origin-y-input"].addEventListener("changeend",_e1205=function e(){_this668["#origin-y-input"].removeEventListener("change",t),_this668["#origin-y-input"].removeEventListener("changeend",_e1205),_this668.Sf=!1;});}},{key:"Km",value:function Km(){var _this669=this;var t,_e1207,i=this.Js.board,s=i.outermostSelectedObjectElements,n=s.length>1?0:X(Jt(s[0]),2),o=Qt(s),l=!1,h=Symbol();var _iterator1157=_createForOfIteratorHelper(s),_step1157;try{for(_iterator1157.s();!(_step1157=_iterator1157.n()).done;){var _t1715=_step1157.value;var _e1208=Ut(_t1715),_i1100=Vt(_t1715),_s654=_i1100.inverse();_t1715[h]={clientToUserTransform:_i1100,userToClientTransform:_s654,userTransform:_e1208};}}catch(err){_iterator1157.e(err);}finally{_iterator1157.f();}this.Js.board.transformHud.enabled&&(this.Js.board.transformHud.mode="rotate-and-skew"),this.Xm=!0,this["#rotation-section"].addEventListener("change",t=function t(_t1713){!1===l&&(l=!0,i.undoManager.checkpoint("Rotation")),_t1713.target===_this669["#rotation-slider"]?_this669["#rotation-input"].value=_this669["#rotation-slider"].value:_t1713.target===_this669["#rotation-input"]&&(_this669["#rotation-slider"].value=_this669["#rotation-input"].value),_this669.Qs.modKeys.shift&&(_this669["#rotation-input"].value=Le(_this669["#rotation-slider"].value,15),_this669["#rotation-slider"].value=_this669["#rotation-input"].value);var e=_this669["#rotation-input"].value-n;var _iterator1158=_createForOfIteratorHelper(s),_step1158;try{for(_iterator1158.s();!(_step1158=_iterator1158.n()).done;){var _t1712=_step1158.value;var _t1712$h=_t1712[h],_i1099=_t1712$h.clientToUserTransform,_s653=_t1712$h.userToClientTransform,_n466=_t1712$h.userTransform,_l310=DOMMatrix.fromMatrix(_n466);_l310.multiplySelf(_s653),_l310.translateSelf(o.x,o.y),_l310.rotateSelf(e),_l310.translateSelf(-o.x,-o.y),_l310.multiplySelf(_i1099),_t1712.setAttribute("transform",_l310.toString());}}catch(err){_iterator1158.e(err);}finally{_iterator1158.f();}}),this["#rotation-section"].addEventListener("changeend",_e1207=function e(){if(_this669["#rotation-section"].removeEventListener("change",t),_this669["#rotation-section"].removeEventListener("changeend",_e1207),_this669.Xm=!1,l){var _iterator1159=_createForOfIteratorHelper(s),_step1159;try{for(_iterator1159.s();!(_step1159=_iterator1159.n()).done;){var _t1714=_step1159.value;uh(_t1714,{geometryPrecision:i.geometryPrecision,transformPrecision:i.transformPrecision});}}catch(err){_iterator1159.e(err);}finally{_iterator1159.f();}}});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedObjectElements;if(0===e.length)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else if(1===e.length){var _this$Nm53=this.Nm,_i1101=_this$Nm53.displaySpace,_s655=_this$Nm53.displayUnit,_n467=_this$Nm53.displayPrecision,_o373=e[0],_l311=_i(_o373),_h231=_s655?" "+_s655:"",_a190=1/Lb(10,_n467-1),_r123=Nt(_o373,t.vectorCanvas),_d98=Wt("px",_s655);"viewport"===_i1101&&(_r123=Yt(t.currentWorkspace).multiply(_r123));var _c78=[new DOMPoint(_l311.x,_l311.y),new DOMPoint(_l311.x+_l311.width,_l311.y),new DOMPoint(_l311.x+_l311.width,_l311.y+_l311.height),new DOMPoint(_l311.x,_l311.y+_l311.height)];_c78=_c78.map(function(t){return t.matrixTransform(_r123);}),_c78=_c78.map(function(t){return t.matrixTransform(_d98);});var _p68=qt(_o373),_u55=oe(_p68,_l311).matrixTransform(_r123);_u55=_u55.matrixTransform(_d98);var _x137=$b.apply(void 0,_toConsumableArray(_c78.map(function(t){return t.x;}))),_b43=$b.apply(void 0,_toConsumableArray(_c78.map(function(t){return t.y;}))),_m40=Pe(_c78[0],_c78[1]),_g33=Pe(_c78[1],_c78[2]),_f24=_u55.x,_w19=_u55.y,_v16=Jt(_o373);!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),!1===this.kg&&(this["#x-input"].value=X(_x137,_n467),this["#x-input"].suffix=_h231,this["#x-input"].step=_a190),!1===this.Sg&&(this["#y-input"].value=X(_b43,_n467),this["#y-input"].suffix=_h231,this["#y-input"].step=_a190),!1===this.jx&&(this["#width-input"].value=X(_m40,_n467),this["#width-input"].suffix=_h231,this["#width-input"].step=_a190),!1===this._g&&(this["#height-input"].value=X(_g33,_n467),this["#height-input"].suffix=_h231,this["#height-input"].step=_a190),!1===this.kf&&(this["#origin-x-input"].value=X(_f24,_n467),this["#origin-x-input"].suffix=_h231,this["#origin-x-input"].step=_a190),!1===this.Sf&&(this["#origin-y-input"].value=X(_w19,_n467),this["#origin-y-input"].suffix=_h231,this["#origin-y-input"].step=_a190),!1===this.Xm&&(this["#rotation-slider"].value=X(_v16,1),this["#rotation-input"].value=X(_v16,1));}else{var _this$Nm54=this.Nm,_i1102=_this$Nm54.displaySpace,_s656=_this$Nm54.displayUnit,_n468=_this$Nm54.displayPrecision,_o374=_s656?" "+_s656:"",_l312=1/Lb(10,_n468-1),_h232=Wt("px",_s656),_a191=new DOMMatrix();"viewport"===_i1102&&(_a191=Yt(t.currentWorkspace));var _r124=e.map(function(e){var i=Nt(e,t.vectorCanvas);i=_a191.multiply(i);var s=_i(e);return s=Fe(s,i),s=Fe(s,_h232),s;}),_d99=Vt(t.vectorCanvas).inverse(),_c79=_a191.multiply(_d99),_p69=Ue(_r124),_u56=Qt(e,!1).matrixTransform(_c79);_u56=_u56.matrixTransform(_h232);var _x138=_p69.x,_b44=_p69.y,_m41=_p69.width,_g34=_p69.height,_f25=_u56.x,_w20=_u56.y;!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),!1===this.kg&&(this["#x-input"].value=X(_x138,_n468),this["#x-input"].suffix=_o374,this["#x-input"].step=_l312),!1===this.Sg&&(this["#y-input"].value=X(_b44,_n468),this["#y-input"].suffix=_o374,this["#y-input"].step=_l312),!1===this.jx&&(this["#width-input"].value=X(_m41,_n468),this["#width-input"].suffix=_o374,this["#width-input"].step=_l312),!1===this._g&&(this["#height-input"].value=X(_g34,_n468),this["#height-input"].suffix=_o374,this["#height-input"].step=_l312),!1===this.kf&&(this["#origin-x-input"].value=X(_f25,_n468),this["#origin-x-input"].suffix=_o374,this["#origin-x-input"].step=_l312),!1===this.Sf&&(this["#origin-y-input"].value=X(_w20,_n468),this["#origin-y-input"].suffix=_o374,this["#origin-y-input"].step=_l312),!1===this.Xm&&(this["#rotation-slider"].value=0,this["#rotation-input"].value=0);}}}]);return Bb;}(ob);_defineProperty(Bb,"_shadowTemplate",Hi(_templateObject345()));_defineProperty(Bb,"_shadowStyleSheet",Yi(_templateObject346()));customElements.define("bx-objectgeometryinspector",Bb);var Rb=/*#__PURE__*/function(_ob15){_inherits(Rb,_ob15);var _super144=_createSuper(Rb);function Rb(){var _this670;_classCallCheck(this,Rb);_this670=_super144.call(this),_this670.jg=!1,_this670.Hg=!1,_this670.Yg=!1,_this670.Wg=!1,_this670.Kg=null,_this670.Qg=null,_this670.tf=qi(_this670.qs,100,_assertThisInitialized(_this670)),_this670["#viewbox-x-input"].addEventListener("changestart",function(t){return _this670.lf(t);}),_this670["#viewbox-y-input"].addEventListener("changestart",function(t){return _this670.hf(t);}),_this670["#viewbox-width-input"].addEventListener("changestart",function(t){return _this670.af(t);}),_this670["#viewbox-height-input"].addEventListener("changestart",function(t){return _this670.rf(t);}),_this670["#viewbox-switch"].addEventListener("toggle",function(){return _this670.df();}),_this670["#viewbox-lock-button"].addEventListener("toggle",function(){return _this670.cf();}),_this670["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this670.pf();}),_this670["#align-buttons"].addEventListener("toggle",function(){return _this670.uf();}),_this670["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this670.xf();});return _this670;}_createClass(Rb,[{key:"tn",value:function tn(){var _this671=this;this.qs(),this["#viewbox-lock-button"].toggled=app.getConfig("bx-patterngeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this671.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this671.il(t.detail);});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"il",value:function il(t){this.tf();}},{key:"df",value:function df(){var t=this.Js.board;t.undoManager.checkpoint("View box"),this["#viewbox-switch"].toggled?this.Kg?t.currentWorkspace.setAttribute("viewBox",this.Kg):t.currentWorkspace.setAttribute("viewBox","0 0 500 500"):(this.Kg=t.currentWorkspace.getAttribute("viewBox"),t.currentWorkspace.removeAttribute("viewBox"));}},{key:"lf",value:function lf(t){var _this672=this;var e,_i1103,s=this.Js.board.currentWorkspace,n=Lt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.jg=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){n.x=_this672["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-x-input"].addEventListener("changeend",_i1103=function i(){_this672["#viewbox-x-input"].removeEventListener("change",e),_this672["#viewbox-x-input"].removeEventListener("changeend",_i1103),_this672.jg=!1;});}},{key:"hf",value:function hf(t){var _this673=this;var e,_i1104,s=this.Js.board.currentWorkspace,n=Lt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.Hg=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){n.y=_this673["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-y-input"].addEventListener("changeend",_i1104=function i(){_this673["#viewbox-y-input"].removeEventListener("change",e),_this673["#viewbox-y-input"].removeEventListener("changeend",_i1104),_this673.Hg=!1;});}},{key:"af",value:function af(t){var _this674=this;var e,_i1105,_this$Js$board49=this.Js.board,s=_this$Js$board49.geometryPrecision,n=_this$Js$board49.currentWorkspace,o=Lt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.Yg=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){o.width=_this674["#viewbox-width-input"].value,null!==l&&(o.height=X(_this674["#viewbox-width-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-width-input"].addEventListener("changeend",_i1105=function i(){_this674["#viewbox-width-input"].removeEventListener("change",e),_this674["#viewbox-width-input"].removeEventListener("changeend",_i1105),_this674.Yg=!1;});}},{key:"rf",value:function rf(t){var _this675=this;var e,_i1106,_this$Js$board50=this.Js.board,s=_this$Js$board50.geometryPrecision,n=_this$Js$board50.currentWorkspace,o=Lt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.Wg=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){o.height=_this675["#viewbox-height-input"].value,null!==l&&(o.width=X(_this675["#viewbox-height-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-height-input"].addEventListener("changeend",_i1106=function i(){_this675["#viewbox-height-input"].removeEventListener("change",e),_this675["#viewbox-height-input"].removeEventListener("changeend",_i1106),_this675.Wg=!1;});}},{key:"cf",value:function cf(){var t=this["#viewbox-lock-button"].toggled;this.Qs.setConfig("bx-patterngeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"pf",value:function pf(){var t=this.Js.board.currentWorkspace;this.Js.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.Qg?t.setAttribute("preserveAspectRatio",this.Qg):t.removeAttribute("preserveAspectRatio"):(this.Qg=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"uf",value:function uf(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s657=e;"none"!==_s657&&"slice"===i&&(_s657+=" slice"),t.setAttribute("preserveAspectRatio",_s657);}}},{key:"xf",value:function xf(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s658=e;"none"!==_s658&&"slice"===i&&(_s658+=" slice"),t.setAttribute("preserveAspectRatio",_s658);}}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.currentWorkspace,i=t.currentContainer,s=t.selectedElements,n=t.gridHud,o=this.Nm.displayPrecision;if("pattern"!==e.getAttribute("data-bx-workspace")||s.length>0||0===s.length&&null!==i||n.selected)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{if(!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),e.hasAttribute("viewBox")){var _Lt$fromString4=Lt.fromString(e.getAttribute("viewBox")),_t1716=_Lt$fromString4.x,_i1107=_Lt$fromString4.y,_s659=_Lt$fromString4.width,_n469=_Lt$fromString4.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-switch"].toggled=!0,this["#viewbox-lock-button"].disabled=!1,!1===this.jg&&(this["#viewbox-x-input"].value=X(_t1716,o),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this.Hg&&(this["#viewbox-y-input"].value=X(_i1107,o),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.Yg&&(this["#viewbox-width-input"].value=X(_s659,o),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.Wg&&(this["#viewbox-height-input"].value=X(_n469,o),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}else this["#viewbox-heading"].disabled=!0,this["#viewbox-switch"].toggled=!1,this["#viewbox-lock-button"].disabled=!0,this["#viewbox-x-input"].value=0,this["#viewbox-x-input"].disabled=!0,this["#viewbox-x-label"].disabled=!0,this["#viewbox-y-input"].value=0,this["#viewbox-y-input"].disabled=!0,this["#viewbox-y-label"].disabled=!0,this["#viewbox-width-input"].value=0,this["#viewbox-width-input"].disabled=!0,this["#viewbox-width-label"].disabled=!0,this["#viewbox-height-input"].value=0,this["#viewbox-height-input"].disabled=!0,this["#viewbox-height-label"].disabled=!0;if(!1===e.hasAttribute("viewBox"))this["#preserve-aspect-ratio-heading"].disabled=!0,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!0,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0;else{var _t1717=e.getAttribute("preserveAspectRatio")||"xMidYMid meet",_At$fromString3=At.fromString(_t1717),_i1108=_At$fromString3.align,_s660=_At$fromString3.meetOrSlice;"none"===_i1108?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1108,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s660,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}}}}]);return Rb;}(ob);_defineProperty(Rb,"_shadowTemplate",Hi(_templateObject347()));_defineProperty(Rb,"_shadowStyleSheet",Yi(_templateObject348()));customElements.define("bx-patterngeometryinspector",Rb);var Gb=Math.pow;var Fb=/*#__PURE__*/function(_ob16){_inherits(Fb,_ob16);var _super145=_createSuper(Fb);function Fb(){var _this676;_classCallCheck(this,Fb);_this676=_super145.call(this),_this676.ng=!1,_this676.og=!1,_this676.Mf=!1,_this676.Pf=!1,_this676.wa=qi(_this676.qs,200,_assertThisInitialized(_this676)),_this676["#r1-input"].addEventListener("changestart",function(){return _this676.rg();}),_this676["#r2-input"].addEventListener("changestart",function(){return _this676.dg();}),_this676["#start-angle-section"].addEventListener("changestart",function(){return _this676.Df();}),_this676["#end-angle-section"].addEventListener("changestart",function(){return _this676.zf();});return _this676;}_createClass(Fb,[{key:"tn",value:function tn(){var _this677=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this677.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this677.wa();}),this.Nm.addEventListener("spacebuttonstoggle",this.Wm=function(){_this677.wa();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Nm.removeEventListener("spacebuttonstoggle",this.Wm);}},{key:"rg",value:function rg(){var _this678=this;var t,_e1209,i=this.Js.board,s=i.outermostSelectedElements[0],_pl$values45=_slicedToArray(pl(s).values,6),n=_pl$values45[0],o=_pl$values45[1],l=_pl$values45[2],h=_pl$values45[3],a=_pl$values45[4],r=_pl$values45[5],_this$Nm55=this.Nm,d=_this$Nm55.displaySpace,c=_this$Nm55.displayUnit,p=i.geometryPrecision,u=Wt(c,"px"),x=Nt(s,i.currentWorkspace);"viewport"===d&&(x=Yt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Pie inner radius"),this.ng=!0;var m=new DOMPoint(n,o);m=m.matrixTransform(x),m=m.matrixTransform(u);var g=new DOMPoint(n+100,o);g=g.matrixTransform(x),g=g.matrixTransform(u),this["#r1-input"].addEventListener("change",t=function t(_t1718){var e=new q(m,g);e.length=_this678["#r1-input"].value,e=e.matrixTransform(u),e=e.matrixTransform(b),l=X(e.length,p),ul(s,{type:"pie",values:[n,o,l,h,a,r]});}),this["#r1-input"].addEventListener("changeend",_e1209=function e(){_this678["#r1-input"].removeEventListener("change",t),_this678["#r1-input"].removeEventListener("changeend",_e1209),_this678.ng=!1;});}},{key:"dg",value:function dg(){var _this679=this;var t,_e1210,i=this.Js.board,s=i.outermostSelectedElements[0],_pl$values46=_slicedToArray(pl(s).values,6),n=_pl$values46[0],o=_pl$values46[1],l=_pl$values46[2],h=_pl$values46[3],a=_pl$values46[4],r=_pl$values46[5],_this$Nm56=this.Nm,d=_this$Nm56.displaySpace,c=_this$Nm56.displayUnit,p=i.geometryPrecision,u=Wt(c,"px"),x=Nt(s,i.currentWorkspace);"viewport"===d&&(x=Yt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Pie inner radius"),this.og=!0;var m=new DOMPoint(n,o);m=m.matrixTransform(x),m=m.matrixTransform(u);var g=new DOMPoint(n+100,o);g=g.matrixTransform(x),g=g.matrixTransform(u),this["#r2-input"].addEventListener("change",t=function t(_t1719){var e=new q(m,g);e.length=_this679["#r2-input"].value,e=e.matrixTransform(u),e=e.matrixTransform(b),h=X(e.length,p),ul(s,{type:"pie",values:[n,o,l,h,a,r]});}),this["#r2-input"].addEventListener("changeend",_e1210=function e(){_this679["#r2-input"].removeEventListener("change",t),_this679["#r2-input"].removeEventListener("changeend",_e1210),_this679.og=!1;});}},{key:"Df",value:function Df(){var _this680=this;var t,_e1211,i=this.Js.board,s=[],n=Symbol();var _iterator1160=_createForOfIteratorHelper(i.outermostSelectedElements),_step1160;try{for(_iterator1160.s();!(_step1160=_iterator1160.n()).done;){var _t1722=_step1160.value;if("path"===_t1722.localName){var _e1212=pl(_t1722);_e1212&&"pie"===_e1212.type&&(_t1722[n]=_e1212,s.push(_t1722));}}}catch(err){_iterator1160.e(err);}finally{_iterator1160.f();}i.undoManager.checkpoint("Pie start angle"),this.Mf=!0,this["#start-angle-section"].addEventListener("change",t=function t(_t1721){_t1721.target===_this680["#start-angle-slider"]?_this680["#start-angle-input"].value=_this680["#start-angle-slider"].value:_t1721.target===_this680["#start-angle-input"]&&(_this680["#start-angle-slider"].value=_this680["#start-angle-input"].value);var _iterator1161=_createForOfIteratorHelper(s),_step1161;try{for(_iterator1161.s();!(_step1161=_iterator1161.n()).done;){var _t1720=_step1161.value;_t1720[n].values[4]=_this680["#start-angle-slider"].value,ul(_t1720,_t1720[n]);}}catch(err){_iterator1161.e(err);}finally{_iterator1161.f();}}),this["#start-angle-section"].addEventListener("changeend",_e1211=function e(){_this680["#start-angle-section"].removeEventListener("change",t),_this680["#start-angle-section"].removeEventListener("changeend",_e1211),_this680.Mf=!1;});}},{key:"zf",value:function zf(){var _this681=this;var t,_e1213,i=this.Js.board,s=[],n=Symbol();var _iterator1162=_createForOfIteratorHelper(i.outermostSelectedElements),_step1162;try{for(_iterator1162.s();!(_step1162=_iterator1162.n()).done;){var _t1725=_step1162.value;if("path"===_t1725.localName){var _e1214=pl(_t1725);_e1214&&"pie"===_e1214.type&&(_t1725[n]=_e1214,s.push(_t1725));}}}catch(err){_iterator1162.e(err);}finally{_iterator1162.f();}i.undoManager.checkpoint("Pie end angle"),this.Pf=!0,this["#end-angle-section"].addEventListener("change",t=function t(_t1724){_t1724.target===_this681["#end-angle-slider"]?_this681["#end-angle-input"].value=_this681["#end-angle-slider"].value:_t1724.target===_this681["#end-angle-input"]&&(_this681["#end-angle-slider"].value=_this681["#end-angle-input"].value);var _iterator1163=_createForOfIteratorHelper(s),_step1163;try{for(_iterator1163.s();!(_step1163=_iterator1163.n()).done;){var _t1723=_step1163.value;_t1723[n].values[5]=_this681["#end-angle-slider"].value,ul(_t1723,_t1723[n]);}}catch(err){_iterator1163.e(err);}finally{_iterator1163.f();}}),this["#end-angle-section"].addEventListener("changeend",_e1213=function e(){_this681["#end-angle-section"].removeEventListener("change",t),_this681["#end-angle-section"].removeEventListener("changeend",_e1213),_this681.Pf=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _i1109=pl(e[0]);if(_i1109&&"pie"===_i1109.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _i1109$values=_slicedToArray(_i1109.values,6),_s661=_i1109$values[0],_n470=_i1109$values[1],_o375=_i1109$values[2],_l313=_i1109$values[3],_h233=_i1109$values[4],_a192=_i1109$values[5],_this$Nm57=this.Nm,_r125=_this$Nm57.displayUnit,_d100=_this$Nm57.displaySpace,_c80=_this$Nm57.displayPrecision,_p70=e[0],_u57=Nt(_p70,t.currentWorkspace),_x139=Wt("px",_r125),_b45=_r125?" "+_r125:"",_m42=1/Gb(10,_c80-1);"viewport"===_d100&&(_u57=Yt(t.currentWorkspace).multiply(_u57));var _g35=new DOMPoint(_s661,_n470);_g35=_g35.matrixTransform(_u57),_g35=_g35.matrixTransform(_x139),_g35=Ce(_g35,_c80);var _f26=new DOMPoint(_s661+_o375,_n470);_f26=_f26.matrixTransform(_u57),_f26=_f26.matrixTransform(_x139);var _w21=new DOMPoint(_s661+_l313,_n470);_w21=_w21.matrixTransform(_u57),_w21=_w21.matrixTransform(_x139),!1===this.ng&&(this["#r1-input"].max=X(new q(_g35,_w21).length,_c80),this["#r1-input"].value=X(new q(_g35,_f26).length,_c80),this["#r1-input"].suffix=_b45,this["#r1-input"].step=_m42),!1===this.og&&(this["#r2-input"].min=X(new q(_g35,_f26).length,_c80),this["#r2-input"].value=X(new q(_g35,_w21).length,_c80),this["#r2-input"].suffix=_b45,this["#r2-input"].step=_m42),!1===this.Mf&&(this["#start-angle-slider"].value=X(_h233,2),this["#start-angle-input"].value=X(_h233,2)),!1===this.Pf&&(this["#end-angle-slider"].value=X(_a192,2),this["#end-angle-input"].value=X(_a192,2));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return Fb;}(ob);_defineProperty(Fb,"_shadowTemplate",Hi(_templateObject349()));_defineProperty(Fb,"_shadowStyleSheet",Yi(_templateObject350()));customElements.define("bx-piegeometryinspector",Fb);var Ub=Math.min,Nb=Math.pow;var Vb=/*#__PURE__*/function(_ob17){_inherits(Vb,_ob17);var _super146=_createSuper(Vb);function Vb(){var _this682;_classCallCheck(this,Vb);_this682=_super146.call(this),_this682.Jm=!1,_this682.tg=!1,_this682.ng=!1,_this682.og=!1,_this682.lg=!1,_this682.Of=!1,_this682.wa=qi(_this682.qs,200,_assertThisInitialized(_this682)),_this682["#r1-input"].addEventListener("changestart",function(){return _this682.rg();}),_this682["#r2-input"].addEventListener("changestart",function(){return _this682.dg();}),_this682["#r3-input"].addEventListener("changestart",function(){return _this682.cg();}),_this682["#r4-input"].addEventListener("changestart",function(){return _this682.Ef();}),_this682["#r1-input"].validate=function(){return null;},_this682["#r2-input"].validate=function(){return null;},_this682["#r3-input"].validate=function(){return null;},_this682["#r4-input"].validate=function(){return null;};return _this682;}_createClass(Vb,[{key:"tn",value:function tn(){var _this683=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this683.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this683.wa();}),this.Nm.addEventListener("spacebuttonstoggle",this.Wm=function(){_this683.wa();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Nm.removeEventListener("spacebuttonstoggle",this.Wm);}},{key:"rg",value:function rg(){var _this684=this;var t,_e1215,i=this.Js.board,s=i.outermostSelectedElements[0],_this$Nm58=this.Nm,n=_this$Nm58.displaySpace,o=_this$Nm58.displayUnit,l=i.geometryPrecision,h=Wt(o,"px"),a=Nt(s,i.vectorCanvas);"viewport"===n&&(a=Yt(i.currentWorkspace).multiply(a));var r=a.inverse();i.undoManager.checkpoint("Top left corner radius"),this.ng=!0,"rect"===s.localName&&(s=this.Tf(s));var d=pl(s),_d$values=_slicedToArray(d.values,8),c=_d$values[0],p=_d$values[1],u=_d$values[2],x=_d$values[3],b=_d$values[4],m=_d$values[5],g=_d$values[6],f=_d$values[7];this["#r1-input"].addEventListener("change",t=function t(_t1726){var e=new q(100,100);e=e.matrixTransform(a),e=e.matrixTransform(h),e.length=_this684["#r1-input"].value,e=e.matrixTransform(h),e=e.matrixTransform(r),b=X(e.length,l),ul(s,{type:"rect",values:[c,p,u,x,b,m,g,f]},l);}),this["#r1-input"].addEventListener("changeend",_e1215=function e(){_this684["#r1-input"].removeEventListener("change",t),_this684["#r1-input"].removeEventListener("changeend",_e1215),_this684["#r1-input"].value===_this684["#r2-input"].value&&_this684["#r1-input"].value===_this684["#r3-input"].value&&_this684["#r1-input"].value===_this684["#r4-input"].value&&_this684.Af(s),_this684.ng=!1;});}},{key:"dg",value:function dg(){var _this685=this;var t,_e1216,i=this.Js.board,s=i.outermostSelectedElements[0],_this$Nm59=this.Nm,n=_this$Nm59.displaySpace,o=_this$Nm59.displayUnit,l=i.geometryPrecision,h=Wt(o,"px"),a=Nt(s,i.vectorCanvas);"viewport"===n&&(a=Yt(i.currentWorkspace).multiply(a));var r=a.inverse();i.undoManager.checkpoint("Top right corner radius"),this.og=!0,"rect"===s.localName&&(s=this.Tf(s));var d=pl(s),_d$values2=_slicedToArray(d.values,8),c=_d$values2[0],p=_d$values2[1],u=_d$values2[2],x=_d$values2[3],b=_d$values2[4],m=_d$values2[5],g=_d$values2[6],f=_d$values2[7];this["#r2-input"].addEventListener("change",t=function t(_t1727){var e=new q(-100,100);e=e.matrixTransform(a),e=e.matrixTransform(h),e.length=_this685["#r2-input"].value,e=e.matrixTransform(h),e=e.matrixTransform(r),m=X(e.length,l),ul(s,{type:"rect",values:[c,p,u,x,b,m,g,f]},l);}),this["#r2-input"].addEventListener("changeend",_e1216=function e(){_this685["#r2-input"].removeEventListener("change",t),_this685["#r2-input"].removeEventListener("changeend",_e1216),_this685["#r1-input"].value===_this685["#r2-input"].value&&_this685["#r1-input"].value===_this685["#r3-input"].value&&_this685["#r1-input"].value===_this685["#r4-input"].value&&_this685.Af(s),_this685.og=!1;});}},{key:"cg",value:function cg(){var _this686=this;var t,_e1217,i=this.Js.board,s=i.outermostSelectedElements[0],_this$Nm60=this.Nm,n=_this$Nm60.displaySpace,o=_this$Nm60.displayUnit,l=i.geometryPrecision,h=Wt(o,"px"),a=Nt(s,i.vectorCanvas);"viewport"===n&&(a=Yt(i.currentWorkspace).multiply(a));var r=a.inverse();i.undoManager.checkpoint("Bottom right corner radius"),this.lg=!0,"rect"===s.localName&&(s=this.Tf(s));var d=pl(s),_d$values3=_slicedToArray(d.values,8),c=_d$values3[0],p=_d$values3[1],u=_d$values3[2],x=_d$values3[3],b=_d$values3[4],m=_d$values3[5],g=_d$values3[6],f=_d$values3[7];this["#r3-input"].addEventListener("change",t=function t(_t1728){var e=new q(-100,-100);e=e.matrixTransform(a),e=e.matrixTransform(h),e.length=_this686["#r3-input"].value,e=e.matrixTransform(h),e=e.matrixTransform(r),g=X(e.length,l),ul(s,{type:"rect",values:[c,p,u,x,b,m,g,f]},l);}),this["#r3-input"].addEventListener("changeend",_e1217=function e(){_this686["#r3-input"].removeEventListener("change",t),_this686["#r3-input"].removeEventListener("changeend",_e1217),_this686["#r1-input"].value===_this686["#r2-input"].value&&_this686["#r1-input"].value===_this686["#r3-input"].value&&_this686["#r1-input"].value===_this686["#r4-input"].value&&_this686.Af(s),_this686.lg=!1;});}},{key:"Ef",value:function Ef(){var _this687=this;var t,_e1218,i=this.Js.board,s=i.outermostSelectedElements[0],_this$Nm61=this.Nm,n=_this$Nm61.displaySpace,o=_this$Nm61.displayUnit,l=i.geometryPrecision,h=Wt(o,"px"),a=Nt(s,i.vectorCanvas);"viewport"===n&&(a=Yt(i.currentWorkspace).multiply(a));var r=a.inverse();i.undoManager.checkpoint("Bottom left corner radius"),this.Of=!0,"rect"===s.localName&&(s=this.Tf(s));var d=pl(s),_d$values4=_slicedToArray(d.values,8),c=_d$values4[0],p=_d$values4[1],u=_d$values4[2],x=_d$values4[3],b=_d$values4[4],m=_d$values4[5],g=_d$values4[6],f=_d$values4[7];this["#r4-input"].addEventListener("change",t=function t(_t1729){var e=new q(100,-100);e=e.matrixTransform(a),e=e.matrixTransform(h),e.length=_this687["#r4-input"].value,e=e.matrixTransform(h),e=e.matrixTransform(r),f=X(e.length,l),ul(s,{type:"rect",values:[c,p,u,x,b,m,g,f]},l);}),this["#r4-input"].addEventListener("changeend",_e1218=function e(){_this687["#r4-input"].removeEventListener("change",t),_this687["#r4-input"].removeEventListener("changeend",_e1218),_this687["#r1-input"].value===_this687["#r2-input"].value&&_this687["#r1-input"].value===_this687["#r3-input"].value&&_this687["#r1-input"].value===_this687["#r4-input"].value&&_this687.Af(s),_this687.Of=!1;});}},{key:"Tf",value:function Tf(t){var e=this.Js.board,i=Di("svg:path");var _iterator1164=_createForOfIteratorHelper(t.attributes),_step1164;try{for(_iterator1164.s();!(_step1164=_iterator1164.n()).done;){var _e1219=_step1164.value;!1===["x","y","width","height","rx","ry"].includes(_e1219.name)&&i.setAttribute(_e1219.name,_e1219.value);}}catch(err){_iterator1164.e(err);}finally{_iterator1164.f();}return ul(i,{type:"rect",values:[t.x.baseVal.value,t.y.baseVal.value,t.width.baseVal.value,t.height.baseVal.value,t.rx.baseVal.value,t.rx.baseVal.value,t.rx.baseVal.value,t.rx.baseVal.value]}),i.innerHTML=t.innerHTML,t.replaceWith(i),e.selectedElements=e.selectedElements.map(function(e){return e===t?i:e;}),i;}},{key:"Af",value:function Af(t){var e=this.Js.board,i=Di("svg:rect"),s=pl(t),_s$values12=_slicedToArray(s.values,8),n=_s$values12[0],o=_s$values12[1],l=_s$values12[2],h=_s$values12[3],a=_s$values12[4],r=_s$values12[5],d=_s$values12[6],c=_s$values12[7];var _iterator1165=_createForOfIteratorHelper(t.attributes),_step1165;try{for(_iterator1165.s();!(_step1165=_iterator1165.n()).done;){var _e1220=_step1165.value;"d"!==_e1220.name&&"data-bx-shape"!==_e1220.name&&i.setAttribute(_e1220.name,_e1220.value);}}catch(err){_iterator1165.e(err);}finally{_iterator1165.f();}return i.setAttribute("x",n),i.setAttribute("y",o),i.setAttribute("width",l),i.setAttribute("height",h),i.setAttribute("rx",a),i.setAttribute("ry",a),i.innerHTML=t.innerHTML,t.replaceWith(i),e.selectedElements=e.selectedElements.map(function(e){return e===t?i:e;}),i;}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements[0];if(e){if("rect"===e.localName){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _this$Nm62=this.Nm,_i1110=_this$Nm62.displayUnit,_s662=_this$Nm62.displaySpace,_n471=_this$Nm62.displayPrecision,_o376=Nt(e,t.currentWorkspace),_l314=Wt("px",_i1110),_h234=_i1110?" "+_i1110:"",_a193=1/Nb(10,_n471-1);"viewport"===_s662&&(_o376=Yt(t.currentWorkspace).multiply(_o376));var _r126=new q(100,100);_r126.length=e.rx.baseVal.value,_r126=_r126.matrixTransform(_o376),_r126=_r126.matrixTransform(_l314);var _d101=new q(e.width.baseVal.value,0);_d101=_d101.matrixTransform(_o376),_d101=_d101.matrixTransform(_l314);var _c81=new q(0,e.height.baseVal.value);_c81=_c81.matrixTransform(_o376),_c81=_c81.matrixTransform(_l314);var _p71=X(_r126.length,_n471),_u58=X(Ub(_d101.length/2,_c81.length/2),_n471);for(var _i1111=0,_arr43=[this["#r1-input"],this["#r2-input"],this["#r3-input"],this["#r4-input"]];_i1111<_arr43.length;_i1111++){var _t1730=_arr43[_i1111];_t1730.max=_u58,_t1730.value=_p71,_t1730.step=_a193,_t1730.suffix=_h234;}}else if("path"===e.localName){var _i1112=pl(e);if(_i1112&&"rect"===_i1112.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _i1112$values=_slicedToArray(_i1112.values,8),_s663=_i1112$values[0],_n472=_i1112$values[1],_o377=_i1112$values[2],_l315=_i1112$values[3],_h235=_i1112$values[4],_a194=_i1112$values[5],_r127=_i1112$values[6],_d102=_i1112$values[7],_this$Nm63=this.Nm,_c82=_this$Nm63.displayUnit,_p72=_this$Nm63.displaySpace,_u59=_this$Nm63.displayPrecision,_x140=Nt(e,t.currentWorkspace),_b46=Wt("px",_c82),_m43=_c82?" "+_c82:"",_g36=1/Nb(10,_u59-1);"viewport"===_p72&&(_x140=Yt(t.currentWorkspace).multiply(_x140));var _f27=new q(_o377,0);_f27=_f27.matrixTransform(_x140),_f27=_f27.matrixTransform(_b46);var _w22=new q(0,_l315);_w22=_w22.matrixTransform(_x140),_w22=_w22.matrixTransform(_b46);var _v17=X(Ub(_f27.length/2,_w22.length/2),_u59);if(!1===this.ng){var _t1731=new q(100,100);_t1731.length=_h235,_t1731=_t1731.matrixTransform(_x140),_t1731=_t1731.matrixTransform(_b46);var _e1221=X(_t1731.length,_u59);this["#r1-input"].max=_v17,this["#r1-input"].value=_e1221,this["#r1-input"].step=_g36,this["#r1-input"].suffix=_m43;}if(!1===this.og){var _t1732=new q(-100,100);_t1732.length=_a194,_t1732=_t1732.matrixTransform(_x140),_t1732=_t1732.matrixTransform(_b46);var _e1222=X(_t1732.length,_u59);this["#r2-input"].max=_v17,this["#r2-input"].value=_e1222,this["#r2-input"].step=_g36,this["#r2-input"].suffix=_m43;}if(!1===this.lg){var _t1733=new q(-100,-100);_t1733.length=_r127,_t1733=_t1733.matrixTransform(_x140),_t1733=_t1733.matrixTransform(_b46);var _e1223=X(_t1733.length,_u59);this["#r3-input"].max=_v17,this["#r3-input"].value=_e1223,this["#r3-input"].step=_g36,this["#r3-input"].suffix=_m43;}if(!1===this.Of){var _t1734=new q(100,-100);_t1734.length=_d102,_t1734=_t1734.matrixTransform(_x140),_t1734=_t1734.matrixTransform(_b46);var _e1224=X(_t1734.length,_u59);this["#r4-input"].max=_v17,this["#r4-input"].value=_e1224,this["#r4-input"].step=_g36,this["#r4-input"].suffix=_m43;}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return Vb;}(ob);_defineProperty(Vb,"_shadowTemplate",Hi(_templateObject351()));_defineProperty(Vb,"_shadowStyleSheet",Yi(_templateObject352()));customElements.define("bx-rectgeometryinspector",Vb);var jb=Math.min,Hb=Math.max,Yb=Math.pow;var Wb=/*#__PURE__*/function(_ob18){_inherits(Wb,_ob18);var _super147=_createSuper(Wb);function Wb(){var _this688;_classCallCheck(this,Wb);_this688=_super147.call(this),_this688.Jm=!1,_this688.tg=!1,_this688.$f=!1,_this688.If=!1,_this688.Lf=!1,_this688.Bf=!1,_this688.wa=qi(_this688.qs,200,_assertThisInitialized(_this688)),_this688["#cx-input"].addEventListener("changestart",function(){return _this688.eg();}),_this688["#cy-input"].addEventListener("changestart",function(){return _this688.ig();}),_this688["#r1x-input"].addEventListener("changestart",function(){return _this688.Rf();}),_this688["#r1y-input"].addEventListener("changestart",function(){return _this688.Gf();}),_this688["#r1-aspect-ratio-button"].addEventListener("toggle",function(){return _this688.Ff();}),_this688["#r2x-input"].addEventListener("changestart",function(){return _this688.Uf();}),_this688["#r2y-input"].addEventListener("changestart",function(){return _this688.Nf();}),_this688["#r2-aspect-ratio-button"].addEventListener("toggle",function(){return _this688.Vf();}),_this688["#r1x-input"].validate=function(){return null;},_this688["#r1y-input"].validate=function(){return null;},_this688["#r2x-input"].validate=function(){return null;},_this688["#r2y-input"].validate=function(){return null;};return _this688;}_createClass(Wb,[{key:"tn",value:function tn(){var _this689=this;this["#r1-aspect-ratio-button"].toggled=app.getConfig("bx-ringgeometry:preserveR1AspectRatio",!1),this["#r2-aspect-ratio-button"].toggled=app.getConfig("bx-ringgeometry:preserveR2AspectRatio",!1),this["#r1-aspect-ratio-icon"].name=this["#r1-aspect-ratio-button"].toggled?"lock-on":"lock-off",this["#r2-aspect-ratio-icon"].name=this["#r2-aspect-ratio-button"].toggled?"lock-on":"lock-off",this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this689.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this689.wa();}),this.Nm.addEventListener("spacebuttonstoggle",this.Wm=function(){_this689.wa();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Nm.removeEventListener("spacebuttonstoggle",this.Wm);}},{key:"eg",value:function eg(){var _this690=this;var t,_e1225,i=this.Js.board,s=i.outermostSelectedElements[0],_pl$values47=_slicedToArray(pl(s).values,6),n=_pl$values47[0],o=_pl$values47[1],l=_pl$values47[2],h=_pl$values47[3],a=_pl$values47[4],r=_pl$values47[5],_this$Nm64=this.Nm,d=_this$Nm64.displaySpace,c=_this$Nm64.displayUnit,p=i.geometryPrecision,u=Wt(c,"px"),x=Nt(s,i.vectorCanvas);"viewport"===d&&(x=Yt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Ring center"),this.Jm=!0,this["#cx-input"].addEventListener("change",t=function t(_t1735){var e=new DOMPoint(_this690["#cx-input"].value,_this690["#cy-input"].value);e=e.matrixTransform(u),e=e.matrixTransform(b),e=Ce(e,p),n=e.x,o=e.y,ul(s,{type:"ring",values:[n,o,l,h,a,r]});}),this["#cx-input"].addEventListener("changeend",_e1225=function e(){_this690["#cx-input"].removeEventListener("change",t),_this690["#cx-input"].removeEventListener("changeend",_e1225),_this690.Jm=!1;});}},{key:"ig",value:function ig(){var _this691=this;var t,_e1226,i=this.Js.board,s=i.outermostSelectedElements[0],_pl$values48=_slicedToArray(pl(s).values,6),n=_pl$values48[0],o=_pl$values48[1],l=_pl$values48[2],h=_pl$values48[3],a=_pl$values48[4],r=_pl$values48[5],_this$Nm65=this.Nm,d=_this$Nm65.displaySpace,c=_this$Nm65.displayUnit,p=i.geometryPrecision,u=Wt(c,"px"),x=Nt(s,i.currentWorkspace);"viewport"===d&&(x=Yt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Ring center"),this.tg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1736){var e=new DOMPoint(_this691["#cx-input"].value,_this691["#cy-input"].value);e=e.matrixTransform(u),e=e.matrixTransform(b),e=Ce(e,p),n=e.x,o=e.y,ul(s,{type:"ring",values:[n,o,l,h,a,r]});}),this["#cy-input"].addEventListener("changeend",_e1226=function e(){_this691["#cy-input"].removeEventListener("change",t),_this691["#cy-input"].removeEventListener("changeend",_e1226),_this691.tg=!1;});}},{key:"Rf",value:function Rf(){var _this692=this;var t,_e1227,i=this.Js.board,s=i.outermostSelectedElements[0],_pl$values49=_slicedToArray(pl(s).values,6),n=_pl$values49[0],o=_pl$values49[1],l=_pl$values49[2],h=_pl$values49[3],a=_pl$values49[4],r=_pl$values49[5],_this$Nm66=this.Nm,d=_this$Nm66.displaySpace,c=_this$Nm66.displayUnit,p=i.geometryPrecision,u=this["#r1y-input"].value/this["#r1x-input"].value||1,x=Wt(c,"px"),b=Nt(s,i.currentWorkspace);"viewport"===d&&(b=Yt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Ring radius X"),this.$f=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r1x-input"].addEventListener("change",t=function t(_t1737){var e=new q(g,f);e.length=_this692["#r1x-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),l=X(e.length,p),_this692["#r1-aspect-ratio-button"].toggled&&(h=X(l*u,p)),ul(s,{type:"ring",values:[n,o,l,h,a,r]});}),this["#r1x-input"].addEventListener("changeend",_e1227=function e(){_this692["#r1x-input"].removeEventListener("change",t),_this692["#r1x-input"].removeEventListener("changeend",_e1227),_this692.$f=!1;});}},{key:"Gf",value:function Gf(){var _this693=this;var t,_e1228,i=this.Js.board,s=i.outermostSelectedElements[0],_pl$values50=_slicedToArray(pl(s).values,6),n=_pl$values50[0],o=_pl$values50[1],l=_pl$values50[2],h=_pl$values50[3],a=_pl$values50[4],r=_pl$values50[5],_this$Nm67=this.Nm,d=_this$Nm67.displaySpace,c=_this$Nm67.displayUnit,p=i.geometryPrecision,u=this["#r1x-input"].value/this["#r1y-input"].value||1,x=Wt(c,"px"),b=Nt(s,i.currentWorkspace);"viewport"===d&&(b=Yt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Ring radius Y"),this.If=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n,o+100);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r1y-input"].addEventListener("change",t=function t(_t1738){var e=new q(g,f);e.length=_this693["#r1y-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),h=X(e.length,p),_this693["#r1-aspect-ratio-button"].toggled&&(l=X(h*u,p)),ul(s,{type:"ring",values:[n,o,l,h,a,r]});}),this["#r1y-input"].addEventListener("changeend",_e1228=function e(){_this693["#r1y-input"].removeEventListener("change",t),_this693["#r1y-input"].removeEventListener("changeend",_e1228),_this693.If=!1;});}},{key:"Ff",value:function Ff(){this.Qs.setConfig("bx-ringgeometry:preserveR1AspectRatio",this["#r1-aspect-ratio-button"].toggled),this["#r1-aspect-ratio-icon"].name=this["#r1-aspect-ratio-button"].toggled?"lock-on":"lock-off",this.qs();}},{key:"Uf",value:function Uf(){var _this694=this;var t,_e1229,i=this.Js.board,s=i.outermostSelectedElements[0],_pl$values51=_slicedToArray(pl(s).values,6),n=_pl$values51[0],o=_pl$values51[1],l=_pl$values51[2],h=_pl$values51[3],a=_pl$values51[4],r=_pl$values51[5],_this$Nm68=this.Nm,d=_this$Nm68.displaySpace,c=_this$Nm68.displayUnit,p=i.geometryPrecision,u=this["#r2y-input"].value/this["#r2x-input"].value||1,x=Wt(c,"px"),b=Nt(s,i.currentWorkspace);"viewport"===d&&(b=Yt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Ring radius X"),this.Lf=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r2x-input"].addEventListener("change",t=function t(_t1739){var e=new q(g,f);e.length=_this694["#r2x-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),a=X(e.length,p),_this694["#r2-aspect-ratio-button"].toggled&&(r=X(a*u,p)),ul(s,{type:"ring",values:[n,o,l,h,a,r]});}),this["#r2x-input"].addEventListener("changeend",_e1229=function e(){_this694["#r2x-input"].removeEventListener("change",t),_this694["#r2x-input"].removeEventListener("changeend",_e1229),_this694.Lf=!1;});}},{key:"Nf",value:function Nf(){var _this695=this;var t,_e1230,i=this.Js.board,s=i.outermostSelectedElements[0],_pl$values52=_slicedToArray(pl(s).values,6),n=_pl$values52[0],o=_pl$values52[1],l=_pl$values52[2],h=_pl$values52[3],a=_pl$values52[4],r=_pl$values52[5],_this$Nm69=this.Nm,d=_this$Nm69.displaySpace,c=_this$Nm69.displayUnit,p=i.geometryPrecision,u=this["#r2x-input"].value/this["#r2y-input"].value||1,x=Wt(c,"px"),b=Nt(s,i.currentWorkspace);"viewport"===d&&(b=Yt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Ring radius Y"),this.Bf=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n,o+100);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r2y-input"].addEventListener("change",t=function t(_t1740){var e=new q(g,f);e.length=_this695["#r2y-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),r=X(e.length,p),_this695["#r2-aspect-ratio-button"].toggled&&(a=X(r*u,p)),ul(s,{type:"ring",values:[n,o,l,h,a,r]});}),this["#r2y-input"].addEventListener("changeend",_e1230=function e(){_this695["#r2y-input"].removeEventListener("change",t),_this695["#r2y-input"].removeEventListener("changeend",_e1230),_this695.Bf=!1;});}},{key:"Vf",value:function Vf(){this.Qs.setConfig("bx-ringgeometry:preserveR2AspectRatio",this["#r2-aspect-ratio-button"].toggled),this["#r2-aspect-ratio-icon"].name=this["#r2-aspect-ratio-button"].toggled?"lock-on":"lock-off",this.qs();}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _i1113=pl(e[0]);if(_i1113&&"ring"===_i1113.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _i1113$values=_slicedToArray(_i1113.values,6),_s664=_i1113$values[0],_n473=_i1113$values[1],_o378=_i1113$values[2],_l316=_i1113$values[3],_h236=_i1113$values[4],_a195=_i1113$values[5],_this$Nm70=this.Nm,_r128=_this$Nm70.displayUnit,_d103=_this$Nm70.displaySpace,_c83=_this$Nm70.displayPrecision,_p73=e[0],_u60=Nt(_p73,t.currentWorkspace),_x141=Wt("px",_r128),_b47=_r128?" "+_r128:"",_m44=1/Yb(10,_c83-1);"viewport"===_d103&&(_u60=Yt(t.currentWorkspace).multiply(_u60));var _g37=new DOMPoint(_s664,_n473);if(_g37=_g37.matrixTransform(_u60),_g37=_g37.matrixTransform(_x141),_g37=Ce(_g37,_c83),!1===this.Jm&&(this["#cx-input"].value=_g37.x,this["#cx-input"].suffix=_b47,this["#cx-input"].step=_m44),!1===this.tg&&(this["#cy-input"].value=_g37.y,this["#cy-input"].suffix=_b47,this["#cy-input"].step=_m44),!1===this.$f){var _t1741=this["#r1-aspect-ratio-button"].toggled?jb(_h236,_a195*(_o378/_l316)):_h236,_e1231=new DOMPoint(_s664+_o378,_n473);_e1231=_e1231.matrixTransform(_u60),_e1231=_e1231.matrixTransform(_x141);var _i1114=new DOMPoint(_s664+_t1741,_n473);_i1114=_i1114.matrixTransform(_u60),_i1114=_i1114.matrixTransform(_x141),this["#r1x-input"].max=X(new q(_g37,_i1114).length,_c83),this["#r1x-input"].value=X(new q(_g37,_e1231).length,_c83),this["#r1x-input"].suffix=_b47,this["#r1x-input"].step=_m44;}if(!1===this.If){var _t1742=this["#r1-aspect-ratio-button"].toggled?jb(_a195,_h236*(_l316/_o378)):_a195,_e1232=new DOMPoint(_s664,_n473+_l316);_e1232=_e1232.matrixTransform(_u60),_e1232=_e1232.matrixTransform(_x141);var _i1115=new DOMPoint(_s664,_n473+_t1742);_i1115=_i1115.matrixTransform(_u60),_i1115=_i1115.matrixTransform(_x141),this["#r1y-input"].max=X(new q(_g37,_i1115).length,_c83),this["#r1y-input"].value=X(new q(_g37,_e1232).length,_c83),this["#r1y-input"].suffix=_b47,this["#r1y-input"].step=_m44;}if(!1===this.Lf){var _t1743=this["#r2-aspect-ratio-button"].toggled?Hb(_o378,_l316*(_h236/_a195)):_o378,_e1233=new DOMPoint(_s664+_h236,_n473);_e1233=_e1233.matrixTransform(_u60),_e1233=_e1233.matrixTransform(_x141);var _i1116=new DOMPoint(_s664+_t1743,_n473);_i1116=_i1116.matrixTransform(_u60),_i1116=_i1116.matrixTransform(_x141),this["#r2x-input"].min=X(new q(_g37,_i1116).length,_c83),this["#r2x-input"].value=X(new q(_g37,_e1233).length,_c83),this["#r2x-input"].suffix=_b47,this["#r2x-input"].step=_m44;}if(!1===this.Bf){var _t1744=this["#r2-aspect-ratio-button"].toggled?Hb(_l316,_o378*(_a195/_h236)):_l316,_e1234=new DOMPoint(_s664,_n473+_a195);_e1234=_e1234.matrixTransform(_u60),_e1234=_e1234.matrixTransform(_x141);var _i1117=new DOMPoint(_s664,_n473+_t1744);_i1117=_i1117.matrixTransform(_u60),_i1117=_i1117.matrixTransform(_x141),this["#r2y-input"].min=X(new q(_g37,_i1117).length,_c83),this["#r2y-input"].value=X(new q(_g37,_e1234).length,_c83),this["#r2y-input"].suffix=_b47,this["#r2y-input"].step=_m44;}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return Wb;}(ob);_defineProperty(Wb,"_shadowTemplate",Hi(_templateObject353()));_defineProperty(Wb,"_shadowStyleSheet",Yi(_templateObject354()));customElements.define("bx-ringgeometryinspector",Wb);var qb=/*#__PURE__*/function(_ob19){_inherits(qb,_ob19);var _super148=_createSuper(qb);function qb(){var _this696;_classCallCheck(this,qb);_this696=_super148.call(this),_this696.wf=!1,_this696.jf=!1,_this696.wa=qi(_this696.qs,200,_assertThisInitialized(_this696)),_this696["#arms-section"].addEventListener("changestart",function(){return _this696.Dp();}),_this696["#depth-section"].addEventListener("changestart",function(){return _this696.Op();});return _this696;}_createClass(qb,[{key:"tn",value:function tn(){var _this697=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this697.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this697.wa();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Dp",value:function Dp(){var _this698=this;var t,_e1235,i=this.Js.board,s=[],n=Symbol();var _iterator1166=_createForOfIteratorHelper(i.outermostSelectedElements),_step1166;try{for(_iterator1166.s();!(_step1166=_iterator1166.n()).done;){var _t1747=_step1166.value;if("path"===_t1747.localName){var _e1236=pl(_t1747);_e1236&&"star"===_e1236.type&&(_t1747[n]=_e1236,s.push(_t1747));}}}catch(err){_iterator1166.e(err);}finally{_iterator1166.f();}i.undoManager.checkpoint("Star arms"),this.wf=!0,this["#arms-section"].addEventListener("change",t=function t(_t1746){_t1746.target===_this698["#arms-slider"]?_this698["#arms-input"].value=_this698["#arms-slider"].value:_t1746.target===_this698["#arms-input"]&&(_this698["#arms-slider"].value=_this698["#arms-input"].value);var _iterator1167=_createForOfIteratorHelper(s),_step1167;try{for(_iterator1167.s();!(_step1167=_iterator1167.n()).done;){var _t1745=_step1167.value;_t1745[n].values[5]=_this698["#arms-input"].value,ul(_t1745,_t1745[n]);}}catch(err){_iterator1167.e(err);}finally{_iterator1167.f();}}),this["#arms-section"].addEventListener("changeend",_e1235=function e(){_this698["#arms-section"].removeEventListener("change",t),_this698["#arms-section"].removeEventListener("changeend",_e1235),_this698.wf=!1;});}},{key:"Op",value:function Op(){var _this699=this;var t,_e1237,i=this.Js.board,s=[],n=Symbol();var _iterator1168=_createForOfIteratorHelper(i.outermostSelectedElements),_step1168;try{for(_iterator1168.s();!(_step1168=_iterator1168.n()).done;){var _t1750=_step1168.value;if("path"===_t1750.localName){var _e1238=pl(_t1750);_e1238&&"star"===_e1238.type&&(_t1750[n]=_e1238,s.push(_t1750));}}}catch(err){_iterator1168.e(err);}finally{_iterator1168.f();}i.undoManager.checkpoint("Star depth"),this.jf=!0,this["#depth-section"].addEventListener("change",t=function t(_t1749){_t1749.target===_this699["#depth-slider"]?_this699["#depth-input"].value=_this699["#depth-slider"].value:_t1749.target===_this699["#depth-input"]&&(_this699["#depth-slider"].value=_this699["#depth-input"].value);var _iterator1169=_createForOfIteratorHelper(s),_step1169;try{for(_iterator1169.s();!(_step1169=_iterator1169.n()).done;){var _t1748=_step1169.value;_t1748[n].values[4]=_this699["#depth-slider"].value,ul(_t1748,_t1748[n]);}}catch(err){_iterator1169.e(err);}finally{_iterator1169.f();}}),this["#depth-section"].addEventListener("changeend",_e1237=function e(){_this699["#depth-section"].removeEventListener("change",t),_this699["#depth-section"].removeEventListener("changeend",_e1237),_this699.jf=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board.outermostSelectedElements;if(!1===this.wf&&!1===this.jf)if(0===t.length||"path"!==t[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _e1239=pl(t[0]);if(_e1239&&"star"===_e1239.type){t[0];var _e1239$values=_slicedToArray(_e1239.values,6),_i1118=_e1239$values[0],_s665=_e1239$values[1],_n474=_e1239$values[2],_o379=_e1239$values[3],_l317=_e1239$values[4],_h237=_e1239$values[5];!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#arms-slider"].value=X(_h237,0),this["#arms-input"].value=X(_h237,0),this["#depth-slider"].value=X(_l317,this.Nm.displayPrecision),this["#depth-input"].value=X(_l317,this.Nm.displayPrecision);}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return qb;}(ob);_defineProperty(qb,"_shadowTemplate",Hi(_templateObject355()));_defineProperty(qb,"_shadowStyleSheet",Yi(_templateObject356()));customElements.define("bx-stargeometryinspector",qb);var Xb=Number.isFinite;var Zb=/*#__PURE__*/function(_ob20){_inherits(Zb,_ob20);var _super149=_createSuper(Zb);function Zb(){var _this700;_classCallCheck(this,Zb);_this700=_super149.call(this),_this700.Ng=!1,_this700.Vg=!1,_this700.jg=!1,_this700.Hg=!1,_this700.Yg=!1,_this700.Wg=!1,_this700.Kg=null,_this700.Qg=null,_this700.tf=qi(_this700.qs,100,_assertThisInitialized(_this700)),_this700["#viewport-width-input"].addEventListener("changestart",function(){return _this700.ef();}),_this700["#viewport-height-input"].addEventListener("changestart",function(){return _this700["if"]();}),_this700["#viewport-lock-button"].addEventListener("toggle",function(){return _this700.sf();}),_this700["#viewport-units-select"].addEventListener("change",function(){return _this700.nf();}),_this700["#viewbox-x-input"].addEventListener("changestart",function(t){return _this700.lf(t);}),_this700["#viewbox-y-input"].addEventListener("changestart",function(t){return _this700.hf(t);}),_this700["#viewbox-width-input"].addEventListener("changestart",function(t){return _this700.af(t);}),_this700["#viewbox-height-input"].addEventListener("changestart",function(t){return _this700.rf(t);}),_this700["#viewbox-switch"].addEventListener("toggle",function(){return _this700.df();}),_this700["#viewbox-lock-button"].addEventListener("toggle",function(){return _this700.cf();}),_this700["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this700.pf();}),_this700["#align-buttons"].addEventListener("toggle",function(){return _this700.uf();}),_this700["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this700.xf();});return _this700;}_createClass(Zb,[{key:"tn",value:function tn(){var _this701=this;this.qs(),this["#viewport-lock-button"].toggled=app.getConfig("bx-svggeometryinspector:lockViewport",!1),this["#viewport-lock-icon"].name=this["#viewport-lock-button"].toggled?"lock-on":"lock-off",this["#viewbox-lock-button"].toggled=app.getConfig("bx-svggeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this701.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this701.il(t.detail);});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"il",value:function il(t){this.tf();}},{key:"ef",value:function ef(){var _this702=this;var t,_e1240,i=this.Js.board,s=i.geometryPrecision,n=null,o=this["#viewport-units-select"].value;this["#viewport-lock-button"].toggled&&null!==this["#viewport-width-input"].value&&null!==this["#viewport-height-input"].value&&(n=this["#viewport-height-input"].value/this["#viewport-width-input"].value,!1===Xb(n)&&(n=1)),i.undoManager.checkpoint("Viewport width"),this.Ng=!0,this["#viewport-width-input"].addEventListener("change",t=function t(){if(null===_this702["#viewport-width-input"].value)_this702.Hf(null);else{var _t1751=new Ot(X(_this702["#viewport-width-input"].value,s),o);if(_this702.Hf(_t1751),null!==n){var _t1752=new Ot(X(_this702["#viewport-width-input"].value*n,s),o);_this702.Yf(_t1752);}}}),this["#viewport-width-input"].addEventListener("changeend",_e1240=function e(){_this702["#viewport-width-input"].removeEventListener("change",t),_this702["#viewport-width-input"].removeEventListener("changeend",_e1240),_this702.Ng=!1;});}},{key:"if",value:function _if(){var _this703=this;var t,_e1241,i=this.Js.board,s=i.geometryPrecision,n=null,o=this["#viewport-units-select"].value;this["#viewport-lock-button"].toggled&&null!==this["#viewport-height-input"].value&&null!==this["#viewport-width-input"].value&&(n=this["#viewport-width-input"].value/this["#viewport-height-input"].value,!1===Xb(n)&&(n=1)),i.undoManager.checkpoint("Viewport height"),this.Vg=!0,this["#viewport-height-input"].addEventListener("change",t=function t(){if(null===_this703["#viewport-height-input"].value)_this703.Yf(null);else{var _t1753=new Ot(X(_this703["#viewport-height-input"].value,s),o);if(_this703.Yf(_t1753),null!==n){var _t1754=new Ot(X(_this703["#viewport-height-input"].value*n,s),o);_this703.Hf(_t1754);}}}),this["#viewport-height-input"].addEventListener("changeend",_e1241=function e(){_this703["#viewport-height-input"].removeEventListener("change",t),_this703["#viewport-height-input"].removeEventListener("changeend",_e1241),_this703.Vg=!1;});}},{key:"sf",value:function sf(){var t=this["#viewport-lock-button"].toggled;this.Qs.setConfig("bx-svggeometryinspector:lockViewport",t),this["#viewport-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"nf",value:function nf(){var t=this.Js.board,e=t.getComputedViewportWidth(),i=t.getComputedViewportHeight(),s=!!e&&e.unit!==this["#viewport-units-select"].value,n=!!i&&i.unit!==this["#viewport-units-select"].value;(s||n)&&(t.undoManager.checkpoint("Viewport units"),s&&(e=e.toLength(this["#viewport-units-select"].value),e.value=X(e.value,this.Js.board.geometryPrecision),this.Hf(e)),n&&(i=i.toLength(this["#viewport-units-select"].value),i.value=X(i.value,this.Js.board.geometryPrecision),this.Yf(i)));}},{key:"df",value:function df(){var t=this.Js.board;t.undoManager.checkpoint("View box"),this["#viewbox-switch"].toggled?this.Kg?t.currentWorkspace.setAttribute("viewBox",this.Kg):t.currentWorkspace.setAttribute("viewBox","0 0 500 500"):(this.Kg=t.currentWorkspace.getAttribute("viewBox"),t.currentWorkspace.removeAttribute("viewBox"));}},{key:"lf",value:function lf(t){var _this704=this;var e,_i1119,s=this.Js.board.currentWorkspace,n=Lt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.jg=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){null!==_this704["#viewbox-x-input"].value&&(n.x=_this704["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height)));}),this["#viewbox-x-input"].addEventListener("changeend",_i1119=function i(){_this704["#viewbox-x-input"].removeEventListener("change",e),_this704["#viewbox-x-input"].removeEventListener("changeend",_i1119),_this704.jg=!1,_this704.qs();});}},{key:"hf",value:function hf(t){var _this705=this;var e,_i1120,s=this.Js.board.currentWorkspace,n=Lt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.Hg=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){null!==_this705["#viewbox-y-input"].value&&(n.y=_this705["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height)));}),this["#viewbox-y-input"].addEventListener("changeend",_i1120=function i(){_this705["#viewbox-y-input"].removeEventListener("change",e),_this705["#viewbox-y-input"].removeEventListener("changeend",_i1120),_this705.Hg=!1,_this705.qs();});}},{key:"af",value:function af(t){var _this706=this;var e,_i1121,_this$Js$board51=this.Js.board,s=_this$Js$board51.geometryPrecision,n=_this$Js$board51.currentWorkspace,o=Lt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===Xb(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.Yg=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){null!==_this706["#viewbox-width-input"].value&&(o.width=_this706["#viewbox-width-input"].value,null!==l&&(o.height=X(_this706["#viewbox-width-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height)));}),this["#viewbox-width-input"].addEventListener("changeend",_i1121=function i(){_this706["#viewbox-width-input"].removeEventListener("change",e),_this706["#viewbox-width-input"].removeEventListener("changeend",_i1121),_this706.Yg=!1,_this706.qs();});}},{key:"rf",value:function rf(t){var _this707=this;var e,_i1122,_this$Js$board52=this.Js.board,s=_this$Js$board52.geometryPrecision,n=_this$Js$board52.currentWorkspace,o=Lt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===Xb(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.Wg=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){null!==_this707["#viewbox-height-input"].value&&(o.height=_this707["#viewbox-height-input"].value,null!==l&&(o.width=X(_this707["#viewbox-height-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height)));}),this["#viewbox-height-input"].addEventListener("changeend",_i1122=function i(){_this707["#viewbox-height-input"].removeEventListener("change",e),_this707["#viewbox-height-input"].removeEventListener("changeend",_i1122),_this707.Wg=!1,_this707.qs();});}},{key:"cf",value:function cf(){var t=this["#viewbox-lock-button"].toggled;this.Qs.setConfig("bx-svggeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"pf",value:function pf(){var t=this.Js.board.currentWorkspace;this.Js.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.Qg?t.setAttribute("preserveAspectRatio",this.Qg):t.removeAttribute("preserveAspectRatio"):(this.Qg=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"uf",value:function uf(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s666=e;"none"!==_s666&&"slice"===i&&(_s666+=" slice"),t.setAttribute("preserveAspectRatio",_s666);}}},{key:"xf",value:function xf(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s667=e;"none"!==_s667&&"slice"===i&&(_s667+=" slice"),t.setAttribute("preserveAspectRatio",_s667);}}},{key:"Hf",value:function Hf(t){var e=this.Js.board.currentWorkspace;e.style.width=null,t?e.setAttribute("width",t.toString()):e.removeAttribute("width");}},{key:"Yf",value:function Yf(t){var e=this.Js.board.currentWorkspace;e.style.height=null,t?e.setAttribute("height",t.toString()):e.removeAttribute("height");}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.currentWorkspace,i=t.currentContainer,s=t.selectedElements,n=t.gridHud,o=this.Nm.displayPrecision;if("master"!==e.getAttribute("data-bx-workspace")||s.length>0||0===s.length&&null!==i||n.selected)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));{var _e1242=t.getComputedViewportWidth(),_i1123=t.getComputedViewportHeight();null!==_e1242&&null!==_i1123?(_i1123=_i1123.toLength(_e1242.unit),!1===this.Ng&&(this["#viewport-width-input"].value=X(_e1242.value,o),this["#viewport-width-input"].suffix=" "+_e1242.unit),!1===this.Vg&&(this["#viewport-height-input"].value=X(_i1123.value,o),this["#viewport-height-input"].suffix=" "+_e1242.unit),this["#viewport-lock-button"].disabled=!1,this["#viewport-units-select"].value=_e1242.unit):null!==_e1242&&null===_i1123?(!1===this.Ng&&(this["#viewport-width-input"].value=X(_e1242.value,o),this["#viewport-width-input"].suffix=" "+_e1242.unit),!1===this.Vg&&(this["#viewport-height-input"].value=null,this["#viewport-height-input"].suffix=""),this["#viewport-lock-button"].disabled=!0,this["#viewport-units-select"].value=_e1242.unit):null===_e1242&&null!==_i1123?(!1===this.Ng&&(this["#viewport-width-input"].value=null,this["#viewport-width-input"].suffix=""),!1===this.Vg&&(this["#viewport-height-input"].value=X(_i1123.value,o),this["#viewport-height-input"].suffix=" "+_i1123.unit),this["#viewport-lock-button"].disabled=!0,this["#viewport-units-select"].value=_i1123.unit):null===_e1242&&null===_i1123&&(!1===this.Ng&&(this["#viewport-width-input"].value=null,this["#viewport-width-input"].suffix=""),!1===this.Vg&&(this["#viewport-height-input"].value=null,this["#viewport-height-input"].suffix=""),this["#viewport-lock-button"].disabled=!0);}if(e.hasAttribute("viewBox")){var _Lt$fromString5=Lt.fromString(e.getAttribute("viewBox")),_t1755=_Lt$fromString5.x,_i1124=_Lt$fromString5.y,_s668=_Lt$fromString5.width,_n475=_Lt$fromString5.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-switch"].toggled=!0,this["#viewbox-lock-button"].disabled=!1,!1===this.jg&&(this["#viewbox-x-input"].value=X(_t1755,o),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this.Hg&&(this["#viewbox-y-input"].value=X(_i1124,o),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.Yg&&(this["#viewbox-width-input"].value=X(_s668,o),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.Wg&&(this["#viewbox-height-input"].value=X(_n475,o),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}else this["#viewbox-heading"].disabled=!0,this["#viewbox-switch"].toggled=!1,this["#viewbox-lock-button"].disabled=!0,this["#viewbox-x-input"].value=0,this["#viewbox-x-input"].disabled=!0,this["#viewbox-x-label"].disabled=!0,this["#viewbox-y-input"].value=0,this["#viewbox-y-input"].disabled=!0,this["#viewbox-y-label"].disabled=!0,this["#viewbox-width-input"].value=0,this["#viewbox-width-input"].disabled=!0,this["#viewbox-width-label"].disabled=!0,this["#viewbox-height-input"].value=0,this["#viewbox-height-input"].disabled=!0,this["#viewbox-height-label"].disabled=!0;if(!1===e.hasAttribute("viewBox"))this["#preserve-aspect-ratio-heading"].disabled=!0,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!0,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0;else{var _t1756=e.getAttribute("preserveAspectRatio")||"xMidYMid meet",_At$fromString4=At.fromString(_t1756),_i1125=_At$fromString4.align,_s669=_At$fromString4.meetOrSlice;"none"===_i1125?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1125,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s669,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}}}}]);return Zb;}(ob);_defineProperty(Zb,"_shadowTemplate",Hi(_templateObject357()));_defineProperty(Zb,"_shadowStyleSheet",Yi(_templateObject358()));customElements.define("bx-svggeometryinspector",Zb);var Kb=/*#__PURE__*/function(_ob21){_inherits(Kb,_ob21);var _super150=_createSuper(Kb);function Kb(){var _this708;_classCallCheck(this,Kb);_this708=_super150.call(this),_this708.jg=!1,_this708.Hg=!1,_this708.Yg=!1,_this708.Wg=!1,_this708.Kg=null,_this708.Qg=null,_this708.tf=qi(_this708.qs,100,_assertThisInitialized(_this708)),_this708["#viewbox-x-input"].addEventListener("changestart",function(t){return _this708.lf(t);}),_this708["#viewbox-y-input"].addEventListener("changestart",function(t){return _this708.hf(t);}),_this708["#viewbox-width-input"].addEventListener("changestart",function(t){return _this708.af(t);}),_this708["#viewbox-height-input"].addEventListener("changestart",function(t){return _this708.rf(t);}),_this708["#viewbox-switch"].addEventListener("toggle",function(){return _this708.df();}),_this708["#viewbox-lock-button"].addEventListener("toggle",function(){return _this708.cf();}),_this708["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this708.pf();}),_this708["#align-buttons"].addEventListener("toggle",function(){return _this708.uf();}),_this708["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this708.xf();});return _this708;}_createClass(Kb,[{key:"tn",value:function tn(){var _this709=this;this.qs(),this["#viewbox-lock-button"].toggled=app.getConfig("bx-symbolgeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this709.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this709.il(t.detail);});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"il",value:function il(t){this.tf();}},{key:"df",value:function df(){var t=this.Js.board;t.undoManager.checkpoint("View box"),this["#viewbox-switch"].toggled?this.Kg?t.currentWorkspace.setAttribute("viewBox",this.Kg):t.currentWorkspace.setAttribute("viewBox","0 0 500 500"):(this.Kg=t.currentWorkspace.getAttribute("viewBox"),t.currentWorkspace.removeAttribute("viewBox"));}},{key:"lf",value:function lf(t){var _this710=this;var e,_i1126,s=this.Js.board.currentWorkspace,n=Lt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.jg=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){n.x=_this710["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-x-input"].addEventListener("changeend",_i1126=function i(){_this710["#viewbox-x-input"].removeEventListener("change",e),_this710["#viewbox-x-input"].removeEventListener("changeend",_i1126),_this710.jg=!1;});}},{key:"hf",value:function hf(t){var _this711=this;var e,_i1127,s=this.Js.board.currentWorkspace,n=Lt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.Hg=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){n.y=_this711["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-y-input"].addEventListener("changeend",_i1127=function i(){_this711["#viewbox-y-input"].removeEventListener("change",e),_this711["#viewbox-y-input"].removeEventListener("changeend",_i1127),_this711.Hg=!1;});}},{key:"af",value:function af(t){var _this712=this;var e,_i1128,_this$Js$board53=this.Js.board,s=_this$Js$board53.geometryPrecision,n=_this$Js$board53.currentWorkspace,o=Lt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.Yg=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){o.width=_this712["#viewbox-width-input"].value,null!==l&&(o.height=X(_this712["#viewbox-width-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-width-input"].addEventListener("changeend",_i1128=function i(){_this712["#viewbox-width-input"].removeEventListener("change",e),_this712["#viewbox-width-input"].removeEventListener("changeend",_i1128),_this712.Yg=!1;});}},{key:"rf",value:function rf(t){var _this713=this;var e,_i1129,_this$Js$board54=this.Js.board,s=_this$Js$board54.geometryPrecision,n=_this$Js$board54.currentWorkspace,o=Lt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.Wg=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){o.height=_this713["#viewbox-height-input"].value,null!==l&&(o.width=X(_this713["#viewbox-height-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-height-input"].addEventListener("changeend",_i1129=function i(){_this713["#viewbox-height-input"].removeEventListener("change",e),_this713["#viewbox-height-input"].removeEventListener("changeend",_i1129),_this713.Wg=!1;});}},{key:"cf",value:function cf(){var t=this["#viewbox-lock-button"].toggled;this.Qs.setConfig("bx-symbolgeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"pf",value:function pf(){var t=this.Js.board.currentWorkspace;this.Js.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.Qg?t.setAttribute("preserveAspectRatio",this.Qg):t.removeAttribute("preserveAspectRatio"):(this.Qg=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"uf",value:function uf(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s670=e;"none"!==_s670&&"slice"===i&&(_s670+=" slice"),t.setAttribute("preserveAspectRatio",_s670);}}},{key:"xf",value:function xf(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s671=e;"none"!==_s671&&"slice"===i&&(_s671+=" slice"),t.setAttribute("preserveAspectRatio",_s671);}}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.currentWorkspace,i=t.currentContainer,s=t.selectedElements,n=t.gridHud,o=this.Nm.displayPrecision;if("symbol"!==e.getAttribute("data-bx-workspace")||s.length>0||0===s.length&&null!==i||n.selected)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{if(!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),e.hasAttribute("viewBox")){var _Lt$fromString6=Lt.fromString(e.getAttribute("viewBox")),_t1757=_Lt$fromString6.x,_i1130=_Lt$fromString6.y,_s672=_Lt$fromString6.width,_n476=_Lt$fromString6.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-switch"].toggled=!0,this["#viewbox-lock-button"].disabled=!1,!1===this.jg&&(this["#viewbox-x-input"].value=X(_t1757,o),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this.Hg&&(this["#viewbox-y-input"].value=X(_i1130,o),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.Yg&&(this["#viewbox-width-input"].value=X(_s672,o),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.Wg&&(this["#viewbox-height-input"].value=X(_n476,o),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}else this["#viewbox-heading"].disabled=!0,this["#viewbox-switch"].toggled=!1,this["#viewbox-lock-button"].disabled=!0,this["#viewbox-x-input"].value=0,this["#viewbox-x-input"].disabled=!0,this["#viewbox-x-label"].disabled=!0,this["#viewbox-y-input"].value=0,this["#viewbox-y-input"].disabled=!0,this["#viewbox-y-label"].disabled=!0,this["#viewbox-width-input"].value=0,this["#viewbox-width-input"].disabled=!0,this["#viewbox-width-label"].disabled=!0,this["#viewbox-height-input"].value=0,this["#viewbox-height-input"].disabled=!0,this["#viewbox-height-label"].disabled=!0;if(!1===e.hasAttribute("viewBox"))this["#preserve-aspect-ratio-heading"].disabled=!0,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!0,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0;else{var _t1758=e.getAttribute("preserveAspectRatio")||"xMidYMid meet",_At$fromString5=At.fromString(_t1758),_i1131=_At$fromString5.align,_s673=_At$fromString5.meetOrSlice;"none"===_i1131?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1131,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s673,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}}}}]);return Kb;}(ob);_defineProperty(Kb,"_shadowTemplate",Hi(_templateObject359()));_defineProperty(Kb,"_shadowStyleSheet",Yi(_templateObject360()));customElements.define("bx-symbolgeometryinspector",Kb);var Qb=/*#__PURE__*/function(_ob22){_inherits(Qb,_ob22);var _super151=_createSuper(Qb);function Qb(){var _this714;_classCallCheck(this,Qb);_this714=_super151.call(this),_this714.Wf=!1,_this714.qf=!1,_this714.wa=qi(_this714.qs,200,_assertThisInitialized(_this714)),_this714["#arch-section"].addEventListener("changestart",function(){return _this714.yp();}),_this714["#hollow-section"].addEventListener("changestart",function(){return _this714.kp();});return _this714;}_createClass(Qb,[{key:"tn",value:function tn(){var _this715=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this715.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this715.wa();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"yp",value:function yp(){var _this716=this;var t,_e1243,i=this.Js.board,s=[],n=Symbol();var _iterator1170=_createForOfIteratorHelper(i.outermostSelectedElements),_step1170;try{for(_iterator1170.s();!(_step1170=_iterator1170.n()).done;){var _t1761=_step1170.value;if("path"===_t1761.localName){var _e1244=pl(_t1761);_e1244&&"crescent"===_e1244.type&&(_t1761[n]=_e1244,s.push(_t1761));}}}catch(err){_iterator1170.e(err);}finally{_iterator1170.f();}i.undoManager.checkpoint("Crescent arch"),this.Wf=!0,this["#arch-section"].addEventListener("change",t=function t(_t1760){_t1760.target===_this716["#arch-slider"]?_this716["#arch-input"].value=_this716["#arch-slider"].value:_t1760.target===_this716["#arch-input"]&&(_this716["#arch-slider"].value=_this716["#arch-input"].value);var _iterator1171=_createForOfIteratorHelper(s),_step1171;try{for(_iterator1171.s();!(_step1171=_iterator1171.n()).done;){var _t1759=_step1171.value;_t1759[n].values[3]=_this716["#arch-slider"].value,ul(_t1759,_t1759[n],i.geometryPrecision);}}catch(err){_iterator1171.e(err);}finally{_iterator1171.f();}}),this["#arch-section"].addEventListener("changeend",_e1243=function e(){_this716["#arch-section"].removeEventListener("change",t),_this716["#arch-section"].removeEventListener("changeend",_e1243),_this716.Wf=!1;});}},{key:"kp",value:function kp(){var _this717=this;var t,_e1245,i=this.Js.board,s=[],n=Symbol();var _iterator1172=_createForOfIteratorHelper(i.outermostSelectedElements),_step1172;try{for(_iterator1172.s();!(_step1172=_iterator1172.n()).done;){var _t1764=_step1172.value;if("path"===_t1764.localName){var _e1246=pl(_t1764);_e1246&&"crescent"===_e1246.type&&(_t1764[n]=_e1246,s.push(_t1764));}}}catch(err){_iterator1172.e(err);}finally{_iterator1172.f();}i.undoManager.checkpoint("Crescent hollow"),this.qf=!0,this["#hollow-section"].addEventListener("change",t=function t(_t1763){_t1763.target===_this717["#hollow-slider"]?_this717["#hollow-input"].value=_this717["#hollow-slider"].value:_t1763.target===_this717["#hollow-input"]&&(_this717["#hollow-slider"].value=_this717["#hollow-input"].value);var _iterator1173=_createForOfIteratorHelper(s),_step1173;try{for(_iterator1173.s();!(_step1173=_iterator1173.n()).done;){var _t1762=_step1173.value;_t1762[n].values[4]=_this717["#hollow-slider"].value/100,ul(_t1762,_t1762[n],i.geometryPrecision);}}catch(err){_iterator1173.e(err);}finally{_iterator1173.f();}}),this["#hollow-section"].addEventListener("changeend",_e1245=function e(){_this717["#hollow-section"].removeEventListener("change",t),_this717["#hollow-section"].removeEventListener("changeend",_e1245),_this717.qf=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board.outermostSelectedElements;if(!1===this.Wf&&!1===this.qf)if(0===t.length||"path"!==t[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _e1247=pl(t[0]);if(_e1247&&"crescent"===_e1247.type){t[0];var _e1247$values=_slicedToArray(_e1247.values,5),_i1132=_e1247$values[0],_s674=_e1247$values[1],_n477=_e1247$values[2],_o380=_e1247$values[3],_l318=_e1247$values[4];!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#arch-slider"].value=X(_o380,0),this["#arch-input"].value=X(_o380,0),this["#hollow-slider"].value=X(100*_l318,2),this["#hollow-input"].value=X(100*_l318,2);}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return Qb;}(ob);_defineProperty(Qb,"_shadowTemplate",Hi(_templateObject361()));_defineProperty(Qb,"_shadowStyleSheet",Yi(_templateObject362()));customElements.define("bx-crescentgeometryinspector",Qb);var Jb=/*#__PURE__*/function(_ob23){_inherits(Jb,_ob23);var _super152=_createSuper(Jb);function Jb(){var _this718;_classCallCheck(this,Jb);_this718=_super152.call(this),_this718.xg=!1,_this718.vf=!1,_this718.wa=qi(_this718.qs,200,_assertThisInitialized(_this718)),_this718["#shift-section"].addEventListener("changestart",function(){return _this718.Cp();}),_this718["#corner-section"].addEventListener("changestart",function(){return _this718.Mp();});return _this718;}_createClass(Jb,[{key:"tn",value:function tn(){var _this719=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this719.wa();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this719.wa();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Cp",value:function Cp(){var _this720=this;var t,_e1248,i=this.Js.board,s=[],n=Symbol();var _iterator1174=_createForOfIteratorHelper(i.outermostSelectedElements),_step1174;try{for(_iterator1174.s();!(_step1174=_iterator1174.n()).done;){var _t1767=_step1174.value;if("path"===_t1767.localName){var _e1249=pl(_t1767);_e1249&&"triangle"===_e1249.type&&(_t1767[n]=_e1249,s.push(_t1767));}}}catch(err){_iterator1174.e(err);}finally{_iterator1174.f();}i.undoManager.checkpoint("Triangle shift"),this.xg=!0,this["#shift-section"].addEventListener("change",t=function t(_t1766){_t1766.target===_this720["#shift-slider"]?_this720["#shift-input"].value=_this720["#shift-slider"].value:_t1766.target===_this720["#shift-input"]&&(_this720["#shift-slider"].value=_this720["#shift-input"].value);var _iterator1175=_createForOfIteratorHelper(s),_step1175;try{for(_iterator1175.s();!(_step1175=_iterator1175.n()).done;){var _t1765=_step1175.value;_t1765[n].values[4]=_this720["#shift-slider"].value,ul(_t1765,_t1765[n]);}}catch(err){_iterator1175.e(err);}finally{_iterator1175.f();}}),this["#shift-section"].addEventListener("changeend",_e1248=function e(){_this720["#shift-section"].removeEventListener("change",t),_this720["#shift-section"].removeEventListener("changeend",_e1248),_this720.xg=!1;});}},{key:"Mp",value:function Mp(){var _this721=this;var t,_e1250,i=this.Js.board,s=[],n=Symbol();var _iterator1176=_createForOfIteratorHelper(i.outermostSelectedElements),_step1176;try{for(_iterator1176.s();!(_step1176=_iterator1176.n()).done;){var _t1770=_step1176.value;if("path"===_t1770.localName){var _e1251=pl(_t1770);_e1251&&"triangle"===_e1251.type&&(_t1770[n]=_e1251,s.push(_t1770));}}}catch(err){_iterator1176.e(err);}finally{_iterator1176.f();}i.undoManager.checkpoint("Triangle corner"),this.vf=!0,this["#corner-section"].addEventListener("change",t=function t(_t1769){_t1769.target===_this721["#corner-slider"]?_this721["#corner-input"].value=_this721["#corner-slider"].value:_t1769.target===_this721["#corner-input"]&&(_this721["#corner-slider"].value=_this721["#corner-input"].value);var _iterator1177=_createForOfIteratorHelper(s),_step1177;try{for(_iterator1177.s();!(_step1177=_iterator1177.n()).done;){var _t1768=_step1177.value;_t1768[n].values[5]=_this721["#corner-slider"].value,ul(_t1768,_t1768[n]);}}catch(err){_iterator1177.e(err);}finally{_iterator1177.f();}}),this["#corner-section"].addEventListener("changeend",_e1250=function e(){_this721["#corner-section"].removeEventListener("change",t),_this721["#corner-section"].removeEventListener("changeend",_e1250),_this721.vf=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board.outermostSelectedElements;if(!1===this.xg&&!1===this.vf)if(0===t.length||"path"!==t[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _e1252=pl(t[0]);if(_e1252&&"triangle"===_e1252.type){t[0];var _e1252$values=_slicedToArray(_e1252.values,6),_i1133=_e1252$values[0],_s675=_e1252$values[1],_n478=_e1252$values[2],_o381=_e1252$values[3],_l319=_e1252$values[4],_h238=_e1252$values[5];!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#shift-slider"].value=X(_l319,2),this["#shift-input"].value=X(_l319,2),this["#corner-slider"].value=X(_h238,2),this["#corner-input"].value=X(_h238,2);}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return Jb;}(ob);_defineProperty(Jb,"_shadowTemplate",Hi(_templateObject363()));_defineProperty(Jb,"_shadowStyleSheet",Yi(_templateObject364()));customElements.define("bx-trianglegeometryinspector",Jb);var tm=/*#__PURE__*/function(_ob24){_inherits(tm,_ob24);var _super153=_createSuper(tm);function tm(){var _this722;_classCallCheck(this,tm);_this722=_super153.call(this),_this722.jg=!1,_this722.Hg=!1,_this722.Yg=!1,_this722.Wg=!1,_this722.Qg=null,_this722.tf=qi(_this722.qs,100,_assertThisInitialized(_this722)),_this722["#viewbox-x-input"].addEventListener("changestart",function(t){return _this722.lf(t);}),_this722["#viewbox-y-input"].addEventListener("changestart",function(t){return _this722.hf(t);}),_this722["#viewbox-width-input"].addEventListener("changestart",function(t){return _this722.af(t);}),_this722["#viewbox-height-input"].addEventListener("changestart",function(t){return _this722.rf(t);}),_this722["#viewbox-lock-button"].addEventListener("toggle",function(){return _this722.cf();}),_this722["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this722.pf();}),_this722["#align-buttons"].addEventListener("toggle",function(){return _this722.uf();}),_this722["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this722.xf();});return _this722;}_createClass(tm,[{key:"tn",value:function tn(){var _this723=this;this.qs(),this["#viewbox-lock-button"].toggled=app.getConfig("bx-viewgeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this723.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this723.il(t.detail);});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"il",value:function il(t){this.tf();}},{key:"lf",value:function lf(t){var _this724=this;var e,_i1134,s=this.Js.board.outermostSelectedElements[0],n=Lt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.jg=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){n.x=_this724["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-x-input"].addEventListener("changeend",_i1134=function i(){_this724["#viewbox-x-input"].removeEventListener("change",e),_this724["#viewbox-x-input"].removeEventListener("changeend",_i1134),_this724.jg=!1;});}},{key:"hf",value:function hf(t){var _this725=this;var e,_i1135,s=this.Js.board.outermostSelectedElements[0],n=Lt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.Hg=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){n.y=_this725["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-y-input"].addEventListener("changeend",_i1135=function i(){_this725["#viewbox-y-input"].removeEventListener("change",e),_this725["#viewbox-y-input"].removeEventListener("changeend",_i1135),_this725.Hg=!1;});}},{key:"af",value:function af(t){var _this726=this;var e,_i1136,s=this.Js.board.outermostSelectedElements[0],n=Lt.fromString(s.getAttribute("viewBox")||"0 0 0 0"),o=this.Js.board.geometryPrecision,l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.Yg=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){n.width=_this726["#viewbox-width-input"].value,null!==l&&(n.height=X(_this726["#viewbox-width-input"].value*l,o)),s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-width-input"].addEventListener("changeend",_i1136=function i(){_this726["#viewbox-width-input"].removeEventListener("change",e),_this726["#viewbox-width-input"].removeEventListener("changeend",_i1136),_this726.Yg=!1;});}},{key:"rf",value:function rf(t){var _this727=this;var e,_i1137,s=this.Js.board.outermostSelectedElements[0],n=Lt.fromString(s.getAttribute("viewBox")||"0 0 0 0"),o=this.Js.board.geometryPrecision,l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.Wg=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){n.height=_this727["#viewbox-height-input"].value,null!==l&&(n.width=X(_this727["#viewbox-height-input"].value*l,o)),s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-height-input"].addEventListener("changeend",_i1137=function i(){_this727["#viewbox-height-input"].removeEventListener("change",e),_this727["#viewbox-height-input"].removeEventListener("changeend",_i1137),_this727.Wg=!1;});}},{key:"cf",value:function cf(){var t=this["#viewbox-lock-button"].toggled;this.Qs.setConfig("bx-viewgeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"pf",value:function pf(){var t=this.Js.board.outermostSelectedElements[0];this.Js.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.Qg?t.setAttribute("preserveAspectRatio",this.Qg):t.removeAttribute("preserveAspectRatio"):(this.Qg=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"uf",value:function uf(){var t=this.Js.board.outermostSelectedElements[0],e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s676=e;"none"!==_s676&&"slice"===i&&(_s676+=" slice"),t.setAttribute("preserveAspectRatio",_s676);}}},{key:"xf",value:function xf(){var t=this.Js.board.outermostSelectedElements[0],e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s677=e;"none"!==_s677&&"slice"===i&&(_s677+=" slice"),t.setAttribute("preserveAspectRatio",_s677);}}},{key:"qs",value:function qs(){var t=this.Js.board.outermostSelectedElements;if(1===t.length&&"view"===t[0].localName){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _e1253=t[0],_i1138=this.Nm.displayPrecision;{var _Lt$fromString7=Lt.fromString(_e1253.getAttribute("viewBox")||"0 0 0 0"),_t1771=_Lt$fromString7.x,_s678=_Lt$fromString7.y,_n479=_Lt$fromString7.width,_o382=_Lt$fromString7.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-lock-button"].disabled=!1,!1===this.jg&&(this["#viewbox-x-input"].value=X(_t1771,_i1138),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this.Hg&&(this["#viewbox-y-input"].value=X(_s678,_i1138),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.Yg&&(this["#viewbox-width-input"].value=X(_n479,_i1138),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.Wg&&(this["#viewbox-height-input"].value=X(_o382,_i1138),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}{var _t1772=_e1253.getAttribute("preserveAspectRatio")||"xMidYMid meet",_At$fromString6=At.fromString(_t1772),_i1139=_At$fromString6.align,_s679=_At$fromString6.meetOrSlice;"none"===_i1139?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1139,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s679,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return tm;}(ob);_defineProperty(tm,"_shadowTemplate",Hi(_templateObject365()));_defineProperty(tm,"_shadowStyleSheet",Yi(_templateObject366()));customElements.define("bx-viewgeometryinspector",tm);var em=/*#__PURE__*/function(_HTMLElement102){_inherits(em,_HTMLElement102);var _super154=_createSuper(em);_createClass(em,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"displaySpace",get:function get(){var t=this.Js.board;if("master"===t.currentWorkspace.getAttribute("data-bx-workspace")){if("viewport"===this["#space-buttons"].value){var _e1254=t.getComputedViewportWidth(),_i1140=t.getComputedViewportHeight();return _e1254&&_i1140?"viewport":"canvas";}return"canvas";}return"canvas";}},{key:"displayUnit",get:function get(){var t=this.displaySpace;if("canvas"===t)return"";if("viewport"===t){return this.Js.board.getComputedViewportWidth().unit;}}},{key:"displayPrecision",get:function get(){var t=this.displayUnit;return"px"===t||"pt"===t||"q"===t||""===t?1:"mm"===t?2:"cm"===t||"in"===t||"pc"===t?3:void 0;}}]);function em(){var _this728;_classCallCheck(this,em);_this728=_super154.call(this),_this728.wa=qi(_this728.qs,200,_assertThisInitialized(_this728)),_this728._shadowRoot=_this728.attachShadow({mode:"closed"}),_this728._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,em._shadowStyleSheet],_this728._shadowRoot.append(document.importNode(em._shadowTemplate.content,!0));var _iterator1178=_createForOfIteratorHelper(_this728._shadowRoot.querySelectorAll("[id]")),_step1178;try{for(_iterator1178.s();!(_step1178=_iterator1178.n()).done;){var _t1773=_step1178.value;_this728["#"+_t1773.id]=_t1773;}}catch(err){_iterator1178.e(err);}finally{_iterator1178.f();}_this728["#inspectors"].addEventListener("hiddenchange",function(){return _this728.wa();}),_this728["#space-buttons"].addEventListener("toggle",function(){return _this728.Xf();});return _this728;}_createClass(em,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this729=this;this.qs(),this["#space-buttons"].value=this.Qs.getConfig("bx-geometrypanel:space","canvas");var _iterator1179=_createForOfIteratorHelper(this["#inspectors"].children),_step1179;try{for(_iterator1179.s();!(_step1179=_iterator1179.n()).done;){var _t1774=_step1179.value;_t1774.enabled=!0;}}catch(err){_iterator1179.e(err);}finally{_iterator1179.f();}this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this729.wa();}),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this729.qs();}),this.Js.board.gridHud.addEventListener("selectedchange",this.zg=function(){_this729.qs();});}},{key:"sn",value:function sn(){var _iterator1180=_createForOfIteratorHelper(this["#inspectors"].children),_step1180;try{for(_iterator1180.s();!(_step1180=_iterator1180.n()).done;){var _t1775=_step1180.value;_t1775.enabled=!1;}}catch(err){_iterator1180.e(err);}finally{_iterator1180.f();}this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.gridHud.removeEventListener("selectedchange",this.zg);}},{key:"Xf",value:function Xf(){this.Qs.setConfig("bx-geometrypanel:space",this["#space-buttons"].value),this.dispatchEvent(new CustomEvent("spacebuttonstoggle"));}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements,i=t.gridHud.selected;{var _t1776=this["#inspectors"].querySelectorAll(":scope > *:not([hidden]):not(hr)"),_e1255=_t1776[_t1776.length-1],_i1141=this["#inspectors"].querySelectorAll(":scope > hr"),_s680=[];var _iterator1181=_createForOfIteratorHelper(_t1776),_step1181;try{for(_iterator1181.s();!(_step1181=_iterator1181.n()).done;){var _i1142=_step1181.value;_i1142.nextElementSibling&&_i1142!==_e1255&&_s680.push(_i1142.nextElementSibling);}}catch(err){_iterator1181.e(err);}finally{_iterator1181.f();}var _iterator1182=_createForOfIteratorHelper(_i1141),_step1182;try{for(_iterator1182.s();!(_step1182=_iterator1182.n()).done;){var _t1777=_step1182.value;_t1777.hidden=!1===_s680.includes(_t1777);}}catch(err){_iterator1182.e(err);}finally{_iterator1182.f();}}0===e.length&&!1===i?this["#footer"].hidden=!0:"master"===t.currentWorkspace.getAttribute("data-bx-workspace")&&null!==t.getComputedViewportWidth()&&null!==t.getComputedViewportHeight()?this["#footer"].hidden=!1:this["#footer"].hidden=!0;}}]);return em;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(em,"observedAttributes",["enabled"]);_defineProperty(em,"_shadowTemplate",Hi(_templateObject367()));_defineProperty(em,"_shadowStyleSheet",Yi(_templateObject368()));customElements.define("bx-geometrypanel",em);var im=/*#__PURE__*/function(_HTMLElement103){_inherits(im,_HTMLElement103);var _super155=_createSuper(im);_createClass(im,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function im(){var _this730;_classCallCheck(this,im);_this730=_super155.call(this),_this730.lr=qi(_this730.qs,500,_assertThisInitialized(_this730)),_this730._shadowRoot=_this730.attachShadow({mode:"closed"}),_this730._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,im._shadowStyleSheet],_this730._shadowRoot.append(document.importNode(im._shadowTemplate.content,!0));var _iterator1183=_createForOfIteratorHelper(_this730._shadowRoot.querySelectorAll("[id]")),_step1183;try{for(_iterator1183.s();!(_step1183=_iterator1183.n()).done;){var _t1778=_step1183.value;_this730["#"+_t1778.id]=_t1778;}}catch(err){_iterator1183.e(err);}finally{_iterator1183.f();}_this730["#title-input"].addEventListener("change",function(){return _this730.Zf();}),_this730["#desc-editor"].addEventListener("change",function(){return _this730.Kf();}),_this730["#language-select"].addEventListener("change",function(){return _this730.Qf();}),_this730["#role-select"].addEventListener("change",function(){return _this730.Jf();}),_this730["#tab-index-slider"].addEventListener("changestart",function(t){return _this730.tw(t);}),_this730["#tab-index-input"].addEventListener("changestart",function(t){return _this730.tw(t);}),_this730["#link-button"].addEventListener("toggle",function(t){return _this730.ew(t);}),_this730["#link-input"].addEventListener("change",function(){return _this730.iw();}),_this730["#link-target-checkbox"].addEventListener("toggle",function(){return _this730.sw();}),_this730["#id-input"].addEventListener("change",function(){return _this730.nw();}),_this730["#classes-input"].addEventListener("change",function(){return _this730.ow();}),_this730["#id-input"].validate=function(){var t=_this730["#id-input"].value.trim();""===t||Ni(t)?_this730["#id-input"].error=null:_this730["#id-input"].error="";};return _this730;}_createClass(im,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this731=this;var t=this.Js.board;this.qs(),t.addEventListener("selectedelementschange",this.Ko=function(){_this731.qs();}),t.addEventListener("workspacemutation",this.rn=function(){_this731.lr();});}},{key:"sn",value:function sn(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.Ko),t.removeEventListener("workspacemutation",this.rn);}},{key:"Zf",value:function Zf(){var t=this.Js.board,e=this["#title-input"].value.trim(),i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Title");var _iterator1184=_createForOfIteratorHelper(i),_step1184;try{for(_iterator1184.s();!(_step1184=_iterator1184.n()).done;){var _t1779=_step1184.value;var _i1143=_t1779.querySelector(":scope > bx-title");""===e?_i1143&&_i1143.remove():(null===_i1143&&(_i1143=Di("svg:bx-title"),_t1779.prepend(_i1143)),_i1143.innerHTML=e);}}catch(err){_iterator1184.e(err);}finally{_iterator1184.f();}}},{key:"Kf",value:function Kf(){var t=this.Js.board,e=this["#desc-editor"].value,i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Description");var _iterator1185=_createForOfIteratorHelper(i),_step1185;try{for(_iterator1185.s();!(_step1185=_iterator1185.n()).done;){var _t1780=_step1185.value;var _i1144=_t1780.querySelector(":scope > desc");""===e.trim()?_i1144&&_i1144.remove():(null===_i1144&&(_i1144=Di("svg:desc"),_t1780.prepend(_i1144)),_i1144.innerHTML=e);}}catch(err){_iterator1185.e(err);}finally{_iterator1185.f();}}},{key:"Qf",value:function Qf(){var t=this.Js.board,e=this["#language-select"].value,i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Language");var _iterator1186=_createForOfIteratorHelper(i),_step1186;try{for(_iterator1186.s();!(_step1186=_iterator1186.n()).done;){var _t1781=_step1186.value;""===e?_t1781.removeAttribute("lang"):_t1781.setAttribute("lang",e);var _iterator1187=_createForOfIteratorHelper(_t1781.querySelectorAll("[lang]")),_step1187;try{for(_iterator1187.s();!(_step1187=_iterator1187.n()).done;){var _e1256=_step1187.value;_e1256.removeAttribute("lang");}}catch(err){_iterator1187.e(err);}finally{_iterator1187.f();}}}catch(err){_iterator1186.e(err);}finally{_iterator1186.f();}}},{key:"Jf",value:function Jf(){var t=this.Js.board,e=this["#role-select"].value,i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Role");var _iterator1188=_createForOfIteratorHelper(i),_step1188;try{for(_iterator1188.s();!(_step1188=_iterator1188.n()).done;){var _t1782=_step1188.value;""===e?_t1782.removeAttribute("role"):_t1782.setAttribute("role",e);}}catch(err){_iterator1188.e(err);}finally{_iterator1188.f();}}},{key:"tw",value:function tw(t){var _this732=this;var e,_i1145,s=this.Js.board,n=t.target,o=[];s.outermostSelectedElements.length>0?o=_toConsumableArray(s.outermostSelectedElements):null===s.currentContainer&&(o=[s.currentWorkspace]),s.undoManager.checkpoint("Tab index"),n.addEventListener("change",e=function e(){if(n===_this732["#tab-index-input"]){var _t1783=X(_this732["#tab-index-input"].value,0);_this732["#tab-index-input"].value=_t1783,_this732["#tab-index-slider"].value=_t1783;}else n===_this732["#tab-index-slider"]&&(_this732["#tab-index-input"].value=_this732["#tab-index-slider"].value);var t=_this732["#tab-index-input"].value;var _iterator1189=_createForOfIteratorHelper(o),_step1189;try{for(_iterator1189.s();!(_step1189=_iterator1189.n()).done;){var _e1257=_step1189.value;-1===t?_e1257.removeAttribute("tabindex"):_e1257.setAttribute("tabindex",t);}}catch(err){_iterator1189.e(err);}finally{_iterator1189.f();}}),n.addEventListener("changeend",_i1145=function i(){n.removeEventListener("change",e),n.removeEventListener("changeend",_i1145);});}},{key:"ew",value:function ew(t){var e=this.Js.board;if(this["#link-button"].toggled){if(e.undoManager.checkpoint("Link"),this.Qs.modKeys.ctrl){var _t1784=_toConsumableArray(e.outermostSelectedElements);_t1784=Li(_t1784);var _i1146=[];var _iterator1190=_createForOfIteratorHelper(_t1784),_step1190;try{for(_iterator1190.s();!(_step1190=_iterator1190.n()).done;){var _e1258=_step1190.value;var _t1785=Di("svg:a");_e1258.after(_t1785),_t1785.append(_e1258),_i1146.push(_t1785);}}catch(err){_iterator1190.e(err);}finally{_iterator1190.f();}e.selectedElements=_i1146;}else{var _t1786=document.createDocumentFragment(),_i1147=_toConsumableArray(e.outermostSelectedElements),_s681=Di("svg:a");_i1147[0].after(_s681),_i1147=Li(_i1147);var _iterator1191=_createForOfIteratorHelper(_i1147),_step1191;try{for(_iterator1191.s();!(_step1191=_iterator1191.n()).done;){var _e1259=_step1191.value;var _i1148=Nt(_e1259,_s681);_e1259.setAttribute("transform",_i1148.toString()),_t1786.append(_e1259);}}catch(err){_iterator1191.e(err);}finally{_iterator1191.f();}_s681.append(_t1786);var _iterator1192=_createForOfIteratorHelper(_s681.children),_step1192;try{for(_iterator1192.s();!(_step1192=_iterator1192.n()).done;){var _t1787=_step1192.value;uh(_t1787,{geometryPrecision:e.geometryPrecision,transformPrecision:e.transformPrecision});}}catch(err){_iterator1192.e(err);}finally{_iterator1192.f();}e.selectedElements=[_s681];}}else{e.undoManager.checkpoint("Unlink");var _t1788=_toConsumableArray(e.outermostSelectedElements),_i1149=[];var _iterator1193=_createForOfIteratorHelper(_t1788),_step1193;try{for(_iterator1193.s();!(_step1193=_iterator1193.n()).done;){var _s682=_step1193.value;if("a"===_s682.localName){var _t1789=_s682,_n480=document.createDocumentFragment();for(var _i1150=0,_arr44=_toConsumableArray(_t1789.children);_i1150<_arr44.length;_i1150++){var _s683=_arr44[_i1150];if("title"!==_s683.localName&&"desc"!==_s683.localName){if(e.isSelectableElement(_s683)){var _n481=Nt(_s683,_t1789.parentElement);_s683.setAttribute("transform",_n481.toString()),uh(_s683,{geometryPrecision:e.geometryPrecision,transformPrecision:e.transformPrecision}),_i1149.push(_s683);}var _iterator1194=_createForOfIteratorHelper(_t1789.attributes),_step1194;try{for(_iterator1194.s();!(_step1194=_iterator1194.n()).done;){var _step1194$value=_step1194.value,_e1260=_step1194$value.name,_i1151=_step1194$value.value;G.includes(_e1260)&&!1===_s683.hasAttribute(_e1260)&&_s683.setAttribute(_e1260,_i1151);}}catch(err){_iterator1194.e(err);}finally{_iterator1194.f();}var _iterator1195=_createForOfIteratorHelper(_t1789.style),_step1195;try{for(_iterator1195.s();!(_step1195=_iterator1195.n()).done;){var _e1261=_step1195.value;var _i1152=_t1789.style.getPropertyValue(_e1261);""===_s683.style.getPropertyValue(_e1261)&&_s683.style.setProperty(_e1261,_i1152);}}catch(err){_iterator1195.e(err);}finally{_iterator1195.f();}_n480.append(_s683);}}_t1789.before(_n480),_t1789.remove();}else _i1149.push(_s682);}}catch(err){_iterator1193.e(err);}finally{_iterator1193.f();}e.selectedElements=[].concat(_i1149);}}},{key:"iw",value:function iw(){this.Js.board.undoManager.checkpoint("Link URL");var t=this["#link-input"].value.trim();var _iterator1196=_createForOfIteratorHelper(this.Js.board.outermostSelectedElements),_step1196;try{for(_iterator1196.s();!(_step1196=_iterator1196.n()).done;){var _e1262=_step1196.value;"a"===_e1262.localName&&(0===t.length?_e1262.removeAttribute("_href"):_e1262.setAttribute("_href",t));}}catch(err){_iterator1196.e(err);}finally{_iterator1196.f();}}},{key:"sw",value:function sw(){this.Js.board.undoManager.checkpoint("Link target");var _iterator1197=_createForOfIteratorHelper(this.Js.board.outermostSelectedElements),_step1197;try{for(_iterator1197.s();!(_step1197=_iterator1197.n()).done;){var _t1790=_step1197.value;"a"===_t1790.localName&&(this["#link-target-checkbox"].toggled?(_t1790.setAttribute("target","_blank"),_t1790.setAttribute("rel","noreferrer")):(_t1790.removeAttribute("target"),_t1790.removeAttribute("rel")));}}catch(err){_iterator1197.e(err);}finally{_iterator1197.f();}}},{key:"nw",value:function nw(){if(null===this["#id-input"].error){var _t1791=this.Js.board,_e1263=_t1791.outermostSelectedElements[0]||_t1791.currentWorkspace,_i1153=_e1263.id,_s684=this["#id-input"].value.trim();if(_i1153!==_s684){_t1791.undoManager.checkpoint("ID"),""===_s684?_e1263.removeAttribute("id"):_e1263.setAttribute("id",_s684);{var _e1264=document.createNodeIterator(_t1791.workspaces,NodeFilter.SHOW_ELEMENT),_n482=null;for(;_n482=_e1264.nextNode();){_n482.href&&_n482.href.baseVal==="#"+_i1153&&(""===_s684?_n482.removeAttribute("href"):_n482.setAttribute("href","#"+_s684));for(var _i1154=0,_arr45=["fill","stroke"];_i1154<_arr45.length;_i1154++){var _t1792=_arr45[_i1154];var _e1265=getComputedStyle(_n482).getPropertyValue(_t1792);if(_e1265&&_e1265.startsWith("url(")){_e1265.substring(6,_e1265.length-2)===_i1153&&(""===_s684?_n482.style.removeProperty(_t1792):_n482.style.setProperty(_t1792,"url(#".concat(_s684,")")));}}}}}}}},{key:"ow",value:function ow(){var t=this.Js.board,e=this["#classes-input"].value,i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Class");var _iterator1198=_createForOfIteratorHelper(i),_step1198;try{for(_iterator1198.s();!(_step1198=_iterator1198.n()).done;){var _t1793=_step1198.value;0===e.length?_t1793.removeAttribute("class"):_t1793.setAttribute("class",e.join(" "));}}catch(err){_iterator1198.e(err);}finally{_iterator1198.f();}}},{key:"qs",value:function qs(){var t=this.Js.board,e=[];t.outermostSelectedElements.length>0?e=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(e=[t.currentWorkspace]);{var _t1794="",_i1155=!1;if(e.length>0){var _e1266=e,_e1267=_toArray(_e1266),_s685=_e1267[0],_n483=_e1267.slice(1),_o383=_s685.querySelector(":scope > bx-title");_o383&&(_t1794=_o383.innerHTML);var _iterator1199=_createForOfIteratorHelper(_n483),_step1199;try{for(_iterator1199.s();!(_step1199=_iterator1199.n()).done;){var _e1268=_step1199.value;var _s686=_e1268.querySelector(":scope > bx-title");if(_s686&&_s686.innerHTML!==_t1794){_i1155=!0;break;}}}catch(err){_iterator1199.e(err);}finally{_iterator1199.f();}}this["#title-heading"].disabled=0===e.length,this["#title-input"].value=_t1794,this["#title-input"].mixed=_i1155,this["#title-input"].disabled=0===e.length;}{var _t1795="",_i1156=!1;if(e.length>0){var _e1269=e,_e1270=_toArray(_e1269),_s687=_e1270[0],_n484=_e1270.slice(1),_o384=_s687.querySelector(":scope > desc");_o384&&(_t1795=_o384.innerHTML);var _iterator1200=_createForOfIteratorHelper(_n484),_step1200;try{for(_iterator1200.s();!(_step1200=_iterator1200.n()).done;){var _e1271=_step1200.value;var _s688=_e1271.querySelector(":scope > desc");if(_s688&&_s688.innerHTML!==_t1795){_i1156=!0;break;}}}catch(err){_iterator1200.e(err);}finally{_iterator1200.f();}}this["#desc-heading"].disabled=0===e.length,this["#desc-editor"].value=_t1795,this["#desc-editor"].mixed=_i1156,this["#desc-editor"].disabled=0===e.length;}{var _t1796="",_i1157=!1;if(e.length>0){var _e1272=e,_e1273=_toArray(_e1272),_s689=_e1273[0],_n485=_e1273.slice(1),_this$lw=this.lw(_s689),_this$lw2=_slicedToArray(_this$lw,2),_o385=_this$lw2[0],_l320=_this$lw2[1];if(_t1796=_o385,_i1157=_l320,!1===_i1157){var _iterator1201=_createForOfIteratorHelper(_n485),_step1201;try{for(_iterator1201.s();!(_step1201=_iterator1201.n()).done;){var _t1797=_step1201.value;var _this$lw3=this.lw(_t1797),_this$lw4=_slicedToArray(_this$lw3,2),_e1274=_this$lw4[0],_s690=_this$lw4[1];if(_e1274!==_o385||_s690){_i1157=!0;break;}}}catch(err){_iterator1201.e(err);}finally{_iterator1201.f();}}}this["#language-heading"].disabled=0===e.length,this["#language-select"].value=_t1796,this["#language-select"].mixed=_i1157,this["#language-select"].disabled=0===e.length;}{var _t1798="",_i1158=!1;if(e.length>0){var _e1275=e,_e1276=_toArray(_e1275),_s691=_e1276[0],_n486=_e1276.slice(1);_t1798=_s691.getAttribute("role")||"";var _iterator1202=_createForOfIteratorHelper(_n486),_step1202;try{for(_iterator1202.s();!(_step1202=_iterator1202.n()).done;){var _e1277=_step1202.value;if((_e1277.getAttribute("role")||"")!==_t1798){_i1158=!0;break;}}}catch(err){_iterator1202.e(err);}finally{_iterator1202.f();}}this["#role-heading"].disabled=0===e.length,this["#role-select"].value=_t1798,this["#role-select"].mixed=_i1158,this["#role-select"].disabled=0===e.length;}{var _t1799=-1,_i1159=!1;if(e.length>0){var _e1278=e,_e1279=_toArray(_e1278),_s692=_e1279[0],_n487=_e1279.slice(1);_t1799=_s692.tabIndex;var _iterator1203=_createForOfIteratorHelper(_n487),_step1203;try{for(_iterator1203.s();!(_step1203=_iterator1203.n()).done;){var _t1800=_step1203.value;if(_t1800.tabIndex!==_s692.tabIndex){_i1159=!0;break;}}}catch(err){_iterator1203.e(err);}finally{_iterator1203.f();}}this["#tab-index-heading"].disabled=0===e.length,this["#tab-index-slider"].value=_t1799,this["#tab-index-slider"].disabled=0===e.length,this["#tab-index-input"].value=_t1799,this["#tab-index-input"].mixed=_i1159,this["#tab-index-input"].disabled=0===e.length;}{var _t1801=_toConsumableArray(this.Js.board.outermostSelectedObjectElements);if(0===_t1801.length)this["#link-section-heading"].disabled=!0,this["#link-button"].disabled=!0,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1;else if(1===_t1801.length){var _e1280=_t1801[0];"a"===_e1280.localName?(this["#link-section-heading"].disabled=!1,this["#link-button"].disabled=!1,this["#link-button"].toggled=!0,this["#link-input"].disabled=!1,this["#link-input"].value=_e1280.hasAttribute("_href")?_e1280.getAttribute("_href"):"",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!1,this["#link-target-checkbox"].toggled=_e1280.hasAttribute("target"),this["#link-target-checkbox"].mixed=!1):_e1280.closest("a")||_e1280.querySelector("a")?(this["#link-section-heading"].disabled=!0,this["#link-button"].disabled=!0,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1):(this["#link-section-heading"].disabled=!1,this["#link-button"].disabled=!1,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1);}else{var _e1281=_t1801.filter(function(t){return"a"===t.localName;}),_i1160=_t1801.filter(function(t){return"a"!==t.localName;}),_s693=_i1160.filter(function(t){return t.closest("a")||t.querySelector("a");});_i1160.length>0&&0===_e1281.length&&0===_s693.length?(this["#link-section-heading"].disabled=!1,this["#link-button"].disabled=!1,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1):_e1281.length>0&&0===_i1160.length&&0===_s693.length?(this["#link-section-heading"].disabled=!1,this["#link-button"].disabled=!1,this["#link-button"].toggled=!0,this["#link-input"].disabled=!1,this["#link-input"].value=_t1801[0].hasAttribute("_href")?_t1801[0].getAttribute("_href"):"",this["#link-input"].mixed=void 0!==_t1801.find(function(e){return e.getAttribute("_href")!==_t1801[0].getAttribute("_href");}),this["#link-target-checkbox"].disabled=!1,this["#link-target-checkbox"].toggled="_blank"===_t1801[0].getAttribute("target"),this["#link-target-checkbox"].mixed=void 0!==_t1801.find(function(e){return e.getAttribute("target")!==_t1801[0].getAttribute("target");})):(this["#link-section-heading"].disabled=!0,this["#link-button"].disabled=!0,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1);}}{var _t1802="",_i1161=!1;if(e.length>0){var _e1282=e,_e1283=_toArray(_e1282),_s694=_e1283[0],_n488=_e1283.slice(1);_t1802=_s694.id;var _iterator1204=_createForOfIteratorHelper(_n488),_step1204;try{for(_iterator1204.s();!(_step1204=_iterator1204.n()).done;){var _t1803=_step1204.value;if(_t1803.id!==_s694.id){_i1161=!0;break;}}}catch(err){_iterator1204.e(err);}finally{_iterator1204.f();}}this["#id-heading"].disabled=1!==e.length,this["#id-input"].value=_t1802,this["#id-input"].mixed=_i1161,this["#id-input"].disabled=1!==e.length;}{var _t1804=[],_i1162=!1;if(e.length>0){var _e1284=e,_e1285=_toArray(_e1284),_s695=_e1285[0],_n489=_e1285.slice(1),_o386=_toConsumableArray(_s695.classList);_t1804=_o386;var _iterator1205=_createForOfIteratorHelper(_n489),_step1205;try{for(_iterator1205.s();!(_step1205=_iterator1205.n()).done;){var _t1805=_step1205.value;var _e1286=_toConsumableArray(_t1805.classList);if(!1===Qe(_o386,_e1286)){_i1162=!0;break;}}}catch(err){_iterator1205.e(err);}finally{_iterator1205.f();}}if(!1===Qe(_t1804,this["#classes-input"].value)){var _e1287="";var _iterator1206=_createForOfIteratorHelper(_t1804),_step1206;try{for(_iterator1206.s();!(_step1206=_iterator1206.n()).done;){var _i1163=_step1206.value;_e1287+="\n            <x-tag value=\"".concat(_i1163,"\">\n              <x-label>").concat(_i1163,"</x-label>\n            </x-tag>\n          ");}}catch(err){_iterator1206.e(err);}finally{_iterator1206.f();}this["#classes-input"].innerHTML=_e1287;}this["#classes-heading"].disabled=0===e.length,this["#classes-input"].mixed=_i1162,this["#classes-input"].disabled=0===e.length;}this["#accessibility-heading"].disabled=this["#title-heading"].disabled&&this["#desc-heading"].disabled&&this["#language-heading"].disabled&&this["#role-heading"].disabled&&this["#tab-index-heading"].disabled,this["#scripting-heading"].disabled=this["#id-heading"].disabled&&this["#classes-heading"].disabled,this["#panel-heading"].disabled=this["#accessibility-heading"].disabled&&this["#scripting-heading"].disabled;}},{key:"lw",value:function lw(t){var e="",i=!1,s=this.Js.board.workspaces;for(var _i1164=t;_i1164!==s;_i1164=_i1164.parentElement){if(_i1164.hasAttribute("lang")){e=_i1164.getAttribute("lang").trim();break;}}var _iterator1207=_createForOfIteratorHelper(t.querySelectorAll("*[lang]")),_step1207;try{for(_iterator1207.s();!(_step1207=_iterator1207.n()).done;){var _s696=_step1207.value;_s696.getAttribute("lang").trim()!==e&&(i=!0);}}catch(err){_iterator1207.e(err);}finally{_iterator1207.f();}return[e,i];}}]);return im;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(im,"observedAttributes",["enabled"]);_defineProperty(im,"_shadowTemplate",Hi(_templateObject369()));_defineProperty(im,"_shadowStyleSheet",Yi(_templateObject370()));customElements.define("bx-metapanel",im);var sm=/*#__PURE__*/function(_HTMLElement104){_inherits(sm,_HTMLElement104);var _super156=_createSuper(sm);_createClass(sm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function sm(){var _this733;_classCallCheck(this,sm);_this733=_super156.call(this),_this733.wa=qi(_this733.qs,200,_assertThisInitialized(_this733)),_this733._shadowRoot=_this733.attachShadow({mode:"closed"}),_this733._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,sm._shadowStyleSheet],_this733._shadowRoot.append(document.importNode(sm._shadowTemplate.content,!0));var _iterator1208=_createForOfIteratorHelper(_this733._shadowRoot.querySelectorAll("[id]")),_step1208;try{for(_iterator1208.s();!(_step1208=_iterator1208.n()).done;){var _t1806=_step1208.value;_this733["#"+_t1806.id]=_t1806;}}catch(err){_iterator1208.e(err);}finally{_iterator1208.f();}_this733["#reorient-button"].addEventListener("click",function(){return _this733.Qs.execCommand("reorient");}),_this733["#reverse-button"].addEventListener("click",function(){return _this733.Qs.execCommand("reverse");}),_this733["#shape-to-path-button"].addEventListener("click",function(){return _this733.Qs.execCommand("shapeToPath");}),_this733["#stroke-to-path-button"].addEventListener("click",function(){return _this733.Qs.execCommand("strokeToPath");}),_this733["#unite-button"].addEventListener("click",function(t){return _this733.Qs.execCommand("unite");}),_this733["#intersect-button"].addEventListener("click",function(t){return _this733.Qs.execCommand("intersect");}),_this733["#subtract-button"].addEventListener("click",function(t){return _this733.Qs.execCommand("subtract");}),_this733["#exclude-button"].addEventListener("click",function(t){return _this733.Qs.execCommand("exclude");}),_this733["#join-paths-button"].addEventListener("click",function(){return _this733.Qs.execCommand("joinPaths");}),_this733["#split-path-button"].addEventListener("click",function(){return _this733.Qs.execCommand("splitPath");}),_this733["#close-path-button"].addEventListener("click",function(){return _this733.Qs.execCommand("closePath");}),_this733["#open-path-button"].addEventListener("click",function(){return _this733.Qs.execCommand("openPath");}),_this733["#inset-path-button"].addEventListener("click",function(){return _this733.Qs.execCommand("insetPath");}),_this733["#outset-path-button"].addEventListener("click",function(){return _this733.Qs.execCommand("outsetPath");}),_this733["#simplify-path-button"].addEventListener("click",function(){return _this733.Qs.execCommand("simplifyPath");}),_this733["#complexify-path-button"].addEventListener("click",function(){return _this733.Qs.execCommand("complexifyPath");}),_this733["#join-nodes-button"].addEventListener("click",function(){return _this733.Qs.execCommand("joinNodes");}),_this733["#split-node-button"].addEventListener("click",function(){return _this733.Qs.execCommand("splitNode");}),_this733["#delete-node-button"].addEventListener("click",function(){return _this733.Qs.execCommand("deleteNode");}),_this733["#break-node-button"].addEventListener("click",function(){return _this733.Qs.execCommand("breakNode");});return _this733;}_createClass(sm,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ti(this,"bx-editor"),this.Qs=Ti(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this734=this;this.qs();var t=this.Js.board;t.addEventListener("selectedelementschange",this.Ko=function(){_this734.Qo();}),t.addEventListener("workspacemutation",this.rn=function(t){_this734.il(t.detail);}),t.pathHud.addEventListener("selectednodeschange",this.yf=function(){_this734.qs();});}},{key:"sn",value:function sn(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.Ko),t.removeEventListener("workspacemutation",this.rn),t.pathHud.removeEventListener("selectednodeschange",this.yf);}},{key:"Qo",value:function Qo(){this.wa();}},{key:"il",value:function il(t){this.wa();}},{key:"qs",value:function qs(){{var _t1807=this.Qs.isCommandEnabled("reorient"),_e1288=this.Qs.isCommandEnabled("reverse");this["#reorient-button"].disabled=!_t1807,this["#reverse-button"].disabled=!_e1288;}{var _t1808=this.Qs.isCommandEnabled("shapeToPath"),_e1289=this.Qs.isCommandEnabled("strokeToPath");this["#shape-to-path-button"].disabled=!_t1808,this["#stroke-to-path-button"].disabled=!_e1289,this["#convert-section-heading"].disabled=!(_e1289||_t1808);}{var _t1809=this.Qs.isCommandEnabled("unite"),_e1290=this.Qs.isCommandEnabled("subtract"),_i1165=this.Qs.isCommandEnabled("intersect"),_s697=this.Qs.isCommandEnabled("exclude");this["#unite-button"].disabled=!_t1809,this["#subtract-button"].disabled=!_e1290,this["#intersect-button"].disabled=!_i1165,this["#exclude-button"].disabled=!_s697,this["#boolops-section-heading"].disabled=!(_t1809||_e1290||_i1165||_s697);}{var _t1810=this.Qs.isCommandEnabled("openPath"),_e1291=this.Qs.isCommandEnabled("closePath"),_i1166=this.Qs.isCommandEnabled("joinPaths"),_s698=this.Qs.isCommandEnabled("splitPath"),_n490=this.Qs.isCommandEnabled("insetPath"),_o387=this.Qs.isCommandEnabled("outsetPath"),_l321=this.Qs.isCommandEnabled("simplifyPath"),_h239=this.Qs.isCommandEnabled("complexifyPath");this["#open-path-button"].disabled=!_t1810,this["#close-path-button"].disabled=!_e1291,this["#join-paths-button"].disabled=!_i1166,this["#split-path-button"].disabled=!_s698,this["#inset-path-button"].disabled=!_n490,this["#outset-path-button"].disabled=!_o387,this["#simplify-path-button"].disabled=!_l321,this["#complexify-path-button"].disabled=!_h239,this["#path-section-heading"].disabled=!(_t1810||_e1291||_i1166||_s698||_n490||_o387||_l321||_h239);}{var _t1811=this.Qs.isCommandEnabled("joinNodes"),_e1292=this.Qs.isCommandEnabled("splitNode"),_i1167=this.Qs.isCommandEnabled("deleteNode"),_s699=this.Qs.isCommandEnabled("breakNode");this["#join-nodes-button"].disabled=!_t1811,this["#split-node-button"].disabled=!_e1292,this["#delete-node-button"].disabled=!_i1167,this["#break-node-button"].disabled=!_s699,this["#node-section-heading"].disabled=!(_t1811||_e1292||_i1167||_s699);}this["#panel-heading"].disabled=null===this._shadowRoot.querySelector("x-button:not([disabled]");}}]);return sm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(sm,"observedAttributes",["enabled"]);_defineProperty(sm,"_shadowTemplate",Hi(_templateObject371()));_defineProperty(sm,"_shadowStyleSheet",Yi(_templateObject372()));customElements.define("bx-shapepanel",sm);var nm=/*#__PURE__*/function(_HTMLElement105){_inherits(nm,_HTMLElement105);var _super157=_createSuper(nm);_createClass(nm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function nm(){var _this735;_classCallCheck(this,nm);_this735=_super157.call(this),_this735.hw=qi(_this735.qs,250,_assertThisInitialized(_this735)),_this735.aw=qi(_this735.qs,2e3,_assertThisInitialized(_this735)),_this735._shadowRoot=_this735.attachShadow({mode:"closed"}),_this735._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,nm._shadowStyleSheet],_this735._shadowRoot.append(document.importNode(nm._shadowTemplate.content,!0));var _iterator1209=_createForOfIteratorHelper(_this735._shadowRoot.querySelectorAll("[id]")),_step1209;try{for(_iterator1209.s();!(_step1209=_iterator1209.n()).done;){var _t1812=_step1209.value;_this735["#"+_t1812.id]=_t1812;}}catch(err){_iterator1209.e(err);}finally{_iterator1209.f();}_this735["#align-to-select"].addEventListener("change",function(){return _this735.rw();}),_this735["#align-as-group-button"].addEventListener("toggle",function(){return _this735.dw();}),_this735["#align-buttons"].addEventListener("click",function(t){return _this735.cw(t);}),_this735["#rotate-buttons"].addEventListener("click",function(t){return _this735.pw(t);}),_this735["#flip-buttons"].addEventListener("click",function(t){return _this735.uw(t);}),_this735["#transform-buttons"].addEventListener("click",function(t){return _this735.xw(t);}),_this735["#order-buttons-1"].addEventListener("click",function(t){return _this735.bw(t);}),_this735["#order-buttons-2"].addEventListener("click",function(t){return _this735.bw(t);}),_this735["#group-buttons"].addEventListener("click",function(t){return _this735.mw(t);}),_this735["#distance-buttons"].addEventListener("toggle",function(){return _this735.gw();}),_this735["#distribute-buttons-box"].addEventListener("click",function(t){return _this735.fw(t);});return _this735;}_createClass(nm,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this736=this;var t=this.Js.board;this.Qs.addEventListener("modkeyschange",this.ja=function(){return _this736.Id();}),t.addEventListener("selectedelementschange",this.Ko=function(){return _this736.qs();}),t.addEventListener("workspacemutation",this.rn=function(){return _this736.il();}),this.ww=this.Qs.getConfig("bx-arrangementpanel:alignTo","default-view"),this.yw=this.Qs.getConfig("bx-arrangementpanel:alignAsGroup",!0),this.kw=this.Qs.getConfig("bx-arrangementpanel:distance","auto"),"view-box"===this.ww&&(this.ww="nearest-view"),this.qs();}},{key:"sn",value:function sn(){var t=this.Js.board;this.Qs.removeEventListener("modkeyschange",this.ja),t.removeEventListener("selectedelementschange",this.Ko),t.removeEventListener("workspacemutation",this.rn);}},{key:"il",value:function il(){this.Qs.isPointerDown?this.aw():this.hw();}},{key:"Id",value:function Id(){var t=this.Qs.modKeys.shift?"outside":"inside";this["#move-buttons"].setAttribute("data-side",t);var _iterator1210=_createForOfIteratorHelper(this["#move-buttons"].querySelectorAll("x-button")),_step1210;try{for(_iterator1210.s();!(_step1210=_iterator1210.n()).done;){var _e1293=_step1210.value;_e1293.value="outside"===t?_e1293.value.replace("inside","outside"):_e1293.value.replace("outside","inside");}}catch(err){_iterator1210.e(err);}finally{_iterator1210.f();}}},{key:"rw",value:function rw(){this.ww=this["#align-to-select"].value,this.Qs.setConfig("bx-arrangementpanel:alignTo",this.ww),this.qs();}},{key:"dw",value:function dw(){this.yw=this["#align-as-group-button"].toggled,this.Qs.setConfig("bx-arrangementpanel:alignAsGroup",this.yw),this.qs();}},{key:"cw",value:function cw(t){var e=t.target.closest("x-button");if(e){var _t1813=this.Js.board,_i1168=this["#align-to-select"].value,_s700=this["#align-as-group-button"].toggled;if(_t1813.undoManager.checkpoint("Align"),"default-view"===_i1168){var _i1169=Vt(_t1813.vectorCanvas),_n491=Lt.fromString(_t1813.currentWorkspace.getAttribute("viewBox")).toRect(),_o388=Fe(_n491,_i1169);this.Sw(_t1813.outermostSelectedObjectElements,_o388,e.value,_s700);}else if("nearest-view"===_i1168){var _i1170=Vt(_t1813.vectorCanvas),_n492=[Lt.fromString(_t1813.currentWorkspace.getAttribute("viewBox")).toRect()];var _iterator1211=_createForOfIteratorHelper(_t1813.currentWorkspace.querySelectorAll(":scope > view, :scope > defs > view")),_step1211;try{for(_iterator1211.s();!(_step1211=_iterator1211.n()).done;){var _e1294=_step1211.value;_n492.push(Lt.fromString(_e1294.getAttribute("viewBox")).toRect());}}catch(err){_iterator1211.e(err);}finally{_iterator1211.f();}if(!0===_s700||1===_t1813.outermostSelectedObjectElements){var _o389=Ue(_t1813.outermostSelectedObjectElements.map(function(t){return Ci(t);}));_o389=Fe(_o389,_i1170.inverse());var _l322=He(_n492,_o389),_h240=Fe(_l322,_i1170);this.Sw(_t1813.outermostSelectedObjectElements,_h240,e.value,_s700);}else{var _iterator1212=_createForOfIteratorHelper(_t1813.outermostSelectedObjectElements),_step1212;try{for(_iterator1212.s();!(_step1212=_iterator1212.n()).done;){var _s701=_step1212.value;var _t1814=Fe(Ci(_s701),_i1170.inverse()),_o390=He(_n492,_t1814),_l323=Fe(_o390,_i1170);this.Sw([_s701],_l323,e.value,!1);}}catch(err){_iterator1212.e(err);}finally{_iterator1212.f();}}}else if("first-selected"===_i1168){var _t1813$outermostSelec=_toArray(_t1813.outermostSelectedObjectElements),_i1171=_t1813$outermostSelec[0],_n493=_t1813$outermostSelec.slice(1),_o391=Ci(_i1171);this.Sw(_n493,_o391,e.value,_s700);}else if("last-selected"===_i1168){var _reverse=_toConsumableArray(_t1813.outermostSelectedObjectElements).reverse(),_reverse2=_toArray(_reverse),_i1172=_reverse2[0],_n494=_reverse2.slice(1),_o392=Ci(_i1172);this.Sw(_n494,_o392,e.value,_s700);}else if("selection"===_i1168){Vt(_t1813.vectorCanvas);var _i1173=Ue(_t1813.outermostSelectedObjectElements.map(function(t){return Ci(t);}));this.Sw(_t1813.outermostSelectedObjectElements,_i1173,e.value,!1);}}}},{key:"pw",value:function pw(t){var e=t.target.closest("x-button");e&&this.Qs.execCommand(e.value);}},{key:"uw",value:function uw(t){var e=t.target.closest("x-button");e&&this.Qs.execCommand(e.value);}},{key:"xw",value:function xw(t){var e=t.target.closest("x-button");e&&this.Qs.execCommand(e.value);}},{key:"bw",value:function bw(t){var e=t.target.closest("x-button");e&&this.Qs.execCommand(e.value);}},{key:"mw",value:function mw(t){var e=t.target.closest("x-button");e&&this.Qs.execCommand(e.value);}},{key:"gw",value:function gw(){"auto"===this["#distance-buttons"].value&&(this["#distance-input"].value=0),this.kw=this["#distance-buttons"].value,this.Qs.setConfig("bx-arrangementpanel:distance",this.kw),this.qs();}},{key:"fw",value:function fw(t){var e=t.target.closest("x-button");if(e){var _t1815=this.Js.board,_i1174=_toConsumableArray(_t1815.outermostSelectedObjectElements),_s702=Symbol();var _iterator1213=_createForOfIteratorHelper(_i1174),_step1213;try{for(_iterator1213.s();!(_step1213=_iterator1213.n()).done;){var _t1818=_step1213.value;_t1818[_s702]=Ci(_t1818);}}catch(err){_iterator1213.e(err);}finally{_iterator1213.f();}if(_t1815.undoManager.checkpoint("Distribute"),"horizontal"===e.value){_i1174.sort(function(t,e){var i=t[_s702],n=e[_s702];return i.x+i.width/2-(n.x+n.width/2);});var _e1295=_i1174.map(function(t){return t[_s702];}),_n495=Ue(_e1295).width;var _iterator1214=_createForOfIteratorHelper(_i1174),_step1214;try{for(_iterator1214.s();!(_step1214=_iterator1214.n()).done;){var _t1816=_step1214.value;_n495-=_t1816[_s702].width;}}catch(err){_iterator1214.e(err);}finally{_iterator1214.f();}if(_n495<=0||"manual"===this["#distance-buttons"].value){var _e1296=0;"manual"===this["#distance-buttons"].value&&(_e1296=this["#distance-input"].value*this.Js.board.scale);var _n496=_i1174[0],_o393=null;var _iterator1215=_createForOfIteratorHelper(_i1174),_step1215;try{for(_iterator1215.s();!(_step1215=_iterator1215.n()).done;){var _l324=_step1215.value;if(_l324!==_n496){var _i1175=Ut(_l324),_n497=Vt(_l324),_h241=_n497.inverse(),_a196=-(_l324[_s702].left-_o393[_s702].right)+_e1296,_r129=_i1175.multiply(_h241);_r129.translateSelf(_a196,0),_r129.multiplySelf(_n497),_l324.setAttribute("transform",_r129.toString()),uh(_l324,{geometryPrecision:_t1815.geometryPrecision,transformPrecision:_t1815.transformPrecision}),_l324[_s702]=Ci(_l324);}_o393=_l324;}}catch(err){_iterator1215.e(err);}finally{_iterator1215.f();}}else{var _e1297=_i1174[0],_o394=_i1174[_i1174.length-1],_l325=null,_h242=_n495/(_i1174.length-1);var _iterator1216=_createForOfIteratorHelper(_i1174),_step1216;try{for(_iterator1216.s();!(_step1216=_iterator1216.n()).done;){var _n498=_step1216.value;if(_n498!==_e1297&&_n498!==_o394){var _e1298=Ut(_n498),_i1176=Vt(_n498),_o395=_i1176.inverse(),_a197=-(_n498[_s702].left-_l325[_s702].right)+_h242,_r130=_e1298.multiply(_o395);_r130.translateSelf(_a197,0),_r130.multiplySelf(_i1176),_n498.setAttribute("transform",_r130.toString()),uh(_n498,{geometryPrecision:_t1815.geometryPrecision,transformPrecision:_t1815.transformPrecision}),_n498[_s702]=Ci(_n498);}_l325=_n498;}}catch(err){_iterator1216.e(err);}finally{_iterator1216.f();}}}else if("vertical"===e.value){_i1174.sort(function(t,e){var i=t[_s702],n=e[_s702];return i.y+i.height/2-(n.y+n.height/2);});var _e1299=_i1174.map(function(t){return t[_s702];}),_n499=Ue(_e1299).height;var _iterator1217=_createForOfIteratorHelper(_i1174),_step1217;try{for(_iterator1217.s();!(_step1217=_iterator1217.n()).done;){var _t1817=_step1217.value;_n499-=_t1817[_s702].height;}}catch(err){_iterator1217.e(err);}finally{_iterator1217.f();}if(_n499<=0||"manual"===this["#distance-buttons"].value){var _e1300=0;"manual"===this["#distance-buttons"].value&&(_e1300=this["#distance-input"].value*this.Js.board.scale);var _n500=_i1174[0],_o396=null;var _iterator1218=_createForOfIteratorHelper(_i1174),_step1218;try{for(_iterator1218.s();!(_step1218=_iterator1218.n()).done;){var _l326=_step1218.value;if(_l326!==_n500){var _i1177=Ut(_l326),_n501=Vt(_l326),_h243=_n501.inverse(),_a198=-(_l326[_s702].top-_o396[_s702].bottom)+_e1300,_r131=_i1177.multiply(_h243);_r131.translateSelf(0,_a198),_r131.multiplySelf(_n501),_l326.setAttribute("transform",_r131.toString()),uh(_l326,{geometryPrecision:_t1815.geometryPrecision,transformPrecision:_t1815.transformPrecision}),_l326[_s702]=Ci(_l326);}_o396=_l326;}}catch(err){_iterator1218.e(err);}finally{_iterator1218.f();}}else{var _e1301=_i1174[0],_o397=_i1174[_i1174.length-1],_l327=null,_h244=_n499/(_i1174.length-1);var _iterator1219=_createForOfIteratorHelper(_i1174),_step1219;try{for(_iterator1219.s();!(_step1219=_iterator1219.n()).done;){var _n502=_step1219.value;if(_n502!==_e1301&&_n502!==_o397){var _e1302=Ut(_n502),_i1178=Vt(_n502),_o398=_i1178.inverse(),_a199=-(_n502[_s702].top-_l327[_s702].bottom)+_h244,_r132=_e1302.multiply(_o398);_r132.translateSelf(0,_a199),_r132.multiplySelf(_i1178),_n502.setAttribute("transform",_r132.toString()),uh(_n502,{geometryPrecision:_t1815.geometryPrecision,transformPrecision:_t1815.transformPrecision}),_n502[_s702]=Ci(_n502);}_l327=_n502;}}catch(err){_iterator1219.e(err);}finally{_iterator1219.f();}}}else if("centers-horizontal"===e.value){var _e1303=_toConsumableArray(_i1174).sort(function(t,e){var i=t[_s702],n=e[_s702];return i.x+i.width/2-(n.x+n.width/2);}),_n503=_e1303[0],_o399=_e1303[_e1303.length-1],_l328=0;if("manual"===this["#distance-buttons"].value)_l328=this["#distance-input"].value*this.Js.board.scale;else{_l328=(_o399[_s702].x+_o399[_s702].width/2-(_n503[_s702].x+_n503[_s702].width/2))/(_e1303.length-1);}var _h245=_l328;var _iterator1220=_createForOfIteratorHelper(_e1303),_step1220;try{for(_iterator1220.s();!(_step1220=_iterator1220.n()).done;){var _i1179=_step1220.value;if(_i1179!==_n503&&(_i1179!==_o399||"auto"!==this["#distance-buttons"].value)){var _e1304=Ut(_i1179),_o400=Vt(_i1179),_a200=_o400.inverse(),_r133=-(_i1179[_s702].x+_i1179[_s702].width/2-(_n503[_s702].x+_n503[_s702].width/2))+_h245,_d104=_e1304.multiply(_a200);_d104.translateSelf(_r133,0),_d104.multiplySelf(_o400),_i1179.setAttribute("transform",_d104.toString()),uh(_i1179,{geometryPrecision:_t1815.geometryPrecision,transformPrecision:_t1815.transformPrecision}),_h245+=_l328,_i1179[_s702]=Ci(_i1179);}}}catch(err){_iterator1220.e(err);}finally{_iterator1220.f();}}else if("centers-vertical"===e.value){var _e1305=_toConsumableArray(_i1174).sort(function(t,e){var i=t[_s702],n=e[_s702];return i.y+i.height/2-(n.y+n.height/2);}),_n504=_e1305[0],_o401=_e1305[_e1305.length-1],_l329=0;if("manual"===this["#distance-buttons"].value)_l329=this["#distance-input"].value*this.Js.board.scale;else{_l329=(_o401[_s702].y+_o401[_s702].height/2-(_n504[_s702].y+_n504[_s702].height/2))/(_e1305.length-1);}var _h246=_l329;var _iterator1221=_createForOfIteratorHelper(_e1305),_step1221;try{for(_iterator1221.s();!(_step1221=_iterator1221.n()).done;){var _i1180=_step1221.value;if(_i1180!==_n504&&(_i1180!==_o401||"auto"!==this["#distance-buttons"].value)){var _e1306=Ut(_i1180),_o402=Vt(_i1180),_a201=_o402.inverse(),_r134=-(_i1180[_s702].y+_i1180[_s702].height/2-(_n504[_s702].y+_n504[_s702].height/2))+_h246,_d105=_e1306.multiply(_a201);_d105.translateSelf(0,_r134),_d105.multiplySelf(_o402),_i1180.setAttribute("transform",_d105.toString()),uh(_i1180,{geometryPrecision:_t1815.geometryPrecision,transformPrecision:_t1815.transformPrecision}),_h246+=_l329,_i1180[_s702]=Ci(_i1180);}}}catch(err){_iterator1221.e(err);}finally{_iterator1221.f();}}}}},{key:"Sw",value:function Sw(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;if(!1===s){var _iterator1222=_createForOfIteratorHelper(t),_step1222;try{for(_iterator1222.s();!(_step1222=_iterator1222.n()).done;){var _s703=_step1222.value;var _t1819=Ut(_s703),_n505=Vt(_s703),_o403=_n505.inverse(),_l330=Ci(_s703),_h247=0,_a202=0,_r135=1,_d106=1,_c84=0,_p74=0;if("move-left-inside"===i)_h247=e.x-_l330.x;else if("move-left-outside"===i)_h247=e.x-_l330.x-_l330.width;else if("move-right-inside"===i)_h247=e.x+e.width-_l330.x-_l330.width;else if("move-right-outside"===i)_h247=e.x+e.width-_l330.x;else if("move-top-inside"===i)_a202=e.y-_l330.y;else if("move-top-outside"===i)_a202=e.y-_l330.y-_l330.height;else if("move-bottom-inside"===i)_a202=e.y+e.height-_l330.y-_l330.height;else if("move-bottom-outside"===i)_a202=e.y+e.height-_l330.y;else if("center"===i)_h247=e.x-_l330.x+e.width/2-_l330.width/2,_a202=e.y-_l330.y+e.height/2-_l330.height/2;else if("horizontal-center"===i)_h247=e.x-_l330.x+e.width/2-_l330.width/2;else if("vertical-center"===i)_a202=e.y-_l330.y+e.height/2-_l330.height/2;else if("stretch"===i)_r135=e.width/_l330.width,_d106=e.height/_l330.height,_h247=e.x-_l330.x*_r135,_a202=e.y-_l330.y*_d106;else if("horizontal-stretch"===i)_r135=e.width/_l330.width,_h247=e.x-_l330.x*_r135;else if("vertical-stretch"===i)_d106=e.height/_l330.height,_a202=e.y-_l330.y*_d106;else if("fit"===i){var _t1820=min(e.width/_l330.width,e.height/_l330.height);_r135=_t1820,_d106=_t1820,_h247=e.x-_l330.x+e.width/2-_l330.width/2,_a202=e.y-_l330.y+e.height/2-_l330.height/2,_c84=_l330.x+_l330.width/2,_p74=_l330.y+_l330.height/2;}else"horizontal-fit"===i?(_r135=e.width/_l330.width,_d106=_r135,_h247=e.x-_l330.x,_c84=_l330.x,_p74=_l330.y):"vertical-fit"===i&&(_d106=e.height/_l330.height,_r135=_d106,_a202=e.y-_l330.y,_c84=_l330.x,_p74=_l330.y);var _u61=_t1819.multiply(_o403);_u61.translateSelf(_h247,_a202),_u61.scaleSelf(_r135,_d106,1,_c84,_p74),_u61.multiplySelf(_n505),_s703.setAttribute("transform",_u61.toString()),uh(_s703,{geometryPrecision:this.Js.board.geometryPrecision,transformPrecision:this.Js.board.transformPrecision});}}catch(err){_iterator1222.e(err);}finally{_iterator1222.f();}}else if(!0===s){var _s704=t.map(function(t){return Ci(t);}),_n506=Ue(_s704),_o404=0,_l331=0,_h248=1,_a203=1,_r136=0,_d107=0;if("move-left-inside"===i)_o404=e.x-_n506.x;else if("move-left-outside"===i)_o404=e.x-_n506.x-_n506.width;else if("move-right-inside"===i)_o404=e.x+e.width-_n506.x-_n506.width;else if("move-right-outside"===i)_o404=e.x+e.width-_n506.x;else if("move-top-inside"===i)_l331=e.y-_n506.y;else if("move-top-outside"===i)_l331=e.y-_n506.y-_n506.height;else if("move-bottom-inside"===i)_l331=e.y+e.height-_n506.y-_n506.height;else if("move-bottom-outside"===i)_l331=e.y+e.height-_n506.y;else if("center"===i)_o404=e.x-_n506.x+e.width/2-_n506.width/2,_l331=e.y-_n506.y+e.height/2-_n506.height/2;else if("horizontal-center"===i)_o404=e.x-_n506.x+e.width/2-_n506.width/2;else if("vertical-center"===i)_l331=e.y-_n506.y+e.height/2-_n506.height/2;else if("stretch"===i)_h248=e.width/_n506.width,_a203=e.height/_n506.height,_o404=e.x-_n506.x*_h248,_l331=e.y-_n506.y*_a203;else if("horizontal-stretch"===i)_h248=e.width/_n506.width,_o404=e.x-_n506.x*_h248;else if("vertical-stretch"===i)_a203=e.height/_n506.height,_l331=e.y-_n506.y*_a203;else if("fit"===i){var _t1821=min(e.width/_n506.width,e.height/_n506.height);_h248=_t1821,_a203=_t1821,_o404=e.x-_n506.x+e.width/2-_n506.width/2,_l331=e.y-_n506.y+e.height/2-_n506.height/2,_r136=_n506.x+_n506.width/2,_d107=_n506.y+_n506.height/2;}else"horizontal-fit"===i?(_h248=e.width/_n506.width,_a203=_h248,_o404=e.x-_n506.x,_r136=_n506.x,_d107=_n506.y):"vertical-fit"===i&&(_a203=e.height/_n506.height,_h248=_a203,_l331=e.y-_n506.y,_r136=_n506.x,_d107=_n506.y);var _iterator1223=_createForOfIteratorHelper(t),_step1223;try{for(_iterator1223.s();!(_step1223=_iterator1223.n()).done;){var _e1307=_step1223.value;var _t1822=Ut(_e1307),_i1181=Vt(_e1307),_s705=_i1181.inverse(),_n507=_t1822.multiply(_s705);_n507.translateSelf(_o404,_l331),_n507.scaleSelf(_h248,_a203,1,_r136,_d107),_n507.multiplySelf(_i1181),_e1307.setAttribute("transform",_n507.toString()),uh(_e1307,{geometryPrecision:this.Js.board.geometryPrecision,transformPrecision:this.Js.board.transformPrecision});}}catch(err){_iterator1223.e(err);}finally{_iterator1223.f();}}}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedObjectElements;if(this["#panel-heading"].disabled=0===t.outermostSelectedObjectElements.length,0===e.length){this["#align-section-heading"].disabled=!0,this["#align-options-heading"].disabled=!0,this["#align-to-select"].value=this.ww,this["#align-to-select"].disabled=!0,this["#align-as-group-button"].toggled=this.yw,this["#align-as-group-button"].disabled=!0;var _iterator1224=_createForOfIteratorHelper(this["#align-buttons"].querySelectorAll("x-button")),_step1224;try{for(_iterator1224.s();!(_step1224=_iterator1224.n()).done;){var _t1823=_step1224.value;_t1823.disabled=!0;}}catch(err){_iterator1224.e(err);}finally{_iterator1224.f();}}else{this["#align-section-heading"].disabled=!1,this["#align-options-heading"].disabled=!1,this["#align-to-select"].value=this.ww,this["#align-to-select"].disabled=!1,this["#align-as-group-button"].toggled=this.yw,this["#align-as-group-button"].disabled=!1;var _i1182=!0;if("default-view"===this.ww)_i1182=t.currentWorkspace.hasAttribute("viewBox");else if("nearest-view"===this.ww){if(t.currentWorkspace.hasAttribute("viewBox"))_i1182=!0;else{_i1182=t.currentWorkspace.querySelectorAll(":scope > view, :scope > defs > view").length>0;}}else"first-selected"===this.ww||"last-selected"===this.ww?_i1182=e.length>=2:"selection"===this.ww&&(_i1182=e.length>=2&&!1===this.yw);var _iterator1225=_createForOfIteratorHelper(this["#align-buttons"].querySelectorAll("x-button")),_step1225;try{for(_iterator1225.s();!(_step1225=_iterator1225.n()).done;){var _t1824=_step1225.value;_t1824.disabled=!1===_i1182;}}catch(err){_iterator1225.e(err);}finally{_iterator1225.f();}}this["#rotate-counterclockwise-button"].disabled=!this.Qs.isCommandEnabled("rotateCounterclockwise"),this["#rotate-clockwise-button"].disabled=!this.Qs.isCommandEnabled("rotateClockwise"),this["#flip-horizontally-button"].disabled=!this.Qs.isCommandEnabled("flipX"),this["#flip-vertically-button"].disabled=!this.Qs.isCommandEnabled("flipY"),this["#remove-transform-button"].disabled=!this.Qs.isCommandEnabled("removeTransform"),this["#reduce-transform-button"].disabled=!this.Qs.isCommandEnabled("reduceTransform"),this["#transform-heading"].disabled=this["#rotate-counterclockwise-button"].disabled&&this["#rotate-clockwise-button"].disabled&&this["#flip-horizontally-button"].disabled&&this["#flip-vertically-button"].disabled&&this["#remove-transform-button"].disabled&&this["#reduce-transform-button"].disabled,this["#raise-button"].disabled=!this.Qs.isCommandEnabled("raise"),this["#front-button"].disabled=this["#raise-button"].disabled,this["#lower-button"].disabled=!this.Qs.isCommandEnabled("lower"),this["#back-button"].disabled=this["#lower-button"].disabled,this["#order-section-heading"].disabled=this["#front-button"].disabled&&this["#raise-button"].disabled&&this["#lower-button"].disabled&&this["#back-button"].disabled,this["#group-button"].disabled=!this.Qs.isCommandEnabled("group"),this["#ungroup-button"].disabled=!this.Qs.isCommandEnabled("ungroup"),this["#group-section-heading"].disabled=this["#group-button"].disabled&&this["#ungroup-button"].disabled,e.length<=1?(this["#distribute-heading"].disabled=!0,this["#distribute-distance-heading"].disabled=!0,this["#distance-buttons"].value=null,this["#auto-distance-button"].disabled=!0,this["#manual-distance-button"].disabled=!0,this["#distance-input"].disabled=!0,this["#distribute-actions-heading"].disabled=!0,this["#distribute-horizontally-button"].disabled=!0,this["#distribute-vertically-button"].disabled=!0,this["#distribute-centers-horizontally-button"].disabled=!0,this["#distribute-centers-vertically-button"].disabled=!0):(this["#distribute-heading"].disabled=!1,this["#distribute-distance-heading"].disabled=!1,this["#distance-buttons"].value=this.kw,this["#auto-distance-button"].disabled=!1,this["#manual-distance-button"].disabled=!1,this["#distance-input"].disabled="auto"===this["#distance-buttons"].value,"auto"===this["#distance-buttons"].value&&e.length<=2?(this["#distribute-actions-heading"].disabled=!0,this["#distribute-horizontally-button"].disabled=!0,this["#distribute-vertically-button"].disabled=!0,this["#distribute-centers-horizontally-button"].disabled=!0,this["#distribute-centers-vertically-button"].disabled=!0):(this["#distribute-actions-heading"].disabled=!1,this["#distribute-horizontally-button"].disabled=!1,this["#distribute-vertically-button"].disabled=!1,this["#distribute-centers-horizontally-button"].disabled=!1,this["#distribute-centers-vertically-button"].disabled=!1));}}]);return nm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(nm,"observedAttributes",["enabled"]);_defineProperty(nm,"_shadowTemplate",Hi(_templateObject373()));_defineProperty(nm,"_shadowStyleSheet",Yi(_templateObject374()));customElements.define("bx-arrangementpanel",nm);var om=Symbol();var lm=/*#__PURE__*/function(_HTMLElement106){_inherits(lm,_HTMLElement106);var _super158=_createSuper(lm);_createClass(lm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function lm(){var _this737;_classCallCheck(this,lm);_this737=_super158.call(this),_this737._w=!1,_this737.Cw=null,_this737.wa=qi(_this737.qs,200,_assertThisInitialized(_this737)),_this737.Mw=Xi(_this737.Pw,250,_assertThisInitialized(_this737)),_this737._shadowRoot=_this737.attachShadow({mode:"closed"}),_this737._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,lm._shadowStyleSheet],_this737._shadowRoot.append(document.importNode(lm._shadowTemplate.content,!0));var _iterator1226=_createForOfIteratorHelper(_this737._shadowRoot.querySelectorAll("[id]")),_step1226;try{for(_iterator1226.s();!(_step1226=_iterator1226.n()).done;){var _t1825=_step1226.value;_this737["#"+_t1825.id]=_t1825;}}catch(err){_iterator1226.e(err);}finally{_iterator1226.f();}_this737["#main"].addEventListener("pointerdown",function(t){return _this737.Dw(t);}),_this737["#main"].addEventListener("click",function(t){return _this737.zw(t);}),_this737["#main"].addEventListener("contextmenu",function(t){return _this737.Ow(t);}),_this737["#main"].addEventListener("keydown",function(t){return _this737.vn(t);}),_this737["#context-menu"].addEventListener("click",function(t){return _this737.Ew(t);}),_this737["#add-menu"].addEventListener("click",function(t){return _this737.Tw(t);}),_this737["#developer-mode-button"].addEventListener("toggle",function(){return _this737.fu();}),_this737["#filter-input"].addEventListener("input",function(){return _this737.xm();});return _this737;}_createClass(lm,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this738=this;var t=this.Js.board;this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-objectsbrowser:developerMode",!1),this.Aw(),this.wa(),t.addEventListener("artworkchange",this.dr=function(){_this738.qs();}),t.addEventListener("selectedelementschange",this.Ko=function(){_this738.Qo();}),t.addEventListener("workspacemutation",this.rn=function(t){_this738.il(t);}),t.addEventListener("currentworkspacechange",this.Cx=function(){_this738.$w();});}},{key:"sn",value:function sn(){var t=this.Js.board;t.removeEventListener("artworkchange",this.dr),t.removeEventListener("selectedelementschange",this.Ko),t.removeEventListener("workspacemutation",this.rn),t.removeEventListener("currentworkspacechange",this.Cx);}},{key:"Qo",value:function Qo(){this.Iw();}},{key:"il",value:function il(t){var e=t.detail;var _iterator1227=_createForOfIteratorHelper(e),_step1227;try{for(_iterator1227.s();!(_step1227=_iterator1227.n()).done;){var _t1826=_step1227.value;this.Lw(_t1826);}}catch(err){_iterator1227.e(err);}finally{_iterator1227.f();}}},{key:"$w",value:function $w(){this.wa();}},{key:"Ow",value:function Ow(t){var e=t.target.closest(".item");if(e){var _i1183=e[om];t.preventDefault(),this.Cw=e,this["#context-menu"].open(t.clientX,t.clientY),"g"===_i1183.localName?(this["#ungroup-menu-item"].disabled=!1,this["#enter-group-menu-item"].disabled=!1):(this["#ungroup-menu-item"].disabled=!0,this["#enter-group-menu-item"].disabled=!0);}}},{key:"Ew",value:function Ew(t){var e=t.target.closest("x-menuitem");if(e)if("enterGroup"===e.value){var _t1827=this.Cw[om];this.Js.board.currentContainer=_t1827,this.Js.board.selectedElements=[];}else this.Qs.execCommand(e.value);}},{key:"Dw",value:function Dw(t){t.target.closest(".item")&&(t.target.closest(".arrow-button")||t.target.closest(".lock-button")||t.target.closest(".visibility-button")||this.gm(t));}},{key:"gm",value:function gm(t){var _this739=this;var e=this.Js.board,_this$Qs$modKeys11=this.Qs.modKeys,i=_this$Qs$modKeys11.ctrl,s=_this$Qs$modKeys11.shift,n=t.target.closest(".item"),o=new DOMPoint(t.clientX,t.clientY);if(1===t.buttons||!0!==n.hasAttribute("data-selected"))if(!0===i){var _t1828=n[om],_i1184=_t1828.parentElement.closest("g, a");e.selectedElements.includes(_t1828)?e.selectedElements=e.selectedElements.filter(function(e){return e!==_t1828;}):(e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_t1828]),1===e.selectedElements.length&&(e.currentContainer=_i1184===e.currentWorkspace?null:_i1184));}else if(!0===s){var _t1829=e.selectedElements.map(function(t){return _this739.Bw(t);});_t1829=_t1829.filter(function(t){return null!==t&&!1===t.hidden;});var _i1185=_t1829.map(function(t){return t[om];}),_s706=_i1185[_i1185.length-1]||null;if(_s706){var _t1830=this.Rw(!0),_i1186=_t1830.find(function(t){return t[om]===_s706;}),_o405=_t1830.indexOf(_i1186),_l332=_t1830.indexOf(n),_h249=[];if(_l332>_o405?_h249=_toConsumableArray(_t1830).slice(_o405,_l332+1):_l332<_o405&&(_h249=_toConsumableArray(_t1830).slice(_l332,_o405+1).reverse()),_h249=_h249.filter(function(t){return!1===t.hasAttribute("data-selected");}),_h249.length>0){var _t1831=_h249.map(function(t){return t[om];});e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),_toConsumableArray(_t1831));}}}else{var _i1188,_s707,_l334,_h250=n[om],_a204=_h250.parentElement.closest("g, a"),_r137=!1;n.setPointerCapture(t.pointerId),!1===n.hasAttribute("data-selected")&&(e.selectedElements=[_h250],e.currentContainer=_a204===e.currentWorkspace?null:_a204),n.addEventListener("pointermove",_i1188=function _i1187(t){var e=new DOMPoint(t.clientX,t.clientY);Pe(o,e)>=3&&(n.removeEventListener("pointermove",_i1188),n.removeEventListener("pointerup",_s707),n.removeEventListener("lostpointercapture",_l334),_this739.Gw(t),_r137=!0);}),n.addEventListener("pointerup",_s707=function _s707(){!1===_r137&&(e.selectedElements=[_h250],e.currentContainer=_a204===e.currentWorkspace?null:_a204);}),n.addEventListener("lostpointercapture",_l334=function _l333(){n.removeEventListener("pointermove",_i1188),n.removeEventListener("pointerup",_s707),n.removeEventListener("lostpointercapture",_l334);});}}},{key:"Gw",value:function Gw(){var _this740=this;var t,_e1311,i=this.Rw(!0),s=null,n="start",o=i.filter(function(t){return t.hasAttribute("data-selected");}),l=this.Js.board;this["#main"].addEventListener("pointermove",t=function t(_t1833){var e=_this740._shadowRoot.elementFromPoint(_t1833.clientX,_t1833.clientY);if(e.getRootNode()!==_this740._shadowRoot&&(e=null),s=e?e.closest(".item"):null,s){var _e1308=s.querySelector(".main").getBoundingClientRect();if(n=_t1833.clientY<_e1308.y+_e1308.height/2?"start":"end",s.hasAttribute("data-expanded")&&"end"===n&&(s.querySelector(".item:not([hidden])")?(s=s.querySelector(".item:not([hidden])"),n="start",_e1308=s.querySelector(".main").getBoundingClientRect()):n="inside"),_this740.Fw(o,s,n)){var _t1832=s.offsetTop;for(var _e1309=s.offsetParent;null!==_e1309&&_e1309!==_this740["#main"];_e1309=_e1309.offsetParent){_t1832+=_e1309.offsetTop;}"end"!==n&&"inside"!==n||(_t1832+=_e1308.height);var _i1189=24*parseInt(s.getAttribute("data-depth"))+16;"inside"===n&&(_i1189+=24);var _o406=_e1308.width-_i1189-4;_this740["#drop-marker"].hidden=!1,_this740["#drop-marker"].style.top=_t1832+"px",_this740["#drop-marker"].style.width=_o406+"px",_this740["#drop-marker"].style.marginLeft=_i1189+"px";}else s=null,_this740["#drop-marker"].hidden=!0;}else _this740["#drop-marker"].hidden=!0;}),this["#main"].addEventListener("lostpointercapture",_e1311=function e(){if(_this740["#main"].removeEventListener("pointermove",t),_this740["#main"].removeEventListener("lostpointercapture",_e1311),_this740["#drop-marker"].hidden=!0,s){l.undoManager.checkpoint("Move elements");var _t1834=s[om],_e1310=Li(l.outermostSelectedElements),_i1190=document.createDocumentFragment();var _iterator1228=_createForOfIteratorHelper(_e1310),_step1228;try{for(_iterator1228.s();!(_step1228=_iterator1228.n()).done;){var _s708=_step1228.value;_s708.setAttribute("transform",Nt(_s708,_t1834.parentElement)),_i1190.append(_s708);}}catch(err){_iterator1228.e(err);}finally{_iterator1228.f();}"start"===n?_t1834.before(_i1190):"end"===n?_t1834.after(_i1190):"inside"===n&&_t1834.append(_i1190);var _iterator1229=_createForOfIteratorHelper(_e1310),_step1229;try{for(_iterator1229.s();!(_step1229=_iterator1229.n()).done;){var _t1835=_step1229.value;uh(_t1835,{geometryPrecision:l.geometryPrecision,transformPrecision:l.transformPrecision});}}catch(err){_iterator1229.e(err);}finally{_iterator1229.f();}var _o407=l.selectedElements[0].closest("g, a");l.currentContainer=_o407===l.currentWorkspace?null:_o407;}});}},{key:"zw",value:function zw(t){t.target.closest(".item")&&(t.target.closest(".arrow-button")?this.Uw(t):t.target.closest(".lock-button")?this.Nw(t):t.target.closest(".visibility-button")?this.Vw(t):this.jw(t));}},{key:"jw",value:function jw(t){var _this$Qs$modKeys12=this.Qs.modKeys,e=_this$Qs$modKeys12.ctrl,i=_this$Qs$modKeys12.shift;if(!1===e&&!1===i&&2===t.detail){var _e1312=t.target.closest(".item");this.Hw(_e1312);}}},{key:"Uw",value:function Uw(t){var e=t.target.closest(".item");e.hasAttribute("data-expanded")?this.Yw(e):this.Ww(e);}},{key:"Nw",value:function Nw(t){this.Js.board.undoManager.checkpoint("Lock");var e=t.target.closest(".item")[om],i=getComputedStyle(e).pointerEvents;i="none"===i?"auto":"none",e.style.pointerEvents=i,ga("pointer-events",e);{var _t1836=function _t1836(e){var _iterator1230=_createForOfIteratorHelper(e),_step1230;try{for(_iterator1230.s();!(_step1230=_iterator1230.n()).done;){var _s709=_step1230.value;g.includes(_s709.localName)&&(_s709.removeAttribute("pointer-events"),_s709.style.removeProperty("pointer-events"),getComputedStyle(_s709).pointerEvents!==i&&(_s709.style.pointerEvents=i),"g"!==_s709.localName&&"a"!==_s709.localName||_t1836(_s709.children));}}catch(err){_iterator1230.e(err);}finally{_iterator1230.f();}};_t1836(e.children);}}},{key:"Vw",value:function Vw(t){this.Js.board.undoManager.checkpoint("Visibility");var e=t.target.closest(".item")[om],i=getComputedStyle(e).visibility;i="hidden"===i?"visible":"hidden",e.style.visibility=i,ga("visibility",e);{var _t1837=function _t1837(e){var _iterator1231=_createForOfIteratorHelper(e),_step1231;try{for(_iterator1231.s();!(_step1231=_iterator1231.n()).done;){var _s710=_step1231.value;g.includes(_s710.localName)&&(_s710.removeAttribute("visibility"),_s710.style.removeProperty("visibility"),getComputedStyle(_s710).visibility!==i&&(_s710.style.visibility=i),"g"!==_s710.localName&&"a"!==_s710.localName||_t1837(_s710.children));}}catch(err){_iterator1231.e(err);}finally{_iterator1231.f();}};_t1837(e.children);}}},{key:"xm",value:function xm(){this.Mw();}},{key:"fu",value:function fu(){this.Qs.setConfig("bx-objectsbrowser:developerMode",this["#developer-mode-button"].toggled),this["#filter-input"].value.trim().length>0&&(this["#filter-input"].value="",this.Pw()),this.qw(),this["#main"].focus();}},{key:"Tw",value:function(){var _Tw=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee117(t){var e,_t1838,_i1191,_s711,_n508,_o408,_l335,_e1313,_i1192,_s712,_t1839,_o409,_t1840,_e1314,_o410,_t1841,_e1315,_o411,_t1842,_e1316,_o412,_t1843,_e1317,_t1844,_t1845,_t1846,_t1847,_t1848,_t1849,_t1850,_t1851,_e1318,_i1193,_t1852,_t1853,_e1319,_e1320;return regeneratorRuntime.wrap(function _callee117$(_context118){while(1){switch(_context118.prev=_context118.next){case 0:e=t.target.closest("x-menuitem");if(!e){_context118.next=27;break;}_t1838=this.Js.board,_i1191=e.value,_s711=_t1838.geometryPrecision,_n508=_t1838.transformPrecision,_o408=null,_l335=null;_t1838.undoManager.checkpoint("Add object");_e1313=_t1838.getBoundingClientRect(),_i1192=this.getBoundingClientRect(),_s712=new DOMRect(_e1313.x,_e1313.y,_i1192.x-_e1313.x,_e1313.height);_o408=new DOMPoint(_s712.x+_s712.width/2,_s712.y+_s712.height/2);if(!("g"===_i1191)){_context118.next=10;break;}_l335=Wi(_templateObject24());_context118.next=22;break;case 10:if(!("a"===_i1191)){_context118.next=14;break;}_l335=Wi(_templateObject25());_context118.next=22;break;case 14:if(!("image"===_i1191)){_context118.next=21;break;}_context118.next=17;return Ha("images/cornell-box.jpg");case 17:_t1839=_context118.sent;_l335=Wi(_templateObject26(),_o408.x-50,_o408.y-50,_t1839);_context118.next=22;break;case 21:if("rect"===_i1191)_l335=Wi(_templateObject27(),_o408.x-50,_o408.y-50,100,100);else if("circle"===_i1191)_l335=Wi(_templateObject28(),_o408.x,_o408.y);else if("ellipse"===_i1191)_l335=Wi(_templateObject29(),_o408.x,_o408.y);else if("line"===_i1191)_l335=Wi(_templateObject30(),_o408.x-50,_o408.y-50,_o408.x+50,_o408.y+50);else if("polyline"===_i1191){_o409=_o408,_t1840=_o409.x,_e1314=_o409.y;_l335=Wi(_templateObject31(),_t1840-50,_e1314-50,_t1840+50,_e1314+50);}else if("polygon"===_i1191){_o410=_o408,_t1841=_o410.x,_e1315=_o410.y;_l335=Wi(_templateObject32(),_t1841-50,_e1315-50,_t1841+50,_e1315+50);}else if("path"===_i1191){_o411=_o408,_t1842=_o411.x,_e1316=_o411.y;_l335=Wi(_templateObject33(),_t1842-50,_e1316-50,_t1842+100,_e1316-50,_t1842-100,_e1316+50,_t1842+50,_e1316+50);}else if("text"===_i1191){_o412=_o408,_t1843=_o412.x,_e1317=_o412.y;_l335=Wi(_templateObject34(),_t1843,_e1317);}else if("ring"===_i1191){_l335=Wi(_templateObject35());_t1844={type:"ring",values:[_o408.x,_o408.y,30,30,50,50]};ul(_l335,_t1844,_s711);}else if("pie"===_i1191){_l335=Wi(_templateObject36());_t1845={type:"pie",values:[_o408.x,_o408.y,0,50,90,360]};ul(_l335,_t1845,_s711);}else if("crescent"===_i1191){_l335=Wi(_templateObject37());_t1846={type:"crescent",values:[_o408.x-50,_o408.y-50,.5,0]};ul(_l335,_t1846,_s711);}else if("triangle"===_i1191){_l335=Wi(_templateObject38());_t1847={type:"triangle",values:[_o408.x-50,_o408.y-50,100,100,.5,0]};ul(_l335,_t1847,_s711);}else if("n-gon"===_i1191){_l335=Wi(_templateObject39());_t1848={type:"n-gon",values:[_o408.x,_o408.y,50,50,5,0]};ul(_l335,_t1848,_s711);}else if("star"===_i1191){_l335=Wi(_templateObject40());_t1849={type:"star",values:[_o408.x,_o408.y,50,50,.4,5]};ul(_l335,_t1849,_s711);}else if("cog"===_i1191){_l335=Wi(_templateObject41());_t1850={type:"cog",values:[_o408.x,_o408.y,1/3*50,2/3*50,50,.375,8]};ul(_l335,_t1850,_s711);}else if("cross"===_i1191){_l335=Wi(_templateObject42());_t1851={type:"cross",values:[_o408.x-50,_o408.y-50,100,100,20,20,.5]};ul(_l335,_t1851,_s711);}case 22:_e1318=_t1838.currentContainer||_t1838.currentWorkspace,_i1193=_toConsumableArray(_e1318.children).reverse().find(function(e){return _t1838.selectedElements.includes(e);});if(_i1193){_t1852=this.Bw(_i1193);_t1852&&_t1852.hasAttribute("data-expanded")?_i1193.append(_l335):_i1193.after(_l335);}else _e1318.append(_l335);if("g"!==_l335.localName&&"a"!==_l335.localName){_t1853=Vt(_l335).inverse(),_e1319=Ut(_l335).multiply(_t1853);_l335.setAttribute("transform",_e1319.toString()),uh(_l335,{geometryPrecision:_s711,transformPrecision:_n508});}_e1320=_l335.parentElement.closest("g, a");_t1838.selectedElements=[_l335],_t1838.currentContainer=_e1320===_t1838.currentWorkspace?null:_e1320;case 27:case"end":return _context118.stop();}}},_callee117,this);}));function Tw(_x142){return _Tw.apply(this,arguments);}return Tw;}()},{key:"vn",value:function vn(t){var e=to.fromEvent(t);if(e.matches("Enter")){var _t1854=this.Rw(!0),_e1321=_t1854.find(function(t){return t.hasAttribute("data-selected");});_t1854.find(function(t){return t.hasAttribute("data-edited");})?this["#main"].focus():_e1321&&this.Hw(_e1321);}else if(e.matches("Backspace")||e.matches("Delete")){this.Rw(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.stopPropagation(),t.preventDefault(),this.Qs.execCommand("delete"));}else if(e.matches("ArrowUp")){this.Rw(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.preventDefault(),t.stopPropagation(),this.Mu());}else if(e.matches("ArrowDown")){this.Rw(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.preventDefault(),t.stopPropagation(),this.Pu());}else if(e.matches("Shift","ArrowUp")){this.Rw(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.stopPropagation(),this.Mu(!0));}else if(e.matches("Shift","ArrowDown")){this.Rw(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.stopPropagation(),this.Pu(!0));}else if(e.matches("ArrowRight")){var _e1322=this.Rw(!0),_i1194=_e1322.filter(function(t){return t.hasAttribute("data-selected");});_e1322.find(function(t){return t.hasAttribute("data-edited");})||1!==_i1194.length||!0!==_i1194[0].hasAttribute("data-expandable")||!1!==_i1194[0].hasAttribute("data-expanded")||(t.preventDefault(),t.stopPropagation(),this.Ww(_i1194[0]));}else if(e.matches("ArrowLeft")){var _e1323=this.Rw(!0),_i1195=_e1323.filter(function(t){return t.hasAttribute("data-selected");});_e1323.find(function(t){return t.hasAttribute("data-edited");})||1!==_i1195.length||!0!==_i1195[0].hasAttribute("data-expandable")||!0!==_i1195[0].hasAttribute("data-expanded")||(t.preventDefault(),t.stopPropagation(),this.Yw(_i1195[0]));}}},{key:"Hw",value:function Hw(t){var _this741=this;{var _e1324=this["#items"].querySelector(".item[data-edited]");if(_e1324){if(_e1324===t)return;this.Xw();}}var e=t.querySelector(".label"),i=t[om],s=i.querySelector(":scope > bx-title"),n=this["#developer-mode-button"].toggled?"Object ID":"Object title",o="";!0===this["#developer-mode-button"].toggled&&i.id?o="#"+i.id:!1===this["#developer-mode-button"].toggled&&s&&(o=s.textContent);var l=Hi(_templateObject43(),o,n);e.after(l),l.selectAll(),e.hidden=!0,t.setAttribute("data-edited",""),l.addEventListener("input",function(){null!==l.error?t.setAttribute("data-invalid",""):t.removeAttribute("data-invalid");}),l.addEventListener("focusout",function(){t.removeAttribute("data-invalid"),_this741.Xw();}),l.validate=function(){var t=null;if(_this741["#developer-mode-button"].toggled){var _e1325=l.value.trim();if(_e1325.startsWith("#")&&(_e1325=_e1325.substring(1)),_e1325.length>0)if(Ni(_e1325)){!1===(null===_this741.Js.board.workspaces.querySelector("#"+CSS.escape(_e1325)))&&(t="Non-unique ID");}else t="Invalid ID";}l.error=t;};}},{key:"Xw",value:function Xw(){var t=this["#items"].querySelector(".item[data-edited]");if(t){var _e1326=t.querySelector(".label"),_i1196=t.querySelector("x-input"),_s713=t[om];if(_i1196.remove(),_e1326.hidden=!1,t.removeAttribute("data-edited"),null===_i1196.error)if(this["#developer-mode-button"].toggled){var _t1855=_i1196.value.trim().toLowerCase();"#"===_t1855?_t1855="":_t1855.startsWith("#")&&(_t1855=_t1855.substring(1)),_s713.getAttribute("id")!==_t1855&&(this.Js.board.undoManager.checkpoint("Object ID"),""===_t1855?_s713.removeAttribute("id"):_s713.setAttribute("id",_t1855));}else{var _t1856=_s713.querySelector(":scope > bx-title"),_e1327=_i1196.value.trim();if(_t1856){_t1856.textContent!==_e1327&&(this.Js.board.undoManager.checkpoint("Object title"),""===_e1327?_t1856.remove():_t1856.textContent=_e1327);}else""!==_e1327&&(this.Js.board.undoManager.checkpoint("Object title"),_t1856=Di("svg:bx-title"),_t1856.textContent=_e1327,_s713.prepend(_t1856));}}}},{key:"Ww",value:function Ww(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;if(t.hasAttribute("data-expanded"))return;var i=parseInt(t.getAttribute("data-depth")),s=t.querySelector(".children"),n=t[om],o=this.Js.board.outermostSelectedElements,l=this["#filter-input"].value.trim().toLowerCase();if(0===s.childElementCount){var _iterator1232=_createForOfIteratorHelper(n.children),_step1232;try{for(_iterator1232.s();!(_step1232=_iterator1232.n()).done;){var _t1857=_step1232.value;if(g.includes(_t1857.localName)){var _e1328=this.Zw(_t1857,i+1);o.includes(_t1857)&&_e1328.setAttribute("data-selected",""),!1===this.Kw(_t1857,l)&&(_e1328.hidden=!0),s.append(_e1328);}}}catch(err){_iterator1232.e(err);}finally{_iterator1232.f();}}if(t.setAttribute("data-expanded",""),e){var _t1858=getComputedStyle(s).marginTop,_e1329="0px";"0px"===_t1858&&(_t1858="-"+getComputedStyle(s).height),s.animate({marginTop:[_t1858,_e1329]},{duration:250,easing:"ease"});}}},{key:"Yw",value:function(){var _Yw=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee118(t){var e,i,s,n,_t1859,_args119=arguments;return regeneratorRuntime.wrap(function _callee118$(_context119){while(1){switch(_context119.prev=_context119.next){case 0:e=_args119.length>1&&_args119[1]!==undefined?_args119[1]:!0;i=t.querySelector(".children"),s=getComputedStyle(i).marginTop,n="-"+getComputedStyle(i).height;if(!(t.removeAttribute("data-expanded"),e)){_context119.next=6;break;}_t1859=i.animate({marginTop:[s,n]},{duration:250,easing:"ease"});_context119.next=6;return _t1859.finished;case 6:!1===t.hasAttribute("data-expanded")&&(i.innerHTML="");case 7:case"end":return _context119.stop();}}},_callee118);}));function Yw(_x143){return _Yw.apply(this,arguments);}return Yw;}()},{key:"Qw",value:function Qw(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var _iterator1233=_createForOfIteratorHelper(this["#items"].children),_step1233;try{for(_iterator1233.s();!(_step1233=_iterator1233.n()).done;){var _e1330=_step1233.value;this.Yw(_e1330,t);}}catch(err){_iterator1233.e(err);}finally{_iterator1233.f();}}},{key:"Zw",value:function Zw(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;Ri(t);var i=Gi(t),s=Hi(_templateObject44(),e,24*e,i);return s[om]=t,"g"!==t.localName&&"a"!==t.localName||s.setAttribute("data-expandable",""),this.Jw(s),this.tv(s),s;}},{key:"Bw",value:function Bw(t){var e=this.Rw();var _iterator1234=_createForOfIteratorHelper(e),_step1234;try{for(_iterator1234.s();!(_step1234=_iterator1234.n()).done;){var _i1197=_step1234.value;if(_i1197[om]===t)return _i1197;}}catch(err){_iterator1234.e(err);}finally{_iterator1234.f();}return null;}},{key:"Mu",value:function Mu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.Js.board,i=this.Rw(!0),s=i.filter(function(t){return t.hasAttribute("data-selected");});if(s.length>0){var _n509=s[0],_o413=i.indexOf(_n509);if(i[_o413-1]){var _s714=i[_o413-1][om],_n510=_s714.parentElement.closest("g, a");t?e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_s714]):(e.selectedElements=[_s714],e.currentContainer=_n510===e.currentWorkspace?null:_n510);}}}},{key:"Pu",value:function Pu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.Js.board,i=this.Rw(!0),s=i.filter(function(t){return t.hasAttribute("data-selected");});if(s.length>0){var _n511=s[s.length-1],_o414=i.indexOf(_n511);if(i[_o414+1]){var _s715=i[_o414+1][om],_n512=_s715.parentElement.closest("g, a");t?e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_s715]):(e.selectedElements=[_s715],e.currentContainer=_n512===e.currentWorkspace?null:_n512);}}}},{key:"Fw",value:function Fw(t,e,i){var _iterator1235=_createForOfIteratorHelper(t),_step1235;try{for(_iterator1235.s();!(_step1235=_iterator1235.n()).done;){var _i1198=_step1235.value;if(_i1198.contains(e))return!1;}}catch(err){_iterator1235.e(err);}finally{_iterator1235.f();}if(1===t.length){var _s716=this.Rw(!0),_n513=t[0],_o415=_s716.indexOf(e);if("start"===i){var _t1860=_s716[_o415-1];if(_t1860===_n513&&_t1860.getAttribute("data-depth")===_n513.getAttribute("data-depth"))return!1;}else if("end"===i){if(_s716[_o415+1]===_n513&&e.getAttribute("data-depth")===_n513.getAttribute("data-depth"))return!1;}}return!0;}},{key:"Rw",value:function Rw(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=[],i=function i(s){var _iterator1236=_createForOfIteratorHelper(s),_step1236;try{for(_iterator1236.s();!(_step1236=_iterator1236.n()).done;){var _n514=_step1236.value;t&&_n514.hasAttribute("hidden")||(e.push(_n514),_n514.hasAttribute("data-expanded")&&i(_n514.querySelector(".children").children));}}catch(err){_iterator1236.e(err);}finally{_iterator1236.f();}};return i(this["#items"].children),e;}},{key:"qs",value:function qs(){var t=this.Js.board,e=document.createDocumentFragment();var _iterator1237=_createForOfIteratorHelper(t.currentWorkspace.children),_step1237;try{for(_iterator1237.s();!(_step1237=_iterator1237.n()).done;){var _i1199=_step1237.value;if(g.includes(_i1199.localName)){var _t1861=this.Zw(_i1199,0);e.append(_t1861);}}}catch(err){_iterator1237.e(err);}finally{_iterator1237.f();}this["#items"].innerHTML="",this["#items"].append(e),this.Iw();}},{key:"tv",value:function tv(t){if(!1===this["#developer-mode-button"].toggled){var _e1331=t.querySelector(".label"),_i1200=t[om],_s717=_i1200.querySelector(":scope > bx-title");_s717?(_e1331.textContent=_s717.textContent,_e1331.setAttribute("data-custom","")):(_e1331.textContent=Ri(_i1200),_e1331.removeAttribute("data-custom"));}else{var _e1332=t[om],_i1201=t.querySelector(".label");_e1332.id?(_i1201.textContent="#"+_e1332.id,_i1201.setAttribute("data-custom","")):(_i1201.textContent=Ri(_e1332,"developer"),_i1201.removeAttribute("data-custom"));}}},{key:"Jw",value:function Jw(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=t[om],_getComputedStyle6=getComputedStyle(i),s=_getComputedStyle6.visibility,n=_getComputedStyle6.pointerEvents;if("none"===n?t.setAttribute("data-locked",""):t.removeAttribute("data-locked"),"hidden"===s?t.setAttribute("data-hidden",""):t.removeAttribute("data-hidden"),e){var _iterator1238=_createForOfIteratorHelper(t.querySelector(".children").children),_step1238;try{for(_iterator1238.s();!(_step1238=_iterator1238.n()).done;){var _e1333=_step1238.value;this.Jw(_e1333,!0);}}catch(err){_iterator1238.e(err);}finally{_iterator1238.f();}}}},{key:"Iw",value:function Iw(){var t=this.Js.board.selectedElements,e=this.Js.board.currentWorkspace;var _iterator1239=_createForOfIteratorHelper(t),_step1239;try{for(_iterator1239.s();!(_step1239=_iterator1239.n()).done;){var _i1202=_step1239.value;var _t1862=[];for(var _s718=_i1202.parentElement;_s718!==e;_s718=_s718.parentElement){_t1862.push(_s718);}_t1862.reverse();for(var _i1203=0,_t1863=_t1862;_i1203<_t1863.length;_i1203++){var _e1334=_t1863[_i1203];var _t1864=this.Bw(_e1334);_t1864&&this.Ww(_t1864,!1);}}}catch(err){_iterator1239.e(err);}finally{_iterator1239.f();}var _iterator1240=_createForOfIteratorHelper(this.Rw()),_step1240;try{for(_iterator1240.s();!(_step1240=_iterator1240.n()).done;){var _e1335=_step1240.value;t.includes(_e1335[om])?(_e1335.setAttribute("data-selected",""),Ai(_e1335)):_e1335.removeAttribute("data-selected");}}catch(err){_iterator1240.e(err);}finally{_iterator1240.f();}}},{key:"Pw",value:function Pw(){var _this742=this;var t=this["#filter-input"].value.trim().toLowerCase();if(0===t.length){this.Qw(!1);var _iterator1241=_createForOfIteratorHelper(this["#items"].querySelectorAll(".item[hidden]")),_step1241;try{for(_iterator1241.s();!(_step1241=_iterator1241.n()).done;){var _t1865=_step1241.value;_t1865.hidden=!1;}}catch(err){_iterator1241.e(err);}finally{_iterator1241.f();}}else{var _e1336=function _e1336(i){var s=!0;var _iterator1242=_createForOfIteratorHelper(i),_step1242;try{for(_iterator1242.s();!(_step1242=_iterator1242.n()).done;){var _n515=_step1242.value;if(_this742.Kw(_n515[om],t)){if(_n515.hidden=!1,s=!1,_n515.hasAttribute("data-expandable")){_this742.Ww(_n515,!1),_e1336(_n515.querySelector(".children").children)&&_this742.Yw(_n515,!1);}}else _n515.hidden=!0;}}catch(err){_iterator1242.e(err);}finally{_iterator1242.f();}return s;};_e1336(this["#items"].children);}}},{key:"qw",value:function qw(){var _iterator1243=_createForOfIteratorHelper(this.Rw()),_step1243;try{for(_iterator1243.s();!(_step1243=_iterator1243.n()).done;){var _t1866=_step1243.value;this.tv(_t1866);}}catch(err){_iterator1243.e(err);}finally{_iterator1243.f();}}},{key:"Lw",value:function Lw(t){var _this743=this;if("attributes"===t.type&&"style"===t.attributeName){var _e1337=t.target,_i1204=this.Rw().find(function(t){return t[om]===_e1337;});_i1204&&this.Jw(_i1204,!0);}if(this["#developer-mode-button"].toggled){if("attributes"===t.type&&"id"===t.attributeName){var _e1338=this.Rw(),_i1205=t.target;var _iterator1244=_createForOfIteratorHelper(_e1338),_step1244;try{for(_iterator1244.s();!(_step1244=_iterator1244.n()).done;){var _t1867=_step1244.value;if(_t1867[om]===_i1205){this.tv(_t1867);break;}}}catch(err){_iterator1244.e(err);}finally{_iterator1244.f();}}}else if("childList"===t.type)if("bx-title"===t.target.localName){var _e1339=this.Rw(),_i1206=t.target.parentElement;var _iterator1245=_createForOfIteratorHelper(_e1339),_step1245;try{for(_iterator1245.s();!(_step1245=_iterator1245.n()).done;){var _t1868=_step1245.value;if(_t1868[om]===_i1206){this.tv(_t1868);break;}}}catch(err){_iterator1245.e(err);}finally{_iterator1245.f();}}else{var _e1340=this.Rw();for(var _i1207=0,_arr46=[].concat(_toConsumableArray(t.removedNodes),_toConsumableArray(t.addedNodes));_i1207<_arr46.length;_i1207++){var _i1208=_arr46[_i1207];if("bx-title"===_i1208.localName){(function(){var i=t.target,s=_e1340.find(function(t){return t[om]===i;});s&&_this743.tv(s);})();}}}if("childList"===t.type){if(t.removedNodes.length>0){var _e1341=this.Rw();var _iterator1246=_createForOfIteratorHelper(_e1341),_step1246;try{for(_iterator1246.s();!(_step1246=_iterator1246.n()).done;){var _i1209=_step1246.value;_toConsumableArray(t.removedNodes).includes(_i1209[om])&&_i1209.remove();}}catch(err){_iterator1246.e(err);}finally{_iterator1246.f();}}if(t.addedNodes.length>0){var _e1342=this.Rw(),_i1210=null;var _iterator1247=_createForOfIteratorHelper(_e1342),_step1247;try{for(_iterator1247.s();!(_step1247=_iterator1247.n()).done;){var _s720=_step1247.value;if(_s720[om]===t.target){_i1210=_s720;break;}}}catch(err){_iterator1247.e(err);}finally{_iterator1247.f();}if(_i1210&&_i1210.hasAttribute("data-expanded")||t.target===this.Js.board.currentWorkspace){var _s719=null,_n516=null;if(t.previousSibling){var _loop24=function _loop24(_i1211){if(_i1211.localName&&g.includes(_i1211.localName)){var _t1869=_e1342.find(function(t){return t[om]===_i1211;});if(_t1869){_s719=_t1869;return"break";}}};for(var _i1211=t.previousSibling;_i1211;_i1211=_i1211.previousElementSibling){var _ret=_loop24(_i1211);if(_ret==="break")break;}}if(null===_s719&&t.nextSibling){var _loop25=function _loop25(_i1212){if(_i1212.localName&&g.includes(_i1212.localName)){var _t1870=_e1342.find(function(t){return t[om]===_i1212;});if(_t1870){_n516=_t1870;return"break";}}};for(var _i1212=t.nextSibling;_i1212;_i1212=_i1212.nextElementSibling){var _ret2=_loop25(_i1212);if(_ret2==="break")break;}}var _o416=_i1210?parseInt(_i1210.getAttribute("data-depth"))+1:0,_l336=document.createDocumentFragment();var _iterator1248=_createForOfIteratorHelper(t.addedNodes),_step1248;try{var _loop26=function _loop26(){var e=_step1248.value;if(e.localName&&g.includes(e.localName)){if(_toConsumableArray((_i1210||_this743["#items"]).children).find(function(t){return t[om]===e;}));else{var _t1871=_this743.Zw(e,_o416);_this743.Js.board.selectedElements.includes(e)&&_t1871.setAttribute("data-selected",""),_l336.append(_t1871);}}};for(_iterator1248.s();!(_step1248=_iterator1248.n()).done;){_loop26();}}catch(err){_iterator1248.e(err);}finally{_iterator1248.f();}_s719?_s719.after(_l336):_n516?_n516.before(_l336):_i1210?_i1210.querySelector(".children").append(_l336):this["#items"].append(_l336);}}}}},{key:"Aw",value:function(){var _Aw=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee119(){var _t1872,_e1343,_i1213,_s721,_n517,_iterator1249,_step1249,_t1873;return regeneratorRuntime.wrap(function _callee119$(_context120){while(1){switch(_context120.prev=_context120.next){case 0:if(!(!1===this._w)){_context120.next=14;break;}this._w=!0;_context120.next=4;return fetch(As.iconset);case 4:_t1872=_context120.sent;_context120.next=7;return _t1872.text();case 7:_e1343=_context120.sent;_i1213=Wi(_templateObject45(),_e1343);_s721=document.createDocumentFragment();_n517=["arrow","lock-on","visibility-hidden"];_iterator1249=_createForOfIteratorHelper(_i1213.querySelectorAll("symbol"));try{for(_iterator1249.s();!(_step1249=_iterator1249.n()).done;){_t1873=_step1249.value;_t1873.id&&(_t1873.id.startsWith("object-")||_n517.includes(_t1873.id))&&_s721.append(_t1873);}}catch(err){_iterator1249.e(err);}finally{_iterator1249.f();}_i1213.style.display="none",_i1213.innerHTML="",_i1213.append(_s721),this._shadowRoot.append(_i1213);case 14:case"end":return _context120.stop();}}},_callee119,this);}));function Aw(){return _Aw.apply(this,arguments);}return Aw;}()},{key:"Kw",value:function Kw(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;var n=!1;if(""!==e){if(this["#developer-mode-button"].toggled){if(t.id)-1!==("#"+t.id.toLowerCase()).indexOf(e)&&(n=!0);else{-1!==Ri(t,"developer").toLowerCase().indexOf(e)&&(n=!0);}}else{var _i1214=t.querySelector(":scope > bx-title"),_s722="";_s722=_i1214&&_i1214.textContent.trim().length>0?_i1214.textContent.trim():Ri(t,"designer"),-1!==_s722.toLowerCase().indexOf(e)&&(n=!0);}if(!1===n&&!0===s&&("g"===t.localName||"a"===t.localName)){var _iterator1250=_createForOfIteratorHelper(t.children),_step1250;try{for(_iterator1250.s();!(_step1250=_iterator1250.n()).done;){var _i1215=_step1250.value;if(g.includes(_i1215.localName)&&this.Kw(_i1215,e)){n=!0;break;}}}catch(err){_iterator1250.e(err);}finally{_iterator1250.f();}}return!1===n&&!0===i&&("g"!==t.parentElement.localName&&"a"!==t.parentElement.localName||t.parentElement!==this.Js.board.currentWorkspace&&this.Kw(t.parentElement,e,!1,!1)&&(n=!0)),n;}n=!0;}}]);return lm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(lm,"observedAttributes",["enabled"]);_defineProperty(lm,"_shadowTemplate",Hi(_templateObject375()));_defineProperty(lm,"_shadowStyleSheet",Yi(_templateObject376()));customElements.define("bx-objectsbrowser",lm);var hm=/*#__PURE__*/function(_HTMLElement107){_inherits(hm,_HTMLElement107);var _super159=_createSuper(hm);_createClass(hm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function hm(){var _this744;_classCallCheck(this,hm);_this744=_super159.call(this),_this744._shadowRoot=_this744.attachShadow({mode:"closed"}),_this744._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,hm._shadowStyleSheet],_this744._shadowRoot.append(document.importNode(hm._shadowTemplate.content,!0));var _iterator1251=_createForOfIteratorHelper(_this744._shadowRoot.querySelectorAll("[id]")),_step1251;try{for(_iterator1251.s();!(_step1251=_iterator1251.n()).done;){var _t1874=_step1251.value;_this744["#"+_t1874.id]=_t1874;}}catch(err){_iterator1251.e(err);}finally{_iterator1251.f();}return _this744;}_createClass(hm,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){this["#objects-browser"].enabled=!0;}},{key:"sn",value:function sn(){this["#objects-browser"].enabled=!1;}}]);return hm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(hm,"observedAttributes",["enabled"]);_defineProperty(hm,"_shadowTemplate",Hi(_templateObject377()));_defineProperty(hm,"_shadowStyleSheet",Yi(_templateObject378()));customElements.define("bx-objectspanel",hm);var am=Symbol(),rm=Symbol();var dm=/*#__PURE__*/function(_HTMLElement108){_inherits(dm,_HTMLElement108);var _super160=_createSuper(dm);_createClass(dm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function dm(){var _temp43,_this745;_classCallCheck(this,dm);(_temp43=_this745=_super160.call(this),_defineProperty(_assertThisInitialized(_this745),"ommands",{selectAll:{enabled:function enabled(){return _this745.ev();},exec:function exec(){return _this745.iv();}},deselectAll:{enabled:function enabled(){return _this745.sv();},exec:function exec(){return _this745.nv();}}}),_temp43),_this745.ov=Xi(_this745.qs,500,_assertThisInitialized(_this745)),_this745.lv=0,_this745._shadowRoot=_this745.attachShadow({mode:"closed"}),_this745._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,dm._shadowStyleSheet],_this745._shadowRoot.append(document.importNode(dm._shadowTemplate.content,!0));var _iterator1252=_createForOfIteratorHelper(_this745._shadowRoot.querySelectorAll("[id]")),_step1252;try{for(_iterator1252.s();!(_step1252=_iterator1252.n()).done;){var _t1875=_step1252.value;_this745["#"+_t1875.id]=_t1875;}}catch(err){_iterator1252.e(err);}finally{_iterator1252.f();}_this745.addEventListener("keydown",function(t){return _this745.vn(t);}),_this745["#items"].addEventListener("scroll",function(){return _this745.hv();}),_this745["#items"].addEventListener("contextmenu",function(t){return _this745.Xc(t);}),_this745["#items"].addEventListener("pointerdown",function(t){return _this745.Wc(t);}),_this745["#items"].addEventListener("click",function(t){return _this745.qc(t);}),_this745["#search-input"].addEventListener("input",function(){return _this745.av();}),_this745["#developer-mode-button"].addEventListener("toggle",function(){return _this745.fu();}),_this745["#add-menu"].addEventListener("click",function(t){return _this745.Tw(t);}),_this745["#add-menu"].addEventListener("open",function(){return _this745.rv();}),_this745["#color-picker"].addEventListener("changestart",function(t){return _this745.mx(t);});return _this745;}_createClass(dm,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this["#items"].scrollTop=this.lv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"selectColors",value:function selectColors(t){var e=_toConsumableArray(this["#items"].children).filter(function(e){return t.includes(e[am].id);});this.dv(e,!0);}},{key:"tn",value:function tn(){var _this746=this;window.addEventListener("resize",this.nn=function(){_this746.cv();}),this.Qs.addEventListener("configchange",this.ln=function(t){_this746.hn(t);}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this746.il(t);}),this.Js.board.addEventListener("artworkchange",this.dr=function(t){_this746.pv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.lv,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-colorsbrowser:developerMode",!1),this.uv=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Rp),this.qs();}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("artworkchange",this.dr),this.xv(),this["#items"].remove();}},{key:"hn",value:function hn(t){var _t$detail10=t.detail,e=_t$detail10.key,i=_t$detail10.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this.uv=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Rp),this.bv());}},{key:"cv",value:function cv(){this.xv();}},{key:"il",value:function il(t){var e=t.detail,i="debounced",s=!1;var _iterator1253=_createForOfIteratorHelper(e),_step1253;try{for(_iterator1253.s();!(_step1253=_iterator1253.n()).done;){var _t1876=_step1253.value;var _e1344=_t1876.target.nodeName,_n518=_t1876.addedNodes[0]?_t1876.addedNodes[0].nodeName:null,_o417=_t1876.removedNodes[0]?_t1876.removedNodes[0].nodeName:null,_l337=_t1876.attributeName;if("linearGradient"===_e1344||"radialGradient"===_e1344){if("bx-title"===_n518||"bx-title"===_o417){i="now";break;}if("id"===_l337){i="now",s=!0;break;}if("data-bx-pinned"===_l337){i="now";break;}}else if("bx-title"===_e1344){if(_n518||_o417){i="now";break;}}else if("linearGradient"===_n518||"radialGradient"===_n518||"linearGradient"===_o417||"radialGradient"===_o417){i="now",s=!0;break;}}}catch(err){_iterator1253.e(err);}finally{_iterator1253.f();}!0===s&&this.xv(),"now"===i?this.qs():"debounced"===i&&this.ov();}},{key:"pv",value:function pv(){this.xv(),this.qs();}},{key:"hv",value:function hv(){this.lv=this["#items"].scrollTop,this.xv();}},{key:"Xc",value:function(){var _Xc2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee120(t){var e,_i1216,_s723,_n519;return regeneratorRuntime.wrap(function _callee120$(_context121){while(1){switch(_context121.prev=_context121.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context121.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.dv([e]);_i1216=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[am];});_s723=e[am];_context121.next=7;return this.Qs.openContextMenu([{label:"Edit Color",value:"edit",disabled:1!==_i1216.length},{label:"Edit Color ID",value:"edit-id",disabled:1!==_i1216.length},{label:"Edit Color Title",value:"edit-title",disabled:1!==_i1216.length},{type:"separator"},{label:"Duplicate Color"+(_i1216.length>1?"s":""),value:"duplicate",disabled:0===_i1216.length},{label:"Delete Color"+(_i1216.length>1?"s":""),value:"delete",disabled:0===_i1216.length},{type:"separator"},{label:"Pin Color"+(_i1216.length>1?"s":""),value:"pin",disabled:void 0===_i1216.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Color"+(_i1216.length>1?"s":""),value:"unpin",disabled:void 0===_i1216.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Color Users",value:"select-users",disabled:1!==_i1216.length}]);case 7:_n519=_context121.sent;"edit"===_n519?this.editColor(_s723.id):"edit-id"===_n519?this.mv(_s723.id,"id"):"edit-title"===_n519?this.mv(_s723.id,"title"):"duplicate"===_n519?this.gv():"delete"===_n519?this.fv():"pin"===_n519?this.wv():"unpin"===_n519?this.vv():"select-users"===_n519&&this.yv(_s723.id);case 9:case"end":return _context121.stop();}}},_callee120,this);}));function Xc(_x144){return _Xc2.apply(this,arguments);}return Xc;}()},{key:"qc",value:function qc(t){t.target.closest(".item")&&this.jw(t);}},{key:"jw",value:function jw(t){var _this$Qs$modKeys13=this.Qs.modKeys,e=_this$Qs$modKeys13.ctrl,i=_this$Qs$modKeys13.shift;if(!1===e&&!1===i){var _e1345=t.target.closest(".item"),_i1217=t.target.closest(".thumbnail"),_s724=t.target.closest(".counter-button"),_n520=t.target.closest(".pin-button"),_o418=_e1345[am].id;_s724?this.yv(_o418):_n520?_n520.toggled?this.kv(_o418):this.Sv(_o418):_i1217?t.detail%2==0&&this.editColor(_o418):t.detail%2==0&&this.mv(_o418);}}},{key:"Wc",value:function Wc(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1346=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1346&&this.dv([]);}else t.target.closest(".item")&&this.gm(t);}},{key:"gm",value:function gm(t){var _this747=this;var _this$Qs$modKeys14=this.Qs.modKeys,e=_this$Qs$modKeys14.ctrl,i=_this$Qs$modKeys14.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(this.xv(),!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[rm]=Date.now());else if(!0===i){var _t1877=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1347=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1347.length>0){var _i1218=_t1877.indexOf(s),_n521=_e1347.sort(function(t,e){return e[rm]-t[rm];})[0],_o419=_t1877.indexOf(_n521),_l338=[];if(_i1218>_o419?_l338=_toConsumableArray(_t1877).slice(_o419,_i1218+1):_i1218<_o419&&(_l338=_toConsumableArray(_t1877).slice(_i1218,_o419+1).reverse()),_l338=_l338.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l338.length>0){var _iterator1254=_createForOfIteratorHelper(_l338),_step1254;try{for(_iterator1254.s();!(_step1254=_iterator1254.n()).done;){var _t1878=_step1254.value;_t1878.setAttribute("data-selected",""),_t1878[rm]=Date.now();}}catch(err){_iterator1254.e(err);}finally{_iterator1254.f();}}}}else{var _t1881,_e1349,_i1219=!1;window.addEventListener("pointermove",_t1881=function _t1879(o){var l=new DOMPoint(o.clientX,o.clientY);if(Pe(n,l)>=3){if(window.removeEventListener("pointermove",_t1881),window.removeEventListener("pointerup",_e1349),!1===s.hasAttribute("data-selected")){var _iterator1255=_createForOfIteratorHelper(_this747["#items"].children),_step1255;try{for(_iterator1255.s();!(_step1255=_iterator1255.n()).done;){var _t1880=_step1255.value;_t1880===s?(_t1880.setAttribute("data-selected",""),_t1880[rm]=Date.now()):_t1880.removeAttribute("data-selected");}}catch(err){_iterator1255.e(err);}finally{_iterator1255.f();}}_this747.Gw(o),_i1219=!0;}}),window.addEventListener("pointerup",_e1349=function _e1348(){if(window.removeEventListener("pointermove",_t1881),window.removeEventListener("pointerup",_e1349),!1===_i1219){var _iterator1256=_createForOfIteratorHelper(_this747["#items"].children),_step1256;try{for(_iterator1256.s();!(_step1256=_iterator1256.n()).done;){var _t1882=_step1256.value;_t1882===s?(_t1882.setAttribute("data-selected",""),_t1882[rm]=Date.now()):_t1882.removeAttribute("data-selected");}}catch(err){_iterator1256.e(err);}finally{_iterator1256.f();}}});}}},{key:"Gw",value:function Gw(t){var _this748=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,h="start",a=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===a&&(a=setInterval(function(){return _this748["#items"].scrollTop+=r;},10));},c=function c(){null!==a&&(clearInterval(a),a=null);},p=function p(){var t=_this748.Qs.pointerClientPoint,e=_this748._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this748._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1350=l.getBoundingClientRect();if(h=t.y<_e1350.y+_e1350.height/2?"start":"end",_this748.Fw(n,l,h)){var _t1883=l.offsetTop-_this748["#items"].scrollTop;"end"===h&&(_t1883+=_e1350.height),_this748["#drop-indicator"].hidden=!1,_this748["#drop-indicator"].style.top=_t1883-1+"px";}else l=null,_this748["#drop-indicator"].hidden=!0;}else _this748["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s726){function s(_x145){return _s726.apply(this,arguments);}s.toString=function(){return _s726.toString();};return s;}(function(t){if(_this748["#items"].removeEventListener("pointermove",e),_this748["#items"].removeEventListener("scroll",i),_this748["#items"].removeEventListener("lostpointercapture",s),_this748["#items"].style.cursor=null,_this748["#drop-indicator"].hidden=!0,c(),_this748.Js.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1351=n[0][am],_i1220=_this748.Js.board.getWorkspaceElementFromPoint(t.clientX,t.clientY),_s725=_this748.Qs.modKeys.shift;_i1220&&w.includes(_i1220.localName)&&(_s725?(_this748.Js.board.undoManager.checkpoint("Apply gradient stroke"),_i1220.style.stroke="url(#".concat(_e1351.id,")")):(_this748.Js.board.undoManager.checkpoint("Apply gradient fill"),_i1220.style.fill="url(#".concat(_e1351.id,")")),_this748._v());}}else if(l){_this748.Js.board.undoManager.checkpoint("Rearrange gradients");var _t1884=document.createDocumentFragment(),_e1352=l[am];var _iterator1257=_createForOfIteratorHelper(n),_step1257;try{for(_iterator1257.s();!(_step1257=_iterator1257.n()).done;){var _i1221=_step1257.value;_i1221[am]!==_e1352&&_t1884.append(_i1221[am]);}}catch(err){_iterator1257.e(err);}finally{_iterator1257.f();}"start"===h?_e1352.before(_t1884):_e1352.after(_t1884);}}));}},{key:"vn",value:function vn(t){if(this["#search-input"].matches(":focus")||this["#color-picker-popover"].opened)return;var e=to.fromEvent(t);if(e.matches("Enter")){var _t1885=this["#items"].querySelector(".item[data-label-edited]"),_e1353=this["#items"].querySelector(".item[data-selected]");_t1885?this.focus():_e1353&&this.mv(_e1353[am].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.fv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Mu()||this.Cv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Pu()||this.Mv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Mu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Pu(!0));}}},{key:"fu",value:function fu(){this.Qs.setConfig("bx-colorsbrowser:developerMode",this["#developer-mode-button"].toggled),this.qw(),this.focus();}},{key:"Tw",value:function Tw(t){var e=t.target.closest("x-menuitem");e&&("add-color"===e.value?this.Pv():"add-color-from-fill"===e.value?this.Dv("fill"):"add-color-from-stroke"===e.value?this.Dv("stroke"):"add-color-from-library"===e.value&&(this.Js.togglePrimaryPanel("library-panel"),this.Js.libraryPanel.toggleBrowser("colors-library-browser")));}},{key:"rv",value:function rv(){var t=this.$x(),e=!1,i=!1;if(t.length>0){var _iterator1258=_createForOfIteratorHelper(t),_step1258;try{for(_iterator1258.s();!(_step1258=_iterator1258.n()).done;){var _i1222=_step1258.value;var _t1886=getComputedStyle(_i1222);if(fo(_t1886.fill)){e=!0;break;}{var _i1223=so.fromString(_t1886.fill);if(_i1223&&"#"===_i1223.value[0]){var _t1887=this.Js.board.masterWorkspace.querySelector(_i1223.value);if(_t1887&&So(_t1887)){e=!0;break;}}}}}catch(err){_iterator1258.e(err);}finally{_iterator1258.f();}var _iterator1259=_createForOfIteratorHelper(t),_step1259;try{for(_iterator1259.s();!(_step1259=_iterator1259.n()).done;){var _e1354=_step1259.value;var _t1888=getComputedStyle(_e1354);if(fo(_t1888.stroke)){i=!0;break;}{var _e1355=so.fromString(_t1888.stroke);if(_e1355&&"#"===_e1355.value[0]){var _t1889=this.Js.board.masterWorkspace.querySelector(_e1355.value);if(_t1889&&So(_t1889)){i=!0;break;}}}}}catch(err){_iterator1259.e(err);}finally{_iterator1259.f();}}this["#add-color-from-fill-menu-item"].disabled=!1===e,this["#add-color-from-stroke-menu-item"].disabled=!1===i;}},{key:"av",value:function av(){this.zv(),this.Cu();}},{key:"mx",value:function mx(t){var _this749=this;var e,_i1224,s=this["#items"].querySelector(".item[data-selected]"),n=s.querySelector(".thumbnail-inner"),o=s[am];this.Js.board.undoManager.checkpoint("Change color"),this["#color-picker"].addEventListener("change",e=function e(){Ao(o,_this749["#color-picker"].value),n.style.background=_this749["#color-picker"].value;}),this["#color-picker"].addEventListener("changeend",_i1224=function i(){_this749["#color-picker"].removeEventListener("change",e),_this749["#color-picker"].removeEventListener("changeend",_i1224);});}},{key:"editColor",value:function(){var _editColor=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee121(t){var e,_t1890,_i1225;return regeneratorRuntime.wrap(function _callee121$(_context122){while(1){switch(_context122.prev=_context122.next){case 0:e=_toConsumableArray(this["#items"].children).find(function(e){return e[am].id===t;});if(!e){_context122.next=8;break;}this.dv([e]);_t1890=e.getBoundingClientRect(),_i1225=new DOMPoint(_t1890.left,_t1890.top+_t1890.height/2);_context122.next=6;return Ki(10);case 6:this["#color-picker-popover"].open(_i1225);this["#color-picker"].value=To(e[am]);case 8:case"end":return _context122.stop();}}},_callee121,this);}));function editColor(_x146){return _editColor.apply(this,arguments);}return editColor;}()},{key:"xv",value:function xv(){this["#color-picker-popover"].opened&&this["#color-picker-popover"].close();}},{key:"mv",value:function mv(t){var _this750=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[am].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t1891=this["#items"].querySelector(".item[data-label-edited]");if(_t1891){if(_t1891===i)return;this.Ov();}}this.dv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[am],l=this["#developer-mode-button"].toggled?"Color ID":"Color title",h=o.querySelector(":scope > bx-title"),a="";!0===this["#developer-mode-button"].toggled&&o.id?a="#"+o.id:!1===this["#developer-mode-button"].toggled&&h&&(a=h.textContent);var r=Hi(_templateObject46(),a,l);n.after(r),r.selectAll(),Ki(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this750.Ov();}),r.validate=function(){var t=null;if(_this750["#developer-mode-button"].toggled){var _e1356=r.value.trim();if(_e1356.startsWith("#")&&(_e1356=_e1356.substring(1)),0===_e1356.length)t="Color must have ID";else if(Ni(_e1356)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1356)))&&o.id!==_e1356&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"Ov",value:function Ov(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1357=this.Js.board,_i1226=t.querySelector(".label"),_s727=t.querySelector("x-input"),_n522=t[am];if(_s727.remove(),_i1226.hidden=!1,t.removeAttribute("data-label-edited"),null===_s727.error)if(this["#developer-mode-button"].toggled){var _t1892=_n522.getAttribute("id").trim(),_i1227=_s727.value.trim().toLowerCase();if(_i1227.startsWith("#")&&(_i1227=_i1227.substring(1)),_t1892!==_i1227){_e1357.undoManager.checkpoint("Gradient ID");var _s728=document.createNodeIterator(_e1357.workspaces,NodeFilter.SHOW_ELEMENT),_n523=null;for(;_n523=_s728.nextNode();){"linearGradient"!==_n523.localName&&"radialGradient"!==_n523.localName||(_n523.id===_t1892&&_n523.setAttribute("id",_i1227),_n523.href.baseVal==="#"+_t1892&&_n523.setAttribute("href","#"+_i1227));{var _e1358=getComputedStyle(_n523);for(var _i1228=0,_arr47=["fill","stroke"];_i1228<_arr47.length;_i1228++){var _s729=_arr47[_i1228];var _o420=_e1358.getPropertyValue(_s729);if(_o420&&_o420.startsWith("url(")){_o420.substring(6,_o420.length-2)===_t1892&&_n523.style.setProperty(_s729,"url(#".concat(_i1227,")"));}}}}}}else{var _t1893=_n522.querySelector(":scope > bx-title"),_i1229=_s727.value.trim();if(_t1893){_t1893.textContent!==_i1229&&(_e1357.undoManager.checkpoint("Color title"),""===_i1229?_t1893.remove():_t1893.textContent=_i1229);}else""!==_i1229&&(_e1357.undoManager.checkpoint("Color title"),_t1893=Di("svg:bx-title"),_t1893.textContent=_i1229,_n522.prepend(_t1893));}}}},{key:"kv",value:function kv(t){this.Js.board.undoManager.checkpoint("Pin Color"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"Sv",value:function Sv(t){this.Js.board.undoManager.checkpoint("Unpin Color"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"dv",value:function dv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1260=_createForOfIteratorHelper(this["#items"].children),_step1260;try{for(_iterator1260.s();!(_step1260=_iterator1260.n()).done;){var _e1359=_step1260.value;t.includes(_e1359)?(_e1359.setAttribute("data-selected",""),_e1359[rm]=Date.now()):_e1359.removeAttribute("data-selected");}}catch(err){_iterator1260.e(err);}finally{_iterator1260.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}this.xv();}},{key:"Mu",value:function Mu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1230=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s730=e[0],_n524=_i1230.indexOf(_s730),_o421=_i1230[_n524-1];if(_o421){if(_o421.scrollIntoViewIfNeeded(),t)_o421.setAttribute("data-selected",""),_o421[rm]=Date.now();else{var _iterator1261=_createForOfIteratorHelper(_i1230),_step1261;try{for(_iterator1261.s();!(_step1261=_iterator1261.n()).done;){var _t1894=_step1261.value;_t1894===_o421?(_t1894.setAttribute("data-selected",""),_t1894[rm]=Date.now()):_t1894.removeAttribute("data-selected");}}catch(err){_iterator1261.e(err);}finally{_iterator1261.f();}}return this.xv(),!0;}}return!1;}},{key:"Pu",value:function Pu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1231=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s731=e[e.length-1],_n525=_i1231.indexOf(_s731),_o422=_i1231[_n525+1];if(_o422){if(_o422.scrollIntoViewIfNeeded(),t)_o422.setAttribute("data-selected",""),_o422[rm]=Date.now();else{var _iterator1262=_createForOfIteratorHelper(_i1231),_step1262;try{for(_iterator1262.s();!(_step1262=_iterator1262.n()).done;){var _t1895=_step1262.value;_t1895===_o422?(_t1895.setAttribute("data-selected",""),_t1895[rm]=Date.now()):_t1895.removeAttribute("data-selected");}}catch(err){_iterator1262.e(err);}finally{_iterator1262.f();}}return this.xv(),!0;}}return!1;}},{key:"Cv",value:function Cv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1263=_createForOfIteratorHelper(t),_step1263;try{for(_iterator1263.s();!(_step1263=_iterator1263.n()).done;){var _i1232=_step1263.value;_i1232===e?(_i1232.setAttribute("data-selected",""),_i1232[rm]=Date.now()):_i1232.removeAttribute("data-selected");}}catch(err){_iterator1263.e(err);}finally{_iterator1263.f();}return this.xv(),!0;}return!1;}},{key:"Mv",value:function Mv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1264=_createForOfIteratorHelper(t),_step1264;try{for(_iterator1264.s();!(_step1264=_iterator1264.n()).done;){var _i1233=_step1264.value;_i1233===e?(_i1233.setAttribute("data-selected",""),_i1233[rm]=Date.now()):_i1233.removeAttribute("data-selected");}}catch(err){_iterator1264.e(err);}finally{_iterator1264.f();}return this.xv(),!0;}return!1;}},{key:"iv",value:function iv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.dv(t,!1);}},{key:"nv",value:function nv(){this.dv([],!1);}},{key:"ev",value:function ev(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#color-picker-popover"].opened||null;}},{key:"sv",value:function sv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#color-picker-popover"].opened||null;}},{key:"Pv",value:function Pv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add Color");var i=Di("svg:linearGradient");if(i.setAttribute("id",t.generateUniqueID("color")),i.setAttribute("data-bx-pinned","true"),i.innerHTML='<stop style="stop-color: #d8d8d8;"></stop>',e.length>0){e[e.length-1][am].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[am]===i;});this.dv([s]);}},{key:"Dv",value:function Dv(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"fill";var e=this.Js.board,i=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"),s=this.$x(),n=[];var _iterator1265=_createForOfIteratorHelper(s),_step1265;try{for(_iterator1265.s();!(_step1265=_iterator1265.n()).done;){var _i1235=_step1265.value;var _s733=getComputedStyle(_i1235),_o424=null;if(!0===fo(_s733[t]))_o424=_s733[t];else{var _i1236=so.fromString(_s733[t]);if(_i1236&&"#"===_i1236.value[0]){var _t1897=e.masterWorkspace.querySelector(_i1236.value);_t1897&&So(_t1897)&&(_o424=To(_t1897));}}null!==_o424&&n.push(_o424);}}catch(err){_iterator1265.e(err);}finally{_iterator1265.f();}if(n=Je(n),n.length>0){e.undoManager.checkpoint(1===n.length?"Add color":"Add colors");var _t1896=[],_s732=i.length>0?i[i.length-1][am]:null;var _iterator1266=_createForOfIteratorHelper(n),_step1266;try{for(_iterator1266.s();!(_step1266=_iterator1266.n()).done;){var _i1234=_step1266.value;var _n526=Di("svg:linearGradient");_n526.setAttribute("id",e.generateUniqueID("color")),_n526.setAttribute("data-bx-pinned","true"),_n526.innerHTML="<stop style=\"stop-color: ".concat(_i1234,"\"></stop>"),_t1896.push(_n526),_s732?_s732.after(_n526):(e.maybeCreateDefsForMasterWorkspace(),e.defs.append(_n526)),_s732=_n526;}}catch(err){_iterator1266.e(err);}finally{_iterator1266.f();}this.qs();var _o423=_toConsumableArray(this["#items"].children).filter(function(e){return _t1896.includes(e[am]);});this.dv(_o423);}}},{key:"gv",value:function gv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"),i=e.length>0?e[e.length-1]:null,s=i?i[am]:null,n=document.createDocumentFragment(),o=[];t.undoManager.checkpoint("Duplicate colors");var _iterator1267=_createForOfIteratorHelper(e),_step1267;try{for(_iterator1267.s();!(_step1267=_iterator1267.n()).done;){var _i1237=_step1267.value;var _e1360=t.generateUniqueID("color"),_s734=To(_i1237[am]),_l339=Wi(_templateObject47(),_e1360,_s734);n.append(_l339),o.push(_l339);}}catch(err){_iterator1267.e(err);}finally{_iterator1267.f();}s.after(n);{this.qs();var _t1898=_toConsumableArray(this["#items"].children).filter(function(t){return o.includes(t[am]);});this.dv(_t1898);}}},{key:"fv",value:function(){var _fv=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee122(){var t,e,i,_iterator1268,_step1268,_step1268$value,_t1902,_s739,_iterator1270,_step1270,_n528,_t1899,_s735,_i1238,_s736,_i1239,_i1240,_arr48,_n527,_o425,_l340,_h251,_i1241,_s737,_iterator1269,_step1269,_t1901,_i1242,_s738,_t1900;return regeneratorRuntime.wrap(function _callee122$(_context123){while(1){switch(_context123.prev=_context123.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[am];}),i=[];_iterator1268=_createForOfIteratorHelper(this.Ev());try{for(_iterator1268.s();!(_step1268=_iterator1268.n()).done;){_step1268$value=_slicedToArray(_step1268.value,2),_t1902=_step1268$value[0],_s739=_step1268$value[1];_iterator1270=_createForOfIteratorHelper(_s739);try{for(_iterator1270.s();!(_step1270=_iterator1270.n()).done;){_n528=_step1270.value;e.includes(_n528)&&!1===i.includes(_t1902)&&i.push(_t1902);}}catch(err){_iterator1270.e(err);}finally{_iterator1270.f();}}}catch(err){_iterator1268.e(err);}finally{_iterator1268.f();}if(!(0!==e.length)){_context123.next=19;break;}if(!(i.length>0)){_context123.next=12;break;}_t1899="Delete ";1===e.length?_t1899+="a color":_t1899+="".concat(e.length," colors"),_t1899+=" applied to ",1===i.length?_t1899+="1 object?":_t1899+="".concat(i.length," objects?");_context123.next=9;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t1899,detail:"Deleting a color also removes it from all objects it was applied to."});case 9:_s735=_context123.sent;if(!(-1===_s735||1===_s735)){_context123.next=12;break;}return _context123.abrupt("return");case 12:t.undoManager.checkpoint("Delete colors"),this.Pu()||this.Mu();_i1238=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),_s736=null;for(;_s736=_i1238.nextNode();){if(w.includes(_s736.localName)){_i1239=getComputedStyle(_s736);for(_i1240=0,_arr48=["fill","stroke"];_i1240<_arr48.length;_i1240++){_n527=_arr48[_i1240];_o425=so.fromString(_i1239[_n527]),_l340=_o425?t.masterWorkspace.querySelector(_o425.value):null,_h251=_l340&&["linearGradient","radialGradient"].includes(_l340.localName)?_l340:null;e.includes(_h251)&&(_s736.style[_n527]="#000000",_s736.removeAttribute(_n527));}}}_i1241=_toConsumableArray(t.masterWorkspace.querySelectorAll("linearGradient, radialGradient")),_s737=[];_iterator1269=_createForOfIteratorHelper(_i1241);try{for(_iterator1269.s();!(_step1269=_iterator1269.n()).done;){_t1901=_step1269.value;e.includes(_t1901)&&_s737.push(_t1901);}}catch(err){_iterator1269.e(err);}finally{_iterator1269.f();}for(_i1242=0,_s738=_s737;_i1242<_s738.length;_i1242++){_t1900=_s738[_i1242];_t1900.remove();}case 19:case"end":return _context123.stop();}}},_callee122,this);}));function fv(){return _fv.apply(this,arguments);}return fv;}()},{key:"wv",value:function wv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[am];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin color"+e.length>1?"s":"");var _iterator1271=_createForOfIteratorHelper(e),_step1271;try{for(_iterator1271.s();!(_step1271=_iterator1271.n()).done;){var _t1903=_step1271.value;_t1903.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1271.e(err);}finally{_iterator1271.f();}}}},{key:"vv",value:function vv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[am];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin color"+e.length>1?"s":"");var _iterator1272=_createForOfIteratorHelper(e),_step1272;try{for(_iterator1272.s();!(_step1272=_iterator1272.n()).done;){var _t1904=_step1272.value;_t1904.removeAttribute("data-bx-pinned");}}catch(err){_iterator1272.e(err);}finally{_iterator1272.f();}}}},{key:"Fw",value:function Fw(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s740=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_n529=t[0],_o426=_s740.indexOf(e);if("start"===i){if(_s740[_o426-1]===_n529)return!1;}else if("end"===i){if(_s740[_o426+1]===_n529)return!1;}}return!0;}},{key:"yv",value:function yv(t){var e=this.Js.board,i=document.createNodeIterator(e.currentWorkspace,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(w.includes(s.localName)){var _i1243=getComputedStyle(s);for(var _i1244=0,_arr49=["fill","stroke"];_i1244<_arr49.length;_i1244++){var _o427=_arr49[_i1244];var _l341=so.fromString(_i1243[_o427]),_h252=_l341?e.masterWorkspace.querySelector(_l341.value):null,_a205=_h252&&["linearGradient","radialGradient"].includes(_h252.localName)?_h252:null;if(_a205&&_a205.id===t){var _t1905=s.closest("text");_t1905?!1===n.includes(_t1905)&&n.push(_t1905):n.push(s);break;}}}}e.selectedElements=[].concat(n);}},{key:"Ev",value:function Ev(){var t=this.Js.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(w.includes(s.localName)){var _i1245=getComputedStyle(s);for(var _i1246=0,_arr50=["fill","stroke"];_i1246<_arr50.length;_i1246++){var _n530=_arr50[_i1246];var _o428=so.fromString(_i1245[_n530]),_l342=_o428?t.masterWorkspace.querySelector(_o428.value):null,_h253=_l342&&"linearGradient"==_l342.localName?_l342:null;_h253&&So(_h253)&&(!1===e.has(s)?e.set(s,[_h253]):e.get(s).push(_h253));}}}return e;}},{key:"$x",value:function $x(){var t=["circle","ellipse","line","path","polygon","polyline","rect","text","use"],e=[],i=function i(s){var _iterator1273=_createForOfIteratorHelper(s),_step1273;try{for(_iterator1273.s();!(_step1273=_iterator1273.n()).done;){var _n531=_step1273.value;t.includes(_n531.localName)?e.push(_n531):"g"!==_n531.localName&&"a"!==_n531.localName||i(_n531.children);}}catch(err){_iterator1273.e(err);}finally{_iterator1273.f();}};return i(this.Js.board.outermostSelectedElements),e;}},{key:"qs",value:function qs(){{var _t1906=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("linearGradient, radialGradient")).filter(function(t){return So(t);}),_e1361=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[am];}),_i1247=document.createDocumentFragment();var _iterator1274=_createForOfIteratorHelper(_t1906),_step1274;try{for(_iterator1274.s();!(_step1274=_iterator1274.n()).done;){var _s741=_step1274.value;var _t1907=_s741.querySelector(":scope > stop"),_n532=getComputedStyle(_t1907).stopColor,_o429=Hi(_templateObject48(),_n532,_s741.id);_o429[am]=_s741,_e1361.includes(_s741)&&(_o429.setAttribute("data-selected",""),_o429[rm]=Date.now()),this.Tv(_o429),this.Av(_o429),_i1247.append(_o429);}}catch(err){_iterator1274.e(err);}finally{_iterator1274.f();}this["#items"].innerHTML="",this["#items"].append(_i1247);}this._v(),this.bv(),this.Cu();}},{key:"zv",value:function zv(){var _iterator1275=_createForOfIteratorHelper(this["#items"].children),_step1275;try{for(_iterator1275.s();!(_step1275=_iterator1275.n()).done;){var _t1908=_step1275.value;this.Av(_t1908);}}catch(err){_iterator1275.e(err);}finally{_iterator1275.f();}}},{key:"qw",value:function qw(){this["#search-input"].value="";var _iterator1276=_createForOfIteratorHelper(this["#items"].children),_step1276;try{for(_iterator1276.s();!(_step1276=_iterator1276.n()).done;){var _t1909=_step1276.value;this.Tv(_t1909),this.Av(_t1909);}}catch(err){_iterator1276.e(err);}finally{_iterator1276.f();}this.Cu();}},{key:"Cu",value:function Cu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"Av",value:function Av(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Tv",value:function Tv(t){var e=t[am],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<color>",i.removeAttribute("data-custom"));else{var _t1910;_t1910=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t1910?(i.textContent=_t1910.textContent,i.setAttribute("data-custom","")):(i.textContent="Color",i.removeAttribute("data-custom"));}}},{key:"_v",value:function _v(){var t=this.Ev();var _iterator1277=_createForOfIteratorHelper(this["#items"].children),_step1277;try{for(_iterator1277.s();!(_step1277=_iterator1277.n()).done;){var _e1362=_step1277.value;var _i1248=_e1362.querySelector(".counter-button"),_s742=0;var _iterator1278=_createForOfIteratorHelper(t),_step1278;try{for(_iterator1278.s();!(_step1278=_iterator1278.n()).done;){var _step1278$value=_slicedToArray(_step1278.value,2),_i1249=_step1278$value[0],_n533=_step1278$value[1];_n533.includes(_e1362[am])&&(_s742+=1);}}catch(err){_iterator1278.e(err);}finally{_iterator1278.f();}0===_s742?(_i1248.setAttribute("hidden",""),_i1248.firstElementChild.textContent="0"):(_i1248.setAttribute("title",1===_s742?"Select 1 color user":"Select ".concat(_s742," color users")),_i1248.removeAttribute("hidden"),_i1248.firstElementChild.textContent=_s742);}}catch(err){_iterator1277.e(err);}finally{_iterator1277.f();}}},{key:"bv",value:function bv(){if("unpinned"===this.uv.colors){var _iterator1279=_createForOfIteratorHelper(this["#items"].children),_step1279;try{for(_iterator1279.s();!(_step1279=_iterator1279.n()).done;){var _t1911=_step1279.value;var _e1363=_t1911[am],_i1250=_t1911.lastElementChild;_i1250.hidden=!1,_i1250.toggled=_e1363.hasAttribute("data-bx-pinned");}}catch(err){_iterator1279.e(err);}finally{_iterator1279.f();}}else{var _iterator1280=_createForOfIteratorHelper(this["#items"].children),_step1280;try{for(_iterator1280.s();!(_step1280=_iterator1280.n()).done;){var _t1912=_step1280.value;_t1912.lastElementChild.hidden=!0;}}catch(err){_iterator1280.e(err);}finally{_iterator1280.f();}}}}]);return dm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(dm,"observedAttributes",["enabled"]);_defineProperty(dm,"_shadowTemplate",Hi(_templateObject379()));_defineProperty(dm,"_shadowStyleSheet",Yi(_templateObject380()));customElements.define("bx-colorsbrowser",dm);var cm=Symbol(),pm=Symbol();var um=/*#__PURE__*/function(_HTMLElement109){_inherits(um,_HTMLElement109);var _super161=_createSuper(um);_createClass(um,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"selectedStops",get:function get(){return _toConsumableArray(this.Ih);},set:function set(t){this.Ih=_toConsumableArray(t),this.$v(),this.Iv(),this.Lv(),this.Bv();}}]);function um(){var _this751;_classCallCheck(this,um);_this751=_super161.call(this),_this751.tabIndex=0,_this751.Rv=!1,_this751.Gv=!1,_this751.Ih=[],_this751._shadowRoot=_this751.attachShadow({mode:"closed"}),_this751._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,um._shadowStyleSheet],_this751._shadowRoot.append(document.importNode(um._shadowTemplate.content,!0));var _iterator1281=_createForOfIteratorHelper(_this751._shadowRoot.querySelectorAll("[id]")),_step1281;try{for(_iterator1281.s();!(_step1281=_iterator1281.n()).done;){var _t1913=_step1281.value;_this751["#"+_t1913.id]=_t1913;}}catch(err){_iterator1281.e(err);}finally{_iterator1281.f();}_this751.addEventListener("keydown",function(t){return _this751.vn(t);}),_this751["#gradient-slider"].addEventListener("contextmenu",function(t){return _this751.Fv(t);}),_this751["#gradient-slider"].addEventListener("pointerdown",function(t){return _this751.Uv(t);}),_this751["#gradient-slider"].addEventListener("dblclick",function(t){return _this751.Nv(t);}),_this751["#stop-color-picker"].addEventListener("changestart",function(t){return _this751.mx(t);}),_this751["#stop-offset-section"].addEventListener("changestart",function(){return _this751.Vv();});return _this751;}_createClass(um,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this.jv=Ti(this,"bx-gradientsbrowser");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this752=this;{var _t1914=this.jv.selectedGradients[0],_e1364=[];if(_t1914[pm]&&(_e1364=_t1914[pm].filter(function(e){return _t1914.contains(e);})),0===_e1364.length){var _i1251=Oo(_t1914);_i1251.length>0&&(_e1364=[_i1251[0]]);}this.Ih=_e1364;}this.focus(),this.qs(),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this752.il(t);}),this.jv.addEventListener("selectedgradientschange",this.Hv=function(){_this752.qs();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("workspacemutation",this.rn),this.jv.removeEventListener("selectedgradientschange",this.Hv);var t=this.jv.selectedGradients[0];t&&(t[pm]=_toConsumableArray(this.selectedStops)),this["#gradient-slider"].removeAttribute("data-dragging"),this.Ih=[],this.Rv=!1,this.Gv=!1;}},{key:"il",value:function il(t){var _this753=this;var _iterator1282=_createForOfIteratorHelper(t.detail),_step1282;try{for(_iterator1282.s();!(_step1282=_iterator1282.n()).done;){var _e1365=_step1282.value;if("childList"===_e1365.type&&["linearGradient","radialGradient"].includes(_e1365.target.nodeName)){(function(){var t=_this753.jv.selectedGradients[0];_this753.Ih=_this753.Ih.filter(function(e){return t.contains(e);});})();}}}catch(err){_iterator1282.e(err);}finally{_iterator1282.f();}this.qs();}},{key:"vn",value:function vn(t){var e=to.fromEvent(t);t.stopPropagation(),0!==this.Ih.length&&null===this._shadowRoot.activeElement&&(e.matches("Backspace")||e.matches("Delete")?this.la():e.matches("Tab")?(t.preventDefault(),this.ha()):e.matches("Shift","Tab")?(t.preventDefault(),this.aa()):e.matches("ArrowLeft")?this.da(-.01):e.matches("ArrowRight")?this.da(.01):e.matches("Shift","ArrowLeft")?this.da(-.1):e.matches("Shift","ArrowRight")&&this.da(.1));}},{key:"Fv",value:function(){var _Fv=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee123(t){var e,i,s,_e1366,_i1252;return regeneratorRuntime.wrap(function _callee123$(_context124){while(1){switch(_context124.prev=_context124.next){case 0:t.preventDefault(),t.target.matches(".marker")?!1===t.target.hasAttribute("data-selected")&&(this.selectedStops=[t.target[cm]]):this.selectedStops=[];e=this.jv.selectedGradients[0];i=Oo(e);_context124.next=5;return this.Qs.openContextMenu([{value:"add-stop",label:"Add stop",disabled:!1},{value:"duplicate-stops",label:1===this.selectedStops.length?"Duplicate stop":"Duplicate stops",disabled:0===this.selectedStops.length},{value:"delete-stops",label:1===this.selectedStops.length?"Delete stop":"Delete stops",disabled:0===this.selectedStops.length},{value:"swap-stops",label:"Swap stops",disabled:2!==this.selectedStops.length},{type:"separator"},{label:"Reverse gradient",value:"reverse-gradient",disabled:i.length<=1},{label:"Harmonize gradient",value:"harmonize-gradient",disabled:i.length<1}]);case 5:s=_context124.sent;if("add-stop"===s){_e1366=this["#track"].getBoundingClientRect(),_i1252=(t.clientX-_e1366.x)/_e1366.width;_i1252=Z(_i1252,0,1,3),this.Yv(_i1252);}else"duplicate-stops"===s?this.Wv():"delete-stops"===s?this.la():"reverse-gradient"===s?this.qv():"harmonize-gradient"===s&&this.Xv();case 7:case"end":return _context124.stop();}}},_callee123,this);}));function Fv(_x147){return _Fv.apply(this,arguments);}return Fv;}()},{key:"Uv",value:function Uv(t){1===t.buttons&&(t.target.closest(".marker")?this.Zv(t):this.selectedStops=[]);}},{key:"Nv",value:function Nv(t){if(t.target===this["#gradient-slider"]||t.target===this["#markers"]){var _e1367=this["#track"].getBoundingClientRect(),_i1253=(t.clientX-_e1367.x)/_e1367.width;_i1253=Z(_i1253,0,1,3),this.Yv(_i1253);}}},{key:"Zv",value:function Zv(t){var _this754=this;if(1!==t.buttons)return;var e,_i1256,s=this.Js.board,n=this.jv.selectedGradients[0],o=Oo(n),l=t.target.closest(".marker"),h=this["#track"].getBoundingClientRect(),a=l.getBoundingClientRect(),r=new DOMPoint(t.clientX,t.clientY),d=r,_ref135=(t.clientX,a.x,a.width,this.Qs.modKeys),c=_ref135.alt,p=_ref135.shift,u=Symbol();!1===p?!1===this.selectedStops.includes(l[cm])&&(this.selectedStops=[l[cm]]):!0===p&&!1===this.selectedStops.includes(l[cm])&&(this.selectedStops=[].concat(_toConsumableArray(this.selectedStops),[l[cm]]));var x=_toConsumableArray(this["#markers"].querySelectorAll(":scope > .marker[data-selected]")),b=Math.max.apply(Math,_toConsumableArray(x.map(function(t){return-t[cm].offset.baseVal;}))),m=Math.min.apply(Math,_toConsumableArray(x.map(function(t){return 1-t[cm].offset.baseVal;})));var _iterator1283=_createForOfIteratorHelper(x),_step1283;try{for(_iterator1283.s();!(_step1283=_iterator1283.n()).done;){var _t1918=_step1283.value;_t1918[cm][u]=_t1918[cm].offset.baseVal;}}catch(err){_iterator1283.e(err);}finally{_iterator1283.f();}this["#gradient-slider"].setPointerCapture(t.pointerId),this["#gradient-slider"].addEventListener("pointermove",e=function e(_e1370){{var _i1254=new DOMPoint(_e1370.clientX,_e1370.clientY),_s743=_e1370.timeStamp-t.timeStamp;if(!0===_e(d,_i1254,0))return;if(d=_i1254,Pe(r,_i1254)<3&&_s743<80)return;}!1===_this754.Rv&&(_this754.Rv=!0,s.undoManager.checkpoint("Move gradient stop"),_this754["#gradient-slider"].setAttribute("data-dragging",""));{var _i1255=(_e1370.clientX-t.clientX)/h.width;_i1255=Z(_i1255,b,m,3);var _iterator1284=_createForOfIteratorHelper(x),_step1284;try{for(_iterator1284.s();!(_step1284=_iterator1284.n()).done;){var _t1915=_step1284.value;var _e1368=_t1915[cm],_s744=_e1368[u];_s744+=_i1255,_s744=Z(_s744,0,1,3),_t1915.style.left=100*_s744+"%",_e1368.setAttribute("offset",_s744);}}catch(err){_iterator1284.e(err);}finally{_iterator1284.f();}}{var _t1916=o.map(function(t){return t.offset.baseVal;});if(!1===K(_t1916,!0)){var _t1917=_toConsumableArray(o).sort(function(t,e){return t.offset.baseVal-e.offset.baseVal;});var _iterator1285=_createForOfIteratorHelper(_t1917),_step1285;try{for(_iterator1285.s();!(_step1285=_iterator1285.n()).done;){var _e1369=_step1285.value;n.append(_e1369);}}catch(err){_iterator1285.e(err);}finally{_iterator1285.f();}o=Oo(n);}}_this754.Kv();}),this["#gradient-slider"].addEventListener("lostpointercapture",_i1256=function i(){_this754["#gradient-slider"].removeEventListener("pointermove",e),_this754["#gradient-slider"].removeEventListener("lostpointercapture",_i1256),_this754.Rv=!1,_this754["#gradient-slider"].removeAttribute("data-dragging");});}},{key:"mx",value:function mx(t){var _this755=this;var e,_i1257,s=this.Js.board,n=this.selectedStops;s.undoManager.checkpoint("Change gradient stop color"),this["#stop-color-picker"].addEventListener("change",e=function e(){var _iterator1286=_createForOfIteratorHelper(n),_step1286;try{for(_iterator1286.s();!(_step1286=_iterator1286.n()).done;){var _t1919=_step1286.value;_t1919.style.stopColor=_this755["#stop-color-picker"].value;}}catch(err){_iterator1286.e(err);}finally{_iterator1286.f();}}),this["#stop-color-picker"].addEventListener("changeend",_i1257=function i(){_this755["#stop-color-picker"].removeEventListener("change",e),_this755["#stop-color-picker"].removeEventListener("changeend",_i1257);var _iterator1287=_createForOfIteratorHelper(n),_step1287;try{for(_iterator1287.s();!(_step1287=_iterator1287.n()).done;){var _t1920=_step1287.value;ga("stop-color",_t1920);}}catch(err){_iterator1287.e(err);}finally{_iterator1287.f();}});}},{key:"Vv",value:function Vv(){var _this756=this;this.Js.board.undoManager.checkpoint("Stop offset"),this.Gv=!0;var t,_e1372,i=this.jv.selectedGradients[0],s=Oo(i),n=this.selectedStops;this["#stop-offset-section"].addEventListener("change",t=function t(_t1924){_t1924.target===_this756["#stop-offset-slider"]?_this756["#stop-offset-input"].value=_this756["#stop-offset-slider"].value:_t1924.target===_this756["#width-input"]&&(_this756["#stop-offset-slider"].value=_this756["#stop-offset-input"].value),_this756["#stop-offset-slider"].mixed=!1,_this756["#stop-offset-input"].mixed=!1;var _iterator1288=_createForOfIteratorHelper(n),_step1288;try{for(_iterator1288.s();!(_step1288=_iterator1288.n()).done;){var _t1923=_step1288.value;_t1923.setAttribute("offset",_this756["#stop-offset-input"].value);}}catch(err){_iterator1288.e(err);}finally{_iterator1288.f();}{var _t1921=s.map(function(t){return t.offset.baseVal;});if(!1===K(_t1921,!0)){var _t1922=_toConsumableArray(s).sort(function(t,e){return t.offset.baseVal-e.offset.baseVal;});var _iterator1289=_createForOfIteratorHelper(_t1922),_step1289;try{for(_iterator1289.s();!(_step1289=_iterator1289.n()).done;){var _e1371=_step1289.value;i.append(_e1371);}}catch(err){_iterator1289.e(err);}finally{_iterator1289.f();}s=Oo(i);}}_this756.Qv(),_this756.Iv();}),this["#stop-offset-section"].addEventListener("changeend",_e1372=function e(){_this756["#stop-offset-section"].removeEventListener("change",t),_this756["#stop-offset-section"].removeEventListener("changeend",_e1372),_this756.Gv=!1;});}},{key:"Yv",value:function Yv(t){this.Js.board.undoManager.checkpoint("Add gradient stop");var e=this.jv.selectedGradients[0],i=Oo(e),s=null;for(var _e1373=0;_e1373<i.length;_e1373+=1){var _n534=i[_e1373];if(_n534.offset.baseVal<t)s=_e1373;else if(_n534.offset.baseVal>t)break;}var n=Di("svg:stop");if(n.setAttribute("offset",t),i.length>0?n.style.stopColor=zo(e,t):n.style.stopColor="#ff0000",null===s){var _t1925=_toConsumableArray(e.children).find(function(t){return"stop"===t.localName;});_t1925?_t1925.before(n):e.append(n);}else i[s].after(n);this.selectedStops=[n];}},{key:"ha",value:function ha(){var t=this.jv.selectedGradients[0],e=Oo(t),i=this.selectedStops;if(i.length>0){var _t1926=i[i.length-1],_s745=e.indexOf(_t1926),_n535=e[_s745<e.length-1?_s745+1:0];this.selectedStops=[_n535];}}},{key:"aa",value:function aa(){var t=this.jv.selectedGradients[0],e=Oo(t),i=this.selectedStops;if(i.length>0){var _t1927=i[i.length-1],_s746=e.indexOf(_t1927),_n536=e[_s746>0?_s746-1:e.length-1];this.selectedStops=[_n536];}}},{key:"la",value:function la(){var t=this.selectedStops;if(this.selectedStops=[],t.length>0){this.Js.board.undoManager.checkpoint("Delete gradient stop(s)");var _iterator1290=_createForOfIteratorHelper(t),_step1290;try{for(_iterator1290.s();!(_step1290=_iterator1290.n()).done;){var _e1374=_step1290.value;_e1374.remove();}}catch(err){_iterator1290.e(err);}finally{_iterator1290.f();}}}},{key:"Wv",value:function Wv(){this.Js.board.undoManager.checkpoint("Duplicate stops");var t=[];var _iterator1291=_createForOfIteratorHelper(this["#markers"].querySelectorAll(":scope > .marker[data-selected]")),_step1291;try{for(_iterator1291.s();!(_step1291=_iterator1291.n()).done;){var _e1375=_step1291.value;var _i1258=_e1375[cm],_s747=Di("svg:stop");_s747.setAttribute("offset",_i1258.offset.baseVal),_s747.style.stopColor=Eo(_i1258),_i1258.after(_s747),t.push(_s747);}}catch(err){_iterator1291.e(err);}finally{_iterator1291.f();}this.selectedStops=[].concat(_toConsumableArray(this.selectedStops),t);}},{key:"da",value:function da(t){var e=this.jv.selectedGradients[0],i=Oo(e),s=_toConsumableArray(this["#markers"].querySelectorAll(":scope > .marker[data-selected]")),n=Math.max.apply(Math,_toConsumableArray(s.map(function(t){return-t[cm].offset.baseVal;}))),o=Math.min.apply(Math,_toConsumableArray(s.map(function(t){return 1-t[cm].offset.baseVal;})));if(0!==t){if(t>0){if(0===o)return;}else if(t<0&&0===n)return;this.Js.board.undoManager.checkpoint("Move gradient stop"),t=Z(t,n,o,3);var _iterator1292=_createForOfIteratorHelper(s),_step1292;try{for(_iterator1292.s();!(_step1292=_iterator1292.n()).done;){var _e1376=_step1292.value;var _i1260=_e1376[cm],_s748=_i1260.offset.baseVal;_s748+=t,_s748=Z(_s748,0,1,3),_e1376.style.left=100*_s748+"%",_i1260.setAttribute("offset",_s748);}}catch(err){_iterator1292.e(err);}finally{_iterator1292.f();}{var _t1928=i.map(function(t){return t.offset.baseVal;});if(!1===K(_t1928,!0)){var _t1929=_toConsumableArray(i).sort(function(t,e){return t.offset.baseVal-e.offset.baseVal;});var _iterator1293=_createForOfIteratorHelper(_t1929),_step1293;try{for(_iterator1293.s();!(_step1293=_iterator1293.n()).done;){var _i1259=_step1293.value;e.append(_i1259);}}catch(err){_iterator1293.e(err);}finally{_iterator1293.f();}i=Oo(e);}}this.Kv();}}},{key:"qv",value:function qv(){this.Js.board.undoManager.checkpoint("Reverse gradient");var t=this.jv.selectedGradients[0],e=Oo(t);var _iterator1294=_createForOfIteratorHelper(_toConsumableArray(e).reverse()),_step1294;try{for(_iterator1294.s();!(_step1294=_iterator1294.n()).done;){var _i1261=_step1294.value;_i1261.offset.baseVal=1-_i1261.offset.baseVal,t.append(_i1261);}}catch(err){_iterator1294.e(err);}finally{_iterator1294.f();}}},{key:"Xv",value:function Xv(){this.Js.board.undoManager.checkpoint("Harmonize gradient");var t=this.jv.selectedGradients[0],e=Oo(t);for(var _t1930=0;_t1930<e.length;_t1930+=1){e[_t1930].setAttribute("offset",_t1930/(e.length-1));}}},{key:"qs",value:function qs(){this.Qv(),this.Iv(),this.Lv(),this.Bv();}},{key:"Qv",value:function Qv(){var t=this.jv.selectedGradients[0];if(t){var _e1377=Oo(t),_i1262=_e1377.map(function(t){return X(100*t.offset.baseVal,3);}),_s749=_e1377.map(function(t){return Eo(t);});if(0===_e1377.length?(this["#left-gradient-slider-edge"].style.background="transparent",this["#right-gradient-slider-edge"].style.background="transparent",this["#track"].style.backgroundImage="linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0) 100%)"):1===_e1377.length?(this["#left-gradient-slider-edge"].style.background=_s749[0],this["#right-gradient-slider-edge"].style.background=_s749[0],this["#track"].style.backgroundImage="linear-gradient(90deg, ".concat(_s749[0]," 0%, ").concat(_s749[0]," 100%)")):(this["#left-gradient-slider-edge"].style.background=_s749[0],this["#right-gradient-slider-edge"].style.background=_s749[_s749.length-1],this["#track"].style.backgroundImage="linear-gradient(90deg, "+_e1377.map(function(t,e){return"".concat(_s749[e]," ").concat(_i1262[e],"%");}).join(", ")+")"),!1===this.Rv){this["#markers"].innerHTML="";for(var _t1931=0;_t1931<_e1377.length;_t1931+=1){var _s750=_e1377[_t1931],_n537=_i1262[_t1931],_o430=Di("div");_o430[cm]=_s750,_o430.setAttribute("class","marker"),_o430.style.left=_n537+"%",this["#markers"].append(_o430);}this.$v(),this.Kv();}}}},{key:"$v",value:function $v(){var t=this.selectedStops;var _iterator1295=_createForOfIteratorHelper(this["#markers"].children),_step1295;try{for(_iterator1295.s();!(_step1295=_iterator1295.n()).done;){var _e1378=_step1295.value;t.includes(_e1378[cm])?_e1378.setAttribute("data-selected",""):_e1378.removeAttribute("data-selected");}}catch(err){_iterator1295.e(err);}finally{_iterator1295.f();}}},{key:"Kv",value:function Kv(){var t=_toConsumableArray(this["#markers"].children),e=[];{(function(){var i=[],s=Symbol();var _iterator1296=_createForOfIteratorHelper(t),_step1296;try{for(_iterator1296.s();!(_step1296=_iterator1296.n()).done;){var _e1379=_step1296.value;_e1379[s]=_e1379.getBoundingClientRect();}}catch(err){_iterator1296.e(err);}finally{_iterator1296.f();}var _iterator1297=_createForOfIteratorHelper(t),_step1297;try{var _loop27=function _loop27(){var n=_step1297.value;var o=[],l=function l(e){var _iterator1299=_createForOfIteratorHelper(t),_step1299;try{for(_iterator1299.s();!(_step1299=_iterator1299.n()).done;){var _n538=_step1299.value;if(_n538!==e){var _t1932=!o.includes(_n538)&&!i.includes(_n538),_h254=_n538[s].left<=e[s].right&&e[s].left<=_n538[s].right;_t1932&&_h254&&(o.push(_n538),i.push(_n538),l(_n538));}}}catch(err){_iterator1299.e(err);}finally{_iterator1299.f();}};l(n),o.length>0&&e.push(Li(o));};for(_iterator1297.s();!(_step1297=_iterator1297.n()).done;){_loop27();}}catch(err){_iterator1297.e(err);}finally{_iterator1297.f();}var _iterator1298=_createForOfIteratorHelper(t),_step1298;try{for(_iterator1298.s();!(_step1298=_iterator1298.n()).done;){var _s751=_step1298.value;i.includes(_s751)||e.push([_s751]);}}catch(err){_iterator1298.e(err);}finally{_iterator1298.f();}})();}for(var _i1263=0,_e1380=e;_i1263<_e1380.length;_i1263++){var _t1933=_e1380[_i1263];var _e1381=100/_t1933.length;for(var _i1264=0;_i1264<_t1933.length;_i1264+=1){var _s752=_t1933[_i1264];_s752.style.height=_e1381+"%",_s752.style.top=_e1381*_i1264+"%";}}}},{key:"Iv",value:function Iv(){!1===this.Rv&&(0===this.selectedStops.length?this["#stop-color-section"].hidden=!0:1===this.selectedStops.length&&(this["#stop-color-section"].hidden=!1,this["#stop-color-picker"].value=Eo(this.selectedStops[0])));}},{key:"Lv",value:function Lv(){if(!1===this.Gv)if(0===this.selectedStops.length)this["#stop-offset-section"].hidden=!0;else{var _t1934=this.selectedStops.map(function(t){return t.offset.baseVal;}),_e1382=!(_t1934.length<=1)&&!ti(_t1934,_t1934[0]);this["#stop-offset-section"].hidden=!1,this["#stop-offset-slider"].mixed=_e1382,this["#stop-offset-slider"].value=X(_t1934[0],3),this["#stop-offset-input"].mixed=_e1382,this["#stop-offset-input"].value=X(_t1934[0],3);}}},{key:"Bv",value:function Bv(){0===this.selectedStops.length?this["#placeholder-section"].hidden=!1:this["#placeholder-section"].hidden=!0;}}]);return um;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(um,"observedAttributes",["enabled"]);_defineProperty(um,"_shadowTemplate",Hi(_templateObject381()));_defineProperty(um,"_shadowStyleSheet",Yi(_templateObject382()));customElements.define("bx-gradientinspector",um);var xm=Symbol(),bm=Symbol();var mm=/*#__PURE__*/function(_HTMLElement110){_inherits(mm,_HTMLElement110);var _super162=_createSuper(mm);_createClass(mm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"selectedGradients",get:function get(){return _toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[xm];});}}]);function mm(){var _temp44,_this757;_classCallCheck(this,mm);(_temp44=_this757=_super162.call(this),_defineProperty(_assertThisInitialized(_this757),"commands",{selectAll:{enabled:function enabled(){return _this757.ev();},exec:function exec(){return _this757.iv();}},deselectAll:{enabled:function enabled(){return _this757.sv();},exec:function exec(){return _this757.nv();}}}),_temp44),_this757.ov=Xi(_this757.qs,500,_assertThisInitialized(_this757)),_this757.lv=0,_this757._shadowRoot=_this757.attachShadow({mode:"closed"}),_this757._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,mm._shadowStyleSheet],_this757._shadowRoot.append(document.importNode(mm._shadowTemplate.content,!0));var _iterator1300=_createForOfIteratorHelper(_this757._shadowRoot.querySelectorAll("[id]")),_step1300;try{for(_iterator1300.s();!(_step1300=_iterator1300.n()).done;){var _t1935=_step1300.value;_this757["#"+_t1935.id]=_t1935;}}catch(err){_iterator1300.e(err);}finally{_iterator1300.f();}_this757.addEventListener("keydown",function(t){return _this757.vn(t);}),_this757["#items"].addEventListener("scroll",function(){return _this757.hv();}),_this757["#items"].addEventListener("contextmenu",function(t){return _this757.Xc(t);}),_this757["#items"].addEventListener("pointerdown",function(t){return _this757.Wc(t);}),_this757["#items"].addEventListener("click",function(t){return _this757.qc(t);}),_this757["#search-input"].addEventListener("input",function(){return _this757.av();}),_this757["#developer-mode-button"].addEventListener("toggle",function(){return _this757.fu();}),_this757["#add-menu"].addEventListener("click",function(t){return _this757.Tw(t);}),_this757["#add-menu"].addEventListener("open",function(){return _this757.rv();}),_this757["#gradient-inspector-popover"].addEventListener("close",function(){return _this757["#gradient-inspector"].enabled=!1;});return _this757;}_createClass(mm,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this["#items"].scrollTop=this.lv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this758=this;window.addEventListener("resize",this.nn=function(){_this758.cv();}),this.Qs.addEventListener("configchange",this.ln=function(t){_this758.hn(t);}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this758.il(t);}),this.Js.board.addEventListener("artworkchange",this.dr=function(t){_this758.pv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.lv,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-gradientsbrowser:developerMode",!1),this.uv=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Rp),this.qs();}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("artworkchange",this.dr),this.Jv(),this["#items"].remove();}},{key:"hn",value:function hn(t){var _t$detail11=t.detail,e=_t$detail11.key,i=_t$detail11.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this.uv=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Rp),this.bv());}},{key:"cv",value:function cv(){this.Jv();}},{key:"il",value:function il(t){var e=t.detail,i="debounced",s=!1;var _iterator1301=_createForOfIteratorHelper(e),_step1301;try{for(_iterator1301.s();!(_step1301=_iterator1301.n()).done;){var _t1936=_step1301.value;var _e1383=_t1936.target.nodeName,_n539=_t1936.addedNodes[0]?_t1936.addedNodes[0].nodeName:null,_o431=_t1936.removedNodes[0]?_t1936.removedNodes[0].nodeName:null,_l343=_t1936.attributeName;if("linearGradient"===_e1383||"radialGradient"===_e1383){if("bx-title"===_n539||"bx-title"===_o431){i="now";break;}if("id"===_l343){i="now",s=!0;break;}if("data-bx-pinned"===_l343){i="now";break;}}else if("bx-title"===_e1383){if(_n539||_o431){i="now";break;}}else if("linearGradient"===_n539||"radialGradient"===_n539||"linearGradient"===_o431||"radialGradient"===_o431){i="now",s=!0;break;}}}catch(err){_iterator1301.e(err);}finally{_iterator1301.f();}!0===s&&this.Jv(),"now"===i?this.qs():"debounced"===i&&this.ov();}},{key:"pv",value:function pv(){this.Jv(),this.qs();}},{key:"hv",value:function hv(){this.lv=this["#items"].scrollTop,this.Jv();}},{key:"Xc",value:function(){var _Xc3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee124(t){var e,_i1265,_s753,_n540;return regeneratorRuntime.wrap(function _callee124$(_context125){while(1){switch(_context125.prev=_context125.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context125.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.dv([e]);_i1265=this.selectedGradients;_s753=e[xm];_context125.next=7;return this.Qs.openContextMenu([{label:"Edit Gradient",value:"edit",disabled:1!==_i1265.length},{label:"Edit Gradient ID",value:"edit-id",disabled:1!==_i1265.length},{label:"Edit Gradient Title",value:"edit-title",disabled:1!==_i1265.length},{type:"separator"},{label:"Duplicate Gradient"+(_i1265.length>1?"s":""),value:"duplicate",disabled:0===_i1265.length},{label:"Delete Gradient"+(_i1265.length>1?"s":""),value:"delete",disabled:0===_i1265.length},{type:"separator"},{label:"Pin Gradient"+(_i1265.length>1?"s":""),value:"pin",disabled:void 0===_i1265.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Gradient"+(_i1265.length>1?"s":""),value:"unpin",disabled:void 0===_i1265.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Gradient Users",value:"select-users",disabled:1!==_i1265.length}]);case 7:_n540=_context125.sent;"edit"===_n540?this.editGradient(_s753.id):"edit-id"===_n540?this.mv(_s753.id,"id"):"edit-title"===_n540?this.mv(_s753.id,"title"):"duplicate"===_n540?this.gv():"delete"===_n540?this.fv():"pin"===_n540?this.wv():"unpin"===_n540?this.vv():"select-users"===_n540&&this.ty(_s753.id);case 9:case"end":return _context125.stop();}}},_callee124,this);}));function Xc(_x148){return _Xc3.apply(this,arguments);}return Xc;}()},{key:"qc",value:function qc(t){t.target.closest(".item")&&this.jw(t);}},{key:"jw",value:function jw(t){var _this$Qs$modKeys15=this.Qs.modKeys,e=_this$Qs$modKeys15.ctrl,i=_this$Qs$modKeys15.shift;if(!1===e&&!1===i){var _e1384=t.target.closest(".item"),_i1266=t.target.closest(".thumbnail"),_s754=t.target.closest(".counter-button"),_n541=t.target.closest(".pin-button"),_o432=_e1384[xm].id;_s754?this.ty(_o432):_n541?_n541.toggled?this.ey(_o432):this.iy(_o432):_i1266?t.detail%2==0&&this.editGradient(_o432):t.detail%2==0&&this.mv(_o432);}}},{key:"Wc",value:function Wc(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1385=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1385&&this.dv([]);}else t.target.closest(".item")&&this.gm(t);}},{key:"gm",value:function gm(t){var _this759=this;var _this$Qs$modKeys16=this.Qs.modKeys,e=_this$Qs$modKeys16.ctrl,i=_this$Qs$modKeys16.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(this.Jv(),!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[bm]=Date.now()),this.dispatchEvent(new CustomEvent("selectedgradientschange"));else if(!0===i){var _t1937=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1386=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1386.length>0){var _i1267=_t1937.indexOf(s),_n542=_e1386.sort(function(t,e){return e[bm]-t[bm];})[0],_o433=_t1937.indexOf(_n542),_l344=[];if(_i1267>_o433?_l344=_toConsumableArray(_t1937).slice(_o433,_i1267+1):_i1267<_o433&&(_l344=_toConsumableArray(_t1937).slice(_i1267,_o433+1).reverse()),_l344=_l344.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l344.length>0){var _iterator1302=_createForOfIteratorHelper(_l344),_step1302;try{for(_iterator1302.s();!(_step1302=_iterator1302.n()).done;){var _t1938=_step1302.value;_t1938.setAttribute("data-selected",""),_t1938[bm]=Date.now(),this.dispatchEvent(new CustomEvent("selectedgradientschange"));}}catch(err){_iterator1302.e(err);}finally{_iterator1302.f();}}}}else{var _t1941,_e1388,_i1268=!1;window.addEventListener("pointermove",_t1941=function _t1939(o){var l=new DOMPoint(o.clientX,o.clientY);if(Pe(n,l)>=3){if(window.removeEventListener("pointermove",_t1941),window.removeEventListener("pointerup",_e1388),!1===s.hasAttribute("data-selected")){var _iterator1303=_createForOfIteratorHelper(_this759["#items"].children),_step1303;try{for(_iterator1303.s();!(_step1303=_iterator1303.n()).done;){var _t1940=_step1303.value;_t1940===s?(_t1940.setAttribute("data-selected",""),_t1940[bm]=Date.now()):_t1940.removeAttribute("data-selected"),_this759.dispatchEvent(new CustomEvent("selectedgradientschange"));}}catch(err){_iterator1303.e(err);}finally{_iterator1303.f();}}_this759.Gw(o),_i1268=!0;}}),window.addEventListener("pointerup",_e1388=function _e1387(){if(window.removeEventListener("pointermove",_t1941),window.removeEventListener("pointerup",_e1388),!1===_i1268){var _iterator1304=_createForOfIteratorHelper(_this759["#items"].children),_step1304;try{for(_iterator1304.s();!(_step1304=_iterator1304.n()).done;){var _t1942=_step1304.value;_t1942===s?(_t1942.setAttribute("data-selected",""),_t1942[bm]=Date.now()):_t1942.removeAttribute("data-selected"),_this759.dispatchEvent(new CustomEvent("selectedgradientschange"));}}catch(err){_iterator1304.e(err);}finally{_iterator1304.f();}}});}}},{key:"Gw",value:function Gw(t){var _this760=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,h="start",a=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===a&&(a=setInterval(function(){return _this760["#items"].scrollTop+=r;},10));},c=function c(){null!==a&&(clearInterval(a),a=null);},p=function p(){var t=_this760.Qs.pointerClientPoint,e=_this760._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this760._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1389=l.getBoundingClientRect();if(h=t.y<_e1389.y+_e1389.height/2?"start":"end",_this760.Fw(n,l,h)){var _t1943=l.offsetTop-_this760["#items"].scrollTop;"end"===h&&(_t1943+=_e1389.height),_this760["#drop-indicator"].hidden=!1,_this760["#drop-indicator"].style.top=_t1943-1+"px";}else l=null,_this760["#drop-indicator"].hidden=!0;}else _this760["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s756){function s(_x149){return _s756.apply(this,arguments);}s.toString=function(){return _s756.toString();};return s;}(function(t){if(_this760["#items"].removeEventListener("pointermove",e),_this760["#items"].removeEventListener("scroll",i),_this760["#items"].removeEventListener("lostpointercapture",s),_this760["#items"].style.cursor=null,_this760["#drop-indicator"].hidden=!0,c(),_this760.Js.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1390=n[0][xm],_i1269=_this760.Js.board.getWorkspaceElementFromPoint(t.clientX,t.clientY),_s755=_this760.Qs.modKeys.shift;_i1269&&w.includes(_i1269.localName)&&(_s755?(_this760.Js.board.undoManager.checkpoint("Apply gradient stroke"),_i1269.style.stroke="url(#".concat(_e1390.id,")")):(_this760.Js.board.undoManager.checkpoint("Apply gradient fill"),_i1269.style.fill="url(#".concat(_e1390.id,")")),_this760._v());}}else if(l){_this760.Js.board.undoManager.checkpoint("Rearrange gradients");var _t1944=document.createDocumentFragment(),_e1391=l[xm];var _iterator1305=_createForOfIteratorHelper(n),_step1305;try{for(_iterator1305.s();!(_step1305=_iterator1305.n()).done;){var _i1270=_step1305.value;_i1270[xm]!==_e1391&&_t1944.append(_i1270[xm]);}}catch(err){_iterator1305.e(err);}finally{_iterator1305.f();}"start"===h?_e1391.before(_t1944):_e1391.after(_t1944);}}));}},{key:"vn",value:function vn(t){if(this["#search-input"].matches(":focus")||this["#gradient-inspector-popover"].opened)return;var e=to.fromEvent(t);if(e.matches("Enter")){var _t1945=this["#items"].querySelector(".item[data-label-edited]"),_e1392=this["#items"].querySelector(".item[data-selected]");_t1945?this.focus():_e1392&&this.mv(_e1392[xm].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.fv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Mu()||this.Cv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Pu()||this.Mv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Mu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Pu(!0));}}},{key:"fu",value:function fu(){this.Qs.setConfig("bx-gradientsbrowser:developerMode",this["#developer-mode-button"].toggled),this.qw(),this.focus();}},{key:"Tw",value:function Tw(t){var e=t.target.closest("x-menuitem");e&&("add-gradient"===e.value?this.Pv():"add-gradient-from-fill"===e.value?this.sy("fill"):"add-gradient-from-stroke"===e.value&&this.sy("stroke"));}},{key:"rv",value:function rv(){var t=this.Js.board.selectedObjectElements,e=null,i=null;if(1===t.length){var _s757=getComputedStyle(t[0]),_n543=so.fromString(_s757.fill),_o434=so.fromString(_s757.stroke);if(_n543&&"#"===_n543.value[0]){var _t1946=this.Js.board.masterWorkspace.querySelector(_n543.value);!_t1946||"linearGradient"!==_t1946.localName&&"radialGradient"!==_t1946.localName||!1!==So(_t1946)||(e=_t1946);}if(_o434&&"#"===_o434.value[0]){var _t1947=this.Js.board.masterWorkspace.querySelector(_o434.value);!_t1947||"linearGradient"!==_t1947.localName&&"radialGradient"!==_t1947.localName||!1!==So(_t1947)||(i=_t1947);}}this["#add-gradient-from-fill-menu-item"].disabled=null===e,this["#add-gradient-from-stroke-menu-item"].disabled=null===i;}},{key:"av",value:function av(){this.zv(),this.Cu();}},{key:"editGradient",value:function(){var _editGradient=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee125(t){var e,_t1948,_i1271;return regeneratorRuntime.wrap(function _callee125$(_context126){while(1){switch(_context126.prev=_context126.next){case 0:e=_toConsumableArray(this["#items"].children).find(function(e){return e[xm].id===t;});if(!e){_context126.next=8;break;}this.dv([e]);_t1948=e.getBoundingClientRect(),_i1271=new DOMPoint(_t1948.left,_t1948.top+_t1948.height/2);_context126.next=6;return Ki(10);case 6:this["#gradient-inspector-popover"].open(_i1271);this["#gradient-inspector"].enabled=!0;case 8:case"end":return _context126.stop();}}},_callee125,this);}));function editGradient(_x150){return _editGradient.apply(this,arguments);}return editGradient;}()},{key:"Jv",value:function Jv(){this["#gradient-inspector-popover"].opened&&(this["#gradient-inspector-popover"].close(),this["#gradient-inspector"].enabled=!1);}},{key:"mv",value:function mv(t){var _this761=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[xm].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t1949=this["#items"].querySelector(".item[data-label-edited]");if(_t1949){if(_t1949===i)return;this.Ov();}}this.dv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[xm],l=this["#developer-mode-button"].toggled?"Gradient ID":"Gradient title",h=o.querySelector(":scope > bx-title"),a="";!0===this["#developer-mode-button"].toggled&&o.id?a="#"+o.id:!1===this["#developer-mode-button"].toggled&&h&&(a=h.textContent);var r=Hi(_templateObject49(),a,l);n.after(r),r.selectAll(),Ki(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this761.Ov();}),r.validate=function(){var t=null;if(_this761["#developer-mode-button"].toggled){var _e1393=r.value.trim();if(_e1393.startsWith("#")&&(_e1393=_e1393.substring(1)),0===_e1393.length)t="Gradient must have ID";else if(Ni(_e1393)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1393)))&&o.id!==_e1393&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"Ov",value:function Ov(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1394=this.Js.board,_i1272=t.querySelector(".label"),_s758=t.querySelector("x-input"),_n544=t[xm];if(_s758.remove(),_i1272.hidden=!1,t.removeAttribute("data-label-edited"),null===_s758.error)if(this["#developer-mode-button"].toggled){var _t1950=_n544.getAttribute("id").trim(),_i1273=_s758.value.trim().toLowerCase();if(_i1273.startsWith("#")&&(_i1273=_i1273.substring(1)),_t1950!==_i1273){_e1394.undoManager.checkpoint("Gradient ID");var _s759=document.createNodeIterator(_e1394.workspaces,NodeFilter.SHOW_ELEMENT),_n545=null;for(;_n545=_s759.nextNode();){"linearGradient"!==_n545.localName&&"radialGradient"!==_n545.localName||(_n545.id===_t1950&&_n545.setAttribute("id",_i1273),_n545.href.baseVal==="#"+_t1950&&_n545.setAttribute("href","#"+_i1273));{var _e1395=getComputedStyle(_n545);for(var _i1274=0,_arr51=["fill","stroke"];_i1274<_arr51.length;_i1274++){var _s760=_arr51[_i1274];var _o435=_e1395.getPropertyValue(_s760);if(_o435&&_o435.startsWith("url(")){_o435.substring(6,_o435.length-2)===_t1950&&_n545.style.setProperty(_s760,"url(#".concat(_i1273,")"));}}}}}}else{var _t1951=_n544.querySelector(":scope > bx-title"),_i1275=_s758.value.trim();if(_t1951){_t1951.textContent!==_i1275&&(_e1394.undoManager.checkpoint("Gradient title"),""===_i1275?_t1951.remove():_t1951.textContent=_i1275);}else""!==_i1275&&(_e1394.undoManager.checkpoint("Gradient title"),_t1951=Di("svg:bx-title"),_t1951.textContent=_i1275,_n544.prepend(_t1951));}}}},{key:"ey",value:function ey(t){this.Js.board.undoManager.checkpoint("Pin Gradient"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"iy",value:function iy(t){this.Js.board.undoManager.checkpoint("Unpin Gradient"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"dv",value:function dv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1306=_createForOfIteratorHelper(this["#items"].children),_step1306;try{for(_iterator1306.s();!(_step1306=_iterator1306.n()).done;){var _e1396=_step1306.value;t.includes(_e1396)?(_e1396.setAttribute("data-selected",""),_e1396[bm]=Date.now()):_e1396.removeAttribute("data-selected");}}catch(err){_iterator1306.e(err);}finally{_iterator1306.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}this.Jv(),this.dispatchEvent(new CustomEvent("selectedgradientschange"));}},{key:"Mu",value:function Mu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1276=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s761=e[0],_n546=_i1276.indexOf(_s761),_o436=_i1276[_n546-1];if(_o436){if(_o436.scrollIntoViewIfNeeded(),t)_o436.setAttribute("data-selected",""),_o436[bm]=Date.now();else{var _iterator1307=_createForOfIteratorHelper(_i1276),_step1307;try{for(_iterator1307.s();!(_step1307=_iterator1307.n()).done;){var _t1952=_step1307.value;_t1952===_o436?(_t1952.setAttribute("data-selected",""),_t1952[bm]=Date.now()):_t1952.removeAttribute("data-selected");}}catch(err){_iterator1307.e(err);}finally{_iterator1307.f();}}return this.Jv(),this.dispatchEvent(new CustomEvent("selectedgradientschange")),!0;}}return!1;}},{key:"Pu",value:function Pu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1277=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s762=e[e.length-1],_n547=_i1277.indexOf(_s762),_o437=_i1277[_n547+1];if(_o437){if(_o437.scrollIntoViewIfNeeded(),t)_o437.setAttribute("data-selected",""),_o437[bm]=Date.now();else{var _iterator1308=_createForOfIteratorHelper(_i1277),_step1308;try{for(_iterator1308.s();!(_step1308=_iterator1308.n()).done;){var _t1953=_step1308.value;_t1953===_o437?(_t1953.setAttribute("data-selected",""),_t1953[bm]=Date.now()):_t1953.removeAttribute("data-selected");}}catch(err){_iterator1308.e(err);}finally{_iterator1308.f();}}return this.Jv(),this.dispatchEvent(new CustomEvent("selectedgradientschange")),!0;}}return!1;}},{key:"Cv",value:function Cv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1309=_createForOfIteratorHelper(t),_step1309;try{for(_iterator1309.s();!(_step1309=_iterator1309.n()).done;){var _i1278=_step1309.value;_i1278===e?(_i1278.setAttribute("data-selected",""),_i1278[bm]=Date.now()):_i1278.removeAttribute("data-selected");}}catch(err){_iterator1309.e(err);}finally{_iterator1309.f();}return this.Jv(),this.dispatchEvent(new CustomEvent("selectedgradientschange")),!0;}return!1;}},{key:"Mv",value:function Mv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1310=_createForOfIteratorHelper(t),_step1310;try{for(_iterator1310.s();!(_step1310=_iterator1310.n()).done;){var _i1279=_step1310.value;_i1279===e?(_i1279.setAttribute("data-selected",""),_i1279[bm]=Date.now()):_i1279.removeAttribute("data-selected");}}catch(err){_iterator1310.e(err);}finally{_iterator1310.f();}return this.Jv(),this.dispatchEvent(new CustomEvent("selectedgradientschange")),!0;}return!1;}},{key:"iv",value:function iv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.dv(t,!1);}},{key:"nv",value:function nv(){this.dv([],!1);}},{key:"ev",value:function ev(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#gradient-inspector-popover"].opened||null;}},{key:"sv",value:function sv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#gradient-inspector-popover"].opened||null;}},{key:"Pv",value:function Pv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add gradient");var i=Di("svg:linearGradient");if(i.setAttribute("id",t.generateUniqueID("gradient")),i.setAttribute("data-bx-pinned","true"),e.length>0){e[e.length-1][xm].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[xm]===i;});this.dv([s]);}},{key:"sy",value:function sy(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"fill";var e=this.Js.board,i=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"),s=e.selectedObjectElements[0],n=so.fromString(getComputedStyle(s)[t]),o=e.masterWorkspace.querySelector(n.value);e.undoManager.checkpoint("Add gradient");var l=Di("svg:linearGradient");l.setAttribute("id",e.generateUniqueID("gradient")),l.setAttribute("data-bx-pinned","true");var _iterator1311=_createForOfIteratorHelper(Po(o)),_step1311;try{for(_iterator1311.s();!(_step1311=_iterator1311.n()).done;){var _t1954=_step1311.value;var _e1397=Di("svg:stop");_e1397.offset.baseVal=_t1954.offset.baseVal,_e1397.style.stopColor=Eo(_t1954),l.append(_e1397);}}catch(err){_iterator1311.e(err);}finally{_iterator1311.f();}if(i.length>0){i[i.length-1][xm].after(l);}else e.maybeCreateDefsForMasterWorkspace(),e.defs.append(l);this.qs();var h=_toConsumableArray(this["#items"].children).find(function(t){return t[xm]===l;});this.dv([h]);}},{key:"gv",value:function gv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"),i=e.length>0?e[e.length-1]:null,s=i?i[xm]:null,n=document.createDocumentFragment(),o=[];t.undoManager.checkpoint("Duplicate gradient"+(e.length>1?"s":""));var _iterator1312=_createForOfIteratorHelper(e),_step1312;try{for(_iterator1312.s();!(_step1312=_iterator1312.n()).done;){var _i1280=_step1312.value;var _e1398=Di("svg:linearGradient");_e1398.setAttribute("id",t.generateUniqueID("gradient"));var _iterator1313=_createForOfIteratorHelper(Po(_i1280[xm])),_step1313;try{for(_iterator1313.s();!(_step1313=_iterator1313.n()).done;){var _t1956=_step1313.value;var _i1281=Di("svg:stop");_i1281.offset.baseVal=_t1956.offset.baseVal,_i1281.style.stopColor=Eo(_t1956),_e1398.append(_i1281);}}catch(err){_iterator1313.e(err);}finally{_iterator1313.f();}n.append(_e1398),o.push(_e1398);}}catch(err){_iterator1312.e(err);}finally{_iterator1312.f();}s.after(n);{this.qs();var _t1955=_toConsumableArray(this["#items"].children).filter(function(t){return o.includes(t[xm]);});this.dv(_t1955);}}},{key:"fv",value:function(){var _fv2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee126(){var t,e,i,_iterator1314,_step1314,_step1314$value,_t1960,_s767,_iterator1316,_step1316,_n549,_t1957,_s763,_i1282,_s764,_i1283,_i1284,_arr52,_n548,_o438,_l345,_h255,_a206,_i1285,_s765,_iterator1315,_step1315,_t1959,_i1286,_s766,_t1958;return regeneratorRuntime.wrap(function _callee126$(_context127){while(1){switch(_context127.prev=_context127.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[xm];}),i=[];_iterator1314=_createForOfIteratorHelper(this.ny());try{for(_iterator1314.s();!(_step1314=_iterator1314.n()).done;){_step1314$value=_slicedToArray(_step1314.value,2),_t1960=_step1314$value[0],_s767=_step1314$value[1];_iterator1316=_createForOfIteratorHelper(_s767);try{for(_iterator1316.s();!(_step1316=_iterator1316.n()).done;){_n549=_step1316.value;e.includes(_n549)&&!1===i.includes(_t1960)&&i.push(_t1960);}}catch(err){_iterator1316.e(err);}finally{_iterator1316.f();}}}catch(err){_iterator1314.e(err);}finally{_iterator1314.f();}if(!(0!==e.length)){_context127.next=19;break;}if(!(i.length>0)){_context127.next=12;break;}_t1957="Delete ";1===e.length?_t1957+="a gradient":_t1957+="".concat(e.length," gradients"),_t1957+=" applied to ",1===i.length?_t1957+="1 object?":_t1957+="".concat(i.length," objects?");_context127.next=9;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t1957,detail:"Deleting a gradient also removes it from all objects it was applied to."});case 9:_s763=_context127.sent;if(!(-1===_s763||1===_s763)){_context127.next=12;break;}return _context127.abrupt("return");case 12:t.undoManager.checkpoint("Delete gradients"),this.Pu()||this.Mu();_i1282=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),_s764=null;for(;_s764=_i1282.nextNode();){if(w.includes(_s764.localName)){_i1283=getComputedStyle(_s764);for(_i1284=0,_arr52=["fill","stroke"];_i1284<_arr52.length;_i1284++){_n548=_arr52[_i1284];_o438=so.fromString(_i1283[_n548]),_l345=_o438?t.masterWorkspace.querySelector(_o438.value):null,_h255=_l345&&["linearGradient","radialGradient"].includes(_l345.localName)?_l345:null,_a206=_h255?yo(_h255):null;e.includes(_a206)&&(_s764.style[_n548]="#000000",_s764.removeAttribute(_n548));}}}_i1285=_toConsumableArray(t.masterWorkspace.querySelectorAll("linearGradient, radialGradient")),_s765=[];_iterator1315=_createForOfIteratorHelper(_i1285);try{for(_iterator1315.s();!(_step1315=_iterator1315.n()).done;){_t1959=_step1315.value;(e.includes(_t1959)||e.includes(yo(_t1959)))&&_s765.push(_t1959);}}catch(err){_iterator1315.e(err);}finally{_iterator1315.f();}for(_i1286=0,_s766=_s765;_i1286<_s766.length;_i1286++){_t1958=_s766[_i1286];_t1958.remove();}case 19:case"end":return _context127.stop();}}},_callee126,this);}));function fv(){return _fv2.apply(this,arguments);}return fv;}()},{key:"wv",value:function wv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[xm];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin gradient"+e.length>1?"s":"");var _iterator1317=_createForOfIteratorHelper(e),_step1317;try{for(_iterator1317.s();!(_step1317=_iterator1317.n()).done;){var _t1961=_step1317.value;_t1961.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1317.e(err);}finally{_iterator1317.f();}}}},{key:"vv",value:function vv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[xm];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin gradient"+e.length>1?"s":"");var _iterator1318=_createForOfIteratorHelper(e),_step1318;try{for(_iterator1318.s();!(_step1318=_iterator1318.n()).done;){var _t1962=_step1318.value;_t1962.removeAttribute("data-bx-pinned");}}catch(err){_iterator1318.e(err);}finally{_iterator1318.f();}}}},{key:"Fw",value:function Fw(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s768=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_n550=t[0],_o439=_s768.indexOf(e);if("start"===i){if(_s768[_o439-1]===_n550)return!1;}else if("end"===i){if(_s768[_o439+1]===_n550)return!1;}}return!0;}},{key:"ty",value:function ty(t){var e=this.Js.board,i=document.createNodeIterator(e.currentWorkspace,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(w.includes(s.localName)){var _i1287=getComputedStyle(s);for(var _i1288=0,_arr53=["fill","stroke"];_i1288<_arr53.length;_i1288++){var _o440=_arr53[_i1288];var _l346=so.fromString(_i1287[_o440]),_h256=_l346?e.masterWorkspace.querySelector(_l346.value):null,_a207=_h256&&["linearGradient","radialGradient"].includes(_h256.localName)?_h256:null,_r138=_a207?yo(_a207):null;if(_r138&&_r138.id===t){var _t1963=s.closest("text");_t1963?!1===n.includes(_t1963)&&n.push(_t1963):n.push(s);break;}}}}e.selectedElements=[].concat(n);}},{key:"ny",value:function ny(){var t=this.Js.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(w.includes(s.localName)){var _i1289=getComputedStyle(s);for(var _i1290=0,_arr54=["fill","stroke"];_i1290<_arr54.length;_i1290++){var _n551=_arr54[_i1290];var _o441=so.fromString(_i1289[_n551]),_l347=_o441?t.masterWorkspace.querySelector(_o441.value):null,_h257=_l347&&["linearGradient","radialGradient"].includes(_l347.localName)?_l347:null,_a208=_h257?yo(_h257):null;_a208&&(!1===e.has(s)?e.set(s,[_a208]):e.get(s).push(_a208));}}}return e;}},{key:"qs",value:function qs(){{var _t1964=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("linearGradient, radialGradient")).filter(function(t){return Co(t);}),_e1399=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[xm];}),_i1291=document.createDocumentFragment();var _iterator1319=_createForOfIteratorHelper(_t1964),_step1319;try{for(_iterator1319.s();!(_step1319=_iterator1319.n()).done;){var _s769=_step1319.value;var _t1965=Po(_s769),_n552="";if(0===_t1965.length)_n552="background: transparent";else if(1===_t1965.length){_n552="background: ".concat(Eo(_t1965[0]));}else if(_t1965.length>1){_n552="background-image: linear-gradient(90deg, "+_t1965.map(function(t){return"".concat(Eo(t)," ").concat(100*t.offset.baseVal,"%");}).join(", ")+")";}var _o442=Hi(_templateObject50(),_n552,_s769.id);_o442[xm]=_s769,_e1399.includes(_s769)&&(_o442.setAttribute("data-selected",""),_o442[bm]=Date.now()),this.Tv(_o442),this.Av(_o442),_i1291.append(_o442);}}catch(err){_iterator1319.e(err);}finally{_iterator1319.f();}this["#items"].innerHTML="",this["#items"].append(_i1291);}this._v(),this.bv(),this.Cu();}},{key:"zv",value:function zv(){var _iterator1320=_createForOfIteratorHelper(this["#items"].children),_step1320;try{for(_iterator1320.s();!(_step1320=_iterator1320.n()).done;){var _t1966=_step1320.value;this.Av(_t1966);}}catch(err){_iterator1320.e(err);}finally{_iterator1320.f();}}},{key:"qw",value:function qw(){this["#search-input"].value="";var _iterator1321=_createForOfIteratorHelper(this["#items"].children),_step1321;try{for(_iterator1321.s();!(_step1321=_iterator1321.n()).done;){var _t1967=_step1321.value;this.Tv(_t1967),this.Av(_t1967);}}catch(err){_iterator1321.e(err);}finally{_iterator1321.f();}this.Cu();}},{key:"Cu",value:function Cu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"Av",value:function Av(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Tv",value:function Tv(t){var e=t[xm],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<gradient>",i.removeAttribute("data-custom"));else{var _t1968;_t1968=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t1968?(i.textContent=_t1968.textContent,i.setAttribute("data-custom","")):(i.textContent="Gradient",i.removeAttribute("data-custom"));}}},{key:"_v",value:function _v(){var t=this.ny();var _iterator1322=_createForOfIteratorHelper(this["#items"].children),_step1322;try{for(_iterator1322.s();!(_step1322=_iterator1322.n()).done;){var _e1400=_step1322.value;var _i1292=_e1400.querySelector(".counter-button"),_s770=0;var _iterator1323=_createForOfIteratorHelper(t),_step1323;try{for(_iterator1323.s();!(_step1323=_iterator1323.n()).done;){var _step1323$value=_slicedToArray(_step1323.value,2),_i1293=_step1323$value[0],_n553=_step1323$value[1];_n553.includes(_e1400[xm])&&(_s770+=1);}}catch(err){_iterator1323.e(err);}finally{_iterator1323.f();}0===_s770?(_i1292.setAttribute("hidden",""),_i1292.firstElementChild.textContent="0"):(_i1292.setAttribute("title",1===_s770?"Select 1 gradient user":"Select ".concat(_s770," gradient users")),_i1292.removeAttribute("hidden"),_i1292.firstElementChild.textContent=_s770);}}catch(err){_iterator1322.e(err);}finally{_iterator1322.f();}}},{key:"bv",value:function bv(){if("unpinned"===this.uv.gradients){var _iterator1324=_createForOfIteratorHelper(this["#items"].children),_step1324;try{for(_iterator1324.s();!(_step1324=_iterator1324.n()).done;){var _t1969=_step1324.value;var _e1401=_t1969[xm],_i1294=_t1969.lastElementChild;_i1294.hidden=!1,_i1294.toggled=_e1401.hasAttribute("data-bx-pinned");}}catch(err){_iterator1324.e(err);}finally{_iterator1324.f();}}else{var _iterator1325=_createForOfIteratorHelper(this["#items"].children),_step1325;try{for(_iterator1325.s();!(_step1325=_iterator1325.n()).done;){var _t1970=_step1325.value;_t1970.lastElementChild.hidden=!0;}}catch(err){_iterator1325.e(err);}finally{_iterator1325.f();}}}}]);return mm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(mm,"observedAttributes",["enabled"]);_defineProperty(mm,"_shadowTemplate",Hi(_templateObject383()));_defineProperty(mm,"_shadowStyleSheet",Yi(_templateObject384()));customElements.define("bx-gradientsbrowser",mm);var gm=Symbol(),fm=Symbol();var wm=/*#__PURE__*/function(_HTMLElement111){_inherits(wm,_HTMLElement111);var _super163=_createSuper(wm);_createClass(wm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function wm(){var _temp45,_this762;_classCallCheck(this,wm);(_temp45=_this762=_super163.call(this),_defineProperty(_assertThisInitialized(_this762),"commands",{selectAll:{enabled:function enabled(){return null===_this762._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this762.iv();}},deselectAll:{enabled:function enabled(){return null===_this762._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this762.nv();}}}),_temp45),_this762.oy=Xi(_this762.qs,2e3,_assertThisInitialized(_this762)),_this762.lv=0,_this762._shadowRoot=_this762.attachShadow({mode:"closed"}),_this762._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,wm._shadowStyleSheet],_this762._shadowRoot.append(document.importNode(wm._shadowTemplate.content,!0));var _iterator1326=_createForOfIteratorHelper(_this762._shadowRoot.querySelectorAll("[id]")),_step1326;try{for(_iterator1326.s();!(_step1326=_iterator1326.n()).done;){var _t1971=_step1326.value;_this762["#"+_t1971.id]=_t1971;}}catch(err){_iterator1326.e(err);}finally{_iterator1326.f();}_this762.addEventListener("keydown",function(t){return _this762.vn(t);}),_this762["#items"].addEventListener("scroll",function(){return _this762.hv();}),_this762["#items"].addEventListener("contextmenu",function(t){return _this762.Xc(t);}),_this762["#items"].addEventListener("pointerdown",function(t){return _this762.Wc(t);}),_this762["#items"].addEventListener("click",function(t){return _this762.qc(t);}),_this762["#search-input"].addEventListener("input",function(){return _this762.av();}),_this762["#developer-mode-button"].addEventListener("toggle",function(){return _this762.fu();}),_this762["#add-menu"].addEventListener("click",function(t){return _this762.Tw(t);}),_this762["#add-menu"].addEventListener("open",function(){return _this762.rv();});return _this762;}_createClass(wm,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this["#items"].scrollTop=this.lv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this763=this;this.Qs.addEventListener("configchange",this.ln=function(t){_this763.hn(t);}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this763.il(t);}),this.Js.board.addEventListener("artworkchange",this.dr=function(t){_this763.pv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.lv,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-patternsbrowser:developerMode",!1),this.uv=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Rp),this.qs();}},{key:"sn",value:function sn(){this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("artworkchange",this.dr),this["#items"].remove();}},{key:"hn",value:function hn(t){var _t$detail12=t.detail,e=_t$detail12.key,i=_t$detail12.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this.uv=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Rp),this.bv());}},{key:"il",value:function il(t){var e=t.detail,i="debounced";var _iterator1327=_createForOfIteratorHelper(e),_step1327;try{for(_iterator1327.s();!(_step1327=_iterator1327.n()).done;){var _t1972=_step1327.value;var _e1402=_t1972.target.nodeName,_s771=_t1972.addedNodes[0]?_t1972.addedNodes[0].nodeName:null,_n554=_t1972.removedNodes[0]?_t1972.removedNodes[0].nodeName:null,_o443=_t1972.attributeName;if("pattern"===_e1402){if("bx-title"===_s771||"bx-title"===_n554){i="now";break;}if("id"===_o443){i="now";break;}if("data-bx-pinned"===_o443){i="now";break;}}else if("bx-title"===_e1402){if(_s771||_n554){i="now";break;}}else if("pattern"===_s771||"pattern"===_n554){i="now";break;}}}catch(err){_iterator1327.e(err);}finally{_iterator1327.f();}"now"===i?this.qs():"debounced"===i&&this.oy();}},{key:"pv",value:function pv(){this.qs();}},{key:"hv",value:function hv(){this.lv=this["#items"].scrollTop;}},{key:"Xc",value:function(){var _Xc4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee127(t){var e,_i1295,_s772,_n555;return regeneratorRuntime.wrap(function _callee127$(_context128){while(1){switch(_context128.prev=_context128.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context128.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.dv([e]);_i1295=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[gm];});_s772=e[gm];_context128.next=7;return this.Qs.openContextMenu([{label:"Edit Pattern",value:"edit",disabled:1!==_i1295.length||this.Js.board.currentWorkspace.id===_s772.id},{label:"Edit Pattern ID",value:"edit-id",disabled:1!==_i1295.length},{label:"Edit Pattern Title",value:"edit-title",disabled:1!==_i1295.length},{type:"separator"},{label:"Delete Pattern"+(_i1295.length>1?"s":""),value:"delete",disabled:0===_i1295.length},{type:"separator"},{label:"Pin Pattern"+(_i1295.length>1?"s":""),value:"pin",disabled:void 0===_i1295.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Pattern"+(_i1295.length>1?"s":""),value:"unpin",disabled:void 0===_i1295.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Pattern Users",value:"select-users",disabled:1!==_i1295.length}]);case 7:_n555=_context128.sent;"edit"===_n555?this.Js.board.editPattern(_s772.id):"edit-id"===_n555?this.mv(_s772.id,"id"):"edit-title"===_n555?this.mv(_s772.id,"title"):"delete"===_n555?this.fv():"pin"===_n555?this.wv():"unpin"===_n555?this.vv():"select-users"===_n555&&this.ly(_s772.id);case 9:case"end":return _context128.stop();}}},_callee127,this);}));function Xc(_x151){return _Xc4.apply(this,arguments);}return Xc;}()},{key:"qc",value:function qc(t){t.target.closest(".item")&&this.jw(t);}},{key:"jw",value:function jw(t){var _this$Qs$modKeys17=this.Qs.modKeys,e=_this$Qs$modKeys17.ctrl,i=_this$Qs$modKeys17.shift;if(!1===e&&!1===i){var _e1403=t.target.closest(".item"),_i1296=t.target.closest(".thumbnail"),_s773=t.target.closest(".counter-button"),_n556=t.target.closest(".pin-button"),_o444=_e1403[gm].id;_s773?this.ly(_o444):_n556?_n556.toggled?this.hy(_o444):this.py(_o444):_i1296?t.detail%2==0&&this.Js.board.editPattern(_o444):t.detail%2==0&&this.mv(_o444);}}},{key:"Wc",value:function Wc(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1404=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1404&&this.dv([]);}else t.target.closest(".item")&&this.gm(t);}},{key:"gm",value:function gm(t){var _this764=this;var _this$Qs$modKeys18=this.Qs.modKeys,e=_this$Qs$modKeys18.ctrl,i=_this$Qs$modKeys18.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[fm]=Date.now());else if(!0===i){var _t1973=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1405=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1405.length>0){var _i1297=_t1973.indexOf(s),_n557=_e1405.sort(function(t,e){return e[fm]-t[fm];})[0],_o445=_t1973.indexOf(_n557),_l348=[];if(_i1297>_o445?_l348=_toConsumableArray(_t1973).slice(_o445,_i1297+1):_i1297<_o445&&(_l348=_toConsumableArray(_t1973).slice(_i1297,_o445+1).reverse()),_l348=_l348.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l348.length>0){var _iterator1328=_createForOfIteratorHelper(_l348),_step1328;try{for(_iterator1328.s();!(_step1328=_iterator1328.n()).done;){var _t1974=_step1328.value;_t1974.setAttribute("data-selected",""),_t1974[fm]=Date.now();}}catch(err){_iterator1328.e(err);}finally{_iterator1328.f();}}}}else{var _t1977,_e1407,_i1298=!1;window.addEventListener("pointermove",_t1977=function _t1975(o){var l=new DOMPoint(o.clientX,o.clientY);if(Pe(n,l)>=3){if(window.removeEventListener("pointermove",_t1977),window.removeEventListener("pointerup",_e1407),!1===s.hasAttribute("data-selected")){var _iterator1329=_createForOfIteratorHelper(_this764["#items"].children),_step1329;try{for(_iterator1329.s();!(_step1329=_iterator1329.n()).done;){var _t1976=_step1329.value;_t1976===s?(_t1976.setAttribute("data-selected",""),_t1976[fm]=Date.now()):_t1976.removeAttribute("data-selected");}}catch(err){_iterator1329.e(err);}finally{_iterator1329.f();}}_this764.Gw(o),_i1298=!0;}}),window.addEventListener("pointerup",_e1407=function _e1406(){if(window.removeEventListener("pointermove",_t1977),window.removeEventListener("pointerup",_e1407),!1===_i1298){var _iterator1330=_createForOfIteratorHelper(_this764["#items"].children),_step1330;try{for(_iterator1330.s();!(_step1330=_iterator1330.n()).done;){var _t1978=_step1330.value;_t1978===s?(_t1978.setAttribute("data-selected",""),_t1978[fm]=Date.now()):_t1978.removeAttribute("data-selected");}}catch(err){_iterator1330.e(err);}finally{_iterator1330.f();}}});}}},{key:"Gw",value:function Gw(t){var _this765=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,h="start",a=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===a&&(a=setInterval(function(){return _this765["#items"].scrollTop+=r;},10));},c=function c(){null!==a&&(clearInterval(a),a=null);},p=function p(){var t=_this765.Qs.pointerClientPoint,e=_this765._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this765._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1408=l.getBoundingClientRect();if(h=t.y<_e1408.y+_e1408.height/2?"start":"end",_this765.Fw(n,l,h)){var _t1979=l.offsetTop-_this765["#items"].scrollTop;"end"===h&&(_t1979+=_e1408.height),_this765["#drop-indicator"].hidden=!1,_this765["#drop-indicator"].style.top=_t1979-1+"px";}else l=null,_this765["#drop-indicator"].hidden=!0;}else _this765["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s775){function s(_x152){return _s775.apply(this,arguments);}s.toString=function(){return _s775.toString();};return s;}(function(t){if(_this765["#items"].removeEventListener("pointermove",e),_this765["#items"].removeEventListener("scroll",i),_this765["#items"].removeEventListener("lostpointercapture",s),_this765["#items"].style.cursor=null,_this765["#drop-indicator"].hidden=!0,c(),_this765.Js.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1409=n[0][gm],_i1299=_this765.Js.board.getWorkspaceElementFromPoint(t.clientX,t.clientY),_s774=_this765.Qs.modKeys.shift;_i1299&&w.includes(_i1299.localName)&&(_s774?(_this765.Js.board.undoManager.checkpoint("Apply pattern stroke"),_i1299.style.stroke="url(#".concat(_e1409.id,")")):(_this765.Js.board.undoManager.checkpoint("Apply pattern fill"),_i1299.style.fill="url(#".concat(_e1409.id,")")),_this765._v());}}else if(l){_this765.Js.board.undoManager.checkpoint("Rearrange patterns");var _t1980=document.createDocumentFragment(),_e1410=l[gm];var _iterator1331=_createForOfIteratorHelper(n),_step1331;try{for(_iterator1331.s();!(_step1331=_iterator1331.n()).done;){var _i1300=_step1331.value;_i1300[gm]!==_e1410&&_t1980.append(_i1300[gm]);}}catch(err){_iterator1331.e(err);}finally{_iterator1331.f();}"start"===h?_e1410.before(_t1980):_e1410.after(_t1980);}}));}},{key:"vn",value:function vn(t){if(this["#search-input"].matches(":focus"))return;var e=to.fromEvent(t);if(e.matches("Enter")){var _t1981=this["#items"].querySelector(".item[data-label-edited]"),_e1411=this["#items"].querySelector(".item[data-selected]");_t1981?this.focus():_e1411&&this.mv(_e1411[gm].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.fv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Mu()||this.Cv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Pu()||this.Mv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Mu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Pu(!0));}}},{key:"fu",value:function fu(){this.Qs.setConfig("bx-patternsbrowser:developerMode",this["#developer-mode-button"].toggled),this.qw(),this.focus();}},{key:"Tw",value:function Tw(t){var e=t.target.closest("x-menuitem");e&&("add-pattern"===e.value?this.Pv():"add-pattern-from-objects"===e.value&&this.uy());}},{key:"rv",value:function rv(){var t=this.Js.board.selectedObjectElements;this["#add-pattern-from-objects-menu-item"].disabled=0===t.length;}},{key:"av",value:function av(){this.zv(),this.Cu();}},{key:"mv",value:function mv(t){var _this766=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[gm].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t1982=this["#items"].querySelector(".item[data-label-edited]");if(_t1982){if(_t1982===i)return;this.Ov();}}this.dv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[gm],l=this["#developer-mode-button"].toggled?"Pattern ID":"Pattern title",h=(s.currentWorkspace.id===o.id?s.currentWorkspace:o).querySelector(":scope > bx-title"),a="";!0===this["#developer-mode-button"].toggled&&o.id?a="#"+o.id:!1===this["#developer-mode-button"].toggled&&h&&(a=h.textContent);var r=Hi(_templateObject51(),a,l);n.after(r),r.selectAll(),Ki(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this766.Ov();}),r.validate=function(){var t=null;if(_this766["#developer-mode-button"].toggled){var _e1412=r.value.trim();if(_e1412.startsWith("#")&&(_e1412=_e1412.substring(1)),0===_e1412.length)t="Pattern must have ID";else if(Ni(_e1412)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1412)))&&o.id!==_e1412&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"Ov",value:function Ov(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1413=this.Js.board,_i1301=t.querySelector(".label"),_s776=t.querySelector("x-input"),_n558=t[gm];if(_s776.remove(),_i1301.hidden=!1,t.removeAttribute("data-label-edited"),null===_s776.error)if(this["#developer-mode-button"].toggled){var _t1983=_n558.getAttribute("id").trim(),_i1302=_s776.value.trim().toLowerCase();if(_i1302.startsWith("#")&&(_i1302=_i1302.substring(1)),_t1983!==_i1302){_e1413.undoManager.checkpoint("Pattern ID");var _s777=document.createNodeIterator(_e1413.workspaces,NodeFilter.SHOW_ELEMENT),_n559=null;for(;_n559=_s777.nextNode();){"pattern"===_n559.localName?(_n559.id===_t1983&&_n559.setAttribute("id",_i1302),_n559.href.baseVal==="#"+_t1983&&_n559.setAttribute("href","#"+_i1302)):"g"===_n559.localName&&"pattern"===_n559.getAttribute("data-bx-workspace")&&_n559.id===_t1983&&_n559.setAttribute("id",_i1302);{var _e1414=getComputedStyle(_n559);for(var _i1303=0,_arr55=["fill","stroke"];_i1303<_arr55.length;_i1303++){var _s778=_arr55[_i1303];var _o446=_e1414.getPropertyValue(_s778);if(_o446&&_o446.startsWith("url(")){_o446.substring(6,_o446.length-2)===_t1983&&_n559.style.setProperty(_s778,"url(#".concat(_i1302,")"));}}}}}}else{var _t1984=_e1413.currentWorkspace.id===_n558.id?_e1413.currentWorkspace:_n558,_i1304=_t1984.querySelector(":scope > bx-title"),_o447=_s776.value.trim();if(_i1304){_i1304.textContent!==_o447&&(_e1413.undoManager.checkpoint("Pattern title"),""===_o447?_i1304.remove():_i1304.textContent=_o447);}else""!==_o447&&(_e1413.undoManager.checkpoint("Pattern title"),_i1304=Di("svg:bx-title"),_i1304.textContent=_o447,_t1984.prepend(_i1304));}}}},{key:"hy",value:function hy(t){this.Js.board.undoManager.checkpoint("Pin Pattern"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"py",value:function py(t){this.Js.board.undoManager.checkpoint("Unpin Pattern"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"dv",value:function dv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1332=_createForOfIteratorHelper(this["#items"].children),_step1332;try{for(_iterator1332.s();!(_step1332=_iterator1332.n()).done;){var _e1415=_step1332.value;t.includes(_e1415)?(_e1415.setAttribute("data-selected",""),_e1415[fm]=Date.now()):_e1415.removeAttribute("data-selected");}}catch(err){_iterator1332.e(err);}finally{_iterator1332.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}}},{key:"Mu",value:function Mu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1305=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s779=e[0],_n560=_i1305.indexOf(_s779),_o448=_i1305[_n560-1];if(_o448){if(_o448.scrollIntoViewIfNeeded(),t)_o448.setAttribute("data-selected",""),_o448[fm]=Date.now();else{var _iterator1333=_createForOfIteratorHelper(_i1305),_step1333;try{for(_iterator1333.s();!(_step1333=_iterator1333.n()).done;){var _t1985=_step1333.value;_t1985===_o448?(_t1985.setAttribute("data-selected",""),_t1985[fm]=Date.now()):_t1985.removeAttribute("data-selected");}}catch(err){_iterator1333.e(err);}finally{_iterator1333.f();}}return!0;}}return!1;}},{key:"Pu",value:function Pu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1306=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s780=e[e.length-1],_n561=_i1306.indexOf(_s780),_o449=_i1306[_n561+1];if(_o449){if(_o449.scrollIntoViewIfNeeded(),t)_o449.setAttribute("data-selected",""),_o449[fm]=Date.now();else{var _iterator1334=_createForOfIteratorHelper(_i1306),_step1334;try{for(_iterator1334.s();!(_step1334=_iterator1334.n()).done;){var _t1986=_step1334.value;_t1986===_o449?(_t1986.setAttribute("data-selected",""),_t1986[fm]=Date.now()):_t1986.removeAttribute("data-selected");}}catch(err){_iterator1334.e(err);}finally{_iterator1334.f();}}return!0;}}return!1;}},{key:"Cv",value:function Cv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1335=_createForOfIteratorHelper(t),_step1335;try{for(_iterator1335.s();!(_step1335=_iterator1335.n()).done;){var _i1307=_step1335.value;_i1307===e?(_i1307.setAttribute("data-selected",""),_i1307[fm]=Date.now()):_i1307.removeAttribute("data-selected");}}catch(err){_iterator1335.e(err);}finally{_iterator1335.f();}return!0;}return!1;}},{key:"Mv",value:function Mv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1336=_createForOfIteratorHelper(t),_step1336;try{for(_iterator1336.s();!(_step1336=_iterator1336.n()).done;){var _i1308=_step1336.value;_i1308===e?(_i1308.setAttribute("data-selected",""),_i1308[fm]=Date.now()):_i1308.removeAttribute("data-selected");}}catch(err){_iterator1336.e(err);}finally{_iterator1336.f();}return!0;}return!1;}},{key:"iv",value:function iv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.dv(t,!1);}},{key:"nv",value:function nv(){this.dv([],!1);}},{key:"Pv",value:function Pv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add pattern");var i=Di("svg:pattern");if(i.setAttribute("id",t.generateUniqueID("pattern")),i.setAttribute("viewBox","0 0 100 100"),i.setAttribute("patternUnits","userSpaceOnUse"),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("width","100"),i.setAttribute("height","100"),i.setAttribute("data-bx-pinned","true"),e.length>0){e[e.length-1][gm].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[gm]===i;});this.dv([s]);}},{key:"uy",value:function uy(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add pattern");var i=Ue(t.outermostSelectedObjectElements.map(function(t){return Ci(t);}));i=Fe(i,Vt(t.currentWorkspace).inverse());var s=-i.x,n=-i.y,o=X(i.width,4),l=X(i.height,4),h=Di("svg:pattern");h.setAttribute("id",t.generateUniqueID("pattern")),h.setAttribute("viewBox","0 0 ".concat(o," ").concat(l)),h.setAttribute("patternUnits","userSpaceOnUse"),h.setAttribute("preserveAspectRatio","none"),h.setAttribute("width","100"),h.setAttribute("height","100"),h.setAttribute("data-bx-pinned","true");var _iterator1337=_createForOfIteratorHelper(Li(t.outermostSelectedObjectElements)),_step1337;try{for(_iterator1337.s();!(_step1337=_iterator1337.n()).done;){var _e1416=_step1337.value;var _i1309=new DOMMatrix();_i1309.translateSelf(s,n),_i1309.multiplySelf(Nt(_e1416,t.currentWorkspace)),_e1416.setAttribute("transform",_i1309),h.append(_e1416);}}catch(err){_iterator1337.e(err);}finally{_iterator1337.f();}if(t.selectedElements=[],t.selectedTextRange=null,t.currentContainer=null,e.length>0){e[e.length-1][gm].after(h);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(h);this.qs();var a=_toConsumableArray(this["#items"].children).find(function(t){return t[gm]===h;});this.dv([a]);}},{key:"fv",value:function(){var _fv3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee128(){var t,e,i,_iterator1338,_step1338,_step1338$value,_t1990,_s785,_iterator1340,_step1340,_n563,_t1987,_s781,_i1310,_s782,_i1311,_i1312,_arr56,_n562,_o450,_l349,_h258,_a209,_i1313,_s783,_iterator1339,_step1339,_t1989,_i1314,_s784,_t1988;return regeneratorRuntime.wrap(function _callee128$(_context129){while(1){switch(_context129.prev=_context129.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[gm];}),i=[];_iterator1338=_createForOfIteratorHelper(this.xy());try{for(_iterator1338.s();!(_step1338=_iterator1338.n()).done;){_step1338$value=_slicedToArray(_step1338.value,2),_t1990=_step1338$value[0],_s785=_step1338$value[1];_iterator1340=_createForOfIteratorHelper(_s785);try{for(_iterator1340.s();!(_step1340=_iterator1340.n()).done;){_n563=_step1340.value;e.includes(_n563)&&!1===i.includes(_t1990)&&i.push(_t1990);}}catch(err){_iterator1340.e(err);}finally{_iterator1340.f();}}}catch(err){_iterator1338.e(err);}finally{_iterator1338.f();}if(!(0!==e.length)){_context129.next=19;break;}if(!(i.length>0)){_context129.next=12;break;}_t1987="Delete ";1===e.length?_t1987+="a pattern":_t1987+="".concat(e.length," patterns"),_t1987+=" applied to ",1===i.length?_t1987+="1 object?":_t1987+="".concat(i.length," objects?");_context129.next=9;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t1987,detail:"Deleting a pattern also removes it from all objects it was applied to."});case 9:_s781=_context129.sent;if(!(-1===_s781||1===_s781)){_context129.next=12;break;}return _context129.abrupt("return");case 12:t.undoManager.checkpoint("Delete patterns"),this.Pu()||this.Mu(),"pattern"===t.currentWorkspace.getAttribute("data-bx-workspace")&&e.find(function(e){return e.id===t.currentWorkspace.id;})&&t.editPatternEnd(!1);_i1310=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),_s782=null;for(;_s782=_i1310.nextNode();){if(w.includes(_s782.localName)){_i1311=getComputedStyle(_s782);for(_i1312=0,_arr56=["fill","stroke"];_i1312<_arr56.length;_i1312++){_n562=_arr56[_i1312];_o450=so.fromString(_i1311[_n562]),_l349=_o450?t.masterWorkspace.querySelector(_o450.value):null,_h258=_l349&&"pattern"===_l349.localName?_l349:null,_a209=_h258?Ro(_h258):null;e.includes(_a209)&&(_s782.style[_n562]="#000000",_s782.removeAttribute(_n562));}}}_i1313=_toConsumableArray(t.masterWorkspace.querySelectorAll("pattern")),_s783=[];_iterator1339=_createForOfIteratorHelper(_i1313);try{for(_iterator1339.s();!(_step1339=_iterator1339.n()).done;){_t1989=_step1339.value;(e.includes(_t1989)||e.includes(Ro(_t1989)))&&_s783.push(_t1989);}}catch(err){_iterator1339.e(err);}finally{_iterator1339.f();}for(_i1314=0,_s784=_s783;_i1314<_s784.length;_i1314++){_t1988=_s784[_i1314];_t1988.remove();}case 19:case"end":return _context129.stop();}}},_callee128,this);}));function fv(){return _fv3.apply(this,arguments);}return fv;}()},{key:"wv",value:function wv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[gm];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin pattern"+e.length>1?"s":"");var _iterator1341=_createForOfIteratorHelper(e),_step1341;try{for(_iterator1341.s();!(_step1341=_iterator1341.n()).done;){var _t1991=_step1341.value;_t1991.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1341.e(err);}finally{_iterator1341.f();}}}},{key:"vv",value:function vv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[gm];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin pattern"+e.length>1?"s":"");var _iterator1342=_createForOfIteratorHelper(e),_step1342;try{for(_iterator1342.s();!(_step1342=_iterator1342.n()).done;){var _t1992=_step1342.value;_t1992.removeAttribute("data-bx-pinned");}}catch(err){_iterator1342.e(err);}finally{_iterator1342.f();}}}},{key:"Fw",value:function Fw(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s786=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_n564=t[0],_o451=_s786.indexOf(e);if("start"===i){if(_s786[_o451-1]===_n564)return!1;}else if("end"===i){if(_s786[_o451+1]===_n564)return!1;}}return!0;}},{key:"ly",value:function ly(t){var e=this.Js.board,i=document.createNodeIterator(e.currentWorkspace,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(w.includes(s.localName)){var _i1315=getComputedStyle(s);for(var _i1316=0,_arr57=["fill","stroke"];_i1316<_arr57.length;_i1316++){var _o452=_arr57[_i1316];var _l350=so.fromString(_i1315[_o452]),_h259=_l350?e.masterWorkspace.querySelector(_l350.value):null,_a210=_h259&&"pattern"===_h259.localName?_h259:null,_r139=_a210?Ro(_a210):null;if(_r139&&_r139.id===t){var _t1993=s.closest("text");_t1993?!1===n.includes(_t1993)&&n.push(_t1993):n.push(s);break;}}}}e.selectedElements=[].concat(n);}},{key:"xy",value:function xy(){var t=this.Js.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(w.includes(s.localName)){var _i1317=getComputedStyle(s);for(var _i1318=0,_arr58=["fill","stroke"];_i1318<_arr58.length;_i1318++){var _n565=_arr58[_i1318];var _o453=so.fromString(_i1317[_n565]),_l351=_o453?t.masterWorkspace.querySelector(_o453.value):null,_h260=_l351&&"pattern"===_l351.localName?_l351:null,_a211=_h260?Ro(_h260):null;_a211&&(!1===e.has(s)?e.set(s,[_a211]):e.get(s).push(_a211));}}}return e;}},{key:"qs",value:function qs(){{var _t1994=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("pattern")).filter(function(t){return Fo(t);}),_e1417=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[gm];}),_i1319=document.createDocumentFragment();var _iterator1343=_createForOfIteratorHelper(_t1994),_step1343;try{for(_iterator1343.s();!(_step1343=_iterator1343.n()).done;){var _s787=_step1343.value;var _t1995=Hi(_templateObject52(),_s787.id,_s787.id);_t1995[gm]=_s787,_e1417.includes(_s787)&&(_t1995.setAttribute("data-selected",""),_t1995[fm]=Date.now()),this.Tv(_t1995),this.Av(_t1995),_i1319.append(_t1995);}}catch(err){_iterator1343.e(err);}finally{_iterator1343.f();}this["#items"].innerHTML="",this["#items"].append(_i1319);}this["#mirror-svg"].innerHTML=this.Js.board.masterWorkspace.innerHTML,this._v(),this.bv(),this.Cu();}},{key:"zv",value:function zv(){var _iterator1344=_createForOfIteratorHelper(this["#items"].children),_step1344;try{for(_iterator1344.s();!(_step1344=_iterator1344.n()).done;){var _t1996=_step1344.value;this.Av(_t1996);}}catch(err){_iterator1344.e(err);}finally{_iterator1344.f();}}},{key:"qw",value:function qw(){this["#search-input"].value="";var _iterator1345=_createForOfIteratorHelper(this["#items"].children),_step1345;try{for(_iterator1345.s();!(_step1345=_iterator1345.n()).done;){var _t1997=_step1345.value;this.Tv(_t1997),this.Av(_t1997);}}catch(err){_iterator1345.e(err);}finally{_iterator1345.f();}this.Cu();}},{key:"Cu",value:function Cu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"Av",value:function Av(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Tv",value:function Tv(t){var e=t[gm],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<pattern>",i.removeAttribute("data-custom"));else{var _t1998;_t1998=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t1998?(i.textContent=_t1998.textContent,i.setAttribute("data-custom","")):(i.textContent="Pattern",i.removeAttribute("data-custom"));}}},{key:"_v",value:function _v(){var t=this.xy();var _iterator1346=_createForOfIteratorHelper(this["#items"].children),_step1346;try{for(_iterator1346.s();!(_step1346=_iterator1346.n()).done;){var _e1418=_step1346.value;var _i1320=_e1418.querySelector(".counter-button"),_s788=0;var _iterator1347=_createForOfIteratorHelper(t),_step1347;try{for(_iterator1347.s();!(_step1347=_iterator1347.n()).done;){var _step1347$value=_slicedToArray(_step1347.value,2),_i1321=_step1347$value[0],_n566=_step1347$value[1];_n566.includes(_e1418[gm])&&(_s788+=1);}}catch(err){_iterator1347.e(err);}finally{_iterator1347.f();}0===_s788?(_i1320.setAttribute("hidden",""),_i1320.firstElementChild.textContent="0"):(_i1320.setAttribute("title",1===_s788?"Select 1 pattern user":"Select ".concat(_s788," pattern users")),_i1320.removeAttribute("hidden"),_i1320.firstElementChild.textContent=_s788);}}catch(err){_iterator1346.e(err);}finally{_iterator1346.f();}}},{key:"bv",value:function bv(){if("unpinned"===this.uv.patterns){var _iterator1348=_createForOfIteratorHelper(this["#items"].children),_step1348;try{for(_iterator1348.s();!(_step1348=_iterator1348.n()).done;){var _t1999=_step1348.value;var _e1419=_t1999[gm],_i1322=_t1999.lastElementChild;_i1322.hidden=!1,_i1322.toggled=_e1419.hasAttribute("data-bx-pinned");}}catch(err){_iterator1348.e(err);}finally{_iterator1348.f();}}else{var _iterator1349=_createForOfIteratorHelper(this["#items"].children),_step1349;try{for(_iterator1349.s();!(_step1349=_iterator1349.n()).done;){var _t2000=_step1349.value;_t2000.lastElementChild.hidden=!0;}}catch(err){_iterator1349.e(err);}finally{_iterator1349.f();}}}}]);return wm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(wm,"observedAttributes",["enabled"]);_defineProperty(wm,"_shadowTemplate",Hi(_templateObject385()));_defineProperty(wm,"_shadowStyleSheet",Yi(_templateObject386()));customElements.define("bx-patternsbrowser",wm);var vm=Symbol(),ym=Symbol();var km=/*#__PURE__*/function(_HTMLElement112){_inherits(km,_HTMLElement112);var _super164=_createSuper(km);_createClass(km,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function km(){var _temp46,_this767;_classCallCheck(this,km);(_temp46=_this767=_super164.call(this),_defineProperty(_assertThisInitialized(_this767),"commands",{selectAll:{enabled:function enabled(){return null===_this767._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this767.iv();}},deselectAll:{enabled:function enabled(){return null===_this767._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this767.nv();}}}),_temp46),_this767.oy=Xi(_this767.qs,2e3,_assertThisInitialized(_this767)),_this767.lv=0,_this767._shadowRoot=_this767.attachShadow({mode:"closed"}),_this767._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,km._shadowStyleSheet],_this767._shadowRoot.append(document.importNode(km._shadowTemplate.content,!0));var _iterator1350=_createForOfIteratorHelper(_this767._shadowRoot.querySelectorAll("[id]")),_step1350;try{for(_iterator1350.s();!(_step1350=_iterator1350.n()).done;){var _t2001=_step1350.value;_this767["#"+_t2001.id]=_t2001;}}catch(err){_iterator1350.e(err);}finally{_iterator1350.f();}_this767.addEventListener("keydown",function(t){return _this767.vn(t);}),_this767["#items"].addEventListener("scroll",function(){return _this767.hv();}),_this767["#items"].addEventListener("contextmenu",function(t){return _this767.Xc(t);}),_this767["#items"].addEventListener("pointerdown",function(t){return _this767.Wc(t);}),_this767["#items"].addEventListener("click",function(t){return _this767.qc(t);}),_this767["#search-input"].addEventListener("input",function(){return _this767.av();}),_this767["#developer-mode-button"].addEventListener("toggle",function(){return _this767.fu();}),_this767["#add-menu"].addEventListener("click",function(t){return _this767.Tw(t);}),_this767["#add-menu"].addEventListener("open",function(){return _this767.rv();});return _this767;}_createClass(km,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this["#items"].scrollTop=this.lv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this768=this;this.Qs.addEventListener("configchange",this.ln=function(t){_this768.hn(t);}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this768.il(t);}),this.Js.board.addEventListener("artworkchange",this.dr=function(t){_this768.pv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.lv,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-markersbrowser:developerMode",!1),this.uv=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Rp),this.qs();}},{key:"sn",value:function sn(){this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("artworkchange",this.dr),this["#items"].remove();}},{key:"hn",value:function hn(t){var _t$detail13=t.detail,e=_t$detail13.key,i=_t$detail13.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this.uv=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Rp),this.bv());}},{key:"il",value:function il(t){var e=t.detail,i="debounced";var _iterator1351=_createForOfIteratorHelper(e),_step1351;try{for(_iterator1351.s();!(_step1351=_iterator1351.n()).done;){var _t2002=_step1351.value;var _e1420=_t2002.target.nodeName,_s789=_t2002.addedNodes[0]?_t2002.addedNodes[0].nodeName:null,_n567=_t2002.removedNodes[0]?_t2002.removedNodes[0].nodeName:null,_o454=_t2002.attributeName;if("marker"===_e1420){if("bx-title"===_s789||"bx-title"===_n567){i="now";break;}if("id"===_o454){i="now";break;}if("data-bx-pinned"===_o454){i="now";break;}}else if("bx-title"===_e1420){if(_s789||_n567){i="now";break;}}else if("marker"===_s789||"marker"===_n567){i="now";break;}}}catch(err){_iterator1351.e(err);}finally{_iterator1351.f();}"now"===i?this.qs():"debounced"===i&&this.oy();}},{key:"pv",value:function pv(){this.qs();}},{key:"hv",value:function hv(){this.lv=this["#items"].scrollTop;}},{key:"Xc",value:function(){var _Xc5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee129(t){var e,_i1323,_s790,_n568;return regeneratorRuntime.wrap(function _callee129$(_context130){while(1){switch(_context130.prev=_context130.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context130.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.dv([e]);_i1323=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[vm];});_s790=e[vm];_context130.next=7;return this.Qs.openContextMenu([{label:"Edit Marker",value:"edit",disabled:1!==_i1323.length||this.Js.board.currentWorkspace.id===_s790.id},{label:"Edit Marker ID",value:"edit-id",disabled:1!==_i1323.length},{label:"Edit Marker Title",value:"edit-title",disabled:1!==_i1323.length},{type:"separator"},{label:"Delete Marker"+(_i1323.length>1?"s":""),value:"delete",disabled:0===_i1323.length},{type:"separator"},{label:"Pin Marker"+(_i1323.length>1?"s":""),value:"pin",disabled:void 0===_i1323.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Marker"+(_i1323.length>1?"s":""),value:"unpin",disabled:void 0===_i1323.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Marker Users",value:"select-users",disabled:1!==_i1323.length}]);case 7:_n568=_context130.sent;"edit"===_n568?this.Js.board.editMarker(_s790.id):"edit-id"===_n568?this.mv(_s790.id,"id"):"edit-title"===_n568?this.mv(_s790.id,"title"):"delete"===_n568?this.fv():"pin"===_n568?this.wv():"unpin"===_n568?this.vv():"select-users"===_n568&&this.by(_s790.id);case 9:case"end":return _context130.stop();}}},_callee129,this);}));function Xc(_x153){return _Xc5.apply(this,arguments);}return Xc;}()},{key:"qc",value:function qc(t){t.target.closest(".item")&&this.jw(t);}},{key:"jw",value:function jw(t){var _this$Qs$modKeys19=this.Qs.modKeys,e=_this$Qs$modKeys19.ctrl,i=_this$Qs$modKeys19.shift;if(!1===e&&!1===i){var _e1421=t.target.closest(".item"),_i1324=t.target.closest(".thumbnail"),_s791=t.target.closest(".counter-button"),_n569=t.target.closest(".pin-button"),_o455=_e1421[vm].id;_s791?this.by(_o455):_n569?_n569.toggled?this.my(_o455):this.gy(_o455):_i1324?t.detail%2==0&&this.Js.board.editMarker(_o455):t.detail%2==0&&this.mv(_o455);}}},{key:"Wc",value:function Wc(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1422=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1422&&this.dv([]);}else t.target.closest(".item")&&this.gm(t);}},{key:"gm",value:function gm(t){var _this769=this;var _this$Qs$modKeys20=this.Qs.modKeys,e=_this$Qs$modKeys20.ctrl,i=_this$Qs$modKeys20.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[ym]=Date.now());else if(!0===i){var _t2003=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1423=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1423.length>0){var _i1325=_t2003.indexOf(s),_n570=_e1423.sort(function(t,e){return e[ym]-t[ym];})[0],_o456=_t2003.indexOf(_n570),_l352=[];if(_i1325>_o456?_l352=_toConsumableArray(_t2003).slice(_o456,_i1325+1):_i1325<_o456&&(_l352=_toConsumableArray(_t2003).slice(_i1325,_o456+1).reverse()),_l352=_l352.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l352.length>0){var _iterator1352=_createForOfIteratorHelper(_l352),_step1352;try{for(_iterator1352.s();!(_step1352=_iterator1352.n()).done;){var _t2004=_step1352.value;_t2004.setAttribute("data-selected",""),_t2004[ym]=Date.now();}}catch(err){_iterator1352.e(err);}finally{_iterator1352.f();}}}}else{var _t2007,_e1425,_i1326=!1;window.addEventListener("pointermove",_t2007=function _t2005(o){var l=new DOMPoint(o.clientX,o.clientY);if(Pe(n,l)>=3){if(window.removeEventListener("pointermove",_t2007),window.removeEventListener("pointerup",_e1425),!1===s.hasAttribute("data-selected")){var _iterator1353=_createForOfIteratorHelper(_this769["#items"].children),_step1353;try{for(_iterator1353.s();!(_step1353=_iterator1353.n()).done;){var _t2006=_step1353.value;_t2006===s?(_t2006.setAttribute("data-selected",""),_t2006[ym]=Date.now()):_t2006.removeAttribute("data-selected");}}catch(err){_iterator1353.e(err);}finally{_iterator1353.f();}}_this769.Gw(o),_i1326=!0;}}),window.addEventListener("pointerup",_e1425=function _e1424(){if(window.removeEventListener("pointermove",_t2007),window.removeEventListener("pointerup",_e1425),!1===_i1326){var _iterator1354=_createForOfIteratorHelper(_this769["#items"].children),_step1354;try{for(_iterator1354.s();!(_step1354=_iterator1354.n()).done;){var _t2008=_step1354.value;_t2008===s?(_t2008.setAttribute("data-selected",""),_t2008[ym]=Date.now()):_t2008.removeAttribute("data-selected");}}catch(err){_iterator1354.e(err);}finally{_iterator1354.f();}}});}}},{key:"Gw",value:function Gw(t){var _this770=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,h="start",a=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===a&&(a=setInterval(function(){return _this770["#items"].scrollTop+=r;},10));},c=function c(){null!==a&&(clearInterval(a),a=null);},p=function p(){var t=_this770.Qs.pointerClientPoint,e=_this770._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this770._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1426=l.getBoundingClientRect();if(h=t.y<_e1426.y+_e1426.height/2?"start":"end",_this770.Fw(n,l,h)){var _t2009=l.offsetTop-_this770["#items"].scrollTop;"end"===h&&(_t2009+=_e1426.height),_this770["#drop-indicator"].hidden=!1,_this770["#drop-indicator"].style.top=_t2009-1+"px";}else l=null,_this770["#drop-indicator"].hidden=!0;}else _this770["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s792){function s(_x154){return _s792.apply(this,arguments);}s.toString=function(){return _s792.toString();};return s;}(function(t){if(_this770["#items"].removeEventListener("pointermove",e),_this770["#items"].removeEventListener("scroll",i),_this770["#items"].removeEventListener("lostpointercapture",s),_this770["#items"].style.cursor=null,_this770["#drop-indicator"].hidden=!0,c(),_this770.Js.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1427=n[0][vm],_i1327=_this770.Js.board.getWorkspaceElementFromPoint(t.clientX,t.clientY);_i1327&&z.includes(_i1327.localName)&&(_this770.Js.board.undoManager.checkpoint("Apply marker"),_i1327.style.markerMid="url(#".concat(_e1427.id,")"),_this770._v());}}else if(l){_this770.Js.board.undoManager.checkpoint("Rearrange markers");var _t2010=document.createDocumentFragment(),_e1428=l[vm];var _iterator1355=_createForOfIteratorHelper(n),_step1355;try{for(_iterator1355.s();!(_step1355=_iterator1355.n()).done;){var _i1328=_step1355.value;_i1328[vm]!==_e1428&&_t2010.append(_i1328[vm]);}}catch(err){_iterator1355.e(err);}finally{_iterator1355.f();}"start"===h?_e1428.before(_t2010):_e1428.after(_t2010);}}));}},{key:"vn",value:function vn(t){if(this["#search-input"].matches(":focus"))return;var e=to.fromEvent(t);if(e.matches("Enter")){var _t2011=this["#items"].querySelector(".item[data-label-edited]"),_e1429=this["#items"].querySelector(".item[data-selected]");_t2011?this.focus():_e1429&&this.mv(_e1429[vm].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.fv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Mu()||this.Cv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Pu()||this.Mv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Mu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Pu(!0));}}},{key:"fu",value:function fu(){this.Qs.setConfig("bx-markersbrowser:developerMode",this["#developer-mode-button"].toggled),this.qw(),this.focus();}},{key:"Tw",value:function Tw(t){var e=t.target.closest("x-menuitem");e&&("add-marker"===e.value?this.Pv():"add-marker-from-objects"===e.value&&this.uy());}},{key:"rv",value:function rv(){var t=this.Js.board.selectedObjectElements;this["#add-marker-from-objects-menu-item"].disabled=0===t.length;}},{key:"av",value:function av(){this.zv(),this.Cu();}},{key:"mv",value:function mv(t){var _this771=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[vm].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t2012=this["#items"].querySelector(".item[data-label-edited]");if(_t2012){if(_t2012===i)return;this.Ov();}}this.dv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[vm],l=this["#developer-mode-button"].toggled?"Marker ID":"Marker title",h=(s.currentWorkspace.id===o.id?s.currentWorkspace:o).querySelector(":scope > bx-title"),a="";!0===this["#developer-mode-button"].toggled&&o.id?a="#"+o.id:!1===this["#developer-mode-button"].toggled&&h&&(a=h.textContent);var r=Hi(_templateObject53(),a,l);n.after(r),r.selectAll(),Ki(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this771.Ov();}),r.validate=function(){var t=null;if(_this771["#developer-mode-button"].toggled){var _e1430=r.value.trim();if(_e1430.startsWith("#")&&(_e1430=_e1430.substring(1)),0===_e1430.length)t="Marker must have ID";else if(Ni(_e1430)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1430)))&&o.id!==_e1430&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"Ov",value:function Ov(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1431=this.Js.board,_i1329=t.querySelector(".label"),_s793=t.querySelector("x-input"),_n571=t[vm];if(_s793.remove(),_i1329.hidden=!1,t.removeAttribute("data-label-edited"),null===_s793.error)if(this["#developer-mode-button"].toggled){var _t2013=_n571.getAttribute("id").trim(),_i1330=_s793.value.trim().toLowerCase();if(_i1330.startsWith("#")&&(_i1330=_i1330.substring(1)),_t2013!==_i1330){_e1431.undoManager.checkpoint("Marker ID");var _s794=document.createNodeIterator(_e1431.workspaces,NodeFilter.SHOW_ELEMENT),_n572=null;for(;_n572=_s794.nextNode();){"marker"===_n572.localName?_n572.id===_t2013&&_n572.setAttribute("id",_i1330):"g"===_n572.localName&&"marker"===_n572.getAttribute("data-bx-workspace")&&_n572.id===_t2013&&_n572.setAttribute("id",_i1330);{var _e1432=getComputedStyle(_n572);for(var _i1331=0,_arr59=["marker-start","marker-mid","marker-end"];_i1331<_arr59.length;_i1331++){var _s795=_arr59[_i1331];var _o457=_e1432.getPropertyValue(_s795);if(_o457&&_o457.startsWith("url(")){_o457.substring(6,_o457.length-2)===_t2013&&_n572.style.setProperty(_s795,"url(#".concat(_i1330,")"));}}}}}}else{var _t2014=_e1431.currentWorkspace.id===_n571.id?_e1431.currentWorkspace:_n571,_i1332=_t2014.querySelector(":scope > bx-title"),_o458=_s793.value.trim();if(_i1332){_i1332.textContent!==_o458&&(_e1431.undoManager.checkpoint("Marker title"),""===_o458?_i1332.remove():_i1332.textContent=_o458);}else""!==_o458&&(_e1431.undoManager.checkpoint("Marker title"),_i1332=Di("svg:bx-title"),_i1332.textContent=_o458,_t2014.prepend(_i1332));}}}},{key:"my",value:function my(t){this.Js.board.undoManager.checkpoint("Pin Marker"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"gy",value:function gy(t){this.Js.board.undoManager.checkpoint("Unpin Marker"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"dv",value:function dv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1356=_createForOfIteratorHelper(this["#items"].children),_step1356;try{for(_iterator1356.s();!(_step1356=_iterator1356.n()).done;){var _e1433=_step1356.value;t.includes(_e1433)?(_e1433.setAttribute("data-selected",""),_e1433[ym]=Date.now()):_e1433.removeAttribute("data-selected");}}catch(err){_iterator1356.e(err);}finally{_iterator1356.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}}},{key:"Mu",value:function Mu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1333=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s796=e[0],_n573=_i1333.indexOf(_s796),_o459=_i1333[_n573-1];if(_o459){if(_o459.scrollIntoViewIfNeeded(),t)_o459.setAttribute("data-selected",""),_o459[ym]=Date.now();else{var _iterator1357=_createForOfIteratorHelper(_i1333),_step1357;try{for(_iterator1357.s();!(_step1357=_iterator1357.n()).done;){var _t2015=_step1357.value;_t2015===_o459?(_t2015.setAttribute("data-selected",""),_t2015[ym]=Date.now()):_t2015.removeAttribute("data-selected");}}catch(err){_iterator1357.e(err);}finally{_iterator1357.f();}}return!0;}}return!1;}},{key:"Pu",value:function Pu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1334=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s797=e[e.length-1],_n574=_i1334.indexOf(_s797),_o460=_i1334[_n574+1];if(_o460){if(_o460.scrollIntoViewIfNeeded(),t)_o460.setAttribute("data-selected",""),_o460[ym]=Date.now();else{var _iterator1358=_createForOfIteratorHelper(_i1334),_step1358;try{for(_iterator1358.s();!(_step1358=_iterator1358.n()).done;){var _t2016=_step1358.value;_t2016===_o460?(_t2016.setAttribute("data-selected",""),_t2016[ym]=Date.now()):_t2016.removeAttribute("data-selected");}}catch(err){_iterator1358.e(err);}finally{_iterator1358.f();}}return!0;}}return!1;}},{key:"Cv",value:function Cv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1359=_createForOfIteratorHelper(t),_step1359;try{for(_iterator1359.s();!(_step1359=_iterator1359.n()).done;){var _i1335=_step1359.value;_i1335===e?(_i1335.setAttribute("data-selected",""),_i1335[ym]=Date.now()):_i1335.removeAttribute("data-selected");}}catch(err){_iterator1359.e(err);}finally{_iterator1359.f();}return!0;}return!1;}},{key:"Mv",value:function Mv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1360=_createForOfIteratorHelper(t),_step1360;try{for(_iterator1360.s();!(_step1360=_iterator1360.n()).done;){var _i1336=_step1360.value;_i1336===e?(_i1336.setAttribute("data-selected",""),_i1336[ym]=Date.now()):_i1336.removeAttribute("data-selected");}}catch(err){_iterator1360.e(err);}finally{_iterator1360.f();}return!0;}return!1;}},{key:"iv",value:function iv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.dv(t,!1);}},{key:"nv",value:function nv(){this.dv([],!1);}},{key:"Pv",value:function Pv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add marker");var i=Di("svg:marker");if(i.setAttribute("id",t.generateUniqueID("marker")),i.setAttribute("viewBox","0 0 100 100"),i.setAttribute("overflow","visible"),i.setAttribute("orient","auto"),i.setAttribute("refX","50"),i.setAttribute("refY","50"),i.setAttribute("data-bx-pinned","true"),e.length>0){e[e.length-1][vm].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[vm]===i;});this.dv([s]);}},{key:"uy",value:function uy(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add marker");var i=Ue(t.outermostSelectedObjectElements.map(function(t){return Ci(t);}));i=Fe(i,Vt(t.vectorCanvas).inverse());var s=-i.x,n=-i.y,o=X(i.width,4),l=X(i.height,4),h=Di("svg:marker");h.setAttribute("id",t.generateUniqueID("marker")),h.setAttribute("viewBox","0 0 ".concat(o," ").concat(l)),h.setAttribute("overflow","visible"),h.setAttribute("orient","auto"),h.setAttribute("refX",X(o/2,2)),h.setAttribute("refY",X(l/2,2)),h.setAttribute("data-bx-pinned","true");var _iterator1361=_createForOfIteratorHelper(Li(t.outermostSelectedObjectElements)),_step1361;try{for(_iterator1361.s();!(_step1361=_iterator1361.n()).done;){var _e1434=_step1361.value;var _i1337=new DOMMatrix();_i1337.translateSelf(s,n),_i1337.multiplySelf(Nt(_e1434,t.vectorCanvas)),_e1434.setAttribute("transform",_i1337),h.append(_e1434);}}catch(err){_iterator1361.e(err);}finally{_iterator1361.f();}if(t.selectedElements=[],t.selectedTextRange=null,t.currentContainer=null,e.length>0){e[e.length-1][vm].after(h);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(h);this.qs();var a=_toConsumableArray(this["#items"].children).find(function(t){return t[vm]===h;});this.dv([a]);}},{key:"fv",value:function(){var _fv4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee130(){var t,e,i,_iterator1362,_step1362,_step1362$value,_t2019,_s800,_iterator1364,_step1364,_n576,_t2017,_s798,_i1338,_s799,_i1339,_i1340,_arr60,_n575,_o461,_l353,_h261,_iterator1363,_step1363,_t2018;return regeneratorRuntime.wrap(function _callee130$(_context131){while(1){switch(_context131.prev=_context131.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[vm];}),i=[];_iterator1362=_createForOfIteratorHelper(this.wy());try{for(_iterator1362.s();!(_step1362=_iterator1362.n()).done;){_step1362$value=_slicedToArray(_step1362.value,2),_t2019=_step1362$value[0],_s800=_step1362$value[1];_iterator1364=_createForOfIteratorHelper(_s800);try{for(_iterator1364.s();!(_step1364=_iterator1364.n()).done;){_n576=_step1364.value;e.includes(_n576)&&!1===i.includes(_t2019)&&i.push(_t2019);}}catch(err){_iterator1364.e(err);}finally{_iterator1364.f();}}}catch(err){_iterator1362.e(err);}finally{_iterator1362.f();}if(!(0!==e.length)){_context131.next=17;break;}if(!(i.length>0)){_context131.next=12;break;}_t2017="Delete ";1===e.length?_t2017+="a marker":_t2017+="".concat(e.length," markers"),_t2017+=" applied to ",1===i.length?_t2017+="1 object?":_t2017+="".concat(i.length," objects?");_context131.next=9;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t2017,detail:"Deleting a marker also removes it from all objects it was applied to."});case 9:_s798=_context131.sent;if(!(-1===_s798||1===_s798)){_context131.next=12;break;}return _context131.abrupt("return");case 12:t.undoManager.checkpoint("Delete markers"),this.Pu()||this.Mu(),"marker"===t.currentWorkspace.getAttribute("data-bx-workspace")&&e.find(function(e){return e.id===t.currentWorkspace.id;})&&t.editMarkerEnd(!1);_i1338=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),_s799=null;for(;_s799=_i1338.nextNode();){if(z.includes(_s799.localName)){_i1339=getComputedStyle(_s799);for(_i1340=0,_arr60=["marker-start","marker-mid","marker-end"];_i1340<_arr60.length;_i1340++){_n575=_arr60[_i1340];_o461=so.fromString(_i1339[_n575]),_l353=_o461?t.masterWorkspace.querySelector(_o461.value):null,_h261=_l353&&"marker"===_l353.localName?_l353:null;_h261&&e.includes(_h261)&&(_s799.style.removeProperty(_n575),_s799.removeAttribute(_n575));}}}_iterator1363=_createForOfIteratorHelper(e);try{for(_iterator1363.s();!(_step1363=_iterator1363.n()).done;){_t2018=_step1363.value;_t2018.remove();}}catch(err){_iterator1363.e(err);}finally{_iterator1363.f();}case 17:case"end":return _context131.stop();}}},_callee130,this);}));function fv(){return _fv4.apply(this,arguments);}return fv;}()},{key:"wv",value:function wv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[vm];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin marker"+e.length>1?"s":"");var _iterator1365=_createForOfIteratorHelper(e),_step1365;try{for(_iterator1365.s();!(_step1365=_iterator1365.n()).done;){var _t2020=_step1365.value;_t2020.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1365.e(err);}finally{_iterator1365.f();}}}},{key:"vv",value:function vv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[vm];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin marker"+e.length>1?"s":"");var _iterator1366=_createForOfIteratorHelper(e),_step1366;try{for(_iterator1366.s();!(_step1366=_iterator1366.n()).done;){var _t2021=_step1366.value;_t2021.removeAttribute("data-bx-pinned");}}catch(err){_iterator1366.e(err);}finally{_iterator1366.f();}}}},{key:"Fw",value:function Fw(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s801=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_n577=t[0],_o462=_s801.indexOf(e);if("start"===i){if(_s801[_o462-1]===_n577)return!1;}else if("end"===i){if(_s801[_o462+1]===_n577)return!1;}}return!0;}},{key:"by",value:function by(t){var e=this.Js.board,i=document.createNodeIterator(e.currentWorkspace,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(z.includes(s.localName)){var _i1341=getComputedStyle(s);for(var _i1342=0,_arr61=["marker-start","marker-mid","marker-end"];_i1342<_arr61.length;_i1342++){var _o463=_arr61[_i1342];var _l354=so.fromString(_i1341[_o463]),_h262=_l354?e.masterWorkspace.querySelector(_l354.value):null,_a212=_h262&&"marker"===_h262.localName?_h262:null;if(_a212&&_a212.id===t){var _t2022=s.closest("text");_t2022?!1===n.includes(_t2022)&&n.push(_t2022):n.push(s);break;}}}}e.selectedElements=[].concat(n);}},{key:"wy",value:function wy(){var t=this.Js.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(z.includes(s.localName)){var _i1343=getComputedStyle(s);for(var _i1344=0,_arr62=["marker-start","marker-mid","marker-end"];_i1344<_arr62.length;_i1344++){var _n578=_arr62[_i1344];var _o464=so.fromString(_i1343[_n578]),_l355=_o464?t.masterWorkspace.querySelector(_o464.value):null,_h263=_l355&&"marker"===_l355.localName?_l355:null;_h263&&(!1===e.has(s)?e.set(s,[_h263]):e.get(s).push(_h263));}}}return e;}},{key:"qs",value:function qs(){{var _t2023=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("marker")),_e1435=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[vm];}),_i1345=document.createDocumentFragment();var _iterator1367=_createForOfIteratorHelper(_t2023),_step1367;try{for(_iterator1367.s();!(_step1367=_iterator1367.n()).done;){var _s802=_step1367.value;var _t2024=_s802.hasAttribute("viewBox")?"viewBox=\"".concat(_s802.getAttribute("viewBox"),"\""):"",_n579=Hi(_templateObject54(),_t2024,_s802.innerHTML,_s802.id);_n579[vm]=_s802,_e1435.includes(_s802)&&(_n579.setAttribute("data-selected",""),_n579[ym]=Date.now()),this.Tv(_n579),this.Av(_n579),_i1345.append(_n579);}}catch(err){_iterator1367.e(err);}finally{_iterator1367.f();}this["#items"].innerHTML="",this["#items"].append(_i1345);}this._v(),this.bv(),this.Cu();}},{key:"zv",value:function zv(){var _iterator1368=_createForOfIteratorHelper(this["#items"].children),_step1368;try{for(_iterator1368.s();!(_step1368=_iterator1368.n()).done;){var _t2025=_step1368.value;this.Av(_t2025);}}catch(err){_iterator1368.e(err);}finally{_iterator1368.f();}}},{key:"qw",value:function qw(){this["#search-input"].value="";var _iterator1369=_createForOfIteratorHelper(this["#items"].children),_step1369;try{for(_iterator1369.s();!(_step1369=_iterator1369.n()).done;){var _t2026=_step1369.value;this.Tv(_t2026),this.Av(_t2026);}}catch(err){_iterator1369.e(err);}finally{_iterator1369.f();}this.Cu();}},{key:"Cu",value:function Cu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"Av",value:function Av(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Tv",value:function Tv(t){var e=t[vm],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<marker>",i.removeAttribute("data-custom"));else{var _t2027;_t2027=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t2027?(i.textContent=_t2027.textContent,i.setAttribute("data-custom","")):(i.textContent="Marker",i.removeAttribute("data-custom"));}}},{key:"_v",value:function _v(){var t=this.wy();var _iterator1370=_createForOfIteratorHelper(this["#items"].children),_step1370;try{for(_iterator1370.s();!(_step1370=_iterator1370.n()).done;){var _e1436=_step1370.value;var _i1346=_e1436.querySelector(".counter-button"),_s803=0;var _iterator1371=_createForOfIteratorHelper(t),_step1371;try{for(_iterator1371.s();!(_step1371=_iterator1371.n()).done;){var _step1371$value=_slicedToArray(_step1371.value,2),_i1347=_step1371$value[0],_n580=_step1371$value[1];_n580.includes(_e1436[vm])&&(_s803+=1);}}catch(err){_iterator1371.e(err);}finally{_iterator1371.f();}0===_s803?(_i1346.setAttribute("hidden",""),_i1346.firstElementChild.textContent="0"):(_i1346.setAttribute("title",1===_s803?"Select 1 marker user":"Select ".concat(_s803," marker users")),_i1346.removeAttribute("hidden"),_i1346.firstElementChild.textContent=_s803);}}catch(err){_iterator1370.e(err);}finally{_iterator1370.f();}}},{key:"bv",value:function bv(){if("unpinned"===this.uv.markers){var _iterator1372=_createForOfIteratorHelper(this["#items"].children),_step1372;try{for(_iterator1372.s();!(_step1372=_iterator1372.n()).done;){var _t2028=_step1372.value;var _e1437=_t2028[vm],_i1348=_t2028.lastElementChild;_i1348.hidden=!1,_i1348.toggled=_e1437.hasAttribute("data-bx-pinned");}}catch(err){_iterator1372.e(err);}finally{_iterator1372.f();}}else{var _iterator1373=_createForOfIteratorHelper(this["#items"].children),_step1373;try{for(_iterator1373.s();!(_step1373=_iterator1373.n()).done;){var _t2029=_step1373.value;_t2029.lastElementChild.hidden=!0;}}catch(err){_iterator1373.e(err);}finally{_iterator1373.f();}}}}]);return km;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(km,"observedAttributes",["enabled"]);_defineProperty(km,"_shadowTemplate",Hi(_templateObject387()));_defineProperty(km,"_shadowStyleSheet",Yi(_templateObject388()));customElements.define("bx-markersbrowser",km);var Sm=Symbol(),_m=Symbol();var Cm=/*#__PURE__*/function(_HTMLElement113){_inherits(Cm,_HTMLElement113);var _super165=_createSuper(Cm);_createClass(Cm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Cm(){var _temp47,_this772;_classCallCheck(this,Cm);(_temp47=_this772=_super165.call(this),_defineProperty(_assertThisInitialized(_this772),"commands",{copy:{enabled:function enabled(){return _this772.vy();},exec:function exec(){return _this772.yy();}},selectAll:{enabled:function enabled(){return null===_this772._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this772.iv();}},deselectAll:{enabled:function enabled(){return null===_this772._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this772.nv();}}}),_temp47),_this772.oy=Xi(_this772.qs,2e3,_assertThisInitialized(_this772)),_this772.lv=0,_this772._shadowRoot=_this772.attachShadow({mode:"closed"}),_this772._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Cm._shadowStyleSheet],_this772._shadowRoot.append(document.importNode(Cm._shadowTemplate.content,!0));var _iterator1374=_createForOfIteratorHelper(_this772._shadowRoot.querySelectorAll("[id]")),_step1374;try{for(_iterator1374.s();!(_step1374=_iterator1374.n()).done;){var _t2030=_step1374.value;_this772["#"+_t2030.id]=_t2030;}}catch(err){_iterator1374.e(err);}finally{_iterator1374.f();}_this772.addEventListener("keydown",function(t){return _this772.vn(t);}),_this772["#items"].addEventListener("scroll",function(){return _this772.hv();}),_this772["#items"].addEventListener("contextmenu",function(t){return _this772.Xc(t);}),_this772["#items"].addEventListener("pointerdown",function(t){return _this772.Wc(t);}),_this772["#items"].addEventListener("click",function(t){return _this772.qc(t);}),_this772["#search-input"].addEventListener("input",function(){return _this772.av();}),_this772["#developer-mode-button"].addEventListener("toggle",function(){return _this772.fu();}),_this772["#add-menu"].addEventListener("click",function(t){return _this772.Tw(t);}),_this772["#add-menu"].addEventListener("open",function(){return _this772.rv();});return _this772;}_createClass(Cm,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this["#items"].scrollTop=this.lv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this773=this;this.Qs.addEventListener("configchange",this.ln=function(t){_this773.hn(t);}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this773.il(t);}),this.Js.board.addEventListener("artworkchange",this.dr=function(t){_this773.pv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.lv,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-symbolsbrowser:developerMode",!1),this.uv=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Rp),this.qs();}},{key:"sn",value:function sn(){this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("artworkchange",this.dr),this["#items"].remove(),this["#mirror-svg"].innerHTML="";}},{key:"hn",value:function hn(t){var _t$detail14=t.detail,e=_t$detail14.key,i=_t$detail14.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this.uv=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Rp),this.bv());}},{key:"il",value:function il(t){var e=t.detail,i="debounced";var _iterator1375=_createForOfIteratorHelper(e),_step1375;try{for(_iterator1375.s();!(_step1375=_iterator1375.n()).done;){var _t2031=_step1375.value;var _e1438=_t2031.target.nodeName,_s804=_t2031.addedNodes[0]?_t2031.addedNodes[0].nodeName:null,_n581=_t2031.removedNodes[0]?_t2031.removedNodes[0].nodeName:null,_o465=_t2031.attributeName;if("symbol"===_e1438){if("bx-title"===_s804||"bx-title"===_n581){i="now";break;}if("id"===_o465){i="now";break;}if("data-bx-pinned"===_o465){i="now";break;}}else if("bx-title"===_e1438){if(_s804||_n581){i="now";break;}}else if("symbol"===_s804||"symbol"===_n581){i="now";break;}}}catch(err){_iterator1375.e(err);}finally{_iterator1375.f();}"now"===i?this.qs():"debounced"===i&&this.oy();}},{key:"pv",value:function pv(){this.qs();}},{key:"hv",value:function hv(){this.lv=this["#items"].scrollTop;}},{key:"Xc",value:function(){var _Xc6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee131(t){var e,_i1349,_s805,_n582;return regeneratorRuntime.wrap(function _callee131$(_context132){while(1){switch(_context132.prev=_context132.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context132.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.dv([e]);_i1349=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[Sm];});_s805=e[Sm];_context132.next=7;return this.Qs.openContextMenu([{label:"Copy Symbol"+(_i1349.length>1?"s":""),value:"copy",disabled:0===_i1349.length},{type:"separator"},{label:"Edit Symbol",value:"edit",disabled:1!==_i1349.length||this.Js.board.currentWorkspace.id===_s805.id},{label:"Edit Symbol ID",value:"edit-id",disabled:1!==_i1349.length},{label:"Edit Symbol Title",value:"edit-title",disabled:1!==_i1349.length},{type:"separator"},{label:"Delete Symbol"+(_i1349.length>1?"s":""),value:"delete",disabled:0===_i1349.length},{type:"separator"},{label:"Pin Symbol"+(_i1349.length>1?"s":""),value:"pin",disabled:void 0===_i1349.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Symbol"+(_i1349.length>1?"s":""),value:"unpin",disabled:void 0===_i1349.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Symbol Instances",value:"select-instances",disabled:1!==_i1349.length}]);case 7:_n582=_context132.sent;"copy"===_n582?this.yy():"edit"===_n582?this.Js.board.editSymbol(_s805.id):"edit-id"===_n582?this.mv(_s805.id,"id"):"edit-title"===_n582?this.mv(_s805.id,"title"):"delete"===_n582?this.fv():"pin"===_n582?this.wv():"unpin"===_n582?this.vv():"select-instances"===_n582&&this.ky(_s805.id);case 9:case"end":return _context132.stop();}}},_callee131,this);}));function Xc(_x155){return _Xc6.apply(this,arguments);}return Xc;}()},{key:"qc",value:function qc(t){t.target.closest(".item")&&this.jw(t);}},{key:"jw",value:function jw(t){var _this$Qs$modKeys21=this.Qs.modKeys,e=_this$Qs$modKeys21.ctrl,i=_this$Qs$modKeys21.shift;if(!1===e&&!1===i){var _e1439=t.target.closest(".item"),_i1350=t.target.closest(".thumbnail"),_s806=t.target.closest(".counter-button"),_n583=t.target.closest(".pin-button"),_o466=_e1439[Sm].id;_s806?this.ky(_o466):_n583?_n583.toggled?this.Sy(_o466):this._y(_o466):_i1350?t.detail%2==0&&this.Js.board.editSymbol(_o466):t.detail%2==0&&this.mv(_o466);}}},{key:"Wc",value:function Wc(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1440=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1440&&this.dv([]);}else t.target.closest(".item")&&this.gm(t);}},{key:"gm",value:function gm(t){var _this774=this;var _this$Qs$modKeys22=this.Qs.modKeys,e=_this$Qs$modKeys22.ctrl,i=_this$Qs$modKeys22.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[_m]=Date.now());else if(!0===i){var _t2032=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1441=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1441.length>0){var _i1351=_t2032.indexOf(s),_n584=_e1441.sort(function(t,e){return e[_m]-t[_m];})[0],_o467=_t2032.indexOf(_n584),_l356=[];if(_i1351>_o467?_l356=_toConsumableArray(_t2032).slice(_o467,_i1351+1):_i1351<_o467&&(_l356=_toConsumableArray(_t2032).slice(_i1351,_o467+1).reverse()),_l356=_l356.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l356.length>0){var _iterator1376=_createForOfIteratorHelper(_l356),_step1376;try{for(_iterator1376.s();!(_step1376=_iterator1376.n()).done;){var _t2033=_step1376.value;_t2033.setAttribute("data-selected",""),_t2033[_m]=Date.now();}}catch(err){_iterator1376.e(err);}finally{_iterator1376.f();}}}}else{var _t2036,_e1443,_i1352=!1;window.addEventListener("pointermove",_t2036=function _t2034(o){var l=new DOMPoint(o.clientX,o.clientY);if(Pe(n,l)>=3){if(window.removeEventListener("pointermove",_t2036),window.removeEventListener("pointerup",_e1443),!1===s.hasAttribute("data-selected")){var _iterator1377=_createForOfIteratorHelper(_this774["#items"].children),_step1377;try{for(_iterator1377.s();!(_step1377=_iterator1377.n()).done;){var _t2035=_step1377.value;_t2035===s?(_t2035.setAttribute("data-selected",""),_t2035[_m]=Date.now()):_t2035.removeAttribute("data-selected");}}catch(err){_iterator1377.e(err);}finally{_iterator1377.f();}}_this774.Gw(o),_i1352=!0;}}),window.addEventListener("pointerup",_e1443=function _e1442(){if(window.removeEventListener("pointermove",_t2036),window.removeEventListener("pointerup",_e1443),!1===_i1352){var _iterator1378=_createForOfIteratorHelper(_this774["#items"].children),_step1378;try{for(_iterator1378.s();!(_step1378=_iterator1378.n()).done;){var _t2037=_step1378.value;_t2037===s?(_t2037.setAttribute("data-selected",""),_t2037[_m]=Date.now()):_t2037.removeAttribute("data-selected");}}catch(err){_iterator1378.e(err);}finally{_iterator1378.f();}}});}}},{key:"Gw",value:function Gw(t){var _this775=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,h="start",a=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===a&&(a=setInterval(function(){return _this775["#items"].scrollTop+=r;},10));},c=function c(){null!==a&&(clearInterval(a),a=null);},p=function p(){var t=_this775.Qs.pointerClientPoint,e=_this775._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this775._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1444=l.getBoundingClientRect();if(h=t.y<_e1444.y+_e1444.height/2?"start":"end",_this775.Fw(n,l,h)){var _t2038=l.offsetTop-_this775["#items"].scrollTop;"end"===h&&(_t2038+=_e1444.height),_this775["#drop-indicator"].hidden=!1,_this775["#drop-indicator"].style.top=_t2038-1+"px";}else l=null,_this775["#drop-indicator"].hidden=!0;}else _this775["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s809){function s(_x156){return _s809.apply(this,arguments);}s.toString=function(){return _s809.toString();};return s;}(function(t){if(_this775["#items"].removeEventListener("pointermove",e),_this775["#items"].removeEventListener("scroll",i),_this775["#items"].removeEventListener("lostpointercapture",s),_this775["#items"].style.cursor=null,_this775["#drop-indicator"].hidden=!0,c(),_this775.Js.board.isPointOverBoard(t.clientX,t.clientY)){var _e1445=_this775.Js.board,_i1353=_toConsumableArray(n).map(function(t){return t[Sm];}),_s807=!1;if("symbol"===_e1445.currentWorkspace.getAttribute("data-bx-workspace")){var _iterator1379=_createForOfIteratorHelper(_i1353),_step1379;try{for(_iterator1379.s();!(_step1379=_iterator1379.n()).done;){var _t2039=_step1379.value;if(_e1445.currentWorkspace.id===_t2039.id){_s807=!0;break;}}}catch(err){_iterator1379.e(err);}finally{_iterator1379.f();}}if(!1===_s807){_e1445.undoManager.checkpoint("Create symbol instance");var _s808=_e1445.currentContainer||_e1445.currentWorkspace,_n585=[];var _iterator1380=_createForOfIteratorHelper(_i1353),_step1380;try{for(_iterator1380.s();!(_step1380=_iterator1380.n()).done;){var _o468=_step1380.value;var _i1354=Di("svg:use");_i1354.setAttribute("href","#"+_o468.id),_o468.hasAttribute("viewBox")?(_i1354.setAttribute("width",_o468.viewBox.baseVal.width),_i1354.setAttribute("height",_o468.viewBox.baseVal.height)):(_i1354.setAttribute("width","100"),_i1354.setAttribute("height","100")),_s808.append(_i1354);var _l357=Vt(_i1354).inverse(),_h264=Ut(_i1354);_h264.multiplySelf(_l357),_i1354.setAttribute("transform",_h264.toString());var _a213=Ci(_i1354);_h264.translateSelf(t.clientX-_a213.width/2,t.clientY-_a213.height/2),_i1354.setAttribute("transform",_h264.toString());var _r140=_e1445.geometryPrecision,_d108=_e1445.transformPrecision;uh(_i1354,{geometryPrecision:_r140,transformPrecision:_d108}),_n585.push(_i1354);}}catch(err){_iterator1380.e(err);}finally{_iterator1380.f();}_e1445.selectedElements=_n585,_this775._v();}}else if(l){_this775.Js.board.undoManager.checkpoint("Rearrange symbols");var _t2040=document.createDocumentFragment(),_e1446=l[Sm];var _iterator1381=_createForOfIteratorHelper(n),_step1381;try{for(_iterator1381.s();!(_step1381=_iterator1381.n()).done;){var _i1355=_step1381.value;_i1355[Sm]!==_e1446&&_t2040.append(_i1355[Sm]);}}catch(err){_iterator1381.e(err);}finally{_iterator1381.f();}"start"===h?_e1446.before(_t2040):_e1446.after(_t2040);}}));}},{key:"vn",value:function vn(t){if(this["#search-input"].matches(":focus"))return;var e=to.fromEvent(t);if(e.matches("Enter")){var _t2041=this["#items"].querySelector(".item[data-label-edited]"),_e1447=this["#items"].querySelector(".item[data-selected]");_t2041?this.focus():_e1447&&this.mv(_e1447[Sm].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.fv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Mu()||this.Cv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Pu()||this.Mv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Mu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Pu(!0));}}},{key:"fu",value:function fu(){this.Qs.setConfig("bx-symbolsbrowser:developerMode",this["#developer-mode-button"].toggled),this.qw(),this.focus();}},{key:"Tw",value:function Tw(t){var e=t.target.closest("x-menuitem");e&&("add-symbol"===e.value?this.Pv():"add-symbol-from-objects"===e.value&&this.uy());}},{key:"rv",value:function rv(){var t=this.Js.board.selectedObjectElements;this["#add-symbol-from-objects-menu-item"].disabled=0===t.length;}},{key:"av",value:function av(){this.zv(),this.Cu();}},{key:"mv",value:function mv(t){var _this776=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[Sm].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t2042=this["#items"].querySelector(".item[data-label-edited]");if(_t2042){if(_t2042===i)return;this.Ov();}}this.dv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[Sm],l=this["#developer-mode-button"].toggled?"Symbol ID":"Symbol title",h=(s.currentWorkspace.id===o.id?s.currentWorkspace:o).querySelector(":scope > bx-title"),a="";!0===this["#developer-mode-button"].toggled&&o.id?a="#"+o.id:!1===this["#developer-mode-button"].toggled&&h&&(a=h.textContent);var r=Hi(_templateObject55(),a,l);n.after(r),r.selectAll(),Ki(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this776.Ov();}),r.validate=function(){var t=null;if(_this776["#developer-mode-button"].toggled){var _e1448=r.value.trim();if(_e1448.startsWith("#")&&(_e1448=_e1448.substring(1)),0===_e1448.length)t="Symbol must have ID";else if(Ni(_e1448)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1448)))&&o.id!==_e1448&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"Ov",value:function Ov(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1449=this.Js.board,_i1356=t.querySelector(".label"),_s810=t.querySelector("x-input"),_n586=t[Sm];if(_s810.remove(),_i1356.hidden=!1,t.removeAttribute("data-label-edited"),null===_s810.error)if(this["#developer-mode-button"].toggled){var _t2043=_n586.getAttribute("id").trim(),_i1357=_s810.value.trim().toLowerCase();if(_i1357.startsWith("#")&&(_i1357=_i1357.substring(1)),_t2043!==_i1357){_e1449.undoManager.checkpoint("Symbol ID");var _s811=document.createNodeIterator(_e1449.workspaces,NodeFilter.SHOW_ELEMENT),_n587=null;for(;_n587=_s811.nextNode();){"symbol"===_n587.localName||"g"===_n587.localName&&"symbol"===_n587.getAttribute("data-bx-workspace")?_n587.id===_t2043&&_n587.setAttribute("id",_i1357):"use"===_n587.localName&&_n587.href.baseVal==="#"+_t2043&&_n587.setAttribute("href","#"+_i1357);}}}else{var _t2044=_e1449.currentWorkspace.id===_n586.id?_e1449.currentWorkspace:_n586,_i1358=_t2044.querySelector(":scope > bx-title"),_o469=_s810.value.trim();if(_i1358){_i1358.textContent!==_o469&&(_e1449.undoManager.checkpoint("Symbol title"),""===_o469?_i1358.remove():_i1358.textContent=_o469);}else""!==_o469&&(_e1449.undoManager.checkpoint("Symbol title"),_i1358=Di("svg:bx-title"),_i1358.textContent=_o469,_t2044.prepend(_i1358));}}}},{key:"Sy",value:function Sy(t){this.Js.board.undoManager.checkpoint("Pin Symbol"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"_y",value:function _y(t){this.Js.board.undoManager.checkpoint("Unpin Symbol"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"dv",value:function dv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1382=_createForOfIteratorHelper(this["#items"].children),_step1382;try{for(_iterator1382.s();!(_step1382=_iterator1382.n()).done;){var _e1450=_step1382.value;t.includes(_e1450)?(_e1450.setAttribute("data-selected",""),_e1450[_m]=Date.now()):_e1450.removeAttribute("data-selected");}}catch(err){_iterator1382.e(err);}finally{_iterator1382.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}}},{key:"Mu",value:function Mu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1359=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s812=e[0],_n588=_i1359.indexOf(_s812),_o470=_i1359[_n588-1];if(_o470){if(_o470.scrollIntoViewIfNeeded(),t)_o470.setAttribute("data-selected",""),_o470[_m]=Date.now();else{var _iterator1383=_createForOfIteratorHelper(_i1359),_step1383;try{for(_iterator1383.s();!(_step1383=_iterator1383.n()).done;){var _t2045=_step1383.value;_t2045===_o470?(_t2045.setAttribute("data-selected",""),_t2045[_m]=Date.now()):_t2045.removeAttribute("data-selected");}}catch(err){_iterator1383.e(err);}finally{_iterator1383.f();}}return!0;}}return!1;}},{key:"Pu",value:function Pu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1360=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s813=e[e.length-1],_n589=_i1360.indexOf(_s813),_o471=_i1360[_n589+1];if(_o471){if(_o471.scrollIntoViewIfNeeded(),t)_o471.setAttribute("data-selected",""),_o471[_m]=Date.now();else{var _iterator1384=_createForOfIteratorHelper(_i1360),_step1384;try{for(_iterator1384.s();!(_step1384=_iterator1384.n()).done;){var _t2046=_step1384.value;_t2046===_o471?(_t2046.setAttribute("data-selected",""),_t2046[_m]=Date.now()):_t2046.removeAttribute("data-selected");}}catch(err){_iterator1384.e(err);}finally{_iterator1384.f();}}return!0;}}return!1;}},{key:"Cv",value:function Cv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1385=_createForOfIteratorHelper(t),_step1385;try{for(_iterator1385.s();!(_step1385=_iterator1385.n()).done;){var _i1361=_step1385.value;_i1361===e?(_i1361.setAttribute("data-selected",""),_i1361[_m]=Date.now()):_i1361.removeAttribute("data-selected");}}catch(err){_iterator1385.e(err);}finally{_iterator1385.f();}return!0;}return!1;}},{key:"Mv",value:function Mv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1386=_createForOfIteratorHelper(t),_step1386;try{for(_iterator1386.s();!(_step1386=_iterator1386.n()).done;){var _i1362=_step1386.value;_i1362===e?(_i1362.setAttribute("data-selected",""),_i1362[_m]=Date.now()):_i1362.removeAttribute("data-selected");}}catch(err){_iterator1386.e(err);}finally{_iterator1386.f();}return!0;}return!1;}},{key:"iv",value:function iv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.dv(t,!1);}},{key:"nv",value:function nv(){this.dv([],!1);}},{key:"Pv",value:function Pv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add symbol");var i=Di("svg:symbol");if(i.setAttribute("id",t.generateUniqueID("symbol")),i.setAttribute("viewBox","0 0 100 100"),i.setAttribute("data-bx-pinned","true"),e.length>0){e[e.length-1][Sm].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[Sm]===i;});this.dv([s]);}},{key:"uy",value:function uy(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add symbol");var i=Ue(t.outermostSelectedObjectElements.map(function(t){return Ci(t);}));i=Fe(i,Vt(t.vectorCanvas).inverse());var s=-i.x,n=-i.y,o=X(i.width,4),l=X(i.height,4),h=Di("svg:symbol");h.setAttribute("id",t.generateUniqueID("symbol")),h.setAttribute("viewBox","0 0 ".concat(o," ").concat(l)),h.setAttribute("data-bx-pinned","true");var _iterator1387=_createForOfIteratorHelper(Li(t.outermostSelectedObjectElements)),_step1387;try{for(_iterator1387.s();!(_step1387=_iterator1387.n()).done;){var _e1451=_step1387.value;var _i1363=new DOMMatrix();_i1363.translateSelf(s,n),_i1363.multiplySelf(Nt(_e1451,t.vectorCanvas)),_e1451.setAttribute("transform",_i1363),h.append(_e1451);}}catch(err){_iterator1387.e(err);}finally{_iterator1387.f();}if(t.selectedElements=[],t.selectedTextRange=null,t.currentContainer=null,e.length>0){e[e.length-1][Sm].after(h);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(h);this.qs();var a=_toConsumableArray(this["#items"].children).find(function(t){return t[Sm]===h;});this.dv([a]);}},{key:"yy",value:function yy(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}),i=(e.map(function(t){return t[Sm];}),e.map(function(t){return t[Sm];})),s=t.extractArtworkWithSymbols(i),n=this.Qs.getConfig("bx-markupsettings:indentation",2),o=Yp(s,"html",n),l={"text/plain":o,"text/html":o,"image/svg+xml":Yp(s,"xml",n)};this.Qs.setClipboardData(l);}},{key:"vy",value:function vy(){return _toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).length>0;}},{key:"fv",value:function(){var _fv5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee132(){var t,e,i,s,n,_iterator1388,_step1388,_i1364,_e1453,_o472,_l358,_t2047,_e1452,_iterator1389,_step1389,_t2048,_iterator1390,_step1390,_t2049;return regeneratorRuntime.wrap(function _callee132$(_context133){while(1){switch(_context133.prev=_context133.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}),i=e.map(function(t){return t[Sm];}),s=[],n=[];_iterator1388=_createForOfIteratorHelper(e);try{for(_iterator1388.s();!(_step1388=_iterator1388.n()).done;){_i1364=_step1388.value;_e1453=_i1364[Sm],_o472=document.createNodeIterator(t.workspaces,NodeFilter.SHOW_ELEMENT),_l358=null;for(s.push(_e1453);_l358=_o472.nextNode();){"use"===_l358.localName&&_l358.href.baseVal==="#"+_e1453.id&&n.push(_l358);}}}catch(err){_iterator1388.e(err);}finally{_iterator1388.f();}if(!(0!==i.length)){_context133.next=17;break;}if(!(n.length>0)){_context133.next=12;break;}_t2047="Delete ";1===i.length?_t2047+="a symbol":_t2047+="".concat(i.length," symbols"),_t2047+=" with ",1===n.length?_t2047+="1 instance?":_t2047+="".concat(n.length," instances?");_context133.next=9;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t2047,detail:"Deleting a symbol also removes all its instances."});case 9:_e1452=_context133.sent;if(!(-1===_e1452||1===_e1452)){_context133.next=12;break;}return _context133.abrupt("return");case 12:t.undoManager.checkpoint("Delete symbols"),this.Pu()||this.Mu(),"symbol"===t.currentWorkspace.getAttribute("data-bx-workspace")&&s.find(function(e){return e.id===t.currentWorkspace.id;})&&t.editSymbolEnd(!1);_iterator1389=_createForOfIteratorHelper(n);try{for(_iterator1389.s();!(_step1389=_iterator1389.n()).done;){_t2048=_step1389.value;_t2048.remove();}}catch(err){_iterator1389.e(err);}finally{_iterator1389.f();}_iterator1390=_createForOfIteratorHelper(s);try{for(_iterator1390.s();!(_step1390=_iterator1390.n()).done;){_t2049=_step1390.value;_t2049.remove();}}catch(err){_iterator1390.e(err);}finally{_iterator1390.f();}case 17:case"end":return _context133.stop();}}},_callee132,this);}));function fv(){return _fv5.apply(this,arguments);}return fv;}()},{key:"wv",value:function wv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[Sm];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin symbol"+e.length>1?"s":"");var _iterator1391=_createForOfIteratorHelper(e),_step1391;try{for(_iterator1391.s();!(_step1391=_iterator1391.n()).done;){var _t2050=_step1391.value;_t2050.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1391.e(err);}finally{_iterator1391.f();}}}},{key:"vv",value:function vv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[Sm];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin symbol"+e.length>1?"s":"");var _iterator1392=_createForOfIteratorHelper(e),_step1392;try{for(_iterator1392.s();!(_step1392=_iterator1392.n()).done;){var _t2051=_step1392.value;_t2051.removeAttribute("data-bx-pinned");}}catch(err){_iterator1392.e(err);}finally{_iterator1392.f();}}}},{key:"Fw",value:function Fw(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s814=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_n590=t[0],_o473=_s814.indexOf(e);if("start"===i){if(_s814[_o473-1]===_n590)return!1;}else if("end"===i){if(_s814[_o473+1]===_n590)return!1;}}return!0;}},{key:"ky",value:function ky(t){var e=this.Js.board,i=_toConsumableArray(this["#items"].children).find(function(e){return e[Sm].id===t;})[Sm],s=this.Cy().get(i);s&&(e.selectedElements=_toConsumableArray(s));}},{key:"Cy",value:function Cy(){var t=this.Js.board,e=new Map(),i=t.masterWorkspace.querySelectorAll("use");var _iterator1393=_createForOfIteratorHelper(i),_step1393;try{for(_iterator1393.s();!(_step1393=_iterator1393.n()).done;){var _s815=_step1393.value;var _i1365=_s815.href.baseVal,_n591=_i1365?t.masterWorkspace.querySelector(_i1365):null,_o474=_n591&&"symbol"===_n591.localName?_n591:null;_o474&&(!1===e.has(_o474)?e.set(_o474,[_s815]):e.get(_o474).push(_s815));}}catch(err){_iterator1393.e(err);}finally{_iterator1393.f();}return e;}},{key:"qs",value:function qs(){{var _t2052=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("symbol")),_e1454=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[Sm];}),_i1366=document.createDocumentFragment();var _iterator1394=_createForOfIteratorHelper(_t2052),_step1394;try{for(_iterator1394.s();!(_step1394=_iterator1394.n()).done;){var _s816=_step1394.value;var _t2053=Hi(_templateObject56(),_s816.id,_s816.id);_t2053[Sm]=_s816,_e1454.includes(_s816)&&(_t2053.setAttribute("data-selected",""),_t2053[_m]=Date.now()),this.Tv(_t2053),this.Av(_t2053),_i1366.append(_t2053);}}catch(err){_iterator1394.e(err);}finally{_iterator1394.f();}this["#mirror-svg"].innerHTML=this.Js.board.masterWorkspace.innerHTML,this["#items"].innerHTML="",this["#items"].append(_i1366);}this._v(),this.bv(),this.Cu();}},{key:"zv",value:function zv(){var _iterator1395=_createForOfIteratorHelper(this["#items"].children),_step1395;try{for(_iterator1395.s();!(_step1395=_iterator1395.n()).done;){var _t2054=_step1395.value;this.Av(_t2054);}}catch(err){_iterator1395.e(err);}finally{_iterator1395.f();}}},{key:"qw",value:function qw(){this["#search-input"].value="";var _iterator1396=_createForOfIteratorHelper(this["#items"].children),_step1396;try{for(_iterator1396.s();!(_step1396=_iterator1396.n()).done;){var _t2055=_step1396.value;this.Tv(_t2055),this.Av(_t2055);}}catch(err){_iterator1396.e(err);}finally{_iterator1396.f();}this.Cu();}},{key:"Cu",value:function Cu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"Av",value:function Av(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Tv",value:function Tv(t){var e=t[Sm],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<symbol>",i.removeAttribute("data-custom"));else{var _t2056;_t2056=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t2056?(i.textContent=_t2056.textContent,i.setAttribute("data-custom","")):(i.textContent="Symbol",i.removeAttribute("data-custom"));}}},{key:"_v",value:function _v(){var t=this.Cy();var _iterator1397=_createForOfIteratorHelper(this["#items"].children),_step1397;try{for(_iterator1397.s();!(_step1397=_iterator1397.n()).done;){var _e1455=_step1397.value;var _i1367=_e1455.querySelector(".counter-button"),_s817=0;var _iterator1398=_createForOfIteratorHelper(t),_step1398;try{for(_iterator1398.s();!(_step1398=_iterator1398.n()).done;){var _step1398$value=_slicedToArray(_step1398.value,2),_i1368=_step1398$value[0],_n592=_step1398$value[1];_i1368===_e1455[Sm]&&(_s817+=_n592.length);}}catch(err){_iterator1398.e(err);}finally{_iterator1398.f();}0===_s817?(_i1367.setAttribute("hidden",""),_i1367.firstElementChild.textContent="0"):(_i1367.setAttribute("title",1===_s817?"Select 1 symbol instance":"Select ".concat(_s817," symbol instances")),_i1367.removeAttribute("hidden"),_i1367.firstElementChild.textContent=_s817);}}catch(err){_iterator1397.e(err);}finally{_iterator1397.f();}}},{key:"bv",value:function bv(){if("unpinned"===this.uv.symbols){var _iterator1399=_createForOfIteratorHelper(this["#items"].children),_step1399;try{for(_iterator1399.s();!(_step1399=_iterator1399.n()).done;){var _t2057=_step1399.value;var _e1456=_t2057[Sm],_i1369=_t2057.lastElementChild;_i1369.hidden=!1,_i1369.toggled=_e1456.hasAttribute("data-bx-pinned");}}catch(err){_iterator1399.e(err);}finally{_iterator1399.f();}}else{var _iterator1400=_createForOfIteratorHelper(this["#items"].children),_step1400;try{for(_iterator1400.s();!(_step1400=_iterator1400.n()).done;){var _t2058=_step1400.value;_t2058.lastElementChild.hidden=!0;}}catch(err){_iterator1400.e(err);}finally{_iterator1400.f();}}}}]);return Cm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Cm,"observedAttributes",["enabled"]);_defineProperty(Cm,"_shadowTemplate",Hi(_templateObject389()));_defineProperty(Cm,"_shadowStyleSheet",Yi(_templateObject390()));customElements.define("bx-symbolsbrowser",Cm);var Mm=40,Pm=16;var Dm=/*#__PURE__*/function(){function Dm(t){_classCallCheck(this,Dm);var e=_toConsumableArray(t.children).filter(function(t){return P.includes(t.localName);});this.My=t,this.Py=new dagre.graphlib.Graph({directed:!0,multigraph:!0,compound:!1}),this.Py.setGraph({ranker:"longest-path",rankdir:"TB",align:void 0,ranksep:35,nodesep:35,edgesep:10,marginx:0,marginy:0});{var _i1370=!1,_s818=!1,_n593=e[e.length-1];var _iterator1401=_createForOfIteratorHelper(e),_step1401;try{for(_iterator1401.s();!(_step1401=_iterator1401.n()).done;){var _t2059=_step1401.value;if(this.Py.setNode(_t2059.result.baseVal,{width:Mm,height:Mm,type:_t2059.localName,terminal:_t2059===_n593}),"feMerge"===_t2059.localName){var _e1457=_toConsumableArray(_t2059.children).filter(function(t){return"feMergeNode"===t.localName;});var _iterator1402=_createForOfIteratorHelper(_e1457),_step1402;try{for(_iterator1402.s();!(_step1402=_iterator1402.n()).done;){var _n594=_step1402.value;var _o476=_n594.in1.baseVal,_l359=_t2059.result.baseVal,_h265=_e1457.indexOf(_n594)+1,_a214={from:_o476,to:_l359,slot:_h265,width:Pm,height:Pm,minlen:1,weight:1,label:""+_h265,labelpos:"c"};this.Py.setEdge(_o476,_l359,_a214,"".concat(_o476,"-").concat(_l359,"-").concat(_h265)),"SourceGraphic"===_o476?_i1370=!0:"SourceAlpha"===_o476&&(_s818=!0);}}catch(err){_iterator1402.e(err);}finally{_iterator1402.f();}}else for(var _i1371=0,_arr63=["in1","in2"];_i1371<_arr63.length;_i1371++){var _e1458=_arr63[_i1371];var _n595=_t2059[_e1458]?_t2059[_e1458].baseVal:null,_o477=_t2059.result.baseVal,_l360="in1"===_e1458?1:2,_h266={from:_n595,to:_o477,slot:_l360,width:Pm,height:Pm,minlen:1,weight:1,label:_e1458[2],labelpos:"c"};null!==_n595&&"none"!==_n595&&(this.Py.setEdge(_n595,_o477,_h266,"".concat(_n595,"-").concat(_o477,"-").concat(_l360)),"SourceGraphic"===_n595?_i1370=!0:"SourceAlpha"===_n595&&(_s818=!0));}}}catch(err){_iterator1401.e(err);}finally{_iterator1401.f();}var _o475=t.hasAttribute("data-bx-details")?t.getAttribute("data-bx-details").split(" "):[];(_i1370||_o475.includes("SourceGraphic"))&&this.Py.setNode("SourceGraphic",{width:Mm,height:Mm,type:"SourceGraphic"}),(_s818||_o475.includes("SourceAlpha"))&&this.Py.setNode("SourceAlpha",{width:Mm,height:Mm,type:"SourceAlpha"});}dagre.layout(this.Py);}_createClass(Dm,[{key:"getWidth",value:function getWidth(){var t=this.Py.graph().width;return isFinite(t)?t:0;}},{key:"getHeight",value:function getHeight(){var t=this.Py.graph().height;return isFinite(t)?t:0;}},{key:"getNodes",value:function getNodes(){var _this777=this;return this.Py.nodes().map(function(t){var e=_this777.Py.node(t);return{name:t,type:e.type,x:e.x,y:e.y,width:e.width,height:e.height,terminal:e.terminal};});}},{key:"getOrderedNodes",value:function getOrderedNodes(){var t=dagre.graphlib.alg.topsort(this.Py),e=this.getNodes(),i=[];var _iterator1403=_createForOfIteratorHelper(t),_step1403;try{var _loop28=function _loop28(){var s=_step1403.value;var t=e.find(function(t){return t.name===s;});i.push(t);};for(_iterator1403.s();!(_step1403=_iterator1403.n()).done;){_loop28();}}catch(err){_iterator1403.e(err);}finally{_iterator1403.f();}return i;}},{key:"getEdges",value:function getEdges(){var _this778=this;return this.Py.edges().map(function(t){var e=_this778.Py.edge(t);return{from:e.from,to:e.to,slot:e.slot,points:e.points,label:{text:e.label,x:e.x,y:e.y,width:e.width,height:e.height}};});}},{key:"getPredecessors",value:function getPredecessors(t){return this.Py.predecessors(t)||null;}},{key:"getAllPredecessors",value:function getAllPredecessors(t){var _this779=this;var e=[],i=function i(t){var s=_this779.getPredecessors(t);var _iterator1404=_createForOfIteratorHelper(s),_step1404;try{for(_iterator1404.s();!(_step1404=_iterator1404.n()).done;){var _t2060=_step1404.value;e.push(_t2060),i(_t2060);}}catch(err){_iterator1404.e(err);}finally{_iterator1404.f();}};return i(t),e;}},{key:"getGroups",value:function getGroups(){var t=dagre.graphlib.alg.topsort(this.Py),e=dagre.graphlib.alg.components(this.Py);e=e.sort(function(e,i){return t.indexOf(e[0])<t.indexOf(i[0])?-1:1;});var _iterator1405=_createForOfIteratorHelper(e),_step1405;try{for(_iterator1405.s();!(_step1405=_iterator1405.n()).done;){var _i1372=_step1405.value;_i1372.sort(function(e,i){return t.indexOf(e)<t.indexOf(i)?-1:1;});}}catch(err){_iterator1405.e(err);}finally{_iterator1405.f();}return e;}},{key:"canConnectNodes",value:function canConnectNodes(t,e){if(t===e)return!1;if("SourceGraphic"===e||"SourceAlpha"===e)return!1;if(this.getAllPredecessors(t).includes(e))return!1;{var _t2061=this.getNodes().find(function(t){return t.name===e;});if("feFlood"===_t2061.type||"feImage"===_t2061.type||"feTurbulence"===_t2061.type)return!1;if("feBlend"===_t2061.type||"feComposite"===_t2061.type||"feDisplacementMap"===_t2061.type){if(this.Py.inEdges(e).length>=2)return!1;}else if(("feColorMatrix"===_t2061.type||"feComponentTransfer"===_t2061.type||"feConvolveMatrix"===_t2061.type||"feDiffuseLighting"===_t2061.type||"feDropShadow"===_t2061.type||"feGaussianBlur"===_t2061.type||"feMorphology"===_t2061.type||"feOffset"===_t2061.type||"feSpecularLighting"===_t2061.type||"feTile"===_t2061.type)&&this.Py.inEdges(e).length>=1)return!1;}return!0;}},{key:"connectNodes",value:function connectNodes(t,e){var i=-1;if(this.canConnectNodes(t,e)){var _s819=this.getNodes(),_n596=this.getEdges(),_o478=_s819.find(function(t){return t.name===e;}),_l361=_n596.filter(function(t){return t.to===_o478.name;}).map(function(t){return t.slot;});for(i=1;_l361.includes(i);){i+=1;}var _h267={from:t,to:e,slot:i,width:Pm,height:Pm,minlen:1,weight:1,label:""+i,labelpos:"c"};this.Py.setEdge(t,e,_h267,"".concat(t,"-").concat(e,"-").concat(i)),dagre.layout(this.Py);}return i;}}]);return Dm;}();Di("svg:filter");var zm=/*#__PURE__*/function(_HTMLElement114){_inherits(zm,_HTMLElement114);var _super166=_createSuper(zm);function zm(){var _this780;_classCallCheck(this,zm);_this780=_super166.call(this),_this780._shadowRoot=_this780.attachShadow({mode:"closed"}),_this780._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,zm._shadowStyleSheet],_this780._shadowRoot.append(document.importNode(zm._shadowTemplate.content,!0)),_this780.wa=qi(_this780.qs,200,_assertThisInitialized(_this780)),_this780.Dy=!1,_this780.zy=!1;var _iterator1406=_createForOfIteratorHelper(_this780._shadowRoot.querySelectorAll("[id]")),_step1406;try{for(_iterator1406.s();!(_step1406=_iterator1406.n()).done;){var _t2062=_step1406.value;_this780["#"+_t2062.id]=_t2062;}}catch(err){_iterator1406.e(err);}finally{_iterator1406.f();}_this780["#filter-units-select"].addEventListener("change",function(){return _this780.Oy();}),_this780["#primitive-units-select"].addEventListener("change",function(){return _this780.Ey();}),_this780["#region-x-input"].addEventListener("changestart",function(t){return _this780.Ty(t);}),_this780["#region-y-input"].addEventListener("changestart",function(t){return _this780.Ay(t);}),_this780["#region-width-input"].addEventListener("changestart",function(t){return _this780.$y(t);}),_this780["#region-height-input"].addEventListener("changestart",function(t){return _this780.Iy(t);}),_this780["#region-lock-button"].addEventListener("toggle",function(){return _this780.Ly();});return _this780;}_createClass(zm,[{key:"connectedCallback",value:function connectedCallback(){var _this781=this;this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this.By=Ti(this,"bx-filterinspector"),this.Dy=this.Qs.getConfig("bx-filterhostinspector:regionLocked",!1),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this781.wa();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Oy",value:function Oy(){this.Js.board.undoManager.checkpoint("Filter units");var t=this.By.filter;t.setAttribute("filterUnits",this["#filter-units-select"].value),"objectBoundingBox"===this["#filter-units-select"].value?(t.setAttribute("x",this["#region-x-input"].value+"%"),t.setAttribute("y",this["#region-y-input"].value+"%"),t.setAttribute("width",this["#region-width-input"].value+"%"),t.setAttribute("height",this["#region-height-input"].value+"%")):(t.setAttribute("x",this["#region-x-input"].value),t.setAttribute("y",this["#region-y-input"].value),t.setAttribute("width",this["#region-width-input"].value),t.setAttribute("height",this["#region-height-input"].value)),this.qs();}},{key:"Ey",value:function Ey(){this.Js.board.undoManager.checkpoint("Primitive units");var t=this.By.filter,e=_toConsumableArray(t.children).filter(function(t){return P.includes(t.localName);});var _iterator1407=_createForOfIteratorHelper(e),_step1407;try{for(_iterator1407.s();!(_step1407=_iterator1407.n()).done;){var _t2063=_step1407.value;var _e1459=Ex(_t2063);"objectBoundingBox"===this["#primitive-units-select"].value?(_t2063.hasAttribute("x")&&_t2063.setAttribute("x",_e1459.x+"%"),_t2063.hasAttribute("y")&&_t2063.setAttribute("y",_e1459.y+"%"),_t2063.hasAttribute("width")&&_t2063.setAttribute("width",_e1459.width+"%"),_t2063.hasAttribute("height")&&_t2063.setAttribute("height",_e1459.height+"%")):(_t2063.hasAttribute("x")&&_t2063.setAttribute("x",_e1459.x),_t2063.hasAttribute("y")&&_t2063.setAttribute("y",_e1459.y),_t2063.hasAttribute("width")&&_t2063.setAttribute("width",_e1459.width),_t2063.hasAttribute("height")&&_t2063.setAttribute("height",_e1459.height));}}catch(err){_iterator1407.e(err);}finally{_iterator1407.f();}t.setAttribute("primitiveUnits",this["#primitive-units-select"].value);}},{key:"Ty",value:function Ty(t){var _this782=this;var e,_i1373,s=this.By.filter;this.Js.board.undoManager.checkpoint("Filter region X"),this.zy=!0,this["#region-x-input"].addEventListener("change",e=function e(){var t=null===_this782["#region-x-input"].value?0:_this782["#region-x-input"].value;"userSpaceOnUse"===s.getAttribute("filterUnits")?s.setAttribute("x",t):s.setAttribute("x",t+"%");}),this["#region-x-input"].addEventListener("changeend",_i1373=function i(){_this782["#region-x-input"].removeEventListener("change",e),_this782["#region-x-input"].removeEventListener("changeend",_i1373),_this782.zy=!1,_this782.qs();});}},{key:"Ay",value:function Ay(t){var _this783=this;var e,_i1374,s=this.By.filter;this.Js.board.undoManager.checkpoint("Filter region Y"),this.zy=!0,this["#region-y-input"].addEventListener("change",e=function e(){var t=null===_this783["#region-y-input"].value?0:_this783["#region-y-input"].value;"userSpaceOnUse"===s.getAttribute("filterUnits")?s.setAttribute("y",t):s.setAttribute("y",t+"%");}),this["#region-y-input"].addEventListener("changeend",_i1374=function i(){_this783["#region-y-input"].removeEventListener("change",e),_this783["#region-y-input"].removeEventListener("changeend",_i1374),_this783.zy=!1,_this783.qs();});}},{key:"$y",value:function $y(t){var _this784=this;var e,_i1375,s=this.By.filter,n=this["#region-lock-button"].toggled,o=this["#region-width-input"].value/this["#region-height-input"].value;this.Js.board.undoManager.checkpoint("Filter region width"),this.zy=!0,this["#region-width-input"].addEventListener("change",e=function e(){var t=null===_this784["#region-width-input"].value?100:_this784["#region-width-input"].value;if("userSpaceOnUse"===s.getAttribute("filterUnits")){if(s.setAttribute("width",t),n){var _e1460=Z(t/o,0,Infinity,2);_this784["#region-height-input"].value=_e1460,s.setAttribute("height",_e1460);}}else if(s.setAttribute("width",t+"%"),n){var _e1461=Z(t/o,0,Infinity,2);_this784["#region-height-input"].value=_e1461,s.setAttribute("height",_e1461+"%");}}),this["#region-width-input"].addEventListener("changeend",_i1375=function i(){_this784["#region-width-input"].removeEventListener("change",e),_this784["#region-width-input"].removeEventListener("changeend",_i1375),_this784.zy=!1,_this784.qs();});}},{key:"Iy",value:function Iy(t){var _this785=this;var e,_i1376,s=this.By.filter,n=this["#region-lock-button"].toggled,o=this["#region-width-input"].value/this["#region-height-input"].value;this.Js.board.undoManager.checkpoint("Filter region height"),this.zy=!0,this["#region-height-input"].addEventListener("change",e=function e(){var t=null===_this785["#region-height-input"].value?100:_this785["#region-height-input"].value;if("userSpaceOnUse"===s.getAttribute("filterUnits")){if(s.setAttribute("height",t),n){var _e1462=Z(t/o,0,Infinity,2);_this785["#region-width-input"].value=_e1462,s.setAttribute("width",_e1462);}}else if(s.setAttribute("height",t+"%"),n){var _e1463=Z(t/o,0,Infinity,2);_this785["#region-width-input"].value=_e1463,s.setAttribute("width",_e1463+"%");}}),this["#region-height-input"].addEventListener("changeend",_i1376=function i(){_this785["#region-height-input"].removeEventListener("change",e),_this785["#region-height-input"].removeEventListener("changeend",_i1376),_this785.zy=!1,_this785.qs();});}},{key:"Ly",value:function Ly(){this.Dy=this["#region-lock-button"].toggled,this.Qs.setConfig("bx-filterhostinspector:regionLocked",this.Dy),this.qs();}},{key:"qs",value:function qs(){if(this.zy)return;var t=this.By.filter;"userSpaceOnUse"===t.getAttribute("filterUnits")?this["#filter-units-select"].value="userSpaceOnUse":this["#filter-units-select"].value="objectBoundingBox","objectBoundingBox"===t.getAttribute("primitiveUnits")?this["#primitive-units-select"].value="objectBoundingBox":this["#primitive-units-select"].value="userSpaceOnUse";{var _e1464=function(t){var e=new DOMRect(),i=t.viewportElement,s=i.createSVGLength(),n=i.createSVGLength(),o=i.createSVGLength(),l=i.createSVGLength();return s.valueAsString=t.hasAttribute("x")?t.getAttribute("x"):"-10%",n.valueAsString=t.hasAttribute("y")?t.getAttribute("y"):"-10%",o.valueAsString=t.hasAttribute("width")?t.getAttribute("width"):"120%",l.valueAsString=t.hasAttribute("height")?t.getAttribute("height"):"120%","userSpaceOnUse"===t.getAttribute("filterUnits")?(s.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.x=s.valueInSpecifiedUnits/100*i.viewBox.baseVal.width:e.x=s.value,n.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.y=n.valueInSpecifiedUnits/100*i.viewBox.baseVal.height:e.y=n.value,o.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.width=o.valueInSpecifiedUnits/100*i.viewBox.baseVal.width:e.width=o.value,l.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.height=l.valueInSpecifiedUnits/100*i.viewBox.baseVal.height:e.height=l.value):(s.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.x=s.valueInSpecifiedUnits:e.x=100*s.valueInSpecifiedUnits,n.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.y=n.valueInSpecifiedUnits:e.y=100*n.valueInSpecifiedUnits,o.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.width=o.valueInSpecifiedUnits:e.width=100*o.valueInSpecifiedUnits,l.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.height=l.valueInSpecifiedUnits:e.height=100*l.valueInSpecifiedUnits),e;}(t),_i1377="userSpaceOnUse"===t.getAttribute("filterUnits")?"":"%";_e1464=Ge(_e1464,this.Js.board.geometryPrecision),this["#region-x-input"].value=_e1464.x,this["#region-x-input"].suffix=_i1377,this["#region-y-input"].value=_e1464.y,this["#region-y-input"].suffix=_i1377,this["#region-width-input"].value=_e1464.width,this["#region-width-input"].suffix=_i1377,this["#region-height-input"].value=_e1464.height,this["#region-height-input"].suffix=_i1377,this["#region-lock-button"].toggled=this.Dy,this["#region-lock-icon"].name=this.Dy?"lock-on":"lock-off";}}}]);return zm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(zm,"_shadowTemplate",Hi(_templateObject391()));_defineProperty(zm,"_shadowStyleSheet",Yi(_templateObject392()));customElements.define("bx-filterhostinspector",zm);var Om=/*#__PURE__*/function(_HTMLElement115){_inherits(Om,_HTMLElement115);var _super167=_createSuper(Om);_createClass(Om,[{key:"name",get:function get(){return"Connector";}}]);function Om(){var _this786;_classCallCheck(this,Om);_this786=_super167.call(this),_this786.wa=qi(_this786.qs,200,_assertThisInitialized(_this786)),_this786._shadowRoot=_this786.attachShadow({mode:"closed"}),_this786._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Om._shadowStyleSheet],_this786._shadowRoot.append(document.importNode(Om._shadowTemplate.content,!0));var _iterator1408=_createForOfIteratorHelper(_this786._shadowRoot.querySelectorAll("[id]")),_step1408;try{for(_iterator1408.s();!(_step1408=_iterator1408.n()).done;){var _t2064=_step1408.value;_this786["#"+_t2064.id]=_t2064;}}catch(err){_iterator1408.e(err);}finally{_iterator1408.f();}_this786["#slot-buttons"].addEventListener("toggle",function(){return _this786.Ry();});return _this786;}_createClass(Om,[{key:"connectedCallback",value:function connectedCallback(){var _this787=this;this.Js=Ti(this,"bx-editor"),this.By=Ti(this,"bx-filterinspector"),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this787.wa();}),this.By.addEventListener("selectionchange",this.Gy=function(){_this787.wa();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("workspacemutation",this.rn),this.By.removeEventListener("selectionchange",this.Gy);}},{key:"Ry",value:function Ry(){this.Js.board.undoManager.checkpoint("Filter connector input slot");var t=this.By.filter,_this$By$getSelection=this.By.getSelection(),_this$By$getSelection2=_slicedToArray(_this$By$getSelection,2),e=_this$By$getSelection2[0],i=_this$By$getSelection2[1],s=_toConsumableArray(t.children).filter(function(t){return P.includes(t.localName);}).find(function(t){return t.result.baseVal===i.to;});if("feMerge"===s.localName){var _t2065=_toConsumableArray(s.children).filter(function(t){return"feMergeNode"===t.localName;}),_n597=_t2065.length,_o479=parseInt(this["#slot-buttons"].value),_l362=i.slot,_h268={};for(var _e1465=1;_e1465<=_n597;_e1465+=1){var _i1378=_t2065[_e1465-1];_e1465===_l362?_h268[_o479]=_i1378:_e1465===_o479?_h268[_l362]=_i1378:_h268[_e1465]=_i1378;}for(var _t2066=1;_t2066<=_n597;_t2066+=1){var _e1466=_h268[_t2066];s.append(_e1466);}this.By.setSelection(e,{from:i.from,to:i.to,slot:_o479});}else{var _t2067=s.in1.baseVal,_n598=s.in2.baseVal;s.setAttribute("in",_n598),s.setAttribute("in2",_t2067),this.By.setSelection(e,{from:i.from,to:i.to,slot:1===i.slot?2:1});}}},{key:"qs",value:function qs(){var t=this.By.filter,_this$By$getSelection3=this.By.getSelection(),_this$By$getSelection4=_slicedToArray(_this$By$getSelection3,2),e=_this$By$getSelection4[0],i=_this$By$getSelection4[1],s=_toConsumableArray(t.children).filter(function(t){return P.includes(t.localName);});if(i){var _t2068=s.find(function(t){return t.result.baseVal===i.to;}),_e1467=0;if("feMerge"===_t2068.localName){_e1467=_toConsumableArray(_t2068.children).filter(function(t){return"feMergeNode"===t.localName;}).length;}else _t2068.in1&&_t2068.in2?_e1467=2:_t2068.in1&&!_t2068.in2&&(_e1467=1);for(;this["#slot-buttons"].childElementCount>_e1467;){this["#slot-buttons"].lastElementChild.remove();}for(var _t2069=1;_t2069<=_e1467;_t2069+=1){var _e1468=this["#slot-buttons"].children[_t2069-1];_e1468||(_e1468=Hi(_templateObject57(),_t2069,_t2069),this["#slot-buttons"].append(_e1468));}this["#slot-buttons"].value=""+i.slot;}}}]);return Om;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Om,"_shadowTemplate",Hi(_templateObject393()));_defineProperty(Om,"_shadowStyleSheet",Yi(_templateObject394()));customElements.define("bx-filteredgeinspector",Om);var Em=Object.getPrototypeOf;var Tm=/*#__PURE__*/function(_HTMLElement116){_inherits(Tm,_HTMLElement116);var _super168=_createSuper(Tm);_createClass(Tm,[{key:"name",get:function get(){return"Primitive";}},{key:"primitive",get:function get(){return this.Fy;},set:function set(t){this.Fy=t,this.isConnected&&this.qs();}}]);function Tm(){var _this788;_classCallCheck(this,Tm);_this788=_super168.call(this);var t=[],e=[];for(var _i1379=_this788.constructor;_i1379!==Tm;_i1379=Em(_i1379)){_i1379.hasOwnProperty("_shadowTemplate")&&t.push(_i1379._shadowTemplate),_i1379.hasOwnProperty("_shadowStyleSheet")&&e.push(_i1379._shadowStyleSheet);}_this788._shadowRoot=_this788.attachShadow({mode:"closed"}),_this788._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Tm._shadowStyleSheet].concat(e),_this788._shadowRoot.append(document.importNode(Tm._shadowTemplate.content,!0));var _iterator1409=_createForOfIteratorHelper(t.reverse()),_step1409;try{for(_iterator1409.s();!(_step1409=_iterator1409.n()).done;){var _e1469=_step1409.value;var _t2070=document.importNode(_e1469.content,!0),_i1380=_this788._shadowRoot.querySelector("#main");var _iterator1411=_createForOfIteratorHelper(_toConsumableArray(_t2070.children).reverse()),_step1411;try{for(_iterator1411.s();!(_step1411=_iterator1411.n()).done;){var _e1470=_step1411.value;_i1380.prepend(_e1470);}}catch(err){_iterator1411.e(err);}finally{_iterator1411.f();}}}catch(err){_iterator1409.e(err);}finally{_iterator1409.f();}_this788.Fy=null,_this788.Uy=!1,_this788.Ny=!1,_this788.wa=qi(_this788.qs,200,_assertThisInitialized(_this788));var _iterator1410=_createForOfIteratorHelper(_this788._shadowRoot.querySelectorAll("[id]")),_step1410;try{for(_iterator1410.s();!(_step1410=_iterator1410.n()).done;){var _t2071=_step1410.value;_this788["#"+_t2071.id]=_t2071;}}catch(err){_iterator1410.e(err);}finally{_iterator1410.f();}_this788["#subregion-x-input"].addEventListener("changestart",function(t){return _this788.Vy(t);}),_this788["#subregion-y-input"].addEventListener("changestart",function(t){return _this788.jy(t);}),_this788["#subregion-width-input"].addEventListener("changestart",function(t){return _this788.Hy(t);}),_this788["#subregion-height-input"].addEventListener("changestart",function(t){return _this788.Yy(t);}),_this788["#subregion-lock-button"].addEventListener("toggle",function(){return _this788.Wy();});return _this788;}_createClass(Tm,[{key:"connectedCallback",value:function connectedCallback(){var _this789=this;this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this.Uy=this.Qs.getConfig("".concat(this.localName,":subregionLocked"),!1),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this789.Fy&&_this789.Fy.isConnected&&_this789.wa();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Vy",value:function Vy(t){var _this790=this;var e,_i1381,s=this.primitive.closest("filter");this.Js.board.undoManager.checkpoint("Filter primitive subregion X"),this.Ny=!0,this["#subregion-x-input"].addEventListener("change",e=function e(){null===_this790["#subregion-x-input"].value?_this790.primitive.removeAttribute("x"):"objectBoundingBox"===s.getAttribute("primitiveUnits")?_this790.primitive.setAttribute("x",_this790["#subregion-x-input"].value+"%"):_this790.primitive.setAttribute("x",_this790["#subregion-x-input"].value);}),this["#subregion-x-input"].addEventListener("changeend",_i1381=function i(){_this790["#subregion-x-input"].removeEventListener("change",e),_this790["#subregion-x-input"].removeEventListener("changeend",_i1381),_this790.Ny=!1;});}},{key:"jy",value:function jy(t){var _this791=this;var e,_i1382,s=this.primitive.closest("filter");this.Js.board.undoManager.checkpoint("Filter primitive subregion Y"),this.Ny=!0,this["#subregion-y-input"].addEventListener("change",e=function e(){null===_this791["#subregion-y-input"].value?_this791.primitive.removeAttribute("y"):"objectBoundingBox"===s.getAttribute("primitiveUnits")?_this791.primitive.setAttribute("y",_this791["#subregion-y-input"].value+"%"):_this791.primitive.setAttribute("y",_this791["#subregion-y-input"].value);}),this["#subregion-y-input"].addEventListener("changeend",_i1382=function i(){_this791["#subregion-y-input"].removeEventListener("change",e),_this791["#subregion-y-input"].removeEventListener("changeend",_i1382),_this791.Ny=!1;});}},{key:"Hy",value:function Hy(t){var _this792=this;var e,_i1383,s=this.primitive.closest("filter"),n=this["#subregion-lock-button"].toggled,o=this["#subregion-width-input"].value/this["#subregion-height-input"].value;this.Js.board.undoManager.checkpoint("Filter primitive subregion width"),this.Ny=!0,this["#subregion-width-input"].addEventListener("change",e=function e(){if(null===_this792["#subregion-width-input"].value)_this792.primitive.removeAttribute("width");else if("objectBoundingBox"===s.getAttribute("primitiveUnits")){if(_this792.primitive.setAttribute("width",_this792["#subregion-width-input"].value+"%"),n){var _t2072=Z(_this792["#subregion-width-input"].value/o,0,Infinity,2);_this792["#subregion-height-input"].value=_t2072,_this792.primitive.setAttribute("height",_t2072+"%");}}else if(_this792.primitive.setAttribute("width",_this792["#subregion-width-input"].value),n){var _t2073=Z(_this792["#subregion-width-input"].value/o,0,Infinity,2);_this792["#subregion-height-input"].value=_t2073,_this792.primitive.setAttribute("height",_t2073);}}),this["#subregion-width-input"].addEventListener("changeend",_i1383=function i(){_this792["#subregion-width-input"].removeEventListener("change",e),_this792["#subregion-width-input"].removeEventListener("changeend",_i1383),_this792.Ny=!1;});}},{key:"Yy",value:function Yy(t){var _this793=this;var e,_i1384,s=this["#subregion-lock-button"].toggled,n=this["#subregion-width-input"].value/this["#subregion-height-input"].value,o=this.primitive.closest("filter");this.Js.board.undoManager.checkpoint("Filter subregion height"),this.Ny=!0,this["#subregion-height-input"].addEventListener("change",e=function e(){if(null===_this793["#subregion-height-input"].value)_this793.primitive.removeAttribute("height");else if("objectBoundingBox"===o.getAttribute("primitiveUnits")){if(_this793.primitive.setAttribute("height",_this793["#subregion-height-input"].value+"%"),s){var _t2074=Z(_this793["#subregion-height-input"].value/n,0,Infinity,2);_this793["#subregion-width-input"].value=_t2074,_this793.primitive.setAttribute("width",_t2074+"%");}}else if(_this793.primitive.setAttribute("height",_this793["#subregion-height-input"].value),s){var _t2075=Z(_this793["#subregion-height-input"].value/n,0,Infinity,2);_this793["#subregion-width-input"].value=_t2075,_this793.primitive.setAttribute("width",_t2075);}}),this["#subregion-height-input"].addEventListener("changeend",_i1384=function i(){_this793["#subregion-height-input"].removeEventListener("change",e),_this793["#subregion-height-input"].removeEventListener("changeend",_i1384),_this793.Ny=!1;});}},{key:"Wy",value:function Wy(){this.Uy=this["#subregion-lock-button"].toggled,this.Qs.setConfig("".concat(this.localName,":subregionLocked"),this.Uy),this.qs();}},{key:"qs",value:function qs(){if(!this.Ny)if("SourceAlpha"===this.Fy||"SourceGraphic"===this.Fy)this["#subregion-section"].hidden=!0;else{var _t2076=this.Fy,_e1471=_t2076.closest("filter").primitiveUnits.baseVal===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX?"%":"",_i1385=Ex(_t2076);_i1385=Ge(_i1385,this.Js.board.geometryPrecision),this["#subregion-section"].hidden=!1,this["#subregion-x-input"].value=_t2076.hasAttribute("x")?_i1385.x:null,this["#subregion-x-input"].suffix=_e1471,this["#subregion-y-input"].value=_t2076.hasAttribute("y")?_i1385.y:null,this["#subregion-y-input"].suffix=_e1471,this["#subregion-width-input"].value=_t2076.hasAttribute("width")?_i1385.width:null,this["#subregion-width-input"].suffix=_e1471,this["#subregion-height-input"].value=_t2076.hasAttribute("height")?_i1385.height:null,this["#subregion-height-input"].suffix=_e1471,this["#subregion-lock-button"].toggled=this.Uy,this["#subregion-lock-icon"].name=this.Uy?"lock-on":"lock-off";}}}]);return Tm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Tm,"_shadowTemplate",Hi(_templateObject395()));_defineProperty(Tm,"_shadowStyleSheet",Yi(_templateObject396()));var Am=/*#__PURE__*/function(_Tm){_inherits(Am,_Tm);var _super169=_createSuper(Am);_createClass(Am,[{key:"name",get:function get(){return"Blend";}}]);function Am(){var _this794;_classCallCheck(this,Am);_this794=_super169.call(this),_this794["#blend-mode-select"].addEventListener("change",function(){return _this794.lm();});return _this794;}_createClass(Am,[{key:"lm",value:function lm(){this.Js.board.undoManager.checkpoint("Filter blend mode"),this.primitive.setAttribute("mode",this["#blend-mode-select"].value);}},{key:"qs",value:function qs(){this.Ny||(_get(_getPrototypeOf(Am.prototype),"qs",this).call(this),this.primitive.hasAttribute("mode")?this["#blend-mode-select"].value=this.primitive.getAttribute("mode"):this["#blend-mode-select"].value="normal");}}]);return Am;}(Tm);_defineProperty(Am,"_shadowTemplate",Hi(_templateObject397()));_defineProperty(Am,"_shadowStyleSheet",Yi(_templateObject398()));customElements.define("bx-blendprimitiveinspector",Am);var $m=/*#__PURE__*/function(_Tm2){_inherits($m,_Tm2);var _super170=_createSuper($m);_createClass($m,[{key:"name",get:function get(){return"Composite";}}]);function $m(){var _this795;_classCallCheck(this,$m);_this795=_super170.call(this),_this795["#operator-select"].addEventListener("change",function(){return _this795.qy();}),_this795["#k1-input"].addEventListener("changestart",function(t){return _this795.Xy(t);}),_this795["#k2-input"].addEventListener("changestart",function(t){return _this795.Xy(t);}),_this795["#k3-input"].addEventListener("changestart",function(t){return _this795.Xy(t);}),_this795["#k4-input"].addEventListener("changestart",function(t){return _this795.Xy(t);});return _this795;}_createClass($m,[{key:"qy",value:function qy(){this.Js.board.undoManager.checkpoint("Composite operator"),this.primitive.setAttribute("operator",this["#operator-select"].value),this.primitive.removeAttribute("k1"),this.primitive.removeAttribute("k2"),this.primitive.removeAttribute("k3"),this.primitive.removeAttribute("k4"),this.qs();}},{key:"Xy",value:function Xy(t){var _this796=this;var e,_i1386,s=t.target,n=s.dataset.parameter;this.Js.board.undoManager.checkpoint("Composite ".concat(n," parameter")),s.addEventListener("change",e=function e(){0===s.value?_this796.primitive.removeAttribute(n):_this796.primitive.setAttribute(n,s.value);}),s.addEventListener("changeend",_i1386=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1386);});}},{key:"qs",value:function qs(){this.Ny||(_get(_getPrototypeOf($m.prototype),"qs",this).call(this),this.primitive.hasAttribute("operator")?this["#operator-select"].value=this.primitive.getAttribute("operator"):this["#operator-select"].value="over","arithmetic"===this.primitive.getAttribute("operator")?(this["#parameters-section"].hidden=!1,this["#k1-input"].value=X(this.primitive.k1.baseVal,5),this["#k2-input"].value=X(this.primitive.k2.baseVal,5),this["#k3-input"].value=X(this.primitive.k3.baseVal,5),this["#k4-input"].value=X(this.primitive.k4.baseVal,5)):this["#parameters-section"].hidden=!0);}}]);return $m;}(Tm);_defineProperty($m,"_shadowTemplate",Hi(_templateObject399()));_defineProperty($m,"_shadowStyleSheet",Yi(_templateObject400()));customElements.define("bx-compositeprimitiveinspector",$m);customElements.define("bx-mergeprimitiveinspector",/*#__PURE__*/function(_Tm3){_inherits(_class3,_Tm3);var _super171=_createSuper(_class3);_createClass(_class3,[{key:"name",get:function get(){return"Merge";}}]);function _class3(){_classCallCheck(this,_class3);return _super171.call(this);}return _class3;}(Tm));var Im=/*#__PURE__*/function(_Tm4){_inherits(Im,_Tm4);var _super172=_createSuper(Im);_createClass(Im,[{key:"name",get:function get(){return"Flood";}}]);function Im(){var _this797;_classCallCheck(this,Im);_this797=_super172.call(this),_this797.cb=!1,_this797.Lx=!1,_this797["#color-select"].addEventListener("changestart",function(){return _this797.bb();}),_this797["#opacity-box"].addEventListener("changestart",function(t){return _this797.Bx(t);});return _this797;}_createClass(Im,[{key:"bb",value:function bb(){var _this798=this;var t,_e1472;this.Js.board.undoManager.checkpoint("Flood color"),this.cb=!0,this["#color-select"].addEventListener("change",t=function t(){_this798.primitive.style.setProperty("flood-color",_this798["#color-select"].value);}),this["#color-select"].addEventListener("changeend",_e1472=function e(){_this798["#color-select"].removeEventListener("change",t),_this798["#color-select"].removeEventListener("changeend",_e1472),ga("flood-color",_this798.primitive),_this798.cb=!1;});}},{key:"Bx",value:function Bx(){var _this799=this;var t,_e1473;this.Js.board.undoManager.checkpoint("Flood opacity"),this.Lx=!0,this["#opacity-section"].addEventListener("change",t=function t(_t2077){_t2077.target===_this799["#opacity-slider"]?_this799["#opacity-input"].value=_this799["#opacity-slider"].value:_t2077.target===_this799["#opacity-input"]&&(_this799["#opacity-slider"].value=_this799["#opacity-input"].value),_this799.primitive.style.setProperty("flood-opacity",_this799["#opacity-slider"].value);}),this["#opacity-section"].addEventListener("changeend",_e1473=function e(){_this799["#opacity-section"].removeEventListener("change",t),_this799["#opacity-section"].removeEventListener("changeend",_e1473),ga("flood-opacity",_this799.primitive),_this799.Lx=!1;});}},{key:"qs",value:function qs(){if(this.cb||this.Lx||this.Ny)return;_get(_getPrototypeOf(Im.prototype),"qs",this).call(this);var t=getComputedStyle(this.primitive);this["#color-select"].value=t.floodColor;{var _e1474=X(parseFloat(t.floodOpacity),2);this["#opacity-slider"].value=_e1474,this["#opacity-input"].value=_e1474;}}}]);return Im;}(Tm);_defineProperty(Im,"_shadowTemplate",Hi(_templateObject401()));_defineProperty(Im,"_shadowStyleSheet",Yi(_templateObject402()));customElements.define("bx-floodprimitiveinspector",Im);var Lm=pdfjsLib;Lm.GlobalWorkerOptions.workerSrc="/node_modules/pdfjs-dist/build/pdf.worker.min.js";var Bm=function Bm(t){return new Promise(/*#__PURE__*/function(){var _ref136=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee133(e,i){var s,n,_t2078,_e1475,_e1476,_i1387,_n599,_o480,_l363,_h269,_i1388,_arr64,_e1477,_i1389,_arr65,_t2079,_i1390,_arr66,_t2080,_iterator1412,_step1412,_e1478,_t2081,_e1479,_i1391,_s820,_o481,_e1480,_i1392,_s821,_iterator1413,_step1413,_e1481,_t2082,_i1393,_i1394,_s822,_n600;return regeneratorRuntime.wrap(function _callee133$(_context134){while(1){switch(_context134.prev=_context134.next){case 0:s=null,n=null;_context134.prev=1;_context134.next=4;return Lm.getDocument({data:t}).promise;case 4:s=_context134.sent;_context134.next=10;break;case 7:_context134.prev=7;_context134.t0=_context134["catch"](1);n=_context134.t0;case 10:if(!n){_context134.next=14;break;}i(n);_context134.next=119;break;case 14:if(!(null===s)){_context134.next=18;break;}i("PDF data not found.");_context134.next=119;break;case 18:if(!(1===s.numPages)){_context134.next=27;break;}_context134.next=21;return s.getPage(1);case 21:_e1475=_context134.sent;_context134.next=24;return Rm(_e1475,1);case 24:_t2078=_context134.sent;_context134.next=46;break;case 27:_t2078=Wi(_templateObject58());_e1476=0;_i1387=1;case 30:if(!(_i1387<=s.numPages)){_context134.next=45;break;}_context134.next=33;return s.getPage(_i1387);case 33:_n599=_context134.sent;_context134.next=36;return Rm(_n599,1);case 36:_o480=_context134.sent;_l363=_n599.getViewport({scale:1}).viewBox;_h269=Wi(_templateObject59(),_e1476,_i1387);if(_t2078.append(_h269),1===_i1387)for(_i1388=0,_arr64=_toConsumableArray(_o480.attributes);_i1388<_arr64.length;_i1388++){_e1477=_arr64[_i1388];_t2078.setAttribute(_e1477.name,_e1477.value);}else for(_i1389=0,_arr65=_toConsumableArray(_o480.attributes);_i1389<_arr65.length;_i1389++){_t2079=_arr65[_i1389];_h269.setAttribute(_t2079.name,_t2079.value);}for(_i1390=0,_arr66=_toConsumableArray(_o480.children);_i1390<_arr66.length;_i1390++){_t2080=_arr66[_i1390];_h269.append(_t2080);}_e1476+=_l363[3],_i1387<s.numPages&&(_e1476+=60);case 42:_i1387+=1;_context134.next=30;break;case 45:_t2078.viewBox.baseVal.height=_e1476,_t2078.height.baseVal.value=_e1476;case 46:_iterator1412=_createForOfIteratorHelper(_t2078.querySelectorAll("style"));_context134.prev=47;_iterator1412.s();case 49:if((_step1412=_iterator1412.n()).done){_context134.next=76;break;}_e1478=_step1412.value;_t2081=_e1478.textContent;case 52:if(!_t2081.includes("url(blob:")){_context134.next=73;break;}_e1479=_t2081.indexOf("url(blob:"),_i1391=_t2081.indexOf(")",_e1479)+1,_s820=_t2081.substring(_e1479,_i1391),_o481=_s820.substring(4,_s820.length-1);_context134.prev=54;_context134.next=57;return fetch(_o481,{mode:"no-cors"});case 57:_e1480=_context134.sent;_context134.next=60;return _e1480.blob();case 60:_i1392=_context134.sent;_context134.next=63;return Ra(_i1392);case 63:_s821=_context134.sent;"data:"!==_s821&&(_t2081=_t2081.replace(_o481,_s821));_context134.next=71;break;case 67:_context134.prev=67;_context134.t1=_context134["catch"](54);console.log(_context134.t1);return _context134.abrupt("break",73);case 71:_context134.next=52;break;case 73:_e1478.textContent=_t2081;case 74:_context134.next=49;break;case 76:_context134.next=81;break;case 78:_context134.prev=78;_context134.t2=_context134["catch"](47);_iterator1412.e(_context134.t2);case 81:_context134.prev=81;_iterator1412.f();return _context134.finish(81);case 84:_iterator1413=_createForOfIteratorHelper(_t2078.querySelectorAll("image"));_context134.prev=85;_iterator1413.s();case 87:if((_step1413=_iterator1413.n()).done){_context134.next=110;break;}_e1481=_step1413.value;_t2082=_e1481.getAttribute("xlink:href")||"";if(!_t2082.startsWith("blob:")){_context134.next=108;break;}_i1393=null;_context134.prev=92;_context134.next=95;return fetch(_t2082,{mode:"no-cors"});case 95:_i1394=_context134.sent;_context134.next=98;return _i1394.blob();case 98:_s822=_context134.sent;_context134.next=101;return Ra(_s822);case 101:_n600=_context134.sent;"data:"!==_n600&&_e1481.setAttribute("xlink:href",_n600);_context134.next=108;break;case 105:_context134.prev=105;_context134.t3=_context134["catch"](92);console.log("Fetch error",_i1393);case 108:_context134.next=87;break;case 110:_context134.next=115;break;case 112:_context134.prev=112;_context134.t4=_context134["catch"](85);_iterator1413.e(_context134.t4);case 115:_context134.prev=115;_iterator1413.f();return _context134.finish(115);case 118:e(Wp(_t2078,"xml"));case 119:case"end":return _context134.stop();}}},_callee133,null,[[1,7],[47,78,81,84],[54,67],[85,112,115,118],[92,105]]);}));return function(_x157,_x158){return _ref136.apply(this,arguments);};}());},Rm=function Rm(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return new Promise(/*#__PURE__*/function(){var _ref137=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee134(e){var i,s,n,o,h,_loop29,_i1395,_arr67,_i1396,_arr68,_t2083,a,r,d,_t2084,_loop30,_i1397,_arr69,_i1399,_arr70,_e1483;return regeneratorRuntime.wrap(function _callee134$(_context135){while(1){switch(_context135.prev=_context135.next){case 0:i=document.createElementNS(l.svg,"svg");i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");s=t.getViewport({scale:1});_context135.next=5;return t.getOperatorList();case 5:n=_context135.sent;o=new Lm.SVGGraphics(t.commonObjs,t.objs);o.embedFonts=!0;_context135.next=10;return o.getSVG(n,s);case 10:h=_context135.sent;_loop29=function _loop29(){var t=_arr67[_i1395];if(G.includes(t.name)){var _e1482=R.find(function(e){return e.presentationAttributeName===t.name;});i.style.setProperty(_e1482.name,t.value);}else i.setAttribute(t.name,t.value);};for(_i1395=0,_arr67=_toConsumableArray(h.attributes);_i1395<_arr67.length;_i1395++){_loop29();}for(_i1396=0,_arr68=_toConsumableArray(h.childNodes);_i1396<_arr68.length;_i1396++){_t2083=_arr68[_i1396];i.append(_t2083);}a=NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT|NodeFilter.SHOW_COMMENT,r=document.createNodeIterator(i,a),d=null;for(;d=r.nextNode();){if(d.nodeType===Node.ELEMENT_NODE&&("svg"===d.prefix||"xlink"===d.prefix)){_t2084=document.createElementNS(l[d.prefix],d.localName);_loop30=function _loop30(){var e=_arr69[_i1397];if(G.includes(e.name)){var _i1398=R.find(function(t){return t.presentationAttributeName===e.name;});_t2084.style.setProperty(_i1398.name,e.value);}else _t2084.setAttribute(e.name,e.value);};for(_i1397=0,_arr69=_toConsumableArray(d.attributes);_i1397<_arr69.length;_i1397++){_loop30();}for(_i1399=0,_arr70=_toConsumableArray(d.childNodes);_i1399<_arr70.length;_i1399++){_e1483=_arr70[_i1399];_t2084.append(_e1483);}d.replaceWith(_t2084);}}e(i);case 17:case"end":return _context135.stop();}}},_callee134);}));return function(_x159){return _ref137.apply(this,arguments);};}());};var Gm=/*#__PURE__*/function(_Tm5){_inherits(Gm,_Tm5);var _super173=_createSuper(Gm);_createClass(Gm,[{key:"name",get:function get(){return"Image";}}]);function Gm(){var _this800;_classCallCheck(this,Gm);_this800=_super173.call(this),_this800["#source-href-input"].addEventListener("change",function(){return _this800.Zy();}),_this800["#source-import-button"].addEventListener("click",function(){return _this800.Ky();});return _this800;}_createClass(Gm,[{key:"Zy",value:function Zy(){this.Js.board.undoManager.checkpoint("Filter image"),this.primitive.setAttribute("href",this["#source-href-input"].value);}},{key:"Ky",value:function(){var _Ky=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee135(){var t,_e1484,_i1400,_i1401,_s823,_t2085;return regeneratorRuntime.wrap(function _callee135$(_context136){while(1){switch(_context136.prev=_context136.next){case 0:_context136.next=2;return this.Qs.openImageImportDialog();case 2:t=_context136.sent;if(!t){_context136.next=34;break;}if(!("svg"===t.extension||"svgz"===t.extension)){_context136.next=11;break;}_i1400=new Blob([t.data],{type:"image/svg+xml"});_context136.next=8;return Ra(_i1400);case 8:_e1484=_context136.sent;_context136.next=33;break;case 11:if(!("pdf"===t.extension||"ai"===t.extension)){_context136.next=32;break;}_i1401=null,_s823=null;_context136.prev=13;_context136.next=16;return Bm(t.data);case 16:_i1401=_context136.sent;_context136.next=22;break;case 19:_context136.prev=19;_context136.t0=_context136["catch"](13);_s823=_context136.t0;case 22:if(!_s823){_context136.next=26;break;}this.Qs.openMessageDialog({buttons:["OK"],message:"Can't import file",detail:"ai"===t.extension?n:_s823.message});_context136.next=30;break;case 26:_t2085=new Blob([_i1401],{type:"image/svg+xml"});_context136.next=29;return Ra(_t2085);case 29:_e1484=_context136.sent;case 30:_context136.next=33;break;case 32:_e1484=t.data;case 33:_e1484&&(this.Js.board.undoManager.checkpoint("Filter image"),this.primitive.setAttribute("href",_e1484));case 34:case"end":return _context136.stop();}}},_callee135,this,[[13,19]]);}));function Ky(){return _Ky.apply(this,arguments);}return Ky;}()},{key:"qs",value:function qs(){if(!this.Ny){_get(_getPrototypeOf(Gm.prototype),"qs",this).call(this);this.primitive.getAttribute("href");""===this.primitive.href.baseVal?(this["#source-href-input"].value="",this["#source-thumbnail-img"].removeAttribute("src")):(this["#source-href-input"].value=this.primitive.getAttribute("href"),this["#source-thumbnail-img"].src=this.primitive.getAttribute("href"));}}}]);return Gm;}(Tm);_defineProperty(Gm,"_shadowTemplate",Hi(_templateObject403()));_defineProperty(Gm,"_shadowStyleSheet",Yi(_templateObject404()));customElements.define("bx-imageprimitiveinspector",Gm);customElements.define("bx-tileprimitiveinspector",/*#__PURE__*/function(_Tm6){_inherits(_class4,_Tm6);var _super174=_createSuper(_class4);_createClass(_class4,[{key:"name",get:function get(){return"Tile";}}]);function _class4(){_classCallCheck(this,_class4);return _super174.call(this);}return _class4;}(Tm));var Fm=/*#__PURE__*/function(_Tm7){_inherits(Fm,_Tm7);var _super175=_createSuper(Fm);_createClass(Fm,[{key:"name",get:function get(){return"Turbulence";}}]);function Fm(){var _this801;_classCallCheck(this,Fm);_this801=_super175.call(this),_this801.Qy=!1,_this801.Rb=!1,_this801.Jy=!1,_this801.tk=!1,_this801["#type-buttons"].addEventListener("toggle",function(){return _this801.ek();}),_this801["#frequency-x-input"].addEventListener("changestart",function(t){return _this801.ik(t);}),_this801["#frequency-y-input"].addEventListener("changestart",function(t){return _this801.sk(t);}),_this801["#frequency-lock-button"].addEventListener("toggle",function(){return _this801.nk();}),_this801["#frequency-stitch-checkbox"].addEventListener("toggle",function(){return _this801.lk();}),_this801["#octaves-box"].addEventListener("changestart",function(t){return _this801.hk(t);}),_this801["#seed-box"].addEventListener("changestart",function(t){return _this801.ak(t);});return _this801;}_createClass(Fm,[{key:"connectedCallback",value:function connectedCallback(){this.Qy=app.getConfig("".concat(this.localName,":frequencyLocked"),!1),_get(_getPrototypeOf(Fm.prototype),"connectedCallback",this).call(this);}},{key:"ek",value:function ek(){this.Js.board.undoManager.checkpoint("Turbulence type"),this.primitive.setAttribute("type",this["#type-buttons"].value);}},{key:"ik",value:function ik(t){var _this802=this;var e,_i1402,s=this["#frequency-lock-button"].toggled,n=this["#frequency-x-input"].value/this["#frequency-y-input"].value;this.Js.board.undoManager.checkpoint("Filter base frequency"),this.Rb=!0,this["#frequency-x-input"].addEventListener("change",e=function e(){null===_this802["#frequency-x-input"].value&&(_this802["#frequency-x-input"].value=0),s&&(Number.isFinite(n)&&0!==n?_this802["#frequency-y-input"].value=Z(_this802["#frequency-x-input"].value/n,0,Infinity,2):_this802["#frequency-y-input"].value=_this802["#frequency-x-input"].value);var t=_this802["#frequency-x-input"].value,e=_this802["#frequency-y-input"].value;_this802.primitive.setAttribute("baseFrequency",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#frequency-x-input"].addEventListener("changeend",_i1402=function i(){_this802["#frequency-x-input"].removeEventListener("change",e),_this802["#frequency-x-input"].removeEventListener("changeend",_i1402),_this802.Rb=!1;});}},{key:"sk",value:function sk(t){var _this803=this;var e,_i1403,s=this["#frequency-lock-button"].toggled,n=this["#frequency-x-input"].value/this["#frequency-y-input"].value;this.Js.board.undoManager.checkpoint("Filter base frequency"),this.Rb=!0,this["#frequency-y-input"].addEventListener("change",e=function e(){null===_this803["#frequency-y-input"].value&&(_this803["#frequency-y-input"].value=0),s&&(Number.isFinite(n)&&0!==n?_this803["#frequency-x-input"].value=Z(_this803["#frequency-y-input"].value/n,0,Infinity,2):_this803["#frequency-x-input"].value=_this803["#frequency-y-input"].value);var t=_this803["#frequency-x-input"].value,e=_this803["#frequency-y-input"].value;_this803.primitive.setAttribute("baseFrequency",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#frequency-y-input"].addEventListener("changeend",_i1403=function i(){_this803["#frequency-y-input"].removeEventListener("change",e),_this803["#frequency-y-input"].removeEventListener("changeend",_i1403),_this803.Rb=!1;});}},{key:"nk",value:function nk(){this.Qy=this["#frequency-lock-button"].toggled,this.Qs.setConfig("".concat(this.localName,":frequencyLocked"),this.Qy),this.qs();}},{key:"lk",value:function lk(){this["#frequency-stitch-checkbox"].toggled?this.primitive.setAttribute("stitchTiles","stitch"):this.primitive.removeAttribute("stitchTiles");}},{key:"hk",value:function hk(){var _this804=this;var t,_e1485;this.Js.board.undoManager.checkpoint("Number of octaves"),this.Jy=!0,this["#octaves-section"].addEventListener("change",t=function t(_t2086){_t2086.target===_this804["#octaves-slider"]?_this804["#octaves-input"].value=_this804["#octaves-slider"].value:_t2086.target===_this804["#octaves-input"]&&(_this804["#octaves-slider"].value=Math.floor(_this804["#octaves-input"].value)),_this804.primitive.setAttribute("numOctaves",_this804["#octaves-slider"].value);}),this["#octaves-section"].addEventListener("changeend",_e1485=function e(){_this804["#octaves-section"].removeEventListener("change",t),_this804["#octaves-section"].removeEventListener("changeend",_e1485),_this804.Jy=!1;});}},{key:"ak",value:function ak(){var _this805=this;var t,_e1486;this.Js.board.undoManager.checkpoint("Seed"),this.tk=!0,this["#seed-section"].addEventListener("change",t=function t(_t2087){_t2087.target===_this805["#seed-slider"]?_this805["#seed-input"].value=_this805["#seed-slider"].value:_t2087.target===_this805["#seed-input"]&&(_this805["#seed-slider"].value=Math.floor(_this805["#seed-input"].value)),_this805.primitive.setAttribute("seed",_this805["#seed-slider"].value);}),this["#seed-section"].addEventListener("changeend",_e1486=function e(){_this805["#seed-section"].removeEventListener("change",t),_this805["#seed-section"].removeEventListener("changeend",_e1486),_this805.tk=!1;});}},{key:"qs",value:function qs(){this.Rb||this.Jy||this.tk||this.Ny||(_get(_getPrototypeOf(Fm.prototype),"qs",this).call(this),this.primitive.hasAttribute("type")?this["#type-buttons"].value=this.primitive.getAttribute("type"):this["#type-buttons"].value="turbulence",this["#frequency-x-input"].value=X(this.primitive.baseFrequencyX.baseVal,2),this["#frequency-y-input"].value=X(this.primitive.baseFrequencyY.baseVal,2),this["#frequency-lock-button"].toggled=this.Qy,this["#frequency-lock-icon"].name=this.Qy?"lock-on":"lock-off",this["#frequency-stitch-checkbox"].toggled="stitch"===this.primitive.getAttribute("stitchTiles"),this["#octaves-slider"].value=this.primitive.numOctaves.baseVal,this["#octaves-input"].value=this.primitive.numOctaves.baseVal,this["#seed-slider"].value=this.primitive.seed.baseVal,this["#seed-input"].value=this.primitive.seed.baseVal);}}]);return Fm;}(Tm);_defineProperty(Fm,"_shadowTemplate",Hi(_templateObject405()));_defineProperty(Fm,"_shadowStyleSheet",Yi(_templateObject406()));customElements.define("bx-turbulenceprimitiveinspector",Fm);var Um={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],saturate:1,hueRotate:0,luminanceToAlpha:0};var Nm=/*#__PURE__*/function(_Tm8){_inherits(Nm,_Tm8);var _super176=_createSuper(Nm);_createClass(Nm,[{key:"name",get:function get(){return"Color matrix";}}]);function Nm(){var _this806;_classCallCheck(this,Nm);_this806=_super176.call(this),_this806.rk=!1,_this806.dk=!1,_this806.ck=!1,_this806["#type-select"].addEventListener("change",function(){return _this806.pk();}),_this806["#matrix-values-section"].addEventListener("changestart",function(t){return _this806.uk(t);}),_this806["#saturate-value-box"].addEventListener("changestart",function(){return _this806.xk();}),_this806["#hue-rotate-value-box"].addEventListener("changestart",function(){return _this806.bk();});return _this806;}_createClass(Nm,[{key:"pk",value:function pk(){this.Js.board.undoManager.checkpoint("Color matrix type"),"matrix"===this["#type-select"].value?(this.primitive.setAttribute("type",this["#type-select"].value),this.primitive.removeAttribute("type")):this.primitive.setAttribute("type",this["#type-select"].value),this.primitive.removeAttribute("values");}},{key:"uk",value:function uk(t){var _this807=this;var e,_i1404,s=t.target,n=_toConsumableArray(this["#matrix-values-section"].querySelectorAll("x-numberinput:not([disabled])")),o=n.indexOf(s);this.Js.board.undoManager.checkpoint("Color matrix values"),this.rk=!0,s.addEventListener("change",e=function e(){null===s.value&&(s.value=Um.matrix[o]);var t=n.map(function(t){return t.value;});_this807.primitive.setAttribute("values",t.join(" "));}),s.addEventListener("changeend",_i1404=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1404),_this807.rk=!1;});}},{key:"xk",value:function xk(){var _this808=this;var t,_e1487;this.Js.board.undoManager.checkpoint("Color matrix value"),this.dk=!0,this["#saturate-value-box"].addEventListener("change",t=function t(_t2088){_t2088.target===_this808["#saturate-value-slider"]?_this808["#saturate-value-input"].value=_this808["#saturate-value-slider"].value:_t2088.target===_this808["#saturate-value-input"]&&(_this808["#saturate-value-slider"].value=_this808["#saturate-value-input"].value),_this808.primitive.setAttribute("values",_this808["#saturate-value-input"].value);}),this["#saturate-value-box"].addEventListener("changeend",_e1487=function e(){_this808["#saturate-value-box"].removeEventListener("change",t),_this808["#saturate-value-box"].removeEventListener("changeend",_e1487),_this808.dk=!1;});}},{key:"bk",value:function bk(){var _this809=this;var t,_e1488;this.Js.board.undoManager.checkpoint("Color matrix hue rotate"),this.ck=!0,this["#hue-rotate-value-box"].addEventListener("change",t=function t(_t2089){_t2089.target===_this809["#hue-rotate-value-slider"]?_this809["#hue-rotate-value-input"].value=_this809["#hue-rotate-value-slider"].value:_t2089.target===_this809["#hue-rotate-value-input"]&&(_this809["#hue-rotate-value-slider"].value=_this809["#hue-rotate-value-input"].value),_this809.primitive.setAttribute("values",_this809["#hue-rotate-value-input"].value);}),this["#hue-rotate-value-box"].addEventListener("changeend",_e1488=function e(){_this809["#hue-rotate-value-box"].removeEventListener("change",t),_this809["#hue-rotate-value-box"].removeEventListener("changeend",_e1488),_this809.ck=!1;});}},{key:"qs",value:function qs(){if(this.rk||this.dk||this.ck||this.Ny)return;_get(_getPrototypeOf(Nm.prototype),"qs",this).call(this);var t=this.primitive.getAttribute("type");if(!1===["saturate","hueRotate","luminanceToAlpha","matrix"].includes(t)&&(t="matrix"),this["#type-select"].value=t,"matrix"===t){var _t2090=_toConsumableArray(Um.matrix);for(var _e1489=0;_e1489<this.primitive.values.baseVal.numberOfItems;_e1489+=1){_t2090[_e1489]=X(this.primitive.values.baseVal[_e1489].value,2);}for(var _e1490=0;_e1490<_t2090.length;_e1490+=1){this["#matrix-".concat(_e1490,"-input")].value=_t2090[_e1490];}this["#matrix-values-section"].hidden=!1;}else this["#matrix-values-section"].hidden=!0;if("saturate"===t){var _t2091=Um.saturate;this.primitive.values.baseVal.numberOfItems>0&&(_t2091=X(this.primitive.values.baseVal[0].value,2)),this["#saturate-value-section"].hidden=!1,this["#saturate-value-input"].value=_t2091,this["#saturate-value-slider"].value=_t2091;}else this["#saturate-value-section"].hidden=!0;if("hueRotate"===t){var _t2092=Um.hueRotate;this.primitive.values.baseVal.numberOfItems>0&&(_t2092=X(this.primitive.values.baseVal[0].value,0)),this["#hue-rotate-value-section"].hidden=!1,this["#hue-rotate-value-input"].value=_t2092,this["#hue-rotate-value-slider"].value=_t2092;}else this["#hue-rotate-value-section"].hidden=!0;}}]);return Nm;}(Tm);_defineProperty(Nm,"_shadowTemplate",Hi(_templateObject407()));_defineProperty(Nm,"_shadowStyleSheet",Yi(_templateObject408()));customElements.define("bx-colormatrixprimitiveinspector",Nm);var Vm=/*#__PURE__*/function(_Tm9){_inherits(Vm,_Tm9);var _super177=_createSuper(Vm);_createClass(Vm,[{key:"name",get:function get(){return"Component transfer";}}]);function Vm(){var _this810;_classCallCheck(this,Vm);_this810=_super177.call(this),_this810.mk=!1,_this810.gk=!1,_this810.fk=!1,_this810.wk=!1,_this810.vk=!1,_this810.yk=!1,_this810["#component-buttons"].addEventListener("toggle",function(){return _this810.kk();}),_this810["#type-select"].addEventListener("change",function(){return _this810.pk();}),_this810["#linear-slope-box"].addEventListener("changestart",function(){return _this810.Sk();}),_this810["#linear-intercept-box"].addEventListener("changestart",function(){return _this810._k();}),_this810["#gamma-amplitude-box"].addEventListener("changestart",function(){return _this810.Ck();}),_this810["#gamma-exponent-box"].addEventListener("changestart",function(){return _this810.Mk();}),_this810["#gamma-offset-box"].addEventListener("changestart",function(){return _this810.Pk();}),_this810["#table-values-box"].addEventListener("changestart",function(t){return _this810.Dk(t);});return _this810;}_createClass(Vm,[{key:"kk",value:function kk(){this.qs();}},{key:"pk",value:function pk(){var t=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function type"),t||(t=Di("svg:"+this["#component-buttons"].value),this.primitive.append(t)),"identity"===this["#type-select"].value?t.removeAttribute("type"):t.setAttribute("type",this["#type-select"].value),"linear"!==this["#type-select"].value&&(t.removeAttribute("slope"),t.removeAttribute("intercept")),"gamma"!==this["#type-select"].value&&(t.removeAttribute("amplitude"),t.removeAttribute("exponent"),t.removeAttribute("offset")),"table"!==this["#type-select"].value&&"discrete"!==this["#type-select"].value&&t.removeAttribute("tableValues");}},{key:"Sk",value:function Sk(){var _this811=this;var t,_e1491,i=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function slope"),this.mk=!0,this["#linear-slope-section"].addEventListener("change",t=function t(_t2093){_t2093.target===_this811["#linear-slope-slider"]?_this811["#linear-slope-input"].value=_this811["#linear-slope-slider"].value:_t2093.target===_this811["#linear-slope-input"]&&(_this811["#linear-slope-slider"].value=_this811["#linear-slope-input"].value),1===_this811["#linear-slope-input"].value?i.removeAttribute("slope"):i.setAttribute("slope",_this811["#linear-slope-input"].value);}),this["#linear-slope-section"].addEventListener("changeend",_e1491=function e(){_this811["#linear-slope-section"].removeEventListener("change",t),_this811["#linear-slope-section"].removeEventListener("changeend",_e1491),_this811.mk=!1;});}},{key:"_k",value:function _k(){var _this812=this;var t,_e1492,i=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function intercept"),this.gk=!0,this["#linear-intercept-section"].addEventListener("change",t=function t(_t2094){_t2094.target===_this812["#linear-intercept-slider"]?_this812["#linear-intercept-input"].value=_this812["#linear-intercept-slider"].value:_t2094.target===_this812["#linear-intercept-input"]&&(_this812["#linear-intercept-slider"].value=_this812["#linear-intercept-input"].value),0===_this812["#linear-intercept-input"].value?i.removeAttribute("intercept"):i.setAttribute("intercept",_this812["#linear-intercept-input"].value);}),this["#linear-intercept-section"].addEventListener("changeend",_e1492=function e(){_this812["#linear-intercept-section"].removeEventListener("change",t),_this812["#linear-intercept-section"].removeEventListener("changeend",_e1492),_this812.gk=!1;});}},{key:"Ck",value:function Ck(){var _this813=this;var t,_e1493,i=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function amplitude"),this.fk=!0,this["#gamma-amplitude-section"].addEventListener("change",t=function t(_t2095){_t2095.target===_this813["#gamma-amplitude-slider"]?_this813["#gamma-amplitude-input"].value=_this813["#gamma-amplitude-slider"].value:_t2095.target===_this813["#gamma-amplitude-input"]&&(_this813["#gamma-amplitude-slider"].value=_this813["#gamma-amplitude-input"].value),1===_this813["#gamma-amplitude-input"].value?i.removeAttribute("amplitude"):i.setAttribute("amplitude",_this813["#gamma-amplitude-input"].value);}),this["#gamma-amplitude-section"].addEventListener("changeend",_e1493=function e(){_this813["#gamma-amplitude-section"].removeEventListener("change",t),_this813["#gamma-amplitude-section"].removeEventListener("changeend",_e1493),_this813.fk=!1;});}},{key:"Mk",value:function Mk(){var _this814=this;var t,_e1494,i=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function exponent"),this.wk=!0,this["#gamma-exponent-section"].addEventListener("change",t=function t(_t2096){_t2096.target===_this814["#gamma-exponent-slider"]?_this814["#gamma-exponent-input"].value=_this814["#gamma-exponent-slider"].value:_t2096.target===_this814["#gamma-exponent-input"]&&(_this814["#gamma-exponent-slider"].value=_this814["#gamma-exponent-input"].value),1===_this814["#gamma-exponent-input"].value?i.removeAttribute("exponent"):i.setAttribute("exponent",_this814["#gamma-exponent-input"].value);}),this["#gamma-exponent-section"].addEventListener("changeend",_e1494=function e(){_this814["#gamma-exponent-section"].removeEventListener("change",t),_this814["#gamma-exponent-section"].removeEventListener("changeend",_e1494),_this814.wk=!1;});}},{key:"Pk",value:function Pk(){var _this815=this;var t,_e1495,i=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function offset"),this.vk=!0,this["#gamma-offset-section"].addEventListener("change",t=function t(_t2097){_t2097.target===_this815["#gamma-offset-slider"]?_this815["#gamma-offset-input"].value=_this815["#gamma-offset-slider"].value:_t2097.target===_this815["#gamma-offset-input"]&&(_this815["#gamma-offset-slider"].value=_this815["#gamma-offset-input"].value),0===_this815["#gamma-offset-input"].value?i.removeAttribute("offset"):i.setAttribute("offset",_this815["#gamma-offset-input"].value);}),this["#gamma-offset-section"].addEventListener("changeend",_e1495=function e(){_this815["#gamma-offset-section"].removeEventListener("change",t),_this815["#gamma-offset-section"].removeEventListener("changeend",_e1495),_this815.vk=!1;});}},{key:"Dk",value:function Dk(t){var _this816=this;var e,_i1405,s=this.primitive.querySelector(this["#component-buttons"].value),n=_toConsumableArray(this["#table-values-box"].children),o=t.target;this.Js.board.undoManager.checkpoint("Component transfer function table values"),this.yk=!0,o.addEventListener("change",e=function e(){var t=n.map(function(t){return t.value;}).filter(function(t){return null!==t;});0===t.length?s.removeAttribute("tableValues"):s.setAttribute("tableValues",t.join(" "));}),o.addEventListener("changeend",_i1405=function i(){o.removeEventListener("change",e),o.removeEventListener("changeend",_i1405),_this816.yk=!1,_this816.qs();});}},{key:"qs",value:function qs(){if(this.mk||this.gk||this.fk||this.wk||this.vk||this.yk||this.Ny)return;_get(_getPrototypeOf(Vm.prototype),"qs",this).call(this);var t=this.primitive.querySelector(this["#component-buttons"].value),e=t?t.getAttribute("type"):"identity";if(!1===["identity","table","discrete","linear","gamma"].includes(e)&&(e="identity"),this["#type-select"].value=e,"linear"===e?(this["#linear-slope-section"].hidden=!1,this["#linear-slope-slider"].value=X(t.slope.baseVal,2),this["#linear-slope-input"].value=X(t.slope.baseVal,2)):this["#linear-slope-section"].hidden=!0,"linear"===e?(this["#linear-intercept-section"].hidden=!1,this["#linear-intercept-slider"].value=X(t.intercept.baseVal,2),this["#linear-intercept-input"].value=X(t.intercept.baseVal,2)):this["#linear-intercept-section"].hidden=!0,"gamma"===e?(this["#gamma-amplitude-section"].hidden=!1,this["#gamma-amplitude-slider"].value=X(t.amplitude.baseVal,2),this["#gamma-amplitude-input"].value=X(t.amplitude.baseVal,2)):this["#gamma-amplitude-section"].hidden=!0,"gamma"===e?(this["#gamma-exponent-section"].hidden=!1,this["#gamma-exponent-slider"].value=t.exponent.baseVal,this["#gamma-exponent-input"].value=t.exponent.baseVal):this["#gamma-exponent-section"].hidden=!0,"gamma"===e?(this["#gamma-offset-section"].hidden=!1,this["#gamma-offset-slider"].value=t.offset.baseVal,this["#gamma-offset-input"].value=t.offset.baseVal):this["#gamma-offset-section"].hidden=!0,"table"===e||"discrete"===e){this["#table-values-section"].hidden=!1;var _e1496=_toConsumableArray(t.tableValues.baseVal).map(function(t){return X(t.value,2);}),_i1406=Math.max(2,_e1496.length+1);for(;this["#table-values-box"].childElementCount<_i1406;){this["#table-values-box"].append(this["#table-values-box"].lastElementChild.cloneNode());}for(;this["#table-values-box"].childElementCount>_i1406;){this["#table-values-box"].lastElementChild.remove();}for(var _t2098=0;_t2098<_i1406;_t2098+=1){void 0===_e1496[_t2098]?this["#table-values-box"].children[_t2098].value=null:this["#table-values-box"].children[_t2098].value=_e1496[_t2098];}}else this["#table-values-section"].hidden=!0;}}]);return Vm;}(Tm);_defineProperty(Vm,"_shadowTemplate",Hi(_templateObject409()));_defineProperty(Vm,"_shadowStyleSheet",Yi(_templateObject410()));customElements.define("bx-componenttransferprimitiveinspector",Vm);var jm=10;var Hm=/*#__PURE__*/function(_Tm10){_inherits(Hm,_Tm10);var _super178=_createSuper(Hm);_createClass(Hm,[{key:"name",get:function get(){return"Convolve matrix";}}]);function Hm(){var _this817;_classCallCheck(this,Hm);_this817=_super178.call(this),_this817.zk=!1,_this817.Ok=!1,_this817.Ek=!1,_this817.Tk=!1,_this817["#target-box"].addEventListener("changestart",function(t){return _this817.Ak(t);}),_this817["#kernel-values-table"].addEventListener("changestart",function(t){return _this817.$k(t);}),_this817["#kernel-row-buttons"].addEventListener("click",function(t){return _this817.Ik(t);}),_this817["#kernel-column-buttons"].addEventListener("click",function(t){return _this817.Lk(t);}),_this817["#divisor-switch"].addEventListener("toggle",function(){return _this817.Bk();}),_this817["#divisor-box"].addEventListener("changestart",function(t){return _this817.Rk(t);}),_this817["#bias-box"].addEventListener("changestart",function(t){return _this817.Gk(t);}),_this817["#edge-mode-buttons"].addEventListener("toggle",function(){return _this817.Fk();}),_this817["#preserve-alpha-checkbox"].addEventListener("toggle",function(){return _this817.Uk();});return _this817;}_createClass(Hm,[{key:"$k",value:function $k(t){var _this818=this;var e,_i1407,s=t.target,n=parseInt(s.dataset.x),o=parseInt(s.dataset.y),_this$Nk=this.Nk(),l=_this$Nk.values,h=_this$Nk.orderX,a=_this$Nk.orderY,r=_this$Nk.targetX,d=_this$Nk.targetY;this.Js.board.undoManager.checkpoint("Convolve matrix value"),this.zk=!0,s.addEventListener("change",e=function e(){var _ref138;l[o][n]=s.value,_this818.primitive.setAttribute("kernelMatrix","".concat((_ref138=[]).concat.apply(_ref138,_toConsumableArray(l))));}),s.addEventListener("changeend",_i1407=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1407),_this818.zk=!1;});}},{key:"Ik",value:function Ik(t){var _ref139;var e=t.target.closest("x-button"),_this$Nk2=this.Nk(),i=_this$Nk2.values,s=_this$Nk2.orderX,n=_this$Nk2.orderY,o=_this$Nk2.targetX,l=_this$Nk2.targetY;e===this["#kernel-add-row-button"]?(n+=1,i.push(new Array(s).fill(0))):e===this["#kernel-remove-row-button"]&&(n-=1,i.length=n),this.Js.board.undoManager.checkpoint("Convolve matrix rows"),this.primitive.setAttribute("order","".concat(s," ").concat(n)),this.primitive.setAttribute("kernelMatrix","".concat((_ref139=[]).concat.apply(_ref139,_toConsumableArray(i)))),l>i.length-1&&this.primitive.removeAttribute("targetY");}},{key:"Lk",value:function Lk(t){var _ref140;var e=t.target.closest("x-button"),_this$Nk3=this.Nk(),i=_this$Nk3.values,s=_this$Nk3.orderX,n=_this$Nk3.orderY,o=_this$Nk3.targetX,l=_this$Nk3.targetY;if(e===this["#kernel-add-column-button"]){s+=1;var _iterator1414=_createForOfIteratorHelper(i),_step1414;try{for(_iterator1414.s();!(_step1414=_iterator1414.n()).done;){var _t2099=_step1414.value;_t2099.push(0);}}catch(err){_iterator1414.e(err);}finally{_iterator1414.f();}}else if(e===this["#kernel-remove-column-button"]){s-=1;var _iterator1415=_createForOfIteratorHelper(i),_step1415;try{for(_iterator1415.s();!(_step1415=_iterator1415.n()).done;){var _t2100=_step1415.value;_t2100.pop();}}catch(err){_iterator1415.e(err);}finally{_iterator1415.f();}}this.Js.board.undoManager.checkpoint("Convolve matrix columns"),this.primitive.setAttribute("order","".concat(s," ").concat(n)),this.primitive.setAttribute("kernelMatrix","".concat((_ref140=[]).concat.apply(_ref140,_toConsumableArray(i)))),o>i[0].length-1&&this.primitive.removeAttribute("targetX");}},{key:"Ak",value:function Ak(t){var _this819=this;var e,_i1408,s=t.target;this.Js.board.undoManager.checkpoint("Convolve matrix target"),this.Ok=!0,this["#target-box"].addEventListener("change",e=function e(){_this819.primitive.setAttribute(s.dataset.name,Math.floor(s.value));var _iterator1416=_createForOfIteratorHelper(_this819["#kernel-values-table"].querySelectorAll("x-numberinput")),_step1416;try{for(_iterator1416.s();!(_step1416=_iterator1416.n()).done;){var _t2101=_step1416.value;parseInt(_t2101.dataset.x)===_this819["#target-x-input"].value&&parseInt(_t2101.dataset.y)===_this819["#target-y-input"].value?_t2101.setAttribute("data-target","true"):_t2101.setAttribute("data-target","false");}}catch(err){_iterator1416.e(err);}finally{_iterator1416.f();}}),this["#target-box"].addEventListener("changeend",_i1408=function i(){_this819["#target-box"].removeEventListener("change",e),_this819["#target-box"].removeEventListener("changeend",_i1408),_this819.Ok=!1;});}},{key:"Bk",value:function Bk(){if(this.Js.board.undoManager.checkpoint("Convolve matrix divisor"),this["#divisor-switch"].toggled){var _t2102=1,_e1497=0;var _iterator1417=_createForOfIteratorHelper(this.Nk().flatValues),_step1417;try{for(_iterator1417.s();!(_step1417=_iterator1417.n()).done;){var _t2103=_step1417.value;_e1497+=_t2103;}}catch(err){_iterator1417.e(err);}finally{_iterator1417.f();}0!==_e1497&&(_t2102=X(_e1497,2)),this.primitive.setAttribute("divisor",_t2102);}else this.primitive.removeAttribute("divisor");}},{key:"Rk",value:function Rk(){var _this820=this;var t,_e1498;this.Js.board.undoManager.checkpoint("Convolve matrix divisor"),this.Ek=!0,this["#divisor-section"].addEventListener("change",t=function t(_t2104){_t2104.target===_this820["#divisor-slider"]?_this820["#divisor-input"].value=_this820["#divisor-slider"].value:_t2104.target===_this820["#divisor-input"]&&(_this820["#divisor-slider"].value=_this820["#divisor-input"].value),_this820.primitive.setAttribute("divisor",_this820["#divisor-input"].value);}),this["#divisor-section"].addEventListener("changeend",_e1498=function e(){_this820["#divisor-section"].removeEventListener("change",t),_this820["#divisor-section"].removeEventListener("changeend",_e1498),_this820.Ek=!1;});}},{key:"Gk",value:function Gk(){var _this821=this;var t,_e1499;this.Js.board.undoManager.checkpoint("Convolve matrix bias"),this.Tk=!0,this["#bias-section"].addEventListener("change",t=function t(_t2105){_t2105.target===_this821["#bias-slider"]?_this821["#bias-input"].value=_this821["#bias-slider"].value:_t2105.target===_this821["#bias-input"]&&(_this821["#bias-slider"].value=_this821["#bias-input"].value),_this821.primitive.setAttribute("bias",_this821["#bias-input"].value);}),this["#bias-section"].addEventListener("changeend",_e1499=function e(){_this821["#bias-section"].removeEventListener("change",t),_this821["#bias-section"].removeEventListener("changeend",_e1499),_this821.Tk=!1;});}},{key:"Fk",value:function Fk(){var t=this["#edge-mode-buttons"].value;this.Js.board.undoManager.checkpoint("Convolve matrix edge mode"),"duplicate"===t?(this.primitive.setAttribute("edgeMode",t),this.primitive.removeAttribute("edgeMode")):this.primitive.setAttribute("edgeMode",t);}},{key:"Uk",value:function Uk(){this["#preserve-alpha-checkbox"].toggled?this.primitive.setAttribute("preserveAlpha","true"):(this.primitive.setAttribute("preserveAlpha","false"),this.primitive.removeAttribute("preserveAlpha"));}},{key:"Nk",value:function Nk(){var t=3,e=3,i=1,s=1,n=[],o=[];this.primitive.hasAttribute("order")&&(this.primitive.orderX.baseVal>0&&(t=Z(this.primitive.orderX.baseVal,1,jm)),this.primitive.orderY.baseVal>0&&(e=Z(this.primitive.orderY.baseVal,1,jm))),i=Math.floor(t/2),s=Math.floor(e/2),this.primitive.hasAttribute("targetX")&&this.primitive.targetX.baseVal>=0&&this.primitive.targetX.baseVal<t&&(i=this.primitive.targetX.baseVal),this.primitive.hasAttribute("targetY")&&this.primitive.targetY.baseVal>=0&&this.primitive.targetY.baseVal<e&&(s=this.primitive.targetY.baseVal);for(var _n601=0;_n601<e;_n601+=1){for(var _e1500=0;_e1500<t;_e1500+=1){_e1500===i&&_n601===s?o.push(1):o.push(0);}}if(o.length===this.primitive.kernelMatrix.baseVal.numberOfItems)for(var _t2106=0;_t2106<this.primitive.kernelMatrix.baseVal.numberOfItems;_t2106+=1){o[_t2106]=X(this.primitive.kernelMatrix.baseVal[_t2106].value,2);}{var _i1409=0;for(var _s824=0;_s824<e;_s824+=1){var _e1501=[];for(var _s825=0;_s825<t;_s825+=1){var _t2107=o[_i1409];_e1501.push(_t2107),_i1409+=1;}n.push(_e1501);}}return{orderX:t,orderY:e,targetX:i,targetY:s,values:n,flatValues:o};}},{key:"qs",value:function qs(){if(this.zk||this.Ok||this.Ek||this.Tk||this.Ny)return;_get(_getPrototypeOf(Hm.prototype),"qs",this).call(this);var _this$Nk4=this.Nk(),t=_this$Nk4.orderX,e=_this$Nk4.orderY,i=_this$Nk4.targetX,s=_this$Nk4.targetY,n=_this$Nk4.values;{var _o482="",_l364=0,_h270=0;var _iterator1418=_createForOfIteratorHelper(n),_step1418;try{for(_iterator1418.s();!(_step1418=_iterator1418.n()).done;){var _t2108=_step1418.value;_o482+='<x-box class="row-box">',_l364=0;var _iterator1419=_createForOfIteratorHelper(_t2108),_step1419;try{for(_iterator1419.s();!(_step1419=_iterator1419.n()).done;){var _e1502=_step1419.value;_o482+="\n            <x-numberinput\n              value=\"".concat(_e1502,"\"\n              data-x=\"").concat(_l364,"\"\n              data-y=\"").concat(_h270,"\"\n              data-target=\"").concat(_l364===i&&_h270===s,"\"\n              step=\"0.01\"\n              style=\"\">\n            </x-numberinput>\n          "),_l364+=1;}}catch(err){_iterator1419.e(err);}finally{_iterator1419.f();}_o482+="</x-box>",_h270+=1;}}catch(err){_iterator1418.e(err);}finally{_iterator1418.f();}this["#kernel-values-table"].style.setProperty("--order-x",t),this["#kernel-values-table"].style.setProperty("--order-y",e),this["#kernel-values-table"].innerHTML=_o482,this["#kernel-add-row-button"].disabled=e>=jm,this["#kernel-remove-row-button"].disabled=1===e,this["#kernel-add-column-button"].disabled=t>=jm,this["#kernel-remove-column-button"].disabled=1===t;}if(this["#target-x-label"].disabled=1===t,this["#target-x-input"].max=t-1,this["#target-x-input"].value=i,this["#target-x-input"].disabled=1===t,this["#target-y-label"].disabled=1===e,this["#target-y-input"].max=e-1,this["#target-y-input"].value=s,this["#target-y-input"].disabled=1===e,this.primitive.hasAttribute("divisor")){var _t2109=X(this.primitive.divisor.baseVal,2);this["#divisor-heading"].disabled=!1,this["#divisor-switch"].toggled=!0,this["#divisor-slider"].disabled=!1,this["#divisor-slider"].value=_t2109,this["#divisor-input"].disabled=!1,this["#divisor-input"].value=_t2109;}else this["#divisor-heading"].disabled=!0,this["#divisor-switch"].toggled=!1,this["#divisor-slider"].disabled=!0,this["#divisor-slider"].value=0,this["#divisor-input"].disabled=!0,this["#divisor-input"].value=null;{var _t2110=X(this.primitive.bias.baseVal,2);this["#bias-slider"].value=_t2110,this["#bias-input"].value=_t2110;}{var _t2111=this.primitive.getAttribute("edgeMode");!1===["duplicate","wrap","none"].includes(_t2111)&&(_t2111="duplicate"),this["#edge-mode-buttons"].value=_t2111;}this["#preserve-alpha-checkbox"].toggled="true"===this.primitive.getAttribute("preserveAlpha");}}]);return Hm;}(Tm);_defineProperty(Hm,"_shadowTemplate",Hi(_templateObject411(),9,9));_defineProperty(Hm,"_shadowStyleSheet",Yi(_templateObject412()));customElements.define("bx-convolvematrixprimitiveinspector",Hm);var Ym=/*#__PURE__*/function(_Tm11){_inherits(Ym,_Tm11);var _super179=_createSuper(Ym);_createClass(Ym,[{key:"name",get:function get(){return"Displacement map";}}]);function Ym(){var _this822;_classCallCheck(this,Ym);_this822=_super179.call(this),_this822.Vk=!1,_this822["#scale-box"].addEventListener("changestart",function(){return _this822.jk();}),_this822["#x-channel-buttons"].addEventListener("toggle",function(){return _this822.Hk();}),_this822["#y-channel-buttons"].addEventListener("toggle",function(){return _this822.Yk();});return _this822;}_createClass(Ym,[{key:"Hk",value:function Hk(){this.Js.board.undoManager.checkpoint("Displacement map X channel"),"A"===this["#x-channel-buttons"].value?this.primitive.removeAttribute("xChannelSelector"):this.primitive.setAttribute("xChannelSelector",this["#x-channel-buttons"].value);}},{key:"Yk",value:function Yk(){this.Js.board.undoManager.checkpoint("Displacement map Y channel"),"A"===this["#y-channel-buttons"].value?this.primitive.removeAttribute("yChannelSelector"):this.primitive.setAttribute("yChannelSelector",this["#y-channel-buttons"].value);}},{key:"jk",value:function jk(){var _this823=this;var t,_e1503,i=this.primitive.closest("filter");this.Js.board.undoManager.checkpoint("Displacement map scale"),this.Vk=!0,this["#scale-section"].addEventListener("change",t=function t(_t2112){_t2112.target===_this823["#scale-slider"]?_this823["#scale-input"].value=_this823["#scale-slider"].value:_t2112.target===_this823["#scale-input"]&&(_this823["#scale-slider"].value=_this823["#scale-input"].value);var e=_this823["#scale-input"].value;i.primitiveUnits.baseVal===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX&&(e=X(e/100,2)),_this823.primitive.setAttribute("scale",e);}),this["#scale-section"].addEventListener("changeend",_e1503=function e(){_this823["#scale-section"].removeEventListener("change",t),_this823["#scale-section"].removeEventListener("changeend",_e1503),_this823.Vk=!1;});}},{key:"qs",value:function qs(){if(!this.Vk&&!this.Ny){_get(_getPrototypeOf(Ym.prototype),"qs",this).call(this);{var _t2113=this.primitive.closest("filter"),_e1504=this.primitive.scale.baseVal,_i1410="";_t2113.primitiveUnits.baseVal===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX?(_e1504=X(100*_e1504,2),_i1410="%"):_e1504=X(_e1504,0),this["#scale-slider"].value=_e1504,this["#scale-input"].value=_e1504,this["#scale-input"].suffix=_i1410;}{var _t2114=this.primitive.getAttribute("xChannelSelector");!1===["R","G","B","A"].includes(_t2114)&&(_t2114="A"),this["#x-channel-buttons"].value=_t2114;}{var _t2115=this.primitive.getAttribute("yChannelSelector");!1===["R","G","B","A"].includes(_t2115)&&(_t2115="A"),this["#y-channel-buttons"].value=_t2115;}}}}]);return Ym;}(Tm);_defineProperty(Ym,"_shadowTemplate",Hi(_templateObject413()));_defineProperty(Ym,"_shadowStyleSheet",Yi(_templateObject414()));customElements.define("bx-displacementmapprimitiveinspector",Ym);var Wm=/*#__PURE__*/function(_Tm12){_inherits(Wm,_Tm12);var _super180=_createSuper(Wm);_createClass(Wm,[{key:"name",get:function get(){return"Gaussian blur";}}]);function Wm(){var _this824;_classCallCheck(this,Wm);_this824=_super180.call(this),_this824.Wk=!1,_this824.qk=!1,_this824["#deviation-x-input"].addEventListener("changestart",function(){return _this824.Xk();}),_this824["#deviation-y-input"].addEventListener("changestart",function(){return _this824.Zk();}),_this824["#deviation-lock-button"].addEventListener("toggle",function(){return _this824.Kk();});return _this824;}_createClass(Wm,[{key:"connectedCallback",value:function connectedCallback(){this.Wk=app.getConfig("".concat(this.localName,":deviationLocked"),!1),_get(_getPrototypeOf(Wm.prototype),"connectedCallback",this).call(this);}},{key:"Xk",value:function Xk(){var _this825=this;var t,_e1505,i=this["#deviation-lock-button"].toggled,s=this["#deviation-x-input"].value/this["#deviation-y-input"].value;this.Js.board.undoManager.checkpoint("Filter standard deviation"),this.qk=!0,this["#deviation-x-input"].addEventListener("change",t=function t(){null===_this825["#deviation-x-input"].value&&(_this825["#deviation-x-input"].value=0),i&&(Number.isFinite(s)&&0!==s?_this825["#deviation-y-input"].value=Z(_this825["#deviation-x-input"].value/s,0,Infinity,2):_this825["#deviation-y-input"].value=_this825["#deviation-x-input"].value);var t=_this825["#deviation-x-input"].value,e=_this825["#deviation-y-input"].value;_this825.primitive.setAttribute("stdDeviation",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#deviation-x-input"].addEventListener("changeend",_e1505=function e(){_this825["#deviation-x-input"].removeEventListener("change",t),_this825["#deviation-x-input"].removeEventListener("changeend",_e1505),_this825.qk=!1;});}},{key:"Zk",value:function Zk(){var _this826=this;var t,_e1506,i=this["#deviation-lock-button"].toggled,s=this["#deviation-x-input"].value/this["#deviation-y-input"].value;this.Js.board.undoManager.checkpoint("Filter standard deviation"),this.qk=!0,this["#deviation-y-input"].addEventListener("change",t=function t(){null===_this826["#deviation-y-input"].value&&(_this826["#deviation-y-input"].value=0),i&&(Number.isFinite(s)&&0!==s?_this826["#deviation-x-input"].value=Z(_this826["#deviation-y-input"].value/s,0,Infinity,2):_this826["#deviation-x-input"].value=_this826["#deviation-y-input"].value);var t=_this826["#deviation-x-input"].value,e=_this826["#deviation-y-input"].value;_this826.primitive.setAttribute("stdDeviation",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#deviation-y-input"].addEventListener("changeend",_e1506=function e(){_this826["#deviation-y-input"].removeEventListener("change",t),_this826["#deviation-y-input"].removeEventListener("changeend",_e1506),_this826.qk=!1;});}},{key:"Kk",value:function Kk(){this.Wk=this["#deviation-lock-button"].toggled,this.Qs.setConfig("".concat(this.localName,":deviationLocked"),this.Wk),this.qs();}},{key:"qs",value:function qs(){this.qk||this.Ny||(_get(_getPrototypeOf(Wm.prototype),"qs",this).call(this),this["#deviation-x-input"].value=X(this.primitive.stdDeviationX.baseVal,2),this["#deviation-y-input"].value=X(this.primitive.stdDeviationY.baseVal,2),this["#deviation-lock-button"].toggled=this.Wk,this["#deviation-lock-icon"].name=this.Wk?"lock-on":"lock-off");}}]);return Wm;}(Tm);_defineProperty(Wm,"_shadowTemplate",Hi(_templateObject415()));_defineProperty(Wm,"_shadowStyleSheet",Yi(_templateObject416()));customElements.define("bx-gaussianblurprimitiveinspector",Wm);var qm=/*#__PURE__*/function(_Tm13){_inherits(qm,_Tm13);var _super181=_createSuper(qm);_createClass(qm,[{key:"name",get:function get(){return"Morphology";}}]);function qm(){var _this827;_classCallCheck(this,qm);_this827=_super181.call(this),_this827.Qk=!1,_this827.Tb=!1,_this827["#operator-buttons"].addEventListener("toggle",function(){return _this827.Vb();}),_this827["#radius-x-input"].addEventListener("changestart",function(){return _this827.Jk();}),_this827["#radius-y-input"].addEventListener("changestart",function(){return _this827.tS();}),_this827["#radius-lock-button"].addEventListener("toggle",function(){return _this827.eS();});return _this827;}_createClass(qm,[{key:"connectedCallback",value:function connectedCallback(){this.Qk=app.getConfig("".concat(this.localName,":radiusLocked"),!1),_get(_getPrototypeOf(qm.prototype),"connectedCallback",this).call(this);}},{key:"Vb",value:function Vb(){this.Js.board.undoManager.checkpoint("Morphology operator"),"erode"===this["#operator-buttons"].value?this.primitive.removeAttribute("operator"):this.primitive.setAttribute("operator",this["#operator-buttons"].value);}},{key:"Jk",value:function Jk(t){var _this828=this;var e,_i1411,s=this["#radius-lock-button"].toggled,n=this["#radius-x-input"].value/this["#radius-y-input"].value;this.Js.board.undoManager.checkpoint("Morphology radius"),this.Tb=!0,this["#radius-x-input"].addEventListener("change",e=function e(){null===_this828["#radius-x-input"].value&&(_this828["#radius-x-input"].value=0),s&&(Number.isFinite(n)&&0!==n?_this828["#radius-y-input"].value=Z(_this828["#radius-x-input"].value/n,0,Infinity,2):_this828["#radius-y-input"].value=_this828["#radius-x-input"].value);var t=_this828["#radius-x-input"].value,e=_this828["#radius-y-input"].value;_this828.primitive.setAttribute("radius",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#radius-x-input"].addEventListener("changeend",_i1411=function i(){_this828["#radius-x-input"].removeEventListener("change",e),_this828["#radius-x-input"].removeEventListener("changeend",_i1411),_this828.Tb=!1;});}},{key:"tS",value:function tS(t){var _this829=this;var e,_i1412,s=this["#radius-lock-button"].toggled,n=this["#radius-x-input"].value/this["#radius-y-input"].value;this.Js.board.undoManager.checkpoint("Morphology radius"),this.Tb=!0,this["#radius-y-input"].addEventListener("change",e=function e(){null===_this829["#radius-y-input"].value&&(_this829["#radius-y-input"].value=0),s&&(Number.isFinite(n)&&0!==n?_this829["#radius-x-input"].value=Z(_this829["#radius-y-input"].value/n,0,Infinity,2):_this829["#radius-x-input"].value=_this829["#radius-y-input"].value);var t=_this829["#radius-x-input"].value,e=_this829["#radius-y-input"].value;_this829.primitive.setAttribute("radius",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#radius-y-input"].addEventListener("changeend",_i1412=function i(){_this829["#radius-y-input"].removeEventListener("change",e),_this829["#radius-y-input"].removeEventListener("changeend",_i1412),_this829.Tb=!1;});}},{key:"eS",value:function eS(){this.Qk=this["#radius-lock-button"].toggled,this.Qs.setConfig("".concat(this.localName,":radiusLocked"),this.Qk),this.qs();}},{key:"qs",value:function qs(){this.Tb||this.Ny||(_get(_getPrototypeOf(qm.prototype),"qs",this).call(this),this.primitive.hasAttribute("operator")?this["#operator-buttons"].value=this.primitive.getAttribute("operator"):this["#operator-buttons"].value="erode",this["#radius-x-input"].value=X(this.primitive.radiusX.baseVal,2),this["#radius-y-input"].value=X(this.primitive.radiusY.baseVal,2),this["#radius-lock-button"].toggled=this.Qk,this["#radius-lock-icon"].name=this.Qk?"lock-on":"lock-off");}}]);return qm;}(Tm);_defineProperty(qm,"_shadowTemplate",Hi(_templateObject417()));_defineProperty(qm,"_shadowStyleSheet",Yi(_templateObject418()));customElements.define("bx-morphologyprimitiveinspector",qm);var Xm=/*#__PURE__*/function(_Tm14){_inherits(Xm,_Tm14);var _super182=_createSuper(Xm);_createClass(Xm,[{key:"name",get:function get(){return"Drop shadow";}}]);function Xm(){var _this830;_classCallCheck(this,Xm);_this830=_super182.call(this),_this830.Wk=!1,_this830.qk=!1,_this830.ab=!1,_this830.cb=!1,_this830.Lx=!1,_this830["#deviation-x-input"].addEventListener("changestart",function(){return _this830.Xk();}),_this830["#deviation-y-input"].addEventListener("changestart",function(){return _this830.Zk();}),_this830["#deviation-lock-button"].addEventListener("toggle",function(){return _this830.Kk();}),_this830["#offset-section"].addEventListener("changestart",function(t){return _this830.pb(t);}),_this830["#color-select"].addEventListener("changestart",function(){return _this830.bb();}),_this830["#opacity-box"].addEventListener("changestart",function(t){return _this830.Bx(t);});return _this830;}_createClass(Xm,[{key:"connectedCallback",value:function connectedCallback(){this.Wk=app.getConfig("".concat(this.localName,":deviationLocked"),!1),_get(_getPrototypeOf(Xm.prototype),"connectedCallback",this).call(this);}},{key:"Xk",value:function Xk(){var _this831=this;var t,_e1507,i=this["#deviation-lock-button"].toggled,s=this["#deviation-x-input"].value/this["#deviation-y-input"].value;this.Js.board.undoManager.checkpoint("Filter standard deviation"),this.qk=!0,this["#deviation-x-input"].addEventListener("change",t=function t(){null===_this831["#deviation-x-input"].value&&(_this831["#deviation-x-input"].value=0),i&&(Number.isFinite(s)&&0!==s?_this831["#deviation-y-input"].value=Z(_this831["#deviation-x-input"].value/s,0,Infinity,2):_this831["#deviation-y-input"].value=_this831["#deviation-x-input"].value);var t=_this831["#deviation-x-input"].value,e=_this831["#deviation-y-input"].value;_this831.primitive.setAttribute("stdDeviation",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#deviation-x-input"].addEventListener("changeend",_e1507=function e(){_this831["#deviation-x-input"].removeEventListener("change",t),_this831["#deviation-x-input"].removeEventListener("changeend",_e1507),_this831.qk=!1;});}},{key:"Zk",value:function Zk(){var _this832=this;var t,_e1508,i=this["#deviation-lock-button"].toggled,s=this["#deviation-x-input"].value/this["#deviation-y-input"].value;this.Js.board.undoManager.checkpoint("Filter standard deviation"),this.qk=!0,this["#deviation-y-input"].addEventListener("change",t=function t(){null===_this832["#deviation-y-input"].value&&(_this832["#deviation-y-input"].value=0),i&&(Number.isFinite(s)&&0!==s?_this832["#deviation-x-input"].value=Z(_this832["#deviation-y-input"].value/s,0,Infinity,2):_this832["#deviation-x-input"].value=_this832["#deviation-y-input"].value);var t=_this832["#deviation-x-input"].value,e=_this832["#deviation-y-input"].value;_this832.primitive.setAttribute("stdDeviation",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#deviation-y-input"].addEventListener("changeend",_e1508=function e(){_this832["#deviation-y-input"].removeEventListener("change",t),_this832["#deviation-y-input"].removeEventListener("changeend",_e1508),_this832.qk=!1;});}},{key:"Kk",value:function Kk(){this.Wk=this["#deviation-lock-button"].toggled,this.Qs.setConfig("".concat(this.localName,":deviationLocked"),this.Wk),this.qs();}},{key:"pb",value:function pb(t){var _this833=this;var e,_i1413,s=t.target;this.Js.board.undoManager.checkpoint("Drop shadow offset"),this.ab=!0,s.addEventListener("change",e=function e(){_this833.primitive.setAttribute(s.dataset.name,s.value);}),s.addEventListener("changeend",_i1413=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1413),_this833.ab=!1;});}},{key:"bb",value:function bb(){var _this834=this;var t,_e1509;this.Js.board.undoManager.checkpoint("Flood color"),this.cb=!0,this["#color-select"].addEventListener("change",t=function t(){_this834.primitive.style.setProperty("flood-color",_this834["#color-select"].value);}),this["#color-select"].addEventListener("changeend",_e1509=function e(){_this834["#color-select"].removeEventListener("change",t),_this834["#color-select"].removeEventListener("changeend",_e1509),ga("flood-color",_this834.primitive),_this834.cb=!1;});}},{key:"Bx",value:function Bx(){var _this835=this;var t,_e1510;this.Js.board.undoManager.checkpoint("Flood opacity"),this.Lx=!0,this["#opacity-section"].addEventListener("change",t=function t(_t2116){_t2116.target===_this835["#opacity-slider"]?_this835["#opacity-input"].value=_this835["#opacity-slider"].value:_t2116.target===_this835["#opacity-input"]&&(_this835["#opacity-slider"].value=_this835["#opacity-input"].value),_this835.primitive.style.setProperty("flood-opacity",_this835["#opacity-slider"].value);}),this["#opacity-section"].addEventListener("changeend",_e1510=function e(){_this835["#opacity-section"].removeEventListener("change",t),_this835["#opacity-section"].removeEventListener("changeend",_e1510),ga("flood-opacity",_this835.primitive),_this835.Lx=!1;});}},{key:"qs",value:function qs(){if(this.qk||this.ab||this.cb||this.Lx||this.Ny)return;_get(_getPrototypeOf(Xm.prototype),"qs",this).call(this);var t=getComputedStyle(this.primitive);this["#deviation-x-input"].value=X(this.primitive.stdDeviationX.baseVal,2),this["#deviation-y-input"].value=X(this.primitive.stdDeviationY.baseVal,2),this["#deviation-lock-button"].toggled=this.Wk,this["#deviation-lock-icon"].name=this.Wk?"lock-on":"lock-off",this["#offset-x-input"].value=X(this.primitive.dx.baseVal,2),this["#offset-y-input"].value=X(this.primitive.dy.baseVal,2),this["#color-select"].value=t.floodColor;{var _e1511=X(parseFloat(t.floodOpacity),2);this["#opacity-slider"].value=_e1511,this["#opacity-input"].value=_e1511;}}}]);return Xm;}(Tm);_defineProperty(Xm,"_shadowTemplate",Hi(_templateObject419()));_defineProperty(Xm,"_shadowStyleSheet",Yi(_templateObject420()));customElements.define("bx-dropshadowprimitiveinspector",Xm);var Zm=/*#__PURE__*/function(_Tm15){_inherits(Zm,_Tm15);var _super183=_createSuper(Zm);_createClass(Zm,[{key:"name",get:function get(){return"Offset";}}]);function Zm(){var _this836;_classCallCheck(this,Zm);_this836=_super183.call(this),_this836.iS=!1,_this836["#delta-section"].addEventListener("changestart",function(t){return _this836.sS(t);});return _this836;}_createClass(Zm,[{key:"sS",value:function sS(t){var _this837=this;var e,_i1414,s=t.target;this.Js.board.undoManager.checkpoint("Filter offset"),this.iS=!0,s.addEventListener("change",e=function e(){_this837.primitive.setAttribute(s.dataset.name,s.value);}),s.addEventListener("changeend",_i1414=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1414),_this837.iS=!1;});}},{key:"qs",value:function qs(){this.iS||this.Ny||(_get(_getPrototypeOf(Zm.prototype),"qs",this).call(this),this["#x-input"].value=X(this.primitive.dx.baseVal,2),this["#y-input"].value=X(this.primitive.dy.baseVal,2));}}]);return Zm;}(Tm);_defineProperty(Zm,"_shadowTemplate",Hi(_templateObject421()));_defineProperty(Zm,"_shadowStyleSheet",Yi(_templateObject422()));customElements.define("bx-offsetprimitiveinspector",Zm);var Km=/*#__PURE__*/function(_Tm16){_inherits(Km,_Tm16);var _super184=_createSuper(Km);_createClass(Km,[{key:"name",get:function get(){return"Lighting";}}]);function Km(t){var _this838;_classCallCheck(this,Km);_this838=_super184.call(this),_this838.nS=!1,_this838.cb=!1,_this838.fb=!1,_this838.oS=!1,_this838.lS=!1,_this838.hS=!1,_this838.aS=!1,_this838.rS=!1,_this838["#surface-scale-box"].addEventListener("changestart",function(){return _this838.dS();}),_this838["#color-select"].addEventListener("changestart",function(){return _this838.bb();}),_this838["#source-type-buttons"].addEventListener("toggle",function(){return _this838.cS();}),_this838["#source-position-subsection"].addEventListener("changestart",function(t){return _this838.Sb(t);}),_this838["#source-target-subsection"].addEventListener("changestart",function(t){return _this838.pS(t);}),_this838["#source-cone-box"].addEventListener("changestart",function(){return _this838.uS();}),_this838["#source-exponent-box"].addEventListener("changestart",function(){return _this838.xS();}),_this838["#source-azimuth-box"].addEventListener("changestart",function(){return _this838.bS();}),_this838["#source-elevation-box"].addEventListener("changestart",function(){return _this838.mS();});return _this838;}_createClass(Km,[{key:"dS",value:function dS(){var _this839=this;var t,_e1512;this.Js.board.undoManager.checkpoint("Specular lighting surface scale"),this.nS=!0,this["#surface-scale-section"].addEventListener("change",t=function t(_t2117){_t2117.target===_this839["#surface-scale-slider"]?_this839["#surface-scale-input"].value=_this839["#surface-scale-slider"].value:_t2117.target===_this839["#surface-scale-input"]&&(_this839["#surface-scale-slider"].value=_this839["#surface-scale-input"].value),_this839.primitive.setAttribute("surfaceScale",_this839["#surface-scale-input"].value);}),this["#surface-scale-section"].addEventListener("changeend",_e1512=function e(){_this839["#surface-scale-section"].removeEventListener("change",t),_this839["#surface-scale-section"].removeEventListener("changeend",_e1512),_this839.nS=!1;});}},{key:"bb",value:function bb(){var _this840=this;var t,_e1513;this.Js.board.undoManager.checkpoint("Flood color"),this.cb=!0,this["#color-select"].addEventListener("change",t=function t(){_this840.primitive.style.setProperty("lighting-color",_this840["#color-select"].value);}),this["#color-select"].addEventListener("changeend",_e1513=function e(){_this840["#color-select"].removeEventListener("change",t),_this840["#color-select"].removeEventListener("changeend",_e1513),ga("lighting-color",_this840.primitive),_this840.cb=!1;});}},{key:"cS",value:function cS(){var t=this.gS(),e=Di("svg:"+this["#source-type-buttons"].value);this.Js.board.undoManager.checkpoint("Light source type"),t?t.replaceWith(e):this.primitive.append(e);}},{key:"Sb",value:function Sb(t){var _this841=this;var e,_i1415,s=t.target,n=this.gS();this.Js.board.undoManager.checkpoint("Light source position"),this.fb=!0,s.addEventListener("change",e=function e(){n.setAttribute(s.dataset.name,s.value);}),s.addEventListener("changeend",_i1415=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1415),_this841.fb=!1;});}},{key:"pS",value:function pS(t){var _this842=this;var e,_i1416,s=t.target,n=this.gS();this.Js.board.undoManager.checkpoint("Light target position"),this.oS=!0,s.addEventListener("change",e=function e(){n.setAttribute(s.dataset.name,s.value);}),s.addEventListener("changeend",_i1416=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1416),_this842.oS=!1;});}},{key:"uS",value:function uS(){var _this843=this;var t,_e1514,i=this.gS();this.Js.board.undoManager.checkpoint("Light limiting cone angle"),this.lS=!0,this["#source-cone-box"].addEventListener("change",t=function t(_t2118){_t2118.target===_this843["#source-cone-slider"]?_this843["#source-cone-input"].value=_this843["#source-cone-slider"].value:_t2118.target===_this843["#source-cone-input"]&&(_this843["#source-cone-slider"].value=_this843["#source-cone-input"].value),i.setAttribute("limitingConeAngle",_this843["#source-cone-input"].value);}),this["#source-cone-box"].addEventListener("changeend",_e1514=function e(){_this843["#source-cone-box"].removeEventListener("change",t),_this843["#source-cone-box"].removeEventListener("changeend",_e1514),_this843.lS=!1;});}},{key:"xS",value:function xS(){var _this844=this;var t,_e1515,i=this.gS();this.Js.board.undoManager.checkpoint("Spot light exponent"),this.hS=!0,this["#source-exponent-box"].addEventListener("change",t=function t(_t2119){_t2119.target===_this844["#source-exponent-slider"]?_this844["#source-exponent-input"].value=_this844["#source-exponent-slider"].value:_t2119.target===_this844["#source-exponent-input"]&&(_this844["#source-exponent-slider"].value=_this844["#source-exponent-input"].value),i.setAttribute("specularExponent",_this844["#source-exponent-input"].value);}),this["#source-exponent-box"].addEventListener("changeend",_e1515=function e(){_this844["#source-exponent-box"].removeEventListener("change",t),_this844["#source-exponent-box"].removeEventListener("changeend",_e1515),_this844.hS=!1;});}},{key:"bS",value:function bS(){var _this845=this;var t,_e1516,i=this.gS();this.Js.board.undoManager.checkpoint("Light azimuth"),this.aS=!0,this["#source-azimuth-box"].addEventListener("change",t=function t(_t2120){_t2120.target===_this845["#source-azimuth-slider"]?_this845["#source-azimuth-input"].value=_this845["#source-azimuth-slider"].value:_t2120.target===_this845["#source-azimuth-input"]&&(_this845["#source-azimuth-slider"].value=_this845["#source-azimuth-input"].value),i.setAttribute("azimuth",_this845["#source-azimuth-input"].value);}),this["#source-azimuth-box"].addEventListener("changeend",_e1516=function e(){_this845["#source-azimuth-box"].removeEventListener("change",t),_this845["#source-azimuth-box"].removeEventListener("changeend",_e1516),_this845.aS=!1;});}},{key:"mS",value:function mS(){var _this846=this;var t,_e1517,i=this.gS();this.Js.board.undoManager.checkpoint("Light elevation"),this.rS=!0,this["#source-elevation-box"].addEventListener("change",t=function t(_t2121){_t2121.target===_this846["#source-elevation-slider"]?_this846["#source-elevation-input"].value=_this846["#source-elevation-slider"].value:_t2121.target===_this846["#source-elevation-input"]&&(_this846["#source-elevation-slider"].value=_this846["#source-elevation-input"].value),i.setAttribute("elevation",_this846["#source-elevation-input"].value);}),this["#source-elevation-box"].addEventListener("changeend",_e1517=function e(){_this846["#source-elevation-box"].removeEventListener("change",t),_this846["#source-elevation-box"].removeEventListener("changeend",_e1517),_this846.rS=!1;});}},{key:"gS",value:function gS(){return this.primitive.querySelector(":scope > fePointLight, :scope > feSpotLight, :scope > feDistantLight");}},{key:"qs",value:function qs(){if(this.nS||this.cb||this.fb||this.oS||this.lS||this.hS||this.aS||this.rS||this.Ny)return;_get(_getPrototypeOf(Km.prototype),"qs",this).call(this);var t=this.gS();{var _t2122=X(this.primitive.surfaceScale.baseVal,2);this["#surface-scale-slider"].value=_t2122,this["#surface-scale-input"].value=_t2122;}this["#color-select"].value=getComputedStyle(this.primitive).lightingColor,this["#source-type-buttons"].value=t?t.localName:null,t&&"feDistantLight"!==t.localName?(this["#source-position-subsection"].hidden=!1,this["#source-position-x-input"].value=X(t.x.baseVal,2),this["#source-position-y-input"].value=X(t.y.baseVal,2),this["#source-position-z-input"].value=X(t.z.baseVal,2)):this["#source-position-subsection"].hidden=!0,t&&"feSpotLight"===t.localName?(this["#source-target-subsection"].hidden=!1,this["#source-target-x-input"].value=X(t.pointsAtX.baseVal,2),this["#source-target-y-input"].value=X(t.pointsAtY.baseVal,2),this["#source-target-z-input"].value=X(t.pointsAtZ.baseVal,2)):this["#source-target-subsection"].hidden=!0,t&&"feSpotLight"===t.localName?(this["#source-cone-subsection"].hidden=!1,this["#source-cone-slider"].value=X(t.limitingConeAngle.baseVal,2),this["#source-cone-input"].value=X(t.limitingConeAngle.baseVal,2)):this["#source-cone-subsection"].hidden=!0,t&&"feSpotLight"===t.localName?(this["#source-exponent-subsection"].hidden=!1,this["#source-exponent-slider"].value=X(t.specularExponent.baseVal,2),this["#source-exponent-input"].value=X(t.specularExponent.baseVal,2)):this["#source-exponent-subsection"].hidden=!0,t&&"feDistantLight"===t.localName?(this["#source-azimuth-subsection"].hidden=!1,this["#source-azimuth-slider"].value=X(t.azimuth.baseVal,2),this["#source-azimuth-input"].value=X(t.azimuth.baseVal,2)):this["#source-azimuth-subsection"].hidden=!0,t&&"feDistantLight"===t.localName?(this["#source-elevation-subsection"].hidden=!1,this["#source-elevation-slider"].value=X(t.elevation.baseVal,2),this["#source-elevation-input"].value=X(t.elevation.baseVal,2)):this["#source-elevation-subsection"].hidden=!0;}}]);return Km;}(Tm);_defineProperty(Km,"_shadowTemplate",Hi(_templateObject423()));_defineProperty(Km,"_shadowStyleSheet",Yi(_templateObject424()));customElements.define("bx-lightingprimitiveinspector",Km);var Qm=/*#__PURE__*/function(_Km){_inherits(Qm,_Km);var _super185=_createSuper(Qm);_createClass(Qm,[{key:"name",get:function get(){return"Specular lighting";}}]);function Qm(){var _this847;_classCallCheck(this,Qm);_this847=_super185.call(this),_this847.fS=!1,_this847.wS=!1,_this847["#constant-box"].addEventListener("changestart",function(){return _this847.vS();}),_this847["#exponent-box"].addEventListener("changestart",function(){return _this847.yS();});return _this847;}_createClass(Qm,[{key:"vS",value:function vS(){var _this848=this;var t,_e1518;this.Js.board.undoManager.checkpoint("Specular lighting constant"),this.fS=!0,this["#constant-section"].addEventListener("change",t=function t(_t2123){_t2123.target===_this848["#constant-slider"]?_this848["#constant-input"].value=_this848["#constant-slider"].value:_t2123.target===_this848["#constant-input"]&&(_this848["#constant-slider"].value=_this848["#constant-input"].value),_this848.primitive.setAttribute("specularConstant",_this848["#constant-input"].value);}),this["#constant-section"].addEventListener("changeend",_e1518=function e(){_this848["#constant-section"].removeEventListener("change",t),_this848["#constant-section"].removeEventListener("changeend",_e1518),_this848.fS=!1;});}},{key:"yS",value:function yS(){var _this849=this;var t,_e1519;this.Js.board.undoManager.checkpoint("Specular lighting exponent"),this.wS=!0,this["#exponent-section"].addEventListener("change",t=function t(_t2124){_t2124.target===_this849["#exponent-slider"]?_this849["#exponent-input"].value=_this849["#exponent-slider"].value:_t2124.target===_this849["#exponent-input"]&&(_this849["#exponent-slider"].value=_this849["#exponent-input"].value),_this849.primitive.setAttribute("specularExponent",_this849["#exponent-input"].value);}),this["#exponent-section"].addEventListener("changeend",_e1519=function e(){_this849["#exponent-section"].removeEventListener("change",t),_this849["#exponent-section"].removeEventListener("changeend",_e1519),_this849.wS=!1;});}},{key:"qs",value:function qs(){if(!(this.fS||this.wS||this.Ny)){_get(_getPrototypeOf(Qm.prototype),"qs",this).call(this);{var _t2125=X(this.primitive.specularConstant.baseVal,2);this["#constant-slider"].value=_t2125,this["#constant-input"].value=_t2125;}{var _t2126=X(this.primitive.specularExponent.baseVal,2);this["#exponent-slider"].value=_t2126,this["#exponent-input"].value=_t2126;}}}}]);return Qm;}(Km);_defineProperty(Qm,"_shadowTemplate",Hi(_templateObject425()));_defineProperty(Qm,"_shadowStyleSheet",Yi(_templateObject426()));customElements.define("bx-specularlightingprimitiveinspector",Qm);var Jm=/*#__PURE__*/function(_Km2){_inherits(Jm,_Km2);var _super186=_createSuper(Jm);_createClass(Jm,[{key:"name",get:function get(){return"Diffuse lighting";}}]);function Jm(){var _this850;_classCallCheck(this,Jm);_this850=_super186.call(this),_this850.fS=!1,_this850["#constant-box"].addEventListener("changestart",function(){return _this850.vS();});return _this850;}_createClass(Jm,[{key:"vS",value:function vS(){var _this851=this;var t,_e1520;this.primitive.closest("filter");this.Js.board.undoManager.checkpoint("Diffuse lighting constant"),this.fS=!0,this["#constant-section"].addEventListener("change",t=function t(_t2127){_t2127.target===_this851["#constant-slider"]?_this851["#constant-input"].value=_this851["#constant-slider"].value:_t2127.target===_this851["#constant-input"]&&(_this851["#constant-slider"].value=_this851["#constant-input"].value),_this851.primitive.setAttribute("diffuseConstant",_this851["#constant-input"].value);}),this["#constant-section"].addEventListener("changeend",_e1520=function e(){_this851["#constant-section"].removeEventListener("change",t),_this851["#constant-section"].removeEventListener("changeend",_e1520),_this851.fS=!1;});}},{key:"qs",value:function qs(){if(!this.fS&&!this.Ny){_get(_getPrototypeOf(Jm.prototype),"qs",this).call(this);{var _t2128=X(this.primitive.diffuseConstant.baseVal,2);this["#constant-slider"].value=_t2128,this["#constant-input"].value=_t2128;}}}}]);return Jm;}(Km);_defineProperty(Jm,"_shadowTemplate",Hi(_templateObject427()));_defineProperty(Jm,"_shadowStyleSheet",Yi(_templateObject428()));customElements.define("bx-diffuselightingprimitiveinspector",Jm);var tg=.1,eg=6e3,ig=450,sg=1.8,ng=20;var og=/*#__PURE__*/function(_HTMLElement117){_inherits(og,_HTMLElement117);var _super187=_createSuper(og);_createClass(og,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"filter",get:function get(){return this.My;},set:function set(t){this.My=t,this.enabled&&this.qs();}}]);function og(){var _this852;_classCallCheck(this,og);_this852=_super187.call(this),_this852.tabIndex=1,_this852.My=null,_this852.kS={node:null,edge:null},_this852.SS=qi(_this852.qs,400,_assertThisInitialized(_this852)),_this852._shadowRoot=_this852.attachShadow({mode:"closed"}),_this852._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,og._shadowStyleSheet],_this852._shadowRoot.append(document.importNode(og._shadowTemplate.content,!0));var _iterator1420=_createForOfIteratorHelper(_this852._shadowRoot.querySelectorAll("[id]")),_step1420;try{for(_iterator1420.s();!(_step1420=_iterator1420.n()).done;){var _t2129=_step1420.value;_this852["#"+_t2129.id]=_t2129;}}catch(err){_iterator1420.e(err);}finally{_iterator1420.f();}_this852.addEventListener("keydown",function(t){return _this852.vn(t);}),_this852["#canvas"].addEventListener("wheel",function(t){return _this852._S(t);}),_this852["#canvas"].addEventListener("pointerdown",function(t){return _this852.CS(t);}),_this852["#canvas"].addEventListener("contextmenu",function(t){return _this852.MS(t);}),_this852["#zoom-button"].addEventListener("click",function(){return _this852.PS();}),_this852["#add-primitive-menu"].addEventListener("click",function(t){return _this852.DS(t);}),_this852["#add-primitive-menu"].addEventListener("open",function(t){return _this852.zS(t);}),_this852["#sidebar-resize-grippie"].addEventListener("pointerdown",function(t){return _this852.OS(t);});return _this852;}_createClass(og,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this853=this;var t=this.Js.board;t.addEventListener("currentworkspacechange",this.Cx=function(){_this853.SS();}),t.addEventListener("workspacemutation",this.rn=function(t){_this853.SS();}),this["#sidebar"].style.width=this.Qs.getConfig("bx-filterinspector:sidebarWidth",180)+"px",this.qs(),this.ES();}},{key:"sn",value:function sn(){var t=this.Js.board;t.removeEventListener("currentworkspacechange",this.Cx),t.removeEventListener("workspacemutation",this.rn),this["#graph-nodes"].innerHTML="",this["#graph-edges"].innerHTML="",this["#sidebar-content"].innerHTML="";}},{key:"vn",value:function vn(t){var e=to.fromEvent(t);(e.matches("Backspace")||e.matches("Delete"))&&this.matches(":focus")&&(t.stopPropagation(),this.TS());}},{key:"AS",value:function AS(){this.$S();}},{key:"_S",value:function _S(t){t.preventDefault();var e=Z(t.wheelDeltaX,-ng,ng,1),i=Z(t.wheelDeltaY,-ng,ng,1);if(!t.metaKey&&!t.ctrlKey||t.altKey||t.shiftKey){var _t2130=e/sg,_s826=i/sg;this.IS(_t2130,_s826);}else this.LS(i/ig,t.clientX,t.clientY);}},{key:"CS",value:function CS(t){t.target.closest(".node")?this.BS(t):t.target.closest(".edge")?this.RS(t):this.GS(t);}},{key:"BS",value:function BS(t){var _this854=this;{var _e1521=t.target.closest(".node"),_i1417=[];var _iterator1421=_createForOfIteratorHelper(this["#graph-edges"].children),_step1421;try{for(_iterator1421.s();!(_step1421=_iterator1421.n()).done;){var _t2131=_step1421.value;_t2131.dataset.to===_e1521.dataset.name&&_i1417.push({from:_t2131.dataset.from,to:_t2131.dataset.to,slot:parseInt(_t2131.dataset.slot)});}}catch(err){_iterator1421.e(err);}finally{_iterator1421.f();}this.setSelection(_e1521.dataset.name,null),this.dispatchEvent(new CustomEvent("selectionchange"));}{var _e1523,_i1419,_s827=t.target.closest(".node"),_n602=new DOMPoint(t.clientX,t.clientY),_o483=_n602;window.addEventListener("pointermove",_e1523=function _e1522(l){var h=new DOMPoint(l.clientX,l.clientY),a=l.timeStamp-t.timeStamp;!0!==_e(_o483,h,0)&&(_o483=h,Pe(_n602,h)<3&&a<80||(window.removeEventListener("pointermove",_e1523),window.removeEventListener("pointerup",_i1419),_this854.FS(t,_s827)));}),window.addEventListener("pointerup",_i1419=function _i1418(){window.removeEventListener("pointermove",_e1523),window.removeEventListener("pointerup",_i1419);});}}},{key:"FS",value:function FS(t,e){var _this855=this;var i,s,n=Vt(this["#graph-group"]).inverse(),o=Fe(e.getBoundingClientRect(),n),l=new DOMPoint(t.clientX,t.clientY);l=l.matrixTransform(n);var h=Wi(_templateObject60());this["#graph-nodes"].append(h),this["#graph-nodes"].append(e);var a=new DOMPoint(o.x+o.width/2,o.y+o.height/2),r=null;var _iterator1422=_createForOfIteratorHelper(this["#graph-edges"].children),_step1422;try{for(_iterator1422.s();!(_step1422=_iterator1422.n()).done;){var _t2140=_step1422.value;_t2140.setAttribute("data-disabled","");}}catch(err){_iterator1422.e(err);}finally{_iterator1422.f();}var _iterator1423=_createForOfIteratorHelper(this["#graph-nodes"].children),_step1423;try{for(_iterator1423.s();!(_step1423=_iterator1423.n()).done;){var _t2141=_step1423.value;_t2141!==e&&_t2141!==h&&!1===this.US.canConnectNodes(e.dataset.name,_t2141.dataset.name)&&_t2141.setAttribute("data-disabled","");}}catch(err){_iterator1423.e(err);}finally{_iterator1423.f();}window.addEventListener("pointermove",i=function i(t){var i=new DOMPoint(t.clientX,t.clientY);i=i.matrixTransform(n);var s=_this855._shadowRoot.elementFromPoint(t.clientX,t.clientY),o=r,l=null;if(r=s?s.closest(".node"):null,r&&!1===r.hasAttribute("data-disabled")){var _t2132=r.getBoundingClientRect();_t2132=Fe(_t2132,n),l=function(t,e){var i=t.x+t.width,s=t.y+t.height,n=Math.max(t.x,Math.min(i,e.x)),o=Math.max(t.y,Math.min(s,e.y)),l=Math.abs(n-t.x),h=Math.abs(n-i),a=Math.abs(o-t.y),r=Math.abs(o-s),d=Math.min(l,h,a,r);return d===a?new DOMPoint(n,t.y):d===r?new DOMPoint(n,s):d===l?new DOMPoint(t.x,o):new DOMPoint(i,o);}(_t2132,a),r!==o&&(o&&o.removeAttribute("data-highlighted"),r!==e&&r.setAttribute("data-highlighted",""));}else l=new DOMPoint(i.x,i.y),o&&o.removeAttribute("data-highlighted");h.setAttribute("d","M ".concat(a.x," ").concat(a.y," L ").concat(l.x," ").concat(l.y));}),window.addEventListener("pointerup",s=function(_s829){function s(){return _s829.apply(this,arguments);}s.toString=function(){return _s829.toString();};return s;}(function(){window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",s),h.removeAttribute("d");var _iterator1424=_createForOfIteratorHelper(_this855["#graph-edges"].children),_step1424;try{for(_iterator1424.s();!(_step1424=_iterator1424.n()).done;){var _t2138=_step1424.value;_t2138.removeAttribute("data-disabled");}}catch(err){_iterator1424.e(err);}finally{_iterator1424.f();}var _iterator1425=_createForOfIteratorHelper(_this855["#graph-nodes"].children),_step1425;try{for(_iterator1425.s();!(_step1425=_iterator1425.n()).done;){var _t2139=_step1425.value;_t2139.removeAttribute("data-disabled"),_t2139.removeAttribute("data-highlighted");}}catch(err){_iterator1425.e(err);}finally{_iterator1425.f();}if(r){var _t2133=_this855.US.connectNodes(e.dataset.name,r.dataset.name);if(-1!==_t2133){var _i1420=_this855.US.getOrderedNodes(),_s828=_i1420.find(function(t){return t.name===e.dataset.name;}),_n603=_i1420.find(function(t){return t.name===r.dataset.name;}),_o484=_toConsumableArray(_this855.filter.children).filter(function(t){return P.includes(t.localName);});if(_this855.Js.board.undoManager.checkpoint("Connect filter primitives"),"SourceGraphic"===_s828.type||"SourceAlpha"===_s828.type){var _t2134=_this855.filter.hasAttribute("data-bx-details")?_this855.filter.getAttribute("data-bx-details").split(" "):[];_t2134.includes(_s828.type)&&(_t2134=_t2134.filter(function(t){return t!==_s828.type;}),0===_t2134.length?_this855.filter.removeAttribute("data-bx-details"):_this855.filter.setAttribute("data-bx-details",_t2134.join(" ")));}{var _e1524=_o484.find(function(t){return t.result.baseVal===_n603.name;});if("feMerge"===_n603.type){_toConsumableArray(_e1524.children).filter(function(t){return"feMergeNode"===t.localName;});var _t2135=Di("svg:feMergeNode");_t2135.setAttribute("in",_s828.name),_e1524.append(_t2135);}else _e1524.setAttribute(1===_t2133?"in":"in2",_s828.name);}{var _t2136=[];var _iterator1426=_createForOfIteratorHelper(_i1420),_step1426;try{var _loop31=function _loop31(){var e=_step1426.value;if("SourceGraphic"!==e.type&&"SourceAlpha"!==e.type){var _i1422=_o484.find(function(t){return t.result.baseVal===e.name;});_t2136.push(_i1422);}};for(_iterator1426.s();!(_step1426=_iterator1426.n()).done;){_loop31();}}catch(err){_iterator1426.e(err);}finally{_iterator1426.f();}for(var _i1421=0,_t2137=_t2136;_i1421<_t2137.length;_i1421++){var _e1525=_t2137[_i1421];_this855.filter.append(_e1525);}}_this855.setSelection(null,{from:_s828.name,to:_n603.name,slot:_t2133});}}}));}},{key:"RS",value:function RS(t){var e=t.target.closest(".edge");{var _t2142={from:e.dataset.from,to:e.dataset.to,slot:parseInt(e.dataset.slot)};this.setSelection(null,_t2142),this.dispatchEvent(new CustomEvent("selectionchange"));}}},{key:"GS",value:function GS(){this.setSelection(null,null),this.dispatchEvent(new CustomEvent("selectionchange"));}},{key:"MS",value:function(){var _MS=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee136(t){var _e1526;return regeneratorRuntime.wrap(function _callee136$(_context137){while(1){switch(_context137.prev=_context137.next){case 0:if(!t.target.closest(".node")){_context137.next=8;break;}t.preventDefault();_context137.next=4;return this.Qs.openContextMenu([{value:"duplicate-primitive",label:"Duplicate Primitive",disabled:!1===this.NS()},{value:"delete-primitive",label:"Delete Primitive",disabled:!1},{type:"separator"},{value:"terminal-primitive",label:"Set as Terminal Primitive",disabled:!1===this.VS()}]);case 4:_e1526=_context137.sent;"duplicate-primitive"===_e1526?this.jS():"delete-primitive"===_e1526?this.TS():"terminal-primitive"===_e1526&&this.HS();_context137.next=16;break;case 8:if(!t.target.closest(".edge")){_context137.next=16;break;}t.preventDefault();_context137.next=12;return this.Qs.openContextMenu([{value:"delete-edge",label:"Delete Connector",disabled:!1}]);case 12:_context137.t0=_context137.sent;_context137.t1="delete-edge"===_context137.t0;if(!_context137.t1){_context137.next=16;break;}this.TS();case 16:case"end":return _context137.stop();}}},_callee136,this);}));function MS(_x160){return _MS.apply(this,arguments);}return MS;}()},{key:"PS",value:function PS(){this.ES();}},{key:"DS",value:function(){var _DS=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee137(t){var e,i,_t2143,_t2144,_e1527,_s830,_n604,_t2145;return regeneratorRuntime.wrap(function _callee137$(_context138){while(1){switch(_context138.prev=_context138.next){case 0:e=t.target.closest("x-menuitem"),i=e?e.value:null;if(!i){_context138.next=29;break;}if(!(this.Js.board.undoManager.checkpoint("Add filter primitive"),"SourceGraphic"===i||"SourceAlpha"===i)){_context138.next=7;break;}_t2143=this.filter.hasAttribute("data-bx-details")?this.filter.getAttribute("data-bx-details").split(" "):[];!1===_t2143.includes(i)&&(_t2143.push(i),this.filter.setAttribute("data-bx-details",_t2143.join(" ")),this.YS(),this.ES(),this.setSelection(i,null));_context138.next=29;break;case 7:_e1527=Di("svg:"+i),_s830=oi(i).substring(3),_n604=this.WS(_s830);if(!(_t2144="objectBoundingBox"===this.filter.getAttribute("primitiveUnits")?"objectBoundingBox":"userSpaceOnUse",_e1527.setAttribute("result",_n604),"feBlend"===i)){_context138.next=12;break;}_e1527.setAttribute("in","none"),_e1527.setAttribute("in2","none");_context138.next=28;break;case 12:if(!("feComposite"===i)){_context138.next=16;break;}_e1527.setAttribute("in","none"),_e1527.setAttribute("in2","none");_context138.next=28;break;case 16:if(!("feFlood"===i)){_context138.next=20;break;}_e1527.style.floodColor="#d8d8d8";_context138.next=28;break;case 20:if(!("feImage"===i)){_context138.next=27;break;}_context138.next=23;return Ha("images/cornell-box.jpg");case 23:_t2145=_context138.sent;_e1527.setAttribute("href",_t2145);_context138.next=28;break;case 27:"feTile"===i?_e1527.setAttribute("in","none"):"feTurbulence"===i?_e1527.setAttribute("baseFrequency","0.2"):"feColorMatrix"===i?(_e1527.setAttribute("in","none"),_e1527.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 1 0")):"feComponentTransfer"===i||"feConvolveMatrix"===i?_e1527.setAttribute("in","none"):"feDisplacementMap"===i?(_e1527.setAttribute("in","none"),_e1527.setAttribute("in2","none")):"feGaussianBlur"===i?(_e1527.setAttribute("in","none"),_e1527.setAttribute("stdDeviation","userSpaceOnUse"===_t2144?"4":"0.04")):"feMorphology"===i?(_e1527.setAttribute("in","none"),_e1527.setAttribute("radius","userSpaceOnUse"===_t2144?"4":"0.04")):"feDropShadow"===i||"feOffset"===i?_e1527.setAttribute("in","none"):"feSpecularLighting"===i?(_e1527.setAttribute("in","none"),_e1527.setAttribute("lighting-color","#ffffff"),_e1527.setAttribute("specularConstant","1"),_e1527.setAttribute("specularExponent","70"),_e1527.innerHTML='<fePointLight x="0.5" y="0.5" z="0.5"></fePointLight>'):"feDiffuseLighting"===i&&_e1527.setAttribute("in","none");case 28:this.filter.prepend(_e1527),this.YS(),this.ES(),this.setSelection(_n604,null);case 29:case"end":return _context138.stop();}}},_callee137,this);}));function DS(_x161){return _DS.apply(this,arguments);}return DS;}()},{key:"zS",value:function zS(){var t=this.US.getNodes(),e=t.find(function(t){return"SourceGraphic"===t.type;}),i=t.find(function(t){return"SourceAlpha"===t.type;});this["#source-graphic-menu-item"].disabled=void 0!==e,this["#source-alpha-menu-item"].disabled=void 0!==i;}},{key:"OS",value:function OS(t){var _this856=this;if(1!==t.buttons)return;this["#sidebar-resize-grippie"].setPointerCapture(t.pointerId);var e,_i1423,s=this["#sidebar"].clientWidth,n=s,o=parseInt(getComputedStyle(this["#sidebar"]).minWidth),l=parseInt(getComputedStyle(this["#sidebar"]).maxWidth);t.preventDefault(),this["#sidebar-resize-grippie"].addEventListener("pointermove",e=function e(_e1528){n=s-(_e1528.clientX-t.clientX),n<o?n=o:n>l&&(n=l),n=Math.ceil(n),_this856["#sidebar"].style.width=n+"px";}),this["#sidebar-resize-grippie"].addEventListener("lostpointercapture",_i1423=function i(){_this856["#sidebar-resize-grippie"].removeEventListener("pointermove",e),_this856["#sidebar-resize-grippie"].removeEventListener("lostpointercapture",_i1423),_this856.Qs.setConfig("bx-filterinspector:sidebarWidth",n);});}},{key:"IS",value:function IS(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=DOMRect.fromRect(this["#main"].getBoundingClientRect()),s=this["#graph-backdrop"].getBBox();s=Fe(s,Vt(this["#graph-group"])),s=Ge(s,0);var n=DOMRect.fromRect(s);n.x+=t,n.y+=e,n=Ge(n,0),Ve(i,s)?(n.width<i.width&&(n.x<i.x?n.x=i.x:n.x+n.width>i.x+i.width&&(n.x=i.x+i.width-n.width)),n.height<i.height&&(n.y<i.y?n.y=i.y:n.y+n.height>i.y+i.height&&(n.y=i.y+i.height-n.height))):!1===je(i,s)&&(n.x+n.width<i.x?n.x=i.x-n.width:n.x>i.x+i.width&&(n.x=i.x+i.width),n.y+n.height<i.y?n.y=i.y-n.height:n.y>i.y+i.height&&(n.y=i.y+i.height));var o=n.x-s.x,l=n.y-s.y,h=new DOMMatrix();h.translateSelf(o,l),h.multiplySelf(Ut(this["#graph-group"])),this["#graph-group"].setAttribute("transform",h);}},{key:"LS",value:function LS(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:.3;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var s=Ut(this["#graph-group"]),n=Vt(this["#canvas"]).inverse(),o=new DOMPoint(e,i).matrixTransform(n);if(s.a>0){100*(s.a+t*s.a)<tg?t=(tg-100*s.a)/(100*s.a):100*(s.a+t*s.a)>eg&&(t=(eg-100*s.a)/(100*s.a));var _e1529=new DOMMatrix();_e1529.scaleSelf(1+t,1+t,1,o.x,o.y),_e1529.multiplySelf(s),this["#graph-group"].setAttribute("transform",_e1529);}}},{key:"qS",value:function qS(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;var i=DOMRect.fromRect(this["#main"].getBoundingClientRect());if(i=Fe(i,Vt(this["#canvas"]).inverse()),i.x+=e,i.y+=e,i.width-=2*e,i.height-=2*e,t.width>0&&t.height>0){var _e1530=i.width/t.width,_s831=i.height/t.height;_e1530>_s831?_e1530=_s831:_s831>_e1530&&(_s831=_e1530),(_e1530>1||_s831>1)&&(_e1530=1,_s831=1);var _n605=i.x-t.x*_e1530+(i.width-t.width*_e1530)/2,_o485=i.y-t.y*_s831+(i.height-t.height*_s831)/2,_l365=new DOMMatrix();_l365.translateSelf(_n605,_o485),_l365.scaleSelf(_e1530,_s831),this["#graph-group"].setAttribute("transform",_l365);}}},{key:"ES",value:function ES(){this.qS(this["#graph-backdrop"].getBBox());}},{key:"getSelection",value:function getSelection(){var t=_toConsumableArray(this.filter.children).filter(function(t){return P.includes(t.localName);}),e=this.kS.node,i=this.kS.edge;if("SourceGraphic"!==e&&"SourceAlpha"!==e){var _i1424=!1;var _iterator1427=_createForOfIteratorHelper(t),_step1427;try{for(_iterator1427.s();!(_step1427=_iterator1427.n()).done;){var _s832=_step1427.value;if(_s832.result.baseVal===e){_i1424=!0;break;}}}catch(err){_iterator1427.e(err);}finally{_iterator1427.f();}!1===_i1424&&(e=null);}if(i){var _e1531=t.find(function(t){return t.result.baseVal===i.from;}),_s833=t.find(function(t){return t.result.baseVal===i.to;});if(_s833){if("SourceGraphic"===i.from||"SourceAlpha"===i.from){if("feMerge"===_s833.localName){var _t2146=_toConsumableArray(_s833.children).filter(function(t){return"feMergeNode"===t.localName;});void 0!==_t2146[i.slot-1]&&_t2146[i.slot-1].in1.baseVal===i.from||(i=null);}else _s833["in"+i.slot]&&_s833["in"+i.slot].baseVal===i.from||(i=null);}else if(_e1531){if("feMerge"===_s833.localName){var _t2147=_toConsumableArray(_s833.children).filter(function(t){return"feMergeNode"===t.localName;});void 0!==_t2147[i.slot-1]&&_t2147[i.slot-1].in1.baseVal===_e1531.result.baseVal||(i=null);}else _s833["in"+i.slot]&&_s833["in"+i.slot].baseVal===_e1531.result.baseVal||(i=null);}else i=null;}else i=null;}return[e,i];}},{key:"setSelection",value:function setSelection(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.kS={node:t,edge:e},this.qs();}},{key:"XS",value:function XS(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"SourceGraphic";var e=_toConsumableArray(this.filter.children).filter(function(t){return P.includes(t.localName);});var _iterator1428=_createForOfIteratorHelper(e),_step1428;try{for(_iterator1428.s();!(_step1428=_iterator1428.n()).done;){var _i1425=_step1428.value;if("feMerge"===_i1425.localName){var _e1532=_toConsumableArray(_i1425.children).filter(function(t){return"feMergeNode"===t.localName;});var _iterator1429=_createForOfIteratorHelper(_e1532),_step1429;try{for(_iterator1429.s();!(_step1429=_iterator1429.n()).done;){var _i1426=_step1429.value;if(_i1426.in1.baseVal===t)return!0;}}catch(err){_iterator1429.e(err);}finally{_iterator1429.f();}}else{if(_i1425.in1&&_i1425.in1.baseVal===t)return!0;if(_i1425.in2&&_i1425.in2.baseVal===t)return!0;}}}catch(err){_iterator1428.e(err);}finally{_iterator1428.f();}return!1;}},{key:"TS",value:function TS(){var _this$getSelection=this.getSelection(),_this$getSelection2=_slicedToArray(_this$getSelection,2),t=_this$getSelection2[0],e=_this$getSelection2[1],i=_toConsumableArray(this.filter.children).filter(function(t){return P.includes(t.localName);}),s=this.XS("SourceGraphic"),n=this.XS("SourceAlpha");if(t){if(this.Js.board.undoManager.checkpoint("Delete filter primitive"),"SourceGraphic"===t||"SourceAlpha"===t){var _iterator1430=_createForOfIteratorHelper(i),_step1430;try{for(_iterator1430.s();!(_step1430=_iterator1430.n()).done;){var _e1534=_step1430.value;if("feMerge"===_e1534.localName){var _i1427=_toConsumableArray(_e1534.children).filter(function(t){return"feMergeNode"===t.localName;});var _iterator1431=_createForOfIteratorHelper(_i1427),_step1431;try{for(_iterator1431.s();!(_step1431=_iterator1431.n()).done;){var _e1535=_step1431.value;_e1535.in1.baseVal===t&&_e1535.remove();}}catch(err){_iterator1431.e(err);}finally{_iterator1431.f();}}else _e1534.in1&&_e1534.in1.baseVal===t&&_e1534.setAttribute("in","none"),_e1534.in2&&_e1534.in2.baseVal===t&&_e1534.setAttribute("in2","none");}}catch(err){_iterator1430.e(err);}finally{_iterator1430.f();}{var _e1533=this.filter.hasAttribute("data-bx-details")?this.filter.getAttribute("data-bx-details").split(" "):[];_e1533.includes(t)&&(_e1533=_e1533.filter(function(e){return e!==t;})),0===_e1533.length?this.filter.removeAttribute("data-bx-details"):this.filter.setAttribute("data-bx-details",_e1533.join(" "));}}else{var _e1536=i.find(function(e){return e.result.baseVal===t;}),_o486=i.filter(function(t){return t!==_e1536;});_e1536.remove();var _iterator1432=_createForOfIteratorHelper(_o486),_step1432;try{for(_iterator1432.s();!(_step1432=_iterator1432.n()).done;){var _t2149=_step1432.value;if("feMerge"===_t2149.localName){var _i1429=_toConsumableArray(_t2149.children).filter(function(t){return"feMergeNode"===t.localName;});var _iterator1433=_createForOfIteratorHelper(_i1429),_step1433;try{for(_iterator1433.s();!(_step1433=_iterator1433.n()).done;){var _t2150=_step1433.value;_t2150.in1.baseVal===_e1536.result.baseVal&&_t2150.remove();}}catch(err){_iterator1433.e(err);}finally{_iterator1433.f();}}else _t2149.in1&&_t2149.in1.baseVal===_e1536.result.baseVal&&_t2149.setAttribute("in","none"),_t2149.in2&&_t2149.in2.baseVal===_e1536.result.baseVal&&_t2149.setAttribute("in2","none");}}catch(err){_iterator1432.e(err);}finally{_iterator1432.f();}{var _t2148=this.XS("SourceGraphic"),_e1537=this.XS("SourceAlpha");if(_e1537!==n||_t2148!==s){var _i1428=this.filter.hasAttribute("data-bx-details")?this.filter.getAttribute("data-bx-details").split(" "):[];!1===_t2148&&!0===s&&!1===_i1428.includes("SourceGraphic")&&_i1428.push("SourceGraphic"),!1===_e1537&&!0===n&&!1===_i1428.includes("SourceAlpha")&&_i1428.push("SourceAlpha"),this.filter.setAttribute("data-bx-details",_i1428.join(" "));}}}}else if(e){var _iterator1434=_createForOfIteratorHelper(i),_step1434;try{for(_iterator1434.s();!(_step1434=_iterator1434.n()).done;){var _t2152=_step1434.value;if("feMerge"===_t2152.localName){if(_t2152.result.baseVal===e.to){var _i1431=_toConsumableArray(_t2152.children).filter(function(t){return"feMergeNode"===t.localName;}),_s834=null;var _iterator1435=_createForOfIteratorHelper(_i1431),_step1435;try{for(_iterator1435.s();!(_step1435=_iterator1435.n()).done;){var _t2153=_step1435.value;if(_t2153.in1.baseVal===e.from){_s834=_t2153;break;}}}catch(err){_iterator1435.e(err);}finally{_iterator1435.f();}_s834&&(this.Js.board.undoManager.checkpoint("Delete filter connector"),_s834.remove());}}else{if(_t2152.in1&&_t2152.in1.baseVal===e.from&&_t2152.result.baseVal===e.to){this.Js.board.undoManager.checkpoint("Delete filter connector"),_t2152.setAttribute("in","none");break;}if(_t2152.in2&&_t2152.in2.baseVal===e.from&&_t2152.result.baseVal===e.to){this.Js.board.undoManager.checkpoint("Delete filter connector"),_t2152.setAttribute("in2","none");break;}}}}catch(err){_iterator1434.e(err);}finally{_iterator1434.f();}{var _t2151=this.XS("SourceGraphic"),_e1538=this.XS("SourceAlpha");if(_t2151!==s||_e1538!==n){var _i1430=this.filter.hasAttribute("data-bx-details")?this.filter.getAttribute("data-bx-details").split(" "):[];!1===_t2151&&!0===s&&!1===_i1430.includes("SourceGraphic")&&_i1430.push("SourceGraphic"),!1===_e1538&&!0===n&&!1===_i1430.includes("SourceAlpha")&&_i1430.push("SourceAlpha"),this.filter.setAttribute("data-bx-details",_i1430.join(" "));}}}}},{key:"ZS",value:function ZS(){var _this$getSelection3=this.getSelection(),_this$getSelection4=_slicedToArray(_this$getSelection3,2),t=_this$getSelection4[0],e=_this$getSelection4[1];return!!t||!!e;}},{key:"jS",value:function jS(){this.Js.board.undoManager.checkpoint("Duplicate filter primitive");var _this$getSelection5=this.getSelection(),_this$getSelection6=_slicedToArray(_this$getSelection5,1),t=_this$getSelection6[0],e=_toConsumableArray(this.filter.children).filter(function(t){return P.includes(t.localName);}).find(function(e){return e.result.baseVal===t;}),i=oi(e.localName).substring(3),s=e.cloneNode("feMerge"!==e.localName);s.setAttribute("result",this.WS(i)),s.removeAttribute("id"),s.in1&&(s.in1.baseVal="none"),s.in2&&(s.in2.baseVal="none"),this.filter.append(s);}},{key:"NS",value:function NS(){var _this$getSelection7=this.getSelection(),_this$getSelection8=_slicedToArray(_this$getSelection7,1),t=_this$getSelection8[0];return"SourceGraphic"!==t&&"SourceAlpha"!==t;}},{key:"HS",value:function HS(){var _this$getSelection9=this.getSelection(),_this$getSelection10=_slicedToArray(_this$getSelection9,1),t=_this$getSelection10[0],e=_toConsumableArray(this.filter.children).filter(function(t){return P.includes(t.localName);}),i=this.US.getGroups(),s=i.find(function(e){return e.includes(t);}),n=_toConsumableArray(i).sort(function(t){return t===s?1:-1;});this.Js.board.undoManager.checkpoint("Set terminal filter primitive");{var _t2154=[];var _iterator1436=_createForOfIteratorHelper(n),_step1436;try{for(_iterator1436.s();!(_step1436=_iterator1436.n()).done;){var _i1433=_step1436.value;var _iterator1437=_createForOfIteratorHelper(_i1433),_step1437;try{var _loop32=function _loop32(){var s=_step1437.value;if("SourceGraphic"!==s&&"SourceAlpha"!==s){var _i1434=e.find(function(t){return t.result.baseVal===s;});_t2154.push(_i1434);}};for(_iterator1437.s();!(_step1437=_iterator1437.n()).done;){_loop32();}}catch(err){_iterator1437.e(err);}finally{_iterator1437.f();}}}catch(err){_iterator1436.e(err);}finally{_iterator1436.f();}for(var _i1432=0,_t2155=_t2154;_i1432<_t2155.length;_i1432++){var _e1539=_t2155[_i1432];this.filter.append(_e1539);}}}},{key:"VS",value:function VS(){var _this$getSelection11=this.getSelection(),_this$getSelection12=_slicedToArray(_this$getSelection11,1),t=_this$getSelection12[0],e=this.US.getGroups();if("SourceGraphic"===t||"SourceAlpha"===t)return!1;{var _i1435=e.flat();if(_i1435=_i1435.filter(function(t){return"SourceGraphic"!==t&&"SourceAlpha"!==t;}),t===_i1435[_i1435.length-1])return!1;}{var _i1436=e.find(function(e){return e.includes(t);});if(_i1436.indexOf(t)!==_i1436.length-1)return!1;}return!0;}},{key:"WS",value:function WS(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"primitive";this.filter;var e=_toConsumableArray(this.filter.children).filter(function(t){return P.includes(t.localName);}).map(function(t){return t.result.baseVal;});for(var _i1437=0;_i1437<Infinity;_i1437+=1){var _s835=t+"-"+_i1437;if(!1===e.includes(_s835))return _s835;}}},{key:"qs",value:function qs(){this.YS(),this.$S();}},{key:"YS",value:function YS(){var _this857=this;(function(t){var e=_toConsumableArray(t.children).filter(function(t){return P.includes(t.localName);}),i=Symbol();{var _t2156=null,_s836={};var _iterator1438=_createForOfIteratorHelper(e),_step1438;try{for(_iterator1438.s();!(_step1438=_iterator1438.n()).done;){var _n606=_step1438.value;if(_n606[i]=[],"feMerge"===_n606.localName){var _e1540=_toConsumableArray(_n606.children).filter(function(t){return"feMergeNode"===t.localName;}),_o487=null,_l366=Symbol();var _iterator1439=_createForOfIteratorHelper(_e1540),_step1439;try{for(_iterator1439.s();!(_step1439=_iterator1439.n()).done;){var _i1438=_step1439.value;["SourceGraphic","SourceAlpha","none"].includes(_i1438.in1.baseVal)?_i1438[_l366]=_i1438.in1.baseVal:_s836[_i1438.in1.baseVal]?_i1438[_l366]=_s836[_i1438.in1.baseVal]:_i1438[_l366]=_o487?_o487[_l366]:_t2156||"SourceGraphic",_o487=_i1438;}}catch(err){_iterator1439.e(err);}finally{_iterator1439.f();}var _iterator1440=_createForOfIteratorHelper(_e1540),_step1440;try{for(_iterator1440.s();!(_step1440=_iterator1440.n()).done;){var _t2157=_step1440.value;var _e1541=_t2157[_l366];_n606[i].push(_e1541);}}catch(err){_iterator1440.e(err);}finally{_iterator1440.f();}}else for(var _i1439=0,_arr71=["in1","in2"];_i1439<_arr71.length;_i1439++){var _e1542=_arr71[_i1439];if(void 0!==_n606[_e1542])if(["SourceGraphic","SourceAlpha","none"].includes(_n606[_e1542].baseVal))_n606[i].push(_n606[_e1542].baseVal);else if(_s836[_n606[_e1542].baseVal]){var _t2158=_s836[_n606[_e1542].baseVal];_n606[i].push(_t2158);}else _t2156?_n606[i].push(_t2156):_n606[i].push("SourceGraphic");}_t2156=_n606,""!==_n606.result.baseVal&&(_s836[_n606.result.baseVal]=_n606);}}catch(err){_iterator1438.e(err);}finally{_iterator1438.f();}}{var _t2159=[];var _iterator1441=_createForOfIteratorHelper(e),_step1441;try{for(_iterator1441.s();!(_step1441=_iterator1441.n()).done;){var _i1440=_step1441.value;var _e1543=_i1440.result.baseVal;""!==_e1543&&(_t2159.includes(_e1543)?_i1440.result.baseVal="":_t2159.push(_i1440.result.baseVal));}}catch(err){_iterator1441.e(err);}finally{_iterator1441.f();}var _iterator1442=_createForOfIteratorHelper(e),_step1442;try{for(_iterator1442.s();!(_step1442=_iterator1442.n()).done;){var _i1441=_step1442.value;if(""===_i1441.result.baseVal){var _e1544=oi(_i1441.localName).substring(3);for(var _s837=0;_s837<Infinity;_s837+=1){var _n607="".concat(_e1544,"-").concat(_s837);if(!1===_t2159.includes(_n607)){_i1441.result.baseVal=_n607,_t2159.push(_n607);break;}}}}}catch(err){_iterator1442.e(err);}finally{_iterator1442.f();}}var _iterator1443=_createForOfIteratorHelper(e),_step1443;try{for(_iterator1443.s();!(_step1443=_iterator1443.n()).done;){var _t2160=_step1443.value;var _e1545=_t2160[i].map(function(t){return t.result?t.result.baseVal:t;});if("feMerge"===_t2160.localName){var _i1442=_toConsumableArray(_t2160.children).filter(function(t){return"feMergeNode"===t.localName;});for(var _t2161=0;_t2161<_i1442.length;_t2161+=1){_i1442[_t2161].in1.baseVal!==_e1545[_t2161]&&(_i1442[_t2161].in1.baseVal=_e1545[_t2161]);}}else void 0!==_t2160.in1&&_t2160.in1.baseVal!==_e1545[0]&&(_t2160.in1.baseVal=_e1545[0]),void 0!==_t2160.in2&&_t2160.in2.baseVal!==_e1545[1]&&(_t2160.in2.baseVal=_e1545[1]);}}catch(err){_iterator1443.e(err);}finally{_iterator1443.f();}})(this.filter),this.US=new Dm(this.filter);var t=this.US.getNodes(),e=this.US.getEdges(),_this$getSelection13=this.getSelection(),_this$getSelection14=_slicedToArray(_this$getSelection13,2),i=_this$getSelection14[0],s=_this$getSelection14[1];this["#graph-backdrop"].width.baseVal.value=this.US.getWidth(),this["#graph-backdrop"].height.baseVal.value=this.US.getHeight();{var _loop33=function _loop33(){var e=_arr72[_i1443];t.find(function(t){return t.name===e.dataset.name;})||e.remove();};for(var _i1443=0,_arr72=_toConsumableArray(this["#graph-nodes"].children);_i1443<_arr72.length;_i1443++){_loop33();}var _e1546=_toConsumableArray(this["#graph-nodes"].children);var _iterator1444=_createForOfIteratorHelper(t),_step1444;try{var _loop34=function _loop34(){var _step1444$value=_step1444.value,s=_step1444$value.x,n=_step1444$value.y,o=_step1444$value.width,l=_step1444$value.height,h=_step1444$value.name,a=_step1444$value.type,r=_step1444$value.terminal;var t=_e1546.find(function(t){return t.dataset.name===h;});if(!t){var _e1547="";_e1547="SourceGraphic"===a?"filter-source-graphic-hd":"SourceAlpha"===a?"filter-source-alpha-hd":"feDiffuseLighting"===a||"feSpecularLighting"===a?"filter-lighting-hd":"filter-"+oi(a).substring(3)+"-hd",t=Wi(_templateObject61(),h,_e1547),_this857["#graph-nodes"].append(t);}h===i?t.setAttribute("data-selected",""):t.removeAttribute("data-selected"),r?t.setAttribute("data-terminal",""):t.removeAttribute("data-terminal"),t.setAttribute("transform","translate(".concat(s-o/2,", ").concat(n-l/2,")"));};for(_iterator1444.s();!(_step1444=_iterator1444.n()).done;){_loop34();}}catch(err){_iterator1444.e(err);}finally{_iterator1444.f();}}{var _loop35=function _loop35(){var t=_arr73[_i1444];e.find(function(e){return e.from===t.dataset.from&&e.to===t.dataset.to&&e.slot===parseInt(t.dataset.slot);})||t.remove();};for(var _i1444=0,_arr73=_toConsumableArray(this["#graph-edges"].children);_i1444<_arr73.length;_i1444++){_loop35();}var _t2162=_toConsumableArray(this["#graph-edges"].children);var _iterator1445=_createForOfIteratorHelper(e),_step1445;try{var _loop36=function _loop36(){var n=_step1445.value;var e=n.points,o=n.label,l=n.from,h=n.to,a=n.slot,r=_t2162.find(function(t){return t.dataset.from===l&&t.dataset.to===h&&t.dataset.slot==="".concat(a);}),_e1548=_toArray(e),d=_e1548[0],c=_e1548.slice(1),p="M ".concat(d.x," ").concat(d.y)+c.map(function(t){return" L ".concat(t.x," ").concat(t.y);}).join("");r||(r=Wi(_templateObject62(),o.width,o.height,o.height),_this857["#graph-edges"].append(r)),s&&s.from===l&&s.to===h&&s.slot===a?r.setAttribute("data-selected",""):r.removeAttribute("data-selected"),s?s.to===n.to?r.setAttribute("data-labeled",""):r.removeAttribute("data-labeled"):i&&i===h?r.setAttribute("data-labeled",""):r.removeAttribute("data-labeled"),r.setAttribute("data-from",l),r.setAttribute("data-to",h),r.setAttribute("data-slot",a),r.children[0].style.d="path(\"".concat(p,"\")"),r.children[1].style.d="path(\"".concat(p,"\")"),r.children[2].style.x=o.x-o.width/2+"px",r.children[2].style.y=o.y-o.height/2+"px",r.children[2].innerHTML=o.text;};for(_iterator1445.s();!(_step1445=_iterator1445.n()).done;){_loop36();}}catch(err){_iterator1445.e(err);}finally{_iterator1445.f();}}}},{key:"$S",value:function $S(){var t=this["#sidebar-content"].firstElementChild,e=null,_this$getSelection15=this.getSelection(),_this$getSelection16=_slicedToArray(_this$getSelection15,2),i=_this$getSelection16[0],s=_this$getSelection16[1];if(i){if("SourceGraphic"===i||"SourceAlpha"===i)e=i;else{e=_toConsumableArray(this.filter.children).filter(function(t){return P.includes(t.localName);}).find(function(t){return t.result.baseVal===i;});}if(!t||t.primitive!==e)if("SourceAlpha"===e)this["#sidebar-heading"].textContent="Source Alpha",this["#sidebar-content"].innerHTML="<p>This primitive has no options.</p>";else if("SourceGraphic"===e)this["#sidebar-heading"].textContent="Source Graphic",this["#sidebar-content"].innerHTML="<p>This primitive has no options.</p>";else{var _t2163=Di("bx-".concat(e.localName.substring(2).toLowerCase(),"primitiveinspector"));_t2163.primitive=e,this["#sidebar-heading"].textContent=_t2163.name,this["#sidebar-content"].innerHTML="",this["#sidebar-content"].append(_t2163);}}else if(s){if(!t||"bx-filteredgeinspector"!==t.localName){var _t2164=Di("bx-filteredgeinspector");this["#sidebar-heading"].textContent=_t2164.name,this["#sidebar-content"].innerHTML="",this["#sidebar-content"].append(_t2164);}}else if(!t||"bx-filterhostinspector"!==t.localName){var _t2165=Di("bx-filterhostinspector");_t2165.filter=this.filter,this["#sidebar-heading"].textContent="Filter",this["#sidebar-content"].innerHTML="",this["#sidebar-content"].append(_t2165);}}}]);return og;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(og,"observedAttributes",["enabled"]);_defineProperty(og,"_shadowTemplate",Hi(_templateObject429()));_defineProperty(og,"_shadowStyleSheet",Yi(_templateObject430()));customElements.define("bx-filterinspector",og);var lg=Symbol(),hg=Symbol();var ag=/*#__PURE__*/function(_HTMLElement118){_inherits(ag,_HTMLElement118);var _super188=_createSuper(ag);_createClass(ag,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function ag(){var _temp48,_this858;_classCallCheck(this,ag);(_temp48=_this858=_super188.call(this),_defineProperty(_assertThisInitialized(_this858),"commands",{selectAll:{enabled:function enabled(){return _this858.ev();},exec:function exec(){return _this858.iv();}},deselectAll:{enabled:function enabled(){return _this858.sv();},exec:function exec(){return _this858.nv();}}}),_temp48),_this858.oy=Xi(_this858.qs,2e3,_assertThisInitialized(_this858)),_this858.lv=0,_this858._shadowRoot=_this858.attachShadow({mode:"closed"}),_this858._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,ag._shadowStyleSheet],_this858._shadowRoot.append(document.importNode(ag._shadowTemplate.content,!0));var _iterator1446=_createForOfIteratorHelper(_this858._shadowRoot.querySelectorAll("[id]")),_step1446;try{for(_iterator1446.s();!(_step1446=_iterator1446.n()).done;){var _t2166=_step1446.value;_this858["#"+_t2166.id]=_t2166;}}catch(err){_iterator1446.e(err);}finally{_iterator1446.f();}_this858.addEventListener("keydown",function(t){return _this858.vn(t);}),_this858["#items"].addEventListener("scroll",function(){return _this858.hv();}),_this858["#items"].addEventListener("contextmenu",function(t){return _this858.Xc(t);}),_this858["#items"].addEventListener("pointerdown",function(t){return _this858.Wc(t);}),_this858["#items"].addEventListener("click",function(t){return _this858.qc(t);}),_this858["#search-input"].addEventListener("input",function(){return _this858.av();}),_this858["#developer-mode-button"].addEventListener("toggle",function(){return _this858.fu();}),_this858["#add-menu"].addEventListener("click",function(t){return _this858.Tw(t);}),_this858["#add-menu"].addEventListener("open",function(){return _this858.rv();}),_this858["#filter-inspector-popover"].addEventListener("close",function(){return _this858["#filter-inspector"].enabled=!1;});return _this858;}_createClass(ag,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this["#items"].scrollTop=this.lv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this859=this;window.addEventListener("resize",this.nn=function(){_this859.cv();}),this.Qs.addEventListener("configchange",this.ln=function(t){_this859.hn(t);}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this859.il(t);}),this.Js.board.addEventListener("artworkchange",this.dr=function(t){_this859.pv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.lv,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-filtersbrowser:developerMode",!1),this.uv=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Rp),this.qs();}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("artworkchange",this.dr),this.KS(),this["#items"].remove(),this["#mirror-svg"].innerHTML="";}},{key:"hn",value:function hn(t){var _t$detail15=t.detail,e=_t$detail15.key,i=_t$detail15.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this.uv=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Rp),this.bv());}},{key:"cv",value:function cv(){this.KS();}},{key:"il",value:function il(t){var e=t.detail,i="debounced",s=!1;var _iterator1447=_createForOfIteratorHelper(e),_step1447;try{for(_iterator1447.s();!(_step1447=_iterator1447.n()).done;){var _t2167=_step1447.value;var _e1549=_t2167.target.nodeName,_n608=_t2167.addedNodes[0]?_t2167.addedNodes[0].nodeName:null,_o488=_t2167.removedNodes[0]?_t2167.removedNodes[0].nodeName:null,_l367=_t2167.attributeName;if("filter"===_e1549){if("bx-title"===_n608||"bx-title"===_o488){i="now";break;}if("id"===_l367){i="now",s=!0;break;}if("data-bx-pinned"===_l367){i="now";break;}}else if("bx-title"===_e1549){if(_n608||_o488){i="now";break;}}else if("filter"===_n608||"filter"===_o488){i="now",s=!0;break;}}}catch(err){_iterator1447.e(err);}finally{_iterator1447.f();}!0===s&&this.KS(),"now"===i?this.qs():"debounced"===i&&this.oy();}},{key:"pv",value:function pv(){this.KS(),this.qs();}},{key:"hv",value:function hv(){this.lv=this["#items"].scrollTop,this.KS();}},{key:"Xc",value:function(){var _Xc7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee138(t){var e,_i1445,_s838,_n609;return regeneratorRuntime.wrap(function _callee138$(_context139){while(1){switch(_context139.prev=_context139.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context139.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.dv([e]);_i1445=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[lg];});_s838=e[lg];_context139.next=7;return this.Qs.openContextMenu([{label:"Edit Filter",value:"edit",disabled:1!==_i1445.length},{label:"Edit Filter ID",value:"edit-id",disabled:1!==_i1445.length},{label:"Edit Filter Title",value:"edit-title",disabled:1!==_i1445.length},{type:"separator"},{label:"Delete Filter"+(_i1445.length>1?"s":""),value:"delete",disabled:0===_i1445.length},{type:"separator"},{label:"Pin Filter"+(_i1445.length>1?"s":""),value:"pin",disabled:void 0===_i1445.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Filter"+(_i1445.length>1?"s":""),value:"unpin",disabled:void 0===_i1445.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Filter Users",value:"select-users",disabled:1!==_i1445.length}]);case 7:_n609=_context139.sent;"edit"===_n609?this.editFilter(_s838.id):"edit-id"===_n609?this.mv(_s838.id,"id"):"edit-title"===_n609?this.mv(_s838.id,"title"):"delete"===_n609?this.fv():"pin"===_n609?this.wv():"unpin"===_n609?this.vv():"select-users"===_n609&&this.QS(_s838.id);case 9:case"end":return _context139.stop();}}},_callee138,this);}));function Xc(_x162){return _Xc7.apply(this,arguments);}return Xc;}()},{key:"qc",value:function qc(t){t.target.closest(".item")&&this.jw(t);}},{key:"jw",value:function jw(t){var _this$Qs$modKeys23=this.Qs.modKeys,e=_this$Qs$modKeys23.ctrl,i=_this$Qs$modKeys23.shift;if(!1===e&&!1===i){var _e1550=t.target.closest(".item"),_i1446=t.target.closest(".thumbnail"),_s839=t.target.closest(".counter-button"),_n610=t.target.closest(".pin-button"),_o489=_e1550[lg].id;_s839?this.QS(_o489):_n610?_n610.toggled?this.JS(_o489):this.t_(_o489):_i1446?t.detail%2==0&&this.editFilter(_o489):t.detail%2==0&&this.mv(_o489);}}},{key:"Wc",value:function Wc(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1551=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1551&&this.dv([]);}else t.target.closest(".item")&&this.gm(t);}},{key:"gm",value:function gm(t){var _this860=this;var _this$Qs$modKeys24=this.Qs.modKeys,e=_this$Qs$modKeys24.ctrl,i=_this$Qs$modKeys24.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(this.KS(),!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[hg]=Date.now());else if(!0===i){var _t2168=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1552=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1552.length>0){var _i1447=_t2168.indexOf(s),_n611=_e1552.sort(function(t,e){return e[hg]-t[hg];})[0],_o490=_t2168.indexOf(_n611),_l368=[];if(_i1447>_o490?_l368=_toConsumableArray(_t2168).slice(_o490,_i1447+1):_i1447<_o490&&(_l368=_toConsumableArray(_t2168).slice(_i1447,_o490+1).reverse()),_l368=_l368.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l368.length>0){var _iterator1448=_createForOfIteratorHelper(_l368),_step1448;try{for(_iterator1448.s();!(_step1448=_iterator1448.n()).done;){var _t2169=_step1448.value;_t2169.setAttribute("data-selected",""),_t2169[hg]=Date.now();}}catch(err){_iterator1448.e(err);}finally{_iterator1448.f();}}}}else{var _t2172,_e1554,_i1448=!1;window.addEventListener("pointermove",_t2172=function _t2170(o){var l=new DOMPoint(o.clientX,o.clientY);if(Pe(n,l)>=3){if(window.removeEventListener("pointermove",_t2172),window.removeEventListener("pointerup",_e1554),!1===s.hasAttribute("data-selected")){var _iterator1449=_createForOfIteratorHelper(_this860["#items"].children),_step1449;try{for(_iterator1449.s();!(_step1449=_iterator1449.n()).done;){var _t2171=_step1449.value;_t2171===s?(_t2171.setAttribute("data-selected",""),_t2171[hg]=Date.now()):_t2171.removeAttribute("data-selected");}}catch(err){_iterator1449.e(err);}finally{_iterator1449.f();}}_this860.Gw(o),_i1448=!0;}}),window.addEventListener("pointerup",_e1554=function _e1553(){if(window.removeEventListener("pointermove",_t2172),window.removeEventListener("pointerup",_e1554),!1===_i1448){var _iterator1450=_createForOfIteratorHelper(_this860["#items"].children),_step1450;try{for(_iterator1450.s();!(_step1450=_iterator1450.n()).done;){var _t2173=_step1450.value;_t2173===s?(_t2173.setAttribute("data-selected",""),_t2173[hg]=Date.now()):_t2173.removeAttribute("data-selected");}}catch(err){_iterator1450.e(err);}finally{_iterator1450.f();}}});}}},{key:"Gw",value:function Gw(t){var _this861=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,h="start",a=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===a&&(a=setInterval(function(){return _this861["#items"].scrollTop+=r;},10));},c=function c(){null!==a&&(clearInterval(a),a=null);},p=function p(){var t=_this861.Qs.pointerClientPoint,e=_this861._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this861._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1555=l.getBoundingClientRect();if(h=t.y<_e1555.y+_e1555.height/2?"start":"end",_this861.Fw(n,l,h)){var _t2174=l.offsetTop-_this861["#items"].scrollTop;"end"===h&&(_t2174+=_e1555.height),_this861["#drop-indicator"].hidden=!1,_this861["#drop-indicator"].style.top=_t2174-1+"px";}else l=null,_this861["#drop-indicator"].hidden=!0;}else _this861["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s840){function s(_x163){return _s840.apply(this,arguments);}s.toString=function(){return _s840.toString();};return s;}(function(t){if(_this861["#items"].removeEventListener("pointermove",e),_this861["#items"].removeEventListener("scroll",i),_this861["#items"].removeEventListener("lostpointercapture",s),_this861["#items"].style.cursor=null,_this861["#drop-indicator"].hidden=!0,c(),_this861.Js.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1556=n[0][lg],_i1449=_this861.Js.board.getWorkspaceElementFromPoint(t.clientX,t.clientY);_i1449&&D.includes(_i1449.localName)&&(_this861.Js.board.undoManager.checkpoint("Apply filter"),_i1449.style.setProperty("filter","url(#".concat(_e1556.id,")")),ga("filter",_i1449),"image"===_i1449.localName&&(_e1556.previousElementSibling?_e1556.previousElementSibling.after(_e1556):_e1556.nextElementSibling?_e1556.nextElementSibling.before(_e1556):_e1556.parentElement.append(_e1556)),_this861._v());}}else if(l){_this861.Js.board.undoManager.checkpoint("Rearrange filters");var _t2175=document.createDocumentFragment(),_e1557=l[lg];var _iterator1451=_createForOfIteratorHelper(n),_step1451;try{for(_iterator1451.s();!(_step1451=_iterator1451.n()).done;){var _i1450=_step1451.value;_i1450[lg]!==_e1557&&_t2175.append(_i1450[lg]);}}catch(err){_iterator1451.e(err);}finally{_iterator1451.f();}"start"===h?_e1557.before(_t2175):_e1557.after(_t2175);}}));}},{key:"vn",value:function vn(t){if(this["#search-input"].matches(":focus")||this["#filter-inspector-popover"].opened)return;var e=to.fromEvent(t);if(e.matches("Enter")){var _t2176=this["#items"].querySelector(".item[data-label-edited]"),_e1558=this["#items"].querySelector(".item[data-selected]");_t2176?this.focus():_e1558&&this.mv(_e1558[lg].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.fv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Mu()||this.Cv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Pu()||this.Mv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Mu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Pu(!0));}}},{key:"fu",value:function fu(){this.Qs.setConfig("bx-filtersbrowser:developerMode",this["#developer-mode-button"].toggled),this.qw(),this.focus();}},{key:"Tw",value:function Tw(t){var e=t.target.closest("x-menuitem");e&&"add-filter"===e.value&&this.Pv();}},{key:"rv",value:function rv(){}},{key:"av",value:function av(){this.zv(),this.Cu();}},{key:"editFilter",value:function(){var _editFilter=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee139(t){var e,_t2177,_i1451;return regeneratorRuntime.wrap(function _callee139$(_context140){while(1){switch(_context140.prev=_context140.next){case 0:e=_toConsumableArray(this["#items"].children).find(function(e){return e[lg].id===t;});if(!e){_context140.next=9;break;}this.dv([e]);_t2177=e.getBoundingClientRect(),_i1451=new DOMPoint(_t2177.left,_t2177.top+_t2177.height/2);_context140.next=6;return Ki(10);case 6:this["#filter-inspector-popover"].open(_i1451);this["#filter-inspector"].filter=e[lg];this["#filter-inspector"].enabled=!0;case 9:case"end":return _context140.stop();}}},_callee139,this);}));function editFilter(_x164){return _editFilter.apply(this,arguments);}return editFilter;}()},{key:"KS",value:function KS(){this["#filter-inspector-popover"].opened&&(this["#filter-inspector-popover"].close(),this["#filter-inspector"].enabled=!1);}},{key:"mv",value:function mv(t){var _this862=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[lg].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t2178=this["#items"].querySelector(".item[data-label-edited]");if(_t2178){if(_t2178===i)return;this.Ov();}}this.dv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[lg],l=this["#developer-mode-button"].toggled?"Filter ID":"Filter title",h=o.querySelector(":scope > bx-title"),a="";!0===this["#developer-mode-button"].toggled&&o.id?a="#"+o.id:!1===this["#developer-mode-button"].toggled&&h&&(a=h.textContent);var r=Hi(_templateObject63(),a,l);n.after(r),r.selectAll(),Ki(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this862.Ov();}),r.validate=function(){var t=null;if(_this862["#developer-mode-button"].toggled){var _e1559=r.value.trim();if(_e1559.startsWith("#")&&(_e1559=_e1559.substring(1)),0===_e1559.length)t="Filter must have ID";else if(Ni(_e1559)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1559)))&&o.id!==_e1559&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"Ov",value:function Ov(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1560=this.Js.board,_i1452=t.querySelector(".label"),_s841=t.querySelector("x-input"),_n612=t[lg];if(_s841.remove(),_i1452.hidden=!1,t.removeAttribute("data-label-edited"),null===_s841.error)if(this["#developer-mode-button"].toggled){var _t2179=_n612.getAttribute("id").trim(),_i1453=_s841.value.trim().toLowerCase();if(_i1453.startsWith("#")&&(_i1453=_i1453.substring(1)),_t2179!==_i1453){_e1560.undoManager.checkpoint("Filter ID");var _s842=document.createNodeIterator(_e1560.workspaces,NodeFilter.SHOW_ELEMENT),_n613=null;for(;_n613=_s842.nextNode();){"filter"===_n613.localName&&(_n613.id===_t2179&&_n613.setAttribute("id",_i1453),_n613.href.baseVal==="#"+_t2179&&_n613.setAttribute("href","#"+_i1453));{var _e1561=getComputedStyle(_n613).getPropertyValue("filter");if(_e1561&&_e1561.startsWith("url(")){_e1561.substring(6,_e1561.length-2)===_t2179&&_n613.style.setProperty("filter","url(#".concat(_i1453,")"));}}}}}else{var _t2180=_n612.querySelector(":scope > bx-title"),_i1454=_s841.value.trim();if(_t2180){_t2180.textContent!==_i1454&&(_e1560.undoManager.checkpoint("Filter title"),""===_i1454?_t2180.remove():_t2180.textContent=_i1454);}else""!==_i1454&&(_e1560.undoManager.checkpoint("Filter title"),_t2180=Di("svg:bx-title"),_t2180.textContent=_i1454,_n612.prepend(_t2180));}}}},{key:"JS",value:function JS(t){this.Js.board.undoManager.checkpoint("Pin Filter"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"t_",value:function t_(t){this.Js.board.undoManager.checkpoint("Unpin Filter"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"dv",value:function dv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1452=_createForOfIteratorHelper(this["#items"].children),_step1452;try{for(_iterator1452.s();!(_step1452=_iterator1452.n()).done;){var _e1562=_step1452.value;t.includes(_e1562)?(_e1562.setAttribute("data-selected",""),_e1562[hg]=Date.now()):_e1562.removeAttribute("data-selected");}}catch(err){_iterator1452.e(err);}finally{_iterator1452.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}this.KS();}},{key:"Mu",value:function Mu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1455=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s843=e[0],_n614=_i1455.indexOf(_s843),_o491=_i1455[_n614-1];if(_o491){if(_o491.scrollIntoViewIfNeeded(),t)_o491.setAttribute("data-selected",""),_o491[hg]=Date.now();else{var _iterator1453=_createForOfIteratorHelper(_i1455),_step1453;try{for(_iterator1453.s();!(_step1453=_iterator1453.n()).done;){var _t2181=_step1453.value;_t2181===_o491?(_t2181.setAttribute("data-selected",""),_t2181[hg]=Date.now()):_t2181.removeAttribute("data-selected");}}catch(err){_iterator1453.e(err);}finally{_iterator1453.f();}}return this.KS(),!0;}}return!1;}},{key:"Pu",value:function Pu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1456=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s844=e[e.length-1],_n615=_i1456.indexOf(_s844),_o492=_i1456[_n615+1];if(_o492){if(_o492.scrollIntoViewIfNeeded(),t)_o492.setAttribute("data-selected",""),_o492[hg]=Date.now();else{var _iterator1454=_createForOfIteratorHelper(_i1456),_step1454;try{for(_iterator1454.s();!(_step1454=_iterator1454.n()).done;){var _t2182=_step1454.value;_t2182===_o492?(_t2182.setAttribute("data-selected",""),_t2182[hg]=Date.now()):_t2182.removeAttribute("data-selected");}}catch(err){_iterator1454.e(err);}finally{_iterator1454.f();}}return this.KS(),!0;}}return!1;}},{key:"Cv",value:function Cv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1455=_createForOfIteratorHelper(t),_step1455;try{for(_iterator1455.s();!(_step1455=_iterator1455.n()).done;){var _i1457=_step1455.value;_i1457===e?(_i1457.setAttribute("data-selected",""),_i1457[hg]=Date.now()):_i1457.removeAttribute("data-selected");}}catch(err){_iterator1455.e(err);}finally{_iterator1455.f();}return this.KS(),!0;}return!1;}},{key:"Mv",value:function Mv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1456=_createForOfIteratorHelper(t),_step1456;try{for(_iterator1456.s();!(_step1456=_iterator1456.n()).done;){var _i1458=_step1456.value;_i1458===e?(_i1458.setAttribute("data-selected",""),_i1458[hg]=Date.now()):_i1458.removeAttribute("data-selected");}}catch(err){_iterator1456.e(err);}finally{_iterator1456.f();}return this.KS(),!0;}return!1;}},{key:"iv",value:function iv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.dv(t,!1);}},{key:"nv",value:function nv(){this.dv([],!1);}},{key:"ev",value:function ev(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#filter-inspector-popover"].opened||null;}},{key:"sv",value:function sv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#filter-inspector-popover"].opened||null;}},{key:"Pv",value:function Pv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add filter");var i=Di("svg:filter");if(i.setAttribute("id",t.generateUniqueID("filter")),i.setAttribute("data-bx-pinned","true"),i.setAttribute("primitiveUnits","objectBoundingBox"),e.length>0){e[e.length-1][lg].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[lg]===i;});this.dv([s]);}},{key:"fv",value:function(){var _fv6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee140(){var t,e,i,s,n,_iterator1457,_step1457,_e1565,o,_iterator1458,_step1458,_t2186,_iterator1462,_step1462,_e1566,_t2183,_e1563,_iterator1459,_step1459,_t2184,_iterator1461,_step1461,_e1564,_iterator1460,_step1460,_t2185;return regeneratorRuntime.wrap(function _callee140$(_context141){while(1){switch(_context141.prev=_context141.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}),i=e.map(function(t){return t[lg];}),s=[],n=[];_iterator1457=_createForOfIteratorHelper(i);try{for(_iterator1457.s();!(_step1457=_iterator1457.n()).done;){_e1565=_step1457.value;s.push.apply(s,_toConsumableArray(t.workspaces.querySelectorAll("filter[href=\"#".concat(CSS.escape(_e1565.id),"\"]"))));}}catch(err){_iterator1457.e(err);}finally{_iterator1457.f();}o=[].concat(_toConsumableArray(i),s);_iterator1458=_createForOfIteratorHelper(o);try{for(_iterator1458.s();!(_step1458=_iterator1458.n()).done;){_t2186=_step1458.value;_iterator1462=_createForOfIteratorHelper(Dx(_t2186));try{for(_iterator1462.s();!(_step1462=_iterator1462.n()).done;){_e1566=_step1462.value;!1===n.includes(_e1566)&&n.push(_e1566);}}catch(err){_iterator1462.e(err);}finally{_iterator1462.f();}}}catch(err){_iterator1458.e(err);}finally{_iterator1458.f();}if(!(0!==e.length)){_context141.next=20;break;}if(!(n.length>0)){_context141.next=15;break;}_t2183="Delete ";1===i.length?_t2183+="a filter":_t2183+="".concat(i.length," filters"),_t2183+=" applied to ",1===n.length?_t2183+="1 object?":_t2183+="".concat(n.length," objects?");_context141.next=12;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t2183,detail:"Deleting a filter also removes it from all objects it was applied to."});case 12:_e1563=_context141.sent;if(!(-1===_e1563||1===_e1563)){_context141.next=15;break;}return _context141.abrupt("return");case 15:t.undoManager.checkpoint("Delete filters"),this.Pu()||this.Mu();_iterator1459=_createForOfIteratorHelper(n);try{for(_iterator1459.s();!(_step1459=_iterator1459.n()).done;){_t2184=_step1459.value;_iterator1461=_createForOfIteratorHelper(o);try{for(_iterator1461.s();!(_step1461=_iterator1461.n()).done;){_e1564=_step1461.value;getComputedStyle(_t2184).filter==="url(\"#".concat(_e1564.id,"\")")&&(_t2184.style.filter=null,_t2184.removeAttribute("filter"));}}catch(err){_iterator1461.e(err);}finally{_iterator1461.f();}}}catch(err){_iterator1459.e(err);}finally{_iterator1459.f();}_iterator1460=_createForOfIteratorHelper(o);try{for(_iterator1460.s();!(_step1460=_iterator1460.n()).done;){_t2185=_step1460.value;_t2185.remove();}}catch(err){_iterator1460.e(err);}finally{_iterator1460.f();}case 20:case"end":return _context141.stop();}}},_callee140,this);}));function fv(){return _fv6.apply(this,arguments);}return fv;}()},{key:"wv",value:function wv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[lg];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin filter"+e.length>1?"s":"");var _iterator1463=_createForOfIteratorHelper(e),_step1463;try{for(_iterator1463.s();!(_step1463=_iterator1463.n()).done;){var _t2187=_step1463.value;_t2187.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1463.e(err);}finally{_iterator1463.f();}}}},{key:"vv",value:function vv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[lg];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin filter"+e.length>1?"s":"");var _iterator1464=_createForOfIteratorHelper(e),_step1464;try{for(_iterator1464.s();!(_step1464=_iterator1464.n()).done;){var _t2188=_step1464.value;_t2188.removeAttribute("data-bx-pinned");}}catch(err){_iterator1464.e(err);}finally{_iterator1464.f();}}}},{key:"Fw",value:function Fw(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s845=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_n616=t[0],_o493=_s845.indexOf(e);if("start"===i){if(_s845[_o493-1]===_n616)return!1;}else if("end"===i){if(_s845[_o493+1]===_n616)return!1;}}return!0;}},{key:"QS",value:function QS(t){var e=this.Js.board,i=_toConsumableArray(this["#items"].children).find(function(e){return e[lg].id===t;})[lg],s=this.e_().get(i);e.selectedElements=s?_toConsumableArray(s):[];}},{key:"e_",value:function e_(){var t=this.Js.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(D.includes(s.localName)){var _i1459=getComputedStyle(s),_n617=so.fromString(_i1459.filter),_o494=_n617?t.masterWorkspace.querySelector(_n617.value):null,_l369=_o494&&"filter"===_o494.localName?_o494:null;_l369&&(!1===e.has(_l369)&&e.set(_l369,[]),e.get(_l369).push(s));}}return e;}},{key:"qs",value:function qs(){{var _t2189=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("filter")).filter(function(t){return!1===t.hasAttribute("href");}).filter(function(t){return!1===t.hasAttribute("data-bx-preset");}),_e1567=_toConsumableArray(this["#items"].querySelectorAll(".item[data-selected]")).map(function(t){return t[lg];}),_i1460=document.createDocumentFragment();var _iterator1465=_createForOfIteratorHelper(_t2189),_step1465;try{for(_iterator1465.s();!(_step1465=_iterator1465.n()).done;){var _s846=_step1465.value;var _t2190=Hi(_templateObject64(),_s846.id,_s846.id);_t2190[lg]=_s846,_e1567.includes(_s846)&&(_t2190.setAttribute("data-selected",""),_t2190[hg]=Date.now()),this.Tv(_t2190),this.Av(_t2190),_i1460.append(_t2190);}}catch(err){_iterator1465.e(err);}finally{_iterator1465.f();}this["#items"].innerHTML="",this["#items"].append(_i1460),this["#mirror-svg"].innerHTML=this.Js.board.defs.innerHTML;}this._v(),this.bv(),this.Cu();}},{key:"zv",value:function zv(){var _iterator1466=_createForOfIteratorHelper(this["#items"].children),_step1466;try{for(_iterator1466.s();!(_step1466=_iterator1466.n()).done;){var _t2191=_step1466.value;this.Av(_t2191);}}catch(err){_iterator1466.e(err);}finally{_iterator1466.f();}}},{key:"qw",value:function qw(){this["#search-input"].value="";var _iterator1467=_createForOfIteratorHelper(this["#items"].children),_step1467;try{for(_iterator1467.s();!(_step1467=_iterator1467.n()).done;){var _t2192=_step1467.value;this.Tv(_t2192),this.Av(_t2192);}}catch(err){_iterator1467.e(err);}finally{_iterator1467.f();}this.Cu();}},{key:"Cu",value:function Cu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"Av",value:function Av(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Tv",value:function Tv(t){var e=t[lg],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<filter>",i.removeAttribute("data-custom"));else{var _t2193;_t2193=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t2193?(i.textContent=_t2193.textContent,i.setAttribute("data-custom","")):(i.textContent="Filter",i.removeAttribute("data-custom"));}}},{key:"_v",value:function _v(){var t=this.e_();var _iterator1468=_createForOfIteratorHelper(this["#items"].children),_step1468;try{for(_iterator1468.s();!(_step1468=_iterator1468.n()).done;){var _e1568=_step1468.value;var _i1461=_e1568.querySelector(".counter-button"),_s847=t.get(_e1568[lg]),_n618=_s847?_s847.length:0;0===_n618?(_i1461.setAttribute("hidden",""),_i1461.firstElementChild.textContent="0"):(_i1461.setAttribute("title",1===_n618?"Select 1 filter user":"Select ".concat(_n618," filter users")),_i1461.removeAttribute("hidden"),_i1461.firstElementChild.textContent=_n618);}}catch(err){_iterator1468.e(err);}finally{_iterator1468.f();}}},{key:"bv",value:function bv(){if("unpinned"===this.uv.filters){var _iterator1469=_createForOfIteratorHelper(this["#items"].children),_step1469;try{for(_iterator1469.s();!(_step1469=_iterator1469.n()).done;){var _t2194=_step1469.value;var _e1569=_t2194[lg],_i1462=_t2194.lastElementChild;_i1462.hidden=!1,_i1462.toggled=_e1569.hasAttribute("data-bx-pinned");}}catch(err){_iterator1469.e(err);}finally{_iterator1469.f();}}else{var _iterator1470=_createForOfIteratorHelper(this["#items"].children),_step1470;try{for(_iterator1470.s();!(_step1470=_iterator1470.n()).done;){var _t2195=_step1470.value;_t2195.lastElementChild.hidden=!0;}}catch(err){_iterator1470.e(err);}finally{_iterator1470.f();}}}}]);return ag;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ag,"observedAttributes",["enabled"]);_defineProperty(ag,"_shadowTemplate",Hi(_templateObject431()));_defineProperty(ag,"_shadowStyleSheet",Yi(_templateObject432()));customElements.define("bx-filtersbrowser",ag);var rg=Symbol(),dg=Symbol(),cg=Symbol();var pg=/*#__PURE__*/function(_HTMLElement119){_inherits(pg,_HTMLElement119);var _super189=_createSuper(pg);_createClass(pg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function pg(){var _temp49,_this863;_classCallCheck(this,pg);(_temp49=_this863=_super189.call(this),_defineProperty(_assertThisInitialized(_this863),"commands",{selectAll:{enabled:function enabled(){return null===_this863._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this863.iv();}},deselectAll:{enabled:function enabled(){return null===_this863._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this863.nv();}}}),_temp49),_this863.oy=Xi(_this863.qs,2e3,_assertThisInitialized(_this863)),_this863.lv=0,_this863.i_=!1,_this863.s_=!1,_this863._shadowRoot=_this863.attachShadow({mode:"closed"}),_this863._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,pg._shadowStyleSheet],_this863._shadowRoot.append(document.importNode(pg._shadowTemplate.content,!0));var _iterator1471=_createForOfIteratorHelper(_this863._shadowRoot.querySelectorAll("[id]")),_step1471;try{for(_iterator1471.s();!(_step1471=_iterator1471.n()).done;){var _t2196=_step1471.value;_this863["#"+_t2196.id]=_t2196;}}catch(err){_iterator1471.e(err);}finally{_iterator1471.f();}_this863.addEventListener("keydown",function(t){return _this863.vn(t);}),_this863["#items"].addEventListener("scroll",function(){return _this863.hv();}),_this863["#items"].addEventListener("pointerdown",function(t){return _this863.Wc(t);}),_this863["#items"].addEventListener("click",function(t){return _this863.qc(t);}),_this863["#search-input"].addEventListener("input",function(){return _this863.av();}),_this863["#add-menu"].addEventListener("click",function(t){return _this863.Tw(t);});return _this863;}_createClass(pg,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),this["#items"].scrollTop=this.lv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this864=this;this.Qs.addEventListener("configchange",this.ln=function(t){_this864.hn(t);}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this864.il(t);}),this.Js.board.addEventListener("artworkchange",this.dr=function(t){_this864.pv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.lv,this.uv=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Rp),this.qs();}},{key:"sn",value:function sn(){this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("workspacemutation",this.rn),this["#items"].remove();}},{key:"hn",value:function hn(t){var _t$detail16=t.detail,e=_t$detail16.key,i=_t$detail16.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this.uv=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Rp),this.bv());}},{key:"il",value:function il(t){var e=t.detail,i="debounced";var _iterator1472=_createForOfIteratorHelper(e),_step1472;try{for(_iterator1472.s();!(_step1472=_iterator1472.n()).done;){var _t2197=_step1472.value;if(_t2197.target.hasAttribute&&_t2197.target.hasAttribute("data-bx-fonts")||_t2197.target.parentElement&&_t2197.target.parentElement.hasAttribute("data-bx-fonts")){i="now";break;}}}catch(err){_iterator1472.e(err);}finally{_iterator1472.f();}"now"===i?this.qs():"debounced"===i&&this.oy();}},{key:"pv",value:function pv(){this.qs();}},{key:"hv",value:function hv(){this.lv=this["#items"].scrollTop;}},{key:"qc",value:function qc(t){t.target.closest(".arrow-button")?this.Uw(t):t.target.closest(".item")&&this.jw(t);}},{key:"jw",value:function jw(t){var _this$Qs$modKeys25=this.Qs.modKeys,e=_this$Qs$modKeys25.ctrl,i=_this$Qs$modKeys25.shift;if(!1===e&&!1===i){var _e1570=t.target.closest(".item"),_i1463=t.target.closest(".counter-button"),_s848=t.target.closest(".pin-button"),_n619=_e1570.dataset.family;_i1463?this.n_(_n619):_s848?_s848.toggled?this.o_(_n619):this.l_(_n619):_e1570.matches(".family-item")&&t.detail%2==0&&this.h_(_e1570);}}},{key:"Uw",value:function Uw(t){var e=t.target.closest(".item");e.matches(".family-item")&&(e.hasAttribute("data-expanded")?this.Yw(e):this.Ww(e));}},{key:"Wc",value:function Wc(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1571=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1571&&this.nv();}else t.target.closest(".item")&&this.gm(t);}},{key:"gm",value:function gm(t){var _this865=this;if(t.target.closest(".arrow-button")||1!==t.buttons)return;if(t.target.closest("x-button"))return;if("x-input"===t.target.localName)return;var _this$Qs$modKeys26=this.Qs.modKeys,e=_this$Qs$modKeys26.ctrl,i=_this$Qs$modKeys26.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!1===e&&!1===i){var _t2200,_e1573,_i1464=!1;window.addEventListener("pointermove",_t2200=function _t2198(e){var o=new DOMPoint(e.clientX,e.clientY);if(Pe(n,o)>=3){if(window.removeEventListener("pointermove",_t2200),!1===s.hasAttribute("data-selected")){var _iterator1473=_createForOfIteratorHelper(_this865["#items"].querySelectorAll(".item")),_step1473;try{for(_iterator1473.s();!(_step1473=_iterator1473.n()).done;){var _t2199=_step1473.value;_t2199===s?(_t2199.setAttribute("data-selected",""),_t2199[cg]=Date.now()):_t2199.removeAttribute("data-selected");}}catch(err){_iterator1473.e(err);}finally{_iterator1473.f();}}_this865.Gw(e),_i1464=!0;}}),window.addEventListener("pointerup",_e1573=function _e1572(){if(window.removeEventListener("pointermove",_t2200),window.removeEventListener("pointerup",_e1573),!1===_i1464){var _iterator1474=_createForOfIteratorHelper(_this865["#items"].querySelectorAll(".item")),_step1474;try{for(_iterator1474.s();!(_step1474=_iterator1474.n()).done;){var _t2201=_step1474.value;_t2201===s?(_t2201.setAttribute("data-selected",""),_t2201[cg]=Date.now()):_t2201.removeAttribute("data-selected");}}catch(err){_iterator1474.e(err);}finally{_iterator1474.f();}}});}else if(!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[cg]=Date.now());else if(!0===i){var _t2202=_toConsumableArray(this["#items"].querySelectorAll(".item"));_t2202=_t2202.filter(function(t){return!t.matches("[hidden], [hidden] > *");});var _e1574=_toConsumableArray(this["#items"].querySelectorAll(".item[data-selected]"));if(_e1574=_e1574.filter(function(t){return!t.matches("[hidden], [hidden] > *");}),_e1574.length>0){var _i1465=_t2202.indexOf(s),_n620=_e1574.sort(function(t,e){return e[cg]-t[cg];})[0],_o495=_t2202.indexOf(_n620),_l370=[];if(_i1465>_o495?_l370=_toConsumableArray(_t2202).slice(_o495,_i1465+1):_i1465<_o495&&(_l370=_toConsumableArray(_t2202).slice(_i1465,_o495+1).reverse()),_l370=_l370.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l370.length>0){var _iterator1475=_createForOfIteratorHelper(_l370),_step1475;try{for(_iterator1475.s();!(_step1475=_iterator1475.n()).done;){var _t2203=_step1475.value;_t2203.setAttribute("data-selected",""),_t2203[cg]=Date.now();}}catch(err){_iterator1475.e(err);}finally{_iterator1475.f();}}}}}},{key:"Gw",value:function Gw(t){var _this866=this;var e=this.Js.board,i=this.a_().filter(function(t){return t.hasAttribute("data-selected");}),s=i.filter(function(t){return t.matches(".family-item");}),n=i.filter(function(t){return t.matches(".font-item");});if(s.length>0&&n.length>0)return;var o,l,_h272,a=null,r="start",d=this["#main"].getBoundingClientRect(),c=null,p=0;this.i_=!0,this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var u=function u(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;p=t,null===c&&(c=setInterval(function(){return _this866["#items"].scrollTop+=p;},10));},x=function x(){null!==c&&(clearInterval(c),c=null);},b=function b(){var t=_this866.Qs.pointerClientPoint,e=_this866._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this866._shadowRoot&&(e=null),a=e?e.closest(".item"):null,a){var _e1575=a.getBoundingClientRect();if(r=t.y<_e1575.y+_e1575.height/2?"start":"end",a.hasAttribute("data-expanded")&&"end"===r&&(a=a.querySelector(".item"),r="start",_e1575=a.getBoundingClientRect()),_this866.Fw(i,a,r)){var _t2204=a.offsetTop-_this866["#items"].scrollTop;if(a.matches(".font-item")){_t2204+=a.closest(".family-item").offsetTop;}"end"===r&&(_t2204+=_e1575.height),_this866["#drop-indicator"].hidden=!1,_this866["#drop-indicator"].style.top=_t2204-1+"px",_this866["#drop-indicator"].style.marginLeft=(a.matches(".font-item")?34:18)+"px";}else a=null,_this866["#drop-indicator"].hidden=!0;}else _this866["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",l=function l(t){b();}),this["#items"].addEventListener("pointermove",o=function o(t){t.clientX>d.left&&t.clientX<d.right&&(t.clientY<d.top+20?u(-3):t.clientY>d.bottom-20?u(3):x()),b();}),this["#items"].addEventListener("lostpointercapture",_h272=function h(t){if(_this866["#items"].removeEventListener("pointermove",o),_this866["#items"].removeEventListener("scroll",l),_this866["#items"].removeEventListener("lostpointercapture",_h272),_this866["#items"].style.cursor=null,_this866["#drop-indicator"].hidden=!0,x(),e.isPointOverBoard(t.clientX,t.clientY)){e.undoManager.checkpoint("Text");var _s849=i[0].querySelector(".label"),_n621=e.currentContainer||e.currentWorkspace,_o496=Vt(_n621).inverse(),_l371=new DOMPoint(t.clientX,t.clientY).matrixTransform(_o496),_h271=X(_l371.x,e.geometryPrecision),_a215=X(_l371.y,e.geometryPrecision),_getComputedStyle7=getComputedStyle(_s849),_r141=_getComputedStyle7.fontFamily,_d109=_getComputedStyle7.fontSize,_c85=_getComputedStyle7.fontStyle,_p75=_getComputedStyle7.fontWeight;_d109=parseFloat(_d109)/e.scale+"px";var _u62=Di("svg:text");_u62.style.fontFamily=_r141,_u62.style.fontSize=_d109,_u62.style.fontStyle=_c85,_u62.style.fontWeight=_p75,_u62.setAttribute("x",_h271),_u62.setAttribute("y",_a215),_u62.textContent=_s849.textContent,_n621.append(_u62);var _x165=_i(_u62);_u62.setAttribute("x",_h271-_x165.width/2),_u62.setAttribute("y",_a215+_x165.height/3),e.selectedElements=[_u62],_this866._v();}else if(a&&s.length>0){if("start"===r){var _iterator1476=_createForOfIteratorHelper(i),_step1476;try{for(_iterator1476.s();!(_step1476=_iterator1476.n()).done;){var _t2205=_step1476.value;a.before(_t2205);}}catch(err){_iterator1476.e(err);}finally{_iterator1476.f();}}else{var _iterator1477=_createForOfIteratorHelper(i),_step1477;try{for(_iterator1477.s();!(_step1477=_iterator1477.n()).done;){var _t2206=_step1477.value;a.after(_t2206);}}catch(err){_iterator1477.e(err);}finally{_iterator1477.f();}}{var _t2207=_toConsumableArray(_this866["#items"].querySelectorAll(".family-item")).map(function(t){return t.getAttribute("data-family");});e.fontsManager.reorderFamilies(_t2207);}}_this866.i_=!1;});}},{key:"av",value:function av(){this.zv(),this.Cu();}},{key:"Tw",value:function Tw(t){var e=t.target.closest("x-menuitem");e&&("add-from-disk"===e.value?this.r_():"add-from-library"===e.value&&this.d_());}},{key:"r_",value:function(){var _r_=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee141(){var t,e,_iterator1478,_step1478,_i1466,_t2209,_s850,_n622,_i1467,_o497,_l372,_t2208,_iterator1479,_step1479,_e1576;return regeneratorRuntime.wrap(function _callee141$(_context142){while(1){switch(_context142.prev=_context142.next){case 0:_context142.next=2;return Ki(500);case 2:_context142.next=4;return this.Qs.openLocalFontsImportDialog();case 4:t=_context142.sent;e=[];_iterator1478=_createForOfIteratorHelper(t);_context142.prev=7;_iterator1478.s();case 9:if((_step1478=_iterator1478.n()).done){_context142.next=19;break;}_i1466=_step1478.value;_t2209="url("+_i1466.data+")";_s850={};_context142.next=15;return Sp(_i1466.data);case 15:_n622=_context142.sent;if(_n622){_i1467=_n622.names.fontFamily.en,_o497=_n622.names.fontSubfamily.en.toLowerCase();_o497=ii(_o497," ",""),_o497=ii(_o497,"-",""),_o497=ii(_o497,"_",""),_o497.includes("italic")?_s850.style="italic":_o497.includes("oblique")&&(_s850.style="oblique"),_o497.includes("thin")?_s850.weight="100":_o497.includes("extralight")?_s850.weight="200":_o497.includes("light")?_s850.weight="300":_o497.includes("medium")?_s850.weight="500":_o497.includes("semibold")?_s850.weight="600":_o497.includes("bold")?_s850.weight="700":_o497.includes("extrabold")?_s850.weight="800":_o497.includes("ultrabold")&&(_s850.weight="900");_l372=new FontFace(_i1467,_t2209,_s850);_l372.src=_t2209,e.push(_l372);}else this.Qs.openMessageDialog({message:"Can't add a font",detail:"Unsupported font format.",buttons:["OK"]});case 17:_context142.next=9;break;case 19:_context142.next=24;break;case 21:_context142.prev=21;_context142.t0=_context142["catch"](7);_iterator1478.e(_context142.t0);case 24:_context142.prev=24;_iterator1478.f();return _context142.finish(24);case 27:if(e.length>0){this.Js.board.undoManager.checkpoint("Add fonts"),this.Js.board.fontsManager.addFonts(e);_t2208=e.map(function(t){return t.family;});_t2208=Je(_t2208);_iterator1479=_createForOfIteratorHelper(_t2208);try{for(_iterator1479.s();!(_step1479=_iterator1479.n()).done;){_e1576=_step1479.value;this.Js.board.fontsManager.pinFamily(_e1576);}}catch(err){_iterator1479.e(err);}finally{_iterator1479.f();}}case 28:case"end":return _context142.stop();}}},_callee141,this,[[7,21,24,27]]);}));function r_(){return _r_.apply(this,arguments);}return r_;}()},{key:"d_",value:function d_(){this.Js.togglePrimaryPanel("library-panel"),this.Js.libraryPanel.toggleBrowser("fonts-library-browser");}},{key:"vn",value:function vn(t){if(this["#search-input"].matches(":focus"))return;var e=to.fromEvent(t);if(e.matches("Enter")){var _t2210=this["#items"].querySelector(".item[data-family-name-edited]"),_e1577=this["#items"].querySelector(".item[data-selected]");_t2210?this.focus():_e1577&&_e1577.matches(".family-item")&&this.h_(_e1577);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-family-name-edited]")||(t.stopPropagation(),t.preventDefault(),this.fv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-family-name-edited]")||(t.preventDefault(),t.stopPropagation(),this.Mu());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-family-name-edited]")||(t.preventDefault(),t.stopPropagation(),this.Pu());}else if(e.matches("ArrowRight")){var _e1578=this["#items"].querySelector(".item[data-family-name-edited]"),_i1468=this["#items"].querySelectorAll(".item[data-selected]");!_e1578&&1===_i1468.length&&_i1468[0].matches(".family-item")&&(t.preventDefault(),t.stopPropagation(),this.Ww(_i1468[0]));}else if(e.matches("ArrowLeft")){var _e1579=this["#items"].querySelector(".item[data-family-name-edited]"),_i1469=this["#items"].querySelectorAll(".item[data-selected]");!_e1579&&1===_i1469.length&&_i1469[0].matches(".family-item")&&(t.preventDefault(),t.stopPropagation(),this.Yw(_i1469[0]));}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-family-name-edited]")||(t.preventDefault(),t.stopPropagation(),this.Mu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-family-name-edited]")||(t.preventDefault(),t.stopPropagation(),this.Pu(!0));}}},{key:"featureFamily",value:function featureFamily(t){this["#search-input"].value="",this.zv(),this.Cu();var _iterator1480=_createForOfIteratorHelper(this["#items"].children),_step1480;try{for(_iterator1480.s();!(_step1480=_iterator1480.n()).done;){var _e1580=_step1480.value;_e1580.dataset.family!==t&&(_e1580.removeAttribute("data-selected"),this.Yw(_e1580,!1));}}catch(err){_iterator1480.e(err);}finally{_iterator1480.f();}var _iterator1481=_createForOfIteratorHelper(this["#items"].children),_step1481;try{for(_iterator1481.s();!(_step1481=_iterator1481.n()).done;){var _e1581=_step1481.value;if(_e1581.dataset.family===t){_e1581.setAttribute("data-selected",""),this.Ww(_e1581,!1),_e1581.scrollIntoViewIfNeeded(),_e1581[cg]=Date.now();break;}}}catch(err){_iterator1481.e(err);}finally{_iterator1481.f();}}},{key:"Ww",value:function(){var _Ww=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee142(t){var e,_i1470,_t2211,_e1582,_s851,_args143=arguments;return regeneratorRuntime.wrap(function _callee142$(_context143){while(1){switch(_context143.prev=_context143.next){case 0:e=_args143.length>1&&_args143[1]!==undefined?_args143[1]:!0;if(!(!1===t.hasAttribute("data-expanded"))){_context143.next=11;break;}_i1470=t.querySelector(".font-items");if(!(_i1470.hidden=!1,t.setAttribute("data-expanded",""),e)){_context143.next=11;break;}this.s_=!0;_t2211=getComputedStyle(_i1470).marginTop,_e1582="0px";"0px"===_t2211&&(_t2211="-"+getComputedStyle(_i1470).height);_s851=_i1470.animate({marginTop:[_t2211,_e1582]},{duration:250,easing:"ease"});_context143.next=10;return _s851.finished;case 10:this.s_=!1;case 11:case"end":return _context143.stop();}}},_callee142,this);}));function Ww(_x166){return _Ww.apply(this,arguments);}return Ww;}()},{key:"Yw",value:function(){var _Yw2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee143(t){var e,_i1471,_t2212,_e1583,_s852,_args144=arguments;return regeneratorRuntime.wrap(function _callee143$(_context144){while(1){switch(_context144.prev=_context144.next){case 0:e=_args144.length>1&&_args144[1]!==undefined?_args144[1]:!0;if(!t.hasAttribute("data-expanded")){_context144.next=10;break;}_i1471=t.querySelector(".font-items");if(!(t.removeAttribute("data-expanded"),e)){_context144.next=9;break;}this.s_=!0;_t2212=getComputedStyle(_i1471).marginTop,_e1583="-"+getComputedStyle(_i1471).height,_s852=_i1471.animate({marginTop:[_t2212,_e1583]},{duration:250,easing:"ease"});_context144.next=8;return _s852.finished;case 8:this.s_=!1;case 9:!1===t.hasAttribute("data-expanded")&&(_i1471.hidden=!0);case 10:case"end":return _context144.stop();}}},_callee143,this);}));function Yw(_x167){return _Yw2.apply(this,arguments);}return Yw;}()},{key:"Pu",value:function Pu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.a_(),i=e.filter(function(t){return t.hasAttribute("data-selected");});if(i.length>0){var _s853=i[i.length-1],_n623=e.indexOf(_s853),_o498=e[_n623+1];if(_o498){if(_o498.scrollIntoViewIfNeeded(),t)_o498.setAttribute("data-selected",""),_o498[cg]=Date.now();else{var _iterator1482=_createForOfIteratorHelper(e),_step1482;try{for(_iterator1482.s();!(_step1482=_iterator1482.n()).done;){var _t2213=_step1482.value;_t2213===_o498?(_t2213.setAttribute("data-selected",""),_t2213[cg]=Date.now()):_t2213.removeAttribute("data-selected");}}catch(err){_iterator1482.e(err);}finally{_iterator1482.f();}}}else if(!1===t&&_n623===e.length-1&&i.length>1){var _iterator1483=_createForOfIteratorHelper(e),_step1483;try{for(_iterator1483.s();!(_step1483=_iterator1483.n()).done;){var _t2214=_step1483.value;_t2214===_s853?(_t2214.setAttribute("data-selected",""),_t2214[cg]=Date.now()):_t2214.removeAttribute("data-selected");}}catch(err){_iterator1483.e(err);}finally{_iterator1483.f();}}}}},{key:"Mu",value:function Mu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.a_(),i=e.filter(function(t){return t.hasAttribute("data-selected");});if(i.length>0){var _s854=i[0],_n624=e.indexOf(_s854),_o499=e[_n624-1];if(_o499){if(_o499.scrollIntoViewIfNeeded(),t)_o499.setAttribute("data-selected",""),_o499[cg]=Date.now();else{var _iterator1484=_createForOfIteratorHelper(e),_step1484;try{for(_iterator1484.s();!(_step1484=_iterator1484.n()).done;){var _t2215=_step1484.value;_t2215===_o499?(_t2215.setAttribute("data-selected",""),_t2215[cg]=Date.now()):_t2215.removeAttribute("data-selected");}}catch(err){_iterator1484.e(err);}finally{_iterator1484.f();}}}else if(!1===t&&0===_n624&&i.length>1){var _iterator1485=_createForOfIteratorHelper(e),_step1485;try{for(_iterator1485.s();!(_step1485=_iterator1485.n()).done;){var _t2216=_step1485.value;_t2216===_s854?(_t2216.setAttribute("data-selected",""),_t2216[cg]=Date.now()):_t2216.removeAttribute("data-selected");}}catch(err){_iterator1485.e(err);}finally{_iterator1485.f();}}}}},{key:"iv",value:function iv(){var t=this.a_();var _iterator1486=_createForOfIteratorHelper(t),_step1486;try{for(_iterator1486.s();!(_step1486=_iterator1486.n()).done;){var _e1584=_step1486.value;_e1584.setAttribute("data-selected",""),_e1584[cg]=Date.now();}}catch(err){_iterator1486.e(err);}finally{_iterator1486.f();}}},{key:"nv",value:function nv(){var t=this.a_().filter(function(t){return t.hasAttribute("data-selected");});if(t.length>0){var _iterator1487=_createForOfIteratorHelper(t),_step1487;try{for(_iterator1487.s();!(_step1487=_iterator1487.n()).done;){var _e1585=_step1487.value;_e1585.removeAttribute("data-selected");}}catch(err){_iterator1487.e(err);}finally{_iterator1487.f();}}}},{key:"fv",value:function(){var _fv7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee144(){var t,e,i,s,n,o,_e1586,_t2217,_i1472,_s855,_iterator1488,_step1488,_e1588,_iterator1489,_step1489,_e1589,_i1473,_e1587,_t2218;return regeneratorRuntime.wrap(function _callee144$(_context145){while(1){switch(_context145.prev=_context145.next){case 0:t=this.Js.board,e=this.a_(),i=e.filter(function(t){return t.matches(".family-item[data-selected]");}),s=e.filter(function(t){return t.matches(".font-item[data-selected]");}),n=i.map(function(t){return t.getAttribute("data-family");}),o=s.map(function(t){return t[rg];});if(!(o=o.filter(function(t){return!1===n.includes(t.family);}),n.length>0||o.length>0)){_context145.next=18;break;}_e1586=[];if(!(_e1586.length>0)){_context145.next=11;break;}_t2217=1===o.length?"a font":"".concat(o.length," fonts");_i1472=1===_e1586.length?"1 text":"".concat(_e1586.length," texts");_context145.next=8;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:"Delete ".concat(_t2217," applied to ").concat(_i1472,"?"),detail:"Deleting a font also removes it from all texts it was applied to."});case 8:_s855=_context145.sent;if(!(-1===_s855||1===_s855)){_context145.next=11;break;}return _context145.abrupt("return");case 11:t.undoManager.checkpoint("Delete fonts");_iterator1488=_createForOfIteratorHelper(n);try{for(_iterator1488.s();!(_step1488=_iterator1488.n()).done;){_e1588=_step1488.value;t.fontsManager.removeFamily(_e1588);}}catch(err){_iterator1488.e(err);}finally{_iterator1488.f();}_iterator1489=_createForOfIteratorHelper(o);try{for(_iterator1489.s();!(_step1489=_iterator1489.n()).done;){_e1589=_step1489.value;t.fontsManager.removeFont(_e1589);}}catch(err){_iterator1489.e(err);}finally{_iterator1489.f();}for(_i1473=0,_e1587=_e1586;_i1473<_e1587.length;_i1473++){_t2218=_e1587[_i1473];_t2218.style.fontFamily=null;}this.qs();case 18:case"end":return _context145.stop();}}},_callee144,this);}));function fv(){return _fv7.apply(this,arguments);}return fv;}()},{key:"a_",value:function a_(){var t=this["#items"].querySelectorAll(".item");return t=_toConsumableArray(t).filter(function(t){if(t.matches(".family-item"))return!1===t.hidden;if(t.matches(".font-item")){var _e1590=t.closest(".family-item");return!1===_e1590.hidden&&_e1590.hasAttribute("data-expanded");}}),t;}},{key:"wv",value:function wv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),i=_toConsumableArray(t.workspaces.querySelectorAll("style[data-bx-fonts]")),s=e.filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t.dataset.family;}),n=i.filter(function(t){return s.includes(t.dataset.bxFonts);}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(n.length>0){t.undoManager.checkpoint("Pin font"+n.length>1?"s":"");var _iterator1490=_createForOfIteratorHelper(n),_step1490;try{for(_iterator1490.s();!(_step1490=_iterator1490.n()).done;){var _t2219=_step1490.value;_t2219.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1490.e(err);}finally{_iterator1490.f();}}}},{key:"vv",value:function vv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),i=_toConsumableArray(t.workspaces.querySelectorAll("style[data-bx-fonts]")),s=e.filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t.dataset.family;}),n=i.filter(function(t){return s.includes(t.dataset.bxFonts);}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(n.length>0){t.undoManager.checkpoint("Unpin font"+n.length>1?"s":"");var _iterator1491=_createForOfIteratorHelper(n),_step1491;try{for(_iterator1491.s();!(_step1491=_iterator1491.n()).done;){var _t2220=_step1491.value;_t2220.removeAttribute("data-bx-pinned");}}catch(err){_iterator1491.e(err);}finally{_iterator1491.f();}}}},{key:"Fw",value:function Fw(t,e,i){var s=t.filter(function(t){return t.matches(".family-item");}),n=t.filter(function(t){return t.matches(".font-item");}),o=this.a_();if(s.length>0&&n>0)return!1;if(1===n.length){var _t2221=n[0],_s856=o.indexOf(e);if(e===_t2221||e.matches(".family-item"))return!1;if(e.closest(".family-item")!==_t2221.closest(".family-item"))return!1;if("start"===i){if(o[_s856-1]===_t2221)return!1;}else if("end"===i){if(o[_s856+1]===_t2221)return!1;}}else if(1===s.length){if(e===t[0]||e.matches(".font-item"))return!1;var _n625=s[0],_l373=o.indexOf(e);if("start"===i){if(o[_l373-1]===_n625)return!1;}else if("end"===i){if(o[_l373+1]===_n625)return!1;}}else if(s.length>1&&e.matches(".font-item"))return!1;return!0;}},{key:"o_",value:function o_(t){this.Js.board.undoManager.checkpoint("Pin font family"),this.Js.board.workspaces.querySelector("style[data-bx-fonts=\"".concat(t,"\"]")).setAttribute("data-bx-pinned","true");}},{key:"l_",value:function l_(t){this.Js.board.undoManager.checkpoint("Unpin font family"),this.Js.board.workspaces.querySelector("style[data-bx-fonts=\"".concat(t,"\"]")).removeAttribute("data-bx-pinned");}},{key:"h_",value:function h_(t){var _this867=this;{var _e1591=this["#items"].querySelector(".item[data-family-name-edited]");if(_e1591){if(_e1591===t)return;this.c_();}}this.Js.board;var e=t.querySelector(".label"),i=t.getAttribute("data-family"),s=Hi(_templateObject65(),i);e.after(s),s.selectAll(),Ki(10).then(function(){return s.querySelector("x-label").hidden=!1;}),e.hidden=!0,t.setAttribute("data-family-name-edited",""),s.addEventListener("input",function(){null!==s.error?t.setAttribute("data-invalid",""):t.removeAttribute("data-invalid");}),s.addEventListener("focusout",function(){t.removeAttribute("data-invalid"),_this867.c_();}),s.validate=function(){s.error=0===s.value.length?"Family must have name":null;};}},{key:"c_",value:function c_(){var t=this["#items"].querySelector(".item[data-family-name-edited]");if(t){var _e1592=this.Js.board,_i1474=t.querySelector(".label"),_s857=t.querySelector("x-input");if(_s857.remove(),_i1474.hidden=!1,t.removeAttribute("data-family-name-edited"),null===_s857.error){var _i1475=t.getAttribute("data-family"),_n626=_s857.value.trim();_i1475!==_n626&&_e1592.fontsManager.renameFamily(_i1475,_n626);}}}},{key:"n_",value:function n_(t){var e=this.Js.board,i=this.p_()[t];e.selectedElements=i?_toConsumableArray(i):[];}},{key:"p_",value:function p_(){var t={},e=this.Js.board.masterWorkspace.querySelectorAll("text");var _iterator1492=_createForOfIteratorHelper(e),_step1492;try{for(_iterator1492.s();!(_step1492=_iterator1492.n()).done;){var _i1476=_step1492.value;var _e1593=[],_s858=xi(_i1476);var _iterator1493=_createForOfIteratorHelper(_s858),_step1493;try{for(_iterator1493.s();!(_step1493=_iterator1493.n()).done;){var _t2222=_step1493.value;var _i1478=_t2222.closest("text, textPath, tspan, a"),_s860=mp.fromString(getComputedStyle(_i1478).fontFamily);if(_s860&&_s860.items.length>0){var _t2223=_s860.items[0];!1===_e1593.includes(_t2223)&&_e1593.push(_t2223);}}}catch(err){_iterator1493.e(err);}finally{_iterator1493.f();}for(var _i1477=0,_e1594=_e1593;_i1477<_e1594.length;_i1477++){var _s859=_e1594[_i1477];void 0===t[_s859]&&(t[_s859]=[]),t[_s859].push(_i1476);}}}catch(err){_iterator1492.e(err);}finally{_iterator1492.f();}return t;}},{key:"qs",value:function qs(){if(this.i_||this.s_)this.oy();else{{var _t2224=_toConsumableArray(this["#items"].querySelectorAll(".family-item[data-selected]")),_e1595=_toConsumableArray(this["#items"].querySelectorAll(".font-item[data-selected]")),_i1479=_toConsumableArray(this["#items"].querySelectorAll(".family-item[data-expanded]")),_s861=_t2224.map(function(t){return t.getAttribute("data-family");}),_n627=_i1479.map(function(t){return t.getAttribute("data-family");}),_o500=_e1595.map(function(t){return t[rg];}),_l374=document.createDocumentFragment();var _iterator1494=_createForOfIteratorHelper(this.Js.board.fontsManager.getFamilies()),_step1494;try{for(_iterator1494.s();!(_step1494=_iterator1494.n()).done;){var _t2225=_step1494.value;var _e1596=this.Js.board.fontsManager.getFamilyFonts(_t2225),_i1480=Hi(_templateObject66(),_t2225,_t2225,_t2225);_s861.includes(_t2225)&&(_i1480.setAttribute("data-selected",""),_i1480[cg]=Date.now()),_n627.includes(_t2225)&&(_i1480.setAttribute("data-expanded",""),_i1480.querySelector(".font-items").removeAttribute("hidden"));var _iterator1495=_createForOfIteratorHelper(_e1596),_step1495;try{for(_iterator1495.s();!(_step1495=_iterator1495.n()).done;){var _s862=_step1495.value;var _e1597=Ap(_s862),_n628="\n            font-size: 16px;\n            font-family: '".concat(_t2225,"';\n            font-weight: ").concat(_s862.weight,";\n            font-style: ").concat(_s862.style,";\n            font-stetch: ").concat(_s862.stretch,";\n          "),_l375=Hi(_templateObject67(),_n628,_e1597);var _iterator1496=_createForOfIteratorHelper(_o500),_step1496;try{for(_iterator1496.s();!(_step1496=_iterator1496.n()).done;){var _t2226=_step1496.value;if(_s862.family===_t2226.family&&_s862.style===_t2226.style&&_s862.weight===_t2226.weight&&_s862.stretch===_t2226.stretch&&_s862.unicodeRange===_t2226.unicodeRange&&_s862.variant===_t2226.variant&&_s862.featureSettings===_t2226.featureSettings){_l375.setAttribute("data-selected",""),_l375[cg]=Date.now();break;}}}catch(err){_iterator1496.e(err);}finally{_iterator1496.f();}_l375[rg]=_s862,_i1480.querySelector(".font-items").append(_l375);}}catch(err){_iterator1495.e(err);}finally{_iterator1495.f();}_i1480[dg]=_e1596,_l374.append(_i1480),this.Av(_i1480);}}catch(err){_iterator1494.e(err);}finally{_iterator1494.f();}this["#items"].innerHTML="",this["#items"].append(_l374);}this._v(),this.bv(),this.Cu();}}},{key:"zv",value:function zv(){var _iterator1497=_createForOfIteratorHelper(this["#items"].children),_step1497;try{for(_iterator1497.s();!(_step1497=_iterator1497.n()).done;){var _t2227=_step1497.value;this.Av(_t2227);}}catch(err){_iterator1497.e(err);}finally{_iterator1497.f();}}},{key:"Cu",value:function Cu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"Av",value:function Av(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"_v",value:function _v(){var t=this.p_();var _iterator1498=_createForOfIteratorHelper(this["#items"].children),_step1498;try{for(_iterator1498.s();!(_step1498=_iterator1498.n()).done;){var _e1598=_step1498.value;var _i1481=_e1598.querySelector(".counter-button"),_s863=t[_e1598.dataset.family],_n629=_s863?_s863.length:0;0===_n629?(_i1481.setAttribute("hidden",""),_i1481.firstElementChild.textContent="0"):(_i1481.setAttribute("title",1===_n629?"Select 1 font family user":"Select ".concat(_n629," font family users")),_i1481.removeAttribute("hidden"),_i1481.firstElementChild.textContent=_n629);}}catch(err){_iterator1498.e(err);}finally{_iterator1498.f();}}},{key:"bv",value:function bv(){if("unpinned"===this.uv.fonts){var _iterator1499=_createForOfIteratorHelper(this["#items"].children),_step1499;try{for(_iterator1499.s();!(_step1499=_iterator1499.n()).done;){var _t2228=_step1499.value;var _e1599=_t2228.dataset.family,_i1482=_t2228.querySelector(".pin-button"),_s864=this.Js.board.workspaces.querySelector("style[data-bx-fonts=\"".concat(_e1599,"\"]"));_i1482.hidden=!1,_i1482.toggled=_s864.hasAttribute("data-bx-pinned");}}catch(err){_iterator1499.e(err);}finally{_iterator1499.f();}}else{var _iterator1500=_createForOfIteratorHelper(this["#items"].children),_step1500;try{for(_iterator1500.s();!(_step1500=_iterator1500.n()).done;){var _t2229=_step1500.value;_t2229.querySelector(".pin-button").hidden=!0;}}catch(err){_iterator1500.e(err);}finally{_iterator1500.f();}}}}]);return pg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(pg,"observedAttributes",["enabled"]);_defineProperty(pg,"_shadowTemplate",Hi(_templateObject433()));_defineProperty(pg,"_shadowStyleSheet",Yi(_templateObject434()));customElements.define("bx-fontsbrowser",pg);var ug=/*#__PURE__*/function(_HTMLElement120){_inherits(ug,_HTMLElement120);var _super190=_createSuper(ug);_createClass(ug,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function ug(){var _this868;_classCallCheck(this,ug);_this868=_super190.call(this),_this868._shadowRoot=_this868.attachShadow({mode:"closed"}),_this868._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,ug._shadowStyleSheet],_this868._shadowRoot.append(document.importNode(ug._shadowTemplate.content,!0));var _iterator1501=_createForOfIteratorHelper(_this868._shadowRoot.querySelectorAll("[id]")),_step1501;try{for(_iterator1501.s();!(_step1501=_iterator1501.n()).done;){var _t2230=_step1501.value;_this868["#"+_t2230.id]=_t2230;}}catch(err){_iterator1501.e(err);}finally{_iterator1501.f();}var _iterator1502=_createForOfIteratorHelper(_this868["#main"].children),_step1502;try{for(_iterator1502.s();!(_step1502=_iterator1502.n()).done;){var _t2231=_step1502.value;_this868[ni(_t2231.id)]=_t2231;}}catch(err){_iterator1502.e(err);}finally{_iterator1502.f();}_this868["#buttons"].addEventListener("toggle",function(){return _this868.toggleBrowser(_this868["#buttons"].value);});return _this868;}_createClass(ug,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var t=this.Qs.getConfig("bx-defspanel:currentBrowserID","gradients-browser");this.toggleBrowser(t);}},{key:"sn",value:function sn(){this.toggleBrowser(null);}},{key:"editColor",value:function editColor(t){this.toggleBrowser("colors-browser"),this["#colors-browser"].editColor(t);}},{key:"editGradient",value:function editGradient(t){this.toggleBrowser("gradients-browser"),this["#gradients-browser"].editGradient(t);}},{key:"editFilter",value:function editFilter(t){this.toggleBrowser("filters-browser"),this["#filters-browser"].editFilter(t);}},{key:"toggleBrowser",value:function toggleBrowser(t){this["#buttons"].value=t;var _iterator1503=_createForOfIteratorHelper(this["#main"].children),_step1503;try{for(_iterator1503.s();!(_step1503=_iterator1503.n()).done;){var _e1600=_step1503.value;null!==t&&_e1600.id===t?_e1600.enabled=!0:_e1600.enabled=!1;}}catch(err){_iterator1503.e(err);}finally{_iterator1503.f();}null!==t&&this.Qs.setConfig("bx-defspanel:currentBrowserID",t);}}]);return ug;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ug,"observedAttributes",["enabled"]);_defineProperty(ug,"_shadowTemplate",Hi(_templateObject435()));_defineProperty(ug,"_shadowStyleSheet",Yi(_templateObject436()));customElements.define("bx-defspanel",ug);var xg=Symbol();var bg=/*#__PURE__*/function(_HTMLElement121){_inherits(bg,_HTMLElement121);var _super191=_createSuper(bg);_createClass(bg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function bg(){var _this869;_classCallCheck(this,bg);_this869=_super191.call(this),_this869.u_=null,_this869.lv=0,_this869.x_=!1,_this869._shadowRoot=_this869.attachShadow({mode:"closed"}),_this869._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,bg._shadowStyleSheet],_this869._shadowRoot.append(document.importNode(bg._shadowTemplate.content,!0));var _iterator1504=_createForOfIteratorHelper(_this869._shadowRoot.querySelectorAll("[id]")),_step1504;try{for(_iterator1504.s();!(_step1504=_iterator1504.n()).done;){var _t2232=_step1504.value;_this869["#"+_t2232.id]=_t2232;}}catch(err){_iterator1504.e(err);}finally{_iterator1504.f();}_this869["#items"].addEventListener("scroll",function(){return _this869.hv();}),_this869["#items"].addEventListener("pointerdown",function(t){return _this869.Wc(t);}),_this869["#items"].addEventListener("click",function(t){return _this869.qc(t);}),_this869["#items"].addEventListener("contextmenu",function(t){return _this869.Xc(t);}),_this869["#items"].addEventListener("keydown",function(t){return _this869.Zc(t);}),_this869["#add-to-defs-button"].addEventListener("click",function(){return _this869.b_();}),_this869["#add-to-canvas-button"].addEventListener("click",function(){return _this869.m_();}),_this869["#search-input"].addEventListener("input",function(){return _this869.av();});return _this869;}_createClass(bg,[{key:"connectedCallback",value:function connectedCallback(){if(this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),"bx-chromeapp"!==this.Qs.localName){var _iterator1505=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[target="_blank"]')),_step1505;try{for(_iterator1505.s();!(_step1505=_iterator1505.n()).done;){var _t2233=_step1505.value;_t2233.setAttribute("rel","noopener");}}catch(err){_iterator1505.e(err);}finally{_iterator1505.f();}}this["#items"].scrollTop=this.lv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this870=this;!1===this.x_&&(this.x_=!0,this.Du()),!1===this["#items"].isConnected&&(this["#main"].prepend(this["#items"]),Ki(10).then(function(){return _this870["#items"].scrollTop=_this870.lv;})),window.addEventListener("resize",this.nn=function(){_this870.cv();});}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this["#items"].remove(),this["#item-popover"].opened&&this["#item-popover"].close(!1);}},{key:"cv",value:function cv(){this["#item-popover"].opened&&this["#item-popover"].close();}},{key:"hv",value:function hv(){this.lv=this["#items"].scrollTop,this["#item-popover"].opened&&this["#item-popover"].close();}},{key:"Zc",value:function Zc(t){var e=to.fromEvent(t),i=this["#items"].querySelector(".item[data-selected]");i&&(e.matches("Enter")?this.Ww(i):e.matches("ArrowDown")&&i.nextElementSibling?(t.stopPropagation(),t.preventDefault(),this.g_(i.nextElementSibling)):e.matches("ArrowUp")&&i.previousElementSibling&&(t.stopPropagation(),t.preventDefault(),this.g_(i.previousElementSibling)));}},{key:"b_",value:function b_(){var t=this.Js.board,e=this["#items"].querySelector(".item[data-selected]")[xg],i=document.createDocumentFragment(),s=[];t.undoManager.checkpoint("Add colors from library");var _iterator1506=_createForOfIteratorHelper(e.colors),_step1506;try{for(_iterator1506.s();!(_step1506=_iterator1506.n()).done;){var _n630=_step1506.value;var _e1601=Di("svg:linearGradient");_e1601.setAttribute("data-bx-pinned","true"),_e1601.id=t.generateUniqueID("color",i),_e1601.innerHTML="<stop style=\"stop-color: ".concat(_n630,";\"></stop>"),i.append(_e1601),s.push(_e1601.id);}}catch(err){_iterator1506.e(err);}finally{_iterator1506.f();}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i),this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("colors-browser"),this.Js.defsPanel.colorsBrowser.selectColors(s);}},{key:"m_",value:function(){var _m_=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee145(){var t,e,i,s,n,o,_t2234,_e1602,_e1603,_s865,_n631,_l376;return regeneratorRuntime.wrap(function _callee145$(_context146){while(1){switch(_context146.prev=_context146.next){case 0:t=this.Js.board,e=this["#items"].querySelector(".item[data-selected]"),i=e[xg],s=t.getBoundingClientRect(!1,!0),n=e.getBoundingClientRect(),o=e.getBoundingClientRect();o.x=s.x+s.width/2-o.width/2,o.y=s.y+s.height/2-o.height/2,this["#item-popover"].close();_t2234=Hi(_templateObject68());_t2234.style.display="flex",_t2234.style.position="fixed",_t2234.style.left=n.left+"px",_t2234.style.top=n.top+"px",_t2234.style.width=n.width+"px",_t2234.style.height=n.height+"px",_t2234.style.zIndex="999999999",_t2234.style.pointerEvents="none",_t2234.style.background="linear-gradient(\n        to right,\n        ".concat(i.colors[0],"  0%, ").concat(i.colors[0],"  25%,\n        ").concat(i.colors[1]," 25%, ").concat(i.colors[1],"  50%,\n        ").concat(i.colors[2]," 50%, ").concat(i.colors[2],"  75%,\n        ").concat(i.colors[3]," 75%, ").concat(i.colors[3]," 100%\n      )"),document.body.append(_t2234);_e1602=_t2234.animate({left:[n.left+"px",o.left+"px"],top:[n.top+"px",o.top+"px"]},{duration:400,easing:"ease"});_context146.next=7;return _e1602.finished;case 7:_t2234.remove();t.undoManager.checkpoint("Add colors from library");_e1603=X(o.width*(1/4),0),_s865=X(o.height,0),_n631=Wi(_templateObject69(),o.width,o.height,_e1603,_s865,i.colors[0],_e1603,_e1603,_s865,i.colors[1],2*_e1603,_e1603,_s865,i.colors[2],3*_e1603,_e1603,_s865,i.colors[3]),_l376=t.insertArtworkIntoBBox(_n631,o);t.selectedElements=[_l376],t.selectedTextRange=null;case 11:case"end":return _context146.stop();}}},_callee145,this);}));function m_(){return _m_.apply(this,arguments);}return m_;}()},{key:"Wc",value:function Wc(t){var _this871=this;if(0===t.button){var _e1605,_i1483,_s867,_n632=t.target.matches(".item")?t.target:null,_o501=new DOMPoint(t.clientX,t.clientY);_n632&&("touch"!==t.pointerType&&this.g_(_n632),_n632.setPointerCapture(t.pointerId),_n632.addEventListener("pointermove",_e1605=function _e1604(l){var h=new DOMPoint(l.clientX,l.clientY);Pe(_o501,h)>=5&&(_n632.removeEventListener("pointermove",_e1605),_n632.removeEventListener("pointerup",_i1483),_n632.removeEventListener("pointercancel",_s867),_this871.Gw(_n632,t));}),_n632.addEventListener("pointerup",_i1483=/*#__PURE__*/function(){var _ref141=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee146(t){return regeneratorRuntime.wrap(function _callee146$(_context147){while(1){switch(_context147.prev=_context147.next){case 0:_n632.removeEventListener("pointermove",_e1605),_n632.removeEventListener("pointerup",_i1483),_n632.removeEventListener("pointercancel",_s867);case 1:case"end":return _context147.stop();}}},_callee146);}));return function _i1483(_x168){return _ref141.apply(this,arguments);};}()),_n632.addEventListener("pointercancel",_s867=function _s866(){_n632.removeEventListener("pointermove",_e1605),_n632.removeEventListener("pointerup",_i1483),_n632.removeEventListener("pointercancel",_s867);}));}}},{key:"Gw",value:function Gw(t,e){var i,s,_n633,o,l=this.Js.board,h=t[xg],a=t.getBoundingClientRect();this["#item-popover"].opened&&this["#item-popover"].close(),t.style.cursor="copy",t.setPointerCapture(e.pointerId),i=Hi(_templateObject70()),i.style.display="flex",i.style.position="fixed",i.style.left=a.left+"px",i.style.top=a.top+"px",i.style.width=a.width+"px",i.style.height=a.height+"px",i.style.zIndex="999999999",i.style.pointerEvents="none",i.style.background="linear-gradient(\n        to right,\n        ".concat(h.colors[0],"  0%, ").concat(h.colors[0],"  25%,\n        ").concat(h.colors[1]," 25%, ").concat(h.colors[1],"  50%,\n        ").concat(h.colors[2]," 50%, ").concat(h.colors[2],"  75%,\n        ").concat(h.colors[3]," 75%, ").concat(h.colors[3]," 100%\n      )"),document.body.append(i),t.addEventListener("pointermove",s=function s(t){var s=t.clientX-e.clientX,n=t.clientY-e.clientY;i.style.left=a.x+s+"px",i.style.top=a.y+n+"px";}),t.addEventListener("pointercancel",_n633=function n(){t.removeEventListener("pointermove",s),t.removeEventListener("pointercancel",_n633),t.removeEventListener("pointerup",o),t.style.cursor=null,i.remove();}),t.addEventListener("pointerup",o=/*#__PURE__*/function(){var _ref142=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee147(e){var _t2235,_e1606,_s868,_n634,_o502;return regeneratorRuntime.wrap(function _callee147$(_context148){while(1){switch(_context148.prev=_context148.next){case 0:if(t.removeEventListener("pointermove",s),t.removeEventListener("pointercancel",_n633),t.removeEventListener("pointerup",o),t.style.cursor=null,l.isPointOverBoard(e.clientX,e.clientY)){_t2235=i.getBoundingClientRect(),_e1606=X(_t2235.width*(1/4),0),_s868=X(_t2235.height,0),_n634=Wi(_templateObject71(),a.width,a.height,_e1606,_s868,h.colors[0],_e1606,_e1606,_s868,h.colors[1],2*_e1606,_e1606,_s868,h.colors[2],3*_e1606,_e1606,_s868,h.colors[3]);l.undoManager.checkpoint("Add colors from library");_o502=l.insertArtworkIntoBBox(_n634,_t2235);l.selectedElements=[_o502],l.selectedTextRange=null,i.remove();}else i.remove();case 1:case"end":return _context148.stop();}}},_callee147);}));return function o(_x169){return _ref142.apply(this,arguments);};}());}},{key:"qc",value:function qc(t){var e=t.target.closest(".item");e&&(this.g_(e),2===t.detail&&this.Ww(e));}},{key:"Xc",value:function(){var _Xc8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee148(t){var e;return regeneratorRuntime.wrap(function _callee148$(_context149){while(1){switch(_context149.prev=_context149.next){case 0:e=t.target.closest(".item");_context149.t0=e;if(!_context149.t0){_context149.next=8;break;}t.preventDefault();this.g_(e);_context149.next=7;return Ki(150);case 7:this.Ww(e);case 8:case"end":return _context149.stop();}}},_callee148,this);}));function Xc(_x170){return _Xc8.apply(this,arguments);}return Xc;}()},{key:"av",value:function av(){this.f_(),this["#items"].scrollTop=0;}},{key:"g_",value:function g_(t){{var _e1607=this["#items"].querySelector(":scope > .item[data-selected]");_e1607!==t&&(_e1607&&_e1607.removeAttribute("data-selected"),t.setAttribute("data-selected",""),t.scrollIntoViewIfNeeded());}this["#item-popover"].opened&&(this["#item-popover"].close(),this["#items"].focus());}},{key:"Ww",value:function Ww(t){this.w_();var e=t.getBoundingClientRect(),i=new DOMPoint(e.left,e.top+e.height/2);this["#item-popover"].open(i);}},{key:"Du",value:function(){var _Du=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee149(){var _iterator1507,_step1507,_t2236,_e1608;return regeneratorRuntime.wrap(function _callee149$(_context150){while(1){switch(_context150.prev=_context150.next){case 0:_context150.t0=this.u_;if(_context150.t0){_context150.next=7;break;}_context150.next=4;return fetch("/metadata/palettes/colorhunt.json");case 4:_context150.next=6;return _context150.sent.json();case 6:this.u_=_context150.sent;case 7:if(!(0===this["#items"].childElementCount)){_context150.next=10;break;}_iterator1507=_createForOfIteratorHelper(this.u_);try{for(_iterator1507.s();!(_step1507=_iterator1507.n()).done;){_t2236=_step1507.value;_e1608=Hi(_templateObject72(),_t2236.id,_t2236.colors[0],_t2236.colors[0],_t2236.colors[1],_t2236.colors[1],_t2236.colors[2],_t2236.colors[2],_t2236.colors[3],_t2236.colors[3]);_e1608[xg]=_t2236,this["#items"].append(_e1608);}}catch(err){_iterator1507.e(err);}finally{_iterator1507.f();}case 10:this.f_();case 11:case"end":return _context150.stop();}}},_callee149,this);}));function Du(){return _Du.apply(this,arguments);}return Du;}()},{key:"f_",value:function f_(){var t=this["#search-input"].value.trim();if(""===t){var _iterator1508=_createForOfIteratorHelper(this["#items"].children),_step1508;try{for(_iterator1508.s();!(_step1508=_iterator1508.n()).done;){var _t2237=_step1508.value;_t2237.hidden=!1;}}catch(err){_iterator1508.e(err);}finally{_iterator1508.f();}this["#placeholder"].hidden=!0;}else{var _iterator1509=_createForOfIteratorHelper(this["#items"].children),_step1509;try{for(_iterator1509.s();!(_step1509=_iterator1509.n()).done;){var _e1609=_step1509.value;var _i1484=_e1609[xg],_s869=!1;var _iterator1510=_createForOfIteratorHelper(_i1484.tags),_step1510;try{for(_iterator1510.s();!(_step1510=_iterator1510.n()).done;){var _e1610=_step1510.value;if(-1!==_e1610.indexOf(t)){_s869=!0;break;}}}catch(err){_iterator1510.e(err);}finally{_iterator1510.f();}_e1609.hidden=!1===_s869;}}catch(err){_iterator1509.e(err);}finally{_iterator1509.f();}null===this["#items"].querySelector(".item:not([hidden])")?(this["#placeholder"].hidden=!1,this["#placeholder"].textContent="No colors found."):this["#placeholder"].hidden=!0;}}},{key:"w_",value:function w_(){var t=this["#items"].querySelector(".item[data-selected]");if(t){var _e1611=t[xg],_i1485="https://colorhunt.co/palette/".concat(_e1611.id);this["#item-tags-value"].textContent=_e1611.tags.map(function(t){return si(t);}).join(", "),this["#item-colorhunt-anchor"].setAttribute("href",_i1485);}}}]);return bg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(bg,"observedAttributes",["enabled"]);_defineProperty(bg,"_shadowTemplate",Hi(_templateObject437(),"https://creativecommons.org/publicdomain/zero/1.0/"));_defineProperty(bg,"_shadowStyleSheet",Yi(_templateObject438()));customElements.define("bx-colorslibrarybrowser",bg);var mg={"http://scripts.sil.org/OFL":"SIL Open Font License","https://ubuntu.com/legal/font-licence":"Ubuntu Font Licence","http://www.apache.org/licenses/LICENSE-2.0.html":"Apache License"},gg={"sans-serif":"Sans Serif",serif:"Serif",display:"Display",handwriting:"Handwriting",monospace:"Monospace"},fg={arabic:"Arabic",bengali:"Bengali","chinese-hongkong":"Chinese (Hong Kong)","chinese-simplified":"Chinese (simplified)","chinese-traditional":"Chinese (traditional)",cyrillic:"Cyrillic","cyrillic-ext":"Cyrillic (extended)",devanagari:"Devanagari",greek:"Greek","greek-ext":"Greek (extended)",gujarati:"Gujarati",gurmukhi:"Gurmukhi",hebrew:"Hebrew",japanese:"Japanese",kannada:"Kannada",khmer:"Khmer",korean:"Korean",latin:"Latin","latin-ext":"Latin (extended)",malayalam:"Malayalam",myanmar:"Myanmar",oriya:"Oriya",sinhala:"Sinhala",tamil:"Tamil",thai:"Thai",telugu:"Telugu",vietnamese:"Vietnamese"},wg=Symbol();var vg=/*#__PURE__*/function(_HTMLElement122){_inherits(vg,_HTMLElement122);var _super192=_createSuper(vg);_createClass(vg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function vg(){var _this872;_classCallCheck(this,vg);_this872=_super192.call(this),_this872.Xd=null,_this872.v_=null,_this872.y_=null,_this872.lv=0,_this872.x_=!1,_this872._shadowRoot=_this872.attachShadow({mode:"closed"}),_this872._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,vg._shadowStyleSheet],_this872._shadowRoot.append(document.importNode(vg._shadowTemplate.content,!0));var _iterator1511=_createForOfIteratorHelper(_this872._shadowRoot.querySelectorAll("[id]")),_step1511;try{for(_iterator1511.s();!(_step1511=_iterator1511.n()).done;){var _t2238=_step1511.value;_this872["#"+_t2238.id]=_t2238;}}catch(err){_iterator1511.e(err);}finally{_iterator1511.f();}_this872["#items"].addEventListener("scroll",function(){return _this872.hv();}),_this872["#items"].addEventListener("pointerdown",function(t){return _this872.Wc(t);}),_this872["#items"].addEventListener("click",function(t){return _this872.qc(t);}),_this872["#items"].addEventListener("contextmenu",function(t){return _this872.Xc(t);}),_this872["#items"].addEventListener("keydown",function(t){return _this872.Zc(t);}),_this872["#add-to-defs-button"].addEventListener("click",function(){return _this872.b_();}),_this872["#search-input"].addEventListener("input",function(){return _this872.av();}),_this872["#sort-select"].addEventListener("change",function(){return _this872.um();}),_this872["#category-select"].addEventListener("change",function(){return _this872.k_();}),_this872["#subset-select"].addEventListener("change",function(){return _this872.S_();});return _this872;}_createClass(vg,[{key:"connectedCallback",value:function connectedCallback(){if(this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),"bx-chromeapp"!==this.Qs.localName){var _iterator1512=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[target="_blank"]')),_step1512;try{for(_iterator1512.s();!(_step1512=_iterator1512.n()).done;){var _t2239=_step1512.value;_t2239.setAttribute("rel","noopener");}}catch(err){_iterator1512.e(err);}finally{_iterator1512.f();}}this["#items"].scrollTop=this.lv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this873=this;!1===this.x_&&(this.x_=!0,this.__(),this.Du()),!1===this["#items"].isConnected&&(this["#main"].prepend(this["#items"]),Ki(10).then(function(){return _this873["#items"].scrollTop=_this873.lv;})),window.addEventListener("resize",this.nn=function(){_this873.cv();});}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this["#items"].remove(),this["#item-popover"].opened&&this["#item-popover"].close(!1);}},{key:"cv",value:function cv(){this["#item-popover"].opened&&this["#item-popover"].close();}},{key:"hv",value:function hv(){this.lv=this["#items"].scrollTop,this["#item-popover"].opened&&this["#item-popover"].close();}},{key:"Zc",value:function Zc(t){var e=to.fromEvent(t),i=this["#items"].querySelector(".item[data-selected]");i&&(e.matches("Enter")?this.Ww(i):e.matches("ArrowDown")&&i.nextElementSibling?(t.stopPropagation(),t.preventDefault(),this.g_(i.nextElementSibling)):e.matches("ArrowUp")&&i.previousElementSibling&&(t.stopPropagation(),t.preventDefault(),this.g_(i.previousElementSibling)));}},{key:"b_",value:function(){var _b_=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee150(){var t,e,i,_i1486,_Object$entries6,_Object$entries6$_i,_s870,_n635,_o503,_l377,_h273,_a216,_r142,_d110,_c86;return regeneratorRuntime.wrap(function _callee150$(_context151){while(1){switch(_context151.prev=_context151.next){case 0:t=this["#items"].querySelector(".item[data-selected]")[wg],e=[],i=null;this["#add-to-defs-button"].disabled=!0;_i1486=0,_Object$entries6=Object.entries(t.urls);case 3:if(!(_i1486<_Object$entries6.length)){_context151.next=32;break;}_Object$entries6$_i=_slicedToArray(_Object$entries6[_i1486],2),_s870=_Object$entries6$_i[0],_n635=_Object$entries6$_i[1];_o503=null;_context151.prev=6;_context151.next=9;return fetch(_n635);case 9:_o503=_context151.sent;_context151.next=16;break;case 12:_context151.prev=12;_context151.t0=_context151["catch"](6);i=_context151.t0;return _context151.abrupt("break",32);case 16:_context151.next=18;return _o503.blob();case 18:_l377=_context151.sent;_context151.next=21;return Ra(_l377);case 21:_context151.t1=_context151.sent;_context151.t2="url("+_context151.t1;_h273=_context151.t2+")";_a216=t.family;_r142=_s870.substring(0,3);_d110=_s870.includes("italic")?"italic":"normal";_c86=new FontFace(_a216,_h273,{family:_a216,weight:_r142,style:_d110});_c86.src=_h273,e.push(_c86);case 29:_i1486++;_context151.next=3;break;case 32:if(!i){_context151.next=34;break;}return _context151.abrupt("return",(this.Qs.openMessageDialog({buttons:["OK"],message:"Can't import \"".concat(t.family,"\" font family"),detail:"Unable to connect to Google Fonts server. Please try again later."}),void(this["#add-to-defs-button"].disabled=!1)));case 34:if(!this.Js.board.fontsManager.getFamilies().includes(t.family)){_context151.next=40;break;}_context151.next=37;return this.Qs.openMessageDialog({type:"question",buttons:["Override","Cancel"],message:"Font family already defined",detail:"This font family is already defined, do you want to override the existing definition?"});case 37:_context151.t3=_context151.sent;if(!(0!==_context151.t3)){_context151.next=40;break;}return _context151.abrupt("return",void(this["#add-to-defs-button"].disabled=!1));case 40:this.Js.board.undoManager.checkpoint("Add \"".concat(t.family,"\" font family to defs")),this.Js.board.fontsManager.removeFamily(t.family),this.Js.board.fontsManager.addFonts(e),this.Js.board.fontsManager.pinFamily(t.family),this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("fonts-browser"),this.Js.defsPanel.fontsBrowser.featureFamily(t.family),this["#add-to-defs-button"].disabled=!1;case 41:case"end":return _context151.stop();}}},_callee150,this,[[6,12]]);}));function b_(){return _b_.apply(this,arguments);}return b_;}()},{key:"Wc",value:function Wc(t){var _this874=this;if(0===t.button){var _e1613,_i1487,_s872,_n636=t.target.closest(".item"),_o504=new DOMPoint(t.clientX,t.clientY);_n636&&("touch"!==t.pointerType&&this.g_(_n636),_n636.setPointerCapture(t.pointerId),_n636.addEventListener("pointermove",_e1613=function _e1612(l){var h=new DOMPoint(l.clientX,l.clientY);Pe(_o504,h)>=5&&(_n636.removeEventListener("pointermove",_e1613),_n636.removeEventListener("pointerup",_i1487),_n636.removeEventListener("pointercancel",_s872),_this874.Gw(_n636,t));}),_n636.addEventListener("pointerup",_i1487=/*#__PURE__*/function(){var _ref143=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee151(t){return regeneratorRuntime.wrap(function _callee151$(_context152){while(1){switch(_context152.prev=_context152.next){case 0:_n636.removeEventListener("pointermove",_e1613),_n636.removeEventListener("pointerup",_i1487),_n636.removeEventListener("pointercancel",_s872);case 1:case"end":return _context152.stop();}}},_callee151);}));return function _i1487(_x171){return _ref143.apply(this,arguments);};}()),_n636.addEventListener("pointercancel",_s872=function _s871(){_n636.removeEventListener("pointermove",_e1613),_n636.removeEventListener("pointerup",_i1487),_n636.removeEventListener("pointercancel",_s872);}));}}},{key:"Gw",value:function Gw(t,e){var _this875=this;var i,s,_n638,o,l=this.Js.board,h=t[wg],a=t.firstElementChild.getBoundingClientRect(),r=1,d=[],c=new Promise(function(t){return d.push(t);});this["#item-popover"].opened&&this["#item-popover"].close(),t.style.cursor="copy",t.setPointerCapture(e.pointerId),i=t.querySelector("img").cloneNode(!0),i.style.position="fixed",i.style.left=a.left+"px",i.style.top=a.top+"px",i.style.width=a.width+"px",i.style.height=a.height+"px",i.style.zIndex="999999999",i.style.pointerEvents="none",i.style.filter="invert(100%)",document.body.append(i),_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee152(){var t,e,_i1488,_Object$entries7,_Object$entries7$_i,_i1489,_s873,_n637,_o505,_l378,_a217,_r143,_d111,_c87,_iterator1513,_step1513,_i1490;return regeneratorRuntime.wrap(function _callee152$(_context153){while(1){switch(_context153.prev=_context153.next){case 0:t=[],e=null;_i1488=0,_Object$entries7=Object.entries(h.urls);case 2:if(!(_i1488<_Object$entries7.length)){_context153.next=31;break;}_Object$entries7$_i=_slicedToArray(_Object$entries7[_i1488],2),_i1489=_Object$entries7$_i[0],_s873=_Object$entries7$_i[1];_n637=null;_context153.prev=5;_context153.next=8;return fetch(_s873);case 8:_n637=_context153.sent;_context153.next=15;break;case 11:_context153.prev=11;_context153.t0=_context153["catch"](5);e=_context153.t0;return _context153.abrupt("break",31);case 15:_context153.next=17;return _n637.blob();case 17:_o505=_context153.sent;_context153.next=20;return Ra(_o505);case 20:_context153.t1=_context153.sent;_context153.t2="url("+_context153.t1;_l378=_context153.t2+")";_a217=h.family;_r143=_i1489.substring(0,3);_d111=_i1489.includes("italic")?"italic":"normal";_c87=new FontFace(_a217,_l378,{family:_a217,weight:_r143,style:_d111});_c87.src=_l378,t.push(_c87);case 28:_i1488++;_context153.next=2;break;case 31:_iterator1513=_createForOfIteratorHelper(d);try{for(_iterator1513.s();!(_step1513=_iterator1513.n()).done;){_i1490=_step1513.value;_i1490(e?null:t);}}catch(err){_iterator1513.e(err);}finally{_iterator1513.f();}case 33:case"end":return _context153.stop();}}},_callee152,null,[[5,11]]);}))(),t.addEventListener("pointermove",s=function s(t){var s=t.clientX-e.clientX,n=t.clientY-e.clientY;s<0&&(r=1+Math.abs(s)/150,r>3&&(r=3)),i.style.top=a.y+n+"px",i.style.left=a.x+s+"px",i.style.transform="scale(".concat(r,")");}),t.addEventListener("pointercancel",_n638=function n(){t.removeEventListener("pointermove",s),t.removeEventListener("pointercancel",_n638),t.removeEventListener("pointerup",o),t.style.cursor=null,i.remove();}),t.addEventListener("pointerup",o=/*#__PURE__*/function(){var _ref145=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee153(e){var a,_t2240,_e1614,_s874,_n639,_o506,_a218,_d112;return regeneratorRuntime.wrap(function _callee153$(_context154){while(1){switch(_context154.prev=_context154.next){case 0:if(!(t.removeEventListener("pointermove",s),t.removeEventListener("pointercancel",_n638),t.removeEventListener("pointerup",o),t.style.cursor=null,!1===l.isPointOverBoard(e.clientX,e.clientY))){_context154.next=2;break;}return _context154.abrupt("return",void i.remove());case 2:_context154.next=4;return c;case 4:a=_context154.sent;if(!(null===a)){_context154.next=10;break;}i.remove();_context154.next=9;return Ki(100);case 9:return _context154.abrupt("return",void _this875.Qs.openMessageDialog({buttons:["OK"],message:"Can't import \"".concat(h.family,"\" font family"),detail:"Unable to connect to Google Fonts server. Please try again later."}));case 10:if(!l.fontsManager.getFamilies().includes(h.family)){_context154.next=16;break;}_context154.next=13;return _this875.Qs.openMessageDialog({type:"question",buttons:["Override","Cancel"],message:"Font family already defined",detail:"This font family is already defined, do you want to override it?"});case 13:_context154.t0=_context154.sent;if(!(0!==_context154.t0)){_context154.next=16;break;}return _context154.abrupt("return",void i.remove());case 16:l.undoManager.checkpoint("Add \"".concat(h.family,"\" font family to defs"));l.fontsManager.removeFamily(h.family);l.fontsManager.addFonts(a);_context154.next=21;return Promise.all(a.map(function(t){return t.load();}));case 21:_t2240=l.currentContainer||l.currentWorkspace,_e1614=i.getBoundingClientRect(),_s874=Vt(_t2240).inverse(),_n639=new DOMPoint(_e1614.x,_e1614.y+_e1614.height-4*r).matrixTransform(_s874),_o506=X(_n639.x,l.geometryPrecision),_a218=X(_n639.y,l.geometryPrecision),_d112=Di("svg:text");_d112.setAttribute("x",_o506),_d112.setAttribute("y",_a218),_d112.textContent=h.family,_d112.style.whiteSpace="pre",_d112.style.fontSize=20*r*(1/l.scale)+"px",_d112.style.fontFamily="\"".concat(h.family,"\""),_t2240.append(_d112),l.selectedElements=[_d112],l.selectedTextRange=null,i.remove();case 23:case"end":return _context154.stop();}}},_callee153);}));return function o(_x172){return _ref145.apply(this,arguments);};}());}},{key:"qc",value:function qc(t){var e=t.target.closest(".item");e&&(this.g_(e),2===t.detail&&this.Ww(e));}},{key:"Xc",value:function(){var _Xc9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee154(t){var e;return regeneratorRuntime.wrap(function _callee154$(_context155){while(1){switch(_context155.prev=_context155.next){case 0:e=t.target.closest(".item");_context155.t0=e;if(!_context155.t0){_context155.next=8;break;}t.preventDefault();this.g_(e);_context155.next=7;return Ki(150);case 7:this.Ww(e);case 8:case"end":return _context155.stop();}}},_callee154,this);}));function Xc(_x173){return _Xc9.apply(this,arguments);}return Xc;}()},{key:"av",value:function av(){this.f_(),this["#items"].scrollTop=0;}},{key:"um",value:function um(){this.Qs.setConfig("bx-fontslibrarybrowser:sort",this["#sort-select"].value),this.Du(!0);}},{key:"k_",value:function k_(){this.Qs.setConfig("bx-fontslibrarybrowser:category",this["#category-select"].value),this.Du(!0);}},{key:"S_",value:function S_(){this.Qs.setConfig("bx-fontslibrarybrowser:subset",this["#subset-select"].value),this.Du(!0);}},{key:"g_",value:function g_(t){{var _e1615=this["#items"].querySelector(":scope > .item[data-selected]");_e1615!==t&&(_e1615&&(_e1615.removeAttribute("data-selected"),_e1615.part.remove("selected-item")),t.setAttribute("data-selected",""),t.part.add("selected-item"),t.scrollIntoViewIfNeeded());}this["#item-popover"].opened&&(this["#item-popover"].close(),this["#items"].focus());}},{key:"Ww",value:function Ww(t){this.w_();var e=t.getBoundingClientRect(),i=new DOMPoint(e.left,e.top+e.height/2);this["#item-popover"].open(i);}},{key:"C_",value:function C_(t){return gg[t]||t;}},{key:"M_",value:function M_(t){return fg[t]||t;}},{key:"P_",value:function(){var _P_=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee156(){var _this876=this;return regeneratorRuntime.wrap(function _callee156$(_context157){while(1){switch(_context157.prev=_context157.next){case 0:return _context157.abrupt("return",new Promise(/*#__PURE__*/function(){var _ref146=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee155(t){var _e1616,_iterator1514,_step1514,_t2241;return regeneratorRuntime.wrap(function _callee155$(_context156){while(1){switch(_context156.prev=_context156.next){case 0:if(!_this876.v_){_context156.next=4;break;}t(_this876.v_);_context156.next=17;break;case 4:if(!_this876.y_){_context156.next=8;break;}_this876.y_.push(t);_context156.next=17;break;case 8:_this876.y_=[t];_context156.next=11;return fetch("metadata/fonts/google-fonts-thumbnails.json");case 11:_e1616=_context156.sent;_context156.next=14;return _e1616.json();case 14:_this876.v_=_context156.sent;_iterator1514=_createForOfIteratorHelper(_this876.y_);try{for(_iterator1514.s();!(_step1514=_iterator1514.n()).done;){_t2241=_step1514.value;_t2241(_this876.v_);}}catch(err){_iterator1514.e(err);}finally{_iterator1514.f();}case 17:case"end":return _context156.stop();}}},_callee155);}));return function(_x174){return _ref146.apply(this,arguments);};}()));case 1:case"end":return _context157.stop();}}},_callee156);}));function P_(){return _P_.apply(this,arguments);}return P_;}()},{key:"Du",value:function(){var _Du2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee157(){var t,_e1617,_i1491,_s875,_n640,_o507,_l379,_h274,_iterator1515,_step1515,_t2244,_t2242,_iterator1516,_step1516,_i1492,_iterator1517,_step1517,_t2243,_args158=arguments;return regeneratorRuntime.wrap(function _callee157$(_context158){while(1){switch(_context158.prev=_context158.next){case 0:t=_args158.length>0&&_args158[0]!==undefined?_args158[0]:!1;_context158.next=3;return this.P_();case 3:_e1617=_context158.sent;_context158.next=6;return wr();case 6:_i1491=_context158.sent;_s875=this["#sort-select"].value;_n640=this["#category-select"].value;_o507=this["#subset-select"].value;_l379={};_h274=null;_iterator1515=_createForOfIteratorHelper(_i1491.items);try{for(_iterator1515.s();!(_step1515=_iterator1515.n()).done;){_t2244=_step1515.value;_l379[_t2244.family]=_t2244;}}catch(err){_iterator1515.e(err);}finally{_iterator1515.f();}"alphabetical"===_s875?_h274=_i1491.items.map(function(t){return t.family;}):"popularity"!==_s875&&"trending"!==_s875&&"date"!==_s875||(_h274=_i1491.sortedFamilies[_s875]),_h274=_h274.filter(function(t){var e=_l379[t];return("all"===_n640||e.category===_n640)&&("all"===_o507||!1!==e.subsets.includes(_o507));});_t2242="";_iterator1516=_createForOfIteratorHelper(_h274);try{for(_iterator1516.s();!(_step1516=_iterator1516.n()).done;){_i1492=_step1516.value;_t2242+="\n            <div class=\"item\" part=\"item\" data-name=\"".concat(_i1492,"\">\n              <img src=\"").concat(_e1617[_i1492],"\"></img>\n            </div>\n          ");}}catch(err){_iterator1516.e(err);}finally{_iterator1516.f();}this["#items"].innerHTML=_t2242;_iterator1517=_createForOfIteratorHelper(this["#items"].children);try{for(_iterator1517.s();!(_step1517=_iterator1517.n()).done;){_t2243=_step1517.value;_t2243[wg]=_l379[_t2243.dataset.name];}}catch(err){_iterator1517.e(err);}finally{_iterator1517.f();}t&&(this["#items"].scrollTop=0);this.f_();case 23:case"end":return _context158.stop();}}},_callee157,this);}));function Du(){return _Du2.apply(this,arguments);}return Du;}()},{key:"f_",value:function f_(){var t=this["#search-input"].value.trim();if(""===t){var _iterator1518=_createForOfIteratorHelper(this["#items"].children),_step1518;try{for(_iterator1518.s();!(_step1518=_iterator1518.n()).done;){var _t2245=_step1518.value;_t2245.hidden=!1;}}catch(err){_iterator1518.e(err);}finally{_iterator1518.f();}this["#placeholder"].hidden=!0;}else{var _iterator1519=_createForOfIteratorHelper(this["#items"].children),_step1519;try{for(_iterator1519.s();!(_step1519=_iterator1519.n()).done;){var _e1618=_step1519.value;var _i1493=-1!==_e1618[wg].family.toLowerCase().indexOf(t.toLowerCase());_e1618.hidden=!1===_i1493;}}catch(err){_iterator1519.e(err);}finally{_iterator1519.f();}null===this["#items"].querySelector(".item:not([hidden])")?(this["#placeholder"].hidden=!1,this["#placeholder"].textContent="No fonts found."):this["#placeholder"].hidden=!0;}}},{key:"w_",value:function w_(){var _this877=this;var t=this["#items"].querySelector(".item[data-selected]");if(t){var _e1619=t[wg],_i1494="https://fonts.google.com/specimen/"+ii(_e1619.family," ","+");this["#item-family-value"].textContent=_e1619.family,this["#item-weights-value"].textContent=_e1619.faces.filter(function(t){return e=t,!Array.isArray(e)&&e-j(e)+1>=0;var e;}).join(", "),this["#item-subsets-value"].textContent=_e1619.subsets.map(function(t){return _this877.M_(t);}).join(", "),this["#item-category-value"].textContent=this.C_(_e1619.category),this["#item-license-anchor"].href=_e1619.license,this["#item-license-anchor"].textContent=mg[_e1619.license]?mg[_e1619.license]:"Custom",this["#item-google-fonts-anchor"].setAttribute("href",_i1494);}}},{key:"__",value:function __(){if(this["#sort-select"].value=this.Qs.getConfig("bx-fontslibrarybrowser:sort","popularity"),2===this["#category-menu"].children.length){var _t2246="";for(var _i1495=0,_Object$entries8=Object.entries(gg);_i1495<_Object$entries8.length;_i1495++){var _Object$entries8$_i=_slicedToArray(_Object$entries8[_i1495],2),_e1620=_Object$entries8$_i[0],_i1496=_Object$entries8$_i[1];_t2246+="<x-menuitem value=\"".concat(_e1620,"\"><x-label>").concat(_i1496,"</x-label></x-menuitem>");}this["#category-menu"].insertAdjacentHTML("beforeend",_t2246);}if(this["#category-select"].value=this.Qs.getConfig("bx-fontslibrarybrowser:category","all"),2===this["#subset-menu"].children.length){var _t2247="";for(var _i1497=0,_Object$entries9=Object.entries(fg);_i1497<_Object$entries9.length;_i1497++){var _Object$entries9$_i=_slicedToArray(_Object$entries9[_i1497],2),_e1621=_Object$entries9$_i[0],_i1498=_Object$entries9$_i[1];_t2247+="<x-menuitem value=\"".concat(_e1621,"\"><x-label>").concat(_i1498,"</x-label></x-menuitem>");}this["#subset-menu"].insertAdjacentHTML("beforeend",_t2247);}this["#subset-select"].value=this.Qs.getConfig("bx-fontslibrarybrowser:subset","all");}}]);return vg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(vg,"observedAttributes",["enabled"]);_defineProperty(vg,"_shadowTemplate",Hi(_templateObject439()));_defineProperty(vg,"_shadowStyleSheet",Yi(_templateObject440()));customElements.define("bx-fontslibrarybrowser",vg);var yg=Math.abs,kg=Object.entries,Sg="https://pixabay.com/service/terms/#license",_g=Symbol();var Cg=/*#__PURE__*/function(_HTMLElement123){_inherits(Cg,_HTMLElement123);var _super193=_createSuper(Cg);_createClass(Cg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Cg(){var _this878;_classCallCheck(this,Cg);_this878=_super193.call(this),_this878.x_=!1,_this878.D_=0,_this878.z_=!1,_this878.O_=!1,_this878.lv=0,_this878.E_=Xi(_this878.E_,600,_assertThisInitialized(_this878)),_this878.T_=new Dexie("bx-photoslibrarybrowser"),_this878.T_.version(1).stores({pixabayCache:"requestURL,time"}),_this878._shadowRoot=_this878.attachShadow({mode:"closed"}),_this878._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Cg._shadowStyleSheet],_this878._shadowRoot.append(document.importNode(Cg._shadowTemplate.content,!0));var _iterator1520=_createForOfIteratorHelper(_this878._shadowRoot.querySelectorAll("[id]")),_step1520;try{for(_iterator1520.s();!(_step1520=_iterator1520.n()).done;){var _t2248=_step1520.value;_this878["#"+_t2248.id]=_t2248;}}catch(err){_iterator1520.e(err);}finally{_iterator1520.f();}_this878["#items"].addEventListener("scroll",function(){return _this878.hv();}),_this878["#items"].addEventListener("pointerdown",function(t){return _this878.Wc(t);}),_this878["#items"].addEventListener("click",function(t){return _this878.qc(t);}),_this878["#items"].addEventListener("contextmenu",function(t){return _this878.Xc(t);}),_this878["#items"].addEventListener("keydown",function(t){return _this878.Zc(t);}),_this878["#add-to-canvas-button"].addEventListener("click",function(){return _this878.m_();}),_this878["#search-input"].addEventListener("input",function(){return _this878.E_();}),_this878["#sort-buttons"].addEventListener("toggle",function(){return _this878.A_();}),_this878["#quality-select"].addEventListener("change",function(){return _this878.I_();}),_this878["#orientation-select"].addEventListener("change",function(){return _this878.L_();}),_this878["#category-select"].addEventListener("change",function(){return _this878.k_();}),_this878["#editors-choice-checkbox"].addEventListener("toggle",function(){return _this878.B_();});return _this878;}_createClass(Cg,[{key:"connectedCallback",value:function connectedCallback(){if(this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),"bx-chromeapp"!==this.Qs.localName){var _iterator1521=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[target="_blank"]')),_step1521;try{for(_iterator1521.s();!(_step1521=_iterator1521.n()).done;){var _t2249=_step1521.value;_t2249.setAttribute("rel","noopener");}}catch(err){_iterator1521.e(err);}finally{_iterator1521.f();}}this["#items"].scrollTop=this.lv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"R_",value:function R_(t){var _this879=this;return new Promise(/*#__PURE__*/function(){var _ref147=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee158(e){var i,s;return regeneratorRuntime.wrap(function _callee158$(_context159){while(1){switch(_context159.prev=_context159.next){case 0:_context159.next=2;return _this879.T_.pixabayCache.get(t);case 2:i=_context159.sent;s=null;i&&(s=i.response),e(s);case 5:case"end":return _context159.stop();}}},_callee158);}));return function(_x175){return _ref147.apply(this,arguments);};}());}},{key:"G_",value:function G_(t,e){this.T_.pixabayCache.put({requestURL:t,response:e,time:Date.now()});}},{key:"F_",value:function F_(){var _this880=this;return new Promise(/*#__PURE__*/function(){var _ref148=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee159(t){var e;return regeneratorRuntime.wrap(function _callee159$(_context160){while(1){switch(_context160.prev=_context160.next){case 0:_context160.next=2;return _this880.T_.pixabayCache.where("time").below(Date.now()-36e5)["delete"]();case 2:e=_context160.sent;e>0&&console.log("Deleted ".concat(e," cached Pixabay responses.")),t();case 4:case"end":return _context160.stop();}}},_callee159);}));return function(_x176){return _ref148.apply(this,arguments);};}());}},{key:"tn",value:function tn(){var _this881=this;window.addEventListener("resize",this.nn=function(){_this881.U_();}),this.Js.primaryPanelsDock.addEventListener("resize",this.N_=function(){_this881.U_();}),!1===this.x_&&(this.x_=!0,this.F_(),this.__(),this.V_()),!1===this["#items"].isConnected&&(this["#main"].prepend(this["#items"]),Ki(10).then(function(){return _this881["#items"].scrollTop=_this881.lv;}));}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Js.primaryPanelsDock.removeEventListener("resize",this.N_),this["#items"].remove(),this["#item-popover"].opened&&this["#item-popover"].close(!1);}},{key:"U_",value:function U_(){this["#item-popover"].opened&&this["#item-popover"].close(),!1===this.z_&&!0===this.O_&&this["#items"].clientHeight===this["#items"].scrollHeight&&this.j_();}},{key:"hv",value:function hv(){this.lv=this["#items"].scrollTop,this["#item-popover"].opened&&this["#item-popover"].close(),!1===this.z_&&!0===this.O_&&this["#items"].scrollTop+this["#items"].clientHeight>=this["#items"].scrollHeight-500&&this.j_();}},{key:"Wc",value:function Wc(t){var _this882=this;if(t.target.matches(".item")){var _e1622=t.target;if("touch"!==t.pointerType&&this.g_(_e1622),0===t.button){var _i1500,_s877,_n642,_o508=new DOMPoint(t.clientX,t.clientY);_e1622.setPointerCapture(t.pointerId),_e1622.addEventListener("pointermove",_i1500=function _i1499(l){var h=new DOMPoint(l.clientX,l.clientY);Pe(_o508,h)>=5&&(_e1622.removeEventListener("pointermove",_i1500),_e1622.removeEventListener("pointerup",_s877),_e1622.removeEventListener("pointercancel",_n642),_this882.Gw(_e1622,t));}),_e1622.addEventListener("pointerup",_s877=function _s876(t){_e1622.removeEventListener("pointermove",_i1500),_e1622.removeEventListener("pointerup",_s877),_e1622.removeEventListener("pointercancel",_n642);}),_e1622.addEventListener("pointercancel",_n642=function _n641(){_e1622.removeEventListener("pointermove",_i1500),_e1622.removeEventListener("pointerup",_s877),_e1622.removeEventListener("pointercancel",_n642);});}}}},{key:"Gw",value:function Gw(t,e){var _this883=this;var i,s,n,o=this.Js.board,l=t.querySelector("img"),h=l.getBoundingClientRect(),a=t[_g],r=this.H_(l.src,h),d=this.Y_(a);this["#item-popover"].opened&&this["#item-popover"].close(),t.style.cursor="copy",t.setPointerCapture(e.pointerId),document.body.append(r),t.addEventListener("pointermove",i=function i(t){var i=t.clientX-e.clientX,s=t.clientY-e.clientY,n=1;i<0&&(n=1+yg(i)/150,n>3&&(n=3)),r.style.top=h.y+s+"px",r.style.left=h.x+i+"px",r.style.transform="scale(".concat(n,")");}),t.addEventListener("pointercancel",s=function(_s878){function s(){return _s878.apply(this,arguments);}s.toString=function(){return _s878.toString();};return s;}(function(){t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,r.remove();})),t.addEventListener("pointerup",n=/*#__PURE__*/function(){var _ref149=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee160(e){var l,_t2250,_e1623,_i1501,_t2251,_yield$ja3,_e1624,_i1502,_s879;return regeneratorRuntime.wrap(function _callee160$(_context161){while(1){switch(_context161.prev=_context161.next){case 0:t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null;l="<desc>Author: https://pixabay.com/users/".concat(a.user,"-").concat(a.user_id,"\nLicense: ").concat(Sg,"\n</desc>");if(!o.isPointOverBoard(e.clientX,e.clientY)){_context161.next=21;break;}_t2250=r.getBoundingClientRect();_context161.next=6;return d;case 6:_e1623=_context161.sent;if(!(null===_e1623)){_context161.next=14;break;}r.remove();_context161.next=11;return Ki(100);case 11:_this883.Qs.openMessageDialog({message:"Import failed",detail:"Can't connect to the Pixabay server. The server is down or you have no internet connection. Please try again later.",buttons:["Close"]});_context161.next=19;break;case 14:o.undoManager.checkpoint("Add photo from library");_context161.next=17;return o.insertBitmapIntoBBox(_e1623,_t2250);case 17:_i1501=_context161.sent;_i1501.innerHTML=l,_this883.selectedElements=[_i1501],_this883.selectedTextRange=null,r.remove();case 19:_context161.next=36;break;case 21:if(!_this883.Qs.isPointOverNewTabDropArea(e.clientX,e.clientY)){_context161.next=35;break;}r.remove();_context161.next=25;return d;case 25:_t2251=_context161.sent;_context161.next=28;return ja(_t2251);case 28:_yield$ja3=_context161.sent;_e1624=_yield$ja3.width;_i1502=_yield$ja3.height;_s879="\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ".concat(_e1624," ").concat(_i1502,"\">\n            <image href=\"").concat(_t2251,"\">").concat(l,"</image>\n          </svg>\n        ");_this883.Qs.openEditorTabWithArtworkFromLibrary(_s879);_context161.next=36;break;case 35:r.remove();case 36:case"end":return _context161.stop();}}},_callee160);}));return function n(_x177){return _ref149.apply(this,arguments);};}());}},{key:"qc",value:function qc(t){var e=t.target.closest(".item");e&&(this.g_(e),2===t.detail&&this.Ww(e));}},{key:"Xc",value:function(){var _Xc10=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee161(t){var e;return regeneratorRuntime.wrap(function _callee161$(_context162){while(1){switch(_context162.prev=_context162.next){case 0:e=t.target.closest(".item");_context162.t0=e;if(!_context162.t0){_context162.next=8;break;}t.preventDefault();this.g_(e);_context162.next=7;return Ki(150);case 7:this.Ww(e);case 8:case"end":return _context162.stop();}}},_callee161,this);}));function Xc(_x178){return _Xc10.apply(this,arguments);}return Xc;}()},{key:"Zc",value:function Zc(t){var e=to.fromEvent(t),i=this["#items"].querySelector(".item[data-selected]");if(i){var _s880=i.getBoundingClientRect();if(e.matches("Enter"))this.Ww(i);else if(e.matches("ArrowRight"))i.nextElementSibling&&_s880.top===i.nextElementSibling.getBoundingClientRect().top&&(t.stopPropagation(),t.preventDefault(),this.g_(i.nextElementSibling));else if(e.matches("ArrowLeft"))i.previousElementSibling&&_s880.top===i.previousElementSibling.getBoundingClientRect().top&&(t.stopPropagation(),t.preventDefault(),this.g_(i.previousElementSibling));else if(e.matches("ArrowDown")){for(var _e1625=i.nextElementSibling;_e1625;_e1625=_e1625.nextElementSibling){if(_s880.left===_e1625.getBoundingClientRect().left){t.stopPropagation(),t.preventDefault(),this.g_(_e1625);break;}}}else if(e.matches("ArrowUp"))for(var _e1626=i.previousElementSibling;_e1626;_e1626=_e1626.previousElementSibling){if(_s880.left===_e1626.getBoundingClientRect().left){t.stopPropagation(),t.preventDefault(),this.g_(_e1626);break;}}}}},{key:"m_",value:function(){var _m_2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee162(){var t,e,i,s,n,o,l,_yield$Promise$all,_yield$Promise$all2,h,_t2252;return regeneratorRuntime.wrap(function _callee162$(_context163){while(1){switch(_context163.prev=_context163.next){case 0:t=this["#items"].querySelector(".item[data-selected]"),e=t[_g],i=this.Js.board.getBoundingClientRect(!1,!0),s=t.firstElementChild.getBoundingClientRect(),n=DOMRect.fromRect(s);n.width*=3,n.height*=3,n.x=i.x+i.width/2-n.width/2,n.y=i.y+i.height/2-n.height/2,this["#item-popover"].close();o=this.H_(t.firstElementChild.src,n);document.body.append(o);l=o.animate({left:[s.left+"px",n.left+"px"],top:[s.top+"px",n.top+"px"],width:[s.width+"px",n.width+"px"],height:[s.height+"px",n.height+"px"]},{duration:400,easing:"ease"});_context163.next=7;return Promise.all([this.Y_(e),l.finished]);case 7:_yield$Promise$all=_context163.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,1);h=_yield$Promise$all2[0];if(!(null===h)){_context163.next=14;break;}this.Qs.openMessageDialog({message:"Import failed",detail:"Can't connect to the Pixabay server. The server is down or you have no internet connection. Please try again later.",buttons:["Close"]}),o.remove();_context163.next=19;break;case 14:this.Js.board.undoManager.checkpoint("Add photo from library");_context163.next=17;return this.Js.board.insertBitmapIntoBBox(h,n);case 17:_t2252=_context163.sent;_t2252.innerHTML="<desc>Author: https://pixabay.com/users/".concat(e.user,"-").concat(e.user_id,"\nLicense: ").concat(Sg,"\n</desc>"),this.selectedElements=[_t2252],this.selectedTextRange=null,o.remove();case 19:case"end":return _context163.stop();}}},_callee162,this);}));function m_(){return _m_2.apply(this,arguments);}return m_;}()},{key:"E_",value:function E_(){this.V_();}},{key:"A_",value:function A_(){this.Qs.setConfig("bx-photoslibrarybrowser:sort",this["#sort-buttons"].value),this.V_();}},{key:"I_",value:function I_(){this.Qs.setConfig("bx-photoslibrarybrowser:quality",this["#quality-select"].value);}},{key:"L_",value:function L_(){this.Qs.setConfig("bx-photoslibrarybrowser:orientation",this["#orientation-select"].value),this.V_();}},{key:"k_",value:function k_(){this.Qs.setConfig("bx-photoslibrarybrowser:category",this["#category-select"].value),this.V_();}},{key:"B_",value:function B_(){this.Qs.setConfig("bx-photoslibrarybrowser:editorsChoice",this["#editors-choice-checkbox"].toggled),this.V_();}},{key:"g_",value:function g_(t){{var _e1627=this["#items"].querySelector(":scope > .item[data-selected]");_e1627!==t&&(_e1627&&_e1627.removeAttribute("data-selected"),t.setAttribute("data-selected",""),t.scrollIntoViewIfNeeded());}this["#item-popover"].opened&&(this["#item-popover"].close(),this["#items"].focus());}},{key:"Ww",value:function Ww(t){this.w_();var e=t.getBoundingClientRect(),i=new DOMPoint(e.left,e.top+e.height/2);this["#item-popover"].open(i);}},{key:"Zw",value:function Zw(t){var e=t.previewURL,i=t.previewWidth,s=t.previewHeight;if(i>110){var _t2253=i/s;i=110,s=i/_t2253;}if(s>90){var _t2254=i/s;s=90,i=s*_t2254;}var n=Hi(_templateObject73(),i,s,o);return n[_g]=t,"bx-chromeapp"===this.Qs.localName?_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee163(){var e,_t2255,_i1503;return regeneratorRuntime.wrap(function _callee163$(_context164){while(1){switch(_context164.prev=_context164.next){case 0:_context164.prev=0;_context164.next=3;return fetch(t.previewURL,{mode:"cors"});case 3:e=_context164.sent;_context164.next=14;break;case 6:_context164.prev=6;_context164.t0=_context164["catch"](0);console.log("Retrying",_context164.t0);_context164.next=11;return Ki(2e3);case 11:_context164.next=13;return fetch(t.previewURL,{mode:"cors"});case 13:e=_context164.sent;case 14:if(!e){_context164.next=22;break;}_context164.next=17;return e.blob();case 17:_t2255=_context164.sent;_context164.next=20;return Ra(_t2255);case 20:_i1503=_context164.sent;n.querySelector("img").setAttribute("src",_i1503);case 22:case"end":return _context164.stop();}}},_callee163,null,[[0,6]]);}))():n.querySelector("img").setAttribute("src",t.previewURL),n;}},{key:"H_",value:function H_(t,e){var i=Hi(_templateObject74());return i.style.position="fixed",i.style.left=e.left+"px",i.style.top=e.top+"px",i.style.width=e.width+"px",i.style.height=e.height+"px",i.style.zIndex="999999999",i.style.pointerEvents="none",i.src=t,i;}},{key:"Y_",value:function Y_(t){var _this884=this;return new Promise(/*#__PURE__*/function(){var _ref151=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee164(e,i){var s,_e1628,_i1504,_n643,_t2256;return regeneratorRuntime.wrap(function _callee164$(_context165){while(1){switch(_context165.prev=_context165.next){case 0:s=null;_context165.prev=1;_i1504=_this884["#quality-select"].value;"180"===_i1504?_e1628=t.webformatURL.replace("_640","_180"):"340"===_i1504?_e1628=t.webformatURL.replace("_640","_340"):"640"===_i1504?_e1628=t.webformatURL:"960"===_i1504?_e1628=t.webformatURL.replace("_640","_960"):"1280"===_i1504?_e1628=t.largeImageURL:"1920"===_i1504&&(_e1628=t.fullHDURL);_context165.next=6;return fetch(_e1628,{mode:"cors"});case 6:_n643=_context165.sent;if(!_n643.ok){_context165.next=14;break;}_context165.next=10;return _n643.blob();case 10:_t2256=_context165.sent;_context165.next=13;return Ra(_t2256);case 13:s=_context165.sent;case 14:_context165.next=19;break;case 16:_context165.prev=16;_context165.t0=_context165["catch"](1);console.log(_context165.t0);case 19:e(s);case 20:case"end":return _context165.stop();}}},_callee164,null,[[1,16]]);}));return function(_x179,_x180){return _ref151.apply(this,arguments);};}());}},{key:"V_",value:function(){var _V_=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee165(){var _t2257;return regeneratorRuntime.wrap(function _callee165$(_context166){while(1){switch(_context166.prev=_context166.next){case 0:this.D_=0,this.z_=!1,this.O_=!0,this.lv=0,this["#items"].innerHTML="",this["#throbber"].hidden=!1,this["#placeholder"].hidden=!0;_t2257=0;case 2:if(!(_t2257<50&&!1===this.z_&&!0===this.O_&&this["#items"].clientHeight===this["#items"].scrollHeight)){_context166.next=8;break;}_context166.next=5;return this.j_();case 5:_t2257+=1;_context166.next=2;break;case 8:case"end":return _context166.stop();}}},_callee165,this);}));function V_(){return _V_.apply(this,arguments);}return V_;}()},{key:"j_",value:function j_(){var _this885=this;return new Promise(/*#__PURE__*/function(){var _ref152=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee166(t){var e,i,s,n,o,l,h,_t2258,_iterator1522,_step1522,_e1629,_i1505;return regeneratorRuntime.wrap(function _callee166$(_context167){while(1){switch(_context167.prev=_context167.next){case 0:_this885.z_=!0;e=_this885["#search-input"].value.trim(),i=_this885.D_+1,s={q:encodeURIComponent(e),response_group:"high_resolution",key:"7905818-d06eb7dad844f6efdf1932a90",per_page:10,page:i,editors_choice:""===e||_this885["#editors-choice-checkbox"].toggled,order:_this885["#sort-buttons"].value,orientation:_this885["#orientation-select"].value,image_type:"photo",safesearch:"bx-macapp"===_this885.Qs.localName};"all"!==_this885["#category-select"].value&&(s.category=_this885["#category-select"].value);n="https://pixabay.com/api/?"+kg(s).map(function(_ref153){var _ref154=_slicedToArray(_ref153,2),t=_ref154[0],e=_ref154[1];return"".concat(t,"=").concat(e);}).join("&");_context167.next=6;return _this885.R_(n);case 6:o=_context167.sent;l=null;h=null;if(!o){_context167.next=13;break;}l=o;_context167.next=30;break;case 13:_context167.prev=13;_context167.next=16;return fetch(n,{mode:"cors"});case 16:l=_context167.sent;if(!l.ok){_context167.next=23;break;}_context167.next=20;return l.json();case 20:l=_context167.sent;_context167.next=24;break;case 23:l=null,h="Failed to fetch data";case 24:_context167.next=29;break;case 26:_context167.prev=26;_context167.t0=_context167["catch"](13);l=null,h=_context167.t0;case 29:h||_this885.G_(n,l);case 30:if(h)console.log("Pixabay error:",h),_this885["#throbber"].hidden=!0;else if(l.hits.length>0){_this885.D_=i;_t2258=document.createDocumentFragment();_iterator1522=_createForOfIteratorHelper(l.hits);try{for(_iterator1522.s();!(_step1522=_iterator1522.n()).done;){_e1629=_step1522.value;_i1505=_this885.Zw(_e1629);_t2258.append(_i1505);}}catch(err){_iterator1522.e(err);}finally{_iterator1522.f();}_this885["#items"].append(_t2258),_this885["#throbber"].hidden=!0,_this885["#items"].childElementCount===l.totalHits?_this885.O_=!1:_this885.O_=!0;}else _this885.O_=!1,_this885["#throbber"].hidden=!0,0===_this885["#items"].childElementCount&&(_this885["#placeholder"].hidden=!1,_this885["#placeholder"].textContent="No photos found");_this885.z_=!1,t();case 32:case"end":return _context167.stop();}}},_callee166,null,[[13,26]]);}));return function(_x181){return _ref152.apply(this,arguments);};}());}},{key:"__",value:function __(){var t=this.Qs.getConfig("bx-photoslibrarybrowser:sort","popular"),e=this.Qs.getConfig("bx-photoslibrarybrowser:quality","640"),i=this.Qs.getConfig("bx-photoslibrarybrowser:orientation","all"),s=this.Qs.getConfig("bx-photoslibrarybrowser:category","all"),n=this.Qs.getConfig("bx-photoslibrarybrowser:editorsChoice",!1);"960"===e&&(e="640"),this["#sort-buttons"].value=t,this["#quality-select"].value=e,this["#orientation-select"].value=i,this["#category-select"].value=s,this["#editors-choice-checkbox"].toggled=n;}},{key:"w_",value:function w_(){var t=this["#items"].querySelector(".item[data-selected]");if(t){var _e1630=t[_g],_i1506="https://pixabay.com/users/".concat(_e1630.user,"-").concat(_e1630.user_id),_s881=_e1630.pageURL;this["#item-uploader-value"].innerHTML="<a href=\"".concat(_i1506,"\" target=\"_blank\">").concat(_e1630.user,"</a>"),this["#item-pixabay-anchor"].href=_s881;}}}]);return Cg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Cg,"observedAttributes",["enabled"]);_defineProperty(Cg,"_shadowTemplate",Hi(_templateObject441(),Sg));_defineProperty(Cg,"_shadowStyleSheet",Yi(_templateObject442()));customElements.define("bx-photoslibrarybrowser",Cg);var Mg=Math.abs,Pg=Object.entries,Dg="https://pixabay.com/service/terms/#license",zg=Symbol();var Og=/*#__PURE__*/function(_HTMLElement124){_inherits(Og,_HTMLElement124);var _super194=_createSuper(Og);_createClass(Og,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Og(){var _this886;_classCallCheck(this,Og);_this886=_super194.call(this),_this886.x_=!1,_this886.D_=0,_this886.z_=!1,_this886.O_=!1,_this886.lv=0,_this886.E_=Xi(_this886.E_,600,_assertThisInitialized(_this886)),_this886.T_=new Dexie("bx-vectorslibrarybrowser"),_this886.T_.version(1).stores({pixabayCache:"requestURL,time"}),_this886._shadowRoot=_this886.attachShadow({mode:"closed"}),_this886._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Og._shadowStyleSheet],_this886._shadowRoot.append(document.importNode(Og._shadowTemplate.content,!0));var _iterator1523=_createForOfIteratorHelper(_this886._shadowRoot.querySelectorAll("[id]")),_step1523;try{for(_iterator1523.s();!(_step1523=_iterator1523.n()).done;){var _t2259=_step1523.value;_this886["#"+_t2259.id]=_t2259;}}catch(err){_iterator1523.e(err);}finally{_iterator1523.f();}_this886["#items"].addEventListener("scroll",function(){return _this886.hv();}),_this886["#items"].addEventListener("pointerdown",function(t){return _this886.Wc(t);}),_this886["#items"].addEventListener("click",function(t){return _this886.qc(t);}),_this886["#items"].addEventListener("contextmenu",function(t){return _this886.Xc(t);}),_this886["#items"].addEventListener("keydown",function(t){return _this886.Zc(t);}),_this886["#add-to-canvas-button"].addEventListener("click",function(){return _this886.m_();}),_this886["#search-input"].addEventListener("input",function(){return _this886.E_();}),_this886["#sort-buttons"].addEventListener("toggle",function(){return _this886.A_();}),_this886["#orientation-select"].addEventListener("change",function(){return _this886.L_();}),_this886["#category-select"].addEventListener("change",function(){return _this886.k_();}),_this886["#editors-choice-checkbox"].addEventListener("toggle",function(){return _this886.B_();});return _this886;}_createClass(Og,[{key:"connectedCallback",value:function connectedCallback(){if(this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),"bx-chromeapp"!==this.Qs.localName){var _iterator1524=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[target="_blank"]')),_step1524;try{for(_iterator1524.s();!(_step1524=_iterator1524.n()).done;){var _t2260=_step1524.value;_t2260.setAttribute("rel","noopener");}}catch(err){_iterator1524.e(err);}finally{_iterator1524.f();}}this["#items"].scrollTop=this.lv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"R_",value:function R_(t){var _this887=this;return new Promise(/*#__PURE__*/function(){var _ref155=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee167(e){var i,s;return regeneratorRuntime.wrap(function _callee167$(_context168){while(1){switch(_context168.prev=_context168.next){case 0:_context168.next=2;return _this887.T_.pixabayCache.get(t);case 2:i=_context168.sent;s=null;i&&(s=i.response),e(s);case 5:case"end":return _context168.stop();}}},_callee167);}));return function(_x182){return _ref155.apply(this,arguments);};}());}},{key:"G_",value:function G_(t,e){this.T_.pixabayCache.put({requestURL:t,response:e,time:Date.now()});}},{key:"F_",value:function F_(){var _this888=this;return new Promise(/*#__PURE__*/function(){var _ref156=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee168(t){var e;return regeneratorRuntime.wrap(function _callee168$(_context169){while(1){switch(_context169.prev=_context169.next){case 0:_context169.next=2;return _this888.T_.pixabayCache.where("time").below(Date.now()-36e5)["delete"]();case 2:e=_context169.sent;e>0&&console.log("Deleted ".concat(e," cached Pixabay responses.")),t();case 4:case"end":return _context169.stop();}}},_callee168);}));return function(_x183){return _ref156.apply(this,arguments);};}());}},{key:"tn",value:function tn(){var _this889=this;window.addEventListener("resize",this.nn=function(){_this889.U_();}),this.Js.primaryPanelsDock.addEventListener("resize",this.N_=function(){_this889.U_();}),!1===this.x_&&(this.x_=!0,this.F_(),this.__(),this.V_()),!1===this["#items"].isConnected&&(this["#main"].prepend(this["#items"]),Ki(10).then(function(){return _this889["#items"].scrollTop=_this889.lv;}));}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Js.primaryPanelsDock.removeEventListener("resize",this.N_),this["#items"].remove(),this["#item-popover"].opened&&this["#item-popover"].close(!1);}},{key:"U_",value:function U_(){this["#item-popover"].opened&&this["#item-popover"].close(),!1===this.z_&&!0===this.O_&&this["#items"].clientHeight===this["#items"].scrollHeight&&this.j_();}},{key:"hv",value:function hv(){this.lv=this["#items"].scrollTop,this["#item-popover"].opened&&this["#item-popover"].close(),!1===this.z_&&!0===this.O_&&this["#items"].scrollTop+this["#items"].clientHeight>=this["#items"].scrollHeight-500&&this.j_();}},{key:"Wc",value:function Wc(t){var _this890=this;if(t.target.matches(".item")){var _e1631=t.target;if("touch"!==t.pointerType&&this.g_(_e1631),0===t.button){var _i1508,_s883,_n645,_o509=new DOMPoint(t.clientX,t.clientY);_e1631.setPointerCapture(t.pointerId),_e1631.addEventListener("pointermove",_i1508=function _i1507(l){var h=new DOMPoint(l.clientX,l.clientY);Pe(_o509,h)>=5&&(_e1631.removeEventListener("pointermove",_i1508),_e1631.removeEventListener("pointerup",_s883),_e1631.removeEventListener("pointercancel",_n645),_this890.Gw(_e1631,t));}),_e1631.addEventListener("pointerup",_s883=function _s882(t){_e1631.removeEventListener("pointermove",_i1508),_e1631.removeEventListener("pointerup",_s883),_e1631.removeEventListener("pointercancel",_n645);}),_e1631.addEventListener("pointercancel",_n645=function _n644(){_e1631.removeEventListener("pointermove",_i1508),_e1631.removeEventListener("pointerup",_s883),_e1631.removeEventListener("pointercancel",_n645);});}}}},{key:"Gw",value:function Gw(t,e){var _this891=this;var i,s,n,o=this.Js.board,l=t.querySelector("img"),h=l.getBoundingClientRect(),a=t[zg],r=this.H_(l.src,h),d=this.Y_(a);this["#item-popover"].opened&&this["#item-popover"].close(),t.style.cursor="copy",t.setPointerCapture(e.pointerId),document.body.append(r),t.addEventListener("pointermove",i=function i(t){var i=t.clientX-e.clientX,s=t.clientY-e.clientY,n=1;i<0&&(n=1+Mg(i)/150,n>3&&(n=3)),r.style.top=h.y+s+"px",r.style.left=h.x+i+"px",r.style.transform="scale(".concat(n,")");}),t.addEventListener("pointercancel",s=function(_s884){function s(){return _s884.apply(this,arguments);}s.toString=function(){return _s884.toString();};return s;}(function(){t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,r.remove();})),t.addEventListener("pointerup",n=/*#__PURE__*/function(){var _ref157=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee169(e){var _t2261,_e1632,_i1509,_s885,_t2262;return regeneratorRuntime.wrap(function _callee169$(_context170){while(1){switch(_context170.prev=_context170.next){case 0:t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null;a.user,a.user_id;if(!o.isPointOverBoard(e.clientX,e.clientY)){_context170.next=19;break;}_t2261=r.getBoundingClientRect();_context170.next=6;return d;case 6:_e1632=_context170.sent;if(!(null===_e1632)){_context170.next=14;break;}r.remove();_context170.next=11;return Ki(100);case 11:_this891.Qs.openMessageDialog({message:"Import failed",detail:"Can't connect to the Pixabay server. The server is down or you have no internet connection. Please try again later.",buttons:["Close"]});_context170.next=17;break;case 14:o.undoManager.checkpoint("Add vectors from library");_i1509=ka(_e1632),_s885=o.insertArtworkIntoBBox(_i1509,_t2261);o.selectedElements=[_s885],o.selectedTextRange=null,r.remove();case 17:_context170.next=28;break;case 19:if(!_this891.Qs.isPointOverNewTabDropArea(e.clientX,e.clientY)){_context170.next=27;break;}r.remove();_context170.next=23;return d;case 23:_t2262=_context170.sent;_this891.Qs.openEditorTabWithArtworkFromLibrary(_t2262);_context170.next=28;break;case 27:r.remove();case 28:case"end":return _context170.stop();}}},_callee169);}));return function n(_x184){return _ref157.apply(this,arguments);};}());}},{key:"qc",value:function qc(t){var e=t.target.closest(".item");e&&(this.g_(e),2===t.detail&&this.Ww(e));}},{key:"Xc",value:function(){var _Xc11=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee170(t){var e;return regeneratorRuntime.wrap(function _callee170$(_context171){while(1){switch(_context171.prev=_context171.next){case 0:e=t.target.closest(".item");_context171.t0=e;if(!_context171.t0){_context171.next=8;break;}t.preventDefault();this.g_(e);_context171.next=7;return Ki(150);case 7:this.Ww(e);case 8:case"end":return _context171.stop();}}},_callee170,this);}));function Xc(_x185){return _Xc11.apply(this,arguments);}return Xc;}()},{key:"Zc",value:function Zc(t){var e=to.fromEvent(t),i=this["#items"].querySelector(".item[data-selected]");if(i){var _s886=i.getBoundingClientRect();if(e.matches("Enter"))this.Ww(i);else if(e.matches("ArrowRight"))i.nextElementSibling&&_s886.top===i.nextElementSibling.getBoundingClientRect().top&&(t.stopPropagation(),t.preventDefault(),this.g_(i.nextElementSibling));else if(e.matches("ArrowLeft"))i.previousElementSibling&&_s886.top===i.previousElementSibling.getBoundingClientRect().top&&(t.stopPropagation(),t.preventDefault(),this.g_(i.previousElementSibling));else if(e.matches("ArrowDown")){for(var _e1633=i.nextElementSibling;_e1633;_e1633=_e1633.nextElementSibling){if(_s886.left===_e1633.getBoundingClientRect().left){t.stopPropagation(),t.preventDefault(),this.g_(_e1633);break;}}}else if(e.matches("ArrowUp"))for(var _e1634=i.previousElementSibling;_e1634;_e1634=_e1634.previousElementSibling){if(_s886.left===_e1634.getBoundingClientRect().left){t.stopPropagation(),t.preventDefault(),this.g_(_e1634);break;}}}}},{key:"m_",value:function(){var _m_3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee171(){var t,e,i,s,n,o,l,h,_yield$Promise$all3,_yield$Promise$all4,a,_e1635,_i1510,_s887;return regeneratorRuntime.wrap(function _callee171$(_context172){while(1){switch(_context172.prev=_context172.next){case 0:t=this.Js.board,e=this["#items"].querySelector(".item[data-selected]"),i=e[zg],s=t.getBoundingClientRect(!1,!0),n=e.firstElementChild.getBoundingClientRect(),o=DOMRect.fromRect(n);o.width*=3,o.height*=3,o.x=s.x+s.width/2-o.width/2,o.y=s.y+s.height/2-o.height/2,this["#item-popover"].close();l=this.H_(e.firstElementChild.src,o);document.body.append(l);h=l.animate({left:[n.left+"px",o.left+"px"],top:[n.top+"px",o.top+"px"],width:[n.width+"px",o.width+"px"],height:[n.height+"px",o.height+"px"]},{duration:400,easing:"ease"});_context172.next=7;return Promise.all([this.Y_(i),h.finished]);case 7:_yield$Promise$all3=_context172.sent;_yield$Promise$all4=_slicedToArray(_yield$Promise$all3,1);a=_yield$Promise$all4[0];if(null===a)this.Qs.openMessageDialog({message:"Import failed",detail:"Can't connect to the Pixabay server. The server is down or you have no internet connection. Please try again later.",buttons:["Close"]}),l.remove();else{t.undoManager.checkpoint("Add vectors from library");_e1635=ghost.getBoundingClientRect(),_i1510=ka(a),_s887=t.insertArtworkIntoBBox(_i1510,_e1635);t.selectedElements=[_s887],t.selectedTextRange=null,ghost.remove();}case 11:case"end":return _context172.stop();}}},_callee171,this);}));function m_(){return _m_3.apply(this,arguments);}return m_;}()},{key:"E_",value:function E_(){this.V_();}},{key:"A_",value:function A_(){this.Qs.setConfig("bx-vectorslibrarybrowser:sort",this["#sort-buttons"].value),this.V_();}},{key:"L_",value:function L_(){this.Qs.setConfig("bx-vectorslibrarybrowser:orientation",this["#orientation-select"].value),this.V_();}},{key:"k_",value:function k_(){this.Qs.setConfig("bx-vectorslibrarybrowser:category",this["#category-select"].value),this.V_();}},{key:"B_",value:function B_(){this.Qs.setConfig("bx-vectorslibrarybrowser:editorsChoice",this["#editors-choice-checkbox"].toggled),this.V_();}},{key:"g_",value:function g_(t){{var _e1636=this["#items"].querySelector(":scope > .item[data-selected]");_e1636!==t&&(_e1636&&_e1636.removeAttribute("data-selected"),t.setAttribute("data-selected",""),t.scrollIntoViewIfNeeded());}this["#item-popover"].opened&&(this["#item-popover"].close(),this["#items"].focus());}},{key:"Ww",value:function Ww(t){this.w_();var e=t.getBoundingClientRect(),i=new DOMPoint(e.left,e.top+e.height/2);this["#item-popover"].open(i);}},{key:"Zw",value:function Zw(t){var e=t.previewURL,i=t.previewWidth,s=t.previewHeight;if(i>110){var _t2263=i/s;i=110,s=i/_t2263;}if(s>90){var _t2264=i/s;s=90,i=s*_t2264;}var n=Hi(_templateObject75(),i,s,o);return n[zg]=t,"bx-chromeapp"===this.Qs.localName?_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee172(){var e,_t2265,_i1511;return regeneratorRuntime.wrap(function _callee172$(_context173){while(1){switch(_context173.prev=_context173.next){case 0:_context173.prev=0;_context173.next=3;return fetch(t.previewURL,{mode:"cors"});case 3:e=_context173.sent;_context173.next=14;break;case 6:_context173.prev=6;_context173.t0=_context173["catch"](0);console.log("Retrying",_context173.t0);_context173.next=11;return Ki(2e3);case 11:_context173.next=13;return fetch(t.previewURL,{mode:"cors"});case 13:e=_context173.sent;case 14:if(!e){_context173.next=22;break;}_context173.next=17;return e.blob();case 17:_t2265=_context173.sent;_context173.next=20;return Ra(_t2265);case 20:_i1511=_context173.sent;n.querySelector("img").setAttribute("src",_i1511);case 22:case"end":return _context173.stop();}}},_callee172,null,[[0,6]]);}))():n.querySelector("img").setAttribute("src",t.previewURL),n;}},{key:"H_",value:function H_(t,e){var i=Hi(_templateObject76());return i.style.position="fixed",i.style.left=e.left+"px",i.style.top=e.top+"px",i.style.width=e.width+"px",i.style.height=e.height+"px",i.style.zIndex="999999999",i.style.pointerEvents="none",i.src=t,i;}},{key:"Y_",value:function Y_(t){return new Promise(/*#__PURE__*/function(){var _ref159=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee173(e,i){var s,_e1637,_e1638,_t2266;return regeneratorRuntime.wrap(function _callee173$(_context174){while(1){switch(_context174.prev=_context174.next){case 0:s=null;_context174.prev=1;if(!("vector/svg"===t.type)){_context174.next=13;break;}_context174.next=5;return fetch(t.vectorURL,{mode:"cors"});case 5:_e1637=_context174.sent;_context174.t0=_e1637.ok;if(!_context174.t0){_context174.next=11;break;}_context174.next=10;return _e1637.text();case 10:s=_context174.sent;case 11:_context174.next=24;break;case 13:if(!("vector/ai"===t.type)){_context174.next=24;break;}_context174.next=16;return fetch(t.vectorURL,{mode:"cors"});case 16:_e1638=_context174.sent;if(!_e1638.ok){_context174.next=24;break;}_context174.next=20;return _e1638.arrayBuffer();case 20:_t2266=_context174.sent;_context174.next=23;return Bm(_t2266);case 23:s=_context174.sent;case 24:_context174.next=29;break;case 26:_context174.prev=26;_context174.t1=_context174["catch"](1);console.log(_context174.t1);case 29:e(s);case 30:case"end":return _context174.stop();}}},_callee173,null,[[1,26]]);}));return function(_x186,_x187){return _ref159.apply(this,arguments);};}());}},{key:"V_",value:function(){var _V_2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee174(){var _t2267;return regeneratorRuntime.wrap(function _callee174$(_context175){while(1){switch(_context175.prev=_context175.next){case 0:this.D_=0,this.z_=!1,this.O_=!0,this.lv=0,this["#items"].innerHTML="",this["#throbber"].hidden=!1,this["#placeholder"].hidden=!0;_t2267=0;case 2:if(!(_t2267<50&&!1===this.z_&&!0===this.O_&&this["#items"].clientHeight===this["#items"].scrollHeight)){_context175.next=8;break;}_context175.next=5;return this.j_();case 5:_t2267+=1;_context175.next=2;break;case 8:case"end":return _context175.stop();}}},_callee174,this);}));function V_(){return _V_2.apply(this,arguments);}return V_;}()},{key:"j_",value:function j_(){var _this892=this;return new Promise(/*#__PURE__*/function(){var _ref160=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee175(t){var e,i,s,n,o,l,h,_t2268,_iterator1525,_step1525,_e1639,_i1512;return regeneratorRuntime.wrap(function _callee175$(_context176){while(1){switch(_context176.prev=_context176.next){case 0:_this892.z_=!0;e=_this892["#search-input"].value.trim(),i=_this892.D_+1,s={q:encodeURIComponent(e),response_group:"high_resolution",key:"7905818-d06eb7dad844f6efdf1932a90",per_page:10,page:i,editors_choice:""===e||_this892["#editors-choice-checkbox"].toggled,order:_this892["#sort-buttons"].value,orientation:_this892["#orientation-select"].value,image_type:"vector",safesearch:"bx-macapp"===_this892.Qs.localName};"all"!==_this892["#category-select"].value&&(s.category=_this892["#category-select"].value);n="https://pixabay.com/api/?"+Pg(s).map(function(_ref161){var _ref162=_slicedToArray(_ref161,2),t=_ref162[0],e=_ref162[1];return"".concat(t,"=").concat(e);}).join("&");_context176.next=6;return _this892.R_(n);case 6:o=_context176.sent;l=null;h=null;if(!o){_context176.next=13;break;}l=o;_context176.next=30;break;case 13:_context176.prev=13;_context176.next=16;return fetch(n,{mode:"cors"});case 16:l=_context176.sent;if(!l.ok){_context176.next=23;break;}_context176.next=20;return l.json();case 20:l=_context176.sent;_context176.next=24;break;case 23:l=null,h="Failed to fetch data";case 24:_context176.next=29;break;case 26:_context176.prev=26;_context176.t0=_context176["catch"](13);l=null,h=_context176.t0;case 29:h||_this892.G_(n,l);case 30:if(h)console.log("Pixabay error:",h),_this892["#throbber"].hidden=!0;else if(l.hits.length>0){_this892.D_=i;_t2268=document.createDocumentFragment();_iterator1525=_createForOfIteratorHelper(l.hits);try{for(_iterator1525.s();!(_step1525=_iterator1525.n()).done;){_e1639=_step1525.value;_i1512=_this892.Zw(_e1639);_t2268.append(_i1512);}}catch(err){_iterator1525.e(err);}finally{_iterator1525.f();}_this892["#items"].append(_t2268),_this892["#throbber"].hidden=!0,_this892["#items"].childElementCount===l.totalHits?_this892.O_=!1:_this892.O_=!0;}else _this892.O_=!1,_this892["#throbber"].hidden=!0,0===_this892["#items"].childElementCount&&(_this892["#placeholder"].hidden=!1,_this892["#placeholder"].textContent="No vectors found");_this892.z_=!1,t();case 32:case"end":return _context176.stop();}}},_callee175,null,[[13,26]]);}));return function(_x188){return _ref160.apply(this,arguments);};}());}},{key:"__",value:function __(){this["#sort-buttons"].value=this.Qs.getConfig("bx-vectorslibrarybrowser:sort","popular"),this["#orientation-select"].value=this.Qs.getConfig("bx-vectorslibrarybrowser:orientation","all"),this["#category-select"].value=this.Qs.getConfig("bx-vectorslibrarybrowser:category","all"),this["#editors-choice-checkbox"].toggled=this.Qs.getConfig("bx-vectorslibrarybrowser:editorsChoice",!1);}},{key:"w_",value:function w_(){var t=this["#items"].querySelector(".item[data-selected]");if(t){var _e1640=t[zg],_i1513="https://pixabay.com/users/".concat(_e1640.user,"-").concat(_e1640.user_id),_s888=_e1640.pageURL;this["#item-uploader-value"].innerHTML="<a href=\"".concat(_i1513,"\" target=\"_blank\">").concat(_e1640.user,"</a>"),this["#item-pixabay-anchor"].href=_s888;}}}]);return Og;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Og,"observedAttributes",["enabled"]);_defineProperty(Og,"_shadowTemplate",Hi(_templateObject443(),Dg));_defineProperty(Og,"_shadowStyleSheet",Yi(_templateObject444()));customElements.define("bx-vectorslibrarybrowser",Og);var Eg=/*#__PURE__*/function(_HTMLElement125){_inherits(Eg,_HTMLElement125);var _super195=_createSuper(Eg);_createClass(Eg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Eg(){var _this893;_classCallCheck(this,Eg);_this893=_super195.call(this),_this893._shadowRoot=_this893.attachShadow({mode:"closed"}),_this893._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Eg._shadowStyleSheet],_this893._shadowRoot.append(document.importNode(Eg._shadowTemplate.content,!0));var _iterator1526=_createForOfIteratorHelper(_this893._shadowRoot.querySelectorAll("[id]")),_step1526;try{for(_iterator1526.s();!(_step1526=_iterator1526.n()).done;){var _t2269=_step1526.value;_this893["#"+_t2269.id]=_t2269;}}catch(err){_iterator1526.e(err);}finally{_iterator1526.f();}_this893["#buttons"].addEventListener("toggle",function(){return _this893.toggleBrowser(_this893["#buttons"].value);});return _this893;}_createClass(Eg,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var t=this.Qs.getConfig("bx-librarypanel:currentBrowserID","photos-library-browser");!1===_toConsumableArray(this["#main"].children).map(function(t){return t.id;}).includes(t)&&(t="colors-library-browser"),this.toggleBrowser(t);}},{key:"sn",value:function sn(){this.toggleBrowser(null);}},{key:"toggleBrowser",value:function toggleBrowser(t){this["#buttons"].value=t;var _iterator1527=_createForOfIteratorHelper(this["#main"].children),_step1527;try{for(_iterator1527.s();!(_step1527=_iterator1527.n()).done;){var _e1641=_step1527.value;null!==t&&_e1641.id===t?_e1641.enabled=!0:_e1641.enabled=!1;}}catch(err){_iterator1527.e(err);}finally{_iterator1527.f();}null!==t&&this.Qs.setConfig("bx-librarypanel:currentBrowserID",t);}}]);return Eg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Eg,"observedAttributes",["enabled"]);_defineProperty(Eg,"_shadowTemplate",Hi(_templateObject445()));_defineProperty(Eg,"_shadowStyleSheet",Yi(_templateObject446()));customElements.define("bx-librarypanel",Eg);var Tg=/*#__PURE__*/function(_HTMLElement126){_inherits(Tg,_HTMLElement126);var _super196=_createSuper(Tg);function Tg(){var _this894;_classCallCheck(this,Tg);_this894=_super196.call(this);var t=_this894.constructor.W_,e=_this894.constructor.q_;_this894._shadowRoot=_this894.attachShadow({mode:"closed"}),_this894._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Tg._shadowStyleSheet,_this894.constructor._shadowStyleSheet],_this894._shadowRoot.append(document.importNode(Tg._shadowTemplate.content,!0)),t&&_this894._shadowRoot.querySelector("#main").append(document.importNode(t.content,!0)),e&&_this894._shadowRoot.querySelector("#footer").append(document.importNode(e.content,!0));var _iterator1528=_createForOfIteratorHelper(_this894._shadowRoot.querySelectorAll("[id]")),_step1528;try{for(_iterator1528.s();!(_step1528=_iterator1528.n()).done;){var _t2270=_step1528.value;_this894["#"+_t2270.id]=_t2270;}}catch(err){_iterator1528.e(err);}finally{_iterator1528.f();}_this894.setAttribute("extends","bx-generator"),_this894.setAttribute("tabindex","0");return _this894;}return Tg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Tg,"_shadowTemplate",Hi(_templateObject447()));_defineProperty(Tg,"_shadowStyleSheet",Yi(_templateObject448()));var Ag=function Ag(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return new Promise(function(i,s){var n=document.createElement("script");e&&(n.type="module"),n.src=t,n.onload=function(){i(),n.remove();},n.onerror=function(){s(new Error("Failed to lazy load script with URL "+t)),n.remove();},document.documentElement.appendChild(n);});},$g={CODE128:"Test value",CODE39:"TEST VALUE",EAN2:"00",EAN5:"00000",EAN8:"0000000",EAN13:"000000000000",UPC:"00000000000",MSI:"0000",MSI10:"0000",MSI11:"0000",MSI1010:"0000",MSI1110:"0000",codabar:"0000",pharmacode:"1000",ITF14:"0000000000000"};var Ig=/*#__PURE__*/function(_Tg){_inherits(Ig,_Tg);var _super197=_createSuper(Ig);function Ig(){var _this895;_classCallCheck(this,Ig);_this895=_super197.call(this),_this895["#format-select"].addEventListener("change",function(){return _this895.Uu();}),_this895["#value-input"].addEventListener("input",function(){return _this895.X_();}),_this895["#label-switch"].addEventListener("toggle",function(){return _this895.Z_();}),_this895["#label-position-buttons"].addEventListener("toggle",function(){return _this895.K_();}),_this895["#generate-button"].addEventListener("click",function(){return _this895.Q_();});return _this895;}_createClass(Ig,[{key:"connectedCallback",value:function(){var _connectedCallback4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee176(){var t,e,i;return regeneratorRuntime.wrap(function _callee176$(_context177){while(1){switch(_context177.prev=_context177.next){case 0:this.Qs=Ti(this,"#app");this.Js=Ti(this,"bx-editor");_context177.t0=window.JsBarcode;if(_context177.t0){_context177.next=6;break;}_context177.next=6;return Ag("/node_modules/jsbarcode/dist/JsBarcode.all.min.js");case 6:t=this.Qs.getConfig("bx-barcodegenerator:format","CODE128"),e=this.Qs.getConfig("bx-barcodegenerator:showLabel",!0),i=this.Qs.getConfig("bx-barcodegenerator:labelPosition","center");this["#format-select"].value=t,this["#value-input"].value=$g[t],this["#label-switch"].toggled=e,this["#label-position-buttons"].value=i,this.qs();case 8:case"end":return _context177.stop();}}},_callee176,this);}));function connectedCallback(){return _connectedCallback4.apply(this,arguments);}return connectedCallback;}()},{key:"Uu",value:function Uu(){var t=this["#format-select"].value;this["#value-input"].value=$g[t],this.Qs.setConfig("bx-barcodegenerator:format",t),this.qs();}},{key:"X_",value:function X_(){this.qs();}},{key:"Z_",value:function Z_(){this.Qs.setConfig("bx-barcodegenerator:showLabel",this["#label-switch"].toggled),this.qs();}},{key:"K_",value:function K_(){this.Qs.setConfig("bx-barcodegenerator:labelPosition",this["#label-position-buttons"].value),this.qs();}},{key:"Q_",value:function Q_(){var t=this["#preview"].cloneNode(!0);this.Js.board.undoManager.checkpoint("Generate barcode"),this.Js.board.insertArtwork(t);}},{key:"J_",value:function J_(t,e){var i;return JsBarcode({},e,{format:t,valid:function valid(t){return i=t;}}),i;}},{key:"qs",value:function qs(){var t=this["#format-select"].value,e=this["#value-input"].value,i=this.J_(t,e);if(this["#value-input"].error=i?null:"","EAN8"===t||"EAN13"===t||"UPC"===t?!1===this["#label-position-inset-button"].isConnected&&this["#label-position-buttons"].append(this["#label-position-inset-button"]):("inset"===this["#label-position-buttons"].value&&(this["#label-position-buttons"].value="center"),this["#label-position-inset-button"].toggled=!1,this["#label-position-inset-button"].remove()),this["#label-switch"].toggled?(this["#label-position-label"].disabled=!1,this["#label-position-left-button"].disabled=!1,this["#label-position-center-button"].disabled=!1,this["#label-position-right-button"].disabled=!1,this["#label-position-inset-button"].disabled=!1):(this["#label-position-label"].disabled=!0,this["#label-position-left-button"].disabled=!0,this["#label-position-center-button"].disabled=!0,this["#label-position-right-button"].disabled=!0,this["#label-position-inset-button"].disabled=!0),i){var _i1514=this["#label-switch"].toggled?this["#label-position-buttons"].value:"center";if(JsBarcode(this["#preview"],e,{format:t,textAlign:"inset"===_i1514?"center":_i1514,flat:"inset"!==_i1514,displayValue:this["#label-switch"].toggled}),this["#preview"].firstElementChild.remove(),this["#preview"].childElementCount>1){var _t2271=Di("svg:g");for(var _i1515=0,_arr74=_toConsumableArray(this["#preview"].children);_i1515<_arr74.length;_i1515++){var _e1642=_arr74[_i1515];_t2271.append(_e1642);}this["#preview"].append(_t2271);}}else this["#preview"].innerHTML="";this["#generate-button"].disabled=!1===i;}}]);return Ig;}(Tg);_defineProperty(Ig,"W_",Hi(_templateObject449()));_defineProperty(Ig,"q_",Hi(_templateObject450()));_defineProperty(Ig,"_shadowStyleSheet",Yi(_templateObject451()));customElements.define("bx-barcodegenerator",Ig);var Lg=["/node_modules/qrcode-generator/qrcode.js","/node_modules/qrcode-generator/qrcode_SJIS.js"],Bg={Numeric:"0000",Alphanumeric:"TEST",Byte:"Test",Kanji:"\u30C6\u30B9\u30C8"};var Rg=/*#__PURE__*/function(_Tg2){_inherits(Rg,_Tg2);var _super198=_createSuper(Rg);function Rg(){var _this896;_classCallCheck(this,Rg);_this896=_super198.call(this),_this896["#mode-select"].addEventListener("change",function(){return _this896.tC();}),_this896["#charset-select"].addEventListener("change",function(){return _this896.eC();}),_this896["#error-correction-buttons"].addEventListener("toggle",function(){return _this896.iC();}),_this896["#value-input"].addEventListener("input",function(){return _this896.X_();}),_this896["#generate-button"].addEventListener("click",function(){return _this896.Q_();});return _this896;}_createClass(Rg,[{key:"connectedCallback",value:function(){var _connectedCallback5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee177(){var _iterator1529,_step1529,_t2272,t,e,i,s;return regeneratorRuntime.wrap(function _callee177$(_context178){while(1){switch(_context178.prev=_context178.next){case 0:if(!(this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor"),!window.qrcode)){_context178.next=18;break;}_iterator1529=_createForOfIteratorHelper(Lg);_context178.prev=2;_iterator1529.s();case 4:if((_step1529=_iterator1529.n()).done){_context178.next=10;break;}_t2272=_step1529.value;_context178.next=8;return Ag(_t2272);case 8:_context178.next=4;break;case 10:_context178.next=15;break;case 12:_context178.prev=12;_context178.t0=_context178["catch"](2);_iterator1529.e(_context178.t0);case 15:_context178.prev=15;_iterator1529.f();return _context178.finish(15);case 18:t=this.Qs.getConfig("bx-qrcodegenerator:mode","Byte"),e=this.Qs.getConfig("bx-qrcodegenerator:charset","default"),i=this.Qs.getConfig("bx-qrcodegenerator:errorCorrection","L"),s=Bg[t];this["#mode-select"].value=t,this["#charset-select"].value=e,this["#error-correction-buttons"].value=i,this["#value-input"].value=s,this.qs();case 20:case"end":return _context178.stop();}}},_callee177,this,[[2,12,15,18]]);}));function connectedCallback(){return _connectedCallback5.apply(this,arguments);}return connectedCallback;}()},{key:"tC",value:function tC(){var t=this["#mode-select"].value;this["#value-input"].value=Bg[t],this.Qs.setConfig("bx-qrcodegenerator:mode",t),this.qs();}},{key:"eC",value:function eC(){var t=this["#charset-select"].value;this.Qs.setConfig("bx-qrcodegenerator:charset",t),this.qs();}},{key:"iC",value:function iC(){var t=this["#error-correction-buttons"].value;this.Qs.setConfig("bx-qrcodegenerator:errorCorrection",t),this.qs();}},{key:"X_",value:function X_(){this.qs();}},{key:"Q_",value:function Q_(){var t=this["#preview"].cloneNode(!0);this.Js.board.undoManager.checkpoint("Generate QR code"),this.Js.board.insertArtwork(t);}},{key:"sC",value:function sC(t,e,i,s){var n=null,o=0,l=null;qrcode.stringToBytes=qrcode.stringToBytesFuncs[e];try{var _e1643=qrcode(0,i);_e1643.addData(s,t),_e1643.make();var _l380=Pi(_e1643.createSvgTag());n=_l380.querySelector("path"),o=_l380.viewBox.baseVal.width;}catch(t){l="string"==typeof t?t.replace("illegal char :","Illegal char: "):"Invalid value";}return[n,o,l];}},{key:"qs",value:function qs(){var t=this["#mode-select"].value,e=this["#charset-select"].value,i=this["#error-correction-buttons"].value,s=this["#value-input"].value,_this$sC=this.sC(t,e,i,s),_this$sC2=_slicedToArray(_this$sC,3),n=_this$sC2[0],o=_this$sC2[1],l=_this$sC2[2];this["#charset-subsection"].hidden="Byte"!==t,this["#value-input"].error=l,this["#preview"].innerHTML="",null===l&&(this["#preview"].append(n),this["#preview"].setAttribute("viewBox","0 0 ".concat(o," ").concat(o))),this["#generate-button"].disabled=null!==l;}}]);return Rg;}(Tg);_defineProperty(Rg,"W_",Hi(_templateObject452()));_defineProperty(Rg,"q_",Hi(_templateObject453()));_defineProperty(Rg,"_shadowStyleSheet",Yi(_templateObject454()));customElements.define("bx-qrcodegenerator",Rg);var Gg=Math.sin,Fg=Math.cos,Ug=Math.abs,Ng=Math.log,Vg=Math.floor,jg=Math.PI,Hg=[{color:"#d7392e",seats:54},{color:"#7aaa42",seats:32},{color:"#2470b0",seats:50},{color:"#2f2f2f",seats:36}],Yg=["#a62a26","#d7392e","#ec6c42","#f4ad60","#7aaa42","#217eda","#2470b0","#542988","#2f2f2f"];var Wg=/*#__PURE__*/function(_Tg3){_inherits(Wg,_Tg3);var _super199=_createSuper(Wg);function Wg(){var _this897;_classCallCheck(this,Wg);_this897=_super199.call(this),_this897["#hall-radius-box"].addEventListener("changestart",function(){return _this897.oC();}),_this897["#seat-radius-box"].addEventListener("changestart",function(){return _this897.lC();}),_this897["#parties-box"].addEventListener("changestart",function(t){return _this897.hC(t);}),_this897["#parties-box"].addEventListener("click",function(t){return _this897.aC(t);}),_this897["#add-party-button"].addEventListener("click",function(){return _this897.rC();}),_this897["#generate-button"].addEventListener("click",function(){return _this897.Q_();});return _this897;}_createClass(Wg,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");var t=this.Qs.getConfig("bx-parliamentchartgenerator:hallRadius",.3),e=this.Qs.getConfig("bx-parliamentchartgenerator:seatRadius",.8),i=this.Qs.getConfig("bx-parliamentchartgenerator:parties",Hg);this["#hall-radius-slider"].value=X(100*t,2),this["#hall-radius-input"].value=X(100*t,2),this["#seat-radius-slider"].value=X(100*e,2),this["#seat-radius-input"].value=X(100*e,2),this["#parties-box"].innerHTML="";for(var _t2273=0;_t2273<i.length;_t2273+=1){var _i$_t=i[_t2273],_e1644=_i$_t.seats,_s889=_i$_t.color,_n646=document.importNode(Wg.nC.content,!0).firstElementChild;this["#parties-box"].append(_n646),_n646.querySelector("x-colorselect").value=_s889,_n646.querySelector("x-numberinput").value=_e1644;}this.qs();}},{key:"oC",value:function oC(){var _this898=this;var t,_e1645;this["#hall-radius-box"].addEventListener("change",t=function t(_t2274){_t2274.target===_this898["#hall-radius-slider"]?_this898["#hall-radius-input"].value=_this898["#hall-radius-slider"].value:_t2274.target===_this898["#hall-radius-input"]&&(_this898["#hall-radius-slider"].value=_this898["#hall-radius-input"].value),_this898.qs();}),this["#hall-radius-box"].addEventListener("changeend",_e1645=function e(){_this898["#hall-radius-box"].removeEventListener("change",t),_this898["#hall-radius-box"].removeEventListener("changeend",_e1645),_this898.Qs.setConfig("bx-parliamentchartgenerator:hallRadius",_this898["#hall-radius-slider"].value/100);});}},{key:"lC",value:function lC(){var _this899=this;var t,_e1646;this["#seat-radius-box"].addEventListener("change",t=function t(_t2275){_t2275.target===_this899["#seat-radius-slider"]?_this899["#seat-radius-input"].value=_this899["#seat-radius-slider"].value:_t2275.target===_this899["#seat-radius-input"]&&(_this899["#seat-radius-slider"].value=_this899["#seat-radius-input"].value),_this899.qs();}),this["#seat-radius-box"].addEventListener("changeend",_e1646=function e(){_this899["#seat-radius-box"].removeEventListener("change",t),_this899["#seat-radius-box"].removeEventListener("changeend",_e1646),_this899.Qs.setConfig("bx-parliamentchartgenerator:seatRadius",_this899["#seat-radius-slider"].value/100);});}},{key:"hC",value:function hC(t){var _this900=this;var e,_i1516,s=t.target;s.addEventListener("change",e=function e(){_this900.qs();}),s.addEventListener("changeend",_i1516=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1516),_this900.qs();var t=_toConsumableArray(_this900["#parties-box"].children).map(function(t){return{seats:t.querySelector("x-numberinput").value,color:t.querySelector("x-colorselect").value};});_this900.Qs.setConfig("bx-parliamentchartgenerator:parties",t);});}},{key:"aC",value:function aC(t){var e=t.target.closest(".delete-button");if(e){e.closest(".party-box").remove();var _t2276=_toConsumableArray(this["#parties-box"].children).map(function(t){return{seats:t.querySelector("x-numberinput").value,color:t.querySelector("x-colorselect").value};});this.Qs.setConfig("bx-parliamentchartgenerator:parties",_t2276),this.qs();}}},{key:"rC",value:function rC(){var t,e=function(t){var e=t.length;for(;--e;){var _i1517=ol(0,1,5),_s890=Math.floor(_i1517*(e+1)),_n647=t[_s890];t[_s890]=t[e],t[e]=_n647;}return t;}([].concat(Yg)),i=_toConsumableArray(this["#parties-box"].querySelectorAll("x-colorselect")).map(function(t){return t.value;}),s=document.importNode(Wg.nC.content,!0).firstElementChild;do{t=e.pop();}while(e.length>0&&i.includes(t));this["#parties-box"].append(s),s.querySelector("x-colorselect").value=t,this.qs();}},{key:"Q_",value:function Q_(){var t=this["#preview"].cloneNode(!0);this.Js.board.undoManager.checkpoint("Parliament chart"),this.Js.board.insertArtwork(t);}},{key:"dC",value:function dC(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:.3;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:.8;var s=100,n=0,o=0,l=[],h=[],a=[],r=[],d=null,c=this.Js.board.geometryPrecision;var _iterator1530=_createForOfIteratorHelper(t),_step1530;try{for(_iterator1530.s();!(_step1530=_iterator1530.n()).done;){var _e1655=_step1530.value;n+=_e1655.seats;}}catch(err){_iterator1530.e(err);}finally{_iterator1530.f();}var p=function p(t,e,i){return jg*e*i/(t-e)/(1+jg*(e-1)*e/2/(t-e));},u=function u(t,i,s){var n=p(t,i,s)*i/s-(1-e);return Ug(n);};{var _t2277=Vg(Ng(n)/Ng(2))||1,_e1647=u(n,_t2277,s),_i1518=0;for(u(n,_t2277+1,s)<_e1647&&(_i1518=1),u(n,_t2277-1,s)<_e1647&&_t2277>1&&(_i1518=-1);u(n,_t2277+_i1518,s)<_e1647&&_t2277>0;){_e1647=u(n,_t2277+_i1518,s),_t2277+=_i1518;}o=_t2277||1;}var x=p(n,o,s);for(var _t2278=1;_t2278<=o;_t2278+=1){l[_t2278]=s-(_t2278-1)*x;}{var _t2279=0;for(var _e1649 in l){_t2279+=l[_e1649];}var _e1648=_t2279/(n-2),_i1519=_t2279/(n+2),_s891=_t2279/n,_o510={},_a219=0;for(var _t2280 in l){_o510[_t2280]=X(l[_t2280]/_s891,0),_a219+=_o510[_t2280];}for(;_a219!==n;){_a219<n?_e1648=_s891:_a219>n&&(_i1519=_s891),_s891=(_e1648+_i1519)/2,_o510={},_a219=0;for(var _t2281 in l){_o510[_t2281]=X(l[_t2281]/_s891,0),_a219+=_o510[_t2281];}}h=_o510;}{for(var _t2282=1;_t2282<=o;_t2282+=1){var _e1651=[],_n648=s-(_t2282-1)*x,_o511=jg*_n648/(h[_t2282]-1||1);for(var _s892=0;_s892<=h[_t2282]-1;_s892+=1){var _t2283={x:X(_n648*Fg(_s892*_o511/_n648-jg),c),y:X(_n648*Gg(_s892*_o511/_n648-jg),c),r:X(i/2*x,c)};_e1651.push(_t2283);}a.push(_e1651);}var _e1650=Array(a.length).fill(0);for(var _i1520=0;_i1520<t.length;_i1520+=1){var _s893=t[_i1520];for(var _t2284=0;_t2284<_s893.seats;_t2284+=1){var _t2285=void 0,_s894=void 0,_n649=void 0;for(var _t2286 in a){_n649=X((_e1650[_t2286]||0)/a[_t2286].length,10),(!_s894||_n649<_s894)&&(_s894=_n649);}for(var _i1521 in a){if(_n649=X((_e1650[_i1521]||0)/a[_i1521].length,10),_n649===_s894){_t2285=_i1521;break;}}a[_t2285][_e1650[_t2285]].partyIndex=_i1520,_e1650[_t2285]+=1;}}}for(var _t2287 in a){var _iterator1531=_createForOfIteratorHelper(a[_t2287]),_step1531;try{for(_iterator1531.s();!(_step1531=_iterator1531.n()).done;){var _e1652=_step1531.value;void 0===r[_e1652.partyIndex]&&(r[_e1652.partyIndex]=[]),r[_e1652.partyIndex].push(_e1652);}}catch(err){_iterator1531.e(err);}finally{_iterator1531.f();}}{var _e1653=r[0][0].r/(i/2),_n650="<svg viewBox=\"".concat(-100-_e1653/2," ").concat(-100-_e1653/2," ").concat(200+_e1653," ").concat(s+_e1653,"\">");for(var _e1654=0;_e1654<t.length;_e1654+=1){_n650+="<g style=\"fill: ".concat(t[_e1654].color,"\">");var _iterator1532=_createForOfIteratorHelper(r[_e1654]),_step1532;try{for(_iterator1532.s();!(_step1532=_iterator1532.n()).done;){var _t2288=_step1532.value;_n650+="<circle cx=\"".concat(_t2288.x,"\" cy=\"").concat(_t2288.y,"\" r=\"").concat(_t2288.r,"\"></circle>");}}catch(err){_iterator1532.e(err);}finally{_iterator1532.f();}_n650+="</g>";}_n650+="</svg>",d=Wi(_templateObject77(),_n650);}return d;}},{key:"qs",value:function qs(){var _iterator1533=_createForOfIteratorHelper(this["#parties-box"].querySelectorAll(".delete-button")),_step1533;try{for(_iterator1533.s();!(_step1533=_iterator1533.n()).done;){var _t2291=_step1533.value;_t2291.disabled=1===this["#parties-box"].childElementCount;}}catch(err){_iterator1533.e(err);}finally{_iterator1533.f();}{var _t2289=this["#hall-radius-slider"].value/100,_e1656=this["#seat-radius-slider"].value/100,_i1522=[];var _iterator1534=_createForOfIteratorHelper(this["#parties-box"].children),_step1534;try{for(_iterator1534.s();!(_step1534=_iterator1534.n()).done;){var _t2290=_step1534.value;_i1522.push({seats:_t2290.querySelector("x-numberinput").value,color:_t2290.querySelector("x-colorselect").value});}}catch(err){_iterator1534.e(err);}finally{_iterator1534.f();}var _s895=this.dC(_i1522,_t2289,_e1656);this["#preview"].innerHTML=_s895.innerHTML,this["#preview"].setAttribute("viewBox",_s895.getAttribute("viewBox"));}}}]);return Wg;}(Tg);_defineProperty(Wg,"W_",Hi(_templateObject455()));_defineProperty(Wg,"q_",Hi(_templateObject456()));_defineProperty(Wg,"nC",Hi(_templateObject457()));_defineProperty(Wg,"_shadowStyleSheet",Yi(_templateObject458()));customElements.define("bx-parliamentchartgenerator",Wg);var qg=Math.min,Xg=Math.max,Zg=Math.floor,Kg=["#247ba0","#70c1b3","#b2dbbf","#f3ffbd","#ff1654"];var Qg=/*#__PURE__*/function(_Tg4){_inherits(Qg,_Tg4);var _super200=_createSuper(Qg);function Qg(){var _this901;_classCallCheck(this,Qg);_this901=_super200.call(this),_this901["#width-input"].addEventListener("changestart",function(){return _this901.Pg();}),_this901["#height-input"].addEventListener("changestart",function(){return _this901.Dg();}),_this901["#aspect-ratio-button"].addEventListener("toggle",function(){return _this901.yg();}),_this901["#cell-size-box"].addEventListener("changestart",function(){return _this901.cC();}),_this901["#variance-box"].addEventListener("changestart",function(){return _this901.pC();}),_this901["#seed-box"].addEventListener("changestart",function(){return _this901.ak();}),_this901["#colors-box"].addEventListener("changestart",function(){return _this901.uC();}),_this901["#random-colors-button"].addEventListener("click",function(){return _this901.xC();}),_this901["#generate-button"].addEventListener("click",function(){return _this901.Q_();});return _this901;}_createClass(Qg,[{key:"connectedCallback",value:function(){var _connectedCallback6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee178(){var t,e,i,s,n,o,l,_t2292;return regeneratorRuntime.wrap(function _callee178$(_context179){while(1){switch(_context179.prev=_context179.next){case 0:this.Qs=Ti(this,"#app");this.Js=Ti(this,"bx-editor");_context179.t0=window.Delaunator;if(_context179.t0){_context179.next=6;break;}_context179.next=6;return Ag("/node_modules/delaunator/delaunator.min.js");case 6:_context179.t1=window.chroma;if(_context179.t1){_context179.next=10;break;}_context179.next=10;return Ag("/node_modules/chroma-js/chroma.min.js");case 10:_context179.t2=Math.seedrandom;if(_context179.t2){_context179.next=14;break;}_context179.next=14;return Ag("/node_modules/seedrandom/seedrandom.min.js");case 14:t=this.Qs.getConfig("bx-triangulatedsurfacegenerator:width",500),e=this.Qs.getConfig("bx-triangulatedsurfacegenerator:height",400),i=this.Qs.getConfig("bx-triangulatedsurfacegenerator:cellSize",.2),s=this.Qs.getConfig("bx-triangulatedsurfacegenerator:variance",.75),n=this.Qs.getConfig("bx-triangulatedsurfacegenerator:seed",100),o=this.Qs.getConfig("bx-triangulatedsurfacegenerator:colors",Kg),l=this.Qs.getConfig("bx-triangulatedsurfacegenerator:preserveAspectRatio",!1);this["#width-input"].value=t,this["#height-input"].value=e,this["#aspect-ratio-button"].toggled=l,this["#aspect-ratio-icon"].name=l?"lock-on":"lock-off",this["#cell-size-slider"].value=X(100*i,2),this["#cell-size-input"].value=X(100*i,2),this["#variance-slider"].value=X(100*s,2),this["#variance-input"].value=X(100*s,2),this["#seed-slider"].value=n,this["#seed-input"].value=n;for(_t2292=0;_t2292<5;_t2292+=1){this["#colors-box"].children[_t2292].value=o[_t2292];}this.qs();case 18:case"end":return _context179.stop();}}},_callee178,this);}));function connectedCallback(){return _connectedCallback6.apply(this,arguments);}return connectedCallback;}()},{key:"Pg",value:function Pg(){var _this902=this;var t,_e1657,i=this["#width-input"].value/this["#height-input"].value;this["#width-input"].addEventListener("change",t=function t(){if(_this902["#aspect-ratio-button"].toggled){var _t2293=_this902["#width-input"].value/i;_t2293=Z(_t2293,1,Infinity,0),_this902["#height-input"].value=_t2293;}_this902.qs();}),this["#width-input"].addEventListener("changeend",_e1657=function e(){_this902["#width-input"].removeEventListener("change",t),_this902["#width-input"].removeEventListener("changeend",_e1657),_this902.Qs.setConfig("bx-triangulatedsurfacegenerator:width",_this902["#width-input"].value),_this902.Qs.setConfig("bx-triangulatedsurfacegenerator:height",_this902["#height-input"].value);});}},{key:"Dg",value:function Dg(){var _this903=this;var t,_e1658,i=this["#height-input"].value/this["#width-input"].value;this["#height-input"].addEventListener("change",t=function t(){if(_this903["#aspect-ratio-button"].toggled){var _t2294=_this903["#height-input"].value/i;_t2294=Z(_t2294,1,Infinity,0),_this903["#width-input"].value=_t2294;}_this903.qs();}),this["#height-input"].addEventListener("changeend",_e1658=function e(){_this903["#height-input"].removeEventListener("change",t),_this903["#height-input"].removeEventListener("changeend",_e1658),_this903.Qs.setConfig("bx-triangulatedsurfacegenerator:width",_this903["#width-input"].value),_this903.Qs.setConfig("bx-triangulatedsurfacegenerator:height",_this903["#height-input"].value);});}},{key:"yg",value:function yg(){var t=this["#aspect-ratio-button"].toggled;this.Qs.setConfig("bx-triangulatedsurfacegenerator:preserveAspectRatio",t),this["#aspect-ratio-icon"].name=t?"lock-on":"lock-off";}},{key:"cC",value:function cC(){var _this904=this;var t,_e1659;this["#cell-size-box"].addEventListener("change",t=function t(_t2295){_t2295.target===_this904["#cell-size-slider"]?_this904["#cell-size-input"].value=_this904["#cell-size-slider"].value:_t2295.target===_this904["#cell-size-input"]&&(_this904["#cell-size-slider"].value=_this904["#cell-size-input"].value),_this904.qs();}),this["#cell-size-box"].addEventListener("changeend",_e1659=function e(){_this904["#cell-size-box"].removeEventListener("change",t),_this904["#cell-size-box"].removeEventListener("changeend",_e1659),_this904.Qs.setConfig("bx-triangulatedsurfacegenerator:cellSize",_this904["#cell-size-slider"].value/100);});}},{key:"pC",value:function pC(){var _this905=this;var t,_e1660;this["#variance-box"].addEventListener("change",t=function t(_t2296){_t2296.target===_this905["#variance-slider"]?_this905["#variance-input"].value=_this905["#variance-slider"].value:_t2296.target===_this905["#variance-input"]&&(_this905["#variance-slider"].value=_this905["#variance-input"].value),_this905.qs();}),this["#variance-box"].addEventListener("changeend",_e1660=function e(){_this905["#variance-box"].removeEventListener("change",t),_this905["#variance-box"].removeEventListener("changeend",_e1660),_this905.Qs.setConfig("bx-triangulatedsurfacegenerator:variance",_this905["#variance-slider"].value/100);});}},{key:"ak",value:function ak(){var _this906=this;var t,_e1661;this["#seed-box"].addEventListener("change",t=function t(_t2297){_t2297.target===_this906["#seed-slider"]?_this906["#seed-input"].value=_this906["#seed-slider"].value:_t2297.target===_this906["#seed-input"]&&(_this906["#seed-slider"].value=_this906["#seed-input"].value),_this906.qs();}),this["#seed-box"].addEventListener("changeend",_e1661=function e(){_this906["#seed-box"].removeEventListener("change",t),_this906["#seed-box"].removeEventListener("changeend",_e1661),_this906.Qs.setConfig("bx-triangulatedsurfacegenerator:seed",_this906["#seed-slider"].value);});}},{key:"uC",value:function uC(){var _this907=this;var t,_e1662;this["#colors-box"].addEventListener("change",t=function t(_t2298){_this907.qs();}),this["#colors-box"].addEventListener("changeend",_e1662=function e(){_this907["#colors-box"].removeEventListener("change",t),_this907["#colors-box"].removeEventListener("changeend",_e1662);var i=_toConsumableArray(_this907["#colors-box"].children).map(function(t){return t.value;});_this907.Qs.setConfig("bx-triangulatedsurfacegenerator:colors",i);});}},{key:"xC",value:function(){var _xC=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee179(){var t,e,_t2299;return regeneratorRuntime.wrap(function _callee179$(_context180){while(1){switch(_context180.prev=_context180.next){case 0:_context180.next=2;return fetch("/metadata/palettes/coolors.json");case 2:_context180.next=4;return _context180.sent.json();case 4:t=_context180.sent;e=t[ol(0,t.length-1)];for(_t2299=0;_t2299<5;_t2299+=1){this["#colors-box"].children[_t2299].value=e[_t2299];}this.Qs.setConfig("bx-triangulatedsurfacegenerator:colors",e),this.qs();case 8:case"end":return _context180.stop();}}},_callee179,this);}));function xC(){return _xC.apply(this,arguments);}return xC;}()},{key:"Q_",value:function Q_(){var t=this["#preview"].cloneNode(!0);t.style.shapeRendering="crispEdges",this.Js.board.undoManager.checkpoint("Generate triangle art"),this.Js.board.insertArtwork(t);}},{key:"bC",value:function bC(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:600;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:400;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:75;var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:.75;var o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:50;s<.02*e&&(s=X(.02*e));var l=Zg((e+4*s)/s),h=Zg((i+4*s)/s),a=(l*s-e)/2,r=(h*s-i)/2,d=function d(t,e,i){return(t-e[0])*(i[1]-i[0])/(e[1]-e[0])+i[0];},c=function c(t,e){return qg(Xg(t,e[0]),e[1]);},p=function p(t){return{x:(t[0][0]+t[1][0]+t[2][0])/3,y:(t[0][1]+t[1][1]+t[2][1])/3};},u=function u(t){return c(d(t,[0,e],[0,1]),[0,1]);},x=function x(t){return c(d(t,[0,i],[0,1]),[0,1]);},b=[],m=[],g="";{var _t2300=s*n/2,_l381=new Math.seedrandom(o);for(var _n651=-a;_n651<e+a;_n651+=s){for(var _e1663=-r;_e1663<i+r;_e1663+=s){var _i1523=_n651+.5*s+(_l381()*_t2300*2-_t2300),_o512=_e1663+.5*s+(_l381()*_t2300*2-_t2300);b.push([Zg(_i1523),Zg(_o512)]);}}}{var _e1664=Delaunator.from(b).triangles,_i1524=chroma.scale(t).mode("lab");for(var _t2301=0;_t2301<_e1664.length;_t2301+=3){var _s896=[_e1664[_t2301],_e1664[_t2301+1],_e1664[_t2301+2]].map(function(t){return b[t];}),_n652=p(_s896),_o513=_i1524(u(_n652.x)),_l382=_i1524(x(_n652.y)),_h275=chroma.interpolate(_o513,_l382,.5,"lab").css();m.push([_h275,_s896]);}}{var _t2302="";for(var _i1525=0,_m45=m;_i1525<_m45.length;_i1525++){var _m45$_i=_slicedToArray(_m45[_i1525],2),_s897=_m45$_i[0],_m45$_i$=_slicedToArray(_m45$_i[1],3),_n653=_m45$_i$[0],_o514=_m45$_i$[1],_l383=_m45$_i$[2];var _h276=Ne(new DOMRect(0,0,e,i),[new DOMPoint(_n653[0],_n653[1]),new DOMPoint(_o514[0],_o514[1]),new DOMPoint(_l383[0],_l383[1])]);if(_h276.length>1){var _h277=_toArray(_h276),_e1665=_h277[0],_i1526=_h277.slice(1),_n654="M ".concat(_e1665.x," ").concat(_e1665.y);var _iterator1535=_createForOfIteratorHelper(_i1526),_step1535;try{for(_iterator1535.s();!(_step1535=_iterator1535.n()).done;){var _t2303=_step1535.value;_n654+=" L ".concat(_t2303.x," ").concat(_t2303.y);}}catch(err){_iterator1535.e(err);}finally{_iterator1535.f();}_n654+=" Z",_t2302+="<path d=\"".concat(_n654,"\" style=\"fill: ").concat(_s897,";\"></path>");}}g="\n        <svg viewBox=\"0 0 ".concat(e," ").concat(i,"\" style=\"shape-rendering: crispedges;\">\n          <g>").concat(_t2302,"</g>\n        </svg>\n      ");}return Wi(_templateObject78(),g);}},{key:"qs",value:function(){var _qs3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee180(){var t,e,i,s,n,o,l;return regeneratorRuntime.wrap(function _callee180$(_context181){while(1){switch(_context181.prev=_context181.next){case 0:t=this["#width-input"].value,e=this["#height-input"].value,i=this["#cell-size-slider"].value/100*qg(t,e),s=this["#variance-slider"].value/100,n=this["#seed-slider"].value,o=_toConsumableArray(this["#colors-box"].children).map(function(t){return t.value;}),l=this.bC(o,t,e,i,s,n);this["#preview"].innerHTML=l.innerHTML,this["#preview"].setAttribute("viewBox","0 0 ".concat(t," ").concat(e));case 2:case"end":return _context181.stop();}}},_callee180,this);}));function qs(){return _qs3.apply(this,arguments);}return qs;}()}]);return Qg;}(Tg);_defineProperty(Qg,"W_",Hi(_templateObject459()));_defineProperty(Qg,"q_",Hi(_templateObject460()));_defineProperty(Qg,"_shadowStyleSheet",Yi(_templateObject461()));customElements.define("bx-triangulatedsurfacegenerator",Qg);var Jg=/*#__PURE__*/function(_Tg5){_inherits(Jg,_Tg5);var _super201=_createSuper(Jg);_createClass(Jg,[{key:"options",get:function get(){return{width:this["#width-input"].value,height:this["#height-input"].value,columns:this["#columns-input"].value,rows:this["#rows-input"].value,tabSize:this["#tab-size-slider"].value,jitter:this["#jitter-slider"].value,seed:this["#seed-slider"].value,geometryPrecision:this.Js.board.geometryPrecision};}}]);function Jg(){var _this908;_classCallCheck(this,Jg);_this908=_super201.call(this),_this908.Yc=Xi(_this908.qs,1e3,_assertThisInitialized(_this908)),_this908["#columns-input"].addEventListener("changestart",function(){return _this908.mC();}),_this908["#rows-input"].addEventListener("changestart",function(){return _this908.gC();}),_this908["#width-input"].addEventListener("changestart",function(){return _this908.Pg();}),_this908["#height-input"].addEventListener("changestart",function(){return _this908.Dg();}),_this908["#aspect-ratio-button"].addEventListener("toggle",function(){return _this908.yg();}),_this908["#tab-size-box"].addEventListener("changestart",function(){return _this908.fC();}),_this908["#jitter-box"].addEventListener("changestart",function(){return _this908.wC();}),_this908["#seed-box"].addEventListener("changestart",function(){return _this908.ak();}),_this908["#generate-button"].addEventListener("click",function(){return _this908.Q_();});return _this908;}_createClass(Jg,[{key:"connectedCallback",value:function(){var _connectedCallback7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee181(){var _this909=this;var t,e,i,s,n,o,l,h;return regeneratorRuntime.wrap(function _callee181$(_context182){while(1){switch(_context182.prev=_context182.next){case 0:this.Qs=Ti(this,"#app");this.Js=Ti(this,"bx-editor");_context182.t0=Math.seedrandom;if(_context182.t0){_context182.next=6;break;}_context182.next=6;return Ag("/node_modules/seedrandom/seedrandom.min.js");case 6:t=this.Qs.getConfig("bx-jigsawpuzzlegenerator:columns",8),e=this.Qs.getConfig("bx-jigsawpuzzlegenerator:rows",8),i=this.Qs.getConfig("bx-jigsawpuzzlegenerator:width",500),s=this.Qs.getConfig("bx-jigsawpuzzlegenerator:height",400),n=this.Qs.getConfig("bx-jigsawpuzzlegenerator:tabSize",.2),o=this.Qs.getConfig("bx-jigsawpuzzlegenerator:jitter",.02),l=this.Qs.getConfig("bx-jigsawpuzzlegenerator:seed",100),h=this.Qs.getConfig("bx-jigsawpuzzlegenerator:preserveAspectRatio",!1);this["#columns-input"].value=t,this["#rows-input"].value=e,this["#width-input"].value=i,this["#height-input"].value=s,this["#aspect-ratio-button"].toggled=h,this["#aspect-ratio-icon"].name=h?"lock-on":"lock-off",this["#tab-size-slider"].value=X(100*n,2),this["#tab-size-input"].value=X(100*n,2),this["#jitter-slider"].value=X(100*o,2),this["#jitter-input"].value=X(100*o,2),this["#seed-slider"].value=l,this["#seed-input"].value=l,this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this909.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this909.Yc();});case 8:case"end":return _context182.stop();}}},_callee181,this);}));function connectedCallback(){return _connectedCallback7.apply(this,arguments);}return connectedCallback;}()},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"mC",value:function mC(t){var _this910=this;var _e1666;this["#columns-input"].addEventListener("changeend",_e1666=function e(){_this910["#columns-input"].removeEventListener("changeend",_e1666),_this910.Qs.setConfig("bx-jigsawpuzzlegenerator:columns",_this910["#columns-input"].value),_this910.vC();});}},{key:"gC",value:function gC(t){var _this911=this;var _e1667;this["#rows-input"].addEventListener("changeend",_e1667=function e(){_this911["#rows-input"].removeEventListener("changeend",_e1667),_this911.Qs.setConfig("bx-jigsawpuzzlegenerator:rows",_this911["#rows-input"].value),_this911.vC();});}},{key:"Pg",value:function Pg(){var _this912=this;var t,_e1668,i=this["#width-input"].value/this["#height-input"].value;this["#width-input"].addEventListener("change",t=function t(){if(_this912["#aspect-ratio-button"].toggled){var _t2304=_this912["#width-input"].value/i;_t2304=Z(_t2304,1,Infinity,0),_this912["#height-input"].value=_t2304;}_this912.vC();}),this["#width-input"].addEventListener("changeend",_e1668=function e(){_this912["#width-input"].removeEventListener("change",t),_this912["#width-input"].removeEventListener("changeend",_e1668),_this912.Qs.setConfig("bx-jigsawpuzzlegenerator:width",_this912["#width-input"].value),_this912.Qs.setConfig("bx-jigsawpuzzlegenerator:height",_this912["#height-input"].value);});}},{key:"Dg",value:function Dg(){var _this913=this;var t,_e1669,i=this["#height-input"].value/this["#width-input"].value;this["#height-input"].addEventListener("change",t=function t(){if(_this913["#aspect-ratio-button"].toggled){var _t2305=_this913["#height-input"].value/i;_t2305=Z(_t2305,1,Infinity,0),_this913["#width-input"].value=_t2305;}_this913.vC();}),this["#height-input"].addEventListener("changeend",_e1669=function e(){_this913["#height-input"].removeEventListener("change",t),_this913["#height-input"].removeEventListener("changeend",_e1669),_this913.Qs.setConfig("bx-jigsawpuzzlegenerator:width",_this913["#width-input"].value),_this913.Qs.setConfig("bx-jigsawpuzzlegenerator:height",_this913["#height-input"].value);});}},{key:"yg",value:function yg(){var t=this["#aspect-ratio-button"].toggled;this.Qs.setConfig("bx-jigsawpuzzlegenerator:preserveAspectRatio",t),this["#aspect-ratio-icon"].name=t?"lock-on":"lock-off";}},{key:"fC",value:function fC(){var _this914=this;var t,_e1670;this["#tab-size-box"].addEventListener("change",t=function t(_t2306){_t2306.target===_this914["#tab-size-slider"]?_this914["#tab-size-input"].value=_this914["#tab-size-slider"].value:_t2306.target===_this914["#tab-size-input"]&&(_this914["#tab-size-slider"].value=_this914["#tab-size-input"].value),_this914.vC();}),this["#tab-size-box"].addEventListener("changeend",_e1670=function e(){_this914["#tab-size-box"].removeEventListener("change",t),_this914["#tab-size-box"].removeEventListener("changeend",_e1670),_this914.Qs.setConfig("bx-jigsawpuzzlegenerator:tabSize",_this914["#tab-size-slider"].value/100);});}},{key:"wC",value:function wC(){var _this915=this;var t,_e1671;this["#jitter-box"].addEventListener("change",t=function t(_t2307){_t2307.target===_this915["#jitter-slider"]?_this915["#jitter-input"].value=_this915["#jitter-slider"].value:_t2307.target===_this915["#jitter-input"]&&(_this915["#jitter-slider"].value=_this915["#jitter-input"].value),_this915.vC();}),this["#jitter-box"].addEventListener("changeend",_e1671=function e(){_this915["#jitter-box"].removeEventListener("change",t),_this915["#jitter-box"].removeEventListener("changeend",_e1671),_this915.Qs.setConfig("bx-jigsawpuzzlegenerator:jitter",_this915["#jitter-slider"].value/100);});}},{key:"ak",value:function ak(){var _this916=this;var t,_e1672;this["#seed-box"].addEventListener("change",t=function t(_t2308){_t2308.target===_this916["#seed-slider"]?_this916["#seed-input"].value=_this916["#seed-slider"].value:_t2308.target===_this916["#seed-input"]&&(_this916["#seed-slider"].value=_this916["#seed-input"].value),_this916.vC();}),this["#seed-box"].addEventListener("changeend",_e1672=function e(){_this916["#seed-box"].removeEventListener("change",t),_this916["#seed-box"].removeEventListener("changeend",_e1672),_this916.Qs.setConfig("bx-jigsawpuzzlegenerator:seed",_this916["#seed-slider"].value);});}},{key:"Q_",value:function Q_(){var t=this["#preview"].cloneNode(!0);this.Js.board.undoManager.checkpoint("Jigsaw puzzle"),this.Js.board.insertArtwork(t);}},{key:"yC",value:function yC(t){var e,i,s,n,o,l,h,a,r,d=t.width,c=t.height,p=t.seed,u=t.tabSize/200,x=t.jitter/100,b=t.columns,m=t.rows,g=new Math.seedrandom(p),f=function f(t,e){return t+g()*(e-t);},w=function w(){o=f(-x,x),v();},v=function v(){var t=a;a=g()>.5,e=a==t?-o:o,i=f(-x,x),s=f(-x,x),n=f(-x,x),o=f(-x,x);},y=function y(){return r?c/m:d/b;},k=function k(){return r?d/b:c/m;},S=function S(t){return Math.round(100*(0+y()*(r?h:l)+y()*t))/100;},_=function _(t){return Math.round(100*(0+k()*(r?l:h)+k()*t*(a?-1:1)))/100;},C=function C(){return S(0);},M=function M(){return _(0);},P=function P(){return S(.2);},D=function D(){return _(e);},z=function z(){return S(.5+i+n);},O=function O(){return _(-u+s);},E=function E(){return S(.5-u+i);},T=function T(){return _(u+s);},A=function A(){return S(.5-2*u+i-n);},$=function $(){return _(3*u+s);},I=function I(){return S(.5+2*u+i-n);},L=function L(){return _(3*u+s);},B=function B(){return S(.5+u+i);},R=function R(){return _(u+s);},G=function G(){return S(.5+i+n);},F=function F(){return _(-u+s);},U=function U(){return S(.8);},N=function N(){return _(o);},V=function V(){return S(1);},j=function j(){return _(0);},H=[],Y=[],W=[];for(r=0,h=0;h<=m;++h){for(l=0,w(),H[h]=[];l<=b;++l){0===h||h===m?H[h].push([{type:"M",values:[C(),M()]},{type:"L",values:[V(),j()]}]):H[h].push([{type:"M",values:[C(),M()]},{type:"C",values:[P(),D(),z(),O(),E(),T()]},{type:"C",values:[A(),$(),I(),L(),B(),R()]},{type:"C",values:[G(),F(),U(),N(),V(),j()]}]),v();}}for(r=1,l=0;l<=b;++l){for(h=0,w(),Y[l]=[];h<=m;++h){0===l||l===b?Y[l].push([{type:"M",values:[M(),C()]},{type:"L",values:[j(),V()]}]):Y[l].push([{type:"M",values:[M(),C()]},{type:"C",values:[D(),P(),O(),z(),T(),E()]},{type:"C",values:[$(),A(),L(),I(),R(),B()]},{type:"C",values:[F(),G(),N(),U(),j(),V()]}]),v();}}for(var _t2309=0;_t2309<b;_t2309+=1){for(var _e1673=0;_e1673<m;_e1673+=1){var _i1527=[].concat(_toConsumableArray(H[_e1673][_t2309]),_toConsumableArray(Y[_t2309+1][_e1673].slice(1)),_toConsumableArray(ht(H[_e1673+1][_t2309]).slice(1)),_toConsumableArray(ht(Y[_t2309][_e1673]).slice(1)),[{type:"Z"}]);W.push(_i1527);}}return W;}},{key:"qs",value:function qs(){this.vC();}},{key:"vC",value:function vC(){var t=this.yC(this.options),e="";var _iterator1536=_createForOfIteratorHelper(t),_step1536;try{for(_iterator1536.s();!(_step1536=_iterator1536.n()).done;){var _i1528=_step1536.value;e+="<path style=\"fill: white; stroke: black; stroke-width: 1px;\" d=\"".concat(tt(_i1528),"\"></path>");}}catch(err){_iterator1536.e(err);}finally{_iterator1536.f();}this["#preview"].innerHTML="<g>".concat(e,"</g>"),this["#preview"].setAttribute("viewBox","0 0 ".concat(this.options.width," ").concat(this.options.height));}}]);return Jg;}(Tg);_defineProperty(Jg,"W_",Hi(_templateObject462()));_defineProperty(Jg,"q_",Hi(_templateObject463()));_defineProperty(Jg,"_shadowStyleSheet",Yi(_templateObject464()));customElements.define("bx-jigsawpuzzlegenerator",Jg);var tf=function tf(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"png";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return new Promise(/*#__PURE__*/function(){var _ref163=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee186(s){var _e1674,_n655,_o515,_e1675,_n656,_o516,_e1676,_n657,_o517,_e1677,_n658,_o518;return regeneratorRuntime.wrap(function _callee186$(_context187){while(1){switch(_context187.prev=_context187.next){case 0:if("png"===e){_e1674=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),_n655=URL.createObjectURL(_e1674),_o515=new Image();_o515.src=_n655,_o515.addEventListener("load",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee182(){var t,e,l,h,a,r,d,c,p;return regeneratorRuntime.wrap(function _callee182$(_context183){while(1){switch(_context183.prev=_context183.next){case 0:t=i.background||"rgba(0, 0, 0, 0)",e=i.dpi||96,l=i.colors||0,h=new OffscreenCanvas(_o515.naturalWidth,_o515.naturalHeight),a=h.getContext("2d");a.fillStyle=t,a.fillRect(0,0,_o515.naturalWidth,_o515.naturalHeight),a.drawImage(_o515,0,0);r=a.getImageData(0,0,h.width,h.height),d=UPNG.encode([r.data.buffer],r.width,r.height,l),c=new Uint8Array(d);c=Ya(c,e);p=new Blob([c],{type:"image/png"});URL.revokeObjectURL(_n655),s(p);case 6:case"end":return _context183.stop();}}},_callee182);})),{once:!0});}else if("jpeg"===e||"jpg"===e){_e1675=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),_n656=URL.createObjectURL(_e1675),_o516=new Image();_o516.src=_n656,_o516.addEventListener("load",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee183(){var t,e,l,h,a;return regeneratorRuntime.wrap(function _callee183$(_context184){while(1){switch(_context184.prev=_context184.next){case 0:t=i.background||"rgb(255, 255, 255)",e=i.compression||1,l=new OffscreenCanvas(_o516.naturalWidth,_o516.naturalHeight),h=l.getContext("2d");h.fillStyle="white",h.fillRect(0,0,_o516.naturalWidth,_o516.naturalHeight),h.fillStyle=t,h.fillRect(0,0,_o516.naturalWidth,_o516.naturalHeight),h.drawImage(_o516,0,0);_context184.next=4;return l.convertToBlob({type:"image/jpeg",quality:e});case 4:a=_context184.sent;URL.revokeObjectURL(_n656),s(a);case 6:case"end":return _context184.stop();}}},_callee183);})),{once:!0});}else if("gif"===e){_e1676=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),_n657=URL.createObjectURL(_e1676),_o517=new Image();_o517.src=_n657,_o517.addEventListener("load",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee184(){var t,e,n,l,h,a;return regeneratorRuntime.wrap(function _callee184$(_context185){while(1){switch(_context185.prev=_context185.next){case 0:t=i.background?mo(i.background,"hex"):"#ffffff",e=i.transparent||!1,n=!1;"floyd-steinberg"===i.dithering?n="FloydSteinberg":"false-floyd-steinberg"===i.dithering?n="FalseFloydSteinberg":"stucki"===i.dithering?n="Stucki":"atkinson"===i.dithering&&(n="Atkinson");l=new OffscreenCanvas(_o517.naturalWidth,_o517.naturalHeight).getContext("2d");l.fillStyle=t,l.fillRect(0,0,_o517.naturalWidth,_o517.naturalHeight),l.drawImage(_o517,0,0);h=l.getImageData(0,0,_o517.naturalWidth,_o517.naturalHeight),a=new GIF({workers:2,quality:1,dither:n,transparent:e?parseInt("0x"+t.substring(1)):null,workerScript:"node_modules/gif.js/dist/gif.worker.js"});a.addFrame(h),a.render(),a.on("finished",function(t){s(t);});case 6:case"end":return _context185.stop();}}},_callee184);})),{once:!0});}else if("webp"===e){_e1677=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),_n658=URL.createObjectURL(_e1677),_o518=new Image();_o518.src=_n658,_o518.addEventListener("load",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee185(){var t,e,l,h,a;return regeneratorRuntime.wrap(function _callee185$(_context186){while(1){switch(_context186.prev=_context186.next){case 0:t=i.background||"rgba(255, 255, 255, 0)",e=i.compression||1,l=new OffscreenCanvas(_o518.naturalWidth,_o518.naturalHeight),h=l.getContext("2d");h.fillStyle=t,h.fillRect(0,0,_o518.naturalWidth,_o518.naturalHeight),h.drawImage(_o518,0,0);_context186.next=4;return l.convertToBlob({type:"image/webp",quality:e});case 4:a=_context186.sent;URL.revokeObjectURL(_n658),s(a);case 6:case"end":return _context186.stop();}}},_callee185);})),{once:!0});}case 1:case"end":return _context187.stop();}}},_callee186);}));return function(_x189){return _ref163.apply(this,arguments);};}());};var ef=/*#__PURE__*/function(_Tg6){_inherits(ef,_Tg6);var _super202=_createSuper(ef);function ef(){var _this917;_classCallCheck(this,ef);_this917=_super202.call(this),_this917["#format-buttons"].addEventListener("toggle",function(){return _this917.kC();}),_this917["#ppu-box"].addEventListener("changestart",function(t){return _this917.SC(t);}),_this917["#colors-mode-buttons"].addEventListener("toggle",function(){return _this917._C();}),_this917["#colors-slider"].addEventListener("changestart",function(){return _this917.CC();}),_this917["#colors-input"].addEventListener("changestart",function(){return _this917.MC();}),_this917["#compression-slider"].addEventListener("changestart",function(){return _this917.PC();}),_this917["#compression-input"].addEventListener("changestart",function(){return _this917.DC();}),_this917["#background-select"].addEventListener("changeend",function(){return _this917.zC();}),_this917["#background-popover"].addEventListener("close",function(){return _this917.OC();}),_this917["#preview-button"].addEventListener("click",function(){return _this917.EC();}),_this917["#generate-button"].addEventListener("click",function(){return _this917.Q_();});return _this917;}_createClass(ef,[{key:"connectedCallback",value:function connectedCallback(){var _this918=this;this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");var t=this.Js.board,e=this.Qs.getConfig("bx-rasterizegenerator:format","png"),i=this.Qs.getConfig("bx-rasterizegenerator:ppu",1),s=this.Qs.getConfig("bx-rasterizegenerator:colorsMode","rgb"),n=this.Qs.getConfig("bx-rasterizegenerator:colors",256),o=this.Qs.getConfig("bx-rasterizegenerator:compression",1),l=this.Qs.getConfig("bx-rasterizegenerator:background","rgb(255, 255, 255)");this["#format-buttons"].value=e,this["#ppu-slider"].value=i,this["#ppu-input"].value=i,this["#colors-mode-buttons"].value=s,this["#colors-slider"].value=n,this["#colors-input"].value=n,this["#compression-slider"].value=o,this["#compression-input"].value=o,this["#background-select"].value=l,this.qs(),t.addEventListener("selectedelementschange",this.Ko=function(){_this918.Qo();}),t.addEventListener("workspacemutation",this.rn=function(){_this918.il();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.Ko),t.removeEventListener("workspacemutation",this.rn);}},{key:"Qo",value:function Qo(){this.TC(),this.qs();}},{key:"il",value:function il(){this.TC(),this.qs();}},{key:"kC",value:function kC(){this.Qs.setConfig("bx-rasterizegenerator:format",this["#format-buttons"].value),this.TC(),this.qs();}},{key:"SC",value:function SC(t){var _this919=this;var e,_i1529;this.TC(),this["#ppu-box"].addEventListener("change",e=function e(t){t.target===_this919["#ppu-slider"]?_this919["#ppu-input"].value=_this919["#ppu-slider"].value:t.target===_this919["#ppu-input"]&&(_this919["#ppu-slider"].value=_this919["#ppu-input"].value),_this919.qs();}),this["#ppu-box"].addEventListener("changeend",_i1529=function i(){_this919["#ppu-box"].removeEventListener("change",e),_this919["#ppu-box"].removeEventListener("changeend",_i1529),_this919.Qs.setConfig("bx-rasterizegenerator:ppu",_this919["#ppu-slider"].value);});}},{key:"_C",value:function _C(){this["#colors-box"].hidden="palette"!==this["#colors-mode-buttons"].value,this.Qs.setConfig("bx-rasterizegenerator:colorsMode",this["#colors-mode-buttons"].value),this.TC();}},{key:"CC",value:function CC(){var _this920=this;var t,_e1678;this["#colors-slider"].addEventListener("change",t=function t(){_this920["#colors-input"].value=_this920["#colors-slider"].value;}),this["#colors-slider"].addEventListener("changeend",_e1678=function e(){_this920["#colors-slider"].removeEventListener("change",t),_this920["#colors-slider"].removeEventListener("changeend",_e1678),_this920.Qs.setConfig("bx-rasterizegenerator:colors",_this920["#colors-slider"].value),_this920.TC();});}},{key:"MC",value:function MC(){var _this921=this;var t,_e1679;this["#colors-input"].addEventListener("change",t=function t(){_this921["#colors-slider"].value=_this921["#colors-input"].value;}),this["#colors-input"].addEventListener("changeend",_e1679=function e(){_this921["#colors-input"].removeEventListener("change",t),_this921["#colors-input"].removeEventListener("changeend",_e1679),_this921.Qs.setConfig("bx-rasterizegenerator:colors",_this921["#colors-input"].value),_this921.TC();});}},{key:"PC",value:function PC(){var _this922=this;var t,_e1680;this["#compression-slider"].addEventListener("change",t=function t(){_this922["#compression-input"].value=_this922["#compression-slider"].value,_this922.Qs.setConfig("bx-rasterizegenerator:compression",_this922["#compression-slider"].value);}),this["#compression-slider"].addEventListener("changeend",_e1680=function e(){_this922["#compression-slider"].removeEventListener("change",t),_this922["#compression-slider"].removeEventListener("changeend",_e1680),_this922.TC();});}},{key:"DC",value:function DC(){var _this923=this;var t,_e1681;this["#compression-input"].addEventListener("change",t=function t(){_this923["#compression-slider"].value=_this923["#compression-input"].value,_this923.Qs.setConfig("bx-rasterizegenerator:compression",_this923["#compression-input"].value);}),this["#compression-input"].addEventListener("changeend",_e1681=function e(){_this923["#compression-input"].removeEventListener("change",t),_this923["#compression-input"].removeEventListener("changeend",_e1681),_this923.TC();});}},{key:"zC",value:function zC(){this.AC=!0;}},{key:"OC",value:function OC(){this.AC&&(this.AC=!1,this.Qs.setConfig("bx-rasterizegenerator:background",this["#background-select"].value),this.TC());}},{key:"EC",value:function EC(){this.$C();}},{key:"Q_",value:function(){var _Q_=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee187(){var t,e,i,s,n,o,l,h,a,r,d,c,_iterator1537,_step1537,_t2310;return regeneratorRuntime.wrap(function _callee187$(_context188){while(1){switch(_context188.prev=_context188.next){case 0:t=this.Js.board,e=this["#format-buttons"].value,i=this["#ppu-input"].value,s=t.extractArtworkWithSelectedElements(),n=t.vectorCanvas.getScreenCTM(),o=Lt.fromString(s.getAttribute("viewBox")).toRect(),l=Fe(o,n),h=_toConsumableArray(t.outermostSelectedElements);s.setAttribute("width",X(o.width*i,0)+"px"),s.setAttribute("height",X(o.height*i,0)+"px"),s.setAttribute("preserveAspectRatio","none");a={};"png"===e?a={colors:"rgb"===this["#colors-mode-buttons"].value?0:this["#colors-slider"].value}:"jpeg"===e&&(a={background:this["#background-select"].value,compression:this["#compression-input"].value});r=Yp(s);_context188.next=7;return tf(r,e,a);case 7:d=_context188.sent;_context188.next=10;return Ra(d);case 10:c=_context188.sent;t.undoManager.checkpoint("Rasterize"),t.insertBitmapIntoBBox(c,l);_iterator1537=_createForOfIteratorHelper(h);try{for(_iterator1537.s();!(_step1537=_iterator1537.n()).done;){_t2310=_step1537.value;_t2310.remove();}}catch(err){_iterator1537.e(err);}finally{_iterator1537.f();}case 14:case"end":return _context188.stop();}}},_callee187,this);}));function Q_(){return _Q_.apply(this,arguments);}return Q_;}()},{key:"$C",value:function(){var _$C=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee188(){var t,e,i,s,n,o,l,h,a,r;return regeneratorRuntime.wrap(function _callee188$(_context189){while(1){switch(_context189.prev=_context189.next){case 0:this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...";t=this["#format-buttons"].value,e=this["#ppu-input"].value,i=this.Js.board.extractArtworkWithSelectedElements(),s=X(i.viewBox.baseVal.width*e,0),n=X(i.viewBox.baseVal.height*e,0);i.setAttribute("width",s+"px"),i.setAttribute("height",n+"px"),i.setAttribute("preserveAspectRatio","none");o={};"png"===t?o={colors:"rgb"===this["#colors-mode-buttons"].value?0:this["#colors-slider"].value}:"jpeg"===t&&(o={background:this["#background-select"].value,compression:this["#compression-input"].value});l=Yp(i);_context189.next=8;return tf(l,t,o);case 8:h=_context189.sent;_context189.next=11;return Ra(h);case 11:a=_context189.sent;r=X(a.length);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",a),this["#preview"].setAttribute("width",s),this["#preview"].setAttribute("height",n),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Data size: "+Na(r),this["#preview-section"].scrollIntoViewIfNeeded();case 14:case"end":return _context189.stop();}}},_callee188,this);}));function $C(){return _$C.apply(this,arguments);}return $C;}()},{key:"TC",value:function TC(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var t=this.Js.board,e=null;t.outermostSelectedObjectElements.length>0&&(e=Ue(t.outermostSelectedObjectElements.map(function(e){var i=Nt(e,t.currentWorkspace),s=_i(e);return Fe(s,i);}))),e&&e.width>0&&e.height>0?(this["#options-heading"].disabled=!1,this["#format-heading"].disabled=!1,this["#png-format-button"].disabled=!1,this["#jpeg-format-button"].disabled=!1,this["#ppu-heading"].disabled=!1,this["#ppu-slider"].disabled=!1,this["#ppu-input"].disabled=!1,this["#colors-heading"].disabled=!1,this["#colors-rgb-button"].disabled=!1,this["#colors-palette-button"].disabled=!1,this["#colors-slider"].disabled=!1,this["#colors-input"].disabled=!1,this["#compression-heading"].disabled=!1,this["#compression-slider"].disabled=!1,this["#compression-input"].disabled=!1,this["#background-heading"].disabled=!1,this["#background-select"].disabled=!1,this["#preview-heading"].disabled=!1,this["#preview-button"].disabled=!1,this["#generate-button"].disabled=!1):(this["#options-heading"].disabled=!0,this["#format-heading"].disabled=!0,this["#png-format-button"].disabled=!0,this["#jpeg-format-button"].disabled=!0,this["#ppu-heading"].disabled=!0,this["#ppu-slider"].disabled=!0,this["#ppu-input"].disabled=!0,this["#colors-heading"].disabled=!0,this["#colors-rgb-button"].disabled=!0,this["#colors-palette-button"].disabled=!0,this["#colors-slider"].disabled=!0,this["#colors-input"].disabled=!0,this["#compression-heading"].disabled=!0,this["#compression-slider"].disabled=!0,this["#compression-input"].disabled=!0,this["#background-heading"].disabled=!0,this["#background-select"].disabled=!0,this["#preview-heading"].disabled=!0,this["#preview-button"].disabled=!0,this["#generate-button"].disabled=!0),"png"===this["#format-buttons"].value?(this["#colors-subsection"].hidden=!1,this["#compression-subsection"].hidden=!0,this["#background-subsection"].hidden=!0,"palette"===this["#colors-mode-buttons"].value?this["#colors-box"].hidden=!1:this["#colors-box"].hidden=!0):"jpeg"===this["#format-buttons"].value&&(this["#colors-subsection"].hidden=!0,this["#compression-subsection"].hidden=!1,this["#background-subsection"].hidden=!1);}}]);return ef;}(Tg);_defineProperty(ef,"W_",Hi(_templateObject465()));_defineProperty(ef,"q_",Hi(_templateObject466()));_defineProperty(ef,"_shadowStyleSheet",Yi(_templateObject467()));customElements.define("bx-rasterizegenerator",ef);var sf=/*#__PURE__*/function(_HTMLElement127){_inherits(sf,_HTMLElement127);var _super203=_createSuper(sf);_createClass(sf,[{key:"value",get:function get(){return Array.isArray(this._t)?_toConsumableArray(this._t):this._t;},set:function set(t){this._t=Array.isArray(t)?_toConsumableArray(t):t,this.qs();}},{key:"suffix",get:function get(){return this.hasAttribute("suffix")?this.getAttribute("suffix"):"";},set:function set(t){this.setAttribute("suffix",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function sf(){var _this924;_classCallCheck(this,sf);_this924=_super203.call(this),_this924._t=[0,0,0,0],_this924._shadowRoot=_this924.attachShadow({mode:"closed"}),_this924._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,sf._shadowStyleSheet],_this924._shadowRoot.append(document.importNode(sf._shadowTemplate.content,!0));var _iterator1538=_createForOfIteratorHelper(_this924._shadowRoot.querySelectorAll("[id]")),_step1538;try{for(_iterator1538.s();!(_step1538=_iterator1538.n()).done;){var _t2311=_step1538.value;_this924["#"+_t2311.id]=_t2311;}}catch(err){_iterator1538.e(err);}finally{_iterator1538.f();}_this924["#top-input"].addEventListener("changestart",function(t){return _this924.IC(t);}),_this924["#right-input"].addEventListener("changestart",function(t){return _this924.LC(t);}),_this924["#bottom-input"].addEventListener("changestart",function(t){return _this924.BC(t);}),_this924["#left-input"].addEventListener("changestart",function(t){return _this924.RC(t);}),_this924["#uniform-button"].addEventListener("toggle",function(){return _this924.GC();});return _this924;}_createClass(sf,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("suffix"===t?this.FC():"disabled"===t&&this.qs());}},{key:"connectedCallback",value:function connectedCallback(){this.setAttribute("aria-disabled",this.disabled),this.qs();}},{key:"IC",value:function IC(){var _this925=this;var t,_e1682,i=!1===Array.isArray(this.value);this.dispatchEvent(new CustomEvent("changestart")),this["#top-input"].addEventListener("change",t=function t(){i?(_this925._t=_this925["#top-input"].value,_this925["#left-input"].value=_this925["#top-input"].value,_this925["#right-input"].value=_this925["#top-input"].value,_this925["#bottom-input"].value=_this925["#top-input"].value):_this925._t[0]=_this925["#top-input"].value,_this925.dispatchEvent(new CustomEvent("change"));}),this["#top-input"].addEventListener("changeend",_e1682=function e(){_this925["#top-input"].removeEventListener("change",t),_this925["#top-input"].removeEventListener("changeend",_e1682),_this925.dispatchEvent(new CustomEvent("changeend"));});}},{key:"LC",value:function LC(){var _this926=this;var t,_e1683,i=!1===Array.isArray(this.value);this.dispatchEvent(new CustomEvent("changestart")),this["#right-input"].addEventListener("change",t=function t(){i?_this926._t=_this926["#top-input"].value:_this926._t[1]=_this926["#right-input"].value,_this926.dispatchEvent(new CustomEvent("change"));}),this["#right-input"].addEventListener("changeend",_e1683=function e(){_this926["#right-input"].removeEventListener("change",t),_this926["#right-input"].removeEventListener("changeend",_e1683),_this926.dispatchEvent(new CustomEvent("changeend"));});}},{key:"BC",value:function BC(){var _this927=this;var t,_e1684,i=!1===Array.isArray(this.value);this.dispatchEvent(new CustomEvent("changestart")),this["#bottom-input"].addEventListener("change",t=function t(){i?_this927._t=_this927["#bottom-input"].value:_this927._t[2]=_this927["#bottom-input"].value,_this927.dispatchEvent(new CustomEvent("change"));}),this["#bottom-input"].addEventListener("changeend",_e1684=function e(){_this927["#bottom-input"].removeEventListener("change",t),_this927["#bottom-input"].removeEventListener("changeend",_e1684),_this927.dispatchEvent(new CustomEvent("changeend"));});}},{key:"RC",value:function RC(){var _this928=this;var t,_e1685,i=!1===Array.isArray(this.value);this.dispatchEvent(new CustomEvent("changestart")),this["#left-input"].addEventListener("change",t=function t(){i?_this928._t=_this928["#left-input"].value:_this928._t[3]=_this928["#left-input"].value,_this928.dispatchEvent(new CustomEvent("change"));}),this["#left-input"].addEventListener("changeend",_e1685=function e(){_this928["#left-input"].removeEventListener("change",t),_this928["#left-input"].removeEventListener("changeend",_e1685),_this928.dispatchEvent(new CustomEvent("changeend"));});}},{key:"GC",value:function GC(){this["#uniform-button"].toggled?this.value=this["#top-input"].value:this.value=[this["#top-input"].value,this["#top-input"].value,this["#top-input"].value,this["#top-input"].value],this.dispatchEvent(new CustomEvent("changestart")),this.dispatchEvent(new CustomEvent("change")),this.dispatchEvent(new CustomEvent("changeend"));}},{key:"FC",value:function FC(){this["#left-input"].suffix=this.suffix,this["#right-input"].suffix=this.suffix,this["#top-input"].suffix=this.suffix,this["#bottom-input"].suffix=this.suffix;}},{key:"qs",value:function qs(){if(Array.isArray(this.value)){var _this$value6=_slicedToArray(this.value,4),_t2312=_this$value6[0],_e1686=_this$value6[1],_i1530=_this$value6[2],_s898=_this$value6[3];this["#top-input"].value=_t2312,this["#top-input"].disabled=this.disabled,this["#right-input"].value=_e1686,this["#right-input"].disabled=this.disabled,this["#bottom-input"].value=_i1530,this["#bottom-input"].disabled=this.disabled,this["#left-input"].value=_s898,this["#left-input"].disabled=this.disabled,this["#uniform-button"].toggled=!1,this["#uniform-button"].disabled=this.disabled;}else this["#top-input"].value=this.value,this["#top-input"].disabled=this.disabled,this["#right-input"].value=this.value,this["#right-input"].disabled=!0,this["#bottom-input"].value=this.value,this["#bottom-input"].disabled=!0,this["#left-input"].value=this.value,this["#left-input"].disabled=!0,this["#uniform-button"].toggled=!0,this["#uniform-button"].disabled=this.disabled;}}]);return sf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(sf,"observedAttributes",["suffix","disabled"]);_defineProperty(sf,"_shadowTemplate",Hi(_templateObject468()));_defineProperty(sf,"_shadowStyleSheet",Yi(_templateObject469()));customElements.define("bx-edgeinput",sf);var nf=Array.isArray;var of=/*#__PURE__*/function(_Tg7){_inherits(of,_Tg7);var _super204=_createSuper(of);function of(){var _this929;_classCallCheck(this,of);_this929=_super204.call(this),_this929.UC=Xi(_this929.vC,1e3,_assertThisInitialized(_this929)),_this929["#area-buttons"].addEventListener("toggle",function(){return _this929.NC();}),_this929["#padding-input"].addEventListener("changestart",function(){return _this929.VC();}),_this929["#origin-switch"].addEventListener("toggle",function(){return _this929.jC();}),_this929["#origin-x-input"].addEventListener("changestart",function(){return _this929._f();}),_this929["#origin-y-input"].addEventListener("changestart",function(){return _this929.Cf();}),_this929["#generate-button"].addEventListener("click",function(){return _this929.Q_();});return _this929;}_createClass(of,[{key:"connectedCallback",value:function connectedCallback(){var _this930=this;this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");var t=this.Js.board;t.addEventListener("selectedelementschange",this.Ko=function(){_this930.Qo();}),t.addEventListener("workspacemutation",this.rn=function(){_this930.il();}),this.HC(!0),this.vC(),this.YC();}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.Ko),t.removeEventListener("workspacemutation",this.rn);}},{key:"Qo",value:function Qo(){"selected"===this["#area-buttons"].value&&(this.vC(),this.YC());}},{key:"il",value:function il(){this.HC(),this.YC(),this.UC();}},{key:"NC",value:function NC(){this.Qs.setConfig("bx-resizeviewgenerator:area",this["#area-buttons"].value),this.vC(),this.YC();}},{key:"VC",value:function VC(){var _this931=this;var t,_e1687;this["#padding-input"].addEventListener("change",t=function t(){_this931.HC();}),this["#padding-input"].addEventListener("changeend",_e1687=function e(){_this931["#padding-input"].removeEventListener("change",t),_this931["#padding-input"].removeEventListener("changeend",_e1687),_this931.vC(),_this931.Qs.setConfig("bx-resizeviewgenerator:padding",_this931["#padding-input"].value);});}},{key:"jC",value:function jC(){this["#origin-switch"].toggled?this.Qs.setConfig("bx-resizeviewgenerator:origin",[0,0]):this.Qs.setConfig("bx-resizeviewgenerator:origin",null),this.HC(),this.vC();}},{key:"_f",value:function _f(){var _this932=this;var t,_e1688;this["#origin-x-input"].addEventListener("change",t=function t(){_this932["#preview-x-td"].textContent=_this932["#origin-x-input"].value;}),this["#origin-x-input"].addEventListener("changeend",_e1688=function e(){_this932["#origin-x-input"].removeEventListener("change",t),_this932["#origin-x-input"].removeEventListener("changeend",_e1688);var i=[_this932["#origin-x-input"].value,_this932["#origin-y-input"].value];_this932.Qs.setConfig("bx-resizeviewgenerator:origin",i);});}},{key:"Cf",value:function Cf(){var _this933=this;var t,_e1689;this["#origin-y-input"].addEventListener("change",t=function t(){_this933["#preview-y-td"].textContent=_this933["#origin-y-input"].value;}),this["#origin-y-input"].addEventListener("changeend",_e1689=function e(){_this933["#origin-y-input"].removeEventListener("change",t),_this933["#origin-y-input"].removeEventListener("changeend",_e1689);var i=[_this933["#origin-x-input"].value,_this933["#origin-y-input"].value];_this933.Qs.setConfig("bx-resizeviewgenerator:origin",i);});}},{key:"Q_",value:function Q_(){var t=this.Js.board,e=[];if("all"===this["#area-buttons"].value){var _iterator1539=_createForOfIteratorHelper(t.currentWorkspace.children),_step1539;try{for(_iterator1539.s();!(_step1539=_iterator1539.n()).done;){var _i1531=_step1539.value;g.includes(_i1531.localName)&&e.push(_i1531);}}catch(err){_iterator1539.e(err);}finally{_iterator1539.f();}}else"selected"===this["#area-buttons"].value&&(e=t.outermostSelectedObjectElements);if(e.length>0){t.undoManager.checkpoint("Resize view");var _i1532=e.map(function(t){return Ci(t);}),_s899=Fe(Ue(_i1532),Vt(t.currentWorkspace).inverse()),_n659=this["#padding-input"].value;!1===nf(_n659)&&(_n659=[_n659,_n659,_n659,_n659]);var _n660=_n659,_n661=_slicedToArray(_n660,4),_o519=_n661[0],_l384=_n661[1],_h278=_n661[2],_a220=_n661[3];if(!1===this["#origin-switch"].toggled)_s899.x-=_a220,_s899.y-=_o519,_s899.width+=_a220+_l384,_s899.height+=_o519+_h278,_s899=Ge(_s899,t.geometryPrecision);else{var _i1533=this["#origin-x-input"].value-_s899.x+_a220,_n662=this["#origin-y-input"].value-_s899.y+_o519;_s899.x=this["#origin-x-input"].value,_s899.y=this["#origin-y-input"].value,_s899.width+=_a220+_l384,_s899.height+=_o519+_h278,_s899=Ge(_s899,t.geometryPrecision);var _iterator1540=_createForOfIteratorHelper(e),_step1540;try{for(_iterator1540.s();!(_step1540=_iterator1540.n()).done;){var _s900=_step1540.value;if(g.includes(_s900.localName)){var _e1690=Nt(_s900,t.vectorCanvas),_o520=_e1690.inverse(),_l385=Ut(_s900),_h279=DOMMatrix.fromMatrix(_l385);_h279.multiplySelf(_o520),_h279.translateSelf(_i1533,_n662),_h279.multiplySelf(_e1690),_s900.setAttribute("transform",_h279.toString()),uh(_s900,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});}}}catch(err){_iterator1540.e(err);}finally{_iterator1540.f();}}if(this["#view-select"].value.startsWith("#")){t.currentWorkspace.querySelector(this["#view-select"].value).setAttribute("viewBox","".concat(_s899.x," ").concat(_s899.y," ").concat(_s899.width," ").concat(_s899.height));}else t.currentWorkspace.setAttribute("viewBox","".concat(_s899.x," ").concat(_s899.y," ").concat(_s899.width," ").concat(_s899.height));}}},{key:"HC",value:function HC(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.Js.board,i=e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]");!1===e.currentWorkspace.hasAttribute("viewBox")&&0===i.length?this["#options-heading"].disabled=!0:this["#options-heading"].disabled=!1;{var _t2313=[];e.currentWorkspace.hasAttribute("viewBox")&&_t2313.push(["default","Default view"]);var _iterator1541=_createForOfIteratorHelper(i),_step1541;try{for(_iterator1541.s();!(_step1541=_iterator1541.n()).done;){var _e1692=_step1541.value;var _i1537=_e1692.querySelector(":scope > bx-title"),_s902="#"+_e1692.id;_t2313.push([_s902,_i1537?_i1537.textContent:_s902]);}}catch(err){_iterator1541.e(err);}finally{_iterator1541.f();}{var _e1691="",_i1534=this["#view-select"].value||"default";for(var _i1535=0,_t2314=_t2313;_i1535<_t2314.length;_i1535++){var _t2314$_i=_slicedToArray(_t2314[_i1535],2),_i1536=_t2314$_i[0],_s901=_t2314$_i[1];_e1691+="<x-menuitem value=\"".concat(_i1536,"\"><x-label>").concat(_s901,"</x-label></x-menuitem>");}this["#view-select"].value=null,this["#view-menu"].innerHTML=_e1691,0===_t2313.length?(this["#view-subsection"].hidden=!0,this["#view-select"].value=null):1===_t2313.length?(this["#view-subsection"].hidden=!0,this["#view-select"].value=_t2313[0][0]):(this["#view-subsection"].hidden=!1,void 0!==_t2313.find(function(_ref168){var _ref169=_slicedToArray(_ref168,1),t=_ref169[0];return t===_i1534;})?this["#view-select"].value=_i1534:this["#view-select"].value=_t2313[0][0]);}}if(t){var _t2315=this.Qs.getConfig("bx-resizeviewgenerator:area","all");this["#area-buttons"].value=_t2315;}if(null===this["#view-select"].value?(this["#area-heading"].disabled=!0,this["#all-area-button"].disabled=!0,this["#selected-area-button"].disabled=!0):(this["#area-heading"].disabled=!1,this["#all-area-button"].disabled=!1,this["#selected-area-button"].disabled=!1),t&&(this["#padding-input"].value=this.Qs.getConfig("bx-resizeviewgenerator:padding",0)),null===this["#view-select"].value?(this["#padding-heading"].disabled=!0,this["#padding-input"].disabled=!0):(this["#padding-heading"].disabled=!1,this["#padding-input"].disabled=!1),t){var _t2316=this.Qs.getConfig("bx-resizeviewgenerator:origin",null);this["#origin-switch"].toggled=nf(_t2316),this["#origin-x-input"].value=nf(_t2316)?_t2316[0]:0,this["#origin-y-input"].value=nf(_t2316)?_t2316[1]:0;}null===this["#view-select"].value?(this["#origin-heading"].disabled=!0,this["#origin-switch"].disabled=!0,this["#origin-x-label"].disabled=!0,this["#origin-x-input"].disabled=!0,this["#origin-y-label"].disabled=!0,this["#origin-y-input"].disabled=!0):(this["#origin-heading"].disabled=!1,this["#origin-switch"].disabled=!1,this["#origin-switch"].toggled?(this["#origin-x-label"].disabled=!1,this["#origin-x-input"].disabled=!1,this["#origin-y-label"].disabled=!1,this["#origin-y-input"].disabled=!1,null===this["#origin-x-input"].value&&(this["#origin-x-input"].value=0),null===this["#origin-y-input"].value&&(this["#origin-y-input"].value=0)):(this["#origin-x-label"].disabled=!0,this["#origin-x-input"].disabled=!0,this["#origin-x-input"].value=null,this["#origin-y-label"].disabled=!0,this["#origin-y-input"].disabled=!0,this["#origin-y-input"].value=null));}},{key:"vC",value:function(){var _vC=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee189(){var t,e,_e1693,_i1538,_iterator1542,_step1542,_i1539,_s903,_n663,_o521,_l386,_l387,_l388,_h280,_a221,_r144,_d113,_c88,_p76;return regeneratorRuntime.wrap(function _callee189$(_context190){while(1){switch(_context190.prev=_context190.next){case 0:t=this.Js.board,e=t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]");if(!(!1===t.currentWorkspace.hasAttribute("viewBox")&&0===e.length)){_context190.next=5;break;}this["#preview-section"].hidden=!0,this["#preview"].src="",this["#preview-section-hr"].hidden=!0;_context190.next=21;break;case 5:_e1693=[],_i1538=[];_iterator1542=_createForOfIteratorHelper(t.currentWorkspace.children);try{for(_iterator1542.s();!(_step1542=_iterator1542.n()).done;){_i1539=_step1542.value;g.includes(_i1539.localName)&&_e1693.push(_i1539);}}catch(err){_iterator1542.e(err);}finally{_iterator1542.f();}if(!("all"===this["#area-buttons"].value?_i1538=[].concat(_e1693):"selected"===this["#area-buttons"].value&&(_i1538=t.outermostSelectedObjectElements),0===_i1538.length)){_context190.next=12;break;}this["#preview-section"].hidden=!0,this["#preview"].src="",this["#preview-section-hr"].hidden=!0;_context190.next=21;break;case 12:_s903=t.extractArtworkWithElements(_e1693),_n663=_i1538.map(function(t){return Ci(t);}),_o521=Ue(_n663),_l386=this["#padding-input"].value;!1===nf(_l386)&&(_l386=[_l386,_l386,_l386,_l386]);_l387=_l386,_l388=_slicedToArray(_l387,4),_h280=_l388[0],_a221=_l388[1],_r144=_l388[2],_d113=_l388[3];_o521=Fe(_o521,Vt(t.currentWorkspace).inverse()),_o521=Ge(_o521,t.geometryPrecision),_s903.initialViewBox=new DOMRect(_o521.x,_o521.y,_o521.width,_o521.height),_o521.width+=_d113+_a221,_o521.height+=_h280+_r144,_o521.x-=_d113,_o521.y-=_h280,_o521=Ge(_o521,t.geometryPrecision),_s903.setAttribute("viewBox","".concat(_o521.x," ").concat(_o521.y," ").concat(_o521.width," ").concat(_o521.height)),_s903.setAttribute("width",_o521.width),_s903.setAttribute("height",_o521.height);_c88=Yp(_s903);_context190.next=19;return qp(_c88);case 19:_p76=_context190.sent;this["#preview-section"].hidden=!1,this["#preview-section-hr"].hidden=!1,this["#preview"].setAttribute("src",_p76),this["#origin-switch"].toggled?(this["#preview-x-td"].textContent=this["#origin-x-input"].value,this["#preview-y-td"].textContent=this["#origin-y-input"].value):(this["#preview-x-td"].textContent=_o521.x,this["#preview-y-td"].textContent=_o521.y),this["#preview-width-td"].textContent=_o521.width,this["#preview-height-td"].textContent=_o521.height;case 21:case"end":return _context190.stop();}}},_callee189,this);}));function vC(){return _vC.apply(this,arguments);}return vC;}()},{key:"YC",value:function YC(){var t=this.Js.board,e=t.outermostSelectedObjectElements,i=t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]");!1===t.currentWorkspace.hasAttribute("viewBox")&&0===i.length||"selected"===this["#area-buttons"].value&&0===e.length?this["#generate-button"].disabled=!0:this["#generate-button"].disabled=!1;}}]);return of;}(Tg);_defineProperty(of,"W_",Hi(_templateObject470()));_defineProperty(of,"q_",Hi(_templateObject471()));_defineProperty(of,"_shadowStyleSheet",Yi(_templateObject472()));customElements.define("bx-resizeviewgenerator",of);var lf={"default":{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:16,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},blackAndWhite:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:2,minColorRatio:0,colorQuantCycles:1,colorSampling:0,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:0,lineFilter:!1,ignoreWhite:!0},grayscale:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:7,minColorRatio:0,colorQuantCycles:1,colorSampling:0,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},posterized:{workingSize:512,blurRadius:5,blurDelta:20,numberOfColors:5,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},curvy:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:16,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:.01,qtres:1,pathOmit:8,rightAngleEnhance:!1,strokeWidth:1,lineFilter:!0,ignoreWhite:!1},sharp:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:16,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:1,qtres:.01,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},detailed:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:64,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:.5,qtres:.5,pathOmit:0,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},smoothed:{workingSize:512,blurRadius:5,blurDelta:64,numberOfColors:16,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1}};var hf=/*#__PURE__*/function(_Tg8){_inherits(hf,_Tg8);var _super205=_createSuper(hf);_createClass(hf,[{key:"options",get:function get(){return{workingSize:this["#working-size-input"].value,blurRadius:this["#blur-radius-input"].value,blurDelta:this["#blur-delta-input"].value,numberOfColors:this["#number-of-colors-input"].value,minColorRatio:this["#min-color-ratio-input"].value,colorQuantCycles:this["#color-quant-cycles-input"].value,colorSampling:parseInt(this["#color-sampling-buttons"].value),ltres:this["#ltres-input"].value,qtres:this["#qtres-input"].value,pathOmit:this["#path-omit-input"].value,rightAngleEnhance:this["#right-angle-enhance-checkbox"].toggled,strokeWidth:this["#stroke-width-input"].value,lineFilter:this["#line-filter-checkbox"].toggled,ignoreWhite:this["#ignore-white-checkbox"].toggled,geometryPrecision:this.Js.board.geometryPrecision};}}]);function hf(){var _this934;_classCallCheck(this,hf);_this934=_super205.call(this),_this934["#preset-select"].addEventListener("change",function(){return _this934.WC();}),_this934["#working-size-box"].addEventListener("changestart",function(){return _this934.qC();}),_this934["#blur-radius-input"].addEventListener("changestart",function(){return _this934.XC();}),_this934["#blur-delta-input"].addEventListener("changestart",function(){return _this934.ZC();}),_this934["#number-of-colors-input"].addEventListener("changestart",function(){return _this934.KC();}),_this934["#min-color-ratio-input"].addEventListener("changestart",function(){return _this934.QC();}),_this934["#color-quant-cycles-input"].addEventListener("changestart",function(){return _this934.JC();}),_this934["#color-sampling-buttons"].addEventListener("toggle",function(){return _this934.tM();}),_this934["#ltres-input"].addEventListener("changestart",function(){return _this934.eM();}),_this934["#qtres-input"].addEventListener("changestart",function(){return _this934.iM();}),_this934["#path-omit-input"].addEventListener("changestart",function(){return _this934.sM();}),_this934["#right-angle-enhance-checkbox"].addEventListener("toggle",function(){return _this934.nM();}),_this934["#stroke-width-box"].addEventListener("changestart",function(){return _this934.oM();}),_this934["#line-filter-checkbox"].addEventListener("toggle",function(){return _this934.lM();}),_this934["#ignore-white-checkbox"].addEventListener("toggle",function(){return _this934.hM();}),_this934["#preview-button"].addEventListener("click",function(){return _this934.EC();}),_this934["#generate-button"].addEventListener("click",function(){return _this934.Q_();});return _this934;}_createClass(hf,[{key:"connectedCallback",value:function connectedCallback(){var _this935=this;this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");var t=this.Qs,e=this.Js.board,i=t.getConfig("bx-vectorizegenerator:workingSize",512),s=t.getConfig("bx-vectorizegenerator:blurRadius",0),n=t.getConfig("bx-vectorizegenerator:blurDelta",20),o=t.getConfig("bx-vectorizegenerator:numberOfColors",16),l=t.getConfig("bx-vectorizegenerator:minColorRatio",0),h=t.getConfig("bx-vectorizegenerator:colorQuantCycles",3),a=t.getConfig("bx-vectorizegenerator:colorSampling",2),r=t.getConfig("bx-vectorizegenerator:ltres",1),d=t.getConfig("bx-vectorizegenerator:qtres",1),c=t.getConfig("bx-vectorizegenerator:pathOmit",8),p=t.getConfig("bx-vectorizegenerator:rightAngleEnhance",!0),u=t.getConfig("bx-vectorizegenerator:strokeWidth",1),x=t.getConfig("bx-vectorizegenerator:lineFilter",!1),b=t.getConfig("bx-vectorizegenerator:ignoreWhite",!1);this["#working-size-slider"].value=i,this["#working-size-input"].value=i,this["#blur-radius-input"].value=s,this["#blur-delta-input"].value=n,this["#number-of-colors-input"].value=o,this["#min-color-ratio-input"].value=l,this["#color-quant-cycles-input"].value=h,this["#color-sampling-buttons"].value=a+"",this["#ltres-input"].value=r,this["#qtres-input"].value=d,this["#path-omit-input"].value=c,this["#right-angle-enhance-checkbox"].toggled=p,this["#stroke-width-input"].value=u,this["#stroke-width-slider"].value=u,this["#line-filter-checkbox"].toggled=x,this["#ignore-white-checkbox"].toggled=b,e.addEventListener("selectedelementschange",this.Ko=function(){_this935.TC(),_this935.qs();}),e.addEventListener("workspacemutation",this.rn=function(){_this935.TC(),_this935.qs();}),this.qs(),this.aM();}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.Ko),t.removeEventListener("workspacemutation",this.rn);}},{key:"WC",value:function WC(){var t=this["#preset-select"].value,e=lf[t];if(this.TC(),e){for(var _i1540=0,_Object$entries10=Object.entries(e);_i1540<_Object$entries10.length;_i1540++){var _Object$entries10$_i=_slicedToArray(_Object$entries10[_i1540],2),_t2317=_Object$entries10$_i[0],_i1541=_Object$entries10$_i[1];this.Qs.setConfig("bx-vectorizegenerator:".concat(_t2317),_i1541);}this["#working-size-slider"].value=e.workingSize,this["#working-size-input"].value=e.workingSize,this["#blur-radius-input"].value=e.blurRadius,this["#blur-delta-input"].value=e.blurDelta,this["#number-of-colors-input"].value=e.numberOfColors,this["#min-color-ratio-input"].value=e.minColorRatio,this["#color-quant-cycles-input"].value=e.colorQuantCycles,this["#color-sampling-buttons"].value=e.colorSampling+"",this["#ltres-input"].value=e.ltres,this["#qtres-input"].value=e.qtres,this["#path-omit-input"].value=e.pathOmit,this["#right-angle-enhance-checkbox"].toggled=e.rightAngleEnhance,this["#stroke-width-input"].value=e.strokeWidth,this["#stroke-width-slider"].value=e.strokeWidth,this["#line-filter-checkbox"].toggled=e.lineFilter,this["#ignore-white-checkbox"].toggled=e.ignoreWhite;}}},{key:"qC",value:function qC(){var _this936=this;var t,_e1694;this.TC(),this["#working-size-box"].addEventListener("change",t=function t(_t2318){_t2318.target===_this936["#working-size-slider"]?_this936["#working-size-input"].value=_this936["#working-size-slider"].value:_t2318.target===_this936["#working-size-input"]&&(_this936["#working-size-slider"].value=_this936["#working-size-input"].value);}),this["#working-size-box"].addEventListener("changeend",_e1694=function e(){_this936["#working-size-box"].removeEventListener("change",t),_this936["#working-size-box"].removeEventListener("changeend",_e1694),_this936.Qs.setConfig("bx-vectorizegenerator:workingSize",_this936["#working-size-slider"].value),_this936.aM();});}},{key:"XC",value:function XC(){var _this937=this;this.TC(),this["#blur-radius-input"].addEventListener("changeend",function(){_this937.Qs.setConfig("bx-vectorizegenerator:blurRadius",_this937["#blur-radius-input"].value),_this937.aM();},{once:!0});}},{key:"ZC",value:function ZC(){var _this938=this;this.TC(),this["#blur-delta-input"].addEventListener("changeend",function(){_this938.Qs.setConfig("bx-vectorizegenerator:blurDelta",_this938["#blur-delta-input"].value),_this938.aM();},{once:!0});}},{key:"KC",value:function KC(){var _this939=this;this.TC(),this["#number-of-colors-input"].addEventListener("changeend",function(){_this939.Qs.setConfig("bx-vectorizegenerator:numberOfColors",_this939["#number-of-colors-input"].value),_this939.aM();},{once:!0});}},{key:"QC",value:function QC(){var _this940=this;this.TC(),this["#min-color-ratio-input"].addEventListener("changeend",function(){_this940.Qs.setConfig("bx-vectorizegenerator:minColorRatio",_this940["#min-color-ratio-input"].value),_this940.aM();},{once:!0});}},{key:"JC",value:function JC(){var _this941=this;this.TC(),this["#color-quant-cycles-input"].addEventListener("changeend",function(){_this941.Qs.setConfig("bx-vectorizegenerator:colorQuantCycles",_this941["#color-quant-cycles-input"].value),_this941.aM();});}},{key:"tM",value:function tM(){this.TC(),this.Qs.setConfig("bx-vectorizegenerator:colorSampling",this["#color-sampling-buttons"].value),this.aM();}},{key:"eM",value:function eM(){var _this942=this;this.TC(),this["#ltres-input"].addEventListener("changeend",function(){_this942.Qs.setConfig("bx-vectorizegenerator:ltres",_this942["#ltres-input"].value),_this942.aM();},{once:!0});}},{key:"iM",value:function iM(){var _this943=this;this.TC(),this["#qtres-input"].addEventListener("changeend",function(){_this943.Qs.setConfig("bx-vectorizegenerator:qtres",_this943["#qtres-input"].value),_this943.aM();},{once:!0});}},{key:"sM",value:function sM(){var _this944=this;this.TC(),this["#path-omit-input"].addEventListener("changeend",function(){_this944.Qs.setConfig("bx-vectorizegenerator:pathOmit",_this944["#path-omit-input"].value),_this944.aM();},{once:!0});}},{key:"nM",value:function nM(){this.TC(),this.Qs.setConfig("bx-vectorizegenerator:rightAngleEnhance",this["#right-angle-enhance-checkbox"].toggled),this.aM();}},{key:"oM",value:function oM(){var _this945=this;var t,_e1695;this.TC(),this["#stroke-width-box"].addEventListener("change",t=function t(_t2319){_t2319.target===_this945["#stroke-width-slider"]?_this945["#stroke-width-input"].value=_this945["#stroke-width-slider"].value:_t2319.target===_this945["#stroke-width-input"]&&(_this945["#stroke-width-slider"].value=_this945["#stroke-width-input"].value);}),this["#stroke-width-box"].addEventListener("changeend",_e1695=function e(){_this945["#stroke-width-box"].removeEventListener("change",t),_this945["#stroke-width-box"].removeEventListener("changeend",_e1695),_this945.Qs.setConfig("bx-vectorizegenerator:strokeWidth",_this945["#stroke-width-input"].value),_this945.aM();});}},{key:"lM",value:function lM(){this.TC(),this.Qs.setConfig("bx-vectorizegenerator:lineFilter",this["#line-filter-checkbox"].toggled),this.aM();}},{key:"hM",value:function hM(){this.TC(),this.Qs.setConfig("bx-vectorizegenerator:ignoreWhite",this["#ignore-white-checkbox"].toggled),this.aM();}},{key:"EC",value:function EC(){this.$C();}},{key:"Q_",value:function(){var _Q_2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee190(){var t,e,i,s,n,o,l,h,a,r,d,c,p,_i1542,_arr75,_e1696,_iterator1543,_step1543,_loop37;return regeneratorRuntime.wrap(function _callee190$(_context191){while(1){switch(_context191.prev=_context191.next){case 0:e=this.Js.board;i=e.selectedElements[0];_context191.next=4;return window.createImageBitmap(i);case 4:s=_context191.sent;n=Ut(i);o=i.getBBox();_context191.next=9;return this.rM(s,this.options);case 9:l=_context191.sent;h=Pi(l);a=o.width/h.viewBox.baseVal.width;r=o.height/h.viewBox.baseVal.height;d=o.x-h.viewBox.baseVal.x*a;c=o.y-h.viewBox.baseVal.y*r;p=new DOMMatrix();if(p.multiplySelf(n),p.translateSelf(d,c),p.scaleSelf(a,r),p=Bt(p,e.transformPrecision),e.undoManager.checkpoint("Vectorize"),1===h.children.length)t=h.children[0];else{t=Di("svg:g");for(_i1542=0,_arr75=_toConsumableArray(h.children);_i1542<_arr75.length;_i1542++){_e1696=_arr75[_i1542];t.append(_e1696);}}t.setAttribute("transform",p);_iterator1543=_createForOfIteratorHelper(i.style);try{_loop37=function _loop37(){var e=_step1543.value;var s=i.style.getPropertyValue(e),n=R.find(function(t){return t.name===e;});n&&n.appliesTo.includes(t.localName)&&t.style.setProperty(e,s);};for(_iterator1543.s();!(_step1543=_iterator1543.n()).done;){_loop37();}}catch(err){_iterator1543.e(err);}finally{_iterator1543.f();}i.replaceWith(t),e.selectedElements=[t],e.selectedTextRange=null;case 21:case"end":return _context191.stop();}}},_callee190,this);}));function Q_(){return _Q_2.apply(this,arguments);}return Q_;}()},{key:"rM",value:function rM(t,e){return new Promise(function(i){var s=new Worker("/workers/vectorize.js");s.addEventListener("message",function(t){return i(t.data);},!1),s.postMessage([t,e]);});}},{key:"$C",value:function(){var _$C2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee191(){var t,e,i,s;return regeneratorRuntime.wrap(function _callee191$(_context192){while(1){switch(_context192.prev=_context192.next){case 0:this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...";t=this.Js.board.selectedElements[0];_context192.next=4;return window.createImageBitmap(t);case 4:e=_context192.sent;t.getBoundingClientRect();_context192.next=8;return this.rM(e,this.options);case 8:i=_context192.sent;s=Pi(i);s.setAttribute("id","preview"),s.setAttribute("part","preview"),this["#preview"].replaceWith(s),this["#preview"]=s,this["#preview-label"].textContent="",this["#preview-label"].hidden=!0,this["#preview-section"].scrollIntoViewIfNeeded();case 11:case"end":return _context192.stop();}}},_callee191,this);}));function $C(){return _$C2.apply(this,arguments);}return $C;}()},{key:"TC",value:function TC(){this["#preview-button"].hidden=!1,this["#preview"].setAttribute("hidden",""),this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var t=null;1===this.Js.board.outermostSelectedObjectElements.length&&"image"===this.Js.board.outermostSelectedObjectElements[0].localName&&(t=this.Js.board.outermostSelectedObjectElements[0]);var e=null===t;this["#options-heading"].disabled=e,this["#preset-heading"].disabled=e,this["#preset-select"].disabled=e,this["#preprocessing-heading"].disabled=e,this["#working-size-heading"].disabled=e,this["#working-size-slider"].disabled=e,this["#working-size-input"].disabled=e,this["#blur-radius-heading"].disabled=e,this["#blur-radius-input"].disabled=e,this["#blur-delta-heading"].disabled=e,this["#blur-delta-input"].disabled=e,this["#color-heading"].disabled=e,this["#number-of-colors-heading"].disabled=e,this["#number-of-colors-input"].disabled=e,this["#min-color-ratio-heading"].disabled=e,this["#min-color-ratio-input"].disabled=e,this["#color-quant-cycles-heading"].disabled=e,this["#color-quant-cycles-input"].disabled=e,this["#color-sampling-heading"].disabled=e;var _iterator1544=_createForOfIteratorHelper(this["#color-sampling-buttons"].children),_step1544;try{for(_iterator1544.s();!(_step1544=_iterator1544.n()).done;){var _t2320=_step1544.value;_t2320.disabled=e;}}catch(err){_iterator1544.e(err);}finally{_iterator1544.f();}this["#tracing-heading"].disabled=e,this["#ltres-heading"].disabled=e,this["#ltres-input"].disabled=e,this["#qtres-heading"].disabled=e,this["#qtres-input"].disabled=e,this["#path-omit-heading"].disabled=e,this["#path-omit-input"].disabled=e,this["#right-angle-enhance-checkbox"].disabled=e,this["#right-angle-enhance-label"].disabled=e,this["#rendering-heading"].disabled=e,this["#stroke-width-heading"].disabled=e,this["#stroke-width-slider"].disabled=e,this["#stroke-width-input"].disabled=e,this["#line-filter-checkbox"].disabled=e,this["#ignore-white-checkbox"].disabled=e,this["#preview-heading"].disabled=e,this["#preview-button"].disabled=e,this["#generate-button"].disabled=null===t;}},{key:"aM",value:function aM(){var t=null;for(var _i1543=0,_Object$entries11=Object.entries(lf);_i1543<_Object$entries11.length;_i1543++){var _Object$entries11$_i=_slicedToArray(_Object$entries11[_i1543],2),_e1697=_Object$entries11$_i[0],_i1544=_Object$entries11$_i[1];if(this["#working-size-input"].value===_i1544.workingSize&&this["#working-size-slider"].value===_i1544.workingSize&&this["#blur-radius-input"].value===_i1544.blurRadius&&this["#blur-delta-input"].value===_i1544.blurDelta&&this["#number-of-colors-input"].value===_i1544.numberOfColors&&this["#min-color-ratio-input"].value===_i1544.minColorRatio&&this["#color-quant-cycles-input"].value===_i1544.colorQuantCycles&&this["#color-sampling-buttons"].value===_i1544.colorSampling+""&&this["#ltres-input"].value===_i1544.ltres&&this["#qtres-input"].value===_i1544.qtres&&this["#path-omit-input"].value===_i1544.pathOmit&&this["#right-angle-enhance-checkbox"].toggled===_i1544.rightAngleEnhance&&this["#stroke-width-input"].value===_i1544.strokeWidth&&this["#line-filter-checkbox"].toggled===_i1544.lineFilter&&this["#ignore-white-checkbox"].toggled===_i1544.ignoreWhite){t=_e1697;break;}}this["#preset-select"].value=t;}}]);return hf;}(Tg);_defineProperty(hf,"W_",Hi(_templateObject473()));_defineProperty(hf,"q_",Hi(_templateObject474()));_defineProperty(hf,"_shadowStyleSheet",Yi(_templateObject475()));customElements.define("bx-vectorizegenerator",hf);var af=/*#__PURE__*/function(_Tg9){_inherits(af,_Tg9);var _super206=_createSuper(af);_createClass(af,[{key:"options",get:function get(){return{columns:this["#columns-input"].value,rows:this["#rows-input"].value,pixelSize:this["#pixel-size-input"].value/100,pixelShape:this["#pixel-shape-buttons"].value,renderAs:this["#render-as-buttons"].value,geometryPrecision:this.Js.board.geometryPrecision};}}]);function af(){var _this946;_classCallCheck(this,af);_this946=_super206.call(this),_this946.Yc=Xi(_this946.qs,1e3,_assertThisInitialized(_this946)),_this946["#columns-input"].addEventListener("changestart",function(){return _this946.mC();}),_this946["#rows-input"].addEventListener("changestart",function(){return _this946.gC();}),_this946["#pixel-size-box"].addEventListener("changestart",function(){return _this946.Nb();}),_this946["#pixel-shape-buttons"].addEventListener("toggle",function(){return _this946.dM();}),_this946["#render-as-buttons"].addEventListener("toggle",function(){return _this946.cM();}),_this946["#generate-button"].addEventListener("click",function(){return _this946.Q_();});return _this946;}_createClass(af,[{key:"connectedCallback",value:function connectedCallback(){var _this947=this;this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");var t=this.Qs.getConfig("bx-pixelategenerator:columns",20),e=this.Qs.getConfig("bx-pixelategenerator:rows",20),i=this.Qs.getConfig("bx-pixelategenerator:pixelSize",.9),s=this.Qs.getConfig("bx-pixelategenerator:pixelShape","rectangle"),n=this.Qs.getConfig("bx-pixelategenerator:renderAs","paths");this["#columns-input"].value=t,this["#rows-input"].value=e,this["#pixel-size-slider"].value=X(100*i,2),this["#pixel-size-input"].value=X(100*i,2),this["#pixel-shape-buttons"].value=s,this["#render-as-buttons"].value=n,this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this947.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this947.Yc();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"mC",value:function mC(t){var _this948=this;var e,_i1545,s=this["#rows-input"].value/this["#columns-input"].value;this["#columns-input"].addEventListener("change",e=function e(){_this948["#rows-input"].value=Math.ceil(_this948["#columns-input"].value*s);}),this["#columns-input"].addEventListener("changeend",_i1545=function i(){_this948["#columns-input"].removeEventListener("change",e),_this948["#columns-input"].removeEventListener("changeend",_i1545),_this948.Qs.setConfig("bx-pixelategenerator:columns",_this948["#columns-input"].value),_this948.Qs.setConfig("bx-pixelategenerator:rows",_this948["#rows-input"].value),_this948.qs();});}},{key:"gC",value:function gC(t){var _this949=this;var e,_i1546,s=this["#columns-input"].value/this["#rows-input"].value;this["#rows-input"].addEventListener("change",e=function e(){_this949["#columns-input"].value=Math.ceil(_this949["#rows-input"].value*s);}),this["#rows-input"].addEventListener("changeend",_i1546=function i(){_this949["#rows-input"].removeEventListener("change",e),_this949["#rows-input"].removeEventListener("changeend",_i1546),_this949.Qs.setConfig("bx-pixelategenerator:columns",_this949["#columns-input"].value),_this949.Qs.setConfig("bx-pixelategenerator:rows",_this949["#rows-input"].value),_this949.qs();});}},{key:"Nb",value:function Nb(){var _this950=this;var t,_e1698;this["#pixel-size-box"].addEventListener("change",t=function t(_t2321){_t2321.target===_this950["#pixel-size-slider"]?_this950["#pixel-size-input"].value=_this950["#pixel-size-slider"].value:_t2321.target===_this950["#pixel-size-input"]&&(_this950["#pixel-size-slider"].value=_this950["#pixel-size-input"].value);}),this["#pixel-size-box"].addEventListener("changeend",_e1698=function e(){_this950["#pixel-size-box"].removeEventListener("change",t),_this950["#pixel-size-box"].removeEventListener("changeend",_e1698),_this950.Qs.setConfig("bx-pixelategenerator:pixelSize",_this950["#pixel-size-slider"].value/100),_this950.qs();});}},{key:"dM",value:function dM(){this.Qs.setConfig("bx-pixelategenerator:pixelShape",this["#pixel-shape-buttons"].value),this.qs();}},{key:"cM",value:function cM(){this.Qs.setConfig("bx-pixelategenerator:renderAs",this["#render-as-buttons"].value);}},{key:"Q_",value:function(){var _Q_3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee192(){var t,e,i,_t2322,_i1547,_s904,s,n,o,l,_iterator1545,_step1545,_loop38;return regeneratorRuntime.wrap(function _callee192$(_context193){while(1){switch(_context193.prev=_context193.next){case 0:t=this.Js.board,e=null,i=this.Js.board.outermostSelectedObjectElements[0];if(!("image"===i.localName)){_context193.next=7;break;}_context193.next=4;return createImageBitmap(i);case 4:e=_context193.sent;_context193.next=15;break;case 7:_t2322=this.Js.board.extractArtworkWithSelectedElements();_i1547=Yp(_t2322);_context193.next=11;return tf(_i1547,"png",{colors:0});case 11:_s904=_context193.sent;_context193.next=14;return createImageBitmap(_s904);case 14:e=_context193.sent;case 15:s=i.getBoundingClientRect();_context193.next=18;return this.pM(e,this.options);case 18:n=_context193.sent;o=ka(n);o.setAttribute("preserveAspectRatio","none"),t.undoManager.checkpoint("Pixelate");l=t.insertArtworkIntoBBox(o,s);_iterator1545=_createForOfIteratorHelper(i.style);try{_loop38=function _loop38(){var t=_step1545.value;var e=i.style.getPropertyValue(t),s=R.find(function(e){return e.name===t;});s&&s.appliesTo.includes("g")&&l.style.setProperty(t,e);};for(_iterator1545.s();!(_step1545=_iterator1545.n()).done;){_loop38();}}catch(err){_iterator1545.e(err);}finally{_iterator1545.f();}t.selectedElements=[l],t.selectedTextRange=null,i.remove();case 25:case"end":return _context193.stop();}}},_callee192,this);}));function Q_(){return _Q_3.apply(this,arguments);}return Q_;}()},{key:"pM",value:function pM(t,e){return new Promise(function(i){var s=new Worker("/workers/pixelate.js");s.addEventListener("message",function(t){return i(t.data);},!1),s.postMessage([t,e]);});}},{key:"qs",value:function(){var _qs4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee193(){var t,_e1699,_i1548,_e1700,_i1549,_s905,_e1701,_iterator1546,_step1546,_e1703,_iterator1547,_step1547,_e1704,_e1702,_i1550;return regeneratorRuntime.wrap(function _callee193$(_context194){while(1){switch(_context194.prev=_context194.next){case 0:t=null;if(!(1===this.Js.board.outermostSelectedObjectElements.length)){_context194.next=18;break;}_e1699=this.Js.board.outermostSelectedObjectElements[0],_i1548=_e1699.getBoundingClientRect();if(!(_i1548.width>=1&&_i1548.height>=1)){_context194.next=18;break;}if(!("image"===_e1699.localName)){_context194.next=10;break;}_context194.next=7;return createImageBitmap(_e1699);case 7:t=_context194.sent;_context194.next=18;break;case 10:_e1700=this.Js.board.extractArtworkWithSelectedElements();_i1549=Yp(_e1700);_context194.next=14;return tf(_i1549,"png",{colors:0});case 14:_s905=_context194.sent;_context194.next=17;return createImageBitmap(_s905);case 17:t=_context194.sent;case 18:if(this["#options-heading"].disabled=null===t,this["#columns-heading"].disabled=null===t,this["#columns-input"].disabled=null===t,this["#rows-heading"].disabled=null===t,this["#rows-input"].disabled=null===t,t){_e1701=t.height/t.width;this["#rows-input"].value=Math.floor(this["#columns-input"].value*_e1701);}this["#pixel-size-heading"].disabled=null===t,this["#pixel-size-slider"].disabled=null===t,this["#pixel-size-input"].disabled=null===t,this["#pixel-shape-heading"].disabled=null===t;_iterator1546=_createForOfIteratorHelper(this["#pixel-shape-buttons"].children);try{for(_iterator1546.s();!(_step1546=_iterator1546.n()).done;){_e1703=_step1546.value;_e1703.disabled=null===t;}}catch(err){_iterator1546.e(err);}finally{_iterator1546.f();}this["#render-as-heading"].disabled=null===t;_iterator1547=_createForOfIteratorHelper(this["#render-as-buttons"].children);try{for(_iterator1547.s();!(_step1547=_iterator1547.n()).done;){_e1704=_step1547.value;_e1704.disabled=null===t;}}catch(err){_iterator1547.e(err);}finally{_iterator1547.f();}if(!(null===t)){_context194.next=29;break;}this["#preview-section"].hidden=!0,this["#preview"].innerHTML="",this["#preview-section-hr"].hidden=!0;_context194.next=34;break;case 29:_context194.next=31;return this.pM(t,this.options);case 31:_e1702=_context194.sent;_i1550=Pi(_e1702);_i1550.setAttribute("id","preview"),_i1550.setAttribute("part","preview"),this["#preview"].replaceWith(_i1550),this["#preview"]=_i1550,this["#preview-section"].hidden=!1,this["#preview-section-hr"].hidden=!1;case 34:this["#generate-button"].disabled=null===t;case 35:case"end":return _context194.stop();}}},_callee193,this);}));function qs(){return _qs4.apply(this,arguments);}return qs;}()}]);return af;}(Tg);_defineProperty(af,"W_",Hi(_templateObject476()));_defineProperty(af,"q_",Hi(_templateObject477()));_defineProperty(af,"_shadowStyleSheet",Yi(_templateObject478()));customElements.define("bx-pixelategenerator",af);var rf=/*#__PURE__*/function(_Tg10){_inherits(rf,_Tg10);var _super207=_createSuper(rf);_createClass(rf,[{key:"options",get:function get(){return{cellSize:this["#cell-size-input"].value/100,variance:this["#variance-input"].value/100,seed:this["#seed-input"].value,renderAs:this["#render-as-buttons"].value,geometryPrecision:this.Js.board.geometryPrecision};}}]);function rf(){var _this951;_classCallCheck(this,rf);_this951=_super207.call(this),_this951.Yc=Xi(_this951.qs,1e3,_assertThisInitialized(_this951)),_this951["#cell-size-box"].addEventListener("changestart",function(){return _this951.cC();}),_this951["#variance-box"].addEventListener("changestart",function(){return _this951.pC();}),_this951["#seed-box"].addEventListener("changestart",function(){return _this951.ak();}),_this951["#render-as-buttons"].addEventListener("toggle",function(){return _this951.cM();}),_this951["#generate-button"].addEventListener("click",function(){return _this951.Q_();});return _this951;}_createClass(rf,[{key:"connectedCallback",value:function connectedCallback(){var _this952=this;this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");var t=this.Qs.getConfig("bx-triangulategenerator:cellSize",.1),e=this.Qs.getConfig("bx-triangulategenerator:variance",.75),i=this.Qs.getConfig("bx-triangulategenerator:seed",100),s=this.Qs.getConfig("bx-triangulategenerator:renderAs","paths");this["#cell-size-slider"].value=X(100*t,2),this["#cell-size-input"].value=X(100*t,2),this["#variance-slider"].value=X(100*e,2),this["#variance-input"].value=X(100*e,2),this["#seed-slider"].value=i,this["#seed-input"].value=i,this["#render-as-buttons"].value=s,this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this952.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this952.Yc();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"cC",value:function cC(){var _this953=this;var t,_e1705;this["#cell-size-box"].addEventListener("change",t=function t(_t2323){_t2323.target===_this953["#cell-size-slider"]?_this953["#cell-size-input"].value=_this953["#cell-size-slider"].value:_t2323.target===_this953["#cell-size-input"]&&(_this953["#cell-size-slider"].value=_this953["#cell-size-input"].value);}),this["#cell-size-box"].addEventListener("changeend",_e1705=function e(){_this953["#cell-size-box"].removeEventListener("change",t),_this953["#cell-size-box"].removeEventListener("changeend",_e1705),_this953.Qs.setConfig("bx-triangulategenerator:cellSize",_this953["#cell-size-slider"].value/100),_this953.qs();});}},{key:"pC",value:function pC(){var _this954=this;var t,_e1706;this["#variance-box"].addEventListener("change",t=function t(_t2324){_t2324.target===_this954["#variance-slider"]?_this954["#variance-input"].value=_this954["#variance-slider"].value:_t2324.target===_this954["#variance-input"]&&(_this954["#variance-slider"].value=_this954["#variance-input"].value);}),this["#variance-box"].addEventListener("changeend",_e1706=function e(){_this954["#variance-box"].removeEventListener("change",t),_this954["#variance-box"].removeEventListener("changeend",_e1706),_this954.Qs.setConfig("bx-triangulategenerator:variance",_this954["#variance-slider"].value/100),_this954.qs();});}},{key:"ak",value:function ak(){var _this955=this;var t,_e1707;this["#seed-box"].addEventListener("change",t=function t(_t2325){_t2325.target===_this955["#seed-slider"]?_this955["#seed-input"].value=_this955["#seed-slider"].value:_t2325.target===_this955["#seed-input"]&&(_this955["#seed-slider"].value=_this955["#seed-input"].value);}),this["#seed-box"].addEventListener("changeend",_e1707=function e(){_this955["#seed-box"].removeEventListener("change",t),_this955["#seed-box"].removeEventListener("changeend",_e1707),_this955.Qs.setConfig("bx-triangulategenerator:seed",_this955["#seed-slider"].value),_this955.qs();});}},{key:"cM",value:function cM(){this.Qs.setConfig("bx-triangulategenerator:renderAs",this["#render-as-buttons"].value);}},{key:"Q_",value:function(){var _Q_4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee194(){var t,e,i,_t2326,_i1551,_s906,s,n,o,l,_iterator1548,_step1548,_loop39;return regeneratorRuntime.wrap(function _callee194$(_context195){while(1){switch(_context195.prev=_context195.next){case 0:t=this.Js.board,e=null,i=this.Js.board.outermostSelectedObjectElements[0];if(!("image"===i.localName)){_context195.next=7;break;}_context195.next=4;return createImageBitmap(i);case 4:e=_context195.sent;_context195.next=15;break;case 7:_t2326=this.Js.board.extractArtworkWithSelectedElements();_i1551=Yp(_t2326);_context195.next=11;return tf(_i1551,"png",{colors:0});case 11:_s906=_context195.sent;_context195.next=14;return createImageBitmap(_s906);case 14:e=_context195.sent;case 15:s=i.getBoundingClientRect();_context195.next=18;return this.uM(e,this.options);case 18:n=_context195.sent;o=ka(n);o.setAttribute("preserveAspectRatio","none"),t.undoManager.checkpoint("Triangulate");l=t.insertArtworkIntoBBox(o,s);_iterator1548=_createForOfIteratorHelper(i.style);try{_loop39=function _loop39(){var t=_step1548.value;var e=i.style.getPropertyValue(t),s=R.find(function(e){return e.name===t;});s&&s.appliesTo.includes("g")&&l.style.setProperty(t,e);};for(_iterator1548.s();!(_step1548=_iterator1548.n()).done;){_loop39();}}catch(err){_iterator1548.e(err);}finally{_iterator1548.f();}t.selectedElements=[l],t.selectedTextRange=null,i.remove();case 25:case"end":return _context195.stop();}}},_callee194,this);}));function Q_(){return _Q_4.apply(this,arguments);}return Q_;}()},{key:"uM",value:function uM(t,e){return new Promise(function(i){var s=new Worker("/workers/triangulate.js");s.addEventListener("message",function(t){return i(t.data);},!1),s.postMessage([t,e]);});}},{key:"qs",value:function(){var _qs5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee195(){var t,_e1708,_i1552,_e1709,_i1553,_s907,_iterator1549,_step1549,_e1711,_e1710,_i1554;return regeneratorRuntime.wrap(function _callee195$(_context196){while(1){switch(_context196.prev=_context196.next){case 0:t=null;if(!(1===this.Js.board.outermostSelectedObjectElements.length)){_context196.next=18;break;}_e1708=this.Js.board.outermostSelectedObjectElements[0],_i1552=_e1708.getBoundingClientRect();if(!(_i1552.width>=1&&_i1552.height>=1)){_context196.next=18;break;}if(!("image"===_e1708.localName)){_context196.next=10;break;}_context196.next=7;return createImageBitmap(_e1708);case 7:t=_context196.sent;_context196.next=18;break;case 10:_e1709=this.Js.board.extractArtworkWithSelectedElements();_i1553=Yp(_e1709);_context196.next=14;return tf(_i1553,"png",{colors:0});case 14:_s907=_context196.sent;_context196.next=17;return createImageBitmap(_s907);case 17:t=_context196.sent;case 18:this["#options-heading"].disabled=null===t,this["#cell-size-heading"].disabled=null===t,this["#cell-size-slider"].disabled=null===t,this["#cell-size-input"].disabled=null===t,this["#variance-heading"].disabled=null===t,this["#variance-slider"].disabled=null===t,this["#variance-input"].disabled=null===t,this["#seed-heading"].disabled=null===t,this["#seed-slider"].disabled=null===t,this["#seed-input"].disabled=null===t,this["#render-as-heading"].disabled=null===t;_iterator1549=_createForOfIteratorHelper(this["#render-as-buttons"].children);try{for(_iterator1549.s();!(_step1549=_iterator1549.n()).done;){_e1711=_step1549.value;_e1711.disabled=null===t;}}catch(err){_iterator1549.e(err);}finally{_iterator1549.f();}if(!(null===t)){_context196.next=25;break;}this["#preview-section"].hidden=!0,this["#preview"].innerHTML="",this["#preview-section-hr"].hidden=!0;_context196.next=30;break;case 25:_context196.next=27;return this.uM(t,this.options);case 27:_e1710=_context196.sent;_i1554=Pi(_e1710);_i1554.setAttribute("id","preview"),_i1554.setAttribute("part","preview"),this["#preview"].replaceWith(_i1554),this["#preview"]=_i1554,this["#preview-section"].hidden=!1,this["#preview-section-hr"].hidden=!1;case 30:this["#generate-button"].disabled=null===t;case 31:case"end":return _context196.stop();}}},_callee195,this);}));function qs(){return _qs5.apply(this,arguments);}return qs;}()}]);return rf;}(Tg);_defineProperty(rf,"W_",Hi(_templateObject479()));_defineProperty(rf,"q_",Hi(_templateObject480()));_defineProperty(rf,"_shadowStyleSheet",Yi(_templateObject481()));customElements.define("bx-triangulategenerator",rf);var df=/*#__PURE__*/function(_Tg11){_inherits(df,_Tg11);var _super208=_createSuper(df);_createClass(df,[{key:"xM",value:function xM(){var _this957=this;return new Promise(function(t){_this957.isConnected?t():_this957.bM.push(t);});}},{key:"options",get:function get(){return{shapesType:this["#shapes-type-buttons"].value,shapesNumber:this["#shapes-number-input"].value,shapesAlpha:this["#shapes-alpha-input"].value,autoAdjustShapesAlpha:this["#auto-adjust-shapes-alpha-checkbox"].toggled,workingSize:this["#working-size-input"].value,shapesPerIteration:this["#shapes-per-iteration-input"].value,maxMutations:this["#max-mutations-input"].value,seed:this["#seed-input"].value,renderAs:this["#render-as-buttons"].value,overflow:this["#overflow-buttons"].value,geometryPrecision:this.Js.board.geometryPrecision,transformPrecision:this.Js.board.transformPrecision};}}]);function df(){var _this956;_classCallCheck(this,df);_this956=_super208.call(this),_this956.mM=null,_this956.gM=null,_this956.bM=[],_this956["#shapes-type-buttons"].addEventListener("toggle",function(){return _this956.fM();}),_this956["#render-as-buttons"].addEventListener("toggle",function(){return _this956.cM();}),_this956["#overflow-buttons"].addEventListener("toggle",function(){return _this956.wM();}),_this956["#shapes-number-box"].addEventListener("changestart",function(){return _this956.vM();}),_this956["#shapes-alpha-box"].addEventListener("changestart",function(){return _this956.yM();}),_this956["#auto-adjust-shapes-alpha-checkbox"].addEventListener("toggle",function(){return _this956.kM();}),_this956["#working-size-box"].addEventListener("changestart",function(){return _this956.qC();}),_this956["#shapes-per-iteration-box"].addEventListener("changestart",function(){return _this956.SM();}),_this956["#max-mutations-box"].addEventListener("changestart",function(){return _this956._M();}),_this956["#seed-box"].addEventListener("changestart",function(){return _this956.ak();}),_this956["#generate-button"].addEventListener("click",function(){return _this956.Q_();});return _this956;}_createClass(df,[{key:"connectedCallback",value:function connectedCallback(){var _this958=this;this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");var t=this.Qs.getConfig("bx-primitivizegenerator:shapesType",["triangles"]),e=this.Qs.getConfig("bx-primitivizegenerator:renderAs","paths"),i=this.Qs.getConfig("bx-primitivizegenerator:overflow","cut"),s=this.Qs.getConfig("bx-primitivizegenerator:shapesNumber",40),n=this.Qs.getConfig("bx-primitivizegenerator:shapesAlpha",.7),o=this.Qs.getConfig("bx-primitivizegenerator:autoAdjustShapesAlpha",!0),l=this.Qs.getConfig("bx-primitivizegenerator:workingSize",128),h=this.Qs.getConfig("bx-primitivizegenerator:shapesPerIteration",200),a=this.Qs.getConfig("bx-primitivizegenerator:maxMutations",16),r=this.Qs.getConfig("bx-primitivizegenerator:seed",100);this["#shapes-type-buttons"].value=t,this["#render-as-buttons"].value=e,this["#overflow-buttons"].value=i,this["#shapes-number-input"].value=s,this["#shapes-number-slider"].value=s,this["#shapes-alpha-input"].value=n,this["#shapes-alpha-slider"].value=n,this["#auto-adjust-shapes-alpha-checkbox"].toggled=o,this["#working-size-slider"].value=l,this["#working-size-input"].value=l,this["#shapes-per-iteration-slider"].value=h,this["#shapes-per-iteration-input"].value=h,this["#max-mutations-slider"].value=a,this["#max-mutations-input"].value=a,this["#seed-slider"].value=r,this["#seed-input"].value=r,this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this958.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this958.qs();}),this.Js.board.undoManager.addEventListener("undo",this.yh=function(){_this958.CM();}),this.Js.board.undoManager.addEventListener("redo",this.kh=function(){_this958.CM();}),this.qs();var _iterator1550=_createForOfIteratorHelper(this.bM),_step1550;try{for(_iterator1550.s();!(_step1550=_iterator1550.n()).done;){var _t2327=_step1550.value;_t2327();}}catch(err){_iterator1550.e(err);}finally{_iterator1550.f();}this.bM=[];}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.undoManager.removeEventListener("undo",this.yh),this.Js.board.undoManager.removeEventListener("redo",this.kh),null===Ti(this,"bx-generatorspanel")&&this.CM();}},{key:"MM",value:function(){var _MM=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee197(){var _this959=this;var t,e,i,_i1555,_s908,_n664;return regeneratorRuntime.wrap(function _callee197$(_context198){while(1){switch(_context198.prev=_context198.next){case 0:null!==this.mM&&this.CM();t=this.Js.board,e=null,i=t.outermostSelectedObjectElements[0];if(!("image"===i.localName)){_context198.next=8;break;}_context198.next=5;return createImageBitmap(i);case 5:e=_context198.sent;_context198.next=16;break;case 8:_i1555=t.extractArtworkWithSelectedElements();_s908=Yp(_i1555);_context198.next=12;return tf(_s908,"png",{colors:0});case 12:_n664=_context198.sent;_context198.next=15;return createImageBitmap(_n664);case 15:e=_context198.sent;case 16:this.mM=new Worker("/workers/primitivize.js"),this.mM.postMessage([e,this.options]),this.gM=i,this["#progress-bar"].value=0,this.qs(),this["#preview"].innerHTML="",this["#preview"].setAttribute("viewBox","0 0 ".concat(e.width," ").concat(e.height)),this["#preview-section"].scrollIntoViewIfNeeded(),this.mM.addEventListener("message",/*#__PURE__*/function(){var _ref170=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee196(e){var _e$data,s,n,_e1712,_s909,_iterator1551,_step1551,_loop40;return regeneratorRuntime.wrap(function _callee196$(_context197){while(1){switch(_context197.prev=_context197.next){case 0:_e$data=_slicedToArray(e.data,2),s=_e$data[0],n=_e$data[1];if(!n.startsWith("<svg")){_context197.next=5;break;}_this959["#progress-bar"].value=s;_context197.next=19;break;case 5:if(!("</svg>"===n)){_context197.next=18;break;}_context197.next=8;return _this959.xM();case 8:if(!i.isConnected){_context197.next=15;break;}_e1712=_this959["#preview"].cloneNode(!0);_e1712.removeAttribute("id"),t.undoManager.checkpoint("Primitivize");_s909=t.insertArtworkIntoBBox(_e1712,i.getBoundingClientRect());_iterator1551=_createForOfIteratorHelper(i.style);try{_loop40=function _loop40(){var t=_step1551.value;var e=i.style.getPropertyValue(t),n=R.find(function(e){return e.name===t;});n&&n.appliesTo.includes("g")&&_s909.style.setProperty(t,e);};for(_iterator1551.s();!(_step1551=_iterator1551.n()).done;){_loop40();}}catch(err){_iterator1551.e(err);}finally{_iterator1551.f();}t.selectedElements=[_s909],t.selectedTextRange=null,i.remove();case 15:_this959["#preview"].innerHTML="",_this959["#progress-bar"].value=-1,_this959.mM.terminate(),_this959.mM=null,_this959.qs();_context197.next=19;break;case 18:_this959["#progress-bar"].value=s,_this959["#preview"].insertAdjacentHTML("beforeend",n);case 19:case"end":return _context197.stop();}}},_callee196);}));return function(_x190){return _ref170.apply(this,arguments);};}());case 17:case"end":return _context198.stop();}}},_callee197,this);}));function MM(){return _MM.apply(this,arguments);}return MM;}()},{key:"PM",value:function PM(){if(null===this.mM)return;var t=this.Js.board,e=this.gM;if(e.isConnected){var _i1556=this["#preview"].cloneNode(!0);_i1556.removeAttribute("id"),t.undoManager.checkpoint("Primitivize");var _s910=t.insertArtworkIntoBBox(_i1556,e.getBoundingClientRect());var _iterator1552=_createForOfIteratorHelper(e.style),_step1552;try{var _loop41=function _loop41(){var t=_step1552.value;var i=e.style.getPropertyValue(t),n=R.find(function(e){return e.name===t;});n&&n.appliesTo.includes("g")&&_s910.style.setProperty(t,i);};for(_iterator1552.s();!(_step1552=_iterator1552.n()).done;){_loop41();}}catch(err){_iterator1552.e(err);}finally{_iterator1552.f();}t.selectedElements=[_s910],t.selectedTextRange=null,e.remove();}this["#preview"].innerHTML="",this["#progress-bar"].value=-1,this.mM.terminate(),this.mM=null,this.gM=null,this.qs();}},{key:"CM",value:function CM(){null!==this.mM&&(this["#preview"].innerHTML="",this["#progress-bar"].value=-1,this.mM.terminate(),this.mM=null,this.gM=null,this.qs());}},{key:"fM",value:function fM(t){this.Qs.setConfig("bx-primitivizegenerator:shapesType",this["#shapes-type-buttons"].value);}},{key:"cM",value:function cM(){this.Qs.setConfig("bx-primitivizegenerator:renderAs",this["#render-as-buttons"].value);}},{key:"wM",value:function wM(){this.Qs.setConfig("bx-primitivizegenerator:overflow",this["#overflow-buttons"].value);}},{key:"vM",value:function vM(){var _this960=this;var t,_e1713;this["#shapes-number-box"].addEventListener("change",t=function t(_t2328){_t2328.target===_this960["#shapes-number-slider"]?_this960["#shapes-number-input"].value=_this960["#shapes-number-slider"].value:_t2328.target===_this960["#shapes-number-input"]&&(_this960["#shapes-number-slider"].value=_this960["#shapes-number-input"].value);}),this["#shapes-number-box"].addEventListener("changeend",_e1713=function e(){_this960["#shapes-number-box"].removeEventListener("change",t),_this960["#shapes-number-box"].removeEventListener("changeend",_e1713),_this960.Qs.setConfig("bx-primitivizegenerator:shapesNumber",_this960["#shapes-number-input"].value);});}},{key:"yM",value:function yM(){var _this961=this;var t,_e1714;this["#shapes-alpha-box"].addEventListener("change",t=function t(_t2329){_t2329.target===_this961["#shapes-alpha-slider"]?_this961["#shapes-alpha-input"].value=_this961["#shapes-alpha-slider"].value:_t2329.target===_this961["#shapes-alpha-input"]&&(_this961["#shapes-alpha-slider"].value=_this961["#shapes-alpha-input"].value);}),this["#shapes-alpha-box"].addEventListener("changeend",_e1714=function e(){_this961["#shapes-alpha-box"].removeEventListener("change",t),_this961["#shapes-alpha-box"].removeEventListener("changeend",_e1714),_this961.Qs.setConfig("bx-primitivizegenerator:shapesAlpha",_this961["#shapes-alpha-input"].value);});}},{key:"kM",value:function kM(){this.Qs.setConfig("bx-primitivizegenerator:autoAdjustShapesAlpha",this["#auto-adjust-shapes-alpha-checkbox"].toggled);}},{key:"qC",value:function qC(){var _this962=this;var t,_e1715;this["#working-size-box"].addEventListener("change",t=function t(_t2330){_t2330.target===_this962["#working-size-slider"]?_this962["#working-size-input"].value=_this962["#working-size-slider"].value:_t2330.target===_this962["#working-size-input"]&&(_this962["#working-size-slider"].value=_this962["#working-size-input"].value),_this962.qs();}),this["#working-size-box"].addEventListener("changeend",_e1715=function e(){_this962["#working-size-box"].removeEventListener("change",t),_this962["#working-size-box"].removeEventListener("changeend",_e1715),_this962.Qs.setConfig("bx-primitivizegenerator:workingSize",_this962["#working-size-slider"].value);});}},{key:"SM",value:function SM(){var _this963=this;var t,_e1716;this["#shapes-per-iteration-box"].addEventListener("change",t=function t(_t2331){_t2331.target===_this963["#shapes-per-iteration-slider"]?_this963["#shapes-per-iteration-input"].value=_this963["#shapes-per-iteration-slider"].value:_t2331.target===_this963["#shapes-per-iteration-input"]&&(_this963["#shapes-per-iteration-slider"].value=_this963["#shapes-per-iteration-input"].value),_this963.qs();}),this["#shapes-per-iteration-box"].addEventListener("changeend",_e1716=function e(){_this963["#shapes-per-iteration-box"].removeEventListener("change",t),_this963["#shapes-per-iteration-box"].removeEventListener("changeend",_e1716),_this963.Qs.setConfig("bx-primitivizegenerator:shapesPerIteration",_this963["#shapes-per-iteration-slider"].value);});}},{key:"_M",value:function _M(){var _this964=this;var t,_e1717;this["#max-mutations-box"].addEventListener("change",t=function t(_t2332){_t2332.target===_this964["#max-mutations-slider"]?_this964["#max-mutations-input"].value=_this964["#max-mutations-slider"].value:_t2332.target===_this964["#max-mutations-input"]&&(_this964["#max-mutations-slider"].value=_this964["#max-mutations-input"].value),_this964.qs();}),this["#max-mutations-box"].addEventListener("changeend",_e1717=function e(){_this964["#max-mutations-box"].removeEventListener("change",t),_this964["#max-mutations-box"].removeEventListener("changeend",_e1717),_this964.Qs.setConfig("bx-primitivizegenerator:maxMutations",_this964["#max-mutations-slider"].value);});}},{key:"ak",value:function ak(){var _this965=this;var t,_e1718;this["#seed-box"].addEventListener("change",t=function t(_t2333){_t2333.target===_this965["#seed-slider"]?_this965["#seed-input"].value=_this965["#seed-slider"].value:_t2333.target===_this965["#seed-input"]&&(_this965["#seed-slider"].value=_this965["#seed-input"].value),_this965.qs();}),this["#seed-box"].addEventListener("changeend",_e1718=function e(){_this965["#seed-box"].removeEventListener("change",t),_this965["#seed-box"].removeEventListener("changeend",_e1718),_this965.Qs.setConfig("bx-primitivizegenerator:seed",_this965["#seed-slider"].value);});}},{key:"Q_",value:function(){var _Q_5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee198(){return regeneratorRuntime.wrap(function _callee198$(_context199){while(1){switch(_context199.prev=_context199.next){case 0:this.mM?this.PM():this.MM();case 1:case"end":return _context199.stop();}}},_callee198,this);}));function Q_(){return _Q_5.apply(this,arguments);}return Q_;}()},{key:"qs",value:function(){var _qs6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee199(){var t,e,_iterator1553,_step1553,_t2334,_iterator1554,_step1554,_t2335,_iterator1555,_step1555,_t2336;return regeneratorRuntime.wrap(function _callee199$(_context200){while(1){switch(_context200.prev=_context200.next){case 0:t=null;1===this.Js.board.outermostSelectedObjectElements.length&&(t=this.Js.board.outermostSelectedObjectElements[0]);e=null===t||null!==this.mM;this["#options-heading"].disabled=e,this["#shapes-heading"].disabled=e,this["#algorithm-heading"].disabled=e,this["#rendering-heading"].disabled=e,this["#shapes-type-heading"].disabled=e;_iterator1553=_createForOfIteratorHelper(this["#shapes-type-buttons"].children);try{for(_iterator1553.s();!(_step1553=_iterator1553.n()).done;){_t2334=_step1553.value;_t2334.disabled=e;}}catch(err){_iterator1553.e(err);}finally{_iterator1553.f();}this["#shapes-number-heading"].disabled=e,this["#shapes-number-slider"].disabled=e,this["#shapes-number-input"].disabled=e,this["#shapes-alpha-heading"].disabled=e,this["#shapes-alpha-slider"].disabled=e,this["#shapes-alpha-input"].disabled=e,this["#auto-adjust-shapes-alpha-checkbox"].disabled=e,this["#working-size-heading"].disabled=e,this["#working-size-slider"].disabled=e,this["#working-size-input"].disabled=e,this["#shapes-per-iteration-heading"].disabled=e,this["#shapes-per-iteration-slider"].disabled=e,this["#shapes-per-iteration-input"].disabled=e,this["#max-mutations-heading"].disabled=e,this["#max-mutations-slider"].disabled=e,this["#max-mutations-input"].disabled=e,this["#seed-heading"].disabled=e,this["#seed-slider"].disabled=e,this["#seed-input"].disabled=e,this["#overflow-heading"].disabled=e;_iterator1554=_createForOfIteratorHelper(this["#overflow-buttons"].children);try{for(_iterator1554.s();!(_step1554=_iterator1554.n()).done;){_t2335=_step1554.value;_t2335.disabled=e;}}catch(err){_iterator1554.e(err);}finally{_iterator1554.f();}this["#render-as-heading"].disabled=e;_iterator1555=_createForOfIteratorHelper(this["#render-as-buttons"].children);try{for(_iterator1555.s();!(_step1555=_iterator1555.n()).done;){_t2336=_step1555.value;_t2336.disabled=e;}}catch(err){_iterator1555.e(err);}finally{_iterator1555.f();}this["#preview-section"].hidden=null===this.mM,this["#preview-section-hr"].hidden=null===this.mM,null===this.mM?(this["#generate-label"].textContent="Primitivize",this["#generate-button"].disabled=e):(this["#generate-label"].textContent="Stop",this["#generate-button"].disabled=!1);case 13:case"end":return _context200.stop();}}},_callee199,this);}));function qs(){return _qs6.apply(this,arguments);}return qs;}()}]);return df;}(Tg);_defineProperty(df,"W_",Hi(_templateObject482()));_defineProperty(df,"q_",Hi(_templateObject483()));_defineProperty(df,"_shadowStyleSheet",Yi(_templateObject484()));customElements.define("bx-primitivizegenerator",df);var cf=/*#__PURE__*/function(_HTMLElement128){_inherits(cf,_HTMLElement128);var _super209=_createSuper(cf);_createClass(cf,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function cf(){var _this966;_classCallCheck(this,cf);_this966=_super209.call(this),_this966._shadowRoot=_this966.attachShadow({mode:"closed"}),_this966._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,cf._shadowStyleSheet],_this966._shadowRoot.append(document.importNode(cf._shadowTemplate.content,!0));var _iterator1556=_createForOfIteratorHelper(_this966._shadowRoot.querySelectorAll("[id]")),_step1556;try{for(_iterator1556.s();!(_step1556=_iterator1556.n()).done;){var _t2337=_step1556.value;_this966["#"+_t2337.id]=_t2337;}}catch(err){_iterator1556.e(err);}finally{_iterator1556.f();}_this966["#generator-select"].addEventListener("change",function(){return _this966.DM();});return _this966;}_createClass(cf,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app");}},{key:"tn",value:function tn(){this["#generator-select"].value=this.Qs.getConfig("bx-generatorspanel:generator","bx-barcodegenerator"),this.qs();}},{key:"sn",value:function sn(){this["#generator-select"].value=null,this.qs();}},{key:"DM",value:function DM(){this.Qs.setConfig("bx-generatorspanel:generator",this["#generator-select"].value),this.qs();}},{key:"qs",value:function qs(){var t=this["#generator-select"].value;this["#main"].innerHTML=null===t?"":"<".concat(t,"></").concat(t,">");}}]);return cf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(cf,"observedAttributes",["enabled"]);_defineProperty(cf,"_shadowTemplate",Hi(_templateObject485()));_defineProperty(cf,"_shadowStyleSheet",Yi(_templateObject486()));customElements.define("bx-generatorspanel",cf);var pf=/*#__PURE__*/function(_HTMLElement129){_inherits(pf,_HTMLElement129);var _super210=_createSuper(pf);_createClass(pf,[{key:"exportable",get:function get(){return this.hasAttribute("exportable");},set:function set(t){!0===t?this.setAttribute("exportable",""):this.removeAttribute("exportable");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function pf(){var _this967;_classCallCheck(this,pf);_this967=_super210.call(this);var t=_this967.constructor.zM;_this967._shadowRoot=_this967.attachShadow({mode:"closed"}),_this967._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,pf._shadowStyleSheet,_this967.constructor._shadowStyleSheet],_this967._shadowRoot.append(document.importNode(pf._shadowTemplate.content,!0)),t&&_this967._shadowRoot.querySelector("#options-section").append(document.importNode(t.content,!0));var _iterator1557=_createForOfIteratorHelper(_this967._shadowRoot.querySelectorAll("[id]")),_step1557;try{for(_iterator1557.s();!(_step1557=_iterator1557.n()).done;){var _t2338=_step1557.value;_this967["#"+_t2338.id]=_t2338;}}catch(err){_iterator1557.e(err);}finally{_iterator1557.f();}_this967.setAttribute("extends","bx-exportsettings");return _this967;}_createClass(pf,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("disabled"===t?this.qs():"exportable"===t&&this.dispatchEvent(new CustomEvent("exportablechange",{bubbles:!0})));}}]);return pf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(pf,"observedAttributes",["exportable","disabled"]);_defineProperty(pf,"_shadowTemplate",Hi(_templateObject487()));_defineProperty(pf,"_shadowStyleSheet",Yi(_templateObject488()));var uf=Array.isArray;var xf=/*#__PURE__*/function(_pf){_inherits(xf,_pf);var _super211=_createSuper(xf);_createClass(xf,[{key:"format",get:function get(){return"png";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"margin",get:function get(){var t=[0,0,0,0];return"selection"===this["#area-buttons"].value&&(t=this["#margin-input"].value,!1===uf(t)&&(t=[t,t,t,t])),t;}},{key:"dpi",get:function get(){return this["#dpi-input"].value;}},{key:"colors",get:function get(){return"rgb"===this["#colors-mode-buttons"].value?0:this["#colors-slider"].value;}},{key:"background",get:function get(){return this["#background-select"].value;}}]);function xf(){var _this968;_classCallCheck(this,xf);_this968=_super211.call(this),_this968["#area-buttons"].addEventListener("toggle",function(){return _this968.NC();}),_this968["#view-select"].addEventListener("change",function(){return _this968.OM();}),_this968["#width-input"].addEventListener("changestart",function(){return _this968.Pg();}),_this968["#height-input"].addEventListener("changestart",function(){return _this968.Dg();}),_this968["#lock-size-button"].addEventListener("toggle",function(){return _this968.EM();}),_this968["#margin-switch"].addEventListener("toggle",function(){return _this968.TM();}),_this968["#margin-input"].addEventListener("changeend",function(){return _this968.AM();}),_this968["#dpi-slider"].addEventListener("changestart",function(){return _this968.$M();}),_this968["#dpi-input"].addEventListener("changestart",function(){return _this968.IM();}),_this968["#colors-mode-buttons"].addEventListener("toggle",function(){return _this968._C();}),_this968["#colors-slider"].addEventListener("changestart",function(){return _this968.CC();}),_this968["#colors-input"].addEventListener("changestart",function(){return _this968.MC();}),_this968["#background-select"].addEventListener("changeend",function(){return _this968.zC();}),_this968["#background-popover"].addEventListener("close",function(){return _this968.OC();}),_this968["#preview-button"].addEventListener("click",function(){return _this968.EC();});return _this968;}_createClass(xf,[{key:"connectedCallback",value:function connectedCallback(){var _this969=this;this.Js=Ti(this,"bx-editor"),this.Qs=Ti(this,"#app");var t=this.Qs,e=this.Js.board;this["#area-buttons"].value=t.getConfig("bx-pngsettings:area","view-box"),this["#lock-size-button"].toggled=t.getConfig("bx-pngsettings:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#margin-input"].value=t.getConfig("bx-pngsettings:margin",null),this["#dpi-slider"].value=t.getConfig("bx-pngsettings:dpi",96),this["#dpi-input"].value=t.getConfig("bx-pngsettings:dpi",96),this["#colors-mode-buttons"].value=this.Qs.getConfig("bx-pngsettings:colorsMode","rgb"),this["#colors-slider"].value=t.getConfig("bx-pngsettings:colors",256),this["#colors-input"].value=t.getConfig("bx-pngsettings:colors",256),this["#background-select"].value=t.getConfig("bx-pngsettings:background","rgba(255, 255, 255, 0)"),this.qs(),e.addEventListener("selectedelementschange",this.Ko=function(){_this969.Qo();}),e.addEventListener("workspacemutation",this.rn=function(t){_this969.il(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.TC(),t.removeEventListener("selectedelementschange",this.Ko),t.removeEventListener("workspacemutation",this.rn);}},{key:"Qo",value:function Qo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.TC(),this.qs());}},{key:"il",value:function il(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.TC(),this.qs());}},{key:"NC",value:function NC(){this.TC(),this.qs(),this.Qs.setConfig("bx-pngsettings:area",this["#area-buttons"].value);}},{key:"OM",value:function OM(){if(this.TC(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var _t2339=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);_t2339&&(this.Js.board.selectedElements=[_t2339]);}}else this.qs();}},{key:"Pg",value:function Pg(){var _this970=this;var t,_e1719,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2340=_this970["#width-input"].value/i;_this970["#height-input"].value=Z(_t2340,1,Infinity,0);}}),this["#width-input"].addEventListener("changeend",_e1719=function e(){_this970["#width-input"].removeEventListener("change",t),_this970["#width-input"].removeEventListener("changeend",_e1719),_this970.TC();});}},{key:"Dg",value:function Dg(){var _this971=this;var t,_e1720,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2341=i*_this971["#height-input"].value;_this971["#width-input"].value=Z(_t2341,1,Infinity,0);}}),this["#height-input"].addEventListener("changeend",_e1720=function e(){_this971["#height-input"].removeEventListener("change",t),_this971["#height-input"].removeEventListener("changeend",_e1720),_this971.TC();});}},{key:"EM",value:function EM(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-pngsettings:lockSize",this["#lock-size-button"].toggled);}},{key:"TM",value:function TM(){var t=this["#margin-switch"].toggled?10:null;this.Qs.setConfig("bx-pngsettings:margin",t),this["#margin-input"].value=t,this.TC(),this.qs(!1);}},{key:"AM",value:function AM(){this.Qs.setConfig("bx-pngsettings:margin",this["#margin-input"].value),this.TC();}},{key:"$M",value:function $M(){var _this972=this;var t,_e1721;this["#dpi-slider"].addEventListener("change",t=function t(){_this972["#dpi-input"].value=_this972["#dpi-slider"].value;}),this["#dpi-slider"].addEventListener("changeend",_e1721=function e(){_this972["#dpi-slider"].removeEventListener("change",t),_this972["#dpi-slider"].removeEventListener("changeend",_e1721),_this972.Qs.setConfig("bx-pngsettings:dpi",_this972["#dpi-slider"].value);});}},{key:"IM",value:function IM(){var _this973=this;var t,_e1722;this["#dpi-input"].addEventListener("change",t=function t(){_this973["#dpi-slider"].value=_this973["#dpi-input"].value;}),this["#dpi-input"].addEventListener("changeend",_e1722=function e(){_this973["#dpi-input"].removeEventListener("change",t),_this973["#dpi-input"].removeEventListener("changeend",_e1722),_this973.Qs.setConfig("bx-pngsettings:dpi",_this973["#dpi-input"].value);});}},{key:"_C",value:function _C(){this["#colors-box"].hidden="palette"!==this["#colors-mode-buttons"].value,this.Qs.setConfig("bx-pngsettings:colorsMode",this["#colors-mode-buttons"].value),this.TC();}},{key:"CC",value:function CC(){var _this974=this;var t,_e1723;this["#colors-slider"].addEventListener("change",t=function t(){_this974["#colors-input"].value=_this974["#colors-slider"].value;}),this["#colors-slider"].addEventListener("changeend",_e1723=function e(){_this974["#colors-slider"].removeEventListener("change",t),_this974["#colors-slider"].removeEventListener("changeend",_e1723),_this974.Qs.setConfig("bx-pngsettings:colors",_this974["#colors-slider"].value),_this974.TC();});}},{key:"MC",value:function MC(){var _this975=this;var t,_e1724;this["#colors-input"].addEventListener("change",t=function t(){_this975["#colors-slider"].value=_this975["#colors-input"].value;}),this["#colors-input"].addEventListener("changeend",_e1724=function e(){_this975["#colors-input"].removeEventListener("change",t),_this975["#colors-input"].removeEventListener("changeend",_e1724),_this975.Qs.setConfig("bx-pngsettings:colors",_this975["#colors-input"].value),_this975.TC();});}},{key:"zC",value:function zC(){this.AC=!0;}},{key:"OC",value:function OC(){this.AC&&(this.AC=!1,this.Qs.setConfig("bx-pngsettings:background",this["#background-select"].value),this.TC());}},{key:"EC",value:function EC(){this.$C();}},{key:"$C",value:function(){var _$C3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee200(){var t,_e1725,_t2342,e,i,s,n,o,l;return regeneratorRuntime.wrap(function _callee200$(_context201){while(1){switch(_context201.prev=_context201.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1725=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2342=this["#view-select"].value.substring(1);_e1725=this.Js.board.currentWorkspace.querySelector("#"+_t2342);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1725);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements(this.margin));t.setAttribute("width",this["#width-input"].value+"px"),t.setAttribute("height",this["#height-input"].value+"px"),t.setAttribute("preserveAspectRatio","none");e=Yp(t);_context201.next=5;return tf(e,"png",{dpi:this["#dpi-input"].value,colors:"rgb"===this["#colors-mode-buttons"].value?0:this["#colors-slider"].value,background:this["#background-select"].value});case 5:i=_context201.sent;_context201.next=8;return Ra(i);case 8:s=_context201.sent;n=s.substring(0,s.indexOf(",")+1);o=X((s.length-n.length)*(3/4));l=Na(o);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",s),this["#preview"].setAttribute("width",this["#width-input"].value),this["#preview"].setAttribute("height",this["#height-input"].value),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+l,this["#preview-section"].scrollIntoViewIfNeeded();case 13:case"end":return _context201.stop();}}},_callee200,this);}));function $C(){return _$C3.apply(this,arguments);}return $C;}()},{key:"TC",value:function TC(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this976=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.Js.board,i=null,s=null;if("selection"===this["#area-buttons"].value)e.outermostSelectedObjectElements.length>0&&(i=Ue(e.outermostSelectedObjectElements.map(function(t){var i=Nt(t,e.currentWorkspace),s=_i(t);return Fe(s,i);})),0!==i.width&&0!==i.height||(i=null));else if("view-box"===this["#area-buttons"].value){var _t2343=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_t2343.length>0)if("view-tool"===this.Js.toolsDock.value){var _t2344=e.selectedElements.find(function(t){return"view"===t.localName;});_t2344&&(s=_t2344);}else{var _e1726=_t2343.find(function(t){return"#"+t.id===_this976["#view-select"].value;});_e1726&&(s=_e1726);}if(null===s)e.currentWorkspace.hasAttribute("viewBox")&&(i=Lt.fromString(e.currentWorkspace.getAttribute("viewBox")));else{var _t2345=e.currentWorkspace.querySelector("#"+s.id);_t2345.hasAttribute("viewBox")&&(i=Lt.fromString(_t2345.getAttribute("viewBox")),0!==i.width&&0!==i.height||(i=null));}}if(this.exportable=!!i,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2346=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2346.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2346.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _e1727=["default"].concat(_toConsumableArray(_t2346.map(function(t){return"#"+t.id;}))),_i1557=["Default"].concat(_toConsumableArray(_t2346.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_e1727.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_e1727.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2347=0;_t2347<_e1727.length;_t2347+=1){var _s911=this["#view-menu"].children[_t2347];_s911.value=_e1727[_t2347],_s911.firstElementChild.textContent=_i1557[_t2347];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=s?"#"+s.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}t&&(this["#width-heading"].disabled=null===i,this["#width-input"].disabled=null===i,this["#width-input"].value=null===i?100:X(i.width,0)||1,this["#height-heading"].disabled=null===i,this["#height-input"].disabled=null===i,this["#height-input"].value=null===i?100:X(i.height,0)||1,this["#lock-size-button"].disabled=null===i),this["#margin-subsection"].hidden="view-box"===this["#area-buttons"].value,this["#margin-heading"].disabled=null===i,this["#margin-switch"].disabled=null===i,this["#margin-switch"].toggled=null!==this["#margin-input"].value,this["#margin-input"].hidden=null===this["#margin-input"].value,this["#margin-input"].disabled=null===i,this["#dpi-heading"].disabled=null===i,this["#dpi-slider"].disabled=null===i,this["#dpi-input"].disabled=null===i,this["#colors-heading"].disabled=null===i,this["#rgb-button"].disabled=null===i,this["#palette-button"].disabled=null===i,this["#palette-button"].toggled?(this["#colors-box"].hidden=!1,this["#colors-slider"].disabled=null===i,this["#colors-input"].disabled=null===i):this["#colors-box"].hidden=!0,this["#background-heading"].disabled=null===i,this["#background-select"].disabled=null===i,this["#preview-heading"].disabled=null===i,this["#preview-button"].disabled=null===i;}}]);return xf;}(pf);_defineProperty(xf,"zM",Hi(_templateObject489()));_defineProperty(xf,"_shadowStyleSheet",Yi(_templateObject490()));customElements.define("bx-pngsettings",xf);var bf=Array.isArray;var mf=/*#__PURE__*/function(_pf2){_inherits(mf,_pf2);var _super212=_createSuper(mf);_createClass(mf,[{key:"format",get:function get(){return"jpeg";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"margin",get:function get(){var t=[0,0,0,0];return"selection"===this["#area-buttons"].value&&(t=this["#margin-input"].value,!1===bf(t)&&(t=[t,t,t,t])),t;}},{key:"compression",get:function get(){return this["#compression-input"].value;}},{key:"background",get:function get(){return this["#background-select"].value;}}]);function mf(){var _this977;_classCallCheck(this,mf);_this977=_super212.call(this),_this977["#area-buttons"].addEventListener("toggle",function(){return _this977.NC();}),_this977["#view-select"].addEventListener("change",function(){return _this977.OM();}),_this977["#width-input"].addEventListener("changestart",function(){return _this977.Pg();}),_this977["#height-input"].addEventListener("changestart",function(){return _this977.Dg();}),_this977["#lock-size-button"].addEventListener("toggle",function(){return _this977.EM();}),_this977["#margin-switch"].addEventListener("toggle",function(){return _this977.TM();}),_this977["#margin-input"].addEventListener("changeend",function(){return _this977.AM();}),_this977["#compression-slider"].addEventListener("changestart",function(){return _this977.PC();}),_this977["#compression-input"].addEventListener("changestart",function(){return _this977.DC();}),_this977["#background-select"].addEventListener("changeend",function(){return _this977.zC();}),_this977["#background-popover"].addEventListener("close",function(){return _this977.OC();}),_this977["#preview-button"].addEventListener("click",function(){return _this977.EC();});return _this977;}_createClass(mf,[{key:"connectedCallback",value:function connectedCallback(){var _this978=this;this.Js=Ti(this,"bx-editor"),this.Qs=Ti(this,"#app");var t=this.Qs,e=this.Js.board;this["#area-buttons"].value=t.getConfig("bx-jpegsettings:area","view-box"),this["#lock-size-button"].toggled=t.getConfig("bx-jpegsettings:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#margin-input"].value=t.getConfig("bx-jpegsettings:margin",null),this["#compression-slider"].value=t.getConfig("bx-jpegsettings:compression",1),this["#compression-input"].value=t.getConfig("bx-jpegsettings:compression",1),this["#background-select"].value=t.getConfig("bx-jpegsettings:background","rgb(255, 255, 255)"),this.qs(),e.addEventListener("selectedelementschange",this.Ko=function(){_this978.Qo();}),e.addEventListener("workspacemutation",this.rn=function(t){_this978.il(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.TC(),t.removeEventListener("selectedelementschange",this.Ko),t.removeEventListener("workspacemutation",this.rn);}},{key:"Qo",value:function Qo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.TC(),this.qs());}},{key:"il",value:function il(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.TC(),this.qs());}},{key:"NC",value:function NC(){this.TC(),this.qs(),this.Qs.setConfig("bx-jpegsettings:area",this["#area-buttons"].value);}},{key:"OM",value:function OM(){if(this.TC(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"Pg",value:function Pg(){var _this979=this;var t,_e1728,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2348=_this979["#width-input"].value/i;_this979["#height-input"].value=Z(_t2348,1,Infinity,0);}}),this["#width-input"].addEventListener("changeend",_e1728=function e(){_this979["#width-input"].removeEventListener("change",t),_this979["#width-input"].removeEventListener("changeend",_e1728),_this979.TC();});}},{key:"Dg",value:function Dg(){var _this980=this;var t,_e1729,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2349=i*_this980["#height-input"].value;_this980["#width-input"].value=Z(_t2349,1,Infinity,0);}}),this["#height-input"].addEventListener("changeend",_e1729=function e(){_this980["#height-input"].removeEventListener("change",t),_this980["#height-input"].removeEventListener("changeend",_e1729),_this980.TC();});}},{key:"EM",value:function EM(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-jpegsettings:lockSize",this["#lock-size-button"].toggled);}},{key:"TM",value:function TM(){var t=this["#margin-switch"].toggled?10:null;this.Qs.setConfig("bx-jpegsettings:margin",t),this["#margin-input"].value=t,this.TC(),this.qs(!1);}},{key:"AM",value:function AM(){this.Qs.setConfig("bx-jpegsettings:margin",this["#margin-input"].value),this.TC();}},{key:"PC",value:function PC(){var _this981=this;var t,_e1730;this["#compression-slider"].addEventListener("change",t=function t(){_this981["#compression-input"].value=_this981["#compression-slider"].value,_this981.Qs.setConfig("bx-jpegsettings:compression",_this981["#compression-slider"].value);}),this["#compression-slider"].addEventListener("changeend",_e1730=function e(){_this981["#compression-slider"].removeEventListener("change",t),_this981["#compression-slider"].removeEventListener("changeend",_e1730),_this981.TC();});}},{key:"DC",value:function DC(){var _this982=this;var t,_e1731;this["#compression-input"].addEventListener("change",t=function t(){_this982["#compression-slider"].value=_this982["#compression-input"].value,_this982.Qs.setConfig("bx-jpegsettings:compression",_this982["#compression-input"].value);}),this["#compression-input"].addEventListener("changeend",_e1731=function e(){_this982["#compression-input"].removeEventListener("change",t),_this982["#compression-input"].removeEventListener("changeend",_e1731),_this982.TC();});}},{key:"zC",value:function zC(){this.AC=!0;}},{key:"OC",value:function OC(){this.AC&&(this.AC=!1,this.Qs.setConfig("bx-jpegsettings:background",this["#background-select"].value),this.TC());}},{key:"EC",value:function EC(){this.$C();}},{key:"$C",value:function(){var _$C4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee201(){var t,_e1732,_t2350,e,i,s,n,o,l;return regeneratorRuntime.wrap(function _callee201$(_context202){while(1){switch(_context202.prev=_context202.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1732=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2350=this["#view-select"].value.substring(1);_e1732=this.Js.board.currentWorkspace.querySelector("#"+_t2350);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1732);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements(this.margin));t.setAttribute("width",this["#width-input"].value+"px"),t.setAttribute("height",this["#height-input"].value+"px"),t.setAttribute("preserveAspectRatio","none");e=Yp(t);_context202.next=5;return tf(e,"jpeg",{background:this["#background-select"].value,compression:this["#compression-input"].value});case 5:i=_context202.sent;_context202.next=8;return Ra(i);case 8:s=_context202.sent;n=s.substring(0,s.indexOf(",")+1);o=X((s.length-n.length)*(3/4));l=Na(o);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",s),this["#preview"].setAttribute("width",this["#width-input"].value),this["#preview"].setAttribute("height",this["#height-input"].value),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+l,this["#preview-section"].scrollIntoViewIfNeeded();case 13:case"end":return _context202.stop();}}},_callee201,this);}));function $C(){return _$C4.apply(this,arguments);}return $C;}()},{key:"TC",value:function TC(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this983=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.Js.board,i=null,s=null;if("selection"===this["#area-buttons"].value)e.outermostSelectedObjectElements.length>0&&(i=Ue(e.outermostSelectedObjectElements.map(function(t){var i=Nt(t,e.currentWorkspace),s=_i(t);return Fe(s,i);})),0!==i.width&&0!==i.height||(i=null));else if("view-box"===this["#area-buttons"].value){var _t2351=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_t2351.length>0)if("view-tool"===this.Js.toolsDock.value){var _t2352=e.selectedElements.find(function(t){return"view"===t.localName;});_t2352&&(s=_t2352);}else{var _e1733=_t2351.find(function(t){return"#"+t.id===_this983["#view-select"].value;});_e1733&&(s=_e1733);}if(null===s)e.currentWorkspace.hasAttribute("viewBox")&&(i=Lt.fromString(e.currentWorkspace.getAttribute("viewBox")));else{var _t2353=e.currentWorkspace.querySelector("#"+s.id);_t2353.hasAttribute("viewBox")&&(i=Lt.fromString(_t2353.getAttribute("viewBox")),0!==i.width&&0!==i.height||(i=null));}}if(this.exportable=!!i,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2354=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2354.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2354.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _e1734=["default"].concat(_toConsumableArray(_t2354.map(function(t){return"#"+t.id;}))),_i1558=["Default"].concat(_toConsumableArray(_t2354.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_e1734.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_e1734.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2355=0;_t2355<_e1734.length;_t2355+=1){var _s912=this["#view-menu"].children[_t2355];_s912.value=_e1734[_t2355],_s912.firstElementChild.textContent=_i1558[_t2355];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=s?"#"+s.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}t&&(this["#width-heading"].disabled=null===i,this["#width-input"].disabled=null===i,this["#width-input"].value=null===i?100:X(i.width,0)||1,this["#height-heading"].disabled=null===i,this["#height-input"].disabled=null===i,this["#height-input"].value=null===i?100:X(i.height,0)||1,this["#lock-size-button"].disabled=null===i),this["#margin-subsection"].hidden="view-box"===this["#area-buttons"].value,this["#margin-heading"].disabled=null===i,this["#margin-switch"].disabled=null===i,this["#margin-switch"].toggled=null!==this["#margin-input"].value,this["#margin-input"].hidden=null===this["#margin-input"].value,this["#margin-input"].disabled=null===i,this["#compression-heading"].disabled=null===i,this["#compression-slider"].disabled=null===i,this["#compression-input"].disabled=null===i,this["#background-heading"].disabled=null===i,this["#background-select"].disabled=null===i,this["#preview-heading"].disabled=null===i,this["#preview-button"].disabled=null===i;}}]);return mf;}(pf);_defineProperty(mf,"zM",Hi(_templateObject491()));_defineProperty(mf,"_shadowStyleSheet",Yi(_templateObject492()));customElements.define("bx-jpegsettings",mf);var gf=Array.isArray;var ff=/*#__PURE__*/function(_pf3){_inherits(ff,_pf3);var _super213=_createSuper(ff);_createClass(ff,[{key:"format",get:function get(){return"gif";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"margin",get:function get(){var t=[0,0,0,0];return"selection"===this["#area-buttons"].value&&(t=this["#margin-input"].value,!1===gf(t)&&(t=[t,t,t,t])),t;}},{key:"dithering",get:function get(){return this["#dithering-select"].value;}},{key:"background",get:function get(){return mo(this["#background-select"].value,"hex");}},{key:"transparent",get:function get(){return this["#transparent-checkbox"].toggled;}}]);function ff(){var _this984;_classCallCheck(this,ff);_this984=_super213.call(this),_this984["#area-buttons"].addEventListener("toggle",function(){return _this984.NC();}),_this984["#view-select"].addEventListener("change",function(){return _this984.OM();}),_this984["#width-input"].addEventListener("changestart",function(){return _this984.Pg();}),_this984["#height-input"].addEventListener("changestart",function(){return _this984.Dg();}),_this984["#lock-size-button"].addEventListener("toggle",function(){return _this984.EM();}),_this984["#margin-switch"].addEventListener("toggle",function(){return _this984.TM();}),_this984["#margin-input"].addEventListener("changeend",function(){return _this984.AM();}),_this984["#dithering-select"].addEventListener("change",function(){return _this984.LM();}),_this984["#background-select"].addEventListener("changeend",function(){return _this984.zC();}),_this984["#background-popover"].addEventListener("close",function(){return _this984.OC();}),_this984["#transparent-checkbox"].addEventListener("toggle",function(){return _this984.BM();}),_this984["#preview-button"].addEventListener("click",function(){return _this984.EC();});return _this984;}_createClass(ff,[{key:"connectedCallback",value:function connectedCallback(){var _this985=this;this.Js=Ti(this,"bx-editor"),this.Qs=Ti(this,"#app");var t=this.Qs,e=this.Js.board;this["#area-buttons"].value=t.getConfig("bx-gifsettings:area","view-box"),this["#lock-size-button"].toggled=t.getConfig("bx-gifsettings:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#margin-input"].value=t.getConfig("bx-gifsettings:margin",null),this["#dithering-select"].value=t.getConfig("bx-gifsettings:dithering","none"),this["#background-select"].value=t.getConfig("bx-gifsettings:background","rgb(255, 255, 255)"),this["#transparent-checkbox"].toggled=t.getConfig("bx-gifsettings:transparent",!0),this.qs(),e.addEventListener("selectedelementschange",this.Ko=function(){_this985.Qo();}),e.addEventListener("workspacemutation",this.rn=function(t){_this985.il(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.TC(),t.removeEventListener("selectedelementschange",this.Ko),t.removeEventListener("workspacemutation",this.rn);}},{key:"Qo",value:function Qo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.TC(),this.qs());}},{key:"il",value:function il(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.TC(),this.qs());}},{key:"NC",value:function NC(){this.TC(),this.qs(),this.Qs.setConfig("bx-gifsettings:area",this["#area-buttons"].value);}},{key:"OM",value:function OM(){if(this.TC(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"Pg",value:function Pg(){var _this986=this;var t,_e1735,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2356=_this986["#width-input"].value/i;_this986["#height-input"].value=Z(_t2356,1,Infinity,0);}}),this["#width-input"].addEventListener("changeend",_e1735=function e(){_this986["#width-input"].removeEventListener("change",t),_this986["#width-input"].removeEventListener("changeend",_e1735),_this986.TC();});}},{key:"Dg",value:function Dg(){var _this987=this;var t,_e1736,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2357=i*_this987["#height-input"].value;_this987["#width-input"].value=Z(_t2357,1,Infinity,0);}}),this["#height-input"].addEventListener("changeend",_e1736=function e(){_this987["#height-input"].removeEventListener("change",t),_this987["#height-input"].removeEventListener("changeend",_e1736),_this987.TC();});}},{key:"EM",value:function EM(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-gifsettings:lockSize",this["#lock-size-button"].toggled);}},{key:"TM",value:function TM(){var t=this["#margin-switch"].toggled?10:null;this.Qs.setConfig("bx-gifsettings:margin",t),this["#margin-input"].value=t,this.TC(),this.qs(!1);}},{key:"AM",value:function AM(){this.Qs.setConfig("bx-gifsettings:margin",this["#margin-input"].value),this.TC();}},{key:"LM",value:function LM(){this.Qs.setConfig("bx-gifsettings:dithering",this["#dithering-select"].value),this.TC();}},{key:"zC",value:function zC(){this.Qs.setConfig("bx-gifsettings:background",this["#background-select"].value),this.AC=!0;}},{key:"OC",value:function OC(){this.AC&&(this.AC=!1,this.Qs.setConfig("bx-gifsettings:background",this["#background-select"].value),this.TC());}},{key:"BM",value:function BM(){this.Qs.setConfig("bx-gifsettings:transparent",this["#transparent-checkbox"].value),this.TC();}},{key:"EC",value:function EC(){this.$C();}},{key:"$C",value:function(){var _$C5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee202(){var t,_e1737,_t2358,e,i,s,n,o,l;return regeneratorRuntime.wrap(function _callee202$(_context203){while(1){switch(_context203.prev=_context203.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1737=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2358=this["#view-select"].value.substring(1);_e1737=this.Js.board.currentWorkspace.querySelector("#"+_t2358);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1737);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements(this.margin));t.setAttribute("width",this["#width-input"].value+"px"),t.setAttribute("height",this["#height-input"].value+"px"),t.setAttribute("preserveAspectRatio","none");e=Yp(t);_context203.next=5;return tf(e,"gif",{background:this["#background-select"].value,dithering:this["#dithering-select"].value,transparent:this["#transparent-checkbox"].toggled});case 5:i=_context203.sent;_context203.next=8;return Ra(i);case 8:s=_context203.sent;n=s.substring(0,s.indexOf(",")+1);o=X((s.length-n.length)*(3/4));l=Na(o);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",s),this["#preview"].setAttribute("width",this["#width-input"].value),this["#preview"].setAttribute("height",this["#height-input"].value),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+l,this["#preview-section"].scrollIntoViewIfNeeded();case 13:case"end":return _context203.stop();}}},_callee202,this);}));function $C(){return _$C5.apply(this,arguments);}return $C;}()},{key:"TC",value:function TC(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this988=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.Js.board,i=null,s=null;if("selection"===this["#area-buttons"].value)e.outermostSelectedObjectElements.length>0&&(i=Ue(e.outermostSelectedObjectElements.map(function(t){var i=Nt(t,e.currentWorkspace),s=_i(t);return Fe(s,i);})),0!==i.width&&0!==i.height||(i=null));else if("view-box"===this["#area-buttons"].value){var _t2359=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_t2359.length>0)if("view-tool"===this.Js.toolsDock.value){var _t2360=e.selectedElements.find(function(t){return"view"===t.localName;});_t2360&&(s=_t2360);}else{var _e1738=_t2359.find(function(t){return"#"+t.id===_this988["#view-select"].value;});_e1738&&(s=_e1738);}if(null===s)e.currentWorkspace.hasAttribute("viewBox")&&(i=Lt.fromString(e.currentWorkspace.getAttribute("viewBox")));else{var _t2361=e.currentWorkspace.querySelector("#"+s.id);_t2361.hasAttribute("viewBox")&&(i=Lt.fromString(_t2361.getAttribute("viewBox")),0!==i.width&&0!==i.height||(i=null));}}if(this.exportable=!!i,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2362=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2362.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2362.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _e1739=["default"].concat(_toConsumableArray(_t2362.map(function(t){return"#"+t.id;}))),_i1559=["Default"].concat(_toConsumableArray(_t2362.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_e1739.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_e1739.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2363=0;_t2363<_e1739.length;_t2363+=1){var _s913=this["#view-menu"].children[_t2363];_s913.value=_e1739[_t2363],_s913.firstElementChild.textContent=_i1559[_t2363];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=s?"#"+s.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}t&&(this["#width-heading"].disabled=null===i,this["#width-input"].disabled=null===i,this["#width-input"].value=null===i?100:X(i.width,0)||1,this["#height-heading"].disabled=null===i,this["#height-input"].disabled=null===i,this["#height-input"].value=null===i?100:X(i.height,0)||1,this["#lock-size-button"].disabled=null===i),this["#margin-subsection"].hidden="view-box"===this["#area-buttons"].value,this["#margin-heading"].disabled=null===i,this["#margin-switch"].disabled=null===i,this["#margin-switch"].toggled=null!==this["#margin-input"].value,this["#margin-input"].hidden=null===this["#margin-input"].value,this["#margin-input"].disabled=null===i,this["#dithering-heading"].disabled=null===i,this["#dithering-select"].disabled=null===i,this["#background-heading"].disabled=null===i,this["#background-select"].disabled=null===i,this["#transparent-checkbox"].disabled=null===i,this["#preview-heading"].disabled=null===i,this["#preview-button"].disabled=null===i;}}]);return ff;}(pf);_defineProperty(ff,"zM",Hi(_templateObject493()));_defineProperty(ff,"_shadowStyleSheet",Yi(_templateObject494()));customElements.define("bx-gifsettings",ff);var wf=Array.isArray;var vf=/*#__PURE__*/function(_pf4){_inherits(vf,_pf4);var _super214=_createSuper(vf);_createClass(vf,[{key:"format",get:function get(){return"webp";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"margin",get:function get(){var t=[0,0,0,0];return"selection"===this["#area-buttons"].value&&(t=this["#margin-input"].value,!1===wf(t)&&(t=[t,t,t,t])),t;}},{key:"compression",get:function get(){return this["#compression-input"].value;}},{key:"background",get:function get(){return this["#background-select"].value;}}]);function vf(){var _this989;_classCallCheck(this,vf);_this989=_super214.call(this),_this989["#area-buttons"].addEventListener("toggle",function(){return _this989.NC();}),_this989["#view-select"].addEventListener("change",function(){return _this989.OM();}),_this989["#width-input"].addEventListener("changestart",function(){return _this989.Pg();}),_this989["#height-input"].addEventListener("changestart",function(){return _this989.Dg();}),_this989["#lock-size-button"].addEventListener("toggle",function(){return _this989.EM();}),_this989["#margin-switch"].addEventListener("toggle",function(){return _this989.TM();}),_this989["#margin-input"].addEventListener("changeend",function(){return _this989.AM();}),_this989["#compression-slider"].addEventListener("changestart",function(){return _this989.PC();}),_this989["#compression-input"].addEventListener("changestart",function(){return _this989.DC();}),_this989["#background-select"].addEventListener("changeend",function(){return _this989.zC();}),_this989["#background-popover"].addEventListener("close",function(){return _this989.OC();}),_this989["#preview-button"].addEventListener("click",function(){return _this989.EC();});return _this989;}_createClass(vf,[{key:"connectedCallback",value:function connectedCallback(){var _this990=this;this.Js=Ti(this,"bx-editor"),this.Qs=Ti(this,"#app");var t=this.Qs,e=this.Js.board;this["#area-buttons"].value=t.getConfig("bx-webpsettings:area","view-box"),this["#lock-size-button"].toggled=t.getConfig("bx-webpsettings:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#margin-input"].value=t.getConfig("bx-webpsettings:margin",null),this["#compression-slider"].value=t.getConfig("bx-webpsettings:compression",1),this["#compression-input"].value=t.getConfig("bx-webpsettings:compression",1),this["#background-select"].value=t.getConfig("bx-webpsettings:background","rgba(255, 255, 255, 0)"),this.qs(),e.addEventListener("selectedelementschange",this.Ko=function(){_this990.Qo();}),e.addEventListener("workspacemutation",this.rn=function(t){_this990.il(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.TC(),t.removeEventListener("selectedelementschange",this.Ko),t.removeEventListener("workspacemutation",this.rn);}},{key:"Qo",value:function Qo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.TC(),this.qs());}},{key:"il",value:function il(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.TC(),this.qs());}},{key:"NC",value:function NC(){this.TC(),this.qs(),this.Qs.setConfig("bx-webpsettings:area",this["#area-buttons"].value);}},{key:"OM",value:function OM(){if(this.TC(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"Pg",value:function Pg(){var _this991=this;var t,_e1740,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2364=_this991["#width-input"].value/i;_this991["#height-input"].value=Z(_t2364,1,Infinity,0);}}),this["#width-input"].addEventListener("changeend",_e1740=function e(){_this991["#width-input"].removeEventListener("change",t),_this991["#width-input"].removeEventListener("changeend",_e1740),_this991.TC();});}},{key:"Dg",value:function Dg(){var _this992=this;var t,_e1741,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2365=i*_this992["#height-input"].value;_this992["#width-input"].value=Z(_t2365,1,Infinity,0);}}),this["#height-input"].addEventListener("changeend",_e1741=function e(){_this992["#height-input"].removeEventListener("change",t),_this992["#height-input"].removeEventListener("changeend",_e1741),_this992.TC();});}},{key:"EM",value:function EM(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-webpsettings:lockSize",this["#lock-size-button"].toggled);}},{key:"TM",value:function TM(){var t=this["#margin-switch"].toggled?10:null;this.Qs.setConfig("bx-webpsettings:margin",t),this["#margin-input"].value=t,this.TC(),this.qs(!1);}},{key:"AM",value:function AM(){this.Qs.setConfig("bx-webpsettings:margin",this["#margin-input"].value),this.TC();}},{key:"DC",value:function DC(){var _this993=this;var t,_e1742;this["#compression-input"].addEventListener("change",t=function t(){_this993["#compression-slider"].value=_this993["#compression-input"].value;}),this["#compression-input"].addEventListener("changeend",_e1742=function e(){_this993["#compression-input"].removeEventListener("change",t),_this993["#compression-input"].removeEventListener("changeend",_e1742),_this993.Qs.setConfig("bx-webpsettings:compression",_this993["#compression-input"].value),_this993.TC();});}},{key:"PC",value:function PC(){var _this994=this;var t,_e1743;this["#compression-slider"].addEventListener("change",t=function t(){_this994["#compression-input"].value=_this994["#compression-slider"].value;}),this["#compression-slider"].addEventListener("changeend",_e1743=function e(){_this994["#compression-slider"].removeEventListener("change",t),_this994["#compression-slider"].removeEventListener("changeend",_e1743),_this994.Qs.setConfig("bx-webpsettings:compression",_this994["#compression-slider"].value),_this994.TC();});}},{key:"zC",value:function zC(){this.AC=!0;}},{key:"OC",value:function OC(){this.AC&&(this.AC=!1,this.Qs.setConfig("bx-webpsettings:background",this["#background-select"].value),this.TC());}},{key:"EC",value:function EC(){this.$C();}},{key:"$C",value:function(){var _$C6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee203(){var t,_e1744,_t2366,e,i,s,n,o,l;return regeneratorRuntime.wrap(function _callee203$(_context204){while(1){switch(_context204.prev=_context204.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1744=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2366=this["#view-select"].value.substring(1);_e1744=this.Js.board.currentWorkspace.querySelector("#"+_t2366);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1744);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements(this.margin));t.setAttribute("width",this["#width-input"].value+"px"),t.setAttribute("height",this["#height-input"].value+"px"),t.setAttribute("preserveAspectRatio","none");e=Yp(t);_context204.next=5;return tf(e,"webp",{background:this["#background-select"].value,compression:this["#compression-slider"].value});case 5:i=_context204.sent;_context204.next=8;return Ra(i);case 8:s=_context204.sent;n=s.substring(0,s.indexOf(",")+1);o=X((s.length-n.length)*(3/4));l=Na(o);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",s),this["#preview"].setAttribute("width",this["#width-input"].value),this["#preview"].setAttribute("height",this["#height-input"].value),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+l,this["#preview-section"].scrollIntoViewIfNeeded();case 13:case"end":return _context204.stop();}}},_callee203,this);}));function $C(){return _$C6.apply(this,arguments);}return $C;}()},{key:"TC",value:function TC(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this995=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.Js.board,i=null,s=null;if("selection"===this["#area-buttons"].value)e.outermostSelectedObjectElements.length>0&&(i=Ue(e.outermostSelectedObjectElements.map(function(t){var i=Nt(t,e.currentWorkspace),s=_i(t);return Fe(s,i);})),0!==i.width&&0!==i.height||(i=null));else if("view-box"===this["#area-buttons"].value){var _t2367=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_t2367.length>0)if("view-tool"===this.Js.toolsDock.value){var _t2368=e.selectedElements.find(function(t){return"view"===t.localName;});_t2368&&(s=_t2368);}else{var _e1745=_t2367.find(function(t){return"#"+t.id===_this995["#view-select"].value;});_e1745&&(s=_e1745);}if(null===s)e.currentWorkspace.hasAttribute("viewBox")&&(i=Lt.fromString(e.currentWorkspace.getAttribute("viewBox")));else{var _t2369=e.currentWorkspace.querySelector("#"+s.id);_t2369.hasAttribute("viewBox")&&(i=Lt.fromString(_t2369.getAttribute("viewBox")),0!==i.width&&0!==i.height||(i=null));}}if(this.exportable=!!i,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2370=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2370.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2370.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _e1746=["default"].concat(_toConsumableArray(_t2370.map(function(t){return"#"+t.id;}))),_i1560=["Default"].concat(_toConsumableArray(_t2370.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_e1746.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_e1746.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2371=0;_t2371<_e1746.length;_t2371+=1){var _s914=this["#view-menu"].children[_t2371];_s914.value=_e1746[_t2371],_s914.firstElementChild.textContent=_i1560[_t2371];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=s?"#"+s.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}t&&(this["#width-heading"].disabled=null===i,this["#width-input"].disabled=null===i,this["#width-input"].value=null===i?100:X(i.width,0)||1,this["#height-heading"].disabled=null===i,this["#height-input"].disabled=null===i,this["#height-input"].value=null===i?100:X(i.height,0)||1,this["#lock-size-button"].disabled=null===i),this["#margin-subsection"].hidden="view-box"===this["#area-buttons"].value,this["#margin-heading"].disabled=null===i,this["#margin-switch"].disabled=null===i,this["#margin-switch"].toggled=null!==this["#margin-input"].value,this["#margin-input"].hidden=null===this["#margin-input"].value,this["#margin-input"].disabled=null===i,this["#compression-heading"].disabled=null===i,this["#compression-slider"].disabled=null===i,this["#compression-input"].disabled=null===i,this["#background-heading"].disabled=null===i,this["#background-select"].disabled=null===i,this["#preview-heading"].disabled=null===i,this["#preview-button"].disabled=null===i;}}]);return vf;}(pf);_defineProperty(vf,"zM",Hi(_templateObject495()));_defineProperty(vf,"_shadowStyleSheet",Yi(_templateObject496()));customElements.define("bx-webpsettings",vf);var yf=/*#__PURE__*/function(_pf5){_inherits(yf,_pf5);var _super215=_createSuper(yf);_createClass(yf,[{key:"format",get:function get(){return"svg";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"viewport",get:function get(){return this["#viewport-buttons"].value;}},{key:"convertTextsToPaths",get:function get(){return this["#convert-texts-to-paths-checkbox"].toggled;}},{key:"removeEmbeddedFonts",get:function get(){return this["#remove-embedded-fonts-checkbox"].toggled;}},{key:"removeNonStandardNamespaces",get:function get(){return this["#remove-non-standard-namespaces-checkbox"].toggled;}},{key:"width",get:function get(){var _this$RM=this.RM(),_this$RM2=_slicedToArray(_this$RM,1),t=_this$RM2[0];return t?t.width:0;}},{key:"height",get:function get(){var _this$RM3=this.RM(),_this$RM4=_slicedToArray(_this$RM3,1),t=_this$RM4[0];return t?t.height:0;}}]);function yf(){var _this996;_classCallCheck(this,yf);_this996=_super215.call(this),_this996["#area-buttons"].addEventListener("toggle",function(){_this996.NC();}),_this996["#view-select"].addEventListener("change",function(){_this996.OM();}),_this996["#viewport-buttons"].addEventListener("toggle",function(){_this996.GM();}),_this996["#convert-texts-to-paths-checkbox"].addEventListener("toggle",function(){_this996.FM();}),_this996["#remove-embedded-fonts-checkbox"].addEventListener("toggle",function(){_this996.UM();}),_this996["#remove-non-standard-namespaces-checkbox"].addEventListener("toggle",function(){_this996.NM();}),_this996["#preview-button"].addEventListener("click",function(){_this996.EC();});return _this996;}_createClass(yf,[{key:"connectedCallback",value:function connectedCallback(){var _this997=this;this.Js=Ti(this,"bx-editor"),this.Qs=Ti(this,"#app");var t=this.Qs,e=this.Js.board,i=t.getConfig("bx-svgsettings:area","view-box"),s=t.getConfig("bx-svgsettings:viewport","responsive"),n=t.getConfig("bx-svgsettings:convertTextsToPaths",!1),o=t.getConfig("bx-svgsettings:removeEmbeddedFonts",!1),l=t.getConfig("bx-svgsettings:removeNonStandardNamespaces",!1);this["#area-buttons"].value=i,this["#viewport-buttons"].value=s,this["#convert-texts-to-paths-checkbox"].toggled=n,this["#remove-embedded-fonts-checkbox"].toggled=o,this["#remove-non-standard-namespaces-checkbox"].toggled=l,this.qs(),e.addEventListener("selectedelementschange",this.Ko=function(){_this997.Qo();}),e.addEventListener("workspacemutation",this.rn=function(t){_this997.il(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.TC(),t.removeEventListener("selectedelementschange",this.Ko),t.removeEventListener("workspacemutation",this.rn);}},{key:"Qo",value:function Qo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.TC(),this.qs());}},{key:"il",value:function il(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.TC(),this.qs());}},{key:"NC",value:function NC(){var t=this["#area-buttons"].value;this.Qs.setConfig("bx-svgsettings:area",t),this.TC(),this.qs();}},{key:"OM",value:function OM(){if(this.TC(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"GM",value:function GM(){var t=this["#viewport-buttons"].value;this.Qs.setConfig("bx-svgsettings:viewport",t),this.TC(),this.qs();}},{key:"FM",value:function FM(){var t=this["#convert-texts-to-paths-checkbox"].toggled;this.Qs.setConfig("bx-svgsettings:convertTextsToPaths",t),this.TC();}},{key:"UM",value:function UM(){var t=this["#remove-embedded-fonts-checkbox"].toggled;this.Qs.setConfig("bx-svgsettings:removeEmbeddedFonts",t),this.TC();}},{key:"NM",value:function NM(){var t=this["#remove-non-standard-namespaces-checkbox"].toggled;this.Qs.setConfig("bx-svgsettings:removeNonStandardNamespaces",t);}},{key:"EC",value:function EC(){this.$C();}},{key:"RM",value:function RM(){var _this998=this;var t=this.Js.board,e=null,i=null;if("selection"===this["#area-buttons"].value)t.outermostSelectedObjectElements.length>0&&(e=Ue(t.outermostSelectedObjectElements.map(function(e){var i=Nt(e,t.currentWorkspace),s=_i(e);return Fe(s,i);})),0!==e.width&&0!==e.height||(e=null));else if("view-box"===this["#area-buttons"].value){var _s915=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_s915.length>0)if("view-tool"===this.Js.toolsDock.value){var _e1747=t.selectedElements.find(function(t){return"view"===t.localName;});_e1747&&(i=_e1747);}else{var _t2372=_s915.find(function(t){return"#"+t.id===_this998["#view-select"].value;});_t2372&&(i=_t2372);}if(null===i)t.currentWorkspace.hasAttribute("viewBox")&&(e=Lt.fromString(t.currentWorkspace.getAttribute("viewBox")));else{var _s916=t.currentWorkspace.querySelector("#"+i.id);_s916.hasAttribute("viewBox")&&(e=Lt.fromString(_s916.getAttribute("viewBox")),0!==e.width&&0!==e.height||(e=null));}}return[e,i];}},{key:"VM",value:function VM(t){var _this999=this;return new Promise(/*#__PURE__*/function(){var _ref171=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee204(e){var i,_this999$Js$board,s,n,_iterator1558,_step1558,_e1749,_i1561,_arr76,_e1748;return regeneratorRuntime.wrap(function _callee204$(_context205){while(1){switch(_context205.prev=_context205.next){case 0:_this999.Js.offscreenBoard.setArtwork(t);_context205.next=3;return Ki(100);case 3:i=new Ip(t),_this999$Js$board=_this999.Js.board,s=_this999$Js$board.geometryPrecision,n=_this999$Js$board.transformPrecision;_iterator1558=_createForOfIteratorHelper(t.querySelectorAll("text"));_context205.prev=5;_iterator1558.s();case 7:if((_step1558=_iterator1558.n()).done){_context205.next=15;break;}_e1749=_step1558.value;_context205.t0=i.canReplaceTextWithPaths(_e1749);if(!_context205.t0){_context205.next=13;break;}_context205.next=13;return i.replaceTextWithPaths(_e1749,s,n);case 13:_context205.next=7;break;case 15:_context205.next=20;break;case 17:_context205.prev=17;_context205.t1=_context205["catch"](5);_iterator1558.e(_context205.t1);case 20:_context205.prev=20;_iterator1558.f();return _context205.finish(20);case 23:for(_i1561=0,_arr76=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1561<_arr76.length;_i1561++){_e1748=_arr76[_i1561];_e1748.remove();}_this999.Js.offscreenBoard.clear(),e();case 25:case"end":return _context205.stop();}}},_callee204,null,[[5,17,20,23]]);}));return function(_x191){return _ref171.apply(this,arguments);};}());}},{key:"$C",value:function(){var _$C7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee205(){var t,_e1750,_t2373,e,i,s,_this$RM5,_this$RM6,n;return regeneratorRuntime.wrap(function _callee205$(_context206){while(1){switch(_context206.prev=_context206.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1750=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2373=this["#view-select"].value.substring(1);_e1750=this.Js.board.currentWorkspace.querySelector("#"+_t2373);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1750);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements());_context206.t0=this["#convert-texts-to-paths-checkbox"].toggled;if(!_context206.t0){_context206.next=5;break;}_context206.next=5;return this.VM(t);case 5:e=Yp(t);_context206.next=8;return qp(e);case 8:i=_context206.sent;s=Na(e.length);_this$RM5=this.RM();_this$RM6=_slicedToArray(_this$RM5,1);n=_this$RM6[0];this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",i),this["#preview"].setAttribute("width",n.width),this["#preview"].setAttribute("height",n.height),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+s,this["#preview-section"].scrollIntoViewIfNeeded();case 14:case"end":return _context206.stop();}}},_callee205,this);}));function $C(){return _$C7.apply(this,arguments);}return $C;}()},{key:"TC",value:function TC(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this$RM7=this.RM(),_this$RM8=_slicedToArray(_this$RM7,2),t=_this$RM8[0],e=_this$RM8[1];if(this.exportable=!!t,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2374=_toConsumableArray(this.Js.board.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2374.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2374.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _i1562=["default"].concat(_toConsumableArray(_t2374.map(function(t){return"#"+t.id;}))),_s917=["Default"].concat(_toConsumableArray(_t2374.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_i1562.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_i1562.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2375=0;_t2375<_i1562.length;_t2375+=1){var _e1751=this["#view-menu"].children[_t2375];_e1751.value=_i1562[_t2375],_e1751.firstElementChild.textContent=_s917[_t2375];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=e?"#"+e.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}this["#viewport-heading"].disabled=null===t,this["#responsive-viewport-button"].disabled=null===t,this["#fixed-viewport-button"].disabled=null===t,this["#normalize-heading"].disabled=null===t,this["#convert-texts-to-paths-checkbox"].disabled=null===t,this["#remove-embedded-fonts-checkbox"].disabled=null===t,this["#remove-non-standard-namespaces-checkbox"].disabled=null===t,this["#preview-heading"].disabled=null===t,this["#preview-button"].disabled=null===t;}}]);return yf;}(pf);_defineProperty(yf,"zM",Hi(_templateObject497()));_defineProperty(yf,"_shadowStyleSheet",Yi(_templateObject498()));customElements.define("bx-svgsettings",yf);var kf=function kf(t){var e=[];for(var _i1563=0,_s918=t.length;_i1563<_s918;_i1563+=1){e.push(t[_i1563].charCodeAt(0));}var i=new Uint8Array(e);return pako.gzip(i);},Sf=function Sf(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"string";try{var _i1564=null,_s919=pako.inflate(t);if("string"===e){_i1564="";for(var _t2376=0,_e1752=_s919.length;_t2376<_e1752;_t2376+=1){_i1564+=String.fromCharCode(_s919[_t2376]);}}else"blob"===e&&(_i1564=new Blob([_s919],{type:"image/svg+xml"}));return _i1564;}catch(t){return null;}};var _f=/*#__PURE__*/function(_pf6){_inherits(_f,_pf6);var _super216=_createSuper(_f);_createClass(_f,[{key:"format",get:function get(){return"svgz";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"viewport",get:function get(){return this["#viewport-buttons"].value;}},{key:"convertTextsToPaths",get:function get(){return this["#convert-texts-to-paths-checkbox"].toggled;}},{key:"removeEmbeddedFonts",get:function get(){return this["#remove-embedded-fonts-checkbox"].toggled;}},{key:"removeNonStandardNamespaces",get:function get(){return this["#remove-non-standard-namespaces-checkbox"].toggled;}},{key:"width",get:function get(){var _this$RM9=this.RM(),_this$RM10=_slicedToArray(_this$RM9,1),t=_this$RM10[0];return t?t.width:0;}},{key:"height",get:function get(){var _this$RM11=this.RM(),_this$RM12=_slicedToArray(_this$RM11,1),t=_this$RM12[0];return t?t.height:0;}}]);function _f(){var _this1000;_classCallCheck(this,_f);_this1000=_super216.call(this),_this1000["#area-buttons"].addEventListener("toggle",function(){_this1000.NC();}),_this1000["#view-select"].addEventListener("change",function(){_this1000.OM();}),_this1000["#viewport-buttons"].addEventListener("toggle",function(){_this1000.GM();}),_this1000["#convert-texts-to-paths-checkbox"].addEventListener("toggle",function(){_this1000.FM();}),_this1000["#remove-embedded-fonts-checkbox"].addEventListener("toggle",function(){_this1000.UM();}),_this1000["#remove-non-standard-namespaces-checkbox"].addEventListener("toggle",function(){_this1000.NM();}),_this1000["#preview-button"].addEventListener("click",function(){_this1000.EC();});return _this1000;}_createClass(_f,[{key:"connectedCallback",value:function connectedCallback(){var _this1001=this;this.Js=Ti(this,"bx-editor"),this.Qs=Ti(this,"#app");var t=this.Qs,e=this.Js.board,i=t.getConfig("bx-svgzsettings:area","view-box"),s=t.getConfig("bx-svgzsettings:viewport","responsive"),n=t.getConfig("bx-svgzsettings:convertTextsToPaths",!1),o=t.getConfig("bx-svgzsettings:removeEmbeddedFonts",!1),l=t.getConfig("bx-svgzsettings:removeNonStandardNamespaces",!1);this["#area-buttons"].value=i,this["#viewport-buttons"].value=s,this["#convert-texts-to-paths-checkbox"].toggled=n,this["#remove-embedded-fonts-checkbox"].toggled=o,this["#remove-non-standard-namespaces-checkbox"].toggled=l,this.qs(),e.addEventListener("selectedelementschange",this.Ko=function(){_this1001.Qo();}),e.addEventListener("workspacemutation",this.rn=function(t){_this1001.il(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.TC(),t.removeEventListener("selectedelementschange",this.Ko),t.removeEventListener("workspacemutation",this.rn);}},{key:"Qo",value:function Qo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.TC(),this.qs());}},{key:"il",value:function il(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.TC(),this.qs());}},{key:"NC",value:function NC(){var t=this["#area-buttons"].value;this.Qs.setConfig("bx-svgzsettings:area",t),this.TC(),this.qs();}},{key:"OM",value:function OM(){if(this.TC(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"GM",value:function GM(){var t=this["#viewport-buttons"].value;this.Qs.setConfig("bx-svgzsettings:viewport",t),this.TC(),this.qs();}},{key:"FM",value:function FM(){var t=this["#convert-texts-to-paths-checkbox"].toggled;this.Qs.setConfig("bx-svgzsettings:convertTextsToPaths",t),this.TC();}},{key:"UM",value:function UM(){var t=this["#remove-embedded-fonts-checkbox"].toggled;this.Qs.setConfig("bx-svgzsettings:removeEmbeddedFonts",t),this.TC();}},{key:"NM",value:function NM(){var t=this["#remove-non-standard-namespaces-checkbox"].toggled;this.Qs.setConfig("bx-svgzsettings:removeNonStandardNamespaces",t);}},{key:"EC",value:function EC(){this.$C();}},{key:"RM",value:function RM(){var _this1002=this;var t=this.Js.board,e=null,i=null;if("selection"===this["#area-buttons"].value)t.outermostSelectedObjectElements.length>0&&(e=Ue(t.outermostSelectedObjectElements.map(function(e){var i=Nt(e,t.currentWorkspace),s=_i(e);return Fe(s,i);})),0!==e.width&&0!==e.height||(e=null));else if("view-box"===this["#area-buttons"].value){var _s920=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_s920.length>0)if("view-tool"===this.Js.toolsDock.value){var _e1753=t.selectedElements.find(function(t){return"view"===t.localName;});_e1753&&(i=_e1753);}else{var _t2377=_s920.find(function(t){return"#"+t.id===_this1002["#view-select"].value;});_t2377&&(i=_t2377);}if(null===i)t.currentWorkspace.hasAttribute("viewBox")&&(e=Lt.fromString(t.currentWorkspace.getAttribute("viewBox")));else{var _s921=t.currentWorkspace.querySelector("#"+i.id);_s921.hasAttribute("viewBox")&&(e=Lt.fromString(_s921.getAttribute("viewBox")),0!==e.width&&0!==e.height||(e=null));}}return[e,i];}},{key:"VM",value:function VM(t){var _this1003=this;return new Promise(/*#__PURE__*/function(){var _ref172=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee206(e){var i,_this1003$Js$board,s,n,_iterator1559,_step1559,_e1755,_i1565,_arr77,_e1754;return regeneratorRuntime.wrap(function _callee206$(_context207){while(1){switch(_context207.prev=_context207.next){case 0:_this1003.Js.offscreenBoard.setArtwork(t);_context207.next=3;return Ki(100);case 3:i=new Ip(t),_this1003$Js$board=_this1003.Js.board,s=_this1003$Js$board.geometryPrecision,n=_this1003$Js$board.transformPrecision;_iterator1559=_createForOfIteratorHelper(t.querySelectorAll("text"));_context207.prev=5;_iterator1559.s();case 7:if((_step1559=_iterator1559.n()).done){_context207.next=15;break;}_e1755=_step1559.value;_context207.t0=i.canReplaceTextWithPaths(_e1755);if(!_context207.t0){_context207.next=13;break;}_context207.next=13;return i.replaceTextWithPaths(_e1755,s,n);case 13:_context207.next=7;break;case 15:_context207.next=20;break;case 17:_context207.prev=17;_context207.t1=_context207["catch"](5);_iterator1559.e(_context207.t1);case 20:_context207.prev=20;_iterator1559.f();return _context207.finish(20);case 23:for(_i1565=0,_arr77=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1565<_arr77.length;_i1565++){_e1754=_arr77[_i1565];_e1754.remove();}_this1003.Js.offscreenBoard.clear(),e();case 25:case"end":return _context207.stop();}}},_callee206,null,[[5,17,20,23]]);}));return function(_x192){return _ref172.apply(this,arguments);};}());}},{key:"$C",value:function(){var _$C8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee207(){var t,_e1756,_t2378,e,i,s,n,_this$RM13,_this$RM14,o;return regeneratorRuntime.wrap(function _callee207$(_context208){while(1){switch(_context208.prev=_context208.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1756=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2378=this["#view-select"].value.substring(1);_e1756=this.Js.board.currentWorkspace.querySelector("#"+_t2378);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1756);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements());_context208.t0=this["#convert-texts-to-paths-checkbox"].toggled;if(!_context208.t0){_context208.next=5;break;}_context208.next=5;return this.VM(t);case 5:e=Yp(t);i=kf(e);_context208.next=9;return qp(e);case 9:s=_context208.sent;n=Na(i.length);_this$RM13=this.RM();_this$RM14=_slicedToArray(_this$RM13,1);o=_this$RM14[0];this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",s),this["#preview"].setAttribute("width",o.width),this["#preview"].setAttribute("height",o.height),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+n,this["#preview-section"].scrollIntoViewIfNeeded();case 15:case"end":return _context208.stop();}}},_callee207,this);}));function $C(){return _$C8.apply(this,arguments);}return $C;}()},{key:"TC",value:function TC(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this$RM15=this.RM(),_this$RM16=_slicedToArray(_this$RM15,2),t=_this$RM16[0],e=_this$RM16[1];if(this.exportable=!!t,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2379=_toConsumableArray(this.Js.board.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2379.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2379.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _i1566=["default"].concat(_toConsumableArray(_t2379.map(function(t){return"#"+t.id;}))),_s922=["Default"].concat(_toConsumableArray(_t2379.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_i1566.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_i1566.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2380=0;_t2380<_i1566.length;_t2380+=1){var _e1757=this["#view-menu"].children[_t2380];_e1757.value=_i1566[_t2380],_e1757.firstElementChild.textContent=_s922[_t2380];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=e?"#"+e.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}this["#viewport-heading"].disabled=null===t,this["#responsive-viewport-button"].disabled=null===t,this["#fixed-viewport-button"].disabled=null===t,this["#normalize-heading"].disabled=null===t,this["#convert-texts-to-paths-checkbox"].disabled=null===t,this["#remove-embedded-fonts-checkbox"].disabled=null===t,this["#remove-non-standard-namespaces-checkbox"].disabled=null===t,this["#preview-heading"].disabled=null===t,this["#preview-button"].disabled=null===t;}}]);return _f;}(pf);_defineProperty(_f,"zM",Hi(_templateObject499()));_defineProperty(_f,"_shadowStyleSheet",Yi(_templateObject500()));customElements.define("bx-svgzsettings",_f);var Cf=/*#__PURE__*/function(_pf7){_inherits(Cf,_pf7);var _super217=_createSuper(Cf);_createClass(Cf,[{key:"format",get:function get(){return"html";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"convertTextsToPaths",get:function get(){return this["#convert-texts-to-paths-checkbox"].toggled;}},{key:"removeEmbeddedFonts",get:function get(){return this["#remove-embedded-fonts-checkbox"].toggled;}},{key:"width",get:function get(){var _this$RM17=this.RM(),_this$RM18=_slicedToArray(_this$RM17,1),t=_this$RM18[0];return t?t.width:0;}},{key:"height",get:function get(){var _this$RM19=this.RM(),_this$RM20=_slicedToArray(_this$RM19,1),t=_this$RM20[0];return t?t.height:0;}}]);function Cf(){var _this1004;_classCallCheck(this,Cf);_this1004=_super217.call(this),_this1004["#area-buttons"].addEventListener("toggle",function(){return _this1004.NC();}),_this1004["#view-select"].addEventListener("change",function(){return _this1004.OM();}),_this1004["#convert-texts-to-paths-checkbox"].addEventListener("toggle",function(){return _this1004.FM();}),_this1004["#remove-embedded-fonts-checkbox"].addEventListener("toggle",function(){return _this1004.UM();}),_this1004["#preview-button"].addEventListener("click",function(){return _this1004.EC();});return _this1004;}_createClass(Cf,[{key:"connectedCallback",value:function connectedCallback(){var _this1005=this;this.Js=Ti(this,"bx-editor"),this.Qs=Ti(this,"#app");var t=this.Qs,e=this.Js.board;this["#area-buttons"].value=t.getConfig("bx-htmlsettings:area","view-box"),this["#convert-texts-to-paths-checkbox"].toggled=t.getConfig("bx-htmlsettings:convertTextsToPaths",!1),this["#remove-embedded-fonts-checkbox"].toggled=t.getConfig("bx-htmlsettings:removeEmbeddedFonts",!1),this.qs(),e.addEventListener("selectedelementschange",this.Ko=function(){_this1005.Qo();}),e.addEventListener("workspacemutation",this.rn=function(t){_this1005.il(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.TC(),t.removeEventListener("selectedelementschange",this.Ko),t.removeEventListener("workspacemutation",this.rn);}},{key:"Qo",value:function Qo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.TC(),this.qs());}},{key:"il",value:function il(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.TC(),this.qs());}},{key:"NC",value:function NC(){this.TC(),this.qs(),this.Qs.setConfig("bx-htmlsettings:area",this["#area-buttons"].value);}},{key:"OM",value:function OM(){if(this.TC(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"FM",value:function FM(){this.TC(),this.Qs.setConfig("bx-htmlsettings:convertTextsToPaths",this["#convert-texts-to-paths-checkbox"].toggled);}},{key:"UM",value:function UM(){this.TC(),this.Qs.setConfig("bx-htmlsettings:removeEmbeddedFonts",this["#remove-embedded-fonts-checkbox"].toggled);}},{key:"EC",value:function EC(){this.$C();}},{key:"RM",value:function RM(){var _this1006=this;var t=this.Js.board,e=null,i=null;if("selection"===this["#area-buttons"].value)t.outermostSelectedObjectElements.length>0&&(e=Ue(t.outermostSelectedObjectElements.map(function(e){var i=Nt(e,t.currentWorkspace),s=_i(e);return Fe(s,i);})),0!==e.width&&0!==e.height||(e=null));else if("view-box"===this["#area-buttons"].value){var _s923=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_s923.length>0)if("view-tool"===this.Js.toolsDock.value){var _e1758=t.selectedElements.find(function(t){return"view"===t.localName;});_e1758&&(i=_e1758);}else{var _t2381=_s923.find(function(t){return"#"+t.id===_this1006["#view-select"].value;});_t2381&&(i=_t2381);}if(null===i)t.currentWorkspace.hasAttribute("viewBox")&&(e=Lt.fromString(t.currentWorkspace.getAttribute("viewBox")));else{var _s924=t.currentWorkspace.querySelector("#"+i.id);_s924.hasAttribute("viewBox")&&(e=Lt.fromString(_s924.getAttribute("viewBox")),0!==e.width&&0!==e.height||(e=null));}}return[e,i];}},{key:"VM",value:function VM(t){var _this1007=this;return new Promise(/*#__PURE__*/function(){var _ref173=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee208(e){var i,_this1007$Js$board,s,n,_iterator1560,_step1560,_e1760,_i1567,_arr78,_e1759;return regeneratorRuntime.wrap(function _callee208$(_context209){while(1){switch(_context209.prev=_context209.next){case 0:_this1007.Js.offscreenBoard.setArtwork(t);_context209.next=3;return Ki(100);case 3:i=new Ip(t),_this1007$Js$board=_this1007.Js.board,s=_this1007$Js$board.geometryPrecision,n=_this1007$Js$board.transformPrecision;_iterator1560=_createForOfIteratorHelper(t.querySelectorAll("text"));_context209.prev=5;_iterator1560.s();case 7:if((_step1560=_iterator1560.n()).done){_context209.next=15;break;}_e1760=_step1560.value;_context209.t0=i.canReplaceTextWithPaths(_e1760);if(!_context209.t0){_context209.next=13;break;}_context209.next=13;return i.replaceTextWithPaths(_e1760,s,n);case 13:_context209.next=7;break;case 15:_context209.next=20;break;case 17:_context209.prev=17;_context209.t1=_context209["catch"](5);_iterator1560.e(_context209.t1);case 20:_context209.prev=20;_iterator1560.f();return _context209.finish(20);case 23:for(_i1567=0,_arr78=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1567<_arr78.length;_i1567++){_e1759=_arr78[_i1567];_e1759.remove();}_this1007.Js.offscreenBoard.clear(),e();case 25:case"end":return _context209.stop();}}},_callee208,null,[[5,17,20,23]]);}));return function(_x193){return _ref173.apply(this,arguments);};}());}},{key:"$C",value:function(){var _$C9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee209(){var t,_e1761,_t2382,e,i,s,n,_this$RM21,_this$RM22,o;return regeneratorRuntime.wrap(function _callee209$(_context210){while(1){switch(_context210.prev=_context210.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1761=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2382=this["#view-select"].value.substring(1);_e1761=this.Js.board.currentWorkspace.querySelector("#"+_t2382);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1761);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements());_context210.t0=this["#convert-texts-to-paths-checkbox"].toggled;if(!_context210.t0){_context210.next=5;break;}_context210.next=5;return this.VM(t);case 5:e=Yp(t,"xml");i=Yp(t,"html");_context210.next=9;return qp(e);case 9:s=_context210.sent;n=Na(i.length);_this$RM21=this.RM();_this$RM22=_slicedToArray(_this$RM21,1);o=_this$RM22[0];this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",s),this["#preview"].setAttribute("width",o.width),this["#preview"].setAttribute("height",o.height),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+n,this["#preview-section"].scrollIntoViewIfNeeded();case 15:case"end":return _context210.stop();}}},_callee209,this);}));function $C(){return _$C9.apply(this,arguments);}return $C;}()},{key:"TC",value:function TC(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this$RM23=this.RM(),_this$RM24=_slicedToArray(_this$RM23,2),t=_this$RM24[0],e=_this$RM24[1];if(this.exportable=!!t,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2383=_toConsumableArray(this.Js.board.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2383.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2383.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _i1568=["default"].concat(_toConsumableArray(_t2383.map(function(t){return"#"+t.id;}))),_s925=["Default"].concat(_toConsumableArray(_t2383.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_i1568.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_i1568.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2384=0;_t2384<_i1568.length;_t2384+=1){var _e1762=this["#view-menu"].children[_t2384];_e1762.value=_i1568[_t2384],_e1762.firstElementChild.textContent=_s925[_t2384];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=e?"#"+e.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}this["#normalize-heading"].disabled=null===t,this["#convert-texts-to-paths-checkbox"].disabled=null===t,this["#remove-embedded-fonts-checkbox"].disabled=null===t,this["#preview-heading"].disabled=null===t,this["#preview-button"].disabled=null===t;}}]);return Cf;}(pf);_defineProperty(Cf,"zM",Hi(_templateObject501()));_defineProperty(Cf,"_shadowStyleSheet",Yi(_templateObject502()));customElements.define("bx-htmlsettings",Cf);var Mf=/*#__PURE__*/function(_pf8){_inherits(Mf,_pf8);var _super218=_createSuper(Mf);_createClass(Mf,[{key:"format",get:function get(){return"pdf";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"widthUnit",get:function get(){return this["#width-unit-select"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"heightUnit",get:function get(){return this["#height-unit-select"].value;}},{key:"background",get:function get(){return this["#background-select"].value;}},{key:"convertTexts",get:function get(){return this["#convert-texts-checkbox"].toggled;}}]);function Mf(){var _this1008;_classCallCheck(this,Mf);_this1008=_super218.call(this),_this1008["#area-buttons"].addEventListener("toggle",function(){return _this1008.NC();}),_this1008["#view-select"].addEventListener("change",function(){return _this1008.OM();}),_this1008["#width-input"].addEventListener("changestart",function(){return _this1008.Pg();}),_this1008["#height-input"].addEventListener("changestart",function(){return _this1008.Dg();}),_this1008["#width-unit-select"].addEventListener("change",function(){return _this1008.jM();}),_this1008["#height-unit-select"].addEventListener("change",function(){return _this1008.HM();}),_this1008["#lock-size-button"].addEventListener("toggle",function(){return _this1008.EM();}),_this1008["#background-select"].addEventListener("changeend",function(){return _this1008.zC();}),_this1008["#background-popover"].addEventListener("close",function(){return _this1008.OC();}),_this1008["#convert-texts-checkbox"].addEventListener("toggle",function(){return _this1008.YM();}),_this1008["#preview-button"].addEventListener("click",function(){return _this1008.EC();});return _this1008;}_createClass(Mf,[{key:"connectedCallback",value:function connectedCallback(){var _this1009=this;this.Js=Ti(this,"bx-editor"),this.Qs=Ti(this,"#app"),this["#area-buttons"].value=this.Qs.getConfig("bx-pdfoptions:area","view-box"),this["#width-unit-select"].value=this.Qs.getConfig("bx-pdfoptions:widthUnit","cm"),this["#height-unit-select"].value=this.Qs.getConfig("bx-pdfoptions:heightUnit","cm"),this["#lock-size-button"].toggled=this.Qs.getConfig("bx-pdfoptions:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#background-select"].value=this.Qs.getConfig("bx-pdfoptions:background","rgb(255, 255, 255)"),this["#convert-texts-checkbox"].toggled=this.Qs.getConfig("bx-pdfoptions:convertTexts",!1),this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Ko=function(){_this1009.Qo();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this1009.il(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.TC(),this.Js.board.removeEventListener("selectedelementschange",this.Ko),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Qo",value:function Qo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.TC(),this.qs());}},{key:"il",value:function il(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.TC(),this.qs());}},{key:"NC",value:function NC(){this.TC(),this.qs(),this.Qs.setConfig("bx-pdfoptions:area",this["#area-buttons"].value);}},{key:"OM",value:function OM(){if(this.TC(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"Pg",value:function Pg(){var _this1010=this;var t,_e1763,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2385=_this1010["#width-input"].value/i;_this1010["#height-input"].value=Z(_t2385,1,Infinity,3);}}),this["#width-input"].addEventListener("changeend",_e1763=function e(){_this1010["#width-input"].removeEventListener("change",t),_this1010["#width-input"].removeEventListener("changeend",_e1763),_this1010.TC();});}},{key:"Dg",value:function Dg(){var _this1011=this;var t,_e1764,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2386=i*_this1011["#height-input"].value;_this1011["#width-input"].value=Z(_t2386,1,Infinity,3);}}),this["#height-input"].addEventListener("changeend",_e1764=function e(){_this1011["#height-input"].removeEventListener("change",t),_this1011["#height-input"].removeEventListener("changeend",_e1764),_this1011.TC();});}},{key:"jM",value:function jM(){this.Qs.setConfig("bx-pdfoptions:widthUnit",this["#width-unit-select"].value),this.TC(),"cm"===this["#width-unit-select"].value?this["#width-input"].value=X(2.54*this["#width-input"].value,3):this["#width-input"].value=X(this["#width-input"].value/2.54,3);}},{key:"HM",value:function HM(){this.Qs.setConfig("bx-pdfoptions:heightUnit",this["#height-unit-select"].value),this.TC(),"cm"===this["#height-unit-select"].value?this["#height-input"].value=X(2.54*this["#height-input"].value,3):this["#height-input"].value=X(this["#height-input"].value/2.54,3);}},{key:"EM",value:function EM(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-pdfoptions:lockSize",this["#lock-size-button"].toggled);}},{key:"zC",value:function zC(){this.AC=!0;}},{key:"OC",value:function OC(){this.AC&&(this.AC=!1,this.Qs.setConfig("bx-pdfoptions:background",this["#background-select"].value),this.TC());}},{key:"YM",value:function YM(){this.TC(),this.Qs.setConfig("bx-pdfoptions:convertTexts",this["#convert-texts-checkbox"].toggled);}},{key:"EC",value:function EC(){this.$C();}},{key:"VM",value:function VM(t){var _this1012=this;return new Promise(/*#__PURE__*/function(){var _ref174=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee210(e){var i,_this1012$Js$board,s,n,_iterator1561,_step1561,_e1766,_i1569,_arr79,_e1765;return regeneratorRuntime.wrap(function _callee210$(_context211){while(1){switch(_context211.prev=_context211.next){case 0:_this1012.Js.offscreenBoard.setArtwork(t);_context211.next=3;return Ki(100);case 3:i=new Ip(t),_this1012$Js$board=_this1012.Js.board,s=_this1012$Js$board.geometryPrecision,n=_this1012$Js$board.transformPrecision;_iterator1561=_createForOfIteratorHelper(t.querySelectorAll("text"));_context211.prev=5;_iterator1561.s();case 7:if((_step1561=_iterator1561.n()).done){_context211.next=15;break;}_e1766=_step1561.value;_context211.t0=i.canReplaceTextWithPaths(_e1766);if(!_context211.t0){_context211.next=13;break;}_context211.next=13;return i.replaceTextWithPaths(_e1766,s,n);case 13:_context211.next=7;break;case 15:_context211.next=20;break;case 17:_context211.prev=17;_context211.t1=_context211["catch"](5);_iterator1561.e(_context211.t1);case 20:_context211.prev=20;_iterator1561.f();return _context211.finish(20);case 23:for(_i1569=0,_arr79=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1569<_arr79.length;_i1569++){_e1765=_arr79[_i1569];_e1765.remove();}_this1012.Js.offscreenBoard.clear(),e();case 25:case"end":return _context211.stop();}}},_callee210,null,[[5,17,20,23]]);}));return function(_x194){return _ref174.apply(this,arguments);};}());}},{key:"$C",value:function(){var _$C10=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee211(){var t,_e1767,_t2387,e,i,s,n,o,l;return regeneratorRuntime.wrap(function _callee211$(_context212){while(1){switch(_context212.prev=_context212.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1767=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2387=this["#view-select"].value.substring(1);_e1767=this.Js.board.currentWorkspace.querySelector("#"+_t2387);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1767);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements());e=this["#width-input"].value+this["#width-unit-select"].value,i=this["#height-input"].value+this["#height-unit-select"].value,s=this["#width-input"].value*("cm"===this["#width-unit-select"].value?37.7953:96),n=this["#height-input"].value*("cm"===this["#height-unit-select"].value?37.7953:96);t.setAttribute("width",e);t.setAttribute("height",i);t.setAttribute("preserveAspectRatio","none");t.style.background=this["#background-select"].value;t.insertAdjacentHTML("beforeEnd","<style>@page {size: ".concat(e," ").concat(i,";}</style>"));_context212.t0=this["#convert-texts-checkbox"].toggled;if(!_context212.t0){_context212.next=11;break;}_context212.next=11;return this.VM(t);case 11:o=Yp(t);_context212.next=14;return qp(o);case 14:l=_context212.sent;this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",l),this["#preview"].setAttribute("width",s),this["#preview"].setAttribute("height",n),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="",this["#preview-section"].scrollIntoViewIfNeeded();case 16:case"end":return _context212.stop();}}},_callee211,this);}));function $C(){return _$C10.apply(this,arguments);}return $C;}()},{key:"TC",value:function TC(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this1013=this;var t=this.Js.board,e=null,i=null;if("selection"===this["#area-buttons"].value)t.outermostSelectedObjectElements.length>0&&(e=Ue(t.outermostSelectedObjectElements.map(function(e){var i=Nt(e,t.currentWorkspace),s=_i(e);return Fe(s,i);})),0!==e.width&&0!==e.height||(e=null));else if("view-box"===this["#area-buttons"].value){var _s926=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_s926.length>0)if("view-tool"===this.Js.toolsDock.value){var _e1768=t.selectedElements.find(function(t){return"view"===t.localName;});_e1768&&(i=_e1768);}else{var _t2388=_s926.find(function(t){return"#"+t.id===_this1013["#view-select"].value;});_t2388&&(i=_t2388);}if(null===i)t.currentWorkspace.hasAttribute("viewBox")&&(e=Lt.fromString(t.currentWorkspace.getAttribute("viewBox")));else{var _s927=t.currentWorkspace.querySelector("#"+i.id);_s927.hasAttribute("viewBox")&&(e=Lt.fromString(_s927.getAttribute("viewBox")),0!==e.width&&0!==e.height||(e=null));}}this.exportable=!!e,this["#options-heading"].disabled=this.disabled,this["#area-heading"].disabled=this.disabled;var _iterator1562=_createForOfIteratorHelper(this["#area-buttons"].children),_step1562;try{for(_iterator1562.s();!(_step1562=_iterator1562.n()).done;){var _t2391=_step1562.value;_t2391.disabled=this.disabled;}}catch(err){_iterator1562.e(err);}finally{_iterator1562.f();}if("selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _e1769=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_e1769.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_e1769.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _t2389=["default"].concat(_toConsumableArray(_e1769.map(function(t){return"#"+t.id;}))),_s928=["Default"].concat(_toConsumableArray(_e1769.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_t2389.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_t2389.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _e1770=0;_e1770<_t2389.length;_e1770+=1){var _i1570=this["#view-menu"].children[_e1770];_i1570.value=_t2389[_e1770],_i1570.firstElementChild.textContent=_s928[_e1770];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=i?"#"+i.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}{var _t2390=100,_i1571=100;null!==e&&(_t2390="cm"===this["#width-unit-select"].value?X(e.width/37.7953,3):X(e.width/96,3),_i1571="cm"===this["#height-unit-select"].value?X(e.height/37.7953,3):X(e.height/96,3)),this["#width-heading"].disabled=null===e||this.disabled,this["#width-input"].disabled=null===e||this.disabled,this["#width-input"].value=_t2390,this["#width-unit-select"].disabled=null===e||this.disabled,this["#height-heading"].disabled=null===e||this.disabled,this["#height-input"].disabled=null===e||this.disabled,this["#height-input"].value=_i1571,this["#height-unit-select"].disabled=null===e||this.disabled,this["#lock-size-button"].disabled=null===e||this.disabled;}this["#background-heading"].disabled=null===e||this.disabled,this["#background-select"].disabled=null===e||this.disabled,this["#normalize-heading"].disabled=null===e||this.disabled,this["#convert-texts-checkbox"].disabled=null===e||this.disabled,this["#preview-heading"].disabled=null===e||this.disabled,this["#preview-button"].disabled=null===e||this.disabled;}}]);return Mf;}(pf);_defineProperty(Mf,"zM",Hi(_templateObject503()));_defineProperty(Mf,"_shadowStyleSheet",Yi(_templateObject504()));customElements.define("bx-pdfsettings",Mf);var Pf=function Pf(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var s=0;e>=100?s=.3:e>=30?s=.2:e>=10&&(s=.1);var n=X((t===i?99.99:9.99)*(1-s),2);return[new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",currencyDisplay:"code"}).format(e*n).replace("USD\xa0",""),0===s?"None":100*s+"%"];},Df=function Df(t,i){var s=null,n=!1,o=!1;return t&&(void 0!==t.subscriptionPlanID&&(null===t.cancellationEffectiveDate||new Date(t.cancellationEffectiveDate)-Date.now()>0)&&(s=t.subscriptionPlanID),void 0!==t.subscriptionPlanID&&"deleted"!==t.status||void 0!==t.orgPlanID&&(null===t.orgCancellationEffectiveDate||new Date(t.orgCancellationEffectiveDate)-Date.now()>0)&&(s=t.orgPlanID,n=!0)),null===s&&i&&(Date.now()-new Date(i.metadata.creationTime).getTime())/1e3/60/60/24<15&&(s=e,o=!0),[s,n,o];},zf=function zf(t,e,i){var s=new URL(t),n=new URLSearchParams(s.search);return null==i||""===i?n["delete"](e):n.set(e,i),s.search=n.toString(),s.href;};var Of=/*#__PURE__*/function(_HTMLElement130){_inherits(Of,_HTMLElement130);var _super219=_createSuper(Of);_createClass(Of,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Of(){var _this1014;_classCallCheck(this,Of);_this1014=_super219.call(this),_this1014._shadowRoot=_this1014.attachShadow({mode:"closed"}),_this1014._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Of._shadowStyleSheet],_this1014._shadowRoot.append(document.importNode(Of._shadowTemplate.content,!0));var _iterator1563=_createForOfIteratorHelper(_this1014._shadowRoot.querySelectorAll("[id]")),_step1563;try{for(_iterator1563.s();!(_step1563=_iterator1563.n()).done;){var t=_step1563.value;_this1014["#"+t.id]=t;}}catch(err){_iterator1563.e(err);}finally{_iterator1563.f();}_this1014["#format-select"].addEventListener("change",function(){return _this1014.Uu();}),_this1014["#main"].addEventListener("exportablechange",function(t){return _this1014.qs();}),_this1014["#export-button"].addEventListener("click",function(t){return _this1014.WM(t);});return _this1014;}_createClass(Of,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"connectedCallback",value:function connectedCallback(){this.Js=Ti(this,"bx-editor"),this.Qs=Ti(this,"#app"),this["#pdf-menu-item"].hidden=!0===this.Qs.matches("bx-chromeapp");}},{key:"tn",value:function tn(){this["#format-select"].value=this.Qs.getConfig("bx-exportpanel:format","png"),this.qM=null,this.qs();}},{key:"sn",value:function sn(){this["#format-select"].value=null,this.qM=null,this.qs();}},{key:"Uu",value:function Uu(){this.Qs.setConfig("bx-exportpanel:format",this["#format-select"].value),this.qM=null,this.qs();}},{key:"WM",value:function(){var _WM=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee212(){var _this$Qs$checkDiskWri,_this$Qs$checkDiskWri2,_t2392,_i1572,_Df,_Df2,_s929,t,i,s,n,_t2393,_t2394,_e1771,_i$margin,_e1772,_o522,_l389,_h281,_a222,_i$margin2,_e1773,_o523,_l390,_h282,_a223,_i$margin3,_e1774,_o524,_l391,_h283,_a224,_i$margin4,_e1775,_o525,_l392,_h284,_a225,_t2395,_e1777,_t2396,_e1778,_i1573,_arr80,_arr80$_i,_e1779,_i1574,_t2397,_e1780,_i1575,_s930,_i1576,_Fe,_s931,_o527,_e1776,_o526,_t2398,_e1782,_e1781,_o528,_t2399,_e1783,_t2400,_e1784,_i1577,_t2401;return regeneratorRuntime.wrap(function _callee212$(_context213){while(1){switch(_context213.prev=_context213.next){case 0:if(!("bx-webapp"===this.Qs.localName)){_context213.next=8;break;}_this$Qs$checkDiskWri=this.Qs.checkDiskWriteAccess(),_this$Qs$checkDiskWri2=_slicedToArray(_this$Qs$checkDiskWri,2),_t2392=_this$Qs$checkDiskWri2[0],_i1572=_this$Qs$checkDiskWri2[1],_Df=Df(this.Qs.userSubscription,this.Qs.user),_Df2=_slicedToArray(_Df,1),_s929=_Df2[0];if(!("rejected"===_t2392)){_context213.next=4;break;}return _context213.abrupt("return",void this.Qs.handleWriteAccessRejection(_i1572,"Can't export file"));case 4:if(!("pdf"===this["#format-select"].value&&(null===_s929||_s929===e))){_context213.next=6;break;}return _context213.abrupt("return",void this.Qs.handleWriteAccessRejection("boxy-svg/user-not-subscribed-to-premium-plan","Can't export file"));case 6:if(!this.qM){_context213.next=8;break;}return _context213.abrupt("return",(this.qM=null,void this.qs()));case 8:t=this["#format-select"].value,i=this["#main"].firstElementChild,s=null,n=null;if("view-box"===i.area){if(null===i.viewID)n=this.Js.board.extractArtworkWithViewBoxElements();else{_t2393=this.Js.board.currentWorkspace.querySelector("#"+i.viewID);n=this.Js.board.extractArtworkWithViewBoxElements(_t2393);}}else"selection"===i.area&&(n=this.Js.board.extractArtworkWithSelectedElements(i.margin||[0,0,0,0]));_t2394=null;if("view-box"===i.area){if(null===i.viewID){_t2394=this.Js.board.currentWorkspace.querySelector(":scope > bx-title");}else{_t2394=this.Js.board.currentWorkspace.querySelector("#"+i.viewID).querySelector(":scope > bx-title");}}else{_e1771=this.Js.board.outermostSelectedObjectElements;1===_e1771.length&&(_t2394=_e1771[0].querySelector(":scope > bx-title"));}_t2394&&_t2394.textContent.trim().length>0&&(s=_t2394.textContent);if(!("png"===t)){_context213.next=24;break;}_i$margin=_slicedToArray(i.margin,4),_e1772=_i$margin[0],_o522=_i$margin[1],_l389=_i$margin[2],_h281=_i$margin[3];n.setAttribute("width",i.width+_h281+_o522+"px"),n.setAttribute("height",i.height+_e1772+_l389+"px"),n.setAttribute("preserveAspectRatio","none");_context213.next=18;return tf(Yp(n),"png",{dpi:i.dpi,colors:i.colors,background:i.background});case 18:_a222=_context213.sent;_context213.next=21;return Ki(100);case 21:this.Qs.openBitmapExportDialog(_a222,t,s);_context213.next=108;break;case 24:if(!("jpeg"===t)){_context213.next=35;break;}_i$margin2=_slicedToArray(i.margin,4),_e1773=_i$margin2[0],_o523=_i$margin2[1],_l390=_i$margin2[2],_h282=_i$margin2[3];n.setAttribute("width",i.width+_h282+_o523+"px"),n.setAttribute("height",i.height+_e1773+_l390+"px"),n.setAttribute("preserveAspectRatio","none");_context213.next=29;return tf(Yp(n),"jpeg",{compression:i.compression,background:i.background});case 29:_a223=_context213.sent;_context213.next=32;return Ki(100);case 32:this.Qs.openBitmapExportDialog(_a223,t,s);_context213.next=108;break;case 35:if(!("gif"===t)){_context213.next=46;break;}_i$margin3=_slicedToArray(i.margin,4),_e1774=_i$margin3[0],_o524=_i$margin3[1],_l391=_i$margin3[2],_h283=_i$margin3[3];n.setAttribute("width",i.width+_h283+_o524+"px"),n.setAttribute("height",i.height+_e1774+_l391+"px"),n.setAttribute("preserveAspectRatio","none");_context213.next=40;return tf(Yp(n),"gif",{background:i.background,transparent:i.transparent,dithering:i.dithering});case 40:_a224=_context213.sent;_context213.next=43;return Ki(100);case 43:this.Qs.openBitmapExportDialog(_a224,t,s);_context213.next=108;break;case 46:if(!("webp"===t)){_context213.next=57;break;}_i$margin4=_slicedToArray(i.margin,4),_e1775=_i$margin4[0],_o525=_i$margin4[1],_l392=_i$margin4[2],_h284=_i$margin4[3];n.setAttribute("width",i.width+_h284+_o525+"px"),n.setAttribute("height",i.height+_e1775+_l392+"px"),n.setAttribute("preserveAspectRatio","none");_context213.next=51;return tf(Yp(n),"webp",{compression:i.compression,background:i.background});case 51:_a225=_context213.sent;_context213.next=54;return Ki(100);case 54:this.Qs.openBitmapExportDialog(_a225,t,s);_context213.next=108;break;case 57:if(!("svg"===t||"svgz"===t)){_context213.next=73;break;}_context213.t0=i.convertTextsToPaths;if(!_context213.t0){_context213.next=62;break;}_context213.next=62;return this.VM(n);case 62:if(!i.removeEmbeddedFonts){_context213.next=65;break;}_e1777=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT);for(;_t2395=_e1777.nextNode();){"style"===_t2395.localName&&_t2395.hasAttribute("data-bx-fonts")&&_t2395.remove();}case 65:if(i.removeNonStandardNamespaces){_e1778=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT);for(;_t2396=_e1778.nextNode();){_t2396.localName.includes("-")&&"bx-title"!==_t2396.localName&&_t2396.remove();for(_i1573=0,_arr80=_toConsumableArray(_t2396.attributes);_i1573<_arr80.length;_i1573++){_arr80$_i=_arr80[_i1573],_e1779=_arr80$_i.name,_i1574=_arr80$_i.value;_e1779.startsWith("data-bx-")&&_t2396.removeAttribute(_e1779);}}}if("responsive"===i.viewport)n.removeAttribute("width"),n.removeAttribute("height");else if("fixed"===i.viewport){_t2397=this.Js.board,_e1780=null,_i1575=_t2397.getComputedViewportWidth(),_s930=_t2397.getComputedViewportWidth();if(_i1575&&null!==_i1575.unit?_e1780=_i1575.unit:_s930&&null!==_s930.unit&&(_e1780=_s930.unit),null===_e1780)n.setAttribute("width",X(n.viewBox.baseVal.width,_t2397.geometryPrecision)),n.setAttribute("height",X(n.viewBox.baseVal.height,_t2397.geometryPrecision));else{_i1576=Yt(_t2397.currentWorkspace).multiply(Wt("px",_e1780)),_Fe=Fe(n.viewBox.baseVal,_i1576),_s931=_Fe.width,_o527=_Fe.height;n.setAttribute("width",X(_s931,_t2397.geometryPrecision)+_e1780),n.setAttribute("height",X(_o527,_t2397.geometryPrecision)+_e1780);}}_e1776=this.Qs.getConfig("bx-markupsettings:indentation",2),_o526=Yp(n,"xml",_e1776);_context213.next=70;return Ki(100);case 70:this.Qs.openArtworkExportDialog(_o526,t,s);_context213.next=108;break;case 73:if(!("html"===t)){_context213.next=87;break;}_context213.t1=i.convertTextsToPaths;if(!_context213.t1){_context213.next=78;break;}_context213.next=78;return this.VM(n);case 78:if(!i.removeEmbeddedFonts){_context213.next=81;break;}_e1782=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT);for(;_t2398=_e1782.nextNode();){"style"===_t2398.localName&&_t2398.hasAttribute("data-bx-fonts")&&_t2398.remove();}case 81:_e1781=this.Qs.getConfig("bx-markupsettings:indentation",2),_o528=Yp(n,"html",_e1781);_context213.next=84;return Ki(100);case 84:this.Qs.openArtworkExportDialog(_o528,t,s);_context213.next=108;break;case 87:if(!("pdf"===t)){_context213.next=108;break;}_t2399=i.width+i.widthUnit,_e1783=i.height+i.heightUnit;if(!(n.setAttribute("width",_t2399),n.setAttribute("height",_e1783),n.setAttribute("preserveAspectRatio","none"),n.style.background=i.background,n.insertAdjacentHTML("beforeEnd","\n        <style>\n          @page {\n            size: ".concat(_t2399," ").concat(_e1783,";\n          }\n          html,\n          html > body {\n            width: ").concat(_t2399,";\n            height: ").concat(_e1783,";\n            overflow: hidden;\n            margin: 0;\n            padding: 0;\n            -webkit-print-color-adjust: exact !important;\n          }\n        </style>")),"bx-webapp"===this.Qs.localName)){_context213.next=104;break;}_t2400=null,_e1784=null,_i1577=Symbol();this.qM=_i1577,this.qs();_context213.prev=92;_context213.next=95;return this.Qs.convertArtworkToPDF(n);case 95:_t2400=_context213.sent;_context213.next=101;break;case 98:_context213.prev=98;_context213.t2=_context213["catch"](92);_e1784=_context213.t2;case 101:this.qM===_i1577&&(this.qM=null,_e1784?console.log("Server error",_e1784):this.Qs.openPDFExportDialog(_t2400,s),this.qs());_context213.next=108;break;case 104:_t2401=Yp(n,"html");_context213.next=107;return Ki(100);case 107:this.Qs.openPDFExportDialog(_t2401,s);case 108:case"end":return _context213.stop();}}},_callee212,this,[[92,98]]);}));function WM(){return _WM.apply(this,arguments);}return WM;}()},{key:"VM",value:function VM(t){var _this1015=this;return new Promise(/*#__PURE__*/function(){var _ref175=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee213(e){var i,_this1015$Js$board,s,n,_iterator1564,_step1564,_e1786,_i1578,_arr81,_e1785;return regeneratorRuntime.wrap(function _callee213$(_context214){while(1){switch(_context214.prev=_context214.next){case 0:_this1015.Js.offscreenBoard.setArtwork(t);_context214.next=3;return Ki(100);case 3:i=new Ip(t),_this1015$Js$board=_this1015.Js.board,s=_this1015$Js$board.geometryPrecision,n=_this1015$Js$board.transformPrecision;_iterator1564=_createForOfIteratorHelper(t.querySelectorAll("text"));_context214.prev=5;_iterator1564.s();case 7:if((_step1564=_iterator1564.n()).done){_context214.next=15;break;}_e1786=_step1564.value;_context214.t0=i.canReplaceTextWithPaths(_e1786);if(!_context214.t0){_context214.next=13;break;}_context214.next=13;return i.replaceTextWithPaths(_e1786,s,n);case 13:_context214.next=7;break;case 15:_context214.next=20;break;case 17:_context214.prev=17;_context214.t1=_context214["catch"](5);_iterator1564.e(_context214.t1);case 20:_context214.prev=20;_iterator1564.f();return _context214.finish(20);case 23:for(_i1578=0,_arr81=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1578<_arr81.length;_i1578++){_e1785=_arr81[_i1578];_e1785.remove();}e();case 25:case"end":return _context214.stop();}}},_callee213,null,[[5,17,20,23]]);}));return function(_x195){return _ref175.apply(this,arguments);};}());}},{key:"qs",value:function(){var _qs7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee214(){var t,e;return regeneratorRuntime.wrap(function _callee214$(_context215){while(1){switch(_context215.prev=_context215.next){case 0:t=this["#format-select"].value;null===t?this["#main"].innerHTML="":null!==this["#main"].firstElementChild&&this["#main"].firstElementChild.localName==="bx-".concat(t,"settings")||(this["#main"].innerHTML="<bx-".concat(t,"settings></bx-").concat(t,"settings>"));e=this["#main"].firstElementChild;e&&(null===this.qM?(e.disabled=!1,this["#export-label"].textContent="Export",this["#export-button"].disabled=!e.exportable,this["#progress-bar"].value=-1):(e.disabled=!0,this["#export-label"].textContent="Stop",this["#export-button"].disabled=!1,this["#progress-bar"].value=null));case 4:case"end":return _context215.stop();}}},_callee214,this);}));function qs(){return _qs7.apply(this,arguments);}return qs;}()}]);return Of;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Of,"observedAttributes",["enabled"]);_defineProperty(Of,"_shadowTemplate",Hi(_templateObject505()));_defineProperty(Of,"_shadowStyleSheet",Yi(_templateObject506()));customElements.define("bx-exportpanel",Of);var Ef=Symbol();var Tf=/*#__PURE__*/function(_HTMLElement131){_inherits(Tf,_HTMLElement131);var _super220=_createSuper(Tf);_createClass(Tf,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Tf(){var _this1016;_classCallCheck(this,Tf);_this1016=_super220.call(this),_this1016._shadowRoot=_this1016.attachShadow({mode:"closed"}),_this1016._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Tf._shadowStyleSheet],_this1016._shadowRoot.append(document.importNode(Tf._shadowTemplate.content,!0));var _iterator1565=_createForOfIteratorHelper(_this1016._shadowRoot.querySelectorAll("[id]")),_step1565;try{for(_iterator1565.s();!(_step1565=_iterator1565.n()).done;){var t=_step1565.value;_this1016["#"+t.id]=t;}}catch(err){_iterator1565.e(err);}finally{_iterator1565.f();}_this1016["#items"].addEventListener("click",function(t){return _this1016.qc(t);}),_this1016["#undo-button"].addEventListener("click",function(){return _this1016.XM();}),_this1016["#redo-button"].addEventListener("click",function(){return _this1016.ZM();}),_this1016["#clear-button"].addEventListener("click",function(){return _this1016.Nx();}),_this1016["#slider"].addEventListener("changestart",function(){return _this1016.KM();});return _this1016;}_createClass(Tf,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this1017=this;this.Js.board.undoManager.addEventListener("change",this.QM=function(t){_this1017.JM(t);}),this.qs(),this.bu();}},{key:"sn",value:function sn(){this.Js.board.undoManager.removeEventListener("change",this.QM),this["#items"].innerHTML="";}},{key:"JM",value:function JM(t){this.qs();}},{key:"qc",value:function qc(t){var e=t.target.closest(".item"),i=this.Js.board.undoManager;if(e&&!1===e.hasAttribute("data-selected")){var _t2402=Oi(e)+1;if(_t2402<i.position)for(;_t2402<i.position&&i.canUndo();){i.undo();}else if(_t2402>i.position)for(;_t2402>i.position&&i.canRedo();){i.redo();}}}},{key:"XM",value:function XM(){this.Js.board.undoManager.undo();}},{key:"ZM",value:function ZM(){this.Js.board.undoManager.redo();}},{key:"Nx",value:function(){var _Nx=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee215(){return regeneratorRuntime.wrap(function _callee215$(_context216){while(1){switch(_context216.prev=_context216.next){case 0:_context216.next=2;return this.Qs.openMessageDialog({type:"question",buttons:["Clear","Cancel"],title:"Confirm",message:"Clear history",detail:"This action can't be reverted."});case 2:_context216.t0=_context216.sent;if(!(0===_context216.t0)){_context216.next=5;break;}this.Js.board.undoManager.clear();case 5:case"end":return _context216.stop();}}},_callee215,this);}));function Nx(){return _Nx.apply(this,arguments);}return Nx;}()},{key:"KM",value:function KM(){var _this1018=this;var t,_e1787,i=this.Js.board.undoManager;this["#slider"].addEventListener("change",t=function t(){var t=_this1018["#slider"].value;if(t<i.position)for(;t<i.position&&i.canUndo();){i.undo();}else if(t>i.position)for(;t>i.position&&i.canRedo();){i.redo();}}),this["#slider"].addEventListener("changeend",_e1787=function e(){_this1018["#slider"].removeEventListener("change",t),_this1018["#slider"].removeEventListener("changeend",_e1787);});}},{key:"bu",value:function bu(){var t=this["#items"].querySelector(":scope > [data-selected]");t&&Ai(t);}},{key:"qs",value:function qs(){var t=this.Js.board.undoManager,e=t.groups.length;for(;this["#items"].childElementCount>e;){this["#items"].lastElementChild.remove();}if(this["#items"].childElementCount<e){var _t2403="";for(var _i1579=this["#items"].childElementCount;_i1579<e;_i1579+=1){_t2403+='<div class="item"></div>';}this["#items"].insertAdjacentHTML("beforeend",_t2403);}{var _i1580=t.position-1;for(var _s932=0;_s932<e;_s932+=1){var _e1788=t.groups[_s932],_n665=this["#items"].children[_s932];_n665[Ef]!==_e1788&&(_n665[Ef]=_e1788,_n665.textContent=_e1788.label),_s932===_i1580?_n665.setAttribute("data-selected",""):_n665.removeAttribute("data-selected");}}this["#undo-button"].disabled=!1===t.canUndo(),this["#redo-button"].disabled=!1===t.canRedo(),this["#clear-button"].disabled=!1===t.canUndo()&&!1===t.canRedo(),0===e?(this["#slider"].disabled=!0,this["#slider"].min=0,this["#slider"].max=1,this["#slider"].value=0):(this["#slider"].disabled=!1,this["#slider"].min=0,this["#slider"].max=e,this["#slider"].value=t.position),this["#placeholder"].hidden=this["#items"].childElementCount>0;}}]);return Tf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Tf,"observedAttributes",["enabled"]);_defineProperty(Tf,"_shadowTemplate",Hi(_templateObject507()));_defineProperty(Tf,"_shadowStyleSheet",Yi(_templateObject508()));customElements.define("bx-historypanel",Tf);R.map(function(t){return t.presentationAttributeName;}).filter(function(t){return t;});var Af=function Af(t){var e=t.indexOf("="),i=-1===e?t:t.substring(0,e),s=-1===e?"":t.substring(e+1);return i=i.trim(),s=s.trim(),s.length<2||'"'!==s[0]&&"'"!==s[0]||s[0]!==s[s.length-1]?["",""]:(s=s.substr(1,s.length-2),[i,s]);},$f=Math.floor,If=Math.ceil,Lf=Number.isNaN,Bf=Symbol(),Rf='<span class="attribute" spellcheck="false"><span class="name"></span>="<span class="value"></span><span class="ellipsis" hidden>...</span>"</span>';var Gf=/*#__PURE__*/function(_HTMLElement132){_inherits(Gf,_HTMLElement132);var _super221=_createSuper(Gf);_createClass(Gf,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"selectedNodes",get:function get(){return this.eh;},set:function set(t){this.eh=t,this.tP();}},{key:"outermostSelectedNodes",get:function get(){return this.eP();}}]);function Gf(){var _temp50,_this1019;_classCallCheck(this,Gf);(_temp50=_this1019=_super221.call(this),_defineProperty(_assertThisInitialized(_this1019),"commands",{selectAll:{exec:function exec(){return _this1019.fd();}},deselectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this1019.zd();}}}),_temp50),_this1019.tabIndex=1,_this1019.eh=[],_this1019.iP=[],_this1019.sP=null,_this1019.nP=!1,_this1019.oP=_this1019.oP.bind(_assertThisInitialized(_this1019)),_this1019._shadowRoot=_this1019.attachShadow({mode:"closed"}),_this1019._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Gf._shadowStyleSheet],_this1019._shadowRoot.append(document.importNode(Gf._shadowTemplate.content,!0));var _iterator1566=_createForOfIteratorHelper(_this1019._shadowRoot.querySelectorAll("[id]")),_step1566;try{for(_iterator1566.s();!(_step1566=_iterator1566.n()).done;){var t=_step1566.value;_this1019["#"+t.id]=t;}}catch(err){_iterator1566.e(err);}finally{_iterator1566.f();}_this1019.addEventListener("keydown",function(t){return _this1019.vn(t);}),_this1019["#tree"].addEventListener("dragstart",function(t){return _this1019.Gw(t);}),_this1019._shadowRoot.addEventListener("contextmenu",function(t){return _this1019.Ks(t);}),_this1019._shadowRoot.addEventListener("pointerdown",function(t){return _this1019.qu(t);}),_this1019._shadowRoot.addEventListener("click",function(t){return _this1019.lP(t);}),_this1019._shadowRoot.addEventListener("dblclick",function(t){return _this1019.hP(t);});return _this1019;}_createClass(Gf,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this1020=this;this.aP();var t=this.Js.board;t.addEventListener("selectedelementschange",this.Ko=function(){_this1020.rP();}),t.addEventListener("currentworkspacechange",this.Cx=function(){_this1020.aP();}),t.addEventListener("workspacemutation",this.rn=function(t){_this1020.il(t.detail);});}},{key:"sn",value:function sn(){this.iP=[],this["#tree"].innerHTML="";var t=this.Js.board;t.removeEventListener("selectedelementschange",this.Ko),t.removeEventListener("currentworkspacechange",this.Cx),t.removeEventListener("workspacemutation",this.rn);}},{key:"il",value:function il(t){var _this1021=this;var _iterator1567=_createForOfIteratorHelper(t),_step1567;try{var _loop42=function _loop42(){var e=_step1567.value;if("attributes"===e.type){_this1021.iP.find(function(t){return"attributes"===t.type&&t.target===e.target&&t.attributeName===e.attributeName;})||_this1021.iP.push(e);}else if("characterData"===e.type){_this1021.iP.find(function(t){return"characterData"===t.type&&t.target===e.target;})||_this1021.iP.push(e);}else"childList"===e.type&&_this1021.iP.push(e);};for(_iterator1567.s();!(_step1567=_iterator1567.n()).done;){_loop42();}}catch(err){_iterator1567.e(err);}finally{_iterator1567.f();}requestIdleCallback(this.oP);}},{key:"oP",value:function oP(t){var _this1022=this;var _loop43=function _loop43(){var t=_this1022.iP.shift(),e=_toConsumableArray(_this1022["#tree"].querySelectorAll(".item")).find(function(e){return e[Bf]===t.target;});e&&("childList"===t.type?(_this1022.dP(e),_this1022.cP(e,t)):"attributes"===t.type?_this1022.pP(e,t.attributeName,!0):"characterData"===t.type&&_this1022.uP(e));};for(;t.timeRemaining()>10&&this.iP.length>0;){_loop43();}this.iP.length>0&&requestIdleCallback(this.oP);}},{key:"tP",value:function tP(){var _iterator1568=_createForOfIteratorHelper(this["#tree"].querySelectorAll(".item:not([hidden])")),_step1568;try{for(_iterator1568.s();!(_step1568=_iterator1568.n()).done;){var t=_step1568.value;this.selectedNodes.includes(t[Bf])?t.setAttribute("data-selected",""):t.removeAttribute("data-selected");}}catch(err){_iterator1568.e(err);}finally{_iterator1568.f();}this.dispatchEvent(new CustomEvent("selectednodeschange"));}},{key:"rP",value:function rP(){var _this1023=this;if(!0===this.nP)return void(this.nP=!1);var t=this.Js.board;if(0===t.selectedElements.length)this.selectedNodes=t.currentContainer?[]:[t.currentWorkspace];else{var _iterator1569=_createForOfIteratorHelper(t.selectedElements),_step1569;try{for(_iterator1569.s();!(_step1569=_iterator1569.n()).done;){var _e1789=_step1569.value;var _i1581=[];for(var _s934=_e1789.parentElement;_s934!==t.workspaces;_s934=_s934.parentElement){"g"!==_s934.localName&&"a"!==_s934.localName||_i1581.push(_s934);}var _s933=this["#tree"];for(;_i1581.length>0;){var _t2404=_i1581.pop();var _iterator1570=_createForOfIteratorHelper(_s933.children),_step1570;try{for(_iterator1570.s();!(_step1570=_iterator1570.n()).done;){var _e1790=_step1570.value;if(_e1790[Bf]===_t2404){this.Ww(_e1790),_s933=_e1790.querySelector(".subtree");break;}}}catch(err){_iterator1570.e(err);}finally{_iterator1570.f();}}}}catch(err){_iterator1569.e(err);}finally{_iterator1569.f();}this.selectedNodes=_toConsumableArray(t.selectedElements);}if(this.selectedNodes.length>0){var _t2405=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])"));var _loop44=function _loop44(_e1791){var i=_this1023.selectedNodes[_e1791],s=_t2405.find(function(t){return t[Bf]===i;});if(s){_this1023.xP(s);return"break";}};for(var _e1791=this.selectedNodes.length-1;_e1791>=0;_e1791-=1){var _ret3=_loop44(_e1791);if(_ret3==="break")break;}}}},{key:"qu",value:function qu(t){if(!1===t.target.matches(".icon")&&!1===t.target.matches(".ellipsis")&&t.target!==this["#main"]){var _e1792;_e1792=t.target.matches("#tree, #tree .subtree")?this.bP(t.clientY):t.target.closest("#tree .item");{var _t2406=_e1792[Bf],_i1582=_toConsumableArray(this.selectedNodes),_this$Qs$modKeys27=this.Qs.modKeys,_s935=_this$Qs$modKeys27.ctrl,_n666=_this$Qs$modKeys27.shift;if(_s935||_n666){if(_s935&&!_n666)_i1582=[_t2406];else if(_s935&&_n666)_i1582.includes(_t2406)?_i1582=_i1582.filter(function(e){return e!==_t2406;}):_i1582.push(_t2406);else if(!_s935&&_n666)if(0===_i1582.length)_i1582=[_t2406];else{var _t2407=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s936=_e1792,_n667=_t2407.indexOf(_s936),_o529=_i1582[_i1582.length-1],_l393=_t2407.find(function(t){return t[Bf]===_o529;}),_h285=_t2407.indexOf(_l393);if(_n667<_h285){var _loop45=function _loop45(_e1793){var s=_t2407[_e1793][Bf];_i1582.includes(s)&&(_i1582=_i1582.filter(function(t){return t!==s;})),_i1582.push(s);};for(var _e1793=_h285-1;_e1793>=_n667;_e1793-=1){_loop45(_e1793);}}else if(_n667>_h285){var _loop46=function _loop46(_e1794){var s=_t2407[_e1794][Bf];_i1582.includes(s)&&(_i1582=_i1582.filter(function(t){return t!==s;})),_i1582.push(s);};for(var _e1794=_h285+1;_e1794<=_n667;_e1794+=1){_loop46(_e1794);}}}}else!1===_i1582.includes(_t2406)&&(_i1582=[_t2406]);this.selectedNodes=_i1582;}{var _t2408=this.Js.board,_e1795=this.selectedNodes.filter(function(e){return _t2408.isSelectableElement(e);}),_i1583=_e1795[0],_s937=null;if(_i1583)for(var _e1796=_i1583.parentElement;_e1796!==_t2408.currentWorkspace;_e1796=_e1796.parentElement){if("g"===_e1796.localName||"a"===_e1796.localName){_s937=_e1796;break;}}this.nP=!0,_t2408.currentContainer=_s937,_t2408.selectedElements=_e1795;}}}},{key:"lP",value:function lP(t){if(t.target.matches(".icon")){var _e1797=t.target.closest(".item");0===t.button&&(_e1797.hasAttribute("data-expanded")?this.Yw(_e1797):this.Ww(_e1797));}else if(t.target.matches(".ellipsis")){var _e1798=t.target.closest(".item"),_i1584=t.target.closest(".attribute").dataset.name;this.mP(_e1798,_i1584);}}},{key:"Gw",value:function Gw(t){var _this1024=this;var e,_i1586,s,n,o=null,l=this["#tree"].querySelector(".item");if(this["#tree"].querySelector("*[contenteditable]"))return;t.dataTransfer.setDragImage(Di("span"),0,0);var h=function h(t,e){var i=_this1024.bP(e),s=null;if(i){if(i.hasAttribute("data-expanded")){var _t2409=i.querySelector(".tag").getBoundingClientRect();s=e<_t2409.y+_t2409.height/2?"beforebegin":"afterbegin";}else{var _n668=i.getBoundingClientRect();for(;null===i.nextElementSibling&&t<_n668.x;){var _t2410=i.parentElement.closest(".item");if(!_t2410||_t2410===l)break;i=_t2410,_n668=i.getBoundingClientRect();}s=e<_n668.y+_n668.height/2?"beforebegin":0===i[Bf].childNodes.length&&t>_n668.x+22&&_this1024.gP(_this1024.eP(),i[Bf],"afterbegin")?"afterbegin":"afterend";}!1===_this1024.gP(_this1024.eP(),i[Bf],s)&&(i=null,s=null);}return[i,s];};window.addEventListener("dragover",e=function e(t){if(s===t.clientX&&n===t.clientY)return;var e=t.clientX,i=t.clientY,_h286=h(e,i),_h287=_slicedToArray(_h286,2),l=_h287[0],a=_h287[1];s=e,n=i,o&&(o.removeAttribute("data-dragover"),o=null),l&&(l.setAttribute("data-dragover",a),o=l);}),window.addEventListener("dragend",_i1586=function i(t){window.removeEventListener("dragover",e),window.removeEventListener("dragend",_i1586),o&&o.removeAttribute("data-dragover");var s=t.clientX,n=t.clientY,_h288=h(s,n),_h289=_slicedToArray(_h288,2),l=_h289[0],a=_h289[1],r=_this1024.Js.board;if(l){r.undoManager.checkpoint("Move element(s)");{var _t2411=document.createDocumentFragment();var _iterator1571=_createForOfIteratorHelper(Li(_this1024.eP())),_step1571;try{for(_iterator1571.s();!(_step1571=_iterator1571.n()).done;){var _e1799=_step1571.value;_t2411.append(_e1799);}}catch(err){_iterator1571.e(err);}finally{_iterator1571.f();}"beforebegin"===a?l[Bf].before(_t2411):"afterend"===a?l[Bf].after(_t2411):"afterbegin"===a&&(l[Bf].prepend(_t2411),_this1024.Ww(l));}{var _t2412=_this1024.selectedNodes.filter(function(t){return r.isSelectableElement(t);})[0],_e1800=null;if(_t2412)for(var _i1585=_t2412.parentElement;_i1585!==r.currentWorkspace;_i1585=_i1585.parentElement){if("g"===_i1585.localName||"a"===_i1585.localName){_e1800=_i1585;break;}}_this1024.nP=!0,r.currentContainer=_e1800,r.selectedTextRange=null;}}});}},{key:"hP",value:function hP(t){var e=t.target.closest(".item");if(e)if("element"===e.getAttribute("data-type")){if(t.target.matches(".attribute, .attribute *")){var _e1801=t.target.closest(".attribute");if(!1===_e1801.hasAttribute("disabled")){var _i1587=t.target.closest(".item"),_s938=_e1801.dataset.name;this.fP(_i1587,_s938);}}else if(t.target.matches(".tag-name, .opening-bracket, .attributes:empty + .closing-bracket")&&!1===t.target.hasAttribute("disabled")){var _e1802=t.target.closest(".item");this.wP(_e1802);}}else"text"===e.getAttribute("data-type")&&t.target.matches(".content")&&this.vP(e);}},{key:"Ks",value:function(){var _Ks2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee216(t){var e,i,_i1588,_t2413,_e1803,_i1590,_iterator1572,_step1572,_step1572$value,_e1804,_i1591,_e1805,_iterator1573,_step1573,_step1573$value,_t2414,_i1592,_iterator1574,_step1574,_e1806,_i1589;return regeneratorRuntime.wrap(function _callee216$(_context217){while(1){switch(_context217.prev=_context217.next){case 0:e=t.target.closest(".item"),i=t.target.matches("[contenteditable]");if(!(e&&"element"===e.getAttribute("data-type")&&!1===i)){_context217.next=7;break;}t.preventDefault();_context217.next=5;return this.Qs.openContextMenu([{label:"Copy outer SVG",value:"copy-outer-svg"},{label:"Add Attribute",value:"add-attribute"}]);case 5:_i1588=_context217.sent;if("add-attribute"===_i1588)this.yP(e);else if("copy-outer-svg"===_i1588){_t2413=null,_e1803=!0;if(this.eP()[0].hasAttribute("data-bx-workspace")){_i1590=this.eP()[0].getAttribute("data-bx-workspace");if("master"===_i1590){_t2413=Di("svg:svg"),_t2413.innerHTML=this.eP()[0].innerHTML;_iterator1572=_createForOfIteratorHelper(this.eP()[0].attributes);try{for(_iterator1572.s();!(_step1572=_iterator1572.n()).done;){_step1572$value=_step1572.value,_e1804=_step1572$value.name,_i1591=_step1572$value.value;"data-bx-workspace"!==_e1804&&_t2413.setAttribute(_e1804,_i1591);}}catch(err){_iterator1572.e(err);}finally{_iterator1572.f();}_e1803=!1;}else{_t2413=Di("svg:svg");_e1805=Di("svg:"+_i1590);_e1805.innerHTML=this.eP()[0].innerHTML,_t2413.append(_e1805);_iterator1573=_createForOfIteratorHelper(this.eP()[0].attributes);try{for(_iterator1573.s();!(_step1573=_iterator1573.n()).done;){_step1573$value=_step1573.value,_t2414=_step1573$value.name,_i1592=_step1573$value.value;"data-bx-workspace"!==_t2414&&_e1805.setAttribute(_t2414,_i1592);}}catch(err){_iterator1573.e(err);}finally{_iterator1573.f();}}}else{_t2413=Di("svg:svg");_iterator1574=_createForOfIteratorHelper(this.eP());try{for(_iterator1574.s();!(_step1574=_iterator1574.n()).done;){_e1806=_step1574.value;_t2413.append(_e1806.cloneNode(!0));}}catch(err){_iterator1574.e(err);}finally{_iterator1574.f();}}Xp(_t2413,"xml"),ua(_t2413,2,_e1803?0:1);_i1589=_e1803?_t2413.innerHTML:_t2413.outerHTML;_i1589=ii(_i1589,"url(&quot;","url("),_i1589=ii(_i1589,"&quot;)",")"),clipboard.writeText(_i1589);}case 7:case"end":return _context217.stop();}}},_callee216,this);}));function Ks(_x196){return _Ks2.apply(this,arguments);}return Ks;}()},{key:"vn",value:function vn(t){var e=to.fromEvent(t);if(e.matches("Enter")){t.preventDefault(),t.stopPropagation();var _e1807=this["#tree"].querySelectorAll(".item[data-selected]:not([hidden])");if(1===_e1807.length){var _t2415=_e1807[0];"element"===_t2415.getAttribute("data-type")?this.kP(_t2415):"text"===_t2415.getAttribute("data-type")&&this.vP(_t2415);}}else if(e.matches("Backspace")||e.matches("Delete"))t.stopPropagation(),this.SP();else if(e.matches("Tab")){t.preventDefault(),t.stopPropagation();var _e1808=this["#tree"].querySelectorAll(".item[data-selected]:not([hidden])");if(_e1808.length>0){var _t2416=[],_i1593="\n          :scope > .tag > .tag-name:not([disabled]),\n          :scope > .tag > .attributes > .attribute:not([disabled])\n        ";var _iterator1575=_createForOfIteratorHelper(_e1808),_step1575;try{for(_iterator1575.s();!(_step1575=_iterator1575.n()).done;){var _s940=_step1575.value;_t2416=[].concat(_toConsumableArray(_t2416),_toConsumableArray(_s940.querySelectorAll(_i1593)));}}catch(err){_iterator1575.e(err);}finally{_iterator1575.f();}var _s939=_t2416.find(function(t){return t.matches("[contenteditable]");}),_n669=_s939?_t2416.indexOf(_s939):-1,_o530=_t2416[_n669+1]||_t2416[0]||null;if(_o530){var _t2417=_o530.closest(".item");_o530.matches(".attribute")?this.fP(_t2417,_o530.getAttribute("data-name")):_o530.matches(".tag-name")&&this.wP(_t2417);}}}else if(e.matches("Shift","Tab")){t.preventDefault(),t.stopPropagation();var _e1809=this["#tree"].querySelectorAll(".item[data-selected]:not([hidden])");if(_e1809.length>0){var _t2418=[];var _iterator1576=_createForOfIteratorHelper(_e1809),_step1576;try{for(_iterator1576.s();!(_step1576=_iterator1576.n()).done;){var _i1595=_step1576.value;_t2418=[].concat(_toConsumableArray(_t2418),_toConsumableArray(_i1595.querySelectorAll(".tag-name, .attribute")));}}catch(err){_iterator1576.e(err);}finally{_iterator1576.f();}var _i1594=_t2418.find(function(t){return t.matches("[contenteditable]");}),_s941=_i1594?_t2418.indexOf(_i1594):-1,_n670=_t2418[_s941-1]||_t2418[_t2418.length-1]||null;if(_n670){var _t2419=_n670.closest(".item");_n670.matches(".attribute")?this.fP(_t2419,_n670.getAttribute("data-name")):_n670.matches(".tag-name")&&this.wP(_t2419);}}}else e.matches("ArrowLeft")?(t.stopPropagation(),this._P()):e.matches("ArrowRight")?(t.stopPropagation(),this.CP()):e.matches("ArrowDown")?(t.stopPropagation(),this.Pu(!1)):e.matches("ArrowUp")?(t.stopPropagation(),this.Mu(!1)):e.matches("Shift","ArrowDown")?(t.stopPropagation(),this.Pu(!0)):e.matches("Shift","ArrowUp")&&(t.stopPropagation(),this.Mu(!0));}},{key:"Zw",value:function Zw(t,e){var i=null;return"element"===t?(i=Hi(_templateObject79(),'<div class="item" data-type="element" draggable="true"><svg class="icon" preserveAspectRatio="none" viewBox="0 0 100 100" width="9px" height="10px"><path d="M 0 0 L 100 50 L 0 100 Z"></path></svg><div class="tag"><span class="opening-bracket">&lt</span><span class="tag-name" spellcheck="false">svg</span><span class="attributes"></span><span class="closing-bracket">&gt</span></div><div class="subtree"></div></div>'),i[Bf]=e,this.dP(i),this.MP(i),this.PP(i)):"text"===t&&(i=Hi(_templateObject80(),'<div class="item" data-type="text"><span class="content" spellcheck="false"></span></div>'),i[Bf]=e,this.uP(i)),i;}},{key:"Ww",value:function Ww(t){if(!1===t.hasAttribute("data-expanded")){var _e1810=t.querySelector(".subtree");var _iterator1577=_createForOfIteratorHelper(t[Bf].childNodes),_step1577;try{for(_iterator1577.s();!(_step1577=_iterator1577.n()).done;){var _i1596=_step1577.value;var _t2420=null;if(_i1596.nodeType===document.ELEMENT_NODE?_t2420="element":_i1596.nodeType===document.TEXT_NODE&&(_t2420="text"),_t2420){var _s942=this.Zw(_t2420,_i1596);"text"===_t2420&&ba(_i1596.textContent)&&_s942.setAttribute("hidden",""),_e1810.append(_s942),this.selectedNodes.includes(_i1596)&&_s942.setAttribute("data-selected","");}}}catch(err){_iterator1577.e(err);}finally{_iterator1577.f();}_e1810.childElementCount>0&&t.setAttribute("data-expanded","");}}},{key:"Yw",value:function Yw(t){t.hasAttribute("data-expanded")&&(t.querySelector(".subtree").innerHTML="",t.removeAttribute("data-expanded"),this.dP(t));}},{key:"CP",value:function CP(){var t=this["#tree"].querySelectorAll(".item[data-selected]");1===t.length&&"element"===t[0].getAttribute("data-type")&&this.Ww(t[0]);}},{key:"_P",value:function _P(){var t=this["#tree"].querySelectorAll(".item[data-selected]");1===t.length&&"element"===t[0].getAttribute("data-type")&&this.Yw(t[0]);}},{key:"Mu",value:function Mu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.Js.board;if(!1===t){var _t2421=this.selectedNodes.length>0?this.selectedNodes[this.selectedNodes.length-1]:null,_i1597=null;if(_t2421){var _e1811=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s943=_e1811.find(function(e){return e[Bf]===_t2421;}),_n671=_e1811.indexOf(_s943);_e1811[_n671-1]&&(_i1597=_e1811[_n671-1]);}if(_i1597){this.xP(_i1597);var _t2422=_i1597[Bf];this.selectedNodes=[_t2422];var _s944=null,_n672=[];if(e.isSelectableElement(_t2422)){for(var _i1598=_t2422.parentElement;_i1598!==e.currentWorkspace;_i1598=_i1598.parentElement){if("g"===_i1598.localName||"a"===_i1598.localName){_s944=_i1598;break;}}_n672=[_t2422];}this.nP=!0,e.currentContainer=_s944,e.selectedElements=_n672;}}else if(!0===t){var _t2423=_toConsumableArray(this.selectedNodes);if(_t2423.length>0){var _i1599=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s945=_t2423[_t2423.length-1],_n673=_i1599.find(function(t){return t[Bf]===_s945;}),_o531=_i1599.indexOf(_n673);if(_o531>0)for(var _s946=_o531-1;_s946>=0;_s946-=1){var _n674=_i1599[_s946][Bf];if(!1===_t2423.includes(_n674)){this.selectedNodes=[].concat(_toConsumableArray(_t2423),[_n674]),e.isSelectableElement(_n674)&&(this.nP=!0,e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_n674]));break;}}}}}},{key:"Pu",value:function Pu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.Js.board;if(!1===t){var _t2424=this.selectedNodes.length>0?this.selectedNodes[this.selectedNodes.length-1]:null,_i1600=null;if(_t2424){var _e1812=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s947=_e1812.find(function(e){return e[Bf]===_t2424;}),_n675=_e1812.indexOf(_s947);_e1812[_n675+1]&&(_i1600=_e1812[_n675+1]);}if(_i1600){this.xP(_i1600);var _t2425=_i1600[Bf];this.selectedNodes=[_t2425];var _s948=null,_n676=[];if(e.isSelectableElement(_t2425)){for(var _i1601=_t2425.parentElement;_i1601!==e.currentWorkspace;_i1601=_i1601.parentElement){if("g"===_i1601.localName||"a"===_i1601.localName){_s948=_i1601;break;}}_n676=[_t2425];}this.nP=!0,e.currentContainer=_s948,e.selectedElements=_n676;}}else if(!0===t){var _t2426=_toConsumableArray(this.selectedNodes);if(_t2426.length>0){var _i1602=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s949=_t2426[_t2426.length-1],_n677=_i1602.find(function(t){return t[Bf]===_s949;}),_o532=_i1602.indexOf(_n677);if(_o532<_i1602.length-1)for(var _s950=_o532+1;_s950<_i1602.length;_s950+=1){var _n678=_i1602[_s950][Bf];if(!1===_t2426.includes(_n678)){this.selectedNodes=[].concat(_toConsumableArray(_t2426),[_n678]),e.isSelectableElement(_n678)&&(this.nP=!0,e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_n678]));break;}}}}}},{key:"xP",value:function xP(t){var e=this["#main"].scrollTop,i=t.getBoundingClientRect().top-this["#tree"].getBoundingClientRect().top;if(i-e<0)this["#main"].scrollTop=i;else if(t.hasAttribute("data-expanded")){var _s951=t.querySelector(".tag").getBoundingClientRect().height;i+_s951-e>this["#main"].clientHeight&&(this["#main"].scrollTop=i+_s951-this["#main"].clientHeight);}else i+t.clientHeight-e>this["#main"].clientHeight&&(this["#main"].scrollTop=i+t.clientHeight-this["#main"].clientHeight);}},{key:"SP",value:function SP(){var _this1025=this;var t=this.Js.board,e=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),i=Li(this.eP());if(i=i.filter(function(t){return"g"!==t.localName||!t.hasAttribute("data-bx-workspace");}),i.length>0){var _loop47=function _loop47(){var t=_this1025["#tree"].querySelector(".item[data-selected]");if(!i.find(function(e){return e.contains(t[Bf]);}))return"break";if(_this1025.Pu(),t===_this1025["#tree"].querySelector(".item[data-selected]"))return"break";};for(t.undoManager.checkpoint("Delete");;){var _ret4=_loop47();if(_ret4==="break")break;}var _loop48=function _loop48(){var t=_this1025["#tree"].querySelector(".item[data-selected]");if(!i.find(function(e){return e.contains(t[Bf]);}))return"break";if(_this1025.Mu(),t===_this1025["#tree"].querySelector(".item[data-selected]"))return"break";};for(;;){var _ret5=_loop48();if(_ret5==="break")break;}var _iterator1578=_createForOfIteratorHelper(i),_step1578;try{var _loop49=function _loop49(){var t=_step1578.value;t.remove();var i=e.find(function(e){return e[Bf]===t;});i&&i.remove();};for(_iterator1578.s();!(_step1578=_iterator1578.n()).done;){_loop49();}}catch(err){_iterator1578.e(err);}finally{_iterator1578.f();}}}},{key:"gP",value:function gP(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"afterend";var s=!0;if(0===t.length)s=!1;else{var _iterator1579=_createForOfIteratorHelper(t),_step1579;try{for(_iterator1579.s();!(_step1579=_iterator1579.n()).done;){var _n679=_step1579.value;if(!1===this.DP(_n679,e,i)){s=!1;break;}}}catch(err){_iterator1579.e(err);}finally{_iterator1579.f();}}return s;}},{key:"DP",value:function DP(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"afterend";if(e.parentNode===this.Js.board.workspaces)return!1;if(t.contains(e))return!1;if("beforebegin"===i){if(!1===this.zP(e.parentNode).includes(t.nodeName))return!1;if(e.previousSibling&&e.previousSibling===t)return!1;}else if("afterend"===i){if(!1===this.zP(e.parentNode).includes(t.nodeName))return!1;if(e.nextSibling&&e.nextSibling===t)return!1;}else if("afterbegin"===i){if(!1===this.zP(e).includes(t.nodeName))return!1;if(e.firstChild&&e.firstChild===t)return!1;}else if("beforeend"===i){if(!1===this.zP(e).includes(t.nodeName))return!1;if(e.lastChild&&e.lastChild===t)return!1;}return!0;}},{key:"fd",value:function fd(){var t=this._shadowRoot.querySelector("[contenteditable]"),e=t?t.closest(".item"):null;if(t&&e)if("element"===e.getAttribute("data-type")){if(t.matches(".tag-name")||t.matches(".attribute")){var _e1813=new Range();_e1813.selectNodeContents(t);var _i1603=window.getSelection();_i1603.removeAllRanges(),_i1603.addRange(_e1813);}}else if("text"===e.getAttribute("data-type")){var _e1814=new Range();_e1814.selectNodeContents(t);var _i1604=window.getSelection();_i1604.removeAllRanges(),_i1604.addRange(_e1814);}}},{key:"zd",value:function zd(){var t=window.getSelection();if(t.rangeCount>0){t.getRangeAt(0).collapse(!0);}}},{key:"vP",value:function vP(t){var _this1026=this;var e,i,s,n=t.querySelector(".content"),o=n.textContent,l=t[Bf],h=this.Js.board,a=!0;n.hasAttribute("contenteditable")||(n.setAttribute("contenteditable",""),n.part.add("input"),n.focus(),this.fd(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0})),n.addEventListener("keydown",e=function e(t){var e=to.fromEvent(t);(e.matches("Enter")||e.matches("Escape")||e.matches("Backspace")||e.matches("Delete")||e.matches("ArrowLeft")||e.matches("ArrowRight")||e.matches("ArrowUp")||e.matches("ArrowDown")||e.matches("Shift","ArrowLeft")||e.matches("Shift","ArrowRight")||e.matches("Shift","ArrowUp")||e.matches("Shift","ArrowDown"))&&t.stopPropagation(),e.matches("Enter")?(t.preventDefault(),_this1026.focus()):e.matches("Escape")&&(a=!0,_this1026.focus());}),n.addEventListener("input",i=function i(){a=!1;}),n.addEventListener("blur",s=function(_s952){function s(){return _s952.apply(this,arguments);}s.toString=function(){return _s952.toString();};return s;}(function(){if(n.removeEventListener("blur",s),n.removeEventListener("keydown",e),n.removeEventListener("input",i),n.removeAttribute("contenteditable"),n.removeAttribute("data-invalid"),n.part.remove("input"),n.part.remove("invalid-input"),_this1026.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),a)n.textContent=o;else{h.undoManager.checkpoint("Text content");n.textContent;l.textContent=n.textContent;}})));}},{key:"wP",value:function wP(t){var _this1027=this;var e,i,s,n=t.querySelector(".tag-name"),o=n.textContent,l=t[Bf],h=this.Js.board,a=!0;if(n.hasAttribute("contenteditable"))return;n.setAttribute("contenteditable",""),n.part.add("input"),n.focus(),this.fd(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));var r=function r(t){var e=t;return"title"===t?e="bx-title":t.startsWith("bx:")&&(e=t.replace("bx:","bx-")),e;};n.addEventListener("keydown",e=function e(t){var e=to.fromEvent(t);(e.matches("Enter")||e.matches("Escape")||e.matches("Backspace")||e.matches("Delete")||e.matches("ArrowLeft")||e.matches("ArrowRight")||e.matches("ArrowUp")||e.matches("ArrowDown")||e.matches("Shift","ArrowLeft")||e.matches("Shift","ArrowRight")||e.matches("Shift","ArrowUp")||e.matches("Shift","ArrowDown"))&&t.stopPropagation(),e.matches("Enter")?(t.preventDefault(),_this1027.focus()):e.matches("Escape")&&(a=!0,_this1027.focus());}),n.addEventListener("input",i=function i(){var t=n.textContent,e=r(t),i=!1;if(l===h.currentWorkspace)i=!0,a=!0;else{(B[l.parentElement.nodeName]||[]).includes(e)?(i=!1,a=e===r(o)):(i=!0,a=!0);}i?(n.setAttribute("data-invalid",""),n.part.add("invalid-input")):(n.removeAttribute("data-invalid"),n.part.remove("invalid-input"));}),n.addEventListener("blur",s=function(_s953){function s(){return _s953.apply(this,arguments);}s.toString=function(){return _s953.toString();};return s;}(function(){if(n.removeEventListener("blur",s),n.removeEventListener("keydown",e),n.removeEventListener("input",i),n.removeAttribute("contenteditable"),n.removeAttribute("data-invalid"),n.part.remove("input"),n.part.remove("invalid-input"),_this1027.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),a)n.textContent=o;else{h.undoManager.checkpoint("Rename element");n.textContent;var _e1815=r(n.textContent),_i1605=Di("svg:".concat(_e1815));var _iterator1580=_createForOfIteratorHelper(l.attributes),_step1580;try{for(_iterator1580.s();!(_step1580=_iterator1580.n()).done;){var _step1580$value=_step1580.value,_t2428=_step1580$value.name,_e1816=_step1580$value.value;_i1605.setAttribute(_t2428,_e1816);}}catch(err){_iterator1580.e(err);}finally{_iterator1580.f();}l.replaceWith(_i1605);for(var _i1606=0,_arr82=_toConsumableArray(l.childNodes);_i1606<_arr82.length;_i1606++){var _t2427=_arr82[_i1606];B[_e1815].includes(_t2427.nodeName)&&_i1605.append(_t2427);}t[Bf]=_i1605,_this1027.selectedNodes=_this1027.selectedNodes.map(function(t){return t===l?_i1605:t;}),h.selectedElements.includes(l)?(_this1027.nP=!0,h.isSelectableElement(_i1605)?h.selectedElements=h.selectedElements.map(function(t){return t===l?_i1605:t;}):h.selectedElements=h.selectedElements.filter(function(t){return t!==l;})):h.isSelectableElement(_i1605)&&(_this1027.nP=!0,h.selectedElements=[].concat(_toConsumableArray(h.selectedElements),[_i1605]));}}));}},{key:"fP",value:function fP(t,e){var _this1028=this;var i,s,_n682,o=this.Js.board,l=t[Bf],h=!0,a=t.querySelector(".attribute[data-name=\"".concat(e,"\"]"));if(!a||a.hasAttribute("contenteditable"))return;var r=e,d=a.innerHTML;this.sP=a,this.mP(t,e),a.innerHTML=a.innerText,a.style.transition="none",a.setAttribute("contenteditable",""),a.part.add("input"),a.focus(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));{var _t2429=a.textContent.indexOf('"'),_e1817=a.textContent.lastIndexOf('"');if(_t2429>=0&&_e1817>=0&&_t2429!==_e1817){var _i1607=new Range();_i1607.setStart(a.firstChild,_t2429+1),_i1607.setEnd(a.firstChild,_e1817);var _s954=window.getSelection();_s954.removeAllRanges(),_s954.addRange(_i1607);}else this.fd();}a.addEventListener("keydown",i=function i(t){var e=to.fromEvent(t);if(e.matches("Enter"))t.preventDefault(),t.stopPropagation(),_this1028.focus();else if(e.matches("Escape"))t.stopPropagation(),h=!0,_this1028.focus();else if(e.matches("Backspace")||e.matches("Delete")||e.matches("ArrowLeft")||e.matches("ArrowRight")||e.matches("Shift","ArrowLeft")||e.matches("Shift","ArrowRight"))t.stopPropagation();else if(e.matches("ArrowUp")||e.matches("ArrowDown")||e.matches("Shift","ArrowUp")||e.matches("Shift","ArrowDown")){t.stopPropagation();var _i1608=_this1028._shadowRoot.getSelection();if(_i1608.rangeCount>0){var _s955=_i1608.getRangeAt(0),_n680=_s955.startOffset,_o533=_s955.startOffset;{var _t2430=a.textContent,_e1818=['"',"'",":",";",",","(",")"," ","\xa0","\t","\n"];for(var _i1609=_s955.startOffset;_i1609<=_t2430.length&&(_o533=_i1609,!_e1818.includes(_t2430[_i1609]));_i1609+=1){;}for(var _i1610=_s955.startOffset-1;_i1610>=0&&!_e1818.includes(_t2430[_i1610]);_i1610-=1){_n680=_i1610;}}if(_n680!==_o533){var _l394=a.textContent.substring(_n680,_o533);if(!1===Lf(parseFloat(_l394))){var _r145="",_d114="",_c89=/[^\d-\.]+/.exec(_l394),_p77=parseFloat(_l394);if(t.preventDefault(),_c89){var _t2431=_c89.index+_c89[0].length;_s955.startOffset>_n680+_c89.index&&_t2431<_l394.length&&_s955.startOffset!==_n680?(_r145=_l394.substring(0,_t2431),_l394=_l394.substring(_t2431)):(_d114=_l394.substring(_c89.index),_l394=_l394.substring(0,_c89.index));}e.matches("ArrowUp")?_p77=$f(_p77)+1:e.matches("ArrowDown")?_p77=If(_p77)-1:e.matches("Shift","ArrowUp")?_p77=$f(_p77)+10:e.matches("Shift","ArrowDown")&&(_p77=If(_p77)-10);var _u63=_r145+_p77+_d114,_x197=a.textContent;_x197=_x197.substring(0,_n680)+_u63+_x197.substring(_o533),a.textContent=_x197;var _b48=document.createRange();_b48.setStart(a.firstChild,_n680),_b48.setEnd(a.firstChild,_n680+_u63.length),_i1608.removeAllRanges(),_i1608.addRange(_b48),h=!1;}}}}}),a.addEventListener("input",s=function s(){h=!1;}),a.addEventListener("blur",_n682=function n(){a.removeEventListener("blur",_n682),a.removeEventListener("keydown",i),a.removeEventListener("input",s),a.removeAttribute("contenteditable"),a.part.remove("input"),a.style.transition=null,_this1028.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0}));var _Af=Af(a.textContent),_Af2=_slicedToArray(_Af,2),t=_Af2[0],e=_Af2[1];if(l.hasAttribute("data-bx-workspace")&&"id"===r&&("id"===t&&!1!==Ni(e)||(h=!0)),h)a.innerHTML=d;else if(o.undoManager.checkpoint("Edit attribute"),a.remove(),"id"===r&&l.hasAttribute("data-bx-workspace")){var _t2432=l.getAttribute("id"),_i1611=e,_s956=document.createNodeIterator(o.workspaces,NodeFilter.SHOW_ELEMENT),_n681=null;for(l.setAttribute("id",_i1611);_n681=_s956.nextNode();){["pattern","marker","symbol"].includes(_n681.localName)&&_n681.id===_t2432&&_n681.setAttribute("id",_i1611);}}else""===t?l.removeAttribute(r):l.setAttribute(t,e);});}},{key:"yP",value:function yP(t){var _this1029=this;var e,i,s,n=this.Js.board,o=t[Bf],l=!0,h=Hi(_templateObject81(),Rf);h.innerHTML=" ",h.style.transition="none",h.setAttribute("contenteditable",""),h.part.add("input"),t.querySelector(".attributes").append(h),h.focus(),this.fd(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0})),this.sP=h,h.addEventListener("keydown",e=function e(t){var e=to.fromEvent(t);(e.matches("Enter")||e.matches("Escape")||e.matches("Backspace")||e.matches("Delete")||e.matches("ArrowLeft")||e.matches("ArrowRight")||e.matches("ArrowUp")||e.matches("ArrowDown")||e.matches("Shift","ArrowLeft")||e.matches("Shift","ArrowRight")||e.matches("Shift","ArrowUp")||e.matches("Shift","ArrowDown"))&&t.stopPropagation(),e.matches("Enter")?(t.preventDefault(),_this1029.focus()):e.matches("Escape")&&(l=!0,_this1029.focus());}),h.addEventListener("input",i=function i(){l=!1;}),h.addEventListener("blur",s=function(_s957){function s(){return _s957.apply(this,arguments);}s.toString=function(){return _s957.toString();};return s;}(function(){if(h.removeEventListener("blur",s),h.removeEventListener("keydown",e),h.removeEventListener("input",i),h.removeAttribute("contenteditable"),h.part.remove("input"),h.style.transition=null,_this1029.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),l)h.remove();else{n.undoManager.checkpoint("Edit attribute");var _Af3=Af(h.textContent),_Af4=_slicedToArray(_Af3,2),_t2433=_Af4[0],_e1819=_Af4[1];h.remove(),""!==_t2433&&o.setAttribute(_t2433,_e1819);}}));}},{key:"kP",value:function kP(t){if(this.sP&&t.contains(this.sP))this.fP(t,this.sP.getAttribute("data-name"));else{var _e1820=t.querySelector(".attribute");_e1820?this.fP(t,_e1820.getAttribute("data-name")):this.yP(t);}}},{key:"mP",value:function mP(t,e){var _iterator1581=_createForOfIteratorHelper(t.querySelector(".attributes").children),_step1581;try{for(_iterator1581.s();!(_step1581=_iterator1581.n()).done;){var _i1612=_step1581.value;if(_i1612.dataset.name===e){_i1612.querySelector(".value").textContent=t[Bf].getAttribute(e),_i1612.querySelector(".ellipsis").hidden=!0;break;}}}catch(err){_iterator1581.e(err);}finally{_iterator1581.f();}}},{key:"aP",value:function aP(){this.iP=[],this["#tree"].innerHTML="";var t=this.Js.board.currentWorkspace,e=this.Zw("element",t);this["#tree"].append(e),this.rP();}},{key:"cP",value:function cP(t,e){var i=t.querySelector(".subtree"),s=_toConsumableArray(e.addedNodes),n=_toConsumableArray(e.removedNodes);for(var _i1613=0,_arr83=_toConsumableArray(i.children);_i1613<_arr83.length;_i1613++){var _t2434=_arr83[_i1613];(n.includes(_t2434[Bf])||s.includes(_t2434[Bf]))&&_t2434.remove();}if(0===t[Bf].childNodes.length&&t.removeAttribute("data-expanded"),s.length>0&&t.hasAttribute("data-expanded")){var _t2435=document.createDocumentFragment();var _iterator1582=_createForOfIteratorHelper(s),_step1582;try{for(_iterator1582.s();!(_step1582=_iterator1582.n()).done;){var _e1821=_step1582.value;var _i1614=null;if(_e1821.nodeType===document.ELEMENT_NODE?_i1614="element":_e1821.nodeType===document.TEXT_NODE&&(_i1614="text"),_i1614){var _s958=this.Zw(_i1614,_e1821);"text"===_i1614&&ba(_e1821.textContent)&&_s958.setAttribute("hidden",""),this.selectedNodes.includes(_e1821)&&_s958.setAttribute("data-selected",""),_t2435.append(_s958);}}}catch(err){_iterator1582.e(err);}finally{_iterator1582.f();}if(e.previousSibling){_toConsumableArray(i.children).find(function(t){return t[Bf]===e.previousSibling;}).after(_t2435);}else if(e.nextSibling){_toConsumableArray(i.children).find(function(t){return t[Bf]===e.nextSibling;}).before(_t2435);}else i.append(_t2435);}}},{key:"dP",value:function dP(t){var e=t.querySelector(".icon"),i="hidden";var _iterator1583=_createForOfIteratorHelper(t[Bf].childNodes),_step1583;try{for(_iterator1583.s();!(_step1583=_iterator1583.n()).done;){var _e1822=_step1583.value;if(_e1822.nodeType===document.ELEMENT_NODE){i="visible";break;}if(_e1822.nodeType===document.TEXT_NODE&&!1===ba(_e1822.textContent)){i="visible";break;}}}catch(err){_iterator1583.e(err);}finally{_iterator1583.f();}e.style.setProperty("visibility",i);}},{key:"MP",value:function MP(t){var e=t[Bf],i=e.localName,s=t.querySelector(".tag-name"),n=!1;if("g"===i){if(e.hasAttribute("data-bx-workspace")){var _t2436=e.getAttribute("data-bx-workspace");"master"===_t2436?i="svg":"pattern"===_t2436?i="pattern":"symbol"===_t2436?i="symbol":"marker"===_t2436&&(i="marker"),n=!0;}}else"bx-title"===i?i="title":i.startsWith("bx-")&&(i="bx:"+i.substring(3));s.textContent=i,n&&(s.setAttribute("disabled",""),s.previousElementSibling.setAttribute("disabled",""));}},{key:"PP",value:function PP(t){var e=t[Bf],i=document.createDocumentFragment();var _iterator1584=_createForOfIteratorHelper(e.attributes),_step1584;try{for(_iterator1584.s();!(_step1584=_iterator1584.n()).done;){var _step1584$value=_step1584.value,_t2437=_step1584$value.name,_s959=_step1584$value.value;if("data-bx-workspace"!==_t2437){var _n683=Hi(_templateObject82(),Rf),_o534=this.OP(_t2437),_l395=_s959.length-100>100;_n683.dataset.name=_t2437,_n683.querySelector(".name").textContent=_o534,_n683.querySelector(".value").textContent=_l395?_s959.substring(0,100):_s959,_n683.querySelector(".ellipsis").hidden=!_l395,e.hasAttribute("data-bx-workspace")&&("xmlns"!==_t2437&&"xmlns:bx"!==_t2437||_n683.setAttribute("disabled","")),i.append(_n683);}}}catch(err){_iterator1584.e(err);}finally{_iterator1584.f();}t.querySelector(".attributes").append(i);}},{key:"pP",value:function pP(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=t[Bf],n=s.getAttribute(e),o=this.OP(e);if(null===n){var _iterator1585=_createForOfIteratorHelper(t.querySelector(".attributes").children),_step1585;try{for(_iterator1585.s();!(_step1585=_iterator1585.n()).done;){var _i1615=_step1585.value;if(_i1615.dataset.name===e){_i1615.remove();break;}}}catch(err){_iterator1585.e(err);}finally{_iterator1585.f();}}else{var _l396=null,_h290=n.length-100>100;var _iterator1586=_createForOfIteratorHelper(t.querySelector(".attributes").children),_step1586;try{for(_iterator1586.s();!(_step1586=_iterator1586.n()).done;){var _i1617=_step1586.value;if(_i1617.dataset.name===e){_l396=_i1617;break;}}}catch(err){_iterator1586.e(err);}finally{_iterator1586.f();}if(null===_l396){_l396=Hi(_templateObject83(),Rf),_l396.dataset.name=e,_l396.querySelector(".name").textContent=o;var _i1616=0;var _iterator1587=_createForOfIteratorHelper(s.attributes),_step1587;try{for(_iterator1587.s();!(_step1587=_iterator1587.n()).done;){var _t2438=_step1587.value;if("data-bx-workspace"!==_t2438.name){if(_t2438.name===e)break;_i1616+=1;}}}catch(err){_iterator1587.e(err);}finally{_iterator1587.f();}var _n684=t.querySelector(".attributes").children[_i1616];_n684?_n684.before(_l396):t.querySelector(".attributes").append(_l396);}_l396.querySelector(".value").textContent=_h290?n.substring(0,100):n,_l396.querySelector(".ellipsis").hidden=!_h290,i&&(_l396.setAttribute("highlighted",""),Ki(500).then(function(){return _l396.removeAttribute("highlighted","");}));}1===this.selectedNodes.length&&this.selectedNodes[0]===s&&this.xP(t);}},{key:"uP",value:function uP(t){t.querySelector(".content").textContent=t[Bf].textContent;}},{key:"eP",value:function eP(){var t=[];var _iterator1588=_createForOfIteratorHelper(this.selectedNodes),_step1588;try{for(_iterator1588.s();!(_step1588=_iterator1588.n()).done;){var _e1823=_step1588.value;var _i1618=!0;var _iterator1589=_createForOfIteratorHelper(this.selectedNodes),_step1589;try{for(_iterator1589.s();!(_step1589=_iterator1589.n()).done;){var _t2439=_step1589.value;if(_t2439!==_e1823&&_t2439.contains(_e1823)){_i1618=!1;break;}}}catch(err){_iterator1589.e(err);}finally{_iterator1589.f();}_i1618&&t.push(_e1823);}}catch(err){_iterator1588.e(err);}finally{_iterator1588.f();}return t;}},{key:"zP",value:function zP(t){var e;if("g"===t.localName&&t.hasAttribute("data-bx-workspace")){var _i1619=t.getAttribute("data-bx-workspace");e="master"===_i1619?B.svg:B[_i1619];}else e=B[t.nodeName]||[];return e;}},{key:"OP",value:function OP(t){var e=t;return t.startsWith("data-bx-")?e=t.replace("data-bx-","bx:"):"_href"===t&&(e="href"),e;}},{key:"bP",value:function bP(t){var e=function e(i){var _iterator1590=_createForOfIteratorHelper(i.children),_step1590;try{for(_iterator1590.s();!(_step1590=_iterator1590.n()).done;){var _s960=_step1590.value;var _i1620=_s960.getBoundingClientRect();if(t>=_i1620.y&&t<=_i1620.y+_i1620.height){if(_s960.hasAttribute("data-expanded")){var _t2440=_s960.querySelector(".subtree");return e(_t2440)||_s960;}return _s960;}}}catch(err){_iterator1590.e(err);}finally{_iterator1590.f();}return null;};return e(this["#tree"]);}}]);return Gf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Gf,"observedAttributes",["enabled"]);_defineProperty(Gf,"_shadowTemplate",Hi(_templateObject509()));_defineProperty(Gf,"_shadowStyleSheet",Yi(_templateObject510()));customElements.define("bx-dominspector",Gf);var Ff=Math.floor,Uf=Math.ceil,Nf=Number.isNaN,Vf=Object.keys,jf=Symbol(),Hf=Symbol(),Yf=Wi(_templateObject84()),Wf=function Wf(t){return void 0!==R.find(function(e){return e.name===t;});},qf=function qf(t,e){return Yf.style.removeProperty(t),Yf.style.setProperty(t,e),""!==Yf.style.getPropertyValue(t);};var Xf=/*#__PURE__*/function(_HTMLElement133){_inherits(Xf,_HTMLElement133);var _super222=_createSuper(Xf);_createClass(Xf,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"target",get:function get(){return this.EP;},set:function set(t){t!==this.EP&&(this.EP=t,this.qs());}}]);function Xf(){var _this1030;_classCallCheck(this,Xf);_this1030=_super222.call(this),_this1030.EP=null,_this1030.tabIndex=0,_this1030._shadowRoot=_this1030.attachShadow({mode:"closed"}),_this1030._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Xf._shadowStyleSheet],_this1030._shadowRoot.append(document.importNode(Xf._shadowTemplate.content,!0));var _iterator1591=_createForOfIteratorHelper(_this1030._shadowRoot.querySelectorAll("[id]")),_step1591;try{for(_iterator1591.s();!(_step1591=_iterator1591.n()).done;){var _t2444=_step1591.value;_this1030["#"+_t2444.id]=_t2444;}}catch(err){_iterator1591.e(err);}finally{_iterator1591.f();}var t=!1,e=!1;_this1030["#cascade-items"].addEventListener("pointerdown",function(i){var s,_n685,o=new DOMPoint(i.clientX,i.clientY);t=!1,e=null!==_this1030["#cascade-items"].querySelector("[contenteditable]"),window.addEventListener("pointermove",s=function(_s961){function s(_x198){return _s961.apply(this,arguments);}s.toString=function(){return _s961.toString();};return s;}(function(e){var i=new DOMPoint(e.clientX,e.clientY);Pe(o,i)>=3&&(window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n685),t=!0);})),window.addEventListener("pointerup",_n685=function n(){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n685);});}),_this1030["#cascade-items"].addEventListener("click",function(i){if(!1===t&&!1===i.target.hasAttribute("contenteditable")){var _t2441=_this1030._shadowRoot.elementFromPoint(i.clientX,i.clientY);if(_t2441.getRootNode()!==_this1030._shadowRoot&&(_t2441=null),i.target.matches(".property-item .name"))_this1030.TP(i.target);else if(i.target.matches(".property-item .value"))_this1030.AP(i.target);else if(i.target.matches(".prefix")){if(!1===e){var _t2442=i.target.closest(".cascade-item");_this1030.$P(_t2442,0);}}else if(i.target.closest(".property-item")&&!1===e&&i.target.matches(".property-item, .property-div")){var _t2443=i.target.closest(".cascade-item"),_e1824=i.target.closest(".property-item"),_s962=_toConsumableArray(i.target.closest(".properties").children).indexOf(_e1824);_this1030.$P(_t2443,_s962+1);}}}),_this1030["#cascade-items"].addEventListener("focusout",function(t){var e=_this1030["#cascade-items"].querySelector("span[contenteditable]");e&&(e.removeAttribute("contenteditable"),editableSpan.part.remove("input"));}),_this1030["#resize-grippie"].addEventListener("pointerdown",function(t){return _this1030.lu(t);});return _this1030;}_createClass(Xf,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.Js=Ti(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this1031=this;this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this1031.il(t);}),this.style.width=this.Qs.getConfig("bx-csscascadeinspector:width",250)+"px";}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"il",value:function il(t){var _iterator1592=_createForOfIteratorHelper(t.detail),_step1592;try{for(_iterator1592.s();!(_step1592=_iterator1592.n()).done;){var _e1825=_step1592.value;if("childList"===_e1825.type&&"style"===_e1825.target.localName){this.qs();break;}if("attributes"===_e1825.type&&_e1825.target===this.target){this.qs();break;}}}catch(err){_iterator1592.e(err);}finally{_iterator1592.f();}}},{key:"lu",value:function lu(t){var _this1032=this;if(1!==t.buttons)return;this["#resize-grippie"].setPointerCapture(t.pointerId);var e,_i1621,s=this.clientWidth,n=s;t.preventDefault(),this["#resize-grippie"].addEventListener("pointermove",e=function e(_e1826){n=s-(_e1826.clientX-t.clientX),n<80?n=80:n>400&&(n=400),_this1032.style.width=n+"px";}),this["#resize-grippie"].addEventListener("lostpointercapture",_i1621=function i(){_this1032["#resize-grippie"].removeEventListener("pointermove",e),_this1032["#resize-grippie"].removeEventListener("lostpointercapture",_i1621),_this1032.Qs.setConfig("bx-csscascadeinspector:width",n);});}},{key:"TP",value:function TP(t){var _this1033=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i,s,_n691,o,l=t.closest(".cascade-item"),h=t.closest(".property-item"),a=t.textContent.trim(),r=t.parentElement.querySelector(".value").textContent.trim(),d=this["#main"].scrollTop,c=Hi(_templateObject85());r.endsWith("!important")&&(r=r.substring(0,r.indexOf("!important")).trim()),h.append(c),t.setAttribute("contenteditable","plaintext-only"),t.part.add("input"),t.focus(),document.execCommand("selectAll"),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));var p=function p(){var e=l.getAttribute("data-origin"),i=t.textContent.trim();if(""===i)""===a?h.remove():u();else if(i===a||!1===Wf(i))t.textContent=a;else{_this1033.Js.board.undoManager.checkpoint("Rename styling property");var _t2445=[];var _iterator1593=_createForOfIteratorHelper(l.querySelector(".properties").children),_step1593;try{for(_iterator1593.s();!(_step1593=_iterator1593.n()).done;){var _e1829=_step1593.value;var _s965=_e1829.querySelector(".name").textContent.trim(),_n687=_e1829.querySelector(".value").textContent.trim(),_o535="";_n687.endsWith("!important")&&(_o535="!important",_n687=_n687.substring(0,_n687.indexOf("!important")).trim()),!1===qf(_s965,_n687)&&(_n687="initial",_o535=""),_e1829!==h&&_s965===i||_t2445.push([_s965,_n687,_o535]);}}catch(err){_iterator1593.e(err);}finally{_iterator1593.f();}if("style-attribute"===e)_t2445=_t2445.map(function(_ref176){var _ref177=_slicedToArray(_ref176,3),t=_ref177[0],e=_ref177[1],i=_ref177[2];return"".concat(t," : ").concat(e).concat(i,";");}),_this1033.target.setAttribute("style",_t2445.join(" "));else if("style-element"===e){var _e1827=l[jf],_i1622=_e1827.parentStyleSheet.ownerNode;for(var _i1623=0,_arr84=_toConsumableArray(_e1827.style);_i1623<_arr84.length;_i1623++){var _t2446=_arr84[_i1623];_e1827.style.removeProperty(_t2446);}var _iterator1594=_createForOfIteratorHelper(_t2445),_step1594;try{for(_iterator1594.s();!(_step1594=_iterator1594.n()).done;){var _step1594$value=_slicedToArray(_step1594.value,3),_i1624=_step1594$value[0],_s963=_step1594$value[1],_n686=_step1594$value[2];_e1827.style.setProperty(_i1624,_s963,_n686);}}catch(err){_iterator1594.e(err);}finally{_iterator1594.f();}wa(_i1622);}else if("presentation-attributes"===e){var _e1828=l[Hf];var _iterator1595=_createForOfIteratorHelper(_t2445),_step1595;try{for(_iterator1595.s();!(_step1595=_iterator1595.n()).done;){var _step1595$value=_slicedToArray(_step1595.value,2),_i1625=_step1595$value[0],_s964=_step1595$value[1];_e1828.hasAttribute(_i1625)&&_e1828.removeAttribute(_i1625),_e1828.setAttribute(_i1625,_s964);}}catch(err){_iterator1595.e(err);}finally{_iterator1595.f();}}}},u=function u(){var e=t.closest(".cascade-item"),i=e.getAttribute("data-origin");if(_this1033.Js.board.undoManager.checkpoint("Remove styling property"),"style-attribute"===i)_this1033.target.style.removeProperty(a);else if("style-element"===i){var _t2447=e[jf],_i1626=_t2447.parentStyleSheet.ownerNode;_t2447.style.removeProperty(a),wa(_i1626);}else if("presentation-attributes"===i){e[Hf].removeAttribute(a);}Ti(_this1033,"[tabindex]").focus();},x=function x(){var e="",i=[];var _iterator1596=_createForOfIteratorHelper(R),_step1596;try{for(_iterator1596.s();!(_step1596=_iterator1596.n()).done;){var _e1833=_step1596.value;_e1833.name.startsWith(t.textContent)&&i.push(_e1833.name);}}catch(err){_iterator1596.e(err);}finally{_iterator1596.f();}for(var _i1628=0,_i1627=i;_i1628<_i1627.length;_i1628++){var _t2448=_i1627[_i1628];e+="<div class=\"item\" ".concat(_t2448===i[0]?"data-selected":"",">").concat(_t2448,"</div>");}if(c.innerHTML=e,c.hidden=i.length<=1,c.childElementCount>0){var _e1830="below";{var _i1629=t.getBoundingClientRect(),_s966=_this1033.getBoundingClientRect();_s966.bottom-_i1629.bottom<_i1629.top-_s966.top&&(_e1830="above");}if(c.style.top=null,c.style.bottom=null,c.style.left=null,c.style.width=null,c.style.height=null,"below"===_e1830){var _e1831=t.getBoundingClientRect(),_i1630=_this1033.getBoundingClientRect(),_s967=_this1033["#main"].scrollTop;c.style.left=_e1831.left-_i1630.left-6+"px",c.style.top=_e1831.bottom-_i1630.top+_s967+6+"px";var _n688=c.getBoundingClientRect();_n688.bottom>window.innerHeight-6&&(c.style.height=window.innerHeight-_n688.top-6+"px"),_n688.right>window.innerWidth-3&&(c.style.width=window.innerWidth-_n688.right-3+"px");}else if("above"===_e1830){var _e1832=t.getBoundingClientRect(),_i1631=_this1033.getBoundingClientRect(),_s968=_this1033["#main"].scrollTop;c.style.left=_e1832.left-_i1631.left-6+"px",c.style.bottom=_i1631.bottom-_e1832.top-_s968+6+"px";var _n689=c.getBoundingClientRect();if(_n689.top<_i1631.top-6){var _t2449=_i1631.top-_n689.top;c.style.height=_n689.height-_t2449-6+"px";}_n689.right>window.innerWidth-3&&(c.style.width=window.innerWidth-_n689.right-3+"px");}}},b=function b(){var e=c.querySelector(".item[data-selected]"),i="";e&&e.textContent.startsWith(t.textContent)&&(i=e.textContent.substring(t.textContent.length)),i.length>0?t.setAttribute("ghost",i):t.removeAttribute("ghost");};c.addEventListener("pointerdown",function(e){e.preventDefault();var i=e.target.closest(".item"),s=c.querySelector(".item[data-selected]");i.setAttribute("data-selected",""),s.removeAttribute("data-selected"),t.textContent=i.textContent,c.hidden=!0,b();{var _e1834=new Range();_e1834.selectNodeContents(t),_e1834.collapse(!1);var _i1632=window.getSelection();_i1632.removeAllRanges(),_i1632.addRange(_e1834);}}),this["#main"].addEventListener("scroll",o=function o(){!1===c.hidden?_this1033["#main"].scrollTop=d:d=_this1033["#main"].scrollTop;}),t.addEventListener("keydown",s=/*#__PURE__*/function(){var _ref178=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee217(e){var _t2450,_i1633,_t2451,_i1634,_e1835,_e1836,_e1837,_i1635,_i1636,_s969,_n690,_o536,_h291,_iterator1597,_step1597,_t2452,_i1637,_t2453;return regeneratorRuntime.wrap(function _callee217$(_context218){while(1){switch(_context218.prev=_context218.next){case 0:if(!("ArrowUp"===e.key)){_context218.next=4;break;}if(!1===c.hidden){e.preventDefault();_t2450=c.querySelector(".item[data-selected]"),_i1633=_t2450.previousElementSibling||c.lastElementChild;_t2450.removeAttribute("data-selected"),_i1633.setAttribute("data-selected",""),_i1633.scrollIntoViewIfNeeded(),b();}_context218.next=35;break;case 4:if(!("ArrowDown"===e.key)){_context218.next=8;break;}if(!1===c.hidden){e.preventDefault();_t2451=c.querySelector(".item[data-selected]"),_i1634=_t2451.nextElementSibling||c.firstElementChild;_t2451.removeAttribute("data-selected"),_i1634.setAttribute("data-selected",""),_i1634.scrollIntoViewIfNeeded(),b();}_context218.next=35;break;case 8:if(!("Enter"===e.key)){_context218.next=13;break;}if(e.preventDefault(),!1===c.hidden||t.hasAttribute("ghost")){_e1835=c.querySelector(".item[data-selected]");t.textContent=_e1835?_e1835.textContent:a;}Ti(_this1033,"[tabindex]").focus();_context218.next=35;break;case 13:if(!("Tab"===e.key||":"===e.key)){_context218.next=34;break;}if(!(e.preventDefault(),t.hasAttribute("ghost"))){_context218.next=24;break;}_e1836=c.querySelector(".item[data-selected]");_e1836&&(t.textContent=_e1836.textContent);_e1837=new Range();_e1837.selectNodeContents(t),_e1837.collapse(!1);_i1635=window.getSelection();_i1635.removeAllRanges(),_i1635.addRange(_e1837);x(),b();_context218.next=32;break;case 24:_i1636=_toConsumableArray(_this1033["#cascade-items"].children).indexOf(l),_s969=t.textContent.trim();Ti(_this1033,"[tabindex]").focus();_context218.next=28;return Ki(10);case 28:_n690=_this1033["#cascade-items"].children[_i1636],_o536=_toConsumableArray(_this1033["#cascade-items"].querySelectorAll(".name, .value")),_h291=null;_iterator1597=_createForOfIteratorHelper(_n690.querySelector(".properties").children);try{for(_iterator1597.s();!(_step1597=_iterator1597.n()).done;){_t2452=_step1597.value;_i1637=_t2452.querySelector(".name");if(_i1637.textContent===_s969){_t2453=_o536.indexOf(_i1637);_h291=!1===e.shiftKey?_o536[_t2453+1]||_o536[0]:_o536[_t2453-1]||_o536[_o536.length-1];}}}catch(err){_iterator1597.e(err);}finally{_iterator1597.f();}_h291&&(_h291.matches(".name")?_this1033.TP(_h291):_h291.matches(".value")&&_this1033.AP(_h291));case 32:_context218.next=35;break;case 34:if("Escape"===e.key){e.preventDefault(),t.textContent=a,Ti(_this1033,"[tabindex]").focus();}else"Backspace"===e.key&&""===t.textContent&&(e.stopPropagation(),e.preventDefault(),u());case 35:case"end":return _context218.stop();}}},_callee217);}));return function s(_x199){return _ref178.apply(this,arguments);};}()),t.addEventListener("input",i=function i(e){x(),b(),function(){var e=t.textContent;t.hasAttribute("ghost")&&(e+=t.getAttribute("ghost")),Wf(e)?(t.removeAttribute("data-invalid"),t.part.remove("invalid-input")):(t.setAttribute("data-invalid",""),t.part.add("invalid-input"));}();}),t.addEventListener("blur",_n691=function n(){p(),_this1033["#main"].removeEventListener("scroll",o),t.removeEventListener("keydown",s),t.removeEventListener("blur",_n691),t.removeAttribute("contenteditable"),t.part.remove("input"),t.removeAttribute("data-invalid"),t.part.remove("invalid-input"),t.removeAttribute("ghost"),_this1033._shadowRoot.getSelection().collapse(t),_this1033.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),c.remove();});}},{key:"AP",value:function AP(t){var _this1034=this;var e,i,s,n,o=t.closest(".cascade-item"),l=t.closest(".property-item"),h=t.parentElement.querySelector(".name").textContent.trim(),a=t.textContent.trim(),r="",d=this["#main"].scrollTop,c=Hi(_templateObject86());a.endsWith("!important")&&(r="important",a=a.substring(0,a.indexOf("!important")).trim()),l.append(c),t.setAttribute("contenteditable","plaintext-only"),t.part.add("input"),t.focus(),document.execCommand("selectAll"),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));var p=function p(){var e=t.closest(".cascade-item"),i=e.getAttribute("data-origin"),s=t.textContent.trim(),n="";if(s.endsWith("!important")&&(s=s.substring(0,s.indexOf("!important")),n="important"),!1===(s!==a||n!==r)||!1===qf(h,s))t.textContent=a,r&&(t.textContent+=" !"+r);else if(_this1034.Js.board.undoManager.checkpoint("Rename styling property"),"style-attribute"===i)_this1034.target.style.setProperty(h,s,n);else if("style-element"===i){var _t2454=e[jf],_i1638=_t2454.parentStyleSheet.ownerNode;_t2454.style.setProperty(h,s,n),wa(_i1638);}else if("presentation-attributes"===i){e[Hf].setAttribute(h,s);}},u=function u(){var e="",i=new Set();var _iterator1598=_createForOfIteratorHelper(R),_step1598;try{for(_iterator1598.s();!(_step1598=_iterator1598.n()).done;){var _e1838=_step1598.value;if(_e1838.name===h){var _iterator1600=_createForOfIteratorHelper(_e1838.values),_step1600;try{for(_iterator1600.s();!(_step1600=_iterator1600.n()).done;){var _s970=_step1600.value;if("token"===_s970.type||"token-list"===_s970.type){var _iterator1601=_createForOfIteratorHelper(_s970.tokens),_step1601;try{for(_iterator1601.s();!(_step1601=_iterator1601.n()).done;){var _e1839=_step1601.value;_e1839.startsWith(t.textContent)&&i.add(_e1839);}}catch(err){_iterator1601.e(err);}finally{_iterator1601.f();}}else if("color"===_s970.type){var _iterator1602=_createForOfIteratorHelper(Vf(I)),_step1602;try{for(_iterator1602.s();!(_step1602=_iterator1602.n()).done;){var _e1840=_step1602.value;_e1840.startsWith(t.textContent)&&i.add(_e1840);}}catch(err){_iterator1602.e(err);}finally{_iterator1602.f();}}}}catch(err){_iterator1600.e(err);}finally{_iterator1600.f();}}}}catch(err){_iterator1598.e(err);}finally{_iterator1598.f();}i=_toConsumableArray(i);var _iterator1599=_createForOfIteratorHelper(i),_step1599;try{for(_iterator1599.s();!(_step1599=_iterator1599.n()).done;){var _t2455=_step1599.value;e+="<div class=\"item\" ".concat(_t2455===i[0]?"data-selected":"",">").concat(_t2455,"</div>");}}catch(err){_iterator1599.e(err);}finally{_iterator1599.f();}c.innerHTML=e,c.hidden=i.length<=1;},x=function x(){var e=c.querySelector(".item[data-selected]"),i="";e&&e.textContent.startsWith(t.textContent)&&(i=e.textContent.substring(t.textContent.length)),i.length>0?t.setAttribute("ghost",i):t.removeAttribute("ghost");};c.addEventListener("pointerdown",function(e){e.preventDefault();var i=e.target.closest(".item"),s=c.querySelector(".item[data-selected]");i.setAttribute("data-selected",""),s.removeAttribute("data-selected"),t.textContent=i.textContent,c.hidden=!0,x();{var _e1841=new Range();_e1841.selectNodeContents(t),_e1841.collapse(!1);var _i1639=window.getSelection();_i1639.removeAllRanges(),_i1639.addRange(_e1841);}}),this["#main"].addEventListener("scroll",n=function n(){!1===c.hidden?_this1034["#main"].scrollTop=d:d=_this1034["#main"].scrollTop;}),t.addEventListener("keydown",i=/*#__PURE__*/function(){var _ref179=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee218(e){var i,_t2456,_e1842,_e1843,_s971,_n692,_o537,_l397,_e1844,_i1640,_t2457,_t2458,_h292,_a226,_r146,_d115,_c90,_t2459,_p78,_u64,_x201,_e1845,_e1846,_e1847,_i1641,_t2460,_i1642,_s972,_n693,_iterator1603,_step1603,_t2461,_i1643,_t2462;return regeneratorRuntime.wrap(function _callee218$(_context219){while(1){switch(_context219.prev=_context219.next){case 0:i=to.fromEvent(e);if(!(i.matches("ArrowUp")||i.matches("ArrowDown")||i.matches("Shift","ArrowUp")||i.matches("Shift","ArrowDown"))){_context219.next=5;break;}if(!1===c.hidden){e.preventDefault();_t2456=c.querySelector(".item[data-selected]");if(_t2456.removeAttribute("data-selected"),"ArrowUp"===e.key){_e1842=_t2456.previousElementSibling||c.lastElementChild;_e1842.setAttribute("data-selected",""),_e1842.scrollIntoViewIfNeeded();}else if("ArrowDown"===e.key){_e1843=_t2456.nextElementSibling||c.firstElementChild;_e1843.setAttribute("data-selected",""),_e1843.scrollIntoViewIfNeeded();}x();}else{e.preventDefault(),e.stopPropagation();_s971=_this1034._shadowRoot.getSelection();if(_s971.rangeCount>0){_n692=_s971.getRangeAt(0),_o537=_n692.startOffset,_l397=_n692.startOffset;{_e1844=t.textContent,_i1640=['"',"'",":",";",",","(",")"," ","\xa0","\t","\n"];for(_t2457=_n692.startOffset;_t2457<=_e1844.length&&(_l397=_t2457,!_i1640.includes(_e1844[_t2457]));_t2457+=1){;}for(_t2458=_n692.startOffset-1;_t2458>=0&&!_i1640.includes(_e1844[_t2458]);_t2458-=1){_o537=_t2458;}}if(_o537!==_l397){_h292=t.textContent.substring(_o537,_l397);if(!1===Nf(parseFloat(_h292))){_a226="",_r146="",_d115=/[^\d-\.]+/.exec(_h292),_c90=parseFloat(_h292);if(e.preventDefault(),_d115){_t2459=_d115.index+_d115[0].length;_n692.startOffset>_o537+_d115.index&&_t2459<_h292.length&&_n692.startOffset!==_o537?(_a226=_h292.substring(0,_t2459),_h292=_h292.substring(_t2459)):(_r146=_h292.substring(_d115.index),_h292=_h292.substring(0,_d115.index));}i.matches("ArrowUp")?_c90=Ff(_c90)+1:i.matches("ArrowDown")?_c90=Uf(_c90)-1:i.matches("Shift","ArrowUp")?_c90=Ff(_c90)+10:i.matches("Shift","ArrowDown")&&(_c90=Uf(_c90)-10);_p78=_a226+_c90+_r146,_u64=t.textContent;_u64=_u64.substring(0,_o537)+_p78+_u64.substring(_l397),t.textContent=_u64;_x201=document.createRange();_x201.setStart(t.firstChild,_o537),_x201.setEnd(t.firstChild,_o537+_p78.length),_s971.removeAllRanges(),_s971.addRange(_x201);}}}}_context219.next=32;break;case 5:if(!("Enter"===e.key)){_context219.next=10;break;}if(e.preventDefault(),!1===c.hidden||t.hasAttribute("ghost")){_e1845=c.querySelector(".item[data-selected]");t.textContent=_e1845?_e1845.textContent:r?a+"!"+r:a;}Ti(_this1034,"[tabindex]").focus();_context219.next=32;break;case 10:if(!("Tab"===e.key)){_context219.next=31;break;}if(!(e.preventDefault(),t.hasAttribute("ghost"))){_context219.next=21;break;}_e1846=c.querySelector(".item[data-selected]");_e1846&&(t.textContent=_e1846.textContent);_e1847=new Range();_e1847.selectNodeContents(t),_e1847.collapse(!1);_i1641=window.getSelection();_i1641.removeAllRanges(),_i1641.addRange(_e1847);u(),x();_context219.next=29;break;case 21:_t2460=_toConsumableArray(_this1034["#cascade-items"].children).indexOf(o);Ti(_this1034,"[tabindex]").focus();_context219.next=25;return Ki(10);case 25:_i1642=_this1034["#cascade-items"].children[_t2460],_s972=_toConsumableArray(_this1034["#cascade-items"].querySelectorAll(".name, .value")),_n693=null;_iterator1603=_createForOfIteratorHelper(_i1642.querySelector(".properties").children);try{for(_iterator1603.s();!(_step1603=_iterator1603.n()).done;){_t2461=_step1603.value;_i1643=_t2461.querySelector(".name");if(_i1643.textContent===h){_t2462=_s972.indexOf(_i1643);_n693=!1===e.shiftKey?_s972[_t2462+2]||_s972[0]:_s972[_t2462]||_s972[_s972.length-1];}}}catch(err){_iterator1603.e(err);}finally{_iterator1603.f();}_n693&&(_n693.matches(".name")?_this1034.TP(_n693):_n693.matches(".value")&&_this1034.AP(_n693));case 29:_context219.next=32;break;case 31:if("Escape"===e.key){e.preventDefault(),t.textContent=r?a+"!"+r:a,Ti(_this1034,"[tabindex]").focus();}else"Backspace"===e.key&&""===t.textContent&&(e.stopPropagation(),e.preventDefault());case 32:case"end":return _context219.stop();}}},_callee218);}));return function i(_x200){return _ref179.apply(this,arguments);};}()),t.addEventListener("input",e=function e(){if(u(),x(),function(){var e=t.textContent.trim();e.endsWith("!important")&&(e=e.substring(0,e.indexOf("!important"))),t.hasAttribute("ghost")&&(e+=t.getAttribute("ghost")),qf(h,e)?(t.removeAttribute("data-invalid"),t.part.remove("invalid-input")):(t.setAttribute("data-invalid",""),t.part.add("invalid-input"));}(),c.childElementCount>0){var _e1848="below";{var _i1644=t.getBoundingClientRect(),_s973=_this1034.getBoundingClientRect();_s973.bottom-_i1644.bottom<_i1644.top-_s973.top&&(_e1848="above");}if(c.style.top=null,c.style.bottom=null,c.style.left=null,c.style.width=null,c.style.height=null,"below"===_e1848){var _e1849=t.getBoundingClientRect(),_i1645=_this1034.getBoundingClientRect(),_s974=_this1034["#main"].scrollTop;c.style.left=_e1849.left-_i1645.left-6+"px",c.style.top=_e1849.bottom-_i1645.top+_s974+6+"px";var _n694=c.getBoundingClientRect();_n694.bottom>window.innerHeight-6&&(c.style.height=window.innerHeight-_n694.top-6+"px"),_n694.right>window.innerWidth-3&&(c.style.width=window.innerWidth-_n694.right-3+"px");}else if("above"===_e1848){var _e1850=t.getBoundingClientRect(),_i1646=_this1034.getBoundingClientRect(),_s975=_this1034["#main"].scrollTop;c.style.left=_e1850.left-_i1646.left-6+"px",c.style.bottom=_i1646.bottom-_e1850.top-_s975+6+"px";var _n695=c.getBoundingClientRect();if(_n695.top<_i1646.top-6){var _t2463=_i1646.top-_n695.top;c.style.height=_n695.height-_t2463-6+"px";}_n695.right>window.innerWidth-3&&(c.style.width=window.innerWidth-_n695.right-3+"px");}}}),t.addEventListener("blur",s=function(_s976){function s(){return _s976.apply(this,arguments);}s.toString=function(){return _s976.toString();};return s;}(function(){p(),_this1034["#main"].removeEventListener("scroll",n),t.removeEventListener("keydown",i),t.removeEventListener("blur",s),t.removeAttribute("contenteditable"),t.removeAttribute("data-invalid"),t.part.remove("input"),t.part.remove("invalid-input"),t.removeAttribute("ghost"),_this1034._shadowRoot.getSelection().collapse(t),_this1034.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),c.remove();}));}},{key:"$P",value:function $P(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=Hi(_templateObject87()),s=t.querySelector(".properties");e===s.childElementCount?s.append(i):s.children[e].before(i),this.TP(i.querySelector(".name"),!0);}},{key:"qs",value:function qs(){var _this1035=this;this.EP;var t=[];if(this["#cascade-items"].innerHTML="",this.EP){(function(){var e=_this1035.EP.closest("[data-bx-workspace]");for(var _i1647=_this1035.EP;e.contains(_i1647);_i1647=_i1647.parentElement){var _s977=_i1647!==_this1035.EP;if(_i1647.style.length>0||_i1647===_this1035.EP){var _t2464=_this1035.IP(_i1647),_e1851=Hi(_templateObject88(),_s977?"Inherited from <code>".concat(_t2464,"</code>"):"");var _iterator1604=_createForOfIteratorHelper(_i1647.style),_step1604;try{for(_iterator1604.s();!(_step1604=_iterator1604.n()).done;){var _t2465=_step1604.value;if(!_s977||!1!==fa(_t2465)){var _s978=_i1647.style.getPropertyValue(_t2465),_n696=_i1647.style.getPropertyPriority(_t2465),_o538=Hi(_templateObject89(),_t2465,_s978+("important"===_n696?" !important":""));_e1851.children[2].append(_o538);}}}catch(err){_iterator1604.e(err);}finally{_iterator1604.f();}_this1035["#cascade-items"].append(_e1851);}{var _n697=va(_i1647);_n697=_n697.filter(function(t){return!t.parentStyleSheet||!1!==e.contains(t.parentStyleSheet.ownerNode);});var _iterator1605=_createForOfIteratorHelper(_n697),_step1605;try{for(_iterator1605.s();!(_step1605=_iterator1605.n()).done;){var _e1852=_step1605.value;if(!1===t.includes(_e1852)){var _n698=[];var _iterator1606=_createForOfIteratorHelper(_e1852.style),_step1606;try{for(_iterator1606.s();!(_step1606=_iterator1606.n()).done;){var _t2467=_step1606.value;if(!1===_s977||!0===fa(_t2467)){var _i1649=_e1852.style.getPropertyValue(_t2467),_s980=_e1852.style.getPropertyPriority(_t2467);_s980="important"===_s980?" !important":"",_n698.push([_t2467,_i1649,_s980]);}}}catch(err){_iterator1606.e(err);}finally{_iterator1606.f();}if(_n698.length>0){var _o539=_this1035.IP(_i1647),_l398=Hi(_templateObject90(),_s977?"Inherited from <span>".concat(_o539,"</span>"):"",_e1852.selectorText);var _iterator1607=_createForOfIteratorHelper(_n698),_step1607;try{for(_iterator1607.s();!(_step1607=_iterator1607.n()).done;){var _step1607$value=_slicedToArray(_step1607.value,3),_t2466=_step1607$value[0],_e1853=_step1607$value[1],_i1648=_step1607$value[2];var _s979=Hi(_templateObject91(),_t2466,_e1853+("important"===_i1648?" !important":""));_l398.children[2].append(_s979);}}catch(err){_iterator1607.e(err);}finally{_iterator1607.f();}_l398[jf]=_e1852,_this1035["#cascade-items"].append(_l398),t.push(_e1852);}}}}catch(err){_iterator1605.e(err);}finally{_iterator1605.f();}}{var _t2468=[];var _iterator1608=_createForOfIteratorHelper(_i1647.attributes),_step1608;try{var _loop50=function _loop50(){var _step1608$value=_step1608.value,e=_step1608$value.name,n=_step1608$value.value;var i=R.filter(function(t){return t.presentationAttributeName===e;}),o=i.find(function(t){return t.appliesTo.includes(_this1035.EP.localName);})||i[0];o&&(!1!==_s977&&!0!==o.inheritable||_t2468.push({name:e,value:n}));};for(_iterator1608.s();!(_step1608=_iterator1608.n()).done;){_loop50();}}catch(err){_iterator1608.e(err);}finally{_iterator1608.f();}if(_t2468.length>0){var _e1854=_this1035.IP(_i1647),_n699=_s977?"Inherited from <span>".concat(_e1854,"</span>"):"",_o540="".concat(_i1647.localName,"[Presentation attributes]"),_l399=Hi(_templateObject92(),_n699,_o540);var _iterator1609=_createForOfIteratorHelper(_t2468),_step1609;try{for(_iterator1609.s();!(_step1609=_iterator1609.n()).done;){var _step1609$value=_step1609.value,_e1855=_step1609$value.name,_i1650=_step1609$value.value;var _t2469=Hi(_templateObject93(),_e1855,_i1650);_l399.children[2].append(_t2469);}}catch(err){_iterator1609.e(err);}finally{_iterator1609.f();}_l399[Hf]=_i1647,_this1035["#cascade-items"].append(_l399);}}}})();}}},{key:"LP",value:function LP(t){var e,i=function i(t){return _toConsumableArray(stylesheet.cssRules);},s=[],n=i(sheet);for(;e=n.shift();){e.type===CSSRule.MEDIA_RULE?n=i().concat(n):e.type===CSSRule.STYLE_RULE&&element.matches(e.selectorText)&&s.push(e);}return s;}},{key:"IP",value:function IP(t){var e="";if(t.hasAttribute("data-bx-workspace")){var _i1651=t.getAttribute("data-bx-workspace");e+="master"===_i1651?"svg":_i1651;}else e+="g";return t.id.length>0&&(e+="#"+t.id),t.classList.length>0&&(e+="."+_toConsumableArray(t.classList).join(".")),e;}}]);return Xf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Xf,"observedAttributes",["enabled"]);_defineProperty(Xf,"_shadowTemplate",Hi(_templateObject511()));_defineProperty(Xf,"_shadowStyleSheet",Yi(_templateObject512()));customElements.define("bx-csscascadeinspector",Xf);var Zf=/*#__PURE__*/function(_HTMLElement134){_inherits(Zf,_HTMLElement134);var _super223=_createSuper(Zf);_createClass(Zf,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Zf(){var _this1036;_classCallCheck(this,Zf);_this1036=_super223.call(this),_this1036._shadowRoot=_this1036.attachShadow({mode:"closed"}),_this1036._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Zf._shadowStyleSheet],_this1036._shadowRoot.append(document.importNode(Zf._shadowTemplate.content,!0));var _iterator1610=_createForOfIteratorHelper(_this1036._shadowRoot.querySelectorAll("[id]")),_step1610;try{for(_iterator1610.s();!(_step1610=_iterator1610.n()).done;){var t=_step1610.value;_this1036["#"+t.id]=t;}}catch(err){_iterator1610.e(err);}finally{_iterator1610.f();}_this1036["#dom-inspector"].addEventListener("selectednodeschange",function(){return _this1036.BP();});return _this1036;}_createClass(Zf,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){this["#dom-inspector"].enabled=!0,this["#css-cascade-inspector"].enabled=!0;}},{key:"sn",value:function sn(){this["#dom-inspector"].enabled=!1,this["#css-cascade-inspector"].enabled=!1;}},{key:"BP",value:function BP(){var t=this["#dom-inspector"].selectedNodes;1===t.length&&t[0].nodeType===document.ELEMENT_NODE?this["#css-cascade-inspector"].target=t[0]:this["#css-cascade-inspector"].target=null;}}]);return Zf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Zf,"observedAttributes",["enabled"]);_defineProperty(Zf,"_shadowTemplate",Hi(_templateObject513()));_defineProperty(Zf,"_shadowStyleSheet",Yi(_templateObject514()));customElements.define("bx-elementspanel",Zf);var Kf=/*#__PURE__*/function(_HTMLElement135){_inherits(Kf,_HTMLElement135);var _super224=_createSuper(Kf);_createClass(Kf,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Kf(){var _this1037;_classCallCheck(this,Kf);_this1037=_super224.call(this),_this1037._shadowRoot=_this1037.attachShadow({mode:"closed"}),_this1037._shadowRoot.adoptedStyleSheets=[Kf._shadowStyleSheet],_this1037._shadowRoot.append(document.importNode(Kf._shadowTemplate.content,!0));var _iterator1611=_createForOfIteratorHelper(_this1037._shadowRoot.querySelectorAll("[id]")),_step1611;try{for(_iterator1611.s();!(_step1611=_iterator1611.n()).done;){var t=_step1611.value;_this1037["#"+t.id]=t;}}catch(err){_iterator1611.e(err);}finally{_iterator1611.f();}return _this1037;}_createClass(Kf,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){}},{key:"sn",value:function sn(){}}]);return Kf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Kf,"observedAttributes",["enabled"]);_defineProperty(Kf,"_shadowTemplate",Hi(_templateObject515()));_defineProperty(Kf,"_shadowStyleSheet",Yi(_templateObject516()));customElements.define("bx-codepanel",Kf);var Qf=/*#__PURE__*/function(_HTMLElement136){_inherits(Qf,_HTMLElement136);var _super225=_createSuper(Qf);_createClass(Qf,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Qf(){var _this1038;_classCallCheck(this,Qf);_this1038=_super225.call(this),_this1038._shadowRoot=_this1038.attachShadow({mode:"closed"}),_this1038._shadowRoot.adoptedStyleSheets=[Qf._shadowStyleSheet],_this1038._shadowRoot.append(document.importNode(Qf._shadowTemplate.content,!0));var _iterator1612=_createForOfIteratorHelper(_this1038._shadowRoot.querySelectorAll("[id]")),_step1612;try{for(_iterator1612.s();!(_step1612=_iterator1612.n()).done;){var t=_step1612.value;_this1038["#"+t.id]=t;}}catch(err){_iterator1612.e(err);}finally{_iterator1612.f();}return _this1038;}_createClass(Qf,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){}},{key:"sn",value:function sn(){}}]);return Qf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Qf,"observedAttributes",["enabled"]);_defineProperty(Qf,"_shadowTemplate",Hi(_templateObject517()));_defineProperty(Qf,"_shadowStyleSheet",Yi(_templateObject518()));customElements.define("bx-animationpanel",Qf);var Jf=Object.defineProperty;var tw=/*#__PURE__*/function(_HTMLElement137){_inherits(tw,_HTMLElement137);var _super226=_createSuper(tw);_createClass(tw,[{key:"board",get:function get(){return this._shadowRoot.querySelector("#board");}},{key:"offscreenBoard",get:function get(){return this._shadowRoot.querySelector("#offscreen-board");}},{key:"toolsDock",get:function get(){return this["#tools-dock"];}},{key:"primaryPanelsDock",get:function get(){return this["#primary-panels-dock"];}},{key:"secondaryPanelsDock",get:function get(){return this["#secondary-panels-dock"];}},{key:"colorGrabber",get:function get(){return this["#color-grabber"];}},{key:"objectGrabber",get:function get(){return this["#object-grabber"];}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function tw(){var _temp51,_this1039;_classCallCheck(this,tw);(_temp51=_this1039=_super226.call(this),_defineProperty(_assertThisInitialized(_this1039),"commands",{"import":{enabled:function enabled(){return!0;},exec:function exec(){return _this1039.RP();}},"export":{enabled:function enabled(){return!0;},exec:function exec(){return _this1039.GP();}},undo:{enabled:function enabled(){return _this1039.FP();},exec:function exec(){return _this1039.UP();}},redo:{enabled:function enabled(){return _this1039.NP();},exec:function exec(){return _this1039.VP();}},copy:{enabled:function enabled(){return _this1039.Qs.textInputMode||_this1039.board.selectedElements.length>0;},exec:function exec(){return _this1039.jP();}},cut:{enabled:function enabled(){return _this1039.Qs.textInputMode||_this1039.board.selectedElements.length>0;},exec:function exec(){return _this1039.HP();}},paste:{exec:function exec(){return _this1039.YP();}},duplicate:{enabled:function enabled(){return _this1039.board.selectedObjectElements.length>0;},exec:function exec(){return _this1039.WP();}},"delete":{enabled:function enabled(){return _this1039.qP();},exec:function exec(){return _this1039.XP();}},selectAll:{exec:function exec(){return _this1039.fd();}},deselectAll:{enabled:function enabled(){return _this1039.board.selectedElements.length>0;},exec:function exec(){return _this1039.zd();}},manualGuides:{exec:function exec(){return _this1039.board.showManualGuides=!_this1039.board.showManualGuides;}},smartGuides:{exec:function exec(){return _this1039.board.showSmartGuides=!_this1039.board.showSmartGuides;}},grid:{exec:function exec(){return _this1039.board.showGrid=!_this1039.board.showGrid;}},transparency:{exec:function exec(){return _this1039.board.showTransparency=!_this1039.board.showTransparency;}},views:{exec:function exec(){return _this1039.board.showViews=!_this1039.board.showViews;}},zoomIn:{exec:function exec(){return _this1039.board.zoomIn();}},zoomOut:{exec:function exec(){return _this1039.board.zoomOut();}},resetZoom:{enabled:function enabled(){return 100!==_this1039.board.zoom;},exec:function exec(){return _this1039.board.zoom=100;}},zoomToFitAllViews:{enabled:function enabled(){return _this1039.board.canZoomToFitAllViews();},exec:function exec(){return _this1039.board.zoomToFitAllViews();}},zoomToFitAllObjects:{enabled:function enabled(){return _this1039.board.canZoomToFitAllObjects();},exec:function exec(){return _this1039.board.zoomToFitAllObjects();}},zoomToFitSelectedObjects:{enabled:function enabled(){return _this1039.board.canZoomToFitSelectedObjects();},exec:function exec(){return _this1039.board.zoomToFitSelectedObjects("center");}},group:{enabled:function enabled(){return _this1039.ZP();},exec:function exec(){return _this1039.KP();}},ungroup:{enabled:function enabled(){return _this1039.QP();},exec:function exec(){return _this1039.JP();}},clip:{enabled:function enabled(){return _this1039.tD();},exec:function exec(){return _this1039.eD();}},unclip:{enabled:function enabled(){return _this1039.iD();},exec:function exec(){return _this1039.sD();}},mask:{enabled:function enabled(){return _this1039.nD();},exec:function exec(){return _this1039.oD();}},unmask:{enabled:function enabled(){return _this1039.lD();},exec:function exec(){return _this1039.hD();}},increaseOpacity:{enabled:function enabled(){return _this1039.aD();},exec:function exec(){return _this1039.rD();}},decreaseOpacity:{enabled:function enabled(){return _this1039.dD();},exec:function exec(){return _this1039.cD();}},increaseFillOpacity:{enabled:function enabled(){return _this1039.pD();},exec:function exec(){return _this1039.uD();}},decreaseFillOpacity:{enabled:function enabled(){return _this1039.xD();},exec:function exec(){return _this1039.bD();}},increaseStrokeOpacity:{enabled:function enabled(){return _this1039.mD();},exec:function exec(){return _this1039.gD();}},decreaseStrokeOpacity:{enabled:function enabled(){return _this1039.fD();},exec:function exec(){return _this1039.wD();}},raise:{enabled:function enabled(){return _this1039.vD();},exec:function exec(){return _this1039.yD();}},raiseToFront:{enabled:function enabled(){return _this1039.vD();},exec:function exec(){return _this1039.kD();}},lower:{enabled:function enabled(){return _this1039.SD();},exec:function exec(){return _this1039._D();}},lowerToBack:{enabled:function enabled(){return _this1039.SD();},exec:function exec(){return _this1039.CD();}},rotateClockwise:{enabled:function enabled(){return _this1039.MD();},exec:function exec(){return _this1039.PD(90);}},rotateCounterclockwise:{enabled:function enabled(){return _this1039.MD();},exec:function exec(){return _this1039.PD(-90);}},flipX:{enabled:function enabled(){return _this1039.DD();},exec:function exec(){return _this1039.zD("x");}},flipY:{enabled:function enabled(){return _this1039.DD();},exec:function exec(){return _this1039.zD("y");}},removeTransform:{enabled:function enabled(){return _this1039.OD();},exec:function exec(){return _this1039.ED();}},reduceTransform:{enabled:function enabled(){return _this1039.TD();},exec:function exec(){return _this1039.AD();}},moveOneUnitLeft:{enabled:function enabled(){return _this1039.$D();},exec:function exec(){return _this1039.ID(1,"left");}},moveOneUnitRight:{enabled:function enabled(){return _this1039.$D();},exec:function exec(){return _this1039.ID(1,"right");}},moveOneUnitUp:{enabled:function enabled(){return _this1039.$D();},exec:function exec(){return _this1039.ID(1,"up");}},moveOneUnitDown:{enabled:function enabled(){return _this1039.$D();},exec:function exec(){return _this1039.ID(1,"down");}},moveTenUnitsLeft:{enabled:function enabled(){return _this1039.$D();},exec:function exec(){return _this1039.ID(10,"left");}},moveTenUnitsRight:{enabled:function enabled(){return _this1039.$D();},exec:function exec(){return _this1039.ID(10,"right");}},moveTenUnitsUp:{enabled:function enabled(){return _this1039.$D();},exec:function exec(){return _this1039.ID(10,"up");}},moveTenUnitsDown:{enabled:function enabled(){return _this1039.$D();},exec:function exec(){return _this1039.ID(10,"down");}},grabPaintColor:{enabled:function enabled(){return _this1039.LD();},exec:function exec(){return _this1039.BD();}},reorient:{enabled:function enabled(){return _this1039.RD();},exec:function exec(){return _this1039.GD();}},reverse:{enabled:function enabled(){return _this1039.FD();},exec:function exec(){return _this1039.UD();}},shapeToPath:{enabled:function enabled(){return _this1039.ND();},exec:function exec(){return _this1039.VD();}},strokeToPath:{enabled:function enabled(){return _this1039.jD();},exec:function exec(){return _this1039.HD();}},unite:{enabled:function enabled(){return _this1039.YD("unite");},exec:function exec(){return _this1039.WD("unite");}},subtract:{enabled:function enabled(){return _this1039.YD("subtract");},exec:function exec(){return _this1039.WD("subtract");}},intersect:{enabled:function enabled(){return _this1039.YD("intersect");},exec:function exec(){return _this1039.WD("intersect");}},exclude:{enabled:function enabled(){return _this1039.YD("exclude");},exec:function exec(){return _this1039.WD("exclude");}},joinPaths:{enabled:function enabled(){return _this1039.qD();},exec:function exec(){return _this1039.XD();}},splitPath:{enabled:function enabled(){return _this1039.ZD();},exec:function exec(){return _this1039.KD();}},openPath:{enabled:function enabled(){return _this1039.QD();},exec:function exec(){return _this1039.JD();}},closePath:{enabled:function enabled(){return _this1039.tz();},exec:function exec(){return _this1039.ez();}},insetPath:{enabled:function enabled(){return _this1039.iz();},exec:function exec(){return _this1039.sz(-1);}},outsetPath:{enabled:function enabled(){return _this1039.iz();},exec:function exec(){return _this1039.sz(1);}},simplifyPath:{enabled:function enabled(){return _this1039.nz();},exec:function exec(){return _this1039.oz();}},complexifyPath:{enabled:function enabled(){return _this1039.lz();},exec:function exec(){return _this1039.hz();}},joinNodes:{enabled:function enabled(){return _this1039.az();},exec:function exec(){return _this1039.rz();}},splitNode:{enabled:function enabled(){return _this1039.dz();},exec:function exec(){return _this1039.cz();}},deleteNode:{enabled:function enabled(){return _this1039.pz();},exec:function exec(){return _this1039.uz();}},breakNode:{enabled:function enabled(){return _this1039.xz();},exec:function exec(){return _this1039.bz();}},previousTool:{enabled:function enabled(){return _this1039.mz();},exec:function exec(){return _this1039.togglePreviousTool();}},transformTool:{exec:function exec(){return _this1039.toggleTool("transform-tool");}},editTool:{exec:function exec(){return _this1039.toggleTool("edit-tool");}},panTool:{exec:function exec(){return _this1039.toggleTool("pan-tool");}},quadBezierTool:{exec:function exec(){return _this1039.toggleTool("quad-bezier-tool");}},cubicBezierTool:{exec:function exec(){return _this1039.toggleTool("cubic-bezier-tool");}},arcTool:{exec:function exec(){return _this1039.toggleTool("arc-tool");}},freehandTool:{exec:function exec(){return _this1039.toggleTool("freehand-tool");}},blobTool:{exec:function exec(){return _this1039.toggleTool("blob-tool");}},textTool:{exec:function exec(){return _this1039.toggleTool("text-tool");}},textPathTool:{exec:function exec(){return _this1039.toggleTool("text-path-tool");}},viewTool:{exec:function exec(){return _this1039.toggleTool("view-tool");}},rectTool:{exec:function exec(){return _this1039.toggleTool("rect-tool");}},circleTool:{exec:function exec(){return _this1039.toggleTool("circle-tool");}},ellipseTool:{exec:function exec(){return _this1039.toggleTool("ellipse-tool");}},ringTool:{exec:function exec(){return _this1039.toggleTool("ring-tool");}},pieTool:{exec:function exec(){return _this1039.toggleTool("pie-tool");}},crescentTool:{exec:function exec(){return _this1039.toggleTool("crescent-tool");}},triangleTool:{exec:function exec(){return _this1039.toggleTool("triangle-tool");}},nGonTool:{exec:function exec(){return _this1039.toggleTool("n-gon-tool");}},starTool:{exec:function exec(){return _this1039.toggleTool("star-tool");}},cogTool:{exec:function exec(){return _this1039.toggleTool("cog-tool");}},arrowTool:{exec:function exec(){return _this1039.toggleTool("arrow-tool");}},crossTool:{exec:function exec(){return _this1039.toggleTool("cross-tool");}},lineTool:{exec:function exec(){return _this1039.toggleTool("line-tool");}},polylineTool:{exec:function exec(){return _this1039.toggleTool("polyline-tool");}},polygonTool:{exec:function exec(){return _this1039.toggleTool("polygon-tool");}},fillPanel:{exec:function exec(){return _this1039.togglePrimaryPanel("fill-panel");}},strokePanel:{exec:function exec(){return _this1039.togglePrimaryPanel("stroke-panel");}},compositingPanel:{exec:function exec(){return _this1039.togglePrimaryPanel("compositing-panel");}},typographyPanel:{exec:function exec(){return _this1039.togglePrimaryPanel("typography-panel");}},geometryPanel:{exec:function exec(){return _this1039.togglePrimaryPanel("geometry-panel");}},metaPanel:{exec:function exec(){return _this1039.togglePrimaryPanel("meta-panel");}},shapePanel:{exec:function exec(){return _this1039.togglePrimaryPanel("shape-panel");}},arrangementPanel:{exec:function exec(){return _this1039.togglePrimaryPanel("arrangement-panel");}},viewPanel:{exec:function exec(){return _this1039.togglePrimaryPanel("view-panel");}},generatorsPanel:{exec:function exec(){return _this1039.togglePrimaryPanel("generators-panel");}},exportPanel:{exec:function exec(){return _this1039.togglePrimaryPanel("export-panel");}},libraryPanel:{exec:function exec(){return _this1039.togglePrimaryPanel("library-panel");}},defsPanel:{exec:function exec(){return _this1039.togglePrimaryPanel("defs-panel");}},objectsPanel:{exec:function exec(){return _this1039.togglePrimaryPanel("objects-panel");}},historyPanel:{exec:function exec(){return _this1039.togglePrimaryPanel("history-panel");}},elementsPanel:{exec:function exec(){return _this1039.toggleSecondaryPanel("elements-panel");}},codePanel:{exec:function exec(){return _this1039.toggleSecondaryPanel("code-panel");}},animationPanel:{exec:function exec(){return _this1039.toggleSecondaryPanel("animation-panel");}}}),_temp51),_this1039.gz=null,_this1039.fz=null,_this1039.wz=!1,_this1039._shadowRoot=_this1039.attachShadow({mode:"closed"}),_this1039._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,tw._shadowStyleSheet],_this1039._shadowRoot.append(document.importNode(tw._shadowTemplate.content,!0));var _iterator1613=_createForOfIteratorHelper(_this1039._shadowRoot.querySelectorAll("[id]")),_step1613;try{for(_iterator1613.s();!(_step1613=_iterator1613.n()).done;){var t=_step1613.value;_this1039["#"+t.id]=t;}}catch(err){_iterator1613.e(err);}finally{_iterator1613.f();}var _loop51=function _loop51(){var t=_arr85[_i1652];Jf(_assertThisInitialized(_this1039),ni(t.id),{get:function get(){return t;}});};for(var _i1652=0,_arr85=[].concat(_toConsumableArray(_this1039["#primary-panels-dock"].children),_toConsumableArray(_this1039["#secondary-panels-dock"].children));_i1652<_arr85.length;_i1652++){_loop51();}_this1039.board.undoManager.addEventListener("change",function(t){return _this1039.JM(t);}),_this1039["#tools-dock"].addEventListener("toggle",function(){return _this1039.qs();}),_this1039["#primary-panels-dock"].addEventListener("toggle",function(){return _this1039.qs();}),_this1039["#color-grabber"].addEventListener("blur",function(){return _this1039.focus();}),_this1039["#object-grabber"].addEventListener("blur",function(){return _this1039.focus();});return _this1039;}_createClass(tw,[{key:"connectedCallback",value:function(){var _connectedCallback8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee219(){var t,_e1856,_t2470,_iterator1614,_step1614,_e1857,_t2471,_t2472;return regeneratorRuntime.wrap(function _callee219$(_context220){while(1){switch(_context220.prev=_context220.next){case 0:if(!(this.Qs=Ti(this,"#app"),this.tabIndex=0,!1===this.wz)){_context220.next=10;break;}if(!(this.wz=!0,this.qs(),window.argv.includes("--debug"))){_context220.next=9;break;}t=window.argv.filter(function(t){return t.startsWith("--")&&t.endsWith("-panel");}),_e1856=window.argv.find(function(t){return t.startsWith("--")&&t.endsWith("-tool");});if(_e1856){_t2470=_e1856.substring(2);this.toggleTool(_t2470);}if(!(t.length>0)){_context220.next=9;break;}_context220.next=7;return Ki(500);case 7:_iterator1614=_createForOfIteratorHelper(t);try{for(_iterator1614.s();!(_step1614=_iterator1614.n()).done;){_e1857=_step1614.value;_t2471=_e1857.substring(2);this.primaryPanelsDock.querySelector("#"+_t2471)?this.togglePrimaryPanel(_t2471):this.secondaryPanelsDock.querySelector("#"+_t2471)&&this.toggleSecondaryPanel(_t2471);}}catch(err){_iterator1614.e(err);}finally{_iterator1614.f();}case 9:if(window.argv.includes("--select")){_t2472=window.argv[window.argv.indexOf("--select")+1];_t2472&&(this.board.selectedElements=_toConsumableArray(this.board.currentWorkspace.querySelectorAll(_t2472)));}case 10:case"end":return _context220.stop();}}},_callee219,this);}));function connectedCallback(){return _connectedCallback8.apply(this,arguments);}return connectedCallback;}()},{key:"JM",value:function JM(t){this.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:t.detail}));}},{key:"qs",value:function qs(){var t=this["#tools-dock"].value,e=this["#primary-panels-dock"].value;t!==this.gz&&(this.fz=this.gz,this.gz=t),"transform-tool"===t?(this["#board"].outlineHud.enabled=!0,this["#board"].outlineHud.context="transform",this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!0,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!0,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"edit-tool"===t?(this["#board"].outlineHud.enabled=!0,this["#board"].outlineHud.context="edit",this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!0,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!0,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!0,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"pan-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!1,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!0,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"cubic-bezier-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!0,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!0,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"quad-bezier-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!0,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!0,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"arc-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!0,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!0,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"freehand-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!0,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!0,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"blob-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!0,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!0,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"text-tool"===t?(this["#board"].outlineHud.enabled=!0,this["#board"].outlineHud.context="edit-text",this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!1,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!0,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!0,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"text-path-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!0,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"view-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!0,this["#board"].rubberBandHud.enabled=!1,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!0):["rect-tool","circle-tool","ellipse-tool","ring-tool","pie-tool","crescent-tool","triangle-tool","n-gon-tool","star-tool","cog-tool","arrow-tool","cross-tool"].includes(t)?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!1,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!0,this["#board"].shapeContext.shape=t.substring(0,t.indexOf("-tool")),this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"line-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!0,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"polyline-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!0,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"polygon-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!0,this["#board"].viewContext.enabled=!1):(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!1,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1),"edit-tool"===t?(this["#board"].rectHud.enabled=!0,this["#board"].circleHud.enabled=!0,this["#board"].ellipseHud.enabled=!0,this["#board"].ringHud.enabled=!0,this["#board"].pieHud.enabled=!0,this["#board"].crescentHud.enabled=!0,this["#board"].triangleHud.enabled=!0,this["#board"].nGonHud.enabled=!0,this["#board"].starHud.enabled=!0,this["#board"].cogHud.enabled=!0,this["#board"].arrowHud.enabled=!0,this["#board"].crossHud.enabled=!0,this["#board"].lineHud.enabled=!0,this["#board"].polyHud.enabled=!0):(this["#board"].rectHud.enabled=!1,this["#board"].circleHud.enabled=!1,this["#board"].ellipseHud.enabled=!1,this["#board"].ringHud.enabled=!1,this["#board"].pieHud.enabled=!1,this["#board"].crescentHud.enabled=!1,this["#board"].triangleHud.enabled=!1,this["#board"].nGonHud.enabled=!1,this["#board"].starHud.enabled=!1,this["#board"].cogHud.enabled=!1,this["#board"].arrowHud.enabled=!1,this["#board"].crossHud.enabled=!1,this["#board"].lineHud.enabled=!1,this["#board"].polyHud.enabled=!1),"edit-tool"===t&&"fill-panel"===e?(this["#board"].linearGradientHud.context="fill",this["#board"].radialGradientHud.context="fill",this["#board"].patternHud.context="fill",this["#board"].linearGradientHud.enabled=!0,this["#board"].radialGradientHud.enabled=!0,this["#board"].patternHud.enabled=!0):"edit-tool"===t&&"stroke-panel"===e?(this["#board"].linearGradientHud.context="stroke",this["#board"].radialGradientHud.context="stroke",this["#board"].patternHud.context="stroke",this["#board"].linearGradientHud.enabled=!0,this["#board"].radialGradientHud.enabled=!0,this["#board"].patternHud.enabled=!0):(this["#board"].linearGradientHud.enabled=!1,this["#board"].radialGradientHud.enabled=!1,this["#board"].patternHud.enabled=!1),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"toggleTool",value:function toggleTool(t){this["#tools-dock"].value=t,this.qs();}},{key:"togglePreviousTool",value:function togglePreviousTool(){this.fz&&this.toggleTool(this.fz);}},{key:"mz",value:function mz(){return null!==this.fz;}},{key:"togglePrimaryPanel",value:function togglePrimaryPanel(t){this["#primary-panels-dock"].value===t?this["#primary-panels-dock"].value=null:this["#primary-panels-dock"].value=t,this.qs();}},{key:"toggleSecondaryPanel",value:function toggleSecondaryPanel(t){this["#secondary-panels-dock"].value===t?this["#secondary-panels-dock"].value=null:this["#secondary-panels-dock"].value=t,this.qs();}},{key:"ID",value:function ID(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"left";if(this.board.undoManager.checkpoint("Move"),0===this.board.outermostSelectedElements.length){if("view-tool"===this.toolsDock.value&&this.board.currentWorkspace.hasAttribute("viewBox")){var _i1653=Lt.fromString(this.board.currentWorkspace.getAttribute("viewBox"));"left"===e?_i1653.x-=t:"right"===e?_i1653.x+=t:"up"===e?_i1653.y-=t:"down"===e&&(_i1653.y+=t),this.board.currentWorkspace.setAttribute("viewBox",_i1653.toString());}}else{var _iterator1615=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1615;try{for(_iterator1615.s();!(_step1615=_iterator1615.n()).done;){var _i1654=_step1615.value;if("view"===_i1654.localName){var _s981=Lt.fromString(_i1654.getAttribute("viewBox")||"0 0 0 0");"left"===e?_s981.x-=t:"right"===e?_s981.x+=t:"up"===e?_s981.y-=t:"down"===e&&(_s981.y+=t),_i1654.setAttribute("viewBox",_s981.toString());}else if("bx-guide"===_i1654.localName){var _s982=Np.fromString(_i1654.getAttribute("x")).value,_n700=Np.fromString(_i1654.getAttribute("y")).value;"left"===e?_s982-=t:"right"===e?_s982+=t:"up"===e?_n700-=t:"down"===e&&(_n700+=t),_i1654.setAttribute("x",_s982),_i1654.setAttribute("y",_n700),this["#board"].manualGuidesHud.requestImmidiateUpdate();}else{var _s983=Ut(_i1654),_n701=Nt(_i1654,this.board.currentWorkspace),_o541=_n701.inverse(),_l400=new DOMMatrix();"left"===e?_l400.translateSelf(-t,0):"right"===e?_l400.translateSelf(t,0):"up"===e?_l400.translateSelf(0,-t):"down"===e&&_l400.translateSelf(0,t);var _h293=DOMMatrix.fromMatrix(_s983);_h293.multiplySelf(_o541),_h293.multiplySelf(_l400),_h293.multiplySelf(_n701),_i1654.setAttribute("transform",_h293.toString()),uh(_i1654,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}}catch(err){_iterator1615.e(err);}finally{_iterator1615.f();}}}},{key:"$D",value:function $D(){return 0!==this.board.outermostSelectedElements.length||!("view-tool"!==this.toolsDock.value||!this.board.currentWorkspace.hasAttribute("viewBox"));}},{key:"zD",value:function zD(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"x";this.board.undoManager.checkpoint("Flip");var e=_toConsumableArray(this.board.outermostSelectedObjectElements),i=e.map(function(t){return Ci(t);}),s=Ue(i);var _iterator1616=_createForOfIteratorHelper(e),_step1616;try{for(_iterator1616.s();!(_step1616=_iterator1616.n()).done;){var _i1655=_step1616.value;var _e1858=void 0,_n702=Ut(_i1655),_o542=Vt(_i1655),_l401=_o542.inverse();if("x"===t){var _t2473=2*(s.x+s.width/2);_e1858=new DOMMatrix([-1,0,0,1,_t2473,0]);}else if("y"===t){var _t2474=2*(s.y+s.height/2);_e1858=new DOMMatrix([1,0,0,-1,0,_t2474]);}var _h294=DOMMatrix.fromMatrix(_n702);_h294.multiplySelf(_l401),_h294.multiplySelf(_e1858),_h294.multiplySelf(_o542),_i1655.setAttribute("transform",_h294.toString()),uh(_i1655,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1616.e(err);}finally{_iterator1616.f();}}},{key:"DD",value:function DD(){return this.board.selectedObjectElements.length>0;}},{key:"ED",value:function ED(){this.board.undoManager.checkpoint("Remove transform");var _iterator1617=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1617;try{for(_iterator1617.s();!(_step1617=_iterator1617.n()).done;){var t=_step1617.value;f.includes(t.localName)&&t.removeAttribute("transform");}}catch(err){_iterator1617.e(err);}finally{_iterator1617.f();}}},{key:"OD",value:function OD(){var _iterator1618=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1618;try{for(_iterator1618.s();!(_step1618=_iterator1618.n()).done;){var t=_step1618.value;if(f.includes(t.localName)&&t.hasAttribute("transform"))return!0;}}catch(err){_iterator1618.e(err);}finally{_iterator1618.f();}}},{key:"AD",value:function AD(){this.board.undoManager.checkpoint("Reduce transform");var _iterator1619=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1619;try{for(_iterator1619.s();!(_step1619=_iterator1619.n()).done;){var t=_step1619.value;f.includes(t.localName)&&t.hasAttribute("transform")&&uh(t,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision,preserveRotation:!1});}}catch(err){_iterator1619.e(err);}finally{_iterator1619.f();}}},{key:"TD",value:function TD(){var _iterator1620=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1620;try{for(_iterator1620.s();!(_step1620=_iterator1620.n()).done;){var t=_step1620.value;if(f.includes(t.localName)&&t.hasAttribute("transform"))return!0;}}catch(err){_iterator1620.e(err);}finally{_iterator1620.f();}}},{key:"PD",value:function PD(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:90;this.board.undoManager.checkpoint("Rotate");var e=_toConsumableArray(this.board.outermostSelectedObjectElements),i=Qt(e);var _iterator1621=_createForOfIteratorHelper(e),_step1621;try{for(_iterator1621.s();!(_step1621=_iterator1621.n()).done;){var _s984=_step1621.value;var _e1859=Ut(_s984),_n703=Vt(_s984),_o543=_n703.inverse(),_l402=DOMMatrix.fromMatrix(_e1859);_l402.multiplySelf(_o543),_l402.translateSelf(i.x,i.y),_l402.rotateSelf(t),_l402.translateSelf(-i.x,-i.y),_l402.multiplySelf(_n703),_s984.setAttribute("transform",_l402.toString()),uh(_s984,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1621.e(err);}finally{_iterator1621.f();}}},{key:"MD",value:function MD(){return this.board.selectedObjectElements.length>0;}},{key:"yD",value:function yD(){this.board.undoManager.checkpoint("Raise");var _iterator1622=_createForOfIteratorHelper(Bi(this.board.outermostSelectedObjectElements)),_step1622;try{for(_iterator1622.s();!(_step1622=_iterator1622.n()).done;){var t=_step1622.value;var _iterator1623=_createForOfIteratorHelper(Ui(t)),_step1623;try{var _loop52=function _loop52(){var e=_step1623.value;var t=_toConsumableArray(e[0].parentElement.children).filter(function(t){if(e.includes(t))return!1;if(!1===[].concat(m,["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1624=_createForOfIteratorHelper(e),_step1624;try{for(_iterator1624.s();!(_step1624=_iterator1624.n()).done;){var _i1656=_step1624.value;if(Fi(t,_i1656))return!0;}}catch(err){_iterator1624.e(err);}finally{_iterator1624.f();}return!1;}).find(function(t){return Oi(t)>Oi(e[e.length-1]);});if(t){var _iterator1625=_createForOfIteratorHelper(e.reverse()),_step1625;try{for(_iterator1625.s();!(_step1625=_iterator1625.n()).done;){var _i1657=_step1625.value;t.after(_i1657);}}catch(err){_iterator1625.e(err);}finally{_iterator1625.f();}}};for(_iterator1623.s();!(_step1623=_iterator1623.n()).done;){_loop52();}}catch(err){_iterator1623.e(err);}finally{_iterator1623.f();}}}catch(err){_iterator1622.e(err);}finally{_iterator1622.f();}}},{key:"kD",value:function kD(){this.board.undoManager.checkpoint("Raise to Front");var _iterator1626=_createForOfIteratorHelper(Bi(this.board.outermostSelectedObjectElements)),_step1626;try{for(_iterator1626.s();!(_step1626=_iterator1626.n()).done;){var t=_step1626.value;var _iterator1627=_createForOfIteratorHelper(Ui(t)),_step1627;try{var _loop53=function _loop53(){var e=_step1627.value;var t=_toConsumableArray(e[0].parentElement.children).filter(function(t){if(e.includes(t))return!1;if(!1===[].concat(m,["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1628=_createForOfIteratorHelper(e),_step1628;try{for(_iterator1628.s();!(_step1628=_iterator1628.n()).done;){var _i1658=_step1628.value;if(Fi(t,_i1658))return!0;}}catch(err){_iterator1628.e(err);}finally{_iterator1628.f();}return!1;}),i=t[t.length-1];if(i){var _iterator1629=_createForOfIteratorHelper(e.reverse()),_step1629;try{for(_iterator1629.s();!(_step1629=_iterator1629.n()).done;){var _t2475=_step1629.value;i.after(_t2475);}}catch(err){_iterator1629.e(err);}finally{_iterator1629.f();}}};for(_iterator1627.s();!(_step1627=_iterator1627.n()).done;){_loop53();}}catch(err){_iterator1627.e(err);}finally{_iterator1627.f();}}}catch(err){_iterator1626.e(err);}finally{_iterator1626.f();}}},{key:"vD",value:function vD(){var t=Bi(this.board.outermostSelectedObjectElements),e=Symbol();var _iterator1630=_createForOfIteratorHelper(t),_step1630;try{for(_iterator1630.s();!(_step1630=_iterator1630.n()).done;){var _i1659=_step1630.value;var _t2476=Ui(_i1659);var _iterator1631=_createForOfIteratorHelper(_t2476),_step1631;try{var _loop54=function _loop54(){var i=_step1631.value;if(_toConsumableArray(i[0].parentElement.children).filter(function(t){if(t.transform){if(i.includes(t))return!1;if(!1===[].concat(m,["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1632=_createForOfIteratorHelper(i),_step1632;try{for(_iterator1632.s();!(_step1632=_iterator1632.n()).done;){var _s985=_step1632.value;if(_s985.transform&&(_s985[e]||(_s985[e]=Ci(_s985)),t[e]||(t[e]=Ci(t)),je(_s985[e],t[e])))return!0;}}catch(err){_iterator1632.e(err);}finally{_iterator1632.f();}return!1;}return!1;}).find(function(t){return Oi(t)>Oi(i[i.length-1]);}))return{v:!0};};for(_iterator1631.s();!(_step1631=_iterator1631.n()).done;){var _ret6=_loop54();if(_typeof(_ret6)==="object")return _ret6.v;}}catch(err){_iterator1631.e(err);}finally{_iterator1631.f();}}}catch(err){_iterator1630.e(err);}finally{_iterator1630.f();}return!1;}},{key:"_D",value:function _D(){this.board.undoManager.checkpoint("Lower");var _iterator1633=_createForOfIteratorHelper(Bi(this.board.outermostSelectedObjectElements)),_step1633;try{for(_iterator1633.s();!(_step1633=_iterator1633.n()).done;){var t=_step1633.value;var _iterator1634=_createForOfIteratorHelper(Ui(t)),_step1634;try{var _loop55=function _loop55(){var e=_step1634.value;var t=_toConsumableArray(e[0].parentElement.children).filter(function(t){if(e.includes(t))return!1;if(!1===[].concat(m,["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1635=_createForOfIteratorHelper(e),_step1635;try{for(_iterator1635.s();!(_step1635=_iterator1635.n()).done;){var _i1660=_step1635.value;if(Fi(t,_i1660))return!0;}}catch(err){_iterator1635.e(err);}finally{_iterator1635.f();}return!1;}).reverse().find(function(t){return Oi(t)<Oi(e[0]);});if(t){var _iterator1636=_createForOfIteratorHelper(e),_step1636;try{for(_iterator1636.s();!(_step1636=_iterator1636.n()).done;){var _i1661=_step1636.value;t.before(_i1661);}}catch(err){_iterator1636.e(err);}finally{_iterator1636.f();}}};for(_iterator1634.s();!(_step1634=_iterator1634.n()).done;){_loop55();}}catch(err){_iterator1634.e(err);}finally{_iterator1634.f();}}}catch(err){_iterator1633.e(err);}finally{_iterator1633.f();}}},{key:"CD",value:function CD(){this.board.undoManager.checkpoint("Lower to Back");var _iterator1637=_createForOfIteratorHelper(Bi(this.board.outermostSelectedObjectElements)),_step1637;try{for(_iterator1637.s();!(_step1637=_iterator1637.n()).done;){var t=_step1637.value;var _iterator1638=_createForOfIteratorHelper(Ui(t)),_step1638;try{var _loop56=function _loop56(){var e=_step1638.value;var t=_toConsumableArray(e[0].parentElement.children).filter(function(t){if(e.includes(t))return!1;if(!1===[].concat(m,["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1639=_createForOfIteratorHelper(e),_step1639;try{for(_iterator1639.s();!(_step1639=_iterator1639.n()).done;){var _i1662=_step1639.value;if(Fi(t,_i1662))return!0;}}catch(err){_iterator1639.e(err);}finally{_iterator1639.f();}return!1;})[0];if(t){var _iterator1640=_createForOfIteratorHelper(e),_step1640;try{for(_iterator1640.s();!(_step1640=_iterator1640.n()).done;){var _i1663=_step1640.value;t.before(_i1663);}}catch(err){_iterator1640.e(err);}finally{_iterator1640.f();}}};for(_iterator1638.s();!(_step1638=_iterator1638.n()).done;){_loop56();}}catch(err){_iterator1638.e(err);}finally{_iterator1638.f();}}}catch(err){_iterator1637.e(err);}finally{_iterator1637.f();}}},{key:"SD",value:function SD(){var t=Bi(this.board.outermostSelectedObjectElements),e=Symbol();var _iterator1641=_createForOfIteratorHelper(t),_step1641;try{for(_iterator1641.s();!(_step1641=_iterator1641.n()).done;){var _i1664=_step1641.value;var _t2477=Ui(_i1664);var _iterator1642=_createForOfIteratorHelper(_t2477),_step1642;try{var _loop57=function _loop57(){var i=_step1642.value;if(_toConsumableArray(i[0].parentElement.children).filter(function(t){if(t.transform){if(i.includes(t))return!1;if(!1===[].concat(m,["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1643=_createForOfIteratorHelper(i),_step1643;try{for(_iterator1643.s();!(_step1643=_iterator1643.n()).done;){var _s986=_step1643.value;if(_s986.transform&&(_s986[e]||(_s986[e]=Ci(_s986)),t[e]||(t[e]=Ci(t)),je(_s986[e],t[e])))return!0;}}catch(err){_iterator1643.e(err);}finally{_iterator1643.f();}return!1;}return!1;}).find(function(t){return Oi(t)<Oi(i[0]);}))return{v:!0};};for(_iterator1642.s();!(_step1642=_iterator1642.n()).done;){var _ret7=_loop57();if(_typeof(_ret7)==="object")return _ret7.v;}}catch(err){_iterator1642.e(err);}finally{_iterator1642.f();}}}catch(err){_iterator1641.e(err);}finally{_iterator1641.f();}return!1;}},{key:"KP",value:function KP(){this.board.undoManager.checkpoint("Group");var t=document.createDocumentFragment(),e=_toConsumableArray(this.board.outermostSelectedObjectElements),i=Di("svg:g");e[0].after(i),e=Li(e);var _iterator1644=_createForOfIteratorHelper(e),_step1644;try{for(_iterator1644.s();!(_step1644=_iterator1644.n()).done;){var _s987=_step1644.value;var _e1860=Nt(_s987,i);_s987.setAttribute("transform",_e1860.toString()),t.append(_s987);}}catch(err){_iterator1644.e(err);}finally{_iterator1644.f();}i.append(t);var _iterator1645=_createForOfIteratorHelper(i.children),_step1645;try{for(_iterator1645.s();!(_step1645=_iterator1645.n()).done;){var _t2478=_step1645.value;uh(_t2478,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1645.e(err);}finally{_iterator1645.f();}this.board.selectedElements=[i];}},{key:"ZP",value:function ZP(){return this.board.selectedObjectElements.length>0;}},{key:"JP",value:function JP(){this.board.undoManager.checkpoint("Ungroup");var t=_toConsumableArray(this.board.outermostSelectedObjectElements),e=[];var _iterator1646=_createForOfIteratorHelper(t),_step1646;try{for(_iterator1646.s();!(_step1646=_iterator1646.n()).done;){var _i1665=_step1646.value;if("g"===_i1665.localName){var _t2479=_i1665,_s988=document.createDocumentFragment();for(var _i1666=0,_arr86=_toConsumableArray(_t2479.children);_i1666<_arr86.length;_i1666++){var _i1667=_arr86[_i1666];if("bx-title"!==_i1667.localName&&"desc"!==_i1667.localName){if(this.board.isSelectableElement(_i1667)){var _s989=Nt(_i1667,_t2479.parentElement);_i1667.setAttribute("transform",_s989.toString()),uh(_i1667,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision}),e.push(_i1667);}var _iterator1647=_createForOfIteratorHelper(_t2479.attributes),_step1647;try{for(_iterator1647.s();!(_step1647=_iterator1647.n()).done;){var _step1647$value=_step1647.value,_e1861=_step1647$value.name,_s990=_step1647$value.value;G.includes(_e1861)&&!1===_i1667.hasAttribute(_e1861)&&_i1667.setAttribute(_e1861,_s990);}}catch(err){_iterator1647.e(err);}finally{_iterator1647.f();}var _iterator1648=_createForOfIteratorHelper(_t2479.style),_step1648;try{for(_iterator1648.s();!(_step1648=_iterator1648.n()).done;){var _e1862=_step1648.value;var _s991=_t2479.style.getPropertyValue(_e1862);""===_i1667.style.getPropertyValue(_e1862)&&_i1667.style.setProperty(_e1862,_s991);}}catch(err){_iterator1648.e(err);}finally{_iterator1648.f();}_s988.append(_i1667);}}_t2479.before(_s988),_t2479.remove();}else e.push(_i1665);}}catch(err){_iterator1646.e(err);}finally{_iterator1646.f();}this.board.selectedElements=[].concat(e);}},{key:"QP",value:function QP(){if(0===this.board.selectedObjectElements.length)return!1;var _iterator1649=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1649;try{for(_iterator1649.s();!(_step1649=_iterator1649.n()).done;){var t=_step1649.value;if("g"===t.localName)return!0;}}catch(err){_iterator1649.e(err);}finally{_iterator1649.f();}return!1;}},{key:"eD",value:function eD(){this.board.undoManager.checkpoint("Clip");var _this$board$outermost=_toArray(this.board.outermostSelectedObjectElements),t=_this$board$outermost[0],e=_this$board$outermost.slice(1),i=F(t),s=t.parentElement;s===this.board.currentWorkspace&&(s=null),i?(i.innerHTML="",i.removeAttribute("transform")):(i=Di("svg:clipPath"),i.id=this.board.generateUniqueID("clip"),this.board.defs.append(i));var _iterator1650=_createForOfIteratorHelper(e),_step1650;try{for(_iterator1650.s();!(_step1650=_iterator1650.n()).done;){var _s992=_step1650.value;var _e1863=Nt(_s992,t);_s992.setAttribute("transform",_e1863.toString()),i.append(_s992),uh(_s992,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1650.e(err);}finally{_iterator1650.f();}t.style.clipPath="url(#".concat(i.id,")"),this.board.currentContainer=s,this.board.selectedElements=[t],this.board.selectedTextRange=null;}},{key:"tD",value:function tD(){var _this$board$outermost2=_toArray(this.board.outermostSelectedObjectElements),t=_this$board$outermost2[0],e=_this$board$outermost2.slice(1);if(!t||!_.includes(t.localName))return!1;if(0===e.length)return!1;var _iterator1651=_createForOfIteratorHelper(e),_step1651;try{for(_iterator1651.s();!(_step1651=_iterator1651.n()).done;){var _t2480=_step1651.value;if(!1===S.includes(_t2480.localName))return!1;}}catch(err){_iterator1651.e(err);}finally{_iterator1651.f();}return"none"===getComputedStyle(t).clipPath;}},{key:"sD",value:function sD(){if(!1===this.iD())return;this.board.undoManager.checkpoint("Unclip");var t=[];var _iterator1652=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1652;try{for(_iterator1652.s();!(_step1652=_iterator1652.n()).done;){var _e1864=_step1652.value;var _i1668=F(_e1864),_s993=Ut(_e1864);if(_i1668){var _n704=Ut(_i1668);t.push(_e1864);for(var _i1669=0,_arr87=_toConsumableArray(_i1668.children);_i1669<_arr87.length;_i1669++){var _o544=_arr87[_i1669];if(S.includes(_o544.localName)){var _i1670=_o544,_l403=Ut(_i1670),_h295=new DOMMatrix();_h295=_h295.multiply(_s993),_h295=_h295.multiply(_n704),_h295=_h295.multiply(_l403),_i1670.setAttribute("transform",_h295.toString()),_e1864.after(_i1670),t.push(_i1670),uh(_i1670,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}_i1668.remove();}_e1864.style.setProperty("clip-path","none"),ga("clip-path",_e1864);}}catch(err){_iterator1652.e(err);}finally{_iterator1652.f();}this.board.selectedElements=t;}},{key:"iD",value:function iD(){if(0===this.board.selectedObjectElements.length)return!1;var _iterator1653=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1653;try{for(_iterator1653.s();!(_step1653=_iterator1653.n()).done;){var t=_step1653.value;if(!1===_.includes(t.localName)||null===F(t))return!1;}}catch(err){_iterator1653.e(err);}finally{_iterator1653.f();}return!0;}},{key:"oD",value:function oD(){this.board.undoManager.checkpoint("Mask");var _this$board$outermost3=_toArray(this.board.outermostSelectedObjectElements),t=_this$board$outermost3[0],e=_this$board$outermost3.slice(1),i=U(t),s=t.parentElement;s===this.board.currentWorkspace&&(s=null),i?(i.innerHTML="",i.removeAttribute("transform")):(i=Di("svg:mask"),i.id=this.board.generateUniqueID("mask"),this.board.defs.append(i));var _iterator1654=_createForOfIteratorHelper(e),_step1654;try{for(_iterator1654.s();!(_step1654=_iterator1654.n()).done;){var _s994=_step1654.value;var _e1865=Nt(_s994,t);_s994.setAttribute("transform",_e1865.toString()),i.append(_s994),uh(_s994,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1654.e(err);}finally{_iterator1654.f();}t.style.mask="url(#".concat(i.id,")"),this.board.currentContainer=s,this.board.selectedElements=[t],this.board.selectedTextRange=null;}},{key:"nD",value:function nD(){var _this$board$outermost4=_toArray(this.board.outermostSelectedObjectElements),t=_this$board$outermost4[0],e=_this$board$outermost4.slice(1);if(!t||!M.includes(t.localName))return!1;if(0===e.length)return!1;var _iterator1655=_createForOfIteratorHelper(e),_step1655;try{for(_iterator1655.s();!(_step1655=_iterator1655.n()).done;){var _t2481=_step1655.value;if(!1===C.includes(_t2481.localName))return!1;}}catch(err){_iterator1655.e(err);}finally{_iterator1655.f();}return"none"===getComputedStyle(t).mask;}},{key:"hD",value:function hD(){if(!1===this.lD())return;this.board.undoManager.checkpoint("Unmask");var t=[];var _iterator1656=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1656;try{for(_iterator1656.s();!(_step1656=_iterator1656.n()).done;){var _e1866=_step1656.value;var _i1671=U(_e1866),_s995=Ut(_e1866);if(_i1671){t.push(_e1866);for(var _i1672=0,_arr88=_toConsumableArray(_i1671.children);_i1672<_arr88.length;_i1672++){var _n705=_arr88[_i1672];if(C.includes(_n705.localName)){var _i1673=_n705,_o545=Ut(_i1673),_l404=new DOMMatrix();_l404=_l404.multiply(_s995),_l404=_l404.multiply(_o545),_i1673.setAttribute("transform",_l404.toString()),_e1866.after(_i1673),t.push(_i1673),uh(_i1673,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}_i1671.remove();}_e1866.style.setProperty("mask","none"),ga("mask",_e1866);}}catch(err){_iterator1656.e(err);}finally{_iterator1656.f();}this.board.selectedElements=t;}},{key:"lD",value:function lD(){if(0===this.board.selectedObjectElements.length)return!1;var _iterator1657=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1657;try{for(_iterator1657.s();!(_step1657=_iterator1657.n()).done;){var t=_step1657.value;if(!1===M.includes(t.localName)||null===U(t))return!1;}}catch(err){_iterator1657.e(err);}finally{_iterator1657.f();}return!0;}},{key:"rD",value:function rD(){var _this1040=this;var t=Zi(function(){return _this1040.board.undoManager.checkpoint("Increase opacity");});var _iterator1658=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1658;try{for(_iterator1658.s();!(_step1658=_iterator1658.n()).done;){var _e1867=_step1658.value;var _i1674=_e1867.computedStyleMap().get("opacity").value;_i1674<1&&(t(),_i1674=Z(_i1674+.1,0,1,2),_e1867.attributeStyleMap.set("opacity",CSS.number(_i1674)));}}catch(err){_iterator1658.e(err);}finally{_iterator1658.f();}}},{key:"aD",value:function aD(){var _iterator1659=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1659;try{for(_iterator1659.s();!(_step1659=_iterator1659.n()).done;){var t=_step1659.value;if(t.computedStyleMap().get("opacity").value<1)return!0;}}catch(err){_iterator1659.e(err);}finally{_iterator1659.f();}return!1;}},{key:"cD",value:function cD(){var _this1041=this;var t=Zi(function(){return _this1041.board.undoManager.checkpoint("Decrease opacity");});var _iterator1660=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1660;try{for(_iterator1660.s();!(_step1660=_iterator1660.n()).done;){var _e1868=_step1660.value;var _i1675=_e1868.computedStyleMap().get("opacity").value;_i1675>0&&(t(),_i1675=Z(_i1675-.1,0,1,2),_e1868.attributeStyleMap.set("opacity",CSS.number(_i1675)));}}catch(err){_iterator1660.e(err);}finally{_iterator1660.f();}}},{key:"dD",value:function dD(){var _iterator1661=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1661;try{for(_iterator1661.s();!(_step1661=_iterator1661.n()).done;){var t=_step1661.value;if(t.computedStyleMap().get("opacity").value>0)return!0;}}catch(err){_iterator1661.e(err);}finally{_iterator1661.f();}return!1;}},{key:"uD",value:function uD(){var _this1042=this;var t=Zi(function(){return _this1042.board.undoManager.checkpoint("Increase fill opacity");});var _iterator1662=_createForOfIteratorHelper(this.$x()),_step1662;try{for(_iterator1662.s();!(_step1662=_iterator1662.n()).done;){var _e1869=_step1662.value;var _i1676=_e1869.computedStyleMap().get("fill-opacity").value;_i1676<1&&(t(),_i1676=Z(_i1676+.1,0,1,2),_e1869.attributeStyleMap.set("fill-opacity",CSS.number(_i1676)));}}catch(err){_iterator1662.e(err);}finally{_iterator1662.f();}}},{key:"pD",value:function pD(){return this.$x().length>0;}},{key:"bD",value:function bD(){var _this1043=this;var t=Zi(function(){return _this1043.board.undoManager.checkpoint("Decrease fill opacity");});var _iterator1663=_createForOfIteratorHelper(this.$x()),_step1663;try{for(_iterator1663.s();!(_step1663=_iterator1663.n()).done;){var _e1870=_step1663.value;var _i1677=_e1870.computedStyleMap().get("fill-opacity").value;_i1677>0&&(t(),_i1677=Z(_i1677-.1,0,1,2),_e1870.attributeStyleMap.set("fill-opacity",CSS.number(_i1677)));}}catch(err){_iterator1663.e(err);}finally{_iterator1663.f();}}},{key:"xD",value:function xD(){return this.$x().length>0;}},{key:"gD",value:function gD(){var _this1044=this;var t=Zi(function(){return _this1044.board.undoManager.checkpoint("Increase stroke opacity");});var _iterator1664=_createForOfIteratorHelper(this.$x()),_step1664;try{for(_iterator1664.s();!(_step1664=_iterator1664.n()).done;){var _e1871=_step1664.value;var _i1678=_e1871.computedStyleMap().get("stroke-opacity").value;_i1678<1&&(t(),_i1678=Z(_i1678+.1,0,1,2),_e1871.attributeStyleMap.set("stroke-opacity",CSS.number(_i1678)));}}catch(err){_iterator1664.e(err);}finally{_iterator1664.f();}}},{key:"mD",value:function mD(){return this.$x().length>0;}},{key:"wD",value:function wD(){var _this1045=this;var t=Zi(function(){return _this1045.board.undoManager.checkpoint("Decrease stroke opacity");});var _iterator1665=_createForOfIteratorHelper(this.$x()),_step1665;try{for(_iterator1665.s();!(_step1665=_iterator1665.n()).done;){var _e1872=_step1665.value;var _i1679=_e1872.computedStyleMap().get("stroke-opacity").value;_i1679>0&&(t(),_i1679=Z(_i1679-.1,0,1,2),_e1872.attributeStyleMap.set("stroke-opacity",CSS.number(_i1679)));}}catch(err){_iterator1665.e(err);}finally{_iterator1665.f();}}},{key:"fD",value:function fD(){return this.$x().length>0;}},{key:"fd",value:function fd(){this.Qs.textInputMode?document.execCommand("selectAll"):this.board.selectAll();}},{key:"zd",value:function zd(){this.board.deselectAll();}},{key:"UP",value:function UP(){this.Qs.textInputMode&&!1===this.board.textHud.inputMode?document.execCommand("undo"):this.board.undoManager.undo();}},{key:"FP",value:function FP(){return!(!this.Qs.textInputMode||!1!==this.board.textHud.inputMode)||this.board.undoManager.canUndo()&&!1===this.Qs.isPointerDown;}},{key:"VP",value:function VP(){this.Qs.textInputMode&&!1===this.board.textHud.inputMode?document.execCommand("redo"):this.board.undoManager.redo();}},{key:"NP",value:function NP(){return!(!this.Qs.textInputMode||!1!==this.board.textHud.inputMode)||this.board.undoManager.canRedo()&&!1===this.Qs.isPointerDown;}},{key:"RP",value:function(){var _RP=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee220(){var t,_e1873,_e1874,_i1680,_t2482,_e1875,_i1681;return regeneratorRuntime.wrap(function _callee220$(_context221){while(1){switch(_context221.prev=_context221.next){case 0:_context221.next=2;return this.Qs.openImageImportDialog();case 2:t=_context221.sent;if(!t){_context221.next=29;break;}if(!("svg"===t.extension||"svgz"===t.extension)){_context221.next=9;break;}_e1873=ka(t.data);this.board.undoManager.checkpoint("Import"),this.board.insertArtwork(_e1873,"boardCenter");_context221.next=29;break;case 9:if(!("pdf"===t.extension||"ai"===t.extension)){_context221.next=23;break;}_e1874=null,_i1680=null;_context221.prev=11;_context221.next=14;return Bm(t.data);case 14:_e1874=_context221.sent;_context221.next=20;break;case 17:_context221.prev=17;_context221.t0=_context221["catch"](11);_i1680=_context221.t0;case 20:if(_i1680)this.Qs.openMessageDialog({buttons:["OK"],message:"Can't import file",detail:"ai"===t.extension?n:_i1680.message});else{_t2482=ka(_e1874);this.board.undoManager.checkpoint("Import"),this.board.insertArtwork(_t2482,"boardCenter");}_context221.next=29;break;case 23:if(!["png","jpeg","jpg","gif","webp"].includes(t.extension)){_context221.next=29;break;}_context221.next=26;return Qp(t.data);case 26:_e1875=_context221.sent;_i1681=ka(_e1875);this.board.undoManager.checkpoint("Import"),this.board.insertArtwork(_i1681,"boardCenter");case 29:case"end":return _context221.stop();}}},_callee220,this,[[11,17]]);}));function RP(){return _RP.apply(this,arguments);}return RP;}()},{key:"GP",value:function(){var _GP=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee221(){return regeneratorRuntime.wrap(function _callee221$(_context222){while(1){switch(_context222.prev=_context222.next){case 0:_context222.t0="export-panel"===this.primaryPanelsDock.value;if(!_context222.t0){_context222.next=5;break;}this.togglePrimaryPanel(null);_context222.next=5;return Ki(400);case 5:this.togglePrimaryPanel("export-panel");case 6:case"end":return _context222.stop();}}},_callee221,this);}));function GP(){return _GP.apply(this,arguments);}return GP;}()},{key:"jP",value:function jP(){if(this.Qs.textInputMode)document.execCommand("copy");else{this.board.collectGarbage();var t=this.board.extractArtworkWithSelectedElements(),_e1876=this.Qs.getConfig("bx-markupsettings:indentation",2),_i1682=Yp(t,"html",_e1876),_s996={"text/plain":_i1682,"text/html":_i1682,"image/svg+xml":Yp(t,"xml",_e1876)};this.Qs.setClipboardData(_s996);}}},{key:"YP",value:function(){var _YP=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee222(){var t,_e1877,_i1683,_i1684,_i1685,_t2483,_i1686,_i1687;return regeneratorRuntime.wrap(function _callee222$(_context223){while(1){switch(_context223.prev=_context223.next){case 0:if(!this.Qs.textInputMode){_context223.next=4;break;}document.execCommand("paste");_context223.next=36;break;case 4:_context223.next=6;return this.Qs.getClipboardData();case 6:t=_context223.sent;if(!t){_context223.next=36;break;}_e1877=this.board.matches(":hover")?"pointer":"boardCenter";if(!(t["text/html"]&&Zp(t["text/html"]))){_context223.next=15;break;}this.board.undoManager.checkpoint("Paste");_i1683=ka(t["text/html"]);this.board.insertArtwork(_i1683,_e1877);_context223.next=36;break;case 15:if(!(t["text/plain"]&&Zp(t["text/plain"]))){_context223.next=21;break;}this.board.undoManager.checkpoint("Paste");_i1684=ka(t["text/plain"]);this.board.insertArtwork(_i1684,_e1877);_context223.next=36;break;case 21:if(!t["application/pdf"]){_context223.next=35;break;}_i1685=null;_context223.prev=23;_context223.next=26;return Bm(t["application/pdf"]);case 26:_i1685=_context223.sent;_context223.next=32;break;case 29:_context223.prev=29;_context223.t0=_context223["catch"](23);_i1685=null;case 32:if(_i1685){this.board.undoManager.checkpoint("Paste");_t2483=ka(_i1685);this.board.insertArtwork(_t2483,_e1877);}_context223.next=36;break;case 35:if(t["image/png"]){this.board.undoManager.checkpoint("Paste");_i1686=t["image/png"];this.board.insertBitmap(_i1686,_e1877);}else if(t["text/plain"]){this.board.undoManager.checkpoint("Paste");_i1687=ka("<svg><text style=\"font-size: 36; font-family: Roboto; white-space: pre;\">".concat(t["text/plain"],"</text></svg>\n          "));this.board.insertArtwork(_i1687,_e1877);}case 36:case"end":return _context223.stop();}}},_callee222,this,[[23,29]]);}));function YP(){return _YP.apply(this,arguments);}return YP;}()},{key:"HP",value:function HP(){if(this.Qs.textInputMode)document.execCommand("cut");else{this.board.undoManager.checkpoint("Cut"),this.jP();var t=Li(this.board.outermostSelectedElements);t.reverse(),this.board.selectedElements=[];var _iterator1666=_createForOfIteratorHelper(t),_step1666;try{for(_iterator1666.s();!(_step1666=_iterator1666.n()).done;){var _e1878=_step1666.value;_e1878.remove();}}catch(err){_iterator1666.e(err);}finally{_iterator1666.f();}}}},{key:"XP",value:function XP(){if(this.board.undoManager.checkpoint("Delete"),0===this.board.outermostSelectedElements.length)"view-tool"===this.toolsDock.value&&this.board.currentWorkspace.hasAttribute("viewBox")&&this.board.currentWorkspace.removeAttribute("viewBox");else{var t=Li(this.board.outermostSelectedElements);t.reverse(),this.board.selectedElements=[];var _iterator1667=_createForOfIteratorHelper(t),_step1667;try{for(_iterator1667.s();!(_step1667=_iterator1667.n()).done;){var _e1879=_step1667.value;_e1879.remove();}}catch(err){_iterator1667.e(err);}finally{_iterator1667.f();}}}},{key:"qP",value:function qP(){return 0!==this.board.outermostSelectedElements.length||!("view-tool"!==this.toolsDock.value||!this.board.currentWorkspace.hasAttribute("viewBox"));}},{key:"WP",value:function WP(){this.board.undoManager.checkpoint("Duplicate"),this.board.collectGarbage(),this.board.insertArtwork(this.board.extractArtworkWithSelectedElements(),"original"),this.board.transformHud.blink();}},{key:"BD",value:function(){var _BD=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee223(){var t,_e1880,_i1688,_s997,_iterator1668,_step1668,_t2484,_e1881,_n706,_o546,_l405,_iterator1669,_step1669,_t2486,_iterator1670,_step1670,_t2487,_e1882,_i1690,_s998,_i1689,_l406,_t2485,_iterator1671,_step1671,_t2488;return regeneratorRuntime.wrap(function _callee223$(_context224){while(1){switch(_context224.prev=_context224.next){case 0:if(!(!1===this.colorGrabber.grabbing)){_context224.next=9;break;}t=this.board;_e1880=[].concat(_toConsumableArray(t.linearGradientHud.selectedStops),_toConsumableArray(t.radialGradientHud.selectedStops));t.selectedTextRange;_context224.next=6;return this.colorGrabber.grab();case 6:_i1688=_context224.sent;_s997=this.Qs.modKeys.shift?"stroke":"fill";if(null!==_i1688)if(_e1880.length>0){this.board.undoManager.checkpoint("Paint color");_iterator1668=_createForOfIteratorHelper(_e1880);try{for(_iterator1668.s();!(_step1668=_iterator1668.n()).done;){_t2484=_step1668.value;_t2484.style.stopColor=_i1688,ga("stop-color",_t2484);}}catch(err){_iterator1668.e(err);}finally{_iterator1668.f();}}else{_e1881=this.$x();if(_e1881.length>0){this.board.undoManager.checkpoint("Paint color");_n706=_e1881.filter(function(t){return"text"===t.localName;}),_o546=t.selectedTextRange,_l405=[];_iterator1669=_createForOfIteratorHelper(_n706);try{for(_iterator1669.s();!(_step1669=_iterator1669.n()).done;){_t2486=_step1669.value;di(_t2486,_o546);}}catch(err){_iterator1669.e(err);}finally{_iterator1669.f();}_iterator1670=_createForOfIteratorHelper(_e1881);try{for(_iterator1670.s();!(_step1670=_iterator1670.n()).done;){_t2487=_step1670.value;if("text"===_t2487.localName&&_t2487.querySelector("tspan")){_e1882=_t2487.querySelectorAll("tspan"),_i1690=pi(_o546,_t2487),_s998=_i1690.length>0&&!_o546.collapsed?_i1690:_e1882;_l405.push.apply(_l405,_toConsumableArray(_s998));}else _l405.push(_t2487);}}catch(err){_iterator1670.e(err);}finally{_iterator1670.f();}for(_i1689=0,_l406=_l405;_i1689<_l406.length;_i1689++){_t2485=_l406[_i1689];_t2485.style[_s997]=_i1688,ga(_s997,_t2485);}_iterator1671=_createForOfIteratorHelper(_n706);try{for(_iterator1671.s();!(_step1671=_iterator1671.n()).done;){_t2488=_step1671.value;ci(_t2488,_o546);}}catch(err){_iterator1671.e(err);}finally{_iterator1671.f();}}}case 9:case"end":return _context224.stop();}}},_callee223,this);}));function BD(){return _BD.apply(this,arguments);}return BD;}()},{key:"LD",value:function LD(){return this.$x().length>0;}},{key:"VD",value:function VD(){var _this1046=this;return new Promise(/*#__PURE__*/function(){var _ref180=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee224(t){var _t2489,_e1883,_i1691,_iterator1672,_step1672,_s999,_n707,_n708,_n709,_n710,_n711,_n712,_e1884;return regeneratorRuntime.wrap(function _callee224$(_context225){while(1){switch(_context225.prev=_context225.next){case 0:if(!_this1046.ND()){_context225.next=68;break;}_t2489=[],_e1883=_this1046.board.geometryPrecision,_i1691=Zi(function(){return _this1046.board.undoManager.checkpoint("Convert to path");});_iterator1672=_createForOfIteratorHelper(_this1046.board.selectedElements);_context225.prev=3;_iterator1672.s();case 5:if((_step1672=_iterator1672.n()).done){_context225.next=59;break;}_s999=_step1672.value;if(!("rect"===_s999.localName)){_context225.next=12;break;}_n707=la(_s999,_e1883);_i1691(),_s999.replaceWith(_n707),_t2489.push(_n707);_context225.next=57;break;case 12:if(!("circle"===_s999.localName)){_context225.next=17;break;}_n708=ha(_s999,_e1883);_i1691(),_s999.replaceWith(_n708),_t2489.push(_n708);_context225.next=57;break;case 17:if(!("ellipse"===_s999.localName)){_context225.next=22;break;}_n709=aa(_s999,_e1883);_i1691(),_s999.replaceWith(_n709),_t2489.push(_n709);_context225.next=57;break;case 22:if(!("line"===_s999.localName)){_context225.next=27;break;}_n710=ra(_s999,_e1883);_i1691(),_s999.replaceWith(_n710),_t2489.push(_n710);_context225.next=57;break;case 27:if(!("polyline"===_s999.localName)){_context225.next=32;break;}_n711=da(_s999,_e1883);_i1691(),_s999.replaceWith(_n711),_t2489.push(_n711);_context225.next=57;break;case 32:if(!("polygon"===_s999.localName)){_context225.next=37;break;}_n712=ca(_s999,_e1883);_i1691(),_s999.replaceWith(_n712),_t2489.push(_n712);_context225.next=57;break;case 37:if(!("path"===_s999.localName)){_context225.next=41;break;}_s999.hasAttribute("data-bx-shape")&&(_i1691(),_s999.removeAttribute("data-bx-shape")),_t2489.push(_s999);_context225.next=57;break;case 41:if(!("text"===_s999.localName)){_context225.next=56;break;}if(!_this1046.board.fontsManager.canReplaceTextWithPaths(_s999)){_context225.next=50;break;}_i1691();_context225.next=46;return _this1046.board.fontsManager.replaceTextWithPaths(_s999,_this1046.board.geometryPrecision,_this1046.board.transformPrecision);case 46:_e1884=_context225.sent;_t2489=[].concat(_toConsumableArray(_t2489),_toConsumableArray(_e1884));_context225.next=54;break;case 50:_context225.next=52;return Ki(200);case 52:_this1046.Qs.openMessageDialog({message:"Can't convert selected text to path",detail:"To make this text convertable, you must set an embedded or Google font family on it using the Typography panel.",buttons:["Close"]});_t2489.push(_s999);case 54:_context225.next=57;break;case 56:_t2489.push(_s999);case 57:_context225.next=5;break;case 59:_context225.next=64;break;case 61:_context225.prev=61;_context225.t0=_context225["catch"](3);_iterator1672.e(_context225.t0);case 64:_context225.prev=64;_iterator1672.f();return _context225.finish(64);case 67:_this1046.board.selectedTextRange=null,_this1046.board.selectedElements=_t2489;case 68:t();case 69:case"end":return _context225.stop();}}},_callee224,null,[[3,61,64,67]]);}));return function(_x202){return _ref180.apply(this,arguments);};}());}},{key:"ND",value:function ND(){var t=!1;var _iterator1673=_createForOfIteratorHelper(this.board.selectedElements),_step1673;try{for(_iterator1673.s();!(_step1673=_iterator1673.n()).done;){var _e1885=_step1673.value;if("rect"===_e1885.localName||"circle"===_e1885.localName||"ellipse"===_e1885.localName||"line"===_e1885.localName||"polyline"===_e1885.localName||"polygon"===_e1885.localName||"text"===_e1885.localName)t=!0;else if("path"===_e1885.localName){if(!_e1885.hasAttribute("data-bx-shape")){t=!1;break;}t=!0;}}}catch(err){_iterator1673.e(err);}finally{_iterator1673.f();}return t;}},{key:"HD",value:function HD(){if(!1!==this.jD()){this.board.undoManager.checkpoint("Stroke to path");var _iterator1674=_createForOfIteratorHelper(this.board.selectedElements),_step1674;try{for(_iterator1674.s();!(_step1674=_iterator1674.n()).done;){var t=_step1674.value;if(x.includes(t.localName)){var _e1886=parseFloat(getComputedStyle(t).strokeWidth);if(_e1886>0){var _i1692=t.getPathData(),_s1000=this.board.geometryPrecision,_n713=pt(_i1692,_e1886,_s1000),_o547=getComputedStyle(t).stroke,_l407=Di("svg:path");_l407.setPathData(_n713),t.after(_l407),_l407.style.setProperty("fill",_o547),_l407.style.setProperty("stroke","none"),ga("fill",_l407),ga("stroke",_l407),t.hasAttribute("transform")&&_l407.setAttribute("transform",t.getAttribute("transform")),t.style.setProperty("stroke","none"),ga("stroke",t);}}}}catch(err){_iterator1674.e(err);}finally{_iterator1674.f();}}}},{key:"jD",value:function jD(){var _iterator1675=_createForOfIteratorHelper(this.board.selectedElements),_step1675;try{for(_iterator1675.s();!(_step1675=_iterator1675.n()).done;){var t=_step1675.value;if(x.includes(t.localName)){if(parseFloat(getComputedStyle(t).strokeWidth)>0)return!0;}}}catch(err){_iterator1675.e(err);}finally{_iterator1675.f();}return!1;}},{key:"JD",value:function JD(){if(!1!==this.QD()){this.board.undoManager.checkpoint("Open path");var _iterator1676=_createForOfIteratorHelper(this.board.selectedElements),_step1676;try{for(_iterator1676.s();!(_step1676=_iterator1676.n()).done;){var t=_step1676.value;"path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&at(t);}}catch(err){_iterator1676.e(err);}finally{_iterator1676.f();}}}},{key:"QD",value:function QD(){var _iterator1677=_createForOfIteratorHelper(this.board.selectedElements),_step1677;try{for(_iterator1677.s();!(_step1677=_iterator1677.n()).done;){var t=_step1677.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&dt(t))return!0;}}catch(err){_iterator1677.e(err);}finally{_iterator1677.f();}return!1;}},{key:"ez",value:function ez(){if(!1!==this.tz()){this.board.undoManager.checkpoint("Close path");var _iterator1678=_createForOfIteratorHelper(this.board.selectedElements),_step1678;try{for(_iterator1678.s();!(_step1678=_iterator1678.n()).done;){var t=_step1678.value;"path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&rt(t);}}catch(err){_iterator1678.e(err);}finally{_iterator1678.f();}}}},{key:"tz",value:function tz(){var _iterator1679=_createForOfIteratorHelper(this.board.selectedElements),_step1679;try{for(_iterator1679.s();!(_step1679=_iterator1679.n()).done;){var t=_step1679.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&ct(t))return!0;}}catch(err){_iterator1679.e(err);}finally{_iterator1679.f();}return!1;}},{key:"sz",value:function sz(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;if(!1!==this.iz()){this.board.undoManager.checkpoint("Inset path");var _iterator1680=_createForOfIteratorHelper(this.board.selectedElements),_step1680;try{for(_iterator1680.s();!(_step1680=_iterator1680.n()).done;){var _e1887=_step1680.value;if("path"===_e1887.localName&&!1===_e1887.hasAttribute("data-bx-shape")){var _i1693=_e1887.getPathData(),_s1001=ut(_i1693,t,1,this.board.geometryPrecision);_e1887.setPathData(_s1001);}}}catch(err){_iterator1680.e(err);}finally{_iterator1680.f();}}}},{key:"iz",value:function iz(){var _iterator1681=_createForOfIteratorHelper(this.board.selectedElements),_step1681;try{for(_iterator1681.s();!(_step1681=_iterator1681.n()).done;){var t=_step1681.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape"))return!0;}}catch(err){_iterator1681.e(err);}finally{_iterator1681.f();}return!1;}},{key:"oz",value:function oz(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1.5;if(!1!==this.nz()){this.board.undoManager.checkpoint("Simplify path");var _iterator1682=_createForOfIteratorHelper(this.board.selectedElements),_step1682;try{for(_iterator1682.s();!(_step1682=_iterator1682.n()).done;){var _e1888=_step1682.value;if("path"===_e1888.localName&&!1===_e1888.hasAttribute("data-bx-shape")){var _i1694=_e1888.getPathData(),_s1002=xt(_i1694,t,this.board.geometryPrecision);_e1888.setPathData(_s1002);}}}catch(err){_iterator1682.e(err);}finally{_iterator1682.f();}}}},{key:"nz",value:function nz(){var _iterator1683=_createForOfIteratorHelper(this.board.selectedElements),_step1683;try{for(_iterator1683.s();!(_step1683=_iterator1683.n()).done;){var t=_step1683.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape"))return!0;}}catch(err){_iterator1683.e(err);}finally{_iterator1683.f();}return!1;}},{key:"hz",value:function hz(){if(!1!==this.lz()){this.board.undoManager.checkpoint("Complexify path");var _iterator1684=_createForOfIteratorHelper(this.board.selectedElements),_step1684;try{for(_iterator1684.s();!(_step1684=_iterator1684.n()).done;){var t=_step1684.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")){var _e1889=t.getPathData(),_i1695=bt(_e1889,this.board.geometryPrecision);t.setPathData(_i1695);}}}catch(err){_iterator1684.e(err);}finally{_iterator1684.f();}}}},{key:"lz",value:function lz(){var _iterator1685=_createForOfIteratorHelper(this.board.selectedElements),_step1685;try{for(_iterator1685.s();!(_step1685=_iterator1685.n()).done;){var t=_step1685.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape"))return!0;}}catch(err){_iterator1685.e(err);}finally{_iterator1685.f();}return!1;}},{key:"rz",value:function rz(){var _this1047=this;if(!1===this.az())return;this.board.undoManager.checkpoint("Join nodes");var t=null,e=null,i=null,s=[],n=[],o=[];{var _l408=[];if(this.board.pathHud.selectedNodes[0].path===this.board.pathHud.selectedNodes[1].path){t=this.board.pathHud.selectedNodes[0].path,_l408=st(t.getPathData({normalize:!0}));var _iterator1686=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1686;try{for(_iterator1686.s();!(_step1686=_iterator1686.n()).done;){var _t2490=_step1686.value;_l408[_t2490.index].selected=!0;}}catch(err){_iterator1686.e(err);}finally{_iterator1686.f();}}else{var _this$board$pathHud$s=this.board.pathHud.selectedNodes[0],_e1890=_this$board$pathHud$s.path,_i1696=_this$board$pathHud$s.index,_this$board$pathHud$s2=this.board.pathHud.selectedNodes[1],_s1003=_this$board$pathHud$s2.path,_n714=_this$board$pathHud$s2.index,_o548=Nt(_s1003,_e1890),_h296=st(_e1890.getPathData({normalize:!0})),_a227=st(_s1003.getPathData({normalize:!0}));_a227=ee(_a227,_o548,this.board.geometryPrecision);for(var _t2491=0;_t2491<_h296.length;_t2491+=1){_h296[_t2491].selected=_t2491===_i1696;}for(var _t2492=0;_t2492<_a227.length;_t2492+=1){_a227[_t2492].selected=_t2492===_n714;}t=_e1890,_l408=[].concat(_toConsumableArray(_h296),_toConsumableArray(_a227)),_s1003.remove();}var _iterator1687=_createForOfIteratorHelper(ot(_l408)),_step1687;try{for(_iterator1687.s();!(_step1687=_iterator1687.n()).done;){var _t2493=_step1687.value;var _l409=_t2493.filter(function(t){return t.selected;});2===_l409.length?(e=_t2493,n=_l409):1===_l409.length?null===e?(e=_t2493,n=_l409):(i=_t2493,o=_l409):0===_l409.length&&s.push.apply(s,_toConsumableArray(_t2493));}}catch(err){_iterator1687.e(err);}finally{_iterator1687.f();}}if(2===n.length){var _i1697=e[0],_n715=e[1],_o549=e[e.length-1],_l410=new DOMPoint(_i1697.values[0],_i1697.values[1]),_h297="C"===_o549.type?new DOMPoint(_o549.values[4],_o549.values[5]):new DOMPoint(_o549.values[0],_o549.values[1]),_a228=De(_l410,_h297);{var _t2494=new q(_a228.x-_i1697.values[0],_a228.y-_i1697.values[1]);_i1697.values[0]+=_t2494.x,_i1697.values[1]+=_t2494.y,"C"===_n715.type&&e.length>2&&(_n715.values[0]+=_t2494.x,_n715.values[1]+=_t2494.y);}if("C"===_o549.type){var _t2495=new q(_a228.x-_o549.values[4],_a228.y-_o549.values[5]);_o549.values[4]+=_t2495.x,_o549.values[5]+=_t2495.y,e.length>2&&(_o549.values[2]+=_t2495.x,_o549.values[3]+=_t2495.y);}else if("L"===_o549.type){var _t2496=new q(_a228.x-_o549.values[0],_a228.y-_o549.values[1]);_o549.values[0]+=_t2496.x,_o549.values[1]+=_t2496.y;}var _r147=[].concat(_toConsumableArray(e),[{type:"Z",values:[]}],s);_r147.forEach(function(t){return t.values=t.values.map(function(t){return X(t,_this1047.board.geometryPrecision);});}),t.setPathData(_r147),this.board.selectedElements=[t],this.board.pathHud.selectedNodes=[{path:t,index:e.length-1}];}else if(n[0]===e[e.length-1]){o[0]===i[i.length-1]&&(i=ht(i));var _n716=e[e.length-1],_l411=i[0];if("C"===_n716.type){var _t2497=new DOMPoint(_n716.values[4],_n716.values[5]),_e1891=new DOMPoint(_l411.values[0],_l411.values[1]),_i1698=De(_t2497,_e1891);_n716.values[4]=_i1698.x,_n716.values[5]=_i1698.y;}else{var _t2498=new DOMPoint(_n716.values[0],_n716.values[1]),_e1892=new DOMPoint(_l411.values[0],_l411.values[1]),_i1699=De(_t2498,_e1892);_n716.values[0]=_i1699.x,_n716.values[1]=_i1699.y;}i.shift();var _h298=[].concat(_toConsumableArray(e),_toConsumableArray(i),s);_h298.forEach(function(t){return t.values=t.values.map(function(t){return X(t,_this1047.board.geometryPrecision);});}),t.setPathData(_h298),this.board.selectedElements=[t],this.board.pathHud.selectedNodes=[{path:t,index:e.length-1}];}else if(n[0]===e[0]){o[0]===i[0]&&(i=ht(i));var _n717=e[0],_l412=i[i.length-1];if("C"===_l412.type){var _t2499=new DOMPoint(_n717.values[0],_n717.values[1]),_e1893=new DOMPoint(_l412.values[4],_l412.values[5]),_i1700=De(_t2499,_e1893);_l412.values[4]=_i1700.x,_l412.values[5]=_i1700.y;}else{var _t2500=new DOMPoint(_n717.values[0],_n717.values[1]),_e1894=new DOMPoint(_l412.values[0],_l412.values[1]),_i1701=De(_t2500,_e1894);_l412.values[0]=_i1701.x,_l412.values[1]=_i1701.y;}e.shift();var _h299=[].concat(_toConsumableArray(i),_toConsumableArray(e),s);_h299.forEach(function(t){return t.values=t.values.map(function(t){return X(t,_this1047.board.geometryPrecision);});}),t.setPathData(_h299),this.board.selectedElements=[t],this.board.pathHud.selectedNodes=[{path:t,index:i.length-1}];}}},{key:"az",value:function az(){if(2!==this.board.pathHud.selectedNodes.length)return!1;var _iterator1688=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1688;try{for(_iterator1688.s();!(_step1688=_iterator1688.n()).done;){var t=_step1688.value;var _e1895=t.path,_i1702=st(_e1895.getPathData({normalize:!0}));for(var _e1896=t.index+1;_e1896<_i1702.length;_e1896+=1){if("Z"===_i1702[_e1896].type)return!1;if("M"===_i1702[_e1896].type)break;}{var _e1897=!!_i1702[t.index]&&"M"===_i1702[t.index].type,_s1004=!_i1702[t.index+1]||"M"===_i1702[t.index+1].type;if(!1===_e1897&&!1===_s1004)return!1;}}}catch(err){_iterator1688.e(err);}finally{_iterator1688.f();}return!0;}},{key:"uz",value:function uz(){var _this1048=this;if(!1===this.pz())return;this.board.undoManager.checkpoint("Delete node");var t=Je(this.board.pathHud.selectedNodes.map(function(t){return t.path;}));var _iterator1689=_createForOfIteratorHelper(t),_step1689;try{var _loop58=function _loop58(){var e=_step1689.value;var t=st(e.getPathData({normalize:!0}));St(t);var i=_this1048.board.pathHud.selectedNodes.filter(function(t){return t.path===e;});i=i.sort(function(t,e){return e.index-t.index;});var s=i.filter(function(e){return"C"===t[e.index].type;}),n=i.filter(function(e){return"M"===t[e.index].type;});if(0!==i.length){var _iterator1690=_createForOfIteratorHelper(s),_step1690;try{var _loop59=function _loop59(){var e=_step1690.value;var i=t[e.index],s=t[e.index+1]||null,n=t[e.index-1]||null;if(null===s)t=t.filter(function(t){return t!==i;});else if("M"===s.type)t=t.filter(function(t){return t!==i;});else if("Z"===s.type){var _e1898=ft(i,t),_s1005=_e1898[0],_o550=_e1898[1];t=t.filter(function(t){return t!==i;}),"M"===n.type?(_s1005.values[0]=n.values[0],_s1005.values[1]=n.values[1]):"C"===n.type&&(_s1005.values[0]=n.values[4],_s1005.values[1]=n.values[5]),"C"===_o550.type&&(_o550.values[0]=i.values[0],_o550.values[1]=i.values[1]);}else"C"===s.type&&(t=t.filter(function(t){return t!==i;}),s.values[0]=i.values[0],s.values[1]=i.values[1]);};for(_iterator1690.s();!(_step1690=_iterator1690.n()).done;){_loop59();}}catch(err){_iterator1690.e(err);}finally{_iterator1690.f();}var _iterator1691=_createForOfIteratorHelper(n),_step1691;try{for(_iterator1691.s();!(_step1691=_iterator1691.n()).done;){var _e1899=_step1691.value;var _i1703=t[_e1899.index],_s1006=ft(_i1703,t);if(_s1006.length>1){(function(){var e=_s1006[0],i=_s1006[1];t=t.filter(function(t){return t!==i;}),"C"===i.type&&(e.values[0]=i.values[4],e.values[1]=i.values[5]);})();}}}catch(err){_iterator1691.e(err);}finally{_iterator1691.f();}var _iterator1692=_createForOfIteratorHelper(ot(t)),_step1692;try{for(_iterator1692.s();!(_step1692=_iterator1692.n()).done;){var _e1900=_step1692.value;var _i1704=_e1900.filter(function(t){return"C"===t.type;}),_s1007="Z"===_e1900[_e1900.length-1].type?2:1;if(_i1704.length<_s1007){var _iterator1694=_createForOfIteratorHelper(_e1900),_step1694;try{var _loop60=function _loop60(){var i=_step1694.value;t=t.filter(function(t){return t!==i;});};for(_iterator1694.s();!(_step1694=_iterator1694.n()).done;){_loop60();}}catch(err){_iterator1694.e(err);}finally{_iterator1694.f();}}}}catch(err){_iterator1692.e(err);}finally{_iterator1692.f();}_t(t);var _iterator1693=_createForOfIteratorHelper(t),_step1693;try{for(_iterator1693.s();!(_step1693=_iterator1693.n()).done;){var _e1901=_step1693.value;_e1901.values=_e1901.values.map(function(t){return X(t,_this1048.board.geometryPrecision);});}}catch(err){_iterator1693.e(err);}finally{_iterator1693.f();}e.setPathData(t),!1===e.hasAttribute("d")&&e.remove();}};for(_iterator1689.s();!(_step1689=_iterator1689.n()).done;){_loop58();}}catch(err){_iterator1689.e(err);}finally{_iterator1689.f();}this.board.pathHud.selectedNodes=[];}},{key:"pz",value:function pz(){return this.board.pathHud.selectedNodes.length>0;}},{key:"cz",value:function cz(){var _this1049=this;if(!1===this.dz())return;this.board.undoManager.checkpoint("Split node");var t=Je(this.board.pathHud.selectedNodes.map(function(t){return t.path;})),e=[];var _iterator1695=_createForOfIteratorHelper(t),_step1695;try{for(_iterator1695.s();!(_step1695=_iterator1695.n()).done;){var _i1705=_step1695.value;var _t2501=st(_i1705.getPathData({normalize:!0})),_s1008=[];var _iterator1696=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1696;try{for(_iterator1696.s();!(_step1696=_iterator1696.n()).done;){var _e1902=_step1696.value;_e1902.path===_i1705&&(_t2501[_e1902.index].select=!0,_t2501[_e1902.index].split=!0);}}catch(err){_iterator1696.e(err);}finally{_iterator1696.f();}var _iterator1697=_createForOfIteratorHelper(ot(_t2501)),_step1697;try{for(_iterator1697.s();!(_step1697=_iterator1697.n()).done;){var _e1903=_step1697.value;if(void 0===_e1903.find(function(t){return t.split;}))_s1008.push.apply(_s1008,_toConsumableArray(_e1903));else{var _t2503=_e1903[0],_i1706=[];if("Z"!==_e1903[_e1903.length-1].type)for(var _t2504=0;_t2504<_e1903.length;_t2504+=1){var _s1009=_e1903[_t2504],_n719=_e1903[_t2504+1]||null;_i1706.push(_s1009),!0===_s1009.split&&_n719&&("C"===_s1009.type?_i1706.push({type:"M",values:[_s1009.values[4],_s1009.values[5]]}):"L"===_s1009.type&&_i1706.push({type:"M",values:[_s1009.values[0],_s1009.values[1]]}));}else{{var _i1707=[];for(var _s1010=0;_s1010<_e1903.length;_s1010+=1){var _n720=_e1903[_s1010];if(_n720.split){"L"===_n720.type?_i1707.push({type:"M",values:[_n720.values[0],_n720.values[1]],select:!0}):"C"===_n720.type&&_i1707.push({type:"M",values:[_n720.values[4],_n720.values[5]],select:!0});for(var _n721=_s1010+1;_n721<_e1903.length;_n721+=1){var _s1011=_e1903[_n721];"Z"===_s1011.type?_i1707.push({type:"L",values:[_t2503.values[0],_t2503.values[1]]}):_i1707.push(_s1011);}for(var _t2505=0;_t2505<=_s1010;_t2505+=1){var _s1012=_e1903[_t2505];"M"!==_s1012.type&&_i1707.push(_s1012);}break;}}_e1903=_i1707;}for(var _t2506=0;_t2506<_e1903.length;_t2506+=1){var _s1013=_e1903[_t2506],_n722=_e1903[_t2506+1]||null;!0===_s1013.split?(_i1706.push(_s1013),_n722?"C"===_s1013.type?_i1706.push({type:"M",values:[_s1013.values[4],_s1013.values[5]]}):"L"===_s1013.type&&_i1706.push({type:"M",values:[_s1013.values[0],_s1013.values[1]]}):_s1013.select=!1):_i1706.push(_s1013);}}_s1008.push.apply(_s1008,_i1706);}}}catch(err){_iterator1697.e(err);}finally{_iterator1697.f();}for(var _t2502=0;_t2502<_s1008.length;_t2502+=1){var _n718=_s1008[_t2502];_n718.values=_n718.values.map(function(t){return X(t,_this1049.board.geometryPrecision);}),_n718.select&&e.push({path:_i1705,index:_t2502});}_i1705.setPathData(_s1008);}}catch(err){_iterator1695.e(err);}finally{_iterator1695.f();}this.board.pathHud.selectedNodes=e;}},{key:"dz",value:function dz(){var t=Je(this.board.pathHud.selectedNodes.map(function(t){return t.path;}));var _iterator1698=_createForOfIteratorHelper(t),_step1698;try{for(_iterator1698.s();!(_step1698=_iterator1698.n()).done;){var _e1904=_step1698.value;var _t2507=st(_e1904.getPathData({normalize:!0}));var _iterator1699=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1699;try{for(_iterator1699.s();!(_step1699=_iterator1699.n()).done;){var _i1708=_step1699.value;if(_i1708.path===_e1904){var _e1905=_t2507[_i1708.index],_s1014=_t2507[_i1708.index+1];if("M"!==_e1905.type&&_s1014&&"M"!==_s1014.type)return!0;}}}catch(err){_iterator1699.e(err);}finally{_iterator1699.f();}}}catch(err){_iterator1698.e(err);}finally{_iterator1698.f();}return!1;}},{key:"bz",value:function bz(){var _this1050=this;if(!1===this.xz())return;this.board.undoManager.checkpoint("Break node");var t=Je(this.board.pathHud.selectedNodes.map(function(t){return t.path;})),e=[];var _iterator1700=_createForOfIteratorHelper(t),_step1700;try{for(_iterator1700.s();!(_step1700=_iterator1700.n()).done;){var _i1709=_step1700.value;var _t2508=st(_i1709.getPathData({normalize:!0})),_s1015=[];var _iterator1701=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1701;try{for(_iterator1701.s();!(_step1701=_iterator1701.n()).done;){var _e1906=_step1701.value;_e1906.path===_i1709&&(_t2508[_e1906.index].select=!0,_t2508[_e1906.index]["break"]=!0);}}catch(err){_iterator1701.e(err);}finally{_iterator1701.f();}var _iterator1702=_createForOfIteratorHelper(ot(_t2508)),_step1702;try{for(_iterator1702.s();!(_step1702=_iterator1702.n()).done;){var _e1907=_step1702.value;if(0===_e1907.filter(function(t){return t.select;}).length)_s1015.push.apply(_s1015,_toConsumableArray(_e1907));else{var _t2510=_e1907[0],_i1710=[];if("Z"!==_e1907[_e1907.length-1].type)for(var _t2511=0;_t2511<_e1907.length;_t2511+=1){var _s1016=_e1907[_t2511],_n724=(_e1907[_t2511-1],_e1907[_t2511+1]||null),_o551=_e1907[_t2511+2]||null;_i1710.push(_s1016),!0===_s1016["break"]&&("M"===_s1016.type?("C"===_n724.type?_i1710.push({type:"M",values:[_n724.values[4],_n724.values[5]]}):"L"===_n724.type&&_i1710.push({type:"M",values:[_n724.values[0],_n724.values[1]]}),_t2511+=1):"C"!==_s1016.type&&"L"!==_s1016.type||(_o551&&("C"===_n724.type?_i1710.push({type:"M",values:[_n724.values[4],_n724.values[5]],select:!0}):"L"===_n724.type&&_i1710.push({type:"M",values:[_n724.values[0],_n724.values[1]],select:!0})),_t2511+=1));}else for(var _s1017=0;_s1017<_e1907.length;_s1017+=1){var _n725=_e1907[_s1017];if(_n725["break"]){var _o552=_e1907[_s1017+1];_e1907[_s1017-1];if(_o552["break"]){"L"===_o552.type?_i1710.push({type:"M",values:[_o552.values[0],_o552.values[1]],select:!0}):"C"===_o552.type&&_i1710.push({type:"M",values:[_o552.values[4],_o552.values[5]],select:!0});for(var _n726=_s1017+2;_n726<_e1907.length;_n726+=1){_e1907[_n726-1];var _s1018=_e1907[_n726];if("Z"===_s1018.type){var _e1908=_i1710[_i1710.length-1];"L"===_e1908.type?_e1908.values[0]===_t2510.values[0]&&_e1908.values[1]===_t2510.values[1]||_i1710.push({type:"L",values:[_t2510.values[0],_t2510.values[1]]}):"C"===_e1908.type&&(_e1908.values[4]===_t2510.values[0]&&_e1908.values[5]===_t2510.values[1]||_i1710.push({type:"L",values:[_t2510.values[0],_t2510.values[1]]}));}else _s1018.select=!1,_i1710.push(_s1018);}for(var _t2512=0;_t2512<=_s1017;_t2512+=1){var _n727=_e1907[_t2512];_n727.select=_t2512===_s1017,"M"!==_n727.type&&_i1710.push(_n727);}}else{"L"===_n725.type?_i1710.push({type:"M",values:[_n725.values[0],_n725.values[1]],select:!0}):"C"===_n725.type&&_i1710.push({type:"M",values:[_n725.values[4],_n725.values[5]],select:!0});for(var _t2513=_s1017+1;_t2513<_e1907.length;_t2513+=1){var _n728=_e1907[_t2513];"Z"!==_n728.type&&(_n728.select=_s1017===_e1907.length-2,_i1710.push(_n728));}_i1710[_i1710.length-1].select=!0;}break;}}_s1015.push.apply(_s1015,_i1710);}}}catch(err){_iterator1702.e(err);}finally{_iterator1702.f();}for(var _t2509=0;_t2509<_s1015.length;_t2509+=1){var _n723=_s1015[_t2509];_n723.values=_n723.values.map(function(t){return X(t,_this1050.board.geometryPrecision);}),_n723.select&&e.push({path:_i1709,index:_t2509});}_i1709.setPathData(_s1015);}}catch(err){_iterator1700.e(err);}finally{_iterator1700.f();}this.board.pathHud.selectedNodes=e;}},{key:"xz",value:function xz(){var t=Je(this.board.pathHud.selectedNodes.map(function(t){return t.path;})),e=!1;var _iterator1703=_createForOfIteratorHelper(t),_step1703;try{for(_iterator1703.s();!(_step1703=_iterator1703.n()).done;){var _i1711=_step1703.value;var _t2514=st(_i1711.getPathData({normalize:!0}));var _iterator1704=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1704;try{for(_iterator1704.s();!(_step1704=_iterator1704.n()).done;){var _e1909=_step1704.value;_e1909.path===_i1711&&(_t2514[_e1909.index].selected=!0);}}catch(err){_iterator1704.e(err);}finally{_iterator1704.f();}var _iterator1705=_createForOfIteratorHelper(ot(_t2514)),_step1705;try{for(_iterator1705.s();!(_step1705=_iterator1705.n()).done;){var _i1712=_step1705.value;var _t2515=_i1712.filter(function(t){return t.selected;});if(2===_t2515.length){var _t2516=null,_s1019=null,_n729="Z"===_i1712[_i1712.length-1].type;for(var _e1910=0;_e1910<_i1712.length;_e1910+=1){_i1712[_e1910].selected&&(null===_t2516?_t2516=_e1910:_s1019=_e1910);}if(_t2516===_s1019-1){e=!0;continue;}if(_n729&&1===_t2516&&_s1019===_i1712.length-2){e=!0;continue;}return!1;}if(0!==_t2515.length)return!1;}}catch(err){_iterator1705.e(err);}finally{_iterator1705.f();}}}catch(err){_iterator1703.e(err);}finally{_iterator1703.f();}return e;}},{key:"UD",value:function UD(){if(!1!==this.FD()){this.board.undoManager.checkpoint("Reverse");var _iterator1706=_createForOfIteratorHelper(this.board.selectedElements),_step1706;try{for(_iterator1706.s();!(_step1706=_iterator1706.n()).done;){var t=_step1706.value;"path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&lt(t);}}catch(err){_iterator1706.e(err);}finally{_iterator1706.f();}}}},{key:"FD",value:function FD(){var _iterator1707=_createForOfIteratorHelper(this.board.selectedElements),_step1707;try{for(_iterator1707.s();!(_step1707=_iterator1707.n()).done;){var t=_step1707.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape"))return!0;}}catch(err){_iterator1707.e(err);}finally{_iterator1707.f();}return!1;}},{key:"GD",value:function GD(){if(!1!==this.RD()){this.board.undoManager.checkpoint("Reorient");var _iterator1708=_createForOfIteratorHelper(this.board.selectedElements),_step1708;try{for(_iterator1708.s();!(_step1708=_iterator1708.n()).done;){var t=_step1708.value;"path"===t.localName?t.hasAttribute("transform")&&!1===t.hasAttribute("data-bx-shape")&&uh(t,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision,preserveRotation:!1}):["line","polygon","polyline","circle"].includes(t.localName)&&uh(t,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision,preserveRotation:!1});}}catch(err){_iterator1708.e(err);}finally{_iterator1708.f();}}}},{key:"RD",value:function RD(){var _iterator1709=_createForOfIteratorHelper(this.board.selectedElements),_step1709;try{for(_iterator1709.s();!(_step1709=_iterator1709.n()).done;){var t=_step1709.value;if("path"===t.localName){if(t.hasAttribute("transform")&&!1===t.hasAttribute("data-bx-shape"))return!0;}else if(["line","polygon","polyline","circle"].includes(t.localName))return t.hasAttribute("transform");}}catch(err){_iterator1709.e(err);}finally{_iterator1709.f();}return!1;}},{key:"XD",value:function XD(){if(!1===this.qD())return;this.board.undoManager.checkpoint("Join paths");var _this$board$selectedE=_toArray(this.board.selectedElements),t=_this$board$selectedE[0],e=_this$board$selectedE.slice(1),i=[];var _iterator1710=_createForOfIteratorHelper(this.board.selectedElements),_step1710;try{for(_iterator1710.s();!(_step1710=_iterator1710.n()).done;){var _e1911=_step1710.value;var _s1020=void 0;"rect"===_e1911.localName?_s1020=la(_e1911,this.board.geometryPrecision):"circle"===_e1911.localName?_s1020=ha(_e1911):"ellipse"===_e1911.localName?_s1020=aa(_e1911):"line"===_e1911.localName?_s1020=ra(_e1911):"polyline"===_e1911.localName?_s1020=da(_e1911):"polygon"===_e1911.localName?_s1020=ca(_e1911):"path"===_e1911.localName&&(_s1020=_e1911.cloneNode(),_s1020.removeAttribute("data-bx-shape"));var _n730=Nt(_e1911,t.parentElement).toString();_s1020.setAttribute("transform",_n730),_s1020.setPathData(_s1020.getPathData({normalize:!0})),uh(_s1020,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision,preserveRotation:!1}),i.push(_s1020);}}catch(err){_iterator1710.e(err);}finally{_iterator1710.f();}var s=i[0],n=i.slice(1),o=s.getPathData();var _iterator1711=_createForOfIteratorHelper(n),_step1711;try{for(_iterator1711.s();!(_step1711=_iterator1711.n()).done;){var _t2517=_step1711.value;var _e1912=_t2517.getPathData();o=[].concat(_toConsumableArray(o),_toConsumableArray(_e1912));}}catch(err){_iterator1711.e(err);}finally{_iterator1711.f();}s.setPathData(o),t.replaceWith(s);var _iterator1712=_createForOfIteratorHelper(e),_step1712;try{for(_iterator1712.s();!(_step1712=_iterator1712.n()).done;){var _t2518=_step1712.value;_t2518.remove();}}catch(err){_iterator1712.e(err);}finally{_iterator1712.f();}this.board.selectedElements=[s];}},{key:"qD",value:function qD(){if(this.board.selectedElements.length<2)return!1;var t=["rect","circle","ellipse","line","polygon","polyline","path"];var _iterator1713=_createForOfIteratorHelper(this.board.selectedElements),_step1713;try{for(_iterator1713.s();!(_step1713=_iterator1713.n()).done;){var _e1913=_step1713.value;if(!1===t.includes(_e1913.localName))return!1;}}catch(err){_iterator1713.e(err);}finally{_iterator1713.f();}return!0;}},{key:"KD",value:function KD(){if(!1===this.ZD())return;this.board.undoManager.checkpoint("Break Apart");var _this$board$selectedE2=_toArray(this.board.selectedElements),t=_this$board$selectedE2[0],e=_this$board$selectedE2.slice(1),i=[];var _iterator1714=_createForOfIteratorHelper(this.board.selectedElements),_step1714;try{for(_iterator1714.s();!(_step1714=_iterator1714.n()).done;){var _t2519=_step1714.value;if("path"===_t2519.localName){var _e1914=st(_t2519.getPathData({normalize:!0})),_s1021=ot(_e1914);if(_s1021.length>1){var _s1022=_toArray(_s1021),_e1915=_s1022[0],_n731=_s1022.slice(1),_o553=_t2519;_o553.setPathData(_e1915),i.push(_o553);var _iterator1715=_createForOfIteratorHelper(_n731),_step1715;try{for(_iterator1715.s();!(_step1715=_iterator1715.n()).done;){var _t2520=_step1715.value;var _e1916=_o553.cloneNode();_e1916.setPathData(_t2520),_o553.after(_e1916),i.push(_e1916);for(var _i1713=0,_arr89=["fill","stroke"];_i1713<_arr89.length;_i1713++){var _t2521=_arr89[_i1713];var _i1714=qo(_e1916,_t2521);if(_i1714)if("linearGradient"===_i1714.localName||"radialGradient"===_i1714.localName){var _s1023=_i1714,_n732=vo(_s1023);if(_n732){var _i1715=_s1023.cloneNode();_i1715.id=this.board.generateUniqueID("gradient"),_i1715.setAttribute("href","#"+_n732.id),_s1023.after(_i1715),_e1916.style.setProperty(_t2521,"url(\"#".concat(_i1715.id,"\")"));}else{var _i1716=_s1023.cloneNode(!0);_i1716.id=this.board.generateUniqueID("gradient"),_s1023.after(_i1716),_e1916.style.setProperty(_t2521,"url(\"#".concat(_i1716.id,"\")"));}}else if("pattern"===_i1714.localName){var _s1024=_i1714;if(_s1024.hasAttribute("href")){var _i1717=Go(_s1024),_n733=_s1024.cloneNode();_n733.id=this.board.generateUniqueID(_i1717.id),_s1024.after(_n733),_e1916.style.setProperty(_t2521,"url(\"#".concat(_n733.id,"\")"));}else{var _i1718=Di("svg:pattern");_i1718.id=this.board.generateUniqueID(_s1024.id),_i1718.setAttribute("href","#"+_s1024.id),_s1024.after(_i1718),_e1916.style.setProperty(_t2521,"url(\"#".concat(_i1718.id,"\")"));}}}}}catch(err){_iterator1715.e(err);}finally{_iterator1715.f();}}else i.push(_t2519);}else i.push(_t2519);}}catch(err){_iterator1714.e(err);}finally{_iterator1714.f();}this.board.selectedElements=i;}},{key:"ZD",value:function ZD(){var _iterator1716=_createForOfIteratorHelper(this.board.selectedElements),_step1716;try{for(_iterator1716.s();!(_step1716=_iterator1716.n()).done;){var t=_step1716.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")){var _e1917=st(t.getPathData({normalize:!0}));if(ot(_e1917).length>1)return!0;}}}catch(err){_iterator1716.e(err);}finally{_iterator1716.f();}return!1;}},{key:"WD",value:function(){var _WD=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee225(t){var _this$board,e,i,_this$board$outermost5,_i1719,_s1025,_n734,_o554,_l413,_h300,_a229,_e1918,_n735,_l414,_t2522,_l415,_r148,_d116,_c91,_p79,_s1026,_n736,_this$board$outermost6,_s1027,_n737,_o555,_iterator1717,_step1717,_t2523,_n738,_l417,_l416,_h301,_iterator1718,_step1718,_i1720,_s1028,_n739,_o556,_iterator1719,_step1719,_t2524;return regeneratorRuntime.wrap(function _callee225$(_context226){while(1){switch(_context226.prev=_context226.next){case 0:if(!(!1===this.YD(t))){_context226.next=2;break;}return _context226.abrupt("return");case 2:this.board.undoManager.checkpoint(si(t));_this$board=this.board,e=_this$board.geometryPrecision,i=_this$board.transformPrecision;if(!("image"===this.board.outermostSelectedElements[0].localName)){_context226.next=29;break;}_this$board$outermost5=_slicedToArray(this.board.outermostSelectedElements,2),_i1719=_this$board$outermost5[0],_s1025=_this$board$outermost5[1],_n734=document.createElement("canvas"),_o554=_n734.getContext("2d"),_l413=new Image();_l413.setAttribute("src",_i1719.getAttribute("href"));_context226.next=9;return new Promise(function(t){return _l413.onload=t;});case 9:_h300=_l413.naturalWidth/_i1719.width.baseVal.value,_a229=_l413.naturalHeight/_i1719.height.baseVal.value;_n734.width=_l413.naturalWidth,_n734.height=_l413.naturalHeight,_o554.imageSmoothingEnabled=!1,_o554.drawImage(_l413,0,0,_l413.naturalWidth,_l413.naturalHeight);_e1918=new DOMMatrix();_e1918=_e1918.scale(_h300,_a229),_e1918=_e1918.translate(-_i1719.x.baseVal.value,-_i1719.y.baseVal.value),_e1918=_e1918.multiply(Nt(_s1025,_i1719));_n735=_s1025.getPathData({normalize:!0});_n735=ee(_n735,_e1918),_n735.forEach(function(t){return t.values=t.values.map(function(t){return X(t,0);});});_l414=new Path2D(tt(_n735));"subtract"===t?_o554.globalCompositeOperation="destination-out":"intersect"===t&&(_o554.globalCompositeOperation="destination-in"),_o554.imageSmoothingEnabled=!1,_o554.fillStyle="black",_o554.fill(_l414);_t2522=Va(_n734);_l415=_o554.getImageData(0,0,_n734.width,_n734.height);_r148=UPNG.encode([_l415.data.buffer],_l415.width,_l415.height,0);_d116=new Uint8Array(_r148);_c91=new Blob([_d116],{type:"image/png"});_context226.next=24;return Ra(_c91);case 24:_p79=_context226.sent;if(_i1719.setAttribute("href",_p79),_i1719.setAttribute("width",_n734.width/_h300),_i1719.setAttribute("height",_n734.height/_a229),_t2522){_s1026=_i1719.x.baseVal.value+_t2522.x/_h300,_n736=_i1719.y.baseVal.value+_t2522.y/_a229;_i1719.setAttribute("x",X(_s1026,e)),_i1719.setAttribute("y",X(_n736,e));}_s1025.remove(),this.board.selectedElements=[_i1719],_i1719.parentElement===this.board.currentWorkspace?this.board.currentContainer=null:this.board.currentContainer=_i1719.parentElement;_context226.next=39;break;case 29:_this$board$outermost6=_toArray(this.board.outermostSelectedElements),_s1027=_this$board$outermost6[0],_n737=_this$board$outermost6.slice(1),_o555=[];_iterator1717=_createForOfIteratorHelper(this.board.outermostSelectedElements);try{for(_iterator1717.s();!(_step1717=_iterator1717.n()).done;){_t2523=_step1717.value;_n738=void 0;"rect"===_t2523.localName?_n738=la(_t2523,this.board.geometryPrecision):"circle"===_t2523.localName?_n738=ha(_t2523):"ellipse"===_t2523.localName?_n738=aa(_t2523):"line"===_t2523.localName?_n738=ra(_t2523):"polyline"===_t2523.localName?_n738=da(_t2523):"polygon"===_t2523.localName?_n738=ca(_t2523):"path"===_t2523.localName&&(_n738=_t2523.cloneNode(),_n738.hasAttribute("data-bx-shape")&&_n738.removeAttribute("data-bx-shape"));_l417=Nt(_t2523,_s1027.parentElement).toString();_n738.setAttribute("transform",_l417),_n738.setPathData(_n738.getPathData({normalize:!0})),uh(_n738,{geometryPrecision:e,transformPrecision:i,preserveRotation:!1}),_o555.push(_n738);}}catch(err){_iterator1717.e(err);}finally{_iterator1717.f();}_l416=_o555[0],_h301=_o555.slice(1);_iterator1718=_createForOfIteratorHelper(_h301);try{for(_iterator1718.s();!(_step1718=_iterator1718.n()).done;){_i1720=_step1718.value;_s1028=_l416.getPathData(),_n739=_i1720.getPathData(),_o556=[];"unite"===t?_o556=Wa(_s1028,_n739,e):"subtract"===t?_o556=qa(_s1028,_n739,e):"intersect"===t?_o556=Xa(_s1028,_n739,e):"exclude"===t&&(_o556=Za(_s1028,_n739,e)),_l416.setPathData(_o556);}}catch(err){_iterator1718.e(err);}finally{_iterator1718.f();}_l416.hasAttribute("d")?(_s1027.replaceWith(_l416),_l416.removeAttribute("data-bx-origin")):_s1027.remove();_iterator1719=_createForOfIteratorHelper(_n737);try{for(_iterator1719.s();!(_step1719=_iterator1719.n()).done;){_t2524=_step1719.value;_t2524.remove();}}catch(err){_iterator1719.e(err);}finally{_iterator1719.f();}_l416.hasAttribute("d")?this.board.selectedElements=[_l416]:this.board.selectedElements=[];case 39:case"end":return _context226.stop();}}},_callee225,this);}));function WD(_x203){return _WD.apply(this,arguments);}return WD;}()},{key:"YD",value:function YD(t){return this.vz(t)||this.yz(t);}},{key:"vz",value:function vz(t){if(this.board.outermostSelectedElements.length<2)return!1;var _iterator1720=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1720;try{for(_iterator1720.s();!(_step1720=_iterator1720.n()).done;){var _t2525=_step1720.value;if(!1===x.includes(_t2525.localName))return!1;}}catch(err){_iterator1720.e(err);}finally{_iterator1720.f();}return!0;}},{key:"yz",value:function yz(t){var _this$board$outermost7=_toArray(this.board.outermostSelectedElements),e=_this$board$outermost7[0],i=_this$board$outermost7.slice(1);return("subtract"===t||"intersect"===t)&&!(!e||"image"!==e.localName)&&1===i.length&&!1!==x.includes(i[0].localName);}},{key:"$x",value:function $x(){var t=["circle","ellipse","line","path","polygon","polyline","rect","text","use"],e=[],i=function i(s){var _iterator1721=_createForOfIteratorHelper(s),_step1721;try{for(_iterator1721.s();!(_step1721=_iterator1721.n()).done;){var _n740=_step1721.value;t.includes(_n740.localName)?e.push(_n740):"g"!==_n740.localName&&"a"!==_n740.localName||i(_n740.children);}}catch(err){_iterator1721.e(err);}finally{_iterator1721.f();}};return i(this.board.outermostSelectedElements),e;}}]);return tw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(tw,"_shadowTemplate",Hi(_templateObject519()));_defineProperty(tw,"_shadowStyleSheet",Yi(_templateObject520()));customElements.define("bx-editor",tw);var ew=/*#__PURE__*/function(_HTMLElement138){_inherits(ew,_HTMLElement138);var _super227=_createSuper(ew);_createClass(ew,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function ew(){var _this1051;_classCallCheck(this,ew);_this1051=_super227.call(this),_this1051._shadowRoot=_this1051.attachShadow({mode:"closed"}),_this1051._shadowRoot.append(document.importNode(_this1051.constructor._shadowTemplate.content,!0)),_this1051._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,ew._shadowStyleSheet,_this1051.constructor._shadowStyleSheet];var _iterator1722=_createForOfIteratorHelper(_this1051._shadowRoot.querySelectorAll("[id]")),_step1722;try{for(_iterator1722.s();!(_step1722=_iterator1722.n()).done;){var t=_step1722.value;_this1051["#"+t.id]=t;}}catch(err){_iterator1722.e(err);}finally{_iterator1722.f();}_this1051.setAttribute("extends","bx-appsettings");return _this1051;}_createClass(ew,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){}},{key:"sn",value:function sn(){}}]);return ew;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ew,"observedAttributes",["enabled"]);_defineProperty(ew,"_shadowStyleSheet",Yi(_templateObject521()));var iw=/*#__PURE__*/function(_ew){_inherits(iw,_ew);var _super228=_createSuper(iw);function iw(){var _this1052;_classCallCheck(this,iw);_this1052=_super228.call(this),_this1052["#hardware-acceleration-checkbox"].addEventListener("toggle",function(){_this1052.Qs.hardwareAcceleration=_this1052["#hardware-acceleration-checkbox"].toggled;}),_this1052["#recent-files-select"].addEventListener("change",function(){var t=parseInt(_this1052["#recent-files-select"].value);_this1052.Qs.setConfig("bx-generalsettings:maxRecentFiles",t),_this1052.Qs.clearExcessiveRecentFiles&&_this1052.Qs.clearExcessiveRecentFiles(t);});return _this1052;}_createClass(iw,[{key:"tn",value:function tn(){this.qs();}},{key:"qs",value:function(){var _qs8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee226(){var t,e,i;return regeneratorRuntime.wrap(function _callee226$(_context227){while(1){switch(_context227.prev=_context227.next){case 0:_context227.next=2;return this.Qs.hardwareAcceleration;case 2:t=_context227.sent;e=this.Qs.getConfig("bx-generalsettings:maxRecentFiles",5);i=this.Qs.matches("bx-webapp, bx-portalapp");this["#hardware-acceleration-section"].hidden=i,this["#hardware-acceleration-checkbox"].toggled=t,this["#recent-files-section"].hidden=!i,this["#recent-files-select"].value=e+"",this["#hr-1"].hidden=this["#hardware-acceleration-section"].hidden||this["#recent-files-section"].hidden;case 6:case"end":return _context227.stop();}}},_callee226,this);}));function qs(){return _qs8.apply(this,arguments);}return qs;}()}]);return iw;}(ew);_defineProperty(iw,"_shadowTemplate",Hi(_templateObject522()));_defineProperty(iw,"_shadowStyleSheet",Yi(_templateObject523()));customElements.define("bx-generalsettings",iw);var sw=/*#__PURE__*/function(_ew2){_inherits(sw,_ew2);var _super229=_createSuper(sw);function sw(){var _this1053;_classCallCheck(this,sw);_this1053=_super229.call(this),_this1053["#theme-select"].addEventListener("change",function(){return _this1053.kz();}),_this1053["#color-scheme-select"].addEventListener("change",function(){return _this1053.Sz();}),_this1053["#accent-color-preset-select"].addEventListener("change",function(t){return _this1053._z(t);}),_this1053["#accent-color-select"].addEventListener("changestart",function(t){return _this1053.Cz(t);}),_this1053["#widgets-size-select"].addEventListener("change",function(){return _this1053.Mz();}),_this1053["#show-install-button-checkbox"].addEventListener("toggle",function(){_this1053.Qs.setConfig("bx-uisettings:showInstallButton",_this1053["#show-install-button-checkbox"].toggled);}),_this1053["#show-cloud-button-checkbox"].addEventListener("toggle",function(){_this1053.Qs.setConfig("bx-uisettings:showCloudButton",_this1053["#show-cloud-button-checkbox"].toggled);}),_this1053["#show-profile-button-checkbox"].addEventListener("toggle",function(){_this1053.Qs.setConfig("bx-uisettings:showProfileButton",_this1053["#show-profile-button-checkbox"].toggled);}),_this1053["#show-dock-tooltips-checkbox"].addEventListener("toggle",function(){_this1053.Qs.setConfig("bx-uisettings:showDockTooltips",_this1053["#show-dock-tooltips-checkbox"].toggled);}),_this1053["#limit-scrollable-area-checkbox"].addEventListener("toggle",function(){_this1053.Qs.setConfig("bx-uisettings:limitScrollableArea",_this1053["#limit-scrollable-area-checkbox"].toggled);}),_this1053["#show-view-outline-above-objects-checkbox"].addEventListener("toggle",function(){_this1053.Qs.setConfig("bx-uisettings:showViewOutlineAboveObjects",_this1053["#show-view-outline-above-objects-checkbox"].toggled);});return _this1053;}_createClass(sw,[{key:"tn",value:function(){var _tn3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee227(){var _this1054=this;return regeneratorRuntime.wrap(function _callee227$(_context228){while(1){switch(_context228.prev=_context228.next){case 0:_context228.next=2;return As.whenThemeReady;case 2:this.qs();this.Pz=window.matchMedia("(prefers-color-scheme: dark)");this.Qs.addEventListener("userchange",this.Dz=function(){return _this1054.qs();});this.Qs.addEventListener("installedchange",this.zz=function(){return _this1054.qs();});this.Pz.addEventListener("change",this.Oz=function(){return _this1054.qs();});As.addEventListener("themechange",this.Ez=function(){return _this1054.qs();});As.addEventListener("accentcolorchange",this.Tz=function(){return _this1054.qs();});case 9:case"end":return _context228.stop();}}},_callee227,this);}));function tn(){return _tn3.apply(this,arguments);}return tn;}()},{key:"sn",value:function sn(){this.Qs.removeEventListener("userchange",this.Dz),this.Qs.removeEventListener("installedchange",this.zz),this.Pz.removeEventListener("change",this.Oz),As.removeEventListener("themechange",this.Ez),As.removeEventListener("accentcolorchange",this.Tz);}},{key:"kz",value:function kz(){this.Qs.setConfig("bx-uisettings:theme",this["#theme-select"].value);}},{key:"Sz",value:function Sz(){var t=this["#color-scheme-select"].value;"bx-macapp"===this.Qs.localName?this.Qs.setColorScheme(t):this.Qs.setConfig("bx-uisettings:colorScheme",t),this.qs();}},{key:"_z",value:function _z(){"custom"===this["#accent-color-preset-select"].value?(this.Qs.setConfig("bx-uisettings:accentColor",this["#accent-color-select"].value),this["#accent-color-select"].click()):"auto"===this["#accent-color-preset-select"].value?this.Qs.setConfig("bx-uisettings:accentColor","auto"):this.Qs.setConfig("bx-uisettings:accentColor",this["#accent-color-preset-select"].value);}},{key:"Cz",value:function Cz(){var _this1055=this;var t,_e1919;this["#accent-color-preset-select"].value="custom",this["#accent-color-select"].addEventListener("change",t=qi(function(){_this1055.Qs.setConfig("bx-uisettings:accentColor",_this1055["#accent-color-select"].value);},150)),this["#accent-color-select"].addEventListener("changeend",_e1919=function e(){_this1055["#accent-color-select"].removeEventListener("change",t),_this1055["#accent-color-select"].removeEventListener("changeend",_e1919);});}},{key:"Mz",value:function Mz(){this.Qs.setConfig("bx-uisettings:widgetsSize",this["#widgets-size-select"].value);}},{key:"qs",value:function(){var _qs9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee228(){var _e1920,_i1721,_t2526,_e1921,_t2527,_t2528,_t2529,_e1922,_t2530,_i1722,_arr90,_e1923,_i1723,_e1924,_i1724,_e1925,_i1725,_s1029,_i1726,_t2531,_e1926,_Df3,_Df4,_t2532,_t2533,_t2534,_e1927;return regeneratorRuntime.wrap(function _callee228$(_context229){while(1){switch(_context229.prev=_context229.next){case 0:if("bx-macapp"===this.Qs.localName)this["#theme-section"].hidden=!0;else if("bx-linuxapp"===this.Qs.localName)this["#theme-section"].hidden=!0;else if("bx-chromeapp"===this.Qs.localName)this["#theme-section"].hidden=!0;else if("bx-webapp"===this.Qs.localName||"bx-portalapp"===this.Qs.localName){_e1920=this.Qs.getConfig("bx-uisettings:theme","auto"),_i1721=null;"cupertino"===_e1920&&!1===t&&(_e1920="auto"),_i1721=navigator.platform.startsWith("Mac")?"cupertino":navigator.platform.startsWith("Win")?"fluent":navigator.platform.startsWith("Linux")?(navigator.userAgent.includes("CrOS")||navigator.userAgent.includes("Android"),"vanilla"):"vanilla",this["#auto-theme-label"].textContent="Auto ("+si(_i1721)+")",this["#cupertino-theme-select-item"].hidden=!1===t,this["#theme-select"].value=_e1920;}if(!("bx-macapp"===this.Qs.localName)){_context229.next=14;break;}_context229.next=4;return this.Qs.getColorScheme();case 4:_t2526=_context229.sent;_e1921="Auto";if(!("auto"===_t2526)){_context229.next=11;break;}_context229.next=9;return this.Qs.getColorScheme(!0);case 9:_t2527=_context229.sent;_e1921+=" ("+si(_t2527)+")";case 11:this["#auto-color-scheme-label"].textContent=_e1921,this["#color-scheme-select"].value=_t2526;_context229.next=15;break;case 14:if("bx-linuxapp"===this.Qs.localName){_t2528=this.Qs.getConfig("bx-uisettings:colorScheme","light");this["#color-scheme-menu"].children[0].hidden=!0,this["#color-scheme-menu"].children[1].hidden=!0,this["#color-scheme-select"].value=_t2528;}else if("bx-chromeapp"===this.Qs.localName||"bx-webapp"===this.Qs.localName||"bx-portalapp"===this.Qs.localName){_t2529=this.Qs.getConfig("bx-uisettings:colorScheme","auto"),_e1922=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";this["#auto-color-scheme-label"].textContent="Auto ("+si(_e1922)+")",this["#color-scheme-select"].value=_t2529;}case 15:_t2530=As.presetAccentColors;for(_i1722=0,_arr90=_toConsumableArray(this["#accent-color-preset-menu"].querySelectorAll("x-swatch"));_i1722<_arr90.length;_i1722++){_e1923=_arr90[_i1722];_i1723=_e1923.parentElement;_e1923.value=_t2530[_i1723.value];}if("bx-macapp"===this.Qs.localName)this["#accent-color-subsection"].hidden=!0;else if("bx-linuxapp"===this.Qs.localName||"bx-chromeapp"===this.Qs.localName){_e1924=this.Qs.getConfig("bx-uisettings:accentColor","blue"),_i1724=!!_t2530[_e1924];this["#accent-color-preset-menu"].children[0].hidden=!0,this["#accent-color-preset-menu"].children[1].hidden=!0,this["#accent-color-preset-select"].value=_i1724?_e1924:"custom",this["#accent-color-select"].value=_i1724?_t2530[_e1924]:_e1924;}else if("bx-webapp"===this.Qs.localName||"bx-portalapp"===this.Qs.localName){_e1925=this.Qs.getConfig("bx-uisettings:accentColor","auto"),_i1725=this.Qs.getSystemAccentColorName(),_s1029=_t2530[_i1725];if(this["#auto-accent-color-preset-label"].textContent="Auto ("+si(_i1725)+")",this["#auto-accent-color-preset-swatch"].value=_s1029,"auto"===_e1925)this["#accent-color-preset-select"].value="auto",this["#accent-color-select"].value=_s1029;else{_i1726=!!_t2530[_e1925];this["#accent-color-preset-select"].value=_i1726?_e1925:"custom",this["#accent-color-select"].value=_i1726?_t2530[_e1925]:_e1925;}}if("bx-macapp"===this.Qs.localName)this["#widgets-size-subsection"].hidden=!0;else{_t2531=this.Qs.getConfig("bx-uisettings:widgetsSize","auto"),_e1926=null;_e1926=window.matchMedia("(pointer: coarse)").matches?"large":window.matchMedia("(min-device-width: 1025px)").matches?"medium":"large",this["#auto-widgets-size-label"].textContent="Auto ("+si(_e1926)+")",this["#widgets-size-select"].value=_t2531;}if(this["#size-section"].hidden=this["#widgets-size-subsection"].hidden,"bx-macapp"===this.Qs.localName||"bx-linuxapp"===this.Qs.localName||"bx-chromeapp"===this.Qs.localName)this["#menubar-section"].hidden=!0;else if("bx-webapp"===this.Qs.localName||"bx-portalapp"===this.Qs.localName){_Df3=Df(this.Qs.userSubscription,this.Qs.user),_Df4=_slicedToArray(_Df3,1),_t2532=_Df4[0];this["#show-install-button-checkbox"].hidden=!0===this.Qs.isInstalled,this["#show-install-button-checkbox"].toggled=this.Qs.getConfig("bx-uisettings:showInstallButton",!0),this["#show-cloud-button-checkbox"].hidden=null===_t2532||_t2532===e,this["#show-cloud-button-checkbox"].toggled=this.Qs.getConfig("bx-uisettings:showCloudButton",!0),this["#show-profile-button-checkbox"].hidden=null===this.Qs.user,this["#show-profile-button-checkbox"].toggled=this.Qs.getConfig("bx-uisettings:showProfileButton",!0),this["#menubar-section"].hidden=this["#show-install-button-checkbox"].hidden&&this["#show-cloud-button-checkbox"].hidden&&this["#show-profile-button-checkbox"].hidden;}_t2533=this.Qs.getConfig("bx-uisettings:showDockTooltips",!0);this["#show-dock-tooltips-checkbox"].toggled=_t2533;_t2534=this.Qs.getConfig("bx-uisettings:limitScrollableArea",!1),_e1927=this.Qs.getConfig("bx-uisettings:showViewOutlineAboveObjects",!1);this["#limit-scrollable-area-checkbox"].toggled=_t2534,this["#show-view-outline-above-objects-checkbox"].toggled=_e1927;case 24:case"end":return _context229.stop();}}},_callee228,this);}));function qs(){return _qs9.apply(this,arguments);}return qs;}()}]);return sw;}(ew);_defineProperty(sw,"_shadowTemplate",Hi(_templateObject524()));_defineProperty(sw,"_shadowStyleSheet",Yi(_templateObject525()));customElements.define("bx-uisettings",sw);var nw=/*#__PURE__*/function(_ew3){_inherits(nw,_ew3);var _super230=_createSuper(nw);function nw(){var _this1056;_classCallCheck(this,nw);_this1056=_super230.call(this),_this1056["#geometry-precision-slider"].addEventListener("changeend",function(){_this1056.Qs.setConfig("bx-markupsettings:geometryPrecision",_this1056["#geometry-precision-slider"].value);}),_this1056["#transform-precision-slider"].addEventListener("changeend",function(){_this1056.Qs.setConfig("bx-markupsettings:transformPrecision",_this1056["#transform-precision-slider"].value);}),_this1056["#indentation-slider"].addEventListener("changeend",function(){_this1056.Qs.setConfig("bx-markupsettings:indentation",_this1056["#indentation-slider"].value);});return _this1056;}_createClass(nw,[{key:"tn",value:function tn(){this.qs();}},{key:"qs",value:function qs(){var t=this.Qs.getConfig("bx-markupsettings:geometryPrecision",3),e=this.Qs.getConfig("bx-markupsettings:transformPrecision",6),i=this.Qs.getConfig("bx-markupsettings:indentation",2);this["#geometry-precision-slider"].value=t,this["#transform-precision-slider"].value=e,this["#indentation-slider"].value=i;}}]);return nw;}(ew);_defineProperty(nw,"_shadowTemplate",Hi(_templateObject526()));customElements.define("bx-markupsettings",nw);var ow=/*#__PURE__*/function(_ew4){_inherits(ow,_ew4);var _super231=_createSuper(ow);function ow(){var _this1057;_classCallCheck(this,ow);_this1057=_super231.call(this),_this1057["#defs-section"].addEventListener("toggle",function(t){_this1057.Az(t);});return _this1057;}_createClass(ow,[{key:"tn",value:function tn(){this.qs();}},{key:"Az",value:function Az(t){this.Qs.setConfig("bx-garbagecollectorsettings:collectOptions",{colors:this["#colors-buttons"].value,gradients:this["#gradients-buttons"].value,patterns:this["#patterns-buttons"].value,markers:this["#markers-buttons"].value,symbols:this["#symbols-buttons"].value,filters:this["#filters-buttons"].value,fonts:this["#fonts-buttons"].value});}},{key:"qs",value:function qs(){var t=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Rp);this["#colors-buttons"].value=t.colors,this["#gradients-buttons"].value=t.gradients,this["#patterns-buttons"].value=t.patterns,this["#markers-buttons"].value=t.markers,this["#symbols-buttons"].value=t.symbols,this["#filters-buttons"].value=t.filters,this["#fonts-buttons"].value=t.fonts;}}]);return ow;}(ew);_defineProperty(ow,"_shadowTemplate",Hi(_templateObject527()));_defineProperty(ow,"_shadowStyleSheet",Yi(_templateObject528()));customElements.define("bx-garbagecollectorsettings",ow);var lw=Symbol(),hw=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Shift+ArrowUp","Shift+ArrowDown","Shift+ArrowLeft","Shift+ArrowRight","Tab","Escape","Enter"];var aw=/*#__PURE__*/function(_HTMLElement139){_inherits(aw,_HTMLElement139);var _super232=_createSuper(aw);_createClass(aw,[{key:"value",get:function get(){return this.$z;},set:function set(t){this.$z=t,!0===this.Iz&&this.qs();}}]);function aw(){var _this1058;_classCallCheck(this,aw);_this1058=_super232.call(this),_this1058.$z={},_this1058.Iz=!1,_this1058._shadowRoot=_this1058.attachShadow({mode:"closed"}),_this1058._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,aw._shadowStyleSheet],_this1058._shadowRoot.append(document.importNode(aw._shadowTemplate.content,!0));var _iterator1723=_createForOfIteratorHelper(_this1058._shadowRoot.querySelectorAll("[id]")),_step1723;try{for(_iterator1723.s();!(_step1723=_iterator1723.n()).done;){var _t2535=_step1723.value;_this1058["#"+_t2535.id]=_t2535;}}catch(err){_iterator1723.e(err);}finally{_iterator1723.f();}_this1058._shadowRoot.addEventListener("keydown",function(t){return _this1058.vn(t);}),_this1058["#items"].addEventListener("blur",function(){return _this1058.Lz();}),_this1058["#items"].addEventListener("click",function(t){return _this1058.qc(t);}),_this1058["#items"].addEventListener("scroll",function(){return _this1058.hv();}),_this1058["#filter-input"].addEventListener("input",function(){return _this1058.f_();}),_this1058["#filter-buttons"].addEventListener("toggle",function(){return _this1058.Bz();}),_this1058["#filter-buttons"].addEventListener("click",function(){return _this1058["#items"].focus();});return _this1058;}_createClass(aw,[{key:"connectedCallback",value:function connectedCallback(){var _this1059=this;this.Qs=Ti(this,"#app"),this.Iz=!0,this.qs(),As.addEventListener("sizechange",this.Qc=function(){_this1059.Rz();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.Qc);}},{key:"Lz",value:function Lz(){var t=this["#items"].querySelector(".item[data-editable]");t&&(t.removeAttribute("data-editable"),this.Gz(t));}},{key:"qc",value:function qc(t){var e=t.target.closest(".reset-button"),i=t.target.closest(".item");if(e)this.qn(t);else if(i)this.jw(t);else{var _iterator1724=_createForOfIteratorHelper(this["#items"].children),_step1724;try{for(_iterator1724.s();!(_step1724=_iterator1724.n()).done;){var _t2536=_step1724.value;_t2536.hasAttribute("data-editable")&&(_t2536.removeAttribute("data-editable"),this.Gz(_t2536));}}catch(err){_iterator1724.e(err);}finally{_iterator1724.f();}}}},{key:"jw",value:function jw(t){var e=t.target.closest(".item");if(2===t.detail)!1===e.hasAttribute("data-editable")&&(e.setAttribute("data-editable",""),this.Gz(e));else{var _iterator1725=_createForOfIteratorHelper(this["#items"].children),_step1725;try{for(_iterator1725.s();!(_step1725=_iterator1725.n()).done;){var _t2537=_step1725.value;_t2537===e?_t2537.setAttribute("data-selected",""):_t2537.removeAttribute("data-selected"),_t2537.hasAttribute("data-editable")&&(_t2537.removeAttribute("data-editable"),this.Gz(_t2537));}}catch(err){_iterator1725.e(err);}finally{_iterator1725.f();}}}},{key:"hv",value:function hv(){}},{key:"qn",value:function qn(t){var e=t.target.closest(".reset-button").closest(".item"),i=e[lw].commandID;delete this.$z[i],this.dispatchEvent(new CustomEvent("change")),this.Gz(e),this.Fz();}},{key:"Bz",value:function Bz(){this["#filter-input"].value="",this.f_();}},{key:"vn",value:function vn(t){var e=to.fromEvent(t);if(t.target===this["#items"]){var _i1727=this["#items"].querySelector(".item[data-editable]");if(_i1727){if(t.preventDefault(),t.stopPropagation(),e.matches("Backspace")||e.matches("Delete")||e.matches("Escape")||e.matches("Enter")||e.matches("Space"))_i1727.removeAttribute("data-editable"),this.Gz(_i1727);else if(e.key&&!1===hw.includes(e.toString())){var _i1727$lw=_i1727[lw],_t2538=_i1727$lw.commandID,_s1030=_i1727$lw.defaultShortcut,_n741=this.$z[_t2538]||null;_n741&&e.toString()===_n741?(_i1727.removeAttribute("data-editable"),this.Gz(_i1727)):_s1030&&e.toString()===_s1030?(delete this.$z[_t2538],this.dispatchEvent(new CustomEvent("change")),_i1727.removeAttribute("data-editable"),this.Gz(_i1727),this.Fz()):(this.$z[_t2538]=e.toString(),this.dispatchEvent(new CustomEvent("change")),_i1727.removeAttribute("data-editable"),this.Gz(_i1727),this.Fz());}}else if(e.matches("ArrowUp"))t.preventDefault(),this.Mu();else if(e.matches("ArrowDown"))t.preventDefault(),this.Pu();else if(e.matches("Enter")){t.preventDefault();var _e1928=this["#items"].querySelector(".item[data-selected]:not([hidden])");_e1928.setAttribute("data-editable",""),this.Gz(_e1928);}else if(e.matches("Backspace")||e.matches("Delete")){var _e1929=this["#items"].querySelector(".item[data-selected]:not([hidden])"),_e1929$lw=_e1929[lw],_i1728=_e1929$lw.commandID,_s1031=_e1929$lw.defaultShortcut;void 0!==this.$z[_i1728]?(t.preventDefault(),delete this.$z[_i1728],this.dispatchEvent(new CustomEvent("change")),this.Gz(_e1929),this.Fz()):null!==_s1031&&(t.preventDefault(),this.$z[_i1728]=null,this.dispatchEvent(new CustomEvent("change")),this.Gz(_e1929),this.Fz());}}}},{key:"Zw",value:function Zw(t){var e=Hi(_templateObject94(),'\n  <div class="item">\n    <div class="command-label"></div>\n    <div class="shortcut-label"></div>\n\n    <x-button class="button reset-button" title="Reset to default shortcut" skin="recessed" toggled condensed>\n      <x-label>Reset</x-label>\n    </x-button>\n  </div>\n');return e[lw]=t,this.Gz(e),e;}},{key:"Mu",value:function Mu(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item:not([hidden])")),e=this["#items"].querySelector(".item[data-selected]:not([hidden])"),i=e?t.indexOf(e):-1,s=t[i-1];if(s){s.scrollIntoViewIfNeeded();var _iterator1726=_createForOfIteratorHelper(this["#items"].children),_step1726;try{for(_iterator1726.s();!(_step1726=_iterator1726.n()).done;){var _t2539=_step1726.value;_t2539===s?_t2539.setAttribute("data-selected",""):_t2539.removeAttribute("data-selected");}}catch(err){_iterator1726.e(err);}finally{_iterator1726.f();}}}},{key:"Pu",value:function Pu(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item:not([hidden])")),e=this["#items"].querySelector(".item[data-selected]:not([hidden])"),i=e?t.indexOf(e):-1,s=t[i+1];if(s){s.scrollIntoViewIfNeeded();var _iterator1727=_createForOfIteratorHelper(this["#items"].children),_step1727;try{for(_iterator1727.s();!(_step1727=_iterator1727.n()).done;){var _t2540=_step1727.value;_t2540===s?_t2540.setAttribute("data-selected",""):_t2540.removeAttribute("data-selected");}}catch(err){_iterator1727.e(err);}finally{_iterator1727.f();}}}},{key:"qs",value:function(){var _qs10=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee229(){var _t2541,_iterator1728,_step1728,_e1930,_t2542,_iterator1729,_step1729,_t2543;return regeneratorRuntime.wrap(function _callee229$(_context230){while(1){switch(_context230.prev=_context230.next){case 0:if(!(0===this["#items"].childElementCount)){_context230.next=9;break;}_context230.next=3;return this.Qs.getShortcutsEditorModel();case 3:_t2541=_context230.sent;this["#items"].innerHTML="";_iterator1728=_createForOfIteratorHelper(_t2541);try{for(_iterator1728.s();!(_step1728=_iterator1728.n()).done;){_e1930=_step1728.value;_t2542=this.Zw(_e1930);this["#items"].append(_t2542);}}catch(err){_iterator1728.e(err);}finally{_iterator1728.f();}_context230.next=11;break;case 9:_iterator1729=_createForOfIteratorHelper(this["#items"].children);try{for(_iterator1729.s();!(_step1729=_iterator1729.n()).done;){_t2543=_step1729.value;this.Gz(_t2543);}}catch(err){_iterator1729.e(err);}finally{_iterator1729.f();}case 11:this.Rz(),this.Fz();case 12:case"end":return _context230.stop();}}},_callee229,this);}));function qs(){return _qs10.apply(this,arguments);}return qs;}()},{key:"Gz",value:function Gz(t){var _t$lw=t[lw],e=_t$lw.commandID,i=_t$lw.label,s=_t$lw.defaultShortcut,n=this.$z[e];n||null===n?t.setAttribute("data-user-shortcut",""):t.removeAttribute("data-user-shortcut");t.querySelector(".command-label").textContent=i;{var _e1931=t.querySelector(".shortcut-label");t.hasAttribute("data-editable")?_e1931.textContent="Press new shortcut":n?_e1931.textContent=to.fromString(n).toDisplayString():null===n?_e1931.textContent="":void 0===n&&(_e1931.textContent=s?to.fromString(s).toDisplayString():"");}t.querySelector(".reset-button").hidden=void 0===n;}},{key:"Fz",value:function Fz(){var t=0;var _iterator1730=_createForOfIteratorHelper(this["#items"].children),_step1730;try{for(_iterator1730.s();!(_step1730=_iterator1730.n()).done;){var _e1932=_step1730.value;var _e1932$lw=_e1932[lw],_i1729=_e1932$lw.commandID,_s1032=_e1932$lw.defaultShortcut,_n742=this.$z[_i1729]||_s1032,_o557=!1;if(_n742){var _iterator1731=_createForOfIteratorHelper(this["#items"].children),_step1731;try{for(_iterator1731.s();!(_step1731=_iterator1731.n()).done;){var _t2544=_step1731.value;if(_t2544!==_e1932){var _e1933=this.$z[_t2544[lw].commandID]||_t2544[lw].defaultShortcut;if(_e1933&&_e1933===_n742){_o557=!0;break;}}}}catch(err){_iterator1731.e(err);}finally{_iterator1731.f();}}_o557?(_e1932.setAttribute("data-conflicting",""),t+=1):_e1932.removeAttribute("data-conflicting");}}catch(err){_iterator1730.e(err);}finally{_iterator1730.f();}this["#conflicting-items-counter"].textContent=t>0?"(".concat(t,")"):"";}},{key:"Rz",value:function Rz(){this["#items"].setAttribute("data-size",As.size);}},{key:"f_",value:function f_(){var t=this["#filter-input"].value.trim().toLowerCase();var _iterator1732=_createForOfIteratorHelper(this["#items"].querySelectorAll(".command-label")),_step1732;try{for(_iterator1732.s();!(_step1732=_iterator1732.n()).done;){var _e1934=_step1732.value;var _i1730=_e1934.closest(".item"),_s1033=!1;if(t.length>0){_s1033=-1===_e1934.textContent.trim().toLowerCase().indexOf(t);}else _s1033=!1;_s1033||("custom"===this["#filter-buttons"].value?!1===_i1730.hasAttribute("data-user-shortcut")&&(_s1033=!0):"conflicting"===this["#filter-buttons"].value&&!1===_i1730.hasAttribute("data-conflicting")&&(_s1033=!0)),_i1730.hidden=_s1033;}}catch(err){_iterator1732.e(err);}finally{_iterator1732.f();}}}]);return aw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(aw,"_shadowTemplate",Hi(_templateObject529()));_defineProperty(aw,"_shadowStyleSheet",Yi(_templateObject530()));customElements.define("bx-shortcutseditor",aw);var rw=/*#__PURE__*/function(_ew5){_inherits(rw,_ew5);var _super233=_createSuper(rw);function rw(){var _this1060;_classCallCheck(this,rw);_this1060=_super233.call(this),_this1060["#tabs"].addEventListener("change",function(){return _this1060.Uz();}),_this1060["#shortcuts-editor"].addEventListener("change",function(){return _this1060.Nz();}),_this1060["#space-modifier-radios"].addEventListener("toggle",function(){return _this1060.Vz();});return _this1060;}_createClass(rw,[{key:"tn",value:function tn(){var t=this.Qs.getConfig("bx-keyboardsettings:userShortcuts",{}),e=this.Qs.getConfig("bx-keyboardsettings:spaceKeyMode","togglePreviousTool");this["#shortcuts-editor"].value=t,this["#space-modifier-radios"].value=e;}},{key:"Uz",value:function Uz(){this["#shortcuts-view"].hidden="shortcuts"!==this["#tabs"].value,this["#modifiers-view"].hidden="modifiers"!==this["#tabs"].value;}},{key:"Nz",value:function Nz(){this.Qs.setConfig("bx-keyboardsettings:userShortcuts",this["#shortcuts-editor"].value);}},{key:"Vz",value:function Vz(){this.Qs.setConfig("bx-keyboardsettings:spaceKeyMode",this["#space-modifier-radios"].value);}}]);return rw;}(ew);_defineProperty(rw,"_shadowTemplate",Hi(_templateObject531()));_defineProperty(rw,"_shadowStyleSheet",Yi(_templateObject532()));customElements.define("bx-keyboardsettings",rw);var dw=function dw(t){var e="",i="string"==typeof t.detail?"".concat(t.code," / ").concat(t.detail):"".concat(t.code);return e=t.message&&t.message.toLowerCase()!==t.code?"".concat(t.message," (").concat(i,")"):"Server error, please try again later. (".concat(i,")"),e;};var cw=/*#__PURE__*/function(_HTMLElement140){_inherits(cw,_HTMLElement140);var _super234=_createSuper(cw);_createClass(cw,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"transparent",get:function get(){return this.hasAttribute("transparent");},set:function set(t){t?this.setAttribute("transparent",""):this.removeAttribute("transparent");}}]);function cw(){var _this1061;_classCallCheck(this,cw);_this1061=_super234.call(this),_this1061._shadowRoot=_this1061.attachShadow({mode:"closed"}),_this1061._shadowRoot.adoptedStyleSheets=[cw._shadowStyleSheet],_this1061._shadowRoot.append(document.importNode(cw._shadowTemplate.content,!0));var _iterator1733=_createForOfIteratorHelper(_this1061._shadowRoot.querySelectorAll("[id]")),_step1733;try{for(_iterator1733.s();!(_step1733=_iterator1733.n()).done;){var _t2545=_step1733.value;_this1061["#"+_t2545.id]=_t2545;}}catch(err){_iterator1733.e(err);}finally{_iterator1733.f();}return _this1061;}_createClass(cw,[{key:"connectedCallback",value:function connectedCallback(){this.qs();}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&this._shadowRoot&&"value"===t&&this.qs();}},{key:"qs",value:function qs(){null===this.value?this["#img"].src="":this["#img"].src=function(t){return t.startsWith("/")&&(t=t.substring(1)),"https://firebasestorage.googleapis.com/v0/b/boxy-svg.appspot.com/o/".concat(encodeURIComponent(t),"?alt=media");}("/avatars/".concat(this.value,".png"));}}]);return cw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(cw,"observedAttributes",["value"]);_defineProperty(cw,"_shadowTemplate",Hi(_templateObject533()));_defineProperty(cw,"_shadowStyleSheet",Yi(_templateObject534()));customElements.define("bx-avatar",cw);var pw=/*#__PURE__*/function(_ew6){_inherits(pw,_ew6);var _super235=_createSuper(pw);function pw(){var _this1062;_classCallCheck(this,pw);_this1062=_super235.call(this),_this1062["#avatar-edit-button"].addEventListener("click",function(){return _this1062.jz();}),_this1062["#name-input"].addEventListener("input",function(){return _this1062.Yz();}),_this1062["#name-input"].addEventListener("keydown",function(t){return _this1062.Wz(t);}),_this1062["#name-change-button"].addEventListener("click",function(){return _this1062.qz();}),_this1062["#website-input"].addEventListener("input",function(){return _this1062.Xz();}),_this1062["#website-input"].addEventListener("keydown",function(t){return _this1062.Zz(t);}),_this1062["#website-change-button"].addEventListener("click",function(){return _this1062.Kz();}),_this1062["#bio-editor"].addEventListener("input",function(){return _this1062.Qz();}),_this1062["#bio-change-button"].addEventListener("click",function(){return _this1062.Jz();});return _this1062;}_createClass(pw,[{key:"tn",value:function tn(){var _this1063=this;this.Qs.addEventListener("userprofilechange",this.tO=function(){return _this1063.qs();}),this.qs();}},{key:"sn",value:function sn(){this.Qs.removeEventListener("userprofilechange",this.tO);}},{key:"jz",value:function jz(){window.open("/app/avatar");}},{key:"Yz",value:function Yz(){var t=this.Qs.userProfile.name,e=this["#name-input"].value.trim();t===e||""===e?(this["#name-change-button"].disabled=!0,this["#name-change-button"].toggled=!1):(this["#name-change-button"].disabled=!1,this["#name-change-button"].toggled=!0);}},{key:"Wz",value:function Wz(t){"Enter"===t.code&&!1===this["#name-change-button"].disabled&&this["#name-change-button"].click();}},{key:"qz",value:function(){var _qz=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee230(){var t,e,i;return regeneratorRuntime.wrap(function _callee230$(_context231){while(1){switch(_context231.prev=_context231.next){case 0:firebase.functions();e=this.Qs.user,i=this["#name-input"].value.trim();this["#name-input"].disabled=!0,this["#name-change-button"].disabled=!0,this["#name-throbber"].hidden=!1;_context231.prev=3;_context231.next=6;return this.Qs.callCloudFunction("editUser",{userUID:e.uid,name:i});case 6:_context231.next=11;break;case 8:_context231.prev=8;_context231.t0=_context231["catch"](3);t=_context231.t0;case 11:t?(this["#name-input"].disabled=!1,this["#name-change-button"].disabled=!1,this["#name-throbber"].hidden=!0,"name-taken"===t.details?this["#name-input"].error="This name is already taken.":"auth/invalid-display-name"===t.details?this["#name-input"].error="Invalid name.":this.Qs.openMessageDialog({message:"Failed to change user name",detail:dw(t),buttons:["OK"]})):(this["#name-input"].disabled=!1,this["#name-change-button"].disabled=!0,this["#name-change-button"].toggled=!1,this["#name-throbber"].hidden=!0);case 12:case"end":return _context231.stop();}}},_callee230,this,[[3,8]]);}));function qz(){return _qz.apply(this,arguments);}return qz;}()},{key:"Xz",value:function Xz(){this.Qs.userProfile.websiteURL===this["#website-input"].value.trim()?(this["#website-change-button"].disabled=!0,this["#website-change-button"].toggled=!1):(this["#website-change-button"].disabled=!1,this["#website-change-button"].toggled=!0);}},{key:"Zz",value:function Zz(t){"Enter"===t.code&&!1===this["#website-change-button"].disabled&&this["#website-change-button"].click();}},{key:"Kz",value:function(){var _Kz=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee231(){var t,e,i;return regeneratorRuntime.wrap(function _callee231$(_context232){while(1){switch(_context232.prev=_context232.next){case 0:firebase.functions();e=this.Qs.user,i=this["#website-input"].value.trim();this["#website-input"].disabled=!0,this["#website-input"].error=null,this["#website-change-button"].disabled=!0,this["#website-throbber"].hidden=!1;_context232.prev=3;_context232.next=6;return this.Qs.callCloudFunction("editUser",{userUID:e.uid,websiteURL:i});case 6:_context232.next=11;break;case 8:_context232.prev=8;_context232.t0=_context232["catch"](3);t=_context232.t0;case 11:t?(this["#website-input"].disabled=!1,this["#website-change-button"].disabled=!1,this["#website-throbber"].hidden=!0,"invalid-url"===t.details?this["#website-input"].error="This URL is not valid.":this.Qs.openMessageDialog({message:"Failed to change user website",detail:dw(t),buttons:["OK"]})):(this["#website-input"].disabled=!1,this["#website-change-button"].disabled=!0,this["#website-change-button"].toggled=!1,this["#website-throbber"].hidden=!0);case 12:case"end":return _context232.stop();}}},_callee231,this,[[3,8]]);}));function Kz(){return _Kz.apply(this,arguments);}return Kz;}()},{key:"Qz",value:function Qz(){this.Qs.userProfile.bio===this["#bio-editor"].value.trim()?(this["#bio-change-button"].disabled=!0,this["#bio-change-button"].toggled=!1):(this["#bio-change-button"].disabled=!1,this["#bio-change-button"].toggled=!0);}},{key:"Jz",value:function(){var _Jz=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee232(){var t,e,i;return regeneratorRuntime.wrap(function _callee232$(_context233){while(1){switch(_context233.prev=_context233.next){case 0:firebase.functions();e=this.Qs.user,i=this["#bio-editor"].value.trim();this["#bio-editor"].disabled=!0,this["#bio-change-button"].disabled=!0,this["#bio-throbber"].hidden=!1;_context233.prev=3;_context233.next=6;return this.Qs.callCloudFunction("editUser",{userUID:e.uid,bio:i});case 6:_context233.next=11;break;case 8:_context233.prev=8;_context233.t0=_context233["catch"](3);t=_context233.t0;case 11:t?(this["#bio-editor"].disabled=!1,this["#bio-change-button"].disabled=!1,this["#bio-throbber"].hidden=!0,"invalid-url"===t.details?this["#bio-editor"].error="This URL is not valid.":this.Qs.openMessageDialog({message:"Failed to change user bio",detail:dw(t),buttons:["OK"]})):(this["#bio-editor"].disabled=!1,this["#bio-change-button"].disabled=!0,this["#bio-change-button"].toggled=!1,this["#bio-throbber"].hidden=!0);case 12:case"end":return _context233.stop();}}},_callee232,this,[[3,8]]);}));function Jz(){return _Jz.apply(this,arguments);}return Jz;}()},{key:"qs",value:function(){var _qs11=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee233(){var t,_e1935,_i1731,_s1034;return regeneratorRuntime.wrap(function _callee233$(_context234){while(1){switch(_context234.prev=_context234.next){case 0:t=this.Qs.userProfile;firebase.storage();if(t){_e1935=t.name,_i1731=t.bio,_s1034=t.websiteURL;this["#avatar"].value=this.Qs.user.uid,this["#name-input"].value=_e1935,this["#name-change-button"].toggled=!1,this["#name-change-button"].disabled=!0,this["#website-input"].value=_s1034,this["#website-change-button"].toggled=!1,this["#website-change-button"].disabled=!0,this["#bio-editor"].value=_i1731,this["#bio-change-button"].toggled=!1,this["#bio-change-button"].disabled=!0;}else this["#avatar-image"].value="",this["#name-input"].value="",this["#website-input"].value="",this["#bio-editor"].value="";case 3:case"end":return _context234.stop();}}},_callee233,this);}));function qs(){return _qs11.apply(this,arguments);}return qs;}()}]);return pw;}(ew);_defineProperty(pw,"_shadowTemplate",Hi(_templateObject535()));_defineProperty(pw,"_shadowStyleSheet",Yi(_templateObject536()));customElements.define("bx-profilesettings",pw);var uw=/*#__PURE__*/function(_HTMLElement141){_inherits(uw,_HTMLElement141);var _super236=_createSuper(uw);_createClass(uw,[{key:"value",get:function get(){return _toConsumableArray(this._t);},set:function set(t){this._t=_toConsumableArray(t),this._t.length>this.limit&&(this._t.length=this.limit),this.qs();}},{key:"limit",get:function get(){return this.eO;},set:function set(t){this.eO=t,this._t.length>this.limit&&(this._t.length=this.limit),this.qs();}},{key:"editing",get:function get(){return null!==this["#table"].querySelector("tr[data-editing]");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function uw(){var _this1064;_classCallCheck(this,uw);_this1064=_super236.call(this),_this1064._t=[],_this1064.eO=10,_this1064._shadowRoot=_this1064.attachShadow({mode:"closed",delegatesFocus:!1}),_this1064._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,uw._shadowStyleSheet],_this1064._shadowRoot.append(document.importNode(uw._shadowTemplate.content,!0));var _iterator1734=_createForOfIteratorHelper(_this1064._shadowRoot.querySelectorAll("[id]")),_step1734;try{for(_iterator1734.s();!(_step1734=_iterator1734.n()).done;){var _t2546=_step1734.value;_this1064["#"+_t2546.id]=_t2546;}}catch(err){_iterator1734.e(err);}finally{_iterator1734.f();}_this1064._shadowRoot.addEventListener("pointerdown",function(t){return _this1064.wo(t);}),_this1064._shadowRoot.addEventListener("click",function(t){return _this1064["do"](t);}),_this1064.addEventListener("keydown",function(t){return _this1064.vn(t);});return _this1064;}_createClass(uw,[{key:"connectedCallback",value:function connectedCallback(){var _this1065=this;this.tabIndex=0,As.addEventListener("sizechange",this.Qc=function(){_this1065.hu();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.Qc);}},{key:"wo",value:function wo(t){if(this.disabled)return;var e=t.target.closest("tr"),i=t.target.closest("x-input");if(e&&!i&&this["#tbody"].childElementCount>1){this.Xw();var _iterator1735=_createForOfIteratorHelper(this["#tbody"].children),_step1735;try{for(_iterator1735.s();!(_step1735=_iterator1735.n()).done;){var _t2547=_step1735.value;if(_t2547===e){_t2547.setAttribute("data-selected","");var _iterator1736=_createForOfIteratorHelper(_t2547.children),_step1736;try{for(_iterator1736.s();!(_step1736=_iterator1736.n()).done;){var _e1936=_step1736.value;_e1936.part.add("selected-cell");}}catch(err){_iterator1736.e(err);}finally{_iterator1736.f();}}else{_t2547.removeAttribute("data-selected");var _iterator1737=_createForOfIteratorHelper(_t2547.children),_step1737;try{for(_iterator1737.s();!(_step1737=_iterator1737.n()).done;){var _e1937=_step1737.value;_e1937.part.remove("selected-cell");}}catch(err){_iterator1737.e(err);}finally{_iterator1737.f();}}}}catch(err){_iterator1735.e(err);}finally{_iterator1735.f();}}}},{key:"do",value:function _do(t){if(this.disabled)return;var e=t.target.closest("tr");e&&2===t.detail&&!1===e.hasAttribute("data-editing")&&!1===e.hasAttribute("data-disabled")&&this.iO(e);}},{key:"vn",value:function vn(t){this.disabled||("Enter"===t.key?!0===this.editing?(this.Xw(),this.focus()):this.iO():"Escape"===t.key?!0===this.editing&&(t.preventDefault(),this.Xw(),this.focus()):"Backspace"===t.key?!1===this.editing&&(t.preventDefault(),this.sO()):"ArrowUp"===t.key?!1===this.editing&&this.nO():"ArrowDown"===t.key&&!1===this.editing&&this.oO());}},{key:"iO",value:function iO(t){var _this1066=this;var e=this["#table"].querySelector("tr[data-selected]");if(e&&!1===e.hasAttribute("data-disabled")){e.setAttribute("data-editing",""),e.scrollIntoViewIfNeeded();var _iterator1738=_createForOfIteratorHelper(e.children),_step1738;try{for(_iterator1738.s();!(_step1738=_iterator1738.n()).done;){var _t2549=_step1738.value;_t2549.part.add("selected-cell");}}catch(err){_iterator1738.e(err);}finally{_iterator1738.f();}var _t2548=e.querySelector(".label"),_i1732=Hi(_templateObject95(),_t2548.textContent);_t2548.after(_i1732),_t2548.hidden=!0,_i1732.selectAll(),_i1732.addEventListener("focusout",function(){_this1066.Xw();}),_i1732.validate=function(){var t=null,e=_i1732.value.trim();var s;e.length>0&&!1===(s=e,new RegExp("[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$").test(s))&&(t=""),_i1732.error=t;};}}},{key:"Xw",value:function Xw(){var t=this["#table"].querySelector("tr[data-editing]");if(t){var _e1938=Oi(t),_i1733=t.querySelector(".label"),_s1035=t.querySelector(".input");if(t.removeAttribute("data-editing"),_i1733.hidden=!1,_s1035.remove(),null===_s1035.error){var _n743=_i1733.textContent,_o558=_s1035.value.trim().toLowerCase();if(_n743!==_o558){var _s1036=null;if(""!==_o558){var _iterator1739=_createForOfIteratorHelper(this["#tbody"].children),_step1739;try{for(_iterator1739.s();!(_step1739=_iterator1739.n()).done;){var _e1939=_step1739.value;if(_e1939!==t){if(_e1939.querySelector(".label").textContent===_o558){_s1036=_e1939;break;}}}}catch(err){_iterator1739.e(err);}finally{_iterator1739.f();}}_s1036?(""!==_n743&&(_i1733.textContent="",this._t[_e1938]="",this.dispatchEvent(new CustomEvent("change"))),this.lO(_s1036)):(_i1733.textContent=_o558,this._t[_e1938]=""===_o558?null:_o558,this.dispatchEvent(new CustomEvent("change")));}}}}},{key:"lO",value:function lO(t){var e=this["#table"].querySelector("tr[data-selected]");if(e&&e!==t){e.removeAttribute("data-selected");var _iterator1740=_createForOfIteratorHelper(e.children),_step1740;try{for(_iterator1740.s();!(_step1740=_iterator1740.n()).done;){var _t2550=_step1740.value;_t2550.part.remove("selected-cell");}}catch(err){_iterator1740.e(err);}finally{_iterator1740.f();}}t.setAttribute("data-selected","");var _iterator1741=_createForOfIteratorHelper(t.children),_step1741;try{for(_iterator1741.s();!(_step1741=_iterator1741.n()).done;){var _e1940=_step1741.value;_e1940.part.add("selected-cell");}}catch(err){_iterator1741.e(err);}finally{_iterator1741.f();}t.scrollIntoViewIfNeeded();}},{key:"nO",value:function nO(){var t=this["#table"].querySelector("tr[data-selected]");if(t){var _e1941=t.previousElementSibling;if(_e1941){t.removeAttribute("data-selected");var _iterator1742=_createForOfIteratorHelper(t.children),_step1742;try{for(_iterator1742.s();!(_step1742=_iterator1742.n()).done;){var _e1942=_step1742.value;_e1942.part.remove("selected-cell");}}catch(err){_iterator1742.e(err);}finally{_iterator1742.f();}_e1941.setAttribute("data-selected","");var _iterator1743=_createForOfIteratorHelper(_e1941.children),_step1743;try{for(_iterator1743.s();!(_step1743=_iterator1743.n()).done;){var _t2551=_step1743.value;_t2551.part.add("selected-cell");}}catch(err){_iterator1743.e(err);}finally{_iterator1743.f();}_e1941.scrollIntoViewIfNeeded();}}}},{key:"oO",value:function oO(){var t=this["#table"].querySelector("tr[data-selected]");if(t){var _e1943=t.nextElementSibling;if(_e1943){t.removeAttribute("data-selected");var _iterator1744=_createForOfIteratorHelper(t.children),_step1744;try{for(_iterator1744.s();!(_step1744=_iterator1744.n()).done;){var _e1944=_step1744.value;_e1944.part.remove("selected-cell");}}catch(err){_iterator1744.e(err);}finally{_iterator1744.f();}_e1943.setAttribute("data-selected","");var _iterator1745=_createForOfIteratorHelper(_e1943.children),_step1745;try{for(_iterator1745.s();!(_step1745=_iterator1745.n()).done;){var _t2552=_step1745.value;_t2552.part.add("selected-cell");}}catch(err){_iterator1745.e(err);}finally{_iterator1745.f();}_e1943.scrollIntoViewIfNeeded();}}}},{key:"sO",value:function sO(){var t=this["#table"].querySelector("tr[data-selected]"),e=Oi(t),i=t.querySelector(".label");if(t){var _t2553="";i.textContent!==_t2553&&(i.textContent=_t2553,this._t[e]=null,this.dispatchEvent(new CustomEvent("change")));}}},{key:"qs",value:function qs(){var t="";for(var _e1945=1;_e1945<=this.eO;_e1945+=1){var _i1734=this._t[_e1945-1];t+="\n        <tr class=\"row\" ".concat(1===_e1945?"data-disabled":"",">\n          <td class=\"index-cell\" part=\"cell index-cell\">").concat(_e1945,"</td>\n          <td class=\"value-cell\" part=\"cell value-cell\">\n            <div class=\"label\">").concat(null==_i1734?"":this._t[_e1945-1],"</div>\n          </td>\n        </tr>\n      ");}this["#tbody"].innerHTML=t,this.hu();}},{key:"hu",value:function hu(){this["#table"].setAttribute("data-size",As.size);}}]);return uw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(uw,"_shadowTemplate",Hi(_templateObject537()));_defineProperty(uw,"_shadowStyleSheet",Yi(_templateObject538()));customElements.define("bx-userseditor",uw);var xw=/*#__PURE__*/function(_ew7){_inherits(xw,_ew7);var _super237=_createSuper(xw);function xw(){var _this1067;_classCallCheck(this,xw);_this1067=_super237.call(this),_this1067["#email-input"].addEventListener("input",function(){return _this1067.hO();}),_this1067["#email-input"].addEventListener("keydown",function(t){return _this1067.aO(t);}),_this1067["#email-change-button"].addEventListener("click",function(){return _this1067.rO();}),_this1067["#email-verify-button"].addEventListener("click",function(){return _this1067.dO();}),_this1067["#password-input"].addEventListener("input",function(){return _this1067.cO();}),_this1067["#password-input"].addEventListener("keydown",function(t){return _this1067.pO(t);}),_this1067["#password-change-button"].addEventListener("click",function(){return _this1067.uO();}),_this1067["#subscription-anchor"].addEventListener("click",function(t){return _this1067.xO(t);}),_this1067["#users-editor"].addEventListener("change",function(){return _this1067.bO();}),_this1067["#users-change-button"].addEventListener("click",function(){return _this1067.mO();});return _this1067;}_createClass(xw,[{key:"tn",value:function tn(){var _this1068=this;this.qs(),this.Qs.addEventListener("userchange",this.Dz=function(){return _this1068.qs();});}},{key:"sn",value:function sn(){this.Qs.removeEventListener("userchange",this.Dz);}},{key:"hO",value:function hO(){this.Qs.user.email!==this["#email-input"].value.trim()&&null===this["#email-input"].error?(this["#email-change-button"].disabled=!1,this["#email-change-button"].toggled=!0):(this["#email-change-button"].disabled=!0,this["#email-change-button"].toggled=!1);}},{key:"aO",value:function aO(t){"Enter"===t.code&&this["#email-change-button"].click();}},{key:"rO",value:function(){var _rO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee234(){var _t2554,_e1946,_i1735,_s1037,_n744;return regeneratorRuntime.wrap(function _callee234$(_context235){while(1){switch(_context235.prev=_context235.next){case 0:if(!(this["#email-input"].validate(),null===this["#email-input"].error)){_context235.next=25;break;}this["#email-input"].disabled=!0,this["#email-change-button"].disabled=!0,this["#email-throbber"].hidden=!1;_t2554=this.Qs.user,_e1946=_t2554.uid,_i1735=this["#email-input"].value.trim(),_s1037=_t2554.email,_n744=null;_context235.prev=3;_context235.next=6;return _t2554.updateEmail(_i1735);case 6:_context235.next=11;break;case 8:_context235.prev=8;_context235.t0=_context235["catch"](3);_n744=_context235.t0;case 11:if(!(_n744&&"auth/requires-recent-login"===_n744.code)){_context235.next=24;break;}_context235.next=14;return this.Qs.openPasswordConfirmDialog();case 14:if(!_context235.sent){_context235.next=24;break;}_n744=null;_context235.prev=16;_context235.next=19;return _t2554.updateEmail(_i1735);case 19:_context235.next=24;break;case 21:_context235.prev=21;_context235.t1=_context235["catch"](16);_n744=_context235.t1;case 24:this["#email-input"].disabled=!1,this["#email-change-button"].disabled=!1,this["#email-throbber"].hidden=!0,_n744?"auth/invalid-email"===_n744.code?this["#email-input"].error="Invalid e-mail":"auth/email-already-in-use"===_n744.code?this["#email-input"].error="This email address is already registered":this.Qs.openMessageDialog({message:"Error",detail:"".concat(_n744.message," (").concat(_n744.code,")"),buttons:["OK"]}):(this.Qs.callCloudFunction("editUser",{userUID:_e1946,email:_i1735,oldEmail:_s1037}),_t2554.sendEmailVerification(),this.gO());case 25:case"end":return _context235.stop();}}},_callee234,this,[[3,8],[16,21]]);}));function rO(){return _rO.apply(this,arguments);}return rO;}()},{key:"dO",value:function(){var _dO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee235(){return regeneratorRuntime.wrap(function _callee235$(_context236){while(1){switch(_context236.prev=_context236.next){case 0:_context236.next=2;return this.Qs.openMessageDialog({message:"Verify your email address",detail:"Please follow the link in the confirmation email we have sent you to verify your email address.",buttons:["OK","Rensend"]});case 2:_context236.t0=_context236.sent;_context236.t1=1===_context236.t0;if(!_context236.t1){_context236.next=6;break;}firebase.auth().currentUser.sendEmailVerification();case 6:case"end":return _context236.stop();}}},_callee235,this);}));function dO(){return _dO.apply(this,arguments);}return dO;}()},{key:"cO",value:function cO(){this["#password-input"].value.length>0?(this["#password-change-button"].disabled=!1,this["#password-change-button"].toggled=!0):(this["#password-change-button"].disabled=!0,this["#password-change-button"].toggled=!1);}},{key:"pO",value:function pO(t){"Enter"===t.code&&this["#password-change-button"].click();}},{key:"uO",value:function(){var _uO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee236(){var _t2555,_e1947,_i1736;return regeneratorRuntime.wrap(function _callee236$(_context237){while(1){switch(_context237.prev=_context237.next){case 0:if(!(this["#password-input"].validate(),null===this["#password-input"].error)){_context237.next=25;break;}this["#password-input"].disabled=!0,this["#password-change-button"].disabled=!0,this["#password-throbber"].hidden=!1;_t2555=this.Qs.user,_e1947=this["#password-input"].value.trim(),_i1736=null;_context237.prev=3;_context237.next=6;return _t2555.updatePassword(_e1947);case 6:_context237.next=11;break;case 8:_context237.prev=8;_context237.t0=_context237["catch"](3);_i1736=_context237.t0;case 11:if(!(_i1736&&"auth/requires-recent-login"===_i1736.code)){_context237.next=24;break;}_context237.next=14;return this.Qs.openPasswordConfirmDialog();case 14:if(!_context237.sent){_context237.next=24;break;}_i1736=null;_context237.prev=16;_context237.next=19;return _t2555.updatePassword(_e1947);case 19:_context237.next=24;break;case 21:_context237.prev=21;_context237.t1=_context237["catch"](16);_i1736=_context237.t1;case 24:this["#password-input"].disabled=!1,this["#password-change-button"].disabled=!1,this["#password-throbber"].hidden=!0,_i1736?"auth/requires-recent-login"===_i1736.code||("auth/weak-password"===_i1736.code?this["#password-input"].error="The password must be 6 characters long or more":this.Qs.openMessageDialog({message:"Error",detail:"".concat(_i1736.message," (").concat(_i1736.code,")"),buttons:["OK"]})):this.fO();case 25:case"end":return _context237.stop();}}},_callee236,this,[[3,8],[16,21]]);}));function uO(){return _uO.apply(this,arguments);}return uO;}()},{key:"xO",value:function xO(t){t.preventDefault(),this.Qs.navigate(zf(location.href,"dialog","preferences\u2192subscription"),!0);}},{key:"bO",value:function(){var _bO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee237(){return regeneratorRuntime.wrap(function _callee237$(_context238){while(1){switch(_context238.prev=_context238.next){case 0:this["#users-change-button"].disabled=!1;case 1:case"end":return _context238.stop();}}},_callee237,this);}));function bO(){return _bO.apply(this,arguments);}return bO;}()},{key:"mO",value:function(){var _mO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee238(){var t,_this$UsersEditor$v,e,i,s;return regeneratorRuntime.wrap(function _callee238$(_context239){while(1){switch(_context239.prev=_context239.next){case 0:this["#users-editor"].disabled=!0,this["#users-change-button"].disabled=!0,this["#users-change-throbber"].hidden=!1;t=this.Qs.user,_this$UsersEditor$v=_toArray(this["#users-editor"].value),e=_this$UsersEditor$v[0],i=_this$UsersEditor$v.slice(1),s=null;_context239.next=4;return Ki(4e3);case 4:_context239.prev=4;_context239.next=7;return this.Qs.callCloudFunction("setOrgUsers",{orgLeaderUID:t.uid,orgUsers:i});case 7:_context239.next=12;break;case 9:_context239.prev=9;_context239.t0=_context239["catch"](4);s=_context239.t0;case 12:_context239.next=14;return Ki(4e3);case 14:if(!s){_context239.next=22;break;}this["#users-editor"].disabled=!1;this["#users-change-button"].disabled=!1;this["#users-change-throbber"].hidden=!0;_context239.next=20;return this.Qs.openMessageDialog({message:"Failed to change users",detail:dw(s),buttons:["OK"]});case 20:_context239.next=23;break;case 22:this["#users-editor"].disabled=!1,this["#users-change-button"].disabled=!0,this["#users-change-throbber"].hidden=!0;case 23:case"end":return _context239.stop();}}},_callee238,this,[[4,9]]);}));function mO(){return _mO.apply(this,arguments);}return mO;}()},{key:"qs",value:function qs(){this.gO(),this.fO(),this.wO();}},{key:"gO",value:function gO(){var t=this.Qs.user,e=this.Qs.userSubscription;t?(this["#email-section"].hidden=!1,this["#email-input"].value=t.email,this["#email-input"].error=null,this["#email-verify-button"].disabled=t.emailVerified,this["#email-change-button"].toggled=!1,this["#email-change-button"].disabled=!0,null===e||"deleted"===e.status||void 0===e.status?this["#email-input"].disabled=!1:this["#email-input"].disabled=!0):this["#email-section"].hidden=!0;}},{key:"fO",value:function fO(){this.Qs.user?(this["#password-section"].hidden=!1,this["#password-input"].value="",this["#password-input"].error=null,this["#password-change-button"].toggled=!1,this["#password-change-button"].disabled=!0):this["#password-section"].hidden=!0;}},{key:"wO",value:function wO(){var t=this.Qs.user,e=this.Qs.userSubscription,_Df5=Df(e,t),_Df6=_slicedToArray(_Df5,2),i=_Df6[0],s=_Df6[1];if(s)this["#users-section"].hidden=!0,this["#users-section"].previousElementSibling.hidden=!0;else if(t){var _i1737=[];e&&e.orgUsers&&(_i1737=e.orgUsers),this["#users-section"].hidden=!1,this["#users-section"].previousElementSibling.hidden=!1,this["#users-editor"].limit=e&&void 0!==e.quantity?e.quantity:1,this["#users-editor"].value=[t.email].concat(_toConsumableArray(_i1737)),this["#users-change-button"].disabled=!0;}else this["#users-section"].hidden=!0,this["#users-section"].previousElementSibling.hidden=!0;}}]);return xw;}(ew);_defineProperty(xw,"_shadowTemplate",Hi(_templateObject539()));_defineProperty(xw,"_shadowStyleSheet",Yi(_templateObject540()));customElements.define("bx-authsettings",xw);var bw=/*#__PURE__*/function(_HTMLElement142){_inherits(bw,_HTMLElement142);var _super238=_createSuper(bw);_createClass(bw,[{key:"planID",get:function get(){return this.hasAttribute("planid")?this.getAttribute("planid"):null;},set:function set(t){null===t?this.removeAttribute("planid"):this.setAttribute("planid",t);}},{key:"quantity",get:function get(){return this.hasAttribute("quantity")?parseInt(this.getAttribute("quantity")):1;},set:function set(t){null===t?this.removeAttribute("quantity"):this.setAttribute("quantity",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function bw(){var _this1069;_classCallCheck(this,bw);_this1069=_super238.call(this),_this1069._shadowRoot=_this1069.attachShadow({mode:"closed"}),_this1069._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,bw._shadowStyleSheet],_this1069._shadowRoot.append(document.importNode(bw._shadowTemplate.content,!0));var _iterator1746=_createForOfIteratorHelper(_this1069._shadowRoot.querySelectorAll("[id]")),_step1746;try{for(_iterator1746.s();!(_step1746=_iterator1746.n()).done;){var _t2556=_step1746.value;_this1069["#"+_t2556.id]=_t2556;}}catch(err){_iterator1746.e(err);}finally{_iterator1746.f();}_this1069._shadowRoot.addEventListener("click",function(t){return _this1069["do"](t);}),_this1069["#quantity-input"].addEventListener("change",function(t){return _this1069.vO(t);}),_this1069["#quantity-input"].addEventListener("changeend",function(t){return _this1069.yO(t);}),_this1069["#billing-select"].addEventListener("change",function(){return _this1069.kO();});return _this1069;}_createClass(bw,[{key:"connectedCallback",value:function connectedCallback(){var _this1070=this;this.Qs=Ti(this,"#app"),this.qs(),As.addEventListener("sizechange",this.Qc=function(){_this1070.SO();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){As.removeEventListener("sizechange",this.Qc);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("planid"===t||"quantity"===t||"disabled"===t)&&this.qs();}},{key:"do",value:function _do(t){var n=t.target.closest("a"),o=t.target.closest("td");if(n)t.preventDefault(),this.Qs.navigate(n.href,!0);else if(o&&o.cellIndex>0&&o.closest("thead, tbody")){var _t2557;1===o.cellIndex?_t2557=e:2===o.cellIndex&&("monthly"===this["#billing-select"].value?_t2557=s:"yearly"===this["#billing-select"].value&&(_t2557=i)),_t2557!==this.planID&&(this.planID=_t2557,this.dispatchEvent(new CustomEvent("change")));}}},{key:"vO",value:function vO(t){var _Pf=Pf(this.planID,this["#quantity-input"].value),_Pf2=_slicedToArray(_Pf,2),e=_Pf2[0],i=_Pf2[1];this["#discount-span"].textContent=i,this["#price-span"].textContent=e;}},{key:"yO",value:function yO(t){this.quantity=this["#quantity-input"].value,this.dispatchEvent(new CustomEvent("change"));}},{key:"kO",value:function kO(){"yearly"===this["#billing-select"].value?(this.planID=i,this.dispatchEvent(new CustomEvent("change"))):"monthly"===this["#billing-select"].value&&(this.planID=s,this.dispatchEvent(new CustomEvent("change")));}},{key:"qs",value:function qs(){this._O(),this.SO();}},{key:"_O",value:function _O(){var _Pf3=Pf(this.planID,this.quantity),_Pf4=_slicedToArray(_Pf3,2),t=_Pf4[0],n=_Pf4[1];if(this["#standard-plan-radio"].disabled=this.disabled,this["#premium-plan-radio"].disabled=this.disabled,this["#standard-plan-radio"].toggled=this.planID===e,this["#premium-plan-radio"].toggled=this.planID===s||this.planID===i,this["#cloud-button"].disabled=this.planID===e,this.disabled?(this["#quantity-help-button"].collapse(),this["#quantity-help-button"].disabled=!0):this["#quantity-help-button"].disabled=!1,null===this.planID?(this["#quantity-input"].disabled=!0,this["#quantity-input"].value=1):(this["#quantity-input"].disabled=this.disabled,this["#quantity-input"].value=this.quantity),this.disabled?(this["#discount-help-button"].collapse(),this["#discount-help-button"].disabled=!0):this["#discount-help-button"].disabled=!1,this["#discount-span"].textContent=n,null===this.planID?this["#billing-select"].disabled=!0:this.planID===e?(this["#billing-select"].disabled=!0,this["#billing-select"].value="yearly"):this.planID!==s&&this.planID!==i||(this["#billing-select"].disabled=!1,this["#billing-select"].value=this.planID===s?"monthly":"yearly"),this.disabled?(this["#price-help-button"].collapse(),this["#price-help-button"].disabled=!0):this["#price-help-button"].disabled=!1,this["#price-span"].textContent=t,null===this.planID){var _iterator1747=_createForOfIteratorHelper(this["#table-head"].querySelectorAll("td")),_step1747;try{for(_iterator1747.s();!(_step1747=_iterator1747.n()).done;){var _t2558=_step1747.value;_t2558.part.remove("selected-cell");}}catch(err){_iterator1747.e(err);}finally{_iterator1747.f();}var _iterator1748=_createForOfIteratorHelper(this["#table-body"].querySelectorAll("td")),_step1748;try{for(_iterator1748.s();!(_step1748=_iterator1748.n()).done;){var _t2559=_step1748.value;_t2559.part.remove("selected-cell");}}catch(err){_iterator1748.e(err);}finally{_iterator1748.f();}this["#quantity-td"].part.remove("selected-cell"),this["#discount-td"].part.remove("selected-cell"),this["#billing-td"].part.remove("selected-cell"),this["#price-td"].part.remove("selected-cell");}else if(this.planID===e){var _iterator1749=_createForOfIteratorHelper(this["#table-head"].querySelectorAll("td")),_step1749;try{for(_iterator1749.s();!(_step1749=_iterator1749.n()).done;){var _t2560=_step1749.value;1===_t2560.cellIndex?_t2560.part.add("selected-cell"):_t2560.part.remove("selected-cell");}}catch(err){_iterator1749.e(err);}finally{_iterator1749.f();}var _iterator1750=_createForOfIteratorHelper(this["#table-body"].querySelectorAll("td")),_step1750;try{for(_iterator1750.s();!(_step1750=_iterator1750.n()).done;){var _t2561=_step1750.value;1===_t2561.cellIndex?_t2561.part.add("selected-cell"):_t2561.part.remove("selected-cell");}}catch(err){_iterator1750.e(err);}finally{_iterator1750.f();}this["#quantity-td"].part.add("selected-cell"),this["#discount-td"].part.add("selected-cell"),this["#billing-td"].part.add("selected-cell"),this["#price-td"].part.add("selected-cell");}else if(this.planID===s||this.planID===i){var _iterator1751=_createForOfIteratorHelper(this["#table-head"].querySelectorAll("td")),_step1751;try{for(_iterator1751.s();!(_step1751=_iterator1751.n()).done;){var _t2562=_step1751.value;2===_t2562.cellIndex?_t2562.part.add("selected-cell"):_t2562.part.remove("selected-cell");}}catch(err){_iterator1751.e(err);}finally{_iterator1751.f();}var _iterator1752=_createForOfIteratorHelper(this["#table-body"].querySelectorAll("td")),_step1752;try{for(_iterator1752.s();!(_step1752=_iterator1752.n()).done;){var _t2563=_step1752.value;2===_t2563.cellIndex?_t2563.part.add("selected-cell"):_t2563.part.remove("selected-cell");}}catch(err){_iterator1752.e(err);}finally{_iterator1752.f();}this["#quantity-td"].part.add("selected-cell"),this["#discount-td"].part.add("selected-cell"),this["#billing-td"].part.add("selected-cell"),this["#price-td"].part.add("selected-cell");}}},{key:"SO",value:function SO(){this["#table"].setAttribute("data-size",As.size);}}]);return bw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(bw,"observedAttributes",["planid","quantity","disabled"]);_defineProperty(bw,"_shadowTemplate",Hi(_templateObject541()));_defineProperty(bw,"_shadowStyleSheet",Yi(_templateObject542()));customElements.define("bx-planselectblock",bw);var mw=/*#__PURE__*/function(_ew8){_inherits(mw,_ew8);var _super239=_createSuper(mw);function mw(){var _this1071;_classCallCheck(this,mw);_this1071=_super239.call(this),_this1071["#plan-select-block"].addEventListener("change",function(){return _this1071.CO();}),_this1071["#billing-button"].addEventListener("click",function(){return _this1071.MO();}),_this1071["#cancel-button"].addEventListener("click",function(){return _this1071.PO();}),_this1071["#subscribe-button"].addEventListener("click",function(){return _this1071.DO();});return _this1071;}_createClass(mw,[{key:"tn",value:function tn(){var _this1072=this;this.Qs.addEventListener("usersubscriptionchange",this.zO=function(){_this1072.qs();}),this.qs();}},{key:"sn",value:function sn(){this["#plan-select-block"].disabled=!0,this.Qs.removeEventListener("usersubscriptionchange",this.zO);}},{key:"CO",value:function CO(){this.OO();}},{key:"MO",value:function MO(){window.open(this["#billing-button"].value);}},{key:"PO",value:function PO(){window.open(this["#cancel-button"].value);}},{key:"DO",value:function(){var _DO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee239(){var t,e,i,s,_n745,_t2564;return regeneratorRuntime.wrap(function _callee239$(_context240){while(1){switch(_context240.prev=_context240.next){case 0:t=this.Qs.user,e=this.Qs.userSubscription,i=this["#plan-select-block"].planID,s=this["#plan-select-block"].quantity;if(!(null===e||"deleted"===e.status||"past_due"===e.status&&null!==e.cancellationEffectiveDate)){_context240.next=5;break;}this.Qs.navigate(zf(location.href,"dialog","checkout\u2192".concat(i,"\xD7").concat(s)));_context240.next=27;break;case 5:if(!("active"===e.status)){_context240.next=27;break;}_context240.next=8;return this.Qs.openPasswordConfirmDialog();case 8:if(!_context240.sent){_context240.next=27;break;}this["#main"].hidden=!0,this["#progress-bar"].hidden=!1,this.Qs.lockInput();_n745=null;_context240.prev=11;_context240.next=14;return this.Qs.callCloudFunction("changeUserSubscriptionPlan",{userUID:t.uid,subscriptionID:e.subscriptionID,planID:i,quantity:s});case 14:_context240.next=19;break;case 16:_context240.prev=16;_context240.t0=_context240["catch"](11);_n745=_context240.t0;case 19:if(!(this["#main"].hidden=!1,this["#progress-bar"].hidden=!0,this.Qs.unlockInput(),_n745)){_context240.next=24;break;}_context240.next=22;return this.Qs.openMessageDialog({message:"Failed to change the current plan",detail:dw(_n745),buttons:["OK"]});case 22:_context240.next=27;break;case 24:_t2564=this.EO(i,s);_context240.next=27;return this.Qs.openMessageDialog({message:"Changed the current plan",detail:"Your new plan is: ".concat(_t2564,"."),buttons:["OK"]});case 27:case"end":return _context240.stop();}}},_callee239,this,[[11,16]]);}));function DO(){return _DO.apply(this,arguments);}return DO;}()},{key:"EO",value:function EO(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var o,l;return l=1===n?"1 user":"".concat(n," users"),t===e?o="Standard (yearly billing, ".concat(l,")"):t===s?o="Premium (monthly billing, ".concat(l,")"):t===i&&(o="Premium (yearly billing, ".concat(l,")")),o;}},{key:"qs",value:function qs(){this.TO(),this.AO(),this.OO();}},{key:"TO",value:function TO(){var t=this.Qs.user;if(null===t)this["#info-section"].hidden=!0;else{this["#info-section"].hidden=!1;var _i1738=this.Qs.userSubscription,_Df7=Df(_i1738,t),_Df8=_slicedToArray(_Df7,3),_s1038=_Df8[0],_n746=_Df8[1],_o559=_Df8[2];if(null===_i1738){if(this["#subscription-plan-span"].textContent="Standard",_o559){var _e1948=moment().to(moment(t.metadata.creationTime).add(15,"days"),!0);this["#subscription-status-span"].textContent="Trial (".concat(_e1948," remaining)");}else this["#subscription-status-span"].textContent="Canceled (trial period expired)";}else if(!0===_n746)this["#subscription-plan-span"].textContent=_s1038===e?"Standard":"Premium",this["#subscription-status-span"].textContent="Active (contact your organization admin to make changes)";else{this["#subscription-plan-span"].textContent=this.EO(_s1038,_i1738.quantity);var _t2565=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"});if("active"===_i1738.status){var _e1949=_t2565.format(new Date(_i1738.nextBillDate));this["#subscription-status-span"].textContent="Active (next payment due on ".concat(_e1949,")");}else if("deleted"===_i1738.status){var _e1950=_t2565.format(new Date(_i1738.cancellationEffectiveDate));this["#subscription-status-span"].textContent="Canceled (effective cancellation on ".concat(_e1950,")");}else if("past_due"===_i1738.status)if(null===_i1738.cancellationEffectiveDate)this["#subscription-status-span"].textContent="Past due (please update your billing information)";else{var _e1951=_t2565.format(new Date(_i1738.cancellationEffectiveDate));this["#subscription-status-span"].textContent="Canceled (effective cancellation on ".concat(_e1951,")");}}}}},{key:"AO",value:function AO(){var t=this.Qs.user;if(null===t)this["#plan-section"].hidden=!0;else{var _i1739=this.Qs.userSubscription,_Df9=Df(_i1739,t),_Df10=_slicedToArray(_Df9,2),_s1039=_Df10[0],_n747=_Df10[1];this["#plan-section"].hidden=!1,this["#plan-select-block"].disabled=_n747,this["#plan-select-block"].planID=_s1039||e,this["#plan-select-block"].quantity=_n747?1:_i1739?_i1739.quantity:1;}}},{key:"OO",value:function OO(){var t=this.Qs.user;if(null===t)this["#buttons-section"].hidden=!0;else{this["#buttons-section"].hidden=!1;var _e1952=this.Qs.userSubscription,_Df11=Df(_e1952,t),_Df12=_slicedToArray(_Df11,2),_i1740=_Df12[0],_s1040=_Df12[1];_s1040?(this["#billing-button"].disabled=!0,this["#billing-button"].value="",this["#cancel-button"].disabled=!0,this["#cancel-button"].value="",this["#subscribe-button"].disabled=!0,this["#subscribe-button-label"].textContent="Subscribe"):null===_e1952||"deleted"===_e1952.status?(this["#billing-button"].disabled=!0,this["#billing-button"].value="",this["#cancel-button"].disabled=!0,this["#cancel-button"].value="",this["#subscribe-button"].disabled=!1,this["#subscribe-button-label"].textContent="Subscribe"):"active"===_e1952.status?(this["#billing-button"].disabled=!1,this["#billing-button"].value=_e1952.updateURL,this["#cancel-button"].disabled=!1,this["#cancel-button"].value=_e1952.cancelURL,this["#subscribe-button"].disabled=this["#plan-select-block"].planID===_e1952.subscriptionPlanID&&this["#plan-select-block"].quantity===_e1952.quantity,this["#subscribe-button-label"].textContent="Change plan"):"past_due"===_e1952.status&&(null===_e1952.cancellationEffectiveDate?(this["#billing-button"].disabled=!1,this["#billing-button"].value=_e1952.updateURL,this["#cancel-button"].disabled=!1,this["#cancel-button"].value=_e1952.cancelURL,this["#subscribe-button"].disabled=!0,this["#subscribe-button-label"].textContent="Change plan"):(this["#billing-button"].disabled=!0,this["#billing-button"].value="",this["#cancel-button"].disabled=!0,this["#cancel-button"].value="",this["#subscribe-button"].disabled=!1,this["#subscribe-button-label"].textContent="Subscribe"));}}}]);return mw;}(ew);_defineProperty(mw,"_shadowTemplate",Hi(_templateObject543()));_defineProperty(mw,"_shadowStyleSheet",Yi(_templateObject544()));customElements.define("bx-subscriptionsettings",mw);var gw=/*#__PURE__*/function(_ew9){_inherits(gw,_ew9);var _super240=_createSuper(gw);function gw(){var _this1073;_classCallCheck(this,gw);_this1073=_super240.call(this),_this1073["#password-input"].addEventListener("input",function(){return _this1073.qs();}),_this1073["#delete-account-button"].addEventListener("click",function(){return _this1073.$O();});return _this1073;}_createClass(gw,[{key:"tn",value:function tn(){var _this1074=this;this.IO=firebase.auth().onAuthStateChanged(function(t){return _this1074.qs();}),this.qs();}},{key:"sn",value:function sn(){this.IO();}},{key:"qs",value:function qs(){0===this["#password-input"].value.length?(this["#delete-account-button"].disabled=!0,this["#delete-account-button"].toggled=!1,this["#delete-account-button"].part.remove("delete-button")):(this["#delete-account-button"].disabled=!1,this["#delete-account-button"].toggled=!0,this["#delete-account-button"].part.add("delete-button"));}},{key:"$O",value:function(){var _$O=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee240(){var _t2566,_e1953,_i1741,_s1041,_t2567,_e1954,_t2568;return regeneratorRuntime.wrap(function _callee240$(_context241){while(1){switch(_context241.prev=_context241.next){case 0:this["#default-view"].hidden=!0,this["#progress-view"].hidden=!1,this.Qs.lockInput();this["#progress-label"].textContent="Validating password\u2026";_t2566=this.Qs.user,_e1953=this["#password-input"].value,_i1741=firebase.auth.EmailAuthProvider.credential(_t2566.email,_e1953),_s1041=null;_context241.prev=3;_context241.next=6;return _t2566.reauthenticateWithCredential(_i1741);case 6:_context241.next=11;break;case 8:_context241.prev=8;_context241.t0=_context241["catch"](3);_s1041=_context241.t0;case 11:if(!_s1041){_context241.next=23;break;}this["#default-view"].hidden=!1;this["#progress-view"].hidden=!0;this.Qs.unlockInput();if(!("auth/wrong-password"===_s1041.code)){_context241.next=19;break;}_context241.t1=(this["#password-input"].error="Wrong password",this["#delete-account-button"].disabled=!0);_context241.next=22;break;case 19:_context241.next=21;return this.Qs.openMessageDialog({message:"Error",detail:"".concat(_s1041.message," (").concat(_s1041.code,")"),buttons:["OK"]});case 21:_context241.t1=_context241.sent;case 22:return _context241.abrupt("return",void _context241.t1);case 23:this["#progress-label"].textContent="Deleting account\u2026";_t2567=this.Qs.user,_e1954=null;_context241.prev=25;_context241.next=28;return this.Qs.callCloudFunction("deleteUser",_t2567.uid);case 28:_context241.next=33;break;case 30:_context241.prev=30;_context241.t2=_context241["catch"](25);_e1954=_context241.t2;case 33:if(!_e1954){_context241.next=35;break;}return _context241.abrupt("return",(this["#default-view"].hidden=!1,this["#progress-view"].hidden=!0,this.Qs.unlockInput(),void this.Qs.openMessageDialog({message:"Failed to delete user account",detail:dw(_e1954),buttons:["OK"]})));case 35:this["#progress-label"].textContent="Logging out\u2026";_context241.next=38;return Ki(1e3);case 38:_context241.next=40;return firebase.auth().signOut();case 40:this.Qs.unlockInput();_t2568=Ti(this,"dialog");_t2568&&_t2568.close();case 43:case"end":return _context241.stop();}}},_callee240,this,[[3,8],[25,30]]);}));function $O(){return _$O.apply(this,arguments);}return $O;}()}]);return gw;}(ew);_defineProperty(gw,"_shadowTemplate",Hi(_templateObject545()));_defineProperty(gw,"_shadowStyleSheet",Yi(_templateObject546()));customElements.define("bx-deleteaccountsettings",gw);var fw=/*#__PURE__*/function(_HTMLElement143){_inherits(fw,_HTMLElement143);var _super241=_createSuper(fw);_createClass(fw,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"general";},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}}]);function fw(){var _temp52,_this1075;_classCallCheck(this,fw);(_temp52=_this1075=_super241.call(this),_defineProperty(_assertThisInitialized(_this1075),"commands",{copy:{exec:function exec(){return document.execCommand("copy");}},cut:{exec:function exec(){return document.execCommand("cut");}},paste:{exec:function exec(){return document.execCommand("paste");}},selectAll:{exec:function exec(){return document.execCommand("selectAll");}},undo:{exec:function exec(){return document.execCommand("undo");}},redo:{exec:function exec(){return document.execCommand("redo");}}}),_temp52),_this1075._shadowRoot=_this1075.attachShadow({mode:"closed"}),_this1075._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,fw._shadowStyleSheet],_this1075._shadowRoot.append(document.importNode(fw._shadowTemplate.content,!0));var _iterator1753=_createForOfIteratorHelper(_this1075._shadowRoot.querySelectorAll("[id]")),_step1753;try{for(_iterator1753.s();!(_step1753=_iterator1753.n()).done;){var _t2569=_step1753.value;_this1075["#"+_t2569.id]=_t2569;}}catch(err){_iterator1753.e(err);}finally{_iterator1753.f();}_this1075.setAttribute("tabindex","0"),_this1075["#sidebar-buttons"].addEventListener("toggle",function(){_this1075.value=_this1075["#sidebar-buttons"].value,_this1075.dispatchEvent(new CustomEvent("valuechange"));}),_this1075["#logout-button"].addEventListener("click",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee241(){return regeneratorRuntime.wrap(function _callee241$(_context242){while(1){switch(_context242.prev=_context242.next){case 0:_context242.next=2;return firebase.auth().signOut();case 2:_this1075.LO&&_this1075.LO.close();case 3:case"end":return _context242.stop();}}},_callee241);}))),_this1075.addEventListener("keydown",function(t){"Escape"===t.code&&!1===t.defaultPrevented&&_this1075.LO&&_this1075.LO.close();});return _this1075;}_createClass(fw,[{key:"connectedCallback",value:function connectedCallback(){var _this1076=this;this.Qs=Ti(this,"#app"),this.LO=Ti(this,"dialog"),this.Qs.addEventListener("userchange",this.Dz=function(){_this1076.qs();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Qs.removeEventListener("userchange",this.Dz);var _iterator1754=_createForOfIteratorHelper(this["#main"].children),_step1754;try{for(_iterator1754.s();!(_step1754=_iterator1754.n()).done;){var _t2570=_step1754.value;_t2570.enabled=!1;}}catch(err){_iterator1754.e(err);}finally{_iterator1754.f();}}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"value"===t&&this.Hu();}},{key:"Hu",value:function Hu(){this.isConnected&&this.qs();}},{key:"qs",value:function qs(){var t=void 0!==this.Qs.user&&null!==this.Qs.user,e=this.value;["profile","auth","subscription","delete-account"].includes(e)&&!1===t&&(e="general"),this["#sidebar-buttons"].value=e,this["#profile-button"].hidden=!1===t,this["#auth-button"].hidden=!1===t,this["#subscription-button"].hidden=!1===t,this["#delete-account-button"].hidden=!1===t,this["#logout-button"].hidden=!1===t,this["#sidebar-separator-1"].hidden=!1===t,this["#sidebar-separator-2"].hidden=!1===t;var _iterator1755=_createForOfIteratorHelper(this["#main"].children),_step1755;try{for(_iterator1755.s();!(_step1755=_iterator1755.n()).done;){var _t2571=_step1755.value;_t2571.enabled=_t2571.getAttribute("data-name")===e;}}catch(err){_iterator1755.e(err);}finally{_iterator1755.f();}}}]);return fw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(fw,"observedAttributes",["value"]);_defineProperty(fw,"_shadowTemplate",Hi(_templateObject547()));_defineProperty(fw,"_shadowStyleSheet",Yi(_templateObject548()));customElements.define("bx-preferences",fw);var ww=/*#__PURE__*/function(_HTMLElement144){_inherits(ww,_HTMLElement144);var _super242=_createSuper(ww);_createClass(ww,[{key:"version",get:function get(){return this.hasAttribute("version")?this.getAttribute("version"):"1.0.0";},set:function set(t){this.setAttribute("version",t);}}]);function ww(){var _temp53,_this1077;_classCallCheck(this,ww);(_temp53=_this1077=_super242.call(this),_defineProperty(_assertThisInitialized(_this1077),"commands",{}),_defineProperty(_assertThisInitialized(_this1077),"lv",0),_temp53),_this1077._shadowRoot=_this1077.attachShadow({mode:"closed"}),_this1077._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,ww._shadowStyleSheet],_this1077._shadowRoot.append(document.importNode(ww._shadowTemplate.content,!0));var _iterator1756=_createForOfIteratorHelper(_this1077._shadowRoot.querySelectorAll("[id]")),_step1756;try{for(_iterator1756.s();!(_step1756=_iterator1756.n()).done;){var _t2572=_step1756.value;_this1077["#"+_t2572.id]=_t2572;}}catch(err){_iterator1756.e(err);}finally{_iterator1756.f();}_this1077.setAttribute("tabindex","0"),_this1077["#main"].addEventListener("scroll",function(){return _this1077.Pc();}),_this1077.addEventListener("keydown",function(t){"Escape"===t.code&&!1===t.defaultPrevented&&_this1077.LO&&_this1077.LO.close();});return _this1077;}_createClass(ww,[{key:"connectedCallback",value:function(){var _connectedCallback9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee242(){var _iterator1757,_step1757,_t2573;return regeneratorRuntime.wrap(function _callee242$(_context243){while(1){switch(_context243.prev=_context243.next){case 0:this.Qs=Ti(this,"#app");this.LO=Ti(this,"dialog");_context243.t0=null===this["#main"].firstElementChild;if(!_context243.t0){_context243.next=9;break;}_context243.next=6;return fetch("/metadata/content/about.tpl");case 6:_context243.next=8;return _context243.sent.text();case 8:this["#main"].innerHTML=_context243.sent;case 9:if(!("bx-chromeapp"===this.Qs.localName)){_context243.next=12;break;}_iterator1757=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[rel="noopener"]'));try{for(_iterator1757.s();!(_step1757=_iterator1757.n()).done;){_t2573=_step1757.value;_t2573.removeAttribute("rel");}}catch(err){_iterator1757.e(err);}finally{_iterator1757.f();}case 12:this["#main"].scrollTop=this.lv;case 13:case"end":return _context243.stop();}}},_callee242,this);}));function connectedCallback(){return _connectedCallback9.apply(this,arguments);}return connectedCallback;}()},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"version"===t&&(this["#version"].textContent="Version ".concat(this.version));}},{key:"Pc",value:function Pc(){this.lv=this["#main"].scrollTop;}}]);return ww;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ww,"observedAttributes",["version"]);_defineProperty(ww,"_shadowTemplate",Hi(_templateObject549(),new Date().getFullYear()));_defineProperty(ww,"_shadowStyleSheet",Yi(_templateObject550()));customElements.define("bx-about",ww);var vw=/*#__PURE__*/function(_HTMLElement145){_inherits(vw,_HTMLElement145);var _super243=_createSuper(vw);_createClass(vw,[{key:"throbber",get:function get(){return this.hasAttribute("throbber");},set:function set(t){t?this.setAttribute("throbber",""):this.removeAttribute("throbber");}},{key:"dirty",get:function get(){return this.BO;}}]);function vw(){var _this1078;_classCallCheck(this,vw);_this1078=_super243.call(this),_this1078.RO=!1,_this1078.BO=!1;var t=_this1078.constructor.GO,e=_this1078.constructor.W_,i=_this1078.constructor.q_;_this1078._shadowRoot=_this1078.attachShadow({mode:"closed"}),_this1078._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,vw._shadowStyleSheet,_this1078.constructor._shadowStyleSheet],_this1078._shadowRoot.append(document.importNode(vw._shadowTemplate.content,!0)),t&&_this1078._shadowRoot.querySelector("#header").append(document.importNode(t.content,!0)),e&&_this1078._shadowRoot.querySelector("#main").append(document.importNode(e.content,!0)),i&&_this1078._shadowRoot.querySelector("#footer").append(document.importNode(i.content,!0));var _iterator1758=_createForOfIteratorHelper(_this1078._shadowRoot.querySelectorAll("[id]")),_step1758;try{for(_iterator1758.s();!(_step1758=_iterator1758.n()).done;){var _t2574=_step1758.value;_this1078["#"+_t2574.id]=_t2574;}}catch(err){_iterator1758.e(err);}finally{_iterator1758.f();}_this1078.setAttribute("extends","bx-form"),_this1078.setAttribute("tabindex","0"),_this1078.addEventListener("keydown",function(t){return _this1078.vn(t);});return _this1078;}_createClass(vw,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ti(this,"#app"),this.LO=Ti(this,"dialog");}},{key:"blinkFooter",value:function blinkFooter(){var _this1079=this;return new Promise(/*#__PURE__*/function(){var _ref182=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee243(t){return regeneratorRuntime.wrap(function _callee243$(_context244){while(1){switch(_context244.prev=_context244.next){case 0:_context244.t0=!1===_this1079.RO;if(!_context244.t0){_context244.next=14;break;}_this1079.RO=!0;_this1079.setAttribute("blink","");_context244.next=6;return Ki(200);case 6:_this1079.removeAttribute("blink","");_context244.next=9;return Ki(200);case 9:_this1079.setAttribute("blink","");_context244.next=12;return Ki(200);case 12:_this1079.removeAttribute("blink","");_this1079.RO=!1;case 14:t();case 15:case"end":return _context244.stop();}}},_callee243);}));return function(_x204){return _ref182.apply(this,arguments);};}());}},{key:"clear",value:function clear(){this.BO=!1;}},{key:"vn",value:function vn(t){if(t.stopPropagation(),"Escape"===t.code&&t.preventDefault(),!1===this.throbber&&this.matches(":focus"))if("Escape"===t.code)this.dirty?this.blinkFooter():this["#cancel-button"]?this["#cancel-button"].click():this.LO&&this.LO.close();else if("Enter"===t.code||"Space"===t.code){var _e1955=this["#footer"].querySelector("x-button[toggled]");_e1955&&!1===_e1955.disabled&&t.target!==_e1955&&_e1955.click();}}}]);return vw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(vw,"_shadowTemplate",Hi(_templateObject551()));_defineProperty(vw,"_shadowStyleSheet",Yi(_templateObject552()));var yw=/*#__PURE__*/function(_vw){_inherits(yw,_vw);var _super244=_createSuper(yw);function yw(){var _this1080;_classCallCheck(this,yw);_this1080=_super244.call(this),_this1080["#ok-button"].addEventListener("click",function(){return _this1080.LO.close();});return _this1080;}return yw;}(vw);_defineProperty(yw,"W_",Hi(_templateObject553()));_defineProperty(yw,"q_",Hi(_templateObject554()));_defineProperty(yw,"_shadowStyleSheet",Yi(_templateObject555()));customElements.define("bx-chromeinstallform",yw);var kw=/*#__PURE__*/function(_vw2){_inherits(kw,_vw2);var _super245=_createSuper(kw);function kw(){_classCallCheck(this,kw);return _super245.apply(this,arguments);}return kw;}(vw);_defineProperty(kw,"W_",Hi(_templateObject556()));_defineProperty(kw,"_shadowStyleSheet",Yi(_templateObject557()));customElements.define("bx-chromesigninform",kw);var Sw=/*#__PURE__*/function(_vw3){_inherits(Sw,_vw3);var _super246=_createSuper(Sw);function Sw(){var _this1081;_classCallCheck(this,Sw);_this1081=_super246.call(this),_this1081["#close-button"].addEventListener("click",function(){return chrome.app.window.current().close();});return _this1081;}return Sw;}(vw);_defineProperty(Sw,"W_",Hi(_templateObject558()));_defineProperty(Sw,"q_",Hi(_templateObject559()));_defineProperty(Sw,"_shadowStyleSheet",Yi(_templateObject560()));customElements.define("bx-chrometrialform",Sw);var _w=/*#__PURE__*/function(_vw4){_inherits(_w,_vw4);var _super247=_createSuper(_w);function _w(t){var _this1082;_classCallCheck(this,_w);if(_this1082=_super247.call(this),t.message&&(_this1082["#message"].innerHTML=hi(t.message)),t.detail){var _e1956=t.detail.startsWith("<p")?t.detail:"<p>".concat(t.detail,"</p>");_this1082["#detail"].innerHTML=hi(_e1956);}if(t.buttons){var _e1957="";for(var _i1742=t.buttons.length-1;_i1742>=0;_i1742-=1){_e1957+="\n          <x-button value=\"".concat(_i1742,"\" ").concat(0===_i1742?"toggled":"",">\n            <x-label>").concat(t.buttons[_i1742],"</x-label>\n          </x-button>\n        ");}_this1082["#footer"].innerHTML=_e1957;}_this1082["#footer"].addEventListener("click",function(t){return _this1082.FO(t);});return _possibleConstructorReturn(_this1082);}_createClass(_w,[{key:"FO",value:function FO(t){var e=t.target.closest("x-button");e&&this.dispatchEvent(new CustomEvent("submit",{detail:parseInt(e.value)}));}}]);return _w;}(vw);_defineProperty(_w,"W_",Hi(_templateObject561()));_defineProperty(_w,"_shadowStyleSheet",Yi(_templateObject562()));customElements.define("bx-messageform",_w);var Cw=function Cw(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"text/plain";return new Promise(/*#__PURE__*/function(){var _ref183=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee244(s,n){var o;return regeneratorRuntime.wrap(function _callee244$(_context245){while(1){switch(_context245.prev=_context245.next){case 0:_context245.next=2;return Ow(t);case 2:o=_context245.sent;o?o.createWriter(function(t){var _o560,_l418,h=e instanceof Blob?e:new Blob([e],{type:i}),a="write";t.addEventListener("writeend",_o560=function o(e){"write"===a?(a="truncate",t.truncate(h.size)):"truncate"===a&&(t.removeEventListener("writeend",_o560),t.removeEventListener("error",_l418),s());}),t.addEventListener("error",_l418=function l(e){t.removeEventListener("writeend",_o560),t.removeEventListener("error",_l418),n("READ_ONLY");}),t.write(h);},function(t){n("NOT_FOUND");}):n("READ_ONLY");case 4:case"end":return _context245.stop();}}},_callee244);}));return function(_x205,_x206){return _ref183.apply(this,arguments);};}());},Mw=function Mw(t){return new Promise(function(e,i){chrome.fileSystem.chooseEntry(t,function(s){chrome.runtime.lastError?"User cancelled"===chrome.runtime.lastError.message?e(!0===t.acceptsMultiple?[]:null):i(chrome.runtime.lastError.message):e(s);});});},Pw=function Pw(t){return new Promise(function(e){chrome.fileSystem.restoreEntry(t,function(t){t?t.file(function(){return e(t);},function(){return e(null);}):e(null);});});},Dw=/*#__PURE__*/function(){var _ref184=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee246(t,e){return regeneratorRuntime.wrap(function _callee246$(_context247){while(1){switch(_context247.prev=_context247.next){case 0:return _context247.abrupt("return",new Promise(/*#__PURE__*/function(){var _ref185=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee245(i){return regeneratorRuntime.wrap(function _callee245$(_context246){while(1){switch(_context246.prev=_context246.next){case 0:_context246.t0=i;_context246.next=3;return zw(t);case 3:_context246.t1=_context246.sent;_context246.next=6;return zw(e);case 6:_context246.t2=_context246.sent;_context246.t3=_context246.t1===_context246.t2;(0,_context246.t0)(_context246.t3);case 9:case"end":return _context246.stop();}}},_callee245);}));return function(_x209){return _ref185.apply(this,arguments);};}()));case 1:case"end":return _context247.stop();}}},_callee246);}));return function Dw(_x207,_x208){return _ref184.apply(this,arguments);};}(),zw=function zw(t){return new Promise(function(e){chrome.fileSystem.getDisplayPath(t,function(t){e(t);});});},Ow=function Ow(t){return new Promise(function(e){chrome.fileSystem.isWritableEntry(t,function(i){i?e(t):chrome.fileSystem.getWritableEntry(t,function(t){chrome.runtime.lastError?e(null):e(t);});});});},Ew=Math.pow,Tw=Math.sqrt,Aw=Object.entries,$w=Symbol(),Iw=Symbol(),Lw=Symbol(),Bw=Symbol(),Rw=Symbol();var Gw=/*#__PURE__*/function(_HTMLElement146){_inherits(Gw,_HTMLElement146);var _super248=_createSuper(Gw);_createClass(Gw,[{key:"currentTab",get:function get(){return this["#tabs"].querySelector("x-doctab[selected]");}},{key:"currentEditorTab",get:function get(){var t=this.currentTab;return t&&"editor"===t[$w]?t:null;}},{key:"currentEditor",get:function get(){return this.currentEditorTab?this.currentEditorTab[Iw]:null;}},{key:"currentView",get:function get(){return this.currentTab?this.currentTab[Iw]:null;}},{key:"textInputMode",get:function get(){return this.UO;}},{key:"modKeys",get:function get(){var _this$NO=this.NO,t=_this$NO.ctrl,e=_this$NO.alt,i=_this$NO.meta,s=_this$NO.shift;return{ctrl:t,alt:e,meta:i,shift:s};}},{key:"pointerClientPoint",get:function get(){return new DOMPoint(this.VO,this.jO);}},{key:"pointerPressure",get:function get(){return this.HO;}},{key:"pointers",get:function get(){return _toConsumableArray(this.YO);}},{key:"pointerClickCount",get:function get(){return this.WO;}},{key:"isPointerDown",get:function get(){return this.qO;}},{key:"hardwareAcceleration",get:function get(){return new Promise(function(t){return t(!0);});},set:function set(t){}}]);function Gw(){var _temp54,_this1083;_classCallCheck(this,Gw);(_temp54=_this1083=_super248.call(this),_defineProperty(_assertThisInitialized(_this1083),"commands",{"new":{exec:function exec(){return _this1083.XO();}},newFromSelected:{enabled:function enabled(){return _this1083.ZO();},exec:function exec(){return _this1083.KO();}},newFromClipboard:{exec:function exec(){return _this1083.QO();}},open:{exec:function exec(){return _this1083.JO();}},clearRecent:{exec:function exec(){return _this1083.tE();}},save:{exec:function exec(){return _this1083.eE();}},saveAs:{exec:function exec(){return _this1083.iE();}},reloadFromDisk:{enabled:function enabled(){return _this1083.currentEditorTab&&null!==_this1083.currentEditorTab[Lw];},exec:function exec(){return _this1083.sE();}},close:{exec:function exec(){return _this1083.nE(_this1083.currentTab);}},quit:{exec:function exec(){return _this1083.oE();}},preferences:{exec:function exec(){return _this1083.lE();}},minimize:{exec:function exec(){return _this1083.hE();}},maximize:{exec:function exec(){return _this1083.aE();}},previousTab:{exec:function exec(){return _this1083.rE();}},nextTab:{exec:function exec(){return _this1083.dE();}},moveTabLeft:{exec:function exec(){return _this1083["#tabs"].moveSelectedTabLeft();}},moveTabRight:{exec:function exec(){return _this1083["#tabs"].moveSelectedTabRight();}},about:{exec:function exec(){return _this1083.cE();}}}),_temp54),_this1083.NO={ctrl:!1,alt:!1,meta:!1,shift:!1},_this1083.UO=!1,_this1083.YO=new Set(),_this1083.VO=0,_this1083.jO=0,_this1083.HO=0,_this1083.WO=0,_this1083.qO=!1,_this1083.pE=[],_this1083.uE=0,_this1083.xE={},_this1083.bE={},_this1083.mE={},_this1083.gE=null,_this1083.fE().then(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee247(){var _iterator1759,_step1759,_t2577,_t2575;return regeneratorRuntime.wrap(function _callee247$(_context248){while(1){switch(_context248.prev=_context248.next){case 0:_this1083._shadowRoot=_this1083.attachShadow({mode:"closed"}),_this1083._shadowRoot.adoptedStyleSheets=[As.themeStyleSheet,Gw._shadowStyleSheet],_this1083._shadowRoot.append(document.importNode(Gw._shadowTemplate.content,!0));_iterator1759=_createForOfIteratorHelper(_this1083._shadowRoot.querySelectorAll("[id]"));try{for(_iterator1759.s();!(_step1759=_iterator1759.n()).done;){_t2577=_step1759.value;_this1083["#"+_t2577.id]=_t2577;}}catch(err){_iterator1759.e(err);}finally{_iterator1759.f();}window.matchMedia("(prefers-color-scheme: dark)").addListener(function(){return _this1083.wE();});window.addEventListener("message",function(t){return _this1083.vE(t);});window.addEventListener("keydown",function(t){return _this1083.vn(t);});window.addEventListener("keyup",function(t){return _this1083.Gn(t);});window.addEventListener("focus",function(t){return _this1083.yE(t);});window.addEventListener("blur",function(t){return _this1083.kE(t);});window.addEventListener("pointerdown",function(t){return _this1083.wo(t);},!0);window.addEventListener("pointermove",function(t){return _this1083.Ld(t);});window.addEventListener("pointerup",function(t){return _this1083.Uh(t);});window.addEventListener("pointercancel",function(t){return _this1083.SE(t);});_this1083.addEventListener("configchange",function(t){return _this1083.hn(t);});_this1083.addEventListener("textinputmodestart",function(){return _this1083.UO=!0;});_this1083.addEventListener("textinputmodeend",function(){return _this1083.UO=!1;});_this1083._shadowRoot.addEventListener("dragover",function(t){return _this1083._E(t);});_this1083._shadowRoot.addEventListener("drop",function(t){return _this1083.CE(t);});_this1083["#titlebar-buttons"].addEventListener("click",function(t){return _this1083.ME(t);});_this1083["#menubar"].addEventListener("click",function(t){return _this1083.PE(t);});_this1083["#menubar"].addEventListener("toggle",function(t){return _this1083.DE(t);});_this1083["#menubar"].addEventListener("open",function(t){return _this1083.zE(t);});_this1083["#menubar"].addEventListener("close",function(t){return _this1083.OE(t);});_this1083["#tabs"].addEventListener("open",function(t){return _this1083.EE(t);});_this1083["#tabs"].addEventListener("close",function(t){return _this1083.TE(t);});_this1083["#tabs"].addEventListener("select",function(t){return _this1083.AE(t);});_this1083["#main"].addEventListener("change",function(t){return _this1083.$E(t);});_this1083.addMessageListener("openTabs",function(t){return _this1083.IE(t);});_context248.next=30;return _this1083.LE();case 30:_this1083.BE();_this1083.RE();_this1083.postMessage("ready",null,function(t){return _this1083.GE(t);});_t2575=_this1083.getConfig("license",null);if(!("FULL"===_t2575)){_context248.next=38;break;}_t2575="FULL";_context248.next=44;break;case 38:_this1083["#sign-in-dialog"].showModal();_context248.next=41;return new Promise(function(t){chrome.identity.getAuthToken({interactive:!0},function(e){if(chrome.runtime.lastError)console.log("chrome.identity.getAuthToken() failed, assuming trial license",chrome.runtime.lastError),t("FREE_TRIAL");else{var _i1743=new XMLHttpRequest();_i1743.open("GET","https://www.googleapis.com/chromewebstore/v1.1/userlicenses/"+chrome.runtime.id),_i1743.setRequestHeader("Authorization","Bearer ".concat(e)),_i1743.send(),_i1743.onerror=function(e){console.log("xhr.open() failed, assuming trial license",e),t("FREE_TRIAL");},_i1743.onload=function(){if(200!==_i1743.status)console.log("XHR response with status code ".concat(_i1743.status,", assuming trial license")),t("FREE_TRIAL");else{var _e1958="FREE_TRIAL",_s1042=_i1743.response,_n748=JSON.parse(_s1042);if("FULL"===_n748.accessLevel)_e1958="FULL";else if("FREE_TRIAL"===_n748.accessLevel){var _t2576=1502367014252,_i1744=Date.now(),_s1043=parseInt(_n748.createdTime,10);_e1958=(_i1744-_s1043)/1e3/60/60/24<=7?"FREE_TRIAL":_s1043<_t2576?"FULL":"FREE_TRIAL_EXPIRED";}else _e1958="NONE";t(_e1958);}};}});});case 41:_t2575=_context248.sent;_this1083["#sign-in-dialog"].close();_this1083.setConfig("license",_t2575);case 44:"FREE_TRIAL_EXPIRED"===_t2575?_this1083["#trial-dialog"].showModal():!1===navigator.userAgent.includes("CrOS")&&_this1083["#install-dialog"].showModal();case 45:case"end":return _context248.stop();}}},_callee247);})));return _this1083;}_createClass(Gw,[{key:"postMessage",value:function(){var _postMessage=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee248(t){var e,i,s,_args249=arguments;return regeneratorRuntime.wrap(function _callee248$(_context249){while(1){switch(_context249.prev=_context249.next){case 0:e=_args249.length>1&&_args249[1]!==undefined?_args249[1]:null;i=_args249.length>2&&_args249[2]!==undefined?_args249[2]:null;s={channel:"request",id:this.uE++,name:t,arg:e};i&&(this.bE[s.id]=i);_context249.t0=this.gE;if(_context249.t0){_context249.next=9;break;}_context249.next=8;return new Promise(function(t){chrome.runtime.getBackgroundPage(function(e){return t(e);});});case 8:this.gE=_context249.sent;case 9:this.gE.postMessage(s,"*");case 10:case"end":return _context249.stop();}}},_callee248,this);}));function postMessage(_x210){return _postMessage.apply(this,arguments);}return postMessage;}()},{key:"addMessageListener",value:function addMessageListener(t,e){this.xE[t]||(this.xE[t]=[]),this.xE[t].push(e);}},{key:"removeMessageListener",value:function removeMessageListener(t,e){this.xE[t]&&(this.xE[t]=this.xE[t].filter(function(t){return t!==e;}));}},{key:"getConfig",value:function getConfig(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=e;var s;return void 0!==this.mE[t]&&(this.mE[t]instanceof Object?(s=this.mE[t],i=JSON.parse(JSON.stringify(s))):i=this.mE[t]),i;}},{key:"setConfig",value:function setConfig(t,e){var i="!"===t[0]?"local":"sync";null===e?(delete this.mE[t],chrome.storage[i].remove(t)):(this.mE[t]=e,chrome.storage[i].set(_defineProperty({},t,e))),this.dispatchEvent(new CustomEvent("configchange",{detail:{key:t,value:e}}));}},{key:"clearConfig",value:function clearConfig(){var t=this.mE;this.mE={schema:3},chrome.storage.local.clear(),chrome.storage.sync.clear();var _iterator1760=_createForOfIteratorHelper(Aw(t)),_step1760;try{for(_iterator1760.s();!(_step1760=_iterator1760.n()).done;){var _step1760$value=_slicedToArray(_step1760.value,2),_e1959=_step1760$value[0],_i1745=_step1760$value[1];this.dispatchEvent(new CustomEvent("configchange",{detail:{key:_e1959,value:null}}));}}catch(err){_iterator1760.e(err);}finally{_iterator1760.f();}}},{key:"fE",value:function fE(){var _this1084=this;return new Promise(function(t){var e={};chrome.storage.local.get(null,function(i){chrome.storage.sync.get(null,function(s){var _iterator1761=_createForOfIteratorHelper(Aw(i)),_step1761;try{for(_iterator1761.s();!(_step1761=_iterator1761.n()).done;){var _step1761$value=_slicedToArray(_step1761.value,2),_t2578=_step1761$value[0],_s1044=_step1761$value[1];e[_t2578]=_s1044;}}catch(err){_iterator1761.e(err);}finally{_iterator1761.f();}var _iterator1762=_createForOfIteratorHelper(Aw(s)),_step1762;try{for(_iterator1762.s();!(_step1762=_iterator1762.n()).done;){var _step1762$value=_slicedToArray(_step1762.value,2),_t2579=_step1762$value[0],_i1746=_step1762$value[1];e[_t2579]=_i1746;}}catch(err){_iterator1762.e(err);}finally{_iterator1762.f();}_this1084.mE=e,function(t){"yellowgreen"===t.getConfig("bx-uisettings:accentColor")&&t.setConfig("bx-uisettings:accentColor","green"),null!==t.getConfig("bx-shortcutssettings:userShortcuts")&&(t.setConfig("bx-keyboardsettings:userShortcuts",t.getConfig("bx-shortcutssettings:userShortcuts")),t.setConfig("bx-shortcutssettings:userShortcuts",null)),null!==t.getConfig("bx-shortcutssettings:spaceKeyMode")&&(t.setConfig("bx-keyboardsettings:spaceKeyMode",t.getConfig("bx-shortcutssettings:spaceKeyMode")),t.setConfig("bx-shortcutssettings:spaceKeyMode",null));}(_this1084),t();});});});}},{key:"getClipboardData",value:function getClipboardData(){return new Promise(function(t){document.addEventListener("paste",function(e){var i=Array.prototype.slice.call(e.clipboardData.items,0),s={},n=0;i?i.forEach(/*#__PURE__*/function(){var _ref187=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee250(e){var o,l;return regeneratorRuntime.wrap(function _callee250$(_context251){while(1){switch(_context251.prev=_context251.next){case 0:o=e.type;_context251.next=3;return function(t){return new Promise(/*#__PURE__*/function(){var _ref188=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee249(e){var _i1747,_t2580;return regeneratorRuntime.wrap(function _callee249$(_context250){while(1){switch(_context250.prev=_context250.next){case 0:if(!["image/png","image/jpeg","image/gif","image/webp"].includes(t.type)){_context250.next=12;break;}_i1747=t.getAsFile();if(!_i1747){_context250.next=9;break;}_context250.next=5;return Ba(_i1747,"dataURL");case 5:_t2580=_context250.sent;e("data:"!==_t2580?_t2580:null);_context250.next=10;break;case 9:e(null);case 10:_context250.next=13;break;case 12:["text/plain","text/html","image/svg+xml"].includes(t.type)?t.getAsString(function(t){return e(t);}):(console.warn("Clipboard contains data with unsupported mime-type:",t.type),e(null));case 13:case"end":return _context250.stop();}}},_callee249);}));return function(_x212){return _ref188.apply(this,arguments);};}());}(e);case 3:l=_context251.sent;l&&(s[o]=l),n+=1,n===i.length&&t(s);case 5:case"end":return _context251.stop();}}},_callee250);}));return function(_x211){return _ref187.apply(this,arguments);};}()):t(s);},{once:!0}),document.execCommand("paste");});}},{key:"setClipboardData",value:function setClipboardData(t){return new Promise(function(e){var i;document.addEventListener("copy",i=/*#__PURE__*/function(){var _ref189=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee251(s){return regeneratorRuntime.wrap(function _callee251$(_context252){while(1){switch(_context252.prev=_context252.next){case 0:document.removeEventListener("copy",i),s.preventDefault(),s.clipboardData.items.clear(),t["text/plain"]&&s.clipboardData.items.add(t["text/plain"],"text/plain"),t["text/html"]&&s.clipboardData.items.add(t["text/html"],"text/html"),e();case 1:case"end":return _context252.stop();}}},_callee251);}));return function i(_x213){return _ref189.apply(this,arguments);};}()),document.execCommand("copy");});}},{key:"openArtworkExportDialog",value:function openArtworkExportDialog(t,e){var _this1085=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return new Promise(/*#__PURE__*/function(){var _ref190=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee252(s){var n,o,l,h,_t2581;return regeneratorRuntime.wrap(function _callee252$(_context253){while(1){switch(_context253.prev=_context253.next){case 0:n=null,o=null,l=null,h=null;if(null===i){_t2581=_this1085.currentEditorTab.querySelector("x-label").textContent;_t2581.endsWith(".svg")?i=_t2581.substring(0,_t2581.length-4):_t2581.endsWith(".svgz")&&(i=_t2581.substring(0,_t2581.length-5));}"svg"===e?(o="SVG",l="image/svg+xml",h=["svg"]):"svgz"===e?(o="SVGZ",l="image/svg+xml",h=["svgz"]):"html"===e&&(o="HTML",l="text/html",h=["html"]);_context253.prev=3;_context253.next=6;return Mw({type:"saveFile",suggestedName:"".concat(i,".").concat(e),acceptsAllTypes:!1,accepts:[{description:o,extensions:h,mimeTypes:[l]}]});case 6:n=_context253.sent;_context253.next=19;break;case 9:_context253.prev=9;_context253.t0=_context253["catch"](3);n=null;_context253.next=14;return _this1085.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"You don't have permission to save to the chosen location."});case 14:_context253.t1=_context253.sent;_context253.t2=1===_context253.t1;if(!_context253.t2){_context253.next=19;break;}_context253.next=19;return _this1085.openArtworkExportDialog(t,e,i);case 19:if(!n){_context253.next=46;break;}_context253.prev=20;if(!("svg"===e)){_context253.next=26;break;}_context253.next=24;return Cw(n,t,"image/svg+xml;charset=utf-8");case 24:_context253.next=35;break;case 26:if(!("svgz"===e)){_context253.next=31;break;}_context253.next=29;return Cw(n,kf(t),"image/svg+xml;charset=utf-8");case 29:_context253.next=35;break;case 31:_context253.t3="html"===e;if(!_context253.t3){_context253.next=35;break;}_context253.next=35;return Cw(n,t,"text/html;charset=utf-8");case 35:_context253.next=46;break;case 37:_context253.prev=37;_context253.t4=_context253["catch"](20);_context253.next=41;return _this1085.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"You don't have permission to save to the chosen location."});case 41:_context253.t5=_context253.sent;_context253.t6=1===_context253.t5;if(!_context253.t6){_context253.next=46;break;}_context253.next=46;return _this1085.openArtworkExportDialog(t,e,i);case 46:s();case 47:case"end":return _context253.stop();}}},_callee252,null,[[3,9],[20,37]]);}));return function(_x214){return _ref190.apply(this,arguments);};}());}},{key:"openBitmapExportDialog",value:function openBitmapExportDialog(t,e){var _this1086=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return new Promise(/*#__PURE__*/function(){var _ref191=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee253(s){var n,o,l,h,_t2582;return regeneratorRuntime.wrap(function _callee253$(_context254){while(1){switch(_context254.prev=_context254.next){case 0:n=null,o=null,l=null,h=null;if(null===i){_t2582=_this1086.currentEditorTab.querySelector("x-label").textContent;_t2582.endsWith(".svg")?i=_t2582.substring(0,_t2582.length-4):_t2582.endsWith(".svgz")&&(i=_t2582.substring(0,_t2582.length-5));}"png"===e?(o="PNG",l="image/png",h=["png"]):"jpeg"===e||"jpg"===e?(o="JPEG",l="image/jpeg",h=["jpg","jpeg"]):"gif"===e?(o="GIF",l="image/gif",h=["gif"]):"webp"===e&&(o="WebP",l="image/webp",h=["webp"]);_context254.prev=3;_context254.next=6;return Mw({type:"saveFile",suggestedName:"".concat(i,".").concat(e),acceptsAllTypes:!1,accepts:[{description:o,extensions:h,mimeTypes:[l]}]});case 6:n=_context254.sent;_context254.next=19;break;case 9:_context254.prev=9;_context254.t0=_context254["catch"](3);n=null;_context254.next=14;return _this1086.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"You don't have permission to save to the chosen location."});case 14:_context254.t1=_context254.sent;_context254.t2=1===_context254.t1;if(!_context254.t2){_context254.next=19;break;}_context254.next=19;return _this1086.openBitmapExportDialog(t,e,i);case 19:if(!n){_context254.next=34;break;}_context254.prev=20;_context254.next=23;return Cw(n,t);case 23:_context254.next=34;break;case 25:_context254.prev=25;_context254.t3=_context254["catch"](20);_context254.next=29;return _this1086.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"You don't have permission to save to the chosen location."});case 29:_context254.t4=_context254.sent;_context254.t5=1===_context254.t4;if(!_context254.t5){_context254.next=34;break;}_context254.next=34;return _this1086.openBitmapExportDialog(t,e,i);case 34:s();case 35:case"end":return _context254.stop();}}},_callee253,null,[[3,9],[20,25]]);}));return function(_x215){return _ref191.apply(this,arguments);};}());}},{key:"openLocalFontsImportDialog",value:function openLocalFontsImportDialog(){return new Promise(/*#__PURE__*/function(){var _ref192=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee254(t){var e,i,_iterator1763,_step1763,_t2583,_e1960,_s1045,_n749,_o561;return regeneratorRuntime.wrap(function _callee254$(_context255){while(1){switch(_context255.prev=_context255.next){case 0:_context255.prev=0;_context255.next=3;return Mw({type:"openFile",acceptsMultiple:!0,acceptsAllTypes:!1,accepts:[{description:"All Supported Formats",extensions:["woff","woff2","ttf","otf"]},{description:"WOFF",extensions:["woff"]},{description:"WOFF2",extensions:["woff2"]},{description:"TTF",extensions:["ttf"]},{description:"OTF",extensions:["otf"]}]});case 3:e=_context255.sent;_context255.next=9;break;case 6:_context255.prev=6;_context255.t0=_context255["catch"](0);return _context255.abrupt("return",void t());case 9:i=[];_iterator1763=_createForOfIteratorHelper(e);_context255.prev=11;_iterator1763.s();case 13:if((_step1763=_iterator1763.n()).done){_context255.next=24;break;}_t2583=_step1763.value;_e1960=Ua(_t2583);_s1045=Ga(_t2583).toLowerCase();_n749=_t2583.fullPath;_context255.next=20;return La(_t2583,"dataURL");case 20:_o561=_context255.sent;_o561=_o561.substring(_o561.indexOf("base64")+7),_o561="data:application/font-".concat(_s1045,";charset=utf-8;base64,").concat(_o561),i.push({baseName:_e1960,extension:_s1045,path:_n749,data:_o561});case 22:_context255.next=13;break;case 24:_context255.next=29;break;case 26:_context255.prev=26;_context255.t1=_context255["catch"](11);_iterator1763.e(_context255.t1);case 29:_context255.prev=29;_iterator1763.f();return _context255.finish(29);case 32:t(i);case 33:case"end":return _context255.stop();}}},_callee254,null,[[0,6],[11,26,29,32]]);}));return function(_x216){return _ref192.apply(this,arguments);};}());}},{key:"openImageImportDialog",value:function openImageImportDialog(){return new Promise(/*#__PURE__*/function(){var _ref193=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee255(t){var e,_i1748,_s1046,_n750,_o562;return regeneratorRuntime.wrap(function _callee255$(_context256){while(1){switch(_context256.prev=_context256.next){case 0:_context256.prev=0;_context256.next=3;return Mw({type:"openFile",acceptsMultiple:!1,acceptsAllTypes:!1,accepts:[{description:"Images",extensions:["png","jpg","jpeg","gif","webp","svg","svgz","pdf","ai"]},{description:"SVG",mimeTypes:["image/svg+xml"],extensions:["svg"]},{description:"SVGZ",mimeTypes:["image/svg+xml"],extensions:["svgz"]},{description:"PNG",mimeTypes:["image/png"],extensions:["png"]},{description:"JPEG",mimeTypes:["image/jpeg"],extensions:["jpg","jpeg"]},{description:"GIF",mimeTypes:["image/gif"],extensions:["gif"]},{description:"WebP",mimeTypes:["image/webp"],extensions:["webp"]},{description:"PDF",mimeTypes:["application/pdf"],extensions:["pdf"]},{description:"AI",mimeTypes:["application/illustrator"],extensions:["ai"]}]});case 3:e=_context256.sent;_context256.next=9;break;case 6:_context256.prev=6;_context256.t0=_context256["catch"](0);return _context256.abrupt("return",void t());case 9:if(!e){_context256.next=31;break;}_i1748=Ua(e),_s1046=Ga(e).toLowerCase(),_n750=e.fullPath,_o562=null;if(!("svg"===_s1046||"svgz"===_s1046)){_context256.next=17;break;}_context256.next=14;return La(e,"text");case 14:_context256.t1=_context256.sent;_context256.next=27;break;case 17:if(!("pdf"===_s1046||"ai"===_s1046)){_context256.next=23;break;}_context256.next=20;return La(e,"arrayBuffer");case 20:_context256.t2=_context256.sent;_context256.next=26;break;case 23:_context256.next=25;return La(e,"dataURL");case 25:_context256.t2=_context256.sent;case 26:_context256.t1=_context256.t2;case 27:_o562=_context256.t1;t({baseName:_i1748,extension:_s1046,path:_n750,data:_o562});_context256.next=32;break;case 31:t(null);case 32:case"end":return _context256.stop();}}},_callee255,null,[[0,6]]);}));return function(_x217){return _ref193.apply(this,arguments);};}());}},{key:"openMessageDialog",value:function openMessageDialog(t){var _this1087=this;return new Promise(function(e){var i,s,n=Hi(_templateObject96()),o=new _w(t);n.append(o),_this1087["#dialogs"].append(n),n.showModal(),n.addEventListener("close",s=function(_s1047){function s(_x218){return _s1047.apply(this,arguments);}s.toString=function(){return _s1047.toString();};return s;}(function(t){n.removeEventListener("close",s),o.removeEventListener("submit",i),_this1087.FE(t),e(-1);})),o.addEventListener("submit",i=/*#__PURE__*/function(){var _ref194=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee256(t){return regeneratorRuntime.wrap(function _callee256$(_context257){while(1){switch(_context257.prev=_context257.next){case 0:n.removeEventListener("close",s);o.removeEventListener("submit",i);_context257.next=4;return n.close();case 4:e(t.detail);case 5:case"end":return _context257.stop();}}},_callee256);}));return function i(_x219){return _ref194.apply(this,arguments);};}());});}},{key:"openNotification",value:function openNotification(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"Sample notification";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2e3;this["#notification"].innerHTML=t,this["#notification"].timeout=e,this["#notification"].opened=!0;}},{key:"openContextMenu",value:function openContextMenu(){var _this1088=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return new Promise(function(e){var i,s,n="",o=null,l=_this1088.VO,h=_this1088.jO;null===t&&(t=[{value:"command:undo",label:"Undo"},{value:"command:redo",label:"Redo"},{type:"separator"},{value:"command:cut",label:"Cut"},{value:"command:copy",label:"Copy"},{value:"command:paste",label:"Paste"},{type:"separator"},{value:"command:selectAll",label:"Select All"}]);var _iterator1764=_createForOfIteratorHelper(t),_step1764;try{for(_iterator1764.s();!(_step1764=_iterator1764.n()).done;){var _e1961=_step1764.value;if("separator"===_e1961.type)n+="<hr/>";else{var _t2585=_e1961.toggled?"toggled":"",_i1749=_e1961.disabled?"disabled":"";n+="\n            <x-menuitem value=\"".concat(_e1961.value,"\" ").concat(_t2585," ").concat(_i1749,">\n              <x-label>").concat(_e1961.label,"</x-label>\n            </x-menuitem>\n          ");}}}catch(err){_iterator1764.e(err);}finally{_iterator1764.f();}_this1088["#context-menu"].innerHTML="<x-menu>"+n+"</x-menu>",_this1088["#context-menu"].open(l,h),_this1088["#context-menu"].addEventListener("click",i=function i(t){var e=t.target.closest("x-menuitem");if(o=e.value,null!==e.value&&e.value.startsWith("command:")){var _e$value$split=e.value.split(":"),_e$value$split2=_slicedToArray(_e$value$split,2),_t2584=_e$value$split2[1];_this1088.execCommand(_t2584);}}),_this1088["#context-menu"].addEventListener("close",s=function(_s1048){function s(){return _s1048.apply(this,arguments);}s.toString=function(){return _s1048.toString();};return s;}(function(){_this1088["#context-menu"].removeEventListener("click",i),_this1088["#context-menu"].removeEventListener("close",s),e(o);}));});}},{key:"GE",value:function(){var _GE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee257(t){return regeneratorRuntime.wrap(function _callee257$(_context258){while(1){switch(_context258.prev=_context258.next){case 0:_context258.next=2;return this.IE(t);case 2:_context258.t0=_context258.sent.length;_context258.t1=0===_context258.t0;if(!_context258.t1){_context258.next=6;break;}this.XO();case 6:case"end":return _context258.stop();}}},_callee257,this);}));function GE(_x220){return _GE.apply(this,arguments);}return GE;}()},{key:"vE",value:function vE(t){var e=t.source,_t$data=t.data,i=_t$data.channel,s=_t$data.id,n=_t$data.name,o=_t$data.arg;"request"===i?this.xE[n]&&this.xE[n].forEach(function(t){t(o,function(t){var i={channel:"response",id:s,name:n,arg:t};e.postMessage(i,"*");});}):"response"===i&&this.bE[s]&&(this.bE[s](o),delete this.bE[s]);}},{key:"vn",value:function vn(t){if(this["#sign-in-dialog"].open||this["#install-dialog"].open||this["#trial-dialog"].open)return t.preventDefault(),void t.stopImmediatePropagation();var e=to.fromEvent(t);e.ctrl===this.NO.ctrl&&e.alt===this.NO.alt&&e.meta===this.NO.meta&&e.shift===this.NO.shift||(this.NO={ctrl:e.ctrl,alt:e.alt,meta:e.meta,shift:e.shift},this.dispatchEvent(new CustomEvent("modkeyschange"))),e.matches("Escape")?!1===t.defaultPrevented&&this.execCommand("transformTool"):!1===this.textInputMode&&(e.matches("Backspace")||e.matches("Delete")?this.execCommand("delete"):e.matches("ArrowDown")?this.execCommand("moveOneUnitDown"):e.matches("ArrowUp")?this.execCommand("moveOneUnitUp"):e.matches("ArrowLeft")?this.execCommand("moveOneUnitLeft"):e.matches("ArrowRight")?this.execCommand("moveOneUnitRight"):e.matches("Shift","ArrowDown")?this.execCommand("moveTenUnitsDown"):e.matches("Shift","ArrowUp")?this.execCommand("moveTenUnitsUp"):e.matches("Shift","ArrowLeft")?this.execCommand("moveTenUnitsLeft"):e.matches("Shift","ArrowRight")&&this.execCommand("moveTenUnitsRight"));{var _i1750=!1;this.textInputMode?(e.ctrl||e.alt||e.meta)&&(_i1750=this.UE(e)):_i1750=this.UE(e),_i1750&&t.preventDefault();}}},{key:"Gn",value:function Gn(t){var _to$fromEvent=to.fromEvent(t),e=_to$fromEvent.ctrl,i=_to$fromEvent.alt,s=_to$fromEvent.meta,n=_to$fromEvent.shift;e===this.NO.ctrl&&i===this.NO.alt&&s===this.NO.meta&&n===this.NO.shift||(this.NO={ctrl:e,alt:i,meta:s,shift:n},this.dispatchEvent(new CustomEvent("modkeyschange")));}},{key:"yE",value:function yE(e){var _this1089=this;window.addEventListener("pointermove",function(e){var i=e.getModifierState("Control"),s=e.getModifierState("Alt"),n=e.getModifierState("Meta"),o=e.getModifierState("Shift"),l=t?n:i,h=s,a=t?i:n,r=o;_this1089.NO.ctrl===l&&_this1089.NO.alt===h&&_this1089.NO.meta===a&&_this1089.NO.shift===r||(_this1089.NO={ctrl:l,alt:h,meta:a,shift:r},_this1089.dispatchEvent(new CustomEvent("modkeyschange")));},{once:!0});}},{key:"kE",value:function kE(t){var _this$NO2=this.NO,e=_this$NO2.ctrl,i=_this$NO2.alt,s=_this$NO2.meta,n=_this$NO2.shift;(e||i||s||n)&&(this.NO={ctrl:!1,alt:!1,meta:!1,shift:!1},this.dispatchEvent(new CustomEvent("modkeyschange")));}},{key:"wo",value:function wo(t){this.qO=!0,this.VO=t.clientX,this.jO=t.clientY,!1===this.YO.has(t.pointerId)&&(this.YO.add(t.pointerId),this.dispatchEvent(new CustomEvent("pointerschange")));{var _to$fromEvent2=to.fromEvent(t),e=_to$fromEvent2.ctrl,_i1751=_to$fromEvent2.alt,_s1049=_to$fromEvent2.meta,_n751=_to$fromEvent2.shift;e===this.NO.ctrl&&_i1751===this.NO.alt&&_s1049===this.NO.meta&&_n751===this.NO.shift||(this.NO={ctrl:e,alt:_i1751,meta:_s1049,shift:_n751},this.dispatchEvent(new CustomEvent("modkeyschange")));}{var _e1962=1,_i1752=null;for(this.pE.push(t);this.pE.length>8;){this.pE.shift();}var _iterator1765=_createForOfIteratorHelper(this.pE),_step1765;try{for(_iterator1765.s();!(_step1765=_iterator1765.n()).done;){var _t2586=_step1765.value;if(_i1752)if("pen"===_t2586.pointerType){Tw(Ew(_t2586.clientX-_i1752.clientX,2)+Ew(_t2586.clientY-_i1752.clientY,2))<3&&_t2586.timeStamp-_i1752.timeStamp<600?_e1962+=1:_e1962=1;}else _t2586.clientX===_i1752.clientX&&_t2586.clientY===_i1752.clientY&&_t2586.timeStamp-_i1752.timeStamp<600?_e1962+=1:_e1962=1;_i1752=_t2586;}}catch(err){_iterator1765.e(err);}finally{_iterator1765.f();}this.WO=_e1962;}}},{key:"Ld",value:function Ld(t){this.VO=t.clientX,this.jO=t.clientY,this.HO=t.pressure;{var _to$fromEvent3=to.fromEvent(t),e=_to$fromEvent3.ctrl,_i1753=_to$fromEvent3.alt,_s1050=_to$fromEvent3.meta,_n752=_to$fromEvent3.shift;e===this.NO.ctrl&&_i1753===this.NO.alt&&_s1050===this.NO.meta&&_n752===this.NO.shift||(this.NO={ctrl:e,alt:_i1753,meta:_s1050,shift:_n752},this.dispatchEvent(new CustomEvent("modkeyschange")));}}},{key:"Uh",value:function Uh(t){this.qO=!1,!0===this.YO.has(t.pointerId)&&(this.YO["delete"](t.pointerId),this.dispatchEvent(new CustomEvent("pointerschange")));{var _to$fromEvent4=to.fromEvent(t),e=_to$fromEvent4.ctrl,_i1754=_to$fromEvent4.alt,_s1051=_to$fromEvent4.meta,_n753=_to$fromEvent4.shift;e===this.NO.ctrl&&_i1754===this.NO.alt&&_s1051===this.NO.meta&&_n753===this.NO.shift||(this.NO={ctrl:e,alt:_i1754,meta:_s1051,shift:_n753},this.dispatchEvent(new CustomEvent("modkeyschange")));}}},{key:"SE",value:function SE(t){!0===this.YO.has(t.pointerId)&&(this.YO["delete"](t.pointerId),this.dispatchEvent(new CustomEvent("pointerschange")));}},{key:"_E",value:function _E(t){this.VO=t.clientX,this.jO=t.clientY,t.preventDefault(),t.dataTransfer.dropEffect="copy";}},{key:"CE",value:function(){var _CE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee258(t){var e,_i1755,_s1052,_iterator1766,_step1766,_e1963,_t2589,_o563,_e1964,_s1053,_e1965,_s1054,_n754,_e1966,_s1055,_l419,_t2590,_e1967,_iterator1767,_step1767,_t2587,_iterator1768,_step1768,_t2588,_e1968,_iterator1769,_step1769,_i1756,_t2592,_s1056,_t2591;return regeneratorRuntime.wrap(function _callee258$(_context259){while(1){switch(_context259.prev=_context259.next){case 0:if(!(this.VO=t.clientX,this.jO=t.clientY,t.preventDefault(),"bx-editor"===t.target.localName)){_context259.next=61;break;}e=t.target,_i1755=[],_s1052=[];_iterator1766=_createForOfIteratorHelper(t.dataTransfer.items);_context259.prev=3;_iterator1766.s();case 5:if((_step1766=_iterator1766.n()).done){_context259.next=50;break;}_e1963=_step1766.value;_t2589=_e1963.webkitGetAsEntry(),_o563=Ga(_t2589).toLowerCase();if(!("svg"===_o563)){_context259.next=16;break;}_context259.next=11;return La(_t2589,"text");case 11:_e1964=_context259.sent;_s1053=ka(_e1964);_i1755.push(_s1053);_context259.next=48;break;case 16:if(!("svgz"===_o563)){_context259.next=25;break;}_context259.next=19;return La(_t2589,"arrayBuffer");case 19:_e1965=_context259.sent;_s1054=Sf(_e1965);_n754=ka(_s1054);_i1755.push(_n754);_context259.next=48;break;case 25:if(!("pdf"===_o563||"ai"===_o563)){_context259.next=43;break;}_context259.next=28;return La(_t2589,"arrayBuffer");case 28:_e1966=_context259.sent;_s1055=null;_l419=null;_context259.prev=31;_context259.next=34;return Bm(_e1966);case 34:_s1055=_context259.sent;_context259.next=40;break;case 37:_context259.prev=37;_context259.t0=_context259["catch"](31);_l419=_context259.t0;case 40:if(_l419)this.openMessageDialog({buttons:["OK"],message:"Can't import file",detail:"ai"===_o563?n:_l419.message});else{_t2590=ka(_s1055);_i1755.push(_t2590);}_context259.next=48;break;case 43:if(!["png","jpeg","jpg","gif","webp"].includes(_o563)){_context259.next=48;break;}_context259.next=46;return La(_t2589,"dataURL");case 46:_e1967=_context259.sent;_s1052.push(_e1967);case 48:_context259.next=5;break;case 50:_context259.next=55;break;case 52:_context259.prev=52;_context259.t1=_context259["catch"](3);_iterator1766.e(_context259.t1);case 55:_context259.prev=55;_iterator1766.f();return _context259.finish(55);case 58:if(_i1755.length>0||_s1052.length>0){e.board.undoManager.checkpoint("Insert files");_iterator1767=_createForOfIteratorHelper(_i1755);try{for(_iterator1767.s();!(_step1767=_iterator1767.n()).done;){_t2587=_step1767.value;e.board.insertArtwork(_t2587,"pointer");}}catch(err){_iterator1767.e(err);}finally{_iterator1767.f();}_iterator1768=_createForOfIteratorHelper(_s1052);try{for(_iterator1768.s();!(_step1768=_iterator1768.n()).done;){_t2588=_step1768.value;e.board.insertBitmap(_t2588,"pointer");}}catch(err){_iterator1768.e(err);}finally{_iterator1768.f();}}_context259.next=65;break;case 61:_e1968=[];_iterator1769=_createForOfIteratorHelper(t.dataTransfer.items);try{for(_iterator1769.s();!(_step1769=_iterator1769.n()).done;){_i1756=_step1769.value;_t2592=_i1756.webkitGetAsEntry(),_s1056=Ga(_t2592).toLowerCase();["svg","svgz","pdf","ai","png","jpeg","jpg","gif","webp"].includes(_s1056)&&_e1968.push(_t2592);}}catch(err){_iterator1769.e(err);}finally{_iterator1769.f();}if(_e1968.length>0){_t2591=_e1968.map(function(t){return{type:"editor",selected:!1,entry:t};});_t2591[_t2591.length-1].selected=!0,this.NE(_t2591);}case 65:case"end":return _context259.stop();}}},_callee258,this,[[3,52,55,58],[31,37]]);}));function CE(_x221){return _CE.apply(this,arguments);}return CE;}()},{key:"hn",value:function hn(t){var _t$detail17=t.detail,e=_t$detail17.key,i=_t$detail17.value;"bx-keyboardsettings:userShortcuts"===e?this.RE():"bx-uisettings:colorScheme"===e?this.LE():"bx-uisettings:accentColor"===e?this.VE():"bx-uisettings:widgetsSize"===e&&this.BE();}},{key:"wE",value:function wE(){this.LE();}},{key:"ME",value:function ME(t){var e=t.target.closest("x-button");"minimize-button"===e.id?this.execCommand("minimize"):"maximize-button"===e.id?this.execCommand("maximize"):"close-button"===e.id&&this.execCommand("quit");}},{key:"PE",value:function(){var _PE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee259(t){var e,_t2593,_i1757,_t2594,_i1758;return regeneratorRuntime.wrap(function _callee259$(_context260){while(1){switch(_context260.prev=_context260.next){case 0:e=t.target.closest("x-menuitem");if(!e){_context260.next=18;break;}if(!t.isTrusted){_context260.next=7;break;}_context260.next=5;return Ki(500);case 5:_context260.next=8;break;case 7:if(!e.closest("[expanded]")){_t2593=null;for(_i1757=e;_i1757!==this["#menubar"];_i1757=_i1757.parentElement){"x-menuitem"===_i1757.localName&&(_t2593=_i1757);}_t2593.style.background="var(--accent-color)",_t2593.style.color="white",Ki(150).then(function(){_t2593.style.background=null,_t2593.style.color=null;});}case 8:if(!e.value){_context260.next=12;break;}this.execCommand(e.value);_context260.next=18;break;case 12:if(!(e.id&&e.id.startsWith("open-recent-"))){_context260.next=18;break;}_t2594=e.id.substring(12);_context260.next=16;return Pw(_t2594);case 16:_i1758=_context260.sent;_i1758&&(this.XO(_i1758,!0),this.jE([_i1758]));case 18:case"end":return _context260.stop();}}},_callee259,this);}));function PE(_x222){return _PE.apply(this,arguments);}return PE;}()},{key:"DE",value:function DE(t){t.preventDefault();}},{key:"EE",value:function EE(t){t.preventDefault(),this.XO();}},{key:"TE",value:function TE(t){t.preventDefault();var e=t.target;this.nE(e);}},{key:"AE",value:function AE(t){this.HE(this.currentTab);}},{key:"$E",value:function $E(t){var e=t.target,i=t.detail,s=_toConsumableArray(this["#tabs"].children).find(function(t){return t[Iw]===e;}),n=s[Rw];"increment"===i?s[Rw]+=1:"decrement"===i&&(s[Rw]-=1),0!==n!=(0!==s[Rw])&&(s.edited=0!==s[Rw]);}},{key:"zE",value:function zE(t){var e=t.target;this.YE(e),this["#menubar"].setAttribute("data-expaneded","");}},{key:"OE",value:function(){var _OE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee260(t){return regeneratorRuntime.wrap(function _callee260$(_context261){while(1){switch(_context261.prev=_context261.next){case 0:_context261.next=2;return Ki(500);case 2:null===this["#menubar"].querySelector("x-menu[opened]")&&(this.currentView.focus(),this["#menubar"].removeAttribute("data-expaneded"));case 3:case"end":return _context261.stop();}}},_callee260,this);}));function OE(_x223){return _OE.apply(this,arguments);}return OE;}()},{key:"NE",value:function NE(t){var _this1090=this;return new Promise(/*#__PURE__*/function(){var _ref195=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee261(e){var i,_iterator1770,_step1770,_e1970,_t2596,_t2597,_t2598,_t2595,_e1969;return regeneratorRuntime.wrap(function _callee261$(_context262){while(1){switch(_context262.prev=_context262.next){case 0:i=[];_iterator1770=_createForOfIteratorHelper(t);_context262.prev=2;_iterator1770.s();case 4:if((_step1770=_iterator1770.n()).done){_context262.next=23;break;}_e1970=_step1770.value;if(!("about"===_e1970.type)){_context262.next=11;break;}_t2596=_this1090.cE(!1);_e1970.selected&&(_t2596.selected=!0),i.push(_t2596);_context262.next=21;break;case 11:if(!("preferences"===_e1970.type)){_context262.next=16;break;}_t2597=_this1090.lE(!1);_e1970.selected&&(_t2597.selected=!0),i.push(_t2597);_context262.next=21;break;case 16:if(!("editor"===_e1970.type)){_context262.next=21;break;}_context262.next=19;return _this1090.XO(_e1970.entry,!1);case 19:_t2598=_context262.sent;_e1970.selected&&(_t2598.selected=!0),i.push(_t2598);case 21:_context262.next=4;break;case 23:_context262.next=28;break;case 25:_context262.prev=25;_context262.t0=_context262["catch"](2);_iterator1770.e(_context262.t0);case 28:_context262.prev=28;_iterator1770.f();return _context262.finish(28);case 31:if(i.length>0){_t2595=i.find(function(t){return t.selected;}),_e1969=i[i.length-1];_this1090.HE(_t2595||_e1969);}e(i);case 33:case"end":return _context262.stop();}}},_callee261,null,[[2,25,28,31]]);}));return function(_x224){return _ref195.apply(this,arguments);};}());}},{key:"cE",value:function cE(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=null;var _iterator1771=_createForOfIteratorHelper(this["#tabs"].children),_step1771;try{for(_iterator1771.s();!(_step1771=_iterator1771.n()).done;){var _t2599=_step1771.value;if("about"===_t2599[$w]){e=_t2599;break;}}}catch(err){_iterator1771.e(err);}finally{_iterator1771.f();}return null===e&&(e=Hi(_templateObject97()),e[$w]="about",e[Iw]=null,e[Bw]=function(){var t=Hi(_templateObject98());return e[Iw]=t,t.version=chrome.runtime.getManifest().version,t;},this["#tabs"].openTab(e,!1)),t&&this.HE(e),e;}},{key:"lE",value:function lE(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=null;var _iterator1772=_createForOfIteratorHelper(this["#tabs"].children),_step1772;try{for(_iterator1772.s();!(_step1772=_iterator1772.n()).done;){var _t2600=_step1772.value;if("preferences"===_t2600[$w]){e=_t2600;break;}}}catch(err){_iterator1772.e(err);}finally{_iterator1772.f();}return null===e&&(e=Hi(_templateObject99()),e[$w]="preferences",e[Iw]=null,e[Bw]=function(){var t=Hi(_templateObject100());return e[Iw]=t,t;},this["#tabs"].openTab(e,!1)),t&&this.HE(e),e;}},{key:"XO",value:function XO(){var _this1091=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref196=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee263(i){var s,_iterator1773,_step1773,_e1971,_e1972,_i1759,_o564,_s1057;return regeneratorRuntime.wrap(function _callee263$(_context264){while(1){switch(_context264.prev=_context264.next){case 0:s=null;if(!t){_context264.next=25;break;}_iterator1773=_createForOfIteratorHelper(_this1091["#tabs"].children);_context264.prev=3;_iterator1773.s();case 5:if((_step1773=_iterator1773.n()).done){_context264.next=17;break;}_e1971=_step1773.value;_context264.t0=!!_e1971[Lw];if(!_context264.t0){_context264.next=12;break;}_context264.next=11;return Dw(_e1971[Lw],t);case 11:_context264.t0=_context264.sent;case 12:if(!_context264.t0){_context264.next=15;break;}s=_e1971;return _context264.abrupt("break",17);case 15:_context264.next=5;break;case 17:_context264.next=22;break;case 19:_context264.prev=19;_context264.t1=_context264["catch"](3);_iterator1773.e(_context264.t1);case 22:_context264.prev=22;_iterator1773.f();return _context264.finish(22);case 25:if(!(null===s)){_context264.next=37;break;}if(t){_s1057=Ua(t);_i1759=Ga(t).toLowerCase(),["svg","svgz"].includes(_i1759)?(_e1972=_s1057+"."+_i1759,_o564=0):(_e1972=_s1057+".svg",_o564=1);}else _e1972="Untitled",_i1759="svg",_o564=0;s=Hi(_templateObject101(),_e1972,_e1972);s[$w]="editor";s[Lw]=t;s[Iw]=null;s[Rw]=_o564;s.edited=0!==s[Rw];s[Bw]=function(){var e=Hi(_templateObject102());return s[Iw]=e,_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee262(){var _i1760,_s1058,_i1761,_s1059,_n755,_s1060,_o565,_l420,_t2601,_i1762,_s1061,_n756;return regeneratorRuntime.wrap(function _callee262$(_context263){while(1){switch(_context263.prev=_context263.next){case 0:if(!t){_context263.next=47;break;}if(!("svg"===_i1759)){_context263.next=9;break;}_context263.next=4;return La(t,"text");case 4:_i1760=_context263.sent;_s1058=ka(_i1760);e.board.setArtwork(_s1058);_context263.next=45;break;case 9:if(!("svgz"===_i1759)){_context263.next=18;break;}_context263.next=12;return La(t,"arrayBuffer");case 12:_i1761=_context263.sent;_s1059=Sf(_i1761);_n755=ka(_s1059);e.board.setArtwork(_n755);_context263.next=45;break;case 18:if(!("pdf"===_i1759||"ai"===_i1759)){_context263.next=36;break;}_context263.next=21;return La(t,"arrayBuffer");case 21:_s1060=_context263.sent;_o565=null;_l420=null;_context263.prev=24;_context263.next=27;return Bm(_s1060);case 27:_o565=_context263.sent;_context263.next=33;break;case 30:_context263.prev=30;_context263.t0=_context263["catch"](24);_l420=_context263.t0;case 33:if(_l420)e.board.setDefaultArtwork(),_this1091.openMessageDialog({buttons:["OK"],message:"Can't import file",detail:"ai"===_i1759?n:_l420.message});else{_t2601=ka(_o565);e.board.setArtwork(_t2601);}_context263.next=45;break;case 36:if(!["png","jpeg","jpg","gif","webp"].includes(_i1759)){_context263.next=45;break;}_context263.next=39;return La(t,"dataURL");case 39:_i1762=_context263.sent;_context263.next=42;return Qp(_i1762);case 42:_s1061=_context263.sent;_n756=ka(_s1061);e.board.setArtwork(_n756);case 45:_context263.next=48;break;case 47:e.board.setDefaultArtwork();case 48:case"end":return _context263.stop();}}},_callee262,null,[[24,30]]);}))(),e;};_this1091["#tabs"].openTab(s,!1);_context264.next=37;return Qi;case 37:_context264.t2=e;if(!_context264.t2){_context264.next=44;break;}_context264.t3=null===t;if(!_context264.t3){_context264.next=43;break;}_context264.next=43;return Ki(100);case 43:_this1091.HE(s);case 44:i(s);case 45:case"end":return _context264.stop();}}},_callee263,null,[[3,19,22,25]]);}));return function(_x225){return _ref196.apply(this,arguments);};}());}},{key:"KO",value:function KO(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if(this.ZO()){this.currentEditor.board.collectGarbage();var e=this.currentEditor.board.extractArtworkWithSelectedElements(),_i1763=Yp(e,"xml"),_s1062=Hi(_templateObject103());_s1062[$w]="editor",_s1062[Lw]=null,_s1062[Iw]=null,_s1062[Rw]=1,_s1062.edited=!0,_s1062[Bw]=function(){var t=Hi(_templateObject104());return t.board.setArtwork(ka(_i1763)),_s1062[Iw]=t,t;},this["#tabs"].openTab(_s1062),t&&this.HE(_s1062);}}},{key:"ZO",value:function ZO(){return null!==this.currentEditor&&this.currentEditor.board.selectedObjectElements.length>0;}},{key:"QO",value:function(){var _QO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee264(){var _t2602,e,_i1764,_yield$ja4,_s1063,_n757,_t2603;return regeneratorRuntime.wrap(function _callee264$(_context265){while(1){switch(_context265.prev=_context265.next){case 0:if(!this.currentEditor){_context265.next=36;break;}_context265.next=3;return this.getClipboardData();case 3:_t2602=_context265.sent;if(!_t2602){_context265.next=36;break;}e=null;if(!(_t2602["text/html"]&&Zp(_t2602["text/html"]))){_context265.next=10;break;}e=_t2602["text/html"];_context265.next=22;break;case 10:if(!(_t2602["text/plain"]&&Zp(_t2602["text/plain"]))){_context265.next=14;break;}e=_t2602["text/plain"];_context265.next=22;break;case 14:if(!_t2602["image/png"]){_context265.next=22;break;}_i1764=_t2602["image/png"];_context265.next=18;return ja(_i1764);case 18:_yield$ja4=_context265.sent;_s1063=_yield$ja4.width;_n757=_yield$ja4.height;e="\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ".concat(_s1063," ").concat(_n757,"\">\n              <image href=\"").concat(_i1764,"\"></image>\n            </svg>");case 22:if(!e){_context265.next=35;break;}_t2603=Hi(_templateObject105());_t2603[$w]="editor";_t2603[Lw]=null;_t2603[Iw]=null;_t2603[Rw]=1;_t2603.edited=!0;_t2603[Bw]=function(){var i=Hi(_templateObject106());return i.board.setArtwork(ka(e)),_t2603[Iw]=i,i;};_context265.next=32;return this["#tabs"].openTab(_t2603);case 32:this.HE(_t2603);_context265.next=36;break;case 35:this.openMessageDialog({buttons:["OK"],message:"Can't create file",detail:"The current contents of the clipboard can't be used to create a new file."});case 36:case"end":return _context265.stop();}}},_callee264,this);}));function QO(){return _QO.apply(this,arguments);}return QO;}()},{key:"openEditorTabWithArtworkFromLibrary",value:function openEditorTabWithArtworkFromLibrary(t){var _this1092=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref198=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee265(i){var s;return regeneratorRuntime.wrap(function _callee265$(_context266){while(1){switch(_context266.prev=_context266.next){case 0:s=Hi(_templateObject107());s[$w]="editor";s[Lw]=null;s[Iw]=null;s[Rw]=1;s.edited=!0;s[Bw]=function(){var e=Hi(_templateObject108());return e.board.setArtwork(ka(t)),s[Iw]=e,e;};_this1092["#tabs"].openTab(s);_context266.t0=e;if(!_context266.t0){_context266.next=13;break;}_context266.next=12;return Ki(200);case 12:_this1092.HE(s);case 13:i();case 14:case"end":return _context266.stop();}}},_callee265);}));return function(_x226){return _ref198.apply(this,arguments);};}());}},{key:"JO",value:function JO(){var _this1093=this;return new Promise(/*#__PURE__*/function(){var _ref199=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee266(t){var e,_t2604;return regeneratorRuntime.wrap(function _callee266$(_context267){while(1){switch(_context267.prev=_context267.next){case 0:_context267.prev=0;_context267.next=3;return Mw({type:"openFile",acceptsMultiple:!0,acceptsAllTypes:!1,accepts:[{description:"All Supported Formats",extensions:["svg","svgz","png","jpg","jpeg","gif","webp","pdf","ai"]},{description:"SVG",mimeTypes:["image/svg+xml"],extensions:["svg"]},{description:"SVGZ",mimeTypes:["image/svg+xml"],extensions:["svgz"]},{description:"PNG",mimeTypes:["image/png"],extensions:["png"]},{description:"JPEG",mimeTypes:["image/jpeg"],extensions:["jpg","jpeg"]},{description:"GIF",mimeTypes:["image/gif"],extensions:["gif"]},{description:"WebP",mimeTypes:["image/webp"],extensions:["webp"]},{description:"PDF",mimeTypes:["application/pdf"],extensions:["pdf"]},{description:"AI",mimeTypes:["application/illustrator"],extensions:["ai"]}]});case 3:e=_context267.sent;_context267.next=9;break;case 6:_context267.prev=6;_context267.t0=_context267["catch"](0);return _context267.abrupt("return",void t());case 9:if(!(e.length>0)){_context267.next=15;break;}_t2604=e.map(function(t){return{type:"editor",entry:t,selected:!1};});_t2604[_t2604.length-1].selected=!0;_this1093.NE(_t2604);_context267.next=15;return _this1093.jE(e);case 15:t();case 16:case"end":return _context267.stop();}}},_callee266,null,[[0,6]]);}));return function(_x227){return _ref199.apply(this,arguments);};}());}},{key:"IE",value:function IE(t){var _this1094=this;return new Promise(/*#__PURE__*/function(){var _ref200=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee267(e){var i,_iterator1774,_step1774,_e1973,_t2605,s;return regeneratorRuntime.wrap(function _callee267$(_context268){while(1){switch(_context268.prev=_context268.next){case 0:i=[];_iterator1774=_createForOfIteratorHelper(t);_context268.prev=2;_iterator1774.s();case 4:if((_step1774=_iterator1774.n()).done){_context268.next=12;break;}_e1973=_step1774.value;_context268.next=8;return Pw(_e1973);case 8:_t2605=_context268.sent;_t2605&&i.push(_t2605);case 10:_context268.next=4;break;case 12:_context268.next=17;break;case 14:_context268.prev=14;_context268.t0=_context268["catch"](2);_iterator1774.e(_context268.t0);case 17:_context268.prev=17;_iterator1774.f();return _context268.finish(17);case 20:s=i.map(function(t){return{type:"editor",entry:t,selected:!1};});s.length>0&&(s[s.length-1].selected=!0);_context268.t1=e;_context268.next=25;return _this1094.NE(s);case 25:_context268.t2=_context268.sent;(0,_context268.t1)(_context268.t2);case 27:case"end":return _context268.stop();}}},_callee267,null,[[2,14,17,20]]);}));return function(_x228){return _ref200.apply(this,arguments);};}());}},{key:"HE",value:function(){var _HE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee268(t){var e,_iterator1775,_step1775,_i1766,i,s,_i1765,_arr91,_t2606;return regeneratorRuntime.wrap(function _callee268$(_context269){while(1){switch(_context269.prev=_context269.next){case 0:e=_toConsumableArray(this["#tabs"].children);_iterator1775=_createForOfIteratorHelper(e);try{for(_iterator1775.s();!(_step1775=_iterator1775.n()).done;){_i1766=_step1775.value;_i1766.selected=_i1766===t;}}catch(err){_iterator1775.e(err);}finally{_iterator1775.f();}i=t[Iw]?t[Iw]:t[Bw](),s=Symbol();this.WE=s;i.hidden=!0;_context269.t0=!1===this["#main"].contains(i);if(!_context269.t0){_context269.next=11;break;}this["#main"].append(i);_context269.next=11;return Ki(100);case 11:_context269.next=13;return Qi;case 13:if(!(this.WE===s)){_context269.next=16;break;}i.hidden=!1,i.focus();for(_i1765=0,_arr91=_toConsumableArray(this["#main"].children);_i1765<_arr91.length;_i1765++){_t2606=_arr91[_i1765];_t2606!==i&&(_t2606.remove(),_t2606.hidden=!0);}case 16:case"end":return _context269.stop();}}},_callee268,this);}));function HE(_x229){return _HE.apply(this,arguments);}return HE;}()},{key:"rE",value:function rE(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this["#tabs"].selectPreviousTab();e&&t&&this.HE(e);}},{key:"dE",value:function dE(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this["#tabs"].selectNextTab();e&&t&&this.HE(e);}},{key:"eE",value:function eE(){var _this1095=this;return new Promise(/*#__PURE__*/function(){var _ref201=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee269(t){var e;return regeneratorRuntime.wrap(function _callee269$(_context270){while(1){switch(_context270.prev=_context270.next){case 0:e=!1;_context270.t0=_this1095.currentEditorTab;if(!_context270.t0){_context270.next=6;break;}_context270.next=5;return _this1095.qE(_this1095.currentEditorTab);case 5:e=_context270.sent;case 6:t(e);case 7:case"end":return _context270.stop();}}},_callee269);}));return function(_x230){return _ref201.apply(this,arguments);};}());}},{key:"iE",value:function iE(){var _this1096=this;return new Promise(/*#__PURE__*/function(){var _ref202=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee270(t){var e;return regeneratorRuntime.wrap(function _callee270$(_context271){while(1){switch(_context271.prev=_context271.next){case 0:e=!1;_context271.t0=_this1096.currentEditorTab;if(!_context271.t0){_context271.next=6;break;}_context271.next=5;return _this1096.XE(_this1096.currentEditorTab);case 5:e=_context271.sent;case 6:t(e);case 7:case"end":return _context271.stop();}}},_callee270);}));return function(_x231){return _ref202.apply(this,arguments);};}());}},{key:"qE",value:function qE(t){var _this1097=this;return new Promise(/*#__PURE__*/function(){var _ref203=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee271(e){var i,_s1064,_n758,_o566,_l421,_t2607,_t2608,_e1974;return regeneratorRuntime.wrap(function _callee271$(_context272){while(1){switch(_context272.prev=_context272.next){case 0:i=t[Lw];if(!(null===i)){_context272.next=9;break;}_context272.t0=e;_context272.next=5;return _this1097.XE(t);case 5:_context272.t1=_context272.sent;(0,_context272.t0)(_context272.t1);_context272.next=69;break;case 9:if(!t.edited){_context272.next=68;break;}_s1064=Ga(i).toLowerCase(),_n758=_this1097.getConfig("bx-markupsettings:indentation",2);if(!["png","jpg","jpeg","gif","webp","pdf","ai"].includes(_s1064)){_context272.next=15;break;}e(_this1097.XE(t));_context272.next=66;break;case 15:if(!["svg","svgz"].includes(_s1064)){_context272.next=65;break;}_o566=t[Iw].board.extractArtwork(),_l421=null;if(!("svg"===_s1064)){_context272.next=29;break;}_t2607=Yp(_o566,"xml",_n758);_context272.prev=19;_context272.next=22;return Cw(i,_t2607,"image/svg+xml;charset=utf-8");case 22:_context272.next=27;break;case 24:_context272.prev=24;_context272.t2=_context272["catch"](19);_l421=_context272.t2;case 27:_context272.next=39;break;case 29:if(!("svgz"===_s1064)){_context272.next=39;break;}_t2608=Yp(_o566,"xml",_n758),_e1974=kf(_t2608);_context272.prev=31;_context272.next=34;return Cw(i,_e1974,"image/svg+xml;charset=utf-8");case 34:_context272.next=39;break;case 36:_context272.prev=36;_context272.t3=_context272["catch"](31);_l421=_context272.t3;case 39:if(!_l421){_context272.next=62;break;}if(!("READ_ONLY"===_l421)){_context272.next=55;break;}_context272.next=43;return _this1097.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"The file \"".concat(i.name,"\" is read-only.")});case 43:_context272.t4=_context272.sent;if(!(1===_context272.t4)){_context272.next=52;break;}_context272.t5=e;_context272.next=48;return _this1097.iE();case 48:_context272.t6=_context272.sent;(0,_context272.t5)(_context272.t6);_context272.next=53;break;case 52:e(!1);case 53:_context272.next=60;break;case 55:_context272.t7=e;_context272.next=58;return _this1097.iE();case 58:_context272.t8=_context272.sent;(0,_context272.t7)(_context272.t8);case 60:_context272.next=63;break;case 62:t[Rw]=0,t.edited=!1,e(!0);case 63:_context272.next=66;break;case 65:e(!1);case 66:_context272.next=69;break;case 68:e(!1);case 69:case"end":return _context272.stop();}}},_callee271,null,[[19,24],[31,36]]);}));return function(_x232){return _ref203.apply(this,arguments);};}());}},{key:"XE",value:function XE(t){var _this1098=this;return new Promise(/*#__PURE__*/function(){var _ref204=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee272(e){var i,_s1065,_n759,_o567,_l422,_t2609,_e1975,_t2610;return regeneratorRuntime.wrap(function _callee272$(_context273){while(1){switch(_context273.prev=_context273.next){case 0:i=null;_context273.prev=1;_context273.next=4;return Mw({type:"saveFile",suggestedName:t[Lw]?Ua(t[Lw]):"Untitled.svg",acceptsAllTypes:!1,accepts:[{description:"SVG",mimeTypes:["image/svg+xml"],extensions:["svg"]},{description:"SVGZ",mimeTypes:["image/svg+xml"],extensions:["svgz"]}]});case 4:i=_context273.sent;_context273.next=22;break;case 7:_context273.prev=7;_context273.t0=_context273["catch"](1);_context273.next=11;return _this1098.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"Selected directory is read-only."});case 11:_context273.t1=_context273.sent;if(!(1===_context273.t1)){_context273.next=20;break;}_context273.t2=e;_context273.next=16;return _this1098.iE();case 16:_context273.t3=_context273.sent;(0,_context273.t2)(_context273.t3);_context273.next=21;break;case 20:e(!1);case 21:return _context273.abrupt("return");case 22:if(!(null===i)){_context273.next=26;break;}e(!1);_context273.next=72;break;case 26:_s1065=t[Iw].board.extractArtwork(),_n759=Ga(i).toLowerCase(),_o567=_this1098.getConfig("bx-markupsettings:indentation",2),_l422=null;if(!("svgz"===_n759)){_context273.next=39;break;}_t2609=Yp(_s1065,"xml",_o567),_e1975=kf(_t2609);_context273.prev=29;_context273.next=32;return Cw(i,_e1975,"image/svg+xml;charset=utf-8");case 32:_context273.next=37;break;case 34:_context273.prev=34;_context273.t4=_context273["catch"](29);_l422=_context273.t4;case 37:_context273.next=48;break;case 39:_t2610=Yp(_s1065,"xml",_o567);_context273.prev=40;_context273.next=43;return Cw(i,_t2610,"image/svg+xml;charset=utf-8");case 43:_context273.next=48;break;case 45:_context273.prev=45;_context273.t5=_context273["catch"](40);_l422=_context273.t5;case 48:if(!_l422){_context273.next=71;break;}if(!("READ_ONLY"===_l422)){_context273.next=64;break;}_context273.next=52;return _this1098.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"Chosen location is read-only."});case 52:_context273.t6=_context273.sent;if(!(1===_context273.t6)){_context273.next=61;break;}_context273.t7=e;_context273.next=57;return _this1098.iE();case 57:_context273.t8=_context273.sent;(0,_context273.t7)(_context273.t8);_context273.next=62;break;case 61:e(!1);case 62:_context273.next=69;break;case 64:_context273.t9=e;_context273.next=67;return _this1098.iE();case 67:_context273.t10=_context273.sent;(0,_context273.t9)(_context273.t10);case 69:_context273.next=72;break;case 71:t[Lw]=i,t[Rw]=0,t.edited=!1,t.title=i.name,t.querySelector("x-label").textContent=i.name,_this1098.jE([i]),e(!0);case 72:case"end":return _context273.stop();}}},_callee272,null,[[1,7],[29,34],[40,45]]);}));return function(_x233){return _ref204.apply(this,arguments);};}());}},{key:"nE",value:function nE(t){var _this1099=this;return new Promise(/*#__PURE__*/function(){var _ref205=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee273(e){var _i1767,_s1066,i,s;return regeneratorRuntime.wrap(function _callee273$(_context274){while(1){switch(_context274.prev=_context274.next){case 0:if(!t.edited){_context274.next=16;break;}_i1767="Do you want to save the changes you made to ".concat(t[Lw]?"\"".concat(t[Lw].name,"\""):"untitled"," file?");_context274.next=4;return _this1099.openMessageDialog({type:"question",buttons:["Save","Cancel","Don't Save"],title:"Confirm",message:_i1767,detail:"Your changes will be lost if you don't save them."});case 4:_s1066=_context274.sent;if(!(0===_s1066)){_context274.next=14;break;}_context274.t0=!1;_context274.next=9;return _this1099.qE(t);case 9:_context274.t1=_context274.sent;if(!(_context274.t0===_context274.t1)){_context274.next=12;break;}return _context274.abrupt("return",void e(!1));case 12:_context274.next=16;break;case 14:if(!(1===_s1066||-1===_s1066)){_context274.next=16;break;}return _context274.abrupt("return",void e(!1));case 16:i=t[Iw],s=t.selected;_this1099["#tabs"].closeTab(t,!1),s&&_this1099.currentTab&&_this1099.HE(_this1099.currentTab),i&&(1===_this1099["#main"].childElementCount?i.remove():Ki(3e3).then(function(){i.remove();})),e(!0);case 18:case"end":return _context274.stop();}}},_callee273);}));return function(_x234){return _ref205.apply(this,arguments);};}());}},{key:"ZE",value:function ZE(){var _this1100=this;return new Promise(/*#__PURE__*/function(){var _ref206=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee274(t){var e,_iterator1776,_step1776,_i1768;return regeneratorRuntime.wrap(function _callee274$(_context275){while(1){switch(_context275.prev=_context275.next){case 0:e=_toConsumableArray(_this1100["#tabs"].children);_iterator1776=_createForOfIteratorHelper(e);_context275.prev=2;_iterator1776.s();case 4:if((_step1776=_iterator1776.n()).done){_context275.next=18;break;}_i1768=_step1776.value;_context275.t0=_i1768!==e[0];if(!_context275.t0){_context275.next=10;break;}_context275.next=10;return Ki(1e3);case 10:_context275.t1=!1;_context275.next=13;return _this1100.nE(_i1768);case 13:_context275.t2=_context275.sent;if(!(_context275.t1===_context275.t2)){_context275.next=16;break;}return _context275.abrupt("return",void t(!1));case 16:_context275.next=4;break;case 18:_context275.next=23;break;case 20:_context275.prev=20;_context275.t3=_context275["catch"](2);_iterator1776.e(_context275.t3);case 23:_context275.prev=23;_iterator1776.f();return _context275.finish(23);case 26:t(!0);case 27:case"end":return _context275.stop();}}},_callee274,null,[[2,20,23,26]]);}));return function(_x235){return _ref206.apply(this,arguments);};}());}},{key:"sE",value:function(){var _sE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee275(){var _t2611,e,_i1769,_s1067,_n760,_o568,_e1976,_l423;return regeneratorRuntime.wrap(function _callee275$(_context276){while(1){switch(_context276.prev=_context276.next){case 0:if(!(this.currentEditor&&this.currentTab[Lw])){_context276.next=14;break;}e=this.currentEditor.board,_i1769=e.currentWorkspace===e.masterWorkspace?e.getZoomArea():null,_s1067=this.currentEditor,_n760=this.currentTab,_o568=this.currentTab[Lw];if(!("svgz"===Ga(_o568).toLowerCase())){_context276.next=9;break;}_context276.next=5;return La(_o568,"arrayBuffer");case 5:_e1976=_context276.sent;_t2611=Sf(_e1976);_context276.next=12;break;case 9:_context276.next=11;return La(_o568,"text");case 11:_t2611=_context276.sent;case 12:_l423=ka(_t2611);_s1067.board.setArtwork(_l423),_n760[Rw]=0,_n760.edited=!1,_i1769&&e.addEventListener("currentworkspacechange",function(){e.zoomToArea(_i1769,"top-left",0);},{once:!0});case 14:case"end":return _context276.stop();}}},_callee275,this);}));function sE(){return _sE.apply(this,arguments);}return sE;}()},{key:"KE",value:function KE(){var t=[];var _iterator1777=_createForOfIteratorHelper(this["#tabs"].getTabsByScreenIndex()),_step1777;try{for(_iterator1777.s();!(_step1777=_iterator1777.n()).done;){var e=_step1777.value;var _i1770={type:e[$w],path:e[$path],selected:e.selected};t.push(_i1770);}}catch(err){_iterator1777.e(err);}finally{_iterator1777.f();}return t;}},{key:"oE",value:function(){var _oE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee276(){return regeneratorRuntime.wrap(function _callee276$(_context277){while(1){switch(_context277.prev=_context277.next){case 0:_context277.next=2;return this.ZE();case 2:_context277.t0=_context277.sent;if(!_context277.t0){_context277.next=5;break;}chrome.app.window.current().close();case 5:case"end":return _context277.stop();}}},_callee276,this);}));function oE(){return _oE.apply(this,arguments);}return oE;}()},{key:"isPointOverNewTabDropArea",value:function isPointOverNewTabDropArea(t,e){var i=this._shadowRoot.elementFromPoint(t,e);return i.getRootNode()!==this._shadowRoot&&(i=null),i&&i.closest("#header");}},{key:"openDevTools",value:function openDevTools(){this.postMessage("openDevTools",null);}},{key:"aE",value:function aE(){chrome.app.window.current().isMaximized()?chrome.app.window.current().restore():chrome.app.window.current().maximize();}},{key:"hE",value:function hE(){chrome.app.window.current().minimize();}},{key:"jE",value:function jE(t){var _this1101=this;return new Promise(/*#__PURE__*/function(){var _ref207=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee278(e){return regeneratorRuntime.wrap(function _callee278$(_context280){while(1){switch(_context280.prev=_context280.next){case 0:if(!(0===t.length)){_context280.next=4;break;}e();_context280.next=5;break;case 4:return _context280.delegateYield(/*#__PURE__*/regeneratorRuntime.mark(function _callee277(){var i,s,_iterator1778,_step1778,_t2612,_e1977,_t2613,_iterator1779,_step1779,_loop61,n;return regeneratorRuntime.wrap(function _callee277$(_context279){while(1){switch(_context279.prev=_context279.next){case 0:i=[],s=Symbol();_context279.t0=_createForOfIteratorHelper;_context279.next=4;return _this1101.QE();case 4:_context279.t1=_context279.sent;_iterator1778=(0,_context279.t0)(_context279.t1);_context279.prev=6;_iterator1778.s();case 8:if((_step1778=_iterator1778.n()).done){_context279.next=20;break;}_t2612=_step1778.value;_context279.next=12;return Pw(_t2612);case 12:_e1977=_context279.sent;if(!_e1977){_context279.next=18;break;}_context279.next=16;return zw(_e1977);case 16:_t2613=_context279.sent;_e1977[s]=_t2613,i.push(_e1977);case 18:_context279.next=8;break;case 20:_context279.next=25;break;case 22:_context279.prev=22;_context279.t2=_context279["catch"](6);_iterator1778.e(_context279.t2);case 25:_context279.prev=25;_iterator1778.f();return _context279.finish(25);case 28:_iterator1779=_createForOfIteratorHelper(t);_context279.prev=29;_loop61=/*#__PURE__*/regeneratorRuntime.mark(function _loop61(){var e,t;return regeneratorRuntime.wrap(function _loop61$(_context278){while(1){switch(_context278.prev=_context278.next){case 0:e=_step1779.value;t=Ga(e).toLowerCase();_context278.t0="svg"!==t&&"svgz"!==t&&"html"!==t;if(_context278.t0){_context278.next=9;break;}_context278.next=6;return zw(e);case 6:e[s]=_context278.sent;i=i.filter(function(t){return t[s]!==e[s];});i.push(e);case 9:case"end":return _context278.stop();}}},_loop61);});_iterator1779.s();case 32:if((_step1779=_iterator1779.n()).done){_context279.next=36;break;}return _context279.delegateYield(_loop61(),"t3",34);case 34:_context279.next=32;break;case 36:_context279.next=41;break;case 38:_context279.prev=38;_context279.t4=_context279["catch"](29);_iterator1779.e(_context279.t4);case 41:_context279.prev=41;_iterator1779.f();return _context279.finish(41);case 44:for(;i.length>10;){i.shift();}n=i.map(function(t){return chrome.fileSystem.retainEntry(t);});_this1101.setConfig("!bx-chromeapp:retainedRecentEntries",n),e();case 47:case"end":return _context279.stop();}}},_callee277,null,[[6,22,25,28],[29,38,41,44]]);})(),"t0",5);case 5:case"end":return _context280.stop();}}},_callee278);}));return function(_x236){return _ref207.apply(this,arguments);};}());}},{key:"QE",value:function QE(){var _this1102=this;return new Promise(/*#__PURE__*/function(){var _ref208=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee279(t){return regeneratorRuntime.wrap(function _callee279$(_context281){while(1){switch(_context281.prev=_context281.next){case 0:t(_this1102.getConfig("!bx-chromeapp:retainedRecentEntries",[]));case 1:case"end":return _context281.stop();}}},_callee279);}));return function(_x237){return _ref208.apply(this,arguments);};}());}},{key:"tE",value:function tE(){this.setConfig("!bx-chromeapp:retainedRecentEntries",null);}},{key:"execCommand",value:function execCommand(t){var e=this.currentView||this;for(;e._shadowRoot&&e._shadowRoot.activeElement;){e=e._shadowRoot.activeElement;}for(var _i1771=e;_i1771;_i1771=_i1771.parentNode||_i1771.host){if(_i1771.commands&&_i1771.commands[t]){var _e1978=_i1771.commands[t];if(_e1978){var _t2614=!_e1978.enabled||_e1978.enabled();if(!0===_t2614){_e1978.exec();break;}if(!1===_t2614)break;if(null===_t2614)continue;}}}}},{key:"isCommandEnabled",value:function isCommandEnabled(t){var e=this.currentView||this;for(;e._shadowRoot&&e._shadowRoot.activeElement;){e=e._shadowRoot.activeElement;}for(var _i1772=e;_i1772;_i1772=_i1772.parentNode||_i1772.host){if(_i1772.commands&&_i1772.commands[t]){var _e1979=_i1772.commands[t];if(_e1979){if(!_e1979.enabled||_e1979.enabled())return!0;break;}}}return!1;}},{key:"getShortcutsEditorModel",value:function getShortcutsEditorModel(){return new Promise(/*#__PURE__*/function(){var _ref209=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee280(t){var e,i,s,_iterator1780,_step1780,_t2615,_i1773,_e1980,_t2616,_iterator1781,_step1781,_s1068,_t2617,_n761,_o569,_l424;return regeneratorRuntime.wrap(function _callee280$(_context282){while(1){switch(_context282.prev=_context282.next){case 0:e=[];_context282.next=3;return fetch("/metadata/menus/chrome-app.tpl");case 3:_context282.next=5;return _context282.sent.text();case 5:i=_context282.sent;s=new DOMParser().parseFromString(i,"text/html");_iterator1780=_createForOfIteratorHelper(s.querySelectorAll("x-menu"));try{for(_iterator1780.s();!(_step1780=_iterator1780.n()).done;){_t2615=_step1780.value;_i1773=[];for(_e1980=_t2615.closest("x-menuitem");_e1980;_e1980=_e1980.parentNode.closest("x-menuitem")){_t2616=_e1980.querySelector(":scope > x-label");_t2616&&_i1773.unshift(_t2616.textContent);}_iterator1781=_createForOfIteratorHelper(_t2615.children);try{for(_iterator1781.s();!(_step1781=_iterator1781.n()).done;){_s1068=_step1781.value;if("x-menuitem"===_s1068.localName){_t2617=_s1068.getAttribute("value");if(null!==_t2617&&!1===_t2617.startsWith("disk:")){_n761=_s1068.querySelector(":scope > x-label"),_o569=_s1068.querySelector(":scope > x-shortcut.default-shortcut"),_l424={commandID:_t2617,label:[].concat(_i1773,[_n761.textContent]).join(" \u2023 "),defaultShortcut:null};_o569&&_o569.hasAttribute("value")&&(_l424.defaultShortcut=_o569.getAttribute("value")),e.push(_l424);}}}}catch(err){_iterator1781.e(err);}finally{_iterator1781.f();}}}catch(err){_iterator1780.e(err);}finally{_iterator1780.f();}t(e);case 10:case"end":return _context282.stop();}}},_callee280);}));return function(_x238){return _ref209.apply(this,arguments);};}());}},{key:"UE",value:function UE(t){var e=!1;if(null!==t.key){var _i1774=t.toString(),_s1069=null,_n762=this["#menubar"].querySelector("x-shortcut.user-shortcut[value=\"".concat(_i1774,"\"]"));if(_n762)_s1069=_n762.closest("x-menuitem");else{var _t2618=this["#menubar"].querySelector("x-shortcut.default-shortcut[value=\"".concat(_i1774,"\"]"));_t2618&&null===_t2618.nextElementSibling.normalKey&&(_s1069=_t2618.closest("x-menuitem"));}if(_s1069){var _t2619=_s1069.value;this.isCommandEnabled(_t2619)&&(_s1069.click(),e=!0);}}return e;}},{key:"LE",value:function LE(){var _this1103=this;return new Promise(/*#__PURE__*/function(){var _ref210=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee281(t){var e;return regeneratorRuntime.wrap(function _callee281$(_context283){while(1){switch(_context283.prev=_context283.next){case 0:e=_this1103.getConfig("bx-uisettings:colorScheme","auto");"auto"===e&&(e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");As.theme="light"===e?"/themes/vanilla.css":"/themes/vanilla-dark.css";_context283.next=5;return As.whenThemeReady;case 5:_context283.next=7;return _this1103.VE();case 7:t();case 8:case"end":return _context283.stop();}}},_callee281);}));return function(_x239){return _ref210.apply(this,arguments);};}());}},{key:"VE",value:function VE(){As.accentColor=this.getConfig("bx-uisettings:accentColor","blue");}},{key:"BE",value:function BE(){var t=this.getConfig("bx-uisettings:widgetsSize","auto");"auto"===t&&(t=window.matchMedia("(pointer: coarse)").matches?"large":window.matchMedia("(min-device-width: 1025px)").matches?"medium":"large"),As.size=t;}},{key:"RE",value:function(){var _RE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee282(){var _iterator1782,_step1782,_t2620,_iterator1783,_step1783,_t2621;return regeneratorRuntime.wrap(function _callee282$(_context284){while(1){switch(_context284.prev=_context284.next){case 0:if(!(null===this["#menubar"].firstElementChild)){_context284.next=8;break;}_context284.next=3;return fetch("/metadata/menus/chrome-app.tpl");case 3:_context284.next=5;return _context284.sent.text();case 5:this["#menubar"].innerHTML=_context284.sent;_iterator1782=_createForOfIteratorHelper(this["#menubar"].querySelectorAll("[id]"));try{for(_iterator1782.s();!(_step1782=_iterator1782.n()).done;){_t2620=_step1782.value;this["#"+_t2620.id]=_t2620;}}catch(err){_iterator1782.e(err);}finally{_iterator1782.f();}case 8:_iterator1783=_createForOfIteratorHelper(this["#menubar"].querySelectorAll("x-menu"));try{for(_iterator1783.s();!(_step1783=_iterator1783.n()).done;){_t2621=_step1783.value;this.YE(_t2621);}}catch(err){_iterator1783.e(err);}finally{_iterator1783.f();}case 10:case"end":return _context284.stop();}}},_callee282,this);}));function RE(){return _RE.apply(this,arguments);}return RE;}()},{key:"YE",value:function YE(t){if(t===this["#open-recent-menu"])return;var e=this.getConfig("bx-keyboardsettings:userShortcuts",{}),i=_toConsumableArray(t.children).filter(function(t){return"x-menuitem"===t.localName;});var _iterator1784=_createForOfIteratorHelper(i),_step1784;try{for(_iterator1784.s();!(_step1784=_iterator1784.n()).done;){var _t2622=_step1784.value;var _i1775=_t2622.value&&!1===_t2622.value.startsWith("open-recent")?_t2622.value:null;if(_i1775&&(_t2622.disabled=!1===this.isCommandEnabled(_i1775)),_i1775)if("manualGuides"===_i1775)_t2622.toggled=null!==this.currentEditor&&this.currentEditor.board.showManualGuides;else if("smartGuides"===_i1775)_t2622.toggled=null!==this.currentEditor&&this.currentEditor.board.showSmartGuides;else if("grid"===_i1775)_t2622.toggled=null!==this.currentEditor&&this.currentEditor.board.showGrid;else if("transparency"===_i1775)_t2622.toggled=null!==this.currentEditor&&this.currentEditor.board.showTransparency;else if("views"===_i1775)_t2622.toggled=null!==this.currentEditor&&this.currentEditor.board.showViews;else if(_i1775.endsWith("Tool")){var _e1981=this.currentEditor?ni(this.currentEditor.toolsDock.value||""):"";_t2622.toggled=_e1981===_i1775;}else if(_i1775.endsWith("Panel")){var _e1982=null;this.currentEditor&&(_e1982="elementsPanel"===_i1775||"codePanel"===_i1775||"animationPanel"===_i1775?this.currentEditor.secondaryPanelsDock:this.currentEditor.primaryPanelsDock);var _s1070=_e1982?ni(_e1982.value||""):"";_t2622.toggled=_s1070===_i1775;}else"maximize"===_i1775&&(_t2622.toggled=chrome.app.window.current().isMaximized());if(_i1775){var _s1071=_t2622.querySelector(":scope > x-shortcut.default-shortcut"),_n763=_t2622.querySelector(":scope > x-shortcut.user-shortcut");void 0!==e[_i1775]?(_s1071.hidden=!0,_n763.hidden=!1,_n763.setAttribute("value",e[_i1775])):(_s1071.hidden=!1,_n763.hidden=!0,_n763.removeAttribute("value"));}"open-recent-menu-item"===_t2622.id&&this.JE();}}catch(err){_iterator1784.e(err);}finally{_iterator1784.f();}}},{key:"JE",value:function JE(){var _this1104=this;return new Promise(/*#__PURE__*/function(){var _ref211=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee283(t){var e,i,_iterator1785,_step1785,_t2623,_e1983;return regeneratorRuntime.wrap(function _callee283$(_context285){while(1){switch(_context285.prev=_context285.next){case 0:_context285.next=2;return _this1104.QE();case 2:e=_context285.sent;i="";_iterator1785=_createForOfIteratorHelper(e);_context285.prev=5;_iterator1785.s();case 7:if((_step1785=_iterator1785.n()).done){_context285.next=15;break;}_t2623=_step1785.value;_context285.next=11;return Pw(_t2623);case 11:_e1983=_context285.sent;_e1983&&(i+="\n            <x-menuitem id=\"open-recent-".concat(_t2623,"\">\n              <x-label>").concat(_e1983.name,"</x-label>\n            </x-menuitem>\n          "));case 13:_context285.next=7;break;case 15:_context285.next=20;break;case 17:_context285.prev=17;_context285.t0=_context285["catch"](5);_iterator1785.e(_context285.t0);case 20:_context285.prev=20;_iterator1785.f();return _context285.finish(20);case 23:""===i?(_this1104["#open-recent-menu"].innerHTML=i,_this1104["#open-recent-menu-item"].disabled=!0):(i+='\n          <hr/>\n\n          <x-menuitem value="clearRecent">\n            <x-label>Clear Recent</x-label>\n          </x-menuitem>\n        ',_this1104["#open-recent-menu"].innerHTML=i,_this1104["#open-recent-menu-item"].disabled=!1),t();case 24:case"end":return _context285.stop();}}},_callee283,null,[[5,17,20,23]]);}));return function(_x240){return _ref211.apply(this,arguments);};}());}}]);return Gw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Gw,"_shadowTemplate",Hi(_templateObject563()));_defineProperty(Gw,"_shadowStyleSheet",Yi(_templateObject564()));customElements.define("bx-chromeapp",Gw);}();