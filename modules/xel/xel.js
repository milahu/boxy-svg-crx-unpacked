class t{constructor(t){this.text=t,this.cursor=0,this.line=1,this.column=1,this.t={cursor:0,line:1,column:1}}read(t=1){let e="",i=this.cursor;for(let s=0;s<t;s+=1){let t=this.text[i+s];if(void 0===t)break;e+=t,this.cursor+=1,"\n"===t?(this.line+=1,this.column=1):this.column+=1}return""===e?null:e}peek(t=1){let e="";for(let i=0;i<t;i+=1){let t=this.text[this.cursor+i];if(void 0===t)break;e+=t}return""===e?null:e}eatSpaces(){let t="";for(;" "===this.peek();)t+=this.read();return t}eatWhitespace(){let t="";for(;" "===this.peek()||"\n"===this.peek();)t+=this.read();return t}storePosition(){let{cursor:t,line:e,column:i}=this;this.t={cursor:t,line:e,column:i}}restorePosition(){let{cursor:t,line:e,column:i}=this.t;this.cursor=t,this.line=e,this.column=i}}let{max:e,pow:i,sqrt:s,PI:h}=Math,n=(t,e=0)=>{let s=i(10,e);return Math.round(t*s)/s},o=(t,e=0)=>new DOMRect(n(t.x,e),n(t.y,e),n(t.width,e),n(t.height,e)),l=(t,e,i=Infinity,s=null)=>(null!==s&&(t=n(t,s)),t<e?t=e:t>i&&(t=i),t),a=t=>{if(isFinite(t)){let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i+=1;return i}return 0},r=(t,e)=>{let i=e.x-t.x;i*=i;let h=e.y-t.y;return h*=h,s(i+h)},d=(t,e)=>e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height,u=t=>h*t/180,{min:c,max:p,floor:m,pow:b,atan2:g,PI:x,sqrt:f}=Math,w=(t,e,i)=>{let s,h,n,o=p(t/=255,e/=255,i/=255),a=c(t,e,i);if(s=h=n=(o+a)/2,o===a)s=h=0;else{let l=o-a;if(h=n>.5?l/(2-o-a):l/(o+a),o===t){let t;t=e<i?6:0,s=(e-i)/l+t}else o===e?s=(i-t)/l+2:o===i&&(s=(t-e)/l+4)}return s=l(s/6*360,0,360,0),h=l(100*h,0,100,1),n=l(100*n,0,100,1),[s,h,n]},v=(t,e,i)=>{let s,h,n;if(t/=360,i/=100,0===(e/=100))s=h=n=i;else{let o,l,a=(t,e,i)=>(i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t);o=i<.5?i*(1+e):i+e-i*e,l=2*i-o,s=a(l,o,t+1/3),h=a(l,o,t),n=a(l,o,t-1/3)}return s=l(255*s,0,255,0),h=l(255*h,0,255,0),n=l(255*n,0,255,0),[s,h,n]},y=(t,e,i)=>{let s=p(t/=255,e/=255,i/=255),h=c(t,e,i),n=0,o=0,l=s,a=s-h;return o=0===s?0:a/s,s===h?n=0:(s===t?n=(e-i)/a+(e<i?6:0):s===e?n=(i-t)/a+2:s===i&&(n=(t-e)/a+4),n/=6),n*=360,o*=100,l*=100,[n,o,l]},z=(t,e,i)=>{e/=100,i/=100;let s=m(6*(t/=360)),h=6*t-s,n=i*(1-e),o=i*(1-h*e),l=i*(1-(1-h)*e),a=0,r=0,d=0;return s%6==0?(a=i,r=l,d=n):s%6==1?(a=o,r=i,d=n):s%6==2?(a=n,r=i,d=l):s%6==3?(a=n,r=o,d=i):s%6==4?(a=l,r=n,d=i):s%6==5&&(a=i,r=n,d=o),a*=255,r*=255,d*=255,[a,r,d]},k=(t,e,i)=>{e/=100;let s,h,n=t/=360;return s=(i=i/100*2)+(e*=i<=1?i:2-i)===0?0:2*e/(i+e),h=(i+e)/2,n*=360,s=100*p(0,c(1,s)),h=100*p(0,c(1,h)),[n,s,h]},_=(t,e,i)=>{let s=t/=360,h=(2-(e/=100))*(i/=100),n=e*i;return h<=1?0===h?n=0:n/=h:2===h?n=0:n/=2-h,h/=2,s*=360,n=100*p(0,c(1,n)),h=100*p(0,c(1,h)),[s,n,h]},C=(t,e="rgba",i="hex")=>{let s=null;if(["rgb","rgba","rgb%","rgba%","hex"].includes(i)){let h,n,o,a;if("rgba"===e?[h,n,o,a]=t:"hsla"===e?([h,n,o]=v(...t),a=t[3]):"hsva"===e&&([h,n,o]=z(...t),a=t[3]),"rgb%"===i||"rgba%"===i?(h=l(h/255*100,0,100,1),n=l(n/255*100,0,100,1),o=l(o/255*100,0,100,1),a=l(a,0,1,2)):(h=l(h,0,255,0),n=l(n,0,255,0),o=l(o,0,255,0),a=l(a,0,1,2)),"rgb"===i)s=`rgb(${h}, ${n}, ${o})`;else if("rgba"===i)s=`rgba(${h}, ${n}, ${o}, ${a})`;else if("rgb%"===i)s=`rgb(${h}%, ${n}%, ${o}%)`;else if("rgba%"===i)s=`rgb(${h}%, ${n}%, ${o}%, ${a})`;else if("hex"===i){let t=h.toString(16),e=n.toString(16),i=o.toString(16);1===t.length&&(t="0"+t),1===e.length&&(e="0"+e),1===i.length&&(i="0"+i),s="#"+t+e+i}}else if("hsl"===i||"hsla"===i){let h,n,o,a;"hsla"===e?[h,n,o,a]=t:"hsva"===e?([h,n,o]=_(...t),a=t[3]):"rgba"===e&&([h,n,o]=w(...t),a=t[3]),h=l(h,0,360,0),n=l(n,0,100,1),o=l(o,0,100,1),a=l(a,0,1,2),"hsl"===i?s=`hsl(${h}, ${n}%, ${o}%)`:"hsla"===i&&(s=`hsla(${h}, ${n}%, ${o}%, ${a})`)}return s},S=(t,e)=>{let i=e.startsWith("hsl")?"hsla":"rgba",s=(new D).parse(t,i);return C(s,i,e)},E=t=>{if("#"!==(t=t.toLowerCase())[0])return!1;if(4!==t.length&&7!==t.length)return!1;t=t.substring(1);let e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];for(let i of t)if(!e.includes(i))return!1;return!0},A=t=>{try{(new D).parse(t)}catch(t){return!1}return!0},L=()=>new Promise((t=>{if(L.url)t(L.url);else if(L.callbacks)L.callbacks.push(t);else{L.callbacks=[t];let e=300,i=document.createElement("canvas"),s=i.getContext("2d"),h=s.createImageData(e,e),n=h.data,o=e/2,l=0;i.width=e,i.height=e;for(let t=0;t<e;t++)for(let i=0;i<e;i++){let e=i-o,s=t-o,h=b(e,2)+b(s,2),a=(g(s,e)+x)/(2*x)*360,r=f(h)/o*100,[d,u,c]=z(a,r,100),p=h>b(o,2)?0:255;n[l++]=d,n[l++]=u,n[l++]=c,n[l++]=p}s.putImageData(h,0,0),i.toBlob((t=>{L.url=URL.createObjectURL(t);for(let t of L.callbacks)t(L.url)}))}})),{parseFloat:T,parseInt:M}=Number;class D{static i={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};parse(t,e="rgba"){t=t.trim();let i=this.h(t),s=null,h=null;if(7===i.length&&"rgb("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&")"===i[6].text)s=[T(i[1].text),T(i[3].text),T(i[5].text),1];else if(7===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)s=[T(i[1].text)/100*255,T(i[3].text)/100*255,T(i[5].text)/100*255,1];else if(9===i.length&&"rgba("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[T(i[1].text),T(i[3].text),T(i[5].text),T(i[7].text)];else if(9===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[T(i[1].text)/100*255,T(i[3].text)/100*255,T(i[5].text)/100*255,T(i[7].text)];else if(7===i.length&&"hsl("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)h=[T(i[1].text),T(i[3].text),T(i[5].text),1];else if(9===i.length&&"hsla("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)h=[T(i[1].text),T(i[3].text),T(i[5].text),T(i[7].text)];else if("HEX"===i[0].type&&void 0===i[1]){let t,e,h,n=i[0].text.substring(1);3===n.length?(t=n[0]+n[0],e=n[1]+n[1],h=n[2]+n[2]):(t=n[0]+n[1],e=n[2]+n[3],h=n[4]+n[5]),s=[M(t,16),M(e,16),M(h,16),1]}else D.i[t]&&(s=[D.i[t][0],D.i[t][1],D.i[t][2],1]);if(s){let[t,i,h,n]=s;if(t=l(t,0,255,0),i=l(i,0,255,0),h=l(h,0,255,0),n=l(n,0,1,2),"hsla"===e){let[e,s,o]=w(t,i,h);return[e,s,o,n]}if("hsva"===e){let[e,s,o]=y(t,i,h);return[e,s,o,n]}return[t,i,h,n]}if(h){let[t,i,s,n]=h;if(t=l(t,0,360,0),i=l(i,0,100,1),s=l(s,0,100,1),n=l(n,0,1,2),"hsla"===e)return[t,i,s,n];if("hsva"===e){let[e,h,o]=k(t,i,s);return[e,h,o,n]}{let[e,h,o]=v(t,i,s);return[e,h,o,n]}}throw new Error(`Invalid color string: "${t}"`)}h(e){let i=[],s=new t(e.toLowerCase());for(;null!==s.peek();){let t=s.read();(()=>{if("r"===t||"h"===t){let e=t;if(t+s.peek(3)==="rgb("?e+=s.read(3):t+s.peek(4)==="rgba("?e+=s.read(4):t+s.peek(3)==="hsl("?e+=s.read(3):t+s.peek(4)==="hsla("&&(e+=s.read(4)),e!==t)return void i.push({type:"FUNCTION",text:e})}if("#"===t){if(E(t+s.peek(6))){let e=t+s.read(6);return void i.push({type:"HEX",text:e})}if(E(t+s.peek(3))){let e=t+s.read(3);return void i.push({type:"HEX",text:e})}}if(["0","1","2","3","4","5","6","7","8","9",".","-"].includes(t)){let e=t;for(;["0","1","2","3","4","5","6","7","8","9","."].includes(s.peek());)e+=s.read();"%"===s.peek()?(e+=s.read(),i.push({type:"PERCENTAGE",text:e})):i.push({type:"NUM",text:e})}else/\u0009|\u000a|\u000c|\u000d|\u0020/.test(t)||i.push({type:"CHAR",text:t})})()}return i}}class ${o={};addEventListener(t,e){this.o||(this.o={});let i=this.o[t];i||(this.o[t]=i=[]),i.push(e),i.length>1e4&&console.warn(`Potential EventEmitter memory leak: ${i.length} listeners subscribed to event "${t}"`)}removeEventListener(t,e){if(this.o&&this.o[t]){for(var i=[],s=0;s<this.o[t].length;s+=1)this.o[t][s]!==e&&i.push(this.o[t][s]);this.o[t]=i}}dispatchEvent(t){if(!this.o)return;let e=this.o[t.type];if(!e)return;let i=null;for(let s=e.length-1;s>=0;s-=1){let h,n=e[s];try{h=n.call(window,t)}catch(t){null===i&&(i=t)}if(!1===h)break}if(i)throw i}}let P=document.createElement("template"),R=(t,...e)=>{let i=[];for(let s=0;s<t.length;s+=1)i.push(t[s]),void 0!==e[s]&&i.push(e[s]);let s=i.join("");P.innerHTML=s;let h=document.importNode(P.content,!0);return 1===h.children.length?h.firstElementChild:h},I=(t,...e)=>{let i=[];for(let s=0;s<t.length;s+=1)i.push(t[s]),void 0!==e[s]&&i.push(e[s]);let s=i.join(""),h=new CSSStyleSheet;return h.replaceSync(s),h},O=(t,...e)=>{let i=[];for(let s=0;s<t.length;s+=1)i.push(t[s]),void 0!==e[s]&&i.push(e[s]);let s=`<svg id="x-stub" xmlns="http://www.w3.org/2000/svg">${i.join("")}</svg>`;P.innerHTML=s;let h=document.importNode(P.content,!0),n=h.querySelector("svg#x-stub");if(1===n.children.length)return n.firstElementChild;for(let t of[...n.childNodes])h.appendChild(t);return n.remove(),h},B={},H=t=>new Promise((async e=>{if(B[t])B[t].iconset?e(B[t].iconset):B[t].callbacks.push(e);else{B[t]={callbacks:[e],iconset:null};let i=null;try{i=await(await fetch(t)).text()}catch(t){i=null}if(i){B[t].iconset=O`${i}`;for(let e of B[t].callbacks)e(B[t].iconset)}else console.error(`Xel failed to fetch the iconset: ${t}`)}}));var F=new class extends ${get theme(){return this.l}set theme(t){let e=document.head.querySelector(':scope > meta[name="xel-theme"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-theme"),document.head.append(e)),e.setAttribute("content",t)}get accentColor(){return this.u}set accentColor(t){let e=document.head.querySelector(':scope > meta[name="xel-accent-color"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-accent-color"),document.head.append(e)),e.setAttribute("content",t)}get size(){return this.p}set size(t){let e=document.head.querySelector(':scope > meta[name="xel-size"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-size"),document.head.append(e)),e.setAttribute("content",t)}get iconset(){return this.m}set iconset(t){let e=document.head.querySelector(':scope > meta[name="xel-iconset"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-iconset"),document.head.append(e)),e.setAttribute("content",t)}get whenThemeReady(){return new Promise((t=>{null===this.g?t():this.g.push(t)}))}get whenIconsetReady(){return new Promise((t=>{null===this.v?t():this.v.push(t)}))}get themeStyleSheet(){return this.k}get iconsetElement(){return this._}get presetAccentColors(){let t={};for(let e of this.k.cssRules)if(1===e.type&&"body"===e.selectorText&&e.styleMap.has("--preset-accent-colors")){let i=e.styleMap.get("--preset-accent-colors");if(i&&i[0]){let e=i[0].split(",").map((t=>t.trim())).map((t=>t.split(" ")));t=Object.fromEntries(e)}break}return t}l=null;u=null;p=null;m=null;k=new CSSStyleSheet;_=null;g=[];v=[];constructor(){super(),document.adoptedStyleSheets=[this.k];let{theme:t,accentColor:e,size:i,iconset:s}=this.C();this.l=t,this.u=e,this.p=i,this.m=s,null!==this.l&&this.S(this.l),null!==this.m&&this.A(this.m);new MutationObserver((t=>this.L(t))).observe(document.head,{attributes:!0,subtree:!0})}L(t){let e=this.l,i=this.u,s=this.p,h=this.m,{theme:n,accentColor:o,size:l,iconset:a}=this.C();this.l=n,this.u=o,this.p=l,this.m=a,this.l!==e&&this.S(this.l).then((()=>{this.dispatchEvent(new CustomEvent("themechange"))})),this.u!==i&&(this.T(),this.dispatchEvent(new CustomEvent("accentcolorchange"))),this.p!==s&&this.dispatchEvent(new CustomEvent("sizechange")),this.m!==h&&this.A(this.m).then((()=>{this.dispatchEvent(new CustomEvent("iconsetchange"))}))}M(t){return new Promise((async e=>{let i=await fetch(t),s=await i.text();for(let[t,e]of this.D(s)){let i=await this.M(t);s=s.replace(e,i)}e(s)}))}S(t){return new Promise((async e=>{null===this.g&&(this.g=[]);let i=await this.M(t);if(await this.k.replace(i),this.T(),this.$(),null!==this.g){for(let t of this.g)t();this.g=null}e()}))}A(t){return new Promise((async e=>{null===this.v&&(this.v=[]);let i=await H(t);this._=i;for(let t of this.v)t();this.v=null,e()}))}async $(){await this.whenThemeReady;let t=document.head.querySelector('meta[name="theme-color"]'),e=getComputedStyle(document.body).getPropertyValue("--titlebar-color").trim()||"auto";"auto"===e?t&&t.remove():(null===t&&(t=document.createElement("meta"),t.setAttribute("name","theme-color"),document.head.append(t)),t.setAttribute("content",e))}async T(){await this.whenThemeReady;let t=this.u||this.presetAccentColors.blue;this.presetAccentColors[t]&&(t=this.presetAccentColors[t]);let[e,i,s,h]=(new D).parse(t,"hsla"),n=[...this.k.cssRules].reverse().find((t=>1===t.type&&"body"===t.selectorText));n.styleMap.set("--accent-color-h",e),n.styleMap.set("--accent-color-s",`${i}%`),n.styleMap.set("--accent-color-l",`${s}%`),n.styleMap.set("--accent-color-a",h)}C(){let t=document.head.querySelector(':scope > meta[name="xel-theme"]'),e=document.head.querySelector(':scope > meta[name="xel-accent-color"]'),i=document.head.querySelector(':scope > meta[name="xel-size"]'),s=document.head.querySelector(':scope > meta[name="xel-iconset"]');return{theme:t&&""!==t.content?t.content:null,accentColor:e&&""!==e.content?e.content:null,size:i&&""!==i.content?i.content:null,iconset:s&&""!==s.content?s.content:null}}D(t){let e=[],i=-1;for(;;){let s=t.indexOf("@import",i);if(!(s>-1))break;{let h=t.indexOf(";",s),n=0,o=t.indexOf(".css",s)+".css".length,l=t.indexOf("'",s),a=t.indexOf('"',s);if(l>s&&l<h)n=l+1;else if(a>s&&a<h)n=a+1;else{let e=t.indexOf("url(",s);e>s&&e<h&&(n=e+"url(".length)}let r=t.substring(n,o);e.push([r,t.substring(s,h+1)]),i=o}}return e}};if(!1===MouseEvent.prototype.hasOwnProperty("pointerType")&&Object.defineProperty(MouseEvent.prototype,"pointerType",{get(){return this.sourceCapabilities.firesTouchEvents?"touch":"mouse"}}),Element.prototype.setPointerCapture){let t=Element.prototype.setPointerCapture;Element.prototype.setPointerCapture=function(e){t.call(this,e);let i=getComputedStyle(this).cursor,s=[];for(let t=this.parentNode||this.host;t&&t!==document;t=t.parentNode||t.host)if(t.nodeType===document.DOCUMENT_FRAGMENT_NODE){let e=document.createElementNS(t.host.namespaceURI,"style");e.textContent=`* { cursor: ${i} !important; user-select: none !important; }`,t.append(e),s.push(e)}else if(t.nodeType===document.DOCUMENT_NODE){let e=document.createElement("style");e.textContent=`* { cursor: ${i} !important; user-select: none !important; }`,t.head.append(e),s.push(e)}let h=()=>{window.removeEventListener("pointerup",h,!0),this.removeEventListener("lostpointercapture",h);for(let t of s)t.remove()};window.addEventListener("pointerup",h,!0),this.addEventListener("lostpointercapture",h)}}Object.defineProperty(Animation.prototype,"finished",{get(){return new Promise((t=>{"finished"===this.playState?t():this.addEventListener("finish",(()=>t()),{once:!0})}))}}),Object.defineProperty(HTMLHeadingElement.prototype,"disabled",{enumerable:!1,configurable:!1,get(){return this.hasAttribute("disabled")},set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}}),Object.defineProperty(HTMLParagraphElement.prototype,"disabled",{enumerable:!1,configurable:!1,get(){return this.hasAttribute("disabled")},set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}}),Node.prototype.append||(Node.prototype.append=function(t){this.appendChild(t)}),Node.prototype.prepend||(Node.prototype.prepend=function(t){this.insertBefore(t,this.firstElementChild)}),Node.prototype.before||(Node.prototype.before=function(t){this.parentElement.insertBefore(t,this)}),Node.prototype.after||(Node.prototype.after=function(t){this.parentElement.insertBefore(t,this.nextElementSibling)}),Node.prototype.closest||(Node.prototype.closest=function(t){return this.parentNode?this.parentNode.closest(t):null}),Node.prototype.replaceWith||(Node.prototype.replaceWith=function(t){this.parentNode.replaceChild(t,this)});let N=HTMLDialogElement.prototype.showModal,q=HTMLDialogElement.prototype.close,U=[],j={get open(){return this.hasAttribute("open")},showModal(){return new Promise((async t=>{if(!0!==this.open&&!1!==this.isConnected){this.P&&await this.P.finished,this.R&&await this.R.finished,N.apply(this,arguments);{let t;document.body.style.overflow="hidden",U.push(this),this.addEventListener("close",t=e=>{e.target===this&&(this.removeEventListener("close",t),U=U.filter((t=>t!==this)),0===U.length&&(document.body.style.overflow=null))})}{let t=this.querySelector("[autofocus]");t?t.focus():this.focus()}if(!1===this.hasAttribute("hidden")){let t=getComputedStyle(this),e=t.getPropertyValue("transition-property"),i=1e3*parseFloat(t.getPropertyValue("transition-duration")),s=t.getPropertyValue("transition-timing-function");if("transform"===e){let t=this.getBoundingClientRect();"0px"===getComputedStyle(this).left&&"0px"!==getComputedStyle(this).right?this.P=this.animate({transform:[`translateX(-${t.right}px)`,"translateX(0px)"]},{duration:i,easing:s}):"0px"===getComputedStyle(this).right&&"0px"!==getComputedStyle(this).left?this.P=this.animate({transform:[`translateX(${t.width}px)`,"translateX(0px)"]},{duration:i,easing:s}):this.P=this.animate({transform:[`translateY(-${t.bottom}px)`,"translateY(0px)"]},{duration:i,easing:s})}}{let t,e,i;this.addEventListener("keydown",t=t=>{"Escape"===t.key&&t.preventDefault()}),document.addEventListener("keydown",e=t=>{"Escape"===t.key&&t.target===document.body&&t.preventDefault()}),this.addEventListener("close",i=s=>{s.target===this&&(this.removeEventListener("close",i),this.removeEventListener("keydown",t),document.removeEventListener("keydown",e))})}{let t,e,i,s=!0,h=t=>{let e=this.getBoundingClientRect();return t.clientX>=e.x&&t.clientX<=e.x+e.width&&t.clientY>=e.y&&t.clientY<=e.y+e.height};this.addEventListener("pointerdown",t=t=>{s=!1===h(t)}),this.addEventListener("click",e=t=>{t.target===this&&!0===t.isTrusted&&!1===t.defaultPrevented&&!0===s&&!1===h(t)&&!0===this.hasAttribute("open")&&(this.close(),this.dispatchEvent(new CustomEvent("userclose")))}),this.addEventListener("close",i=s=>{s.target===this&&(this.removeEventListener("pointerdown",t),this.removeEventListener("click",e),this.removeEventListener("close",i))})}this.P&&(await this.P.finished,this.P=null),t()}else t()}))},close(){return new Promise((async t=>{if(this.P&&await this.P.finished,this.R&&await this.R.finished,!1===this.hasAttribute("hidden")){let t=getComputedStyle(this),e=t.getPropertyValue("transition-property"),i=t.getPropertyValue("transition-duration")||"0s",s=1e3*parseFloat(i),h=t.getPropertyValue("transition-timing-function")||"ease";if("transform"===e){let t=this.getBoundingClientRect();"0px"===getComputedStyle(this).left&&"0px"!==getComputedStyle(this).right?this.R=this.animate({transform:["translateX(0px)",`translateX(-${t.right}px)`]},{duration:s,easing:h}):"0px"===getComputedStyle(this).right&&"0px"!==getComputedStyle(this).left?this.R=this.animate({transform:["translateX(0px)",`translateX(${t.width}px)`]},{duration:s,easing:h}):this.R=this.animate({transform:["translateY(0px)",`translateY(-${t.bottom+50}px)`]},{duration:s,easing:h}),await this.R.finished,this.R=null}}this.hasAttribute("open")&&q.apply(this,arguments),t()}))}};for(let[t,e]of Object.entries(Object.getOwnPropertyDescriptors(j)))Object.defineProperty(HTMLDialogElement.prototype,t,e);class K extends HTMLElement{static observedAttributes=["expanded","size"];static _shadowTemplate=R`
    <template>
      <main id="main">
        <div id="arrow-container">
          <svg id="arrow" part="arrow" viewBox="0 0 100 100" preserveAspectRatio="none" tabindex="1">
            <path></path>
          </svg>
        </div>

        <slot></slot>
      </main>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:100%;margin:8px 0;box-sizing:border-box}:host([animating]){overflow:hidden}#main{position:relative;width:100%;height:100%}#arrow-container{position:absolute;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:flex-start;pointer-events:none}#arrow{display:flex;width:16px;height:16px;d:path("M 26 20 L 26 80 L 74 50 Z");transform:rotate(0);transition:transform .25s cubic-bezier(.4, 0, .2, 1);color:currentColor}#arrow:focus{background:0 0;outline:0}:host([expanded]) #arrow{transform:rotate(90deg)}#arrow path{fill:currentColor;d:inherit}`;get expanded(){return this.hasAttribute("expanded")}set expanded(t){t?this.setAttribute("expanded",""):this.removeAttribute("expanded")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}I={};_shadowRoot=null;O=null;B=null;H=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[K._shadowStyleSheet],this._shadowRoot.append(document.importNode(K._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.O=new ResizeObserver((()=>this.F())),this.addEventListener("click",(t=>this.N(t))),this.I.arrow.addEventListener("keydown",(t=>this.q(t)))}connectedCallback(){this.U(),F.addEventListener("sizechange",this.B=()=>this.U()),this.O.observe(this)}disconnectedCallback(){F.removeEventListener("sizechange",this.B),this.O.unobserve(this)}attributeChangedCallback(t,e,i){e!==i&&("expanded"===t?this.F():"size"===t&&this.U())}expand(){return new Promise((async t=>{if(!1===this.expanded){let t=this.getBoundingClientRect();this.H&&this.H.finish(),this.expanded=!0,this.removeAttribute("animating");let e=this.getBoundingClientRect();this.setAttribute("animating","");let i=this.animate({height:[t.height+"px",e.height+"px"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.H=i,await i.finished,this.H===i&&this.removeAttribute("animating")}t()}))}collapse(){return new Promise((async t=>{if(!0===this.expanded){let t=this.getBoundingClientRect();this.H&&this.H.finish(),this.expanded=!1,this.removeAttribute("animating");let e=this.getBoundingClientRect();this.setAttribute("animating","");let i=this.animate({height:[t.height+"px",e.height+"px"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.H=i,await i.finished,this.H===i&&this.removeAttribute("animating")}t()}))}F(){let t=this.querySelector(":scope > header");this.I["arrow-container"].style.height=t?t.getBoundingClientRect().height+"px":null}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}q(t){"Enter"===t.key&&this.querySelector("header").click()}N(t){let e=this.querySelector("header"),i=t.target.closest("[tabindex]");e.contains(t.target)&&!1===this.contains(i)&&(this.expanded?(this.collapse(),this.dispatchEvent(new CustomEvent("collapse"))):(this.expand(),this.dispatchEvent(new CustomEvent("expand"))))}}customElements.define("x-accordion",K);class X extends HTMLElement{static _shadowStyleSheet=I`:host{display:block;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:1000;touch-action:none;will-change:opacity;cursor:default;background:rgba(0,0,0,.5)}:host([hidden]){display:none}`;get ownerElement(){return this.j?this.j:document.body.firstElementChild}set ownerElement(t){this.j=t}_shadowRoot=null;j=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[X._shadowStyleSheet],this.addEventListener("pointerdown",(t=>t.preventDefault()))}connectedCallback(){this.addEventListener("wheel",this.K=t=>t.preventDefault())}disconnectedCallback(){this.removeEventListener("wheel",this.K)}show(t=!0){this.title="",this.style.top="0px",this.style.left="0px",this.ownerElement.before(this),this.hidden=!1;let e=this.getBoundingClientRect(),i=0,s=0;0===e.top&&0===e.left||(i=-e.top,s=-e.left);{let t=parseFloat(getComputedStyle(this.ownerElement).zIndex);this.style.zIndex=t-1}if(this.style.top=i+"px",this.style.left=s+"px",t){return this.animate({opacity:["0","1"]},{duration:100,easing:"ease-out"}).finished}}hide(t=!0){if(t){let t=this.animate({opacity:["1","0"]},{duration:100,easing:"ease-in"});return t.finished.then((()=>{this.remove()})),t.finished}this.remove()}}customElements.define("x-backdrop",X);class V extends HTMLElement{static observedAttributes=["value","size"];static _shadowTemplate=R`
    <template>
      <x-box vertical>
        <div id="hue-slider" part="slider">
          <div id="hue-slider-track">
            <div id="hue-slider-marker" part="marker"></div>
          </div>
        </div>

        <div id="saturation-slider" part="slider">
          <div id="saturation-slider-track">
            <div id="saturation-slider-marker" part="marker"></div>
          </div>
        </div>

        <div id="lightness-slider" part="slider">
          <div id="lightness-slider-track">
            <div id="lightness-slider-marker" part="marker"></div>
          </div>
        </div>

        <div id="alpha-slider" part="slider">
          <div id="alpha-slider-gradient"></div>
          <div id="alpha-slider-track">
            <div id="alpha-slider-marker" part="marker"></div>
          </div>
        </div>
      </x-box>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:100%;user-select:none}:host([hidden]){display:none}#hue-slider{width:100%;height:30px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;background:red;--marker-width:18px}:host([computedsize=small]) #hue-slider{height:24px}:host([computedsize=large]) #hue-slider{height:35px}#hue-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center;background:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}#hue-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#saturation-slider{width:100%;height:30px;margin-top:20px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #saturation-slider{height:24px}:host([computedsize=large]) #saturation-slider{height:35px}#saturation-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#saturation-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#lightness-slider{width:100%;height:30px;margin-top:20px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #lightness-slider{height:24px}:host([computedsize=large]) #lightness-slider{height:35px}#lightness-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#lightness-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#alpha-slider{display:none;width:100%;height:30px;margin-top:20px;margin-bottom:8px;padding:0 calc(var(--marker-width)/ 2);position:relative;box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)"}set value(t){this.setAttribute("value",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}X=0;V=0;Z=80;G=1;_shadowRoot=null;I={};B=null;Y=!1;W=!1;J=!1;tt=!1;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[V._shadowStyleSheet],this._shadowRoot.append(document.importNode(V._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.I["hue-slider"].addEventListener("pointerdown",(t=>{this.et(t)})),this.I["saturation-slider"].addEventListener("pointerdown",(t=>{this.it(t)})),this.I["lightness-slider"].addEventListener("pointerdown",(t=>{this.st(t)})),this.I["alpha-slider"].addEventListener("pointerdown",(t=>{this.ht(t)}))}connectedCallback(){this.nt(),this.U(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"size"===t&&this.lt())}nt(){this.rt(),this.dt(),this.ut(),this.ct(),this.bt(),this.gt(),this.xt()}rt(){this.I["hue-slider-marker"].style.left=l(this.X,0,360,0)/360*100+"%"}dt(){this.I["saturation-slider-marker"].style.left=l(this.V,0,100,2)+"%"}ct(){this.I["lightness-slider-marker"].style.left=l(this.Z,0,100,2)+"%"}gt(){this.I["alpha-slider-marker"].style.left=l(100*(1-this.G),0,100,2)+"%"}ut(){let t=this.X;this.I["saturation-slider"].style.background=`linear-gradient(\n      to right, hsl(${t}, 0%, 50%), hsl(${t}, 100%, 50%)\n    )`}bt(){let t=this.X,e=this.V;this.I["lightness-slider"].style.background=`linear-gradient(\n      to right, hsl(${t}, ${e}%, 0%), hsl(${t}, ${e}%, 50%), hsl(${t}, ${e}%, 100%)\n    )`}xt(){let t=this.X,e=this.V,i=this.Z;this.I["alpha-slider-gradient"].style.background=`\n      linear-gradient(to right, hsla(${t}, ${e}%, ${i}%, 1), hsla(${t}, ${e}%, ${i}%, 0))\n    `}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}ot(){if(!1===this.Y&&!1===this.W&&!1===this.J&&!1===this.tt){let[t,e,i,s]=(new D).parse(this.value,"hsla");this.X=t,this.V=e,this.Z=i,this.G=s,this.nt()}}lt(){this.U()}et(t){if(1!==t.buttons)return;let e,i,s=this.I["hue-slider-track"].getBoundingClientRect();this.Y=!0,this.I["hue-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let h=t=>{let e=(t-s.x)/s.width*360;e=l(e,0,360,0),e!==this.X&&(this.X=e,this.value=C([this.X,this.V,this.Z,this.G],"hsla","hsla"),this.rt(),this.ut(),this.bt(),this.xt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};h(t.clientX),this.I["hue-slider"].addEventListener("pointermove",e=t=>{h(t.clientX)}),this.I["hue-slider"].addEventListener("lostpointercapture",i=()=>{this.I["hue-slider"].removeEventListener("pointermove",e),this.I["hue-slider"].removeEventListener("lostpointercapture",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.Y=!1})}it(t){if(1!==t.buttons)return;let e,i,s=this.I["saturation-slider-track"].getBoundingClientRect();this.W=!0,this.I["saturation-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let h=t=>{let e=(t-s.x)/s.width*100;e=l(e,0,100,0),e!==this.V&&(this.V=e,this.value=C([this.X,this.V,this.Z,this.G],"hsla","hsla"),this.dt(),this.ut(),this.bt(),this.xt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};h(t.clientX),this.I["saturation-slider"].addEventListener("pointermove",e=t=>{h(t.clientX)}),this.I["saturation-slider"].addEventListener("lostpointercapture",i=()=>{this.I["saturation-slider"].removeEventListener("pointermove",e),this.I["saturation-slider"].removeEventListener("lostpointercapture",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.W=!1})}st(t){if(1!==t.buttons)return;let e,i,s=this.I["lightness-slider-track"].getBoundingClientRect();this.J=!0,this.I["lightness-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let h=t=>{let e=(t-s.x)/s.width*100;e=l(e,0,100,0),e!==this.Z&&(this.Z=e,this.value=C([this.X,this.V,this.Z,this.G],"hsla","hsla"),this.ct(),this.ut(),this.bt(),this.xt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};h(t.clientX),this.I["lightness-slider"].addEventListener("pointermove",e=t=>{h(t.clientX)}),this.I["lightness-slider"].addEventListener("lostpointercapture",i=()=>{this.I["lightness-slider"].removeEventListener("pointermove",e),this.I["lightness-slider"].removeEventListener("lostpointercapture",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.J=!1})}ht(t){if(1!==t.buttons)return;let e,i,s=this.I["alpha-slider-track"].getBoundingClientRect();this.tt=!0,this.I["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let h=t=>{let e=1-(t-s.x)/s.width;e=l(e,0,1,2),e!==this.G&&(this.G=e,this.value=C([this.X,this.V,this.Z,this.G],"hsla","hsla"),this.gt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};h(t.clientX),this.I["alpha-slider"].addEventListener("pointermove",e=t=>{h(t.clientX)}),this.I["alpha-slider"].addEventListener("lostpointercapture",i=()=>{this.I["alpha-slider"].removeEventListener("pointermove",e),this.I["alpha-slider"].removeEventListener("lostpointercapture",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.tt=!1})}}customElements.define("x-barscolorpicker",V);class Z extends HTMLElement{static _shadowTemplate=R`
    <template>
      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{display:flex;box-sizing:border-box;align-items:center;justify-content:flex-start}:host([vertical]){flex-flow:column;align-items:flex-start;justify-content:center}:host([hidden]){display:none}`;get vertical(){return this.hasAttribute("vertical")}set vertical(t){t?this.setAttribute("vertical",""):this.removeAttribute("vertical")}_shadowRoot=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Z._shadowStyleSheet],this._shadowRoot.append(document.importNode(Z._shadowTemplate.content,!0))}}customElements.define("x-box",Z);let G=(t,e=null)=>{let i=t.split(":"),s=null;if(1===i.length){let[t]=i;s=null===e?document.createElement(t):document.createElement(t,e)}else if(2===i.length){let[t,e]=i;"svg"===t&&(s=document.createElementNS("http://www.w3.org/2000/svg",e))}return s},Y=(t,e,i=!0)=>{let s=document.elementFromPoint(t,e);if(i&&s)for(;;){let i=s.shadowRoot||s._shadowRoot;if(!i)break;{let h=i.elementFromPoint(t,e);if(h.getRootNode()!==i&&(h=null),!h||h===s)break;s=h}}return s},W=(t,e,i=!0)=>{let s=t.closest(e);return i&&!s&&t.getRootNode().host?W(t.getRootNode().host,e):s},J=t=>{let e=t=>t&&t!==document.body?(t=>{let e=getComputedStyle(t,null);return/(auto|scroll)/.test(e.getPropertyValue("overflow")+e.getPropertyValue("overflow-y")+e.getPropertyValue("overflow-x"))})(t)?t:e(t.parentElement||t.parentNode.host):document.body;return e(t)},Q=t=>new Promise(((e,i)=>{setTimeout((()=>e()),t)})),tt=()=>Date.now(),et=(t,e=500,i)=>{let s=null,h=null,n=null,o=0,l=()=>{o=new Date,h=null,n=t.apply(i,s)};return(...a)=>{let r=new Date,d=e-(r-o);return s=a,d<=0?(clearTimeout(h),h=null,o=r,n=t.apply(i,s)):h||(h=setTimeout(l,d)),n}},it=(t,e,i,s=!1)=>{let h=null,n=null;return(...o)=>{let l=s&&!h;return clearTimeout(h),h=setTimeout((()=>{h=null,s||(n=t.apply(i,o))}),e),l&&(n=t.apply(i,o)),n}},{max:st}=Math;class ht extends HTMLElement{static observedAttributes=["disabled","size"];static _shadowTemplate=R`
    <template>
      <div id="ripples"></div>
      <slot></slot>

      <svg id="arrow" part="arrow" viewBox="0 0 100 100" preserveAspectRatio="none">
        <path id="arrow-path"></path>
      </svg>
    </template>
  `;static _shadowStyleSheet=I`:host{display:flex;align-items:center;justify-content:center;width:fit-content;height:fit-content;min-height:32px;padding:2px 14px;box-sizing:border-box;opacity:1;position:relative;overflow:hidden;--trigger-effect:none}:host(:focus){outline:0}:host(:focus:not(:active)){z-index:1}:host([mixed]){opacity:.75}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}#arrow{color:currentColor;width:8px;height:8px;min-width:8px;margin:0 0 0 4px;d:path("M 11.7 19.9 L 49.8 57.9 L 87.9 19.9 L 99.7 31.6 L 49.8 81.4 L -0.0 31.6 Z")}#arrow path{fill:currentColor;d:inherit}#arrow[hidden]{display:none}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;border-radius:inherit}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get togglable(){return this.hasAttribute("togglable")}set togglable(t){t?this.setAttribute("togglable",""):this.removeAttribute("togglable")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get condensed(){return this.hasAttribute("condensed")}set condensed(t){t?this.setAttribute("condensed",""):this.removeAttribute("condensed")}get skin(){return this.hasAttribute("skin")?this.getAttribute("skin"):null}set skin(t){null===t?this.removeAttribute("skin"):this.setAttribute("skin",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}get expanded(){return this.hasAttribute("expanded")}get expandable(){return this.ft()||this.wt()}get ownerButtons(){if(this.parentElement){if("x-buttons"===this.parentElement.localName)return this.parentElement;if("x-box"===this.parentElement.localName&&this.parentElement.parentElement&&"x-buttons"===this.parentElement.parentElement.localName)return this.parentElement.parentElement}return null}_shadowRoot=null;I={};vt=!1;yt=null;zt=0;B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[ht._shadowStyleSheet],this._shadowRoot.append(document.importNode(ht._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("pointerdown",(t=>this.kt(t))),this.addEventListener("click",(t=>this.N(t))),this.addEventListener("keydown",(t=>this._t(t))),(async()=>{await customElements.whenDefined("x-backdrop"),this.I.backdrop=G("x-backdrop"),this.I.backdrop.style.background="rgba(0, 0, 0, 0)"})()}connectedCallback(){this.parentElement&&"a"===this.parentElement.localName&&-1!==this.parentElement.tabIndex&&(this.parentElement.tabIndex=-1),this.Ct(),this.St(),this.U(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"disabled"===t?this.St():"size"===t&&this.U()}expand(){return new Promise((async t=>{this.ft()?await this.Et():this.wt()&&await this.At(),t()}))}collapse(t=null){return new Promise((async e=>{this.Lt()?await this.Tt(t):this.Mt()&&await this.Dt(t),e()}))}Et(){return new Promise((async t=>{if(this.ft()){let t=this.querySelector(":scope > x-menu");this.vt=this.matches(":focus"),this.setAttribute("expanded",""),this.I.backdrop.ownerElement=t,this.I.backdrop.show(!1),await t.openNextToElement(this,"vertical",3),t.focus()}t()}))}Tt(t=null){return new Promise((async e=>{if(this.Lt()){let e=this.querySelector(":scope > x-menu");if(e.setAttribute("closing",""),await t,await e.close(),this.I.backdrop.hide(!1),this.removeAttribute("expanded"),this.replaceWith(this),this.vt)this.focus();else{let t=W(this.parentNode,"[tabindex]");t&&t.focus()}e.removeAttribute("closing")}e()}))}ft(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-menu");if(e&&!1===e.hasAttribute("opened")&&!1===e.hasAttribute("closing")){null!==e.querySelector("x-menuitem")&&(t=!0)}}return t}Lt(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-menu");e&&e.opened&&(t=!0)}return t}At(){return new Promise((async t=>{if(this.wt()){let t=this.querySelector(":scope > x-popover");this.vt=this.matches(":focus"),this.setAttribute("expanded",""),await t.open(this)}t()}))}Dt(t=null){return new Promise((async e=>{if(this.Mt()){let e=this.querySelector(":scope > x-popover");if(e.setAttribute("closing",""),await t,await e.close(),this.removeAttribute("expanded"),e.modal&&this.replaceWith(this),this.vt)this.focus();else{let t=W(this.parentNode,"[tabindex]");t&&t.focus()}e.removeAttribute("closing")}e()}))}wt(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-popover");e&&!1===e.hasAttribute("opened")&&(t=!0)}return t}Mt(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-popover");e&&e.opened&&(t=!0)}return t}$t(){return new Promise((t=>{if(this.Pt()){this.querySelector(":scope > dialog").showModal()}t()}))}Pt(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > dialog");e&&!1===e.hasAttribute("open")&&!1===e.hasAttribute("closing")&&(t=!0)}return t}Rt(){return new Promise((t=>{if(this.It()){this.querySelector(":scope > x-notification").opened=!0}t()}))}It(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-notification");!e||e.hasAttribute("opened")||e.hasAttribute("closing")||(t=!0)}return t}Ct(){let t=this.querySelector(":scope > x-menu, :scope > x-popover");this.I.arrow.style.display=t?null:"none"}St(){this.setAttribute("role","button"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0)}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}kt(t){let e=this.querySelector(":scope > x-menu[opened]"),i=this.querySelector(":scope > x-popover[opened]"),s=this.querySelector(":scope > dialog[open]"),h=this.querySelector(":scope > x-notification[opened]");if(this.yt=t,t.target===this.I.backdrop)this.Ot(t);else{if(e&&e.contains(t.target))return;if(i&&i.contains(t.target))return;if(s&&s.contains(t.target))return;if(h&&h.contains(t.target))return;this.Bt(t)}}N(t){let e=this.querySelector(":scope > x-menu[opened]"),i=this.querySelector(":scope > x-popover[opened]"),s=this.querySelector(":scope > dialog[open]"),h=this.querySelector(":scope > x-notification[opened]");if(t.target!==this.I.backdrop)if(e&&e.contains(t.target))!1===e.hasAttribute("closing")&&t.target.closest("x-menuitem")&&this.Ht(t);else{if(i&&i.contains(t.target))return;if(s&&s.contains(t.target))return;if(h&&h.contains(t.target))return;this.Ft(t)}}Ot(t){this.collapse()}async Bt(t){if(1===t.buttons){if(this.querySelector(":scope > dialog[open]"))t.preventDefault();else if(!1!==this.contains(t.target)){if(this.setPointerCapture(t.pointerId),t.preventDefault(),!1===this.matches(":focus")){let t=W(this.parentNode,"*[tabindex]:not(a)");this.addEventListener("lostpointercapture",(()=>{t?t.focus():this.blur()}),{once:!0})}if(!1===this.ft()&&!1===this.wt()&&!1===this.Mt()){let t=Date.now(),e=!0,i=parseInt(getComputedStyle(this).getPropertyValue("--min-pressed-time")||"150ms");this.addEventListener("lostpointercapture",(async()=>{e=!1;let s=Date.now()-t;s<i&&await Q(i-s),this.removeAttribute("pressed")}),{once:!0}),(async()=>{if(this.ownerButtons)if(0===this.ownerButtons.tracking||2===this.ownerButtons.tracking)await Q(10);else if(1!==this.ownerButtons.tracking||!1!==this.toggled&&!this.mixed){if(3===this.ownerButtons.tracking){let t=[...this.ownerButtons.querySelectorAll(":scope > x-button, :scope > x-box > x-button")].filter((t=>t.toggled));(!1===this.toggled||t.length>1)&&await Q(10)}}else await Q(10);else this.togglable&&await Q(10);e&&this.setAttribute("pressed","")})()}this.ft()?"touch"!==t.pointerType&&this.Et():this.wt()?"touch"!==t.pointerType&&this.At():this.Mt()&&this.Dt();{let e=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if("ripple"===e){let e=this.I.ripples.getBoundingClientRect(),i=1.5*st(e.width,e.height),s=t.clientY-e.y-i/2,h=t.clientX-e.x-i/2,n=new Promise((t=>this.addEventListener("lostpointercapture",t,{once:!0}))),o=!0;if(!1===this.expandable)if(this.ownerButtons){if(0===this.ownerButtons.tracking||2===this.ownerButtons.tracking)o=!1;else if(1===this.ownerButtons.tracking&&!1===this.toggled)o=!1;else if(3===this.ownerButtons.tracking){let t=[...this.ownerButtons.querySelectorAll(":scope > x-button, :scope > x-box > x-button")].filter((t=>t.toggled));(!1===this.toggled||t.length>1)&&(o=!1)}}else this.togglable&&(o=!1);let l=G("div");l.setAttribute("part","ripple"),l.setAttribute("class","ripple pointer-down-ripple"),l.setAttribute("style",`width: ${i}px; height: ${i}px; top: ${s}px; left: ${h}px;`),this.I.ripples.append(l),this.I.ripples.style.contain="strict";let a=l.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});if(await n,o){await a.finished;let t=l.animate({opacity:[getComputedStyle(l).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await t.finished}l.remove()}else if("unbounded-ripple"===e){let t=this.I.ripples.getBoundingClientRect(),e=1.25*t.height,i=t.y+t.height/2-t.y-e/2,s=t.x+t.width/2-t.x-e/2,h=new Promise((t=>this.addEventListener("lostpointercapture",t,{once:!0}))),n=G("div");n.setAttribute("part","ripple"),n.setAttribute("class","ripple pointer-down-ripple"),n.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.I.ripples.append(n),this.I.ripples.style.contain="none",n.hidden=!0,await Q(20),n.hidden=!1;let o=n.animate({transform:["scale(0)","scale(1)"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await h,await o.finished;let l=n.animate({opacity:[getComputedStyle(n).opacity||"0","0"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await l.finished,n.remove()}}}}else t.preventDefault()}async Ft(t){let e=this.querySelector(":scope > x-menu, :scope > x-popover");if(e){if(e.hasAttribute("closing"))return;e.focus()}if(!1===this.Mt()&&(this.Pt()?this.$t():this.It()&&this.Rt()),this.yt&&"touch"===this.yt.pointerType&&(this.ft()?this.Et():this.wt()&&this.At()),this.togglable&&!1===t.defaultPrevented&&(this.removeAttribute("pressed"),this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle"))),null===this.I.ripples.querySelector(".pointer-down-ripple")){let t=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if("ripple"===t){let t=this.I.ripples.getBoundingClientRect(),e=1.5*st(t.width,t.height),i=t.y+t.height/2-t.y-e/2,s=t.x+t.width/2-t.x-e/2,h=!0;this.ownerButtons?(0===this.ownerButtons.tracking||2===this.ownerButtons.tracking||3===this.ownerButtons.tracking||1===this.ownerButtons.tracking&&!0===this.toggled)&&(h=!1):this.togglable&&(h=!1);let n=G("div");n.setAttribute("part","ripple"),n.setAttribute("class","ripple click-ripple"),n.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.I.ripples.append(n),this.I.ripples.style.contain="strict";let o=n.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});if(h){await o.finished;let t=n.animate({opacity:[getComputedStyle(n).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await t.finished}n.remove()}else if("unbounded-ripple"===t){let t=this.I.ripples.getBoundingClientRect(),e=1.35*t.height,i=t.y+t.height/2-t.y-e/2,s=t.x+t.width/2-t.x-e/2,h=G("div");h.setAttribute("part","ripple"),h.setAttribute("class","ripple"),h.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.I.ripples.append(h),this.I.ripples.style.contain="none",await h.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,await h.animate({opacity:[getComputedStyle(h).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,h.remove()}}}Ht(t){let e=t.target.closest("x-menuitem");this.querySelector(":scope > x-menu").hasAttribute("closing")||this.collapse(e.whenTriggerEnd)}_t(t){!1===t.defaultPrevented&&("Enter"===t.code||"Space"===t.code?this.ft()?(t.preventDefault(),this.Et().then((()=>this.querySelector(":scope > x-menu").focusFirstMenuItem()))):this.wt()?(t.preventDefault(),this.At()):this.Pt()?(t.preventDefault(),this.$t()):this.It()?(t.preventDefault(),this.Rt()):this.matches(":focus")&&(this.Mt()?this.Dt():this.Lt()?this.Tt():(t.preventDefault(),this.click())):"ArrowDown"===t.code?this.ft()?(this.querySelector(":scope > x-menu"),t.preventDefault(),this.Et().then((()=>this.querySelector(":scope > x-menu").focusFirstMenuItem()))):this.wt()?(t.preventDefault(),this.At()):(t.preventDefault(),this.click()):"ArrowUp"===t.code?this.ft()?(t.preventDefault(),this.Et().then((()=>this.querySelector(":scope > x-menu").focusLastMenuItem()))):this.wt()?(t.preventDefault(),this.At()):(t.preventDefault(),this.click()):"Escape"===t.code&&(this.Lt()||this.Mt())&&(t.preventDefault(),this.collapse()))}}customElements.define("x-button",ht);let{isArray:nt}=Array;class ot extends HTMLElement{static _shadowTemplate=R`
    <template>
      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{display:flex;flex-flow:row;align-items:center;justify-content:flex-start;box-sizing:border-box;width:fit-content}:host([hidden]){display:none}`;get tracking(){return this.hasAttribute("tracking")?parseInt(this.getAttribute("tracking")):-1}set tracking(t){this.setAttribute("tracking",t)}get vertical(){return this.hasAttribute("vertical")}set vertical(t){!0===t?this.setAttribute("vertical",""):this.removeAttribute("vertical")}get value(){if(2===this.tracking||3===this.tracking){return this.Nt().filter((t=>t.toggled)).map((t=>t.value)).filter((t=>null!=t))}if(1===this.tracking||0===this.tracking){let t=this.Nt().find((t=>t.toggled));return t&&void 0!==t.value?t.value:null}if(-1===this.tracking)return null}set value(t){if(2===this.tracking||3===this.tracking){let e=this.Nt();if(nt(t))for(let i of e)i.toggled=t.includes(i.value);else for(let i of e)i.toggled=i.value===t}else if(1===this.tracking||0===this.tracking){let e=this.Nt(),i=e.find((e=>e.value===t));for(let t of e)t.toggled=t===i}}_shadowRoot=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[ot._shadowStyleSheet],this._shadowRoot.append(document.importNode(ot._shadowTemplate.content,!0)),this.addEventListener("click",(t=>this.N(t)),!0),this.addEventListener("keydown",(t=>this._t(t)))}connectedCallback(){for(let t of this.children)if("x-button"===t.localName){"none"!==getComputedStyle(t).boxShadow?this.setAttribute("hasboxshadow",""):this.removeAttribute("hasboxshadow");break}}Nt(){return[...this.querySelectorAll(":scope > x-button, :scope > x-box > x-button")]}N(t){if(0!==t.button)return;let e=t.target.closest("x-button");if(e&&!1===e.disabled&&!1===e.expandable){let t=this.Nt().filter((t=>t!==e));if(0===this.tracking){e.mixed||(e.toggled=!e.toggled),e.mixed=!1;for(let e of t)e.toggled=!1,e.mixed=!1;this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}))}else if(1===this.tracking){if(!1===e.toggled||!0===e.mixed){e.toggled=!0,e.mixed=!1;for(let e of t)e.toggled=!1,e.mixed=!1;this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}))}}else if(2===this.tracking)e.mixed?e.mixed=!1:e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));else if(3===this.tracking){let i=t.filter((t=>!0===t.toggled));(!1===e.toggled||i.length>0)&&(e.mixed?e.mixed=!1:e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e})))}}}_t(t){let{key:e}=t;if("ArrowRight"===e){let t=[...this.children].find((t=>t.matches(":focus")));t&&(t.nextElementSibling?t.nextElementSibling.focus():t!==t.parentElement.firstElementChild&&t.parentElement.firstElementChild.focus())}else if("ArrowLeft"===e){let t=[...this.children].find((t=>t.matches(":focus")));t&&(t.previousElementSibling?t.previousElementSibling.focus():t!==t.parentElement.lastElementChild&&t.parentElement.lastElementChild.focus())}}}customElements.define("x-buttons",ot);class lt extends HTMLElement{static _shadowTemplate=R`
    <template>
      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:100%;min-width:20px;min-height:48px;box-sizing:border-box;margin:30px 0}:host([hidden]){display:none}`;_shadowRoot=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[lt._shadowStyleSheet],this._shadowRoot.append(document.importNode(lt._shadowTemplate.content,!0))}}customElements.define("x-card",lt);class at extends HTMLElement{static observedAttributes=["toggled","disabled","size"];static _shadowTemplate=R`
    <template>
      <main id="main">
        <div id="indicator" part="indicator">
          <div id="ripples"></div>

          <svg id="checkmark" viewBox="0 0 100 100" preserveAspectRatio="none">
            <path></path>
          </svg>
        </div>

        <div id="description">
          <slot></slot>
        </div>
      </main>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:fit-content;--trigger-effect:none}:host([disabled]){opacity:.4;pointer-events:none}:host([hidden]){display:none}:host(:focus){outline:0}#main{display:flex;align-items:center}#indicator{position:relative;width:19px;height:19px;box-sizing:border-box;border:2px solid currentColor;d:path("M 0 0 L 100 0 L 100 100 L 0 100 L 0 0 Z M 95 23 L 86 13 L 37 66 L 13.6 41 L 4.5 51 L 37 85 L 95 23 Z")}:host([mixed]) #indicator{d:path("M 0 0 L 100 0 L 100 100 L 0 100 Z M 87 42.6 L 13 42.6 L 13 57.4 L 87 57.4 Z")}#checkmark{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;d:inherit;transition-property:opacity;transition-timing-function:inherit;transition-duration:inherit}:host([mixed]) #checkmark{opacity:1}:host([toggled]) #checkmark{opacity:1}#checkmark path{fill:currentColor;d:inherit}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}#ripples .ripple{position:absolute;top:0;left:0;width:100%;height:100%;background:currentColor;opacity:.15;z-index:-1;will-change:opacity,transform;border-radius:999px;transform:scale(2.6)}#description{flex:1}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};zt=0;B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[at._shadowStyleSheet],this._shadowRoot.append(document.importNode(at._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("pointerdown",(t=>this.kt(t))),this.addEventListener("click",(t=>this.N(t))),this.addEventListener("keydown",(t=>this._t(t)))}connectedCallback(){F.addEventListener("sizechange",this.B=()=>this.U()),this.St(),this.U()}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"toggled"===t?this.qt():"disabled"===t?this.Ut():"size"===t&&this.U()}St(){this.setAttribute("role","checkbox"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0)}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}qt(){this.setAttribute("aria-toggled",this.mixed?"mixed":this.toggled)}Ut(){this.St()}kt(t){if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();let e=W(this.parentNode,"[tabindex]");e&&e.focus()}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let e=G("div");e.setAttribute("class","ripple pointer-down-ripple"),this.I.ripples.append(e);let i=e.animate({transform:["scale(0)","scale(2.6)"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",(async()=>{await i.finished;let t=e.animate({opacity:[getComputedStyle(e).opacity,"0"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await t.finished,e.remove()}),{once:!0})}}else t.preventDefault()}async N(t){if(this.mixed?this.mixed=!1:this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0})),null===this.I.ripples.querySelector(".pointer-down-ripple")){if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let t=G("div");t.setAttribute("class","ripple"),this.I.ripples.append(t),await t.animate({transform:["scale(0)","scale(2.6)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,await t.animate({opacity:[getComputedStyle(t).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,t.remove()}}}_t(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click())}}customElements.define("x-checkbox",at);class rt extends HTMLElement{static observedAttributes=["value","disabled","size"];static _shadowTemplate=R`
    <template>
      <input tabindex="-1" id="input" type="color" value="#ffffff">
      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:32px;height:32px;box-sizing:border-box;position:relative;overflow:hidden;background-color:#fff;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([hidden]){display:none}:host([disabled]){pointer-events:none;opacity:.4}::slotted(x-popover){width:190px;height:auto;padding:12px 12px}#input{display:flex;width:100%;height:100%;box-sizing:border-box;border:none;background:0 0;padding:0;opacity:0;-webkit-appearance:none}#input::-webkit-color-swatch-wrapper{padding:0}#input::-webkit-color-swatch{border:none}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"#ffffff"}set value(t){this.setAttribute("value",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};jt=!1;vt=!1;B=null;zt=0;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[rt._shadowStyleSheet],this._shadowRoot.append(document.importNode(rt._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("click",(t=>this.N(t))),this.addEventListener("keydown",(t=>this._t(t))),this.addEventListener("pointerdown",(t=>this.kt(t))),this.addEventListener("change",(t=>this.Kt(t))),this.I.input.addEventListener("change",(t=>this.Xt(t)))}connectedCallback(){let t=this.querySelector("x-wheelcolorpicker, x-rectcolorpicker, x-barscolorpicker");t&&t.setAttribute("value",S(this.value,"rgba")),this.St(),this.U(),this.Vt(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"value"===t?this.ot():"disabled"===t?this.Ut():"size"===t&&this.lt()}async Zt(){if(!1===this.hasAttribute("expanded")){let t=this.querySelector("x-popover");t&&(this.vt=this.matches(":focus"),this.setAttribute("expanded",""),await t.open(this),t.focus())}}async Gt(t=null){if(this.hasAttribute("expanded")){let t=this.querySelector("x-popover");if(t){if(t.setAttribute("closing",""),await t.close(),this.removeAttribute("expanded"),this.vt)this.focus();else{let t=W(this.parentNode,"[tabindex]");t&&t.focus()}t.removeAttribute("closing")}}}Vt(){let[t,e,i,s]=(new D).parse(this.value,"rgba");this.I.input.value=C([t,e,i,s],"rgba","hex"),this.I.input.style.opacity=s}St(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0)}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}ot(){this.jt||this.Vt();let t=[...this.querySelectorAll("*")].find((t=>t.localName.endsWith("colorpicker")));t&&t.getAttribute("value")!==this.getAttribute("value")&&t.setAttribute("value",this.getAttribute("value"))}Ut(){this.St()}lt(){this.U()}Kt(t){t.target!==this&&(this.value=S(t.target.value,"rgba"),this.Vt())}Xt(){!1===this.jt&&(this.jt=!0,this.dispatchEvent(new CustomEvent("changestart"))),this.value=this.I.input.value,this.dispatchEvent(new CustomEvent("change")),this.Yt()}Yt=it((()=>{this.jt&&(this.jt=!1,this.value=this.I.input.value,this.dispatchEvent(new CustomEvent("changeend")))}),400);kt(t){t.target===this&&t.preventDefault()}N(t){let e=this.querySelector(":scope > x-popover");e&&(e.opened?(!1===e.modal&&t.target===this||!0===e.modal&&"x-backdrop"===t.target.localName)&&(t.preventDefault(),this.Gt()):(t.preventDefault(),this.Zt()))}_t(t){if("Enter"===t.code||"Space"===t.code){let e=this.querySelector("x-popover");t.preventDefault(),t.stopPropagation(),e?this.hasAttribute("expanded")?this.Gt():this.Zt():this.I.input.click()}else if("Escape"===t.code){this.querySelector("x-popover")&&this.hasAttribute("expanded")&&(t.preventDefault(),this.Gt())}else"Tab"===t.code&&this.hasAttribute("expanded")&&t.preventDefault()}}customElements.define("x-colorselect",rt);class dt extends HTMLElement{static _shadowTemplate=R`
    <template>
      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;position:fixed;width:0;height:0;z-index:1001}`;get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}_shadowRoot=null;I={};Wt=null;Jt=null;Qt=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[dt._shadowStyleSheet],this._shadowRoot.append(document.importNode(dt._shadowTemplate.content,!0)),this.I.backdrop=G("x-backdrop"),this.I.backdrop.style.background="rgba(0, 0, 0, 0)",this.I.backdrop.addEventListener("contextmenu",(t=>this.te(t))),this.I.backdrop.addEventListener("pointerdown",(t=>this.Ot(t))),this.addEventListener("blur",(t=>this.ee())),this.addEventListener("keydown",(t=>this._t(t)),!0),this.addEventListener("click",(t=>this.N(t)))}connectedCallback(){this.Wt=this.parentElement||this.parentNode.host,window.addEventListener("blur",this.Jt=()=>{this.ee()}),this.Wt.addEventListener("contextmenu",this.Qt=t=>{this.ie(t)})}disconnectedCallback(){window.removeEventListener("blur",this.Jt),this.Wt.removeEventListener("contextmenu",this.Qt),this.Wt=null}open(t,e){let i=this.querySelector("x-menu");!1===i.opened&&(i.openAtPoint(t,e),this.I.backdrop.ownerElement=i,this.I.backdrop.show(!1),i.focus())}close(){return new Promise((async t=>{let e=this.querySelector("x-menu");if(e&&!0===e.opened){await e.close(),this.I.backdrop.hide(!1);let t=W(this.parentNode,"[tabindex]");t&&t.focus()}t()}))}ee(){this.close()}ie(t){!1===this.disabled&&(t.preventDefault(),this.open(t.clientX,t.clientY))}te(t){t.preventDefault(),t.stopImmediatePropagation(),this.close().then((()=>{let e=Y(t.clientX,t.clientY,!0),i=new MouseEvent(t.type,t);e.dispatchEvent(i)}))}Ot(t){1===t.buttons&&(t.preventDefault(),t.stopImmediatePropagation(),this.close())}async N(t){let e=t.target.closest("x-menuitem");if(e&&!1===e.disabled){let t=e.querySelector("x-menu");t?t.opened?t.close():t.openNextToElement(e,"horizontal"):(this.setAttribute("closing",""),await e.whenTriggerEnd,await this.close(),this.removeAttribute("closing"))}}_t(t){if("Escape"===t.key){this.querySelector("x-menu").opened&&(t.preventDefault(),this.close())}else if("Tab"===t.key){t.preventDefault(),t.stopPropagation(),this.querySelector("x-menu").focusNextMenuItem()}}}customElements.define("x-contextmenu",dt);let{max:ut}=Math;class ct extends HTMLElement{static observedAttributes=["selected","disabled","size"];static _shadowTemplate=R`
    <template>
      <div id="ripples"></div>
      <div id="selection-indicator" part="selection-indicator"></div>

      <slot></slot>

      <svg id="close-button" part="close-button" viewBox="0 0 100 100" preserveAspectRatio="none">
        <path id="close-button-path"></path>
      </svg>
    </template>
  `;static _shadowStyleSheet=I`:host{display:flex;align-items:center;justify-content:center;position:relative;width:100%;height:100%;min-width:1px;max-width:220px;padding:0 18px;flex:1 0 0;transition-property:max-width,padding,order;transition-duration:.15s;transition-timing-function:cubic-bezier(0.4,0.0,0.2,1);cursor:default;user-select:none;touch-action:pan-y;box-sizing:border-box;will-change:max-width;z-index:0;-webkit-app-region:no-drag;--trigger-effect:none}:host(:focus){outline:0}:host([closing]){pointer-events:none}:host([selected]){z-index:1}:host([disabled]){pointer-events:none;opacity:.5}#close-button{display:flex;align-items:center;justify-content:center;position:static;left:0;right:initial;width:18px;height:18px;margin:0 0 0 auto;opacity:.8;padding:1px;d:path("M 74 31 L 69 26 L 50 45 L 31 26 L 26 31 L 45 50 L 26 69 L 31 74 L 50 55 L 69 74 L 74 69 L 55 50 Z")}:host([edited]) #close-button{d:path("M 68 50 C 68 60 60 68 50 68 C 40 68 32 60 32 50 C 32 40 40 32 50 32 C 60 32 68 40 68 50 Z")}#close-button:hover{background:rgba(0,0,0,.08);opacity:1}#close-button-path{pointer-events:none;d:inherit;fill:currentColor}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;z-index:-1;contain:strict}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;will-change:opacity,transform;pointer-events:none}#selection-indicator{display:none;position:absolute;bottom:0;left:0;width:100%;height:0;pointer-events:none}:host([selected]) #selection-indicator{display:block}:host([animatingindicator]) #selection-indicator{display:block}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):""}set value(t){this.setAttribute("value",t)}get selected(){return this.hasAttribute("selected")}set selected(t){t?this.setAttribute("selected",""):this.removeAttribute("selected")}get edited(){return this.hasAttribute("edited")}set edited(t){t?this.setAttribute("edited",""):this.removeAttribute("edited")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}get ownerTabs(){return this.closest("x-doctabs")}_shadowRoot=null;I={};B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[ct._shadowStyleSheet],this._shadowRoot.append(document.importNode(ct._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("pointerdown",(t=>this.kt(t))),this.addEventListener("click",(t=>this.N(t))),this.I["close-button"].addEventListener("pointerdown",(t=>this.se(t))),this.I["close-button"].addEventListener("click",(t=>this.he(t)))}connectedCallback(){this.St(),this.U(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t,e,i){e!==i&&("selected"===t||"disabled"===t?this.St():"size"===t&&this.U())}animateSelectionIndicator(t){return new Promise((async e=>{if("0px"!==this.I["selection-indicator"].style.height){let e=this.getBoundingClientRect(),i=t.getBoundingClientRect();this.setAttribute("animatingindicator","");let s=this.I["selection-indicator"].animate([{left:"0px",width:e.width+"px"},{left:i.left-e.left+"px",width:i.width+"px"}],{duration:100,iterations:1,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"});await s.finished,this.removeAttribute("animatingindicator")}e()}))}St(){this.setAttribute("tabindex",this.selected?"0":"-1"),this.setAttribute("role","tab"),this.setAttribute("aria-selected",this.selected),this.setAttribute("aria-disabled",this.disabled)}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}kt(t){if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();let e=W(this.parentNode,"[tabindex]");e&&e.focus()}{let e=Date.now();this.setAttribute("pressed",""),this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",(async t=>{if(!0===this.selected){let t=Date.now()-e,i=100;t<i&&await Q(i-t)}this.removeAttribute("pressed")}),{once:!0})}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let e=this.I.ripples.getBoundingClientRect(),i=1.5*ut(e.width,e.height),s=t.clientY-e.y-i/2,h=t.clientX-e.x-i/2,n=G("div");n.setAttribute("class","ripple pointer-down-ripple"),n.setAttribute("style",`width: ${i}px; height: ${i}px; top: ${s}px; left: ${h}px;`),this.I.ripples.append(n);let o=n.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.ownerTabs.setPointerCapture(t.pointerId),this.ownerTabs.addEventListener("lostpointercapture",(async()=>{await o.finished;let t=getComputedStyle(n).opacity,e=n.animate({opacity:[t,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await e.finished,n.remove()}),{once:!0})}}else t.preventDefault()}async N(t){if(0===t.button&&null===this.I.ripples.querySelector(".pointer-down-ripple")){if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let t=this.I.ripples.getBoundingClientRect(),e=1.5*ut(t.width,t.height),i=t.y+t.height/2-t.y-e/2,s=t.x+t.width/2-t.x-e/2,h=G("div");h.setAttribute("class","ripple click-ripple"),h.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.I.ripples.append(h);let n=h.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await n.finished;let o=getComputedStyle(h).opacity,l=h.animate({opacity:[o,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await l.finished,h.remove()}}}se(t){if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();let e=W(this.parentNode,"[tabindex]");e&&e.focus()}t.stopPropagation()}}he(t){if(0!==t.button)return;t.stopPropagation();let e=new CustomEvent("close",{bubbles:!0,cancelable:!0,detail:this});this.dispatchEvent(e),!1===e.defaultPrevented&&this.ownerTabs.closeTab(this)}}customElements.define("x-doctab",ct);let{parseInt:pt}=Number;class mt extends HTMLElement{static observedAttributes=["size"];static _shadowTemplate=R`
    <template>
      <slot></slot>

      <svg id="open-button" part="open-button" viewBox="0 0 100 100" preserveAspectRatio="none">
        <path id="open-button-path"></path>
      </svg>
    </template>
  `;static _shadowStyleSheet=I`:host{display:flex;align-items:center;width:100%;height:32px;position:relative}:host(:focus){outline:0}:host([disabled]){opacity:.5;pointer-events:none}#open-button{display:flex;align-items:center;justify-content:center;width:18px;height:18px;margin:0 4px;order:9999;color:inherit;d:path("M 79 54 L 54 54 L 54 79 L 46 79 L 46 54 L 21 54 L 21 46 L 46 46 L 46 21 L 54 21 L 54 46 L 79 46 L 79 54 Z");-webkit-app-region:no-drag}#open-button-path{d:inherit;fill:currentColor}`;get disabled(){return this.hasAttribute("disabled")}set disabled(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get maxTabs(){return this.hasAttribute("maxtabs")?pt(this.getAttribute("maxtabs")):20}set maxTabs(t){this.setAttribute("maxtabs",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};B=null;ne=!1;oe=!1;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed",delegatesFocus:!1}),this._shadowRoot.adoptedStyleSheets=[mt._shadowStyleSheet],this._shadowRoot.append(document.importNode(mt._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("pointerdown",(t=>this.kt(t))),this.addEventListener("keydown",(t=>this._t(t))),this.I["open-button"].addEventListener("click",(t=>this.le(t)))}connectedCallback(){this.U(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t,e,i){e!==i&&"size"===t&&this.U()}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}openTab(t,e=!0){return new Promise((async(i,s)=>{if(this.querySelectorAll("x-doctab").length>=this.maxTabs)s(`Can't open more than ${this.maxTabs} tabs.`);else{let s=0;for(let t of this.children){let e=pt(t.style.order);!Number.isNaN(e)&&e>s&&(s=e)}t.style.order=s,!1===e?(t.style.transition="none",t.style.maxWidth=null,t.style.padding=null,this.append(t),i(t)):!0===e&&(t.style.transition=null,t.style.maxWidth="0px",t.style.padding="0px",t.setAttribute("opening",""),this.append(t),await Q(30),t.addEventListener("transitionend",(()=>{t.removeAttribute("opening"),i(t)}),{once:!0}),t.style.maxWidth=null,t.style.padding=null)}}))}closeTab(t,e=!0){return new Promise((async i=>{let s=this.getTabsByScreenIndex().filter((t=>!1===t.hasAttribute("closing"))),h=t.getBoundingClientRect().width,n=this.ae(t);if(t.setAttribute("closing",""),n<s.length-1)for(let t of this.children)!1===t.hasAttribute("closing")&&(t.style.transition="none",t.style.maxWidth=h+"px");if(t.style.transition=e?null:"none",t.style.maxWidth="0px",t.style.pointerEvents="none",this.ne=!0,t.selected){let e=s[s.indexOf(t)-1],i=s[s.indexOf(t)+1];t.selected=!1,i?i.selected=!0:e&&(e.selected=!0)}if(t.matches(":focus")){let t=this.querySelector("x-doctab[selected]");t?t.focus():this.focus()}if(t.style.maxWidth="0px",t.style.padding="0px",e&&await Q(150),t.remove(),this.ne=!1,t.removeAttribute("closing"),i(),!this.oe){this.oe=!0,await this.re(3),this.oe=!1;for(let t of this.children)t.style.transition=null,t.style.maxWidth=null,t.style.order=this.ae(t)}}))}selectPreviousTab(){this.getTabsByScreenIndex();let t=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab"),e=this.de(t);return t&&e?(this.selectTab(e),e):null}selectNextTab(){this.getTabsByScreenIndex();let t=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab:last-of-type"),e=this.ue(t);return t&&e?(this.selectTab(e),e):null}selectTab(t){let e=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab:last-of-type");e&&(e.tabIndex=-1,e.selected=!1),t.tabIndex=0,t.selected=!0}moveSelectedTabLeft(){let t=this.querySelector("x-doctab[selected]"),e=this.ae(t);for(let t of this.children)t.style.order=this.ae(t);if(0===pt(t.style.order))for(let e of this.children)e.style.order=e===t?this.childElementCount-1:pt(e.style.order)-1;else{let i=this.ce(e-1);i.style.order=pt(i.style.order)+1,t.style.order=pt(t.style.order)-1}}moveSelectedTabRight(){let t=this.querySelector("x-doctab[selected]"),e=this.ae(t);for(let t of this.children)t.style.order=this.ae(t);if(pt(t.style.order)===this.childElementCount-1)for(let e of this.children)e.style.order=e===t?0:pt(e.style.order)+1;else{let i=this.ce(e+1);i.style.order=pt(i.style.order)-1,t.style.order=pt(t.style.order)+1}}re(t=3){return new Promise((e=>{let i,s,h,n=null,o=()=>{window.removeEventListener("pointermove",i),window.removeEventListener("pointerout",s),window.removeEventListener("blur",h)};window.addEventListener("pointermove",i=i=>{if(null===n)n={x:i.clientX,y:i.clientY};else{let s={x:i.clientX,y:i.clientY};r(n,s)>=t&&(o(),e())}}),window.addEventListener("pointerout",s=t=>{null===t.toElement&&(o(),e())}),window.addEventListener("blur",h=()=>{o(),e()})}))}getTabsByScreenIndex(){let t=Symbol();for(let e of this.children)e[t]=this.ae(e);return[...this.children].sort(((e,i)=>e[t]>i[t]))}ae(t){let e=t.getBoundingClientRect(),i=this.getBoundingClientRect();if(e.left-i.left<e.width/2)return 0;{let t=e.width/2;for(let s=1;s<this.maxTabs;s+=1){if(e.left-i.left>=t&&e.left-i.left<t+e.width)return s>this.childElementCount-1?this.childElementCount-1:s;t+=e.width}}}ce(t){for(let e of this.children)if(this.ae(e)===t)return e;return null}de(t,e=!0,i=!0){let s=this.getTabsByScreenIndex(),h=s.indexOf(t),n=null;for(let t=h-1;t>=0;t-=1){let i=s[t];if(!e||!i.disabled){n=i;break}}if(i&&null===n)for(let t=s.length-1;t>h;t-=1){let i=s[t];if(!e||!i.disabled){n=i;break}}return n}ue(t,e=!0,i=!0){let s=this.getTabsByScreenIndex(),h=s.indexOf(t),n=null;for(let t=h+1;t<s.length;t+=1){let i=s[t];if(!e||!i.disabled){n=i;break}}if(i&&null===n)for(let t=0;t<h;t+=1){let i=s[t];if(!e||!i.disabled){n=i;break}}return n}kt(t){1===t.buttons&&!this.ne&&t.target.closest("x-doctab")&&this.pe(t)}async pe(t){if(!1===t.isPrimary)return;let e,i,s=t.target.closest("x-doctab"),h=this.querySelector("x-doctab[selected]");h!==s&&(h?h.animateSelectionIndicator(s).then((()=>{this.selectTab(s),this.dispatchEvent(new CustomEvent("select",{detail:s}))})):(this.selectTab(s),this.dispatchEvent(new CustomEvent("select",{detail:s})))),this.setPointerCapture(t.pointerId);let n=new DOMPoint(t.clientX,t.clientY);this.addEventListener("pointermove",e=h=>{let o=new DOMPoint(h.clientX,h.clientY),l=h.timeStamp-t.timeStamp,a=r(n,o)>3||l>80;h.isPrimary&&a&&(this.removeEventListener("pointermove",e),this.removeEventListener("lostpointercapture",i),this.me(t,s))}),this.addEventListener("lostpointercapture",i=()=>{this.removeEventListener("pointermove",e),this.removeEventListener("lostpointercapture",i)})}me(t,e){let i=e.getBoundingClientRect(),s=this.getBoundingClientRect(),h=Symbol(),n=Symbol(),o=Symbol();e.style.zIndex=999,this.I["open-button"].style.setProperty("opacity","0","important");for(let t of this.children){let i=this.ae(t);t[n]=i,t[h]=i,t[o]=t.getBoundingClientRect().left-s.left,t!==e&&(t.style.transition="transform 0.15s cubic-bezier(0.4, 0, 0.2, 1)")}let l=(t,s)=>{if(s>t+1)for(let e=t;e<s;e+=1)l(e,e+1);else if(s<t-1)for(let e=t;e>s;e-=1)l(e,e-1);else for(let h of this.children)if(h!==e){h[n]===s&&(h[n]=t);let e=-h[o];for(let t=0;t<h[n];t+=1)e+=i.width;h.style.transform=0===e?null:"translate("+e+"px)"}},a=h=>{if(h.isPrimary){let a=h.clientX-t.clientX;a+e[o]<=0?a=-e[o]:a+e[o]+i.width>s.width&&(a=s.width-e[o]-i.width),e.style.transform="translate("+a+"px)";let r=this.ae(e);if(r!==e[n]){let t=e[n];e[n]=r,l(t,e[n])}}},r=async t=>{this.removeEventListener("pointermove",a),this.removeEventListener("lostpointercapture",r);let s=-e[o];for(let t=0;t<e[n];t+=1)s+=i.width;e.style.transition="transform 0.15s cubic-bezier(0.4, 0, 0.2, 1)",e.style.transform="translate("+s+"px)",e[h]!==e[n]&&this.dispatchEvent(new CustomEvent("rearrange")),await Q(150),e.style.zIndex=null,this.I["open-button"].style.opacity=null;for(let t of this.children)t.style.transition="none",t.style.transform="translate(0px, 0px)",t.style.order=t[n]};this.addEventListener("pointermove",a),this.addEventListener("lostpointercapture",r)}le(t){if(0===t.button){let t=new CustomEvent("open",{cancelable:!0});if(this.dispatchEvent(t),!1===t.defaultPrevented){let t=R`<x-doctab><x-label>Untitled</x-label></x-doctab>`;t.style.order=this.childElementCount,this.openTab(t),this.selectTab(t)}}}_t(t){if(!(t.ctrlKey||t.altKey||t.metaKey||t.shiftKey))if("Enter"===t.code||"Space"===t.code){let e=this.querySelector('x-doctab[tabindex="0"]'),i=this.querySelector("x-doctab[selected]");t.preventDefault(),e.click(),e!==i&&(i?i.animateSelectionIndicator(e).then((()=>{this.selectTab(e),this.dispatchEvent(new CustomEvent("select",{detail:e}))})):(this.selectTab(e),this.dispatchEvent(new CustomEvent("select",{detail:e}))))}else if("ArrowLeft"===t.code){this.getTabsByScreenIndex();let e=this.querySelector('x-doctab[tabindex="0"]'),i=this.de(e);i&&(t.preventDefault(),e.tabIndex=-1,i.tabIndex=0,i.focus())}else if("ArrowRight"===t.code){this.getTabsByScreenIndex();let e=this.querySelector('x-doctab[tabindex="0"]'),i=this.ue(e);i&&(t.preventDefault(),e.tabIndex=-1,i.tabIndex=0,i.focus())}}}customElements.define("x-doctabs",mt);class bt extends HTMLElement{static observedAttributes=["name","iconset","size"];static _shadowTemplate=R`
    <template>
      <svg id="svg" preserveAspectRatio="none" viewBox="0 0 100 100" width="0px" height="0px"></svg>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;color:currentColor;display:flex;align-items:center;justify-content:center;width:17px;height:17px}:host([disabled]){opacity:.5}:host([hidden]){display:none}#svg{width:100%;height:100%;fill:currentColor;stroke:none;overflow:inherit;pointer-events:none}`;get name(){return this.hasAttribute("name")?this.getAttribute("name"):""}set name(t){this.setAttribute("name",t)}get iconset(){return!1===this.hasAttribute("iconset")||""===this.getAttribute("iconset").trim()?null:this.getAttribute("iconset")}set iconset(t){null===t||""===t.trim()?this.removeAttribute("iconset"):this.setAttribute("iconset",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};be=null;B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[bt._shadowStyleSheet],this._shadowRoot.append(document.importNode(bt._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t}connectedCallback(){F.addEventListener("iconsetchange",this.be=()=>{this.nt()}),F.addEventListener("sizechange",this.B=()=>{this.U()}),this.nt(),this.U()}disconnectedCallback(){F.removeEventListener("iconsetchange",this.be),F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t,e,i){e!==i&&("name"===t||"iconset"===t?this.nt():"size"===t&&this.U())}async nt(){if(""===this.name)this.I.svg.innerHTML="";else{let t=null;if(this.iconset){let e=await H(this.iconset);e&&(t=e.querySelector("#"+CSS.escape(this.name)))}else await F.whenIconsetReady,t=F.iconsetElement.querySelector("#"+CSS.escape(this.name));t?(this.I.svg.setAttribute("viewBox",t.getAttribute("viewBox")),this.I.svg.innerHTML=t.innerHTML):this.I.svg.innerHTML=""}}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}}customElements.define("x-icon",bt);class gt extends HTMLElement{static observedAttributes=["type","value","spellcheck","maxlength","readonly","disabled","validation","size"];static _shadowTemplate=R`
    <template>
      <main id="main">
        <slot></slot>
        <input id="input" spellcheck="false" part="input"></input>
      </main>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;position:relative;max-width:160px;height:32px;box-sizing:border-box;background:#fff;font-size:12.5px}:host(:focus){z-index:10}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{display:flex;align-items:center;width:100%;height:100%}#input{width:100%;height:100%;padding:0 6px;box-sizing:border-box;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;font-weight:inherit;text-align:inherit;cursor:inherit}#input:-webkit-autofill{z-index:1}#input:-internal-autofill-previewed,#input:-internal-autofill-selected{-webkit-box-shadow:var(--autofill-background-color) 0 0 0 30px inset}:host(:not(:focus)) ::selection{color:inherit;background:0 0}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}`;get type(){return this.hasAttribute("type")?this.getAttribute("type"):"text"}set type(t){this.setAttribute("type",t)}get value(){return this.I.input.value}set value(t){this.I.input.value!==t&&(this.matches(":focus")?(this.I.input.selectionStart=0,this.I.input.selectionEnd=this.I.input.value.length,document.execCommand("insertText",!1,t)):this.I.input.value=t,"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),this.ge())}get spellcheck(){return this.hasAttribute("spellcheck")}set spellcheck(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck")}get minLength(){return this.hasAttribute("minlength")?parseInt(this.getAttribute("minlength")):0}set minLength(t){this.setAttribute("minlength",t)}get maxLength(){return this.hasAttribute("maxlength")?parseInt(this.getAttribute("maxlength")):Infinity}set maxLength(t){this.setAttribute("maxlength",t)}get required(){return this.hasAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get readOnly(){return this.hasAttribute("readonly")}set readOnly(t){!0===t?this.setAttribute("readonly",t):this.removeAttribute("readonly")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get validation(){return this.hasAttribute("validation")?this.getAttribute("validation"):"auto"}set validation(t){this.setAttribute("validation",t)}get error(){return this.getAttribute("error")}set error(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};zt=0;B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed",delegatesFocus:!0}),this._shadowRoot.adoptedStyleSheets=[gt._shadowStyleSheet],this._shadowRoot.append(document.importNode(gt._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("focusin",(t=>this.xe(t))),this.addEventListener("focusout",(t=>this.fe(t))),this.addEventListener("keydown",(t=>this._t(t))),this.I.input.addEventListener("change",(t=>this.Xt(t))),this.I.input.addEventListener("input",(t=>this.we(t))),this.I.input.addEventListener("search",(t=>this.ve(t)))}connectedCallback(){this.St(),this.U(),this.ge(),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"type"===t?this.ye():"value"===t?this.ot():"spellcheck"===t?this.ze():"maxlength"===t?this.ke():"readonly"===t?this._e():"disabled"===t?this.Ut():"validation"===t?this.Ce():"size"===t&&this.Se()}validate(){this.value.length<this.minLength?this.error="Entered text is too short":this.value.length>this.maxLength?this.error="Entered text is too long":this.required&&0===this.value.length?this.error="This field is required":"email"===this.type&&!1===this.I.input.validity.valid?this.error="Invalid e-mail address":"url"===this.type&&!1===this.I.input.validity.valid?this.error="Invalid URL":"color"===this.type&&!1===A(this.I.input.value)?this.error="Invalid color":this.error=null}selectAll(){this.I.input.select()}clear(){this.value="",this.error=null}ge(){0===this.value.length?this.setAttribute("empty",""):this.removeAttribute("empty")}St(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.setAttribute("aria-readonly",this.readOnly),this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0)}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}ye(){"color"===this.type?this.I.input.type="text":this.I.input.type=this.type}ot(){this.value=this.hasAttribute("value")?this.getAttribute("value"):"",this.matches(":focus")&&this.selectAll()}ze(){this.I.input.spellcheck=this.spellcheck}ke(){this.I.input.maxLength=this.maxLength}_e(){this.I.input.readOnly=this.readOnly,this.St()}Ut(){this.I.input.disabled=this.disabled,this.St()}Ce(){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate()}Se(){this.U()}xe(){this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}))}fe(){this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),"auto"===this.validation&&this.validate()}_t(t){"Enter"===t.key&&(document.execCommand("selectAll"),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate())}we(t){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),t.stopPropagation(),this.ge(),this.dispatchEvent(new CustomEvent("input",{bubbles:!0}))}Xt(){"search"!==this.type&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}ve(){this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}}customElements.define("x-input",gt);class xt extends HTMLElement{static _shadowTemplate=R`
    <template>
      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;line-height:1.2;user-select:none;box-sizing:border-box}:host([disabled]){opacity:.5}:host([hidden]){display:none}slot{text-decoration:inherit}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}_shadowRoot=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[xt._shadowStyleSheet],this._shadowRoot.append(document.importNode(xt._shadowTemplate.content,!0))}}customElements.define("x-label",xt);let{abs:ft}=Math;const wt=7;class vt extends HTMLElement{static observedAttributes=["opened"];static _shadowTemplate=R`
    <template>
      <slot id="slot"></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{display:none;top:0;left:0;width:fit-content;padding:4px 0;z-index:1001;box-sizing:border-box;background:#fff;cursor:default;overflow:auto;flex-direction:column;-webkit-app-region:no-drag;--align:start;--scrollbar-background:rgba(0, 0, 0, 0.2);--scrollbar-width:6px;--open-transition:100 transform cubic-bezier(0.4, 0, 0.2, 1);--close-transition:200 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host([animating]),:host([opened]){display:flex}:host(:focus){outline:0}:host-context([debug]):host(:focus){outline:2px solid red}::-webkit-scrollbar{max-width:var(--scrollbar-width);background:0 0}::-webkit-scrollbar-thumb{background-color:var(--scrollbar-background)}::-webkit-scrollbar-corner{display:none}`;get opened(){return this.hasAttribute("opened")}_shadowRoot=null;I={};Ee=[];Ae=null;Le=null;Te=0;Me=0;De=!1;$e=!1;Pe=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[vt._shadowStyleSheet],this._shadowRoot.append(document.importNode(vt._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("pointerdown",(t=>this.kt(t))),this.addEventListener("pointerover",(t=>this.Re(t))),this.addEventListener("pointerout",(t=>this.Ie(t))),this.addEventListener("pointermove",(t=>this.Oe(t))),this.addEventListener("keydown",(t=>this._t(t))),this.addEventListener("wheel",(t=>this.Be(t)),{passive:!1}),this.addEventListener("scroll",(t=>this.He(t)),{passive:!0})}connectedCallback(){this.setAttribute("role","menu"),this.setAttribute("aria-hidden",!this.opened),this.setAttribute("tabindex","0")}attributeChangedCallback(t){"opened"===t&&this.Fe()}openOverElement(t,e){return new Promise((async i=>{let s=this.querySelectorAll(":scope > x-menuitem");if(s.length>0){this.De=!0,this.Pe=tt(),this.Ne(),this.setAttribute("opened","");let i=[...s].find((t=>t.contains(e)))||s[0],h=this.getBoundingClientRect(),n=t.getBoundingClientRect(),o=e.getBoundingClientRect(),l=0,a=0;i.focus(),0===h.top&&0===h.left||(l=-h.left,a=-h.top),this.style.left=n.x-(o.x-h.x)+l+"px",this.style.top=n.y-(o.y-h.y)+a+"px",h=this.getBoundingClientRect(),h.left<7&&(this.style.left=7+l+"px",h=this.getBoundingClientRect());7-h.top>0&&(this.style.height=h.bottom-7+"px",this.style.top=7+a+"px",this.scrollTop=9999,h=this.getBoundingClientRect());if(h.bottom+7>window.innerHeight){let t=h.bottom-window.innerHeight,e=h.height-t-7;this.style.height=e+"px"}if(h.right+7>window.innerWidth){let t=h.right-window.innerWidth,e=h.width-t-7;this.style.width=`${e}px`}{let t=getComputedStyle(this).getPropertyValue("--open-transition"),[e,i,s]=this.qe(t);if("transform"===e){let t=this.getBoundingClientRect(),e=n.y+n.height/2-t.top;await this.animate({transform:["scaleY(0)","scaleY(1)"],transformOrigin:[`0 ${e}px`,`0 ${e}px`]},{duration:i,easing:s}).finished}}this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this})),this.Me=a}i()}))}openOverLabel(t){return new Promise((async e=>{let i=this.querySelectorAll(":scope > x-menuitem");if(i.length>0){this.Ne(),this.setAttribute("opened",""),this.De=!0,this.Pe=tt();let e=[...i].find((e=>{let i=e.querySelector("x-label");return!(!i||i.textContent!==t.textContent)}));e||(e=i[0]);let s=e.querySelector("x-label");await this.openOverElement(t,s)}e()}))}openNextToElement(t,e="horizontal",i=0){return new Promise((async s=>{this.De=!1,this.Pe=tt(),this.Ne(),this.setAttribute("opened",""),this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this})),"x-menuitem"===t.localName&&t.setAttribute("expanded","");let h=getComputedStyle(this).getPropertyValue("--align").trim(),n=t.getBoundingClientRect(),o=this.getBoundingClientRect(),l=0,a=0;if(0===o.top&&0===o.left||(l=-o.left,a=-o.top),"horizontal"===e){this.style.top=n.top+a+"px",this.style.left=n.left+n.width+i+l+"px";let t="right";{let t=this.getBoundingClientRect();t.width>window.innerWidth-10&&(this.style.width=window.innerWidth-10+"px"),t.height>window.innerHeight-10&&(this.style.height=window.innerHeight-10+"px")}{let e=this.getBoundingClientRect();e.left+e.width+7>window.innerWidth&&(n.left>e.width+7?(this.style.left=n.left-e.width+l+"px",t="left"):n.left>window.innerWidth-(n.left+n.width)?(this.style.left=7+l+"px",t="left"):(this.style.left=window.innerWidth-e.width-7+l+"px",t="right"))}{let t=this.getBoundingClientRect();if(t.top+t.height+7>window.innerHeight){let e=t.top+t.height+7-window.innerHeight;this.style.top=t.top-e+a+"px"}}{let e=getComputedStyle(this).getPropertyValue("--open-transition"),[i,s,h]=this.qe(e);"transform"===i&&await this.animate({transform:["scale(0, 0)","scale(1, 1)"],transformOrigin:["left"===t?"100% 0":"0 0","left"===t?"100% 0":"0 0"]},{duration:s,easing:h}).finished}}else if("vertical"===e){this.style.top=n.top+n.height+i+a+"px",this.style.left="0px";let e="bottom";{let t=this.getBoundingClientRect();t.width>window.innerWidth-10&&(this.style.width=window.innerWidth-10+"px"),t.height>window.innerHeight-10&&(this.style.height=window.innerHeight-10+"px")}if(t.parentElement&&"x-menubar"===t.parentElement.localName){let t=this.getBoundingClientRect();t.top+t.height+7>window.innerHeight&&(this.style.height=window.innerHeight-(n.top+n.height)-10+"px")}else{let t=this.getBoundingClientRect();t.top+t.height+7>window.innerHeight&&(n.top>t.height+7?(this.style.top=n.top-t.height-i+a+"px",e="top"):n.top>window.innerHeight-(n.top+n.height)?(this.style.top=7+a+"px",e="top"):(this.style.top=window.innerHeight-t.height-7+a+"px",e="bottom"))}if("start"===h){this.style.left=n.left+l+"px";{let t=this.getBoundingClientRect();t.left+t.width+7>window.innerWidth&&(this.style.left=n.left+n.width-t.width+l+"px")}this.getBoundingClientRect().left<7&&(this.style.left=7+l+"px")}else if("end"===h){this.style.left=n.left+n.width-o.width+l+"px";this.getBoundingClientRect().left<7&&(this.style.left=n.left+l+"px");{let t=this.getBoundingClientRect();t.left+t.width+7>window.innerWidth&&(this.style.left=window.innerWidth-7+l+"px")}}{let t=getComputedStyle(this).getPropertyValue("--open-transition"),[i,s,h]=this.qe(t);"transform"===i&&await this.animate({transform:["scale(1, 0)","scale(1, 1)"],transformOrigin:["top"===e?"0 100%":"0 0","top"===e?"0 100%":"0 0"]},{duration:s,easing:h}).finished}}this.Me=a,s()}))}openAtPoint(t,e){return new Promise((async i=>{this.De=!1,this.Pe=tt(),this.Ne(),this.setAttribute("opened",""),this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this}));let s=this.getBoundingClientRect(),h=0,n=0;0===s.top&&0===s.left||(h=-s.left,n=-s.top),this.style.left=t+h+"px",this.style.top=e+n+"px",s=this.getBoundingClientRect(),s.right+7>window.innerWidth&&(t-=s.width,this.style.left=t+h+"px",s=this.getBoundingClientRect()),s.bottom+7>window.innerHeight&&(e=e+window.innerHeight-(s.top+s.height)-7,this.style.top=e+n+"px",s=this.getBoundingClientRect(),s.top<7&&(e=7,this.style.top=e+n+"px",this.style.height=window.innerHeight-7-7+"px"));{let t=getComputedStyle(this).getPropertyValue("--open-transition"),[e,i,s]=this.qe(t);"transform"===e&&await this.animate({transform:["scale(0)","scale(1)"],transformOrigin:["0 0","0 0"]},{duration:80,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"}).finished}this.Me=n,i()}))}close(t=!0){return new Promise((async e=>{if(this.opened){this.removeAttribute("opened"),this.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:this}));let e=this.closest("x-menuitem");if(e&&e.removeAttribute("expanded"),t){this.setAttribute("animating","");let t=getComputedStyle(this).getPropertyValue("--close-transition"),[e,i,s]=this.qe(t);"opacity"===e&&await this.animate({opacity:["1","0"]},{duration:i,easing:s}).finished,this.removeAttribute("animating")}for(let t of this.querySelectorAll(":scope > x-menuitem")){let e=t.querySelector("x-menu[opened]");e&&e.close()}}e()}))}focusNextMenuItem(){let t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){let e=null;for(let i=t.nextElementSibling;i;i=i.nextElementSibling)if("x-menuitem"===i.localName&&!1===i.disabled&&!1===i.hidden){e=i;break}if(null===e&&null!=t.parentElement)for(let i of t.parentElement.children)if("x-menuitem"===i.localName&&!1===i.disabled&&!1===i.hidden){e=i;break}if(e){e.focus();let i=t.querySelector("x-menu");i&&i.close()}}else this.focusFirstMenuItem()}focusPreviousMenuItem(){let t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){let e=null;for(let i=t.previousElementSibling;i;i=i.previousElementSibling)if("x-menuitem"===i.localName&&!1===i.disabled&&!1===i.hidden){e=i;break}if(null===e&&null!=t.parentElement)for(let i of[...t.parentElement.children].reverse())if("x-menuitem"===i.localName&&!1===i.disabled&&!1===i.hidden){e=i;break}if(e){e.focus();let i=t.querySelector("x-menu");i&&i.close()}}else this.focusLastMenuItem()}focusFirstMenuItem(){let t=this.querySelectorAll("x-menuitem:not([disabled]):not([hidden])")[0]||null;t&&t.focus()}focusLastMenuItem(){let t=this.querySelectorAll("x-menuitem:not([disabled]):not([hidden])"),e=t.length>0?t[t.length-1]:null;e&&e.focus()}Ue(t){let e=0;{let t=this.Ee[this.Ee.length-1],i=this.Ee[0];if(this.querySelector("x-menu[opened]")&&t){i||(i=t);let s=this.getBoundingClientRect(),h={x:s.left,y:s.top-75},n={x:s.left+s.width,y:h.y},o={x:s.left,y:s.top+s.height+75},l={x:s.left+s.width,y:o.y},a=!0;if((i.x<s.left||i.x>l.x||i.y<s.top||i.y>l.y)&&(a=!1),this.Le&&t.x===this.Le.x&&t.y===this.Le.y&&(a=!1),a){let s,h;s=n,h=l;let o=(t,e)=>(e.y-t.y)/(e.x-t.x),a=o(t,s),r=o(t,h),d=o(i,s),u=o(i,h);a<d&&r>u?(this.Le=t,e=300):this.Le=null}}}e>0?this.Ae=setTimeout((()=>{this.Ue(t)}),e):t()}je(){this.Ae&&(clearTimeout(this.Ae),this.Ae=null)}Ne(){this.style.position="fixed",this.style.top="0px",this.style.left="0px",this.style.width=null,this.style.height=null,this.style.minWidth=null,this.style.maxWidth=null}Ke(){return this.matches("*[closing], *[closing] x-menu")}qe(t){let[e,i,...s]=t.trim().split(" ");return[i,parseFloat(e),s.join(" ")]}Fe(){this.setAttribute("aria-hidden",!this.opened)}kt(t){if(t.target!==this&&"hr"!==t.target.localName||t.stopPropagation(),"touch"===t.pointerType&&t.target.closest("x-menu")===this){!1===this.$e&&this.Xe();{let e=t.target.closest("x-menuitem");e&&!1===e.disabled&&e.closest("x-menu")===this?!1===e.matches(":focus")&&this.Ue((async()=>{let t=this.querySelector(":scope > x-menuitem:focus");if(t){let e=t.querySelector("x-menu");e&&e.close()}e.closest("x-menu");let i=e.querySelector("x-menu"),s=[...this.querySelectorAll(":scope > x-menuitem")].filter((t=>t!==e));i&&(await Q(60),e.matches(":focus")&&!1===i.opened&&i.openNextToElement(e,"horizontal"));for(let t of s){let e=t.querySelector("x-menu");e&&e.close()}})):this.Ue((()=>{this.focus()}))}}}Re(t){if(!this.Ke()&&"touch"!==t.pointerType&&t.target.closest("x-menu")===this){!1===this.$e&&this.Xe();{let e=t.target.closest("x-menuitem");e&&!1===e.disabled&&e.closest("x-menu")===this?!1===e.matches(":focus")&&this.Ue((async()=>{let t=this.querySelector(":scope > x-menuitem:focus");if(t){let e=t.querySelector("x-menu");e&&e.close()}e.focus(),e.closest("x-menu");let i=e.querySelector("x-menu"),s=[...this.querySelectorAll(":scope > x-menuitem")].filter((t=>t!==e));i&&(await Q(60),e.matches(":focus")&&!1===i.opened&&i.openNextToElement(e,"horizontal"));for(let t of s){let e=t.querySelector("x-menu");e&&e.close()}})):this.Ue((()=>{this.focus()}))}}}Ie(t){t.relatedTarget&&W(t.relatedTarget,"x-menu")===this||!0===this.$e&&this.Ve()}Xe(){this.Ke()||(this.$e=!0,this.je())}Ve(){this.Ke()||(this.$e=!1,this.je(),this.focus())}Oe(t){this.Ee.push({x:t.clientX,y:t.clientY}),this.Ee.length>3&&this.Ee.shift()}Be(t){t.target.closest("x-menu")===this?(t.preventDefault(),this.scrollTop=this.scrollTop+t.deltaY,this.$e=!0):this.$e=!1}He(){if(this.De){let t=this.scrollTop-this.Te;if(this.Te=this.scrollTop,tt()-this.Pe>100){let e=this.getBoundingClientRect();t<0?e.bottom+ft(t)<=window.innerHeight-7?this.style.height=e.height+ft(t)+"px":this.style.height=window.innerHeight-14+"px":t>0&&(e.top-t>=7?(this.style.top=this.Me+e.top-t+"px",this.style.height=e.height+t+"px",this.scrollTop=0,this.Te=0):(this.style.top=7+this.Me+"px",this.style.height=window.innerHeight-14+"px"))}}}_t(t){if(this.Ke())t.preventDefault(),t.stopPropagation();else if("ArrowUp"===t.key)t.preventDefault(),t.stopPropagation(),this.focusPreviousMenuItem();else if("ArrowDown"===t.key)t.preventDefault(),t.stopPropagation(),this.focusNextMenuItem();else if("ArrowRight"===t.code||"Enter"===t.code||"Space"===t.code){let e=this.querySelector("x-menuitem:focus");if(e){let i=e.querySelector("x-menu");if(i){t.preventDefault(),t.stopPropagation(),!1===i.opened&&i.openNextToElement(e,"horizontal");let s=i.querySelector("x-menuitem:not([disabled]):not([hidden])");s&&s.focus()}}}else if("ArrowLeft"===t.code){let e=this.querySelector("x-menuitem:focus");if(e){let i=e.closest("x-menu").closest("x-menuitem");i&&i.closest("x-menu")&&(t.preventDefault(),t.stopPropagation(),i.focus(),this.close())}}}}customElements.define("x-menu",vt);const yt=!1;class zt extends HTMLElement{static observedAttributes=["disabled","size"];static _shadowTemplate=R`
    <template>
      <svg id="backdrop" hidden>
        <path id="backdrop-path"></path>
      </svg>

      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{display:flex;align-items:center;width:100%;height:30px;padding:0 6px;box-sizing:border-box}:host([disabled]){pointer-events:none;opacity:.6}:host([hidden]){display:none}#backdrop{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;pointer-events:none;touch-action:none}#backdrop[hidden]{display:none}#backdrop path{fill:red;fill-rule:evenodd;opacity:0;pointer-events:all}`;get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};Ze=!1;Ge=null;B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[zt._shadowStyleSheet],this._shadowRoot.append(document.importNode(zt._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("focusout",(t=>this.fe(t))),this._shadowRoot.addEventListener("pointerover",(t=>this.Ye(t))),this._shadowRoot.addEventListener("click",(t=>this.We(t))),this._shadowRoot.addEventListener("wheel",(t=>this.Je(t))),this._shadowRoot.addEventListener("keydown",(t=>this.Qe(t)))}connectedCallback(){this.setAttribute("role","menubar"),this.setAttribute("aria-disabled",this.disabled),this.U(),F.addEventListener("sizechange",this.B=()=>{this.U()}),window.addEventListener("orientationchange",this.Ge=()=>{this.ti()})}disconnectedCallback(){F.removeEventListener("sizechange",this.B),window.removeEventListener("orientationchange",this.Ge)}attributeChangedCallback(t){"disabled"===t?this.Ut():"size"===t&&this.U()}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}ei(t){let e=t.querySelector(":scope > x-menu");if(e&&!1===e.opened){t.focus(),this.Ze=!0,this.style.touchAction="none";{e.openNextToElement(t,"vertical");let i=[...this.querySelectorAll(":scope > x-menuitem > x-menu")].filter((t=>t!==e));for(let t of i)t&&t.close(!1)}{let{x:t,y:e,width:i,height:s}=this.getBoundingClientRect();this.I["backdrop-path"].setAttribute("d",`\n          M 0 0\n          L ${window.innerWidth} 0\n          L ${window.innerWidth} ${window.innerHeight}\n          L 0 ${window.innerHeight}\n          L 0 0\n          M ${t} ${e}\n          L ${t+i} ${e}\n          L ${t+i} ${e+s}\n          L ${t} ${e+s}\n        `),this.I.backdrop.removeAttribute("hidden")}}}ii(){return new Promise((async t=>{this.Ze=!1,this.style.touchAction=null,this.I.backdrop.setAttribute("hidden",""),this.I["backdrop-path"].setAttribute("d","");{let t=this.querySelectorAll(":scope > x-menuitem > x-menu[opened]");for(let e of t)await e.close(!0)}let e=this.querySelector("x-menuitem:focus");e&&e.blur(),t()}))}si(){let t=[...this.querySelectorAll(":scope > x-menuitem:not([disabled])")],e=this.querySelector(":focus").closest("x-menubar > x-menuitem");if(t.length>1&&e){let i=t.indexOf(e),s=t[i-1]||t[t.length-1];this.ei(s)}}hi(){let t=[...this.querySelectorAll(":scope > x-menuitem:not([disabled])")],e=this.querySelector(":focus").closest("x-menubar > x-menuitem");if(e&&t.length>1){let i=t.indexOf(e),s=t[i+1]||t[0];this.ei(s)}}Ut(){this.setAttribute("aria-disabled",this.disabled)}fe(t){null!==t.relatedTarget&&!1!==this.contains(t.relatedTarget)||this.ii()}ti(){this.ii()}Je(t){let e=this.querySelector("x-menu[opened]");e&&!1===e.contains(t.target)&&t.preventDefault()}async We(t){if(this.hasAttribute("closing"))return;let e=t.target.closest("x-menuitem"),i=t.target.closest("x-menu");if(!e||!1!==e.disabled||i&&!i.contains(e))t.target===this.I["backdrop-path"]&&(this.ii(),t.preventDefault(),t.stopPropagation());else{let t=e.querySelector("x-menu");e.parentElement===this?t&&(t.opened?this.ii():this.ei(e)):t?t.opened&&!1===t.opened&&t.openNextToElement(e,"horizontal"):(this.setAttribute("closing",""),await e.whenTriggerEnd,await this.ii(),this.removeAttribute("closing"))}}Ye(t){if(this.hasAttribute("closing"))return;let e=t.target.closest("x-menuitem");null===t.target.closest("x-menu")&&e&&e.parentElement===this&&this.Ze&&"touch"!==t.pointerType&&(!1===e.hasAttribute("expanded")?this.ei(e):e.focus())}Qe(t){if(this.hasAttribute("closing"))t.stopPropagation(),t.preventDefault();else if("Enter"===t.code||"Space"===t.code){let e=this.querySelector(":scope > x-menuitem:focus");e&&(t.preventDefault(),e.click())}else if("Escape"===t.code)this.Ze&&(t.preventDefault(),this.ii());else if("Tab"===t.code){let t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){t.focus();let e=t.querySelector(":scope > x-menu");e&&(e.tabIndex=-1,e.close().then((()=>{e.tabIndex=-1})))}}else if("ArrowRight"===t.code)this.hi();else if("ArrowLeft"===t.code)this.si();else if("ArrowDown"===t.code){let e=this.querySelector("x-menuitem:focus > x-menu");e&&(t.preventDefault(),e.focusFirstMenuItem())}else if("ArrowUp"===t.code){let e=this.querySelector("x-menuitem:focus > x-menu");e&&(t.preventDefault(),e.focusLastMenuItem())}}}customElements.define("x-menubar",zt);let{max:kt}=Math;class _t extends HTMLElement{static observedAttributes=["disabled","size"];static _shadowTemplate=R`
    <template>
      <div id="ripples"></div>

      <svg id="checkmark" part="checkmark" viewBox="0 0 100 100" preserveAspectRatio="none">
        <path></path>
      </svg>

      <slot></slot>

      <svg id="arrow" part="arrow" viewBox="0 0 100 100" hidden>
        <path></path>
      </svg>
    </template>
  `;static _shadowStyleSheet=I`:host{display:flex;flex-flow:row;align-items:center;position:relative;padding:0 12px 0 23px;min-height:28px;box-sizing:border-box;cursor:default;user-select:none;--trigger-effect:blink}:host([hidden]){display:none}:host([disabled]){pointer-events:none;opacity:.6}:host(:focus){outline:0}:host-context([debug]):host(:focus){outline:2px solid red}#ripples{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;pointer-events:none;contain:strict;overflow:hidden}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.1;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}#checkmark{display:none;transition:transform .2s cubic-bezier(.4, 0, .2, 1);align-self:center;width:18px;height:18px;margin:0 2px 0 -20px;d:path("M 44 61 L 29 47 L 21 55 L 46 79 L 79 27 L 70 21 L 44 61 Z");color:inherit}:host([togglable]) #checkmark{display:flex;transform:scale(0);transform-origin:50% 50%}:host([toggled]) #checkmark{display:flex;transform:scale(1)}#checkmark path{d:inherit;fill:currentColor}#arrow{display:flex;width:16px;height:16px;transform:scale(1.1);align-self:center;margin-left:8px;d:path("M 26 20 L 26 80 L 74 50 Z");opacity:1;color:inherit}#arrow[hidden]{display:none}#arrow path{d:inherit;fill:currentColor}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){this.value!==t&&(null===t?this.removeAttribute("value"):this.setAttribute("value",t))}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get togglable(){return this.hasAttribute("togglable")}set togglable(t){t?this.setAttribute("togglable",""):this.removeAttribute("togglable")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}get whenTriggerEnd(){return new Promise((t=>{0===this.I.ripples.childElementCount&&!1===this.ni?t():this.oi.push(t)}))}_shadowRoot=null;I={};zt=0;ni=!1;oi=[];li=!1;B=null;ai=new MutationObserver((()=>this.ri()));constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[_t._shadowStyleSheet],this._shadowRoot.append(document.importNode(_t._shadowTemplate.content,!0)),this.addEventListener("pointerdown",(t=>this.kt(t))),this.addEventListener("click",(t=>this.N(t))),this.addEventListener("keydown",(t=>this._t(t)));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t}connectedCallback(){this.ri(),this.St(),this.U(),this.ai.observe(this,{childList:!0,attributes:!1,characterData:!1,subtree:!1}),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){this.ai.disconnect(),F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"disabled"===t?this.St():"size"===t&&this.U()}ri(){if("x-menubar"===this.parentElement.localName)this.I.arrow.setAttribute("hidden","");else{this.querySelector("x-menu")?this.I.arrow.removeAttribute("hidden"):this.I.arrow.setAttribute("hidden","")}}St(){this.setAttribute("role","menuitem"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0)}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}async kt(t){if(this.li=this.matches(":focus"),1!==t.buttons)return!1;if(this.matches("[closing] x-menuitem"))return t.preventDefault(),void t.stopPropagation();if(t.target.closest("x-menuitem")===this){this.setPointerCapture(t.pointerId);{let e=Date.now(),i=!0;this.addEventListener("lostpointercapture",(async()=>{i=!1;let s=Date.now()-e,h="touch"===t.pointerType?600:150;s<h&&await Q(h-s),this.removeAttribute("pressed")}),{once:!0}),i&&this.setAttribute("pressed","")}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let e=this.I.ripples.getBoundingClientRect(),i=1.5*kt(e.width,e.height),s=t.clientY-e.y-i/2,h=t.clientX-e.x-i/2,n=new Promise((t=>this.addEventListener("lostpointercapture",t,{once:!0}))),o=G("div");o.setAttribute("part","ripple"),o.setAttribute("class","ripple pointer-down-ripple"),o.setAttribute("style",`width: ${i}px; height: ${i}px; top: ${s}px; left: ${h}px;`),this.I.ripples.append(o),this.setPointerCapture(t.pointerId);let l=o.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await n,await l.finished;let a=o.animate({opacity:[getComputedStyle(o).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});if(await a.finished,o.remove(),0===this.I.ripples.childElementCount)for(let t of this.oi)t()}}}async N(t){if(!(t.button>0||t.target.closest("x-menuitem")!==this||t.target.closest("x-menu")!==this.closest("x-menu")||this.matches("[closing] x-menuitem"))){if(this.togglable){let t=new CustomEvent("toggle",{bubbles:!0,cancelable:!0});this.dispatchEvent(t),!1===t.defaultPrevented&&(this.toggled=!this.toggled)}if(!this.querySelector(":scope > x-menu")){let t=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if("ripple"===t){if(null===this.I.ripples.querySelector(".pointer-down-ripple")){let t=this.I.ripples.getBoundingClientRect(),e=1.5*kt(t.width,t.height),i=t.y+t.height/2-t.y-e/2,s=t.x+t.width/2-t.x-e/2,h=G("div");h.setAttribute("part","ripple"),h.setAttribute("class","ripple click-ripple"),h.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.I.ripples.append(h);let n=h.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await n.finished;let o=h.animate({opacity:[getComputedStyle(h).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});if(await o.finished,h.remove(),0===this.I.ripples.childElementCount){for(let t of this.oi)t();this.oi=[]}}}else if("blink"===t){this.ni=!0,this.li?(this.parentElement.focus(),await Q(150),this.focus(),await Q(150)):(this.focus(),await Q(150),this.parentElement.focus(),await Q(150));for(let t of this.oi)t();this.oi=[],this.ni=!1}else if("none"===t){this.ni=!0,await Q(150);for(let t of this.oi)t();this.oi=[],this.ni=!1}}}}_t(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.querySelector("x-menu")||(t.stopPropagation(),this.click()))}}customElements.define("x-menuitem",_t);class Ct extends HTMLElement{static observedAttributes=["opened","size"];static _shadowTemplate=R`
    <template>
      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{display:none;position:fixed;min-width:15px;min-height:15px;bottom:15px;left:50%;transform:translateX(-50%);padding:5px 12px;box-sizing:border-box;color:rgba(255,255,255,.9);background:#434343;z-index:9999;font-size:12px;user-select:text;transition:transform .15s cubic-bezier(.4, 0, .2, 1)}:host([animating]),:host([opened]){display:block}:host(:focus){outline:0}`;get opened(){return this.hasAttribute("opened")}set opened(t){!0===t?this.setAttribute("opened",""):this.removeAttribute("opened"),this.di=0}get timeout(){return this.hasAttribute("timeout")?parseFloat(this.getAttribute("timeout")):0}set timeout(t){this.setAttribute("timeout",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;di=0;ui=null;B=null;ci=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Ct._shadowStyleSheet],this._shadowRoot.append(document.importNode(Ct._shadowTemplate.content,!0))}connectedCallback(){this.setAttribute("tabindex","0"),this.U(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t,e,i){e!==i&&("opened"===t?this.opened?this.pi():this.mi():"size"===t&&this.U())}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}pi(){if(this.isConnected){let t=0-this.getBoundingClientRect().height-10+"px",e=getComputedStyle(this).bottom;this.animate({bottom:[t,e]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"})}{this.di=0,this.ui=setInterval((()=>{this.di+=100,this.timeout>0&&this.di>this.timeout&&(this.opened=!1)}),100);let t=tt();window.addEventListener("pointerdown",this.ci=e=>{let i=tt(),s=this.getBoundingClientRect();i-t>10&&!1===d(s,new DOMPoint(e.clientX,e.clientY))&&(this.opened=!1)},!0)}}async mi(){if(clearInterval(this.ui),this.isConnected){this.setAttribute("animating","");let t=getComputedStyle(this).bottom,e=0-this.getBoundingClientRect().height-10+"px",i=this.animate({bottom:[t,e]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await i.finished,this.removeAttribute("animating")}window.removeEventListener("pointerdown",this.ci,!0)}}customElements.define("x-notification",Ct);let{isFinite:St,isNaN:Et,parseFloat:At}=Number,Lt=t=>{let e=At(t);return!1===Et(e)&&St(e)},{isFinite:Tt}=Number;const Mt=["0","1","2","3","4","5","6","7","8","9","-","+",",","."];class Dt extends HTMLElement{static observedAttributes=["value","min","max","prefix","suffix","disabled","size"];static _shadowTemplate=R`
    <template>
      <main id="main">
        <div id="editor-container">
          <div id="editor" contenteditable="plaintext-only" spellcheck="false"></div>
        </div>
        <slot></slot>
      </main>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;position:relative;max-width:160px;height:32px;box-sizing:border-box;font-size:12.5px}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{display:flex;align-items:center;height:100%}#editor-container{display:flex;align-items:center;width:100%;height:100%;padding:0 6px;box-sizing:border-box;overflow:hidden}#editor{width:100%;overflow:auto;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;line-height:10;white-space:nowrap}#editor::-webkit-scrollbar{display:none}#editor::before{content:attr(data-prefix);pointer-events:none}#editor::after{content:attr(data-suffix);pointer-events:none}:host(:focus) #editor::after,:host(:focus) #editor::before,:host([empty]) #editor::after,:host([empty]) #editor::before{content:""}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}`;get value(){return this.hasAttribute("value")?parseFloat(this.getAttribute("value")):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get min(){return this.hasAttribute("min")?parseFloat(this.getAttribute("min")):-Infinity}set min(t){Tt(t)?this.setAttribute("min",t):this.removeAttribute("min")}get max(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):Infinity}set max(t){Tt(t)?this.setAttribute("max",t):this.removeAttribute("max")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get precision(){return this.hasAttribute("precision")?parseFloat(this.getAttribute("precision")):20}set precision(t){this.setAttribute("precision",t)}get step(){return this.hasAttribute("step")?parseFloat(this.getAttribute("step")):1}set step(t){this.setAttribute("step",t)}get prefix(){return this.hasAttribute("prefix")?this.getAttribute("prefix"):""}set prefix(t){this.setAttribute("prefix",t)}get suffix(){return this.hasAttribute("suffix")?this.getAttribute("suffix"):""}set suffix(t){this.setAttribute("suffix",t)}get required(){return this.hasAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get condensed(){return this.hasAttribute("condensed")}set condensed(t){t?this.setAttribute("condensed",""):this.removeAttribute("condensed")}get error(){return this.getAttribute("error")}set error(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};zt=0;B=null;bi=!1;gi=!1;xi=!1;fi=!1;wi=!1;vi=!1;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed",delegatesFocus:!0}),this._shadowRoot.adoptedStyleSheets=[Dt._shadowStyleSheet],this._shadowRoot.append(document.importNode(Dt._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this._shadowRoot.addEventListener("pointerdown",(t=>this.yi(t))),this._shadowRoot.addEventListener("wheel",(t=>this.Be(t))),this.I.editor.addEventListener("paste",(t=>this.zi(t))),this.I.editor.addEventListener("input",(t=>this.ki(t))),this.addEventListener("pointerdown",(t=>this.kt(t))),this.addEventListener("keydown",(t=>this._t(t))),this.addEventListener("keyup",(t=>this._i(t))),this.addEventListener("keypress",(t=>this.Ci(t))),this.addEventListener("incrementstart",(t=>this.Si(t))),this.addEventListener("decrementstart",(t=>this.Ei(t))),this.addEventListener("focusin",(t=>this.xe(t))),this.addEventListener("focusout",(t=>this.fe(t)))}connectedCallback(){this.St(),this.U(),this.nt(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"value"===t?this.ot():"min"===t?this.Ai():"max"===t?this.Li():"prefix"===t?this.Ti():"suffix"===t?this.Mi():"disabled"===t?this.Ut():"size"===t&&this.lt()}validate(){this.value<this.min?this.error="Value is too low":this.value>this.max?this.error="Value is too high":this.required&&null===this.value?this.error="This field is required":this.error=null}Di(t=!1){let e=this.value,i=this.value;i+=t?10*this.step:this.step,i=l(i,this.min,this.max,a(this.step)),e!==i&&(this.value=i),this.matches(":focus")&&document.execCommand("selectAll"),this.validate(),this.ge()}$i(t=!1){let e=this.value,i=this.value;i-=t?10*this.step:this.step,i=l(i,this.min,this.max,a(this.step)),e!==i&&(this.value=i),this.matches(":focus")&&document.execCommand("selectAll"),this.validate(),this.ge()}Pi(){this.gi||(this.gi=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})))}Ri=it((()=>{!this.gi||this.xi||this.fi||this.wi||(this.gi=!1,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})))}),500);Ii(){let t=this.I.editor.textContent,e=""===t.trim()?null:parseFloat(t),i=l(e,this.min,this.max);i!==this.value?(this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.value=i,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))):e!==this.value&&(this.value=i),this.validate()}nt(){this.vi&&this.validate(),this.Oi(),this.ge(),this.Bi()}Oi(){this.hasAttribute("value")?this.I.editor.textContent=this.getAttribute("value").trim():this.I.editor.textContent=""}ge(){let t=null;if(this.matches(":focus")){let e=this.I.editor.textContent;t=""===e.trim()?null:parseFloat(e)}else t=this.value;null===t?this.setAttribute("empty",""):this.removeAttribute("empty")}Bi(){let t=this.querySelector("x-stepper");if(t){let e=this.value>this.min,i=this.value<this.max;!0===i&&!0===e?t.removeAttribute("disabled"):!1===i&&!1===e?t.setAttribute("disabled",""):!1===i?t.setAttribute("disabled","increment"):!1===e&&t.setAttribute("disabled","decrement")}}St(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0)}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}ot(){this.nt()}Ai(){this.Bi()}Li(){this.Bi()}Ti(){this.I.editor.setAttribute("data-prefix",this.prefix)}Mi(){this.I.editor.setAttribute("data-suffix",this.suffix)}Ut(){this.I.editor.disabled=this.disabled,this.St()}lt(){this.U()}xe(){this.vi=!0,document.execCommand("selectAll"),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}))}fe(){this._shadowRoot.getSelection().collapse(this.I.main),this.I.editor.scrollLeft=0,this.Ii(),this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0}))}ki(){this.error=null,this.ge(),this.Bi()}Be(t){this.matches(":focus")&&(t.preventDefault(),this.Pi(),t.wheelDeltaX>0||t.wheelDeltaY>0?(this.Di(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))):(this.$i(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))),this.Ri())}N(t){t.preventDefault()}kt(t){"x-stepper"===t.target.localName&&t.preventDefault()}yi(t){if(1===t.buttons&&!1!==t.isPrimary){if(t.target===this.I.editor&&!1===this.I.editor.matches(":focus")){t.preventDefault();let e,i,s=this.value,h=t.clientX,n=new DOMPoint(t.clientX,t.clientY);this.style.cursor="col-resize",this.I.editor.setPointerCapture(t.pointerId),this.I.editor.addEventListener("pointermove",e=e=>{let i=new DOMPoint(e.clientX,e.clientY),o=e.timeStamp-t.timeStamp,d=e.clientX!==h,u=r(n,i)>3||o>80;if(h=e.clientX,d&&u&&e.isPrimary){!1===this.bi&&(this.bi=!0,this.gi=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})));let i=e.clientX-t.clientX,h=s+i*this.step;h=l(h,this.min,this.max,a(this.step)),this.value=h,this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}}),this.I.editor.addEventListener("lostpointercapture",i=()=>{this.I.editor.removeEventListener("pointermove",e),this.I.editor.removeEventListener("lostpointercapture",i),this.style.cursor=null,!0===this.bi?(this.bi=!1,this.gi=!1,this.dispatchEvent(new CustomEvent("changeend",{detail:this.value!==s,bubbles:!0}))):(this.I.editor.focus(),document.execCommand("selectAll"))})}}else t.preventDefault()}Si(t){let e,i;this.matches(":focus")&&this.Ii(),this.wi=!0,this.addEventListener("increment",e=t=>{this.Pi(),this.Di(t.detail.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Ri(),this.nt()}),this.addEventListener("incrementend",i=t=>{this.wi=!1,this.removeEventListener("increment",e),this.removeEventListener("incrementend",i)})}Ei(t){let e,i;this.matches(":focus")&&this.Ii(),this.wi=!0,this.addEventListener("decrement",e=t=>{this.Pi(),this.$i(t.detail.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Ri(),this.nt()}),this.addEventListener("decrementend",i=t=>{this.wi=!1,this.removeEventListener("decrement",e),this.removeEventListener("decrementend",i)})}_t(t){"ArrowDown"===t.code?(t.preventDefault(),this.xi=!0,this.Pi(),this.$i(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Ri(),this.nt()):"ArrowUp"===t.code?(t.preventDefault(),this.xi=!0,this.Pi(),this.Di(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Ri(),this.nt()):"Backspace"===t.code?this.fi=!0:"Enter"===t.code&&(this.Ii(),document.execCommand("selectAll"))}_i(t){"ArrowDown"===t.code||"ArrowUp"===t.code?(this.xi=!1,this.Ri()):"Backspace"===t.code&&(this.fi=!1)}Ci(t){!1===Mt.includes(t.key)&&t.preventDefault()}async zi(t){t.preventDefault();let e=t.clipboardData.getData("text/plain").trim();Lt(e)&&(await Q(1),document.execCommand("insertText",!1,e))}}customElements.define("x-numberinput",Dt);class $t extends HTMLElement{static observedAttributes=["modal"];static _shadowTemplate=R`
    <template>
      <svg id="arrow" viewBox="0 0 100 100" preserveAspectRatio="none">
        <path id="arrow-path"></path>
      </svg>
      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{position:fixed;display:none;top:0;left:0;min-height:30px;z-index:1001;box-sizing:border-box;background:#fff;-webkit-app-region:no-drag;--align:bottom;--arrow-size:20px;--open-transition:900 transform cubic-bezier(0.4, 0, 0.2, 1);--close-transition:200 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host(:focus){outline:0}:host([animating]),:host([opened]){display:flex}#arrow{position:fixed;box-sizing:border-box;content:""}#arrow[data-align=bottom],#arrow[data-align=top]{width:var(--arrow-size);height:calc(var(--arrow-size) * .6);transform:translate(-50%,0)}#arrow[data-align=left],#arrow[data-align=right]{width:calc(var(--arrow-size) * .6);height:var(--arrow-size);transform:translate(0,-50%)}#arrow path{stroke-width:1;vector-effect:non-scaling-stroke}#arrow[data-align=bottom] path{d:path("M 0 100, L 50 0, L 100 100")}#arrow[data-align=top] path{d:path("M 0 0, L 50 100, L 100 0")}#arrow[data-align=left] path{d:path("M 0 0, L 100 50, L 00 100")}#arrow[data-align=right] path{d:path("M 100 0, L 0 50, L 100 100")}`;get opened(){return this.hasAttribute("opened")}get modal(){return this.hasAttribute("modal")}set modal(t){t?this.setAttribute("modal",""):this.removeAttribute("modal")}_shadowRoot=null;I={};Hi=null;Fi=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[$t._shadowStyleSheet],this._shadowRoot.append(document.importNode($t._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.I.backdrop=G("x-backdrop"),this.I.backdrop.style.background="rgba(0, 0, 0, 0)",this.I.backdrop.ownerElement=this,this.I.backdrop.addEventListener("click",(t=>{t.preventDefault()})),this.I.backdrop.addEventListener("pointerdown",(t=>{this.hasAttribute("animating")&&t.stopPropagation()}))}connectedCallback(){this.tabIndex=-1}attributeChangedCallback(t,e,i){e!==i&&"modal"===t&&(this.modal&&this.opened?this.I.backdrop.show():this.I.backdrop.hide())}open(t,e=!0){return new Promise((async i=>{if(!1===this.opened){if(this.modal&&this.I.backdrop.show(!1),this.setAttribute("opened",""),this.Ni(),this.qi(t),this.Hi=J(this),this.Hi&&this.Hi.addEventListener("scroll",this.Fi=()=>{this.close()},{once:!0}),e){let t=getComputedStyle(this).getPropertyValue("--open-transition"),[e,i,s]=this.qe(t);"transform"===e&&await this.animate({transform:["scale(1, 0)","scale(1, 1)"],transformOrigin:["0 0","0 0"]},{duration:i,easing:s}).finished}this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this}))}i()}))}close(t=!0){return new Promise((async e=>{if(!0===this.opened&&(this.removeAttribute("opened"),this.I.backdrop.hide(),this.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:this})),this.Hi.removeEventListener("scroll",this.Fi),t)){let t=getComputedStyle(this).getPropertyValue("--close-transition"),[e,i,s]=this.qe(t);this.setAttribute("animating",""),"opacity"===e&&await this.animate({opacity:["1","0"]},{duration:i,easing:s}).finished,this.removeAttribute("animating")}e()}))}qi(t){let e=getComputedStyle(this).getPropertyValue("--align").trim(),i=parseInt(getComputedStyle(this).borderWidth),s=0,h=0,n=null;this.style.maxWidth=null,this.style.maxHeight=null,this.style.left="0px",this.style.top="0px";{let e=o(this.getBoundingClientRect());0===e.top&&0===e.left||(s=-e.left,h=-e.top),n=t instanceof DOMPoint?new DOMRect(t.x,t.y,0,0):t instanceof DOMRect?t:t instanceof Element?t.getBoundingClientRect():new DOMRect}if("bottom"===e||"top"===e){let t=(t=!1)=>{this.style.maxHeight=null,this.I.arrow.setAttribute("data-align","bottom");let e=o(this.getBoundingClientRect()),s=o(this.I.arrow.getBoundingClientRect()),l=0;if(this.I.arrow.style.top=h+n.bottom+2+i+"px",this.style.top=h+n.bottom+2+s.height+"px",e=o(this.getBoundingClientRect()),l=e.bottom+8-window.innerHeight,t&&l>0){let t=e.height-l;l=0,this.style.maxHeight=t+"px"}return l},l=(t=!1)=>{this.style.maxHeight=null,this.I.arrow.setAttribute("data-align","top");let e=o(this.getBoundingClientRect()),s=o(this.I.arrow.getBoundingClientRect()),l=0;if(this.I.arrow.style.top=h+n.top-2-i-s.height+"px",this.style.top=h+n.top-2-s.height-e.height+"px",e=o(this.getBoundingClientRect()),l=-(e.top-8),t&&l>0){let t=e.height-l;l=0,this.style.maxHeight=t+"px",this.style.top=h+n.top-2-s.height-t+"px"}return l},a=()=>{this.style.maxWidth=null;let t=o(this.getBoundingClientRect()),e=0,i=0;return this.I.arrow.style.left=s+n.left+n.width/2+"px",this.style.left=s+n.left+n.width/2-t.width/2+"px",t=o(this.getBoundingClientRect()),e=-(t.left-8),i=t.right+8-window.innerWidth,[e,i]},r=(t=!1)=>{this.style.maxWidth=null;let e=o(this.getBoundingClientRect()),i=0;if(this.I.arrow.style.left=s+n.left+n.width/2+"px",this.style.left=s+window.innerWidth-8-e.width+"px",e=o(this.getBoundingClientRect()),i=-(e.left-8),t&&i>0){let t=e.width-i;i=0,this.style.maxWidth=t+"px",this.style.left=s+window.innerWidth-8-t+"px"}return i},d=(t=!1)=>{this.style.maxWidth=null;let e=o(this.getBoundingClientRect()),i=0;if(this.I.arrow.style.left=s+n.left+n.width/2+"px",this.style.left=s+8+"px",e=o(this.getBoundingClientRect()),i=e.right+8-window.innerWidth,t&&i>0){let t=e.width-i;i=0,this.style.maxWidth=t+"px"}return i};if("bottom"===e){let e=t();if(e>0){let i=l();i>0&&(i>e?t(!0):l(!0))}}else if("top"===e){let e=l();if(e>0){let i=t();i>0&&(i>e?l(!0):t(!0))}}{let[t,e]=a();e>0?(t=r(),t>0&&r(!0)):t>0&&(e=d(),e>0&&d(!0))}}else if("right"===e||"left"===e){let t=(t=!1)=>{this.style.maxWidth=null,this.I.arrow.setAttribute("data-align","right");let e=o(this.getBoundingClientRect()),h=o(this.I.arrow.getBoundingClientRect()),l=0;if(this.I.arrow.style.left=s+n.right+2+i+"px",this.style.left=s+n.right+2+h.width+"px",e=o(this.getBoundingClientRect()),l=e.right+8-window.innerWidth,t&&l>0){let t=e.width-l;l=0,this.style.maxWidth=t+"px"}return l},l=(t=!1)=>{this.style.maxWidth=null,this.I.arrow.setAttribute("data-align","left");let e=o(this.getBoundingClientRect()),h=o(this.I.arrow.getBoundingClientRect()),l=0;if(this.I.arrow.style.left=s+n.left-2-i-h.width+"px",this.style.left=s+n.left-2-h.width-e.width+"px",e=o(this.getBoundingClientRect()),l=-(e.left-8),t&&l>0){let t=e.width-l;l=0,this.style.maxWidth=t+"px",this.style.left=s+n.left-2-h.width-t+"px"}return l},a=()=>{this.style.maxHeight=null;let t=o(this.getBoundingClientRect()),e=0,i=0;return this.I.arrow.style.top=h+n.top+n.height/2+"px",this.style.top=h+n.top+n.height/2-t.height/2+"px",t=o(this.getBoundingClientRect()),e=-(t.top-8),i=t.bottom+8-window.innerHeight,[e,i]},r=(t=!1)=>{this.style.maxHeight=null;let e=o(this.getBoundingClientRect()),i=0;if(this.I.arrow.style.top=h+n.top+n.height/2+"px",this.style.top=h+window.innerHeight-8-e.height+"px",e=o(this.getBoundingClientRect()),i=-(e.top-8),t&&i>0){let t=e.height-i;i=0,this.style.maxHeight=t+"px",this.style.top=h+window.innerHeight-8-t+"px"}return i},d=(t=!1)=>{this.style.maxHeight=null;let e=o(this.getBoundingClientRect()),i=0;if(this.I.arrow.style.top=h+n.top+n.height/2+"px",this.style.top=h+8+"px",e=o(this.getBoundingClientRect()),i=e.bottom+8-window.innerHeight,t&&i>0){let t=e.height-i;i=0,this.style.maxHeight=t+"px"}return i};if("right"===e){let e=t();if(e>0){let i=l();i>0&&(i>e?t(!0):l(!0))}}else if("left"===e){let e=l();if(e>0){let i=t();i>0&&(i>e?l(!0):t(!0))}}{let[t,e]=a();e>0?(t=r(),t>0&&r(!0)):t>0&&(e=d(),e>0&&d(!0))}}}Ni(){{let{backgroundColor:t,borderColor:e,borderWidth:i}=getComputedStyle(this);this.I["arrow-path"].style.fill=t,this.I["arrow-path"].style.stroke=e,this.I["arrow-path"].style.strokeWidth=i}}qe(t){let[e,i,...s]=t.trim().split(" ");return[i,parseFloat(e),s.join(" ")]}}customElements.define("x-popover",$t);class Pt extends HTMLElement{static observedAttributes=["value","max","disabled","size"];static _shadowTemplate=R`
    <template>
      <div id="determinate-bar" part="bar"></div>

      <div id="indeterminate-bars">
        <div id="primary-indeterminate-bar" part="bar"></div>
        <div id="secondary-indeterminate-bar" part="bar"></div>
      </div>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;box-sizing:border-box;height:8px;width:100%;position:relative;contain:strict;overflow:hidden;background:#acece6;cursor:default}:host([hidden]){display:none}#indeterminate-bars{width:100%;height:100%}#determinate-bar{position:absolute;top:0;left:0;bottom:0;width:0%;height:100%;background:#3b99fb;box-shadow:0 0 0 1px #3385db;transition:width .4s ease-in-out;will-change:left,right}:host([value="-1"]) #determinate-bar{visibility:hidden}#primary-indeterminate-bar{position:absolute;top:0;left:0;bottom:0;height:100%;background:#3b99fb;will-change:left,right}#secondary-indeterminate-bar{position:absolute;top:0;left:0;bottom:0;height:100%;background:#3b99fb;will-change:left,right}`;get value(){return this.hasAttribute("value")?parseFloat(this.getAttribute("value")):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get max(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):1}set max(t){this.setAttribute("max",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};Ui=null;B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Pt._shadowStyleSheet],this._shadowRoot.append(document.importNode(Pt._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t}connectedCallback(){F.addEventListener("sizechange",this.B=()=>this.U()),this.nt(),this.U()}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t,e,i){e!==i&&("value"===t||"disabled"===t?this.nt():"size"===t&&this.U())}nt(){if(null===this.value||-1===this.value||this.disabled?this.I["determinate-bar"].style.width="0%":this.I["determinate-bar"].style.width=this.value/this.max*100+"%",null!==this.value||this.disabled){if(this.Ui){for(let t of this.Ui)t.cancel();this.Ui=null}}else this.Ui||(this.Ui=[this.I["primary-indeterminate-bar"].animate([{left:"-35%",right:"100%",offset:0},{left:"100%",right:"-90%",offset:.6},{left:"100%",right:"-90%",offset:1}],{duration:2e3,easing:"ease-in-out",iterations:Infinity}),this.I["secondary-indeterminate-bar"].animate([{left:"-100%",right:"100%",offset:0},{left:"110%",right:"-30%",offset:.8},{left:"110%",right:"-30%",offset:1}],{duration:2e3,delay:1e3,easing:"ease-in-out",iterations:Infinity})])}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}}customElements.define("x-progressbar",Pt);class Rt extends HTMLElement{static observedAttributes=["toggled","disabled","size"];static _shadowTemplate=R`
    <template>
      <main id="main">
        <div id="indicator" part="indicator">
          <div id="indicator-dot" part="indicator-dot"></div>
        </div>

        <div id="description">
          <slot></slot>
        </div>
      </main>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;position:relative;width:fit-content}:host(:focus){outline:0}:host([disabled]){opacity:.4;pointer-events:none}:host([hidden]){display:none}#main{display:flex;align-items:center}#indicator{position:relative;border:3px solid #000;width:19px;height:19px;border-radius:99px;display:flex;align-items:center;justify-content:center}#indicator-dot{width:100%;height:100%;background:currentColor;border-radius:99px;transform:scale(0)}:host([mixed][toggled]) #indicator-dot{height:33%;border-radius:0}:host([toggled]) #indicator-dot{transform:scale(.5)}#description{flex:1}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};zt=0;B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Rt._shadowStyleSheet],this._shadowRoot.append(document.importNode(Rt._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("click",(t=>this.N(t))),this.addEventListener("pointerdown",(t=>this.kt(t))),this.addEventListener("keydown",(t=>this._t(t)))}connectedCallback(){F.addEventListener("sizechange",this.B=()=>this.U()),this.St(),this.U()}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"toggled"===t?this.qt():"disabled"===t?this.Ut():"size"===t&&this.U()}St(){this.setAttribute("role","radio"),this.setAttribute("aria-checked",this.toggled),this.setAttribute("aria-disabled",this.disabled),this.closest("x-radios")||(this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0))}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}qt(){this.setAttribute("aria-checked",this.toggled)}Ut(){this.St()}N(t){this.closest("x-radios")||(this.toggled&&this.mixed?this.mixed=!1:(this.mixed=!1,this.toggled=!this.toggled),this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0})))}kt(t){if(!1===this.matches(":focus")){t.preventDefault();let e=W(this.parentNode,"[tabindex]");e&&e.focus()}}_t(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click())}}customElements.define("x-radio",Rt);class It extends HTMLElement{get value(){let t=this.querySelector("x-radio[toggled]");return t?t.value:null}set value(t){for(let e of this.querySelectorAll("x-radio"))e.toggled=e.value===t&&null!==t}_shadowRoot=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.innerHTML="<slot></slot>",this.addEventListener("click",(t=>this.N(t)),!0),this.addEventListener("keydown",(t=>this._t(t)))}connectedCallback(){this.setAttribute("role","radiogroup");let t=[...this.querySelectorAll("x-radio")].filter((t=>t.closest("x-radios")===this)),e=t.find((t=>t.toggled&&!t.disabled))||t.find((t=>!t.disabled));for(let i of t)i.setAttribute("tabindex",i===e?"0 ":"-1"),i.setAttribute("aria-checked",i===e)}N(t){let e=t.target.closest("x-radio");if(e&&!e.toggled&&!e.disabled&&0===t.button){let t=[...this.querySelectorAll("x-radio")].filter((t=>t.closest("x-radios")===this&&t!==e));if(!1===e.toggled||!0===e.mixed){e.toggled=!0,e.mixed=!1,e.tabIndex=0;for(let e of t)e.toggled=!1,e.tabIndex=-1;this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}))}}}_t(t){let{key:e}=t;if("ArrowDown"===e||"ArrowRight"===e){let e=[...this.querySelectorAll("x-radio")],i=e.filter((t=>!1===t.disabled&&t.closest("x-radios")===this)),s=e.find((t=>t.matches(":focus")));if(s){let e=i.indexOf(s),h=i.length>1?i[e+1]||i[0]:null;h&&(t.preventDefault(),h.focus(),h.tabIndex=0,s.tabIndex=-1)}}else if("ArrowUp"===e||"ArrowLeft"===e){let e=[...this.querySelectorAll("x-radio")],i=e.filter((t=>!1===t.disabled&&t.closest("x-radios")===this)),s=e.find((t=>t.matches(":focus")));if(s){let e=i.indexOf(s),h=i[i.length-1],n=i.length>1?i[e-1]||h:null;n&&(t.preventDefault(),n.focus(),n.tabIndex=0,s.tabIndex=-1)}}}}customElements.define("x-radios",It);class Ot extends HTMLElement{static observedAttributes=["value","size"];static _shadowTemplate=R`
    <template>
      <x-box vertical>
        <div id="hue-slider">
          <div id="hue-slider-track">
            <div id="hue-slider-marker"></div>
          </div>
        </div>

        <div id="satlight-slider">
          <div id="satlight-marker"></div>
        </div>

        <div id="alpha-slider">
          <div id="alpha-slider-gradient"></div>
          <div id="alpha-slider-track">
            <div id="alpha-slider-marker"></div>
          </div>
        </div>
      </x-box>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:100%;user-select:none}:host([hidden]){display:none}#hue-slider{width:100%;height:30px;padding:0 calc(var(--marker-width)/ 2);margin-bottom:14px;box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background:red}:host([computedsize=small]) #hue-slider{height:24px}:host([computedsize=large]) #hue-slider{height:35px}#hue-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center;background:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}#hue-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#satlight-slider{width:100%;height:174px;border-radius:2px;position:relative;touch-action:pinch-zoom}#satlight-marker{position:absolute;top:0;left:0;width:var(--marker-size);height:var(--marker-size);transform:translate(calc(var(--marker-size)/ -2),calc(var(--marker-size)/ -2));box-sizing:border-box;background:rgba(0,0,0,.3);border:3px solid #fff;border-radius:999px;box-shadow:0 0 3px #000;--marker-size:20px}#alpha-slider{position:relative;display:none;width:100%;height:30px;margin-top:14px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)"}set value(t){this.setAttribute("value",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};B=null;X=0;V=0;ji=100;G=1;Y=!1;Ki=!1;tt=!1;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Ot._shadowStyleSheet],this._shadowRoot.append(document.importNode(Ot._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.I["hue-slider"].addEventListener("pointerdown",(t=>this.et(t))),this.I["satlight-slider"].addEventListener("pointerdown",(t=>this.Xi(t))),this.I["alpha-slider"].addEventListener("pointerdown",(t=>this.ht(t)))}connectedCallback(){this.nt(),this.U(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"size"===t&&this.lt())}nt(){this.rt(),this.Vi(),this.Zi(),this.gt(),this.xt()}rt(){this.I["hue-slider-marker"].style.left=l(this.X,0,360,0)/360*100+"%"}Vi(){let t=this.V/100*100,e=100-this.ji/100*100;this.I["satlight-marker"].style.left=`${t}%`,this.I["satlight-marker"].style.top=`${e}%`}Zi(){let t=C([this.X,100,50,1],"hsla","hex");this.I["satlight-slider"].style.background=`linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,1)), linear-gradient(to left, rgba(255,255,255,0), rgba(255,255,255,1)), ${t}`}gt(){this.I["alpha-slider-marker"].style.left=l(100*(1-this.G),0,100,2)+"%"}xt(){let[t,e,i]=z(this.X,this.V,this.ji).map((t=>n(t,0)));this.I["alpha-slider-gradient"].style.background=`\n      linear-gradient(to right, rgba(${t}, ${e}, ${i}, 1), rgba(${t}, ${e}, ${i}, 0))\n    `}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}ot(){if(!1===this.Y&&!1===this.Ki&&!1===this.tt){let[t,e,i,s]=(new D).parse(this.value,"hsva");this.X=t,this.V=e,this.ji=i,this.G=s,this.nt()}}lt(){this.U()}Xi(t){if(1!==t.buttons)return;let e,i,s=this.I["satlight-slider"].getBoundingClientRect();this.Ki=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.I["satlight-slider"].setPointerCapture(t.pointerId);let h=(t,e)=>{let i=(t-s.left)/s.width*100,h=(e-s.top)/s.height*100;i=l(i,0,100,2),h=l(h,0,100,2),this.V=i,this.ji=100-h,this.value=C([this.X,this.V,this.ji,this.G],"hsva","hsla"),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Vi(),this.Zi(),this.xt()};h(t.clientX,t.clientY),this.I["satlight-slider"].addEventListener("pointermove",e=t=>{h(t.clientX,t.clientY)}),this.I["satlight-slider"].addEventListener("lostpointercapture",i=t=>{this.I["satlight-slider"].removeEventListener("pointermove",e),this.I["satlight-slider"].removeEventListener("lostpointercapture",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.Ki=!1})}et(t){if(1!==t.buttons)return;let e,i,s=this.I["hue-slider-track"].getBoundingClientRect();this.Y=!0,this.I["hue-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let h=t=>{let e=(t-s.x)/s.width*360;e=l(e,0,360,0),e!==this.X&&(this.X=e,this.value=C([this.X,this.V,this.ji,this.G],"hsva","hsla"),this.rt(),this.Zi(),this.Vi(),this.xt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};h(t.clientX),this.I["hue-slider"].addEventListener("pointermove",e=t=>{h(t.clientX)}),this.I["hue-slider"].addEventListener("lostpointercapture",i=()=>{this.I["hue-slider"].removeEventListener("pointermove",e),this.I["hue-slider"].removeEventListener("lostpointercapture",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.Y=!1})}ht(t){if(1!==t.buttons)return;let e,i,s=this.I["alpha-slider-track"].getBoundingClientRect();this.tt=!0,this.I["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let h=t=>{let e=1-(t-s.x)/s.width;e=l(e,0,1,2),e!==this.G&&(this.G=e,this.value=C([this.X,this.V,this.ji,this.G],"hsva","hsla"),this.gt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};h(t.clientX),this.I["alpha-slider"].addEventListener("pointermove",e=t=>{h(t.clientX)}),this.I["alpha-slider"].addEventListener("lostpointercapture",i=()=>{this.I["alpha-slider"].removeEventListener("pointermove",e),this.I["alpha-slider"].removeEventListener("lostpointercapture",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.tt=!1})}}customElements.define("x-rectcolorpicker",Ot);const Bt=7;let Ht=Symbol();class Ft extends HTMLElement{static observedAttributes=["disabled","size"];static _shadowTemplate=R`
    <template>
      <div id="button">
        <div id="arrow-container">
          <svg id="arrow" part="arrow" viewBox="0 0 100 100" preserveAspectRatio="none">
            <path></path>
          </svg>
        </div>
      </div>

      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:fit-content;height:32px;padding:0 0 0 9px;max-width:100%;box-sizing:border-box;position:relative;outline:0;font-size:14px;user-select:none}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}:host(:hover){cursor:default}#button{display:flex;flex-flow:row;align-items:center;justify-content:flex-start;flex:1;width:100%;height:100%}:host([mixed]) #button>*{opacity:.7}#button>x-label{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}#button>#arrow-container{margin:0 0 0 auto;z-index:999}#button>#arrow-container #arrow{display:flex;width:13px;height:13px;min-width:13px;margin:0 2px 0 11px;color:currentColor;d:path("M 25 41 L 50 16 L 75 41 L 83 34 L 50 1 L 17 34 Z M 17 66 L 50 100 L 83 66 L 75 59 L 50 84 L 25 59 Z")}#button>#arrow-container #arrow path{fill:currentColor;d:inherit}`;get value(){let t=this.querySelector("x-menuitem[toggled]");return t?t.value:null}set value(t){for(let e of this.querySelectorAll("x-menuitem"))e.toggled=e.value===t&&null!==t}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};zt=0;vt=!1;Gi=null;Yi=null;B=null;Wi=new MutationObserver((t=>this.Ji(t)));O=new ResizeObserver((()=>this.Qi()));constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Ft._shadowStyleSheet],this._shadowRoot.append(document.importNode(Ft._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.I.backdrop=G("x-backdrop"),this.I.backdrop.style.opacity="0",this.I.backdrop.ownerElement=this,this.I.backdrop.addEventListener("click",(t=>this.ts(t))),this.addEventListener("pointerdown",(t=>this.kt(t))),this.addEventListener("toggle",(t=>this.es(t))),this.addEventListener("click",(t=>this.N(t))),this.addEventListener("keydown",(t=>this._t(t)))}connectedCallback(){this.Wi.observe(this,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),this.O.observe(this),this.ss(),this.St(),this.U(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){this.Wi.disconnect(),this.O.disconnect(),F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"disabled"===t?this.St():"size"===t&&this.U()}Zt(){if(!1===this.hs())return;this.vt=this.matches(":focus"),this.I.backdrop.show(!1),window.addEventListener("resize",this.Gi=()=>{this.Gt()}),window.addEventListener("blur",this.Yi=()=>{this.Gt()});let t=this.querySelector(":scope > x-menu");{let e=null;for(let i of t.querySelectorAll("x-menuitem"))i.togglable=!0,i.toggled&&(null===e?e=i:i.toggled=!1)}if(t.querySelector("x-menuitem[toggled]")){let e=this.I.button.querySelector("x-label")||this.I.button.firstElementChild,i=e[Ht];t.openOverElement(e,i)}else{let e=t.querySelector("x-menuitem").firstElementChild;t.openOverElement(this.I.button,e)}{let e=t.getBoundingClientRect(),i=this.I.button.getBoundingClientRect(),s=parseFloat(getComputedStyle(this).paddingRight);e.right-s<i.right&&(t.style.minWidth=i.right-e.left+s+"px")}{let t=this.getBoundingClientRect();t.right+7>window.innerWidth&&(this.style.maxWidth=window.innerWidth-t.left-7+"px")}}async Gt(t=null){if(!1===this.ns())return;let e=this.querySelector(":scope > x-menu");if(e.setAttribute("closing",""),await t,this.I.backdrop.hide(!1),this.vt)this.focus();else{let t=W(this.parentNode,"[tabindex]");t&&t.focus()}window.removeEventListener("resize",this.Gi),window.removeEventListener("blur",this.Yi),await e.close(),e.removeAttribute("closing")}hs(){if(this.disabled)return!1;{let t=this.querySelector(":scope > x-menu"),e=t.querySelector("x-menuitem");return null!==t&&!1===t.opened&&!1===t.hasAttribute("closing")&&null!==e}}ns(){if(this.disabled)return!1;{let t=this.querySelector(":scope > x-menu");return t.querySelector("x-menuitem"),null!==t&&!0===t.opened&&!1===t.hasAttribute("closing")}}ss(){let t=this.querySelector(":scope > x-menu x-menuitem[toggled]");if(this.I.button.innerHTML="",t){for(let e of t.children){let t=e.cloneNode(!0);t[Ht]=e,t.removeAttribute("id"),t.removeAttribute("style"),this.I.button.append(t)}this.os()}this.I.button.append(this.I["arrow-container"])}ls=et(this.ss,300,this);os(){for(let t of this.I.button.children)if(t!==this.I["arrow-container"]){let{width:e,height:i,margin:s,padding:h,border:n,borderRadius:o}=getComputedStyle(t[Ht]);["x-icon","x-swatch","img","svg"].includes(t[Ht].localName)&&(t.style.width=e,t.style.height=i,t.style.minWidth=e,t.style.borderRadius=o),t.style.margin=s,t.style.padding=h,t.style.border=n}}St(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0);{this.setAttribute("role","button");let t=this.querySelector(":scope > x-menu");if(t){t.setAttribute("role","listbox");for(let e of t.querySelectorAll("x-menuitem"))e.setAttribute("role","option")}}}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}Ji(t){for(let e of t)"attributes"===e.type&&"x-menuitem"===e.target.localName&&"toggled"===e.attributeName&&this.ls()}Qi(){this.os()}kt(t){t.target.closest("x-menu")||!1!==this.matches(":focus")||t.preventDefault()}async N(t){if(0===t.button)if(this.hs())this.Zt();else if(this.ns()){let e=t.target.closest("x-menuitem");if(e){let t=this.value,i=e.value;for(let t of this.querySelectorAll("x-menuitem"))t.toggled=t===e;await this.Gt(e.whenTriggerEnd),(t!==i||this.mixed)&&(this.mixed=!1,this.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{oldValue:t,newValue:i}})))}}}es(t){t.preventDefault()}ts(t){this.Gt()}_t(t){!1===t.defaultPrevented&&(this.querySelector(":scope > x-menu"),"Enter"===t.key||"Space"===t.key||"ArrowUp"===t.key||"ArrowDown"===t.key?this.hs()&&(t.preventDefault(),this.Zt()):"Escape"===t.key&&this.ns()&&(t.preventDefault(),this.Gt()))}}customElements.define("x-select",Ft);const Nt=navigator.platform.startsWith("Mac")||["iPhone","iPad"].includes(navigator.platform),qt=["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Symbol","SymbolLock"];class Ut extends HTMLElement{static observedAttributes=["value"];static _shadowTemplate=R`
    <template>
      <main id="main"></main>
    </template>
  `;static _shadowStyleSheet=I`:host{display:inline-block;box-sizing:border-box;font-size:14px;line-height:1}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}`;get value(){let t=[];if(this.hasAttribute("value")){let e=this.getAttribute("value").replace("++","+PLUS").split("+");e=e.map((t=>t.trim().replace("PLUS","+"))).filter((t=>""!==t)),t=e}return t}set value(t){this.setAttribute("value",t.join("+"))}get modKeys(){return this.value.filter((t=>qt.includes(t)))}get normalKey(){let t=this.value.find((t=>!1===qt.includes(t)));return void 0===t?null:t}_shadowRoot=null;I={};constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Ut._shadowStyleSheet],this._shadowRoot.append(document.importNode(Ut._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t}attributeChangedCallback(t){"value"===t&&this.nt()}nt(){let t="";this.value;let e=this.modKeys,i=this.normalKey;if(Nt){e.includes("Meta")&&(t+="^"),e.includes("Alt")&&(t+="\u2325"),e.includes("Shift")&&(t+="\u21e7"),e.includes("Control")&&(t+="\u2318"),e.includes("Symbol")&&(t+="\u263a");let s={ArrowUp:"\u2191",ArrowDown:"\u2193",ArrowLeft:"\u2190",ArrowRight:"\u2192",Backspace:"\u2326"};void 0!==i&&(t+=s[i]||i)}else{let s=[];e.includes("Control")&&s.push("Ctrl"),e.includes("Alt")&&s.push("Alt"),e.includes("Meta")&&s.push("Meta"),e.includes("Shift")&&s.push("Shift"),e.includes("Symbol")&&s.push("Symbol");let h={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"};null!==i&&s.push(h[i]||i),t=s.join("+")}this.I.main.textContent=t}}customElements.define("x-shortcut",Ut);let jt=(t,e,i=!1)=>{if(t.length!==e.length)return!1;if(i)for(let i in t){if(t[i]!==e[i])return!1}else{for(let i=0;i<t.length;i+=1)if(!e.includes(t[i]))return!1;for(let i=0;i<e.length;i+=1)if(!t.includes(e[i]))return!1}return!0},Kt=(t,e)=>n(n(t/e)*e,a(e));class Xt extends HTMLElement{static observedAttributes=["value","buffer","min","max","size"];static _shadowTemplate=R`
    <template>
      <main id="main">
        <div id="tracks-and-thumbs">
          <div id="groove-track" part="track groove-track"></div>
          <div id="buffer-track" part="track buffer-track"></div>
          <div id="range-track" part="track range-track"></div>
          <div id="thumbs">
            <div id="start-thumb" class="thumb" part="thumb start-thumb" data-value="start" tabindex="0"></div>
            <div id="end-thumb" class="thumb" part="thumb end-thumb" data-value="end" tabindex="0"></div>
          </div>
        </div>

        <div id="ticks"></div>

        <div id="labels">
          <slot></slot>
        </div>
      </main>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:100%;position:relative;box-sizing:border-box;touch-action:pan-y}:host(:focus){outline:0}:host(:hover){cursor:default}:host([disabled]){pointer-events:none;opacity:.4}:host([vertical]){width:fit-content;height:200px}#main{display:flex;flex-flow:column;width:100%;height:100%}:host([vertical]) #main{flex-flow:row}#tracks-and-thumbs{position:relative;width:100%;height:100%}#range-track{position:absolute;width:0%;height:3px;background:#000;top:50%;transform:translateY(-50%)}:host([vertical]) #range-track{width:3px;height:0%;top:initial;left:50%;transform:translateX(-50%)}#groove-track{position:absolute;width:100%;height:3px;background:gray;border-radius:10px;top:50%;transform:translateY(-50%)}:host([vertical]) #groove-track{width:3px;height:100%;top:initial;left:50%;transform:translateX(-50%)}#buffer-track{position:absolute;width:0%;height:3px;background:red;top:50%;transform:translateY(-50%)}:host([vertical]) #buffer-track{width:3px;height:0%;top:initial;left:50%;transform:translateX(-50%)}#thumbs{position:relative;width:calc(100% - var(--computed-thumb-width));height:100%;margin:0 auto}:host([vertical]) #thumbs{height:calc(100% - var(--computed-thumb-height));width:100%;margin:auto 0}#thumbs .thumb{position:absolute;top:0;left:0;width:20px;height:20px;margin-left:calc(var(--computed-thumb-width)/ -2);box-sizing:border-box;background:gray;border:1px solid rgba(0,0,0,.2)}:host([vertical]) #thumbs .thumb{margin-left:0}#thumbs .thumb:first-child{position:relative}#thumbs .thumb:focus{outline:0;z-index:2}#ticks{position:relative;width:calc(100% - var(--computed-thumb-width));margin:0 calc(var(--computed-thumb-width)/ 2)}:host([vertical]) #ticks{width:initial;height:calc(100% - var(--computed-thumb-height));margin:calc(var(--computed-thumb-height)/ 2) 0}#ticks:empty{display:none}#ticks .tick{position:absolute;left:0;top:0;width:1px;height:5px;background:rgba(0,0,0,.4)}:host([vertical]) #ticks .tick{width:5px;height:1px;left:0;top:0}#ticks .tick:first-child{position:relative}#labels{position:relative;width:calc(100% - var(--computed-thumb-width));margin:0 calc(var(--computed-thumb-width)/ 2)}:host([vertical]) #labels{width:initial;height:calc(100% - var(--computed-thumb-height));margin:calc(var(--computed-thumb-height)/ 2) 0}:host(:empty) #labels{display:none}::slotted(x-label){display:inline-block;top:0;position:absolute;vertical-align:top;transform:translateX(-50%);white-space:nowrap}:host([vertical]) ::slotted(x-label){top:initial;left:4px;transform:translateY(-50%)}`;get min(){return this.hasAttribute("min")?parseFloat(this.getAttribute("min")):0}set min(t){this.setAttribute("min",t)}get max(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):100}set max(t){this.setAttribute("max",t)}get value(){if(this.hasAttribute("value")){let t=this.getAttribute("value").split(/[ ,]+/);return t.length>=2?t.map((t=>parseFloat(t))).slice(0,2):parseFloat(t[0])}return this.max>=this.min?this.min+(this.max-this.min)/2:this.min}set value(t){Array.isArray(t)?((t=t.map((t=>l(t,this.min,this.max)))).length=2,this.setAttribute("value",t.join(" "))):(t=l(t,this.min,this.max),this.setAttribute("value",t))}get buffer(){if(this.hasAttribute("buffer")){let t=this.getAttribute("buffer").split(/[ ,]+/);return t.length>=2?t.map((t=>parseFloat(t))).slice(0,2):[0,parseFloat(t[0])]}return[0,0]}set buffer(t){(t=t.map((t=>l(t,this.min,this.max)))).length=2,this.setAttribute("buffer",t.join(" "))}get step(){return this.hasAttribute("step")?parseFloat(this.getAttribute("step")):1}set step(t){this.setAttribute("step",t)}get vertical(){return this.hasAttribute("vertical")}set vertical(t){t?this.setAttribute("vertical",""):this.removeAttribute("vertical")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}get dragging(){return this.getAttribute("dragging")}_shadowRoot=null;I={};zt=0;B=null;Wi=new MutationObserver((t=>this.Ji(t)));rs=new ResizeObserver((()=>this.ds()));constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed",delegatesFocus:!0}),this._shadowRoot.adoptedStyleSheets=[Xt._shadowStyleSheet],this._shadowRoot.append(document.importNode(Xt._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this._shadowRoot.addEventListener("pointerdown",(t=>this.yi(t))),this.addEventListener("pointerdown",(t=>this.kt(t))),this.addEventListener("keydown",(t=>this._t(t)))}connectedCallback(){this.setAttribute("value",this.value),F.addEventListener("sizechange",this.B=()=>this.U()),this.rs.observe(this.I["start-thumb"]),this.Wi.observe(this,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"],characterData:!1}),this.us(),this.cs(),this.ps(),this.St(),this.U()}disconnectedCallback(){F.removeEventListener("sizechange",this.B),this.rs.unobserve(this.I["start-thumb"]),this.Wi.disconnect()}attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"buffer"===t?this.bs():"min"===t?this.Ai():"max"===t?this.Li():"size"===t&&this.lt())}ot(){this.us(),this.cs()}bs(){this.us()}Ai(){this.us(),this.cs(),this.ps()}Li(){this.us(),this.cs(),this.ps()}lt(){this.U()}Ji(t){for(let e of t){if("attributes"===e.type&&e.target===this)return;this.gs()}}ds(){let t=this.I["start-thumb"].getBoundingClientRect();this.I.main.style.setProperty("--computed-thumb-width",t.width+"px"),this.I.main.style.setProperty("--computed-thumb-height",t.height+"px")}kt(t){if(!1===this.matches(":focus")){t.preventDefault();let e=W(this.parentNode,"[tabindex]");e&&e.focus()}}yi(t){if(1!==t.buttons||!1===t.isPrimary)return;let e,i,s=null,{width:h,height:n}=this.I["start-thumb"].getBoundingClientRect(),o=this.I.main.getBoundingClientRect(),a=!1;if(t.target.matches(".thumb"))s=t.target;else if(!0===this.I["end-thumb"].hidden)s=this.I["start-thumb"];else{let e=this.I["start-thumb"].getBoundingClientRect(),i=this.I["end-thumb"].getBoundingClientRect(),h=new DOMPoint(e.x+e.width/2,e.y+e.height/2),n=new DOMPoint(i.x+i.width/2,i.y+i.height/2),o=new DOMPoint(t.clientX,t.clientY),l=r(o,h),a=r(o,n);s=l<=a?this.I["start-thumb"]:this.I["end-thumb"]}let d=(t,e)=>{let i=0;if(this.vertical){let t=o.y+o.height-n/2-e;t=l(t,0,o.height-n),i=t/(o.height-n)*(this.max-this.min)+this.min}else{let e=t-(o.x+h/2);e=l(e,0,o.width-h),i=e/(o.width-h)*(this.max-this.min)+this.min}if(i=Kt(i,this.step),Array.isArray(this.value)){let[t,e]=this.value;s===this.I["start-thumb"]?(i>=e&&(i=e),i!==t&&(this.value=[i,e],!1===a&&(a=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))):s===this.I["end-thumb"]&&(i<=t&&(i=t),i!==e&&(this.value=[t,i],!1===a&&(a=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))))}else this.value!==i&&(this.value=i,!1===a&&(a=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};s.setPointerCapture(t.pointerId),this.setAttribute("dragging",s.dataset.value),d(t.clientX,t.clientY);for(let t of this.I.thumbs.children)t.style.zIndex=t===s?"1":"0";s.addEventListener("pointermove",e=t=>{t.isPrimary&&d(t.clientX,t.clientY)}),s.addEventListener("lostpointercapture",i=()=>{s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",i),this.removeAttribute("dragging"),a&&this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))})}_t(t){if("ArrowLeft"===t.code||"ArrowDown"===t.code){t.preventDefault(),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let e=this.value;if(Array.isArray(this.value)){let[i,s]=this.value;this._shadowRoot.activeElement===this.I["start-thumb"]?t.shiftKey?i-=10*this.step:i-=this.step:this._shadowRoot.activeElement===this.I["end-thumb"]&&(t.shiftKey?s-=10*this.step:s-=this.step,s<=i&&(s=i)),this.value=[i,s],!1===jt(e,this.value)&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}else t.shiftKey?this.value-=10*this.step:this.value-=this.step,e!==this.value&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))}else if("ArrowRight"===t.code||"ArrowUp"===t.code){t.preventDefault(),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let e=this.value;if(Array.isArray(this.value)){let[i,s]=this.value;this._shadowRoot.activeElement===this.I["start-thumb"]?(t.shiftKey?i+=10*this.step:i+=this.step,i>=s&&(i=s)):this._shadowRoot.activeElement===this.I["end-thumb"]&&(t.shiftKey?s+=10*this.step:s+=this.step),this.value=[i,s],!1===jt(e,this.value)&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}else t.shiftKey?this.value+=10*this.step:this.value+=this.step,e!==this.value&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))}}cs(){if(Array.isArray(this.value)){let[t,e]=this.value;{let e=(t-this.min)/(this.max-this.min)*100;this.vertical?(this.I["start-thumb"].style.top=100-e+"%",this.I["start-thumb"].hidden=!1):(this.I["start-thumb"].style.left=e+"%",this.I["start-thumb"].hidden=!1)}{let t=(e-this.min)/(this.max-this.min)*100;this.vertical?(this.I["end-thumb"].style.top=100-t+"%",this.I["end-thumb"].hidden=!1):(this.I["end-thumb"].style.left=t+"%",this.I["end-thumb"].hidden=!1)}}else{let t=(this.value-this.min)/(this.max-this.min)*100;this.vertical?(this.I["start-thumb"].style.top=100-t+"%",this.I["start-thumb"].hidden=!1,this.I["end-thumb"].hidden=!0):(this.I["start-thumb"].style.left=t+"%",this.I["start-thumb"].hidden=!1,this.I["end-thumb"].hidden=!0)}}us(){if(Array.isArray(this.value)){let[t,e]=this.value,i=(t-this.min)/(this.max-this.min)*100,s=(e-this.min)/(this.max-this.min)*100;this.vertical?(this.I["range-track"].style.bottom=`${i}%`,this.I["range-track"].style.height=s-i+"%"):(this.I["range-track"].style.left=`${i}%`,this.I["range-track"].style.width=s-i+"%")}else{let t=(this.value-this.min)/(this.max-this.min)*100,e=((this.min>0?this.min:0)-this.min)/(this.max-this.min)*100;this.vertical?t>=e?(this.I["range-track"].style.bottom=`${e}%`,this.I["range-track"].style.height=t-e+"%"):(this.I["range-track"].style.bottom=`${t}%`,this.I["range-track"].style.height=e-t+"%"):t>=e?(this.I["range-track"].style.left=`${e}%`,this.I["range-track"].style.width=t-e+"%"):(this.I["range-track"].style.left=`${t}%`,this.I["range-track"].style.width=e-t+"%")}{let[t,e]=this.buffer,i=(t-this.min)/(this.max-this.min)*100,s=(e-this.min)/(this.max-this.min)*100;this.vertical?(this.I["buffer-track"].style.bottom=i+"%",this.I["buffer-track"].style.height=s-i+"%"):(this.I["buffer-track"].style.left=i+"%",this.I["buffer-track"].style.width=s-i+"%")}}async ps(){await customElements.whenDefined("x-label"),this.I.ticks.innerHTML="";for(let t of this.querySelectorAll(":scope > x-label"))this.vertical?t.style.top=100-(t.value-this.min)/(this.max-this.min)*100+"%":t.style.left=(t.value-this.min)/(this.max-this.min)*100+"%",t===this.firstElementChild?t.style.position="relative":t.style.position=null,this.vertical?this.I.ticks.insertAdjacentHTML("beforeend",`<div class="tick" part="tick" style="top: ${t.style.top}"></div>`):this.I.ticks.insertAdjacentHTML("beforeend",`<div class="tick" part="tick" style="left: ${t.style.left}"></div>`)}gs=et(this.ps,500,this);St(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0)}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}}customElements.define("x-slider",Xt);class Vt extends HTMLElement{static observedAttributes=["disabled"];static _shadowTemplate=R`
    <template>
      <div id="decrement-button" part="decrement-button" class="button">
        <svg id="decrement-arrow" part="decrement-arrow" viewBox="0 0 100 100" preserveAspectRatio="none">
          <path id="decrement-arrow-path"></path>
        </svg>
      </div>

      <div id="increment-button" part="increment-button" class="button">
        <svg id="increment-arrow" part="increment-arrow" viewBox="0 0 100 100" preserveAspectRatio="none">
          <path id="increment-arrow-path"></path>
        </svg>
      </div>
    </template>
  `;static _shadowStyleSheet=I`:host{display:flex;flex-flow:column-reverse;align-items:center;justify-content:center;box-sizing:border-box;height:100%;width:fit-content;color:rgba(0,0,0,.6)}:host(:hover){cursor:default}:host([disabled=""]){opacity:.5;pointer-events:none}.button{display:flex;align-items:center;justify-content:center;width:100%;height:100%;user-select:none;box-sizing:border-box;color:inherit;border-left:none}.button[data-pressed]{color:#fff;background:rgba(0,0,0,.3)}:host([disabled=decrement]) #decrement-button,:host([disabled=increment]) #increment-button{opacity:.3;pointer-events:none}#increment-arrow{width:11px;height:11px;pointer-events:none;d:path("M 24 69 L 50 43 L 76 69 L 69 76 L 50 58 L 31 76 L 24 69 Z" )}#decrement-arrow{width:11px;height:11px;pointer-events:none;d:path("M 24 32 L 50 58 L 76 32 L 69 25 L 50 44 L 31 25 L 24 32 Z" )}#decrement-arrow-path,#increment-arrow-path{d:inherit;fill:currentColor}`;get disabled(){return!!this.hasAttribute("disabled")&&("increment"===this.getAttribute("disabled")?"increment":"decrement"!==this.getAttribute("disabled")||"decrement")}set disabled(t){!0===t?this.setAttribute("disabled",""):!1===t?this.removeAttribute("disabled"):this.setAttribute("disabled",t)}_shadowRoot=null;I={};xs=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Vt._shadowStyleSheet],this._shadowRoot.append(document.importNode(Vt._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this._shadowRoot.addEventListener("pointerdown",(t=>this.kt(t)))}connectedCallback(){"x-numberinput"===this.parentElement.localName&&(this.xs=this.parentElement,this.xs.setAttribute("hasstepper",""))}disconnectedCallback(){this.xs&&(null===this.xs.querySelector(":scope > x-stepper")&&this.xs.removeAttribute("hasstepper",""),this.xs=null)}attributeChangedCallback(t){"disabled"===t&&this.Ut()}Ut(){this.hasAttribute("disabled")&&(this.removeAttribute("pressed"),this.I["increment-button"].removeAttribute("data-pressed"),this.I["decrement-button"].removeAttribute("data-pressed"))}kt(t){let e=t.target.closest(".button"),i=null;if(e===this.I["increment-button"]?i="increment":e===this.I["decrement-button"]&&(i="decrement"),1===t.buttons&&null!==i){{let s=Date.now();e.setAttribute("data-pressed",""),this.setAttribute("pressed",i),this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",(async t=>{let i=Date.now()-s;i<100&&await Q(100-i),e.removeAttribute("data-pressed"),this.removeAttribute("pressed")}),{once:!0})}{let e=null,s=Date.now(),{shiftKey:h}=t;this.dispatchEvent(new CustomEvent(i+"start",{bubbles:!0})),this.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{shiftKey:h}})),this.addEventListener("lostpointercapture",(t=>{clearInterval(e),this.dispatchEvent(new CustomEvent(i+"end",{bubbles:!0}))}),{once:!0}),e=setInterval((()=>{Date.now()-s>500&&this.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{shiftKey:h}}))}),100)}}}}customElements.define("x-stepper",Vt);class Zt extends HTMLElement{static observedAttributes=["value","size"];static _shadowTemplate=R`
    <template>
      <div id="preview"></div>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:18px;height:18px;cursor:default;box-sizing:border-box;overflow:hidden}#preview{width:100%;height:100%;position:relative}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"white"}set value(t){this.setAttribute("value",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Zt._shadowStyleSheet],this._shadowRoot.append(document.importNode(Zt._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t}connectedCallback(){this.fs(),this.U(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"value"===t?this.fs():"size"===t&&this.U()}fs(){this.I.preview.style.background=this.value}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}}customElements.define("x-swatch",Zt);class Gt extends HTMLElement{static observedAttributes=["toggled","disabled","size"];static _shadowTemplate=R`
    <template>
      <main id="main">
        <div id="indicator" part="indicator">
          <div id="indicator-track" part="indicator-track">
            <div id="indicator-thumb" part="indicator-thumb"></div>
          </div>
        </div>

        <div id="description">
          <slot></slot>
        </div>
      </main>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:fit-content;margin:2px 0}:host([disabled]){opacity:.4;pointer-events:none}#main{display:flex;align-items:center}#indicator{position:relative;width:34px;height:15px;display:flex;align-items:center}#indicator-track{display:flex;align-items:center;width:100%;height:65%;background:currentColor;border-radius:999px}#indicator-thumb{position:absolute;left:0;width:16px;height:16px;background:currentColor;border-radius:999px;transition:left .2s cubic-bezier(.4, 0, .2, 1)}:host([toggled]) #indicator-thumb{left:calc(100% - 16px)}:host([mixed]) #indicator-thumb{left:calc(50% - 16px / 2)}#description{flex:1}`;get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};zt=0;B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Gt._shadowStyleSheet],this._shadowRoot.append(document.importNode(Gt._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("pointerdown",(t=>this.kt(t))),this.addEventListener("click",(t=>this.N(t))),this.addEventListener("keydown",(t=>this._t(t)))}connectedCallback(){F.addEventListener("sizechange",this.B=()=>this.U()),this.St(),this.U()}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"toggled"===t?this.qt():"disabled"===t?this.Ut():"size"===t&&this.U()}St(){this.setAttribute("role","switch"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0)}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}qt(){this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled)}Ut(){this.St()}kt(t){if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();let e=W(this.parentNode,"[tabindex]");e&&e.focus()}}else t.preventDefault()}async N(t){this.mixed?this.mixed=!1:this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle"))}_t(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click())}}customElements.define("x-switch",Gt);let{max:Yt}=Math;class Wt extends HTMLElement{static observedAttributes=["selected","disabled","size"];static _shadowTemplate=R`
    <template>
      <div id="ripples"></div>
      <div id="selection-indicator" part="selection-indicator"></div>
      <div id="content">
        <slot></slot>
      </div>
    </template>
  `;static _shadowStyleSheet=I`:host{position:relative;display:flex;align-items:center;justify-content:center;min-height:30px;padding:2px 12px;box-sizing:border-box;cursor:default;user-select:none;box-sizing:border-box;font-size:14px;--trigger-effect:none}:host(:focus){z-index:10;outline:0}#content{display:inherit;flex-flow:inherit;align-items:inherit;z-index:100}#ripples{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;overflow:hidden;pointer-events:none}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}#selection-indicator{display:none;width:100%;height:0;background:var(--accent-color);position:absolute;bottom:0;left:0}:host([selected]) #selection-indicator{display:block}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):""}set value(t){this.setAttribute("value",t)}get selected(){return this.hasAttribute("selected")}set selected(t){t?this.setAttribute("selected",""):this.removeAttribute("selected")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Wt._shadowStyleSheet],this._shadowRoot.append(document.importNode(Wt._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("pointerdown",(t=>this.kt(t))),this.addEventListener("click",(t=>this.N(t)))}connectedCallback(){this.St(),this.U(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"selected"===t||"disabled"===t?this.St():"size"===t&&this.U()}animateSelectionIndicator(t){return new Promise((async e=>{if("0px"!==this.I["selection-indicator"].style.height){let e=this.getBoundingClientRect(),i=t.getBoundingClientRect(),s=this.I["selection-indicator"].animate([{left:"0px",width:e.width+"px"},{left:i.left-e.left+"px",width:i.width+"px"}],{duration:100,iterations:1,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"});await s.finished}e()}))}St(){this.setAttribute("role","tab"),this.setAttribute("aria-selected",this.selected),this.setAttribute("aria-disabled",this.disabled),this.setAttribute("tabindex",this.selected?"0":"-1")}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}async kt(t){if(!1===this.matches(":focus")){t.preventDefault();let e=W(this.parentNode,"[tabindex]");e&&e.focus()}if(1===t.buttons){{let e=Date.now();this.setAttribute("pressed",""),this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",(async t=>{if(!0===this.selected){let t=Date.now()-e,i=100;t<i&&await Q(i-t)}this.removeAttribute("pressed")}),{once:!0})}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let e=this.I.ripples.getBoundingClientRect(),i=1.5*Yt(e.width,e.height),s=t.clientY-e.y-i/2,h=t.clientX-e.x-i/2,n=new Promise((t=>this.addEventListener("lostpointercapture",t,{once:!0}))),o=G("div");o.setAttribute("part","ripple"),o.setAttribute("class","ripple pointer-down-ripple"),o.setAttribute("style",`width: ${i}px; height: ${i}px; top: ${s}px; left: ${h}px;`),this.I.ripples.append(o),this.setPointerCapture(t.pointerId),o.hidden=!0,await Q(10),o.hidden=!1;let l=o.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await n,await l.finished;let a=getComputedStyle(o).opacity,r=o.animate({opacity:[a,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await r.finished,o.remove()}}}async N(t){if(null===this.I.ripples.querySelector(".pointer-down-ripple")){if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let t=this.I.ripples.getBoundingClientRect(),e=1.5*Yt(t.width,t.height),i=t.y+t.height/2-t.y-e/2,s=t.x+t.width/2-t.x-e/2,h=G("div");h.setAttribute("part","ripple"),h.setAttribute("class","ripple click-ripple"),h.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.I.ripples.append(h);let n=h.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await n.finished;let o=getComputedStyle(h).opacity,l=h.animate({opacity:[o,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await l.finished,h.remove()}}}}customElements.define("x-tab",Wt);class Jt extends HTMLElement{static _shadowTemplate=R`
    <template>
      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{position:relative;display:flex;margin:0 auto;width:fit-content;max-width:100%;box-sizing:border-box;justify-content:center}::slotted(x-tab){flex:0}`;get value(){let t=this.querySelector("x-tab[selected]");return t?t.value:null}set value(t){let e=[...this.querySelectorAll("x-tab")],i=null===t?null:e.find((e=>e.value===t));for(let t of e)t.selected=t===i}_shadowRoot=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Jt._shadowStyleSheet],this._shadowRoot.append(document.importNode(Jt._shadowTemplate.content,!0)),this.addEventListener("click",(t=>this.N(t))),this.addEventListener("keydown",(t=>this._t(t)))}connectedCallback(){this.setAttribute("role","tablist")}async N(t){if(0===t.button&&t.target.closest("x-tab")){let e=this.querySelectorAll("x-tab"),i=t.target.closest("x-tab"),s=this.querySelector("x-tab[selected]");if(i!==s){s&&await s.animateSelectionIndicator(i);for(let t of e)t.selected=t===i;this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}}}_t(t){if("Enter"===t.code||"Space"===t.code){let e=t.target;e.querySelector("x-label"),t.preventDefault(),e.click()}else if("ArrowLeft"===t.code){let e=[...this.querySelectorAll("x-tab:not([disabled])")],i=this.querySelector('x-tab[tabindex="0"]');if(t.target,t.preventDefault(),i&&e.length>0){let t=e.indexOf(i),s=e[t-1]||e[e.length-1];i.tabIndex=-1,s.tabIndex=0,s.focus()}}else if("ArrowRight"===t.code){let e=[...this.querySelectorAll("x-tab:not([disabled])")],i=this.querySelector('x-tab[tabindex="0"]');if(t.target,t.preventDefault(),i&&e.length>0){let t=e.indexOf(i),s=e[t+1]||e[0];i.tabIndex=-1,s.tabIndex=0,s.focus()}}}}customElements.define("x-tabs",Jt);class Qt extends HTMLElement{static observedAttributes=["disabled","size"];static _shadowTemplate=R`
    <template>
      <div id="container">
        <div id="scope" part="scope">
          <slot id="scope-slot" name="scope"></slot>
        </div>

        <main id="main" part="main">
          <slot></slot>

          <svg id="remove-button" part="remove-button" viewBox="0 0 100 100">
            <path id="remove-button-path"></path>
          </svg>
        </main>
      </div>
    </template>
  `;static _shadowStyleSheet=I`:host{display:inline-block;height:25px;box-sizing:border-box;overflow:hidden;color:var(--text-color);border-width:1px;border-style:solid}:host([toggled]){background:gray;color:#fff;outline:0}:host([disabled]){opacity:.5}:host([hidden]){display:none}:host(:focus){outline:0}#container{width:100%;height:100%;display:flex;align-items:center;justify-content:center}#scope{height:100%;padding:0 6px;display:none;align-items:center;justify-content:center;border-right-width:1px;border-right-style:solid}:host([scoped]) #scope{display:flex}#main{height:100%;padding:0 6px;display:flex;align-items:center;justify-content:center}#remove-button{display:none;opacity:.8;width:12px;height:12px;vertical-align:middle;margin-left:4px;d:path("M 25 16 L 50 41 L 75 16 L 84 25 L 59 50 L 84 75 L 75 84 L 50 59 L 25 84 L 16 75 L 41 50 L 16 25 Z");fill:currentColor;color:inherit}:host([removable]) #remove-button{display:block}#remove-button:hover{background:rgba(0,0,0,.1);opacity:1}#remove-button path{d:inherit;fill:inherit;pointer-events:none}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get removable(){return this.hasAttribute("removable")}set removable(t){t?this.setAttribute("removable",""):this.removeAttribute("removable")}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Qt._shadowStyleSheet],this._shadowRoot.append(document.importNode(Qt._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.I["scope-slot"].addEventListener("slotchange",(()=>this.ws())),this.I["remove-button"].addEventListener("click",(t=>this.vs(t)))}connectedCallback(){this.U(),this.ws(),F.addEventListener("sizechange",this.B=()=>this.U()),this.closest("x-tags")?(this.tabIndex=0,this.removable=!1):this.closest("x-tagsinput")?(this.toggled=!1,this.tabIndex=0,this.removable=!0):this.removable=!1}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"size"===t&&this.U()}vs(t){0===t.buttons&&this.dispatchEvent(new CustomEvent("remove",{bubbles:!0}))}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}ws(){0===this.I["scope-slot"].assignedElements().length?this.removeAttribute("scoped"):this.setAttribute("scoped","")}}customElements.define("x-tag",Qt);class te extends HTMLElement{static _shadowTemplate=R`
    <template>
      <slot></slot>
    </template>
  `;static _shadowStyleSheet=I`:host{display:flex;box-sizing:border-box;align-items:center;justify-content:flex-start}:host([hidden]){display:none}`;get value(){return[...this.children].filter((t=>"x-tag"===t.localName)).filter((t=>t.toggled)).map((t=>t.value)).filter((t=>null!==t))}set value(t){let e=[...this.children].filter((t=>"x-tag"===t.localName));for(let i of e)i.toggled=t.includes(i.value)}_shadowRoot=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[te._shadowStyleSheet],this._shadowRoot.append(document.importNode(te._shadowTemplate.content,!0)),this.addEventListener("pointerdown",(t=>this.kt(t))),this.addEventListener("click",(t=>this.N(t))),this.addEventListener("keydown",(t=>this._t(t)))}kt(t){if(1===t.buttons){if(t.preventDefault(),!1===this.matches(":focus")){let t=W(this.parentNode,"*[tabindex]:not(a)");this.addEventListener("lostpointercapture",(()=>{t?t.focus():this.blur()}),{once:!0})}}else t.preventDefault()}N(t){let e=t.target.closest("x-tag");e&&!1===t.defaultPrevented&&(e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{detail:e})))}_t(t){if(!1===t.defaultPrevented)if("Enter"===t.code||"Space"===t.code){let e=this.querySelector("x-tag:focus");e&&(t.preventDefault(),e.click())}else if("ArrowRight"===t.key){let t=this.querySelector("x-tag:focus");t&&(t.nextElementSibling?t.nextElementSibling.focus():t!==t.parentElement.firstElementChild&&t.parentElement.firstElementChild.focus())}else if("ArrowLeft"===t.key){let t=this.querySelector("x-tag:focus");t&&(t.previousElementSibling?t.previousElementSibling.focus():t!==t.parentElement.lastElementChild&&t.parentElement.lastElementChild.focus())}}}customElements.define("x-tags",te);class ee extends HTMLElement{static observedAttributes=["spellcheck","disabled","size"];static _shadowTemplate=R`
    <template>
      <main id="main">
        <div id="tags">
          <slot></slot>
          <span id="input" part="input" spellcheck="false" tabindex="0"></span>
        </div>
      </main>

      <x-popover id="suggestions-popover" part="suggestions">
        <div id="suggested-tags"></div>
      </x-popover>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;position:relative;min-height:29px;border:1px solid #bfbfbf;font-size:12px}:host(:focus){z-index:10}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{width:100%;height:100%;cursor:text}#tags{display:flex;flex-wrap:wrap}:host([mixed]) #tags{opacity:.7}#input{align-items:center;justify-content:flex-start;height:25px;margin:2px;padding:0 3px 0 6px;box-sizing:border-box;line-height:25px;color:inherit;outline:0;white-space:pre;cursor:text;user-select:text;pointer-events:none}#input[contenteditable]:focus{flex-grow:1;pointer-events:all}#suggestions-popover{width:200px;max-height:200px;padding:4px;box-sizing:border-box}#suggestions-popover #suggested-tags{flex:1;overflow:auto}#suggestions-popover x-tag{display:block;margin:4px 0 0 0}#suggestions-popover x-tag:first-child{margin-top:0}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}`;get value(){return[...this.children].filter((t=>"x-tag"===t.localName)).map((t=>t.value)).filter((t=>null!==t))}get delimiter(){return this.hasAttribute("delimiter")?this.getAttribute("delimiter"):","}set delimiter(t){this.setAttribute("delimiter",t)}get spellcheck(){return this.hasAttribute("spellcheck")}set spellcheck(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get required(){return this.hasAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get suggestions(){return this.hasAttribute("suggestions")}set suggestions(t){t?this.setAttribute("suggestions",""):this.removeAttribute("suggestions")}get error(){return this.getAttribute("error")}set error(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};zt=0;B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed",delegatesFocus:!0}),this._shadowRoot.adoptedStyleSheets=[F.themeStyleSheet,ee._shadowStyleSheet],this._shadowRoot.append(document.importNode(ee._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("focusout",(t=>this.matches(":focus-within")?null:this.ee(t))),this.I.input.addEventListener("focusin",(t=>this.ys(t))),this.I.input.addEventListener("focusout",(t=>this.zs(t))),this._shadowRoot.addEventListener("pointerdown",(t=>this.yi(t))),this._shadowRoot.addEventListener("remove",(t=>this.vs(t))),this._shadowRoot.addEventListener("keydown",(t=>this._t(t))),this.I.input.addEventListener("input",(t=>this.we(t)))}connectedCallback(){this.ks(),this.St(),this.U(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t,e,i){e!==i&&("spellcheck"===t?this.ze():"disabled"===t?this.Ut():"size"===t&&this.lt())}clear(){let t=[...this.children].filter((t=>"x-tag"===t.localName));if(t.length>0){for(let e of t)e.remove(),this.dispatchEvent(new CustomEvent("remove",{detail:e}));this.error=null,this._s(),this.ks(),this.dispatchEvent(new CustomEvent("change"))}}getSuggestions(t){return[]}Cs(){let t=new Range;t.selectNodeContents(this.I.input);let e=t.getBoundingClientRect();return 0===e.x&&0===e.width&&(e=this.I.input.getBoundingClientRect(),e.width=20),e}Ss(){let t=this.I.input.textContent.trim();if(this.I.input.textContent="",t.length>0&&!1===this.value.includes(t)){let e;if(t.includes(":")){let[i,s]=t.split(":").map((t=>t.trim()));e=R`
            <x-tag class="tag" value="${t}" removable>
              <x-label slot="scope">${i}</x-label>
              <x-label>${s}</x-label>
            </x-tag>
          `}else e=R`
            <x-tag class="tag" value="${t}" removable>
              <x-label>${t}</x-label>
            </x-tag>
          `;this.append(e),this._s(),this.ks(),this.dispatchEvent(new CustomEvent("add",{detail:e})),this.dispatchEvent(new CustomEvent("change"))}}yi(t){if(t.target===this.I.main||t.target===this.I.tags)t.preventDefault(),this.I.input.setAttribute("contenteditable",""),this.Es();else if(t.target===this.I.input)this.I.input.setAttribute("contenteditable",""),this._s();else if(t.target.closest("x-popover")){t.preventDefault();let e=t.target.closest("x-tag");e&&(this.I.input.textContent="",this.I["suggestions-popover"].close(),this.append(e),this.dispatchEvent(new CustomEvent("add",{detail:e})),this.dispatchEvent(new CustomEvent("change")))}else t.target.closest("x-tag")&&(this.I.input.focus(),this.Ss())}vs(t){t.stopPropagation();let e=t.target;e.remove(),this.ks(),this.dispatchEvent(new CustomEvent("remove",{detail:e})),this.dispatchEvent(new CustomEvent("change"))}ze(){this.I.input.spellcheck=this.spellcheck}Ut(){this.St()}lt(){this.U()}ee(){if(this.required){0===[...this.children].filter((t=>"x-tag"===t.localName)).length&&(this.error="This field is required")}}async ys(){this.I.input.setAttribute("contenteditable",""),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0})),await Q(10),this.I.input.matches(":focus")&&(this.Es(),this._s())}zs(){this.Ss(),this.I.input.removeAttribute("contenteditable"),this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),this.hasAttribute("error")&&(this.I.input.textContent="",this.removeAttribute("error")),this.I["suggestions-popover"].close()}we(t){this.I.input.textContent.includes(this.delimiter)&&this.Ss(),this.ks(),this.hasAttribute("error")&&this.removeAttribute("error"),this.dispatchEvent(new CustomEvent("input")),this._s(t.inputType)}_t(t){if("Enter"===t.key)t.target===this.I.input&&(t.preventDefault(),this.Ss());else if("Backspace"===t.key){if(t.target===this.I.input){if(0===this.I.input.textContent.length){let t=[...this.children].filter((t=>"x-tag"===t.localName)),e=t[t.length-1]||null;e&&(e.remove(),this._s(),this.ks(),this.dispatchEvent(new CustomEvent("remove",{detail:e})),this.dispatchEvent(new CustomEvent("change")))}}else if("x-tag"===t.target.localName){let e=[...this.children].filter((t=>"x-tag"===t.localName)),i=t.target,s=e.indexOf(i),h=e[s+1]||null,n=e[s-1]||null;h?h.focus():n?n.focus():this.I.input.focus(),i.remove(),this.ks(),this.dispatchEvent(new CustomEvent("remove",{detail:i})),this.dispatchEvent(new CustomEvent("change"))}}else if("ArrowDown"===t.key){if(this.I["suggestions-popover"].opened){let e=[...this.I["suggested-tags"].children];if(e.length>1){t.preventDefault();let i=null;{let t=e.find((t=>t.toggled));if(t){t.toggled=!1;let s=e.indexOf(t);i=e[s+1]||e[0]}else i=e[0]}i.toggled=!0,i.scrollIntoViewIfNeeded();{let t=this._shadowRoot.getSelection().getRangeAt(0).startOffset,e=i.querySelector("x-label").textContent;this.I.input.textContent=e,this.Es(t,e.length)}}}}else if("ArrowUp"===t.key&&this.I["suggestions-popover"].opened){let e=[...this.I["suggested-tags"].children];if(e.length>1){t.preventDefault();let i=null;{let t=e.find((t=>t.toggled));if(t){t.toggled=!1;let s=e.indexOf(t);i=e[s-1]||e[e.length-1]}else i=e[e.length-1]}i.toggled=!0,i.scrollIntoViewIfNeeded();{let t=this._shadowRoot.getSelection().getRangeAt(0).startOffset,e=i.querySelector("x-label").textContent;this.I.input.textContent=e,this.Es(t,e.length)}}}}nt(){this.ks()}ks(){let t=this.querySelector(":scope > x-label");t&&(t.hidden=this.value.length>0||this.I.input.textContent.length>0)}St(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0)}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}Es(t=0,e=this.I.input.textContent.length){let i=new Range;0===t&&e===this.I.input.textContent.length?i.selectNodeContents(this.I.input):(i.setStart(this.I.input.firstChild,t),i.setEnd(this.I.input.firstChild,e));let s=window.getSelection();s.removeAllRanges(),s.addRange(i)}_s(t="insertText"){if(this.suggestions){let e=this.I.input.textContent,i=this._shadowRoot.getSelection().getRangeAt(0);!1===i.collapsed&&(e=e.substring(0,i.startOffset));let s=this.getSuggestions(e);if(s.length>0&&"deleteContentBackward"!==t){let t=this.I.input.textContent,e=s[0].querySelector("x-label").textContent,i=this.I.input.firstChild;i&&(i.textContent=e,this.Es(t.length,e.length))}if(0===s.length)this.I["suggested-tags"].innerHTML="",!0===this.I["suggestions-popover"].opened&&this.I["suggestions-popover"].close();else{let i=this.Cs();this.I["suggested-tags"].innerHTML="",this.I["suggested-tags"].append(...s),"deleteContentBackward"!==t&&e.length>0&&(s[0].toggled=!0),!1===this.I["suggestions-popover"].opened||this.I["suggestions-popover"].close(!1),this.I["suggestions-popover"].open(i),this.I["suggested-tags"].scrollTop=0}}}}customElements.define("x-tagsinput",ee);class ie extends HTMLElement{static observedAttributes=["value","spellcheck","disabled","validation","size"];static _shadowTemplate=R`
    <template>
      <main id="main">
        <slot></slot>
        <div id="editor" contenteditable="plaintext-only" spellcheck="false"></div>
      </main>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;position:relative;width:100%;min-height:100px;box-sizing:border-box;background:#fff;font-size:12.5px;overflow:auto}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}::-webkit-scrollbar{max-width:6px;max-height:6px;background:0 0}::-webkit-scrollbar-track{border-radius:25px}::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.2);border-radius:25px}::-webkit-scrollbar-corner{display:none}#main{display:flex;flex-flow:column;width:100%;min-height:100%}#editor{flex:1;padding:2px 6px;box-sizing:border-box;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit}:host([error])::before{position:absolute;left:0;bottom:-20px;box-sizing:border-box;font-family:inherit;font-size:11px;line-height:1.2;white-space:pre;content:attr(error) " "}`;get value(){return this.I.editor.textContent}set value(t){this.I.editor.textContent=t,"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),this.ge()}get spellcheck(){return this.hasAttribute("spellcheck")}set spellcheck(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck")}get minLength(){return this.hasAttribute("minlength")?parseInt(this.getAttribute("minlength")):0}set minLength(t){this.setAttribute("minlength",t)}get maxLength(){return this.hasAttribute("maxlength")?parseInt(this.getAttribute("maxlength")):Infinity}set maxLength(t){this.setAttribute("maxlength",t)}get required(){return this.hasAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get validation(){return this.hasAttribute("validation")?this.getAttribute("validation"):"auto"}set validation(t){this.setAttribute("validation",t)}get error(){return this.getAttribute("error")}set error(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};zt=0;B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed",delegatesFocus:!0}),this._shadowRoot.adoptedStyleSheets=[ie._shadowStyleSheet],this._shadowRoot.append(document.importNode(ie._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.addEventListener("focusin",(t=>this.xe(t))),this.addEventListener("focusout",(t=>this.fe(t))),this.I.editor.addEventListener("click",(t=>this.As(t))),this.I.editor.addEventListener("input",(t=>this.ki(t)))}connectedCallback(){this.ge(),this.St(),this.U(),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t){"value"===t?this.ot():"spellcheck"===t?this.ze():"disabled"===t?this.Ut():"validation"===t?this.Ce():"size"===t&&this.lt()}validate(){this.value.length<this.minLength?this.error="Entered text is too short":this.value.length>this.maxLength?this.error="Entered text is too long":this.required&&0===this.value.length?this.error="This field is required":this.error=null}ge(){0===this.value.length?this.setAttribute("empty",""):this.removeAttribute("empty")}St(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0)}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}ot(){this.value=this.hasAttribute("value")?this.getAttribute("value"):"",this.matches(":focus")&&document.execCommand("selectAll")}ze(){this.I.editor.spellcheck=this.spellcheck}Ut(){this.I.editor.disabled=this.disabled,this.St()}Ce(){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate()}lt(){this.U()}xe(){this.Ls=this.value,this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}))}fe(){this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),this._shadowRoot.getSelection().collapse(this.I.main),"auto"===this.validation&&this.validate(),null!==this.error||this.value===this.Ls&&!this.mixed||(this.mixed=!1,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))}As(t){t.detail>=4&&document.execCommand("selectAll")}ki(t){this.dispatchEvent(new CustomEvent("input",{bubbles:!0})),this.ge(),("instant"===this.validation||"auto"===this.validation&&null!==this.error)&&this.validate()}}customElements.define("x-texteditor",ie);class se extends HTMLElement{static observedAttributes=["type","size"];static Ts=R`
    <template>
      <svg data-type="ring" viewBox="0 0 100 100">
        <ellipse ry="40" rx="40" cy="50" cx="50" stroke-width="10"/>
      </svg>
    </template>
  `;static Ms=R`
    <template>
      <svg data-type="spin" viewBox="0 0 100 100">
        <rect transform="rotate(  0 50 50) translate(0 -38)"></rect>
        <rect transform="rotate( 30 50 50) translate(0 -38)"></rect>
        <rect transform="rotate( 60 50 50) translate(0 -38)"></rect>
        <rect transform="rotate( 90 50 50) translate(0 -38)"></rect>
        <rect transform="rotate(120 50 50) translate(0 -38)"></rect>
        <rect transform="rotate(150 50 50) translate(0 -38)"></rect>
        <rect transform="rotate(180 50 50) translate(0 -38)"></rect>
        <rect transform="rotate(210 50 50) translate(0 -38)"></rect>
        <rect transform="rotate(240 50 50) translate(0 -38)"></rect>
        <rect transform="rotate(270 50 50) translate(0 -38)"></rect>
        <rect transform="rotate(300 50 50) translate(0 -38)"></rect>
        <rect transform="rotate(330 50 50) translate(0 -38)"></rect>
      </svg>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:30px;height:30px;box-sizing:border-box}:host([hidden]){display:none}:host([type=ring]){color:#4285f4}:host([type=spin]){color:#404040}svg{color:inherit;width:100%;height:100%}svg[data-type=ring] ellipse{fill:none;stroke:currentColor;stroke-linecap:round;stroke-dasharray:10,1000;animation:ring-dash-animation 2s cubic-bezier(.8,.25,.25,.9) infinite,ring-rotate-animation 2s linear infinite;transform-origin:center}@keyframes ring-rotate-animation{to{transform:rotate(360deg)}}@keyframes ring-dash-animation{50%{stroke-dasharray:200;stroke-dashoffset:0}100%{stroke-dasharray:245;stroke-dashoffset:-260}}svg[data-type=spin] rect{x:46.5px;y:40px;width:7px;height:22px;rx:5px;ry:5px;fill:currentColor;animation-name:spin-animation;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite;animation-delay:0s}svg[data-type=spin] rect:nth-child(1){animation-delay:calc(1s *  1/12)}svg[data-type=spin] rect:nth-child(2){animation-delay:calc(1s *  2/12)}svg[data-type=spin] rect:nth-child(3){animation-delay:calc(1s *  3/12)}svg[data-type=spin] rect:nth-child(4){animation-delay:calc(1s *  4/12)}svg[data-type=spin] rect:nth-child(5){animation-delay:calc(1s *  5/12)}svg[data-type=spin] rect:nth-child(6){animation-delay:calc(1s *  6/12)}svg[data-type=spin] rect:nth-child(7){animation-delay:calc(1s *  7/12)}svg[data-type=spin] rect:nth-child(8){animation-delay:calc(1s *  8/12)}svg[data-type=spin] rect:nth-child(9){animation-delay:calc(1s *  9/12)}svg[data-type=spin] rect:nth-child(10){animation-delay:calc(1s * 10/12)}svg[data-type=spin] rect:nth-child(11){animation-delay:calc(1s * 11/12)}svg[data-type=spin] rect:nth-child(12){animation-delay:calc(1s * 12/12)}@keyframes spin-animation{0%{opacity:1}100%{opacity:0}}`;get type(){return this.hasAttribute("type")?this.getAttribute("type"):"ring"}set type(t){this.setAttribute("type",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;B=null;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[se._shadowStyleSheet]}connectedCallback(){this.nt(),this.U(),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t,e,i){e!==i&&("type"===t?this.nt():"size"===t&&this.U())}nt(){let t=this._shadowRoot.firstElementChild,e="ring"===this.type?se.Ts:se.Ms;null===t?this._shadowRoot.append(document.importNode(e.content,!0)):t.dataset.type!==this.type&&t.replaceWith(document.importNode(e.content,!0)),!1===this.hasAttribute("type")&&this.setAttribute("type",this.type)}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}}customElements.define("x-throbber",se);let{PI:he,sqrt:ne,atan2:oe,sin:le,cos:ae,pow:re}=Math;class de extends HTMLElement{static observedAttributes=["value","size"];static _shadowTemplate=R`
    <template>
      <x-box vertical>
        <div id="huesat-slider">
          <img id="huesat-image"></img>
          <div id="huesat-marker"></div>
        </div>

        <div id="value-slider">
          <div id="value-slider-track">
            <div id="value-slider-marker"></div>
          </div>
        </div>

        <div id="alpha-slider">
          <div id="alpha-slider-gradient"></div>
          <div id="alpha-slider-track">
            <div id="alpha-slider-marker"></div>
          </div>
        </div>
      </x-box>
    </template>
  `;static _shadowStyleSheet=I`:host{display:block;width:100%;user-select:none;--wheel-max-width:none}:host([hidden]){display:none}#huesat-slider{display:flex;position:relative;width:100%;max-width:var(--wheel-max-width);margin:0 auto;height:auto;touch-action:pinch-zoom}#huesat-image{width:100%;height:100%;border-radius:999px;pointer-events:none}#huesat-marker{position:absolute;top:0;left:0;width:var(--marker-size);height:var(--marker-size);transform:translate(calc(var(--marker-size)/ -2),calc(var(--marker-size)/ -2));box-sizing:border-box;background:rgba(0,0,0,.3);border:3px solid #fff;border-radius:999px;box-shadow:0 0 3px #000;--marker-size:20px}#value-slider{width:100%;height:30px;margin-top:10px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #value-slider{height:24px}:host([computedsize=large]) #value-slider{height:35px}#value-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#value-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#alpha-slider{position:relative;display:none;width:100%;height:30px;margin-top:14px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)"}set value(t){this.setAttribute("value",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}_shadowRoot=null;I={};B=null;X=0;V=0;ji=100;G=1;Ds=!1;$s=!1;tt=!1;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[de._shadowStyleSheet],this._shadowRoot.append(document.importNode(de._shadowTemplate.content,!0));for(let t of this._shadowRoot.querySelectorAll("[id]"))this.I[t.id]=t;this.I["huesat-slider"].addEventListener("pointerdown",(t=>this.Ps(t))),this.I["value-slider"].addEventListener("pointerdown",(t=>this.Rs(t))),this.I["alpha-slider"].addEventListener("pointerdown",(t=>this.ht(t)))}async connectedCallback(){this.nt(),this.U(),""===this.I["huesat-image"].src&&(this.I["huesat-image"].src=await L()),F.addEventListener("sizechange",this.B=()=>this.U())}disconnectedCallback(){F.removeEventListener("sizechange",this.B)}attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"size"===t&&this.lt())}nt(){this.Is(),this.Os(),this.Bs(),this.gt(),this.xt()}Is(){let t=this.X,e=this.V,i=100,s=u(t),h=e/100*i/2,n=50,o=(i-(50+h*ae(s)))/i*100,l=(n-h*le(s))/i*100;this.I["huesat-marker"].style.left=o+"%",this.I["huesat-marker"].style.top=l+"%"}Os(){this.I["value-slider-marker"].style.left=100-l(this.ji,0,100,2)+"%"}Bs(){let t=C([this.X,this.V,100,1],"hsva","hex");this.I["value-slider"].style.background=`linear-gradient(to right, rgba(0,0,0,0), rgba(0,0,0,1)), ${t}`}gt(){this.I["alpha-slider-marker"].style.left=l(100*(1-this.G),0,100,2)+"%"}xt(){let[t,e,i]=z(this.X,this.V,this.ji).map((t=>n(t,0)));this.I["alpha-slider-gradient"].style.background=`\n      linear-gradient(to right, rgba(${t}, ${e}, ${i}, 1), rgba(${t}, ${e}, ${i}, 0))\n    `}U(){let t=F.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}ot(){if(!1===this.Ds&&!1===this.$s&&!1===this.tt){let[t,e,i,s]=(new D).parse(this.value,"hsva");this.X=t,this.V=e,this.ji=i,this.G=s,this.nt()}}lt(){this.U()}Ps(t){if(1!==t.buttons)return;let e,i,s=this.I["huesat-slider"].getBoundingClientRect();this.Ds=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.I["huesat-slider"].style.cursor="default",this.I["huesat-slider"].setPointerCapture(t.pointerId);let h=(t,e)=>{let i=s.width/2,h=t-s.left-i,o=e-s.top-i,l=re(h,2)+re(o,2),a=oe(o,h);l>re(i,2)&&(h=i*ae(a),o=i*le(a),l=re(h,2)+re(o,2),a=oe(o,h)),this.X=n((a+he)/(2*he)*360,3),this.V=n(ne(l)/i*100,3),this.value=C([this.X,this.V,this.ji,this.G],"hsva","hsla"),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Is(),this.Bs(),this.xt()};h(t.clientX,t.clientY),this.I["huesat-slider"].addEventListener("pointermove",e=t=>{h(t.clientX,t.clientY)}),this.I["huesat-slider"].addEventListener("lostpointercapture",i=t=>{this.I["huesat-slider"].removeEventListener("pointermove",e),this.I["huesat-slider"].removeEventListener("lostpointercapture",i),this.I["huesat-slider"].style.cursor=null,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.Ds=!1})}Rs(t){if(1!==t.buttons)return;let e,i,s=this.I["value-slider-track"].getBoundingClientRect();this.$s=!0,this.I["value-slider"].style.cursor="default",this.I["value-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let h=t=>{let e=100-(t-s.x)/s.width*100;e=l(e,0,100,2),e!==this.ji&&(this.ji=e,this.value=C([this.X,this.V,this.ji,this.G],"hsva","hsla"),this.Os(),this.xt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};h(t.clientX),this.I["value-slider"].addEventListener("pointermove",e=t=>{h(t.clientX)}),this.I["value-slider"].addEventListener("lostpointercapture",i=()=>{this.I["value-slider"].removeEventListener("pointermove",e),this.I["value-slider"].removeEventListener("lostpointercapture",i),this.I["value-slider"].style.cursor=null,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.$s=!1})}ht(t){if(1!==t.buttons)return;let e,i,s=this.I["alpha-slider-track"].getBoundingClientRect();this.tt=!0,this.I["alpha-slider"].style.cursor="default",this.I["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let h=t=>{let e=1-(t-s.x)/s.width;e=l(e,0,1,2),e!==this.G&&(this.G=e,this.value=C([this.X,this.V,this.ji,this.G],"hsva","hsla"),this.gt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};h(t.clientX),this.I["alpha-slider"].addEventListener("pointermove",e=t=>{h(t.clientX)}),this.I["alpha-slider"].addEventListener("lostpointercapture",i=()=>{this.I["alpha-slider"].removeEventListener("pointermove",e),this.I["alpha-slider"].removeEventListener("lostpointercapture",i),this.I["alpha-slider"].style.cursor=null,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.tt=!1})}}customElements.define("x-wheelcolorpicker",de);export{F as default};